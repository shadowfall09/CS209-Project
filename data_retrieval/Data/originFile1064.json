{"items":[{"tags":["java","spring","multithreading","spring-boot"],"comments":[{"owner":{"account_id":9225619,"reputation":1240,"user_id":9107502,"display_name":"0x1C1B"},"score":2,"creation_date":1662107617,"post_id":73579464,"comment_id":129934159,"body_markdown":"It is not clear to me, what you try to achieve and especially what it has to do with Spring. Maybe [this](https://stackoverflow.com/a/2314575/9107502) answer will help you.","body":"It is not clear to me, what you try to achieve and especially what it has to do with Spring. Maybe <a href=\"https://stackoverflow.com/a/2314575/9107502\">this</a> answer will help you."},{"owner":{"account_id":26225382,"reputation":1,"user_id":19902142,"display_name":"Elbrus Hasanzade"},"score":0,"creation_date":1662115513,"post_id":73579464,"comment_id":129936706,"body_markdown":"I want do it in Spring thats why I especially tagged Spring, I want to achieve that there are two feign client calling in one controller and I want it call 2 feign clients &quot;same &quot; time with Threads and after that if first Thread have response set it to response , if not second Thread answer will set to response.","body":"I want do it in Spring thats why I especially tagged Spring, I want to achieve that there are two feign client calling in one controller and I want it call 2 feign clients &quot;same &quot; time with Threads and after that if first Thread have response set it to response , if not second Thread answer will set to response."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699276360,"post_id":73579464,"comment_id":136507196,"body_markdown":"Not exactly a duplicate but addressing the same problem: https://stackoverflow.com/a/75029179/2711488","body":"Not exactly a duplicate but addressing the same problem: <a href=\"https://stackoverflow.com/a/75029179/2711488\">stackoverflow.com/a/75029179/2711488</a>"}],"answers":[{"tags":[],"owner":{"account_id":26201404,"reputation":1,"user_id":19881716,"display_name":"Skint"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662106002,"creation_date":1662106002,"answer_id":73579550,"question_id":73579464,"body_markdown":"You could set an environment variable and if not a global variable maybe stuff into a control file that each thread could read. Or even a data base entry.","title":"Can I run 2 threads same time and set one Result on java?","body":"<p>You could set an environment variable and if not a global variable maybe stuff into a control file that each thread could read. Or even a data base entry.</p>\n"},{"tags":[],"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662127238,"creation_date":1662127238,"answer_id":73583742,"question_id":73579464,"body_markdown":"you could try CompletableFuture, e.g.\r\n\r\n    CompletableFuture&lt;String&gt; future1  \r\n      = CompletableFuture.supplyAsync(() -&gt; firstApi());\r\n    CompletableFuture&lt;String&gt; future2  \r\n      = CompletableFuture.supplyAsync(() -&gt; secondApi());\r\n    \r\n    CompletableFuture&lt;Void&gt; combinedFuture \r\n      = CompletableFuture.allOf(future1, future2);\r\n    \r\n    // wait for completion\r\n    combinedFuture.get();\r\n    \r\n    // check and return results, e.g.\r\n    String result1 = future1.get();\r\n    if(null == result1) {\r\n      return future2.get();\r\n    }\r\n    return result1;\r\n\r\nhttps://www.baeldung.com/java-completablefuture","title":"Can I run 2 threads same time and set one Result on java?","body":"<p>you could try CompletableFuture, e.g.</p>\n<pre><code>CompletableFuture&lt;String&gt; future1  \n  = CompletableFuture.supplyAsync(() -&gt; firstApi());\nCompletableFuture&lt;String&gt; future2  \n  = CompletableFuture.supplyAsync(() -&gt; secondApi());\n\nCompletableFuture&lt;Void&gt; combinedFuture \n  = CompletableFuture.allOf(future1, future2);\n\n// wait for completion\ncombinedFuture.get();\n\n// check and return results, e.g.\nString result1 = future1.get();\nif(null == result1) {\n  return future2.get();\n}\nreturn result1;\n</code></pre>\n<p><a href=\"https://www.baeldung.com/java-completablefuture\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-completablefuture</a></p>\n"}],"owner":{"account_id":26225382,"reputation":1,"user_id":19902142,"display_name":"Elbrus Hasanzade"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662127238,"creation_date":1662105536,"question_id":73579464,"body_markdown":"I want create 2 threads and run them both at the same time. I want put condition that if the first thread answer data null or empty I want set the other thread response (it can be null or empty I don&#39;t need put restriction). How can I do it, any suggestions? I want it to do in Spring Framework.","title":"Can I run 2 threads same time and set one Result on java?","body":"<p>I want create 2 threads and run them both at the same time. I want put condition that if the first thread answer data null or empty I want set the other thread response (it can be null or empty I don't need put restriction). How can I do it, any suggestions? I want it to do in Spring Framework.</p>\n"},{"tags":["java","android","android-fragments","android-activity","textfield"],"comments":[{"owner":{"account_id":7521101,"reputation":616,"user_id":5712938,"display_name":"grabarz121"},"score":0,"creation_date":1534416684,"post_id":51875079,"comment_id":90701849,"body_markdown":"Activity in your case it&#39;s view container for fragments content, so all what you&#39;ll put into activity layout, will be displayed in each fragment layout. You can control your TextView&#39;s visibility, or remove this from activity layout and add to the specific fragment layout.","body":"Activity in your case it&#39;s view container for fragments content, so all what you&#39;ll put into activity layout, will be displayed in each fragment layout. You can control your TextView&#39;s visibility, or remove this from activity layout and add to the specific fragment layout."},{"owner":{"account_id":2466481,"reputation":2619,"user_id":2149453,"display_name":"Himeshgiri gosvami"},"score":0,"creation_date":1534418150,"post_id":51875079,"comment_id":90702750,"body_markdown":"add background color on your  Hamburger Fragment will resolve your issue. also do not forget to set onClickable =true on your xml","body":"add background color on your  Hamburger Fragment will resolve your issue. also do not forget to set onClickable =true on your xml"}],"answers":[{"tags":[],"owner":{"account_id":6061658,"reputation":1196,"user_id":4733231,"display_name":"jujka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662126970,"creation_date":1534416683,"answer_id":51875283,"question_id":51875079,"body_markdown":"It&#39;s fairly simple: what you are doing is adding fragment to the `ConstraintLayout` that you have. It does not remove `TextView` you have, rather just adds fragment&#39;s UI elements after it. \r\n\r\nWhat you should do to retain your design:\r\n\r\n1. Add another element, `FrameLayout` will do, after that `TextBox` and move your id `fragmentContent` to it from your `ConstraintLayout`\r\n    ```xml\r\n    &lt;android.support.constraint.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/welcome&quot;\r\n            android:layout_width=&quot;300dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerInParent=&quot;true&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:layout_marginBottom=&quot;8dp&quot;\r\n            android:layout_marginEnd=&quot;8dp&quot;\r\n            android:layout_marginStart=&quot;8dp&quot;\r\n            android:layout_marginTop=&quot;8dp&quot; /&gt;\r\n\r\n         &lt;FrameLayout\r\n            android:id=&quot;@+id/fragmentContent&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n    &lt;/android.support.constraint.ConstraintLayout&gt;\r\n    ```\r\n\r\n2. Make transaction towards it, just like you are already doing:\r\n   ```java\r\n   fragmentManager.beginTransaction().replace(R.id.fragmentContent, mfragment).addToBackStack(null).commit();\r\n   ```","title":"Strange situation: text from MainActivity being shown in every fragment","body":"<p>It's fairly simple: what you are doing is adding fragment to the <code>ConstraintLayout</code> that you have. It does not remove <code>TextView</code> you have, rather just adds fragment's UI elements after it.</p>\n<p>What you should do to retain your design:</p>\n<ol>\n<li><p>Add another element, <code>FrameLayout</code> will do, after that <code>TextBox</code> and move your id <code>fragmentContent</code> to it from your <code>ConstraintLayout</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;android.support.constraint.ConstraintLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/welcome&quot;\n        android:layout_width=&quot;300dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:layout_marginBottom=&quot;8dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginTop=&quot;8dp&quot; /&gt;\n\n     &lt;FrameLayout\n        android:id=&quot;@+id/fragmentContent&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n</li>\n<li><p>Make transaction towards it, just like you are already doing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>fragmentManager.beginTransaction().replace(R.id.fragmentContent, mfragment).addToBackStack(null).commit();\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":14165594,"reputation":505,"user_id":10233647,"display_name":"The_Long_Distance_Runner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":51875283,"answer_count":1,"score":0,"last_activity_date":1662126970,"creation_date":1534416024,"question_id":51875079,"body_markdown":"I&#39;m new here and I&#39;m writing this question, because I&#39;m making my first application for Android devices. I use Android Studio, of course. My problem is:\r\n\r\nI have got a strange situation: I have a TextVield with a kind of welcome to the user in MainActivity, which is shown when the app starts and when I&#39;m using the hamburger menu to navigate to other fragments in my app, the text from MainActivity is visible in every fragment. Hamburger itself works right. What can I do to fix this issue?\r\n\r\nHere are parts of my code - I think the crucial ones, but I&#39;m not 100% sure, because I&#39;m quite new to Android and Java. \r\n\r\nThis comes from MainActivity.java:\r\n```java\r\npublic void selectedtMenuItem(MenuItem menuItem)\r\n{\r\n    android.support.v4.app.Fragment mfragment= null;\r\n    Class fragmentClass;\r\n\r\n    switch (menuItem.getItemId())\r\n    {\r\n        case R.id.main:\r\n            fragmentClass = main.class;    \r\n            break;\r\n        case R.id.menu:\r\n            fragmentClass = menu.class;    \r\n            break;\r\n        case R.id.galery:\r\n            fragmentClass = galery.class;  \r\n            break;\r\n        case R.id.contact:\r\n            fragmentClass = contact.class;  \r\n            break;\r\n        default:\r\n            fragmentClass = main.class;   \r\n    }\r\n    try\r\n    {\r\n        mfragment= (android.support.v4.app.Fragment) fragmentClass.newInstance();\r\n    }\r\n    catch (Exception e)\r\n    {\r\n        e.printStackTrace();\r\n    }\r\n\r\n    android.support.v4.app.FragmentManager fragmentManager = getSupportFragmentManager();\r\n                                                                            \r\n    fragmentManager.beginTransaction().replace(R.id.fragmentContent, mfragment).addToBackStack(null).commit();\r\n    menuItem.setChecked(true);\r\n    setTitle(menuItem.getTitle());\r\n    mlayout.closeDrawers();\r\n\r\n}\r\n\r\nprivate void setContent (NavigationView navigationView)\r\n{\r\n    navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener()\r\n    {\r\n        @Override\r\n        public boolean onNavigationItemSelected(@NonNull MenuItem item)\r\n        {\r\n            selectedtMenuItem(item);\r\n            return false;\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nThis comes from activity_main.xml:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;android.support.v4.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:id=&quot;@+id/main_activity&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;android.support.constraint.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/fragmentContent&quot; &gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/welcome&quot;\r\n            android:layout_width=&quot;300dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerInParent=&quot;true&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:layout_marginBottom=&quot;8dp&quot;\r\n            android:layout_marginEnd=&quot;8dp&quot;\r\n            android:layout_marginStart=&quot;8dp&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n         /&gt;\r\n\r\n    &lt;/android.support.constraint.ConstraintLayout&gt;\r\n\r\n    &lt;android.support.design.widget.NavigationView\r\n        android:id=&quot;@+id/nawigacja&quot;\r\n        app:headerLayout=&quot;@layout/header&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@color/white&quot;\r\n        app:itemTextColor=&quot;@color/black&quot;\r\n        app:itemIconTint=&quot;#303F9F&quot;\r\n        app:menu=&quot;@menu/drawermenu&quot;\r\n        android:layout_gravity=&quot;start&quot;&gt;\r\n    &lt;/android.support.design.widget.NavigationView&gt;\r\n\r\n&lt;/android.support.v4.widget.DrawerLayout&gt;\r\n```\r\n\r\nAnd perhaps AndroidManifest.xml would be useful:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.administrator.menu_boczne&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/icon&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/logo&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\n\r\n","title":"Strange situation: text from MainActivity being shown in every fragment","body":"<p>I'm new here and I'm writing this question, because I'm making my first application for Android devices. I use Android Studio, of course. My problem is:</p>\n<p>I have got a strange situation: I have a TextVield with a kind of welcome to the user in MainActivity, which is shown when the app starts and when I'm using the hamburger menu to navigate to other fragments in my app, the text from MainActivity is visible in every fragment. Hamburger itself works right. What can I do to fix this issue?</p>\n<p>Here are parts of my code - I think the crucial ones, but I'm not 100% sure, because I'm quite new to Android and Java.</p>\n<p>This comes from MainActivity.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void selectedtMenuItem(MenuItem menuItem)\n{\n    android.support.v4.app.Fragment mfragment= null;\n    Class fragmentClass;\n\n    switch (menuItem.getItemId())\n    {\n        case R.id.main:\n            fragmentClass = main.class;    \n            break;\n        case R.id.menu:\n            fragmentClass = menu.class;    \n            break;\n        case R.id.galery:\n            fragmentClass = galery.class;  \n            break;\n        case R.id.contact:\n            fragmentClass = contact.class;  \n            break;\n        default:\n            fragmentClass = main.class;   \n    }\n    try\n    {\n        mfragment= (android.support.v4.app.Fragment) fragmentClass.newInstance();\n    }\n    catch (Exception e)\n    {\n        e.printStackTrace();\n    }\n\n    android.support.v4.app.FragmentManager fragmentManager = getSupportFragmentManager();\n                                                                            \n    fragmentManager.beginTransaction().replace(R.id.fragmentContent, mfragment).addToBackStack(null).commit();\n    menuItem.setChecked(true);\n    setTitle(menuItem.getTitle());\n    mlayout.closeDrawers();\n\n}\n\nprivate void setContent (NavigationView navigationView)\n{\n    navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener()\n    {\n        @Override\n        public boolean onNavigationItemSelected(@NonNull MenuItem item)\n        {\n            selectedtMenuItem(item);\n            return false;\n        }\n    });\n}\n</code></pre>\n<p>This comes from activity_main.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;android.support.v4.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:id=&quot;@+id/main_activity&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;android.support.constraint.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:id=&quot;@+id/fragmentContent&quot; &gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/welcome&quot;\n            android:layout_width=&quot;300dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_centerInParent=&quot;true&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:layout_marginBottom=&quot;8dp&quot;\n            android:layout_marginEnd=&quot;8dp&quot;\n            android:layout_marginStart=&quot;8dp&quot;\n            android:layout_marginTop=&quot;8dp&quot;\n         /&gt;\n\n    &lt;/android.support.constraint.ConstraintLayout&gt;\n\n    &lt;android.support.design.widget.NavigationView\n        android:id=&quot;@+id/nawigacja&quot;\n        app:headerLayout=&quot;@layout/header&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:background=&quot;@color/white&quot;\n        app:itemTextColor=&quot;@color/black&quot;\n        app:itemIconTint=&quot;#303F9F&quot;\n        app:menu=&quot;@menu/drawermenu&quot;\n        android:layout_gravity=&quot;start&quot;&gt;\n    &lt;/android.support.design.widget.NavigationView&gt;\n\n&lt;/android.support.v4.widget.DrawerLayout&gt;\n</code></pre>\n<p>And perhaps AndroidManifest.xml would be useful:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.administrator.menu_boczne&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/icon&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/logo&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","spring","gradle","spring-tool-suite","lombok"],"comments":[{"owner":{"account_id":5403567,"reputation":1300,"user_id":4302708,"accept_rate":80,"display_name":"Snehal Patel"},"score":0,"creation_date":1560509885,"post_id":56596416,"comment_id":99769622,"body_markdown":"Are you getting compile time error?","body":"Are you getting compile time error?"},{"owner":{"account_id":2082386,"reputation":6063,"user_id":1854124,"display_name":"Martin Lippert"},"score":0,"creation_date":1560524895,"post_id":56596416,"comment_id":99777636,"body_markdown":"does it work when building the project on the command line?","body":"does it work when building the project on the command line?"},{"owner":{"account_id":394551,"reputation":1673,"user_id":1010280,"accept_rate":44,"display_name":"Anjali"},"score":0,"creation_date":1560769363,"post_id":56596416,"comment_id":99831766,"body_markdown":"@Martin yes it builds through command line.","body":"@Martin yes it builds through command line."},{"owner":{"account_id":2082386,"reputation":6063,"user_id":1854124,"display_name":"Martin Lippert"},"score":0,"creation_date":1560859576,"post_id":56596416,"comment_id":99867132,"body_markdown":"then it sounds like an issue with the Lombok integration with Eclipse. You could try your project with a plain Eclipse 2019-03 install with Lombok added to that to see if that makes a difference - and if not, report the issue to the Lombok project.","body":"then it sounds like an issue with the Lombok integration with Eclipse. You could try your project with a plain Eclipse 2019-03 install with Lombok added to that to see if that makes a difference - and if not, report the issue to the Lombok project."},{"owner":{"account_id":8890450,"reputation":491,"user_id":6637228,"accept_rate":100,"display_name":"Marek Bern&#225;d"},"score":0,"creation_date":1641053556,"post_id":56596416,"comment_id":124712761,"body_markdown":"I have the same problem with VisualStudioCode, using Maven and Lombok 1.18.22 ... `super(&quot;data&quot;);` showing error `The constructor *** is undefined` and could not be find in extended class that contains AllArgsConstructor annotation","body":"I have the same problem with VisualStudioCode, using Maven and Lombok 1.18.22 ... <code>super(&quot;data&quot;);</code> showing error <code>The constructor *** is undefined</code> and could not be find in extended class that contains AllArgsConstructor annotation"}],"answers":[{"tags":[],"owner":{"account_id":5403567,"reputation":1300,"user_id":4302708,"accept_rate":80,"display_name":"Snehal Patel"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1662126913,"creation_date":1560510655,"answer_id":56596985,"question_id":56596416,"body_markdown":"Might be issue with Lombok setup.\r\n\r\nDid you follow below listed steps.\r\n\r\n1. Copy the `lombok.jar` to your STS installation path.\r\n2. Run the command and update your STS path.\r\n\r\n```\r\njava -jar /path/to/your/lombok.jar\r\n```\r\n\r\n3. Update the `STS.ini` (aka `SpringToolSuite4.ini`) with\r\n```\r\n-javaagent:lombok.jar\r\n```\r\n4. Restart STS/Eclipse.\r\n\r\n[Steps To Setup Lombok][1]\r\n\r\n\r\n  [1]: http://codeomitted.com/setup-lombok-with-stseclipse-based-ide/","title":"Lombok : constructor is undefined","body":"<p>Might be issue with Lombok setup.</p>\n<p>Did you follow below listed steps.</p>\n<ol>\n<li>Copy the <code>lombok.jar</code> to your STS installation path.</li>\n<li>Run the command and update your STS path.</li>\n</ol>\n<pre><code>java -jar /path/to/your/lombok.jar\n</code></pre>\n<ol start=\"3\">\n<li>Update the <code>STS.ini</code> (aka <code>SpringToolSuite4.ini</code>) with</li>\n</ol>\n<pre><code>-javaagent:lombok.jar\n</code></pre>\n<ol start=\"4\">\n<li>Restart STS/Eclipse.</li>\n</ol>\n<p><a href=\"http://codeomitted.com/setup-lombok-with-stseclipse-based-ide/\" rel=\"nofollow noreferrer\">Steps To Setup Lombok</a></p>\n"}],"owner":{"account_id":394551,"reputation":1673,"user_id":1010280,"accept_rate":44,"display_name":"Anjali"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5047,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1662126913,"creation_date":1560508544,"question_id":56596416,"body_markdown":"I am using lombok in a spring project and building with gradle. All of the things were woking fine before. suddenly some errors have started coming. \r\n\r\nError is &quot;Constructor(Constructor name) is undefined&quot;. \r\n\r\nHave given all the DTO @Data,@NoArgsConstructor,@AllArgsConstructor, so ideally all the constructor should be available.\r\n\r\nI have tried to build the project with old and new versions of Spring tool suite and changed lombok jar as well. but still same or different errors are coming.\r\n\r\nTried with STS4 and STS 3.9.7, 3.9.8 same issue is coming.\r\nTried lombok 1.16.22, 1.18.0,1.18.2,1.18.8.\r\n\r\nPlease help me to resolve this issue.","title":"Lombok : constructor is undefined","body":"<p>I am using lombok in a spring project and building with gradle. All of the things were woking fine before. suddenly some errors have started coming. </p>\n\n<p>Error is \"Constructor(Constructor name) is undefined\". </p>\n\n<p>Have given all the DTO @Data,@NoArgsConstructor,@AllArgsConstructor, so ideally all the constructor should be available.</p>\n\n<p>I have tried to build the project with old and new versions of Spring tool suite and changed lombok jar as well. but still same or different errors are coming.</p>\n\n<p>Tried with STS4 and STS 3.9.7, 3.9.8 same issue is coming.\nTried lombok 1.16.22, 1.18.0,1.18.2,1.18.8.</p>\n\n<p>Please help me to resolve this issue.</p>\n"},{"tags":["java","sql","expression","birt","expressionbuilder"],"answers":[{"tags":[],"owner":{"account_id":3349759,"reputation":2483,"user_id":2814025,"display_name":"hvb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632121096,"creation_date":1632121096,"answer_id":69250230,"question_id":69222684,"body_markdown":"No, it is not correct (syntactically valid, though).\r\n\r\nFirst of all what we&#39;ve got here is an *expression*, not a function.\r\nSo there shouldn&#39;t be a `return` statement.\r\n\r\nAnd obviously `true` cannot be right. The other values are (probably) strings, so this should be a string as well.\r\n\r\nI&#39;m not quite sure what you actually want to achieve.\r\nMaybe you are looking for something like COALESCE in SQL oder NVL in Oracle SQL?\r\n\r\nI suppose you create a JS function, test it with JSfiddle or so, then place it in the initialize script and call it in the expression.\r\n","title":"How to replace a column result if null with another column result in BIRT","body":"<p>No, it is not correct (syntactically valid, though).</p>\n<p>First of all what we've got here is an <em>expression</em>, not a function.\nSo there shouldn't be a <code>return</code> statement.</p>\n<p>And obviously <code>true</code> cannot be right. The other values are (probably) strings, so this should be a string as well.</p>\n<p>I'm not quite sure what you actually want to achieve.\nMaybe you are looking for something like COALESCE in SQL oder NVL in Oracle SQL?</p>\n<p>I suppose you create a JS function, test it with JSfiddle or so, then place it in the initialize script and call it in the expression.</p>\n"},{"tags":[],"owner":{"account_id":16480651,"reputation":97,"user_id":11907506,"display_name":"TheOx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654699777,"creation_date":1632389544,"answer_id":69297483,"question_id":69222684,"body_markdown":"By using the following in a Birt Expression, this replaces one column with another columns value if null.\r\n\r\n    if(row[&quot;destination&quot;] == null){\r\n    row[&quot;contactnumber&quot;];\r\n    } \r\n    else { \r\n    row[&quot;destination&quot;]; }","title":"How to replace a column result if null with another column result in BIRT","body":"<p>By using the following in a Birt Expression, this replaces one column with another columns value if null.</p>\n<pre><code>if(row[&quot;destination&quot;] == null){\nrow[&quot;contactnumber&quot;];\n} \nelse { \nrow[&quot;destination&quot;]; }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24060110,"reputation":1,"user_id":18057320,"display_name":"Sergey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662126822,"creation_date":1662126822,"answer_id":73583653,"question_id":69222684,"body_markdown":"U may try this strange construction\r\n\r\n    if (!row[&quot;doc_no&quot;] === false){\r\n    //if value is not null\\NaN\\empty\\0\r\n    }\r\n\r\n","title":"How to replace a column result if null with another column result in BIRT","body":"<p>U may try this strange construction</p>\n<pre><code>if (!row[&quot;doc_no&quot;] === false){\n//if value is not null\\NaN\\empty\\0\n}\n</code></pre>\n"}],"owner":{"account_id":16480651,"reputation":97,"user_id":11907506,"display_name":"TheOx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":506,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69297483,"answer_count":3,"score":0,"last_activity_date":1662126822,"creation_date":1631878085,"question_id":69222684,"body_markdown":"I would really appreciate some help with a computed column using an expression in Birt.\r\n\r\nI have two columns which are giving results, one gives email addresses and one gives contact  numbers: telephone, mobile..\r\n\r\nWhen the email result is null then the contact number column shows a number, these are separate communication methods from a table in sql.\r\n\r\nWhat I would like to do is create a new computed column for both the email address and the telephone number, when emailaddress is null then replace with contactnumber = contact and when contactnumber is null replace with emailaddress.\r\n\r\nI&#39;ve looked at a few similar questions online and found that entering the below  script into the birt expression builder is accepted when you click validate,  but it is not loading the report in the erp software I am using.\r\n\r\nIs the expression itself correct?\r\n\r\n    if(row[&quot;destination&quot;] == null){\r\n    row[&quot;contact&quot;];\r\n    }\r\n    else if(row[&quot;contactnumber&quot;] == null){\r\n    row[&quot;contact&quot;];\r\n    }\r\n    else{\r\n    return true;\r\n    }\r\n\r\n\r\nKind regards,\r\n\r\nStuart","title":"How to replace a column result if null with another column result in BIRT","body":"<p>I would really appreciate some help with a computed column using an expression in Birt.</p>\n<p>I have two columns which are giving results, one gives email addresses and one gives contact  numbers: telephone, mobile..</p>\n<p>When the email result is null then the contact number column shows a number, these are separate communication methods from a table in sql.</p>\n<p>What I would like to do is create a new computed column for both the email address and the telephone number, when emailaddress is null then replace with contactnumber = contact and when contactnumber is null replace with emailaddress.</p>\n<p>I've looked at a few similar questions online and found that entering the below  script into the birt expression builder is accepted when you click validate,  but it is not loading the report in the erp software I am using.</p>\n<p>Is the expression itself correct?</p>\n<pre><code>if(row[&quot;destination&quot;] == null){\nrow[&quot;contact&quot;];\n}\nelse if(row[&quot;contactnumber&quot;] == null){\nrow[&quot;contact&quot;];\n}\nelse{\nreturn true;\n}\n</code></pre>\n<p>Kind regards,</p>\n<p>Stuart</p>\n"},{"tags":["java","maven","dependencies","sonarqube"],"comments":[{"owner":{"account_id":7404989,"reputation":7263,"user_id":5634146,"display_name":"Nicolas B."},"score":0,"creation_date":1461135641,"post_id":36723476,"comment_id":61054893,"body_markdown":"What did you do so far to troubleshoot this ? (also: SonarQube version ? logs of the dependency check? logs of the analysis and command invoked ?)","body":"What did you do so far to troubleshoot this ? (also: SonarQube version ? logs of the dependency check? logs of the analysis and command invoked ?)"},{"owner":{"account_id":2913729,"reputation":183,"user_id":2497408,"display_name":"rada"},"score":0,"creation_date":1461152933,"post_id":36723476,"comment_id":61067026,"body_markdown":"The issue was resolved. Thanks a ton to the creator of the plugin who pointed me into the right direction!","body":"The issue was resolved. Thanks a ton to the creator of the plugin who pointed me into the right direction!"},{"owner":{"account_id":7404989,"reputation":7263,"user_id":5634146,"display_name":"Nicolas B."},"score":0,"creation_date":1461156153,"post_id":36723476,"comment_id":61069429,"body_markdown":"You should share the solution with the rest of the community :) (in StackOverflow you can answer your own question)","body":"You should share the solution with the rest of the community :) (in StackOverflow you can answer your own question)"}],"answers":[{"tags":[],"owner":{"account_id":2913729,"reputation":183,"user_id":2497408,"display_name":"rada"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1662126381,"creation_date":1461287943,"answer_id":36783067,"question_id":36723476,"body_markdown":"To solve the issue I contacted Steve Springett, creator of the plugin. He has great end-to-end &lt;a href=&quot;https://github.com/dependency-check/dependency-check-sonar-plugin/tree/master/examples/single-module-maven&quot;&gt;examples&lt;/a&gt; of how plugin should be configured. \r\n&lt;br/&gt;\r\nI added  `&lt;sonar.dependencyCheck.reportPath&gt;${dependency.check.report.dir}/dependency-check-report.xml&lt;/sonar.dependencyCheck.reportPath&gt;` to the properties of my pom and used following two plugins:\r\n&lt;br/&gt;\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.6&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.owasp&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.3.1&lt;/version&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;format&gt;XML&lt;/format&gt;\r\n    \t\t&lt;outputDirectory&gt;${dependency.check.report.dir}&lt;/outputDirectory&gt;\r\n    \t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"SonarQube dependency check sonar plugin","body":"<p>To solve the issue I contacted Steve Springett, creator of the plugin. He has great end-to-end <a href=\"https://github.com/dependency-check/dependency-check-sonar-plugin/tree/master/examples/single-module-maven\" rel=\"nofollow noreferrer\">examples</a> of how plugin should be configured.\n<br/>\nI added  <code>&lt;sonar.dependencyCheck.reportPath&gt;${dependency.check.report.dir}/dependency-check-report.xml&lt;/sonar.dependencyCheck.reportPath&gt;</code> to the properties of my pom and used following two plugins:\n<br/></p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.6&lt;/version&gt;\n&lt;/plugin&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;org.owasp&lt;/groupId&gt;\n    &lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;\n    &lt;version&gt;1.3.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;format&gt;XML&lt;/format&gt;\n        &lt;outputDirectory&gt;${dependency.check.report.dir}&lt;/outputDirectory&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":2913729,"reputation":183,"user_id":2497408,"display_name":"rada"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22956,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":36783067,"answer_count":1,"score":7,"last_activity_date":1662126381,"creation_date":1461081173,"question_id":36723476,"body_markdown":"I&#39;m having issues with displaying vulnerabilities on SonarQube. Here are the steps I followed:\r\n\r\n 1. Installed dependency-check-sonar-plugin version 1.0.3 on SonarQube.\r\n \r\n 2. Configured dashboard to include Vulnerabilities widjet.\r\n \r\n 3. Generated dependency report using: mvn org.owasp:dependency-check-maven:1.3.6:check -Dformat=XML. \r\n \r\n \r\n 4. Report was placed into [project]/target/dependency-check-report.xml\r\n \r\n 5. Ran sonar task: org.codehaus.mojo:sonar-maven-plugin:2.3:sonar\r\nTask completed successfully but I don&#39;t see data in the Vulnerabilities widjet.\r\nAnyone has idea what could prevent plugin from seeing report?\r\n\r\nThanks in advance!\r\nRada\r\n","title":"SonarQube dependency check sonar plugin","body":"<p>I'm having issues with displaying vulnerabilities on SonarQube. Here are the steps I followed:</p>\n\n<ol>\n<li><p>Installed dependency-check-sonar-plugin version 1.0.3 on SonarQube.</p></li>\n<li><p>Configured dashboard to include Vulnerabilities widjet.</p></li>\n<li><p>Generated dependency report using: mvn org.owasp:dependency-check-maven:1.3.6:check -Dformat=XML. </p></li>\n<li><p>Report was placed into [project]/target/dependency-check-report.xml</p></li>\n<li><p>Ran sonar task: org.codehaus.mojo:sonar-maven-plugin:2.3:sonar\nTask completed successfully but I don't see data in the Vulnerabilities widjet.\nAnyone has idea what could prevent plugin from seeing report?</p></li>\n</ol>\n\n<p>Thanks in advance!\nRada</p>\n"},{"tags":["java","spring","spring-boot","kubernetes"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1656951017,"post_id":72693015,"comment_id":128690103,"body_markdown":"https://github.com/spring-cloud/spring-cloud-kubernetes/issues/977#issuecomment-1051010515 may help","body":"<a href=\"https://github.com/spring-cloud/spring-cloud-kubernetes/issues/977#issuecomment-1051010515\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-kubernetes/issues/&hellip;</a> may help"}],"answers":[{"tags":[],"owner":{"account_id":26228179,"reputation":1,"user_id":19904570,"display_name":"newbie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662126263,"creation_date":1662126263,"answer_id":73583529,"question_id":72693015,"body_markdown":"Notice that &quot;spring.cloud.kubernetes.discovery-server-url&quot; has a spelling error in Springs error message. The parameter name is  `spring.cloud.kubernetes.discovery.discovery-server-url`.\r\n\r\nIt can be set anywhere in Springs external configuration (.properties, .yaml). Regarding K8s, the quickest way is perhaps the `args` in your deployment.yaml:\r\n```\r\n  template:\r\n    metadata:\r\n      labels:\r\n        ...\r\n    spec:\r\n      containers:\r\n      - name: ...\r\n        image: ...\r\n        command: [&quot;java&quot;]\r\n        args: [&quot;-Dspring.profiles.active=kubernetes&quot;, &quot;-Dspring.cloud.kubernetes.discovery.discovery-server-url=http://spring-cloud-kubernetes-discoveryserver.default.svc.cluster.local&quot;, &quot;-Dspring.cloud.kubernetes.discovery.enabled=true&quot;, &quot;org.springframework.boot.loader.JarLauncher&quot;]\r\n        ports:\r\n            ...\r\n```","title":"spring.cloud.kubernetes.discovery-server-url must be specified and a valid URL","body":"<p>Notice that &quot;spring.cloud.kubernetes.discovery-server-url&quot; has a spelling error in Springs error message. The parameter name is  <code>spring.cloud.kubernetes.discovery.discovery-server-url</code>.</p>\n<p>It can be set anywhere in Springs external configuration (.properties, .yaml). Regarding K8s, the quickest way is perhaps the <code>args</code> in your deployment.yaml:</p>\n<pre><code>  template:\n    metadata:\n      labels:\n        ...\n    spec:\n      containers:\n      - name: ...\n        image: ...\n        command: [&quot;java&quot;]\n        args: [&quot;-Dspring.profiles.active=kubernetes&quot;, &quot;-Dspring.cloud.kubernetes.discovery.discovery-server-url=http://spring-cloud-kubernetes-discoveryserver.default.svc.cluster.local&quot;, &quot;-Dspring.cloud.kubernetes.discovery.enabled=true&quot;, &quot;org.springframework.boot.loader.JarLauncher&quot;]\n        ports:\n            ...\n</code></pre>\n"}],"owner":{"account_id":310436,"reputation":227,"user_id":623403,"accept_rate":62,"display_name":"ThatGuyYouKnow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1673,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1662126263,"creation_date":1655759361,"question_id":72693015,"body_markdown":"I&#39;m updating a service&#39;s dependencies from Spring Boot `2.3.12.RELEASE` to `2.7.0` and Spring Cloud from `Hoxton.Release` to `2021.0.3`\r\n\r\nUpon doing this, I&#39;m starting to get kubernetes errors that I didn&#39;t see with the previous dependency versions.\r\n\r\n```java \r\nnested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;compositeDiscoveryClient&#39; defined in class path resource [org/springframework/cloud/client/discovery/composite/CompositeDiscoveryClientAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;compositeDiscoveryClient&#39; parameter 0; \r\n\r\nnested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;kubernetesDiscoveryClient&#39; defined in class path resource [org/springframework/cloud/kubernetes/discovery/KubernetesDiscoveryClientAutoConfiguration$Servlet.class]: Bean instantiation via factory method failed; \r\n\r\nnested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.cloud.client.discovery.DiscoveryClient]: Factory method &#39;kubernetesDiscoveryClient&#39; threw exception; \r\n\r\nnested exception is org.springframework.cloud.kubernetes.discovery.DiscoveryServerUrlInvalidException: spring.cloud.kubernetes.discovery-server-url must be specified and a valid URL.\r\n```\r\n\r\nI&#39;ve read a few tutorials about using the @EnableDiscoveryClient annotation in the application as well as autowiring the DiscoveryClient in the controllers, including the [Baeldung tutorial](https://www.baeldung.com/spring-cloud-kubernetes). However, I have yet to see anything mention a discovery-server-url. \r\n\r\nWhere do I set this value, or how to I tell Spring and Kubernetes what to look for?\r\n","title":"spring.cloud.kubernetes.discovery-server-url must be specified and a valid URL","body":"<p>I'm updating a service's dependencies from Spring Boot <code>2.3.12.RELEASE</code> to <code>2.7.0</code> and Spring Cloud from <code>Hoxton.Release</code> to <code>2021.0.3</code></p>\n<p>Upon doing this, I'm starting to get kubernetes errors that I didn't see with the previous dependency versions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'compositeDiscoveryClient' defined in class path resource [org/springframework/cloud/client/discovery/composite/CompositeDiscoveryClientAutoConfiguration.class]: Unsatisfied dependency expressed through method 'compositeDiscoveryClient' parameter 0; \n\nnested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'kubernetesDiscoveryClient' defined in class path resource [org/springframework/cloud/kubernetes/discovery/KubernetesDiscoveryClientAutoConfiguration$Servlet.class]: Bean instantiation via factory method failed; \n\nnested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.cloud.client.discovery.DiscoveryClient]: Factory method 'kubernetesDiscoveryClient' threw exception; \n\nnested exception is org.springframework.cloud.kubernetes.discovery.DiscoveryServerUrlInvalidException: spring.cloud.kubernetes.discovery-server-url must be specified and a valid URL.\n</code></pre>\n<p>I've read a few tutorials about using the @EnableDiscoveryClient annotation in the application as well as autowiring the DiscoveryClient in the controllers, including the <a href=\"https://www.baeldung.com/spring-cloud-kubernetes\" rel=\"nofollow noreferrer\">Baeldung tutorial</a>. However, I have yet to see anything mention a discovery-server-url.</p>\n<p>Where do I set this value, or how to I tell Spring and Kubernetes what to look for?</p>\n"},{"tags":["python","java"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":3,"creation_date":1662124556,"post_id":73583098,"comment_id":129939824,"body_markdown":"Have you tried using `double` instead of `float`? AFAIK Python uses 64-bit precision floating point numbers","body":"Have you tried using <code>double</code> instead of <code>float</code>? AFAIK Python uses 64-bit precision floating point numbers"},{"owner":{"account_id":23535348,"reputation":21357,"user_id":17580381,"display_name":"Codist"},"score":0,"creation_date":1662125972,"post_id":73583098,"comment_id":129940400,"body_markdown":"Have you tried rounding the value?","body":"Have you tried rounding the value?"}],"answers":[{"tags":[],"owner":{"account_id":214928,"reputation":9307,"user_id":469201,"accept_rate":67,"display_name":"davidbuzatto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662125423,"creation_date":1662124702,"answer_id":73583215,"question_id":73583098,"body_markdown":"Change `float` to `double` in you Java code. Now `Hx` will contain `-231.9247949756118` when you keep the `f` suffix in your numbers or `-231.92479960650965` if you remove it. You need to understand that floating point numbers have an intrinsic imprecision. In Java, if you need exact precision, you will need to use the `BigDecimal` class:\r\n\r\n    BigDecimal Ax = new BigDecimal( &quot;-0.13044776&quot; );\r\n    BigDecimal Ay = new BigDecimal( &quot;-0.17653446&quot; );\r\n    BigDecimal Az = new BigDecimal( &quot;9.8041935&quot; );\r\n    \r\n    BigDecimal normsqA = Ax.multiply( Ax ).add( Ay.multiply( Ay ).add( Az.multiply( Az ) ) );\r\n    BigDecimal g = new BigDecimal( &quot;9.81&quot; );   \r\n    BigDecimal freeFallGravitySquared = new BigDecimal( &quot;0.01&quot; ).multiply( g ).multiply( g );   \r\n    \r\n    BigDecimal Ex = new BigDecimal( &quot;-40.55481&quot; );\r\n    BigDecimal Ey = new BigDecimal( &quot;-22.624207&quot; );\r\n    BigDecimal Ez = new BigDecimal( &quot;-57.284546&quot; );\r\n    \r\n    BigDecimal Hx = Ey.multiply( Az ).subtract( Ez.multiply( Ay ) );\r\n    \r\n    System.out.println( Hx );\r\n\r\nNow, `Hx` contains `-231.92479960650966`.\r\n\r\nEDIT: I think I misunderstood your question.\r\n--------------------------------------------\r\n\r\nI think you can round the value in Python to &quot;simulate&quot; the less precision that you need. Something like:\r\n\r\n    Hx = round( float(Ey * Az - Ez * Ay), 4 )","title":"Java v Python floating point arithmetic","body":"<p>Change <code>float</code> to <code>double</code> in you Java code. Now <code>Hx</code> will contain <code>-231.9247949756118</code> when you keep the <code>f</code> suffix in your numbers or <code>-231.92479960650965</code> if you remove it. You need to understand that floating point numbers have an intrinsic imprecision. In Java, if you need exact precision, you will need to use the <code>BigDecimal</code> class:</p>\n<pre><code>BigDecimal Ax = new BigDecimal( &quot;-0.13044776&quot; );\nBigDecimal Ay = new BigDecimal( &quot;-0.17653446&quot; );\nBigDecimal Az = new BigDecimal( &quot;9.8041935&quot; );\n\nBigDecimal normsqA = Ax.multiply( Ax ).add( Ay.multiply( Ay ).add( Az.multiply( Az ) ) );\nBigDecimal g = new BigDecimal( &quot;9.81&quot; );   \nBigDecimal freeFallGravitySquared = new BigDecimal( &quot;0.01&quot; ).multiply( g ).multiply( g );   \n\nBigDecimal Ex = new BigDecimal( &quot;-40.55481&quot; );\nBigDecimal Ey = new BigDecimal( &quot;-22.624207&quot; );\nBigDecimal Ez = new BigDecimal( &quot;-57.284546&quot; );\n\nBigDecimal Hx = Ey.multiply( Az ).subtract( Ez.multiply( Ay ) );\n\nSystem.out.println( Hx );\n</code></pre>\n<p>Now, <code>Hx</code> contains <code>-231.92479960650966</code>.</p>\n<h2>EDIT: I think I misunderstood your question.</h2>\n<p>I think you can round the value in Python to &quot;simulate&quot; the less precision that you need. Something like:</p>\n<pre><code>Hx = round( float(Ey * Az - Ez * Ay), 4 )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662125021,"creation_date":1662125021,"answer_id":73583291,"question_id":73583098,"body_markdown":"As others have said: Instead of `float` use `double` as it has more precision to match the precision that Python is using. Also note that you will need to change your literals to not be declared as `floats` (like `-0.13044776`**`f`** is)\r\n\r\n```java\r\ndouble Ax = -0.13044776;\r\ndouble Ay = -0.17653446;\r\ndouble Az = 9.8041935;\r\n\r\nfinal double normsqA = (Ax * Ax + Ay * Ay + Az * Az);\r\nfinal double g = 9.81;\r\nfinal double freeFallGravitySquared = 0.01 * g * g;\r\n\r\nfinal double Ex = -40.55481;\r\nfinal double Ey = -22.624207;\r\nfinal double Ez = -57.284546;\r\ndouble Hx = Ey * Az - Ez * Ay;\r\n\r\nSystem.out.println(Hx);\r\n// result: -231.92479960650965 matching Python exactly\r\n```","title":"Java v Python floating point arithmetic","body":"<p>As others have said: Instead of <code>float</code> use <code>double</code> as it has more precision to match the precision that Python is using. Also note that you will need to change your literals to not be declared as <code>floats</code> (like <code>-0.13044776</code><strong><code>f</code></strong> is)</p>\n<pre class=\"lang-java prettyprint-override\"><code>double Ax = -0.13044776;\ndouble Ay = -0.17653446;\ndouble Az = 9.8041935;\n\nfinal double normsqA = (Ax * Ax + Ay * Ay + Az * Az);\nfinal double g = 9.81;\nfinal double freeFallGravitySquared = 0.01 * g * g;\n\nfinal double Ex = -40.55481;\nfinal double Ey = -22.624207;\nfinal double Ez = -57.284546;\ndouble Hx = Ey * Az - Ez * Ay;\n\nSystem.out.println(Hx);\n// result: -231.92479960650965 matching Python exactly\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6265219,"reputation":622,"user_id":4871205,"accept_rate":33,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662126087,"creation_date":1662125861,"answer_id":73583456,"question_id":73583098,"body_markdown":"I&#39;ve answered my own question with the knowledge that others have shared here.\r\n\r\n`numpy` has a `float32` data type https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.float32\r\n\r\nPython code\r\n\r\n```python\r\nAx = float32(-0.13044776)\r\nAy = float32(-0.17653446)\r\nAz = float32(9.8041935)\r\n    \r\nEx = float32(-40.55481)\r\nEy = float32(-22.624207)\r\nEz = float32(-57.284546)\r\n\r\nHx = Ey * Az - Ez * Ay\r\n```\r\n\r\n`Hx` is now `-231.9248`","title":"Java v Python floating point arithmetic","body":"<p>I've answered my own question with the knowledge that others have shared here.</p>\n<p><code>numpy</code> has a <code>float32</code> data type <a href=\"https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.float32\" rel=\"nofollow noreferrer\">https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.float32</a></p>\n<p>Python code</p>\n<pre class=\"lang-py prettyprint-override\"><code>Ax = float32(-0.13044776)\nAy = float32(-0.17653446)\nAz = float32(9.8041935)\n    \nEx = float32(-40.55481)\nEy = float32(-22.624207)\nEz = float32(-57.284546)\n\nHx = Ey * Az - Ez * Ay\n</code></pre>\n<p><code>Hx</code> is now <code>-231.9248</code></p>\n"}],"owner":{"account_id":6265219,"reputation":622,"user_id":4871205,"accept_rate":33,"display_name":"Sam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73583456,"answer_count":3,"score":1,"last_activity_date":1662126195,"creation_date":1662124221,"question_id":73583098,"body_markdown":"I am trying to convert some Java code to Python, but seem to be running into issues with floating point precision.\r\n\r\nI am unable to change the Java code, so the solution needs to be in the Python.\r\n\r\nJava code:\r\n```java\r\nfloat Ax = -0.13044776f;\r\nfloat Ay = -0.17653446f;\r\nfloat Az = 9.8041935f;\r\n\r\nfinal float Ex = -40.55481f;\r\nfinal float Ey = -22.624207f;\r\nfinal float Ez = -57.284546f;\r\n\r\nfloat Hx = Ey * Az - Ez * Ay;\r\n```\r\nIn Java `Hx` has a value of `-231.9248`\r\n\r\nPython code:\r\n```py\r\nAx = -0.13044776\r\nAy = -0.17653446\r\nAz = 9.8041935\r\n\r\nEx = -40.55481\r\nEy = -22.624207\r\nEz = -57.284546\r\n\r\nHx = float(Ey * Az - Ez * Ay)\r\n```\r\nIn Python `Hx` has a value of `-231.92479960650965`\r\n\r\nWhy is there more points of precision in Python, and how can I replicate the Java behaviour?","title":"Java v Python floating point arithmetic","body":"<p>I am trying to convert some Java code to Python, but seem to be running into issues with floating point precision.</p>\n<p>I am unable to change the Java code, so the solution needs to be in the Python.</p>\n<p>Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>float Ax = -0.13044776f;\nfloat Ay = -0.17653446f;\nfloat Az = 9.8041935f;\n\nfinal float Ex = -40.55481f;\nfinal float Ey = -22.624207f;\nfinal float Ez = -57.284546f;\n\nfloat Hx = Ey * Az - Ez * Ay;\n</code></pre>\n<p>In Java <code>Hx</code> has a value of <code>-231.9248</code></p>\n<p>Python code:</p>\n<pre class=\"lang-py prettyprint-override\"><code>Ax = -0.13044776\nAy = -0.17653446\nAz = 9.8041935\n\nEx = -40.55481\nEy = -22.624207\nEz = -57.284546\n\nHx = float(Ey * Az - Ez * Ay)\n</code></pre>\n<p>In Python <code>Hx</code> has a value of <code>-231.92479960650965</code></p>\n<p>Why is there more points of precision in Python, and how can I replicate the Java behaviour?</p>\n"},{"tags":["java","enums","api-design"],"comments":[{"owner":{"account_id":1006766,"reputation":2409,"user_id":1020311,"accept_rate":55,"display_name":"zundi"},"score":0,"creation_date":1536157219,"post_id":2964704,"comment_id":91324491,"body_markdown":"My use case is when I receive a string value via JSON and want to see if it matches an existing value in my enum. Although in my case I have a enum constructor which receives a string value which I keep in a private variable, so at the end of the day I&#39;m comparing strings I guess. But I would prefer to do `MY_ENUM.VALUE.equals(&quot;hello&quot;)` then `MY_ENUM.VALUE.toString().equals(&quot;hello&quot;)` Hope this makes sense.","body":"My use case is when I receive a string value via JSON and want to see if it matches an existing value in my enum. Although in my case I have a enum constructor which receives a string value which I keep in a private variable, so at the end of the day I&#39;m comparing strings I guess. But I would prefer to do <code>MY_ENUM.VALUE.equals(&quot;hello&quot;)</code> then <code>MY_ENUM.VALUE.toString().equals(&quot;hello&quot;)</code> Hope this makes sense."}],"answers":[{"tags":[],"owner":{"account_id":39267,"reputation":16578,"user_id":113158,"accept_rate":88,"display_name":"Jean Hominal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1275558075,"creation_date":1275558075,"answer_id":2964735,"question_id":2964704,"body_markdown":"It is precisely because the Java designers could not think of any conceivable use case for overriding Enum.equals(Object) that that method is declared as final - so that such overriding would be impossible.","title":"Why Java does not allow overriding equals(Object) in an Enum?","body":"<p>It is precisely because the Java designers could not think of any conceivable use case for overriding Enum.equals(Object) that that method is declared as final - so that such overriding would be impossible.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1275559517,"creation_date":1275558148,"answer_id":2964742,"question_id":2964704,"body_markdown":"There is already provides a strong intuitive notion of what it means for instances (values) of an `enum` to be equal.  Allowing the overloading the `equals` method would lead to that notion being violated, leading to unexpected behavior, bugs and so on.","title":"Why Java does not allow overriding equals(Object) in an Enum?","body":"<p>There is already provides a strong intuitive notion of what it means for instances (values) of an <code>enum</code> to be equal.  Allowing the overloading the <code>equals</code> method would lead to that notion being violated, leading to unexpected behavior, bugs and so on.</p>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":47,"is_accepted":true,"score":47,"last_activity_date":1562357826,"creation_date":1275558453,"answer_id":2964760,"question_id":2964704,"body_markdown":"Anything but `return this == other` would be counter intuitive and violate [the principle of least astonishment](http://en.wikipedia.org/wiki/Principle_of_least_astonishment). Two enum constants are expected to be `equal` if and only if they are the same object and the ability to override this behavior would be error prone.\r\n\r\nSame reasoning applies to `hashCode()`, `clone()`, `compareTo(Object)`, `name()`, `ordinal()`, and `getDeclaringClass()`.\r\n\r\n\r\n----------\r\n\r\n\r\nThe JLS does not motivate the choice of making it final, but mentions equals in the context of enums [here](http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.9.1). Snippet:\r\n\r\n&gt; *The equals method in `Enum` is a final method that merely invokes `super.equals` on its argument and returns the result, thus performing an identity comparison.*","title":"Why Java does not allow overriding equals(Object) in an Enum?","body":"<p>Anything but <code>return this == other</code> would be counter intuitive and violate <a href=\"http://en.wikipedia.org/wiki/Principle_of_least_astonishment\" rel=\"noreferrer\">the principle of least astonishment</a>. Two enum constants are expected to be <code>equal</code> if and only if they are the same object and the ability to override this behavior would be error prone.</p>\n\n<p>Same reasoning applies to <code>hashCode()</code>, <code>clone()</code>, <code>compareTo(Object)</code>, <code>name()</code>, <code>ordinal()</code>, and <code>getDeclaringClass()</code>.</p>\n\n<hr>\n\n<p>The JLS does not motivate the choice of making it final, but mentions equals in the context of enums <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.9.1\" rel=\"noreferrer\">here</a>. Snippet:</p>\n\n<blockquote>\n  <p><em>The equals method in <code>Enum</code> is a final method that merely invokes <code>super.equals</code> on its argument and returns the result, thus performing an identity comparison.</em></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":87565,"reputation":26371,"user_id":242762,"accept_rate":87,"display_name":"Oak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1275558595,"creation_date":1275558595,"answer_id":2964772,"question_id":2964704,"body_markdown":"I must confess enums are the last thing I would want to override `equals()` in.\r\n\r\nI think the reason `equals()` is final in enums is that Java encourages `==` for enum comparison, and the implementation of `equals()` in enums simply uses it, So allowing `equals()` from being overridden is to prevent `==` and `equals()` from behaving differently, which is something other developers would not expect.","title":"Why Java does not allow overriding equals(Object) in an Enum?","body":"<p>I must confess enums are the last thing I would want to override <code>equals()</code> in.</p>\n\n<p>I think the reason <code>equals()</code> is final in enums is that Java encourages <code>==</code> for enum comparison, and the implementation of <code>equals()</code> in enums simply uses it, So allowing <code>equals()</code> from being overridden is to prevent <code>==</code> and <code>equals()</code> from behaving differently, which is something other developers would not expect.</p>\n"},{"tags":[],"owner":{"account_id":15094521,"reputation":21,"user_id":10893340,"display_name":"D. Matthew Johnson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547097372,"creation_date":1547096620,"answer_id":54122214,"question_id":2964704,"body_markdown":"Sometimes we need to deal with data that does not conform to Java naming standards.  It would be nice to be able to do something like this:\r\n\r\n    public enum Channel\r\n    {\r\n    \tCallCenter(&quot;Call Center&quot;),\r\n    \tBankInternal(&quot;Bank Internal&quot;),\r\n    \tBranch(&quot;Branch&quot;);\r\n    \r\n    \tprivate final String value;\r\n    \r\n    \tChannel(String value)\r\n    \t{\r\n    \t\tthis.value = value;\r\n    \t}\r\n\r\n        @Override\r\n    \tpublic String toString()\r\n    \t{\r\n    \t\treturn value;\r\n    \t}\r\n    \r\n    \tpublic static Channel valueOf(String value)\r\n    \t{\r\n    \t\tfor (Channel c : Channel.values())\r\n    \t\t\tif (c.value.equals(value))\r\n    \t\t\t\treturn c;\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean equals(Object other) \r\n    \t{\r\n    \t\tif (other instanceof String)\r\n    \t\t\tother = Channel.valueOf((String)other);\r\n    \t\treturn super.equals(other);\r\n    \t}\r\n    }\r\n\r\nThe &quot;String&quot; class would need to be modified to accommodate...\r\n\r\n\tpublic boolean equals (Object object) {\r\n\t\tif (object == this) return true;\r\n\t\tif (object instanceof Enum) \r\n\t\t\tobject = object.toString();\r\n\t\tif (object instanceof String) {\r\n\t\t\tString s = (String)object;\r\n\t\t\t// There was a time hole between first read of s.hashCode and second read\r\n\t\t\t//\tif another thread does hashcode computing for incoming string object\r\n\t\t\tif (count != s.count ||\r\n\t\t\t\t(hashCode != 0 &amp;&amp; s.hashCode != 0 &amp;&amp; hashCode != s.hashCode))\r\n\t\t\t\t\treturn false;\r\n\t\t\treturn regionMatches(0, s, 0, count);\r\n\t\t}\r\n\t\treturn false;\r\n\t}","title":"Why Java does not allow overriding equals(Object) in an Enum?","body":"<p>Sometimes we need to deal with data that does not conform to Java naming standards.  It would be nice to be able to do something like this:</p>\n\n<pre><code>public enum Channel\n{\n    CallCenter(\"Call Center\"),\n    BankInternal(\"Bank Internal\"),\n    Branch(\"Branch\");\n\n    private final String value;\n\n    Channel(String value)\n    {\n        this.value = value;\n    }\n\n    @Override\n    public String toString()\n    {\n        return value;\n    }\n\n    public static Channel valueOf(String value)\n    {\n        for (Channel c : Channel.values())\n            if (c.value.equals(value))\n                return c;\n        return null;\n    }\n\n    @Override\n    public boolean equals(Object other) \n    {\n        if (other instanceof String)\n            other = Channel.valueOf((String)other);\n        return super.equals(other);\n    }\n}\n</code></pre>\n\n<p>The \"String\" class would need to be modified to accommodate...</p>\n\n<pre><code>public boolean equals (Object object) {\n    if (object == this) return true;\n    if (object instanceof Enum) \n        object = object.toString();\n    if (object instanceof String) {\n        String s = (String)object;\n        // There was a time hole between first read of s.hashCode and second read\n        //  if another thread does hashcode computing for incoming string object\n        if (count != s.count ||\n            (hashCode != 0 &amp;&amp; s.hashCode != 0 &amp;&amp; hashCode != s.hashCode))\n                return false;\n        return regionMatches(0, s, 0, count);\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4509047,"reputation":3905,"user_id":3665698,"display_name":"mcoolive"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662125986,"creation_date":1662125986,"answer_id":73583473,"question_id":2964704,"body_markdown":"I am going the majority opinion. If the override of Enum::equals is forbidden, I don&#39;t think it was to follow the principle of least astonishment. I think it is to not break Java.\r\n\r\nIn the JVM, and in some old classes such like EnumMap, Enum identities may be coded internally with an int. For example, if we allow to override Enum::equals, then EnumMap&lt;K, V&gt; would break the contract of Map.\r\n\r\n","title":"Why Java does not allow overriding equals(Object) in an Enum?","body":"<p>I am going the majority opinion. If the override of Enum::equals is forbidden, I don't think it was to follow the principle of least astonishment. I think it is to not break Java.</p>\n<p>In the JVM, and in some old classes such like EnumMap, Enum identities may be coded internally with an int. For example, if we allow to override Enum::equals, then EnumMap&lt;K, V&gt; would break the contract of Map.</p>\n"}],"owner":{"account_id":59417,"reputation":7474,"user_id":177784,"accept_rate":100,"display_name":"Ashwin Prabhu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23365,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":2964760,"answer_count":6,"score":43,"last_activity_date":1662125986,"creation_date":1275557781,"question_id":2964704,"body_markdown":"I&#39;ve noticed that the following snippet...\r\n\r\n    @Override\r\n    public boolean equals(Object otherObject) {\r\n        ...\r\n    }\r\n\r\n...is not allowed for an Enum, since the method `equals(Object x)` is defined as `final` in [`Enum`](http://download.oracle.com/javase/6/docs/api/java/lang/Enum.html#equals%28java.lang.Object%29). Why is this so? \r\n\r\nI cannot think of any use case which would require overriding `equals(Object)` for Enum. I&#39;m just curious to know the reasoning behind this behavior.","title":"Why Java does not allow overriding equals(Object) in an Enum?","body":"<p>I've noticed that the following snippet...</p>\n\n<pre><code>@Override\npublic boolean equals(Object otherObject) {\n    ...\n}\n</code></pre>\n\n<p>...is not allowed for an Enum, since the method <code>equals(Object x)</code> is defined as <code>final</code> in <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Enum.html#equals%28java.lang.Object%29\" rel=\"noreferrer\"><code>Enum</code></a>. Why is this so? </p>\n\n<p>I cannot think of any use case which would require overriding <code>equals(Object)</code> for Enum. I'm just curious to know the reasoning behind this behavior.</p>\n"},{"tags":["java","android","multithreading"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1662123799,"post_id":73582951,"comment_id":129939526,"body_markdown":"&quot;start to constantly get the date and time (hh:mm:ss) and pass this data continuously to another fragment&quot; -- what are you doing with the date and time that you need this data &quot;continuously&quot;?","body":"&quot;start to constantly get the date and time (hh:mm:ss) and pass this data continuously to another fragment&quot; -- what are you doing with the date and time that you need this data &quot;continuously&quot;?"},{"owner":{"account_id":25288183,"reputation":37,"user_id":19114746,"display_name":"mauricio romero"},"score":0,"creation_date":1662124297,"post_id":73582951,"comment_id":129939731,"body_markdown":"In summary, it is a discussion app, when a user creates a new discussion, he must set the date and time of the end of the discussion \nSo, as I mentioned before, my idea was that the user would log in to the app and while he was using the application in the background, he would be sending the fragment that contains the date and time of closing the debate, so that it is continually being compared if the current time is equal to the one defined for the closing of the debate, if so, then the debate is deleted","body":"In summary, it is a discussion app, when a user creates a new discussion, he must set the date and time of the end of the discussion  So, as I mentioned before, my idea was that the user would log in to the app and while he was using the application in the background, he would be sending the fragment that contains the date and time of closing the debate, so that it is continually being compared if the current time is equal to the one defined for the closing of the debate, if so, then the debate is deleted"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1662128435,"post_id":73582951,"comment_id":129941381,"body_markdown":"Wouldn&#39;t it be simpler just to get an event when it is time to close the debate? What is the value in constantly burning the CPU and draining the battery for &quot;continually being compared if the current time is equal to the one defined for the closing of the debate&quot;?","body":"Wouldn&#39;t it be simpler just to get an event when it is time to close the debate? What is the value in constantly burning the CPU and draining the battery for &quot;continually being compared if the current time is equal to the one defined for the closing of the debate&quot;?"},{"owner":{"account_id":25288183,"reputation":37,"user_id":19114746,"display_name":"mauricio romero"},"score":0,"creation_date":1662153684,"post_id":73582951,"comment_id":129948884,"body_markdown":"esque is not just a debate, there can be debates and you should keep asking constantly while the app is in use","body":"esque is not just a debate, there can be debates and you should keep asking constantly while the app is in use"}],"answers":[{"tags":[],"owner":{"account_id":13020607,"reputation":361,"user_id":9410164,"display_name":"ndriqa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662125760,"creation_date":1662125760,"answer_id":73583433,"question_id":73582951,"body_markdown":"Based on the comments, I think what you need is to calculate the time passed by using `System.getTimeInMillis()`. E.g. \r\n\r\n```\r\n// you save the last time user did something he/she can do\r\n// I&#39;m using sharedPreferences as an example, you can save it in any way you want\r\n// depending on the scope you need\r\nval lastTimeUserDidSmthInMillis = sharedPreferences(LAST_TIME_OF_ACTION, 0L)\r\n\r\n// current time given by the system\r\nval currentTimeInMillis = System.getTimeInMillis()\r\n\r\n// time difference in seconds\r\nval timePassedInMillis = (currentTimeInMillis - lastTimeUserDidSmthInMillis) / 1000\r\n\r\nif (timePassedInMillis &gt; TIME_THRESHOLD) {\r\n  doSomething()\r\n} else {\r\n  // not enough time has passed yet\r\n}\r\n```","title":"how to check the time constantly in android studio with multithreading","body":"<p>Based on the comments, I think what you need is to calculate the time passed by using <code>System.getTimeInMillis()</code>. E.g.</p>\n<pre><code>// you save the last time user did something he/she can do\n// I'm using sharedPreferences as an example, you can save it in any way you want\n// depending on the scope you need\nval lastTimeUserDidSmthInMillis = sharedPreferences(LAST_TIME_OF_ACTION, 0L)\n\n// current time given by the system\nval currentTimeInMillis = System.getTimeInMillis()\n\n// time difference in seconds\nval timePassedInMillis = (currentTimeInMillis - lastTimeUserDidSmthInMillis) / 1000\n\nif (timePassedInMillis &gt; TIME_THRESHOLD) {\n  doSomething()\n} else {\n  // not enough time has passed yet\n}\n</code></pre>\n"}],"owner":{"account_id":25288183,"reputation":37,"user_id":19114746,"display_name":"mauricio romero"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662125760,"creation_date":1662123493,"question_id":73582951,"body_markdown":"I&#39;m new to the issue of parallel processes and therefore I have some doubts. It turns out that I have a project which I want once the user logs in to the app,\r\nstart to constantly get the date and time (hh:mm:ss) and pass this data continuously to another fragment. All this as long as the user can perform other actions in the app, can someone help me with this?\r\ni used API 32","title":"how to check the time constantly in android studio with multithreading","body":"<p>I'm new to the issue of parallel processes and therefore I have some doubts. It turns out that I have a project which I want once the user logs in to the app,\nstart to constantly get the date and time (hh:mm:ss) and pass this data continuously to another fragment. All this as long as the user can perform other actions in the app, can someone help me with this?\ni used API 32</p>\n"},{"tags":["java","date","calendar","converters"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":5,"creation_date":1348545706,"post_id":12575990,"comment_id":16944032,"body_markdown":"You&#39;re code is confusing.  Are you trying to format a `Date` to `yyyy-MM-dd` or parse a String from `yyyy-MM-dd` to a `Date` value??  To format the date, simply use `format1.format(date)`, to parse it, use `format1.parse(someStringValueInTheCorrectFormat)`","body":"You&#39;re code is confusing.  Are you trying to format a <code>Date</code> to <code>yyyy-MM-dd</code> or parse a String from <code>yyyy-MM-dd</code> to a <code>Date</code> value??  To format the date, simply use <code>format1.format(date)</code>, to parse it, use <code>format1.parse(someStringValueInTheCorrectFormat)</code>"},{"owner":{"account_id":181043,"reputation":8252,"user_id":414773,"accept_rate":46,"display_name":"skmaran.nr.iras"},"score":0,"creation_date":1348546618,"post_id":12575990,"comment_id":16944183,"body_markdown":"I have edited my question.. Sorry for the previous mistake..","body":"I have edited my question.. Sorry for the previous mistake.."},{"owner":{"account_id":1748411,"reputation":1539,"user_id":1598080,"display_name":"Iwan Aucamp"},"score":9,"creation_date":1401963080,"post_id":12575990,"comment_id":37093675,"body_markdown":"one liner: `( new SimpleDateFormat( &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot; ) ).format( Calendar.getInstance().getTime() );`","body":"one liner: <code>( new SimpleDateFormat( &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot; ) ).format( Calendar.getInstance().getTime() );</code>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1537822788,"post_id":12575990,"comment_id":91915824,"body_markdown":"Possible duplicate of [want current date and time in “dd/MM/yyyy HH:mm:ss.SS” format](https://stackoverflow.com/questions/8745297/want-current-date-and-time-in-dd-mm-yyyy-hhmmss-ss-format)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/8745297/want-current-date-and-time-in-dd-mm-yyyy-hhmmss-ss-format\">want current date and time in “dd/MM/yyyy HH:mm:ss.SS” format</a>"},{"owner":{"account_id":64856,"reputation":29696,"user_id":191246,"accept_rate":77,"display_name":"ccpizza"},"score":0,"creation_date":1599837820,"post_id":12575990,"comment_id":112908162,"body_markdown":"@IwanAucamp: you are creating a **new** instance on *every* call — this is wasteful because the formatter can be a constant and can only be created once (given that you don&#39;t need thread safety as SDF is not thread-safe).","body":"@IwanAucamp: you are creating a <b>new</b> instance on <i>every</i> call — this is wasteful because the formatter can be a constant and can only be created once (given that you don&#39;t need thread safety as SDF is not thread-safe)."}],"answers":[{"tags":[],"owner":{"account_id":48120,"reputation":93879,"user_id":142822,"display_name":"KV Prajapati"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1348545741,"creation_date":1348545741,"answer_id":12576025,"question_id":12575990,"body_markdown":"`java.util.Date` object can&#39;t represent *date* in *custom* format instead you&#39;ve to use `SimpleDateFormat.format` method that returns `string`.\r\n\r\n    String myString=format1.format(date);\r\n\r\n ","title":"Calendar date to yyyy-MM-dd format in java","body":"<p><code>java.util.Date</code> object can't represent <em>date</em> in <em>custom</em> format instead you've to use <code>SimpleDateFormat.format</code> method that returns <code>string</code>.</p>\n\n<pre><code>String myString=format1.format(date);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1482219,"reputation":7021,"user_id":1391333,"accept_rate":97,"display_name":"ElderMael"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1348545771,"creation_date":1348545771,"answer_id":12576033,"question_id":12575990,"body_markdown":"In order to parse a `java.util.Date` object you have to convert it to String first using your own format.\r\n\r\n    inActiveDate = format1.parse(  format1.format(date)  );\r\n\r\nBut I believe you are being redundant here.","title":"Calendar date to yyyy-MM-dd format in java","body":"<p>In order to parse a <code>java.util.Date</code> object you have to convert it to String first using your own format.</p>\n\n<pre><code>inActiveDate = format1.parse(  format1.format(date)  );\n</code></pre>\n\n<p>But I believe you are being redundant here.</p>\n"},{"tags":[],"owner":{"account_id":387774,"reputation":913,"user_id":746334,"accept_rate":75,"display_name":"Niroshan Abayakoon"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1348546136,"creation_date":1348545905,"answer_id":12576049,"question_id":12575990,"body_markdown":"Your code is wrong. No point of  parsing date and keep that as Date object. \r\n\r\n\r\nYou can format the calender date object when you want to display and keep  that as a string. \r\n\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.add(Calendar.DATE, 1);\r\n    Date date = cal.getTime();             \r\n    SimpleDateFormat format1 = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);          \r\n    String inActiveDate = null;\r\n    try {\r\n        inActiveDate = format1.format(date);\r\n        System.out.println(inActiveDate );\r\n    } catch (ParseException e1) {\r\n        // TODO Auto-generated catch block\r\n        e1.printStackTrace();\r\n    }","title":"Calendar date to yyyy-MM-dd format in java","body":"<p>Your code is wrong. No point of  parsing date and keep that as Date object. </p>\n\n<p>You can format the calender date object when you want to display and keep  that as a string. </p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\ncal.add(Calendar.DATE, 1);\nDate date = cal.getTime();             \nSimpleDateFormat format1 = new SimpleDateFormat(\"yyyy-MM-dd\");          \nString inActiveDate = null;\ntry {\n    inActiveDate = format1.format(date);\n    System.out.println(inActiveDate );\n} catch (ParseException e1) {\n    // TODO Auto-generated catch block\n    e1.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":1,"up_vote_count":379,"is_accepted":true,"score":378,"last_activity_date":1526023344,"creation_date":1348547277,"answer_id":12576219,"question_id":12575990,"body_markdown":"A Java `Date` is a container for the number of milliseconds since January 1, 1970, 00:00:00 GMT.\r\n\r\nWhen you use something like `System.out.println(date)`, Java uses `Date.toString()` to print the contents.\r\n\r\nThe only way to change it is to override `Date` and provide your own implementation of `Date.toString()`.  Now before you fire up your IDE and try this, I wouldn&#39;t; it will only complicate matters. You are better off formatting the date to the format you want to use (or display).\r\n\r\n#Java 8+\r\n\r\n    LocalDateTime ldt = LocalDateTime.now().plusDays(1);\r\n\tDateTimeFormatter formmat1 = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;, Locale.ENGLISH);\r\n\tSystem.out.println(ldt);\r\n    // Output &quot;2018-05-12T17:21:53.658&quot;\r\n\r\n\tString formatter = formmat1.format(ldt);\r\n\tSystem.out.println(formatter);\r\n    // 2018-05-12\r\n\r\n\r\n#Prior to Java 8\r\n\r\nYou should be making use of the [ThreeTen Backport](http://www.threeten.org/threetenbp/)\r\n\r\nThe following is maintained for historical purposes (as the original answer)\r\n\r\nWhat you can do, is format the date.\r\n\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.add(Calendar.DATE, 1);\r\n    SimpleDateFormat format1 = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    System.out.println(cal.getTime());\r\n    // Output &quot;Wed Sep 26 14:23:28 EST 2012&quot;\r\n\r\n    String formatted = format1.format(cal.getTime());\r\n    System.out.println(formatted);\r\n    // Output &quot;2012-09-26&quot;\r\n\r\n    System.out.println(format1.parse(formatted));\r\n    // Output &quot;Wed Sep 26 00:00:00 EST 2012&quot;\r\n\r\nThese are actually the same date, represented differently.\r\n","title":"Calendar date to yyyy-MM-dd format in java","body":"<p>A Java <code>Date</code> is a container for the number of milliseconds since January 1, 1970, 00:00:00 GMT.</p>\n\n<p>When you use something like <code>System.out.println(date)</code>, Java uses <code>Date.toString()</code> to print the contents.</p>\n\n<p>The only way to change it is to override <code>Date</code> and provide your own implementation of <code>Date.toString()</code>.  Now before you fire up your IDE and try this, I wouldn't; it will only complicate matters. You are better off formatting the date to the format you want to use (or display).</p>\n\n<h1>Java 8+</h1>\n\n<pre><code>LocalDateTime ldt = LocalDateTime.now().plusDays(1);\nDateTimeFormatter formmat1 = DateTimeFormatter.ofPattern(\"yyyy-MM-dd\", Locale.ENGLISH);\nSystem.out.println(ldt);\n// Output \"2018-05-12T17:21:53.658\"\n\nString formatter = formmat1.format(ldt);\nSystem.out.println(formatter);\n// 2018-05-12\n</code></pre>\n\n<h1>Prior to Java 8</h1>\n\n<p>You should be making use of the <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\">ThreeTen Backport</a></p>\n\n<p>The following is maintained for historical purposes (as the original answer)</p>\n\n<p>What you can do, is format the date.</p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\ncal.add(Calendar.DATE, 1);\nSimpleDateFormat format1 = new SimpleDateFormat(\"yyyy-MM-dd\");\nSystem.out.println(cal.getTime());\n// Output \"Wed Sep 26 14:23:28 EST 2012\"\n\nString formatted = format1.format(cal.getTime());\nSystem.out.println(formatted);\n// Output \"2012-09-26\"\n\nSystem.out.println(format1.parse(formatted));\n// Output \"Wed Sep 26 00:00:00 EST 2012\"\n</code></pre>\n\n<p>These are actually the same date, represented differently.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1450732304,"creation_date":1393318745,"answer_id":22009143,"question_id":12575990,"body_markdown":"# java.time\r\n\r\nThe [answer by MadProgrammer][1] is correct, especially the tip about [Joda-Time][2]. The successor to Joda-Time is now built into [Java 8][3] as the new [java.time package][4]. Here&#39;s example code in Java 8.\r\n\r\nWhen working with date-time (as opposed to local date), the [**time zone**](https://en.wikipedia.org/wiki/Time_zone) in critical. The day-of-month depends on the time zone. For example, the [India time zone][5] is `+05:30` (five and a half hours ahead of UTC), while [France][6] is only one hour ahead. So a moment in a new day in India has one date while the same moment in France has “yesterday’s” date. Creating string output lacking any time zone or offset information is creating ambiguity. You asked for YYYY-MM-DD output so I provided, but I don&#39;t recommend it. Instead of [`ISO_LOCAL_DATE`][7] I would have used [`ISO_DATE`][8] to get this output: `2014-02-25+05:30`\r\n\r\n    ZoneId zoneId = ZoneId.of( &quot;Asia/Kolkata&quot; );\r\n    ZonedDateTime zonedDateTime = ZonedDateTime.now( zoneId );\r\n\r\n    DateTimeFormatter formatterOutput = DateTimeFormatter.ISO_LOCAL_DATE; // Caution: The &quot;LOCAL&quot; part means we are losing time zone information, creating ambiguity.\r\n    String output = formatterOutput.format( zonedDateTime );\r\n\r\nDump to console…\r\n\r\n    System.out.println( &quot;zonedDateTime: &quot; + zonedDateTime );\r\n    System.out.println( &quot;output: &quot; + output );\r\n\r\nWhen run…\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    zonedDateTime: 2014-02-25T14:22:20.919+05:30[Asia/Kolkata]\r\n    output: 2014-02-25\r\n\r\n# Joda-Time\r\n\r\nSimilar code using the [Joda-Time][2] library, the precursor to java.time.\r\n\r\n    DateTimeZone zone = new DateTimeZone( &quot;Asia/Kolkata&quot; );\r\n    DateTime dateTime = DateTime.now( zone );\r\n    DateTimeFormatter formatter = ISODateTimeFormat.date();\r\n    String output = formatter.print( dateTime );\r\n\r\n# ISO 8601\r\n\r\nBy the way, that format of your input string is a standard format, one of several handy date-time string formats defined by [ISO 8601][9]. \r\n\r\nBoth Joda-Time and java.time use ISO 8601 formats by default when parsing and generating string representations of various date-time values.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/12576219/642706\r\n  [2]: http://www.joda.org/joda-time/\r\n  [3]: https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\r\n  [4]: http://download.java.net/jdk8/docs/api/index.html?java/time/package-summary.html\r\n  [5]: https://en.wikipedia.org/wiki/Time_in_India\r\n  [6]: https://en.wikipedia.org/wiki/Time_in_France\r\n  [7]: http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE\r\n  [8]: http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_DATE\r\n  [9]: https://en.wikipedia.org/wiki/ISO_8601","title":"Calendar date to yyyy-MM-dd format in java","body":"<h1>java.time</h1>\n\n<p>The <a href=\"https://stackoverflow.com/a/12576219/642706\">answer by MadProgrammer</a> is correct, especially the tip about <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a>. The successor to Joda-Time is now built into <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\">Java 8</a> as the new <a href=\"http://download.java.net/jdk8/docs/api/index.html?java/time/package-summary.html\" rel=\"noreferrer\">java.time package</a>. Here's example code in Java 8.</p>\n\n<p>When working with date-time (as opposed to local date), the <a href=\"https://en.wikipedia.org/wiki/Time_zone\" rel=\"noreferrer\"><strong>time zone</strong></a> in critical. The day-of-month depends on the time zone. For example, the <a href=\"https://en.wikipedia.org/wiki/Time_in_India\" rel=\"noreferrer\">India time zone</a> is <code>+05:30</code> (five and a half hours ahead of UTC), while <a href=\"https://en.wikipedia.org/wiki/Time_in_France\" rel=\"noreferrer\">France</a> is only one hour ahead. So a moment in a new day in India has one date while the same moment in France has “yesterday’s” date. Creating string output lacking any time zone or offset information is creating ambiguity. You asked for YYYY-MM-DD output so I provided, but I don't recommend it. Instead of <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE\" rel=\"noreferrer\"><code>ISO_LOCAL_DATE</code></a> I would have used <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_DATE\" rel=\"noreferrer\"><code>ISO_DATE</code></a> to get this output: <code>2014-02-25+05:30</code></p>\n\n<pre><code>ZoneId zoneId = ZoneId.of( \"Asia/Kolkata\" );\nZonedDateTime zonedDateTime = ZonedDateTime.now( zoneId );\n\nDateTimeFormatter formatterOutput = DateTimeFormatter.ISO_LOCAL_DATE; // Caution: The \"LOCAL\" part means we are losing time zone information, creating ambiguity.\nString output = formatterOutput.format( zonedDateTime );\n</code></pre>\n\n<p>Dump to console…</p>\n\n<pre><code>System.out.println( \"zonedDateTime: \" + zonedDateTime );\nSystem.out.println( \"output: \" + output );\n</code></pre>\n\n<p>When run…</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>zonedDateTime: 2014-02-25T14:22:20.919+05:30[Asia/Kolkata]\noutput: 2014-02-25\n</code></pre>\n\n<h1>Joda-Time</h1>\n\n<p>Similar code using the <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> library, the precursor to java.time.</p>\n\n<pre><code>DateTimeZone zone = new DateTimeZone( \"Asia/Kolkata\" );\nDateTime dateTime = DateTime.now( zone );\nDateTimeFormatter formatter = ISODateTimeFormat.date();\nString output = formatter.print( dateTime );\n</code></pre>\n\n<h1>ISO 8601</h1>\n\n<p>By the way, that format of your input string is a standard format, one of several handy date-time string formats defined by <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a>. </p>\n\n<p>Both Joda-Time and java.time use ISO 8601 formats by default when parsing and generating string representations of various date-time values.</p>\n"},{"tags":[],"owner":{"account_id":6317162,"reputation":358,"user_id":4906677,"accept_rate":83,"display_name":"Drew"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1431776265,"creation_date":1431776265,"answer_id":30275171,"question_id":12575990,"body_markdown":"    Calendar cal = Calendar.getInstance();\r\n    cal.add(Calendar.DATE, 7);\r\n    Date date = c.getTime();\r\n    SimpleDateFormat ft = new SimpleDateFormat(&quot;MM-dd-YYYY&quot;);\r\n    JOptionPane.showMessageDialog(null, ft.format(date));\r\n\r\nThis will display your date + 7 days in month, day and year format in a JOption window pane. ","title":"Calendar date to yyyy-MM-dd format in java","body":"<pre><code>Calendar cal = Calendar.getInstance();\ncal.add(Calendar.DATE, 7);\nDate date = c.getTime();\nSimpleDateFormat ft = new SimpleDateFormat(\"MM-dd-YYYY\");\nJOptionPane.showMessageDialog(null, ft.format(date));\n</code></pre>\n\n<p>This will display your date + 7 days in month, day and year format in a JOption window pane. </p>\n"},{"tags":[],"owner":{"account_id":5856157,"reputation":282,"user_id":4613329,"accept_rate":71,"display_name":"JavaLearner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440064315,"creation_date":1440005165,"answer_id":32101927,"question_id":12575990,"body_markdown":"I found this code where date is compared in a format to compare with date field in database...may be this might be helpful to you...\r\n\r\nWhen you convert the string to date using simpledateformat, it is hard to compare with the Date field in mysql databases.\r\n\r\nSo convert the java string date in the format using select STR_to_DATE(&#39;yourdate&#39;,&#39;%m/%d/%Y&#39;) --&gt; in this format, then you will get the exact date format of mysql date field.\r\n\r\nhttp://javainfinite.com/java/java-convert-string-to-date-and-compare/\r\n","title":"Calendar date to yyyy-MM-dd format in java","body":"<p>I found this code where date is compared in a format to compare with date field in database...may be this might be helpful to you...</p>\n\n<p>When you convert the string to date using simpledateformat, it is hard to compare with the Date field in mysql databases.</p>\n\n<p>So convert the java string date in the format using select STR_to_DATE('yourdate','%m/%d/%Y') --> in this format, then you will get the exact date format of mysql date field.</p>\n\n<p><a href=\"http://javainfinite.com/java/java-convert-string-to-date-and-compare/\" rel=\"nofollow\">http://javainfinite.com/java/java-convert-string-to-date-and-compare/</a></p>\n"},{"tags":[],"owner":{"account_id":9250133,"reputation":61,"user_id":8674903,"display_name":"Petr"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1506416811,"creation_date":1506416811,"answer_id":46422190,"question_id":12575990,"body_markdown":"    public static void main(String[] args) {\r\n        Calendar cal = Calendar.getInstance();\r\n        cal.set(year, month, date);\r\n        SimpleDateFormat format1 = new SimpleDateFormat(&quot;yyyy MM dd&quot;);\r\n        String formatted = format1.format(cal.getTime());\r\n        System.out.println(formatted);\r\n    }","title":"Calendar date to yyyy-MM-dd format in java","body":"<pre><code>public static void main(String[] args) {\n    Calendar cal = Calendar.getInstance();\n    cal.set(year, month, date);\n    SimpleDateFormat format1 = new SimpleDateFormat(\"yyyy MM dd\");\n    String formatted = format1.format(cal.getTime());\n    System.out.println(formatted);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6792992,"reputation":166,"user_id":5229380,"display_name":"Unnati Solanki"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1530789374,"creation_date":1530789374,"answer_id":51189947,"question_id":12575990,"body_markdown":"    public static String ThisWeekStartDate(WebDriver driver) {\r\n    \t\tCalendar c = Calendar.getInstance();\r\n    \t\t//ensure the method works within current month\r\n    \t\tc.set(Calendar.DAY_OF_WEEK, Calendar.SUNDAY);\r\n    \t\tSystem.out.println(&quot;Before Start Date &quot; + c.getTime());\r\n    \t\tDate date = c.getTime();\r\n    \t\t\r\n    \t\t  SimpleDateFormat dfDate = new SimpleDateFormat(&quot;dd MMM yyyy hh.mm a&quot;);\r\n    \t\t\r\n    \t\t  String CurrentDate = dfDate.format(date);\r\n    \t\t  System.out.println(&quot;Start Date &quot; + CurrentDate);\r\n    \t\t  return CurrentDate;\r\n    \t\t\r\n    \t}\r\n    \tpublic static String ThisWeekEndDate(WebDriver driver) {\r\n    \t\r\n    \t\tCalendar c = Calendar.getInstance();\r\n    \t\t//ensure the method works within current month\r\n    \t\tc.set(Calendar.DAY_OF_WEEK, Calendar.SATURDAY);\r\n    \t\tSystem.out.println(&quot;Before End Date &quot; + c.getTime());\r\n    \t\tDate date = c.getTime();\r\n    \t\t\r\n    \t\t  SimpleDateFormat dfDate = new SimpleDateFormat(&quot;dd MMM yyyy hh.mm a&quot;);\r\n    \r\n    \t\t  String CurrentDate = dfDate.format(date);\r\n    \t\t  System.out.println(&quot;End Date &quot; + CurrentDate);\r\n    \t\t  return CurrentDate;\r\n    \t}","title":"Calendar date to yyyy-MM-dd format in java","body":"<pre><code>public static String ThisWeekStartDate(WebDriver driver) {\n        Calendar c = Calendar.getInstance();\n        //ensure the method works within current month\n        c.set(Calendar.DAY_OF_WEEK, Calendar.SUNDAY);\n        System.out.println(\"Before Start Date \" + c.getTime());\n        Date date = c.getTime();\n\n          SimpleDateFormat dfDate = new SimpleDateFormat(\"dd MMM yyyy hh.mm a\");\n\n          String CurrentDate = dfDate.format(date);\n          System.out.println(\"Start Date \" + CurrentDate);\n          return CurrentDate;\n\n    }\n    public static String ThisWeekEndDate(WebDriver driver) {\n\n        Calendar c = Calendar.getInstance();\n        //ensure the method works within current month\n        c.set(Calendar.DAY_OF_WEEK, Calendar.SATURDAY);\n        System.out.println(\"Before End Date \" + c.getTime());\n        Date date = c.getTime();\n\n          SimpleDateFormat dfDate = new SimpleDateFormat(\"dd MMM yyyy hh.mm a\");\n\n          String CurrentDate = dfDate.format(date);\n          System.out.println(\"End Date \" + CurrentDate);\n          return CurrentDate;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11282124,"reputation":694,"user_id":14004940,"display_name":"Mr. Techie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655192667,"creation_date":1655192667,"answer_id":72613208,"question_id":12575990,"body_markdown":"My answer is for kotlin language.\r\n\r\nYou can use `SimpleDateFormat` to achieve the result:\r\n```\r\nval date = Date(timeInSec)\r\nval formattedDate = SimpleDateFormat(&quot;yyyy-MM-dd&quot;, Locale(&quot;IN&quot;)).format(date)\r\n```\r\nfor details click [here](https://stackoverflow.com/a/72613055/14004940).\r\n\r\n**OR**\r\n\r\nUse `Calendar` to do it for you:\r\n```\r\nval dateObject = Date(timeInMillis)\r\nval calendarInstance = Calendar.getInstance()\r\ncalendarInstance.time = dateObject\r\nval date = &quot;${calendarInstance.get(Calendar.YEAR)}-${calendarInstance.get(Calendar.MONTH)}-${calendarInstance.get(Calendar.DATE)}&quot;\r\n```\r\nFor more details check [this answer](https://stackoverflow.com/a/72607027/14004940).\r\n ","title":"Calendar date to yyyy-MM-dd format in java","body":"<p>My answer is for kotlin language.</p>\n<p>You can use <code>SimpleDateFormat</code> to achieve the result:</p>\n<pre><code>val date = Date(timeInSec)\nval formattedDate = SimpleDateFormat(&quot;yyyy-MM-dd&quot;, Locale(&quot;IN&quot;)).format(date)\n</code></pre>\n<p>for details click <a href=\"https://stackoverflow.com/a/72613055/14004940\">here</a>.</p>\n<p><strong>OR</strong></p>\n<p>Use <code>Calendar</code> to do it for you:</p>\n<pre><code>val dateObject = Date(timeInMillis)\nval calendarInstance = Calendar.getInstance()\ncalendarInstance.time = dateObject\nval date = &quot;${calendarInstance.get(Calendar.YEAR)}-${calendarInstance.get(Calendar.MONTH)}-${calendarInstance.get(Calendar.DATE)}&quot;\n</code></pre>\n<p>For more details check <a href=\"https://stackoverflow.com/a/72607027/14004940\">this answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":260305,"reputation":6538,"user_id":543770,"accept_rate":78,"display_name":"Doug"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662125719,"creation_date":1662125719,"answer_id":73583424,"question_id":12575990,"body_markdown":"I don&#39;t know about y&#39;all, but I always want this stuff as a one-liner. The other answers are fine and dandy and work great, but here is it condensed to a single line. Now you can hold less lines of code in your mind :-).\r\n\r\nHere is the one Liner:\r\n\r\n    String currentDate = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(new Date());\r\n\r\n","title":"Calendar date to yyyy-MM-dd format in java","body":"<p>I don't know about y'all, but I always want this stuff as a one-liner. The other answers are fine and dandy and work great, but here is it condensed to a single line. Now you can hold less lines of code in your mind :-).</p>\n<p>Here is the one Liner:</p>\n<pre><code>String currentDate = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(new Date());\n</code></pre>\n"}],"owner":{"account_id":181043,"reputation":8252,"user_id":414773,"accept_rate":46,"display_name":"skmaran.nr.iras"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":760001,"favorite_count":0,"down_vote_count":1,"up_vote_count":235,"accepted_answer_id":12576219,"answer_count":11,"score":234,"last_activity_date":1662125719,"creation_date":1348545444,"question_id":12575990,"body_markdown":"How to convert calendar date to `yyyy-MM-dd` format.\r\n\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.add(Calendar.DATE, 1);\r\n    Date date = cal.getTime();\t\t\t   \r\n    SimpleDateFormat format1 = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    String date1 = format1.format(date);\t\t\t\r\n    Date inActiveDate = null;\r\n    try {\r\n    \tinActiveDate = format1.parse(date1);\r\n    } catch (ParseException e1) {\r\n    \t// TODO Auto-generated catch block\r\n    \te1.printStackTrace();\r\n    }\r\n\r\n\r\nThis will produce `inActiveDate = Wed Sep 26 00:00:00 IST 2012`. But what I need is `2012-09-26`. My purpose is to compare this date with another date in my database using Hibernate criteria. So I need the date object in `yyyy-MM-dd` format.","title":"Calendar date to yyyy-MM-dd format in java","body":"<p>How to convert calendar date to <code>yyyy-MM-dd</code> format.</p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\ncal.add(Calendar.DATE, 1);\nDate date = cal.getTime();             \nSimpleDateFormat format1 = new SimpleDateFormat(\"yyyy-MM-dd\");\nString date1 = format1.format(date);            \nDate inActiveDate = null;\ntry {\n    inActiveDate = format1.parse(date1);\n} catch (ParseException e1) {\n    // TODO Auto-generated catch block\n    e1.printStackTrace();\n}\n</code></pre>\n\n<p>This will produce <code>inActiveDate = Wed Sep 26 00:00:00 IST 2012</code>. But what I need is <code>2012-09-26</code>. My purpose is to compare this date with another date in my database using Hibernate criteria. So I need the date object in <code>yyyy-MM-dd</code> format.</p>\n"},{"tags":["java","arrays","spring","spring-boot"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":1,"creation_date":1662125565,"post_id":73583366,"comment_id":129940226,"body_markdown":"Put it in another column in the table is the easiest way","body":"Put it in another column in the table is the easiest way"},{"owner":{"account_id":10244422,"reputation":599,"user_id":7560684,"display_name":"VKP"},"score":0,"creation_date":1662125680,"post_id":73583366,"comment_id":129940257,"body_markdown":"unfortunately i cant control the table definition.","body":"unfortunately i cant control the table definition."},{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1662126086,"post_id":73583366,"comment_id":129940446,"body_markdown":"hacky... prefix the byte array with file name as bytes, use fixed length block and split it on read","body":"hacky... prefix the byte array with file name as bytes, use fixed length block and split it on read"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1662127202,"post_id":73583366,"comment_id":129940898,"body_markdown":"From what package is ```Document``` ?","body":"From what package is <code>Document</code> ?"},{"owner":{"account_id":10244422,"reputation":599,"user_id":7560684,"display_name":"VKP"},"score":0,"creation_date":1662127235,"post_id":73583366,"comment_id":129940908,"body_markdown":"Document is my entity class","body":"Document is my entity class"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1662127338,"post_id":73583366,"comment_id":129940961,"body_markdown":"Not that this will necessarily help in a solution, but it should take ```InputStream``` as well in a ctor","body":"Not that this will necessarily help in a solution, but it should take <code>InputStream</code> as well in a ctor"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1662127522,"post_id":73583366,"comment_id":129941044,"body_markdown":"`new Document(&quot;Error-&quot; + title, ...);`?","body":"<code>new Document(&quot;Error-&quot; + title, ...);</code>?"},{"owner":{"account_id":10244422,"reputation":599,"user_id":7560684,"display_name":"VKP"},"score":0,"creation_date":1662128033,"post_id":73583366,"comment_id":129941225,"body_markdown":"But that require some changes from API and UI as well. am trying to avoid those changes.","body":"But that require some changes from API and UI as well. am trying to avoid those changes."}],"owner":{"account_id":10244422,"reputation":599,"user_id":7560684,"display_name":"VKP"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662125715,"creation_date":1662125439,"question_id":73583366,"body_markdown":"I have an inputstream which converting to byteArray to store to a Oracle table. \r\nI&#39;d like to add a file name before saving to table. \r\n\r\n    InputStream   inputStream = url.openStream();\r\n    byte[] errorByteArray = inputStream.readAllBytes();\r\n    Document doc = new Document(&quot;Error&quot;,&quot;application/zip&quot;,errorByteArray);\r\n    docRepo.save(doc);\r\n\r\nI am getting a UUID kind file name when downloading the file from my another API to download this file. I like to give a meaningful name while storing. How can I do it?","title":"How to add a file name to byteArray in Java while storing to DB through JPA","body":"<p>I have an inputstream which converting to byteArray to store to a Oracle table.\nI'd like to add a file name before saving to table.</p>\n<pre><code>InputStream   inputStream = url.openStream();\nbyte[] errorByteArray = inputStream.readAllBytes();\nDocument doc = new Document(&quot;Error&quot;,&quot;application/zip&quot;,errorByteArray);\ndocRepo.save(doc);\n</code></pre>\n<p>I am getting a UUID kind file name when downloading the file from my another API to download this file. I like to give a meaningful name while storing. How can I do it?</p>\n"},{"tags":["java","validation","bean-validation"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1662120408,"post_id":73582271,"comment_id":129938306,"body_markdown":"Ideally in the class itself.  `Integer.validate()` would be one way.  Failing that perhaps in a second class that can be added to the definitions: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/InputVerifier.html","body":"Ideally in the class itself.  <code>Integer.validate()</code> would be one way.  Failing that perhaps in a second class that can be added to the definitions: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/InputVerifier.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java&zwnj;&#8203;x/&hellip;</a>"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1662120519,"post_id":73582271,"comment_id":129938342,"body_markdown":"Is the base and sub-classes immutable?  If yes, could put the validations in the constructor of the sub-class.","body":"Is the base and sub-classes immutable?  If yes, could put the validations in the constructor of the sub-class."},{"owner":{"account_id":6835167,"reputation":2352,"user_id":5257473,"accept_rate":83,"display_name":"Mariusz.v7"},"score":0,"creation_date":1662120548,"post_id":73582271,"comment_id":129938348,"body_markdown":"Thanks, I forgot to mention that I prefer to use annotations for that.","body":"Thanks, I forgot to mention that I prefer to use annotations for that."}],"answers":[{"tags":[],"owner":{"account_id":6835167,"reputation":2352,"user_id":5257473,"accept_rate":83,"display_name":"Mariusz.v7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662123713,"creation_date":1662123713,"answer_id":73583011,"question_id":73582271,"body_markdown":"I have found a solution. It&#39;s enough to override the getter of the class and place the annotations there:\r\n\r\n    class ConcreteString&lt;String&gt; {\r\n        @Override\r\n        @NotBlank\r\n        public String getValue(){\r\n            return super.getValue();\r\n        }\r\n    }","title":"Java generic type validation","body":"<p>I have found a solution. It's enough to override the getter of the class and place the annotations there:</p>\n<pre><code>class ConcreteString&lt;String&gt; {\n    @Override\n    @NotBlank\n    public String getValue(){\n        return super.getValue();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662125668,"creation_date":1662125668,"answer_id":73583412,"question_id":73582271,"body_markdown":"I would suggest to use the Template design pattern and apply the validations accordingly. \r\n\r\nFirst we have the generic class that accepts any type as `T` with an abstract method that the children must implement.\r\n```\r\npublic abstract class Generic&lt;T&gt; {\r\n    protected T value;\r\n    abstract T getValue();\r\n}\r\n```\r\nthen we have a child for integer implementation with annotations `@NotNull` and `@PositiveOrZero`.\r\n```\r\nimport javax.validation.constraints.NotNull;\r\nimport javax.validation.constraints.PositiveOrZero;\r\n\r\npublic class ConcreteInteger extends Generic&lt;Integer&gt; {\r\n    public ConcreteInteger(Integer v) {\r\n        value = v;\r\n    }\r\n    @Override\r\n    @NotNull\r\n    @PositiveOrZero\r\n    public Integer getValue() {\r\n        return value;\r\n    }\r\n}\r\n```\r\nand a child for string implementation with annotations `@NotNull`, and `@NotBlank`. Here we already see that we can have different validations.\r\n```\r\npackage com.yieldlab.reporting.dto.analytics;\r\n\r\nimport javax.validation.constraints.NotBlank;\r\nimport javax.validation.constraints.NotNull;\r\n\r\npublic class ConcreteString extends Generic&lt;String&gt; {\r\n    public ConcreteString(String v) {\r\n        value = v;\r\n    }\r\n    @Override\r\n    @NotNull\r\n    @NotBlank\r\n    public String getValue() {\r\n        return value;\r\n    }\r\n}\r\n```\r\nBut it won&#39;t validate if we just use the annotations. We have to invoke the `javax.validation.Validator` API. Here is one example:\r\n```\r\nimport javax.validation.Configuration;\r\nimport javax.validation.ConstraintViolation;\r\nimport javax.validation.Validation;\r\nimport javax.validation.Validator;\r\nimport javax.validation.ValidatorFactory;\r\n\r\npublic class BeanFieldValidationExample {\r\n    private static final Validator validator;\r\n    static {\r\n        Configuration&lt;?&gt; config = Validation.byDefaultProvider().configure();\r\n        ValidatorFactory factory = config.buildValidatorFactory();\r\n        validator = factory.getValidator();\r\n        factory.close();\r\n    }\r\n    public static void main(String[] args) {\r\n        // it won&#39;t validate by just call the constructor\r\n        ConcreteInteger concreteInteger0 = new ConcreteInteger(0);\r\n        System.out.println(concreteInteger0.value);\r\n        ConcreteInteger concreteInteger1 = new ConcreteInteger(1);\r\n        System.out.println(concreteInteger1.value);\r\n        ConcreteInteger concreteIntegerMinus1 = new ConcreteInteger(-1);\r\n        System.out.println(concreteIntegerMinus1.value);\r\n        ConcreteInteger concreteIntegerNull = new ConcreteInteger(null);\r\n        System.out.println(concreteIntegerNull.value);\r\n\r\n        ConcreteString concreteString0 = new ConcreteString(&quot;some string&quot;);\r\n        System.out.println(concreteString0.value);\r\n        ConcreteString concreteString1 = new ConcreteString(&quot;&quot;);\r\n        System.out.println(concreteString1.value);\r\n        ConcreteString concreteStringNull = new ConcreteString(null);\r\n        System.out.println(concreteStringNull.value);\r\n\r\n        // invoking the validator API will in validate our beans validator.validate(concreteInteger0).stream().forEach(BeanFieldValidationExample::printErrorConcreteInteger);\r\n        validator.validate(concreteInteger1).stream().forEach(BeanFieldValidationExample::printErrorConcreteInteger);\r\n        validator.validate(concreteIntegerMinus1).stream().forEach(BeanFieldValidationExample::printErrorConcreteInteger);\r\n        validator.validate(concreteIntegerNull).stream().forEach(BeanFieldValidationExample::printErrorConcreteInteger);\r\n\r\n        validator.validate(concreteString0).stream().forEach(BeanFieldValidationExample::printErrorConcreteString);\r\n        validator.validate(concreteString1).stream().forEach(BeanFieldValidationExample::printErrorConcreteString);\r\n        validator.validate(concreteStringNull).stream().forEach(BeanFieldValidationExample::printErrorConcreteString);\r\n    }\r\n\r\n    private static void printErrorConcreteInteger(ConstraintViolation&lt;ConcreteInteger&gt; concreteIntegerConstraintViolation) {\r\n        System.out.println(concreteIntegerConstraintViolation.getPropertyPath() + &quot; &quot; + concreteIntegerConstraintViolation.getMessage());\r\n    }\r\n\r\n    private static void printErrorConcreteString(ConstraintViolation&lt;ConcreteString&gt; concreteStringConstraintViolation) {\r\n        System.out.println(concreteStringConstraintViolation.getPropertyPath() + &quot; &quot; + concreteStringConstraintViolation.getMessage());\r\n    }\r\n}\r\n```\r\nthen we can see the output:\r\n```\r\n0\r\n1\r\n-1\r\nnull\r\nsome string\r\n\r\nnull\r\nvalue must be greater than or equal to 0\r\nvalue must not be null\r\nvalue must not be blank\r\nvalue must not be null\r\nvalue must not be blank\r\n```","title":"Java generic type validation","body":"<p>I would suggest to use the Template design pattern and apply the validations accordingly.</p>\n<p>First we have the generic class that accepts any type as <code>T</code> with an abstract method that the children must implement.</p>\n<pre><code>public abstract class Generic&lt;T&gt; {\n    protected T value;\n    abstract T getValue();\n}\n</code></pre>\n<p>then we have a child for integer implementation with annotations <code>@NotNull</code> and <code>@PositiveOrZero</code>.</p>\n<pre><code>import javax.validation.constraints.NotNull;\nimport javax.validation.constraints.PositiveOrZero;\n\npublic class ConcreteInteger extends Generic&lt;Integer&gt; {\n    public ConcreteInteger(Integer v) {\n        value = v;\n    }\n    @Override\n    @NotNull\n    @PositiveOrZero\n    public Integer getValue() {\n        return value;\n    }\n}\n</code></pre>\n<p>and a child for string implementation with annotations <code>@NotNull</code>, and <code>@NotBlank</code>. Here we already see that we can have different validations.</p>\n<pre><code>package com.yieldlab.reporting.dto.analytics;\n\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.NotNull;\n\npublic class ConcreteString extends Generic&lt;String&gt; {\n    public ConcreteString(String v) {\n        value = v;\n    }\n    @Override\n    @NotNull\n    @NotBlank\n    public String getValue() {\n        return value;\n    }\n}\n</code></pre>\n<p>But it won't validate if we just use the annotations. We have to invoke the <code>javax.validation.Validator</code> API. Here is one example:</p>\n<pre><code>import javax.validation.Configuration;\nimport javax.validation.ConstraintViolation;\nimport javax.validation.Validation;\nimport javax.validation.Validator;\nimport javax.validation.ValidatorFactory;\n\npublic class BeanFieldValidationExample {\n    private static final Validator validator;\n    static {\n        Configuration&lt;?&gt; config = Validation.byDefaultProvider().configure();\n        ValidatorFactory factory = config.buildValidatorFactory();\n        validator = factory.getValidator();\n        factory.close();\n    }\n    public static void main(String[] args) {\n        // it won't validate by just call the constructor\n        ConcreteInteger concreteInteger0 = new ConcreteInteger(0);\n        System.out.println(concreteInteger0.value);\n        ConcreteInteger concreteInteger1 = new ConcreteInteger(1);\n        System.out.println(concreteInteger1.value);\n        ConcreteInteger concreteIntegerMinus1 = new ConcreteInteger(-1);\n        System.out.println(concreteIntegerMinus1.value);\n        ConcreteInteger concreteIntegerNull = new ConcreteInteger(null);\n        System.out.println(concreteIntegerNull.value);\n\n        ConcreteString concreteString0 = new ConcreteString(&quot;some string&quot;);\n        System.out.println(concreteString0.value);\n        ConcreteString concreteString1 = new ConcreteString(&quot;&quot;);\n        System.out.println(concreteString1.value);\n        ConcreteString concreteStringNull = new ConcreteString(null);\n        System.out.println(concreteStringNull.value);\n\n        // invoking the validator API will in validate our beans validator.validate(concreteInteger0).stream().forEach(BeanFieldValidationExample::printErrorConcreteInteger);\n        validator.validate(concreteInteger1).stream().forEach(BeanFieldValidationExample::printErrorConcreteInteger);\n        validator.validate(concreteIntegerMinus1).stream().forEach(BeanFieldValidationExample::printErrorConcreteInteger);\n        validator.validate(concreteIntegerNull).stream().forEach(BeanFieldValidationExample::printErrorConcreteInteger);\n\n        validator.validate(concreteString0).stream().forEach(BeanFieldValidationExample::printErrorConcreteString);\n        validator.validate(concreteString1).stream().forEach(BeanFieldValidationExample::printErrorConcreteString);\n        validator.validate(concreteStringNull).stream().forEach(BeanFieldValidationExample::printErrorConcreteString);\n    }\n\n    private static void printErrorConcreteInteger(ConstraintViolation&lt;ConcreteInteger&gt; concreteIntegerConstraintViolation) {\n        System.out.println(concreteIntegerConstraintViolation.getPropertyPath() + &quot; &quot; + concreteIntegerConstraintViolation.getMessage());\n    }\n\n    private static void printErrorConcreteString(ConstraintViolation&lt;ConcreteString&gt; concreteStringConstraintViolation) {\n        System.out.println(concreteStringConstraintViolation.getPropertyPath() + &quot; &quot; + concreteStringConstraintViolation.getMessage());\n    }\n}\n</code></pre>\n<p>then we can see the output:</p>\n<pre><code>0\n1\n-1\nnull\nsome string\n\nnull\nvalue must be greater than or equal to 0\nvalue must not be null\nvalue must not be blank\nvalue must not be null\nvalue must not be blank\n</code></pre>\n"}],"owner":{"account_id":6835167,"reputation":2352,"user_id":5257473,"accept_rate":83,"display_name":"Mariusz.v7"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73583412,"answer_count":2,"score":1,"last_activity_date":1662125668,"creation_date":1662120159,"question_id":73582271,"body_markdown":"I have a generic super class which I&#39;d like to validate:\r\n\r\n    abstract class Generic&lt;T&gt; {\r\n        // ... other validated fields\r\n\r\n        private T value;\r\n    }\r\n\r\nThen I have several concrete classes and for each of it I&#39;d like to appy specific validations on a `value` field.\r\n\r\nE.g. for the below class I&#39;d like to ensure that the `value` field is not less than 0.\r\n\r\n    class ConcreteInt&lt;Integer&gt; {\r\n    //    @Min(0)\r\n    }\r\n    \r\nAnother example, for the below class I&#39;d like to ensure that the `value` is not blank.\r\n\r\n    class ConcreteString&lt;String&gt; {\r\n    //    @NotBlank\r\n    }\r\n\r\nWhere should I put my validation annotations on a concrete classes to make them work?","title":"Java generic type validation","body":"<p>I have a generic super class which I'd like to validate:</p>\n<pre><code>abstract class Generic&lt;T&gt; {\n    // ... other validated fields\n\n    private T value;\n}\n</code></pre>\n<p>Then I have several concrete classes and for each of it I'd like to appy specific validations on a <code>value</code> field.</p>\n<p>E.g. for the below class I'd like to ensure that the <code>value</code> field is not less than 0.</p>\n<pre><code>class ConcreteInt&lt;Integer&gt; {\n//    @Min(0)\n}\n</code></pre>\n<p>Another example, for the below class I'd like to ensure that the <code>value</code> is not blank.</p>\n<pre><code>class ConcreteString&lt;String&gt; {\n//    @NotBlank\n}\n</code></pre>\n<p>Where should I put my validation annotations on a concrete classes to make them work?</p>\n"},{"tags":["java","xpath","moxy"],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662122796,"creation_date":1662122796,"answer_id":73582795,"question_id":73582694,"body_markdown":"You are missing `@` before the second attribute `attr2`.  \r\nAlso looks like you are missing `//` at the beginning of the expressions.  \r\nThese XPaths are returning the appropriate nodes texts:\r\n```xml\r\n&quot;//Tag[@attr1=&#39;A&#39;][@attr2=&#39;X&#39;]/text()&quot;\r\n&quot;//Tag[@attr1=&#39;A&#39;][@attr2=&#39;Y&#39;]/text()&quot;\r\n&quot;//Tag[@attr1=&#39;B&#39;][@attr2=&#39;X&#39;]/text()&quot;\r\n&quot;//Tag[@attr1=&#39;C&#39;][@attr2=&#39;Y&#39;]/text()&quot;\r\n\r\n```","title":"eclipse moxy @XmlPath combining predicates","body":"<p>You are missing <code>@</code> before the second attribute <code>attr2</code>.<br />\nAlso looks like you are missing <code>//</code> at the beginning of the expressions.<br />\nThese XPaths are returning the appropriate nodes texts:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&quot;//Tag[@attr1='A'][@attr2='X']/text()&quot;\n&quot;//Tag[@attr1='A'][@attr2='Y']/text()&quot;\n&quot;//Tag[@attr1='B'][@attr2='X']/text()&quot;\n&quot;//Tag[@attr1='C'][@attr2='Y']/text()&quot;\n\n</code></pre>\n"}],"owner":{"account_id":3158336,"reputation":198,"user_id":2670177,"display_name":"Pratik Tari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662125615,"creation_date":1662122253,"question_id":73582694,"body_markdown":"I am trying to use moxy @XmlPath to parse values with combination of predicates, but it is not being parsed instead a null is assigned. I have tried both syntax for combining predicates.\r\n\r\n   \r\n\r\n     @XmlPath(&quot;Tag[@attr1=&#39;A&#39;][@attr2=&#39;X&#39;]/text()&quot;)\r\n        @XmlPath(&quot;Tag[@attr1=&#39;A&#39; and @attr2=&#39;X&#39;]/text()&quot;)\r\n        \r\n        &lt;Element&gt;\r\n        &lt;Tag attr1=&quot;A&quot; attr2=&quot;X&quot;&gt;1&lt;/Tag&gt;\r\n        &lt;Tag attr1=&quot;A&quot; attr2=&quot;Y&quot;&gt;2&lt;/Tag&gt;\r\n        &lt;Tag attr1=&quot;B&quot; attr2=&quot;X&quot;&gt;3&lt;/Tag&gt;\r\n        &lt;Tag attr1=&quot;C&quot; attr2=&quot;Y&quot;&gt;4&lt;/Tag&gt;\r\n        &lt;/Element&gt;\r\n    \r\n        @XmlRootElement(name=&quot;Element&quot;) \r\n        ClassA{\r\n        @XmlPath(&quot;Tag[@attr1=&#39;A&#39;][@attr2=&#39;X&#39;]/text()&quot;)\r\n        String ax;\r\n        @XmlPath(&quot;Tag[@attr1=&#39;A&#39;][@attr2=&#39;Y&#39;]/text()&quot;)\r\n        String ay;\r\n        @XmlPath(&quot;Tag[@attr1=&#39;B&#39;][@attr2=&#39;X&#39;]/text()&quot;)\r\n        String bx;\r\n        @XmlPath(&quot;Tag[@attr1=&#39;B&#39;][@attr2=&#39;Y&#39;]/text()&quot;)\r\n        String by;\r\n    }","title":"eclipse moxy @XmlPath combining predicates","body":"<p>I am trying to use moxy @XmlPath to parse values with combination of predicates, but it is not being parsed instead a null is assigned. I have tried both syntax for combining predicates.</p>\n<pre><code> @XmlPath(&quot;Tag[@attr1='A'][@attr2='X']/text()&quot;)\n    @XmlPath(&quot;Tag[@attr1='A' and @attr2='X']/text()&quot;)\n    \n    &lt;Element&gt;\n    &lt;Tag attr1=&quot;A&quot; attr2=&quot;X&quot;&gt;1&lt;/Tag&gt;\n    &lt;Tag attr1=&quot;A&quot; attr2=&quot;Y&quot;&gt;2&lt;/Tag&gt;\n    &lt;Tag attr1=&quot;B&quot; attr2=&quot;X&quot;&gt;3&lt;/Tag&gt;\n    &lt;Tag attr1=&quot;C&quot; attr2=&quot;Y&quot;&gt;4&lt;/Tag&gt;\n    &lt;/Element&gt;\n\n    @XmlRootElement(name=&quot;Element&quot;) \n    ClassA{\n    @XmlPath(&quot;Tag[@attr1='A'][@attr2='X']/text()&quot;)\n    String ax;\n    @XmlPath(&quot;Tag[@attr1='A'][@attr2='Y']/text()&quot;)\n    String ay;\n    @XmlPath(&quot;Tag[@attr1='B'][@attr2='X']/text()&quot;)\n    String bx;\n    @XmlPath(&quot;Tag[@attr1='B'][@attr2='Y']/text()&quot;)\n    String by;\n}\n</code></pre>\n"},{"tags":["java","jsonschema","jackson-databind","json-schema-validator"],"answers":[{"tags":[],"owner":{"account_id":23652352,"reputation":31,"user_id":17681070,"display_name":"tv31"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662125410,"creation_date":1662125410,"answer_id":73583361,"question_id":72758436,"body_markdown":"You can use the anyOf property of schema :\r\n\r\nTry the below one :\r\n\r\n````\r\n{\r\n  &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,\r\n  &quot;title&quot;: &quot;Form Element&quot;,\r\n  &quot;type&quot;: &quot;object&quot;,\r\n  &quot;additionalProperties&quot;: false,\r\n  &quot;properties&quot;: {\r\n    &quot;fieldName&quot;: {\r\n      &quot;type&quot;: &quot;string&quot;\r\n    },\r\n    &quot;fieldType&quot;: {\r\n      &quot;type&quot;: &quot;string&quot;\r\n    },\r\n    &quot;value&quot;: {\r\n      &quot;$ref&quot;: &quot;#/definitions/Object&quot;\r\n    }\r\n  },\r\n  &quot;definitions&quot;: {\r\n    &quot;Object&quot;: {\r\n      &quot;format&quot;: &quot;&quot;,\r\n      &quot;anyOf&quot;: [\r\n        {\r\n          &quot;type&quot;: &quot;object&quot;\r\n        },\r\n        {\r\n          &quot;type&quot;: &quot;string&quot;\r\n        },\r\n        {\r\n          &quot;type&quot;: &quot;number&quot;\r\n        },\r\n        {\r\n          &quot;type&quot;: &quot;integer&quot;\r\n        },\r\n        {\r\n          &quot;type&quot;: &quot;boolean&quot;,\r\n          &quot;x-enumFlags&quot;: true\r\n        },\r\n        {\r\n          &quot;type&quot;: &quot;null&quot;\r\n        }\r\n      ],\r\n      &quot;additionalProperties&quot;: false,\r\n      &quot;properties&quot;: {}\r\n    }\r\n  }\r\n}\r\n````\r\n\r\nOr you could try the pipe separator in type.In the schema you provided just change the value of type to &quot;type&quot;: &quot;string|object|integer|number&quot;. This notation didn&#39;t work for me in swagger but you can check if it works for you.","title":"Issue with a Json schema validation","body":"<p>You can use the anyOf property of schema :</p>\n<p>Try the below one :</p>\n<pre><code>{\n  &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,\n  &quot;title&quot;: &quot;Form Element&quot;,\n  &quot;type&quot;: &quot;object&quot;,\n  &quot;additionalProperties&quot;: false,\n  &quot;properties&quot;: {\n    &quot;fieldName&quot;: {\n      &quot;type&quot;: &quot;string&quot;\n    },\n    &quot;fieldType&quot;: {\n      &quot;type&quot;: &quot;string&quot;\n    },\n    &quot;value&quot;: {\n      &quot;$ref&quot;: &quot;#/definitions/Object&quot;\n    }\n  },\n  &quot;definitions&quot;: {\n    &quot;Object&quot;: {\n      &quot;format&quot;: &quot;&quot;,\n      &quot;anyOf&quot;: [\n        {\n          &quot;type&quot;: &quot;object&quot;\n        },\n        {\n          &quot;type&quot;: &quot;string&quot;\n        },\n        {\n          &quot;type&quot;: &quot;number&quot;\n        },\n        {\n          &quot;type&quot;: &quot;integer&quot;\n        },\n        {\n          &quot;type&quot;: &quot;boolean&quot;,\n          &quot;x-enumFlags&quot;: true\n        },\n        {\n          &quot;type&quot;: &quot;null&quot;\n        }\n      ],\n      &quot;additionalProperties&quot;: false,\n      &quot;properties&quot;: {}\n    }\n  }\n}\n</code></pre>\n<p>Or you could try the pipe separator in type.In the schema you provided just change the value of type to &quot;type&quot;: &quot;string|object|integer|number&quot;. This notation didn't work for me in swagger but you can check if it works for you.</p>\n"}],"owner":{"account_id":25650026,"reputation":1,"user_id":19417439,"display_name":"ecabrera78"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":609,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662125410,"creation_date":1656209385,"question_id":72758436,"body_markdown":"I&#39;m running into an issue with a Json schema validation.\r\n\r\nI have a Java class like this\r\n\r\n```\r\npackage com.ebc.jackson.exampe.data;\r\n\r\npublic class FormElement {\r\n    \r\n    private String fieldName;\r\n    \r\n    private String fieldType;\r\n    \r\n    private Object value;\r\n\r\n    public String getFieldName() {\r\n        return fieldName;\r\n    }\r\n\r\n    public void setFieldName(String fieldName) {\r\n        this.fieldName = fieldName;\r\n    }\r\n\r\n    public String getFieldType() {\r\n        return fieldType;\r\n    }\r\n\r\n    public void setFieldType(String fieldType) {\r\n        this.fieldType = fieldType;\r\n    }\r\n\r\n    public Object getValue() {\r\n        return value;\r\n    }\r\n\r\n    public void setValue(Object value) {\r\n        this.value = value;\r\n    }\r\n}\r\n```\r\nI&#39;m using below code to generate the schema:\r\n\r\n```\r\nJsonSchemaGenerator generator =\r\n                    new JsonSchemaGenerator(objectMapper);\r\n            JsonNode schema = generator.generateJsonSchema(FormElement.class);\r\n            String strSchema = objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(schema);\r\n```\r\nthis code generates below schema\r\n```\r\n{\r\n  &quot;$schema&quot; : &quot;http://json-schema.org/draft-04/schema#&quot;,\r\n  &quot;title&quot; : &quot;Form Element&quot;,\r\n  &quot;type&quot; : &quot;object&quot;,\r\n  &quot;additionalProperties&quot; : false,\r\n  &quot;properties&quot; : {\r\n    &quot;fieldName&quot; : {\r\n      &quot;type&quot; : &quot;string&quot;\r\n    },\r\n    &quot;fieldType&quot; : {\r\n      &quot;type&quot; : &quot;string&quot;\r\n    },\r\n    &quot;value&quot; : {\r\n      &quot;$ref&quot; : &quot;#/definitions/Object&quot;\r\n    }\r\n  },\r\n  &quot;definitions&quot; : {\r\n    &quot;Object&quot; : {\r\n      &quot;type&quot; : &quot;object&quot;,\r\n      &quot;additionalProperties&quot; : false,\r\n      &quot;properties&quot; : { }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nIn the request, I could receive a Json Object like\r\n```\r\n{\r\n  &quot;fieldName&quot;: &quot;user-name&quot;,\r\n  &quot;fieldType&quot;: &quot;textInput&quot;,\r\n  &quot;value&quot;: &quot;Alex&quot;\r\n}\r\n```\r\nWhen I try to validate this object against the Json schema, &quot;value&quot; attribute is not valid, it is expecting a &quot;key: value&quot; pair but, a string is found.\r\nIn the Java class the value attribute is Object because it could be a String, Integer, Boolean, etc.\r\n\r\nMy question is, how can I generate a schema to support different data types for &quot;value&quot; attribute?\r\n\r\n ","title":"Issue with a Json schema validation","body":"<p>I'm running into an issue with a Json schema validation.</p>\n<p>I have a Java class like this</p>\n<pre><code>package com.ebc.jackson.exampe.data;\n\npublic class FormElement {\n    \n    private String fieldName;\n    \n    private String fieldType;\n    \n    private Object value;\n\n    public String getFieldName() {\n        return fieldName;\n    }\n\n    public void setFieldName(String fieldName) {\n        this.fieldName = fieldName;\n    }\n\n    public String getFieldType() {\n        return fieldType;\n    }\n\n    public void setFieldType(String fieldType) {\n        this.fieldType = fieldType;\n    }\n\n    public Object getValue() {\n        return value;\n    }\n\n    public void setValue(Object value) {\n        this.value = value;\n    }\n}\n</code></pre>\n<p>I'm using below code to generate the schema:</p>\n<pre><code>JsonSchemaGenerator generator =\n                    new JsonSchemaGenerator(objectMapper);\n            JsonNode schema = generator.generateJsonSchema(FormElement.class);\n            String strSchema = objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(schema);\n</code></pre>\n<p>this code generates below schema</p>\n<pre><code>{\n  &quot;$schema&quot; : &quot;http://json-schema.org/draft-04/schema#&quot;,\n  &quot;title&quot; : &quot;Form Element&quot;,\n  &quot;type&quot; : &quot;object&quot;,\n  &quot;additionalProperties&quot; : false,\n  &quot;properties&quot; : {\n    &quot;fieldName&quot; : {\n      &quot;type&quot; : &quot;string&quot;\n    },\n    &quot;fieldType&quot; : {\n      &quot;type&quot; : &quot;string&quot;\n    },\n    &quot;value&quot; : {\n      &quot;$ref&quot; : &quot;#/definitions/Object&quot;\n    }\n  },\n  &quot;definitions&quot; : {\n    &quot;Object&quot; : {\n      &quot;type&quot; : &quot;object&quot;,\n      &quot;additionalProperties&quot; : false,\n      &quot;properties&quot; : { }\n    }\n  }\n}\n</code></pre>\n<p>In the request, I could receive a Json Object like</p>\n<pre><code>{\n  &quot;fieldName&quot;: &quot;user-name&quot;,\n  &quot;fieldType&quot;: &quot;textInput&quot;,\n  &quot;value&quot;: &quot;Alex&quot;\n}\n</code></pre>\n<p>When I try to validate this object against the Json schema, &quot;value&quot; attribute is not valid, it is expecting a &quot;key: value&quot; pair but, a string is found.\nIn the Java class the value attribute is Object because it could be a String, Integer, Boolean, etc.</p>\n<p>My question is, how can I generate a schema to support different data types for &quot;value&quot; attribute?</p>\n"},{"tags":["java","azure-servicebus-queues"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1662223546,"post_id":73583073,"comment_id":129958784,"body_markdown":"Could you post the error?","body":"Could you post the error?"},{"owner":{"account_id":26227831,"reputation":1,"user_id":19904262,"display_name":"Selvi Senthilvel"},"score":0,"creation_date":1662356648,"post_id":73583073,"comment_id":129978360,"body_markdown":"Exception: NullPointerException: \nStack: java.lang.NullPointerException\n[2022-09-02T04:54:25.308Z] \tat com.microsoft.azure.functions.worker.binding.BindingDataStore.getTriggerMetatDataByName(BindingDataStore.java:66)\n[2022-09-02T04:54:25.308Z] \tat com.microsoft.azure.functions.worker.broker.ParameterResolver.resolve(ParameterResolver.java:62)","body":"Exception: NullPointerException:  Stack: java.lang.NullPointerException [2022-09-02T04:54:25.308Z] \tat com.microsoft.azure.functions.worker.binding.BindingDataStor&zwnj;&#8203;e.getTriggerMetatDat&zwnj;&#8203;aByName(BindingDataS&zwnj;&#8203;tore.java:66) [2022-09-02T04:54:25.308Z] \tat com.microsoft.azure.functions.worker.broker.ParameterResolve&zwnj;&#8203;r.resolve(ParameterR&zwnj;&#8203;esolver.java:62)"}],"owner":{"account_id":26227831,"reputation":1,"user_id":19904262,"display_name":"Selvi Senthilvel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662125230,"creation_date":1662124042,"question_id":73583073,"body_markdown":" \r\nUnable to fetch session Id from ServiceBusQueueTrigger in JAVA .\r\nIt is throwing error\r\n\r\n \r\n\r\n    @FunctionName(&quot;function&quot;)\r\n    public void run(\r\n    @ServiceBusQueueTrigger(name = &quot;msg&quot;,\r\n                             queueName = &quot;myqueuename&quot;,\r\n                             connection = &quot;myconnname&quot;,\r\n                              isSessionsEnabled = true,) String message,\r\n                    @BindingName(&quot;CorrelationId&quot;) UUID correlationId,\r\n                    @BindingName(&quot;SessionId&quot;) String sessionId,\r\n     final ExecutionContext context ) {\r\n     context.getLogger().info(message);\r\n    }","title":"Unable to fetch session Id from ServiceBusQueueTrigger","body":"<p>Unable to fetch session Id from ServiceBusQueueTrigger in JAVA .\nIt is throwing error</p>\n<pre><code>@FunctionName(&quot;function&quot;)\npublic void run(\n@ServiceBusQueueTrigger(name = &quot;msg&quot;,\n                         queueName = &quot;myqueuename&quot;,\n                         connection = &quot;myconnname&quot;,\n                          isSessionsEnabled = true,) String message,\n                @BindingName(&quot;CorrelationId&quot;) UUID correlationId,\n                @BindingName(&quot;SessionId&quot;) String sessionId,\n final ExecutionContext context ) {\n context.getLogger().info(message);\n}\n</code></pre>\n"},{"tags":["java","arrays","operators"],"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1662125276,"post_id":13373033,"comment_id":129940113,"body_markdown":"There is no *adding an element to a Java array*.","body":"There is no <i>adding an element to a Java array</i>."}],"answers":[{"tags":[],"owner":{"account_id":86297,"reputation":23984,"user_id":240078,"accept_rate":58,"display_name":"Vikdor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1352867326,"creation_date":1352867326,"answer_id":13373043,"question_id":13373033,"body_markdown":"&gt; myArray[range]++\r\n\r\nThis would simply increment the value at the index `range` in the `int` array `myArray`. ","title":"Java: Array and using ++ operator when adding values","body":"<blockquote>\n  <p>myArray[range]++</p>\n</blockquote>\n\n<p>This would simply increment the value at the index <code>range</code> in the <code>int</code> array <code>myArray</code>. </p>\n"},{"tags":[],"owner":{"account_id":1449510,"reputation":48172,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1352867336,"creation_date":1352867336,"answer_id":13373045,"question_id":13373033,"body_markdown":"int myArray[range]++; Will increment 1 to the element in the position range.\r\n\r\nTo increment all the element in the array you just have to do:\r\n\r\n    for(i = 0; i &lt; myArray.length; i++)\r\n        myArray[i]++;","title":"Java: Array and using ++ operator when adding values","body":"<p>int myArray[range]++; Will increment 1 to the element in the position range.</p>\n\n<p>To increment all the element in the array you just have to do:</p>\n\n<pre><code>for(i = 0; i &lt; myArray.length; i++)\n    myArray[i]++;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":398729,"reputation":46533,"user_id":763585,"accept_rate":90,"display_name":"evanmcdonnal"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1352867396,"creation_date":1352867396,"answer_id":13373053,"question_id":13373033,"body_markdown":"`myArray[range]++;` will increment the value at index `range`. If you want to increment all values do -\r\n\r\n     for (int i = 0; i &lt; MyArray.Length; i++)\r\n          MyArray[i]++;","title":"Java: Array and using ++ operator when adding values","body":"<p><code>myArray[range]++;</code> will increment the value at index <code>range</code>. If you want to increment all values do -</p>\n\n<pre><code> for (int i = 0; i &lt; MyArray.Length; i++)\n      MyArray[i]++;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":402964,"reputation":22541,"user_id":770452,"accept_rate":49,"display_name":"David T."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1352867517,"creation_date":1352867517,"answer_id":13373072,"question_id":13373033,"body_markdown":"`myArray[range]++` will add the value at the index like the other ppl mentioned. in your example, you will get:\r\n\r\n`2,3,4,4,4,5,5`\r\n\r\nif you used `range` as the &quot;iterator&quot;","title":"Java: Array and using ++ operator when adding values","body":"<p><code>myArray[range]++</code> will add the value at the index like the other ppl mentioned. in your example, you will get:</p>\n\n<p><code>2,3,4,4,4,5,5</code></p>\n\n<p>if you used <code>range</code> as the \"iterator\"</p>\n"},{"tags":[],"owner":{"account_id":10402373,"reputation":1,"user_id":14519456,"display_name":"dang"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662100481,"creation_date":1661726453,"answer_id":73522763,"question_id":13373033,"body_markdown":"equivalent to \r\n\r\n    myArray[range] = myArray[range] + 1;","title":"Java: Array and using ++ operator when adding values","body":"<p>equivalent to</p>\n<pre><code>myArray[range] = myArray[range] + 1;\n</code></pre>\n"}],"owner":{"account_id":1657093,"reputation":1882,"user_id":1526334,"accept_rate":64,"display_name":"Tom Lilletveit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12847,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":13373053,"answer_count":5,"score":5,"last_activity_date":1662125204,"creation_date":1352867246,"question_id":13373033,"body_markdown":"How exactly does the `++` operator work when added to a normal array of ints like this `myArray[range]++;`\r\n\r\nif I got a selection of values (range) being added iteratively `1,2,3,3,3,4,4` will it add `1` once, `2` once, `3` three times and `4` two times? And does it just add it to the end of the array?","title":"Java: Array and using ++ operator when adding values","body":"<p>How exactly does the <code>++</code> operator work when added to a normal array of ints like this <code>myArray[range]++;</code></p>\n<p>if I got a selection of values (range) being added iteratively <code>1,2,3,3,3,4,4</code> will it add <code>1</code> once, <code>2</code> once, <code>3</code> three times and <code>4</code> two times? And does it just add it to the end of the array?</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":200481,"reputation":5195,"user_id":446357,"accept_rate":64,"display_name":"MTilsted"},"score":0,"creation_date":1662125047,"post_id":73583267,"comment_id":129940018,"body_markdown":"Are you sure you are using the same ip with phpMyAdmin ? If the java software is running on the same computer as the","body":"Are you sure you are using the same ip with phpMyAdmin ? If the java software is running on the same computer as the"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1662125142,"post_id":73583267,"comment_id":129940061,"body_markdown":"Please don&#39;t post pictures of errors, post it as code formatted text. In any case, the error means that MySQL is not running on port 3306 of ip, or that a firewall disallows access.","body":"Please don&#39;t post pictures of errors, post it as code formatted text. In any case, the error means that MySQL is not running on port 3306 of ip, or that a firewall disallows access."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1662125168,"post_id":73583267,"comment_id":129940071,"body_markdown":"Is `ip` a non-loopback ip (e.g. 127.0.0.1)? If it&#39;s not on the local machine, MySQL very likely does not have permissions set for the user to connect from a non-local connection (this is the default). Rather than opening the database to external connections, I&#39;ve found it&#39;s usually more secure to simply use ssh tunneling to get your sql connection up for development (`ssh -L 3306:localhost:3306 other-details`). If everything is configured correctly, then it&#39;s more than likely a firewall issue or otherwise.","body":"Is <code>ip</code> a non-loopback ip (e.g. 127.0.0.1)? If it&#39;s not on the local machine, MySQL very likely does not have permissions set for the user to connect from a non-local connection (this is the default). Rather than opening the database to external connections, I&#39;ve found it&#39;s usually more secure to simply use ssh tunneling to get your sql connection up for development (<code>ssh -L 3306:localhost:3306 other-details</code>). If everything is configured correctly, then it&#39;s more than likely a firewall issue or otherwise."}],"owner":{"account_id":26227852,"reputation":1,"user_id":19904281,"display_name":"Finn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1662125154,"answer_count":0,"score":0,"last_activity_date":1662124906,"creation_date":1662124906,"question_id":73583267,"body_markdown":"I have installed MySQL on my home server (Debian 9) and I can connect to the database with phpMyAdmin. But when I try to connect to the database with Java I get the following error:\r\n\r\n[Picture of the Error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G5OB5.png\r\n\r\nMy Code:\r\n(I replaced the real Password, IP and Username in this post with placeholders)\r\n\r\n```\r\n Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://ip:3306/users&quot;,&quot;username&quot;,&quot;****&quot;);\r\n```\r\n\r\n","title":"Can&#39;t connect to MySQL Database (Java)","body":"<p>I have installed MySQL on my home server (Debian 9) and I can connect to the database with phpMyAdmin. But when I try to connect to the database with Java I get the following error:</p>\n<p><a href=\"https://i.stack.imgur.com/G5OB5.png\" rel=\"nofollow noreferrer\">Picture of the Error</a></p>\n<p>My Code:\n(I replaced the real Password, IP and Username in this post with placeholders)</p>\n<pre><code> Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://ip:3306/users&quot;,&quot;username&quot;,&quot;****&quot;);\n</code></pre>\n"},{"tags":["java","file-upload","apache-commons"],"comments":[{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":0,"creation_date":1307667048,"post_id":6299465,"comment_id":7360746,"body_markdown":"Maybe you could use different servlets for each file type. Also 500000000 is 500MB - kind of large ?","body":"Maybe you could use different servlets for each file type. Also 500000000 is 500MB - kind of large ?"},{"owner":{"account_id":910640,"reputation":9353,"user_id":944593,"accept_rate":94,"display_name":"shareef"},"score":0,"creation_date":1469189331,"post_id":6299465,"comment_id":64446346,"body_markdown":"for testing purpose set the maxFileSize to more than 0 because i struggled to test it , assuming and setting it as 0 and when i put it 1 it worked","body":"for testing purpose set the maxFileSize to more than 0 because i struggled to test it , assuming and setting it as 0 and when i put it 1 it worked"}],"answers":[{"tags":[],"owner":{"account_id":106190,"reputation":9362,"user_id":282968,"accept_rate":73,"display_name":"MJB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1307683806,"creation_date":1307683806,"answer_id":6302352,"question_id":6299465,"body_markdown":"Assuming  the number of non form variables is limited (and you could enforce that), just use the iterator and use a wrapping around the stream to throw an exception when the total number of bytes (plenty of implementations of basic counters exist - see commons-io for example) exceed N, where N is supplied as a limit in the constructor.\r\n\r\n    eg\r\n    \r\n        long limit = 500000; // bytes\r\n        long cumulativeSize=0;\r\n    \r\n    while { \r\n        if (limit - cumulativeSize &lt;=0) break; \r\n    ...\r\n    ...\r\n    ... // FileItem\r\n        InputStream stream = item.openStream();\r\n        stream = new LimiterStream(stream,100000);\r\n        Streams.copy(stream,fop,true);\r\n        FileOutputStream fop = new FileOutputStream(new File(temp_location));\r\n        cumulativeSize += stream.getCount(); // you&#39;d implement this too, to keep a running count\r\n        catch (SizeExceededException e  )  {\r\n                System.out.println(&quot;you exceeded the limit I set of &quot;+e.getLimit(); // implemented \r\n                break;\r\n         }\r\n        ...\r\n    } // end while","title":"How to set maximum file size based on file name using Apache File upload utils","body":"<p>Assuming  the number of non form variables is limited (and you could enforce that), just use the iterator and use a wrapping around the stream to throw an exception when the total number of bytes (plenty of implementations of basic counters exist - see commons-io for example) exceed N, where N is supplied as a limit in the constructor.</p>\n\n<pre><code>eg\n\n    long limit = 500000; // bytes\n    long cumulativeSize=0;\n\nwhile { \n    if (limit - cumulativeSize &lt;=0) break; \n...\n...\n... // FileItem\n    InputStream stream = item.openStream();\n    stream = new LimiterStream(stream,100000);\n    Streams.copy(stream,fop,true);\n    FileOutputStream fop = new FileOutputStream(new File(temp_location));\n    cumulativeSize += stream.getCount(); // you'd implement this too, to keep a running count\n    catch (SizeExceededException e  )  {\n            System.out.println(\"you exceeded the limit I set of \"+e.getLimit(); // implemented \n            break;\n     }\n    ...\n} // end while\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2096069,"reputation":236,"user_id":1864812,"display_name":"Finni McFinger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662124752,"creation_date":1393269643,"answer_id":21996941,"question_id":6299465,"body_markdown":"If you instead loop through FileItem object instead of FileItemStream objects, all you need to do is set some constant max size values and compare each item to the appropriate value. If an item exceeds the size, handle it appropriately (throw new exception, trash the file, whatever you want to do), otherwise continue running as normal.\r\n\r\n    final long MAX_RESUME_SIZE = 5242880; // 5MB -&gt; 5 * 1024 * 1024\r\n    final long MAX_TRANS_SIZE = 3145728; // 3MB -&gt; 3 * 1024 * 1024\r\n    \r\n    DiskFileItemFactory factory = new DiskFileItemFactory();\r\n    String fileDir = &quot;your write-to location&quot;;\r\n    File dest = new File(fileDir);\r\n    if(!dest.isDirectory()){ dest.mkdir(); }\r\n    factory.setRepository(dest);\r\n    ServletFileUpload upload = new ServletFileUpload(factory);\r\n    \r\n    for (FileItem item: upload.parseRequest(request)) { // request -&gt; the HttpServletRequest\r\n        if(!item.isFormField(){\r\n            if(evaluateSize(item)){\r\n                // handle as normal\r\n            }else{\r\n                // handle as too large\r\n            }\r\n        }\r\n    } // end while\r\n\r\n    private boolean evaluateSize(FileItem item){\r\n        if(/* type is Resume */ &amp;&amp; item.getSize() &lt;= MAX_RESUME_SIZE){\r\n            return true;\r\n        }else if(/* type is Transcript */ &amp;&amp; item.getSize() &lt;= MAX_TRANS_SIZE){\r\n            return true;\r\n        }\r\n    \r\n        // assume too large\r\n        return false;\r\n    }\r\n\r\nGranted, you will have to add more logic if there are more than the two types of file, but you can see it is very simple to compare your file sizes before having to write.\r\n        ","title":"How to set maximum file size based on file name using Apache File upload utils","body":"<p>If you instead loop through FileItem object instead of FileItemStream objects, all you need to do is set some constant max size values and compare each item to the appropriate value. If an item exceeds the size, handle it appropriately (throw new exception, trash the file, whatever you want to do), otherwise continue running as normal.</p>\n<pre><code>final long MAX_RESUME_SIZE = 5242880; // 5MB -&gt; 5 * 1024 * 1024\nfinal long MAX_TRANS_SIZE = 3145728; // 3MB -&gt; 3 * 1024 * 1024\n\nDiskFileItemFactory factory = new DiskFileItemFactory();\nString fileDir = &quot;your write-to location&quot;;\nFile dest = new File(fileDir);\nif(!dest.isDirectory()){ dest.mkdir(); }\nfactory.setRepository(dest);\nServletFileUpload upload = new ServletFileUpload(factory);\n\nfor (FileItem item: upload.parseRequest(request)) { // request -&gt; the HttpServletRequest\n    if(!item.isFormField(){\n        if(evaluateSize(item)){\n            // handle as normal\n        }else{\n            // handle as too large\n        }\n    }\n} // end while\n\nprivate boolean evaluateSize(FileItem item){\n    if(/* type is Resume */ &amp;&amp; item.getSize() &lt;= MAX_RESUME_SIZE){\n        return true;\n    }else if(/* type is Transcript */ &amp;&amp; item.getSize() &lt;= MAX_TRANS_SIZE){\n        return true;\n    }\n\n    // assume too large\n    return false;\n}\n</code></pre>\n<p>Granted, you will have to add more logic if there are more than the two types of file, but you can see it is very simple to compare your file sizes before having to write.</p>\n"}],"owner":{"account_id":767048,"reputation":303,"user_id":791749,"accept_rate":55,"display_name":"Adithya Puram"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12657,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1662124752,"creation_date":1307654523,"question_id":6299465,"body_markdown":"I have a requirement where I need to allow different maximum-file-sizes for different cases. Example: Allow 5 MB for resume, only 3 MB for transcripts.\r\n\r\nI am using the following code to upload the file using apache file upload utils.\r\n\r\n            ServletFileUpload upload = new ServletFileUpload();\r\n            upload.setSizeMax(500000000);\r\n            upload.setProgressListener(aupl);\r\n            FileItemIterator  iter = upload.getItemIterator(req);       \t\r\n        \t\r\n            while (iter.hasNext()) {\r\n            \tFileItemStream item = iter.next();\r\n                if (!item.isFormField()) {                \t\r\n                \tform_name = item.getFieldName();\t\t\r\n\t\t\tInputStream stream = item.openStream();\t\t\r\n\t\t\tFileOutputStream fop = new FileOutputStream(new File(temp_location));\r\n\t\t\tStreams.copy(stream, fop, true);               \t\r\n                }             \r\n            }                \r\nThe only way I can find the name of the field is using item.getFieldName() and I can do that only after doing upload.getItemIterator, but setSizeMax(500..) has to be set on upload before upload.getItemIterator is called. \r\n\r\nIs there a work around for this problem? If there is no solution, can you suggest any other File Upload API which handles this problem.\r\n\r\nThanks","title":"How to set maximum file size based on file name using Apache File upload utils","body":"<p>I have a requirement where I need to allow different maximum-file-sizes for different cases. Example: Allow 5 MB for resume, only 3 MB for transcripts.</p>\n\n<p>I am using the following code to upload the file using apache file upload utils.</p>\n\n<pre><code>        ServletFileUpload upload = new ServletFileUpload();\n        upload.setSizeMax(500000000);\n        upload.setProgressListener(aupl);\n        FileItemIterator  iter = upload.getItemIterator(req);           \n\n        while (iter.hasNext()) {\n            FileItemStream item = iter.next();\n            if (!item.isFormField()) {                  \n                form_name = item.getFieldName();        \n        InputStream stream = item.openStream();     \n        FileOutputStream fop = new FileOutputStream(new File(temp_location));\n        Streams.copy(stream, fop, true);                \n            }             \n        }                \n</code></pre>\n\n<p>The only way I can find the name of the field is using item.getFieldName() and I can do that only after doing upload.getItemIterator, but setSizeMax(500..) has to be set on upload before upload.getItemIterator is called. </p>\n\n<p>Is there a work around for this problem? If there is no solution, can you suggest any other File Upload API which handles this problem.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","mysql","encryption","aes"],"answers":[{"tags":[],"owner":{"account_id":2527500,"reputation":7300,"user_id":2196561,"display_name":"Ebbe M. Pedersen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662124492,"creation_date":1662123676,"answer_id":73583001,"question_id":73582070,"body_markdown":"AES only allows binary keys of 128, 192 or 256 bit length.\r\n\r\nHowever, in older versions of MySQL  (&lt;8.x.x) you were expected to provide a string (key_str) as key when using the `aes_encrypt(str,key_str)` method. Behind the scenes MySQL would then turn this string into a binary key in an undocumented way. Any attempt to replicate this outside of MySQL would require you to figure out how this is done.\r\n\r\nThis way of providing keys is now discouraged in the MySQL documentation (for a good reason) - and many additional options have been introduced to the `aes_encrypt(...)` method, that allows you to provide a proper key derivation function (KDF), etc. You should read up on some of the newer [MySQL Encryption and Compression Functions](https://dev.mysql.com/doc/refman/8.0/en/encryption-functions.html#function_aes-encrypt) in the MySQL documentation.\r\n","title":"How to reproduce Java MessageDigest SHA-1 secret key to be used in MySQL AES_encrypt","body":"<p>AES only allows binary keys of 128, 192 or 256 bit length.</p>\n<p>However, in older versions of MySQL  (&lt;8.x.x) you were expected to provide a string (key_str) as key when using the <code>aes_encrypt(str,key_str)</code> method. Behind the scenes MySQL would then turn this string into a binary key in an undocumented way. Any attempt to replicate this outside of MySQL would require you to figure out how this is done.</p>\n<p>This way of providing keys is now discouraged in the MySQL documentation (for a good reason) - and many additional options have been introduced to the <code>aes_encrypt(...)</code> method, that allows you to provide a proper key derivation function (KDF), etc. You should read up on some of the newer <a href=\"https://dev.mysql.com/doc/refman/8.0/en/encryption-functions.html#function_aes-encrypt\" rel=\"nofollow noreferrer\">MySQL Encryption and Compression Functions</a> in the MySQL documentation.</p>\n"}],"owner":{"account_id":13081539,"reputation":31,"user_id":9451946,"display_name":"Teong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73583001,"answer_count":1,"score":1,"last_activity_date":1662124492,"creation_date":1662119171,"question_id":73582070,"body_markdown":"I have a function to prepare secret key for encryption and decryption using Java:\r\n```java\r\npublic void prepareSecreteKey(String theKey) {\r\n    MessageDigest sha = null;\r\n    try {\r\n        key = theKey.getBytes(StandardCharsets.UTF_8);\r\n        sha = MessageDigest.getInstance(&quot;SHA-1&quot;);\r\n        key = sha.digest(key);\r\n        System.out.println(new String(key, StandardCharsets.UTF_8));\r\n        key = Arrays.copyOf(key, 16);\r\n\r\n        MessageDigest md = MessageDigest.getInstance(&quot;SHA1&quot;);\r\n        secretKeySpec = new SecretKeySpec(key, &quot;AES&quot;);\r\n    } catch (NoSuchAlgorithmException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\nHowever, for the old records from database, I would like to manually encrypt using a MySQL query. I have tried using the query below, but the result is different from the result by the Java application.\r\n\r\n```sql\r\nselect to_base64(aes_encrypt(&#39;123456789032&#39;, &#39;aesEncryptionKey&#39;)); \r\n```\r\n\r\nAnyone can advise? or is there any other method to encrypt the existing record in database?\r\n\r\n","title":"How to reproduce Java MessageDigest SHA-1 secret key to be used in MySQL AES_encrypt","body":"<p>I have a function to prepare secret key for encryption and decryption using Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void prepareSecreteKey(String theKey) {\n    MessageDigest sha = null;\n    try {\n        key = theKey.getBytes(StandardCharsets.UTF_8);\n        sha = MessageDigest.getInstance(&quot;SHA-1&quot;);\n        key = sha.digest(key);\n        System.out.println(new String(key, StandardCharsets.UTF_8));\n        key = Arrays.copyOf(key, 16);\n\n        MessageDigest md = MessageDigest.getInstance(&quot;SHA1&quot;);\n        secretKeySpec = new SecretKeySpec(key, &quot;AES&quot;);\n    } catch (NoSuchAlgorithmException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>However, for the old records from database, I would like to manually encrypt using a MySQL query. I have tried using the query below, but the result is different from the result by the Java application.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select to_base64(aes_encrypt('123456789032', 'aesEncryptionKey')); \n</code></pre>\n<p>Anyone can advise? or is there any other method to encrypt the existing record in database?</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":21902216,"reputation":11,"user_id":16187758,"display_name":"D3nNi Alw1n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662124370,"creation_date":1662124370,"answer_id":73583135,"question_id":73582218,"body_markdown":"It&#39;s because you haven&#39;t set classpath to your selenium jar download [this][1]\r\n\r\n\r\nAnd if you are a ubuntu user the below command will be used to set classpath \r\n\r\n    export CLASSPATH=:./selenium-server-4.4.0.jar\r\nCompile and run it again.\r\n\r\nfor reference selenium dev [click this][2]\r\n\r\n**Hope it helps**\r\n\r\n\r\n  [1]: https://github.com/SeleniumHQ/selenium/releases/download/selenium-4.4.0/selenium-server-4.4.0.jar\r\n  [2]: https://www.selenium.dev/downloads/","title":"java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver","body":"<p>It's because you haven't set classpath to your selenium jar download <a href=\"https://github.com/SeleniumHQ/selenium/releases/download/selenium-4.4.0/selenium-server-4.4.0.jar\" rel=\"nofollow noreferrer\">this</a></p>\n<p>And if you are a ubuntu user the below command will be used to set classpath</p>\n<pre><code>export CLASSPATH=:./selenium-server-4.4.0.jar\n</code></pre>\n<p>Compile and run it again.</p>\n<p>for reference selenium dev <a href=\"https://www.selenium.dev/downloads/\" rel=\"nofollow noreferrer\">click this</a></p>\n<p><strong>Hope it helps</strong></p>\n"}],"owner":{"account_id":26227275,"reputation":1,"user_id":19903784,"display_name":"Reshma Moncy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":570,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662124370,"creation_date":1662119910,"question_id":73582218,"body_markdown":"Below is my code, which is so basic. But upon running I am getting,\r\n\r\n&gt; Error: Unable to initialize main class testPackage.myTestClass Caused\r\n&gt; by: java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver\r\n\r\n......\r\n\r\n\r\n    package testPackage;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    public class myTestClass {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t\tWebDriver driver;\r\n    \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/Users/reshmabibin/Downloads/chromedriver.exe&quot;);\r\n    \t\tdriver= new ChromeDriver();\r\n    \t\tdriver.get(&quot;https://artoftesting.com/selenium-tutorial&quot;);\r\n    \t\tdriver.quit();\r\n    \t\tSystem.out.println(&quot;https://artoftesting.com/selenium-tutorial&quot;);\r\n    \t\r\n    \r\n        }\t}\r\n    \r\n    \t\r\n\r\n\r\n \r\n\r\n \r\nI am not sure , If I have added the path correctly or not.\r\nI am using mac.\r\n\r\n","title":"java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver","body":"<p>Below is my code, which is so basic. But upon running I am getting,</p>\n<blockquote>\n<p>Error: Unable to initialize main class testPackage.myTestClass Caused\nby: java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver</p>\n</blockquote>\n<p>......</p>\n<pre><code>package testPackage;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\npublic class myTestClass {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        \n        WebDriver driver;\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/Users/reshmabibin/Downloads/chromedriver.exe&quot;);\n        driver= new ChromeDriver();\n        driver.get(&quot;https://artoftesting.com/selenium-tutorial&quot;);\n        driver.quit();\n        System.out.println(&quot;https://artoftesting.com/selenium-tutorial&quot;);\n    \n\n    }   }\n\n    \n</code></pre>\n<p>I am not sure , If I have added the path correctly or not.\nI am using mac.</p>\n"},{"tags":["java","spring-boot","api","rest"],"answers":[{"tags":[],"owner":{"account_id":14353975,"reputation":1297,"user_id":10368507,"display_name":"Priyak Dey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662124147,"creation_date":1662123769,"answer_id":73583022,"question_id":73582158,"body_markdown":"This is because you are extracting fields (a.sn, a.clientid, a.ticket_count) which is not a DuplicateManagerMetricsRelTagEntity type. So since you have not asked hibernate to extract the complete object but a few fields(does not matter if your fields are exactly same as the fields in the object) - so hibernate extracts it as Object[] and then is trying to map to DuplicateManagerMetricsRelTagEntity and hence the issue.\r\n\r\nYou can use: [JPA Projection/DTO](https://vladmihalcea.com/the-best-way-to-map-a-projection-query-to-a-dto-with-jpa-and-hibernate/)\r\n\r\nIn your case you can use JPQL and :\r\n```\r\n&quot;select a from DuplicateManagerMetricsRelTagEntity a where a.clientid = ?1 AND a.appid in (?2)  AND a.releasetag=?3&quot;\r\n```\r\n\r\nOr for native queries you an try:\r\n```\r\nselect * from table_name where conditions;\r\n```\r\n\r\n**NOTE:** It has been long since I used hibernate or jpa. So the queries might be not completely accurate. Please do check up on the proper syntax. Main idea is to let you know how hibernate understands and tries to map the type. Since you have a,b,c -&gt; Object[] is extracted and cannot be mapped to your entity.","title":"Failed to convert from type [java.lang.Object[]] to type [qbr.entity.nameEntity]","body":"<p>This is because you are extracting fields (a.sn, a.clientid, a.ticket_count) which is not a DuplicateManagerMetricsRelTagEntity type. So since you have not asked hibernate to extract the complete object but a few fields(does not matter if your fields are exactly same as the fields in the object) - so hibernate extracts it as Object[] and then is trying to map to DuplicateManagerMetricsRelTagEntity and hence the issue.</p>\n<p>You can use: <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-projection-query-to-a-dto-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">JPA Projection/DTO</a></p>\n<p>In your case you can use JPQL and :</p>\n<pre><code>&quot;select a from DuplicateManagerMetricsRelTagEntity a where a.clientid = ?1 AND a.appid in (?2)  AND a.releasetag=?3&quot;\n</code></pre>\n<p>Or for native queries you an try:</p>\n<pre><code>select * from table_name where conditions;\n</code></pre>\n<p><strong>NOTE:</strong> It has been long since I used hibernate or jpa. So the queries might be not completely accurate. Please do check up on the proper syntax. Main idea is to let you know how hibernate understands and tries to map the type. Since you have a,b,c -&gt; Object[] is extracted and cannot be mapped to your entity.</p>\n"}],"owner":{"account_id":14904964,"reputation":1,"user_id":10762585,"display_name":"Prithu Singh Kathet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1624,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662124147,"creation_date":1662119585,"question_id":73582158,"body_markdown":"I am not asking the question that is already asked here \r\n[https://stackoverflow.com/questions/42446506/failed-to-convert-from-type-java-lang-object-to-type][1]\r\n\r\nMy entity look like this : \r\n\r\n   \r\n\r\n        @Entity\r\n    public class DuplicateManagerMetricsRelTagEntity {\r\n        @Id\r\n        @Column(name = &quot;sn&quot;)\r\n        String sn;\r\n    \r\n        @Column(name = &quot;clientid&quot;)\r\n        String clientid;\r\n    \r\n        @Column(name = &quot;ticket_count&quot;)\r\n        String ticket_count;\r\n    \r\n        public DuplicateManagerMetricsRelTagEntity(String sn, String clientid, String ticket_count) {\r\n            this.sn = sn;\r\n            this.clientid = clientid;\r\n            this.ticket_count = ticket_count;\r\n        }\r\n    \r\n        public DuplicateManagerMetricsRelTagEntity() {\r\n    \r\n        }\r\n\r\nMy controller look like this :\r\n\r\n    @RequestMapping(&quot;/qbr/duplicatemanager/{clientid}/{appid}/{releasetag}/&quot;)\r\n    @CrossOrigin\r\n    public List&lt;DuplicateManagerMetricsRelTagEntity&gt; getAllDuplicateManagerFromReleaseTag(@PathVariable String clientid, @PathVariable String[] appid, @PathVariable String releasetag) {\r\n        logger.info(&quot;Returing all duplicate managers of client {} appId {} from release tag {} &quot;, clientid, appid, releasetag);\r\n    \r\n        System.out.println(&quot;data in controller : &quot; + clientid + &quot; &quot; + appid + &quot; &quot; + releasetag);\r\n        return duplicateManagerMetricsService.getAllDuplicateManagerFromReleaseTag(clientid, appid, releasetag);\r\n    \r\n    } \r\n\r\nMy service look like this : \r\n\r\n    public List&lt;DuplicateManagerMetricsRelTagEntity&gt; getAllDuplicateManagerFromReleaseTag(String clientid, String[] appid, String releasetag) {\r\n        try {\r\n            System.out.println(&quot;data in service : &quot;+ clientid + &quot; &quot; + appid + &quot; &quot; + releasetag);\r\n            return duplicateManagerMetricsRepository.getAllDuplicateManagerfromReleaseTag(clientid, appid, releasetag);\r\n        } catch (Exception e) {\r\n            logger.error(e);\r\n            return new ArrayList&lt;&gt;();\r\n        }\r\n    }\r\n\r\nMy Repository look like this : \r\n\r\n    @Query(value = &quot;select a.sn, a.clientid, a.ticket_count from dbtable as a where a.clientid = ?1 AND a.appid in (?2)  AND a.releasetag=?3&quot;, nativeQuery = true)\r\n    List&lt;DuplicateManagerMetricsRelTagEntity&gt; getAllDuplicateManagerfromReleaseTag(String clientid, String[] appid, String releasetag);\r\n\r\n\r\nsince i am not getting appid data, i was supposed to get[657-001] but it is printing its object and the error i am getting is : \r\n\r\n    DuplicateManagerMetricsController - Returing all duplicate managers of client 657 appId [657-001] from release tag WIL657.2021.05-001 \r\n    data in controller : 657 [Ljava.lang.String;@63108943 WIL657.2021.05-001\r\n    data in service : 657 [Ljava.lang.String;@63108943 WIL657.2021.05-001\r\n    2022-09-02 05:08:54 DEBUG org.hibernate.SQL - select a.sn, a.clientid, a.ticket_count from dbtable as a where a.clientid = ? AND a.appid in (?)  AND a.releasetag=?\r\n    2022-09-02 05:08:54 WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 933, SQLState: 42000\r\n    2022-09-02 05:08:54 ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ORA-00933: SQL command not properly ended\r\n     \r\n    [ERROR] 2022-09-02 05:08:54.566 [http-nio-8080-exec-2] DuplicateManagerMetricsService - org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/42446506/failed-to-convert-from-type-java-lang-object-to-type","title":"Failed to convert from type [java.lang.Object[]] to type [qbr.entity.nameEntity]","body":"<p>I am not asking the question that is already asked here\n<a href=\"https://stackoverflow.com/questions/42446506/failed-to-convert-from-type-java-lang-object-to-type\">Failed to convert from type [java.lang.Object[]] to type</a></p>\n<p>My entity look like this :</p>\n<pre><code>    @Entity\npublic class DuplicateManagerMetricsRelTagEntity {\n    @Id\n    @Column(name = &quot;sn&quot;)\n    String sn;\n\n    @Column(name = &quot;clientid&quot;)\n    String clientid;\n\n    @Column(name = &quot;ticket_count&quot;)\n    String ticket_count;\n\n    public DuplicateManagerMetricsRelTagEntity(String sn, String clientid, String ticket_count) {\n        this.sn = sn;\n        this.clientid = clientid;\n        this.ticket_count = ticket_count;\n    }\n\n    public DuplicateManagerMetricsRelTagEntity() {\n\n    }\n</code></pre>\n<p>My controller look like this :</p>\n<pre><code>@RequestMapping(&quot;/qbr/duplicatemanager/{clientid}/{appid}/{releasetag}/&quot;)\n@CrossOrigin\npublic List&lt;DuplicateManagerMetricsRelTagEntity&gt; getAllDuplicateManagerFromReleaseTag(@PathVariable String clientid, @PathVariable String[] appid, @PathVariable String releasetag) {\n    logger.info(&quot;Returing all duplicate managers of client {} appId {} from release tag {} &quot;, clientid, appid, releasetag);\n\n    System.out.println(&quot;data in controller : &quot; + clientid + &quot; &quot; + appid + &quot; &quot; + releasetag);\n    return duplicateManagerMetricsService.getAllDuplicateManagerFromReleaseTag(clientid, appid, releasetag);\n\n} \n</code></pre>\n<p>My service look like this :</p>\n<pre><code>public List&lt;DuplicateManagerMetricsRelTagEntity&gt; getAllDuplicateManagerFromReleaseTag(String clientid, String[] appid, String releasetag) {\n    try {\n        System.out.println(&quot;data in service : &quot;+ clientid + &quot; &quot; + appid + &quot; &quot; + releasetag);\n        return duplicateManagerMetricsRepository.getAllDuplicateManagerfromReleaseTag(clientid, appid, releasetag);\n    } catch (Exception e) {\n        logger.error(e);\n        return new ArrayList&lt;&gt;();\n    }\n}\n</code></pre>\n<p>My Repository look like this :</p>\n<pre><code>@Query(value = &quot;select a.sn, a.clientid, a.ticket_count from dbtable as a where a.clientid = ?1 AND a.appid in (?2)  AND a.releasetag=?3&quot;, nativeQuery = true)\nList&lt;DuplicateManagerMetricsRelTagEntity&gt; getAllDuplicateManagerfromReleaseTag(String clientid, String[] appid, String releasetag);\n</code></pre>\n<p>since i am not getting appid data, i was supposed to get[657-001] but it is printing its object and the error i am getting is :</p>\n<pre><code>DuplicateManagerMetricsController - Returing all duplicate managers of client 657 appId [657-001] from release tag WIL657.2021.05-001 \ndata in controller : 657 [Ljava.lang.String;@63108943 WIL657.2021.05-001\ndata in service : 657 [Ljava.lang.String;@63108943 WIL657.2021.05-001\n2022-09-02 05:08:54 DEBUG org.hibernate.SQL - select a.sn, a.clientid, a.ticket_count from dbtable as a where a.clientid = ? AND a.appid in (?)  AND a.releasetag=?\n2022-09-02 05:08:54 WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 933, SQLState: 42000\n2022-09-02 05:08:54 ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ORA-00933: SQL command not properly ended\n \n[ERROR] 2022-09-02 05:08:54.566 [http-nio-8080-exec-2] DuplicateManagerMetricsService - org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n</code></pre>\n"},{"tags":["java","class","interface","components"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662122975,"creation_date":1662122975,"answer_id":73582840,"question_id":73582636,"body_markdown":"You seem to have a more fundamental misunderstanding here. What you want is  possible using proxies, but this is very complicated.\r\n\r\nLet&#39;s first explain the type system.\r\n\r\nIt is, obviously, not possible to have an instance of `IButton` specifically. No interface or abstract class can be instantiated. You can only have instances of `Button` here. Now, any `Button` _is a_ `IButton`. In exactly the same way any instance of Schnauzer _is a_ Dog, and _is a_ Animal.\r\n\r\nIn java-the-language, the compiler does not let you call methods on an expression unless __the compiler is sure they exist, first__. In other words:\r\n\r\n```\r\nobject o = &quot;Hello&quot;;\r\no.toLowerCase();\r\n```\r\n\r\ndoes not compile, because the compiler won&#39;t let you invoke `toLowerCase()` on `o`. However, `o` is __just a variable__. It isn&#39;t the object, it&#39;s a reference to it. It&#39;s like a page in an address book - the page is just a page, it&#39;s not a house - you have to follow the reference written on that page to the house first.\r\n\r\nThe point is, the object `o` is referring to __still has that `toLowerCase` method__. Objects are like treasure chests in the sand. They do not have names. `new Object()` makes one. Variables are treasure maps. `Object o = new Object()` does not mean `o` _is_ the treasure chest. No, `o` is merely a map:\r\n\r\n```\r\nString o = new String();\r\nObject o2 = o;\r\no = null;\r\no2 = null;\r\n```\r\n\r\nHere, in the first line, there is one treasure created and buried, and `o` is a treasure map that finds it. After the second line, there are 2 treasure maps that lead to the same treasure (thus, calling _the treasure_ `o` is misleading. Also, calling the type of the treasure &#39;Object&#39;, because `o2` is of type `Object`, is simply wrong). After line 3, one of the treasure maps has been erased and is now blank. After lien 4, the other one is too. The treasure is still there; but no longer reachable. The garbage collector will eventually dig it up and toss it out.\r\n\r\nThe above exercise should make clear that `IButton button = new Button();` does not magically make the button &#39;lose&#39; its `setEnabledRole` method. It still has it. It&#39;s just that `button.setEnabledRole()` doesn&#39;t compile, but `((Button) button).setEnabledRole()` does: It&#39;s just a matter of the compiler demanding that you explicitly tell it that the treasure you find when you follow the `button` treasuremap doesn&#39;t just lead to an `IButton`, the thing there is specifically a `Button`, and thus, `setEnabledRole()` is a thing you can do.\r\n\r\nThis explains why you can&#39;t do what you want...\r\n\r\n## On to the actual solution\r\n\r\nSo what you need to do instead is create an entirely new object whose type truly does not have a `setEnabledRole()` method. This completely different object will then pass on any methods it does have straight to the real button object. This pass-through object is called a __proxy__, and you can make them using `java.lang.reflect.Proxy`:\r\n\r\n```java\r\nClass&lt;?&gt; proxyClass = Proxy.newProxyInstance(IButton.class.getClassLoader(), new Class&lt;?&gt;[] {IButton.class}, (obj, method, args) -&gt; {\r\n  // code here\r\n});\r\n\r\nreturn (IButton) proxyClass.newInstance();\r\n```\r\n\r\nis the basic setup. This creates an object that only has the methods in IButton and nothing more. Any calls to any method are all redirected to &#39;code here&#39;, so what you&#39;ll need to do is reflectively invoke the code in the actual object. This is complicated, but doable. I doubt you want to, though.\r\n","title":"Creating an object based on the interface","body":"<p>You seem to have a more fundamental misunderstanding here. What you want is  possible using proxies, but this is very complicated.</p>\n<p>Let's first explain the type system.</p>\n<p>It is, obviously, not possible to have an instance of <code>IButton</code> specifically. No interface or abstract class can be instantiated. You can only have instances of <code>Button</code> here. Now, any <code>Button</code> <em>is a</em> <code>IButton</code>. In exactly the same way any instance of Schnauzer <em>is a</em> Dog, and <em>is a</em> Animal.</p>\n<p>In java-the-language, the compiler does not let you call methods on an expression unless <strong>the compiler is sure they exist, first</strong>. In other words:</p>\n<pre><code>object o = &quot;Hello&quot;;\no.toLowerCase();\n</code></pre>\n<p>does not compile, because the compiler won't let you invoke <code>toLowerCase()</code> on <code>o</code>. However, <code>o</code> is <strong>just a variable</strong>. It isn't the object, it's a reference to it. It's like a page in an address book - the page is just a page, it's not a house - you have to follow the reference written on that page to the house first.</p>\n<p>The point is, the object <code>o</code> is referring to <strong>still has that <code>toLowerCase</code> method</strong>. Objects are like treasure chests in the sand. They do not have names. <code>new Object()</code> makes one. Variables are treasure maps. <code>Object o = new Object()</code> does not mean <code>o</code> <em>is</em> the treasure chest. No, <code>o</code> is merely a map:</p>\n<pre><code>String o = new String();\nObject o2 = o;\no = null;\no2 = null;\n</code></pre>\n<p>Here, in the first line, there is one treasure created and buried, and <code>o</code> is a treasure map that finds it. After the second line, there are 2 treasure maps that lead to the same treasure (thus, calling <em>the treasure</em> <code>o</code> is misleading. Also, calling the type of the treasure 'Object', because <code>o2</code> is of type <code>Object</code>, is simply wrong). After line 3, one of the treasure maps has been erased and is now blank. After lien 4, the other one is too. The treasure is still there; but no longer reachable. The garbage collector will eventually dig it up and toss it out.</p>\n<p>The above exercise should make clear that <code>IButton button = new Button();</code> does not magically make the button 'lose' its <code>setEnabledRole</code> method. It still has it. It's just that <code>button.setEnabledRole()</code> doesn't compile, but <code>((Button) button).setEnabledRole()</code> does: It's just a matter of the compiler demanding that you explicitly tell it that the treasure you find when you follow the <code>button</code> treasuremap doesn't just lead to an <code>IButton</code>, the thing there is specifically a <code>Button</code>, and thus, <code>setEnabledRole()</code> is a thing you can do.</p>\n<p>This explains why you can't do what you want...</p>\n<h2>On to the actual solution</h2>\n<p>So what you need to do instead is create an entirely new object whose type truly does not have a <code>setEnabledRole()</code> method. This completely different object will then pass on any methods it does have straight to the real button object. This pass-through object is called a <strong>proxy</strong>, and you can make them using <code>java.lang.reflect.Proxy</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class&lt;?&gt; proxyClass = Proxy.newProxyInstance(IButton.class.getClassLoader(), new Class&lt;?&gt;[] {IButton.class}, (obj, method, args) -&gt; {\n  // code here\n});\n\nreturn (IButton) proxyClass.newInstance();\n</code></pre>\n<p>is the basic setup. This creates an object that only has the methods in IButton and nothing more. Any calls to any method are all redirected to 'code here', so what you'll need to do is reflectively invoke the code in the actual object. This is complicated, but doable. I doubt you want to, though.</p>\n"}],"owner":{"account_id":17184854,"reputation":13,"user_id":12601835,"display_name":"xTemprostyr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73582840,"answer_count":1,"score":1,"last_activity_date":1662124126,"creation_date":1662121892,"question_id":73582636,"body_markdown":"I have class Button in package &quot;pl.components&quot; and I created interface IButoon in package &quot;pl.icomponents&quot;. I would like to create a button based on this interface. This button only has methods that are in the interface.\r\n\r\n```java\r\npublic class Button extends com.vaadin.ui.Button implements IButton\r\n{\r\n     public String setEnabledRole(){}\r\n\r\n     public void setToolTip(String txt) {}\r\n}\r\n\r\npublic interface IButton\r\n{\r\n     public void setToolTip(String txt) {}\r\n}\r\n\r\n```\r\n\r\nSo, I guess when I do\r\n\r\n```java\r\nIButton ibutton = new Button();\r\n```\r\n\r\nThen my ibutton will only be able to use setToolTip. The only problem I have to do is have classNameSpaces only. Because I want to do this for a few components. And I don&#39;t want to make a few ifs that check it. So far I have done something like that:\r\n\r\n```java\r\n// classNamespace - example: pl.icomponents.IButton\r\nprivate Object createClass(String classNamespace, Element xml)\r\n{\r\n      if (classNamespace.contains(&quot;pl.icomponents.&quot;))\r\n      {\r\n            int lenght = classNamespace.length();\r\n            int lenght2 = &quot;pl.icomponents.&quot;.length();\r\n            String interfaceName = classNamespace.substring(lenght2, lenght);\r\n            String className = interfaceName.substring(1);\r\n            classNamespace = &quot;pl.components.&quot; + className;\r\n\r\n            Class&lt;?&gt; cls = Class.forName(classNamespace);\r\n            Object object = cls.newInstance();\r\n            Object iObject = cls.getInterfaces();\r\n            iObject = cls.newInstance();\r\n            return iObject;\r\n      }\r\n}\r\n```\r\nUnfortunately, the method returns Object Button that has access to setEnabledRole and setToolTip.\r\n\r\n\r\nDo you have any ideas? Maybe the &quot;Class &lt;?&gt;&quot; class has something like that? Unfortunately, I could not find anything.\r\n\r\n","title":"Creating an object based on the interface","body":"<p>I have class Button in package &quot;pl.components&quot; and I created interface IButoon in package &quot;pl.icomponents&quot;. I would like to create a button based on this interface. This button only has methods that are in the interface.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Button extends com.vaadin.ui.Button implements IButton\n{\n     public String setEnabledRole(){}\n\n     public void setToolTip(String txt) {}\n}\n\npublic interface IButton\n{\n     public void setToolTip(String txt) {}\n}\n\n</code></pre>\n<p>So, I guess when I do</p>\n<pre class=\"lang-java prettyprint-override\"><code>IButton ibutton = new Button();\n</code></pre>\n<p>Then my ibutton will only be able to use setToolTip. The only problem I have to do is have classNameSpaces only. Because I want to do this for a few components. And I don't want to make a few ifs that check it. So far I have done something like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// classNamespace - example: pl.icomponents.IButton\nprivate Object createClass(String classNamespace, Element xml)\n{\n      if (classNamespace.contains(&quot;pl.icomponents.&quot;))\n      {\n            int lenght = classNamespace.length();\n            int lenght2 = &quot;pl.icomponents.&quot;.length();\n            String interfaceName = classNamespace.substring(lenght2, lenght);\n            String className = interfaceName.substring(1);\n            classNamespace = &quot;pl.components.&quot; + className;\n\n            Class&lt;?&gt; cls = Class.forName(classNamespace);\n            Object object = cls.newInstance();\n            Object iObject = cls.getInterfaces();\n            iObject = cls.newInstance();\n            return iObject;\n      }\n}\n</code></pre>\n<p>Unfortunately, the method returns Object Button that has access to setEnabledRole and setToolTip.</p>\n<p>Do you have any ideas? Maybe the &quot;Class &lt;?&gt;&quot; class has something like that? Unfortunately, I could not find anything.</p>\n"},{"tags":["java","android","jakarta-mail"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1662123731,"post_id":73582937,"comment_id":129939485,"body_markdown":"Please clarify your problem, and why you think you need a regex for this. This is a matter of calling `getContent()` on the right part. See also the JakartaMail FAQ, [&quot;How do I find the main message body in a message that has attachments?&quot;](https://eclipse-ee4j.github.io/mail/FAQ.html#mainbody). Also notice how that lookup is recursive, because a MIME message structure can be more complex than what your code assumes it to be.","body":"Please clarify your problem, and why you think you need a regex for this. This is a matter of calling <code>getContent()</code> on the right part. See also the JakartaMail FAQ, <a href=\"https://eclipse-ee4j.github.io/mail/FAQ.html#mainbody\" rel=\"nofollow noreferrer\">&quot;How do I find the main message body in a message that has attachments?&quot;</a>. Also notice how that lookup is recursive, because a MIME message structure can be more complex than what your code assumes it to be."},{"owner":{"account_id":4535404,"reputation":301,"user_id":3684747,"display_name":"user3684747"},"score":0,"creation_date":1662123951,"post_id":73582937,"comment_id":129939588,"body_markdown":"https://stackoverflow.com/questions/31413048/extract-only-text-part-of-email-body-using-javamail-without-html-content may help","body":"<a href=\"https://stackoverflow.com/questions/31413048/extract-only-text-part-of-email-body-using-javamail-without-html-content\" title=\"extract only text part of email body using javamail without html content\">stackoverflow.com/questions/31413048/&hellip;</a> may help"},{"owner":{"account_id":26227719,"reputation":1,"user_id":19904161,"display_name":"Chirag Manuja"},"score":0,"creation_date":1662136373,"post_id":73582937,"comment_id":129944170,"body_markdown":"Someone who has done programming in java recommended me to use regex, for extracting text from html, but i want to use jsoup parser for extracting it, can anyone tell me the code to extract using that?","body":"Someone who has done programming in java recommended me to use regex, for extracting text from html, but i want to use jsoup parser for extracting it, can anyone tell me the code to extract using that?"}],"owner":{"account_id":26227719,"reputation":1,"user_id":19904161,"display_name":"Chirag Manuja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662123921,"creation_date":1662123441,"question_id":73582937,"body_markdown":"What should I write for extracting only the text from the msg.getContent() to get the exact text instead of HTML code?\r\n\r\nIf anyone can assist me with the regex part or any method to extract the content it would be great!\r\n\r\n```java\r\nclass ReceiveMail extends AsyncTask&lt;String, Void, String&gt; {\r\n\r\n    @Override\r\n    protected String doInBackground(String... params) {\r\n        //create session object\r\n        Session session = this.getImapSession();\r\n        String messageContent = &quot;&quot;;\r\n        try {\r\n            Store store = session.getStore(&quot;imaps&quot;);\r\n            store.connect(&quot;imap.gmail.com&quot;, 993, username, password);\r\n            IMAPFolder inbox = (IMAPFolder) store.getFolder(&quot;INBOX&quot;);\r\n            inbox.open(Folder.READ_WRITE);\r\n            Message[] messages = inbox.getMessages();\r\n            for (Message msg : messages) {\r\n                try {\r\n                    int j = messages.length - 1;\r\n                    fromAddress = msg.getFrom();\r\n                    from = fromAddress[0].toString();\r\n                    subject = msg.getSubject();\r\n                    toList = msg.getRecipients(Message.RecipientType.TO);\r\n                    ccList = msg.getRecipients(Message.RecipientType.CC);\r\n                    content = msg.getContent().toString();\r\n                    Object msgContent = msg.getContent();\r\n                    \r\n                    if (msgContent instanceof Multipart) {\r\n\r\n                        Multipart multipart = (Multipart) msgContent;\r\n\r\n                        for (int k = 0; k &lt; multipart.getCount(); k++) {\r\n\r\n                            BodyPart bodyPart = multipart.getBodyPart(k);\r\n\r\n                            String disposition = bodyPart.getDisposition();\r\n\r\n                            if (disposition != null &amp;&amp; (disposition.equalsIgnoreCase(&quot;ATTACHMENT&quot;))) {\r\n                                System.out.println(&quot;Mail have some attachment&quot;);\r\n\r\n                                DataHandler handler = bodyPart.getDataHandler();\r\n                                System.out.println(&quot;file name : &quot; + handler.getName());\r\n                            } else {\r\n                                System.out.println(&quot;Content: &quot; + bodyPart.getContent());\r\n                                content = bodyPart.getContent().toString();\r\n                                System.out.println(&quot;Content: &quot; + bodyPart.getContent());\r\n                                //content = messages[i].getContent().toString();\r\n                            }\r\n                        }\r\n                    } else\r\n                        content = msg.getContent().toString();\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n```","title":"Extracting only message content from Javamail API msg.getContent()","body":"<p>What should I write for extracting only the text from the msg.getContent() to get the exact text instead of HTML code?</p>\n<p>If anyone can assist me with the regex part or any method to extract the content it would be great!</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ReceiveMail extends AsyncTask&lt;String, Void, String&gt; {\n\n    @Override\n    protected String doInBackground(String... params) {\n        //create session object\n        Session session = this.getImapSession();\n        String messageContent = &quot;&quot;;\n        try {\n            Store store = session.getStore(&quot;imaps&quot;);\n            store.connect(&quot;imap.gmail.com&quot;, 993, username, password);\n            IMAPFolder inbox = (IMAPFolder) store.getFolder(&quot;INBOX&quot;);\n            inbox.open(Folder.READ_WRITE);\n            Message[] messages = inbox.getMessages();\n            for (Message msg : messages) {\n                try {\n                    int j = messages.length - 1;\n                    fromAddress = msg.getFrom();\n                    from = fromAddress[0].toString();\n                    subject = msg.getSubject();\n                    toList = msg.getRecipients(Message.RecipientType.TO);\n                    ccList = msg.getRecipients(Message.RecipientType.CC);\n                    content = msg.getContent().toString();\n                    Object msgContent = msg.getContent();\n                    \n                    if (msgContent instanceof Multipart) {\n\n                        Multipart multipart = (Multipart) msgContent;\n\n                        for (int k = 0; k &lt; multipart.getCount(); k++) {\n\n                            BodyPart bodyPart = multipart.getBodyPart(k);\n\n                            String disposition = bodyPart.getDisposition();\n\n                            if (disposition != null &amp;&amp; (disposition.equalsIgnoreCase(&quot;ATTACHMENT&quot;))) {\n                                System.out.println(&quot;Mail have some attachment&quot;);\n\n                                DataHandler handler = bodyPart.getDataHandler();\n                                System.out.println(&quot;file name : &quot; + handler.getName());\n                            } else {\n                                System.out.println(&quot;Content: &quot; + bodyPart.getContent());\n                                content = bodyPart.getContent().toString();\n                                System.out.println(&quot;Content: &quot; + bodyPart.getContent());\n                                //content = messages[i].getContent().toString();\n                            }\n                        }\n                    } else\n                        content = msg.getContent().toString();\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n</code></pre>\n"},{"tags":["java","linux"],"comments":[{"owner":{"account_id":14531,"reputation":118870,"user_id":29995,"accept_rate":77,"display_name":"Rob Hruska"},"score":0,"creation_date":1254498457,"post_id":1510104,"comment_id":1364115,"body_markdown":"Can you be more specific about what type of data you&#39;re storing? Is it data that&#39;s static (config files, static information, etc.) or is it data that&#39;s changed at runtime? I&#39;ve answered below under the assumption of the latter, but after re-reading your question I&#39;m not entirely sure what you&#39;re after.","body":"Can you be more specific about what type of data you&#39;re storing? Is it data that&#39;s static (config files, static information, etc.) or is it data that&#39;s changed at runtime? I&#39;ve answered below under the assumption of the latter, but after re-reading your question I&#39;m not entirely sure what you&#39;re after."},{"owner":{"account_id":41550,"reputation":13392,"user_id":120820,"accept_rate":100,"display_name":"William"},"score":0,"creation_date":1254502555,"post_id":1510104,"comment_id":1364537,"body_markdown":"I have reworded the question to (hopefully) clarify the situation somewhat.","body":"I have reworded the question to (hopefully) clarify the situation somewhat."},{"owner":{"account_id":3270322,"reputation":1225,"user_id":2753851,"display_name":"Victor Yarema"},"score":0,"creation_date":1509547646,"post_id":1510104,"comment_id":81062229,"body_markdown":"Similar question - https://unix.stackexchange.com/questions/70700/whats-the-most-appropriate-directory-where-to-place-files-shared-between-users .","body":"Similar question - <a href=\"https://unix.stackexchange.com/questions/70700/whats-the-most-appropriate-directory-where-to-place-files-shared-between-users\" title=\"whats the most appropriate directory where to place files shared between users\">unix.stackexchange.com/questions/70700/&hellip;</a> ."},{"owner":{"account_id":3270322,"reputation":1225,"user_id":2753851,"display_name":"Victor Yarema"},"score":0,"creation_date":1509547669,"post_id":1510104,"comment_id":81062244,"body_markdown":"Similar question - https://superuser.com/questions/635289/what-is-the-recommended-directory-to-store-website-content .","body":"Similar question - <a href=\"https://superuser.com/questions/635289/what-is-the-recommended-directory-to-store-website-content\" title=\"what is the recommended directory to store website content\">superuser.com/questions/635289/&hellip;</a> ."}],"answers":[{"tags":[],"owner":{"account_id":56666,"reputation":2682,"user_id":169759,"display_name":"Locksfree"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1662123291,"creation_date":1254496097,"answer_id":1510129,"question_id":1510104,"body_markdown":"If it is non-user-specific, you can probably store it under */usr/share/appname*","title":"Where to store application data (non-user specific) on Linux","body":"<p>If it is non-user-specific, you can probably store it under <em>/usr/share/appname</em></p>\n"},{"tags":[],"owner":{"account_id":57021,"reputation":6358,"user_id":170823,"display_name":"catwalk"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1662123321,"creation_date":1254496124,"answer_id":1510135,"question_id":1510104,"body_markdown":"In the */usr/share* or */usr/local/share* folders.","title":"Where to store application data (non-user specific) on Linux","body":"<p>In the <em>/usr/share</em> or <em>/usr/local/share</em> folders.</p>\n"},{"tags":[],"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1662123378,"creation_date":1254496126,"answer_id":1510136,"question_id":1510104,"body_markdown":"You could use the System.getProperty(&quot;user.home&quot;) to get the users home, so it&#39;s more platform independent.\r\n","title":"Where to store application data (non-user specific) on Linux","body":"<p>You could use the System.getProperty(&quot;user.home&quot;) to get the users home, so it's more platform independent.</p>\n"},{"tags":[],"owner":{"account_id":573,"reputation":19468,"user_id":739,"display_name":"Steve K"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1662123441,"creation_date":1254496587,"answer_id":1510182,"question_id":1510104,"body_markdown":"Since you are using Java, look at the [Preferences API][1].\r\n\r\nFrom the introduction:\r\n\r\n&gt; Applications require preference and configuration data to adapt to the needs of different users and environments. The java.util.prefs package provides a way for applications to store and retrieve user and system preference and configuration data. The data is stored persistently in an implementation-dependent backing store. There are two separate trees of preference nodes, one for user preferences and one for system preferences\r\n\r\nI&#39;d let the built-in API do the work.\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/guide/preferences/index.html\r\n\r\n\r\n","title":"Where to store application data (non-user specific) on Linux","body":"<p>Since you are using Java, look at the <a href=\"http://java.sun.com/j2se/1.5.0/docs/guide/preferences/index.html\" rel=\"nofollow noreferrer\">Preferences API</a>.</p>\n<p>From the introduction:</p>\n<blockquote>\n<p>Applications require preference and configuration data to adapt to the needs of different users and environments. The java.util.prefs package provides a way for applications to store and retrieve user and system preference and configuration data. The data is stored persistently in an implementation-dependent backing store. There are two separate trees of preference nodes, one for user preferences and one for system preferences</p>\n</blockquote>\n<p>I'd let the built-in API do the work.</p>\n"},{"tags":[],"owner":{"account_id":14531,"reputation":118870,"user_id":29995,"accept_rate":77,"display_name":"Rob Hruska"},"down_vote_count":0,"up_vote_count":114,"is_accepted":true,"score":114,"last_activity_date":1662123599,"creation_date":1254498289,"answer_id":1510352,"question_id":1510104,"body_markdown":"It depends on what kind of data you&#39;re planning on storing. This answer is under the premise that you&#39;re storing and modifying data at run time.\r\n\r\nContrary to what others have suggested, I would recommend against using `/usr/share` for storage. From the [Filesystem Hierarchy Standard][1]:\r\n\r\n&gt; The /usr/share hierarchy is for all\r\n&gt; read-only architecture independent\r\n&gt; data files.\r\n\r\nAs you&#39;re modifying data, this goes against the read-only nature of the `/usr` subsystem.\r\n\r\nA seemingly better place to store your application state data would be `/var`, or more specifically, `/var/lib`. This also comes from the [Hierarchy Standard][2]. You could create a `/var/lib/myapp`, or if you&#39;re also using things like lock files or logs, you could leverage `/var/lock` or `/var/log`.\r\n\r\nHave a deeper look at the standard as a whole (linked to above)&amp;mdash;you might find a place that fits what you want to do even better.\r\n\r\n[Like Steve K][3], I would also recommend using the Preferences API for application preference data.\r\n\r\n  [1]: http://www.pathname.com/fhs/pub/fhs-2.3.html#USRSHAREARCHITECTUREINDEPENDENTDATA\r\n  [2]: http://www.pathname.com/fhs/pub/fhs-2.3.html#THEVARHIERARCHY\r\n  [3]: https://stackoverflow.com/questions/1510104/where-to-store-application-data-non-user-specific-on-linux/1510182#1510182\r\n\r\n\r\n\r\n\r\n","title":"Where to store application data (non-user specific) on Linux","body":"<p>It depends on what kind of data you're planning on storing. This answer is under the premise that you're storing and modifying data at run time.</p>\n<p>Contrary to what others have suggested, I would recommend against using <code>/usr/share</code> for storage. From the <a href=\"http://www.pathname.com/fhs/pub/fhs-2.3.html#USRSHAREARCHITECTUREINDEPENDENTDATA\" rel=\"noreferrer\">Filesystem Hierarchy Standard</a>:</p>\n<blockquote>\n<p>The /usr/share hierarchy is for all\nread-only architecture independent\ndata files.</p>\n</blockquote>\n<p>As you're modifying data, this goes against the read-only nature of the <code>/usr</code> subsystem.</p>\n<p>A seemingly better place to store your application state data would be <code>/var</code>, or more specifically, <code>/var/lib</code>. This also comes from the <a href=\"http://www.pathname.com/fhs/pub/fhs-2.3.html#THEVARHIERARCHY\" rel=\"noreferrer\">Hierarchy Standard</a>. You could create a <code>/var/lib/myapp</code>, or if you're also using things like lock files or logs, you could leverage <code>/var/lock</code> or <code>/var/log</code>.</p>\n<p>Have a deeper look at the standard as a whole (linked to above)—you might find a place that fits what you want to do even better.</p>\n<p><a href=\"https://stackoverflow.com/questions/1510104/where-to-store-application-data-non-user-specific-on-linux/1510182#1510182\">Like Steve K</a>, I would also recommend using the Preferences API for application preference data.</p>\n"},{"tags":[],"owner":{"account_id":20562,"reputation":55673,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"down_vote_count":0,"up_vote_count":63,"is_accepted":false,"score":63,"last_activity_date":1662123797,"creation_date":1254498337,"answer_id":1510357,"question_id":1510104,"body_markdown":"It depends.\r\n\r\n* Global configuration &amp;rarr; */etc/appname*\r\n\r\n* Read-only, independent of machine architecture &amp;rarr; */usr/share/appname*\r\n\r\n* Read-only, machine specific &amp;rarr; */usr/lib/appname*\r\n\r\n* Read-write &amp;rarr; */var/lib/appname*\r\n\r\nThere isn&#39;t any guarantee for completeness. Please\r\ncheck the [Filesystem Hierarchy Standard][1].\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Filesystem_Hierarchy_Standard\r\n\r\n\r\n\r\n\r\n","title":"Where to store application data (non-user specific) on Linux","body":"<p>It depends.</p>\n<ul>\n<li><p>Global configuration → <em>/etc/appname</em></p>\n</li>\n<li><p>Read-only, independent of machine architecture → <em>/usr/share/appname</em></p>\n</li>\n<li><p>Read-only, machine specific → <em>/usr/lib/appname</em></p>\n</li>\n<li><p>Read-write → <em>/var/lib/appname</em></p>\n</li>\n</ul>\n<p>There isn't any guarantee for completeness. Please\ncheck the <a href=\"http://en.wikipedia.org/wiki/Filesystem_Hierarchy_Standard\" rel=\"noreferrer\">Filesystem Hierarchy Standard</a>.</p>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1480872180,"creation_date":1254499080,"answer_id":1510429,"question_id":1510104,"body_markdown":"The [freedesktop.org][1] (previously known as the X Desktop Group) project has defined some standards for this in the [XDG Base Directory Specification][2]. \n\nIn your case, I&#39;d have a look at `$XDG_DATA_DIRS`:\n\n&gt; `$XDG_DATA_DIRS` defines the preference-ordered set of base directories to search for data files in addition to the `$XDG_DATA_HOME` base directory. The directories in `$XDG_DATA_DIRS` should be seperated with a colon &#39;:&#39;.\n&gt;\n&gt; If `$XDG_DATA_DIRS` is either not set or empty, a value equal to `/usr/local/share/:/usr/share/` should be used. \n\nI warmly suggest to read the [XDG Base Directory Specification][3].\n\n\n  [1]: http://www.freedesktop.org/\n  [2]: http://standards.freedesktop.org/basedir-spec/latest/\n  [3]: https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html","title":"Where to store application data (non-user specific) on Linux","body":"<p>The <a href=\"http://www.freedesktop.org/\" rel=\"nofollow noreferrer\">freedesktop.org</a> (previously known as the X Desktop Group) project has defined some standards for this in the <a href=\"http://standards.freedesktop.org/basedir-spec/latest/\" rel=\"nofollow noreferrer\">XDG Base Directory Specification</a>.</p>\n<p>In your case, I'd have a look at <code>$XDG_DATA_DIRS</code>:</p>\n<blockquote>\n<p><code>$XDG_DATA_DIRS</code> defines the preference-ordered set of base directories to search for data files in addition to the <code>$XDG_DATA_HOME</code> base directory. The directories in <code>$XDG_DATA_DIRS</code> should be seperated with a colon ':'.</p>\n<p>If <code>$XDG_DATA_DIRS</code> is either not set or empty, a value equal to <code>/usr/local/share/:/usr/share/</code> should be used.</p>\n</blockquote>\n<p>I warmly suggest to read the <a href=\"https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html\" rel=\"nofollow noreferrer\">XDG Base Directory Specification</a>.</p>\n"},{"tags":[],"owner":{"account_id":5309497,"reputation":121,"user_id":4249333,"display_name":"david1024"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662123864,"creation_date":1449608749,"answer_id":34166003,"question_id":1510104,"body_markdown":"According to *[Filesystem Hierarchy Standard][1]*\r\n(which seems to be updated and correct as of July 2015)...\r\n\r\n&gt; Assuming that the datafiles are understood to not meet the requirements of `/tmp` or `/var/tmp` then `/usr/local/share/theApp` or `/usr/local/theApp`.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Filesystem_Hierarchy_Standard\r\n\r\n\r\n\r\n","title":"Where to store application data (non-user specific) on Linux","body":"<p>According to <em><a href=\"https://en.wikipedia.org/wiki/Filesystem_Hierarchy_Standard\" rel=\"nofollow noreferrer\">Filesystem Hierarchy Standard</a></em>\n(which seems to be updated and correct as of July 2015)...</p>\n<blockquote>\n<p>Assuming that the datafiles are understood to not meet the requirements of <code>/tmp</code> or <code>/var/tmp</code> then <code>/usr/local/share/theApp</code> or <code>/usr/local/theApp</code>.</p>\n</blockquote>\n"}],"owner":{"account_id":41550,"reputation":13392,"user_id":120820,"accept_rate":100,"display_name":"William"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72933,"favorite_count":0,"down_vote_count":0,"up_vote_count":76,"accepted_answer_id":1510352,"answer_count":8,"score":76,"last_activity_date":1662123864,"creation_date":1254495844,"question_id":1510104,"body_markdown":"In my [OSGi][1]-based Java application I am developing a bundle to provide the rest of the system with access to the file system.  In addition to providing access to the user home directory, I also wish to provide access to a non-user specific area.  Exactly what this area will be used for is as yet undetermined, but it will not be for preferences (handled by a different bundle), however it may be used to store data that could change at runtime.\r\n\r\nI intend on using the following directories for this purpose:\r\n\r\n- [Windows Vista][2] and [Windows 7][3]: “\\ProgramData”.\r\n- [Windows XP][4]: “\\Documents and Settings\\All Users“.\r\n- [Mac OS X][5]: “/Library/Application Support”.\r\n\r\nWhere is a sensible equivalent in Linux and how do I get a handle on it from my Java code?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/OSGi\r\n  [2]: https://en.wikipedia.org/wiki/Windows_Vista\r\n  [3]: https://en.wikipedia.org/wiki/Windows_7\r\n  [4]: https://en.wikipedia.org/wiki/Windows_XP\r\n  [5]: https://en.wikipedia.org/wiki/Mac_OS_X\r\n\r\n\r\n\r\n","title":"Where to store application data (non-user specific) on Linux","body":"<p>In my <a href=\"https://en.wikipedia.org/wiki/OSGi\" rel=\"noreferrer\">OSGi</a>-based Java application I am developing a bundle to provide the rest of the system with access to the file system.  In addition to providing access to the user home directory, I also wish to provide access to a non-user specific area.  Exactly what this area will be used for is as yet undetermined, but it will not be for preferences (handled by a different bundle), however it may be used to store data that could change at runtime.</p>\n<p>I intend on using the following directories for this purpose:</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Windows_Vista\" rel=\"noreferrer\">Windows Vista</a> and <a href=\"https://en.wikipedia.org/wiki/Windows_7\" rel=\"noreferrer\">Windows 7</a>: “\\ProgramData”.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Windows_XP\" rel=\"noreferrer\">Windows XP</a>: “\\Documents and Settings\\All Users“.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Mac_OS_X\" rel=\"noreferrer\">Mac OS X</a>: “/Library/Application Support”.</li>\n</ul>\n<p>Where is a sensible equivalent in Linux and how do I get a handle on it from my Java code?</p>\n"},{"tags":["java","c++","arrays","algorithm","data-structures"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1445970763,"post_id":33375769,"comment_id":54545704,"body_markdown":"One way is to go through each element in turn and sum up the elements to the left and right of it, and see if the left and right sums are equal: if they are, that&#39;s an equilibrium point, and you can stop; otherwise, move onto the next element and try again. Try implementing that first. It won&#39;t be efficient for large N, but it is a start.","body":"One way is to go through each element in turn and sum up the elements to the left and right of it, and see if the left and right sums are equal: if they are, that&#39;s an equilibrium point, and you can stop; otherwise, move onto the next element and try again. Try implementing that first. It won&#39;t be efficient for large N, but it is a start."},{"owner":{"account_id":6833812,"reputation":453,"user_id":5256636,"accept_rate":62,"display_name":"Sirat Binte Siddique"},"score":0,"creation_date":1445970820,"post_id":33375769,"comment_id":54545734,"body_markdown":"because Elements of input arrays can be modified. that&#39;s why  we don&#39;t need to specifically limit of the array","body":"because Elements of input arrays can be modified. that&#39;s why  we don&#39;t need to specifically limit of the array"},{"owner":{"account_id":115345,"reputation":31815,"user_id":302918,"accept_rate":78,"display_name":"juharr"},"score":0,"creation_date":1445971094,"post_id":33375769,"comment_id":54545898,"body_markdown":"Start with a left and right sum.  The left starts at zero and the right is the sum of the items from index 1 to N-1.  Loop through the array from 1 to N-2 and add the N-1 value to the left and subtract the N+1 value to the right.  Check if they are equal.  If so return N else keep going.  You&#39;ll also need to check if the initial right sum is 0 at the beginning and return 0 or if the left sum is 0 at the end and return N-1.","body":"Start with a left and right sum.  The left starts at zero and the right is the sum of the items from index 1 to N-1.  Loop through the array from 1 to N-2 and add the N-1 value to the left and subtract the N+1 value to the right.  Check if they are equal.  If so return N else keep going.  You&#39;ll also need to check if the initial right sum is 0 at the beginning and return 0 or if the left sum is 0 at the end and return N-1."},{"owner":{"account_id":79346,"reputation":57079,"user_id":225074,"accept_rate":91,"display_name":"Thomas Matthews"},"score":0,"creation_date":1445972532,"post_id":33375769,"comment_id":54546720,"body_markdown":"Which language?  For example, Java has ArrayList, but C and C++ don&#39;t. The language determines what data structures can be easily used.","body":"Which language?  For example, Java has ArrayList, but C and C++ don&#39;t. The language determines what data structures can be easily used."},{"owner":{"account_id":16608944,"reputation":38402,"user_id":12002570,"display_name":"user12002570"},"score":0,"creation_date":1662123812,"post_id":33375769,"comment_id":129939532,"body_markdown":"**Stack Overflow is not a coding service for ordering code.** Refer to [how to ask](https://stackoverflow.com/help/how-to-ask) and take a [SO tour](https://stackoverflow.com/tour). Show us what you&#39;ve tried so far and what problem you&#39;re facing with that so that we can find out the problem and suggest a correction(if any) and maybe even provide a better solution.","body":"<b>Stack Overflow is not a coding service for ordering code.</b> Refer to <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a> and take a <a href=\"https://stackoverflow.com/tour\">SO tour</a>. Show us what you&#39;ve tried so far and what problem you&#39;re facing with that so that we can find out the problem and suggest a correction(if any) and maybe even provide a better solution."}],"answers":[{"tags":[],"owner":{"account_id":6894815,"reputation":297,"user_id":5297150,"display_name":"Kanga_Roo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1445974636,"creation_date":1445973341,"answer_id":33376658,"question_id":33375769,"body_markdown":"In C++ (because that was one of the original tags, though it looks like it has been removed...)\r\n\r\n    int solution(int a[], int N){\r\n        int left;\r\n        int right;\r\n        for(int i = 0; i &lt; N; i++){\r\n            left  = 0;\r\n            right = 0;\r\n            for(int t = 0; t &lt; N; t++){\r\n                if(t &lt; i)      left  += a[t];\r\n                else if(t &gt; i) right += a[t];\r\n                else continue;\r\n            }\r\n            if(left == right) return i;\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    ...\r\n\r\n    int demo[] = {-1, 3, -4, 5, 1, -6, 2, 1};\r\n    cout &lt;&lt; solution(demo,sizeof(demo)/sizeof(*demo));\r\n\r\nif you want to see all the indices...\r\n\r\n    if(left == right) cout &lt;&lt; &quot;Equilibrium Index: &quot; &lt;&lt;  i &lt;&lt; endl;\r\n\r\nI find it odd it doesn&#39;t need to return an array of indices; that said, should you need it that&#39;s not too hard to implement with some slight modification","title":"A zero-indexed array given &amp; An equilibrium index of this array","body":"<p>In C++ (because that was one of the original tags, though it looks like it has been removed...)</p>\n\n<pre><code>int solution(int a[], int N){\n    int left;\n    int right;\n    for(int i = 0; i &lt; N; i++){\n        left  = 0;\n        right = 0;\n        for(int t = 0; t &lt; N; t++){\n            if(t &lt; i)      left  += a[t];\n            else if(t &gt; i) right += a[t];\n            else continue;\n        }\n        if(left == right) return i;\n    }\n    return -1;\n}\n\n...\n\nint demo[] = {-1, 3, -4, 5, 1, -6, 2, 1};\ncout &lt;&lt; solution(demo,sizeof(demo)/sizeof(*demo));\n</code></pre>\n\n<p>if you want to see all the indices...</p>\n\n<pre><code>if(left == right) cout &lt;&lt; \"Equilibrium Index: \" &lt;&lt;  i &lt;&lt; endl;\n</code></pre>\n\n<p>I find it odd it doesn't need to return an array of indices; that said, should you need it that's not too hard to implement with some slight modification</p>\n"},{"tags":[],"owner":{"account_id":3433601,"reputation":303994,"user_id":2877241,"accept_rate":52,"display_name":"Vlad from Moscow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483730432,"creation_date":1445973504,"answer_id":33376721,"question_id":33375769,"body_markdown":"The straightforward approach looks the following way.\r\n\r\nFirst of all you need to calculate the sum of all elements of the array\r\n\r\nFor example if you have the array in C++\r\n\r\n    int a[] = { -1, 3, -4, 5, 1, -6, 2, 1 };\r\n\r\nthen you can use an ordinary loop to calculate the sum or standard algorithm `std::accumulate` declared in header `&lt;numeric&gt;`\r\n\r\nFor example\r\n\r\n    long long int right_sum = \r\n        std::accumulate( std::begin( a ), std::end( a ), 0ll );\r\n\r\nThe sum of the elements of the left subsequence initially is equal to zero\r\n\r\n    long long int left_sum = 0;\r\n\r\nThen you can apply standard algorithm `std::find_if` with an appropriate lambda-expression or again write an ordinary loop as for example\r\n\r\n    for ( size_t i = 0; i &lt; sizeof( a ) / sizeof( *a ); i++ )\r\n    {\r\n        right_sum -= a[i];\r\n        if ( left_sum == right_sum ) std::cout &lt;&lt; i &lt;&lt; &#39; &#39;;\r\n        left_sum += a[i];\r\n    }\r\n\r\nThe result will be\r\n\r\n    1 3 7\r\n\r\n","title":"A zero-indexed array given &amp; An equilibrium index of this array","body":"<p>The straightforward approach looks the following way.</p>\n\n<p>First of all you need to calculate the sum of all elements of the array</p>\n\n<p>For example if you have the array in C++</p>\n\n<pre><code>int a[] = { -1, 3, -4, 5, 1, -6, 2, 1 };\n</code></pre>\n\n<p>then you can use an ordinary loop to calculate the sum or standard algorithm <code>std::accumulate</code> declared in header <code>&lt;numeric&gt;</code></p>\n\n<p>For example</p>\n\n<pre><code>long long int right_sum = \n    std::accumulate( std::begin( a ), std::end( a ), 0ll );\n</code></pre>\n\n<p>The sum of the elements of the left subsequence initially is equal to zero</p>\n\n<pre><code>long long int left_sum = 0;\n</code></pre>\n\n<p>Then you can apply standard algorithm <code>std::find_if</code> with an appropriate lambda-expression or again write an ordinary loop as for example</p>\n\n<pre><code>for ( size_t i = 0; i &lt; sizeof( a ) / sizeof( *a ); i++ )\n{\n    right_sum -= a[i];\n    if ( left_sum == right_sum ) std::cout &lt;&lt; i &lt;&lt; ' ';\n    left_sum += a[i];\n}\n</code></pre>\n\n<p>The result will be</p>\n\n<pre><code>1 3 7\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7256098,"reputation":17,"user_id":5534690,"display_name":"Hilary Brobbey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1460800224,"creation_date":1460800224,"answer_id":36662597,"question_id":33375769,"body_markdown":"Dynamic programming approach. O(N) time. O(2N) space.\r\n\r\n1. Keep two tables (arrays), tableBefore and tableAfter.\r\n2. tableBefore has sum up to index i for every i; i -&gt; 1 to N. \r\n3. tableAfter has sum up to index i for every i; i -&gt; N to 1.\r\n4. Afterwards loops and compare every index in tableBefore and tableAfter. If it&#39;s equal, that&#39;s your equilibrium index.\r\n\r\n        public static int EquilibriumIndex2(int[] a) {\r\n        int len = a.length;\r\n        int[] tableBefore = new int[len];\r\n        int[] tableAfter = new int[len];\r\n\r\n        tableBefore[0] = 0;\r\n        for (int i = 1; i &lt; len; i++) {\r\n            tableBefore[i] = tableBefore[i - 1] + a[i - 1];\r\n        }\r\n\r\n        //System.out.println(&quot;tableBefore: &quot; + Arrays.toString(tableBefore));\r\n        tableAfter[len - 1] = 0;\r\n        for (int i = len - 2; i &gt;= 0; i--) {\r\n            tableAfter[i] = tableAfter[i + 1] + a[i + 1];\r\n        }\r\n        //System.out.println(&quot;tableAfter: &quot; + java.util.Arrays.toString(tableAfter));\r\n\r\n        for (int j = 0; j &lt; len; j++) {\r\n            if (tableAfter[j] == tableBefore[j]) {\r\n                return j;\r\n            }\r\n        }\r\n        return -1;\r\n    }","title":"A zero-indexed array given &amp; An equilibrium index of this array","body":"<p>Dynamic programming approach. O(N) time. O(2N) space.</p>\n\n<ol>\n<li>Keep two tables (arrays), tableBefore and tableAfter.</li>\n<li>tableBefore has sum up to index i for every i; i -> 1 to N. </li>\n<li>tableAfter has sum up to index i for every i; i -> N to 1.</li>\n<li><p>Afterwards loops and compare every index in tableBefore and tableAfter. If it's equal, that's your equilibrium index.</p>\n\n<pre><code>public static int EquilibriumIndex2(int[] a) {\nint len = a.length;\nint[] tableBefore = new int[len];\nint[] tableAfter = new int[len];\n\ntableBefore[0] = 0;\nfor (int i = 1; i &lt; len; i++) {\n    tableBefore[i] = tableBefore[i - 1] + a[i - 1];\n}\n\n//System.out.println(\"tableBefore: \" + Arrays.toString(tableBefore));\ntableAfter[len - 1] = 0;\nfor (int i = len - 2; i &gt;= 0; i--) {\n    tableAfter[i] = tableAfter[i + 1] + a[i + 1];\n}\n//System.out.println(\"tableAfter: \" + java.util.Arrays.toString(tableAfter));\n\nfor (int j = 0; j &lt; len; j++) {\n    if (tableAfter[j] == tableBefore[j]) {\n        return j;\n    }\n}\nreturn -1;\n</code></pre>\n\n<p>}</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2751852,"reputation":1510,"user_id":2371066,"accept_rate":88,"display_name":"Shayan C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464000799,"creation_date":1464000799,"answer_id":37389063,"question_id":33375769,"body_markdown":"You can use the sums approach to solve this. Whenever sum from left = sum from right, you have an equilibrium point.\r\n\r\n    public int solution(int[] A) {\r\n        int[] sumLeft = new int[A.length];\r\n        int[] sumRight = new int[A.length];\r\n\r\n        sumLeft[0] = A[0];\r\n        sumRight[A.length-1] = A[A.length-1];\r\n        for (int i=1; i&lt;A.length; i++){\r\n            sumLeft[i] = A[i] + sumLeft[i-1];\r\n        }\r\n        for (int i=A.length-2; i&gt;=0; i--) {\r\n            sumRight[i] = sumRight[i+1] + A[i];\r\n        }\r\n\r\n        for (int i=0; i&lt;A.length; i++) {\r\n            if (sumLeft[i]==sumRight[i]) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    }","title":"A zero-indexed array given &amp; An equilibrium index of this array","body":"<p>You can use the sums approach to solve this. Whenever sum from left = sum from right, you have an equilibrium point.</p>\n\n<pre><code>public int solution(int[] A) {\n    int[] sumLeft = new int[A.length];\n    int[] sumRight = new int[A.length];\n\n    sumLeft[0] = A[0];\n    sumRight[A.length-1] = A[A.length-1];\n    for (int i=1; i&lt;A.length; i++){\n        sumLeft[i] = A[i] + sumLeft[i-1];\n    }\n    for (int i=A.length-2; i&gt;=0; i--) {\n        sumRight[i] = sumRight[i+1] + A[i];\n    }\n\n    for (int i=0; i&lt;A.length; i++) {\n        if (sumLeft[i]==sumRight[i]) {\n            return i;\n        }\n    }\n    return -1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7837751,"reputation":1549,"user_id":5925125,"display_name":"Bashir Momen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1494697979,"creation_date":1466521374,"answer_id":37948026,"question_id":33375769,"body_markdown":"\r\n100% scored with c#\r\n    \r\n    using System;\r\n    class Solution {\r\n        public int solution(int[] A) {\r\n            // First calculate sum of complete array as `sum_right`\r\n            long sum_right = 0;\r\n            for (int i = 0; i &lt; A.Length; i++)\r\n            {\r\n                sum_right += A[i];\r\n            }\r\n            \r\n            // start calculating sum from left side (lower index) as `sum_left`\r\n            // in each iteration subtract A[i] from complete array sum - `sum_right`\r\n            long sum_left = 0;\r\n            for (int p = 0; p &lt; A.Length; p++)\r\n            {\r\n                sum_left += p - 1 &lt; 0 ? 0: A[p-1];\r\n                sum_right -= A[p];\r\n                if (sum_left == sum_right)\r\n                {\r\n                     return p;\r\n                }\r\n            }\r\n            return -1;\r\n        \r\n            \r\n        }\r\n    }","title":"A zero-indexed array given &amp; An equilibrium index of this array","body":"<p>100% scored with c#</p>\n\n<pre><code>using System;\nclass Solution {\n    public int solution(int[] A) {\n        // First calculate sum of complete array as `sum_right`\n        long sum_right = 0;\n        for (int i = 0; i &lt; A.Length; i++)\n        {\n            sum_right += A[i];\n        }\n\n        // start calculating sum from left side (lower index) as `sum_left`\n        // in each iteration subtract A[i] from complete array sum - `sum_right`\n        long sum_left = 0;\n        for (int p = 0; p &lt; A.Length; p++)\n        {\n            sum_left += p - 1 &lt; 0 ? 0: A[p-1];\n            sum_right -= A[p];\n            if (sum_left == sum_right)\n            {\n                 return p;\n            }\n        }\n        return -1;\n\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3076055,"reputation":458,"user_id":2612134,"display_name":"chris hu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1471547397,"creation_date":1471547397,"answer_id":39025828,"question_id":33375769,"body_markdown":"The answer is posted in this blog: http://blog.codility.com/2011/03/solutions-for-task-equi.html. In order to avoid O(N^2) and achieve O(N) performance:\r\nThe key observation for better running time is to update the left/right sums in constant time instead of recomputing them from the scratch.\r\n\r\n    int equi(int arr[], int n) \r\n    {\r\n        if (n==0) return -1; \r\n        long long sum = 0;\r\n        int i; \r\n        for(i=0;i&lt;n;i++) sum+=(long long) arr[i]; \r\n    \r\n        long long sum_left = 0;    \r\n        for(i=0;i&lt;n;i++) {\r\n            long long sum_right = sum - sum_left - (long long) arr[i];\r\n            if (sum_left == sum_right) return i;\r\n            sum_left += (long long) arr[i];\r\n        } \r\n        return -1; \r\n    } \r\n\r\n","title":"A zero-indexed array given &amp; An equilibrium index of this array","body":"<p>The answer is posted in this blog: <a href=\"http://blog.codility.com/2011/03/solutions-for-task-equi.html\" rel=\"nofollow\">http://blog.codility.com/2011/03/solutions-for-task-equi.html</a>. In order to avoid O(N^2) and achieve O(N) performance:\nThe key observation for better running time is to update the left/right sums in constant time instead of recomputing them from the scratch.</p>\n\n<pre><code>int equi(int arr[], int n) \n{\n    if (n==0) return -1; \n    long long sum = 0;\n    int i; \n    for(i=0;i&lt;n;i++) sum+=(long long) arr[i]; \n\n    long long sum_left = 0;    \n    for(i=0;i&lt;n;i++) {\n        long long sum_right = sum - sum_left - (long long) arr[i];\n        if (sum_left == sum_right) return i;\n        sum_left += (long long) arr[i];\n    } \n    return -1; \n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1891952,"reputation":2743,"user_id":1709793,"accept_rate":0,"display_name":"craftsmannadeem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1481826270,"creation_date":1481826270,"answer_id":41170917,"question_id":33375769,"body_markdown":"Here is the java equivalent\r\n\r\n    public static int equilibriumIndex(int[] array) {\r\n\t\tint INDEX_NOT_FOUND = -1;\r\n\t\tint rSum = 0, lSum = 0;\r\n\r\n\t\tfor (int index = 0; index &lt; array.length; index++) {\r\n\t\t\trSum += array[index];\t\t\t\r\n\t\t}\r\n\r\n\t\tfor (int index = 0; index &lt; array.length; index++) {\r\n\t\t\tlSum += (index==0) ? 0 : array[index -1];// cumulative sum before (left sum) the current index\r\n\t\t\trSum -= array[index]; // sum after (right sum) the current index onwards\r\n\t\t\tif (lSum == rSum) { // if both sums, cumulative sum before the current index and cumulative sum after the current index is equal, we got the equilibrium index \r\n\t\t\t\treturn index;\r\n\t\t\t}\t\t\t\t\t\t\r\n\t\t}\r\n\t\treturn INDEX_NOT_FOUND;\r\n\t}\r\n\r\nHere is how you would test it\r\n\r\n    @Test\r\n\tpublic void equilibriumTest() {\r\n\t\tint result = ArrayUtils.equilibriumIndex(new int[]{1,2,3,1,6});\r\n\t\tassertThat(result, equalTo(3));\r\n\t}","title":"A zero-indexed array given &amp; An equilibrium index of this array","body":"<p>Here is the java equivalent</p>\n\n<pre><code>public static int equilibriumIndex(int[] array) {\n    int INDEX_NOT_FOUND = -1;\n    int rSum = 0, lSum = 0;\n\n    for (int index = 0; index &lt; array.length; index++) {\n        rSum += array[index];           \n    }\n\n    for (int index = 0; index &lt; array.length; index++) {\n        lSum += (index==0) ? 0 : array[index -1];// cumulative sum before (left sum) the current index\n        rSum -= array[index]; // sum after (right sum) the current index onwards\n        if (lSum == rSum) { // if both sums, cumulative sum before the current index and cumulative sum after the current index is equal, we got the equilibrium index \n            return index;\n        }                       \n    }\n    return INDEX_NOT_FOUND;\n}\n</code></pre>\n\n<p>Here is how you would test it</p>\n\n<pre><code>@Test\npublic void equilibriumTest() {\n    int result = ArrayUtils.equilibriumIndex(new int[]{1,2,3,1,6});\n    assertThat(result, equalTo(3));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3154670,"reputation":2663,"user_id":2667323,"accept_rate":53,"display_name":"Asiri Liyana Arachchi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1489509388,"creation_date":1489500867,"answer_id":42788372,"question_id":33375769,"body_markdown":"100% - Java\r\n     \r\n    int solution(int A[], int N) {\r\n        \r\n        long sum = 0;\r\n        for (int i = 0; i &lt; A.length; i++) {\r\n            sum += (long) A[i];\r\n        }\r\n        long leftSum = 0;\r\n        long rightSum = 0;\r\n\r\n        for (int i = 0; i &lt; A.length; i++) {\r\n            rightSum = sum - (leftSum + A[i]);\r\n            if (leftSum == rightSum) {\r\n                return i;\r\n            }\r\n            leftSum += A[i];\r\n        }\r\n        return -1;\r\n    }\r\n}","title":"A zero-indexed array given &amp; An equilibrium index of this array","body":"<p>100% - Java</p>\n\n<pre><code>int solution(int A[], int N) {\n\n    long sum = 0;\n    for (int i = 0; i &lt; A.length; i++) {\n        sum += (long) A[i];\n    }\n    long leftSum = 0;\n    long rightSum = 0;\n\n    for (int i = 0; i &lt; A.length; i++) {\n        rightSum = sum - (leftSum + A[i]);\n        if (leftSum == rightSum) {\n            return i;\n        }\n        leftSum += A[i];\n    }\n    return -1;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":3554567,"reputation":183,"user_id":2968624,"accept_rate":50,"display_name":"Eko Bayu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1494425208,"creation_date":1494423902,"answer_id":43894316,"question_id":33375769,"body_markdown":"100 Score in Javascript\r\n\r\n\r\n    function solution(V) {\r\n    \r\n        var sum = 0;\r\n        for (i=0; i &lt; V.length; i++) {\r\n          sum += V[i];   \r\n        }\r\n        \r\n        var leftSum= 0;\r\n        var rightSum = 0;\r\n        \r\n        for (j=0; j &lt; V.length; j++) {\r\n          rightSum = sum - (leftSum + V[j]);\r\n          if(leftSum == rightSum) {\r\n              return j;\r\n          }\r\n          leftSum += V[j];\r\n        }\r\n        return -1;\r\n    }","title":"A zero-indexed array given &amp; An equilibrium index of this array","body":"<p>100 Score in Javascript</p>\n\n<pre><code>function solution(V) {\n\n    var sum = 0;\n    for (i=0; i &lt; V.length; i++) {\n      sum += V[i];   \n    }\n\n    var leftSum= 0;\n    var rightSum = 0;\n\n    for (j=0; j &lt; V.length; j++) {\n      rightSum = sum - (leftSum + V[j]);\n      if(leftSum == rightSum) {\n          return j;\n      }\n      leftSum += V[j];\n    }\n    return -1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":408980,"reputation":17654,"user_id":779965,"accept_rate":50,"display_name":"Matija"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495530322,"creation_date":1495530322,"answer_id":44130381,"question_id":33375769,"body_markdown":"For the lazy ones and PHP developers:\r\n\r\n    $A = [];\r\n    $A[0] = -1;\r\n    $A[1] =  3;\r\n    $A[2] = -4;\r\n    $A[3] =  5;\r\n    $A[4] =  1;\r\n    $A[5] = -6;\r\n    $A[6] =  2;\r\n    $A[7] =  1;\r\n\r\n    echo solution($A) . &quot;\\n&quot;;\r\n\r\n    function solution($A)\r\n    {\r\n        $sum = 0;\r\n\r\n        for ($i=0; $i &lt; count($A); $i++) {\r\n            $sum += $A[$i];\r\n        }\r\n\r\n        $sumRight = 0;\r\n        $sumLeft = 0;\r\n\r\n        for ($j=0; $j &lt; count($A); $j++) {\r\n            $sumRight = $sum - ($sumLeft + $A[$j]);\r\n            if ($sumLeft == $sumRight) {\r\n                return $j;\r\n            }\r\n            $sumLeft += $A[$j];\r\n        }\r\n        return -1;\r\n    }\r\n\r\nComplexity `O(N)`\r\n\r\n","title":"A zero-indexed array given &amp; An equilibrium index of this array","body":"<p>For the lazy ones and PHP developers:</p>\n\n<pre><code>$A = [];\n$A[0] = -1;\n$A[1] =  3;\n$A[2] = -4;\n$A[3] =  5;\n$A[4] =  1;\n$A[5] = -6;\n$A[6] =  2;\n$A[7] =  1;\n\necho solution($A) . \"\\n\";\n\nfunction solution($A)\n{\n    $sum = 0;\n\n    for ($i=0; $i &lt; count($A); $i++) {\n        $sum += $A[$i];\n    }\n\n    $sumRight = 0;\n    $sumLeft = 0;\n\n    for ($j=0; $j &lt; count($A); $j++) {\n        $sumRight = $sum - ($sumLeft + $A[$j]);\n        if ($sumLeft == $sumRight) {\n            return $j;\n        }\n        $sumLeft += $A[$j];\n    }\n    return -1;\n}\n</code></pre>\n\n<p>Complexity <code>O(N)</code></p>\n"},{"tags":[],"owner":{"account_id":2967498,"reputation":594,"user_id":2520358,"display_name":"Pulkit Agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497860377,"creation_date":1497860377,"answer_id":44625472,"question_id":33375769,"body_markdown":"100 Score in Ruby\r\n\r\n    def equilibrium(a)\r\n      sum = 0\r\n      n = a.length\r\n      left_sum = 0\r\n      right_sum = 0\r\n    \r\n      n.times do |i|\r\n        sum += a[i]\r\n      end\r\n\r\n      n.times do |i|\r\n        right_sum = sum - left_sum - a[i]\r\n        if right_sum == left_sum\r\n          return i\r\n        end\r\n        left_sum += a[i]\r\n      end\r\n      return -1\r\n    end","title":"A zero-indexed array given &amp; An equilibrium index of this array","body":"<p>100 Score in Ruby</p>\n\n<pre><code>def equilibrium(a)\n  sum = 0\n  n = a.length\n  left_sum = 0\n  right_sum = 0\n\n  n.times do |i|\n    sum += a[i]\n  end\n\n  n.times do |i|\n    right_sum = sum - left_sum - a[i]\n    if right_sum == left_sum\n      return i\n    end\n    left_sum += a[i]\n  end\n  return -1\nend\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4649600,"reputation":153,"user_id":3766834,"display_name":"Cathal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500571902,"creation_date":1500571902,"answer_id":45221487,"question_id":33375769,"body_markdown":" My answer in Swift 3.0   \r\n\r\n    public func solution(_ A : inout [Int]) -&gt; Int {\r\n    \r\n    var nElements = A.count\r\n    var equilibriumIndexArray = [Int]() /* to store all possible indices */\r\n    var equilibriumIndex = -1\r\n    \r\n    for fixedIndex in 0..&lt;nElements{\r\n        \r\n        var sumLeft = 0\r\n        var sumRight = 0\r\n        \r\n        //Sum the left part\r\n        for index in 0..&lt;fixedIndex\r\n        {\r\n            sumLeft += A[index]\r\n        }\r\n\r\n        //Sum the right part\r\n        for index in fixedIndex+1..&lt;nElements\r\n        {\r\n            sumRight += A[index]\r\n        }\r\n        \r\n        //Check for equilibrium\r\n        if sumLeft == sumRight\r\n        {\r\n            equilibriumIndexArray.append(fixedIndex)\r\n        }\r\n        \r\n    }\r\n    \r\n    //pick a random element from the list of possible answers\r\n    if equilibriumIndexArray.count &gt; 0\r\n    {\r\n        let randomIndex = Int(arc4random_uniform(UInt32(equilibriumIndexArray.count)))\r\n        equilibriumIndex = equilibriumIndexArray[randomIndex]\r\n    }\r\n    \r\n    return equilibriumIndex\r\n}\r\n\r\n","title":"A zero-indexed array given &amp; An equilibrium index of this array","body":"<p>My answer in Swift 3.0   </p>\n\n<pre><code>public func solution(_ A : inout [Int]) -&gt; Int {\n\nvar nElements = A.count\nvar equilibriumIndexArray = [Int]() /* to store all possible indices */\nvar equilibriumIndex = -1\n\nfor fixedIndex in 0..&lt;nElements{\n\n    var sumLeft = 0\n    var sumRight = 0\n\n    //Sum the left part\n    for index in 0..&lt;fixedIndex\n    {\n        sumLeft += A[index]\n    }\n\n    //Sum the right part\n    for index in fixedIndex+1..&lt;nElements\n    {\n        sumRight += A[index]\n    }\n\n    //Check for equilibrium\n    if sumLeft == sumRight\n    {\n        equilibriumIndexArray.append(fixedIndex)\n    }\n\n}\n\n//pick a random element from the list of possible answers\nif equilibriumIndexArray.count &gt; 0\n{\n    let randomIndex = Int(arc4random_uniform(UInt32(equilibriumIndexArray.count)))\n    equilibriumIndex = equilibriumIndexArray[randomIndex]\n}\n\nreturn equilibriumIndex\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":8431112,"reputation":193,"user_id":6326816,"display_name":"David Castro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501089215,"creation_date":1501089215,"answer_id":45333458,"question_id":33375769,"body_markdown":"in python :)\r\n\r\n\r\n    def solution(A):\r\n        INDEX_NOT_FOUND = -1\r\n        right_sum = 0 \r\n        left_sum = 0\r\n        \r\n        for item in range(0, len(A)):\r\n            right_sum += A[item]\r\n            \r\n        for item in range(0, len(A)):\r\n            if item == 0:\r\n                left_sum +=  0 \r\n            else: \r\n                left_sum += A[item -1]\r\n            right_sum -= A[item]\r\n            if left_sum == right_sum:\r\n                return item\r\n        return INDEX_NOT_FOUND;","title":"A zero-indexed array given &amp; An equilibrium index of this array","body":"<p>in python :)</p>\n\n<pre><code>def solution(A):\n    INDEX_NOT_FOUND = -1\n    right_sum = 0 \n    left_sum = 0\n\n    for item in range(0, len(A)):\n        right_sum += A[item]\n\n    for item in range(0, len(A)):\n        if item == 0:\n            left_sum +=  0 \n        else: \n            left_sum += A[item -1]\n        right_sum -= A[item]\n        if left_sum == right_sum:\n            return item\n    return INDEX_NOT_FOUND;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5499222,"reputation":2927,"user_id":4369087,"display_name":"yoeunes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502076254,"creation_date":1502076254,"answer_id":45538994,"question_id":33375769,"body_markdown":"**100% - PHP**\r\n\r\n&lt;?php\r\n    \r\n    function solution(array $a)\r\n    {\r\n        $result = [];\r\n    \r\n        for($i = 0; $count = count($a), $i &lt; $count; $i++) {\r\n            if(sumLeft($a, $i-1) === sumRight($a, $i+1)) {\r\n                $result[] = $i;\r\n            }\r\n        }\r\n    \r\n        return  count($result) ? $result : -1;\r\n    }\r\n    \r\n    function sumRight(array $a, int $position): int\r\n    {\r\n        return array_sum(array_slice($a, $position));;\r\n    }\r\n    \r\n    function sumLeft(array $a, int $position): int\r\n    {\r\n        return array_sum(array_slice($a, 0, $position + 1));\r\n    }\r\n    \r\n    echo &quot;&lt;pre&gt;&quot;;\r\n    print_r(solution([-1, 3, -4, 5, 1, -6, 2, 1]));\r\n\r\n**output:**\r\n\r\n    Array\r\n    (\r\n        [0] =&gt; 1\r\n        [1] =&gt; 3\r\n        [2] =&gt; 7\r\n    )\r\n","title":"A zero-indexed array given &amp; An equilibrium index of this array","body":"<p><strong>100% - PHP</strong></p>\n\n<p>\n\n<pre><code>function solution(array $a)\n{\n    $result = [];\n\n    for($i = 0; $count = count($a), $i &lt; $count; $i++) {\n        if(sumLeft($a, $i-1) === sumRight($a, $i+1)) {\n            $result[] = $i;\n        }\n    }\n\n    return  count($result) ? $result : -1;\n}\n\nfunction sumRight(array $a, int $position): int\n{\n    return array_sum(array_slice($a, $position));;\n}\n\nfunction sumLeft(array $a, int $position): int\n{\n    return array_sum(array_slice($a, 0, $position + 1));\n}\n\necho \"&lt;pre&gt;\";\nprint_r(solution([-1, 3, -4, 5, 1, -6, 2, 1]));\n</code></pre>\n\n<p><strong>output:</strong></p>\n\n<pre><code>Array\n(\n    [0] =&gt; 1\n    [1] =&gt; 3\n    [2] =&gt; 7\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11965007,"reputation":11,"user_id":8754967,"display_name":"NinjaNick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507672694,"creation_date":1507671600,"answer_id":46676461,"question_id":33375769,"body_markdown":" Simple Solution :  \r\nsteps : \r\n\r\n1) Check (Array = null) \r\n\r\nThen Print “No Equilibrium point present as the array is NULL” \r\n\r\n\r\n2) Check (length of Array = 1)\r\n\r\nThen Print &quot;Equilibrium_Index = 0&quot; =&gt; Only single element present in array which is the equilibrium point\r\n\r\n3) Check (Length of Array &gt; 1)\r\n\r\nLoop (Array Index 1 to Length-1)\r\n\r\nConsider each index as equilibrium point\r\n\r\nCheck (sum of elements below equilibrium point = sum of elements above equilibrium poin)\r\n\r\n\r\nYes =&gt; equilibrium_index = i (break the loop)\r\n\r\nNo =&gt; continue step 3 with next value of loop counter\r\n\r\n\r\n4) if control is not returned from step 3 means the equilibrium point is not present in loop \r\n\r\nThen Print &quot;No equilibrium point present in array.&quot;\r\n \r\n\r\n\r\nPlease find below code for same :\r\n\r\n     public int findSum(int equillibrium,int a[],int flag)\r\n\t {\r\n\r\n\r\n          /*Flag - It represents whether sum is required for left side of equilibrium \r\n           point or right side of equilibrium point\r\n\t\t  *Flag = 0 =&gt; Sum is required for left side of equilibrium point\r\n\t\t  *Flag = 1 =&gt; Sum is required for right side of equilibrium point\r\n\t\t  */\r\n\r\n\t\t int lowlimit = 0, uplimit = a.length-1, i ,sum = 0;\r\n\t\t \r\n\t\t if(flag==0)\r\n\t\t\t uplimit = equillibrium - 1;\r\n\t\t else\r\n\t\t\t lowlimit = equillibrium + 1;\r\n\t\t \r\n\t\t for(i=lowlimit ; i&lt;=uplimit; i++)\r\n\t\t\t sum = sum + a[i];\r\n\t\t \r\n\t\t return sum;\r\n\t }\r\n\t \r\n\t public int findEquillibriumPoint(int a[])\r\n\t {\r\n\t\t int i = 0;\t//Loop Counter\r\n\t\t \r\n\t\t //Since only one element is present it is at equilibrium only and index of equillibrium point is index of single element i.e 0\r\n\t\t if(a.length==1)\r\n\t\t\t return 0;\r\n\t\t else\r\n\t\t {\r\n\t\t\t for(i=1;i&lt;a.length;i++)\r\n\t\t\t {\r\n\t\t\t\t if(findSum(i,a,0)==findSum(i,a,1)) //checking if some of lower half from equilibrium point is equal to sum of upper half\r\n\t\t\t\t\t return i; //if equilibrium point is found return the index of equilibrium point\r\n\t\t\t }\r\n\t\t }\r\n\t\t \r\n\t\t return -1;//if equilibrium point is not present in array then return -1 \r\n\t }\r\n\r\n","title":"A zero-indexed array given &amp; An equilibrium index of this array","body":"<p>Simple Solution :<br>\nsteps : </p>\n\n<p>1) Check (Array = null) </p>\n\n<p>Then Print “No Equilibrium point present as the array is NULL” </p>\n\n<p>2) Check (length of Array = 1)</p>\n\n<p>Then Print \"Equilibrium_Index = 0\" => Only single element present in array which is the equilibrium point</p>\n\n<p>3) Check (Length of Array > 1)</p>\n\n<p>Loop (Array Index 1 to Length-1)</p>\n\n<p>Consider each index as equilibrium point</p>\n\n<p>Check (sum of elements below equilibrium point = sum of elements above equilibrium poin)</p>\n\n<p>Yes => equilibrium_index = i (break the loop)</p>\n\n<p>No => continue step 3 with next value of loop counter</p>\n\n<p>4) if control is not returned from step 3 means the equilibrium point is not present in loop </p>\n\n<p>Then Print \"No equilibrium point present in array.\"</p>\n\n<p>Please find below code for same :</p>\n\n<pre><code> public int findSum(int equillibrium,int a[],int flag)\n {\n\n\n      /*Flag - It represents whether sum is required for left side of equilibrium \n       point or right side of equilibrium point\n      *Flag = 0 =&gt; Sum is required for left side of equilibrium point\n      *Flag = 1 =&gt; Sum is required for right side of equilibrium point\n      */\n\n     int lowlimit = 0, uplimit = a.length-1, i ,sum = 0;\n\n     if(flag==0)\n         uplimit = equillibrium - 1;\n     else\n         lowlimit = equillibrium + 1;\n\n     for(i=lowlimit ; i&lt;=uplimit; i++)\n         sum = sum + a[i];\n\n     return sum;\n }\n\n public int findEquillibriumPoint(int a[])\n {\n     int i = 0; //Loop Counter\n\n     //Since only one element is present it is at equilibrium only and index of equillibrium point is index of single element i.e 0\n     if(a.length==1)\n         return 0;\n     else\n     {\n         for(i=1;i&lt;a.length;i++)\n         {\n             if(findSum(i,a,0)==findSum(i,a,1)) //checking if some of lower half from equilibrium point is equal to sum of upper half\n                 return i; //if equilibrium point is found return the index of equilibrium point\n         }\n     }\n\n     return -1;//if equilibrium point is not present in array then return -1 \n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10907586,"reputation":13,"user_id":8017883,"display_name":"Syed Ibad Hasan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662123698,"creation_date":1662123672,"answer_id":73583000,"question_id":33375769,"body_markdown":"Fully tested C#   \r\n\r\n    using System;\r\n    \r\n    \r\n    class Program\r\n    {\r\n        static int Function1(int[] arr, int n)\r\n        {\r\n            int i, j;\r\n            int leftsum;\r\n            int rightsum;\r\n            for (i = 0; i &lt; n; ++i)\r\n            {\r\n    \r\n                leftsum = 0;\r\n    \r\n                rightsum = 0;\r\n    \r\n                if(i == 0)\r\n                {\r\n                    leftsum = 0;\r\n                    \r\n                    for (j = 0; j &lt; n; j++)\r\n                    {\r\n                        rightsum += arr[j];\r\n                    }\r\n    \r\n                    if (leftsum == rightsum)\r\n                        return i;\r\n    \r\n                }\r\n                \r\n                    for (j = 0; j &lt; i; j++)\r\n                    {\r\n                        leftsum += arr[j];\r\n    \r\n                    }\r\n               \r\n    \r\n                if (n-1 != j)\r\n                {\r\n                    for (j = i + 1; j &lt; n; j++)\r\n                    {\r\n                        rightsum += arr[j];\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    rightsum = arr[n-1];\r\n                }\r\n    \r\n                if (leftsum == rightsum)\r\n                    return i;\r\n            }\r\n    \r\n            return -1;\r\n        }\r\n        public static void Main(string[] args)\r\n        {\r\n            int[] arr = { 1, 5, -8, 0, -2 };\r\n            int arr_size = arr.Length;\r\n    \r\n            Console.Write(Function1(arr, arr_size));\r\n        }\r\n    }","title":"A zero-indexed array given &amp; An equilibrium index of this array","body":"<p>Fully tested C#</p>\n<pre><code>using System;\n\n\nclass Program\n{\n    static int Function1(int[] arr, int n)\n    {\n        int i, j;\n        int leftsum;\n        int rightsum;\n        for (i = 0; i &lt; n; ++i)\n        {\n\n            leftsum = 0;\n\n            rightsum = 0;\n\n            if(i == 0)\n            {\n                leftsum = 0;\n                \n                for (j = 0; j &lt; n; j++)\n                {\n                    rightsum += arr[j];\n                }\n\n                if (leftsum == rightsum)\n                    return i;\n\n            }\n            \n                for (j = 0; j &lt; i; j++)\n                {\n                    leftsum += arr[j];\n\n                }\n           \n\n            if (n-1 != j)\n            {\n                for (j = i + 1; j &lt; n; j++)\n                {\n                    rightsum += arr[j];\n                }\n            }\n            else\n            {\n                rightsum = arr[n-1];\n            }\n\n            if (leftsum == rightsum)\n                return i;\n        }\n\n        return -1;\n    }\n    public static void Main(string[] args)\n    {\n        int[] arr = { 1, 5, -8, 0, -2 };\n        int arr_size = arr.Length;\n\n        Console.Write(Function1(arr, arr_size));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6833812,"reputation":453,"user_id":5256636,"accept_rate":62,"display_name":"Sirat Binte Siddique"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27084,"favorite_count":0,"down_vote_count":4,"up_vote_count":7,"closed_date":1662123947,"accepted_answer_id":43894316,"answer_count":16,"score":3,"last_activity_date":1662123698,"creation_date":1445970359,"question_id":33375769,"body_markdown":"A zero-indexed array A consisting of N integers is given. An equilibrium index of this array is any integer P such that 0 ≤ P &lt; N and the sum of elements of lower indices is equal to the sum of elements of higher indices, i.e. \r\nA[0] + A[1] + ... + A[P−1] = A[P+1] + ... + A[N−2] + A[N−1].\r\nSum of zero elements is assumed to be equal to 0. This can happen if P = 0 or if P = N−1.\r\n\r\nFor example, consider the following array A consisting of N = 8 elements:\r\n\r\n \r\n\r\n      A[0] = -1\r\n      A[1] =  3\r\n      A[2] = -4\r\n      A[3] =  5\r\n      A[4] =  1\r\n      A[5] = -6\r\n      A[6] =  2\r\n      A[7] =  1\r\n\r\nP = 1 is an equilibrium index of this array, because:\r\n\r\n    A[0] = −1 = A[2] + A[3] + A[4] + A[5] + A[6] + A[7]\r\n\r\nP = 3 is an equilibrium index of this array, because:\r\n\r\n    A[0] + A[1] + A[2] = −2 = A[4] + A[5] + A[6] + A[7]\r\n\r\nP = 7 is also an equilibrium index, because:\r\n\r\n    A[0] + A[1] + A[2] + A[3] + A[4] + A[5] + A[6] = 0\r\n\r\nand there are no elements with indices greater than 7.\r\n\r\nP = 8 is not an equilibrium index, because it does not fulfill the condition 0 ≤ P &lt; N.\r\n\r\nNow i have to write a function:\r\n\r\n    int solution(int A[], int N);\r\n\r\nthat, given a zero-indexed array A consisting of N integers, returns any of its equilibrium indices. The function should return −1 if no equilibrium index exists.\r\n\r\nFor example, given array A shown above, the function may return 1, 3 or 7, as explained above.\r\n\r\nAssume that:\r\n\r\n    N is an integer within the range [0..100,000];\r\n    each element of array A is an integer within the range [−2,147,483,648..2,147,483,647].\r\n\r\nhere have some Complexity:\r\n\r\n    Elements of input arrays can be modified.","title":"A zero-indexed array given &amp; An equilibrium index of this array","body":"<p>A zero-indexed array A consisting of N integers is given. An equilibrium index of this array is any integer P such that 0 ≤ P &lt; N and the sum of elements of lower indices is equal to the sum of elements of higher indices, i.e. \nA[0] + A[1] + ... + A[P−1] = A[P+1] + ... + A[N−2] + A[N−1].\nSum of zero elements is assumed to be equal to 0. This can happen if P = 0 or if P = N−1.</p>\n\n<p>For example, consider the following array A consisting of N = 8 elements:</p>\n\n<pre><code>  A[0] = -1\n  A[1] =  3\n  A[2] = -4\n  A[3] =  5\n  A[4] =  1\n  A[5] = -6\n  A[6] =  2\n  A[7] =  1\n</code></pre>\n\n<p>P = 1 is an equilibrium index of this array, because:</p>\n\n<pre><code>A[0] = −1 = A[2] + A[3] + A[4] + A[5] + A[6] + A[7]\n</code></pre>\n\n<p>P = 3 is an equilibrium index of this array, because:</p>\n\n<pre><code>A[0] + A[1] + A[2] = −2 = A[4] + A[5] + A[6] + A[7]\n</code></pre>\n\n<p>P = 7 is also an equilibrium index, because:</p>\n\n<pre><code>A[0] + A[1] + A[2] + A[3] + A[4] + A[5] + A[6] = 0\n</code></pre>\n\n<p>and there are no elements with indices greater than 7.</p>\n\n<p>P = 8 is not an equilibrium index, because it does not fulfill the condition 0 ≤ P &lt; N.</p>\n\n<p>Now i have to write a function:</p>\n\n<pre><code>int solution(int A[], int N);\n</code></pre>\n\n<p>that, given a zero-indexed array A consisting of N integers, returns any of its equilibrium indices. The function should return −1 if no equilibrium index exists.</p>\n\n<p>For example, given array A shown above, the function may return 1, 3 or 7, as explained above.</p>\n\n<p>Assume that:</p>\n\n<pre><code>N is an integer within the range [0..100,000];\neach element of array A is an integer within the range [−2,147,483,648..2,147,483,647].\n</code></pre>\n\n<p>here have some Complexity:</p>\n\n<pre><code>Elements of input arrays can be modified.\n</code></pre>\n"},{"tags":["java","elasticsearch","elk"],"answers":[{"tags":[],"owner":{"account_id":18368156,"reputation":303,"user_id":13378772,"display_name":"Aman Mehta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662123571,"creation_date":1662122909,"answer_id":73582822,"question_id":73557462,"body_markdown":"You can use **QueryBuilder** class to build such type of **conditional queries** in Java. Here is the simplified code for above example - \r\n\r\n```\r\nBoolQueryBuilder queryBuilder = QueryBuilders.boolQuery();\r\n    if(name != null){\r\n      queryBuilder.must(QueryBuilders.matchQuery(&quot;name&quot;,&quot;searchText&quot;));\r\n    }\r\n    if(price != null){\r\n      queryBuilder.must(QueryBuilders.rangeQuery(&quot;price&quot;).gte(maxPrice));\r\n    }\r\n    SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\r\n    searchSourceBuilder.query(queryBuilder);\r\n    SearchRequest searchRequest = new SearchRequest(&quot;products&quot;);\r\n    searchRequest.source(searchSourceBuilder);\r\n    esClient.search(searchRequest, RequestOptions.DEFAULT);\r\n```","title":"ElasticSearchClient Search Functions","body":"<p>You can use <strong>QueryBuilder</strong> class to build such type of <strong>conditional queries</strong> in Java. Here is the simplified code for above example -</p>\n<pre><code>BoolQueryBuilder queryBuilder = QueryBuilders.boolQuery();\n    if(name != null){\n      queryBuilder.must(QueryBuilders.matchQuery(&quot;name&quot;,&quot;searchText&quot;));\n    }\n    if(price != null){\n      queryBuilder.must(QueryBuilders.rangeQuery(&quot;price&quot;).gte(maxPrice));\n    }\n    SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\n    searchSourceBuilder.query(queryBuilder);\n    SearchRequest searchRequest = new SearchRequest(&quot;products&quot;);\n    searchRequest.source(searchSourceBuilder);\n    esClient.search(searchRequest, RequestOptions.DEFAULT);\n</code></pre>\n"}],"owner":{"account_id":13353716,"reputation":1,"user_id":9638089,"display_name":"RBz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662123571,"creation_date":1661956036,"question_id":73557462,"body_markdown":"We are trying to implement nested queries like this provided example:\r\n\r\nAnd was wondering if it is possible that we can add the query objects dynamically depending on the number of the query objects created.\r\n\r\nFor example if I want to search only byName or byMaxPrice or having both of them byName and byMaxPrice. Is there an easier way of adding the query objects to the search function instead of using the if/else statements?\r\n\r\nUsing Elastic version 8.3\r\n\r\nAppreciate any help\r\n\r\nExample\r\n\r\n    if ( name != null ){\r\n              Query byName = MatchQuery.of(m -&gt; m \r\n                   .field(&quot;name&quot;)\r\n                   .query(searchText)\r\n                 )._toQuery(); \r\n    }\r\n    \r\n    if( price != null ) {\r\n             Query byMaxPrice = RangeQuery.of(r -&gt; r\r\n                 .field(&quot;price&quot;)\r\n                 .gte(JsonData.of(maxPrice)) \r\n              )._toQuery();\r\n    }\r\n    \r\n    if ( name != null &amp;&amp; price != null) {\r\n    SearchResponse&lt;Product&gt; response = esClient.search(s -&gt; s\r\n        .index(&quot;products&quot;)\r\n        .query(q -&gt; q\r\n            .bool(b -&gt; b \r\n                .must(byName) \r\n                .must(byMaxPrice)\r\n            )\r\n        ),\r\n        Product.class\r\n    );\r\n    } else if ( name != null &amp;&amp; price == null ) {\r\n    SearchResponse&lt;Product&gt; response = esClient.search(s -&gt; s\r\n        .index(&quot;products&quot;)\r\n        .query(q -&gt; q\r\n            .bool(b -&gt; b \r\n                .must(byName)\r\n            )\r\n        ),\r\n        Product.class\r\n    );\r\n    } else if ( name == null &amp;&amp; price != null ) {\r\n    SearchResponse&lt;Product&gt; response = esClient.search(s -&gt; s\r\n        .index(&quot;products&quot;)\r\n        .query(q -&gt; q\r\n            .bool(b -&gt; b \r\n                .must(byMaxPrice) \r\n            )\r\n        ),\r\n        Product.class\r\n    );\r\n    }","title":"ElasticSearchClient Search Functions","body":"<p>We are trying to implement nested queries like this provided example:</p>\n<p>And was wondering if it is possible that we can add the query objects dynamically depending on the number of the query objects created.</p>\n<p>For example if I want to search only byName or byMaxPrice or having both of them byName and byMaxPrice. Is there an easier way of adding the query objects to the search function instead of using the if/else statements?</p>\n<p>Using Elastic version 8.3</p>\n<p>Appreciate any help</p>\n<p>Example</p>\n<pre><code>if ( name != null ){\n          Query byName = MatchQuery.of(m -&gt; m \n               .field(&quot;name&quot;)\n               .query(searchText)\n             )._toQuery(); \n}\n\nif( price != null ) {\n         Query byMaxPrice = RangeQuery.of(r -&gt; r\n             .field(&quot;price&quot;)\n             .gte(JsonData.of(maxPrice)) \n          )._toQuery();\n}\n\nif ( name != null &amp;&amp; price != null) {\nSearchResponse&lt;Product&gt; response = esClient.search(s -&gt; s\n    .index(&quot;products&quot;)\n    .query(q -&gt; q\n        .bool(b -&gt; b \n            .must(byName) \n            .must(byMaxPrice)\n        )\n    ),\n    Product.class\n);\n} else if ( name != null &amp;&amp; price == null ) {\nSearchResponse&lt;Product&gt; response = esClient.search(s -&gt; s\n    .index(&quot;products&quot;)\n    .query(q -&gt; q\n        .bool(b -&gt; b \n            .must(byName)\n        )\n    ),\n    Product.class\n);\n} else if ( name == null &amp;&amp; price != null ) {\nSearchResponse&lt;Product&gt; response = esClient.search(s -&gt; s\n    .index(&quot;products&quot;)\n    .query(q -&gt; q\n        .bool(b -&gt; b \n            .must(byMaxPrice) \n        )\n    ),\n    Product.class\n);\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1662029873,"post_id":73568205,"comment_id":129914213,"body_markdown":"There is no code that would produce that exception. You should of course post that code too that tries to read.","body":"There is no code that would produce that exception. You should of course post that code too that tries to read."},{"owner":{"account_id":25647204,"reputation":1,"user_id":19415110,"display_name":"Abdullah Alrayyis"},"score":0,"creation_date":1662029960,"post_id":73568205,"comment_id":129914235,"body_markdown":"ok i will edit the post now one minute...","body":"ok i will edit the post now one minute..."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1662031181,"post_id":73568205,"comment_id":129914661,"body_markdown":"&quot;I tried to insert it into a database&quot; -- use `ACTION_OPEN_DOCUMENT` instead of `ACTION_GET_CONTENT`, and call `takePersistableUriPermission()` when you get your result: https://commonsware.com/blog/2020/08/08/uri-access-lifetime-still-shorter-than-you-might-think.html","body":"&quot;I tried to insert it into a database&quot; -- use <code>ACTION_OPEN_DOCUMENT</code> instead of <code>ACTION_GET_CONTENT</code>, and call <code>takePersistableUriPermission()</code> when you get your result: <a href=\"https://commonsware.com/blog/2020/08/08/uri-access-lifetime-still-shorter-than-you-might-think.html\" rel=\"nofollow noreferrer\">commonsware.com/blog/2020/08/08/&hellip;</a>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1662031186,"post_id":73568205,"comment_id":129914663,"body_markdown":"`holder.image.setImageURI(Uri.parse(employee.getImg()));` Is this the code that tries to read from the uri? No need to post more code then.","body":"<code>holder.image.setImageURI(Uri.parse(employee.getImg()));</code> Is this the code that tries to read from the uri? No need to post more code then."},{"owner":{"account_id":21390158,"reputation":801,"user_id":15754377,"display_name":"Vivek Gupta"},"score":0,"creation_date":1662031746,"post_id":73568205,"comment_id":129914873,"body_markdown":"If you wonder why you need to change ACTION_GET_CONTENT to ACTION_OPEN_DOCUMENT read commonsware&#39;s book for more details :P","body":"If you wonder why you need to change ACTION_GET_CONTENT to ACTION_OPEN_DOCUMENT read commonsware&#39;s book for more details :P"}],"answers":[{"tags":[],"owner":{"account_id":21390158,"reputation":801,"user_id":15754377,"display_name":"Vivek Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662034782,"creation_date":1662034782,"answer_id":73569242,"question_id":73568205,"body_markdown":"\r\nWhen you use ACTION_GET_CONTENT to fetch content, your activity has right to use that content only. \r\n\r\nFrom Commonsware&#39;s blog\r\n\r\n&gt;  the Activity that receives the result can access the content… but not other activity instances within your app, nor any services, etc\r\n\r\n Also, say, you store the fetched content uri in database and close the app and start the app again , you retrieve the stored uri from database and try to display in ImageView but this will result in error as now you have no rights to consume uri. \r\nSo, use ACTION_GET_CONTENT if you don&#39;t want to use the fetched content uri later. But if you do want to use the uri later, you need to use ACTION_OPEN_DOCUMENT.\r\n\r\n     val intent = Intent(Intent.ACTION_OPEN_DOCUMENT)\r\n            intent.type = &quot;image/*&quot;\r\n            startActivityForResult(Intent.createChooser(intent,&quot;Pick an Image&quot;),PICK_IMAGE_REQUEST_CODE)\r\n\r\n\r\nInside OnActivityResult method,\r\n  \r\n\r\n        if(resultCode==RESULT_OK &amp;&amp; requestCode == PICK_IMAGE_REQUEST_CODE){\r\n        Uri uri = data!=null ?: data.getData() : null;\r\n        try{\r\n        ContentResolver cr;\r\n        if(uri!=null){ \r\n        FragmentActivity activity = this.requireActivity()\r\n       cr = activity.getContentResolver();\r\n    if(cr!=null){\r\n                    cr.takePersistableUriPermission(uri, \r\n                 Intent.FLAG_GRANT_READ_URI_PERMISSION)\r\n   \r\n              //now we have permission to use uri later, we can verify too\r\n               List permission = cr.getPersistedUriPermissions();\r\n              Log.d(&quot;myApps&quot;, &quot;Persistable Permission =&quot; + permission);              \r\n              // consume here or store the uri to use later     \r\n                     myImageView.setImageUri(uri)\r\n        }\r\n        }  \r\n       \r\n        }catch(Exception ex )\r\n        {\r\n\r\n        }\r\n        }\r\n\r\n","title":"java.lang.SecurityException: Permission Denial ERROR","body":"<p>When you use ACTION_GET_CONTENT to fetch content, your activity has right to use that content only.</p>\n<p>From Commonsware's blog</p>\n<blockquote>\n<p>the Activity that receives the result can access the content… but not other activity instances within your app, nor any services, etc</p>\n</blockquote>\n<p>Also, say, you store the fetched content uri in database and close the app and start the app again , you retrieve the stored uri from database and try to display in ImageView but this will result in error as now you have no rights to consume uri.\nSo, use ACTION_GET_CONTENT if you don't want to use the fetched content uri later. But if you do want to use the uri later, you need to use ACTION_OPEN_DOCUMENT.</p>\n<pre><code> val intent = Intent(Intent.ACTION_OPEN_DOCUMENT)\n        intent.type = &quot;image/*&quot;\n        startActivityForResult(Intent.createChooser(intent,&quot;Pick an Image&quot;),PICK_IMAGE_REQUEST_CODE)\n</code></pre>\n<p>Inside OnActivityResult method,</p>\n<pre><code>    if(resultCode==RESULT_OK &amp;&amp; requestCode == PICK_IMAGE_REQUEST_CODE){\n    Uri uri = data!=null ?: data.getData() : null;\n    try{\n    ContentResolver cr;\n    if(uri!=null){ \n    FragmentActivity activity = this.requireActivity()\n   cr = activity.getContentResolver();\nif(cr!=null){\n                cr.takePersistableUriPermission(uri, \n             Intent.FLAG_GRANT_READ_URI_PERMISSION)\n\n          //now we have permission to use uri later, we can verify too\n           List permission = cr.getPersistedUriPermissions();\n          Log.d(&quot;myApps&quot;, &quot;Persistable Permission =&quot; + permission);              \n          // consume here or store the uri to use later     \n                 myImageView.setImageUri(uri)\n    }\n    }  \n   \n    }catch(Exception ex )\n    {\n\n    }\n    }\n</code></pre>\n"}],"owner":{"account_id":25647204,"reputation":1,"user_id":19415110,"display_name":"Abdullah Alrayyis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662123532,"creation_date":1662029759,"question_id":73568205,"body_markdown":"&gt; java.lang.SecurityException: Permission Denial: reading\r\n&gt; com.android.providers.media.MediaDocumentsProvider uri\r\n&gt; content://com.android.providers.media.documents/document/image%3A41\r\n&gt; from pid=10501, uid=10171 requires that you obtain access using\r\n&gt; ACTION_OPEN_DOCUMENT or related APIs\r\n\r\nThis is what happens when I try to pick an image from &quot;file chooser&quot; not from &quot;gallery&quot;.\r\n\r\nMy code:\r\n\r\n    Intent intent = new Intent(Intent.ACTION_GET_CONTENT);  \r\n    intent.setType(&quot;image/*&quot;);  \r\n    startActivityForResult(Intent.createChooser(intent, &quot;choose picture&quot;), PICK_IMAGE_REQUEST_CODE);\r\n\r\nBy the way when I pick an image I tried to insert it into a database then display it on a recycler view and when it call `onBindViewHolder` method, it gives me that error...\r\n\r\nHelp please...\r\n\r\n\r\nRecyclerAdapter.class:\r\n\r\n    public class RecyclerAdapter extends RecyclerView.Adapter&lt;RecyclerAdapter.Holder&gt; {\r\n    \r\n        private ArrayList&lt;Employee&gt; employees;\r\n    \r\n        public RecyclerAdapter(ArrayList&lt;Employee&gt; employees) {\r\n            this.employees = employees;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public Holder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.employee_custom_item, null, false);\r\n            Holder holder = new Holder(view);\r\n            return holder;\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull Holder holder, int position) {\r\n            Employee employee = employees.get(position);\r\n            holder.image.setImageURI(Uri.parse(employee.getImg()));\r\n            holder.name.setText(employee.getName());\r\n            holder.age.setText(String.valueOf(employee.getAge()));\r\n            holder.hour.setText(String.valueOf(employee.getHour()));\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return employees.size();\r\n        }\r\n    \r\n        class Holder extends RecyclerView.ViewHolder{\r\n    \r\n            ImageView image;\r\n            TextView name, age, hour;\r\n    \r\n            public Holder(@NonNull View itemView) {\r\n                super(itemView);\r\n                image = itemView.findViewById(R.id.employee_picture);\r\n                name = itemView.findViewById(R.id.employee_name);\r\n                age = itemView.findViewById(R.id.employee_age);\r\n                hour = itemView.findViewById(R.id.employee_hour);\r\n    \r\n            }\r\n        }\r\n    }","title":"java.lang.SecurityException: Permission Denial ERROR","body":"<blockquote>\n<p>java.lang.SecurityException: Permission Denial: reading\ncom.android.providers.media.MediaDocumentsProvider uri\ncontent://com.android.providers.media.documents/document/image%3A41\nfrom pid=10501, uid=10171 requires that you obtain access using\nACTION_OPEN_DOCUMENT or related APIs</p>\n</blockquote>\n<p>This is what happens when I try to pick an image from &quot;file chooser&quot; not from &quot;gallery&quot;.</p>\n<p>My code:</p>\n<pre><code>Intent intent = new Intent(Intent.ACTION_GET_CONTENT);  \nintent.setType(&quot;image/*&quot;);  \nstartActivityForResult(Intent.createChooser(intent, &quot;choose picture&quot;), PICK_IMAGE_REQUEST_CODE);\n</code></pre>\n<p>By the way when I pick an image I tried to insert it into a database then display it on a recycler view and when it call <code>onBindViewHolder</code> method, it gives me that error...</p>\n<p>Help please...</p>\n<p>RecyclerAdapter.class:</p>\n<pre><code>public class RecyclerAdapter extends RecyclerView.Adapter&lt;RecyclerAdapter.Holder&gt; {\n\n    private ArrayList&lt;Employee&gt; employees;\n\n    public RecyclerAdapter(ArrayList&lt;Employee&gt; employees) {\n        this.employees = employees;\n    }\n\n    @NonNull\n    @Override\n    public Holder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.employee_custom_item, null, false);\n        Holder holder = new Holder(view);\n        return holder;\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull Holder holder, int position) {\n        Employee employee = employees.get(position);\n        holder.image.setImageURI(Uri.parse(employee.getImg()));\n        holder.name.setText(employee.getName());\n        holder.age.setText(String.valueOf(employee.getAge()));\n        holder.hour.setText(String.valueOf(employee.getHour()));\n    }\n\n    @Override\n    public int getItemCount() {\n        return employees.size();\n    }\n\n    class Holder extends RecyclerView.ViewHolder{\n\n        ImageView image;\n        TextView name, age, hour;\n\n        public Holder(@NonNull View itemView) {\n            super(itemView);\n            image = itemView.findViewById(R.id.employee_picture);\n            name = itemView.findViewById(R.id.employee_name);\n            age = itemView.findViewById(R.id.employee_age);\n            hour = itemView.findViewById(R.id.employee_hour);\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","conditional-operator","assignment-operator","short-circuiting","compound-assignment"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1254418837,"post_id":2324549,"comment_id":1358680,"body_markdown":"I go for the second, no one cares :P also, all these question about &#39;why feature x is not in language y?&#39; should be asked to the language&#39;s designers, not to us :P","body":"I go for the second, no one cares :P also, all these question about &#39;why feature x is not in language y?&#39; should be asked to the language&#39;s designers, not to us :P"},{"owner":{"account_id":19219,"reputation":80037,"user_id":44852,"accept_rate":98,"display_name":"Tarik"},"score":1,"creation_date":1254419018,"post_id":2324549,"comment_id":1358701,"body_markdown":"What does &amp;= mean ? Some one please can tell me ?","body":"What does &amp;= mean ? Some one please can tell me ?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1254419082,"post_id":2324549,"comment_id":1358717,"body_markdown":"@Aaron: a = a &amp; b. It&#39;s written in the question","body":"@Aaron: a = a &amp; b. It&#39;s written in the question"},{"owner":{"account_id":30896,"reputation":10219,"user_id":84535,"display_name":"Dykam"},"score":0,"creation_date":1254419121,"post_id":2324549,"comment_id":1358725,"body_markdown":"Aaron, `foo &amp;= bar` is the same as `foo = foo &amp; bar`. It is a logical AND operation executed on every bit of the operands.","body":"Aaron, <code>foo &amp;= bar</code> is the same as <code>foo = foo &amp; bar</code>. It is a logical AND operation executed on every bit of the operands."},{"owner":{"account_id":10450,"reputation":172558,"user_id":19750,"accept_rate":100,"display_name":"Josh Lee"},"score":1,"creation_date":1281970636,"post_id":2324549,"comment_id":3650437,"body_markdown":"possible duplicate of [Why does a &quot;&amp;&amp;=&quot; Operator not exist?](http://stackoverflow.com/questions/1505347/why-does-a-operator-not-exist)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1505347/why-does-a-operator-not-exist\">Why does a &quot;&amp;&amp;=&quot; Operator not exist?</a>"},{"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":1,"creation_date":1281972046,"post_id":2324549,"comment_id":3650696,"body_markdown":"@jleedev: That question is older, but this has more votes and incoming links. I&#39;d say if there&#39;s any merge, merge the old one to this one (yes, that can be done).","body":"@jleedev: That question is older, but this has more votes and incoming links. I&#39;d say if there&#39;s any merge, merge the old one to this one (yes, that can be done)."},{"owner":{"account_id":253331,"reputation":22640,"user_id":531954,"accept_rate":69,"display_name":"Danubian Sailor"},"score":0,"creation_date":1391504178,"post_id":2324549,"comment_id":32540291,"body_markdown":"It wouldn&#39;t be a bad question per se, if it would explicitely ask for technical reasons. Unfortunatelly, it attracted a lot of bad answer, the only not rant-like answer is that that operator fails in C++ too, which should be a comment not an answer :(","body":"It wouldn&#39;t be a bad question per se, if it would explicitely ask for technical reasons. Unfortunatelly, it attracted a lot of bad answer, the only not rant-like answer is that that operator fails in C++ too, which should be a comment not an answer :("}],"answers":[{"tags":[],"owner":{"account_id":27564,"reputation":12881,"user_id":72896,"accept_rate":83,"display_name":"EFraim"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1254421098,"creation_date":1254418762,"answer_id":1505373,"question_id":2324549,"body_markdown":"It is this way in Java, because it is this way in C.\r\n\r\nNow the question why it is so in C is because when &amp; and &amp;&amp; became different operators (sometime preceding C&#39;s descent from B), the &amp;= variety of operators was simply overlooked.\r\n\r\nBut the second part of my answer does not have any sources to back it up.","title":"Why doesn&#39;t Java have compound assignment versions of the conditional-and and conditional-or operators? (&amp;&amp;=, ||=)","body":"<p>It is this way in Java, because it is this way in C.</p>\n\n<p>Now the question why it is so in C is because when &amp; and &amp;&amp; became different operators (sometime preceding C's descent from B), the &amp;= variety of operators was simply overlooked.</p>\n\n<p>But the second part of my answer does not have any sources to back it up.</p>\n"},{"tags":[],"owner":{"account_id":53312,"reputation":2021,"user_id":159376,"accept_rate":100,"display_name":"zzawaideh"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1254418795,"creation_date":1254418795,"answer_id":1505380,"question_id":2324549,"body_markdown":"It is allowed in Ruby. \r\n\r\nIf I were to guess, I would say that it is not frequently used so it wasn&#39;t implemented. Another explanation could be that the parser only looks at the character before the = ","title":"Why doesn&#39;t Java have compound assignment versions of the conditional-and and conditional-or operators? (&amp;&amp;=, ||=)","body":"<p>It is allowed in Ruby. </p>\n\n<p>If I were to guess, I would say that it is not frequently used so it wasn't implemented. Another explanation could be that the parser only looks at the character before the = </p>\n"},{"tags":[],"owner":{"account_id":28882,"reputation":59171,"user_id":77507,"accept_rate":89,"display_name":"Daniel Br&#252;ckner"},"down_vote_count":5,"up_vote_count":5,"is_accepted":false,"score":0,"last_activity_date":1254418814,"creation_date":1254418814,"answer_id":1505384,"question_id":2324549,"body_markdown":"I cannot think of any better reason then &#39;It looks incredible ugly!&#39;","title":"Why doesn&#39;t Java have compound assignment versions of the conditional-and and conditional-or operators? (&amp;&amp;=, ||=)","body":"<p>I cannot think of any better reason then 'It looks incredible ugly!'</p>\n"},{"tags":[],"owner":{"account_id":58854,"reputation":25269,"user_id":176180,"accept_rate":72,"display_name":"NawaMan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1254419424,"creation_date":1254419424,"answer_id":1505440,"question_id":2324549,"body_markdown":"&#39;`&amp;`&#39; and &#39;`&amp;&amp;`&#39; are not the same as &#39;`&amp;&amp;`&#39; is a short cut operation which will not do if the first operand is false while &#39;`&amp;`&#39; will do it anyway (works with both number and boolean).\r\n\r\nI do agree that it make more sense to exist but it is not that bad if it is not there. I guess it was not there because C does not have it.\r\n\r\nReally can&#39;t think of why.\r\n\r\n","title":"Why doesn&#39;t Java have compound assignment versions of the conditional-and and conditional-or operators? (&amp;&amp;=, ||=)","body":"<p>'<code>&amp;</code>' and '<code>&amp;&amp;</code>' are not the same as '<code>&amp;&amp;</code>' is a short cut operation which will not do if the first operand is false while '<code>&amp;</code>' will do it anyway (works with both number and boolean).</p>\n\n<p>I do agree that it make more sense to exist but it is not that bad if it is not there. I guess it was not there because C does not have it.</p>\n\n<p>Really can't think of why.</p>\n"},{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1254419994,"creation_date":1254419994,"answer_id":1505487,"question_id":2324549,"body_markdown":"One of Java&#39;s original [aims][1] was to be &quot;Simple, Object Oriented, and Familiar.&quot; As applied to this case, &amp;= is familiar (C, C++ have it and familiar in this context meant familiar to someone who knows those two).\r\n\r\n&amp;&amp;= would not be familiar, and it would not be simple, in the sense that the language designers were not looking to think of every operator they could add to the language, so less extra operators are simpler.\r\n\r\n\r\n  [1]: http://java.sun.com/docs/white/langenv/Intro.doc2.html","title":"Why doesn&#39;t Java have compound assignment versions of the conditional-and and conditional-or operators? (&amp;&amp;=, ||=)","body":"<p>One of Java's original <a href=\"http://java.sun.com/docs/white/langenv/Intro.doc2.html\" rel=\"nofollow noreferrer\">aims</a> was to be \"Simple, Object Oriented, and Familiar.\" As applied to this case, &amp;= is familiar (C, C++ have it and familiar in this context meant familiar to someone who knows those two).</p>\n\n<p>&amp;&amp;= would not be familiar, and it would not be simple, in the sense that the language designers were not looking to think of every operator they could add to the language, so less extra operators are simpler.</p>\n"},{"tags":[],"owner":{"account_id":45876,"reputation":3659,"user_id":135385,"display_name":"p00ya"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1267004577,"creation_date":1267000266,"answer_id":2324584,"question_id":2324549,"body_markdown":"Largely because Java syntax is based on C (or at least the C family), and in C all those assignment operators get compiled to arithmetic or bitwise assembly instructions on a single register.  The assignment-operator version avoids temporaries and may have produced more efficient code on early non-optimising compilers.  The logical operator (as they are termed in C) equivalents (`&amp;&amp;=` and `||=`) don&#39;t have such an obvious correspondence to single assembly instructions; they usually expand to a test and branch sequence of instructions.\r\n\r\nInterestingly, languages like ruby *do* have ||= and &amp;&amp;=.\r\n\r\nEdit: terminology differs between Java and C","title":"Why doesn&#39;t Java have compound assignment versions of the conditional-and and conditional-or operators? (&amp;&amp;=, ||=)","body":"<p>Largely because Java syntax is based on C (or at least the C family), and in C all those assignment operators get compiled to arithmetic or bitwise assembly instructions on a single register.  The assignment-operator version avoids temporaries and may have produced more efficient code on early non-optimising compilers.  The logical operator (as they are termed in C) equivalents (<code>&amp;&amp;=</code> and <code>||=</code>) don't have such an obvious correspondence to single assembly instructions; they usually expand to a test and branch sequence of instructions.</p>\n\n<p>Interestingly, languages like ruby <em>do</em> have ||= and &amp;&amp;=.</p>\n\n<p>Edit: terminology differs between Java and C</p>\n"},{"tags":[],"owner":{"account_id":10450,"reputation":172558,"user_id":19750,"accept_rate":100,"display_name":"Josh Lee"},"down_vote_count":3,"up_vote_count":20,"is_accepted":false,"score":17,"last_activity_date":1281378012,"creation_date":1267000411,"answer_id":2324600,"question_id":2324549,"body_markdown":"Probably because something like\r\n\r\n    x = false;\r\n    x &amp;&amp;= someComplexExpression();\r\n\r\n*looks* like it ought to be assigning to `x` and evaluating `someComplexExpression()`, but the fact that the evaluation hinges on the value of `x` isn&#39;t apparent from the syntax.\r\n\r\nAlso because Java&#39;s syntax is based on C, and no one saw a pressing need to add those operators. You&#39;d probably be better off with an if statement, anyway.","title":"Why doesn&#39;t Java have compound assignment versions of the conditional-and and conditional-or operators? (&amp;&amp;=, ||=)","body":"<p>Probably because something like</p>\n\n<pre><code>x = false;\nx &amp;&amp;= someComplexExpression();\n</code></pre>\n\n<p><em>looks</em> like it ought to be assigning to <code>x</code> and evaluating <code>someComplexExpression()</code>, but the fact that the evaluation hinges on the value of <code>x</code> isn't apparent from the syntax.</p>\n\n<p>Also because Java's syntax is based on C, and no one saw a pressing need to add those operators. You'd probably be better off with an if statement, anyway.</p>\n"},{"tags":[],"owner":{"account_id":902304,"reputation":52117,"user_id":938111,"accept_rate":84,"display_name":"oHo"},"down_vote_count":6,"up_vote_count":39,"is_accepted":false,"score":33,"last_activity_date":1486654602,"creation_date":1333035009,"answer_id":9928605,"question_id":2324549,"body_markdown":"Reason\r\n------\r\n\r\nThe operators `&amp;&amp;=` and `||=` are not available on **Java** because for most of the developers these operators are:\r\n\r\n* error-prone\r\n* useless\r\n\r\nExample for `&amp;&amp;=`\r\n-----------------\r\n\r\n\r\nIf Java allowed `&amp;&amp;=` operator, then that code:\r\n\r\n    bool isOk = true; //becomes false when at least a function returns false\r\n    isOK &amp;&amp;= f1();\r\n    isOK &amp;&amp;= f2(); //we may expect f2() is called whatever the f1() returned value\r\n\r\nwould be equivalent to:\r\n\r\n    bool isOk = true;\r\n    if (isOK) isOk = f1();\r\n    if (isOK) isOk = f2(); //f2() is called only when f1() returns true\r\n\r\nThis first code is **error-prone** because many developers would think `f2()` is always called whatever the f1() returned value. It is like `bool isOk = f1() &amp;&amp; f2();` where `f2()` is called only when `f1()` returns `true`. \r\n\r\nIf the developer wants `f2()` to be called only when `f1()` returns `true`, therefore the second code above is less error-prone.\r\n\r\nElse `&amp;=` is sufficient because the developer wants `f2()` to be always called:\r\n\r\nSame example but for `&amp;=`\r\n------------------------\r\n\r\n    bool isOk = true;\r\n    isOK &amp;= f1();\r\n    isOK &amp;= f2(); //f2() always called whatever the f1() returned value\r\n\r\nMoreover, the JVM should run this above code as the following one:\r\n\r\n    bool isOk = true;\r\n    if (!f1())  isOk = false;\r\n    if (!f2())  isOk = false;  //f2() always called\r\n\r\nCompare `&amp;&amp;` and `&amp;` results\r\n----------------------------\r\n\r\nAre the results of operators `&amp;&amp;` and `&amp;` the same when applied on boolean values?\r\n\r\nLet&#39;s check using the following Java code:\r\n\r\n    public class qalcdo {\r\n    \r\n        public static void main (String[] args) {\r\n            test (true,  true);\r\n            test (true,  false);\r\n            test (false, false);\r\n            test (false, true);\r\n        }\r\n        \r\n        private static void test (boolean a, boolean b) {\r\n            System.out.println (counter++ +  &quot;) a=&quot; + a + &quot; and b=&quot; + b);\r\n            System.out.println (&quot;a &amp;&amp; b = &quot; + (a &amp;&amp; b));\r\n            System.out.println (&quot;a &amp; b = &quot;  + (a &amp; b));\r\n            System.out.println (&quot;======================&quot;);\r\n        }\r\n\r\n        private static int counter = 1;\r\n    }\r\n\r\nOutput:\r\n\r\n    1) a=true and b=true\r\n    a &amp;&amp; b = true\r\n    a &amp; b = true\r\n    ======================\r\n    2) a=true and b=false\r\n    a &amp;&amp; b = false\r\n    a &amp; b = false\r\n    ======================\r\n    3) a=false and b=false\r\n    a &amp;&amp; b = false\r\n    a &amp; b = false\r\n    ======================\r\n    4) a=false and b=true\r\n    a &amp;&amp; b = false\r\n    a &amp; b = false\r\n    ======================\r\n\r\nTherefore **YES** we can replace `&amp;&amp;` by `&amp;` for boolean values  ;-) \r\n\r\nSo better use `&amp;=` instead of `&amp;&amp;=`.\r\n\r\nSame for `||=`\r\n--------------\r\n\r\nSame reasons as for `&amp;&amp;=`: &lt;br&gt;\r\noperator `|=` is less error-prone than `||=`.\r\n\r\nIf a developer wants `f2()` not to be called when `f1()` returns `true`, then I advice the following alternatives:\r\n\r\n    // here a comment is required to explain that \r\n    // f2() is not called when f1() returns false, and so on...\r\n    bool isOk = f1() || f2() || f3() || f4();\r\n\r\nor:\r\n\r\n    // here the following comments are not required \r\n    // (the code is enough understandable)\r\n    bool isOk = false;\r\n    if (!isOK) isOk = f1();\r\n    if (!isOK) isOk = f2(); //f2() is not called when f1() returns false\r\n    if (!isOK) isOk = f3(); //f3() is not called when f1() or f2() return false\r\n    if (!isOK) isOk = f4(); //f4() is not called when ...\r\n","title":"Why doesn&#39;t Java have compound assignment versions of the conditional-and and conditional-or operators? (&amp;&amp;=, ||=)","body":"<h2>Reason</h2>\n\n<p>The operators <code>&amp;&amp;=</code> and <code>||=</code> are not available on <strong>Java</strong> because for most of the developers these operators are:</p>\n\n<ul>\n<li>error-prone</li>\n<li>useless</li>\n</ul>\n\n<h2>Example for <code>&amp;&amp;=</code></h2>\n\n<p>If Java allowed <code>&amp;&amp;=</code> operator, then that code:</p>\n\n<pre><code>bool isOk = true; //becomes false when at least a function returns false\nisOK &amp;&amp;= f1();\nisOK &amp;&amp;= f2(); //we may expect f2() is called whatever the f1() returned value\n</code></pre>\n\n<p>would be equivalent to:</p>\n\n<pre><code>bool isOk = true;\nif (isOK) isOk = f1();\nif (isOK) isOk = f2(); //f2() is called only when f1() returns true\n</code></pre>\n\n<p>This first code is <strong>error-prone</strong> because many developers would think <code>f2()</code> is always called whatever the f1() returned value. It is like <code>bool isOk = f1() &amp;&amp; f2();</code> where <code>f2()</code> is called only when <code>f1()</code> returns <code>true</code>. </p>\n\n<p>If the developer wants <code>f2()</code> to be called only when <code>f1()</code> returns <code>true</code>, therefore the second code above is less error-prone.</p>\n\n<p>Else <code>&amp;=</code> is sufficient because the developer wants <code>f2()</code> to be always called:</p>\n\n<h2>Same example but for <code>&amp;=</code></h2>\n\n<pre><code>bool isOk = true;\nisOK &amp;= f1();\nisOK &amp;= f2(); //f2() always called whatever the f1() returned value\n</code></pre>\n\n<p>Moreover, the JVM should run this above code as the following one:</p>\n\n<pre><code>bool isOk = true;\nif (!f1())  isOk = false;\nif (!f2())  isOk = false;  //f2() always called\n</code></pre>\n\n<h2>Compare <code>&amp;&amp;</code> and <code>&amp;</code> results</h2>\n\n<p>Are the results of operators <code>&amp;&amp;</code> and <code>&amp;</code> the same when applied on boolean values?</p>\n\n<p>Let's check using the following Java code:</p>\n\n<pre><code>public class qalcdo {\n\n    public static void main (String[] args) {\n        test (true,  true);\n        test (true,  false);\n        test (false, false);\n        test (false, true);\n    }\n\n    private static void test (boolean a, boolean b) {\n        System.out.println (counter++ +  \") a=\" + a + \" and b=\" + b);\n        System.out.println (\"a &amp;&amp; b = \" + (a &amp;&amp; b));\n        System.out.println (\"a &amp; b = \"  + (a &amp; b));\n        System.out.println (\"======================\");\n    }\n\n    private static int counter = 1;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1) a=true and b=true\na &amp;&amp; b = true\na &amp; b = true\n======================\n2) a=true and b=false\na &amp;&amp; b = false\na &amp; b = false\n======================\n3) a=false and b=false\na &amp;&amp; b = false\na &amp; b = false\n======================\n4) a=false and b=true\na &amp;&amp; b = false\na &amp; b = false\n======================\n</code></pre>\n\n<p>Therefore <strong>YES</strong> we can replace <code>&amp;&amp;</code> by <code>&amp;</code> for boolean values  ;-) </p>\n\n<p>So better use <code>&amp;=</code> instead of <code>&amp;&amp;=</code>.</p>\n\n<h2>Same for <code>||=</code></h2>\n\n<p>Same reasons as for <code>&amp;&amp;=</code>: <br>\noperator <code>|=</code> is less error-prone than <code>||=</code>.</p>\n\n<p>If a developer wants <code>f2()</code> not to be called when <code>f1()</code> returns <code>true</code>, then I advice the following alternatives:</p>\n\n<pre><code>// here a comment is required to explain that \n// f2() is not called when f1() returns false, and so on...\nbool isOk = f1() || f2() || f3() || f4();\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>// here the following comments are not required \n// (the code is enough understandable)\nbool isOk = false;\nif (!isOK) isOk = f1();\nif (!isOK) isOk = f2(); //f2() is not called when f1() returns false\nif (!isOK) isOk = f3(); //f3() is not called when f1() or f2() return false\nif (!isOK) isOk = f4(); //f4() is not called when ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2397697,"reputation":101,"user_id":2096178,"display_name":"zanfilip"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1361462636,"creation_date":1361462636,"answer_id":15006810,"question_id":2324549,"body_markdown":"For Boolean vars, &amp;&amp; and || would use short circuit evaluation while &amp; and | don&#39;t, so you would expect &amp;&amp;= and ||= to also use short circuit evaluation. There is a good use case for this. Especially if you are iterating over a loop, you want to be fast, efficient and terse. \r\n\r\nInstead of writing \r\n\r\n    foreach(item in coll)\r\n    {\r\n       bVal = bVal || fn(item); // not so elegant\r\n    }\r\n\r\nI want to write\r\n\r\n    foreach(item in coll)\r\n    {\r\n      bVal ||= fn(item);    // elegant\r\n    }\r\n\r\nand know that once bVal is true, fn() will not be called for the remainder of the iterations.","title":"Why doesn&#39;t Java have compound assignment versions of the conditional-and and conditional-or operators? (&amp;&amp;=, ||=)","body":"<p>For Boolean vars, &amp;&amp; and || would use short circuit evaluation while &amp; and | don't, so you would expect &amp;&amp;= and ||= to also use short circuit evaluation. There is a good use case for this. Especially if you are iterating over a loop, you want to be fast, efficient and terse. </p>\n\n<p>Instead of writing </p>\n\n<pre><code>foreach(item in coll)\n{\n   bVal = bVal || fn(item); // not so elegant\n}\n</code></pre>\n\n<p>I want to write</p>\n\n<pre><code>foreach(item in coll)\n{\n  bVal ||= fn(item);    // elegant\n}\n</code></pre>\n\n<p>and know that once bVal is true, fn() will not be called for the remainder of the iterations.</p>\n"},{"tags":[],"owner":{"account_id":1707399,"reputation":10960,"user_id":1566187,"accept_rate":85,"display_name":"Ely"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434115256,"creation_date":1434115256,"answer_id":30804188,"question_id":2324549,"body_markdown":"&amp;\n\nverifies both operands, it&#39;s a bitwise operator. Java defines several bitwise operators, which can be applied to the integer types, long, int, short, char, and byte.\n\n&amp;&amp;\n\nstops evaluating if the first operand evaluates to false since the result will be false, it&#39;s a logical operator. It can be applied to booleans.\n\nThe &amp;&amp; operator is similar to the&#160; &amp; operator, but can make your code a bit more efficient. Because both expressions compared by the&#160;&amp;&#160;operator must be&#160;true&#160;for the entire expression to be&#160;true, there’s no reason to evaluate the second expression if the first one returns&#160;false. The&#160;&amp; operator always evaluates both expressions. The&#160;&amp;&amp;&#160;operator evaluates the second expression only if the first expression is true.\n\nHaving a &amp;&amp;= assignment operator wouldn&#39;t really add new functionality to the language. The bitwise operator&#39;s arithmetic is much more expressive, you can do integer bitwise arithmetic, which includes Boolean arithmetic. The logical operators can merely do Boolean arithmetic.\n\n","title":"Why doesn&#39;t Java have compound assignment versions of the conditional-and and conditional-or operators? (&amp;&amp;=, ||=)","body":"<p>&amp;</p>\n\n<p>verifies both operands, it's a bitwise operator. Java defines several bitwise operators, which can be applied to the integer types, long, int, short, char, and byte.</p>\n\n<p>&amp;&amp;</p>\n\n<p>stops evaluating if the first operand evaluates to false since the result will be false, it's a logical operator. It can be applied to booleans.</p>\n\n<p>The &amp;&amp; operator is similar to the  &amp; operator, but can make your code a bit more efficient. Because both expressions compared by the &amp; operator must be true for the entire expression to be true, there’s no reason to evaluate the second expression if the first one returns false. The &amp; operator always evaluates both expressions. The &amp;&amp; operator evaluates the second expression only if the first expression is true.</p>\n\n<p>Having a &amp;&amp;= assignment operator wouldn't really add new functionality to the language. The bitwise operator's arithmetic is much more expressive, you can do integer bitwise arithmetic, which includes Boolean arithmetic. The logical operators can merely do Boolean arithmetic.</p>\n"},{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1597586920,"creation_date":1597586920,"answer_id":63437879,"question_id":2324549,"body_markdown":"Brian Goetz (Java Language Architect at Oracle) [wrote](https://mail.openjdk.java.net/pipermail/discuss/2020-August/005573.html):\r\n\r\n&gt; &gt; https&lt;!-- --&gt;://stackoverflow.com/q/2324549/ _[this question]_ shows that there is interest in having these operators and there\r\n&gt;&gt; are no clear arguments why they don&#39;t exist yet.\r\n&gt;&gt; The question is therefore: Has the JDK team discussed adding these operators in the past and if so\r\n&gt;&gt; what where the reasons against adding them?\r\n&gt;\r\n&gt; I&#39;m not aware of any specific discussion on this particular issue, but \r\n&gt; if someone were to propose it, the answer would likely be: it&#39;s not an \r\n&gt; unreasonable request, but it doesn&#39;t carry its weight.\r\n&gt; \r\n&gt; &quot;Carrying its weight&quot; needs to be judged by its costs and benefits, and \r\n&gt; by its cost-benefit ratio relative to other candidate features.\r\n&gt; \r\n&gt; I think you are implicitly assuming (by the phrase &quot;there is interest&quot;) \r\n&gt; that the cost is near zero and the benefit is greater than zero, so it \r\n&gt; seems an obvious win.  But this belies an incorrect understanding of \r\n&gt; cost; a feature like this affects the language spec, the implementation, \r\n&gt; the JCK, and every IDE and Java textbook. There are no trivial language \r\n&gt; features.  And the benefit, while nonzero, is pretty small.\r\n&gt; \r\n&gt; Secondarily, there are infinitely many features we _could_ do, but we \r\n&gt; only have capacity to do a handful every few years (and users have a \r\n&gt; limited capacity to absorb new features.)  So we have to be very careful \r\n&gt; as to which we pick, as each feature (even a trivial-seeming one) \r\n&gt; consumes some of this budget, and invariably takes it away from others.  \r\n&gt; It&#39;s not &quot;why not this feature&quot;, but &quot;what other features will we not do \r\n&gt; (or delay) so we can do this one, and is that a good trade?&quot;  And I \r\n&gt; can&#39;t really imagine this being a good trade against anything else we&#39;re \r\n&gt; working on.\r\n&gt; \r\n&gt; So, it clears the bar of &quot;not a terrible idea&quot; (which is already pretty \r\n&gt; good, a lot of feature requests don&#39;t even clear that), but seems \r\n&gt; unlikely to ever clear the bar of &quot;a better use of our evolution budget \r\n&gt; than anything else.&quot;","title":"Why doesn&#39;t Java have compound assignment versions of the conditional-and and conditional-or operators? (&amp;&amp;=, ||=)","body":"<p>Brian Goetz (Java Language Architect at Oracle) <a href=\"https://mail.openjdk.java.net/pipermail/discuss/2020-August/005573.html\" rel=\"nofollow noreferrer\">wrote</a>:</p>\n<blockquote>\n<blockquote>\n<p>https://stackoverflow.com/q/2324549/ <em>[this question]</em> shows that there is interest in having these operators and there\nare no clear arguments why they don't exist yet.\nThe question is therefore: Has the JDK team discussed adding these operators in the past and if so\nwhat where the reasons against adding them?</p>\n</blockquote>\n<p>I'm not aware of any specific discussion on this particular issue, but\nif someone were to propose it, the answer would likely be: it's not an\nunreasonable request, but it doesn't carry its weight.</p>\n<p>&quot;Carrying its weight&quot; needs to be judged by its costs and benefits, and\nby its cost-benefit ratio relative to other candidate features.</p>\n<p>I think you are implicitly assuming (by the phrase &quot;there is interest&quot;)\nthat the cost is near zero and the benefit is greater than zero, so it\nseems an obvious win.  But this belies an incorrect understanding of\ncost; a feature like this affects the language spec, the implementation,\nthe JCK, and every IDE and Java textbook. There are no trivial language\nfeatures.  And the benefit, while nonzero, is pretty small.</p>\n<p>Secondarily, there are infinitely many features we <em>could</em> do, but we\nonly have capacity to do a handful every few years (and users have a\nlimited capacity to absorb new features.)  So we have to be very careful\nas to which we pick, as each feature (even a trivial-seeming one)\nconsumes some of this budget, and invariably takes it away from others.<br />\nIt's not &quot;why not this feature&quot;, but &quot;what other features will we not do\n(or delay) so we can do this one, and is that a good trade?&quot;  And I\ncan't really imagine this being a good trade against anything else we're\nworking on.</p>\n<p>So, it clears the bar of &quot;not a terrible idea&quot; (which is already pretty\ngood, a lot of feature requests don't even clear that), but seems\nunlikely to ever clear the bar of &quot;a better use of our evolution budget\nthan anything else.&quot;</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":26227749,"reputation":1,"user_id":19904189,"display_name":"Martin F Schulz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662123168,"creation_date":1662123168,"answer_id":73582880,"question_id":2324549,"body_markdown":"Funny I came across this question.\r\n\r\nThe operators ||= and &amp;&amp;= do not exist as their semantics are easily misunderstood;\r\nif you think you need them, use an if-statement instead.\r\n\r\nEly (post just above) got the gist right:\r\n\r\n||\r\n\r\nstops evaluating if the first operand evaluates to true since the result will be true, it&#39;s a logical operator.\r\n\r\nSo imagine what will happen if  b == true;\r\n\r\nb ||= somethingreturningaboolean();  // !!??\r\n\r\nthis will not invoke somethingreturningaboolean(), if b == true.\r\n\r\nThis behavior is more obvious in the long form:\r\n\r\nb = b || somethingreturningaboolean();\r\n\r\nThat&#39;s why ||= and &amp;&amp;= ops do not exist.  The explanation should be given as:\r\nThe operators ||= and &amp;&amp;= do not exist as their semantics are easily misunderstood;\r\nif you think you need them, use an if-statement instead.\r\n\r\n","title":"Why doesn&#39;t Java have compound assignment versions of the conditional-and and conditional-or operators? (&amp;&amp;=, ||=)","body":"<p>Funny I came across this question.</p>\n<p>The operators ||= and &amp;&amp;= do not exist as their semantics are easily misunderstood;\nif you think you need them, use an if-statement instead.</p>\n<p>Ely (post just above) got the gist right:</p>\n<p>||</p>\n<p>stops evaluating if the first operand evaluates to true since the result will be true, it's a logical operator.</p>\n<p>So imagine what will happen if  b == true;</p>\n<p>b ||= somethingreturningaboolean();  // !!??</p>\n<p>this will not invoke somethingreturningaboolean(), if b == true.</p>\n<p>This behavior is more obvious in the long form:</p>\n<p>b = b || somethingreturningaboolean();</p>\n<p>That's why ||= and &amp;&amp;= ops do not exist.  The explanation should be given as:\nThe operators ||= and &amp;&amp;= do not exist as their semantics are easily misunderstood;\nif you think you need them, use an if-statement instead.</p>\n"}],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19924,"favorite_count":0,"down_vote_count":1,"up_vote_count":95,"answer_count":12,"score":94,"last_activity_date":1662123168,"creation_date":1266999917,"question_id":2324549,"body_markdown":"So for binary operators on booleans, Java has `&amp;`, `|`, `^`, `&amp;&amp;` and `||`.\r\n\r\nLet&#39;s summarize what they do briefly here:\r\n\r\n * &lt;a href=&quot;http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.22.2&quot;&gt;JLS 15.22.2 Boolean Logical Operators &amp;, ^, and |&lt;/a&gt;\r\n * &lt;a href=&quot;http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.23&quot;&gt;JLS 15.23 Conditional-And Operator &amp;&amp;&lt;/a&gt; \r\n * &lt;a href=&quot;http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.24&quot;&gt;JLS 15.24 Conditional-Or Operator ||&lt;/a&gt;\r\n\r\n&gt; For `&amp;`, the result value is `true` if both operand values are `true`; otherwise, the result is `false`.\r\n&gt;\r\n&gt; For `|`, the result value is `false` if both operand values are `false`; otherwise, the result is `true`.\r\n&gt;\r\n&gt; For `^`, the result value is `true` if the operand values are different; otherwise, the result is `false`.\r\n&gt;\r\n&gt; The `&amp;&amp;` operator is like `&amp;` but evaluates its right-hand operand only if the value of its left-hand operand is `true`.\r\n&gt;\r\n&gt; The `||` operator is like `|`, but evaluates its right-hand operand only if the value of its left-hand operand is `false`.\r\n\r\nNow, among all 5, 3 of those have compound assignment versions, namely `|=`, `&amp;=` and `^=`. So my question is obvious: why doesn&#39;t Java provide `&amp;&amp;=` and `||=` as well? I find that I need those more than I need `&amp;=` and `|=`.\r\n\r\nAnd I don&#39;t think that &quot;because it&#39;s too long&quot; is a good answer, because Java has `&gt;&gt;&gt;=`. There must be a better reason for this omission.\r\n\r\n----\r\n\r\nFrom &lt;a href=&quot;http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.26&quot;&gt;15.26 Assignment Operators&lt;/a&gt;:\r\n\r\n&gt; There are 12 assignment operators; [...] `= *= /= %= += -= &lt;&lt;= &gt;&gt;= &gt;&gt;&gt;= &amp;= ^= |=`\r\n\r\n----\r\n\r\nA comment was made that if `&amp;&amp;=` and `||=` were implemented, then it would be the only operators that do not evaluate the right hand side first. I believe this notion that a compound assignment operator evaluates the right hand side first is a mistake.\r\n\r\nFrom &lt;a href=&quot;http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.26.2&quot;&gt;15.26.2 Compound Assignment Operators&lt;/a&gt;:\r\n\r\n&gt; A compound assignment expression of the form `E1 op= E2` is equivalent to `E1 = (T)((E1) op (E2))`, where `T` is the type of `E1`, except that `E1` is evaluated only once. \r\n&gt; \r\n\r\nAs proof, the following snippet throws a `NullPointerException`, not an `ArrayIndexOutOfBoundsException`.\r\n\r\n\t\tint[] a = null;\r\n\t\tint[] b = {};\r\n\t\ta[0] += b[-1];\r\n\r\n","title":"Why doesn&#39;t Java have compound assignment versions of the conditional-and and conditional-or operators? (&amp;&amp;=, ||=)","body":"<p>So for binary operators on booleans, Java has <code>&amp;</code>, <code>|</code>, <code>^</code>, <code>&amp;&amp;</code> and <code>||</code>.</p>\n\n<p>Let's summarize what they do briefly here:</p>\n\n<ul>\n<li><a href=\"http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.22.2\" rel=\"noreferrer\">JLS 15.22.2 Boolean Logical Operators &amp;, ^, and |</a></li>\n<li><a href=\"http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.23\" rel=\"noreferrer\">JLS 15.23 Conditional-And Operator &amp;&amp;</a> </li>\n<li><a href=\"http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.24\" rel=\"noreferrer\">JLS 15.24 Conditional-Or Operator ||</a></li>\n</ul>\n\n<blockquote>\n  <p>For <code>&amp;</code>, the result value is <code>true</code> if both operand values are <code>true</code>; otherwise, the result is <code>false</code>.</p>\n  \n  <p>For <code>|</code>, the result value is <code>false</code> if both operand values are <code>false</code>; otherwise, the result is <code>true</code>.</p>\n  \n  <p>For <code>^</code>, the result value is <code>true</code> if the operand values are different; otherwise, the result is <code>false</code>.</p>\n  \n  <p>The <code>&amp;&amp;</code> operator is like <code>&amp;</code> but evaluates its right-hand operand only if the value of its left-hand operand is <code>true</code>.</p>\n  \n  <p>The <code>||</code> operator is like <code>|</code>, but evaluates its right-hand operand only if the value of its left-hand operand is <code>false</code>.</p>\n</blockquote>\n\n<p>Now, among all 5, 3 of those have compound assignment versions, namely <code>|=</code>, <code>&amp;=</code> and <code>^=</code>. So my question is obvious: why doesn't Java provide <code>&amp;&amp;=</code> and <code>||=</code> as well? I find that I need those more than I need <code>&amp;=</code> and <code>|=</code>.</p>\n\n<p>And I don't think that \"because it's too long\" is a good answer, because Java has <code>&gt;&gt;&gt;=</code>. There must be a better reason for this omission.</p>\n\n<hr>\n\n<p>From <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.26\" rel=\"noreferrer\">15.26 Assignment Operators</a>:</p>\n\n<blockquote>\n  <p>There are 12 assignment operators; [...] <code>= *= /= %= += -= &lt;&lt;= &gt;&gt;= &gt;&gt;&gt;= &amp;= ^= |=</code></p>\n</blockquote>\n\n<hr>\n\n<p>A comment was made that if <code>&amp;&amp;=</code> and <code>||=</code> were implemented, then it would be the only operators that do not evaluate the right hand side first. I believe this notion that a compound assignment operator evaluates the right hand side first is a mistake.</p>\n\n<p>From <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.26.2\" rel=\"noreferrer\">15.26.2 Compound Assignment Operators</a>:</p>\n\n<blockquote>\n  <p>A compound assignment expression of the form <code>E1 op= E2</code> is equivalent to <code>E1 = (T)((E1) op (E2))</code>, where <code>T</code> is the type of <code>E1</code>, except that <code>E1</code> is evaluated only once. </p>\n</blockquote>\n\n<p>As proof, the following snippet throws a <code>NullPointerException</code>, not an <code>ArrayIndexOutOfBoundsException</code>.</p>\n\n<pre><code>    int[] a = null;\n    int[] b = {};\n    a[0] += b[-1];\n</code></pre>\n"},{"tags":["java","android","web3-java"],"answers":[{"tags":[],"owner":{"account_id":16027201,"reputation":1,"user_id":11567153,"display_name":"Boris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662122307,"creation_date":1662122307,"answer_id":73582701,"question_id":71509940,"body_markdown":"&lt;p&gt;Kotlin code&lt;/p&gt;\r\n&lt;p&gt;HARDENED_BIT is 0x80000000&lt;/p&gt;\r\n&lt;p&gt;IS_NUMERIC = &quot;[0-9]+(.[0-9]+)?&quot;.toRegex()&lt;/p&gt;\r\n&lt;p&gt;The &quot;or&quot; function compares corresponding bits of two values. If either of the bits is 1, it gives 1. If not, it gives 0. For example, &lt;/p&gt;\r\n\r\n    private fun generateBip44KeyPair(master: Bip32ECKeyPair?, path: String): Bip32ECKeyPair {\r\n            // m/44&#39;/60&#39;/0&#39;/0/0\r\n            val resultIntArray = arrayListOf&lt;Int&gt;()\r\n            path.split(&quot;/&quot;).forEach {\r\n                if (it.contains(&#39;\\&#39;&#39;)) {\r\n                    resultIntArray.add(it.substring(0, it.length - 1).toInt() or Bip32ECKeyPair.HARDENED_BIT)\r\n                } else if (IS_NUMERIC.matches(it)) {\r\n                    resultIntArray.add(it.toInt())\r\n                }\r\n            }\r\n            return Bip32ECKeyPair.deriveKeyPair(master, resultIntArray.toIntArray())\r\n        }","title":"BIP-32 How to convert this derivation path to int[]?","body":"<p>Kotlin code</p>\n<p>HARDENED_BIT is 0x80000000</p>\n<p>IS_NUMERIC = \"[0-9]+(.[0-9]+)?\".toRegex()</p>\n<p>The \"or\" function compares corresponding bits of two values. If either of the bits is 1, it gives 1. If not, it gives 0. For example, </p>\n<pre><code>private fun generateBip44KeyPair(master: Bip32ECKeyPair?, path: String): Bip32ECKeyPair {\n        // m/44'/60'/0'/0/0\n        val resultIntArray = arrayListOf&lt;Int&gt;()\n        path.split(&quot;/&quot;).forEach {\n            if (it.contains('\\'')) {\n                resultIntArray.add(it.substring(0, it.length - 1).toInt() or Bip32ECKeyPair.HARDENED_BIT)\n            } else if (IS_NUMERIC.matches(it)) {\n                resultIntArray.add(it.toInt())\n            }\n        }\n        return Bip32ECKeyPair.deriveKeyPair(master, resultIntArray.toIntArray())\n    }\n</code></pre>\n"}],"owner":{"account_id":12661907,"reputation":2449,"user_id":11110509,"display_name":"DIRTY DAVE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662122307,"creation_date":1647509522,"question_id":71509940,"body_markdown":"I have the ```BIP-32``` derivation path of ```m/44&#39;/52752&#39;/0&#39;/0/index```, where index &gt;= 0.\r\n\r\nHow do I convert it to an ```int []```?\r\n\r\nI&#39;ve tried doing ```int[] path = {44 | HARDENED_BIT, 52752 | HARDENED_BIT, 0 | HARDENED_BIT, 0};``` but this is returning the incorrect public wallet address. \r\n\r\nI have tested another derivation path, converting it to an int[] and it worked (returning the correct public wallet address). This one however, I think I&#39;m missing a part in the ```int[]``` because I&#39;m not quite sure what to do with the ```index``` at the end of the path.\r\n\r\nWhat am I doing incorrectly? \r\n","title":"BIP-32 How to convert this derivation path to int[]?","body":"<p>I have the <code>BIP-32</code> derivation path of <code>m/44'/52752'/0'/0/index</code>, where index &gt;= 0.</p>\n<p>How do I convert it to an <code>int []</code>?</p>\n<p>I've tried doing <code>int[] path = {44 | HARDENED_BIT, 52752 | HARDENED_BIT, 0 | HARDENED_BIT, 0};</code> but this is returning the incorrect public wallet address.</p>\n<p>I have tested another derivation path, converting it to an int[] and it worked (returning the correct public wallet address). This one however, I think I'm missing a part in the <code>int[]</code> because I'm not quite sure what to do with the <code>index</code> at the end of the path.</p>\n<p>What am I doing incorrectly?</p>\n"},{"tags":["java","maven","java-ee-8"],"comments":[{"owner":{"account_id":3009750,"reputation":757,"user_id":2553521,"display_name":"edwgiz"},"score":0,"creation_date":1582639417,"post_id":60395722,"comment_id":106840995,"body_markdown":"Seemingly the answer is here https://stackoverflow.com/questions/17726282/jsonpath-noclassdeffounderror-or-an-alternative-to-jsonpath-in-java","body":"Seemingly the answer is here <a href=\"https://stackoverflow.com/questions/17726282/jsonpath-noclassdeffounderror-or-an-alternative-to-jsonpath-in-java\" title=\"jsonpath noclassdeffounderror or an alternative to jsonpath in java\">stackoverflow.com/questions/17726282/&hellip;</a>"},{"owner":{"account_id":8056656,"reputation":587,"user_id":6073577,"accept_rate":100,"display_name":"Johnczek"},"score":0,"creation_date":1582639869,"post_id":60395722,"comment_id":106841241,"body_markdown":"Well, as i mentioned in the topic, even if I add the libraries from that FileNotFoundexception (so glassfish ha-api), the exception occures.If that new dependency have some dependencies, It should download these dependencies automatically, isnt it?","body":"Well, as i mentioned in the topic, even if I add the libraries from that FileNotFoundexception (so glassfish ha-api), the exception occures.If that new dependency have some dependencies, It should download these dependencies automatically, isnt it?"},{"owner":{"account_id":3009750,"reputation":757,"user_id":2553521,"display_name":"edwgiz"},"score":1,"creation_date":1582642001,"post_id":60395722,"comment_id":106842598,"body_markdown":"Yes, it is.\nThe question is why the path to the jar is incorrect. The log contains &#39;NoSuchFileException: C:\\Users\\USER\\.m2\\repository\\org\\glassfish\\ha\\ha-api\\3.1.12\\javax.inject.jar&#39;,\nwhile expected reference should be &#39;C:\\Users\\USER\\.m2\\repository\\org\\glassfish\\ha\\ha-api\\3.1.12\\ha-api-3.1.12.jar&#39;","body":"Yes, it is. The question is why the path to the jar is incorrect. The log contains &#39;NoSuchFileException: C:\\Users\\USER\\.m2\\repository\\org\\glassfish\\ha\\ha-api\\3.1.12\\&zwnj;&#8203;javax.inject.jar&#39;, while expected reference should be &#39;C:\\Users\\USER\\.m2\\repository\\org\\glassfish\\ha\\ha-api\\3.1.12&zwnj;&#8203;\\ha-api-3.1.12.jar&#39;"},{"owner":{"account_id":8056656,"reputation":587,"user_id":6073577,"accept_rate":100,"display_name":"Johnczek"},"score":0,"creation_date":1582642320,"post_id":60395722,"comment_id":106842794,"body_markdown":"@edwgiz I&#180;ve added the screenshot of folder that should contain the files and you are right, there are wrong names of the files. Did anyone have the same problem?","body":"@edwgiz I&#180;ve added the screenshot of folder that should contain the files and you are right, there are wrong names of the files. Did anyone have the same problem?"},{"owner":{"account_id":4007082,"reputation":23327,"user_id":3301492,"display_name":"Boris"},"score":0,"creation_date":1582901968,"post_id":60395722,"comment_id":106947558,"body_markdown":"Are you using [javax.inject](http://javax-inject.github.io/javax-inject/) API in your project?","body":"Are you using <a href=\"http://javax-inject.github.io/javax-inject/\" rel=\"nofollow noreferrer\">javax.inject</a> API in your project?"},{"owner":{"account_id":8056656,"reputation":587,"user_id":6073577,"accept_rate":100,"display_name":"Johnczek"},"score":0,"creation_date":1582903020,"post_id":60395722,"comment_id":106948206,"body_markdown":"@Boris I doubt it, there is no dependency in pom.xml and there are no other dependencies managed outside maven.","body":"@Boris I doubt it, there is no dependency in pom.xml and there are no other dependencies managed outside maven."},{"owner":{"account_id":4007082,"reputation":23327,"user_id":3301492,"display_name":"Boris"},"score":0,"creation_date":1582903223,"post_id":60395722,"comment_id":106948320,"body_markdown":"Can you run a maven goal `dependency:tree`? Are there any `javax.inject` dependencies?","body":"Can you run a maven goal <code>dependency:tree</code>? Are there any <code>javax.inject</code> dependencies?"},{"owner":{"account_id":8056656,"reputation":587,"user_id":6073577,"accept_rate":100,"display_name":"Johnczek"},"score":0,"creation_date":1582903804,"post_id":60395722,"comment_id":106948604,"body_markdown":"@Boris Oh, you were right. The com.querydsl:querydsl-jpa package has the javax.inject:javax.inject dependency bundled. Is this the cause of my problem? And if its can you please tell me how to solve it? Thank you for your help!","body":"@Boris Oh, you were right. The com.querydsl:querydsl-jpa package has the javax.inject:javax.inject dependency bundled. Is this the cause of my problem? And if its can you please tell me how to solve it? Thank you for your help!"}],"answers":[{"tags":[],"owner":{"account_id":8056656,"reputation":587,"user_id":6073577,"accept_rate":100,"display_name":"Johnczek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1583225597,"creation_date":1583225597,"answer_id":60503397,"question_id":60395722,"body_markdown":"**Problem was with Tomcat Servler Jar scanning**\r\n\r\nProblem was solved by adding the bean holding tomcat configuration disabling scanning manifest\r\n\r\n    @Bean\r\n    public TomcatServletWebServerFactory tomcatFactory() {\r\n        return new CustomTomcatServletWebServerFactory();\r\n    }\r\n    \r\n    static class CustomTomcatServletWebServerFactory extends TomcatServletWebServerFactory {\r\n    \r\n        @Override\r\n        protected void postProcessContext(Context context) {\r\n            ((StandardJarScanner) context.getJarScanner()).setScanManifest(false);\r\n        }\r\n    }\r\n\r\nThe bean can be non-static too, but if you are using `management.server.port` property (for Spring Boot Admin app etc.), you have to make that Tomcat configuration static.\r\n\r\nThe other solution can be done by adding this to application property file in Spring Boot application\r\n\r\n    server.tomcat.additional-tld-skip-patterns=*.jar\r\n\r\n**But this solution will break JSP or JSTL support!** So if you have to use these technologies in your project, you got to add the Bean above.\r\n","title":"Migrating from java 8 to 11 - jaxws-rt","body":"<p><strong>Problem was with Tomcat Servler Jar scanning</strong></p>\n\n<p>Problem was solved by adding the bean holding tomcat configuration disabling scanning manifest</p>\n\n<pre><code>@Bean\npublic TomcatServletWebServerFactory tomcatFactory() {\n    return new CustomTomcatServletWebServerFactory();\n}\n\nstatic class CustomTomcatServletWebServerFactory extends TomcatServletWebServerFactory {\n\n    @Override\n    protected void postProcessContext(Context context) {\n        ((StandardJarScanner) context.getJarScanner()).setScanManifest(false);\n    }\n}\n</code></pre>\n\n<p>The bean can be non-static too, but if you are using <code>management.server.port</code> property (for Spring Boot Admin app etc.), you have to make that Tomcat configuration static.</p>\n\n<p>The other solution can be done by adding this to application property file in Spring Boot application</p>\n\n<pre><code>server.tomcat.additional-tld-skip-patterns=*.jar\n</code></pre>\n\n<p><strong>But this solution will break JSP or JSTL support!</strong> So if you have to use these technologies in your project, you got to add the Bean above.</p>\n"},{"tags":[],"owner":{"account_id":21031542,"reputation":1,"user_id":19903976,"display_name":"RMB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662121695,"creation_date":1662121695,"answer_id":73582589,"question_id":60395722,"body_markdown":"Try to do this:\r\n\r\njaxws-rt 2.3.1 depends on javax servlet implmementation deprecated in java 11.\r\n\r\nif you have the code:\r\n\r\n - Move to jaxws-rt 4.0.0 , this one depends on jakarta servlet   \r\n   implementation supported in java 11.  Modify your pom with this rt   \r\n   version 4.0.0. \r\n   https://mvnrepository.com/artifact/com.sun.xml.ws/jaxws-rt/4.0.0\r\n\r\n - modify your declare imports with javax move to jakarta to be ready for java11.\r\n\r\nif you dont have compilation time error problably you dont have in execution time to.\r\n \r\n\r\n","title":"Migrating from java 8 to 11 - jaxws-rt","body":"<p>Try to do this:</p>\n<p>jaxws-rt 2.3.1 depends on javax servlet implmementation deprecated in java 11.</p>\n<p>if you have the code:</p>\n<ul>\n<li><p>Move to jaxws-rt 4.0.0 , this one depends on jakarta servlet<br />\nimplementation supported in java 11.  Modify your pom with this rt<br />\nversion 4.0.0.\n<a href=\"https://mvnrepository.com/artifact/com.sun.xml.ws/jaxws-rt/4.0.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.sun.xml.ws/jaxws-rt/4.0.0</a></p>\n</li>\n<li><p>modify your declare imports with javax move to jakarta to be ready for java11.</p>\n</li>\n</ul>\n<p>if you dont have compilation time error problably you dont have in execution time to.</p>\n"}],"owner":{"account_id":8056656,"reputation":587,"user_id":6073577,"accept_rate":100,"display_name":"Johnczek"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8009,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60503397,"answer_count":2,"score":1,"last_activity_date":1662121695,"creation_date":1582637184,"question_id":60395722,"body_markdown":"I&#180;ve migrated from Java 8 to Java 11 and I&#180;ve found that some Java EE libraries are deprecated and I have to use some third party dependencies instead.\r\n\r\nSo I&#180;ve added these dependencies to maven pom.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- JAXWS for Java 11 --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n        &lt;version&gt;${com.sun.xml.ws.jaxws-rt.version}&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;rt&lt;/artifactId&gt;\r\n        &lt;version&gt;${com.sun.xml.ws.jaxws-rt.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhere the version in the variable is `2.3.2`.\r\nBut when I start the build, there are tons of warnings like this\r\n\r\n&gt; java.io.IOException: java.lang.reflect.InvocationTargetException \tat\r\n&gt; org.apache.tomcat.util.compat.Jre9Compat.jarFileNewInstance(Jre9Compat.java:236)\r\n&gt; \tat\r\n&gt; org.apache.tomcat.util.scan.JarFileUrlJar.&lt;init&gt;(JarFileUrlJar.java:65)\r\n&gt; \tat\r\n&gt; org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:49)\r\n&gt; \tat\r\n&gt; org.apache.tomcat.util.scan.StandardJarScanner.process(StandardJarScanner.java:374)\r\n&gt; \tat\r\n&gt; org.apache.tomcat.util.scan.StandardJarScanner.processURLs(StandardJarScanner.java:309)\r\n&gt; \tat\r\n&gt; org.apache.tomcat.util.scan.StandardJarScanner.doScanClassPath(StandardJarScanner.java:278)\r\n&gt; \tat\r\n&gt; org.apache.tomcat.util.scan.StandardJarScanner.scan(StandardJarScanner.java:229)\r\n&gt; \tat org.apache.jasper.servlet.TldScanner.scanJars(TldScanner.java:262)\r\n&gt; \tat org.apache.jasper.servlet.TldScanner.scan(TldScanner.java:104) \tat\r\n&gt; org.apache.jasper.servlet.JasperInitializer.onStartup(JasperInitializer.java:83)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5135)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n&gt; \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n&gt; \tat\r\n&gt; org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:841)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n&gt; \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n&gt; \tat\r\n&gt; org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardService.startInternal(StandardService.java:421)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n&gt; \tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:459) \tat\r\n&gt; org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:107)\r\n&gt; \tat\r\n&gt; org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:88)\r\n&gt; \tat\r\n&gt; org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:438)\r\n&gt; \tat\r\n&gt; org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:191)\r\n&gt; \tat\r\n&gt; org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)\r\n&gt; \tat\r\n&gt; org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:153)\r\n&gt; \tat\r\n&gt; org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:544)\r\n&gt; \tat\r\n&gt; org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n&gt; \tat\r\n&gt; org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:126)\r\n&gt; \tat\r\n&gt; org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\r\n&gt; \tat\r\n&gt; org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\r\n&gt; \tat\r\n&gt; org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:123)\r\n&gt; \tat\r\n&gt; org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:95)\r\n&gt; \tat\r\n&gt; org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:79)\r\n&gt; \tat\r\n&gt; org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:54)\r\n&gt; \tat\r\n&gt; org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:244)\r\n&gt; \tat\r\n&gt; org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:98)\r\n&gt; \tat\r\n&gt; org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassBasedTestDescriptor.java:337)\r\n&gt; \tat\r\n&gt; org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:342)\r\n&gt; \tat\r\n&gt; org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassBasedTestDescriptor.java:337)\r\n&gt; \tat\r\n&gt; java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n&gt; \tat\r\n&gt; java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n&gt; \tat\r\n&gt; java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1654)\r\n&gt; \tat\r\n&gt; java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n&gt; \tat\r\n&gt; java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n&gt; \tat\r\n&gt; java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)\r\n&gt; \tat\r\n&gt; java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n&gt; \tat\r\n&gt; java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n&gt; \tat\r\n&gt; java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\r\n&gt; \tat\r\n&gt; org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:336)\r\n&gt; \tat\r\n&gt; org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:259)\r\n&gt; \tat\r\n&gt; org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$2(ClassBasedTestDescriptor.java:252)\r\n&gt; \tat java.base/java.util.Optional.orElseGet(Optional.java:369) \tat\r\n&gt; org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$3(ClassBasedTestDescriptor.java:251)\r\n&gt; \tat\r\n&gt; org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:29)\r\n&gt; \tat\r\n&gt; org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt; \tat\r\n&gt; org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)\r\n&gt; \tat\r\n&gt; org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:107)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:107)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:75)\r\n&gt; \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540) \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n&gt; \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540) \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n&gt; \tat\r\n&gt; org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)\r\n&gt; \tat\r\n&gt; org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)\r\n&gt; \tat\r\n&gt; org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)\r\n&gt; \tat\r\n&gt; org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)\r\n&gt; \tat\r\n&gt; org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)\r\n&gt; \tat\r\n&gt; org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150)\r\n&gt; \tat\r\n&gt; org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124)\r\n&gt; \tat\r\n&gt; org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)\r\n&gt; \tat\r\n&gt; org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)\r\n&gt; \tat\r\n&gt; org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)\r\n&gt; \tat\r\n&gt; org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)\r\n&gt; Caused by: java.lang.reflect.InvocationTargetException: null \tat\r\n&gt; java.base/jdk.internal.reflect.GeneratedConstructorAccessor80.newInstance(Unknown\r\n&gt; Source) \tat\r\n&gt; java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n&gt; \tat\r\n&gt; java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n&gt; \tat\r\n&gt; org.apache.tomcat.util.compat.Jre9Compat.jarFileNewInstance(Jre9Compat.java:233)\r\n&gt; \t... 112 common frames omitted Caused by:\r\n&gt; java.nio.file.NoSuchFileException:\r\n&gt; C:\\Users\\USER\\.m2\\repository\\org\\glassfish\\ha\\ha-api\\3.1.12\\javax.inject.jar\r\n&gt; \tat\r\n&gt; java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:85)\r\n&gt; \tat\r\n&gt; java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\r\n&gt; \tat\r\n&gt; java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\r\n&gt; \tat\r\n&gt; java.base/sun.nio.fs.WindowsFileAttributeViews$Basic.readAttributes(WindowsFileAttributeViews.java:53)\r\n&gt; \tat\r\n&gt; java.base/sun.nio.fs.WindowsFileAttributeViews$Basic.readAttributes(WindowsFileAttributeViews.java:38)\r\n&gt; \tat\r\n&gt; java.base/sun.nio.fs.WindowsFileSystemProvider.readAttributes(WindowsFileSystemProvider.java:198)\r\n&gt; \tat java.base/java.nio.file.Files.readAttributes(Files.java:1763) \tat\r\n&gt; java.base/java.util.zip.ZipFile$Source.get(ZipFile.java:1225) \tat\r\n&gt; java.base/java.util.zip.ZipFile$CleanableResource.&lt;init&gt;(ZipFile.java:727)\r\n&gt; \tat\r\n&gt; java.base/java.util.zip.ZipFile$CleanableResource.get(ZipFile.java:844)\r\n&gt; \tat java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:247) \tat\r\n&gt; java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:177) \tat\r\n&gt; java.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:346) \t... 116\r\n&gt; common frames omitted\r\n\r\nThe jaxws-rt plugin should load that ha rependence, or not?\r\n\r\nIn the following exceptions, there are missing files in the ha-API package and another missing file in those jaxws-rt dependencies like:\r\n\r\n&gt; Caused by: java.lang.NoClassDefFoundError: Could not initialize class\r\n&gt; com.jayway.jsonpath.internal.DefaultsImpl\r\n\r\nIf i import that hp api dependency, the problem does not dissapear. I have no clue what to do, is there anyone who could help?\r\n\r\nEDIT:\r\n\r\nThe folder have these files inside\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Wweb9.png\r\n\r\n\r\nEDIT2:\r\n\r\nAfter I excluded inject dependency from both QueryDsl artifacts (apt and jpa) I am unable to install. Here is error I am getting:\r\n\r\nThere is no other javax.inject in dependency tree after exluding that dependency from both querydsl artifacts.\r\n\r\nThe Error occures when building &quot;Q&quot; objects (QEntities used in the querydsl queries)\r\n\r\n    [ERROR] execute error\r\n    java.util.concurrent.ExecutionException: java.lang.RuntimeException: java.lang.NoClassDefFoundError: javax/inject/Inject\r\n        at java.util.concurrent.FutureTask.report (FutureTask.java:122)\r\n        at java.util.concurrent.FutureTask.get (FutureTask.java:191)\r\n        at com.mysema.maven.apt.AbstractProcessorMojo.execute (AbstractProcessorMojo.java:346)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n        at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\r\n    Caused by: java.lang.RuntimeException: java.lang.NoClassDefFoundError: javax/inject/Inject\r\n        at com.sun.tools.javac.api.JavacTaskImpl.handleExceptions (JavacTaskImpl.java:163)\r\n        at com.sun.tools.javac.api.JavacTaskImpl.doCall (JavacTaskImpl.java:100)\r\n        at com.sun.tools.javac.api.JavacTaskImpl.call (JavacTaskImpl.java:94)\r\n        at com.sun.tools.javac.api.JavacTaskImpl.call (JavacTaskImpl.java:72)\r\n        at java.util.concurrent.FutureTask.run (FutureTask.java:264)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1128)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:628)\r\n        at java.lang.Thread.run (Thread.java:834)\r\n    Caused by: java.lang.NoClassDefFoundError: javax/inject/Inject\r\n        at com.querydsl.codegen.AbstractModule.createInstance (AbstractModule.java:116)\r\n        at com.querydsl.codegen.AbstractModule.get (AbstractModule.java:86)\r\n        at com.querydsl.apt.DefaultConfiguration.getTypeMappings (DefaultConfiguration.java:410)\r\n        at com.querydsl.apt.AbstractQuerydslProcessor.process (AbstractQuerydslProcessor.java:86)\r\n        at com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor (JavacProcessingEnvironment.java:980)\r\n        at com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs (JavacProcessingEnvironment.java:896)\r\n        at com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run (JavacProcessingEnvironment.java:1222)\r\n        at com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing (JavacProcessingEnvironment.java:1334)\r\n        at com.sun.tools.javac.main.JavaCompiler.processAnnotations (JavaCompiler.java:1258)\r\n        at com.sun.tools.javac.main.JavaCompiler.compile (JavaCompiler.java:936)\r\n        at com.sun.tools.javac.api.JavacTaskImpl.lambda$doCall$0 (JavacTaskImpl.java:104)\r\n        at com.sun.tools.javac.api.JavacTaskImpl.handleExceptions (JavacTaskImpl.java:147)\r\n        at com.sun.tools.javac.api.JavacTaskImpl.doCall (JavacTaskImpl.java:100)\r\n        at com.sun.tools.javac.api.JavacTaskImpl.call (JavacTaskImpl.java:94)\r\n        at com.sun.tools.javac.api.JavacTaskImpl.call (JavacTaskImpl.java:72)\r\n        at java.util.concurrent.FutureTask.run (FutureTask.java:264)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1128)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:628)\r\n        at java.lang.Thread.run (Thread.java:834)\r\n    Caused by: java.lang.ClassNotFoundException: javax.inject.Inject\r\n        at java.net.URLClassLoader.findClass (URLClassLoader.java:471)\r\n        at java.lang.ClassLoader.loadClass (ClassLoader.java:588)\r\n        at java.lang.ClassLoader.loadClass (ClassLoader.java:521)\r\n        at com.querydsl.codegen.AbstractModule.createInstance (AbstractModule.java:116)\r\n        at com.querydsl.codegen.AbstractModule.get (AbstractModule.java:86)\r\n        at com.querydsl.apt.DefaultConfiguration.getTypeMappings (DefaultConfiguration.java:410)\r\n        at com.querydsl.apt.AbstractQuerydslProcessor.process (AbstractQuerydslProcessor.java:86)\r\n        at com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor (JavacProcessingEnvironment.java:980)\r\n        at com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs (JavacProcessingEnvironment.java:896)\r\n        at com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run (JavacProcessingEnvironment.java:1222)\r\n        at com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing (JavacProcessingEnvironment.java:1334)\r\n        at com.sun.tools.javac.main.JavaCompiler.processAnnotations (JavaCompiler.java:1258)\r\n        at com.sun.tools.javac.main.JavaCompiler.compile (JavaCompiler.java:936)\r\n        at com.sun.tools.javac.api.JavacTaskImpl.lambda$doCall$0 (JavacTaskImpl.java:104)\r\n        at com.sun.tools.javac.api.JavacTaskImpl.handleExceptions (JavacTaskImpl.java:147)\r\n        at com.sun.tools.javac.api.JavacTaskImpl.doCall (JavacTaskImpl.java:100)\r\n        at com.sun.tools.javac.api.JavacTaskImpl.call (JavacTaskImpl.java:94)\r\n        at com.sun.tools.javac.api.JavacTaskImpl.call (JavacTaskImpl.java:72)\r\n        at java.util.concurrent.FutureTask.run (FutureTask.java:264)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1128)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:628)\r\n        at java.lang.Thread.run (Thread.java:834)\r\n\r\nEDIT 3: After excluding javax.inject from querydsl dependency and adding it as normal dependency, it compiles, but shows these warnings at the start (all NoSuchFileException:\r\n\r\n    ...\r\n    Failed to scan [file:/C:/Users/USER/.m2/repository/com/sun/xml/ws/jaxws-rt/2.3.1/javax.annotation-api.jar] from classloader hierarchy\r\n    Failed to scan [file:/C:/Users/USER/.m2/repository/com/sun/xml/ws/jaxws-rt/2.3.1/javax.jws-api.jar] from classloader hierarchy\r\n    Failed to scan [file:/C:/Users/USER/.m2/repository/com/sun/xml/ws/jaxws-rt/2.3.1/jaxb-api.jar] from classloader hierarchy\r\n    ailed to scan [file:/C:/Users/USER/.m2/repository/com/sun/xml/ws/jaxws-rt/2.3.1/jaxws-api.jar] from classloader hierarchy\r\n    Failed to scan [file:/C:/Users/USER/.m2/repository/com/sun/xml/ws/jaxws-rt/2.3.1/javax.xml.soap-api.jar] from classloader hierarchy\r\n    Failed to scan [file:/C:/Users/USER/.m2/repository/com/sun/xml/ws/jaxws-rt/2.3.1/FastInfoset.jar] from classloader hierarchy\r\n    ...\r\n\r\n(and many others from com/sun/**)\r\n\r\nand then many from glassfish like - still NoSuchFileException\r\n\r\n    ...\r\n    Failed to scan [file:/C:/Users/USER/.m2/repository/org/glassfish/ha/ha-api/3.1.9/asm-all-repackaged.jar] from classloader hierarchy\r\n    Failed to scan [file:/C:/Users/USER/.m2/repository/org/glassfish/ha/ha-api/3.1.9/hk2-api.jar] from classloader hierarchy\r\n    Failed to scan [file:/C:/Users/USER/.m2/repository/org/glassfish/ha/ha-api/3.1.9/osgi-resource-locator.jar] from classloader hierarchy\r\n    ...","title":"Migrating from java 8 to 11 - jaxws-rt","body":"<p>I´ve migrated from Java 8 to Java 11 and I´ve found that some Java EE libraries are deprecated and I have to use some third party dependencies instead.</p>\n\n<p>So I´ve added these dependencies to maven pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;!-- JAXWS for Java 11 --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n    &lt;version&gt;${com.sun.xml.ws.jaxws-rt.version}&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n    &lt;artifactId&gt;rt&lt;/artifactId&gt;\n    &lt;version&gt;${com.sun.xml.ws.jaxws-rt.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Where the version in the variable is <code>2.3.2</code>.\nBut when I start the build, there are tons of warnings like this</p>\n\n<blockquote>\n  <p>java.io.IOException: java.lang.reflect.InvocationTargetException  at\n  org.apache.tomcat.util.compat.Jre9Compat.jarFileNewInstance(Jre9Compat.java:236)\n    at\n  org.apache.tomcat.util.scan.JarFileUrlJar.(JarFileUrlJar.java:65)\n    at\n  org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:49)\n    at\n  org.apache.tomcat.util.scan.StandardJarScanner.process(StandardJarScanner.java:374)\n    at\n  org.apache.tomcat.util.scan.StandardJarScanner.processURLs(StandardJarScanner.java:309)\n    at\n  org.apache.tomcat.util.scan.StandardJarScanner.doScanClassPath(StandardJarScanner.java:278)\n    at\n  org.apache.tomcat.util.scan.StandardJarScanner.scan(StandardJarScanner.java:229)\n    at org.apache.jasper.servlet.TldScanner.scanJars(TldScanner.java:262)\n    at org.apache.jasper.servlet.TldScanner.scan(TldScanner.java:104)   at\n  org.apache.jasper.servlet.JasperInitializer.onStartup(JasperInitializer.java:83)\n    at\n  org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5135)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at\n  org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\n    at\n  org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at\n  org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at\n  java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n    at\n  org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\n    at\n  org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:841)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at\n  org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\n    at\n  org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at\n  org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at\n  java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n    at\n  org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\n    at\n  org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at\n  org.apache.catalina.core.StandardService.startInternal(StandardService.java:421)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at\n  org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:459)    at\n  org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:107)\n    at\n  org.springframework.boot.web.embedded.tomcat.TomcatWebServer.(TomcatWebServer.java:88)\n    at\n  org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:438)\n    at\n  org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:191)\n    at\n  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)\n    at\n  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:153)\n    at\n  org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:544)\n    at\n  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)\n    at\n  org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)\n    at\n  org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\n    at\n  org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\n    at\n  org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:126)\n    at\n  org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\n    at\n  org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\n    at\n  org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:123)\n    at\n  org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:95)\n    at\n  org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:79)\n    at\n  org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:54)\n    at\n  org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:244)\n    at\n  org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:98)\n    at\n  org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassBasedTestDescriptor.java:337)\n    at\n  org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:342)\n    at\n  org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassBasedTestDescriptor.java:337)\n    at\n  java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at\n  java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n    at\n  java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1654)\n    at\n  java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at\n  java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at\n  java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)\n    at\n  java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at\n  java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n    at\n  java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\n    at\n  org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:336)\n    at\n  org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:259)\n    at\n  org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$2(ClassBasedTestDescriptor.java:252)\n    at java.base/java.util.Optional.orElseGet(Optional.java:369)    at\n  org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$3(ClassBasedTestDescriptor.java:251)\n    at\n  org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:29)\n    at\n  org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)\n    at\n  org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at\n  org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)\n    at\n  org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)\n    at\n  org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:107)\n    at\n  org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at\n  org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:107)\n    at\n  org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:75)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)   at\n  org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at\n  org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at\n  org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at\n  org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at\n  org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at\n  org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at\n  org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at\n  org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at\n  org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)   at\n  org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at\n  org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at\n  org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at\n  org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at\n  org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at\n  org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at\n  org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at\n  org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at\n  org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at\n  org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at\n  org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at\n  org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at\n  org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)\n    at\n  org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)\n    at\n  org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)\n    at\n  org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)\n    at\n  org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)\n    at\n  org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150)\n    at\n  org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124)\n    at\n  org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)\n    at\n  org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)\n    at\n  org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)\n    at\n  org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)\n  Caused by: java.lang.reflect.InvocationTargetException: null  at\n  java.base/jdk.internal.reflect.GeneratedConstructorAccessor80.newInstance(Unknown\n  Source)   at\n  java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at\n  java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at\n  org.apache.tomcat.util.compat.Jre9Compat.jarFileNewInstance(Jre9Compat.java:233)\n    ... 112 common frames omitted Caused by:\n  java.nio.file.NoSuchFileException:\n  C:\\Users\\USER.m2\\repository\\org\\glassfish\\ha\\ha-api\\3.1.12\\javax.inject.jar\n    at\n  java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:85)\n    at\n  java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\n    at\n  java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\n    at\n  java.base/sun.nio.fs.WindowsFileAttributeViews$Basic.readAttributes(WindowsFileAttributeViews.java:53)\n    at\n  java.base/sun.nio.fs.WindowsFileAttributeViews$Basic.readAttributes(WindowsFileAttributeViews.java:38)\n    at\n  java.base/sun.nio.fs.WindowsFileSystemProvider.readAttributes(WindowsFileSystemProvider.java:198)\n    at java.base/java.nio.file.Files.readAttributes(Files.java:1763)    at\n  java.base/java.util.zip.ZipFile$Source.get(ZipFile.java:1225)     at\n  java.base/java.util.zip.ZipFile$CleanableResource.(ZipFile.java:727)\n    at\n  java.base/java.util.zip.ZipFile$CleanableResource.get(ZipFile.java:844)\n    at java.base/java.util.zip.ZipFile.(ZipFile.java:247)     at\n  java.base/java.util.zip.ZipFile.(ZipFile.java:177)  at\n  java.base/java.util.jar.JarFile.(JarFile.java:346)  ... 116\n  common frames omitted</p>\n</blockquote>\n\n<p>The jaxws-rt plugin should load that ha rependence, or not?</p>\n\n<p>In the following exceptions, there are missing files in the ha-API package and another missing file in those jaxws-rt dependencies like:</p>\n\n<blockquote>\n  <p>Caused by: java.lang.NoClassDefFoundError: Could not initialize class\n  com.jayway.jsonpath.internal.DefaultsImpl</p>\n</blockquote>\n\n<p>If i import that hp api dependency, the problem does not dissapear. I have no clue what to do, is there anyone who could help?</p>\n\n<p>EDIT:</p>\n\n<p>The folder have these files inside\n<a href=\"https://i.stack.imgur.com/Wweb9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wweb9.png\" alt=\"enter image description here\"></a></p>\n\n<p>EDIT2:</p>\n\n<p>After I excluded inject dependency from both QueryDsl artifacts (apt and jpa) I am unable to install. Here is error I am getting:</p>\n\n<p>There is no other javax.inject in dependency tree after exluding that dependency from both querydsl artifacts.</p>\n\n<p>The Error occures when building \"Q\" objects (QEntities used in the querydsl queries)</p>\n\n<pre><code>[ERROR] execute error\njava.util.concurrent.ExecutionException: java.lang.RuntimeException: java.lang.NoClassDefFoundError: javax/inject/Inject\n    at java.util.concurrent.FutureTask.report (FutureTask.java:122)\n    at java.util.concurrent.FutureTask.get (FutureTask.java:191)\n    at com.mysema.maven.apt.AbstractProcessorMojo.execute (AbstractProcessorMojo.java:346)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\nCaused by: java.lang.RuntimeException: java.lang.NoClassDefFoundError: javax/inject/Inject\n    at com.sun.tools.javac.api.JavacTaskImpl.handleExceptions (JavacTaskImpl.java:163)\n    at com.sun.tools.javac.api.JavacTaskImpl.doCall (JavacTaskImpl.java:100)\n    at com.sun.tools.javac.api.JavacTaskImpl.call (JavacTaskImpl.java:94)\n    at com.sun.tools.javac.api.JavacTaskImpl.call (JavacTaskImpl.java:72)\n    at java.util.concurrent.FutureTask.run (FutureTask.java:264)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1128)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:628)\n    at java.lang.Thread.run (Thread.java:834)\nCaused by: java.lang.NoClassDefFoundError: javax/inject/Inject\n    at com.querydsl.codegen.AbstractModule.createInstance (AbstractModule.java:116)\n    at com.querydsl.codegen.AbstractModule.get (AbstractModule.java:86)\n    at com.querydsl.apt.DefaultConfiguration.getTypeMappings (DefaultConfiguration.java:410)\n    at com.querydsl.apt.AbstractQuerydslProcessor.process (AbstractQuerydslProcessor.java:86)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor (JavacProcessingEnvironment.java:980)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs (JavacProcessingEnvironment.java:896)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run (JavacProcessingEnvironment.java:1222)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing (JavacProcessingEnvironment.java:1334)\n    at com.sun.tools.javac.main.JavaCompiler.processAnnotations (JavaCompiler.java:1258)\n    at com.sun.tools.javac.main.JavaCompiler.compile (JavaCompiler.java:936)\n    at com.sun.tools.javac.api.JavacTaskImpl.lambda$doCall$0 (JavacTaskImpl.java:104)\n    at com.sun.tools.javac.api.JavacTaskImpl.handleExceptions (JavacTaskImpl.java:147)\n    at com.sun.tools.javac.api.JavacTaskImpl.doCall (JavacTaskImpl.java:100)\n    at com.sun.tools.javac.api.JavacTaskImpl.call (JavacTaskImpl.java:94)\n    at com.sun.tools.javac.api.JavacTaskImpl.call (JavacTaskImpl.java:72)\n    at java.util.concurrent.FutureTask.run (FutureTask.java:264)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1128)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:628)\n    at java.lang.Thread.run (Thread.java:834)\nCaused by: java.lang.ClassNotFoundException: javax.inject.Inject\n    at java.net.URLClassLoader.findClass (URLClassLoader.java:471)\n    at java.lang.ClassLoader.loadClass (ClassLoader.java:588)\n    at java.lang.ClassLoader.loadClass (ClassLoader.java:521)\n    at com.querydsl.codegen.AbstractModule.createInstance (AbstractModule.java:116)\n    at com.querydsl.codegen.AbstractModule.get (AbstractModule.java:86)\n    at com.querydsl.apt.DefaultConfiguration.getTypeMappings (DefaultConfiguration.java:410)\n    at com.querydsl.apt.AbstractQuerydslProcessor.process (AbstractQuerydslProcessor.java:86)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor (JavacProcessingEnvironment.java:980)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs (JavacProcessingEnvironment.java:896)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run (JavacProcessingEnvironment.java:1222)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing (JavacProcessingEnvironment.java:1334)\n    at com.sun.tools.javac.main.JavaCompiler.processAnnotations (JavaCompiler.java:1258)\n    at com.sun.tools.javac.main.JavaCompiler.compile (JavaCompiler.java:936)\n    at com.sun.tools.javac.api.JavacTaskImpl.lambda$doCall$0 (JavacTaskImpl.java:104)\n    at com.sun.tools.javac.api.JavacTaskImpl.handleExceptions (JavacTaskImpl.java:147)\n    at com.sun.tools.javac.api.JavacTaskImpl.doCall (JavacTaskImpl.java:100)\n    at com.sun.tools.javac.api.JavacTaskImpl.call (JavacTaskImpl.java:94)\n    at com.sun.tools.javac.api.JavacTaskImpl.call (JavacTaskImpl.java:72)\n    at java.util.concurrent.FutureTask.run (FutureTask.java:264)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1128)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:628)\n    at java.lang.Thread.run (Thread.java:834)\n</code></pre>\n\n<p>EDIT 3: After excluding javax.inject from querydsl dependency and adding it as normal dependency, it compiles, but shows these warnings at the start (all NoSuchFileException:</p>\n\n<pre><code>...\nFailed to scan [file:/C:/Users/USER/.m2/repository/com/sun/xml/ws/jaxws-rt/2.3.1/javax.annotation-api.jar] from classloader hierarchy\nFailed to scan [file:/C:/Users/USER/.m2/repository/com/sun/xml/ws/jaxws-rt/2.3.1/javax.jws-api.jar] from classloader hierarchy\nFailed to scan [file:/C:/Users/USER/.m2/repository/com/sun/xml/ws/jaxws-rt/2.3.1/jaxb-api.jar] from classloader hierarchy\nailed to scan [file:/C:/Users/USER/.m2/repository/com/sun/xml/ws/jaxws-rt/2.3.1/jaxws-api.jar] from classloader hierarchy\nFailed to scan [file:/C:/Users/USER/.m2/repository/com/sun/xml/ws/jaxws-rt/2.3.1/javax.xml.soap-api.jar] from classloader hierarchy\nFailed to scan [file:/C:/Users/USER/.m2/repository/com/sun/xml/ws/jaxws-rt/2.3.1/FastInfoset.jar] from classloader hierarchy\n...\n</code></pre>\n\n<p>(and many others from com/sun/**)</p>\n\n<p>and then many from glassfish like - still NoSuchFileException</p>\n\n<pre><code>...\nFailed to scan [file:/C:/Users/USER/.m2/repository/org/glassfish/ha/ha-api/3.1.9/asm-all-repackaged.jar] from classloader hierarchy\nFailed to scan [file:/C:/Users/USER/.m2/repository/org/glassfish/ha/ha-api/3.1.9/hk2-api.jar] from classloader hierarchy\nFailed to scan [file:/C:/Users/USER/.m2/repository/org/glassfish/ha/ha-api/3.1.9/osgi-resource-locator.jar] from classloader hierarchy\n...\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1662122391,"post_id":73582585,"comment_id":129938992,"body_markdown":"The difference between `A` and `a` is not the primary keycode, but rather the state of meta keys (in this case, the Shift key). `KEYCODE_A` refers to the key on the keyboard that emits an `a` on its own and emits an `A` when combined with the Shift key. The `A` in `KEYCODE_A` is not a statement of the capitalization of the associated key -- it is simply the C-style CAPITAL_SNAKE_CASE convention used for many constants in the Android SDK.","body":"The difference between <code>A</code> and <code>a</code> is not the primary keycode, but rather the state of meta keys (in this case, the Shift key). <code>KEYCODE_A</code> refers to the key on the keyboard that emits an <code>a</code> on its own and emits an <code>A</code> when combined with the Shift key. The <code>A</code> in <code>KEYCODE_A</code> is not a statement of the capitalization of the associated key -- it is simply the C-style CAPITAL_SNAKE_CASE convention used for many constants in the Android SDK."},{"owner":{"account_id":9843029,"reputation":1738,"user_id":7291498,"accept_rate":44,"display_name":"Rifat"},"score":0,"creation_date":1662124463,"post_id":73582585,"comment_id":129939792,"body_markdown":"I need to send command for `a` but I do not understand what code to exactly send to dispatch this or such event. I can also dispatch shift key with int 59 but what will give me `a`? If I convert `a` to `A` then send it with shift key on, then may this happen but I dont know how to send both key events at the same time or dispatch something else.","body":"I need to send command for <code>a</code> but I do not understand what code to exactly send to dispatch this or such event. I can also dispatch shift key with int 59 but what will give me <code>a</code>? If I convert <code>a</code> to <code>A</code> then send it with shift key on, then may this happen but I dont know how to send both key events at the same time or dispatch something else."}],"owner":{"account_id":9843029,"reputation":1738,"user_id":7291498,"accept_rate":44,"display_name":"Rifat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662121678,"creation_date":1662121678,"question_id":73582585,"body_markdown":"KeyCode from `KeyEvent.class` do not contain small hand characters. How can I get KeyEvent for a letter that do not exist on that class? For example, I can get a field for following:\r\n\r\n    Field f = KeyEvent.class.getField(&quot;KEYCODE_&quot; + &#39;A&#39;); // also available 1-9, A-Z.\r\n\r\nBut I can not get for following:\r\n\r\n    Field f = KeyEvent.class.getField(&quot;KEYCODE_&quot; + &#39;a&#39;);\r\n\r\nOr what should I use to dispatch a keyEvent on android?\r\n\r\ndispatch related answers [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/18660207/7291498","title":"How to get small hand characters in android to dispatch a keyEvent?","body":"<p>KeyCode from <code>KeyEvent.class</code> do not contain small hand characters. How can I get KeyEvent for a letter that do not exist on that class? For example, I can get a field for following:</p>\n<pre><code>Field f = KeyEvent.class.getField(&quot;KEYCODE_&quot; + 'A'); // also available 1-9, A-Z.\n</code></pre>\n<p>But I can not get for following:</p>\n<pre><code>Field f = KeyEvent.class.getField(&quot;KEYCODE_&quot; + 'a');\n</code></pre>\n<p>Or what should I use to dispatch a keyEvent on android?</p>\n<p>dispatch related answers <a href=\"https://stackoverflow.com/q/18660207/7291498\">here</a>.</p>\n"},{"tags":["java","eclipse","eclipse-plugin","eclipse-rcp"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1662111743,"post_id":73579575,"comment_id":129935430,"body_markdown":"The ToolBar height should adjust according to its contents. You can add other controls to a ToolBar so I imagine you could add a vertical ToolBar. I do not have any example code.","body":"The ToolBar height should adjust according to its contents. You can add other controls to a ToolBar so I imagine you could add a vertical ToolBar. I do not have any example code."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1662112287,"post_id":73579575,"comment_id":129935641,"body_markdown":"That&#39;s kind of toolbar is called [_Ribbon_](https://en.wikipedia.org/wiki/Ribbon_%28computing%29) and as far as I know, some have already implemented this for Eclipse, or at least tried to.","body":"That&#39;s kind of toolbar is called <a href=\"https://en.wikipedia.org/wiki/Ribbon_%28computing%29\" rel=\"nofollow noreferrer\"><i>Ribbon</i></a> and as far as I know, some have already implemented this for Eclipse, or at least tried to."},{"owner":{"account_id":10405472,"reputation":153,"user_id":7672544,"accept_rate":75,"display_name":"mahesh bhagirath"},"score":0,"creation_date":1662122031,"post_id":73579575,"comment_id":129938882,"body_markdown":"@gerg-449, I tried to add custom control to a ToolBar which creates 8 buttons, as per you comment it has to 4 buttons each in 2 rows vertically, but its showing only 4 buttons, rest of them were hidden.","body":"@gerg-449, I tried to add custom control to a ToolBar which creates 8 buttons, as per you comment it has to 4 buttons each in 2 rows vertically, but its showing only 4 buttons, rest of them were hidden."},{"owner":{"account_id":10405472,"reputation":153,"user_id":7672544,"accept_rate":75,"display_name":"mahesh bhagirath"},"score":0,"creation_date":1662122247,"post_id":73579575,"comment_id":129938946,"body_markdown":"@howlger, If you found any reference for Ribbon ToolBar would be appreciate.","body":"@howlger, If you found any reference for Ribbon ToolBar would be appreciate."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1662158801,"post_id":73579575,"comment_id":129949723,"body_markdown":"Maybe [this one](https://github.com/Raccoonwao/ribbonide). If I remember correctly, there was once the proposal to publish Ribbon for Eclipse as part of the Eclipse Nebula project, but this failed for licensing reasons.","body":"Maybe <a href=\"https://github.com/Raccoonwao/ribbonide\" rel=\"nofollow noreferrer\">this one</a>. If I remember correctly, there was once the proposal to publish Ribbon for Eclipse as part of the Eclipse Nebula project, but this failed for licensing reasons."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1662371517,"post_id":73579575,"comment_id":129982885,"body_markdown":"Might be [this bug](https://bugs.eclipse.org/bugs/show_bug.cgi?id=471313)","body":"Might be <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=471313\" rel=\"nofollow noreferrer\">this bug</a>"}],"owner":{"account_id":10405472,"reputation":153,"user_id":7672544,"accept_rate":75,"display_name":"mahesh bhagirath"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662121665,"creation_date":1662106184,"question_id":73579575,"body_markdown":"Can someone help me out to create custom toolbar similar in MS-Word see the image below for reference.\r\n1. Is that really possible to increase the height of the eclipse tool bar?\r\n2. I need to add few ToolBar items in a group with horizontally and vertically(similar to cut, copy Paste toolbar items).\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI have tried by creating custom control for the toolbar menucontribution\r\n\r\n    This in my plugin.xml\r\n\r\n    &lt;extension\r\n          point=&quot;org.eclipse.ui.menus&quot;&gt;\r\n       &lt;menuContribution\r\n             locationURI=&quot;toolbar:org.eclipse.ui.main.toolbar&quot;&gt;\r\n          &lt;toolbar\r\n                id=&quot;com.ancit.custom.toolbar.id1&quot;&gt;\r\n             &lt;command\r\n                   commandId=&quot;com.ancit.custom.toolbar.commands.foo&quot;\r\n                   label=&quot;Foo&quot;\r\n                   style=&quot;push&quot;&gt;\r\n             &lt;/command&gt;\r\n             &lt;command\r\n                   commandId=&quot;com.ancit.custom.toolbar.commands.bar&quot;\r\n                   label=&quot;Bar&quot;\r\n                   style=&quot;push&quot;&gt;\r\n             &lt;/command&gt;\r\n             &lt;control\r\n                   class=&quot;com.ancit.custom.toobar.ui.action.NewControlContribution&quot;&gt;\r\n             &lt;/control&gt;\r\n          &lt;/toolbar&gt;\r\n       &lt;/menuContribution&gt;\r\n    &lt;/extension&gt;\r\n\r\nAnd my control class wold be like this:\r\n\r\n    public class NewControlContribution extends WorkbenchWindowControlContribution {\r\n    \r\n    \tprivate LabelContributionItem ipLabel;\r\n    \r\n    \t@Override\r\n    \tprotected Control createControl(Composite parent) {\r\n    \t\tsetupContributionItems();\r\n    \r\n    \t\tToolBarManager manager = new ToolBarManager();\r\n    \t\tmanager.add(ipLabel);\r\n    \t\tToolBar toolBar = manager.createControl(parent);\r\n    \t\t// Highlight the ToolBar in red.\r\n    \t\ttoolBar.setBackground(parent.getDisplay().getSystemColor(SWT.COLOR_BLUE));\r\n    \r\n    \t\treturn toolBar;\r\n    \t}\r\n    \r\n    \tprivate void setupContributionItems() {\r\n    \t\tipLabel = new LabelContributionItem(&quot;ipLabel&quot;, SWT.BORDER | SWT.SINGLE | SWT.READ_ONLY);\r\n    \t}\r\n    \r\n    }\r\n\r\nAnd the implementation for the ToolBar item will be\r\n\r\n    public class LabelContributionItem extends ControlContribution {\r\n    \r\n    \tprivate final int style;\r\n    \tprivate Composite composite;\r\n    \r\n    \tpublic LabelContributionItem(String id) {\r\n    \t\tthis(id, SWT.BORDER | SWT.SINGLE);\r\n    \t}\r\n    \r\n    \tpublic LabelContributionItem(String id, int style) {\r\n    \t\tsuper(id);\r\n    \t\tthis.style = style;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected Control createControl(Composite parent) {\r\n    \t\tcomposite = new Composite(parent, SWT.NONE);\r\n    \r\n    \r\n    \t\tGridLayout gridLayout = new GridLayout();\r\n    \t\tgridLayout.numColumns = 4;\r\n    \t\tcomposite.setLayout(gridLayout);\r\n    \r\n    \t\tfor (int loopIndex = 0; loopIndex &lt; 8; loopIndex++) {\r\n    \t\t\tButton button = new Button(composite, SWT.PUSH);\r\n    \t\t\tbutton.setText(&quot;Button &quot; + loopIndex);\r\n    \t\t}\r\n    \r\n    \t\treturn composite;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int computeWidth(Control control) {\r\n    \t\treturn 500;\r\n    \t}\r\n    \r\n    \tpublic Composite getLabelControl() {\r\n    \t\treturn composite;\r\n    \t}\r\n    }\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BJtBR.png\r\n  [2]: https://i.stack.imgur.com/dIG6e.png\r\n\r\nBut seems like the height is not increasing as according to 8 buttons","title":"Is that possible to create eclipse custom Toolbar(set the height and grouping toolbar items vertically)?","body":"<p>Can someone help me out to create custom toolbar similar in MS-Word see the image below for reference.</p>\n<ol>\n<li>Is that really possible to increase the height of the eclipse tool bar?</li>\n<li>I need to add few ToolBar items in a group with horizontally and vertically(similar to cut, copy Paste toolbar items).</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/BJtBR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BJtBR.png\" alt=\"enter image description here\" /></a></p>\n<p>I have tried by creating custom control for the toolbar menucontribution</p>\n<pre><code>This in my plugin.xml\n\n&lt;extension\n      point=&quot;org.eclipse.ui.menus&quot;&gt;\n   &lt;menuContribution\n         locationURI=&quot;toolbar:org.eclipse.ui.main.toolbar&quot;&gt;\n      &lt;toolbar\n            id=&quot;com.ancit.custom.toolbar.id1&quot;&gt;\n         &lt;command\n               commandId=&quot;com.ancit.custom.toolbar.commands.foo&quot;\n               label=&quot;Foo&quot;\n               style=&quot;push&quot;&gt;\n         &lt;/command&gt;\n         &lt;command\n               commandId=&quot;com.ancit.custom.toolbar.commands.bar&quot;\n               label=&quot;Bar&quot;\n               style=&quot;push&quot;&gt;\n         &lt;/command&gt;\n         &lt;control\n               class=&quot;com.ancit.custom.toobar.ui.action.NewControlContribution&quot;&gt;\n         &lt;/control&gt;\n      &lt;/toolbar&gt;\n   &lt;/menuContribution&gt;\n&lt;/extension&gt;\n</code></pre>\n<p>And my control class wold be like this:</p>\n<pre><code>public class NewControlContribution extends WorkbenchWindowControlContribution {\n\n    private LabelContributionItem ipLabel;\n\n    @Override\n    protected Control createControl(Composite parent) {\n        setupContributionItems();\n\n        ToolBarManager manager = new ToolBarManager();\n        manager.add(ipLabel);\n        ToolBar toolBar = manager.createControl(parent);\n        // Highlight the ToolBar in red.\n        toolBar.setBackground(parent.getDisplay().getSystemColor(SWT.COLOR_BLUE));\n\n        return toolBar;\n    }\n\n    private void setupContributionItems() {\n        ipLabel = new LabelContributionItem(&quot;ipLabel&quot;, SWT.BORDER | SWT.SINGLE | SWT.READ_ONLY);\n    }\n\n}\n</code></pre>\n<p>And the implementation for the ToolBar item will be</p>\n<pre><code>public class LabelContributionItem extends ControlContribution {\n\n    private final int style;\n    private Composite composite;\n\n    public LabelContributionItem(String id) {\n        this(id, SWT.BORDER | SWT.SINGLE);\n    }\n\n    public LabelContributionItem(String id, int style) {\n        super(id);\n        this.style = style;\n    }\n\n    @Override\n    protected Control createControl(Composite parent) {\n        composite = new Composite(parent, SWT.NONE);\n\n\n        GridLayout gridLayout = new GridLayout();\n        gridLayout.numColumns = 4;\n        composite.setLayout(gridLayout);\n\n        for (int loopIndex = 0; loopIndex &lt; 8; loopIndex++) {\n            Button button = new Button(composite, SWT.PUSH);\n            button.setText(&quot;Button &quot; + loopIndex);\n        }\n\n        return composite;\n    }\n\n    @Override\n    public int computeWidth(Control control) {\n        return 500;\n    }\n\n    public Composite getLabelControl() {\n        return composite;\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/dIG6e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dIG6e.png\" alt=\"enter image description here\" /></a></p>\n<p>But seems like the height is not increasing as according to 8 buttons</p>\n"},{"tags":["java","swagger-ui","openapi","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":17685021,"reputation":41,"user_id":12838101,"display_name":"Andrei Ion"},"score":1,"creation_date":1622788330,"post_id":67832428,"comment_id":119896601,"body_markdown":"I am using the following versions: \n&lt;springdoc-openapi-ui.version&gt;1.5.9&lt;/springdoc-openapi-ui.version&gt;\n    &lt;swagger-annotations.version&gt;1.5.22&lt;/swagger-annotations.version&gt;and \n &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;4.3.1&lt;/version&gt;","body":"I am using the following versions:  &lt;springdoc-openapi-ui.version&gt;1.5.9&lt;/springdoc-openapi-ui.ve&zwnj;&#8203;rsion&gt;     &lt;swagger-annotations.version&gt;1.5.22&lt;/swagger-annotations.ver&zwnj;&#8203;sion&gt;and   &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;         &lt;version&gt;4.3.1&lt;/version&gt;"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1662049849,"post_id":67832428,"comment_id":129922188,"body_markdown":"did I understand properly that you generate java api using openapi spec, and then openapi-ui generates openapi spec using java api? O_o. BTW, there was a bug in openapi-ui [String with format byte (base64) is being an array of strings and not a string #1559](https://github.com/springdoc/springdoc-openapi/issues/1559)","body":"did I understand properly that you generate java api using openapi spec, and then openapi-ui generates openapi spec using java api? O_o. BTW, there was a bug in openapi-ui <a href=\"https://github.com/springdoc/springdoc-openapi/issues/1559\" rel=\"nofollow noreferrer\">String with format byte (base64) is being an array of strings and not a string #1559</a>"}],"answers":[{"tags":[],"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662053463,"creation_date":1662050257,"answer_id":73572814,"question_id":67832428,"body_markdown":"If you have generated Java classes from a YAML file the Swagger UI should generate the origin YAML/JSON file. \r\n\r\n**Known Issues**\r\n\r\nThere are several issues for [OpenAPI Tools](https://github.com/openapi-tools):\r\n\r\n- [OpenApi documentation converts byte[] in array of byte[]](https://github.com/openapi-tools/swagger-maven-plugin/issues/81)\r\n- [byte[] not correctly handled by openapi converter\r\n](https://github.com/openapi-tools/swagger-maven-plugin/issues/22)\r\n\r\nThere are also several issues for [SpringFox](https://springfox.github.io/springfox/):\r\n\r\n- [Response with a byte array does not work as expected](https://github.com/springfox/springfox/issues/1605)\r\n- [byte array should have type string and format byte](https://github.com/springfox/springfox/issues/1430)\r\n- [swagger-codegen-cli.jar dont understand ResponseEntity&lt;byte[]&gt;](https://github.com/springfox/springfox/issues/1439)\r\n\r\nThere are also issues for [springdoc-openapi](https://github.com/springdoc/springdoc-openapi):\r\n\r\n- [String with format byte (base64) is being an array of strings and not a string](https://github.com/springdoc/springdoc-openapi/issues/1559)\r\n\r\nOther implementations with issues:\r\n\r\n- [byte[] operation responses / model properties modelled incorrectly](https://github.com/kongchen/swagger-maven-plugin/issues/422)\r\n\r\n**Known work-arounds**\r\n\r\n- If you could change the Java classes, see [\r\nbyte[] not correctly handled by openapi converter\r\n](https://github.com/openapi-tools/swagger-maven-plugin/issues/22#issuecomment-648135222):\r\n\r\n  &gt; Just for reference, if you want to use the io.swagger.core.v3:swagger-annotations, then use this:\r\n  &gt;\r\n  &gt;      @ApiResponse (description = &quot;default response&quot;,\r\n  &gt;               content = @Content (schema = @Schema (type = &quot;string&quot;,\r\n  &gt;                                                     format = &quot;byte&quot;)))\r\n\r\n  There is also a solution for non response type, see [\r\nString with format byte (base64) is being an array of strings and not a string\r\n](https://github.com/springdoc/springdoc-openapi/issues/1559#issuecomment-1073062930):\r\n\r\n  &gt; &lt;!-- language: java --&gt;\r\n  &gt; \r\n  &gt;      @Schema(name = &quot;message&quot;,  required = true, type = &quot;string&quot;, format = &quot;binary&quot;)\r\n  &gt;      @JsonProperty(&quot;message&quot;)\r\n  &gt;      @lombok.Builder.Default\r\n  &gt;      @NotNull\r\n  &gt;      private byte[] message = null; \r\n\r\n- If you could use Maven Plugin instead of Swagger UI to generate your OpenAPI YAML/JSON file, see [Response with a byte array does not work as expected\r\n](https://github.com/springfox/springfox/issues/1605#issuecomment-276910444):\r\n\r\n  &gt; I encountered a similar issue using the swagger maven plugin (from kongchen).\r\nI fixed it by defining an additional ModelConverter that verifies if it&#39;s a byte[] and then returns a ByteArrayProperty:\r\n\r\n  There is also a solution for request parameter, see [byte[] operation responses / model properties modelled incorrectly](https://github.com/kongchen/swagger-maven-plugin/issues/422#issuecomment-575614391):\r\n\r\n  &gt; It does this for Request bodies as well. Here is the fix for version 2.0.10:\r\n\r\n**Related questions**\r\n\r\n- https://stackoverflow.com/questions/64080432/how-to-declare-binary-data-response-content-type-correctly\r\n- https://stackoverflow.com/questions/54010889/when-using-swagger-codegen-getting-listbyte-instead-of-simply-byte\r\n- https://stackoverflow.com/questions/62794949/how-to-define-byte-array-in-openapi-3-0\r\n\r\n\r\n","title":"OpenApi documentation converts byte[] in array of byte[]","body":"<p>If you have generated Java classes from a YAML file the Swagger UI should generate the origin YAML/JSON file.</p>\n<p><strong>Known Issues</strong></p>\n<p>There are several issues for <a href=\"https://github.com/openapi-tools\" rel=\"nofollow noreferrer\">OpenAPI Tools</a>:</p>\n<ul>\n<li><a href=\"https://github.com/openapi-tools/swagger-maven-plugin/issues/81\" rel=\"nofollow noreferrer\">OpenApi documentation converts byte[] in array of byte[]</a></li>\n<li><a href=\"https://github.com/openapi-tools/swagger-maven-plugin/issues/22\" rel=\"nofollow noreferrer\">byte[] not correctly handled by openapi converter\n</a></li>\n</ul>\n<p>There are also several issues for <a href=\"https://springfox.github.io/springfox/\" rel=\"nofollow noreferrer\">SpringFox</a>:</p>\n<ul>\n<li><a href=\"https://github.com/springfox/springfox/issues/1605\" rel=\"nofollow noreferrer\">Response with a byte array does not work as expected</a></li>\n<li><a href=\"https://github.com/springfox/springfox/issues/1430\" rel=\"nofollow noreferrer\">byte array should have type string and format byte</a></li>\n<li><a href=\"https://github.com/springfox/springfox/issues/1439\" rel=\"nofollow noreferrer\">swagger-codegen-cli.jar dont understand ResponseEntity&lt;byte[]&gt;</a></li>\n</ul>\n<p>There are also issues for <a href=\"https://github.com/springdoc/springdoc-openapi\" rel=\"nofollow noreferrer\">springdoc-openapi</a>:</p>\n<ul>\n<li><a href=\"https://github.com/springdoc/springdoc-openapi/issues/1559\" rel=\"nofollow noreferrer\">String with format byte (base64) is being an array of strings and not a string</a></li>\n</ul>\n<p>Other implementations with issues:</p>\n<ul>\n<li><a href=\"https://github.com/kongchen/swagger-maven-plugin/issues/422\" rel=\"nofollow noreferrer\">byte[] operation responses / model properties modelled incorrectly</a></li>\n</ul>\n<p><strong>Known work-arounds</strong></p>\n<ul>\n<li><p>If you could change the Java classes, see <a href=\"https://github.com/openapi-tools/swagger-maven-plugin/issues/22#issuecomment-648135222\" rel=\"nofollow noreferrer\">\nbyte[] not correctly handled by openapi converter\n</a>:</p>\n<blockquote>\n<p>Just for reference, if you want to use the io.swagger.core.v3:swagger-annotations, then use this:</p>\n<pre><code> @ApiResponse (description = &quot;default response&quot;,\n          content = @Content (schema = @Schema (type = &quot;string&quot;,\n                                                format = &quot;byte&quot;)))\n</code></pre>\n</blockquote>\n<p>There is also a solution for non response type, see <a href=\"https://github.com/springdoc/springdoc-openapi/issues/1559#issuecomment-1073062930\" rel=\"nofollow noreferrer\">\nString with format byte (base64) is being an array of strings and not a string\n</a>:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code> @Schema(name = &quot;message&quot;,  required = true, type = &quot;string&quot;, format = &quot;binary&quot;)\n @JsonProperty(&quot;message&quot;)\n @lombok.Builder.Default\n @NotNull\n private byte[] message = null; \n</code></pre>\n</blockquote>\n</li>\n<li><p>If you could use Maven Plugin instead of Swagger UI to generate your OpenAPI YAML/JSON file, see <a href=\"https://github.com/springfox/springfox/issues/1605#issuecomment-276910444\" rel=\"nofollow noreferrer\">Response with a byte array does not work as expected\n</a>:</p>\n<blockquote>\n<p>I encountered a similar issue using the swagger maven plugin (from kongchen).\nI fixed it by defining an additional ModelConverter that verifies if it's a byte[] and then returns a ByteArrayProperty:</p>\n</blockquote>\n<p>There is also a solution for request parameter, see <a href=\"https://github.com/kongchen/swagger-maven-plugin/issues/422#issuecomment-575614391\" rel=\"nofollow noreferrer\">byte[] operation responses / model properties modelled incorrectly</a>:</p>\n<blockquote>\n<p>It does this for Request bodies as well. Here is the fix for version 2.0.10:</p>\n</blockquote>\n</li>\n</ul>\n<p><strong>Related questions</strong></p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/64080432/how-to-declare-binary-data-response-content-type-correctly\">How to declare binary data response content-type correctly?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/54010889/when-using-swagger-codegen-getting-listbyte-instead-of-simply-byte\">when using swagger codegen getting &#39;List&lt;byte[]&gt;&#39; instead of simply &#39;byte[]&#39;</a></li>\n<li><a href=\"https://stackoverflow.com/questions/62794949/how-to-define-byte-array-in-openapi-3-0\">How to define byte array in OpenAPI 3.0</a></li>\n</ul>\n"}],"owner":{"account_id":17685021,"reputation":41,"user_id":12838101,"display_name":"Andrei Ion"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2763,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1662121502,"creation_date":1622788140,"question_id":67832428,"body_markdown":"I generate a Java class from a YAML file describing the model with `openapi-generator-maven-plugin`.\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n        &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;4.3.1&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;document-10-service&lt;/id&gt;\r\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;generate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;inputSpec&gt;${project.basedir}/src/openapi/server/v1.0/documents-1.0.yaml&lt;/inputSpec&gt;\r\n              &lt;output&gt;${project.build.directory}/generated-sources/document-10-service&lt;/output&gt;\r\n              &lt;generateApis&gt;true&lt;/generateApis&gt;\r\n              &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\r\n              &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\r\n              &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\r\n              &lt;generateModelDocumentation&gt;false&lt;/generateModelDocumentation&gt;\r\n              &lt;generateSupportingFiles&gt;true&lt;/generateSupportingFiles&gt;\r\n              &lt;apiPackage&gt;com.siemens.spice.documents.generated.api&lt;/apiPackage&gt;\r\n              &lt;modelPackage&gt;com.siemens.spice.documents.generated.model&lt;/modelPackage&gt;\r\n              &lt;invokerPackage&gt;com.siemens.spice.documents.generated&lt;/invokerPackage&gt;\r\n              &lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n              &lt;skipOverwrite&gt;false&lt;/skipOverwrite&gt;\r\n              &lt;configOptions&gt;\r\n                &lt;sourceFolder&gt;server&lt;/sourceFolder&gt;\r\n                &lt;supportingFiles&gt;ApiUtil.java&lt;/supportingFiles&gt;\r\n                &lt;library&gt;spring-boot&lt;/library&gt;\r\n                &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\r\n                &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\r\n                &lt;useBeanValidation&gt;true&lt;/useBeanValidation&gt;\r\n                &lt;hideGenerationTimestamp&gt;true&lt;/hideGenerationTimestamp&gt;\r\n              &lt;/configOptions&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n\r\n\r\nI have the following model described in the YAML file:\r\n\r\n&lt;!-- language: yaml --&gt;\r\n\r\n     Document:\r\n    required:\r\n      - documentMetaData\r\n      - documentContent\r\n    type: &quot;object&quot;\r\n    properties:\r\n      documentMetaData:\r\n        $ref: &quot;#/definitions/DocumentMetaData&quot;\r\n        description: &quot;Document type information&quot;\r\n      documentContent:\r\n        type: string\r\n        format: byte\r\n        description: &quot;Base64 encoded document content&quot;\r\n\r\n\r\nThis generates the following class which is ok:\r\n\r\n&lt;!-- language: java --&gt;\r\n  \r\n    public class DownloadDocument   {\r\n      @JsonProperty(&quot;documentMetaData&quot;)\r\n      private DocumentMetaData documentMetaData;\r\n    \r\n      @JsonProperty(&quot;documentContent&quot;)\r\n      private byte[] documentContent;\r\n    }\r\n\r\nBut when entering the `swagger-ui.html` page and trying to get the documentation by click on the link:\r\n\r\n[enter image description here][1]\r\n\r\nit looks like this:\r\n\r\n&lt;!-- language: yaml --&gt;\r\n\r\n    &quot;DownloadDocument&quot;: {\r\n\t\t\t\t&quot;required&quot;: [\r\n\t\t\t\t\t&quot;documentContent&quot;,\r\n\t\t\t\t\t&quot;documentMetaData&quot;\r\n\t\t\t\t],\r\n\t\t\t\t&quot;type&quot;: &quot;object&quot;,\r\n\t\t\t\t&quot;properties&quot;: {\r\n\t\t\t\t\t&quot;documentMetaData&quot;: {\r\n\t\t\t\t\t\t&quot;$ref&quot;: &quot;#/components/schemas/DocumentMetaData&quot;\r\n\t\t\t\t\t},\r\n\t\t\t\t\t&quot;documentContent&quot;: {\r\n\t\t\t\t\t\t**&quot;type&quot;: &quot;array&quot;,\r\n\t\t\t\t\t\t&quot;items&quot;: {\r\n\t\t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;,\r\n\t\t\t\t\t\t\t&quot;format&quot;: &quot;byte&quot;\r\n\t\t\t\t\t\t}**\r\n\t\t\t\t\t}\r\n\r\n\r\nThe document content which is a `byte[]` is documented as an array of `byte[]` and when using this description in other app to generate an API client it generates a `List&lt;byte[]&gt;`.\r\n\r\nI would expect the following format also in the OpenApi Specification/Description:\r\n\r\n&lt;!-- language: yaml --&gt;\r\n\r\n    documentContent:\r\n        type: string\r\n        format: byte\r\n        description: &quot;Base64 encoded document content&quot;\r\n\r\nCan you please advice if this is a bug or if not how can be resolved?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ntqPY.png","title":"OpenApi documentation converts byte[] in array of byte[]","body":"<p>I generate a Java class from a YAML file describing the model with <code>openapi-generator-maven-plugin</code>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;4.3.1&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;document-10-service&lt;/id&gt;\n        &lt;phase&gt;generate-sources&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;generate&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;inputSpec&gt;${project.basedir}/src/openapi/server/v1.0/documents-1.0.yaml&lt;/inputSpec&gt;\n          &lt;output&gt;${project.build.directory}/generated-sources/document-10-service&lt;/output&gt;\n          &lt;generateApis&gt;true&lt;/generateApis&gt;\n          &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\n          &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\n          &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\n          &lt;generateModelDocumentation&gt;false&lt;/generateModelDocumentation&gt;\n          &lt;generateSupportingFiles&gt;true&lt;/generateSupportingFiles&gt;\n          &lt;apiPackage&gt;com.siemens.spice.documents.generated.api&lt;/apiPackage&gt;\n          &lt;modelPackage&gt;com.siemens.spice.documents.generated.model&lt;/modelPackage&gt;\n          &lt;invokerPackage&gt;com.siemens.spice.documents.generated&lt;/invokerPackage&gt;\n          &lt;generatorName&gt;spring&lt;/generatorName&gt;\n          &lt;skipOverwrite&gt;false&lt;/skipOverwrite&gt;\n          &lt;configOptions&gt;\n            &lt;sourceFolder&gt;server&lt;/sourceFolder&gt;\n            &lt;supportingFiles&gt;ApiUtil.java&lt;/supportingFiles&gt;\n            &lt;library&gt;spring-boot&lt;/library&gt;\n            &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\n            &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\n            &lt;useBeanValidation&gt;true&lt;/useBeanValidation&gt;\n            &lt;hideGenerationTimestamp&gt;true&lt;/hideGenerationTimestamp&gt;\n          &lt;/configOptions&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n</code></pre>\n<p>I have the following model described in the YAML file:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code> Document:\nrequired:\n  - documentMetaData\n  - documentContent\ntype: &quot;object&quot;\nproperties:\n  documentMetaData:\n    $ref: &quot;#/definitions/DocumentMetaData&quot;\n    description: &quot;Document type information&quot;\n  documentContent:\n    type: string\n    format: byte\n    description: &quot;Base64 encoded document content&quot;\n</code></pre>\n<p>This generates the following class which is ok:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DownloadDocument   {\n  @JsonProperty(&quot;documentMetaData&quot;)\n  private DocumentMetaData documentMetaData;\n\n  @JsonProperty(&quot;documentContent&quot;)\n  private byte[] documentContent;\n}\n</code></pre>\n<p>But when entering the <code>swagger-ui.html</code> page and trying to get the documentation by click on the link:</p>\n<p><a href=\"https://i.stack.imgur.com/ntqPY.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>it looks like this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>&quot;DownloadDocument&quot;: {\n            &quot;required&quot;: [\n                &quot;documentContent&quot;,\n                &quot;documentMetaData&quot;\n            ],\n            &quot;type&quot;: &quot;object&quot;,\n            &quot;properties&quot;: {\n                &quot;documentMetaData&quot;: {\n                    &quot;$ref&quot;: &quot;#/components/schemas/DocumentMetaData&quot;\n                },\n                &quot;documentContent&quot;: {\n                    **&quot;type&quot;: &quot;array&quot;,\n                    &quot;items&quot;: {\n                        &quot;type&quot;: &quot;string&quot;,\n                        &quot;format&quot;: &quot;byte&quot;\n                    }**\n                }\n</code></pre>\n<p>The document content which is a <code>byte[]</code> is documented as an array of <code>byte[]</code> and when using this description in other app to generate an API client it generates a <code>List&lt;byte[]&gt;</code>.</p>\n<p>I would expect the following format also in the OpenApi Specification/Description:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>documentContent:\n    type: string\n    format: byte\n    description: &quot;Base64 encoded document content&quot;\n</code></pre>\n<p>Can you please advice if this is a bug or if not how can be resolved?</p>\n"},{"tags":["java","android","android-recyclerview","android-room","adapter"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1662015779,"post_id":73565068,"comment_id":129909369,"body_markdown":"Have you tried using `notifyItemRemoved` to notify the adapter of removing an item before deleting the data from the database?","body":"Have you tried using <code>notifyItemRemoved</code> to notify the adapter of removing an item before deleting the data from the database?"},{"owner":{"account_id":25709482,"reputation":137,"user_id":19468261,"display_name":"ShahZaman Rai"},"score":0,"creation_date":1662015944,"post_id":73565068,"comment_id":129909419,"body_markdown":"Yeah! Not working. This is actually Live data so that is not needed i think","body":"Yeah! Not working. This is actually Live data so that is not needed i think"},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1662016049,"post_id":73565068,"comment_id":129909442,"body_markdown":"Can you show how you are connecting DB &gt; LiveData &gt; Adapter?","body":"Can you show how you are connecting DB &gt; LiveData &gt; Adapter?"},{"owner":{"account_id":25709482,"reputation":137,"user_id":19468261,"display_name":"ShahZaman Rai"},"score":0,"creation_date":1662027497,"post_id":73565068,"comment_id":129913448,"body_markdown":"modelView = new ViewModelProvider(this).get(notesModelView.class);\n        modelView.getAllNotes().observe(this, new Observer&lt;List&lt;Notes&gt;&gt;() {\n            @Override\n            public void onChanged(List&lt;Notes&gt; notes) {\n                arrNotes.clear();\n                arrNotes.addAll(notes);\n                adapter.notifyItemInserted(arrNotes.size()-1);            }\n        });","body":"modelView = new ViewModelProvider(this).get(notesModelView.class);         modelView.getAllNotes().observe(this, new Observer&lt;List&lt;Notes&gt;&gt;() {             @Override             public void onChanged(List&lt;Notes&gt; notes) {                 arrNotes.clear();                 arrNotes.addAll(notes);                 adapter.notifyItemInserted(arrNotes.size()-1);            }         });"},{"owner":{"account_id":25709482,"reputation":137,"user_id":19468261,"display_name":"ShahZaman Rai"},"score":0,"creation_date":1662027532,"post_id":73565068,"comment_id":129913459,"body_markdown":"RecyclerView recyclerView = findViewById(R.id.recycler_view);\n        adapter = new RecyclerViewAdapter(this, arrNotes, database);\n        recyclerView.setAdapter(adapter);","body":"RecyclerView recyclerView = findViewById(R.id.recycler_view);         adapter = new RecyclerViewAdapter(this, arrNotes, database);         recyclerView.setAdapter(adapter);"}],"answers":[{"tags":[],"owner":{"account_id":25709482,"reputation":137,"user_id":19468261,"display_name":"ShahZaman Rai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662121067,"creation_date":1662121067,"answer_id":73582464,"question_id":73565068,"body_markdown":"It is Solved, Actually, in Live Data, I was using notifyiteminserted, I changed that to notifyDataSetChnaged.","title":"Deleting issue from Room Database","body":"<p>It is Solved, Actually, in Live Data, I was using notifyiteminserted, I changed that to notifyDataSetChnaged.</p>\n"}],"owner":{"account_id":25709482,"reputation":137,"user_id":19468261,"display_name":"ShahZaman Rai"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73582464,"answer_count":1,"score":0,"last_activity_date":1662121067,"creation_date":1662013754,"question_id":73565068,"body_markdown":"I have an issue deleting item from app. It,s Actually a notes app in which i have created a AlertDialog function that deletes notes. here is code for my function\r\n\r\n```\r\n private void showDeleteDialog(int position) {\r\n        AlertDialog.Builder alert = new AlertDialog.Builder(context)\r\n                .setTitle(&quot;Delete view&quot;)\r\n                .setMessage(&quot;Are you sure to delete&quot;)\r\n                .setIcon(R.drawable.ic_baseline_delete_24)\r\n                .setPositiveButton(&quot;yes&quot;, (dialogInterface, i) -&gt; databaseHelper.notesDao().deleteNotes(new Notes(arrNotes.get(position).id, arrNotes.get(position).title, arrNotes.get(position).text)))\r\n                .setNegativeButton(&quot;No&quot;, (dialogInterface, i) -&gt; {\r\n\r\n                });\r\n        alert.show();\r\n    }\r\n\r\n```\r\n\r\nHere i call it \r\n```\r\n        holder.llView.setOnLongClickListener(view -&gt; {\r\n            showDeleteDialog(position);\r\n            return true;\r\n        });\r\n```\r\n\r\n**When i click yes then app crashed but it succuessfully delets notes from database.This is the error i got**\r\n```\r\n    java.lang.IndexOutOfBoundsException: Inconsistency detected. Invalid view holder adapter positionViewHolder{a4d7d56 position=1 id=-1, oldPos=0, pLpos:0 scrap [attachedScrap] tmpDetached no parent} androidx.recyclerview.widget.RecyclerView{815f028 VFED..... ......I. 31,171-689,776 #7f090165 app:id/recycler_view}, adapter:com.example.keepnotes.RecyclerViewAdapter@773a141, layout:androidx.recyclerview.widget.StaggeredGridLayoutManager@a3a6e6, context:com.example.keepnotes.MainActivity@3065e55\r\n```\r\n\r\nAll of this is in RecyclerView Adapter. The code for recyclerView adapter is following\r\n\r\n```\r\npackage com.example.keepnotes;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.app.AlertDialog;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.cardview.widget.CardView;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class RecyclerViewAdapter extends RecyclerView.Adapter&lt;RecyclerViewAdapter.ViewHolder&gt; {\r\n\r\n    Context context;\r\n    ArrayList&lt;Notes&gt; arrNotes;\r\n    DatabaseHelper databaseHelper;\r\n    private RecyclerView.RecyclerListener listener;\r\n\r\n    RecyclerViewAdapter(Context context, ArrayList&lt;Notes&gt; arrNotes, DatabaseHelper databaseHelper) {\r\n        this.context = context;\r\n        this.arrNotes = arrNotes;\r\n        this.databaseHelper = databaseHelper;\r\n    }\r\n\r\n    public RecyclerViewAdapter(ArrayList&lt;Notes&gt; arrNotes, RecyclerView.RecyclerListener listener) {\r\n        this.arrNotes = arrNotes;\r\n        this.listener = listener;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.single_view, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\r\n        holder.title.setText(arrNotes.get(position).title);\r\n        holder.body.setText(arrNotes.get(position).text);\r\n        holder.index.setText(String.valueOf(position + 1));\r\n\r\n\r\n        holder.llView.setOnClickListener(view -&gt; {\r\n            Intent iNext = new Intent(context, ViewActivity.class);\r\n            iNext.putExtra(&quot;title&quot;, arrNotes.get(position).title);\r\n            iNext.putExtra(&quot;text&quot;, arrNotes.get(position).text);\r\n            context.startActivity(iNext);\r\n        });\r\n\r\n        holder.llView.setOnLongClickListener(view -&gt; {\r\n            showDeleteDialog(position);\r\n            return true;\r\n        });\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return arrNotes.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        TextView title, body, index;\r\n        CardView llView;\r\n\r\n        public ViewHolder(View itemView) {\r\n            super(itemView);\r\n            title = itemView.findViewById(R.id.text_title_view);\r\n            body = itemView.findViewById(R.id.text_text_view);\r\n            index = itemView.findViewById(R.id.index);\r\n            llView = itemView.findViewById(R.id.card_View);\r\n            databaseHelper = DatabaseHelper.getDatabase(context);\r\n        }\r\n    }\r\n\r\n    private void showDeleteDialog(int position) {\r\n        AlertDialog.Builder alert = new AlertDialog.Builder(context)\r\n                .setTitle(&quot;Delete view&quot;)\r\n                .setMessage(&quot;Are you sure to delete&quot;)\r\n                .setIcon(R.drawable.ic_baseline_delete_24)\r\n                .setPositiveButton(&quot;yes&quot;, (dialogInterface, i) -&gt; databaseHelper.notesDao().deleteNotes(new Notes(arrNotes.get(position).id, arrNotes.get(position).title, arrNotes.get(position).text)))\r\n                .setNegativeButton(&quot;No&quot;, (dialogInterface, i) -&gt; {\r\n\r\n                });\r\n        alert.show();\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nHow can i get rid of this error????","title":"Deleting issue from Room Database","body":"<p>I have an issue deleting item from app. It,s Actually a notes app in which i have created a AlertDialog function that deletes notes. here is code for my function</p>\n<pre><code> private void showDeleteDialog(int position) {\n        AlertDialog.Builder alert = new AlertDialog.Builder(context)\n                .setTitle(&quot;Delete view&quot;)\n                .setMessage(&quot;Are you sure to delete&quot;)\n                .setIcon(R.drawable.ic_baseline_delete_24)\n                .setPositiveButton(&quot;yes&quot;, (dialogInterface, i) -&gt; databaseHelper.notesDao().deleteNotes(new Notes(arrNotes.get(position).id, arrNotes.get(position).title, arrNotes.get(position).text)))\n                .setNegativeButton(&quot;No&quot;, (dialogInterface, i) -&gt; {\n\n                });\n        alert.show();\n    }\n\n</code></pre>\n<p>Here i call it</p>\n<pre><code>        holder.llView.setOnLongClickListener(view -&gt; {\n            showDeleteDialog(position);\n            return true;\n        });\n</code></pre>\n<p><strong>When i click yes then app crashed but it succuessfully delets notes from database.This is the error i got</strong></p>\n<pre><code>    java.lang.IndexOutOfBoundsException: Inconsistency detected. Invalid view holder adapter positionViewHolder{a4d7d56 position=1 id=-1, oldPos=0, pLpos:0 scrap [attachedScrap] tmpDetached no parent} androidx.recyclerview.widget.RecyclerView{815f028 VFED..... ......I. 31,171-689,776 #7f090165 app:id/recycler_view}, adapter:com.example.keepnotes.RecyclerViewAdapter@773a141, layout:androidx.recyclerview.widget.StaggeredGridLayoutManager@a3a6e6, context:com.example.keepnotes.MainActivity@3065e55\n</code></pre>\n<p>All of this is in RecyclerView Adapter. The code for recyclerView adapter is following</p>\n<pre><code>package com.example.keepnotes;\n\nimport android.annotation.SuppressLint;\nimport android.app.AlertDialog;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.cardview.widget.CardView;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class RecyclerViewAdapter extends RecyclerView.Adapter&lt;RecyclerViewAdapter.ViewHolder&gt; {\n\n    Context context;\n    ArrayList&lt;Notes&gt; arrNotes;\n    DatabaseHelper databaseHelper;\n    private RecyclerView.RecyclerListener listener;\n\n    RecyclerViewAdapter(Context context, ArrayList&lt;Notes&gt; arrNotes, DatabaseHelper databaseHelper) {\n        this.context = context;\n        this.arrNotes = arrNotes;\n        this.databaseHelper = databaseHelper;\n    }\n\n    public RecyclerViewAdapter(ArrayList&lt;Notes&gt; arrNotes, RecyclerView.RecyclerListener listener) {\n        this.arrNotes = arrNotes;\n        this.listener = listener;\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.single_view, parent, false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\n        holder.title.setText(arrNotes.get(position).title);\n        holder.body.setText(arrNotes.get(position).text);\n        holder.index.setText(String.valueOf(position + 1));\n\n\n        holder.llView.setOnClickListener(view -&gt; {\n            Intent iNext = new Intent(context, ViewActivity.class);\n            iNext.putExtra(&quot;title&quot;, arrNotes.get(position).title);\n            iNext.putExtra(&quot;text&quot;, arrNotes.get(position).text);\n            context.startActivity(iNext);\n        });\n\n        holder.llView.setOnLongClickListener(view -&gt; {\n            showDeleteDialog(position);\n            return true;\n        });\n\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return arrNotes.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n\n        TextView title, body, index;\n        CardView llView;\n\n        public ViewHolder(View itemView) {\n            super(itemView);\n            title = itemView.findViewById(R.id.text_title_view);\n            body = itemView.findViewById(R.id.text_text_view);\n            index = itemView.findViewById(R.id.index);\n            llView = itemView.findViewById(R.id.card_View);\n            databaseHelper = DatabaseHelper.getDatabase(context);\n        }\n    }\n\n    private void showDeleteDialog(int position) {\n        AlertDialog.Builder alert = new AlertDialog.Builder(context)\n                .setTitle(&quot;Delete view&quot;)\n                .setMessage(&quot;Are you sure to delete&quot;)\n                .setIcon(R.drawable.ic_baseline_delete_24)\n                .setPositiveButton(&quot;yes&quot;, (dialogInterface, i) -&gt; databaseHelper.notesDao().deleteNotes(new Notes(arrNotes.get(position).id, arrNotes.get(position).title, arrNotes.get(position).text)))\n                .setNegativeButton(&quot;No&quot;, (dialogInterface, i) -&gt; {\n\n                });\n        alert.show();\n    }\n}\n\n\n</code></pre>\n<p>How can i get rid of this error????</p>\n"},{"tags":["java","validation","vavr"],"comments":[{"owner":{"account_id":688414,"reputation":82638,"user_id":542270,"accept_rate":86,"display_name":"Opal"},"score":0,"creation_date":1656316391,"post_id":70635688,"comment_id":128532587,"body_markdown":"It seems that you can add you custom `combine` method.","body":"It seems that you can add you custom <code>combine</code> method."}],"answers":[{"tags":[],"owner":{"account_id":442405,"reputation":2504,"user_id":833009,"accept_rate":50,"display_name":"jvwilge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662120952,"creation_date":1662120952,"answer_id":73582444,"question_id":70635688,"body_markdown":"I would do a nested combine and then flatten the results.\r\n\r\nIn our project we always have `Seq&lt;ValidationError&gt;` on the left side of a `Validation`, you don&#39;t have to but it is good to understand the code I&#39;ll show you.\r\n\r\nWith the first 8 Validations you return a new Validation in the `.ap`\r\nWhen you return a `Validation` inside `.ap` you will end up with something like this: \r\n\r\n```\r\nValidation&lt;Seq&lt;ValidationError&gt;, Validation&lt;Seq&lt;ValidationError&gt;, String&gt;&gt; x  = ...\r\n```\r\n\r\nThe needs to be flattened with the following piece of code:\r\n\r\n\r\n```\r\nValidation\r\n        .combine(step1, step2, step3, step4, step5, step6, step7, step8)\r\n        .ap((a, b, c, d, e, f ,g, h) -&gt; {\r\n            // do important stuff and\r\n            return Validation......\r\n        })\r\n        .mapError(Util::flattenErrors)\r\n        .fold(Validation::invalid, Function.identity());\r\n```\r\n\r\nThe Util class:\r\n```\r\npublic static Seq&lt;ValidationError&gt; flattenErrors(final Seq&lt;Seq&lt;ValidationError&gt;&gt; nested) {\r\n    return nested\r\n            .flatMap(Function.identity())\r\n            .distinct(); //optional duplicate filtering\r\n}\r\n```\r\n\r\nWith this new validation you can do the same trick again (you can add 7 new validations every time or create a few and do another combine, depends a bit on the number of validations you have).","title":"Validating an object with a long list of predicates","body":"<p>I would do a nested combine and then flatten the results.</p>\n<p>In our project we always have <code>Seq&lt;ValidationError&gt;</code> on the left side of a <code>Validation</code>, you don't have to but it is good to understand the code I'll show you.</p>\n<p>With the first 8 Validations you return a new Validation in the <code>.ap</code>\nWhen you return a <code>Validation</code> inside <code>.ap</code> you will end up with something like this:</p>\n<pre><code>Validation&lt;Seq&lt;ValidationError&gt;, Validation&lt;Seq&lt;ValidationError&gt;, String&gt;&gt; x  = ...\n</code></pre>\n<p>The needs to be flattened with the following piece of code:</p>\n<pre><code>Validation\n        .combine(step1, step2, step3, step4, step5, step6, step7, step8)\n        .ap((a, b, c, d, e, f ,g, h) -&gt; {\n            // do important stuff and\n            return Validation......\n        })\n        .mapError(Util::flattenErrors)\n        .fold(Validation::invalid, Function.identity());\n</code></pre>\n<p>The Util class:</p>\n<pre><code>public static Seq&lt;ValidationError&gt; flattenErrors(final Seq&lt;Seq&lt;ValidationError&gt;&gt; nested) {\n    return nested\n            .flatMap(Function.identity())\n            .distinct(); //optional duplicate filtering\n}\n</code></pre>\n<p>With this new validation you can do the same trick again (you can add 7 new validations every time or create a few and do another combine, depends a bit on the number of validations you have).</p>\n"}],"owner":{"account_id":17069592,"reputation":115,"user_id":12350751,"display_name":"FaraBara"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662120952,"creation_date":1641669996,"question_id":70635688,"body_markdown":"I have an object, Bill, with a number of fields. In the method below, I get the bill with a function. I want to validate it with a list of `Predicate&lt;Bill&gt;`, which are paired with the appropriate error message to be applied if the predicate test fails. How can I accumulate the error messages given a list of tests, given that I can have more than eight conditions, and therefore won&#39;t be able to use `Validation.combine`?\r\n\r\n```\r\ndefault Validation&lt;Seq&lt;String&gt;, Long&gt; validate(\r\n                 Long id,\r\n                 Long, Bill&gt; getBill, \r\n                 List&lt;Pair&lt;Predicate&lt;Bill&gt;,String&gt;&gt; tests){\r\n        Bill bill = getBill.apply(id);\r\n\r\n        //I want to do the same thing \r\n        //but using the list I passed in, \r\n        //without the limitation of eight validations.\r\n        return Validation.combine(\r\n                validateBill(bill, Pair.of(hasDateInsurerReceivedBill, &quot;Date Insurer Received Bill absent&quot;)),\r\n                validateBill(bill, Pair.of(EventValidation.hasEmployeeIdNumber, &quot;Employee ID Number absent&quot;))\r\n        ).ap((x, y) -&gt; id);\r\n    }\r\n```\r\n\r\n```\r\ndefault Validation&lt;String,Long&gt; validateBill(\r\nBill bill, Pair&lt;Predicate&lt;Bill&gt;, String&gt; condition)\r\n{\r\n        return condition.getFirst().test(bill) ?\r\n                Validation.valid(bill.getIntId())\r\n                : Validation.invalid(condition.getSecond());\r\n}\r\n```\r\n\r\n\r\n\r\nI&#39;m brand new to this library and I&#39;m not terribly familiar with functional programming yet, so please use examples and the simplest terminology possible in any explanations.","title":"Validating an object with a long list of predicates","body":"<p>I have an object, Bill, with a number of fields. In the method below, I get the bill with a function. I want to validate it with a list of <code>Predicate&lt;Bill&gt;</code>, which are paired with the appropriate error message to be applied if the predicate test fails. How can I accumulate the error messages given a list of tests, given that I can have more than eight conditions, and therefore won't be able to use <code>Validation.combine</code>?</p>\n<pre><code>default Validation&lt;Seq&lt;String&gt;, Long&gt; validate(\n                 Long id,\n                 Long, Bill&gt; getBill, \n                 List&lt;Pair&lt;Predicate&lt;Bill&gt;,String&gt;&gt; tests){\n        Bill bill = getBill.apply(id);\n\n        //I want to do the same thing \n        //but using the list I passed in, \n        //without the limitation of eight validations.\n        return Validation.combine(\n                validateBill(bill, Pair.of(hasDateInsurerReceivedBill, &quot;Date Insurer Received Bill absent&quot;)),\n                validateBill(bill, Pair.of(EventValidation.hasEmployeeIdNumber, &quot;Employee ID Number absent&quot;))\n        ).ap((x, y) -&gt; id);\n    }\n</code></pre>\n<pre><code>default Validation&lt;String,Long&gt; validateBill(\nBill bill, Pair&lt;Predicate&lt;Bill&gt;, String&gt; condition)\n{\n        return condition.getFirst().test(bill) ?\n                Validation.valid(bill.getIntId())\n                : Validation.invalid(condition.getSecond());\n}\n</code></pre>\n<p>I'm brand new to this library and I'm not terribly familiar with functional programming yet, so please use examples and the simplest terminology possible in any explanations.</p>\n"},{"tags":["java","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1396534412,"creation_date":1396534412,"answer_id":22840397,"question_id":22840170,"body_markdown":"One way is to use a `toMap` collector:\r\n\r\n    import static java.util.stream.Collectors.toMap;\r\n\r\n    Map&lt;String, String&gt; byNameMap = people.entrySet().stream()\r\n                                         .collect(toMap(Entry::getKey, \r\n                                                        e -&gt; e.getValue().getName()));","title":"Using streams, how can I map the values in a HashMap?","body":"<p>One way is to use a <code>toMap</code> collector:</p>\n\n<pre><code>import static java.util.stream.Collectors.toMap;\n\nMap&lt;String, String&gt; byNameMap = people.entrySet().stream()\n                                     .collect(toMap(Entry::getKey, \n                                                    e -&gt; e.getValue().getName()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"down_vote_count":0,"up_vote_count":58,"is_accepted":true,"score":58,"last_activity_date":1626812377,"creation_date":1396534627,"answer_id":22840483,"question_id":22840170,"body_markdown":"With Java 8 you can do:\r\n\r\n    Map&lt;String, String&gt; byNameMap = new HashMap&lt;&gt;();\r\n    people.forEach((k, v) -&gt; byNameMap.put(k, v.getName());\r\n\r\nThough you&#39;d be better off using Guava&#39;s [Maps.transformValues][1], which wraps the original `Map` and does the conversion when you do the `get`, meaning you only pay the conversion cost when you actually consume the value.  \r\n\r\nUsing Guava would look like this:\r\n\r\n    Map&lt;String, String&gt; byNameMap = Maps.transformValues(people, Person::getName);\r\n\r\n**EDIT:**\r\n\r\nFollowing @Eelco&#39;s comment (and for completeness), the conversion to a map is better done with [Collectors.toMap][2] like this:\r\n\r\n    Map&lt;String, String&gt; byNameMap = people.entrySet()\r\n      .stream()\r\n      .collect(Collectors.toMap(Map.Entry::getKey, (entry) -&gt; entry.getValue().getName());\r\n\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Maps.html#transformValues%28java.util.Map,%20com.google.common.base.Function%29\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-","title":"Using streams, how can I map the values in a HashMap?","body":"<p>With Java 8 you can do:</p>\n<pre><code>Map&lt;String, String&gt; byNameMap = new HashMap&lt;&gt;();\npeople.forEach((k, v) -&gt; byNameMap.put(k, v.getName());\n</code></pre>\n<p>Though you'd be better off using Guava's <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Maps.html#transformValues%28java.util.Map,%20com.google.common.base.Function%29\" rel=\"noreferrer\">Maps.transformValues</a>, which wraps the original <code>Map</code> and does the conversion when you do the <code>get</code>, meaning you only pay the conversion cost when you actually consume the value.</p>\n<p>Using Guava would look like this:</p>\n<pre><code>Map&lt;String, String&gt; byNameMap = Maps.transformValues(people, Person::getName);\n</code></pre>\n<p><strong>EDIT:</strong></p>\n<p>Following @Eelco's comment (and for completeness), the conversion to a map is better done with <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-\" rel=\"noreferrer\">Collectors.toMap</a> like this:</p>\n<pre><code>Map&lt;String, String&gt; byNameMap = people.entrySet()\n  .stream()\n  .collect(Collectors.toMap(Map.Entry::getKey, (entry) -&gt; entry.getValue().getName());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1528372496,"creation_date":1528372496,"answer_id":50740570,"question_id":22840170,"body_markdown":"Using a bit of generic code that I&#39;ve sadly not found in the libraries I had at hand\r\n\r\n    public static &lt;K, V1, V2&gt; Map&lt;K, V2&gt; remap(Map&lt;K, V1&gt; map,\r\n            Function&lt;? super V1, ? extends V2&gt; function) {\r\n\r\n        return map.entrySet()\r\n                .stream() // or parallel\r\n                .collect(Collectors.toMap(\r\n                        Map.Entry::getKey, \r\n                        e -&gt; function.apply(e.getValue())\r\n                    ));\r\n    }\r\n\r\nThis becomes essentially the same as Guavas `Maps.transformValues` minus the downsides mentioned by others.\r\n\r\n    Map&lt;String, Person&gt; persons = ...;\r\n    Map&lt;String, String&gt; byNameMap = remap(persons, Person::getName);\r\n\r\nAnd in case you need the key as well as the value in your remapping function, this second version makes that possible\r\n\r\n    public static &lt;K, V1, V2&gt; Map&lt;K, V2&gt; remap(Map&lt;K, V1&gt; map,\r\n            BiFunction&lt;? super K, ? super V1, ? extends V2&gt; function) {\r\n\r\n        return map.entrySet()\r\n                .stream() // or parallel\r\n                .collect(Collectors.toMap(\r\n                        Map.Entry::getKey,\r\n                        e -&gt; function.apply(e.getKey(), e.getValue())\r\n                    ));\r\n    }\r\n\r\nIt can be used for example like\r\n\r\n    Map&lt;String, String&gt; byNameMap = remap(persons, (key, val) -&gt; key + &quot;:&quot; + val.getName());","title":"Using streams, how can I map the values in a HashMap?","body":"<p>Using a bit of generic code that I've sadly not found in the libraries I had at hand</p>\n\n<pre><code>public static &lt;K, V1, V2&gt; Map&lt;K, V2&gt; remap(Map&lt;K, V1&gt; map,\n        Function&lt;? super V1, ? extends V2&gt; function) {\n\n    return map.entrySet()\n            .stream() // or parallel\n            .collect(Collectors.toMap(\n                    Map.Entry::getKey, \n                    e -&gt; function.apply(e.getValue())\n                ));\n}\n</code></pre>\n\n<p>This becomes essentially the same as Guavas <code>Maps.transformValues</code> minus the downsides mentioned by others.</p>\n\n<pre><code>Map&lt;String, Person&gt; persons = ...;\nMap&lt;String, String&gt; byNameMap = remap(persons, Person::getName);\n</code></pre>\n\n<p>And in case you need the key as well as the value in your remapping function, this second version makes that possible</p>\n\n<pre><code>public static &lt;K, V1, V2&gt; Map&lt;K, V2&gt; remap(Map&lt;K, V1&gt; map,\n        BiFunction&lt;? super K, ? super V1, ? extends V2&gt; function) {\n\n    return map.entrySet()\n            .stream() // or parallel\n            .collect(Collectors.toMap(\n                    Map.Entry::getKey,\n                    e -&gt; function.apply(e.getKey(), e.getValue())\n                ));\n}\n</code></pre>\n\n<p>It can be used for example like</p>\n\n<pre><code>Map&lt;String, String&gt; byNameMap = remap(persons, (key, val) -&gt; key + \":\" + val.getName());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7572098,"reputation":183,"user_id":5745627,"accept_rate":86,"display_name":"Jing Ma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662120901,"creation_date":1662120535,"answer_id":73582358,"question_id":22840170,"body_markdown":"Since Java 9 you can also do:\r\n\r\n    Entry&lt;String, String&gt; entry = Map.entry(&quot;a&quot;, &quot;b&quot;);\r\nIn your Map it would be used like this:\r\n\r\n    Map&lt;String, String&gt; byNameMap = people.entrySet()\r\n      .stream()\r\n      .map(entry -&gt; Map.entry(entry.getKey(), entry.getValue().getName()))\r\n      .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue);","title":"Using streams, how can I map the values in a HashMap?","body":"<p>Since Java 9 you can also do:</p>\n<pre><code>Entry&lt;String, String&gt; entry = Map.entry(&quot;a&quot;, &quot;b&quot;);\n</code></pre>\n<p>In your Map it would be used like this:</p>\n<pre><code>Map&lt;String, String&gt; byNameMap = people.entrySet()\n  .stream()\n  .map(entry -&gt; Map.entry(entry.getKey(), entry.getValue().getName()))\n  .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue);\n</code></pre>\n"}],"owner":{"account_id":88837,"reputation":1406,"user_id":245502,"accept_rate":78,"display_name":"David Kerr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20642,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":22840483,"answer_count":4,"score":47,"last_activity_date":1662120901,"creation_date":1396533829,"question_id":22840170,"body_markdown":"Given a `Map&lt;String, Person&gt;` where Person has a `String getName()` (etc) method on it, how can I turn the `Map&lt;String, Person&gt;` into a `Map&lt;String, String&gt;` where the `String` is obtained from calling `Person::getName()`?\r\n\r\nPre-Java 8 I&#39;d use\r\n\r\n    Map&lt;String, String&gt; byNameMap = new HashMap&lt;&gt;();\r\n\t\t\r\n    for (Map.Entry&lt;String, Person&gt; person : people.entrySet()) {\r\n        byNameMap.put(person.getKey(), person.getValue().getName());\r\n    }\r\n\r\nbut I&#39;d like to do it using streams and lambdas.\r\n\r\nI can&#39;t see how to do this in a functional style: Map/HashMap don&#39;t implement [`Stream`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html).\r\n\r\n`people.entrySet()` returns a `Set&lt;Entry&lt;String, Person&gt;&gt;` which I can stream over, but how can I add a new `Entry&lt;String, String&gt;` to the destination map?","title":"Using streams, how can I map the values in a HashMap?","body":"<p>Given a <code>Map&lt;String, Person&gt;</code> where Person has a <code>String getName()</code> (etc) method on it, how can I turn the <code>Map&lt;String, Person&gt;</code> into a <code>Map&lt;String, String&gt;</code> where the <code>String</code> is obtained from calling <code>Person::getName()</code>?</p>\n\n<p>Pre-Java 8 I'd use</p>\n\n<pre><code>Map&lt;String, String&gt; byNameMap = new HashMap&lt;&gt;();\n\nfor (Map.Entry&lt;String, Person&gt; person : people.entrySet()) {\n    byNameMap.put(person.getKey(), person.getValue().getName());\n}\n</code></pre>\n\n<p>but I'd like to do it using streams and lambdas.</p>\n\n<p>I can't see how to do this in a functional style: Map/HashMap don't implement <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"noreferrer\"><code>Stream</code></a>.</p>\n\n<p><code>people.entrySet()</code> returns a <code>Set&lt;Entry&lt;String, Person&gt;&gt;</code> which I can stream over, but how can I add a new <code>Entry&lt;String, String&gt;</code> to the destination map?</p>\n"},{"tags":["java","dictionary","java-8","java-stream"],"comments":[{"owner":{"account_id":4860165,"reputation":27613,"user_id":3920048,"display_name":"Misha"},"score":0,"creation_date":1435649501,"post_id":31131984,"comment_id":50275365,"body_markdown":"what do you want the `getItems()` method to return?","body":"what do you want the <code>getItems()</code> method to return?"},{"owner":{"account_id":2395407,"reputation":4656,"user_id":2094298,"accept_rate":93,"display_name":"Ruckus T-Boom"},"score":0,"creation_date":1435649676,"post_id":31131984,"comment_id":50275470,"body_markdown":"It doesn&#39;t really matter.  A set of entries would be great, but anything that would allow me to loop over them in the order they are returned (they are stored in a `TreeSet&lt;Instant, String&gt;` so they stay in chronological order).","body":"It doesn&#39;t really matter.  A set of entries would be great, but anything that would allow me to loop over them in the order they are returned (they are stored in a <code>TreeSet&lt;Instant, String&gt;</code> so they stay in chronological order)."},{"owner":{"account_id":2243116,"reputation":5530,"user_id":1977151,"accept_rate":40,"display_name":"Vlasec"},"score":2,"creation_date":1435650386,"post_id":31131984,"comment_id":50275931,"body_markdown":"Uhm, I think you treat set and map as interchangeable, in fact they differ. A set is basically a map to Boolean, a map is generally not a set.","body":"Uhm, I think you treat set and map as interchangeable, in fact they differ. A set is basically a map to Boolean, a map is generally not a set."},{"owner":{"account_id":2395407,"reputation":4656,"user_id":2094298,"accept_rate":93,"display_name":"Ruckus T-Boom"},"score":0,"creation_date":1435652127,"post_id":31131984,"comment_id":50276887,"body_markdown":"@Vlasec You are of course correct.  Maybe it&#39;s time I get to bed.  It is only 0215 though, so I think I&#39;m good for a few more hours...","body":"@Vlasec You are of course correct.  Maybe it&#39;s time I get to bed.  It is only 0215 though, so I think I&#39;m good for a few more hours..."}],"answers":[{"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1435650102,"creation_date":1435650102,"answer_id":31132383,"question_id":31131984,"body_markdown":"If you want a `Map` as result:\r\n\r\n\tMap&lt;Instant, String&gt; getItems() {\r\n\t\treturn items.entrySet()\r\n\t\t\t\t.stream()\r\n\t\t\t\t.collect(Collectors.toMap(\r\n\t\t\t\t\t\tMap.Entry::getKey,\r\n\t\t\t\t\t\te -&gt; renderTags(e.getValue())));\r\n\t}","title":"Java 8: Change the values of an EntrySet stream","body":"<p>If you want a <code>Map</code> as result:</p>\n\n<pre><code>Map&lt;Instant, String&gt; getItems() {\n    return items.entrySet()\n            .stream()\n            .collect(Collectors.toMap(\n                    Map.Entry::getKey,\n                    e -&gt; renderTags(e.getValue())));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2243116,"reputation":5530,"user_id":1977151,"accept_rate":40,"display_name":"Vlasec"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1435650558,"creation_date":1435650156,"answer_id":31132405,"question_id":31131984,"body_markdown":"You can try it this way with `Collectors.toMap()`:\r\n\r\n    Map&lt;Instant, String&gt; getItems() {\r\n        return items.entrySet().stream()\r\n                    .collect(Collectors.toMap(\r\n                                Map.Entry::getKey,\r\n                                entry -&gt; renderTags(entry.getValue())\r\n                             ));\r\n    }\r\n\r\nBy the way, if the name says simply &quot;get&quot;, you shouldn&#39;t generally transform it in there. One expects a getter to be simple and not costy at all.","title":"Java 8: Change the values of an EntrySet stream","body":"<p>You can try it this way with <code>Collectors.toMap()</code>:</p>\n\n<pre><code>Map&lt;Instant, String&gt; getItems() {\n    return items.entrySet().stream()\n                .collect(Collectors.toMap(\n                            Map.Entry::getKey,\n                            entry -&gt; renderTags(entry.getValue())\n                         ));\n}\n</code></pre>\n\n<p>By the way, if the name says simply \"get\", you shouldn't generally transform it in there. One expects a getter to be simple and not costy at all.</p>\n"},{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1435650851,"creation_date":1435650851,"answer_id":31132607,"question_id":31131984,"body_markdown":"If you want to modify an existing map instead of generating the new one (as in your example), there&#39;s no need to use the stream at all. Use `Map.replaceAll`:\r\n\r\n    items.replaceAll((k, v) -&gt; renderTags(v));\r\n    return items;\r\n\r\nIf you want to keep the original map unchanged, consult other answers.","title":"Java 8: Change the values of an EntrySet stream","body":"<p>If you want to modify an existing map instead of generating the new one (as in your example), there's no need to use the stream at all. Use <code>Map.replaceAll</code>:</p>\n\n<pre><code>items.replaceAll((k, v) -&gt; renderTags(v));\nreturn items;\n</code></pre>\n\n<p>If you want to keep the original map unchanged, consult other answers.</p>\n"},{"tags":[],"owner":{"account_id":938951,"reputation":521,"user_id":4823741,"display_name":"Max"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1653049709,"creation_date":1435651804,"answer_id":31132908,"question_id":31131984,"body_markdown":"An alternative could be\r\n\r\n    Map&lt;Instant, String&gt; getItems() {\r\n    return items.entrySet().stream()\r\n               .peek(entry -&gt; entry.setValue(renderTags(entry.getKey())))\r\n               .collect(Collectors.toMap(Map.Entry::getKey,e -&gt; e.getValue()));\r\n    }\r\n    \r\nsee [Baeldung][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-streams-peek-api","title":"Java 8: Change the values of an EntrySet stream","body":"<p>An alternative could be</p>\n<pre><code>Map&lt;Instant, String&gt; getItems() {\nreturn items.entrySet().stream()\n           .peek(entry -&gt; entry.setValue(renderTags(entry.getKey())))\n           .collect(Collectors.toMap(Map.Entry::getKey,e -&gt; e.getValue()));\n}\n</code></pre>\n<p>see <a href=\"https://www.baeldung.com/java-streams-peek-api\" rel=\"nofollow noreferrer\">Baeldung</a></p>\n"},{"tags":[],"owner":{"account_id":7572098,"reputation":183,"user_id":5745627,"accept_rate":86,"display_name":"Jing Ma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662120823,"creation_date":1662120823,"answer_id":73582419,"question_id":31131984,"body_markdown":"Since Java 9 you can also do:\r\n\r\n    Entry&lt;String, String&gt; entry = Map.entry(&quot;a&quot;, &quot;b&quot;);\r\nIn your Map it would be used like this:\r\n\r\n    Map&lt;Instant, String&gt; getItems() {\r\n        return items.entrySet()\r\n                .stream()\r\n                .map(entry -&gt; Map.entry(entry.getKey(), renderTags(entry.getValue())))\r\n                .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue);\r\n    }","title":"Java 8: Change the values of an EntrySet stream","body":"<p>Since Java 9 you can also do:</p>\n<pre><code>Entry&lt;String, String&gt; entry = Map.entry(&quot;a&quot;, &quot;b&quot;);\n</code></pre>\n<p>In your Map it would be used like this:</p>\n<pre><code>Map&lt;Instant, String&gt; getItems() {\n    return items.entrySet()\n            .stream()\n            .map(entry -&gt; Map.entry(entry.getKey(), renderTags(entry.getValue())))\n            .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue);\n}\n</code></pre>\n"}],"owner":{"account_id":2395407,"reputation":4656,"user_id":2094298,"accept_rate":93,"display_name":"Ruckus T-Boom"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40857,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":31132383,"answer_count":5,"score":28,"last_activity_date":1662120823,"creation_date":1435648843,"question_id":31131984,"body_markdown":"I have the following setup:\r\n\r\n    Map&lt;Instant, String&gt; items;\r\n    ...\r\n    String renderTags(String text) {\r\n        // Renders markup tags in a string to human readable form\r\n    }\r\n    ...\r\n    &lt;?&gt; getItems() {\r\n        // Here is where I need help\r\n    }\r\n\r\nMy problems is, the strings that are the values of the `items` map are marked up with tags.  I want `getItems()` to return all the items, but with the strings parsed using the `renderTags(String)` method.  Something like:\r\n\r\n    // Doesn&#39;t work\r\n    items.entrySet().stream().map(e -&gt; e.setValue(renderTags(e.getValue())));\r\n\r\nWhat is the most effective way to do this?","title":"Java 8: Change the values of an EntrySet stream","body":"<p>I have the following setup:</p>\n\n<pre><code>Map&lt;Instant, String&gt; items;\n...\nString renderTags(String text) {\n    // Renders markup tags in a string to human readable form\n}\n...\n&lt;?&gt; getItems() {\n    // Here is where I need help\n}\n</code></pre>\n\n<p>My problems is, the strings that are the values of the <code>items</code> map are marked up with tags.  I want <code>getItems()</code> to return all the items, but with the strings parsed using the <code>renderTags(String)</code> method.  Something like:</p>\n\n<pre><code>// Doesn't work\nitems.entrySet().stream().map(e -&gt; e.setValue(renderTags(e.getValue())));\n</code></pre>\n\n<p>What is the most effective way to do this?</p>\n"},{"tags":["java","generics","warnings"],"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1233761633,"post_id":509076,"comment_id":325598,"body_markdown":"If you&#39;re using HttpSession like that, check out Brian Goetz&#39;s article on the subject: http://www.ibm.com/developerworks/library/j-jtp09238.html","body":"If you&#39;re using HttpSession like that, check out Brian Goetz&#39;s article on the subject: <a href=\"http://www.ibm.com/developerworks/library/j-jtp09238.html\" rel=\"nofollow noreferrer\">ibm.com/developerworks/library/j-jtp09238.html</a>"},{"owner":{"account_id":302533,"reputation":1451,"user_id":610966,"accept_rate":85,"display_name":"Philip Guin"},"score":0,"creation_date":1342492753,"post_id":509076,"comment_id":15217822,"body_markdown":"If an unchecked cast is unavoidable, a good idea is to tightly couple it with something that logically represents it&#39;s type (like an `enum` or even instances of `Class&lt;T&gt;`), so you can glance at it and _know_ it&#39;s safe.","body":"If an unchecked cast is unavoidable, a good idea is to tightly couple it with something that logically represents it&#39;s type (like an <code>enum</code> or even instances of <code>Class&lt;T&gt;</code>), so you can glance at it and <i>know</i> it&#39;s safe."},{"owner":{"account_id":31330,"reputation":33286,"user_id":85950,"accept_rate":64,"display_name":"blahdiblah"},"score":4,"creation_date":1363029359,"post_id":509076,"comment_id":21677459,"body_markdown":"Related/dupe: [Type safety: Unchecked cast](http://stackoverflow.com/q/262367)","body":"Related/dupe: <a href=\"http://stackoverflow.com/q/262367\">Type safety: Unchecked cast</a>"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":3,"creation_date":1368795268,"post_id":509076,"comment_id":23877133,"body_markdown":"possible duplicate of [Type safety: Unchecked cast](http://stackoverflow.com/questions/262367/type-safety-unchecked-cast)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/262367/type-safety-unchecked-cast\">Type safety: Unchecked cast</a>"},{"owner":{"account_id":231117,"reputation":8541,"user_id":495157,"accept_rate":40,"display_name":"JGFMK"},"score":1,"creation_date":1579109026,"post_id":509076,"comment_id":105659235,"body_markdown":"I would add, I found I could only add @SuppressWarnings(&quot;unchecked&quot;) at the method level that contains the offending code. So I broke the code out to a routine where I had to do this. I always thought you could do this immediately above the line in question.","body":"I would add, I found I could only add @SuppressWarnings(&quot;unchecked&quot;) at the method level that contains the offending code. So I broke the code out to a routine where I had to do this. I always thought you could do this immediately above the line in question."}],"answers":[{"tags":[],"owner":{"account_id":21049,"reputation":5503,"user_id":50866,"accept_rate":60,"display_name":"Mark Davidson"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1233698685,"creation_date":1233698685,"answer_id":509106,"question_id":509076,"body_markdown":"A quick guess if you post your code can say for sure but you might have done something along the lines of\r\n\r\n    HashMap&lt;String, Object&gt; test = new HashMap();\r\n\r\nwhich will produce the warning when you need to do\r\n\r\n    HashMap&lt;String, Object&gt; test = new HashMap&lt;String, Object&gt;();\r\n\r\nit might be worth looking at \r\n\r\n[Generics in the Java Programming Language][1]\r\n\r\nif your unfamiliar with what needs to be done.\r\n\r\n  [1]: http://java.sun.com/j2se/1.5/pdf/generics-tutorial.pdf","title":"How do I address unchecked cast warnings?","body":"<p>A quick guess if you post your code can say for sure but you might have done something along the lines of</p>\n\n<pre><code>HashMap&lt;String, Object&gt; test = new HashMap();\n</code></pre>\n\n<p>which will produce the warning when you need to do</p>\n\n<pre><code>HashMap&lt;String, Object&gt; test = new HashMap&lt;String, Object&gt;();\n</code></pre>\n\n<p>it might be worth looking at </p>\n\n<p><a href=\"http://java.sun.com/j2se/1.5/pdf/generics-tutorial.pdf\" rel=\"nofollow noreferrer\">Generics in the Java Programming Language</a></p>\n\n<p>if your unfamiliar with what needs to be done.</p>\n"},{"tags":[],"owner":{"account_id":16209,"reputation":280482,"user_id":35070,"accept_rate":78,"display_name":"phihag"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1233698708,"creation_date":1233698708,"answer_id":509107,"question_id":509076,"body_markdown":"I may have misunderstood the question(an example and a couple of surrounding lines would be nice), but why don&#39;t you always use an appropriate interface (and Java5+)? I see no reason why you would ever want to cast to a `HashMap` instead of a `Map&lt;KeyType,ValueType&gt;`. In fact, I can&#39;t imagine *any* reason to set the type of a variable to `HashMap` instead of `Map`.\r\n\r\nAnd why is the source an `Object`? Is it a parameter type of a legacy collection? If so, use generics and specify the type you want.","title":"How do I address unchecked cast warnings?","body":"<p>I may have misunderstood the question(an example and a couple of surrounding lines would be nice), but why don't you always use an appropriate interface (and Java5+)? I see no reason why you would ever want to cast to a <code>HashMap</code> instead of a <code>Map&lt;KeyType,ValueType&gt;</code>. In fact, I can't imagine <em>any</em> reason to set the type of a variable to <code>HashMap</code> instead of <code>Map</code>.</p>\n\n<p>And why is the source an <code>Object</code>? Is it a parameter type of a legacy collection? If so, use generics and specify the type you want.</p>\n"},{"tags":[],"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"down_vote_count":2,"up_vote_count":612,"is_accepted":false,"score":610,"last_activity_date":1233700258,"creation_date":1233698829,"answer_id":509115,"question_id":509076,"body_markdown":"The obvious answer, of course, is not to do the unchecked cast.\r\n\r\nIf it&#39;s absolutely necessary, then at least try to limit the scope of the `@SuppressWarnings` annotation. According to its [Javadocs][1], it can go on local variables; this way, it doesn&#39;t even affect the entire method.\r\n\r\nExample:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    Map&lt;String, String&gt; myMap = (Map&lt;String, String&gt;) deserializeMap();\r\n\r\nThere is no way to determine whether the `Map` really should have the generic parameters `&lt;String, String&gt;`. You must know beforehand what the parameters should be (or you&#39;ll find out when you get a `ClassCastException`). This is why the code generates a warning, because the compiler can&#39;t possibly know whether is safe.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/SuppressWarnings.html","title":"How do I address unchecked cast warnings?","body":"<p>The obvious answer, of course, is not to do the unchecked cast.</p>\n\n<p>If it's absolutely necessary, then at least try to limit the scope of the <code>@SuppressWarnings</code> annotation. According to its <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/SuppressWarnings.html\" rel=\"noreferrer\">Javadocs</a>, it can go on local variables; this way, it doesn't even affect the entire method.</p>\n\n<p>Example:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\nMap&lt;String, String&gt; myMap = (Map&lt;String, String&gt;) deserializeMap();\n</code></pre>\n\n<p>There is no way to determine whether the <code>Map</code> really should have the generic parameters <code>&lt;String, String&gt;</code>. You must know beforehand what the parameters should be (or you'll find out when you get a <code>ClassCastException</code>). This is why the code generates a warning, because the compiler can't possibly know whether is safe.</p>\n"},{"tags":[],"owner":{"account_id":8010,"reputation":4595,"user_id":14138,"display_name":"Rick"},"down_vote_count":5,"up_vote_count":5,"is_accepted":false,"score":0,"last_activity_date":1233701705,"creation_date":1233699394,"answer_id":509160,"question_id":509076,"body_markdown":"Just typecheck it before you cast it.\r\n\r\n    Object someObject = session.getAttribute(&quot;attributeKey&quot;);\r\n    if(someObject instanceof HashMap)\r\n\tHashMap&lt;String, String&gt; theHash = (HashMap&lt;String, String&gt;)someObject;  \r\n\r\nAnd for anyone asking, it&#39;s quite common to receive objects where you aren&#39;t sure of the type.  Plenty of legacy &quot;SOA&quot; implementations pass around various objects that you shouldn&#39;t always trust.  (The horrors!)\r\n\r\n**EDIT** Changed the example code once to match the poster&#39;s updates, and following some comments I see that instanceof doesn&#39;t play nicely with generics.  However changing the check to validate the outer object seems to play well with the commandline compiler.  Revised example now posted.","title":"How do I address unchecked cast warnings?","body":"<p>Just typecheck it before you cast it.</p>\n\n<pre><code>Object someObject = session.getAttribute(\"attributeKey\");\nif(someObject instanceof HashMap)\nHashMap&lt;String, String&gt; theHash = (HashMap&lt;String, String&gt;)someObject;  \n</code></pre>\n\n<p>And for anyone asking, it's quite common to receive objects where you aren't sure of the type.  Plenty of legacy \"SOA\" implementations pass around various objects that you shouldn't always trust.  (The horrors!)</p>\n\n<p><strong>EDIT</strong> Changed the example code once to match the poster's updates, and following some comments I see that instanceof doesn't play nicely with generics.  However changing the check to validate the outer object seems to play well with the commandline compiler.  Revised example now posted.</p>\n"},{"tags":[],"owner":{"account_id":9733,"reputation":98806,"user_id":18103,"accept_rate":68,"display_name":"skiphoppy"},"down_vote_count":19,"up_vote_count":133,"is_accepted":true,"score":114,"last_activity_date":1393512081,"creation_date":1233700501,"answer_id":509230,"question_id":509076,"body_markdown":"Wow; I think I figured out the answer to my own question.  I&#39;m just not sure it&#39;s worth it! :)\r\n\r\nThe problem is the cast isn&#39;t checked.  So, you have to check it yourself.  You can&#39;t just check a parameterized type with instanceof, because the parameterized type information is unavailable at runtime, having been erased at compile time.\r\n\r\nBut, you can perform a check on each and every item in the hash, with instanceof, and in doing so, you can construct a new hash that is type-safe.  And you won&#39;t provoke any warnings.\r\n\r\nThanks to mmyers and Esko Luontola, I&#39;ve parameterized the code I originally wrote here, so it can be wrapped up in a utility class somewhere and used for any parameterized HashMap.  If you want to understand it better and aren&#39;t very familiar with generics, I encourage viewing the edit history of this answer.\r\n\r\n    public static &lt;K, V&gt; HashMap&lt;K, V&gt; castHash(HashMap input,\r\n                                                Class&lt;K&gt; keyClass,\r\n                                                Class&lt;V&gt; valueClass) {\r\n      HashMap&lt;K, V&gt; output = new HashMap&lt;K, V&gt;();\r\n      if (input == null)\r\n          return output;\r\n      for (Object key: input.keySet().toArray()) {\r\n        if ((key == null) || (keyClass.isAssignableFrom(key.getClass()))) {\r\n            Object value = input.get(key);\r\n            if ((value == null) || (valueClass.isAssignableFrom(value.getClass()))) {\r\n                K k = keyClass.cast(key);\r\n                V v = valueClass.cast(value);\r\n                output.put(k, v);\r\n            } else {\r\n                throw new AssertionError(\r\n                    &quot;Cannot cast to HashMap&lt;&quot;+ keyClass.getSimpleName()\r\n                    +&quot;, &quot;+ valueClass.getSimpleName() +&quot;&gt;&quot;\r\n                    +&quot;, value &quot;+ value +&quot; is not a &quot;+ valueClass.getSimpleName()\r\n                );\r\n            }\r\n        } else {\r\n            throw new AssertionError(\r\n                &quot;Cannot cast to HashMap&lt;&quot;+ keyClass.getSimpleName()\r\n                +&quot;, &quot;+ valueClass.getSimpleName() +&quot;&gt;&quot;\r\n                +&quot;, key &quot;+ key +&quot; is not a &quot; + keyClass.getSimpleName()\r\n            );\r\n        }\r\n      }\r\n      return output;\r\n    }\r\n\r\n\r\nThat&#39;s a lot of work, possibly for very little reward...  I&#39;m not sure if I&#39;ll use it or not.  I&#39;d appreciate any comments as to whether people think it&#39;s worth it or not.  Also, I&#39;d appreciate improvement suggestions: is there something better I can do besides throw AssertionErrors?  Is there something better I could throw?  Should I make it a checked Exception?","title":"How do I address unchecked cast warnings?","body":"<p>Wow; I think I figured out the answer to my own question.  I'm just not sure it's worth it! :)</p>\n\n<p>The problem is the cast isn't checked.  So, you have to check it yourself.  You can't just check a parameterized type with instanceof, because the parameterized type information is unavailable at runtime, having been erased at compile time.</p>\n\n<p>But, you can perform a check on each and every item in the hash, with instanceof, and in doing so, you can construct a new hash that is type-safe.  And you won't provoke any warnings.</p>\n\n<p>Thanks to mmyers and Esko Luontola, I've parameterized the code I originally wrote here, so it can be wrapped up in a utility class somewhere and used for any parameterized HashMap.  If you want to understand it better and aren't very familiar with generics, I encourage viewing the edit history of this answer.</p>\n\n<pre><code>public static &lt;K, V&gt; HashMap&lt;K, V&gt; castHash(HashMap input,\n                                            Class&lt;K&gt; keyClass,\n                                            Class&lt;V&gt; valueClass) {\n  HashMap&lt;K, V&gt; output = new HashMap&lt;K, V&gt;();\n  if (input == null)\n      return output;\n  for (Object key: input.keySet().toArray()) {\n    if ((key == null) || (keyClass.isAssignableFrom(key.getClass()))) {\n        Object value = input.get(key);\n        if ((value == null) || (valueClass.isAssignableFrom(value.getClass()))) {\n            K k = keyClass.cast(key);\n            V v = valueClass.cast(value);\n            output.put(k, v);\n        } else {\n            throw new AssertionError(\n                \"Cannot cast to HashMap&lt;\"+ keyClass.getSimpleName()\n                +\", \"+ valueClass.getSimpleName() +\"&gt;\"\n                +\", value \"+ value +\" is not a \"+ valueClass.getSimpleName()\n            );\n        }\n    } else {\n        throw new AssertionError(\n            \"Cannot cast to HashMap&lt;\"+ keyClass.getSimpleName()\n            +\", \"+ valueClass.getSimpleName() +\"&gt;\"\n            +\", key \"+ key +\" is not a \" + keyClass.getSimpleName()\n        );\n    }\n  }\n  return output;\n}\n</code></pre>\n\n<p>That's a lot of work, possibly for very little reward...  I'm not sure if I'll use it or not.  I'd appreciate any comments as to whether people think it's worth it or not.  Also, I'd appreciate improvement suggestions: is there something better I can do besides throw AssertionErrors?  Is there something better I could throw?  Should I make it a checked Exception?</p>\n"},{"tags":[],"owner":{"account_id":15307,"reputation":17620,"user_id":32174,"accept_rate":71,"display_name":"Julien Chastang"},"down_vote_count":1,"up_vote_count":187,"is_accepted":false,"score":186,"last_activity_date":1569832075,"creation_date":1233701202,"answer_id":509288,"question_id":509076,"body_markdown":"Unfortunately, there are no great options here. Remember, the goal of all of this is to preserve type safety.  &quot;[Java Generics][1]&quot; offers a solution for dealing with non-genericized legacy libraries, and there is one in particular called the &quot;empty loop technique&quot; in section 8.2. Basically, make the unsafe cast, and suppress the warning. Then loop through the map like this:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    Map&lt;String, Number&gt; map = getMap();\r\n    for (String s : map.keySet());\r\n    for (Number n : map.values());\r\n\r\n\r\nIf an unexpected type is encountered, you will get a runtime `ClassCastException`, but at least it will happen close to the source of the problem.\r\n\r\n  [1]: https://books.google.co.uk/books?isbn=0596551509","title":"How do I address unchecked cast warnings?","body":"<p>Unfortunately, there are no great options here. Remember, the goal of all of this is to preserve type safety.  \"<a href=\"https://books.google.co.uk/books?isbn=0596551509\" rel=\"noreferrer\">Java Generics</a>\" offers a solution for dealing with non-genericized legacy libraries, and there is one in particular called the \"empty loop technique\" in section 8.2. Basically, make the unsafe cast, and suppress the warning. Then loop through the map like this:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\nMap&lt;String, Number&gt; map = getMap();\nfor (String s : map.keySet());\nfor (Number n : map.values());\n</code></pre>\n\n<p>If an unexpected type is encountered, you will get a runtime <code>ClassCastException</code>, but at least it will happen close to the source of the problem.</p>\n"},{"tags":[],"owner":{"account_id":9168,"reputation":12722,"user_id":16828,"accept_rate":87,"display_name":"Fortyrunner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1233701269,"creation_date":1233701269,"answer_id":509294,"question_id":509076,"body_markdown":"If I have to use an API that doesn&#39;t support Generics.. I try and isolate those calls in wrapper routines with as few lines as possible. I then use the SuppressWarnings annotation and also add the type-safety casts at the same time.\r\n\r\nThis is just a personal preference to keep things as neat as possible.  ","title":"How do I address unchecked cast warnings?","body":"<p>If I have to use an API that doesn't support Generics.. I try and isolate those calls in wrapper routines with as few lines as possible. I then use the SuppressWarnings annotation and also add the type-safety casts at the same time.</p>\n\n<p>This is just a personal preference to keep things as neat as possible.  </p>\n"},{"tags":[],"owner":{"account_id":24436,"reputation":73314,"user_id":62130,"accept_rate":39,"display_name":"Esko Luontola"},"down_vote_count":3,"up_vote_count":32,"is_accepted":false,"score":29,"last_activity_date":1233701673,"creation_date":1233701673,"answer_id":509324,"question_id":509076,"body_markdown":"You can create a utility class like the following, and use it to suppress the unchecked warning.\r\n\r\n    public class Objects {\r\n    \r\n        /**\r\n         * Helps to avoid using {@code @SuppressWarnings({&quot;unchecked&quot;})} when casting to a generic type.\r\n         */\r\n        @SuppressWarnings({&quot;unchecked&quot;})\r\n        public static &lt;T&gt; T uncheckedCast(Object obj) {\r\n            return (T) obj;\r\n        }\r\n    }\r\n\r\nYou can use it as follows:\r\n\r\n\r\n    import static Objects.uncheckedCast;\r\n    ...\r\n\r\n    HashMap&lt;String, String&gt; getItems(javax.servlet.http.HttpSession session) {\r\n          return uncheckedCast(session.getAttribute(&quot;attributeKey&quot;));\r\n    }\r\n\r\nSome more discussion about this is here:\r\nhttp://cleveralias.blogs.com/thought_spearmints/2006/01/suppresswarning.html","title":"How do I address unchecked cast warnings?","body":"<p>You can create a utility class like the following, and use it to suppress the unchecked warning.</p>\n\n<pre><code>public class Objects {\n\n    /**\n     * Helps to avoid using {@code @SuppressWarnings({\"unchecked\"})} when casting to a generic type.\n     */\n    @SuppressWarnings({\"unchecked\"})\n    public static &lt;T&gt; T uncheckedCast(Object obj) {\n        return (T) obj;\n    }\n}\n</code></pre>\n\n<p>You can use it as follows:</p>\n\n<pre><code>import static Objects.uncheckedCast;\n...\n\nHashMap&lt;String, String&gt; getItems(javax.servlet.http.HttpSession session) {\n      return uncheckedCast(session.getAttribute(\"attributeKey\"));\n}\n</code></pre>\n\n<p>Some more discussion about this is here:\n<a href=\"http://cleveralias.blogs.com/thought_spearmints/2006/01/suppresswarning.html\" rel=\"noreferrer\">http://cleveralias.blogs.com/thought_spearmints/2006/01/suppresswarning.html</a></p>\n"},{"tags":[],"owner":{"account_id":24436,"reputation":73314,"user_id":62130,"accept_rate":39,"display_name":"Esko Luontola"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1233703480,"creation_date":1233703144,"answer_id":509430,"question_id":509076,"body_markdown":"In this particular case, I would not store Maps into the HttpSession directly, but instead an instance of my own class, which in turn contains a Map (an implementation detail of the class). Then you can be sure that the elements in the map are of the right type.\r\n\r\nBut if you anyways want to check that the contents of the Map are of right type, you could use a code like this:\r\n\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\r\n        map.put(&quot;a&quot;, 1);\r\n        map.put(&quot;b&quot;, 2);\r\n        Object obj = map;\r\n\r\n        Map&lt;String, Integer&gt; ok = safeCastMap(obj, String.class, Integer.class);\r\n        Map&lt;String, String&gt; error = safeCastMap(obj, String.class, String.class);\r\n    }\r\n\r\n    @SuppressWarnings({&quot;unchecked&quot;})\r\n    public static &lt;K, V&gt; Map&lt;K, V&gt; safeCastMap(Object map, Class&lt;K&gt; keyType, Class&lt;V&gt; valueType) {\r\n        checkMap(map);\r\n        checkMapContents(keyType, valueType, (Map&lt;?, ?&gt;) map);\r\n        return (Map&lt;K, V&gt;) map;\r\n    }\r\n\r\n    private static void checkMap(Object map) {\r\n        checkType(Map.class, map);\r\n    }\r\n\r\n    private static &lt;K, V&gt; void checkMapContents(Class&lt;K&gt; keyType, Class&lt;V&gt; valueType, Map&lt;?, ?&gt; map) {\r\n        for (Map.Entry&lt;?, ?&gt; entry : map.entrySet()) {\r\n            checkType(keyType, entry.getKey());\r\n            checkType(valueType, entry.getValue());\r\n        }\r\n    }\r\n\r\n    private static &lt;K&gt; void checkType(Class&lt;K&gt; expectedType, Object obj) {\r\n        if (!expectedType.isInstance(obj)) {\r\n            throw new IllegalArgumentException(&quot;Expected &quot; + expectedType + &quot; but was &quot; + obj.getClass() + &quot;: &quot; + obj);\r\n        }\r\n    }\r\n\r\n","title":"How do I address unchecked cast warnings?","body":"<p>In this particular case, I would not store Maps into the HttpSession directly, but instead an instance of my own class, which in turn contains a Map (an implementation detail of the class). Then you can be sure that the elements in the map are of the right type.</p>\n\n<p>But if you anyways want to check that the contents of the Map are of right type, you could use a code like this:</p>\n\n<pre><code>public static void main(String[] args) {\n    Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\n    map.put(\"a\", 1);\n    map.put(\"b\", 2);\n    Object obj = map;\n\n    Map&lt;String, Integer&gt; ok = safeCastMap(obj, String.class, Integer.class);\n    Map&lt;String, String&gt; error = safeCastMap(obj, String.class, String.class);\n}\n\n@SuppressWarnings({\"unchecked\"})\npublic static &lt;K, V&gt; Map&lt;K, V&gt; safeCastMap(Object map, Class&lt;K&gt; keyType, Class&lt;V&gt; valueType) {\n    checkMap(map);\n    checkMapContents(keyType, valueType, (Map&lt;?, ?&gt;) map);\n    return (Map&lt;K, V&gt;) map;\n}\n\nprivate static void checkMap(Object map) {\n    checkType(Map.class, map);\n}\n\nprivate static &lt;K, V&gt; void checkMapContents(Class&lt;K&gt; keyType, Class&lt;V&gt; valueType, Map&lt;?, ?&gt; map) {\n    for (Map.Entry&lt;?, ?&gt; entry : map.entrySet()) {\n        checkType(keyType, entry.getKey());\n        checkType(valueType, entry.getValue());\n    }\n}\n\nprivate static &lt;K&gt; void checkType(Class&lt;K&gt; expectedType, Object obj) {\n    if (!expectedType.isInstance(obj)) {\n        throw new IllegalArgumentException(\"Expected \" + expectedType + \" but was \" + obj.getClass() + \": \" + obj);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1233762405,"creation_date":1233762405,"answer_id":511914,"question_id":509076,"body_markdown":"Almost every problem in Computer Science can be solved by adding a level of indirection*, or something.\r\n\r\nSo introduce a non-generic object that is of a higher-level that a `Map`. With no context it isn&#39;t going to look very convincing, but anyway:\r\n\r\n    public final class Items implements java.io.Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n        private Map&lt;String,String&gt; map;\r\n        public Items(Map&lt;String,String&gt; map) {\r\n            this.map = New.immutableMap(map);\r\n        }\r\n        public Map&lt;String,String&gt; getMap() {\r\n            return map;\r\n        }\r\n        @Override public String toString() {\r\n            return map.toString();\r\n        }\r\n    }\r\n\r\n    public final class New {\r\n        public static &lt;K,V&gt; Map&lt;K,V&gt; immutableMap(\r\n            Map&lt;? extends K, ? extends V&gt; original\r\n        ) {\r\n            // ... optimise as you wish...\r\n            return Collections.unmodifiableMap(\r\n                new HashMap&lt;String,String&gt;(original)\r\n            );\r\n        }\r\n    }\r\n\r\n    static Map&lt;String, String&gt; getItems(HttpSession session) {\r\n        Items items = (Items)\r\n            session.getAttribute(&quot;attributeKey&quot;);\r\n        return items.getMap();\r\n    }\r\n\r\n*Except too many levels of indirection.","title":"How do I address unchecked cast warnings?","body":"<p>Almost every problem in Computer Science can be solved by adding a level of indirection*, or something.</p>\n\n<p>So introduce a non-generic object that is of a higher-level that a <code>Map</code>. With no context it isn't going to look very convincing, but anyway:</p>\n\n<pre><code>public final class Items implements java.io.Serializable {\n    private static final long serialVersionUID = 1L;\n    private Map&lt;String,String&gt; map;\n    public Items(Map&lt;String,String&gt; map) {\n        this.map = New.immutableMap(map);\n    }\n    public Map&lt;String,String&gt; getMap() {\n        return map;\n    }\n    @Override public String toString() {\n        return map.toString();\n    }\n}\n\npublic final class New {\n    public static &lt;K,V&gt; Map&lt;K,V&gt; immutableMap(\n        Map&lt;? extends K, ? extends V&gt; original\n    ) {\n        // ... optimise as you wish...\n        return Collections.unmodifiableMap(\n            new HashMap&lt;String,String&gt;(original)\n        );\n    }\n}\n\nstatic Map&lt;String, String&gt; getItems(HttpSession session) {\n    Items items = (Items)\n        session.getAttribute(\"attributeKey\");\n    return items.getMap();\n}\n</code></pre>\n\n<p>*Except too many levels of indirection.</p>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1233766760,"creation_date":1233766760,"answer_id":512251,"question_id":509076,"body_markdown":"In the HTTP Session world you can&#39;t really avoid the cast, since the API is written that way (takes and returns only `Object`).\r\n\r\nWith a little bit of work you can easily avoid the unchecked cast, &#39;though. This means that it will turn into a traditional cast giving a `ClassCastException` right there in the event of an error). An unchecked exception could turn into a `CCE` at any point later on instead of the point of the cast (that&#39;s the reason why it&#39;s a separate warning).\r\n\r\nReplace the HashMap with a dedicated class:\r\n\r\n    import java.util.AbstractMap;\r\n    import java.util.Collection;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    \r\n    public class Attributes extends AbstractMap&lt;String, String&gt; {\r\n    \tfinal Map&lt;String, String&gt; content = new HashMap&lt;String, String&gt;();\r\n    \r\n    \t@Override\r\n    \tpublic Set&lt;Map.Entry&lt;String, String&gt;&gt; entrySet() {\r\n    \t\treturn content.entrySet();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Set&lt;String&gt; keySet() {\r\n    \t\treturn content.keySet();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Collection&lt;String&gt; values() {\r\n    \t\treturn content.values();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String put(final String key, final String value) {\r\n    \t\treturn content.put(key, value);\r\n    \t}\r\n    }\r\n\r\nThen cast to that class instead of `Map&lt;String,String&gt;` and everything will be checked at the exact place where you write your code. No unexpected `ClassCastExceptions` later on.","title":"How do I address unchecked cast warnings?","body":"<p>In the HTTP Session world you can't really avoid the cast, since the API is written that way (takes and returns only <code>Object</code>).</p>\n\n<p>With a little bit of work you can easily avoid the unchecked cast, 'though. This means that it will turn into a traditional cast giving a <code>ClassCastException</code> right there in the event of an error). An unchecked exception could turn into a <code>CCE</code> at any point later on instead of the point of the cast (that's the reason why it's a separate warning).</p>\n\n<p>Replace the HashMap with a dedicated class:</p>\n\n<pre><code>import java.util.AbstractMap;\nimport java.util.Collection;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Set;\n\npublic class Attributes extends AbstractMap&lt;String, String&gt; {\n    final Map&lt;String, String&gt; content = new HashMap&lt;String, String&gt;();\n\n    @Override\n    public Set&lt;Map.Entry&lt;String, String&gt;&gt; entrySet() {\n        return content.entrySet();\n    }\n\n    @Override\n    public Set&lt;String&gt; keySet() {\n        return content.keySet();\n    }\n\n    @Override\n    public Collection&lt;String&gt; values() {\n        return content.values();\n    }\n\n    @Override\n    public String put(final String key, final String value) {\n        return content.put(key, value);\n    }\n}\n</code></pre>\n\n<p>Then cast to that class instead of <code>Map&lt;String,String&gt;</code> and everything will be checked at the exact place where you write your code. No unexpected <code>ClassCastExceptions</code> later on.</p>\n"},{"tags":[],"owner":{"account_id":112618,"reputation":1131,"user_id":296988,"display_name":"Luke 10X"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1276347172,"creation_date":1276347172,"answer_id":3028712,"question_id":509076,"body_markdown":"If you are sure that the type returned by session.getAttribute() is HashMap&lt;String, String&gt; then you can not typecast to that exact type, but rely on only checking the generic HashMap&lt;?,?&gt;\r\n\r\n    HashMap&lt;?,?&gt; getItems(javax.servlet.http.HttpSession session) {  \r\n        HashMap&lt;?,?&gt; theHash = (HashMap&lt;?,?&gt;)session.getAttribute(&quot;attributeKey&quot;);\r\n        return theHash;\r\n    } \r\n\r\nEclipse will then surprise warnings, but of course this can lead to runtime errors that can be hard to debug. I use this approach in not operation-critical contexts only. ","title":"How do I address unchecked cast warnings?","body":"<p>If you are sure that the type returned by session.getAttribute() is HashMap then you can not typecast to that exact type, but rely on only checking the generic HashMap</p>\n\n<pre><code>HashMap&lt;?,?&gt; getItems(javax.servlet.http.HttpSession session) {  \n    HashMap&lt;?,?&gt; theHash = (HashMap&lt;?,?&gt;)session.getAttribute(\"attributeKey\");\n    return theHash;\n} \n</code></pre>\n\n<p>Eclipse will then surprise warnings, but of course this can lead to runtime errors that can be hard to debug. I use this approach in not operation-critical contexts only. </p>\n"},{"tags":[],"owner":{"account_id":218966,"reputation":91,"user_id":475573,"display_name":"jfreundo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1287048499,"creation_date":1287048499,"answer_id":3931798,"question_id":509076,"body_markdown":"Take this one, it&#39;s much faster than creating a new HashMap, if it&#39;s already one, but still secure, as each element is checked against it&#39;s type...\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static &lt;K, V&gt; HashMap&lt;K, V&gt; toHashMap(Object input, Class&lt;K&gt; key, Class&lt;V&gt; value) {\r\n           assert input instanceof Map : input;\r\n     \r\n           for (Map.Entry&lt;?, ?&gt; e : ((HashMap&lt;?, ?&gt;) input).entrySet()) {\r\n               assert key.isAssignableFrom(e.getKey().getClass()) : &quot;Map contains invalid keys&quot;;\r\n               assert value.isAssignableFrom(e.getValue().getClass()) : &quot;Map contains invalid values&quot;;\r\n           }\r\n           \r\n           if (input instanceof HashMap)\r\n               return (HashMap&lt;K, V&gt;) input;\r\n           return new HashMap&lt;K, V&gt;((Map&lt;K, V&gt;) input);\r\n        }","title":"How do I address unchecked cast warnings?","body":"<p>Take this one, it's much faster than creating a new HashMap, if it's already one, but still secure, as each element is checked against it's type...</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\npublic static &lt;K, V&gt; HashMap&lt;K, V&gt; toHashMap(Object input, Class&lt;K&gt; key, Class&lt;V&gt; value) {\n       assert input instanceof Map : input;\n\n       for (Map.Entry&lt;?, ?&gt; e : ((HashMap&lt;?, ?&gt;) input).entrySet()) {\n           assert key.isAssignableFrom(e.getKey().getClass()) : \"Map contains invalid keys\";\n           assert value.isAssignableFrom(e.getValue().getClass()) : \"Map contains invalid values\";\n       }\n\n       if (input instanceof HashMap)\n           return (HashMap&lt;K, V&gt;) input;\n       return new HashMap&lt;K, V&gt;((Map&lt;K, V&gt;) input);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10552,"reputation":21351,"user_id":20003,"accept_rate":73,"display_name":"Dustin Getz"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1299078105,"creation_date":1299020698,"answer_id":5161499,"question_id":509076,"body_markdown":"This stuff is hard, but here are my current thoughts:\r\n\r\nIf your API returns Object, then there&#39;s nothing you can do -- no matter what, you will be blindly casting the object. You let Java throw ClassCastExceptions, or you can check each element yourself and throw Assertions or IllegalArgumentExceptions or some such, but these *runtime* checks are all equivalent. You have to suppress the *compile time* unchecked cast  no matter what you do at runtime.\r\n\r\nI&#39;d just prefer to blind cast and let the JVM perform its runtime check for me since we &quot;know&quot; what the API should return, and are usually willing to assume that the API works. Use generics everywhere above the cast, if you need them. You aren&#39;t really buying anything there since you still have the single blind cast, but at least you can use generics from there on up so the JVM can help you avoid blind casts in other pieces of your code.\r\n\r\nIn this particular case, presumably you can see the call to SetAttribute and see the type is going in, so just blind-casting the type to same on the way out is not immoral. Add a comment referencing the SetAttribute and be done with it.","title":"How do I address unchecked cast warnings?","body":"<p>This stuff is hard, but here are my current thoughts:</p>\n\n<p>If your API returns Object, then there's nothing you can do -- no matter what, you will be blindly casting the object. You let Java throw ClassCastExceptions, or you can check each element yourself and throw Assertions or IllegalArgumentExceptions or some such, but these <em>runtime</em> checks are all equivalent. You have to suppress the <em>compile time</em> unchecked cast  no matter what you do at runtime.</p>\n\n<p>I'd just prefer to blind cast and let the JVM perform its runtime check for me since we \"know\" what the API should return, and are usually willing to assume that the API works. Use generics everywhere above the cast, if you need them. You aren't really buying anything there since you still have the single blind cast, but at least you can use generics from there on up so the JVM can help you avoid blind casts in other pieces of your code.</p>\n\n<p>In this particular case, presumably you can see the call to SetAttribute and see the type is going in, so just blind-casting the type to same on the way out is not immoral. Add a comment referencing the SetAttribute and be done with it.</p>\n"},{"tags":[],"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1301006448,"creation_date":1300734592,"answer_id":5382414,"question_id":509076,"body_markdown":"Two ways, one which avoids the tag completely, the other using a naughty but nice utility method.&lt;BR&gt;\r\nThe problem is pre-genericised Collections...&lt;BR&gt;\r\nI believe the rule of thumb is: &quot;cast objects one thing at a time&quot; - what this means when trying to use raw classes in a genericised world is that because you don&#39;t know what is in this Map&amp;lt;?, ?&amp;gt; (and indeed the JVM might even find that it isn&#39;t even a Map!), it obvious when you think about it that you can&#39;t cast it.  If you had a Map&amp;lt;String, ?&amp;gt; map2 then HashSet&amp;lt;String&amp;gt; keys = (HashSet&amp;lt;String&amp;gt;)map2.keySet() does not give you a warning, despite this being an &quot;act of faith&quot; for the compiler (because it might turn out to be a TreeSet)... but it is only a &lt;b&gt;&lt;i&gt;single&lt;/b&gt;&lt;/i&gt; act of faith.&lt;BR&gt;\r\n&lt;BR&gt;\r\nPS to the objection that iterating as in my first way &quot;is boring&quot; and &quot;takes time&quot;, the answer is &quot;no pain no gain&quot;: a genericised collection is guaranteed to contain Map.Entry&amp;lt;String, String&amp;gt;s, and nothing else.  You have to pay for this guarantee.  When using generics systematically this payment, beautifully, takes the form of coding compliance, not machine time!&lt;BR&gt;\r\nOne school of thought might say that you should set Eclipse&#39;s settings to make such unchecked casts errors, rather than warnings.  In that case you would have to use my first way.\r\n\r\n\r\n    package scratchpad;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Iterator;\r\n    import java.util.Map;\r\n    import java.util.Vector;\r\n    \r\n    public class YellowMouse {\r\n    \t\r\n    \t// First way\r\n    \t\r\n    \tMap&lt;String, String&gt; getHashMapStudiouslyAvoidingSuppressTag(HttpSession session) {\r\n    \t  Map&lt;?, ?&gt; theHash = (Map&lt;?, ?&gt;)session.getAttribute(&quot;attributeKey&quot;);\r\n    \t  \r\n    \t  Map&lt;String, String&gt; yellowMouse = new HashMap&lt;String, String&gt;();\r\n    \t  for( Map.Entry&lt;?, ?&gt; entry : theHash.entrySet() ){\r\n    \t  \tyellowMouse.put( (String)entry.getKey(), (String)entry.getValue() );\r\n    \t  }\r\n    \t  \r\n    \t  return yellowMouse;\r\n    \t}\r\n    \r\n    \r\n    \t// Second way\r\n    \t\r\n    \tMap&lt;String, String&gt; getHashMapUsingNaughtyButNiceUtilityMethod(HttpSession session) {\r\n    \t  return uncheckedCast( session.getAttribute(&quot;attributeKey&quot;) );\r\n    \t}\r\n    \t\r\n    \r\n    \t// NB this is a utility method which should be kept in your utility library. If you do that it will\r\n    \t// be the *only* time in your entire life that you will have to use this particular tag!!\r\n    \t\t\r\n    \t@SuppressWarnings({ &quot;unchecked&quot; })\r\n    \tpublic static synchronized &lt;T&gt; T uncheckedCast(Object obj) {\r\n    \t\treturn (T) obj;\r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\n","title":"How do I address unchecked cast warnings?","body":"<p>Two ways, one which avoids the tag completely, the other using a naughty but nice utility method.<BR>\nThe problem is pre-genericised Collections...<BR>\nI believe the rule of thumb is: \"cast objects one thing at a time\" - what this means when trying to use raw classes in a genericised world is that because you don't know what is in this Map&lt;?, ?&gt; (and indeed the JVM might even find that it isn't even a Map!), it obvious when you think about it that you can't cast it.  If you had a Map&lt;String, ?&gt; map2 then HashSet&lt;String&gt; keys = (HashSet&lt;String&gt;)map2.keySet() does not give you a warning, despite this being an \"act of faith\" for the compiler (because it might turn out to be a TreeSet)... but it is only a <b><i>single</b></i> act of faith.<BR>\n<BR>\nPS to the objection that iterating as in my first way \"is boring\" and \"takes time\", the answer is \"no pain no gain\": a genericised collection is guaranteed to contain Map.Entry&lt;String, String&gt;s, and nothing else.  You have to pay for this guarantee.  When using generics systematically this payment, beautifully, takes the form of coding compliance, not machine time!<BR>\nOne school of thought might say that you should set Eclipse's settings to make such unchecked casts errors, rather than warnings.  In that case you would have to use my first way.</p>\n\n<pre><code>package scratchpad;\n\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.Map;\nimport java.util.Vector;\n\npublic class YellowMouse {\n\n    // First way\n\n    Map&lt;String, String&gt; getHashMapStudiouslyAvoidingSuppressTag(HttpSession session) {\n      Map&lt;?, ?&gt; theHash = (Map&lt;?, ?&gt;)session.getAttribute(\"attributeKey\");\n\n      Map&lt;String, String&gt; yellowMouse = new HashMap&lt;String, String&gt;();\n      for( Map.Entry&lt;?, ?&gt; entry : theHash.entrySet() ){\n        yellowMouse.put( (String)entry.getKey(), (String)entry.getValue() );\n      }\n\n      return yellowMouse;\n    }\n\n\n    // Second way\n\n    Map&lt;String, String&gt; getHashMapUsingNaughtyButNiceUtilityMethod(HttpSession session) {\n      return uncheckedCast( session.getAttribute(\"attributeKey\") );\n    }\n\n\n    // NB this is a utility method which should be kept in your utility library. If you do that it will\n    // be the *only* time in your entire life that you will have to use this particular tag!!\n\n    @SuppressWarnings({ \"unchecked\" })\n    public static synchronized &lt;T&gt; T uncheckedCast(Object obj) {\n        return (T) obj;\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":477949,"reputation":5596,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1462787424,"creation_date":1313070807,"answer_id":7027110,"question_id":509076,"body_markdown":"The Objects.Unchecked utility function in the answer above by Esko Luontola is a great way to avoid program clutter.\r\n\r\nIf you don&#39;t want the SuppressWarnings on an entire method, Java forces you to put it on a local. If you need a cast on a member it can lead to code like this:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    Vector&lt;String&gt; watchedSymbolsClone = (Vector&lt;String&gt;) watchedSymbols.clone();\r\n    this.watchedSymbols = watchedSymbolsClone;\r\n\r\nUsing the utility is much cleaner, and it&#39;s still obvious what you are doing:\r\n\r\n    this.watchedSymbols = Objects.uncheckedCast(watchedSymbols.clone());\r\n\r\n***NOTE:***\r\nI feel its important to add that sometimes the warning really means you are doing something wrong like :\r\n\r\n    ArrayList&lt;Integer&gt; intList = new ArrayList&lt;Integer&gt;();\r\n    intList.add(1);\r\n    Object intListObject = intList; \r\n\r\n     // this line gives an unchecked warning - but no runtime error\r\n    ArrayList&lt;String&gt; stringList  = (ArrayList&lt;String&gt;) intListObject;\r\n    System.out.println(stringList.get(0)); // cast exception will be given here\r\n\r\nWhat the compiler is telling you is that this cast will NOT be checked at runtime, so no runtime error will be raised until you try to access the data in the generic container.\r\n\r\n\r\n\r\n\r\n\r\n","title":"How do I address unchecked cast warnings?","body":"<p>The Objects.Unchecked utility function in the answer above by Esko Luontola is a great way to avoid program clutter.</p>\n\n<p>If you don't want the SuppressWarnings on an entire method, Java forces you to put it on a local. If you need a cast on a member it can lead to code like this:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\nVector&lt;String&gt; watchedSymbolsClone = (Vector&lt;String&gt;) watchedSymbols.clone();\nthis.watchedSymbols = watchedSymbolsClone;\n</code></pre>\n\n<p>Using the utility is much cleaner, and it's still obvious what you are doing:</p>\n\n<pre><code>this.watchedSymbols = Objects.uncheckedCast(watchedSymbols.clone());\n</code></pre>\n\n<p><strong><em>NOTE:</em></strong>\nI feel its important to add that sometimes the warning really means you are doing something wrong like :</p>\n\n<pre><code>ArrayList&lt;Integer&gt; intList = new ArrayList&lt;Integer&gt;();\nintList.add(1);\nObject intListObject = intList; \n\n // this line gives an unchecked warning - but no runtime error\nArrayList&lt;String&gt; stringList  = (ArrayList&lt;String&gt;) intListObject;\nSystem.out.println(stringList.get(0)); // cast exception will be given here\n</code></pre>\n\n<p>What the compiler is telling you is that this cast will NOT be checked at runtime, so no runtime error will be raised until you try to access the data in the generic container.</p>\n"},{"tags":[],"owner":{"account_id":11122,"reputation":4546,"user_id":21294,"accept_rate":90,"display_name":"Dave"},"down_vote_count":2,"up_vote_count":54,"is_accepted":false,"score":52,"last_activity_date":1319218814,"creation_date":1319218814,"answer_id":7853155,"question_id":509076,"body_markdown":"In Eclipse Preferences, Go to Java-&gt;Compiler-&gt;Errors/Warnings-&gt;Generic types and check the `Ignore unavoidable generic type problems` check-box. \r\n\r\nThis satisfies the intent of the question, i.e.\r\n\r\n&gt; I&#39;d like to avoid Eclipse warnings...\r\n\r\nif not the spirit.","title":"How do I address unchecked cast warnings?","body":"<p>In Eclipse Preferences, Go to Java->Compiler->Errors/Warnings->Generic types and check the <code>Ignore unavoidable generic type problems</code> check-box. </p>\n\n<p>This satisfies the intent of the question, i.e.</p>\n\n<blockquote>\n  <p>I'd like to avoid Eclipse warnings...</p>\n</blockquote>\n\n<p>if not the spirit.</p>\n"},{"tags":[],"owner":{"account_id":2430064,"reputation":31,"user_id":2121187,"display_name":"Marc Riehm"},"down_vote_count":8,"up_vote_count":2,"is_accepted":false,"score":-6,"last_activity_date":1362083250,"creation_date":1362083250,"answer_id":15145034,"question_id":509076,"body_markdown":"Solution: Disable this warning in Eclipse. Don&#39;t @SuppressWarnings it, just disable it completely.\r\n\r\nSeveral of the &quot;solutions&quot; presented above are way out of line, making code unreadable for the sake of suppressing a silly warning.","title":"How do I address unchecked cast warnings?","body":"<p>Solution: Disable this warning in Eclipse. Don't @SuppressWarnings it, just disable it completely.</p>\n\n<p>Several of the \"solutions\" presented above are way out of line, making code unreadable for the sake of suppressing a silly warning.</p>\n"},{"tags":[],"owner":{"account_id":2767605,"reputation":196,"user_id":2382934,"display_name":"Jim Daehn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422576932,"creation_date":1422576932,"answer_id":28227133,"question_id":509076,"body_markdown":"Here&#39;s one way I handle this when I override the `equals()` operation.\r\n\r\n    public abstract class Section&lt;T extends Section&gt; extends Element&lt;Section&lt;T&gt;&gt; {\r\n        Object attr1;\r\n\r\n        /**\r\n        * Compare one section object to another.\r\n        *\r\n        * @param obj the object being compared with this section object\r\n        * @return true if this section and the other section are of the same\r\n        * sub-class of section and their component fields are the same, false\r\n        * otherwise\r\n        */       \r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            if (obj == null) {\r\n                // this exists, but obj doesn&#39;t, so they can&#39;t be equal!\r\n                return false;\r\n            }\r\n\r\n            // prepare to cast...\r\n            Section&lt;?&gt; other;\r\n\r\n            if (getClass() != obj.getClass()) {\r\n                // looks like we&#39;re comparing apples to oranges\r\n                return false;\r\n            } else {\r\n                // it must be safe to make that cast!\r\n                other = (Section&lt;?&gt;) obj;\r\n            }\r\n\r\n            // and then I compare attributes between this and other\r\n            return this.attr1.equals(other.attr1);\r\n        }\r\n    }\r\n\r\nThis seems to work in Java 8 (even compiled with `-Xlint:unchecked`)","title":"How do I address unchecked cast warnings?","body":"<p>Here's one way I handle this when I override the <code>equals()</code> operation.</p>\n\n<pre><code>public abstract class Section&lt;T extends Section&gt; extends Element&lt;Section&lt;T&gt;&gt; {\n    Object attr1;\n\n    /**\n    * Compare one section object to another.\n    *\n    * @param obj the object being compared with this section object\n    * @return true if this section and the other section are of the same\n    * sub-class of section and their component fields are the same, false\n    * otherwise\n    */       \n    @Override\n    public boolean equals(Object obj) {\n        if (obj == null) {\n            // this exists, but obj doesn't, so they can't be equal!\n            return false;\n        }\n\n        // prepare to cast...\n        Section&lt;?&gt; other;\n\n        if (getClass() != obj.getClass()) {\n            // looks like we're comparing apples to oranges\n            return false;\n        } else {\n            // it must be safe to make that cast!\n            other = (Section&lt;?&gt;) obj;\n        }\n\n        // and then I compare attributes between this and other\n        return this.attr1.equals(other.attr1);\n    }\n}\n</code></pre>\n\n<p>This seems to work in Java 8 (even compiled with <code>-Xlint:unchecked</code>)</p>\n"},{"tags":[],"owner":{"account_id":2109967,"reputation":6673,"user_id":1875434,"accept_rate":67,"display_name":"abbas"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1426280254,"creation_date":1425944619,"answer_id":28953757,"question_id":509076,"body_markdown":"Warning suppression is not a solution. You should not be doing two level casting in one statement.\r\n\r\n    HashMap&lt;String, String&gt; getItems(javax.servlet.http.HttpSession session) {\r\n\r\n        // first, cast the returned Object to generic HashMap&lt;?,?&gt;\r\n        HashMap&lt;?, ?&gt; theHash = (HashMap&lt;?, ?&gt;)session.getAttribute(&quot;attributeKey&quot;);\r\n        \r\n        // next, cast every entry of the HashMap to the required type &lt;String, String&gt;\r\n        HashMap&lt;String, String&gt; returingHash = new HashMap&lt;&gt;();\r\n        for (Entry&lt;?, ?&gt; entry : theHash.entrySet()) {\r\n            returingHash.put((String) entry.getKey(), (String) entry.getValue());\r\n        }\r\n        return returingHash;\r\n    }","title":"How do I address unchecked cast warnings?","body":"<p>Warning suppression is not a solution. You should not be doing two level casting in one statement.</p>\n\n<pre><code>HashMap&lt;String, String&gt; getItems(javax.servlet.http.HttpSession session) {\n\n    // first, cast the returned Object to generic HashMap&lt;?,?&gt;\n    HashMap&lt;?, ?&gt; theHash = (HashMap&lt;?, ?&gt;)session.getAttribute(\"attributeKey\");\n\n    // next, cast every entry of the HashMap to the required type &lt;String, String&gt;\n    HashMap&lt;String, String&gt; returingHash = new HashMap&lt;&gt;();\n    for (Entry&lt;?, ?&gt; entry : theHash.entrySet()) {\n        returingHash.put((String) entry.getKey(), (String) entry.getValue());\n    }\n    return returingHash;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2584196,"reputation":1380,"user_id":2240274,"accept_rate":86,"display_name":"StaticNoiseLog"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1485541657,"creation_date":1439463421,"answer_id":31986289,"question_id":509076,"body_markdown":"Here is a shortened **example that avoids the &quot;unchecked cast&quot; warning** by employing two strategies mentioned in other answers.\r\n\r\n1. Pass down the Class of the type of interest as a parameter at runtime (`Class&lt;T&gt; inputElementClazz`). Then you can use: `inputElementClazz.cast(anyObject);`\r\n\r\n2. For type casting of a Collection, use the wildcard ? instead of a generic type T to acknowledge that you indeed do not know what kind of objects to expect from the legacy code (`Collection&lt;?&gt; unknownTypeCollection`). After all, this is what the &quot;unchecked cast&quot; warning wants to tell us: We cannot be sure that we get a `Collection&lt;T&gt;`, so the honest thing to do is to use a `Collection&lt;?&gt;`. If absolutely needed, a collection of a known type can still be built (`Collection&lt;T&gt; knownTypeCollection`).\r\n\r\nThe legacy code interfaced in the example below has an attribute &quot;input&quot; in the StructuredViewer (StructuredViewer is a tree or table widget, &quot;input&quot; is the data model behind it). This &quot;input&quot; could be any kind of Java Collection.\r\n\r\n    public void dragFinished(StructuredViewer structuredViewer, Class&lt;T&gt; inputElementClazz) {\r\n        IStructuredSelection selection = (IStructuredSelection) structuredViewer.getSelection();\r\n        // legacy code returns an Object from getFirstElement,\r\n        // the developer knows/hopes it is of type inputElementClazz, but the compiler cannot know\r\n        T firstElement = inputElementClazz.cast(selection.getFirstElement());\r\n\r\n        // legacy code returns an object from getInput, so we deal with it as a Collection&lt;?&gt;\r\n        Collection&lt;?&gt; unknownTypeCollection = (Collection&lt;?&gt;) structuredViewer.getInput();\r\n\r\n        // for some operations we do not even need a collection with known types\r\n        unknownTypeCollection.remove(firstElement);\r\n\r\n        // nothing prevents us from building a Collection of a known type, should we really need one\r\n        Collection&lt;T&gt; knownTypeCollection = new ArrayList&lt;T&gt;();\r\n        for (Object object : unknownTypeCollection) {\r\n            T aT = inputElementClazz.cast(object);\r\n            knownTypeCollection.add(aT);\r\n            System.out.println(aT.getClass());\r\n        }\r\n        \r\n        structuredViewer.refresh();\r\n    }\r\n\r\nNaturally, the code above can give runtime errors if we use the legacy code with the wrong data types (e.g. if we set an array as the &quot;input&quot; of the StructuredViewer instead of a Java Collection).\r\n\r\nExample of calling the method:\r\n\r\n    dragFinishedStrategy.dragFinished(viewer, Product.class);\r\n","title":"How do I address unchecked cast warnings?","body":"<p>Here is a shortened <strong>example that avoids the \"unchecked cast\" warning</strong> by employing two strategies mentioned in other answers.</p>\n\n<ol>\n<li><p>Pass down the Class of the type of interest as a parameter at runtime (<code>Class&lt;T&gt; inputElementClazz</code>). Then you can use: <code>inputElementClazz.cast(anyObject);</code></p></li>\n<li><p>For type casting of a Collection, use the wildcard ? instead of a generic type T to acknowledge that you indeed do not know what kind of objects to expect from the legacy code (<code>Collection&lt;?&gt; unknownTypeCollection</code>). After all, this is what the \"unchecked cast\" warning wants to tell us: We cannot be sure that we get a <code>Collection&lt;T&gt;</code>, so the honest thing to do is to use a <code>Collection&lt;?&gt;</code>. If absolutely needed, a collection of a known type can still be built (<code>Collection&lt;T&gt; knownTypeCollection</code>).</p></li>\n</ol>\n\n<p>The legacy code interfaced in the example below has an attribute \"input\" in the StructuredViewer (StructuredViewer is a tree or table widget, \"input\" is the data model behind it). This \"input\" could be any kind of Java Collection.</p>\n\n<pre><code>public void dragFinished(StructuredViewer structuredViewer, Class&lt;T&gt; inputElementClazz) {\n    IStructuredSelection selection = (IStructuredSelection) structuredViewer.getSelection();\n    // legacy code returns an Object from getFirstElement,\n    // the developer knows/hopes it is of type inputElementClazz, but the compiler cannot know\n    T firstElement = inputElementClazz.cast(selection.getFirstElement());\n\n    // legacy code returns an object from getInput, so we deal with it as a Collection&lt;?&gt;\n    Collection&lt;?&gt; unknownTypeCollection = (Collection&lt;?&gt;) structuredViewer.getInput();\n\n    // for some operations we do not even need a collection with known types\n    unknownTypeCollection.remove(firstElement);\n\n    // nothing prevents us from building a Collection of a known type, should we really need one\n    Collection&lt;T&gt; knownTypeCollection = new ArrayList&lt;T&gt;();\n    for (Object object : unknownTypeCollection) {\n        T aT = inputElementClazz.cast(object);\n        knownTypeCollection.add(aT);\n        System.out.println(aT.getClass());\n    }\n\n    structuredViewer.refresh();\n}\n</code></pre>\n\n<p>Naturally, the code above can give runtime errors if we use the legacy code with the wrong data types (e.g. if we set an array as the \"input\" of the StructuredViewer instead of a Java Collection).</p>\n\n<p>Example of calling the method:</p>\n\n<pre><code>dragFinishedStrategy.dragFinished(viewer, Product.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9614522,"reputation":496,"user_id":7137792,"display_name":"Jan Moravec"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1504297355,"creation_date":1504297355,"answer_id":46007519,"question_id":509076,"body_markdown":"In Android Studio if you want to disable inspection you can use: \r\n\r\n    //noinspection unchecked\r\n    Map&lt;String, String&gt; myMap = (Map&lt;String, String&gt;) deserializeMap();\r\n\r\n","title":"How do I address unchecked cast warnings?","body":"<p>In Android Studio if you want to disable inspection you can use: </p>\n\n<pre><code>//noinspection unchecked\nMap&lt;String, String&gt; myMap = (Map&lt;String, String&gt;) deserializeMap();\n</code></pre>\n"}],"owner":{"account_id":9733,"reputation":98806,"user_id":18103,"accept_rate":68,"display_name":"skiphoppy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":533881,"favorite_count":0,"down_vote_count":4,"up_vote_count":702,"accepted_answer_id":509230,"answer_count":22,"score":698,"last_activity_date":1662120533,"creation_date":1233698267,"question_id":509076,"body_markdown":"Eclipse is giving me a warning of the following form:\r\n\r\n&gt; Type safety: Unchecked cast from Object to HashMap&lt;String, String&gt;\r\n\r\nThis is from a call to an API that I have no control over which returns Object:\r\n\r\n    HashMap&lt;String, String&gt; getItems(javax.servlet.http.HttpSession session) {\r\n      HashMap&lt;String, String&gt; theHash = (HashMap&lt;String, String&gt;)session.getAttribute(&quot;attributeKey&quot;);\r\n      return theHash;\r\n    }\r\n\r\nI&#39;d like to avoid Eclipse warnings, if possible, since theoretically they indicate at least a potential code problem.  I haven&#39;t found a good way to eliminate this one yet, though.  I can extract the single line involved out to a method by itself and add `@SuppressWarnings(&quot;unchecked&quot;)` to that method, thus limiting the impact of having a block of code where I ignore warnings.  Any better options?  I don&#39;t want to turn these warnings off in Eclipse.\r\n\r\nBefore I came to the code, it was simpler, but still provoked warnings:\r\n\r\n    HashMap getItems(javax.servlet.http.HttpSession session) {\r\n      HashMap theHash = (HashMap)session.getAttribute(&quot;attributeKey&quot;);\r\n      return theHash;\r\n    }\r\n\r\nProblem was elsewhere when you tried to use the hash you&#39;d get warnings:\r\n\r\n    HashMap items = getItems(session);\r\n    items.put(&quot;this&quot;, &quot;that&quot;);\r\n\r\n    Type safety: The method put(Object, Object) belongs to the raw type HashMap.  References to generic type HashMap&lt;K,V&gt; should be parameterized.","title":"How do I address unchecked cast warnings?","body":"<p>Eclipse is giving me a warning of the following form:</p>\n\n<blockquote>\n  <p>Type safety: Unchecked cast from Object to HashMap</p>\n</blockquote>\n\n<p>This is from a call to an API that I have no control over which returns Object:</p>\n\n<pre><code>HashMap&lt;String, String&gt; getItems(javax.servlet.http.HttpSession session) {\n  HashMap&lt;String, String&gt; theHash = (HashMap&lt;String, String&gt;)session.getAttribute(\"attributeKey\");\n  return theHash;\n}\n</code></pre>\n\n<p>I'd like to avoid Eclipse warnings, if possible, since theoretically they indicate at least a potential code problem.  I haven't found a good way to eliminate this one yet, though.  I can extract the single line involved out to a method by itself and add <code>@SuppressWarnings(\"unchecked\")</code> to that method, thus limiting the impact of having a block of code where I ignore warnings.  Any better options?  I don't want to turn these warnings off in Eclipse.</p>\n\n<p>Before I came to the code, it was simpler, but still provoked warnings:</p>\n\n<pre><code>HashMap getItems(javax.servlet.http.HttpSession session) {\n  HashMap theHash = (HashMap)session.getAttribute(\"attributeKey\");\n  return theHash;\n}\n</code></pre>\n\n<p>Problem was elsewhere when you tried to use the hash you'd get warnings:</p>\n\n<pre><code>HashMap items = getItems(session);\nitems.put(\"this\", \"that\");\n\nType safety: The method put(Object, Object) belongs to the raw type HashMap.  References to generic type HashMap&lt;K,V&gt; should be parameterized.\n</code></pre>\n"},{"tags":["java","jsp","internationalization"],"answers":[{"tags":[],"owner":{"account_id":326373,"reputation":350,"user_id":6145172,"display_name":"Rey333"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528807892,"creation_date":1528807892,"answer_id":50817707,"question_id":50816585,"body_markdown":"This is just a general idea:\r\n\r\nmake for every language 1 separate key-value-pair file\r\n\r\n - every word or sentence has a unique key (hi=Hello, hi=Hola ect ect)\r\n - dont put hardcoded text in the jsp\r\n - create a singleton that will load all the languages into a hashmap at startup\r\n - create 1 tag that will get the text from the hashmap based on the given locale \r\nand unique key\r\n - use the tag in the jsp `&lt;sp:message code=&quot;hi&quot; /&gt;`\r\n - get the locale from the browsers request (or the user&#39;s preference)\r\n\r\n..Or just use Spring which does all these things for you.","title":"How to create mult language web application in jsp servlet?","body":"<p>This is just a general idea:</p>\n\n<p>make for every language 1 separate key-value-pair file</p>\n\n<ul>\n<li>every word or sentence has a unique key (hi=Hello, hi=Hola ect ect)</li>\n<li>dont put hardcoded text in the jsp</li>\n<li>create a singleton that will load all the languages into a hashmap at startup</li>\n<li>create 1 tag that will get the text from the hashmap based on the given locale \nand unique key</li>\n<li>use the tag in the jsp <code>&lt;sp:message code=\"hi\" /&gt;</code></li>\n<li>get the locale from the browsers request (or the user's preference)</li>\n</ul>\n\n<p>..Or just use Spring which does all these things for you.</p>\n"},{"tags":[],"owner":{"account_id":6991584,"reputation":2672,"user_id":5360672,"accept_rate":86,"display_name":"Jonathan Laliberte"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662120449,"creation_date":1528811437,"answer_id":50818903,"question_id":50816585,"body_markdown":"Check out BalusC&#39;s answer here: https://stackoverflow.com/questions/4276061/how-to-internationalize-a-java-web-application\r\n\r\nBalusC:\r\n\r\n&gt; In case of a basic JSP/Servlet webapplication, the basic approach\r\n&gt; would be using [JSTL][1] [`fmt` taglib][2] in combination with\r\n&gt; [resource bundles][3]. Resource bundles contain key-value pairs where\r\n&gt; the key is a constant which is the same for all languages and the\r\n&gt; value differs per language. Resource bundles are usually [properties\r\n&gt; files][4] which are loaded by [`ResourceBundle`][5] API. This can\r\n&gt; however be customized so that you can load the key-value pairs from\r\n&gt; for example a database.\r\n&gt; \r\n&gt; Here&#39;s an example how to internationalize the login form of your\r\n&gt; webapplication with properties file based resource bundles.\r\n&gt; \r\n&gt; ---\r\n&gt; \r\n&gt; 1. Create the following files and put them in some package, e.g. `com.example.i18n` (in case of Maven, put them in the package\r\n&gt; structure inside `src/main/resources`).\r\n&gt; \r\n&gt;     `text.properties` (contains key-value pairs in the default language, usually English)\r\n&gt; \r\n&gt;     &lt;pre&gt;\r\n&gt;     login.label.username = Username\r\n&gt;     login.label.password = Password\r\n&gt;     login.button.submit = Sign in\r\n&gt;     &lt;/pre&gt;\r\n&gt; \r\n&gt;     ---\r\n&gt; \r\n&gt;     `text_nl.properties` (contains Dutch (`nl`) key-value pairs)\r\n&gt; \r\n&gt;     &lt;pre&gt;\r\n&gt;     login.label.username = Gebruikersnaam\r\n&gt;     login.label.password = Wachtwoord\r\n&gt;     login.button.submit = Inloggen\r\n&gt;     &lt;/pre&gt;\r\n&gt; \r\n&gt;     ---\r\n&gt; \r\n&gt;     `text_es.properties` (contains Spanish (`es`) key-value pairs)\r\n&gt; \r\n&gt;     &lt;pre&gt;\r\n&gt;     login.label.username = Nombre de usuario\r\n&gt;     login.label.password = Contrase&#241;a\r\n&gt;     login.button.submit = Acceder\r\n&gt;     &lt;/pre&gt;\r\n&gt; \r\n&gt;     The resource bundle filename should adhere the following pattern `name_ll_CC.properties`. The `_ll` part should be the lowercase [ISO\r\n&gt; 693-1][6] language code. It is optional and only required whenever the\r\n&gt; `_CC` part is present. The `_CC` part should be the uppercase [ISO\r\n&gt; 3166-1 Alpha-2][7] country code. It is optional and often only used to\r\n&gt; distinguish between country-specific language dialects, like [American\r\n&gt; English][8] (`_en_US`) and [British English][9] (`_en_GB`).\r\n&gt; \r\n&gt;     ---\r\n&gt; \r\n&gt; 2. If not done yet, install JSTL. If you&#39;re running on a Servlet 2.5 container or newer (Tomcat 6.0 and so on) and your `web.xml` is\r\n&gt; declared conform the Servlet 2.5 specification, then just put\r\n&gt; [jstl-1.2.jar][10] in webapp&#39;s `/WEB-INF/lib` folder.\r\n&gt; \r\n&gt;     ---\r\n&gt; \r\n&gt; 3. Create the following example JSP file and put it in web content folder.\r\n&gt; \r\n&gt;    `login.jsp`\r\n&gt; ```html\r\n&gt; &lt;%@ page pageEncoding=&quot;UTF-8&quot; %&gt;\r\n&gt; &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n&gt; &lt;%@ taglib prefix=&quot;fmt&quot; uri=&quot;http://java.sun.com/jsp/jstl/fmt&quot; %&gt;\r\n&gt; &lt;c:set var=&quot;language&quot; value=&quot;${not empty param.language ? \r\n&gt;   param.language : not empty language ? language :\r\n&gt;   pageContext.request.locale}&quot; scope=&quot;session&quot; /&gt;\r\n&gt; &lt;fmt:setLocale value=&quot;${language}&quot; /&gt;\r\n&gt; &lt;fmt:setBundle basename=&quot;com.example.i18n.text&quot; /&gt;\r\n&gt; &lt;!DOCTYPE html&gt;\r\n&gt; &lt;html lang=&quot;${language}&quot;&gt;\r\n&gt;     &lt;head&gt;\r\n&gt;         &lt;title&gt;JSP/JSTL i18n demo&lt;/title&gt;\r\n&gt;     &lt;/head&gt;\r\n&gt;     &lt;body&gt;\r\n&gt;         &lt;form&gt;\r\n&gt;             &lt;select id=&quot;language&quot; name=&quot;language&quot; onchange=&quot;submit()&quot;&gt;\r\n&gt;                 &lt;option value=&quot;en&quot; ${language == &#39;en&#39; ? &#39;selected&#39; : &#39;&#39;}&gt;English&lt;/option&gt;\r\n&gt;                 &lt;option value=&quot;nl&quot; ${language == &#39;nl&#39; ? &#39;selected&#39; : &#39;&#39;}&gt;Nederlands&lt;/option&gt;\r\n&gt;                 &lt;option value=&quot;es&quot; ${language == &#39;es&#39; ? &#39;selected&#39; : &#39;&#39;}&gt;Espa&#241;ol&lt;/option&gt;\r\n&gt;             &lt;/select&gt;\r\n&gt;         &lt;/form&gt;\r\n&gt;         &lt;form method=&quot;post&quot;&gt;\r\n&gt;             &lt;label for=&quot;username&quot;&gt;&lt;fmt:message key=&quot;login.label.username&quot; /&gt;:&lt;/label&gt;\r\n&gt;             &lt;input type=&quot;text&quot; id=&quot;username&quot; name=&quot;username&quot;&gt;\r\n&gt;             &lt;br&gt;\r\n&gt;             &lt;label for=&quot;password&quot;&gt;&lt;fmt:message key=&quot;login.label.password&quot; /&gt;:&lt;/label&gt;\r\n&gt;             &lt;input type=&quot;password&quot; id=&quot;password&quot; name=&quot;password&quot;&gt;\r\n&gt;             &lt;br&gt;\r\n&gt;             &lt;fmt:message key=&quot;login.button.submit&quot; var=&quot;buttonValue&quot; /&gt;\r\n&gt;             &lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;${buttonValue}&quot;&gt;\r\n&gt;         &lt;/form&gt;\r\n&gt;     &lt;/body&gt;\r\n&gt; &lt;/html&gt;\r\n&gt; ```\r\n&gt; \r\n&gt; The `&lt;c:set var=&quot;language&quot;&gt;` manages the current language. If the language was supplied as request parameter (by language dropdown),\r\n&gt; then it will be set. Else if the language was already previously set\r\n&gt; in the session, then stick to it instead. Else use the user supplied\r\n&gt; locale in the request header.\r\n&gt; \r\n&gt; The `&lt;fmt:setLocale&gt;` sets the locale for resource bundle. It&#39;s important that this line is *before* the `&lt;fmt:setBundle&gt;`.\r\n&gt; \r\n&gt; The `&lt;fmt:setBundle&gt;` initializes the resource bundle by its base name (that is, the full qualified package name until with the sole\r\n&gt; name without the `_ll_CC` specifier).\r\n&gt; \r\n&gt; The `&lt;fmt:message&gt;` retrieves the message value by the specified bundle key.\r\n&gt; \r\n&gt; The `&lt;html lang=&quot;${language}&quot;&gt;` informs the searchbots what language the page is in so that it won&#39;t be marked as duplicate\r\ncontent (thus, good for SEO).\r\n&gt; \r\n&gt; The language dropdown will immediately submit by JavaScript when another language is chosen and the page will be refreshed with the newly chosen language.\r\n&gt; \r\n&gt; ---\r\n&gt; \r\n&gt; You however need to keep in mind that properties files are by default\r\n&gt; read using ISO-8859-1 character encoding. You would need to escape\r\n&gt; them by unicode escapes. This can be done using the JDK-supplied\r\n&gt; `native2ascii.exe` tool. See also [this article section][11] for more\r\n&gt; detail. \r\n&gt; \r\n&gt; A theoretical alternative would be to supply a bundle with a custom\r\n&gt; [`Control`][12] to load those files as UTF-8, but that&#39;s unfortunately\r\n&gt; not supported by the basic JSTL `fmt` taglib. You would need to manage\r\n&gt; it all yourself with help of a `Filter`. There are (MVC) frameworks\r\n&gt; which can handle this in a more transparent manner, like JSF, see also\r\n&gt; [this article][13].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/\r\n  [2]: http://docs.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/fmt/tld-summary.html\r\n  [3]: http://docs.oracle.com/javase/tutorial/i18n/resbundle/index.html\r\n  [4]: http://docs.oracle.com/javase/tutorial/essential/environment/properties.html\r\n  [5]: http://docs.oracle.com/javase/6/docs/api/java/util/ResourceBundle.html\r\n  [6]: http://en.wikipedia.org/wiki/List_of_ISO_639-1_codes\r\n  [7]: http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2\r\n  [8]: http://en.wikipedia.org/wiki/American_English\r\n  [9]: http://en.wikipedia.org/wiki/British_English\r\n  [10]: http://central.maven.org/maven2/javax/servlet/jstl/1.2/jstl-1.2.jar\r\n  [11]: http://balusc.blogspot.com/2009/05/unicode-how-to-get-characters-right.html#JavaPropertiesFiles\r\n  [12]: http://docs.oracle.com/javase/6/docs/api/java/util/ResourceBundle.Control.html\r\n  [13]: http://jdevelopment.nl/java/internationalization-jsf-utf8-encoded-properties-files/","title":"How to create mult language web application in jsp servlet?","body":"<p>Check out BalusC's answer here: <a href=\"https://stackoverflow.com/questions/4276061/how-to-internationalize-a-java-web-application\">How to internationalize/localize a JSP/Servlet web application?</a></p>\n<p>BalusC:</p>\n<blockquote>\n<p>In case of a basic JSP/Servlet webapplication, the basic approach\nwould be using <a href=\"http://docs.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/\" rel=\"nofollow noreferrer\">JSTL</a> <a href=\"http://docs.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/fmt/tld-summary.html\" rel=\"nofollow noreferrer\"><code>fmt</code> taglib</a> in combination with\n<a href=\"http://docs.oracle.com/javase/tutorial/i18n/resbundle/index.html\" rel=\"nofollow noreferrer\">resource bundles</a>. Resource bundles contain key-value pairs where\nthe key is a constant which is the same for all languages and the\nvalue differs per language. Resource bundles are usually <a href=\"http://docs.oracle.com/javase/tutorial/essential/environment/properties.html\" rel=\"nofollow noreferrer\">properties\nfiles</a> which are loaded by <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/ResourceBundle.html\" rel=\"nofollow noreferrer\"><code>ResourceBundle</code></a> API. This can\nhowever be customized so that you can load the key-value pairs from\nfor example a database.</p>\n<p>Here's an example how to internationalize the login form of your\nwebapplication with properties file based resource bundles.</p>\n<hr />\n<ol>\n<li><p>Create the following files and put them in some package, e.g. <code>com.example.i18n</code> (in case of Maven, put them in the package\nstructure inside <code>src/main/resources</code>).</p>\n<p><code>text.properties</code> (contains key-value pairs in the default language, usually English)</p>\n <pre>\n login.label.username = Username\n login.label.password = Password\n login.button.submit = Sign in\n </pre>\n<hr />\n<p><code>text_nl.properties</code> (contains Dutch (<code>nl</code>) key-value pairs)</p>\n <pre>\n login.label.username = Gebruikersnaam\n login.label.password = Wachtwoord\n login.button.submit = Inloggen\n </pre>\n<hr />\n<p><code>text_es.properties</code> (contains Spanish (<code>es</code>) key-value pairs)</p>\n <pre>\n login.label.username = Nombre de usuario\n login.label.password = Contraseña\n login.button.submit = Acceder\n </pre>\n<p>The resource bundle filename should adhere the following pattern <code>name_ll_CC.properties</code>. The <code>_ll</code> part should be the lowercase <a href=\"http://en.wikipedia.org/wiki/List_of_ISO_639-1_codes\" rel=\"nofollow noreferrer\">ISO\n693-1</a> language code. It is optional and only required whenever the\n<code>_CC</code> part is present. The <code>_CC</code> part should be the uppercase <a href=\"http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2\" rel=\"nofollow noreferrer\">ISO\n3166-1 Alpha-2</a> country code. It is optional and often only used to\ndistinguish between country-specific language dialects, like <a href=\"http://en.wikipedia.org/wiki/American_English\" rel=\"nofollow noreferrer\">American\nEnglish</a> (<code>_en_US</code>) and <a href=\"http://en.wikipedia.org/wiki/British_English\" rel=\"nofollow noreferrer\">British English</a> (<code>_en_GB</code>).</p>\n<hr />\n</li>\n<li><p>If not done yet, install JSTL. If you're running on a Servlet 2.5 container or newer (Tomcat 6.0 and so on) and your <code>web.xml</code> is\ndeclared conform the Servlet 2.5 specification, then just put\n<a href=\"http://central.maven.org/maven2/javax/servlet/jstl/1.2/jstl-1.2.jar\" rel=\"nofollow noreferrer\">jstl-1.2.jar</a> in webapp's <code>/WEB-INF/lib</code> folder.</p>\n<hr />\n</li>\n<li><p>Create the following example JSP file and put it in web content folder.</p>\n<p><code>login.jsp</code></p>\n</li>\n</ol>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;%@ page pageEncoding=&quot;UTF-8&quot; %&gt;\n&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\n&lt;%@ taglib prefix=&quot;fmt&quot; uri=&quot;http://java.sun.com/jsp/jstl/fmt&quot; %&gt;\n&lt;c:set var=&quot;language&quot; value=&quot;${not empty param.language ? \n  param.language : not empty language ? language :\n  pageContext.request.locale}&quot; scope=&quot;session&quot; /&gt;\n&lt;fmt:setLocale value=&quot;${language}&quot; /&gt;\n&lt;fmt:setBundle basename=&quot;com.example.i18n.text&quot; /&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;${language}&quot;&gt;\n    &lt;head&gt;\n        &lt;title&gt;JSP/JSTL i18n demo&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;form&gt;\n            &lt;select id=&quot;language&quot; name=&quot;language&quot; onchange=&quot;submit()&quot;&gt;\n                &lt;option value=&quot;en&quot; ${language == 'en' ? 'selected' : ''}&gt;English&lt;/option&gt;\n                &lt;option value=&quot;nl&quot; ${language == 'nl' ? 'selected' : ''}&gt;Nederlands&lt;/option&gt;\n                &lt;option value=&quot;es&quot; ${language == 'es' ? 'selected' : ''}&gt;Español&lt;/option&gt;\n            &lt;/select&gt;\n        &lt;/form&gt;\n        &lt;form method=&quot;post&quot;&gt;\n            &lt;label for=&quot;username&quot;&gt;&lt;fmt:message key=&quot;login.label.username&quot; /&gt;:&lt;/label&gt;\n            &lt;input type=&quot;text&quot; id=&quot;username&quot; name=&quot;username&quot;&gt;\n            &lt;br&gt;\n            &lt;label for=&quot;password&quot;&gt;&lt;fmt:message key=&quot;login.label.password&quot; /&gt;:&lt;/label&gt;\n            &lt;input type=&quot;password&quot; id=&quot;password&quot; name=&quot;password&quot;&gt;\n            &lt;br&gt;\n            &lt;fmt:message key=&quot;login.button.submit&quot; var=&quot;buttonValue&quot; /&gt;\n            &lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;${buttonValue}&quot;&gt;\n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>The <code>&lt;c:set var=&quot;language&quot;&gt;</code> manages the current language. If the language was supplied as request parameter (by language dropdown),\nthen it will be set. Else if the language was already previously set\nin the session, then stick to it instead. Else use the user supplied\nlocale in the request header.</p>\n<p>The <code>&lt;fmt:setLocale&gt;</code> sets the locale for resource bundle. It's important that this line is <em>before</em> the <code>&lt;fmt:setBundle&gt;</code>.</p>\n<p>The <code>&lt;fmt:setBundle&gt;</code> initializes the resource bundle by its base name (that is, the full qualified package name until with the sole\nname without the <code>_ll_CC</code> specifier).</p>\n<p>The <code>&lt;fmt:message&gt;</code> retrieves the message value by the specified bundle key.</p>\n<p>The <code>&lt;html lang=&quot;${language}&quot;&gt;</code> informs the searchbots what language the page is in so that it won't be marked as duplicate\ncontent (thus, good for SEO).</p>\n<p>The language dropdown will immediately submit by JavaScript when another language is chosen and the page will be refreshed with the newly chosen language.</p>\n<hr />\n<p>You however need to keep in mind that properties files are by default\nread using ISO-8859-1 character encoding. You would need to escape\nthem by unicode escapes. This can be done using the JDK-supplied\n<code>native2ascii.exe</code> tool. See also <a href=\"http://balusc.blogspot.com/2009/05/unicode-how-to-get-characters-right.html#JavaPropertiesFiles\" rel=\"nofollow noreferrer\">this article section</a> for more\ndetail.</p>\n<p>A theoretical alternative would be to supply a bundle with a custom\n<a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/ResourceBundle.Control.html\" rel=\"nofollow noreferrer\"><code>Control</code></a> to load those files as UTF-8, but that's unfortunately\nnot supported by the basic JSTL <code>fmt</code> taglib. You would need to manage\nit all yourself with help of a <code>Filter</code>. There are (MVC) frameworks\nwhich can handle this in a more transparent manner, like JSF, see also\n<a href=\"http://jdevelopment.nl/java/internationalization-jsf-utf8-encoded-properties-files/\" rel=\"nofollow noreferrer\">this article</a>.</p>\n</blockquote>\n"}],"owner":{"account_id":10177651,"reputation":29,"user_id":7515701,"display_name":"Sanghapal Salve"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1590,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1662120449,"creation_date":1528804535,"question_id":50816585,"body_markdown":"I have created web application but not sure,How to implement multiple language support like hindi etc.Does I18N can solve this or just google translator can do that?","title":"How to create mult language web application in jsp servlet?","body":"<p>I have created web application but not sure,How to implement multiple language support like hindi etc.Does I18N can solve this or just google translator can do that?</p>\n"},{"tags":["java","android","facebook","browser"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1662144348,"post_id":73582114,"comment_id":129946508,"body_markdown":"Welcome. The code should be properly formatted. There&#39;s such a thing as Java Code Conventions (https://www.oracle.com/technetwork/java/codeconventions-150003.pdf)","body":"Welcome. The code should be properly formatted. There&#39;s such a thing as Java Code Conventions (<a href=\"https://www.oracle.com/technetwork/java/codeconventions-150003.pdf\" rel=\"nofollow noreferrer\">oracle.com/technetwork/java/codeconventions-150003.pdf</a>)"},{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1662144692,"post_id":73582114,"comment_id":129946609,"body_markdown":"Maybe someone is fine about that, but I have trouble reading code with disordered indents.","body":"Maybe someone is fine about that, but I have trouble reading code with disordered indents."}],"owner":{"account_id":26226851,"reputation":1,"user_id":19903417,"display_name":"Sudha Pandian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662120186,"creation_date":1662119376,"question_id":73582114,"body_markdown":"***\r\nWhile Clicking on facebook button,redirect to web browser and open facebook login page.After enter our credentials and need to click the CONTINUE Button, On first click of Continue button, facebook page reloaded and second time it fetched all User details (Email,first Name,Last Name,Profile pic) on Android 9 OS only..Android 10,11 12 OS devices working.\r\n\r\n We have used android:launchmode as SINGLETASK for android 10,11 &amp; 12.but Android 9 OS not supporting.\r\n\r\n\r\nLibrary :     implementation &#39;com.facebook.android:facebook-android-sdk:14.1.1&#39;\r\nAndroid Manifest:\r\n \r\n ```\r\n&lt;provider\r\n    android:name=&quot;com.facebook.FacebookContentProvider&quot;\r\n    android:authorities=&quot;com.facebook.app.FacebookContentProvider399122648326004&quot;\r\n    android:exported=&quot;true&quot;\r\n    tools:ignore=&quot;ExportedContentProvider&quot; /&gt; \r\n&lt;meta-data\r\n    android:name=&quot;com.facebook.sdk.ApplicationId&quot;\r\n    android:value=&quot;@string/facebook_app_id&quot; /&gt;\r\n &lt;meta-data\r\n    android:name=&quot;com.facebook.sdk.ClientToken&quot;\r\n    android:value=&quot;@string/facebook_client_token&quot; /&gt;\r\n    android:name=&quot;com.facebook.FacebookActivity&quot;\r\n    android:configChanges=&quot;keyboard|keyboardHidden|screenLayout|screenSize|orientation&quot;\r\n    android:label=&quot;@string/app_name&quot;\r\n    android:launchMode=&quot;singleTask&quot;\r\n    android:theme=&quot;@android:style/Theme.Translucent.NoTitleBar&quot;\r\n    tools:replace=&quot;android:theme&quot; /&gt;\r\n```\r\n\r\nIn Android code:\r\n```\r\n @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        ThemeUtils.changeTheme(this);\r\n        setContentView(R.layout.activity);\r\n    FacebookSdk.sdkInitialize(ApprovalInHours.this);\r\n    callbackManager = CallbackManager.Factory.create();\r\n facebookLogin();\r\n});\r\n```\r\nHere We have written code for loginbutton and asking ReadPermissions\r\n```\r\n loginButton.setOnClickListener(new View.OnClickListener() {\r\n @Override\r\n public void onClick(View v) {\r\n  loginManager.logInWithReadPermissions(ApprovalInHours.this, Arrays.asList(\r\n                        &quot;email&quot;,\r\n                        &quot;public_profile&quot;,\r\n                        &quot;user_birthday&quot;));\r\n\r\n            }\r\n        });\r\n```\r\nCode for facebookLogin() and fetching user facebook details: \r\n\r\n```    \r\nprivate void facebookLogin() {\r\nLoginManager.getInstance().registerCallback(callbackManager,new FacebookCallback&lt;LoginResult&gt;() {\r\n @Override\r\n public void onSuccess(LoginResult loginResult) {\r\n Log.d(&quot;onSuccess&quot;,&quot;&quot;+loginResult.toString());\r\n //Use GraphApi to get the information into the app.\r\n    \r\n  GraphRequest request = GraphRequest.newMeRequest(\r\n  //pass two parameter\r\n   loginResult.getAccessToken(),                       //one is the current token\r\n   new GraphRequest.GraphJSONObjectCallback()            //2nd is grahJSONObject callback\r\n {\r\n  @Override\r\n  public void onCompleted(JSONObject object, GraphResponse response) {\r\n  Log.v(&quot;MainActivity&quot;, response.toString() + &quot;getToken&quot; + AccessToken.getCurrentAccessToken());    \r\n// Application code\r\n   try {\r\n  String obj = object.toString();                     //get complete JSON object refrence.\r\n  String name = object.getString(&quot;first_name&quot;);                 //get particular JSON Object\r\n  String last_name = object.getString(&quot;last_name&quot;);\r\n  final_name = name + last_name;\r\n  Log.d(&quot;checkFinalName&quot;, &quot;&quot; + final_name);\r\n } catch (Exception e) {\r\n  e.printStackTrace();\r\n  }\r\n  }\r\n  });\r\n                                Bundle parameters = new Bundle();\r\n                                parameters.putString(&quot;fields&quot;, &quot;id,name,email,gender,birthday&quot;);\r\n                                parameters.putString(\r\n                                        &quot;fields&quot;,\r\n                                        &quot;id, first_name, last_name, name, picture, email,gender&quot;\r\n                                );\r\n                                request.setParameters(parameters);\r\n                                request.executeAsync();\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onCancel() {\r\n                            Log.d(&quot;onCancel&quot;,&quot;onCancel&quot;);\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onError(FacebookException exception) {\r\n                            Log.d(&quot;onError&quot;,&quot;onCancel&quot;+exception.getMessage());\r\n                        }\r\n                    });\r\n    \r\n        }\r\n    \r\n          @Override\r\n            protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n                callbackManager.onActivityResult(requestCode, resultCode, data);\r\n                super.onActivityResult(requestCode, resultCode, data);\r\n                if(resultCode == -1){\r\n                    LoginManager.getInstance().logOut();\r\n                }\r\n                Log.d(&quot;checkLog&quot;,&quot;&quot;+&quot;checkLog&quot;);\r\n            }\r\n```\r\n","title":"Facebook reloaded twice in web browser from mobile app","body":"<hr />\n<p>While Clicking on facebook button,redirect to web browser and open facebook login page.After enter our credentials and need to click the CONTINUE Button, On first click of Continue button, facebook page reloaded and second time it fetched all User details (Email,first Name,Last Name,Profile pic) on Android 9 OS only..Android 10,11 12 OS devices working.</p>\n<p>We have used android:launchmode as SINGLETASK for android 10,11 &amp; 12.but Android 9 OS not supporting.</p>\n<p>Library :     implementation 'com.facebook.android:facebook-android-sdk:14.1.1'\nAndroid Manifest:</p>\n<pre><code>&lt;provider\n   android:name=&quot;com.facebook.FacebookContentProvider&quot;\n   android:authorities=&quot;com.facebook.app.FacebookContentProvider399122648326004&quot;\n   android:exported=&quot;true&quot;\n   tools:ignore=&quot;ExportedContentProvider&quot; /&gt; \n&lt;meta-data\n   android:name=&quot;com.facebook.sdk.ApplicationId&quot;\n   android:value=&quot;@string/facebook_app_id&quot; /&gt;\n&lt;meta-data\n   android:name=&quot;com.facebook.sdk.ClientToken&quot;\n   android:value=&quot;@string/facebook_client_token&quot; /&gt;\n   android:name=&quot;com.facebook.FacebookActivity&quot;\n   android:configChanges=&quot;keyboard|keyboardHidden|screenLayout|screenSize|orientation&quot;\n   android:label=&quot;@string/app_name&quot;\n   android:launchMode=&quot;singleTask&quot;\n   android:theme=&quot;@android:style/Theme.Translucent.NoTitleBar&quot;\n   tools:replace=&quot;android:theme&quot; /&gt;\n</code></pre>\n<p>In Android code:</p>\n<pre><code> @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        ThemeUtils.changeTheme(this);\n        setContentView(R.layout.activity);\n    FacebookSdk.sdkInitialize(ApprovalInHours.this);\n    callbackManager = CallbackManager.Factory.create();\n facebookLogin();\n});\n</code></pre>\n<p>Here We have written code for loginbutton and asking ReadPermissions</p>\n<pre><code> loginButton.setOnClickListener(new View.OnClickListener() {\n @Override\n public void onClick(View v) {\n  loginManager.logInWithReadPermissions(ApprovalInHours.this, Arrays.asList(\n                        &quot;email&quot;,\n                        &quot;public_profile&quot;,\n                        &quot;user_birthday&quot;));\n\n            }\n        });\n</code></pre>\n<p>Code for facebookLogin() and fetching user facebook details:</p>\n<pre><code>private void facebookLogin() {\nLoginManager.getInstance().registerCallback(callbackManager,new FacebookCallback&lt;LoginResult&gt;() {\n @Override\n public void onSuccess(LoginResult loginResult) {\n Log.d(&quot;onSuccess&quot;,&quot;&quot;+loginResult.toString());\n //Use GraphApi to get the information into the app.\n    \n  GraphRequest request = GraphRequest.newMeRequest(\n  //pass two parameter\n   loginResult.getAccessToken(),                       //one is the current token\n   new GraphRequest.GraphJSONObjectCallback()            //2nd is grahJSONObject callback\n {\n  @Override\n  public void onCompleted(JSONObject object, GraphResponse response) {\n  Log.v(&quot;MainActivity&quot;, response.toString() + &quot;getToken&quot; + AccessToken.getCurrentAccessToken());    \n// Application code\n   try {\n  String obj = object.toString();                     //get complete JSON object refrence.\n  String name = object.getString(&quot;first_name&quot;);                 //get particular JSON Object\n  String last_name = object.getString(&quot;last_name&quot;);\n  final_name = name + last_name;\n  Log.d(&quot;checkFinalName&quot;, &quot;&quot; + final_name);\n } catch (Exception e) {\n  e.printStackTrace();\n  }\n  }\n  });\n                                Bundle parameters = new Bundle();\n                                parameters.putString(&quot;fields&quot;, &quot;id,name,email,gender,birthday&quot;);\n                                parameters.putString(\n                                        &quot;fields&quot;,\n                                        &quot;id, first_name, last_name, name, picture, email,gender&quot;\n                                );\n                                request.setParameters(parameters);\n                                request.executeAsync();\n                        }\n    \n                        @Override\n                        public void onCancel() {\n                            Log.d(&quot;onCancel&quot;,&quot;onCancel&quot;);\n                        }\n    \n                        @Override\n                        public void onError(FacebookException exception) {\n                            Log.d(&quot;onError&quot;,&quot;onCancel&quot;+exception.getMessage());\n                        }\n                    });\n    \n        }\n    \n          @Override\n            protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n                callbackManager.onActivityResult(requestCode, resultCode, data);\n                super.onActivityResult(requestCode, resultCode, data);\n                if(resultCode == -1){\n                    LoginManager.getInstance().logOut();\n                }\n                Log.d(&quot;checkLog&quot;,&quot;&quot;+&quot;checkLog&quot;);\n            }\n</code></pre>\n"},{"tags":["java","indexof"],"answers":[{"tags":[],"owner":{"account_id":130930,"reputation":67596,"user_id":330565,"accept_rate":79,"display_name":"Nikita Rybak"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1353924362,"creation_date":1297645704,"answer_id":4988058,"question_id":4988050,"body_markdown":"There&#39;s a another version of `indexOf` method, taking `fromIndex` as parameter.  \r\nSo, you can call it in a loop, each time passing `prevPosition + 1` as a second parameter.\r\n\r\nDocumentation:  \r\n[http://download.oracle.com/javase/6/docs/api/java/lang/String.html#indexOf(int, int)](http://download.oracle.com/javase/6/docs/api/java/lang/String.html#indexOf%28int,%20int%29)","title":"Java indexOf method for multiple matches in String","body":"<p>There's a another version of <code>indexOf</code> method, taking <code>fromIndex</code> as parameter.<br>\nSo, you can call it in a loop, each time passing <code>prevPosition + 1</code> as a second parameter.</p>\n\n<p>Documentation:<br>\n<a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/String.html#indexOf%28int,%20int%29\" rel=\"nofollow\">http://download.oracle.com/javase/6/docs/api/java/lang/String.html#indexOf(int, int)</a></p>\n"},{"tags":[],"owner":{"account_id":272446,"reputation":27058,"user_id":563532,"accept_rate":100,"display_name":"Rob"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1465649527,"creation_date":1297645771,"answer_id":4988064,"question_id":4988050,"body_markdown":"You can specify the start index with [indexOf][1]. So, in your loop you store the last position of &#39;x&#39;, then search again using that index + 1.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#indexOf%28int,%20int%29","title":"Java indexOf method for multiple matches in String","body":"<p>You can specify the start index with <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#indexOf%28int,%20int%29\" rel=\"nofollow\">indexOf</a>. So, in your loop you store the last position of 'x', then search again using that index + 1.</p>\n"},{"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"down_vote_count":0,"up_vote_count":53,"is_accepted":true,"score":53,"last_activity_date":1297645891,"creation_date":1297645891,"answer_id":4988074,"question_id":4988050,"body_markdown":"There is a second variant of the `indexOf` method, which takes a start-index as a parameter.\r\n\r\n \r\n    i = str.indexOf(&#39;x&#39;);\r\n    while(i &gt;= 0) {\r\n         System.out.println(i);\r\n         i = str.indexOf(&#39;x&#39;, i+1);\r\n    }","title":"Java indexOf method for multiple matches in String","body":"<p>There is a second variant of the <code>indexOf</code> method, which takes a start-index as a parameter.</p>\n\n<pre><code>i = str.indexOf('x');\nwhile(i &gt;= 0) {\n     System.out.println(i);\n     i = str.indexOf('x', i+1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1752871,"reputation":7935,"user_id":1601571,"display_name":"&#214;mer Erden"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1662120008,"creation_date":1465652697,"answer_id":37764454,"question_id":4988050,"body_markdown":"Here is the solution with Streams API :  \r\n\r\n```java\r\nString text = &quot;Lets search for E ?&quot;;\r\n\r\nfinal char key = &#39;e&#39;;\r\nint[] indices = IntStream.range(0, text.length())\r\n    .filter(i -&gt; text.charAt(i) == key)\r\n    .toArray();\r\n```\r\nOutput will be like this :\r\n```java\r\n//1\r\n//6\r\n```\r\n\r\nIf you want to add upper case letters into your result, you need to change the `filter`&#39;s argument closure with :\r\n```java\r\n.filter(i -&gt; Character.toLowerCase(text.charAt(i)) == key)\r\n```\r\nThen the output will be like this :\r\n\r\n```\r\n//1\r\n//6\r\n//16\r\n```\r\n\r\nAdditionally if you just want to use the results or print it out for quick testing purposes you can do it with using `forEach` terminal operation: \r\n\r\n```java\r\nIntStream.range(0, text.length())\r\n    .filter(i -&gt; text.charAt(i) == key)\r\n    .forEach(System.out::println);\r\n```\r\n\r\n","title":"Java indexOf method for multiple matches in String","body":"<p>Here is the solution with Streams API :</p>\n<pre class=\"lang-java prettyprint-override\"><code>String text = &quot;Lets search for E ?&quot;;\n\nfinal char key = 'e';\nint[] indices = IntStream.range(0, text.length())\n    .filter(i -&gt; text.charAt(i) == key)\n    .toArray();\n</code></pre>\n<p>Output will be like this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>//1\n//6\n</code></pre>\n<p>If you want to add upper case letters into your result, you need to change the <code>filter</code>'s argument closure with :</p>\n<pre class=\"lang-java prettyprint-override\"><code>.filter(i -&gt; Character.toLowerCase(text.charAt(i)) == key)\n</code></pre>\n<p>Then the output will be like this :</p>\n<pre><code>//1\n//6\n//16\n</code></pre>\n<p>Additionally if you just want to use the results or print it out for quick testing purposes you can do it with using <code>forEach</code> terminal operation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>IntStream.range(0, text.length())\n    .filter(i -&gt; text.charAt(i) == key)\n    .forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11316779,"reputation":1,"user_id":8298295,"display_name":"Alameer Kaiser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499957129,"creation_date":1499953108,"answer_id":45082359,"question_id":4988050,"body_markdown":"    String name = &quot;alameer kaiser aziz&quot;;\r\n    String found = &quot;a&quot;;\r\n    int num = name.indexOf(found);\r\n    while (num &gt;=0) {\r\n        System.out.println(num);\r\n        num = name.indexOf(found,num+1);\r\n    }\r\n","title":"Java indexOf method for multiple matches in String","body":"<pre><code>String name = \"alameer kaiser aziz\";\nString found = \"a\";\nint num = name.indexOf(found);\nwhile (num &gt;=0) {\n    System.out.println(num);\n    num = name.indexOf(found,num+1);\n}\n</code></pre>\n"}],"owner":{"account_id":710897,"reputation":1221,"user_id":615585,"accept_rate":91,"display_name":"Eric"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65543,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":4988074,"answer_count":5,"score":30,"last_activity_date":1662120008,"creation_date":1297645533,"question_id":4988050,"body_markdown":"I had a question about the indexOf method. I want to find multiple cases of &quot;X&quot; in a string.\r\n\r\nSuppose my string is &quot;x is x is x is x&quot;, I want to find x in all of its index positions.\r\nBut how do you do this for multiple cases? Is this even possible with indexOf?\r\n\r\nI did int temp = str.indexOf(&#39;x&#39;);\r\nIt find the first x. I tried to do a for loop where i is initialized to length of string and this did not work since I kept finding the first x over and over.\r\n\r\n    for (int y = temp1; y &gt;= 0;y-- ) \r\n    {\r\n        int temp = str.indexOf(&#39;x&#39;);\r\n        System.out.println(temp);\r\n    }\r\n\r\nBut this does not work. Am I supposed to use regex? Because I don&#39;t really know how to use regex method.\r\n\r\nAny help would be appreciated, thanks!","title":"Java indexOf method for multiple matches in String","body":"<p>I had a question about the indexOf method. I want to find multiple cases of \"X\" in a string.</p>\n\n<p>Suppose my string is \"x is x is x is x\", I want to find x in all of its index positions.\nBut how do you do this for multiple cases? Is this even possible with indexOf?</p>\n\n<p>I did int temp = str.indexOf('x');\nIt find the first x. I tried to do a for loop where i is initialized to length of string and this did not work since I kept finding the first x over and over.</p>\n\n<pre><code>for (int y = temp1; y &gt;= 0;y-- ) \n{\n    int temp = str.indexOf('x');\n    System.out.println(temp);\n}\n</code></pre>\n\n<p>But this does not work. Am I supposed to use regex? Because I don't really know how to use regex method.</p>\n\n<p>Any help would be appreciated, thanks!</p>\n"},{"tags":["java","vavr"],"answers":[{"tags":[],"owner":{"account_id":442405,"reputation":2504,"user_id":833009,"accept_rate":50,"display_name":"jvwilge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662119990,"creation_date":1662119990,"answer_id":73582236,"question_id":70084168,"body_markdown":"In our project we call `.mapError(Util::flattenErrors)` after `.ap`. I have the feeling that there is a better way, but this at least solves the nesting.\r\n\r\nThe method in the Util class looks like this :\r\n\r\n```\r\npublic static Seq&lt;ConstraintViolation&gt; flattenErrors(final Seq&lt;Seq&lt;ConstraintViolation&gt;&gt; nested) {\r\n    return nested\r\n            .flatMap(Function.identity())\r\n            .distinct(); // duplicate removal\r\n}\r\n```","title":"vavr add nested validations with validations combine","body":"<p>In our project we call <code>.mapError(Util::flattenErrors)</code> after <code>.ap</code>. I have the feeling that there is a better way, but this at least solves the nesting.</p>\n<p>The method in the Util class looks like this :</p>\n<pre><code>public static Seq&lt;ConstraintViolation&gt; flattenErrors(final Seq&lt;Seq&lt;ConstraintViolation&gt;&gt; nested) {\n    return nested\n            .flatMap(Function.identity())\n            .distinct(); // duplicate removal\n}\n</code></pre>\n"}],"owner":{"account_id":23171530,"reputation":71,"user_id":17270714,"display_name":"raaeusagvc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1662119990,"creation_date":1637683815,"question_id":70084168,"body_markdown":"I have an input object as \r\n\r\n    class Person {\r\n    \r\n        private String name;\r\n        private String email;\r\n        private String phone;\r\n        private Address address;\r\n    \r\n        public static class Address {\r\n    \r\n            private String city;\r\n            private String pincode;\r\n            private String street;\r\n            private AddrDetails details;\r\n    \r\n            public static class AddrDetails  {\r\n    \r\n                private String state;\r\n                private String country;\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nI am using vavr Validations to validate the input\r\n\r\n    public static Validation&lt;Seq&lt;ConstraintViolation&gt;, PersonDetailsModel&gt; validatePerson(PersonDetailsRequest request) {\r\n        Validation\r\n            .combine(\r\n            \tvalidateName(&quot;name&quot;, request.getName()),\r\n            \tvalidateEmail(&quot;email&quot;, request.getEmail()),\r\n                validatePhone(&quot;phone&quot;, request.getPhone()),\r\n                validateAddress(request.getAddress())\r\n            ).ap((name, email, phone, address) -&gt; new PersonDetailsModel(name, email, phone, address);\r\n    }\r\n\r\n    public static Validation&lt;Seq&lt;ConstraintViolation&gt;, Person.Address&gt; validateAddress(\r\n      Person.Address request) {\r\n\r\n         return Validation\r\n            .combine(..\r\n            ).ap((..) -&gt; new Person.Address(..);\r\n\r\n    }\r\n\r\nIn the second function, it returns Seq of ConstraintViolation while validatePerson expects only ConstraintViolation which is why it is failing although I have to add one more level of nesting of validations for AddrDetails. How to handle nested objects validations with this approach.\r\n\r\nI am not sure about how shall I go ahead?","title":"vavr add nested validations with validations combine","body":"<p>I have an input object as</p>\n<pre><code>class Person {\n\n    private String name;\n    private String email;\n    private String phone;\n    private Address address;\n\n    public static class Address {\n\n        private String city;\n        private String pincode;\n        private String street;\n        private AddrDetails details;\n\n        public static class AddrDetails  {\n\n            private String state;\n            private String country;\n\n        }\n    }\n}\n</code></pre>\n<p>I am using vavr Validations to validate the input</p>\n<pre><code>public static Validation&lt;Seq&lt;ConstraintViolation&gt;, PersonDetailsModel&gt; validatePerson(PersonDetailsRequest request) {\n    Validation\n        .combine(\n            validateName(&quot;name&quot;, request.getName()),\n            validateEmail(&quot;email&quot;, request.getEmail()),\n            validatePhone(&quot;phone&quot;, request.getPhone()),\n            validateAddress(request.getAddress())\n        ).ap((name, email, phone, address) -&gt; new PersonDetailsModel(name, email, phone, address);\n}\n\npublic static Validation&lt;Seq&lt;ConstraintViolation&gt;, Person.Address&gt; validateAddress(\n  Person.Address request) {\n\n     return Validation\n        .combine(..\n        ).ap((..) -&gt; new Person.Address(..);\n\n}\n</code></pre>\n<p>In the second function, it returns Seq of ConstraintViolation while validatePerson expects only ConstraintViolation which is why it is failing although I have to add one more level of nesting of validations for AddrDetails. How to handle nested objects validations with this approach.</p>\n<p>I am not sure about how shall I go ahead?</p>\n"},{"tags":["java","spring-boot","rabbitmq","amqp"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1591680701,"post_id":62275551,"comment_id":110139478,"body_markdown":"You are confusing things. The threadpool of 200 threads is for handling http requests and is the threadpool from Tomcat (the default container) it is not usable for Spring Boot. To use multiple concurrent handlers for rabbit-mq you need to configure it as such (as explained in the manual).","body":"You are confusing things. The threadpool of 200 threads is for handling http requests and is the threadpool from Tomcat (the default container) it is not usable for Spring Boot. To use multiple concurrent handlers for rabbit-mq you need to configure it as such (as explained in the manual)."},{"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"score":0,"creation_date":1591681217,"post_id":62275551,"comment_id":110139670,"body_markdown":"@M.Deinum So if there are 1001 request packets targeted for a queue, and each packet takes 10 seconds to process, then the last packet will have to wait for 10000 seconds?","body":"@M.Deinum So if there are 1001 request packets targeted for a queue, and each packet takes 10 seconds to process, then the last packet will have to wait for 10000 seconds?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1591684864,"post_id":62275551,"comment_id":110140930,"body_markdown":"Read... No you don&#39;t *but** the thread pool used for HTTP request handling has **nothing** to do with the threads used by RabbitMQ. As I mentioned if you want to have concurrent consumers then configure the listener as such, it will use a separate thread pool .","body":"Read... No you don&#39;t <i>but*</i> the thread pool used for HTTP request handling has <b>nothing</b> to do with the threads used by RabbitMQ. As I mentioned if you want to have concurrent consumers then configure the listener as such, it will use a separate thread pool ."}],"answers":[{"tags":[],"owner":{"account_id":294648,"reputation":452,"user_id":598656,"display_name":"user598656"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662119693,"creation_date":1662119693,"answer_id":73582177,"question_id":62275551,"body_markdown":"Take a look at the &quot;concurrency&quot; parameter to @RabbitListener:\r\nhttps://docs.spring.io/spring-amqp/api/org/springframework/amqp/rabbit/annotation/RabbitListener.html#concurrency()","title":"RabbitListener using same thread over and over in Spring Boot Application","body":"<p>Take a look at the &quot;concurrency&quot; parameter to @RabbitListener:\n<a href=\"https://docs.spring.io/spring-amqp/api/org/springframework/amqp/rabbit/annotation/RabbitListener.html#concurrency()\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-amqp/api/org/springframework/amqp/rabbit/annotation/RabbitListener.html#concurrency()</a></p>\n"}],"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1987,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662119693,"creation_date":1591680093,"question_id":62275551,"body_markdown":"I want to test how a RabbitListener behaves when multiple requests are sent to it, kind of load testing. So here&#39;s what I have done - I created a rabbit listener: \r\n\r\n    @RabbitListener(queues = &quot;one.two.three.queue&quot;)\r\n    public void queueConsumer1(Message message) throws JsonProcessingException, InterruptedException {\r\n        Country country = objectMapper.readValue(new String(message.getBody(), StandardCharsets.UTF_8), Country.class);\r\n\r\n        System.out.println(Thread.currentThread().getName()+&quot; - &quot;+country.getName());\r\n\r\n        Thread.sleep(10000); //  assuming the whole process after this takes 10 seconds\r\n    }\r\n\r\nThis listener is inside a spring boot application. In spring boot, default thread pool size is 200. Before starting this application, I have queued 20 messages of type country in RabbitMQ server. \r\n\r\nWhen I started the application, I was hoping it would print country names with different thread names all at once. But it is printing country names with same thread name and it takes ten second gap between each country.\r\n\r\n    org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1 - DRC\r\n    org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1 - South Africa\r\n\r\nI am not able to understand this behavior, As so many threads (up to 200) are available in thread pool, it should use them instead of using the same thread.","title":"RabbitListener using same thread over and over in Spring Boot Application","body":"<p>I want to test how a RabbitListener behaves when multiple requests are sent to it, kind of load testing. So here's what I have done - I created a rabbit listener: </p>\n\n<pre><code>@RabbitListener(queues = \"one.two.three.queue\")\npublic void queueConsumer1(Message message) throws JsonProcessingException, InterruptedException {\n    Country country = objectMapper.readValue(new String(message.getBody(), StandardCharsets.UTF_8), Country.class);\n\n    System.out.println(Thread.currentThread().getName()+\" - \"+country.getName());\n\n    Thread.sleep(10000); //  assuming the whole process after this takes 10 seconds\n}\n</code></pre>\n\n<p>This listener is inside a spring boot application. In spring boot, default thread pool size is 200. Before starting this application, I have queued 20 messages of type country in RabbitMQ server. </p>\n\n<p>When I started the application, I was hoping it would print country names with different thread names all at once. But it is printing country names with same thread name and it takes ten second gap between each country.</p>\n\n<pre><code>org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1 - DRC\norg.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1 - South Africa\n</code></pre>\n\n<p>I am not able to understand this behavior, As so many threads (up to 200) are available in thread pool, it should use them instead of using the same thread.</p>\n"},{"tags":["java","minecraft","minecraft-fabric"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1639217066,"post_id":70313890,"comment_id":124295608,"body_markdown":"there isn&#39;t a `player.openedinventory` ? Because for me, the given object `player.inventory` refer to the inv at the bottom","body":"there isn&#39;t a <code>player.openedinventory</code> ? Because for me, the given object <code>player.inventory</code> refer to the inv at the bottom"},{"owner":{"account_id":17848421,"reputation":658,"user_id":12964643,"display_name":"KingsDev"},"score":0,"creation_date":1639260646,"post_id":70313890,"comment_id":124304693,"body_markdown":"There is no ```player.openedinventory``` or similar.  I did point out in the post that I thought ```player.inventory``` was the bottom inventory.","body":"There is no <code>player.openedinventory</code> or similar.  I did point out in the post that I thought <code>player.inventory</code> was the bottom inventory."},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1653063827,"post_id":70313890,"comment_id":127767835,"body_markdown":"Did you find a way ?","body":"Did you find a way ?"},{"owner":{"account_id":17848421,"reputation":658,"user_id":12964643,"display_name":"KingsDev"},"score":0,"creation_date":1653126948,"post_id":70313890,"comment_id":127778679,"body_markdown":"Yeah, but I&#39;d have to go digging to find it.  Did you need it?","body":"Yeah, but I&#39;d have to go digging to find it.  Did you need it?"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1653176440,"post_id":70313890,"comment_id":127787715,"body_markdown":"If you need lot of search, no. I think I have a way. But, if you find it again, you can self answer to your question","body":"If you need lot of search, no. I think I have a way. But, if you find it again, you can self answer to your question"},{"owner":{"account_id":17848421,"reputation":658,"user_id":12964643,"display_name":"KingsDev"},"score":0,"creation_date":1662119717,"post_id":70313890,"comment_id":129938090,"body_markdown":"@Elikill58 9 months later but I&#39;ve had another look at the question and figured out how to solve it.  Did you still need it?","body":"@Elikill58 9 months later but I&#39;ve had another look at the question and figured out how to solve it.  Did you still need it?"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":1,"creation_date":1662120136,"post_id":70313890,"comment_id":129938209,"body_markdown":"Thanks for news. I think I fix it since this date too, I don&#39;t remember exactly for what I needed it. But it&#39;s perfect if you self-answered","body":"Thanks for news. I think I fix it since this date too, I don&#39;t remember exactly for what I needed it. But it&#39;s perfect if you self-answered"}],"answers":[{"tags":[],"owner":{"account_id":17848421,"reputation":658,"user_id":12964643,"display_name":"KingsDev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662119642,"creation_date":1662119642,"answer_id":73582169,"question_id":70313890,"body_markdown":"This can be achieved through [Mixins][1].  \r\nMore specifically, this can be achieved by Mixining into `HandledScreens`&#39;s `open(ScreenHandlerType&lt;T&gt;, MinecraftClient, int, Text)` method.\r\n\r\nFirst, create the mixin class and register it in your mod&#39;s `mod.mixins.json`&#39;s client section.\r\n```java\r\nimport net.minecraft.client.gui.screen.ingame.HandledScreens;\r\nimport org.spongepowered.asm.mixin.Mixin;\r\n\r\n@Mixin(HandledScreens.class)\r\npublic class HandledScreensMixin {\r\n\r\n}\r\n```\r\n\r\nNext, inject into the head of `open(ScreenHandlerType&lt;T&gt;, MinecraftClient, int, Text)`:\r\n```java\r\n@Inject(at = @At(&quot;HEAD&quot;), method = &quot;open&quot;)\r\nprivate static &lt;T extends ScreenHandler&gt; void open(ScreenHandlerType&lt;T&gt; type, MinecraftClient client, int id, Text title, CallbackInfo ci) {\r\n\r\n}\r\n```\r\n\r\nIn order to obtain a String version of the title, you can use `title.getString()`.  \r\nWhat you choose to do next depends on what your goal is.\r\n\r\nFor example, you could use a class with a getter and a setter so that you can access the value later.\r\n\r\n\r\n  [1]: https://fabricmc.net/wiki/tutorial:mixin_introduction","title":"How to get the title of the open inventory using a fabric 1.16.5 mod","body":"<p>This can be achieved through <a href=\"https://fabricmc.net/wiki/tutorial:mixin_introduction\" rel=\"nofollow noreferrer\">Mixins</a>.<br />\nMore specifically, this can be achieved by Mixining into <code>HandledScreens</code>'s <code>open(ScreenHandlerType&lt;T&gt;, MinecraftClient, int, Text)</code> method.</p>\n<p>First, create the mixin class and register it in your mod's <code>mod.mixins.json</code>'s client section.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import net.minecraft.client.gui.screen.ingame.HandledScreens;\nimport org.spongepowered.asm.mixin.Mixin;\n\n@Mixin(HandledScreens.class)\npublic class HandledScreensMixin {\n\n}\n</code></pre>\n<p>Next, inject into the head of <code>open(ScreenHandlerType&lt;T&gt;, MinecraftClient, int, Text)</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Inject(at = @At(&quot;HEAD&quot;), method = &quot;open&quot;)\nprivate static &lt;T extends ScreenHandler&gt; void open(ScreenHandlerType&lt;T&gt; type, MinecraftClient client, int id, Text title, CallbackInfo ci) {\n\n}\n</code></pre>\n<p>In order to obtain a String version of the title, you can use <code>title.getString()</code>.<br />\nWhat you choose to do next depends on what your goal is.</p>\n<p>For example, you could use a class with a getter and a setter so that you can access the value later.</p>\n"}],"owner":{"account_id":17848421,"reputation":658,"user_id":12964643,"display_name":"KingsDev"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":603,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73582169,"answer_count":1,"score":2,"last_activity_date":1662119642,"creation_date":1639213841,"question_id":70313890,"body_markdown":"I&#39;m using fabric 1.16.5 to develop a client-side mod for minecraft, and I am trying to get the title of the open inventory (see example below).\r\n\r\n[![inventory example][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tC78e.png\r\n\r\nIn the example, the title is &quot;Sell Items - 0&quot; (with the emoji).\r\n\r\n**What I&#39;ve tried:**\r\n  - ```MinecraftClient.getInstance().player.inventory.getName()``` -&gt; Returns &quot;Inventory&quot;\r\n  - ```MinecraftClient.getInstance().player.inventory.getDisplayName()``` -&gt; Returns &quot;Inventory&quot;\r\n  - ```MinecraftClient.getInstance().player.inventory.getCustomName()``` -&gt; Returns null\r\n\r\nBecause of the results, I&#39;m guessing that inventory is returning the bottom inventory, the survival inventory.  How can I get the custom inventory provided by the server (the top inventory).\r\n\r\nAll help is appreciated.","title":"How to get the title of the open inventory using a fabric 1.16.5 mod","body":"<p>I'm using fabric 1.16.5 to develop a client-side mod for minecraft, and I am trying to get the title of the open inventory (see example below).</p>\n<p><a href=\"https://i.stack.imgur.com/tC78e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tC78e.png\" alt=\"inventory example\" /></a></p>\n<p>In the example, the title is &quot;Sell Items - 0&quot; (with the emoji).</p>\n<p><strong>What I've tried:</strong></p>\n<ul>\n<li><code>MinecraftClient.getInstance().player.inventory.getName()</code> -&gt; Returns &quot;Inventory&quot;</li>\n<li><code>MinecraftClient.getInstance().player.inventory.getDisplayName()</code> -&gt; Returns &quot;Inventory&quot;</li>\n<li><code>MinecraftClient.getInstance().player.inventory.getCustomName()</code> -&gt; Returns null</li>\n</ul>\n<p>Because of the results, I'm guessing that inventory is returning the bottom inventory, the survival inventory.  How can I get the custom inventory provided by the server (the top inventory).</p>\n<p>All help is appreciated.</p>\n"},{"tags":["java","design-patterns","dsl","builder","fluent"],"answers":[{"tags":[],"owner":{"account_id":37187,"reputation":46683,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1396868400,"creation_date":1396868053,"answer_id":22910346,"question_id":22909717,"body_markdown":"a static inner builder, made famous by josh bloch in effective java.\r\n\r\nRequired parameters are constructor args, optional are methods.\r\n\r\nAn example.  The invocation where only username is required :\r\n\r\n    RegisterUserDto myDto = RegisterUserDto.Builder(myUsername).password(mypassword).email(myemail).Build();\r\n\r\nAnd the underlying code(omitting the obvious instance vars) :\r\n\r\n\r\n\r\n    private RegisterUserDTO(final Builder builder) {\r\n    \t\tsuper();\r\n    \t\tthis.username = builder.username;\r\n    \t\tthis.firstName = builder.firstName;\r\n    \t\tthis.surname = builder.surname;\r\n    \t\tthis.password = builder.password;\r\n    \t\tthis.confirmPassword = builder.confirmPassword;\r\n    \t}\r\n    \r\n           \r\n        public static class Builder {\r\n    \t\tprivate final String username;\r\n    \r\n    \t\tprivate String firstName;\r\n    \r\n    \t\tprivate String surname;\r\n    \r\n    \t\tprivate String password;\r\n    \r\n    \t\tprivate String confirmPassword;\r\n    \r\n    \t\tpublic Builder(final String username) {\r\n    \t\t\tsuper();\r\n    \t\t\tthis.username = username;\r\n    \t\t}\r\n    \r\n    \t\tpublic Builder firstname(final String firstName) {\r\n    \t\t\tthis.firstName = firstName;\r\n    \t\t\treturn this;\r\n    \t\t}\r\n    \r\n    \t\tpublic Builder surname(final String surname) {\r\n    \t\t\tthis.surname = surname;\r\n    \t\t\treturn this;\r\n    \t\t}\r\n    \r\n    \t\tpublic Builder password(final String password) {\r\n    \t\t\tthis.password = password;\r\n    \t\t\treturn this;\r\n    \t\t}\r\n    \r\n    \t\tpublic Builder confirmPassword(final String confirmPassword) {\r\n    \t\t\tthis.confirmPassword = confirmPassword;\r\n    \t\t\treturn this;\r\n    \t\t}\r\n    \r\n    \t\tpublic RegisterUserDTO build() {\r\n    \t\t\treturn new RegisterUserDTO(this);\r\n    \t\t}\r\n    \t}\r\n\r\n  [1]: http://stackoverflow.com/questions/5007355/builder-pattern-in-effective-java\r\n","title":"Is this Monster Builder a good Builder / Factory pattern for abstracting long constructors mixed with setters?","body":"<p>a static inner builder, made famous by josh bloch in effective java.</p>\n\n<p>Required parameters are constructor args, optional are methods.</p>\n\n<p>An example.  The invocation where only username is required :</p>\n\n<pre><code>RegisterUserDto myDto = RegisterUserDto.Builder(myUsername).password(mypassword).email(myemail).Build();\n</code></pre>\n\n<p>And the underlying code(omitting the obvious instance vars) :</p>\n\n<pre><code>private RegisterUserDTO(final Builder builder) {\n        super();\n        this.username = builder.username;\n        this.firstName = builder.firstName;\n        this.surname = builder.surname;\n        this.password = builder.password;\n        this.confirmPassword = builder.confirmPassword;\n    }\n\n\n    public static class Builder {\n        private final String username;\n\n        private String firstName;\n\n        private String surname;\n\n        private String password;\n\n        private String confirmPassword;\n\n        public Builder(final String username) {\n            super();\n            this.username = username;\n        }\n\n        public Builder firstname(final String firstName) {\n            this.firstName = firstName;\n            return this;\n        }\n\n        public Builder surname(final String surname) {\n            this.surname = surname;\n            return this;\n        }\n\n        public Builder password(final String password) {\n            this.password = password;\n            return this;\n        }\n\n        public Builder confirmPassword(final String confirmPassword) {\n            this.confirmPassword = confirmPassword;\n            return this;\n        }\n\n        public RegisterUserDTO build() {\n            return new RegisterUserDTO(this);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3439949,"reputation":4010,"user_id":2882136,"accept_rate":68,"display_name":"phil_20686"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1397131391,"creation_date":1397038293,"answer_id":22959363,"question_id":22909717,"body_markdown":"So the static inner builder combined with a factory function can do some of what you want.\r\n(1) It can enforce dependencies of the type if A is set, also B.\r\n(2) It can return different classes.\r\n(3) It can do logic checking on the entries.\r\n\r\nHowever, it will still fail if the programmers enters the wrong fields.\r\n\r\nA possible advantage is the &quot;multiple builders&quot; pattern. If the client knows ahead of time the purpose of why he is building a particular element, then he can get a different builder. You can make a builder for every combination.\r\n\r\nDepending on the type of logical dependencies in your class you can combine these multiple builders with one general builder. You can have, say, a general builder, and when you call setOption(A) on the general builder it returns a different class of builder, to which you can only chain the methods that continue to be relevant.Thus you get fluency, but you can exclude some paths. When you do this you have to be careful to nullify fields which were set but have become irrelevant - you cannot make the builders sub classes of each other.\r\n\r\nThis can force the client to choose at compile time how to construct the object, is that what you are after?\r\n\r\nUPDATE - tried to answer the comments:\r\n\r\nSo first things first - a factory function is item one in Joshua Blocks Effective Java, it just means that for an object you make the constructor private, and instead make a static factory function. This is more flexible than a constructor, because it can return different object types. When you combine a factory function with multiple builders you can get a very powerful combination indeed. Here is the pattern description: http://en.wikipedia.org/wiki/Factory_method_pattern\r\nhttp://en.wikipedia.org/wiki/Abstract_factory_pattern\r\n\r\nSo imagine that you want to create objects that describe a person and their job, but when you specify their job you want to have a list of specific sub options.\r\n\r\n    public class outer{\r\n        Map &lt;Map&lt;Class&lt;?&gt;, Object&gt; jobsMap - holds a class object of the new builder class, and a prototypical isntance which can be cloned.\r\n        outer(){\r\n            jobsMap.add(Mechanic.class, new Mechanic());\r\n            //add other classes to the map\r\n        }\r\n    \r\n        public class GeneralBuilder{\r\n        String name;\r\n        int age;\r\n     \r\n    //constructor enforces mandatory parameters.\r\n        GeneralBuilder(String name, int age, \\\\other mandatory paramerters){\r\n            //set params\r\n        }\r\n    \r\n        public T setJob(Class&lt;T extends AbstractJob&gt; job){\r\n            AbstractJob result = super.jobsMap.getValue(job).clone();\r\n            //set General Builder parameters name, age, etc\r\n            return (T) result;\r\n        }\r\n    }\r\n\r\n    public MechanicBuilder extends AbstractJobs{\r\n    //specific properties\r\n        MechanicBuilder(GeneralBuilder){\r\n          // set age, name, other General Builder properties\r\n        }\r\n        //setters for specific properties return this\r\n        public Person build(){\r\n            //check mechanic mandatory parameters filled, else throw exception.\r\n            return Person.factory(this);\r\n        }\r\n    }\r\n\r\n    public abstract class AbstractJob{\r\n        String name;\r\n        String age;\r\n        //setters;\r\n    }\r\n\r\n    public class Person {\r\n    //a big class with lots of options\r\n    //private constructor\r\n        public static Person Factory(Mechanic mechanic){\r\n            //set relevant person options\r\n        }\r\n    }\r\n\r\nSo this is now fluent. I create an instance of outer, and fill the map with all the specific jobs types. I then can create from this as many new builders as I want as instances of the inner class. I set the parameters for the general builder calling .setJobs(Mechanic.class) and it returns an instance of mechanic which has a bunch of specific properties, which i can now call fluently using .setOptionA() etc. Eventually I call build, and this calls the static factory method in the Person class and passes itself. You get back a person class.\r\n\r\nIts a lot of implementation, as you have to create a specific builder class for each &quot;type&quot; of object that might be represented by the Person class, but it does make an API that is very easy for the client to use. In practice, although these classes have lots of options, in practice there may be only a handful of patterns that people intend to create, and all the rest only appear by accident.\r\n\r\n\r\n","title":"Is this Monster Builder a good Builder / Factory pattern for abstracting long constructors mixed with setters?","body":"<p>So the static inner builder combined with a factory function can do some of what you want.\n(1) It can enforce dependencies of the type if A is set, also B.\n(2) It can return different classes.\n(3) It can do logic checking on the entries.</p>\n\n<p>However, it will still fail if the programmers enters the wrong fields.</p>\n\n<p>A possible advantage is the \"multiple builders\" pattern. If the client knows ahead of time the purpose of why he is building a particular element, then he can get a different builder. You can make a builder for every combination.</p>\n\n<p>Depending on the type of logical dependencies in your class you can combine these multiple builders with one general builder. You can have, say, a general builder, and when you call setOption(A) on the general builder it returns a different class of builder, to which you can only chain the methods that continue to be relevant.Thus you get fluency, but you can exclude some paths. When you do this you have to be careful to nullify fields which were set but have become irrelevant - you cannot make the builders sub classes of each other.</p>\n\n<p>This can force the client to choose at compile time how to construct the object, is that what you are after?</p>\n\n<p>UPDATE - tried to answer the comments:</p>\n\n<p>So first things first - a factory function is item one in Joshua Blocks Effective Java, it just means that for an object you make the constructor private, and instead make a static factory function. This is more flexible than a constructor, because it can return different object types. When you combine a factory function with multiple builders you can get a very powerful combination indeed. Here is the pattern description: <a href=\"http://en.wikipedia.org/wiki/Factory_method_pattern\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Factory_method_pattern</a>\n<a href=\"http://en.wikipedia.org/wiki/Abstract_factory_pattern\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Abstract_factory_pattern</a></p>\n\n<p>So imagine that you want to create objects that describe a person and their job, but when you specify their job you want to have a list of specific sub options.</p>\n\n<pre><code>public class outer{\n    Map &lt;Map&lt;Class&lt;?&gt;, Object&gt; jobsMap - holds a class object of the new builder class, and a prototypical isntance which can be cloned.\n    outer(){\n        jobsMap.add(Mechanic.class, new Mechanic());\n        //add other classes to the map\n    }\n\n    public class GeneralBuilder{\n    String name;\n    int age;\n\n//constructor enforces mandatory parameters.\n    GeneralBuilder(String name, int age, \\\\other mandatory paramerters){\n        //set params\n    }\n\n    public T setJob(Class&lt;T extends AbstractJob&gt; job){\n        AbstractJob result = super.jobsMap.getValue(job).clone();\n        //set General Builder parameters name, age, etc\n        return (T) result;\n    }\n}\n\npublic MechanicBuilder extends AbstractJobs{\n//specific properties\n    MechanicBuilder(GeneralBuilder){\n      // set age, name, other General Builder properties\n    }\n    //setters for specific properties return this\n    public Person build(){\n        //check mechanic mandatory parameters filled, else throw exception.\n        return Person.factory(this);\n    }\n}\n\npublic abstract class AbstractJob{\n    String name;\n    String age;\n    //setters;\n}\n\npublic class Person {\n//a big class with lots of options\n//private constructor\n    public static Person Factory(Mechanic mechanic){\n        //set relevant person options\n    }\n}\n</code></pre>\n\n<p>So this is now fluent. I create an instance of outer, and fill the map with all the specific jobs types. I then can create from this as many new builders as I want as instances of the inner class. I set the parameters for the general builder calling .setJobs(Mechanic.class) and it returns an instance of mechanic which has a bunch of specific properties, which i can now call fluently using .setOptionA() etc. Eventually I call build, and this calls the static factory method in the Person class and passes itself. You get back a person class.</p>\n\n<p>Its a lot of implementation, as you have to create a specific builder class for each \"type\" of object that might be represented by the Person class, but it does make an API that is very easy for the client to use. In practice, although these classes have lots of options, in practice there may be only a handful of patterns that people intend to create, and all the rest only appear by accident.</p>\n"},{"tags":[],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1397046639,"creation_date":1397046639,"answer_id":22962616,"question_id":22909717,"body_markdown":"Instead of your builder pattern I suggest creating a new constructor that introduces different parameter objects, which group different parameters. Then you can delegate to the original constructor from within that new constructor. Also mark the original constructor as deprecated and point to the new one. \r\n\r\nRefactoring to the constructor with parameter objects can also be done with IDE support and is therefore not much work. This way you could also refactor existing code. Than you still can create builders for the parameter objects and the class in question if they are still needed.\r\n\r\nThe problem you need to focus on is that different parameters depend on each other. And such dependencies should be reflected in objects of their own.\r\n\r\nThe problem with the chained builder is that you need just too much classes and that you can&#39;t change the order you are going to use them, even though that order is still correct.","title":"Is this Monster Builder a good Builder / Factory pattern for abstracting long constructors mixed with setters?","body":"<p>Instead of your builder pattern I suggest creating a new constructor that introduces different parameter objects, which group different parameters. Then you can delegate to the original constructor from within that new constructor. Also mark the original constructor as deprecated and point to the new one. </p>\n\n<p>Refactoring to the constructor with parameter objects can also be done with IDE support and is therefore not much work. This way you could also refactor existing code. Than you still can create builders for the parameter objects and the class in question if they are still needed.</p>\n\n<p>The problem you need to focus on is that different parameters depend on each other. And such dependencies should be reflected in objects of their own.</p>\n\n<p>The problem with the chained builder is that you need just too much classes and that you can't change the order you are going to use them, even though that order is still correct.</p>\n"},{"tags":[],"owner":{"account_id":3439949,"reputation":4010,"user_id":2882136,"accept_rate":68,"display_name":"phil_20686"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482366507,"creation_date":1482353190,"answer_id":41271612,"question_id":22909717,"body_markdown":"So I have had several years to think about this, and I think I now know the right way to so this.\r\n\r\nFirstly: implement every mandatory setting as a single method interface, which returns the next single method interface. This forces the client to fill out all required parameters, and has the added benefit that they must all be filled out in the same order everywhere in the code, making it easier to spot bugs.\r\n\r\nSecondly: implement all stand alone optional parameters in one interface which is the return type of the final parameter.\r\n\r\nThirdly: for any complicated sub-group of optional parameters, make more interfaces which force a choice of routes to go down.\r\n\r\n    interface FirstName {\r\n\r\n         public LastName setFirstName(String name)\r\n\r\n    }\r\n    interface LastName {\r\n        public OptionalInterface setLastName(String name)\r\n    }\r\n\r\n    interface OptionalParams {\r\n        public OptionalParams setOptionalParam(String numberOfBananas)\r\n        public OptionalParams setOptionalParam(int numberOfApples)\r\n        public AlcoholLevel setAlcoholLevel() // go down to a new interface\r\n        public MaritalStatus setMaritalStatus()\r\n\r\n        public Person build()\r\n    }\r\n    \r\n    interface AlcoholLevel {\r\n        //mutually exclusive options hoist you back to options\r\n        public OptionalParams setNumberOfBeers(int bottles)\r\n        public OptionalParams setBottlesOfWine(int wine)\r\n        public OptionalParams setShots(int shots)\r\n        public OptionalParams isHammered()\r\n        public OptionalParams isTeeTotal()\r\n        public OptionalParams isTipsy()\r\n    }\r\n\r\n    interface MaritalStatus {\r\n        public OptionalParams isUnmarried()\r\n        //force you into a required params loop\r\n        public HusbandFirstName hasHusband()\r\n        public WifeFirstName hasWife()\r\n    }\r\n\r\nBy having a series of one method interfaces you can largely force good behaviour on the client. This pattern works well with, for example, forming well formed HTTP requests in networks where certain authentications are required. An overlay of interfaces on top of a standard httml library steers clients in the right direction.\r\n\r\nSome conditional logic is basically too hard to be worth it. Things like insisting that the sum of parameter 1 and parameter 2 are less than parameter 3 are best dealt with by throwing a runtime exception on the build method. \r\n\r\n","title":"Is this Monster Builder a good Builder / Factory pattern for abstracting long constructors mixed with setters?","body":"<p>So I have had several years to think about this, and I think I now know the right way to so this.</p>\n\n<p>Firstly: implement every mandatory setting as a single method interface, which returns the next single method interface. This forces the client to fill out all required parameters, and has the added benefit that they must all be filled out in the same order everywhere in the code, making it easier to spot bugs.</p>\n\n<p>Secondly: implement all stand alone optional parameters in one interface which is the return type of the final parameter.</p>\n\n<p>Thirdly: for any complicated sub-group of optional parameters, make more interfaces which force a choice of routes to go down.</p>\n\n<pre><code>interface FirstName {\n\n     public LastName setFirstName(String name)\n\n}\ninterface LastName {\n    public OptionalInterface setLastName(String name)\n}\n\ninterface OptionalParams {\n    public OptionalParams setOptionalParam(String numberOfBananas)\n    public OptionalParams setOptionalParam(int numberOfApples)\n    public AlcoholLevel setAlcoholLevel() // go down to a new interface\n    public MaritalStatus setMaritalStatus()\n\n    public Person build()\n}\n\ninterface AlcoholLevel {\n    //mutually exclusive options hoist you back to options\n    public OptionalParams setNumberOfBeers(int bottles)\n    public OptionalParams setBottlesOfWine(int wine)\n    public OptionalParams setShots(int shots)\n    public OptionalParams isHammered()\n    public OptionalParams isTeeTotal()\n    public OptionalParams isTipsy()\n}\n\ninterface MaritalStatus {\n    public OptionalParams isUnmarried()\n    //force you into a required params loop\n    public HusbandFirstName hasHusband()\n    public WifeFirstName hasWife()\n}\n</code></pre>\n\n<p>By having a series of one method interfaces you can largely force good behaviour on the client. This pattern works well with, for example, forming well formed HTTP requests in networks where certain authentications are required. An overlay of interfaces on top of a standard httml library steers clients in the right direction.</p>\n\n<p>Some conditional logic is basically too hard to be worth it. Things like insisting that the sum of parameter 1 and parameter 2 are less than parameter 3 are best dealt with by throwing a runtime exception on the build method. </p>\n"},{"tags":[],"owner":{"account_id":6975655,"reputation":23966,"user_id":5825294,"accept_rate":78,"display_name":"Enlico"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662119594,"creation_date":1656451746,"answer_id":72793343,"question_id":22909717,"body_markdown":"## Disclaimer\r\n\r\nI know the question is tagged [tag:java], however it states multiple times that it is a &quot;human interface question&quot;, so I think that a sketch of a solution in another language like C++ can be useful, even if just for readers like me that end up here exploring design patterns (and questioning whether learning them is useful or a creativity stopper) with a language-agnostic approach.\r\n\r\n## Type safety\r\n\r\nGiven the constructors that you&#39;re forced to accept, I would say that a builder pattern can&#39;t do miracles, in the sense that, even if a constructor with all those parameters is ugly (I agree with you), trading it for a long chain of `methodCalls(withArgs)` in `makeHomer` doesn&#39;t make a tremendous improvement, imho; and that&#39;s unavoidable. After all, you still have to pass quite a few parameters, one way or another.\r\n\r\nTherefore I think it can be productive to step back and reason again about what exactly is wrong with the constructor, in an attempt to slim down the solution you&#39;ve already devised. We certainly have to accept that the solution will not be a short one-liner, but maybe we can improve it.\r\n\r\nIndeed, the pivotal point of the solution I propose (alas, in C++ not in Java) is that the problem with that constructor is not (or not only) that it takes 10 params, but that you can mistakenly mix them up entirely and still get an (invalid) person.\r\n\r\nAfter all, you already do that with your design by &quot;converting&quot; something which the compiler can&#39;t use to enforce anything (parameters&#39; names) into something that it can use in that respect (memeber function names).\r\n\r\nSo all you want is a way to call those two already existing constructors, but at the same time reducing to zero the chance of entering parameters in the wrong order (or not entering the required ones, or entering incompatible ones, or whatever) by making the compiler error out everytime you make such a mistake.\r\n\r\nIncidentally, and quite welcome is that a good IDE would accordingly produce\r\n\r\n  - good diagnostics,\r\n[![enter image description here][1]][1]\r\n  - as well as inline suggestions\r\n[![enter image description here][2]][2]\r\n\r\n(The above screenshots show my IDE (Vim) in action, when I&#39;ve made a mistake and when I&#39;m in the middle of passing the arguments to `makePerson`.)\r\n\r\nAn alternative to using member function names to encode the order/optionality/incompatibility of the parameters is to create a type-safe wrapper around the constructors by associating an ad-hoc type to each of the arguments. Once you do so, you can just call the constructor wrapper with object of the types its signature enforces.\r\n\r\nIn C++, user defined literals also help you write clear code in this respect. For instance, if you define these:\r\n```cpp\r\nstruct FirstName {\r\n  std::string str;\r\n};\r\nFirstName operator&quot;&quot; _first(char const* s, std::size_t) {\r\n  return {s};\r\n}\r\n```\r\nthen you can write `&quot;Homer&quot;_first` to create an object of class `FirstName`.\r\n\r\n## Avoid invalid states\r\n\r\nThese lines\r\n```java\r\n         // -- Controls alternatives for setters and the choice of constructors -- //\r\n        .doAlternatives()           //Either x or y. a, b, or c. etc.\r\n            .addBeersToday(3)       //Now can&#39;t call addHowDrunk(&quot;Hammered&quot;); \r\n            .addFavoriteBeer(&quot;Duff&quot;)//Now can’t call addJobTitle(&quot;Safety Inspector&quot;);  \r\n```\r\n(maybe also in view of the word _Now_ in your comments) suggest that you look at this logic as one which handles some time-varying states and that checks that something has happened already (e.g. calling `addBeersToday`) to prevent you from doing something else later (e.g. calling `addHowDrunk`). A probably better approach is to just avoid explictly dealing with such states. After all, the method chaining you refer to, does just that: it leverages compile-time information (the types) to prevent you from even trying to call `addHowDrunk` after `addBeersToday`.\r\n\r\nBut in C++, with function overloading you can do just that. And if the various overloads have much in common, you can actually write all of them at once, using `if constexpr` to branch on the few conditions that make them different.\r\n\r\n## The proposed approach\r\n\r\n\r\nThe solution I propose below, allows you to write `makeHomer` like this:\r\n```cpp\r\nPerson makeHomer() {\r\n    return makePerson(\r\n            &quot;Homer&quot;_first,\r\n            &quot;Jay&quot;_middle,\r\n            &quot;Simpson&quot;_last,\r\n            std::nullopt,\r\n            May/12/1956,\r\n            {&quot;Homer Thompson&quot;_alias, &quot;Max Power&quot;_alias},\r\n            3_beers,\r\n            &quot;Duff&quot;_favBeer)\r\n        .setClothing(&quot;Pants!!&quot;);\r\n}\r\n```\r\nwhere `makePerson` is playing roughly the role of the builder or, to be more precise, the role of a type-safe `Person`&#39;s constructor. The advantage of relying on [strong types](https://www.fluentcpp.com/2016/12/05/named-constructors/) is that, for instance, you can&#39;t even swap `&quot;Homer&quot;_first` and `&quot;Jay&quot;_middle` in the call above, otherwise you get a compile time error.\r\n\r\nHere&#39;s another possible usage of `makePerson`:\r\n```cpp\r\nPerson makeMaude() {\r\n    return makePerson(\r\n            &quot;Maude&quot;_first,\r\n            &quot;&quot;_middle,\r\n            &quot;Flanders&quot;_last,\r\n            &quot;???&quot;_maiden,\r\n            May/12/1956,\r\n            {},\r\n            &quot;teetotal&quot;_drunk /* instead of 3_beers */,\r\n            &quot;Ned&#39;s wife&quot;_job /* instead of &quot;Duff&quot;_favBeer */)\r\n        //.setClothing(&quot;Pants!!&quot;) let&#39;s leave her naked\r\n        ;\r\n```\r\nwhere you can see that I&#39;m passing arguments of the alternative types to the last two parameters.\r\n\r\nThe function `makePerson` does no more than unwrapping the strings from within the strongly typed wrappers and forwarding them to one or the other constructor based on a compile-time conditional:\r\n```cpp\r\ntemplate&lt;Drunkness Drunkness_, BeerOrJob BeerOrJob_&gt;\r\nPerson makePerson(\r\n        FirstName first,\r\n        MiddleName middle,\r\n        LastName last,\r\n        std::optional&lt;MaidenName&gt; maiden,\r\n        Date birth,\r\n        std::vector&lt;Alias&gt; aliases,\r\n        Drunkness_ drunkness,\r\n        BeerOrJob_ /* beerOrJob */) {\r\n\r\n    // Not sure how to use beerOrJob... Maybe by creating the Person but not\r\n    // returning it before calling a setter similar to setClothing?\r\n    if constexpr (std::is_same_v&lt;Drunkness_, BeersToday&gt;) {\r\n        return Person(first.str, middle.str, last.str,\r\n                maiden.value_or(&quot;null&quot;_maiden).str, birth,  drunkness.num,\r\n                aliases | transform(to_string) | to_vector);\r\n    } else {\r\n        return Person(first.str, middle.str, last.str,\r\n                maiden.value_or(&quot;null&quot;_maiden).str, birth,  drunkness.str,\r\n                aliases | transform(to_string) | to_vector);\r\n    }\r\n}\r\n```\r\nNotice that I&#39;m using concept `Drunkness` to express that an object of only one of two types can be passed to that argument (and similarly for `BeerOrJob`): I&#39;m basically collapsing 4 overloads in a single one via templates and `if constexpr`.\r\n\r\n---\r\n\r\n[Here&#39;s an example on Compiler Explorer](https://godbolt.org/z/ddfn5vf97), and here are a few comments about it:\r\n\r\n  - I&#39;ve removed eye color and hair color only to shorten the exmaple, because they pose the same exact challenge as first name, last name, and others (similarly to how you&#39;ve shown only one optional parameter, the clothing, commenting that there could be many more).\r\n  - I enforce type safety as much as I can, but as little as it&#39;s needed: all those types that wrap `std::string` are in place exactly to disambiguate between the various meanings we give to `std::string` (first name, last name, …), but as regards the date of birth, that&#39;s the only date in the API, so it needn&#39;t be disambiguated, hence `std::chrono::year_month_day` seemed just a good enough type to me; clearly, if you had more dates in the API, say birth date and death date, you could certainly wrap them in custom types similarly to what I&#39;ve done for `std::string`.\r\n  - I&#39;m not sure I&#39;ve understood your concern about `_maiden`. In your example you have\r\n    ```java\r\n    .addMaidenName(null)      //Forced to explicitly set null, a good thing\r\n    ```\r\n    so I assumed you do want to force the user to set maiden name, even if it is just `null`; in my solution, `std::nullopt` is playing the role of `null`, and its not necessary to make it special to the maiden case: an empty optional is the same thing whether we&#39;re dealing with `optional&lt;SomeType&gt;` or with `optional&lt;AnotherType&gt;`. If you really want to avoid the uninformative `std::nullopt`, you could either write `std::optional&lt;MaidenName&gt;{}` or, far better, define\r\n    ```cpp\r\n    constexpr auto noMaidenName/* or whatever you like */ = std::nullopt;\r\n    ```\r\n    somewhere and use that. Actually, since no type deduction is going on, you can also just pass `{}` instead of `std::nullopt`. If, instead, what concerns you is the expression `maiden.value_or(&quot;null&quot;_maiden).str`, that&#39;s because the constructors expect a `std::string` maiden name, and, unlike in Java (from your code I understand that you can assign `null` to a `String`), in C++ you can&#39;t assign a null-but-non-`std::string` value to a `std::string`, so the expression I used is to pull the `std::string` out of `maiden` if `maiden.has_value() == true`, and to pull it out of `&quot;null&quot;_maiden` otherwise, and in the latter case the string is trivially `&quot;null&quot;`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ldaIk.png\r\n  [2]: https://i.stack.imgur.com/s8bpH.png","title":"Is this Monster Builder a good Builder / Factory pattern for abstracting long constructors mixed with setters?","body":"<h2>Disclaimer</h2>\n<p>I know the question is tagged <a href=\"/questions/tagged/java\" class=\"post-tag\" title=\"show questions tagged &#39;java&#39;\" rel=\"tag\" aria-labelledby=\"java-container\">java</a>, however it states multiple times that it is a &quot;human interface question&quot;, so I think that a sketch of a solution in another language like C++ can be useful, even if just for readers like me that end up here exploring design patterns (and questioning whether learning them is useful or a creativity stopper) with a language-agnostic approach.</p>\n<h2>Type safety</h2>\n<p>Given the constructors that you're forced to accept, I would say that a builder pattern can't do miracles, in the sense that, even if a constructor with all those parameters is ugly (I agree with you), trading it for a long chain of <code>methodCalls(withArgs)</code> in <code>makeHomer</code> doesn't make a tremendous improvement, imho; and that's unavoidable. After all, you still have to pass quite a few parameters, one way or another.</p>\n<p>Therefore I think it can be productive to step back and reason again about what exactly is wrong with the constructor, in an attempt to slim down the solution you've already devised. We certainly have to accept that the solution will not be a short one-liner, but maybe we can improve it.</p>\n<p>Indeed, the pivotal point of the solution I propose (alas, in C++ not in Java) is that the problem with that constructor is not (or not only) that it takes 10 params, but that you can mistakenly mix them up entirely and still get an (invalid) person.</p>\n<p>After all, you already do that with your design by &quot;converting&quot; something which the compiler can't use to enforce anything (parameters' names) into something that it can use in that respect (memeber function names).</p>\n<p>So all you want is a way to call those two already existing constructors, but at the same time reducing to zero the chance of entering parameters in the wrong order (or not entering the required ones, or entering incompatible ones, or whatever) by making the compiler error out everytime you make such a mistake.</p>\n<p>Incidentally, and quite welcome is that a good IDE would accordingly produce</p>\n<ul>\n<li>good diagnostics,\n<a href=\"https://i.stack.imgur.com/ldaIk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ldaIk.png\" alt=\"enter image description here\" /></a></li>\n<li>as well as inline suggestions\n<a href=\"https://i.stack.imgur.com/s8bpH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s8bpH.png\" alt=\"enter image description here\" /></a></li>\n</ul>\n<p>(The above screenshots show my IDE (Vim) in action, when I've made a mistake and when I'm in the middle of passing the arguments to <code>makePerson</code>.)</p>\n<p>An alternative to using member function names to encode the order/optionality/incompatibility of the parameters is to create a type-safe wrapper around the constructors by associating an ad-hoc type to each of the arguments. Once you do so, you can just call the constructor wrapper with object of the types its signature enforces.</p>\n<p>In C++, user defined literals also help you write clear code in this respect. For instance, if you define these:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>struct FirstName {\n  std::string str;\n};\nFirstName operator&quot;&quot; _first(char const* s, std::size_t) {\n  return {s};\n}\n</code></pre>\n<p>then you can write <code>&quot;Homer&quot;_first</code> to create an object of class <code>FirstName</code>.</p>\n<h2>Avoid invalid states</h2>\n<p>These lines</p>\n<pre class=\"lang-java prettyprint-override\"><code>         // -- Controls alternatives for setters and the choice of constructors -- //\n        .doAlternatives()           //Either x or y. a, b, or c. etc.\n            .addBeersToday(3)       //Now can't call addHowDrunk(&quot;Hammered&quot;); \n            .addFavoriteBeer(&quot;Duff&quot;)//Now can’t call addJobTitle(&quot;Safety Inspector&quot;);  \n</code></pre>\n<p>(maybe also in view of the word <em>Now</em> in your comments) suggest that you look at this logic as one which handles some time-varying states and that checks that something has happened already (e.g. calling <code>addBeersToday</code>) to prevent you from doing something else later (e.g. calling <code>addHowDrunk</code>). A probably better approach is to just avoid explictly dealing with such states. After all, the method chaining you refer to, does just that: it leverages compile-time information (the types) to prevent you from even trying to call <code>addHowDrunk</code> after <code>addBeersToday</code>.</p>\n<p>But in C++, with function overloading you can do just that. And if the various overloads have much in common, you can actually write all of them at once, using <code>if constexpr</code> to branch on the few conditions that make them different.</p>\n<h2>The proposed approach</h2>\n<p>The solution I propose below, allows you to write <code>makeHomer</code> like this:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>Person makeHomer() {\n    return makePerson(\n            &quot;Homer&quot;_first,\n            &quot;Jay&quot;_middle,\n            &quot;Simpson&quot;_last,\n            std::nullopt,\n            May/12/1956,\n            {&quot;Homer Thompson&quot;_alias, &quot;Max Power&quot;_alias},\n            3_beers,\n            &quot;Duff&quot;_favBeer)\n        .setClothing(&quot;Pants!!&quot;);\n}\n</code></pre>\n<p>where <code>makePerson</code> is playing roughly the role of the builder or, to be more precise, the role of a type-safe <code>Person</code>'s constructor. The advantage of relying on <a href=\"https://www.fluentcpp.com/2016/12/05/named-constructors/\" rel=\"nofollow noreferrer\">strong types</a> is that, for instance, you can't even swap <code>&quot;Homer&quot;_first</code> and <code>&quot;Jay&quot;_middle</code> in the call above, otherwise you get a compile time error.</p>\n<p>Here's another possible usage of <code>makePerson</code>:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>Person makeMaude() {\n    return makePerson(\n            &quot;Maude&quot;_first,\n            &quot;&quot;_middle,\n            &quot;Flanders&quot;_last,\n            &quot;???&quot;_maiden,\n            May/12/1956,\n            {},\n            &quot;teetotal&quot;_drunk /* instead of 3_beers */,\n            &quot;Ned's wife&quot;_job /* instead of &quot;Duff&quot;_favBeer */)\n        //.setClothing(&quot;Pants!!&quot;) let's leave her naked\n        ;\n</code></pre>\n<p>where you can see that I'm passing arguments of the alternative types to the last two parameters.</p>\n<p>The function <code>makePerson</code> does no more than unwrapping the strings from within the strongly typed wrappers and forwarding them to one or the other constructor based on a compile-time conditional:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>template&lt;Drunkness Drunkness_, BeerOrJob BeerOrJob_&gt;\nPerson makePerson(\n        FirstName first,\n        MiddleName middle,\n        LastName last,\n        std::optional&lt;MaidenName&gt; maiden,\n        Date birth,\n        std::vector&lt;Alias&gt; aliases,\n        Drunkness_ drunkness,\n        BeerOrJob_ /* beerOrJob */) {\n\n    // Not sure how to use beerOrJob... Maybe by creating the Person but not\n    // returning it before calling a setter similar to setClothing?\n    if constexpr (std::is_same_v&lt;Drunkness_, BeersToday&gt;) {\n        return Person(first.str, middle.str, last.str,\n                maiden.value_or(&quot;null&quot;_maiden).str, birth,  drunkness.num,\n                aliases | transform(to_string) | to_vector);\n    } else {\n        return Person(first.str, middle.str, last.str,\n                maiden.value_or(&quot;null&quot;_maiden).str, birth,  drunkness.str,\n                aliases | transform(to_string) | to_vector);\n    }\n}\n</code></pre>\n<p>Notice that I'm using concept <code>Drunkness</code> to express that an object of only one of two types can be passed to that argument (and similarly for <code>BeerOrJob</code>): I'm basically collapsing 4 overloads in a single one via templates and <code>if constexpr</code>.</p>\n<hr />\n<p><a href=\"https://godbolt.org/z/ddfn5vf97\" rel=\"nofollow noreferrer\">Here's an example on Compiler Explorer</a>, and here are a few comments about it:</p>\n<ul>\n<li>I've removed eye color and hair color only to shorten the exmaple, because they pose the same exact challenge as first name, last name, and others (similarly to how you've shown only one optional parameter, the clothing, commenting that there could be many more).</li>\n<li>I enforce type safety as much as I can, but as little as it's needed: all those types that wrap <code>std::string</code> are in place exactly to disambiguate between the various meanings we give to <code>std::string</code> (first name, last name, …), but as regards the date of birth, that's the only date in the API, so it needn't be disambiguated, hence <code>std::chrono::year_month_day</code> seemed just a good enough type to me; clearly, if you had more dates in the API, say birth date and death date, you could certainly wrap them in custom types similarly to what I've done for <code>std::string</code>.</li>\n<li>I'm not sure I've understood your concern about <code>_maiden</code>. In your example you have\n<pre class=\"lang-java prettyprint-override\"><code>.addMaidenName(null)      //Forced to explicitly set null, a good thing\n</code></pre>\nso I assumed you do want to force the user to set maiden name, even if it is just <code>null</code>; in my solution, <code>std::nullopt</code> is playing the role of <code>null</code>, and its not necessary to make it special to the maiden case: an empty optional is the same thing whether we're dealing with <code>optional&lt;SomeType&gt;</code> or with <code>optional&lt;AnotherType&gt;</code>. If you really want to avoid the uninformative <code>std::nullopt</code>, you could either write <code>std::optional&lt;MaidenName&gt;{}</code> or, far better, define\n<pre class=\"lang-cpp prettyprint-override\"><code>constexpr auto noMaidenName/* or whatever you like */ = std::nullopt;\n</code></pre>\nsomewhere and use that. Actually, since no type deduction is going on, you can also just pass <code>{}</code> instead of <code>std::nullopt</code>. If, instead, what concerns you is the expression <code>maiden.value_or(&quot;null&quot;_maiden).str</code>, that's because the constructors expect a <code>std::string</code> maiden name, and, unlike in Java (from your code I understand that you can assign <code>null</code> to a <code>String</code>), in C++ you can't assign a null-but-non-<code>std::string</code> value to a <code>std::string</code>, so the expression I used is to pull the <code>std::string</code> out of <code>maiden</code> if <code>maiden.has_value() == true</code>, and to pull it out of <code>&quot;null&quot;_maiden</code> otherwise, and in the latter case the string is trivially <code>&quot;null&quot;</code>.</li>\n</ul>\n"}],"owner":{"account_id":1615458,"reputation":7096,"user_id":1493294,"accept_rate":60,"display_name":"candied_orange"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3259,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":5,"score":22,"last_activity_date":1662119594,"creation_date":1396866323,"question_id":22909717,"body_markdown":"This is a human interface question about combining the [step builder pattern][1] with the [enhanced][2] or [wizard][3] builder patterns into a [creational][4] [DSL][5].  It uses a fluent like interface, although it uses method chaining, not cascading.  That is, the methods return differing types.  \r\n\r\nI’m confronting a monster class that has two constructors that take a mix of ints, Strings, and an array of Strings.  Each constructor is 10 parameters long.  It also has about 40 optional setters; a few of which conflict with each other if used together.  Its construction code looks something like this:\r\n\r\n    Person person = Person(&quot;Homer&quot;,&quot;Jay&quot;, &quot;Simpson&quot;,&quot;Homie&quot;, null, &quot;black&quot;, &quot;brown&quot;, \r\n      new Date(1), 3, &quot;Homer Thompson&quot;, &quot;Pie Man&quot;, &quot;Max Power&quot;, &quot;El Homo&quot;, \r\n      &quot;Thad Supersperm&quot;, &quot;Bald Mommy&quot;, &quot;Rock Strongo&quot;, &quot;Lance Uppercut&quot;, &quot;Mr. Plow&quot;);\r\n    \r\n    person.setClothing(&quot;Pants!!&quot;);     \r\n    person.setFavoriteBeer(&quot;Duff&quot;);\r\n    person.setJobTitle(&quot;Safety Inspector&quot;);\r\n\r\nThis eventually fails because it turns out having set both *favorite beer* and *job title* is incompatible.  Sigh.\r\n\r\nRedesigning the monster class is not an option.  It’s widely used.  It works.  I just don’t want watch it being constructed directly any more.  I want to write something clean that will feed it.  Something that will follow its rules without making developers memorize them.  \r\n\r\nContrary to the wonderful builder patterns I’ve been studying this thing doesn’t come in flavors or categories.  It demands some fields all the time and other fields when needed and some only depending on what has been set before.  The constructors are not telescoping.  They provide two alternate ways to get the class into the same state.   They are long and ugly.  What they want fed to them varies independently.\r\n \r\nA fluent builder would definitely make the long constructors easier to look at.  However, the massive number of optional setters clutters the required ones.  And there is a requirement that a cascading fluent builder doesn’t satisfy: compile time enforcement.\r\n\r\nConstructors force the developer to explicitly add required fields, even if nulling them.  This is lost when using a cascading fluent builder.  The same way it&#39;s lost with setters.  I want a way to keep the developer from building until each required field has been added.\r\n\r\nUnlike many builder patterns, what I’m after isn’t immutability.  I’m leaving the class as I found it.  I want to know the constructed object is in a good state just by looking at the code that builds it.  Without having to refer to documentation.  This means it needs to take the programmer thru conditionally  required steps. \r\n\r\n\tPerson makeHomer(PersonBuilder personBuilder){ //Injection avoids hardcoding implementation\r\n\t\treturn personBuilder\r\n\t\t\t\r\n\t\t\t // -- These have good default values, may be skipped, and don&#39;t conflict -- //\r\n\t\t\t.doOptional()\r\n\t\t\t\t.addClothing(&quot;Pants!!&quot;)   //Could also call addTattoo() and 36 others\r\n\t\t\t\t  \r\n\t\t\t // -- All fields that always must be set.  @NotNull might be handy. -- //\r\n\t\t\t.doRequired()                 //Forced to call the following in order\r\n\t\t\t\t.addFirstName(&quot;Homer&quot;)\r\n\t\t\t\t.addMiddleName(&quot;Jay&quot;)\r\n\t\t\t\t.addLastName(&quot;Simpson&quot;)\r\n\t\t\t\t.addNickName(&quot;Homie&quot;)\r\n\t\t\t\t.addMaidenName(null)      //Forced to explicitly set null, a good thing\r\n\t\t\t\t.addEyeColor(&quot;black&quot;)\r\n\t\t\t\t.addHairColor(&quot;brown&quot;)\r\n\t\t\t\t.addDateOfBirth(new Date(1))\r\n\t\t\t\t.addAliases(\r\n\t\t\t\t\t&quot;Homer Thompson&quot;,\r\n\t\t\t\t\t&quot;Pie Man&quot;,\r\n\t\t\t\t\t&quot;Max Power&quot;,\r\n\t\t\t\t\t&quot;El Homo&quot;,\r\n\t\t\t\t\t&quot;Thad Supersperm&quot;,\r\n\t\t\t\t\t&quot;Bald Mommy&quot;,\r\n\t\t\t\t\t&quot;Rock Strongo&quot;,\r\n\t\t\t\t\t&quot;Lance Uppercut&quot;,\r\n\t\t\t\t\t&quot;Mr. Plow&quot;)\r\n\t\t\t\r\n\t\t\t // -- Controls alternatives for setters and the choice of constructors -- //\r\n\t\t\t.doAlternatives()           //Either x or y. a, b, or c. etc.\r\n\t\t\t\t.addBeersToday(3)       //Now can&#39;t call addHowDrunk(&quot;Hammered&quot;); \r\n\t\t\t\t.addFavoriteBeer(&quot;Duff&quot;)//Now can’t call addJobTitle(&quot;Safety Inspector&quot;);  \r\n\t\t\t\r\n\t\t\t.doBuild()                  //Not available until now\r\n        ;\r\n\t}\t\r\n\r\nPerson may be built after addBeersToday() since at that point all constructor info is known but is not returned until doBuild().\r\n\r\n\tpublic Person(String firstName, String middleName, String lastName,\r\n\t               String nickName, String maidenName, String eyeColor, \r\n\t               String hairColor, Date dateOfBirth, int beersToday, \r\n\t               String[] aliases);\r\n\r\n\tpublic Person(String firstName, String middleName, String lastName,\r\n\t               String nickName, String maidenName, String eyeColor, \r\n\t               String hairColor, Date dateOfBirth, String howDrunk,\r\n\t               String[] aliases);\r\n\r\nThese parameters set fields that must never be left with default values.  beersToday and howDrunk set the same field different ways.  favoriteBeer and jobTitle are different fields but cause conflicts with how the class is used so only one should be set.  They are handled with setters not constructors.\r\n\r\nThe `doBuild()` method returns a `Person` object.  It&#39;s the only one that does and `Person` is the only type it will return.  When it does `Person` is fully initialized.\r\n\r\nAt each step of the interface the type returned is not always the same.  Changing the type is how the developer is guided though the steps.  It only offers valid methods.  The `doBuild()` method isn’t available until all needed steps have been completed.  \r\n\r\n&gt; The do/add prefixes are a kludge to make writing easier because the changing return type \r\n&gt; mismatches with the assignment and makes intelisense recommendations become alphabetical \r\n&gt; in eclipse.  I&#39;ve confirmed intellij doesn&#39;t have this problem.  Thanks NimChimpsky.\r\n\r\nThis question is about the interface, so I&#39;ll accept answers that don&#39;t provide an implementation.  But if you know of one, please share.\r\n\r\nIf you suggest an alternative pattern please show it&#39;s interface being used.  Use all the inputs from the example.  \r\n\r\nIf you suggest using the interface presented here, or some slight variation, please defend it from criticisms like [this][6].\r\n\r\nWhat I really want to know is if most people would prefer to use this interface to build or some other.  This is human interface question.  Does this violate [PoLA][7]?  Don&#39;t worry about how hard it would be to implement.  \r\n\r\nHowever, if you are curious about implementations:\r\n\r\n[A failed attempt][8] (didn&#39;t have enough states or understand valid vs not defaulted)\r\n\r\n[A step builder implementation][9] (not flexible enough for multiple constructors or alternatives)\r\n\r\n[An enhanced builder][10] (Still liner but has flexible states)\r\n\r\n[Wizard builder][11] (Deals with forking but not remembering the path to pick a constructor)\r\n \r\n\r\n&gt; Requirement:\r\n&gt;\r\n&gt; * The monster (person) class is already closed to modification and extension; no touchy\r\n&gt;\r\n&gt; Goals:  \r\n&gt;\r\n&gt; * Hide the long constructors since the monster class has 10 required parameters   \r\n&gt; * Determine which constructor to call based on alternatives used    \r\n&gt; * Disallow conflicting setters\r\n&gt; * Enforce rules at compile time\r\n&gt; \r\n&gt; Intent:\r\n&gt; \r\n&gt; * Clearly signal when default values are not acceptable \r\n       \r\n\r\n\r\n  [1]: http://rdafbn.blogspot.co.uk/2012/07/step-builder-pattern_28.html\r\n  [2]: https://stackoverflow.com/questions/1638722/how-to-improve-the-builder-pattern\r\n  [3]: http://www.javacodegeeks.com/2012/01/wizard-design-pattern.html\r\n  [4]: https://en.wikipedia.org/wiki/Creational_pattern\r\n  [5]: https://en.wikipedia.org/wiki/Domain-specific_language\r\n  [6]: http://ocramius.github.io/blog/fluent-interfaces-are-evil/\r\n  [7]: https://en.wikipedia.org/wiki/Principle_of_least_astonishment\r\n  [8]: http://java.dzone.com/articles/dive-builder-pattern\r\n  [9]: http://rdafbn.blogspot.co.uk/2012/07/step-builder-pattern_28.html\r\n  [10]: https://stackoverflow.com/questions/1638722/how-to-improve-the-builder-pattern\r\n  [11]: http://www.javacodegeeks.com/2012/01/wizard-design-pattern.html","title":"Is this Monster Builder a good Builder / Factory pattern for abstracting long constructors mixed with setters?","body":"<p>This is a human interface question about combining the <a href=\"http://rdafbn.blogspot.co.uk/2012/07/step-builder-pattern_28.html\" rel=\"noreferrer\">step builder pattern</a> with the <a href=\"https://stackoverflow.com/questions/1638722/how-to-improve-the-builder-pattern\">enhanced</a> or <a href=\"http://www.javacodegeeks.com/2012/01/wizard-design-pattern.html\" rel=\"noreferrer\">wizard</a> builder patterns into a <a href=\"https://en.wikipedia.org/wiki/Creational_pattern\" rel=\"noreferrer\">creational</a> <a href=\"https://en.wikipedia.org/wiki/Domain-specific_language\" rel=\"noreferrer\">DSL</a>.  It uses a fluent like interface, although it uses method chaining, not cascading.  That is, the methods return differing types.  </p>\n\n<p>I’m confronting a monster class that has two constructors that take a mix of ints, Strings, and an array of Strings.  Each constructor is 10 parameters long.  It also has about 40 optional setters; a few of which conflict with each other if used together.  Its construction code looks something like this:</p>\n\n<pre><code>Person person = Person(\"Homer\",\"Jay\", \"Simpson\",\"Homie\", null, \"black\", \"brown\", \n  new Date(1), 3, \"Homer Thompson\", \"Pie Man\", \"Max Power\", \"El Homo\", \n  \"Thad Supersperm\", \"Bald Mommy\", \"Rock Strongo\", \"Lance Uppercut\", \"Mr. Plow\");\n\nperson.setClothing(\"Pants!!\");     \nperson.setFavoriteBeer(\"Duff\");\nperson.setJobTitle(\"Safety Inspector\");\n</code></pre>\n\n<p>This eventually fails because it turns out having set both <em>favorite beer</em> and <em>job title</em> is incompatible.  Sigh.</p>\n\n<p>Redesigning the monster class is not an option.  It’s widely used.  It works.  I just don’t want watch it being constructed directly any more.  I want to write something clean that will feed it.  Something that will follow its rules without making developers memorize them.  </p>\n\n<p>Contrary to the wonderful builder patterns I’ve been studying this thing doesn’t come in flavors or categories.  It demands some fields all the time and other fields when needed and some only depending on what has been set before.  The constructors are not telescoping.  They provide two alternate ways to get the class into the same state.   They are long and ugly.  What they want fed to them varies independently.</p>\n\n<p>A fluent builder would definitely make the long constructors easier to look at.  However, the massive number of optional setters clutters the required ones.  And there is a requirement that a cascading fluent builder doesn’t satisfy: compile time enforcement.</p>\n\n<p>Constructors force the developer to explicitly add required fields, even if nulling them.  This is lost when using a cascading fluent builder.  The same way it's lost with setters.  I want a way to keep the developer from building until each required field has been added.</p>\n\n<p>Unlike many builder patterns, what I’m after isn’t immutability.  I’m leaving the class as I found it.  I want to know the constructed object is in a good state just by looking at the code that builds it.  Without having to refer to documentation.  This means it needs to take the programmer thru conditionally  required steps. </p>\n\n<pre><code>Person makeHomer(PersonBuilder personBuilder){ //Injection avoids hardcoding implementation\n    return personBuilder\n\n         // -- These have good default values, may be skipped, and don't conflict -- //\n        .doOptional()\n            .addClothing(\"Pants!!\")   //Could also call addTattoo() and 36 others\n\n         // -- All fields that always must be set.  @NotNull might be handy. -- //\n        .doRequired()                 //Forced to call the following in order\n            .addFirstName(\"Homer\")\n            .addMiddleName(\"Jay\")\n            .addLastName(\"Simpson\")\n            .addNickName(\"Homie\")\n            .addMaidenName(null)      //Forced to explicitly set null, a good thing\n            .addEyeColor(\"black\")\n            .addHairColor(\"brown\")\n            .addDateOfBirth(new Date(1))\n            .addAliases(\n                \"Homer Thompson\",\n                \"Pie Man\",\n                \"Max Power\",\n                \"El Homo\",\n                \"Thad Supersperm\",\n                \"Bald Mommy\",\n                \"Rock Strongo\",\n                \"Lance Uppercut\",\n                \"Mr. Plow\")\n\n         // -- Controls alternatives for setters and the choice of constructors -- //\n        .doAlternatives()           //Either x or y. a, b, or c. etc.\n            .addBeersToday(3)       //Now can't call addHowDrunk(\"Hammered\"); \n            .addFavoriteBeer(\"Duff\")//Now can’t call addJobTitle(\"Safety Inspector\");  \n\n        .doBuild()                  //Not available until now\n    ;\n}   \n</code></pre>\n\n<p>Person may be built after addBeersToday() since at that point all constructor info is known but is not returned until doBuild().</p>\n\n<pre><code>public Person(String firstName, String middleName, String lastName,\n               String nickName, String maidenName, String eyeColor, \n               String hairColor, Date dateOfBirth, int beersToday, \n               String[] aliases);\n\npublic Person(String firstName, String middleName, String lastName,\n               String nickName, String maidenName, String eyeColor, \n               String hairColor, Date dateOfBirth, String howDrunk,\n               String[] aliases);\n</code></pre>\n\n<p>These parameters set fields that must never be left with default values.  beersToday and howDrunk set the same field different ways.  favoriteBeer and jobTitle are different fields but cause conflicts with how the class is used so only one should be set.  They are handled with setters not constructors.</p>\n\n<p>The <code>doBuild()</code> method returns a <code>Person</code> object.  It's the only one that does and <code>Person</code> is the only type it will return.  When it does <code>Person</code> is fully initialized.</p>\n\n<p>At each step of the interface the type returned is not always the same.  Changing the type is how the developer is guided though the steps.  It only offers valid methods.  The <code>doBuild()</code> method isn’t available until all needed steps have been completed.  </p>\n\n<blockquote>\n  <p>The do/add prefixes are a kludge to make writing easier because the changing return type \n  mismatches with the assignment and makes intelisense recommendations become alphabetical \n  in eclipse.  I've confirmed intellij doesn't have this problem.  Thanks NimChimpsky.</p>\n</blockquote>\n\n<p>This question is about the interface, so I'll accept answers that don't provide an implementation.  But if you know of one, please share.</p>\n\n<p>If you suggest an alternative pattern please show it's interface being used.  Use all the inputs from the example.  </p>\n\n<p>If you suggest using the interface presented here, or some slight variation, please defend it from criticisms like <a href=\"http://ocramius.github.io/blog/fluent-interfaces-are-evil/\" rel=\"noreferrer\">this</a>.</p>\n\n<p>What I really want to know is if most people would prefer to use this interface to build or some other.  This is human interface question.  Does this violate <a href=\"https://en.wikipedia.org/wiki/Principle_of_least_astonishment\" rel=\"noreferrer\">PoLA</a>?  Don't worry about how hard it would be to implement.  </p>\n\n<p>However, if you are curious about implementations:</p>\n\n<p><a href=\"http://java.dzone.com/articles/dive-builder-pattern\" rel=\"noreferrer\">A failed attempt</a> (didn't have enough states or understand valid vs not defaulted)</p>\n\n<p><a href=\"http://rdafbn.blogspot.co.uk/2012/07/step-builder-pattern_28.html\" rel=\"noreferrer\">A step builder implementation</a> (not flexible enough for multiple constructors or alternatives)</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1638722/how-to-improve-the-builder-pattern\">An enhanced builder</a> (Still liner but has flexible states)</p>\n\n<p><a href=\"http://www.javacodegeeks.com/2012/01/wizard-design-pattern.html\" rel=\"noreferrer\">Wizard builder</a> (Deals with forking but not remembering the path to pick a constructor)</p>\n\n<blockquote>\n  <p>Requirement:</p>\n  \n  <ul>\n  <li>The monster (person) class is already closed to modification and extension; no touchy</li>\n  </ul>\n  \n  <p>Goals:  </p>\n  \n  <ul>\n  <li>Hide the long constructors since the monster class has 10 required parameters   </li>\n  <li>Determine which constructor to call based on alternatives used    </li>\n  <li>Disallow conflicting setters</li>\n  <li>Enforce rules at compile time</li>\n  </ul>\n  \n  <p>Intent:</p>\n  \n  <ul>\n  <li>Clearly signal when default values are not acceptable </li>\n  </ul>\n</blockquote>\n"},{"tags":["java","android","android-camera","arcore","android-camera2"],"answers":[{"tags":[],"owner":{"account_id":26227251,"reputation":1,"user_id":19903763,"display_name":"Steve Hunt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662119366,"creation_date":1662119366,"answer_id":73582109,"question_id":69012144,"body_markdown":"I realise this is a fairly old question but having run into this recently I thought I would add an answer.\r\n\r\nThe ImageReader&#39;s surface needs to be in the list of surfaces that is passed into cameraDevice.createCaptureSession. But you only want to take snapshots - you don&#39;t want it to be populated on every frame - so don&#39;t add it to the list of surfaces for captureSession.setRepeatingRequest, and also don&#39;t make the call to sharedCamera.setAppSurfaces.\r\n\r\nOf course that means you need to create your ImageReader earlier in the program&#39;s execution so that its surface is available at the time you create the capture session.","title":"Image capture when ARCORE sharing camera with Camera2 API","body":"<p>I realise this is a fairly old question but having run into this recently I thought I would add an answer.</p>\n<p>The ImageReader's surface needs to be in the list of surfaces that is passed into cameraDevice.createCaptureSession. But you only want to take snapshots - you don't want it to be populated on every frame - so don't add it to the list of surfaces for captureSession.setRepeatingRequest, and also don't make the call to sharedCamera.setAppSurfaces.</p>\n<p>Of course that means you need to create your ImageReader earlier in the program's execution so that its surface is available at the time you create the capture session.</p>\n"}],"owner":{"account_id":18883364,"reputation":11,"user_id":16804150,"display_name":"Rui Fernandes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662119366,"creation_date":1630492553,"question_id":69012144,"body_markdown":"I&#39;m trying to capture an image using the ARCORE. Followed the code base of the shared camera sample provided on this rep (https://github.com/google-ar/arcore-android-sdk) and implemented a code to build the camera capture request.\r\n\r\nI am using an image reader for the preview and another with high resolution for the capture and this is allowed (https://developers.google.com/ar/develop/java/camera-sharing).\r\n\r\nWhen building the request I got the exception of &quot;java.lang.IllegalArgumentException: CaptureRequest contains unconfigured Input/Output Surface!&quot; and I already added the image reader surface to the list of surfaces as mentioned on the site of shared camera config.\r\n\r\nHere&#39;s the code for the capture request builder:\r\n``` \r\npublic void shotPhoto() {\r\n    try {\r\n\r\n      // Get the characteristics for the ARCore camera.\r\n      CameraCharacteristics characteristics = cameraManager.getCameraCharacteristics(this.cameraId);\r\n\r\n      // Get the higher resolution for image capture\r\n      StreamConfigurationMap streamConfigurationMap = characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);\r\n      Size[] sizes = streamConfigurationMap.getOutputSizes(SurfaceTexture.class);\r\n      int width = sizes[0].getWidth();\r\n      int height = sizes[0].getHeight();\r\n\r\n      reader = ImageReader.newInstance(\r\n                      width,\r\n                      height,\r\n                      ImageFormat.JPEG,\r\n                      2);\r\n      reader.setOnImageAvailableListener(this, backgroundHandler);\r\n\r\n      sharedCamera.setAppSurfaces(this.cameraId, Arrays.asList(reader.getSurface()));\r\n\r\n      CaptureRequest.Builder captureRequestBuilder = cameraDevice.createCaptureRequest(cameraDevice.TEMPLATE_STILL_CAPTURE);\r\n      captureRequestBuilder.addTarget(reader.getSurface());\r\n      captureRequestBuilder.set(CaptureRequest.JPEG_ORIENTATION, SensorOrientation);\r\n      CaptureRequest captureRequest = captureRequestBuilder.build();\r\n      captureSession.capture(captureRequest, cameraCaptureCallback, backgroundHandler);\r\n\r\n    } catch (CameraAccessException e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n``` ","title":"Image capture when ARCORE sharing camera with Camera2 API","body":"<p>I'm trying to capture an image using the ARCORE. Followed the code base of the shared camera sample provided on this rep (<a href=\"https://github.com/google-ar/arcore-android-sdk\" rel=\"nofollow noreferrer\">https://github.com/google-ar/arcore-android-sdk</a>) and implemented a code to build the camera capture request.</p>\n<p>I am using an image reader for the preview and another with high resolution for the capture and this is allowed (<a href=\"https://developers.google.com/ar/develop/java/camera-sharing\" rel=\"nofollow noreferrer\">https://developers.google.com/ar/develop/java/camera-sharing</a>).</p>\n<p>When building the request I got the exception of &quot;java.lang.IllegalArgumentException: CaptureRequest contains unconfigured Input/Output Surface!&quot; and I already added the image reader surface to the list of surfaces as mentioned on the site of shared camera config.</p>\n<p>Here's the code for the capture request builder:</p>\n<pre><code>public void shotPhoto() {\n    try {\n\n      // Get the characteristics for the ARCore camera.\n      CameraCharacteristics characteristics = cameraManager.getCameraCharacteristics(this.cameraId);\n\n      // Get the higher resolution for image capture\n      StreamConfigurationMap streamConfigurationMap = characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);\n      Size[] sizes = streamConfigurationMap.getOutputSizes(SurfaceTexture.class);\n      int width = sizes[0].getWidth();\n      int height = sizes[0].getHeight();\n\n      reader = ImageReader.newInstance(\n                      width,\n                      height,\n                      ImageFormat.JPEG,\n                      2);\n      reader.setOnImageAvailableListener(this, backgroundHandler);\n\n      sharedCamera.setAppSurfaces(this.cameraId, Arrays.asList(reader.getSurface()));\n\n      CaptureRequest.Builder captureRequestBuilder = cameraDevice.createCaptureRequest(cameraDevice.TEMPLATE_STILL_CAPTURE);\n      captureRequestBuilder.addTarget(reader.getSurface());\n      captureRequestBuilder.set(CaptureRequest.JPEG_ORIENTATION, SensorOrientation);\n      CaptureRequest captureRequest = captureRequestBuilder.build();\n      captureSession.capture(captureRequest, cameraCaptureCallback, backgroundHandler);\n\n    } catch (CameraAccessException e) {\n      e.printStackTrace();\n    }\n  }\n</code></pre>\n"},{"tags":["java","ffmpeg","command-line","process","processbuilder"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1662124138,"post_id":73582093,"comment_id":129939667,"body_markdown":"Might be worth trying: get ffmpeg&#39;s pid and run WIndows ```taskkill```  on it with ```ProcessBuilder```","body":"Might be worth trying: get ffmpeg&#39;s pid and run WIndows <code>taskkill</code>  on it with <code>ProcessBuilder</code>"},{"owner":{"account_id":6936586,"reputation":133,"user_id":5324295,"accept_rate":67,"display_name":"Varun Bali"},"score":0,"creation_date":1662129244,"post_id":73582093,"comment_id":129941737,"body_markdown":"Already tried taskkill &amp; its the same as destroy() method that causes abnormal termination.","body":"Already tried taskkill &amp; its the same as destroy() method that causes abnormal termination."},{"owner":{"account_id":4545235,"reputation":4690,"user_id":4516027,"display_name":"kesh"},"score":0,"creation_date":1662129292,"post_id":73582093,"comment_id":129941765,"body_markdown":"`q` command should work (tested in console/Python. Can&#39;t help you with Java, but when push comes to shove, you can run 2 ffmpeg processes. First one to record and pipe the recorded frames to the second ffmpeg to encode. Killing the first closes the pipe thereby graciously stops the second.","body":"<code>q</code> command should work (tested in console/Python. Can&#39;t help you with Java, but when push comes to shove, you can run 2 ffmpeg processes. First one to record and pipe the recorded frames to the second ffmpeg to encode. Killing the first closes the pipe thereby graciously stops the second."},{"owner":{"account_id":4545235,"reputation":4690,"user_id":4516027,"display_name":"kesh"},"score":0,"creation_date":1662129433,"post_id":73582093,"comment_id":129941826,"body_markdown":"Wait, something just hit me, try `output.write(&quot;q&quot;);`","body":"Wait, something just hit me, try <code>output.write(&quot;q&quot;);</code>"},{"owner":{"account_id":6936586,"reputation":133,"user_id":5324295,"accept_rate":67,"display_name":"Varun Bali"},"score":0,"creation_date":1662129815,"post_id":73582093,"comment_id":129941997,"body_markdown":"output.write() method can only accept an integer or a byte array. It does not accept String which is why I was using &quot;q&quot;.getBytes() inside the method but alas it did not work.","body":"output.write() method can only accept an integer or a byte array. It does not accept String which is why I was using &quot;q&quot;.getBytes() inside the method but alas it did not work."},{"owner":{"account_id":4545235,"reputation":4690,"user_id":4516027,"display_name":"kesh"},"score":0,"creation_date":1662136076,"post_id":73582093,"comment_id":129944082,"body_markdown":"That&#39;s tricky... Have you tried the ASCII code for `q`? `output.write(113)`","body":"That&#39;s tricky... Have you tried the ASCII code for <code>q</code>? <code>output.write(113)</code>"},{"owner":{"account_id":6936586,"reputation":133,"user_id":5324295,"accept_rate":67,"display_name":"Varun Bali"},"score":0,"creation_date":1662195469,"post_id":73582093,"comment_id":129953586,"body_markdown":"That did not work either. Process continues to stay in RAM.","body":"That did not work either. Process continues to stay in RAM."}],"owner":{"account_id":6936586,"reputation":133,"user_id":5324295,"accept_rate":67,"display_name":"Varun Bali"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662119296,"creation_date":1662119296,"question_id":73582093,"body_markdown":"I am trying to integrate FFMPEG for screen capture in my program &amp; when the time comes to stop the capture I have to pass &#39;q&#39; in the commandline to stop the render &amp; save the capture in MP4 file. Unfortunately I am not able to stop FFMPEG &amp; it continues to run in the background. The screenshot below shows FFMPEG running when executed manually via terminal or CMD that q key needs to be passed to halt it.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBelow is my code so far:\r\n\r\n    public static void main(String[] args) throws IOException\r\n    {\r\n        var processBuilder = new ProcessBuilder();\r\n        var file = new File(&quot;D:\\\\ffmpeg-5.1-essentials_build\\\\bin&quot;);\r\n        processBuilder.directory(file);\r\n        processBuilder.command(&quot;CMD&quot;, &quot;/C&quot;, &quot;ffmpeg.exe -f gdigrab -i desktop -c:v libx264 -b:v 6000K -minrate 6000K -maxrate 6000K -bufsize 6000K -pix_fmt yuv420p -r 60 -profile:v main -crf 12 -x264-params scenecut=0:open_gop=0:min-keyint=72:keyint=72 -y &quot; +\r\n                        &quot;D:\\\\Users\\\\vabali\\\\Documents\\\\Workspace\\\\Captures\\\\output.mp4&quot;);\r\n        var process = processBuilder.start();\r\n        Awaitility.await().atMost(Duration.ofSeconds(5)).until(() -&gt; process.descendants().toList().size() &gt; 1);\r\n        System.out.println(&quot;FFMPEG PID = &quot; + process.descendants().toList().get(1).pid());\r\n        var output = process.getOutputStream();\r\n        output.write(KeyEvent.VK_Q);\r\n        output.flush();\r\n        System.out.println(process.descendants().toList().get(1).isAlive());\r\n}\r\n\r\nI have tried output.write(&#39;q&#39;), output.write(&quot;q&quot;.getBytes()) but nothing has worked so far. Using the destroy method terminates ffmpeg but abnormal termination corrupts the MP4 making it useless. The program has stop graciously. Can someone help me to figure out how to pass q to console to stop the render?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/09E0t.png","title":"Java - send command to FFMPEG process to stop","body":"<p>I am trying to integrate FFMPEG for screen capture in my program &amp; when the time comes to stop the capture I have to pass 'q' in the commandline to stop the render &amp; save the capture in MP4 file. Unfortunately I am not able to stop FFMPEG &amp; it continues to run in the background. The screenshot below shows FFMPEG running when executed manually via terminal or CMD that q key needs to be passed to halt it.</p>\n<p><a href=\"https://i.stack.imgur.com/09E0t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/09E0t.png\" alt=\"enter image description here\" /></a></p>\n<p>Below is my code so far:</p>\n<pre><code>public static void main(String[] args) throws IOException\n{\n    var processBuilder = new ProcessBuilder();\n    var file = new File(&quot;D:\\\\ffmpeg-5.1-essentials_build\\\\bin&quot;);\n    processBuilder.directory(file);\n    processBuilder.command(&quot;CMD&quot;, &quot;/C&quot;, &quot;ffmpeg.exe -f gdigrab -i desktop -c:v libx264 -b:v 6000K -minrate 6000K -maxrate 6000K -bufsize 6000K -pix_fmt yuv420p -r 60 -profile:v main -crf 12 -x264-params scenecut=0:open_gop=0:min-keyint=72:keyint=72 -y &quot; +\n                    &quot;D:\\\\Users\\\\vabali\\\\Documents\\\\Workspace\\\\Captures\\\\output.mp4&quot;);\n    var process = processBuilder.start();\n    Awaitility.await().atMost(Duration.ofSeconds(5)).until(() -&gt; process.descendants().toList().size() &gt; 1);\n    System.out.println(&quot;FFMPEG PID = &quot; + process.descendants().toList().get(1).pid());\n    var output = process.getOutputStream();\n    output.write(KeyEvent.VK_Q);\n    output.flush();\n    System.out.println(process.descendants().toList().get(1).isAlive());\n</code></pre>\n<p>}</p>\n<p>I have tried output.write('q'), output.write(&quot;q&quot;.getBytes()) but nothing has worked so far. Using the destroy method terminates ffmpeg but abnormal termination corrupts the MP4 making it useless. The program has stop graciously. Can someone help me to figure out how to pass q to console to stop the render?</p>\n"},{"tags":["java","android","xml","android-resources","android-color"],"comments":[{"owner":{"account_id":10396927,"reputation":68267,"user_id":7666442,"display_name":"AskNilesh"},"score":1,"creation_date":1497437750,"post_id":44542755,"comment_id":76075935,"body_markdown":"paster your  android:textColor=&quot;@color/button_text&quot;\n    android:background=&quot;@color/button_background&quot; files","body":"paster your  android:textColor=&quot;@color/button_text&quot;     android:background=&quot;@color/button_background&quot; files"},{"owner":{"account_id":3804353,"reputation":6039,"user_id":3283568,"accept_rate":51,"display_name":"Akshay"},"score":0,"creation_date":1497437916,"post_id":44542755,"comment_id":76076067,"body_markdown":"have you set color like `&lt;color name=&quot;button_text&quot;&gt;#272c33&lt;/color&gt;` in you `xml` file","body":"have you set color like <code>&lt;color name=&quot;button_text&quot;&gt;#272c33&lt;&#47;color&gt;</code> in you <code>xml</code> file"},{"owner":{"account_id":9466467,"reputation":305,"user_id":7038650,"accept_rate":80,"display_name":"Robin"},"score":0,"creation_date":1497438081,"post_id":44542755,"comment_id":76076188,"body_markdown":"@Akshay I&#39;ve added the `color/button_text.xml` and `color/button_background.xml` code in the question @NileshRathod","body":"@Akshay I&#39;ve added the <code>color&#47;button_text.xml</code> and <code>color&#47;button_background.xml</code> code in the question @NileshRathod"},{"owner":{"account_id":3366602,"reputation":611,"user_id":2827025,"display_name":"anemomylos"},"score":0,"creation_date":1497439466,"post_id":44542755,"comment_id":76077231,"body_markdown":"Just to be safe, you have double checked the name of the file button_background.xml?","body":"Just to be safe, you have double checked the name of the file button_background.xml?"},{"owner":{"account_id":9466467,"reputation":305,"user_id":7038650,"accept_rate":80,"display_name":"Robin"},"score":0,"creation_date":1497439836,"post_id":44542755,"comment_id":76077506,"body_markdown":"Affirmative. @j.e.gr","body":"Affirmative. @j.e.gr"},{"owner":{"account_id":9466467,"reputation":305,"user_id":7038650,"accept_rate":80,"display_name":"Robin"},"score":0,"creation_date":1497440716,"post_id":44542755,"comment_id":76078130,"body_markdown":"@j.e.gr I checked it. The file name `button_background.xm` is correct. I&#39;ve posted the answer, please check.","body":"@j.e.gr I checked it. The file name <code>button_background.xm</code> is correct. I&#39;ve posted the answer, please check."},{"owner":{"account_id":10396927,"reputation":68267,"user_id":7666442,"display_name":"AskNilesh"},"score":0,"creation_date":1497440744,"post_id":44542755,"comment_id":76078149,"body_markdown":"@Robin check my ans","body":"@Robin check my ans"},{"owner":{"account_id":10396927,"reputation":68267,"user_id":7666442,"display_name":"AskNilesh"},"score":0,"creation_date":1497442391,"post_id":44542755,"comment_id":76079448,"body_markdown":"@Robin did your problrm solved","body":"@Robin did your problrm solved"},{"owner":{"account_id":9466467,"reputation":305,"user_id":7038650,"accept_rate":80,"display_name":"Robin"},"score":0,"creation_date":1497442561,"post_id":44542755,"comment_id":76079583,"body_markdown":"Yes @Nilesh Rathod","body":"Yes @Nilesh Rathod"},{"owner":{"account_id":10396927,"reputation":68267,"user_id":7666442,"display_name":"AskNilesh"},"score":0,"creation_date":1497442602,"post_id":44542755,"comment_id":76079617,"body_markdown":"thna please mark my ans as correct thank you","body":"thna please mark my ans as correct thank you"}],"answers":[{"tags":[],"owner":{"account_id":3804353,"reputation":6039,"user_id":3283568,"accept_rate":51,"display_name":"Akshay"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1497438785,"creation_date":1497438375,"answer_id":44543017,"question_id":44542755,"body_markdown":"Firstly you have to shift your `button_text.xml` and `button_background.xml` to `drawable` directory.\r\n\r\nthen set like:\r\n\r\n    android:textColor=&quot;@drawable/button_text&quot;\r\n    android:background=&quot;@drawable/button_background&quot;\r\n\r\n","title":"android.content.res.Resources$NotFoundException - /res/color/file.xml","body":"<p>Firstly you have to shift your <code>button_text.xml</code> and <code>button_background.xml</code> to <code>drawable</code> directory.</p>\n\n<p>then set like:</p>\n\n<pre><code>android:textColor=\"@drawable/button_text\"\nandroid:background=\"@drawable/button_background\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10396927,"reputation":68267,"user_id":7666442,"display_name":"AskNilesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497441125,"creation_date":1497440065,"answer_id":44543628,"question_id":44542755,"body_markdown":"try this it will help you\r\n**follow this** \r\n\r\n**Step 1:-&gt; create a button_text.xml in res/color/ directory.**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item  android:state_enabled=&quot;true&quot; android:state_pressed=&quot;false&quot; android:color=&quot;@color/colorPrimary&quot;/&gt;\r\n    &lt;item  android:state_enabled=&quot;false&quot; android:color=&quot;@color/colorAccent&quot;/&gt;\r\n    &lt;item  android:state_enabled=&quot;true&quot; android:state_pressed=&quot;true&quot; android:color=&quot;@color/colorPrimaryDark&quot;/&gt;\r\n    &lt;/selector&gt;\r\n\r\nStep 2 :-&gt; create a button_selector.xml in res/drawble/ directory.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item  android:state_enabled=&quot;true&quot; android:state_pressed=&quot;false&quot; android:drawable=&quot;@drawable/disha&quot;/&gt;\r\n    &lt;item  android:state_enabled=&quot;false&quot; android:drawable=&quot;@drawable/back&quot;/&gt;\r\n    &lt;item  android:state_enabled=&quot;true&quot; android:state_pressed=&quot;true&quot; android:drawable=&quot;@drawable/ic_edit_pen&quot;/&gt;\r\n    &lt;/selector&gt;\r\n\r\n**Step3 :- now appy in your button** \r\n\r\n        &lt;Button\r\n        android:id=&quot;@+id/b1&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:textColor=&quot;@color/button_text&quot;\r\n        android:background=&quot;@drawable/button_selector&quot; /&gt;\r\n\r\n**aks me in case of any query**\r\n\r\n\r\n","title":"android.content.res.Resources$NotFoundException - /res/color/file.xml","body":"<p>try this it will help you\n<strong>follow this</strong> </p>\n\n<p><strong>Step 1:-> create a button_text.xml in res/color/ directory.</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n&lt;item  android:state_enabled=\"true\" android:state_pressed=\"false\" android:color=\"@color/colorPrimary\"/&gt;\n&lt;item  android:state_enabled=\"false\" android:color=\"@color/colorAccent\"/&gt;\n&lt;item  android:state_enabled=\"true\" android:state_pressed=\"true\" android:color=\"@color/colorPrimaryDark\"/&gt;\n&lt;/selector&gt;\n</code></pre>\n\n<p>Step 2 :-> create a button_selector.xml in res/drawble/ directory.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n&lt;item  android:state_enabled=\"true\" android:state_pressed=\"false\" android:drawable=\"@drawable/disha\"/&gt;\n&lt;item  android:state_enabled=\"false\" android:drawable=\"@drawable/back\"/&gt;\n&lt;item  android:state_enabled=\"true\" android:state_pressed=\"true\" android:drawable=\"@drawable/ic_edit_pen\"/&gt;\n&lt;/selector&gt;\n</code></pre>\n\n<p><strong>Step3 :- now appy in your button</strong> </p>\n\n<pre><code>    &lt;Button\n    android:id=\"@+id/b1\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:textColor=\"@color/button_text\"\n    android:background=\"@drawable/button_selector\" /&gt;\n</code></pre>\n\n<p><strong>aks me in case of any query</strong></p>\n"},{"tags":[],"owner":{"account_id":9466467,"reputation":305,"user_id":7038650,"accept_rate":80,"display_name":"Robin"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1497440419,"creation_date":1497440419,"answer_id":44543760,"question_id":44542755,"body_markdown":"So, here it is. Please read the full answer. The `android:background` attribute does not supports the `Color State List` unlike `android:textColor`. To make `android:background` property work, you need `State List Drawables`. Thus, instead of `res/color/` create the file in `res/drawable/` directory. Here&#39;s the code: \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item android:drawable=&quot;@color/white&quot;\r\n              android:state_pressed=&quot;true&quot;/&gt;\r\n        &lt;item android:drawable=&quot;@color/black&quot;\r\n              android:state_activated=&quot;true&quot;/&gt;\r\n    &lt;/selector&gt;\r\n\r\nNote the use of android:drawable instead of android:color. Android will use the color resource and make a drawable out of it. To finish this off, you need to add the color resources to your res/values/colors.xml file.\r\n\r\nFor More information : [CLICK HERE!][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/18131705/7038650","title":"android.content.res.Resources$NotFoundException - /res/color/file.xml","body":"<p>So, here it is. Please read the full answer. The <code>android:background</code> attribute does not supports the <code>Color State List</code> unlike <code>android:textColor</code>. To make <code>android:background</code> property work, you need <code>State List Drawables</code>. Thus, instead of <code>res/color/</code> create the file in <code>res/drawable/</code> directory. Here's the code: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;item android:drawable=\"@color/white\"\n          android:state_pressed=\"true\"/&gt;\n    &lt;item android:drawable=\"@color/black\"\n          android:state_activated=\"true\"/&gt;\n&lt;/selector&gt;\n</code></pre>\n\n<p>Note the use of android:drawable instead of android:color. Android will use the color resource and make a drawable out of it. To finish this off, you need to add the color resources to your res/values/colors.xml file.</p>\n\n<p>For More information : <a href=\"https://stackoverflow.com/a/18131705/7038650\">CLICK HERE!</a></p>\n"},{"tags":[],"owner":{"account_id":3366602,"reputation":611,"user_id":2827025,"display_name":"anemomylos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497440786,"creation_date":1497440786,"answer_id":44543894,"question_id":44542755,"body_markdown":"If you look better the stack trace exception you should find this:\r\n\r\n     Caused by: org.xmlpull.v1.XmlPullParserException: Binary XML file line #4: &lt;item&gt; tag requires a &#39;drawable&#39; attribute or child tag defining a drawable\r\n\r\nYou can find the solution here:\r\nhttps://stackoverflow.com/questions/8114322/error-item-tag-requires-a-drawable-attribute-or-child-tag-defining-a-drawa?answertab=votes#tab-top","title":"android.content.res.Resources$NotFoundException - /res/color/file.xml","body":"<p>If you look better the stack trace exception you should find this:</p>\n\n<pre><code> Caused by: org.xmlpull.v1.XmlPullParserException: Binary XML file line #4: &lt;item&gt; tag requires a 'drawable' attribute or child tag defining a drawable\n</code></pre>\n\n<p>You can find the solution here:\n<a href=\"https://stackoverflow.com/questions/8114322/error-item-tag-requires-a-drawable-attribute-or-child-tag-defining-a-drawa?answertab=votes#tab-top\">Error : &lt;item&gt; tag requires a &#39;drawable&#39; attribute or child tag defining a drawable</a></p>\n"},{"tags":[],"owner":{"account_id":10531491,"reputation":330,"user_id":7760687,"display_name":"Mayur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662119037,"creation_date":1662119037,"answer_id":73582047,"question_id":44542755,"body_markdown":"**Try This**\r\n\r\nChange\r\n\r\n    android:background=&quot;@color/button_background&quot;\r\n\r\nTo\r\n\r\n    android:backgroundTint=&quot;@color/button_background&quot;\r\n\r\nThe above code work fine, if your button_background.xml file put in `res/color/`","title":"android.content.res.Resources$NotFoundException - /res/color/file.xml","body":"<p><strong>Try This</strong></p>\n<p>Change</p>\n<pre><code>android:background=&quot;@color/button_background&quot;\n</code></pre>\n<p>To</p>\n<pre><code>android:backgroundTint=&quot;@color/button_background&quot;\n</code></pre>\n<p>The above code work fine, if your button_background.xml file put in <code>res/color/</code></p>\n"}],"owner":{"account_id":9466467,"reputation":305,"user_id":7038650,"accept_rate":80,"display_name":"Robin"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5082,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":44543760,"answer_count":5,"score":5,"last_activity_date":1662119037,"creation_date":1497437638,"question_id":44542755,"body_markdown":"I&#39;m trying to implement the **Color State List Resources** in my android application, following Android developer guide [Color State List Resource | Android Developers][1]. So I created two resource files `button_text.xml` and `button_background.xml` in the directory `res/color/` and referred them in the with `@color/button_text` and `@color/button_background` respectively in the `activity_main.xml`. Here&#39;s the **layout code**:\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/myButton&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/app_name&quot;\r\n        android:layout_marginTop=&quot;150dp&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:textColor=&quot;@color/button_text&quot;\r\n        android:background=&quot;@color/button_background&quot;/&gt;\r\n\r\nOn running the App, I&#39;m getting a `Resources Not Found Exception` in the logs as shown below:\r\n\r\n    Process: com.example.myanimation, PID: 29254\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.myanimation/com.example.myanimation.MainActivity}: android.view.InflateException: Binary XML file line #11: Binary XML file line #11: Error inflating class Button\r\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2659)\r\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2724)\r\n    at android.app.ActivityThread.-wrap12(ActivityThread.java)\r\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1473)\r\n    at android.os.Handler.dispatchMessage(Handler.java:102)\r\n    at android.os.Looper.loop(Looper.java:154)\r\n    at android.app.ActivityThread.main(ActivityThread.java:6123)\r\n    at java.lang.reflect.Method.invoke(Native Method)\r\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:757)\r\n    Caused by: android.view.InflateException: Binary XML file line #11: Binary XML file line #11: Error inflating class Button\r\n    Caused by: android.view.InflateException: Binary XML file line #11: Error inflating class Button\r\n    Caused by: android.content.res.Resources$NotFoundException: Drawable com.example.myanimation:color/button_background with resource ID #0x7f0b0053\r\n    Caused by: android.content.res.Resources$NotFoundException: File res/color/button_background.xml from drawable resource ID #0x7f0b0053\r\n    at android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:729)\r\n    at android.content.res.ResourcesImpl.loadDrawable(ResourcesImpl.java:575)\r\n    at android.content.res.Resources.loadDrawable(Resources.java:854)\r\n    at android.content.res.TypedArray.getDrawable(TypedArray.java:928)\r\n    at android.view.View.&lt;init&gt;(View.java:4177)\r\n    at android.widget.TextView.&lt;init&gt;(TextView.java:710)\r\n    at android.widget.Button.&lt;init&gt;(Button.java:109)\r\n    at android.widget.Button.&lt;init&gt;(Button.java:105)\r\n    at android.support.v7.widget.AppCompatButton.&lt;init&gt;(AppCompatButton.java:65)\r\n    at android.support.v7.widget.AppCompatButton.&lt;init&gt;(AppCompatButton.java:61)\r\n    at android.support.v7.app.AppCompatViewInflater.createView(AppCompatViewInflater.java:109)\r\n    at android.support.v7.app.AppCompatDelegateImplV9.createView(AppCompatDelegateImplV9.java:1026)\r\n    at android.support.v7.app.AppCompatDelegateImplV9.onCreateView(AppCompatDelegateImplV9.java:1083)\r\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:769)\r\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:727)\r\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:858)\r\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)\r\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:518)\r\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:426)\r\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:377)\r\n    at android.support.v7.app.AppCompatDelegateImplV9.setContentView(AppCompatDelegateImplV9.java:289)\r\n    at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:139)\r\n    at com.example.myanimation.MainActivity.onCreate(MainActivity.java:11)\r\n    at android.app.Activity.performCreate(Activity.java:6672)\r\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1140)\r\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2612)\r\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2724)\r\n    at android.app.ActivityThread.-wrap12(ActivityThread.java)\r\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1473)\r\n    at android.os.Handler.dispatchMessage(Handler.java:102)\r\n    at android.os.Looper.loop(Looper.java:154)\r\n    at android.app.ActivityThread.main(ActivityThread.java:6123)\r\n    at java.lang.reflect.Method.invoke(Native Method)\r\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:757)\r\n\r\nI&#39;ve tried to clean and rebuild the project but it didn&#39;t work. Also, putting the `xml files` in `res/drawable/` instead of `res/color/` is showing the same error.Please help solving the issue. Thanks in advance!\r\n\r\n**EDIT:**\r\n\r\nHere is the `button_text.xml` file code:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item android:color=&quot;#000&quot;\r\n              android:state_pressed=&quot;true&quot;/&gt;\r\n        &lt;item android:color=&quot;#fff&quot;\r\n              android:state_activated=&quot;true&quot;/&gt;\r\n    &lt;/selector&gt;\r\n\r\nAnd, `button_background.xml` file code:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item android:color=&quot;#fff&quot;\r\n              android:state_pressed=&quot;true&quot;/&gt;\r\n        &lt;item android:color=&quot;#000&quot;\r\n              android:state_activated=&quot;true&quot;/&gt;\r\n    &lt;/selector&gt;\r\n\r\n  [1]: https://developer.android.com/guide/topics/resources/color-list-resource.html","title":"android.content.res.Resources$NotFoundException - /res/color/file.xml","body":"<p>I'm trying to implement the <strong>Color State List Resources</strong> in my android application, following Android developer guide <a href=\"https://developer.android.com/guide/topics/resources/color-list-resource.html\" rel=\"noreferrer\">Color State List Resource | Android Developers</a>. So I created two resource files <code>button_text.xml</code> and <code>button_background.xml</code> in the directory <code>res/color/</code> and referred them in the with <code>@color/button_text</code> and <code>@color/button_background</code> respectively in the <code>activity_main.xml</code>. Here's the <strong>layout code</strong>:</p>\n\n<pre><code>&lt;Button\n    android:id=\"@+id/myButton\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"@string/app_name\"\n    android:layout_marginTop=\"150dp\"\n    android:layout_gravity=\"center\"\n    android:textColor=\"@color/button_text\"\n    android:background=\"@color/button_background\"/&gt;\n</code></pre>\n\n<p>On running the App, I'm getting a <code>Resources Not Found Exception</code> in the logs as shown below:</p>\n\n<pre><code>Process: com.example.myanimation, PID: 29254\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.myanimation/com.example.myanimation.MainActivity}: android.view.InflateException: Binary XML file line #11: Binary XML file line #11: Error inflating class Button\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2659)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2724)\nat android.app.ActivityThread.-wrap12(ActivityThread.java)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1473)\nat android.os.Handler.dispatchMessage(Handler.java:102)\nat android.os.Looper.loop(Looper.java:154)\nat android.app.ActivityThread.main(ActivityThread.java:6123)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:757)\nCaused by: android.view.InflateException: Binary XML file line #11: Binary XML file line #11: Error inflating class Button\nCaused by: android.view.InflateException: Binary XML file line #11: Error inflating class Button\nCaused by: android.content.res.Resources$NotFoundException: Drawable com.example.myanimation:color/button_background with resource ID #0x7f0b0053\nCaused by: android.content.res.Resources$NotFoundException: File res/color/button_background.xml from drawable resource ID #0x7f0b0053\nat android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:729)\nat android.content.res.ResourcesImpl.loadDrawable(ResourcesImpl.java:575)\nat android.content.res.Resources.loadDrawable(Resources.java:854)\nat android.content.res.TypedArray.getDrawable(TypedArray.java:928)\nat android.view.View.&lt;init&gt;(View.java:4177)\nat android.widget.TextView.&lt;init&gt;(TextView.java:710)\nat android.widget.Button.&lt;init&gt;(Button.java:109)\nat android.widget.Button.&lt;init&gt;(Button.java:105)\nat android.support.v7.widget.AppCompatButton.&lt;init&gt;(AppCompatButton.java:65)\nat android.support.v7.widget.AppCompatButton.&lt;init&gt;(AppCompatButton.java:61)\nat android.support.v7.app.AppCompatViewInflater.createView(AppCompatViewInflater.java:109)\nat android.support.v7.app.AppCompatDelegateImplV9.createView(AppCompatDelegateImplV9.java:1026)\nat android.support.v7.app.AppCompatDelegateImplV9.onCreateView(AppCompatDelegateImplV9.java:1083)\nat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:769)\nat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:727)\nat android.view.LayoutInflater.rInflate(LayoutInflater.java:858)\nat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)\nat android.view.LayoutInflater.inflate(LayoutInflater.java:518)\nat android.view.LayoutInflater.inflate(LayoutInflater.java:426)\nat android.view.LayoutInflater.inflate(LayoutInflater.java:377)\nat android.support.v7.app.AppCompatDelegateImplV9.setContentView(AppCompatDelegateImplV9.java:289)\nat android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:139)\nat com.example.myanimation.MainActivity.onCreate(MainActivity.java:11)\nat android.app.Activity.performCreate(Activity.java:6672)\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1140)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2612)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2724)\nat android.app.ActivityThread.-wrap12(ActivityThread.java)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1473)\nat android.os.Handler.dispatchMessage(Handler.java:102)\nat android.os.Looper.loop(Looper.java:154)\nat android.app.ActivityThread.main(ActivityThread.java:6123)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:757)\n</code></pre>\n\n<p>I've tried to clean and rebuild the project but it didn't work. Also, putting the <code>xml files</code> in <code>res/drawable/</code> instead of <code>res/color/</code> is showing the same error.Please help solving the issue. Thanks in advance!</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Here is the <code>button_text.xml</code> file code:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;item android:color=\"#000\"\n          android:state_pressed=\"true\"/&gt;\n    &lt;item android:color=\"#fff\"\n          android:state_activated=\"true\"/&gt;\n&lt;/selector&gt;\n</code></pre>\n\n<p>And, <code>button_background.xml</code> file code:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;item android:color=\"#fff\"\n          android:state_pressed=\"true\"/&gt;\n    &lt;item android:color=\"#000\"\n          android:state_activated=\"true\"/&gt;\n&lt;/selector&gt;\n</code></pre>\n"},{"tags":["java","spring","security","saml"],"owner":{"account_id":423751,"reputation":51,"user_id":803361,"display_name":"jkerr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1662118930,"creation_date":1662118133,"question_id":73581882,"body_markdown":"So we&#39;re updating to the newest spring security (5.7.3 as this time) and I have it working for grabbing my registrationId from the path (we use IDP initiated SSO), e.g.\r\n```https://company.com/saml/someregid```\r\n\r\nWhat I&#39;d like to do now is grab the registrationId from the subdomain e.g.\r\n```https://someregid.company.com/saml/SSO```\r\n\r\nI&#39;ve been learning as I go, so I&#39;m hoping there&#39;s a way to specify a custom matcher to use to grab the registrationId.  I see the code I&#39;d like to affect in ```Saml2WebSsoAuthenticationFilter``` in it&#39;s call to\r\n```Authentication authentication = this.authenticationConverter.convert(request);```\r\nwhich seems to use ```DefaultRelyingPartyRegistrationResolver``` which uses an ```AntPathRequestMatcher```.\r\n\r\nThat matcher just uses ```String url = getRequestPath(request)``` which tries to match just on ```/saml/SSO``` in this case, so I was thinking if I could use my own matcher, I could use ```request.getRequestURL()``` in my matcher to find the registrationId.\r\n\r\nMy current working configuration is:\r\n\r\n```\r\nhttp\r\n            .authorizeRequests()\r\n            .antMatchers(&quot;/authorized&quot;).hasRole(&quot;USER&quot;)\r\n            .anyRequest()\r\n            .authenticated()\r\n            .and()\r\n            .saml2Login()\r\n            .successHandler(new MySamlLoginSuccessHandler())\r\n            .loginProcessingUrl(&quot;/saml/{registrationId}&quot;); // setting this must include {registrationId}\r\n\r\n      SecurityFilterChain chain = http.build();\r\n\r\n      return chain;\r\n```\r\n\r\nThanks!","title":"Spring Security - Custom matcher to get RegistrationId","body":"<p>So we're updating to the newest spring security (5.7.3 as this time) and I have it working for grabbing my registrationId from the path (we use IDP initiated SSO), e.g.\n<code>https://company.com/saml/someregid</code></p>\n<p>What I'd like to do now is grab the registrationId from the subdomain e.g.\n<code>https://someregid.company.com/saml/SSO</code></p>\n<p>I've been learning as I go, so I'm hoping there's a way to specify a custom matcher to use to grab the registrationId.  I see the code I'd like to affect in <code>Saml2WebSsoAuthenticationFilter</code> in it's call to\n<code>Authentication authentication = this.authenticationConverter.convert(request);</code>\nwhich seems to use <code>DefaultRelyingPartyRegistrationResolver</code> which uses an <code>AntPathRequestMatcher</code>.</p>\n<p>That matcher just uses <code>String url = getRequestPath(request)</code> which tries to match just on <code>/saml/SSO</code> in this case, so I was thinking if I could use my own matcher, I could use <code>request.getRequestURL()</code> in my matcher to find the registrationId.</p>\n<p>My current working configuration is:</p>\n<pre><code>http\n            .authorizeRequests()\n            .antMatchers(&quot;/authorized&quot;).hasRole(&quot;USER&quot;)\n            .anyRequest()\n            .authenticated()\n            .and()\n            .saml2Login()\n            .successHandler(new MySamlLoginSuccessHandler())\n            .loginProcessingUrl(&quot;/saml/{registrationId}&quot;); // setting this must include {registrationId}\n\n      SecurityFilterChain chain = http.build();\n\n      return chain;\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","hibernate","hibernate-mapping"],"comments":[{"owner":{"account_id":950905,"reputation":1226,"user_id":977081,"accept_rate":76,"display_name":"melli-182"},"score":0,"creation_date":1436208526,"post_id":31253223,"comment_id":50503672,"body_markdown":"please, have a look: http://stackoverflow.com/questions/438146/hibernate-hbm2ddl-auto-possible-values-and-what-they-do","body":"please, have a look: <a href=\"http://stackoverflow.com/questions/438146/hibernate-hbm2ddl-auto-possible-values-and-what-they-do\" title=\"hibernate hbm2ddl auto possible values and what they do\">stackoverflow.com/questions/438146/&hellip;</a>"},{"owner":{"account_id":2873566,"reputation":349,"user_id":2466312,"accept_rate":82,"display_name":"UDE_Student"},"score":0,"creation_date":1436208929,"post_id":31253223,"comment_id":50503913,"body_markdown":"Thanks, maybe i don&#39;t understand it, but when i am using update i am on the right track, right? Unfortunately &quot;Update&quot; leads to a wrong SQL Statement, wihout an WHERE id=X at the end. So that leads to that &quot;duplicate&quot; error.","body":"Thanks, maybe i don&#39;t understand it, but when i am using update i am on the right track, right? Unfortunately &quot;Update&quot; leads to a wrong SQL Statement, wihout an WHERE id=X at the end. So that leads to that &quot;duplicate&quot; error."},{"owner":{"account_id":2873566,"reputation":349,"user_id":2466312,"accept_rate":82,"display_name":"UDE_Student"},"score":0,"creation_date":1436209208,"post_id":31253223,"comment_id":50504077,"body_markdown":"i have edited my starting post with the statement that Hibernate sends and what i want that hibernate should send.","body":"i have edited my starting post with the statement that Hibernate sends and what i want that hibernate should send."},{"owner":{"account_id":950905,"reputation":1226,"user_id":977081,"accept_rate":76,"display_name":"melli-182"},"score":0,"creation_date":1436209305,"post_id":31253223,"comment_id":50504139,"body_markdown":"did you try using the property with the value &quot;validate&quot;?","body":"did you try using the property with the value &quot;validate&quot;?"},{"owner":{"account_id":2873566,"reputation":349,"user_id":2466312,"accept_rate":82,"display_name":"UDE_Student"},"score":0,"creation_date":1436209923,"post_id":31253223,"comment_id":50504473,"body_markdown":"i found a solution, before i used session.persist(Customer), i had to use session.saveOrUpdate(Customer)","body":"i found a solution, before i used session.persist(Customer), i had to use session.saveOrUpdate(Customer)"},{"owner":{"account_id":2873566,"reputation":349,"user_id":2466312,"accept_rate":82,"display_name":"UDE_Student"},"score":0,"creation_date":1436210425,"post_id":31253223,"comment_id":50504788,"body_markdown":"But i have the problem, if i reopen a new session and try to get all the Customer objects in a List, i get NULL. allCustomers=ArrayList&lt;Customer&gt;) session.createQuery(&quot;FROM Customer&quot;).list(); -----","body":"But i have the problem, if i reopen a new session and try to get all the Customer objects in a List, i get NULL. allCustomers=ArrayList&lt;Customer&gt;) session.createQuery(&quot;FROM Customer&quot;).list(); -----"}],"answers":[{"tags":[],"owner":{"account_id":3174896,"reputation":7393,"user_id":2683013,"accept_rate":71,"display_name":"Sky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436325645,"creation_date":1436325645,"answer_id":31282961,"question_id":31253223,"body_markdown":"What did you do where the &#39;duplicate error&#39; occurs? Now I have the `hibernate.hbm2ddl.auto` configured as yours, but it&#39;s okay saving or updating entity in my local.","title":"Hibernate: New Session without dropping the tables","body":"<p>What did you do where the 'duplicate error' occurs? Now I have the <code>hibernate.hbm2ddl.auto</code> configured as yours, but it's okay saving or updating entity in my local.</p>\n"},{"tags":[],"owner":{"account_id":26178873,"reputation":26,"user_id":19862545,"display_name":"Naina"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662118430,"creation_date":1661674098,"answer_id":73517023,"question_id":31253223,"body_markdown":"try `session.saveOrUpdate()` method where you have used `session.save()` it will prevent your database from dropping while fetching data use it with `hbm2ddl.auto` update. it worked for me. hope it helps.","title":"Hibernate: New Session without dropping the tables","body":"<p>try <code>session.saveOrUpdate()</code> method where you have used <code>session.save()</code> it will prevent your database from dropping while fetching data use it with <code>hbm2ddl.auto</code> update. it worked for me. hope it helps.</p>\n"}],"owner":{"account_id":2873566,"reputation":349,"user_id":2466312,"accept_rate":82,"display_name":"UDE_Student"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73517023,"answer_count":2,"score":0,"last_activity_date":1662118430,"creation_date":1436207935,"question_id":31253223,"body_markdown":"I am new to Hibernate (implementing since yesterday) and i succesfully created a method, that transfers my Customer Objects to the Database.\r\n\r\nAfter i quit my application and start it again and create a new session (in an other method) based on my hibernate.cfg.xml file with this setting:\r\n\r\n    &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n\r\nIt leads to that point, that all relevant tables, created with Hibernate are being deleted.\r\nSo maybe that is a comprehension question, but i think &quot;transparent persistence by hibernate&quot; means also, that my POJO&#39;s are persistent beyond the runtime of my application!?\r\n\r\nSo i read several topics on Stackoverflow and tried it with this setting:\r\n\r\n    &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\r\n\r\nBut this leads to SQL errors:\r\n\r\n    com.mysql.jdbc.exceptions.MySQLIntegrityConstraintViolationException: Duplicate entry &#39;1&#39; for key &#39;PRIMARY&#39;\r\n\r\n Of course i don&#39;t want have duplicates, so i suppose that hibernate doesn&#39;t send a SQL Statement referring to an existing object. \r\n\r\nIt sends a Statement like this:\r\n\r\n    UPDATE `customer` SET `id`=1,`birthday`=&#39;1990-10-05 00:00:00&#39;,`forename`=&#39;TestCustomer&#39;,`gender`=&#39;F&#39;,`generatedProfitsLastYear`=&#39;0&#39;,`generatedProfitsTotal`=&#39;0&#39;,`surename`=&#39;A&#39;,`gcid`=&#39;1&#39; \r\n\r\nBut i need the same statement, with a\r\n\r\n    Where `id`=1\r\n\r\nat the end.\r\n\r\n\r\n\r\nSo basically what i want is, that hibernate doesn&#39;t drop all the tables and creates it again when i restart my application and create a new session based on the configuration file. So after i open a new session, i can transfer the Customer Objects stored in the database to POJOs.\r\nDid i understand the concept of hibernate incorrectly or am i making a typical beginners mistake?\r\n\r\nBelow you will find my Customer Class:\r\n\r\n    @Entity\r\n    @Table(name=&quot;CUSTOMER&quot;)\r\n    \r\n    public class Customer {\r\n    \tprivate int id;\r\n    \tprivate String forename;\r\n    \tprivate String surname;\r\n    \tprivate char gender;\r\n    \tprivate Date birthday;\r\n    \tprivate double generatedProfitsTotal;\r\n    \tprivate double generatedProfitsLastYear;\t\r\n    \tprivate CustomerGroup assignedTo;\r\n    \t\r\n    \tpublic Customer(int id, String forename, String surname, char gender,\r\n    \t\t\tDate birthday) {\r\n    \t\tsuper();\r\n    \t\tthis.id = id;\r\n    \t\tthis.forename = forename;\r\n    \t\tthis.surname = surname;\r\n    \t\tthis.gender = gender;\r\n    \t\tthis.birthday = birthday;\r\n    \t}\r\n    \r\n    \t@Id\r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n        \r\n    \t@Column(name = &quot;forename&quot;)\r\n    \tpublic String getForename() {\r\n    \t\treturn forename;\r\n    \t}\r\n    \r\n    \tpublic void setForename(String forename) {\r\n    \t\tthis.forename = forename;\r\n    \t}\r\n    \t@Column(name = &quot;surename&quot;)\r\n    \tpublic String getSurname() {\r\n    \t\treturn surname;\r\n    \t}\r\n    \r\n    \tpublic void setSurname(String surname) {\r\n    \t\tthis.surname = surname;\r\n    \t}\r\n    \t@Column(name = &quot;gender&quot;)\r\n    \tpublic char getGender() {\r\n    \t\treturn gender;\r\n    \t}\r\n    \t\r\n    \tpublic void setGender(char gender) {\r\n    \t\tthis.gender = gender;\r\n    \t}\r\n    \t@Column(name = &quot;birthday&quot;)\r\n    \tpublic Date getBirthday() {\r\n    \t\treturn birthday;\r\n    \t}\r\n    \r\n    \tpublic void setBirthday(Date birthday) {\r\n    \t\tthis.birthday = birthday;\r\n    \t}\r\n    \t@Column(name = &quot;generatedProfitsTotal&quot;)\r\n    \tpublic double getGeneratedProfitsTotal() {\r\n    \t\treturn generatedProfitsTotal;\r\n    \t}\r\n    \r\n    \tpublic void setGeneratedProfitsTotal(double generatedProfitsTotal) {\r\n    \t\tthis.generatedProfitsTotal = generatedProfitsTotal;\r\n    \t}\r\n    \t@Column(name = &quot;generatedProfitsLastYear&quot;)\r\n    \tpublic double getGeneratedProfitsLastYear() {\r\n    \t\treturn generatedProfitsLastYear;\r\n    \t}\r\n    \r\n    \tpublic void setGeneratedProfitsLastYear(double generatedProfitsLastYear) {\r\n    \t\tthis.generatedProfitsLastYear = generatedProfitsLastYear;\r\n    \t}\r\n      \r\n    \r\n    \t@ManyToOne(fetch=FetchType.EAGER)\r\n    \t@JoinColumn(name=&quot;gcid&quot;, nullable=true, insertable=true, updatable=true)\r\n    \tpublic CustomerGroup getAssignedTo() {\r\n    \t\treturn assignedTo;\r\n    \t}\r\n    \r\n    \tpublic void setAssignedTo(CustomerGroup assignedTo) {\r\n    \t\tthis.assignedTo = assignedTo;\r\n    \t}\r\n    }\r\n\r\n\r\nmy hibernate config file:\r\n\r\n    &lt;hibernate-configuration&gt;\r\n        &lt;session-factory&gt;\r\n            &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.password&quot;&gt;root&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://127.0.0.1/hibernatetesting&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\r\n            &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\r\n            &lt;mapping class=&quot;studyproject.Customer&quot;/&gt;\r\n             &lt;mapping class=&quot;studyproject.CustomerGroup&quot;/&gt;\r\n             &lt;mapping class=&quot;studyproject.BonusPackage&quot;/&gt;\r\n              \r\n        &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\nThanks","title":"Hibernate: New Session without dropping the tables","body":"<p>I am new to Hibernate (implementing since yesterday) and i succesfully created a method, that transfers my Customer Objects to the Database.</p>\n\n<p>After i quit my application and start it again and create a new session (in an other method) based on my hibernate.cfg.xml file with this setting:</p>\n\n<pre><code>&lt;property name=\"hibernate.hbm2ddl.auto\"&gt;create&lt;/property&gt;\n</code></pre>\n\n<p>It leads to that point, that all relevant tables, created with Hibernate are being deleted.\nSo maybe that is a comprehension question, but i think \"transparent persistence by hibernate\" means also, that my POJO's are persistent beyond the runtime of my application!?</p>\n\n<p>So i read several topics on Stackoverflow and tried it with this setting:</p>\n\n<pre><code>&lt;property name=\"hibernate.hbm2ddl.auto\"&gt;update&lt;/property&gt;\n</code></pre>\n\n<p>But this leads to SQL errors:</p>\n\n<pre><code>com.mysql.jdbc.exceptions.MySQLIntegrityConstraintViolationException: Duplicate entry '1' for key 'PRIMARY'\n</code></pre>\n\n<p>Of course i don't want have duplicates, so i suppose that hibernate doesn't send a SQL Statement referring to an existing object. </p>\n\n<p>It sends a Statement like this:</p>\n\n<pre><code>UPDATE `customer` SET `id`=1,`birthday`='1990-10-05 00:00:00',`forename`='TestCustomer',`gender`='F',`generatedProfitsLastYear`='0',`generatedProfitsTotal`='0',`surename`='A',`gcid`='1' \n</code></pre>\n\n<p>But i need the same statement, with a</p>\n\n<pre><code>Where `id`=1\n</code></pre>\n\n<p>at the end.</p>\n\n<p>So basically what i want is, that hibernate doesn't drop all the tables and creates it again when i restart my application and create a new session based on the configuration file. So after i open a new session, i can transfer the Customer Objects stored in the database to POJOs.\nDid i understand the concept of hibernate incorrectly or am i making a typical beginners mistake?</p>\n\n<p>Below you will find my Customer Class:</p>\n\n<pre><code>@Entity\n@Table(name=\"CUSTOMER\")\n\npublic class Customer {\n    private int id;\n    private String forename;\n    private String surname;\n    private char gender;\n    private Date birthday;\n    private double generatedProfitsTotal;\n    private double generatedProfitsLastYear;    \n    private CustomerGroup assignedTo;\n\n    public Customer(int id, String forename, String surname, char gender,\n            Date birthday) {\n        super();\n        this.id = id;\n        this.forename = forename;\n        this.surname = surname;\n        this.gender = gender;\n        this.birthday = birthday;\n    }\n\n    @Id\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    @Column(name = \"forename\")\n    public String getForename() {\n        return forename;\n    }\n\n    public void setForename(String forename) {\n        this.forename = forename;\n    }\n    @Column(name = \"surename\")\n    public String getSurname() {\n        return surname;\n    }\n\n    public void setSurname(String surname) {\n        this.surname = surname;\n    }\n    @Column(name = \"gender\")\n    public char getGender() {\n        return gender;\n    }\n\n    public void setGender(char gender) {\n        this.gender = gender;\n    }\n    @Column(name = \"birthday\")\n    public Date getBirthday() {\n        return birthday;\n    }\n\n    public void setBirthday(Date birthday) {\n        this.birthday = birthday;\n    }\n    @Column(name = \"generatedProfitsTotal\")\n    public double getGeneratedProfitsTotal() {\n        return generatedProfitsTotal;\n    }\n\n    public void setGeneratedProfitsTotal(double generatedProfitsTotal) {\n        this.generatedProfitsTotal = generatedProfitsTotal;\n    }\n    @Column(name = \"generatedProfitsLastYear\")\n    public double getGeneratedProfitsLastYear() {\n        return generatedProfitsLastYear;\n    }\n\n    public void setGeneratedProfitsLastYear(double generatedProfitsLastYear) {\n        this.generatedProfitsLastYear = generatedProfitsLastYear;\n    }\n\n\n    @ManyToOne(fetch=FetchType.EAGER)\n    @JoinColumn(name=\"gcid\", nullable=true, insertable=true, updatable=true)\n    public CustomerGroup getAssignedTo() {\n        return assignedTo;\n    }\n\n    public void setAssignedTo(CustomerGroup assignedTo) {\n        this.assignedTo = assignedTo;\n    }\n}\n</code></pre>\n\n<p>my hibernate config file:</p>\n\n<pre><code>&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=\"hibernate.connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.password\"&gt;root&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.url\"&gt;jdbc:mysql://127.0.0.1/hibernatetesting&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.username\"&gt;root&lt;/property&gt;\n        &lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\n        &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n        &lt;property name=\"hibernate.hbm2ddl.auto\"&gt;update&lt;/property&gt;\n        &lt;mapping class=\"studyproject.Customer\"/&gt;\n         &lt;mapping class=\"studyproject.CustomerGroup\"/&gt;\n         &lt;mapping class=\"studyproject.BonusPackage\"/&gt;\n\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["java","spring","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1545927060,"post_id":53947559,"comment_id":94734031,"body_markdown":"show consumer configs, and also check zookeeper and kafka server are up","body":"show consumer configs, and also check zookeeper and kafka server are up"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":2,"creation_date":1545927437,"post_id":53947559,"comment_id":94734202,"body_markdown":"With a different setup, you would ship your logs to something like Splunk or Elasticsearch, which are configured with alerting on specific log conditions. Then, you wouldn&#39;t be adding boilerplate altering code into all your Kafka clients","body":"With a different setup, you would ship your logs to something like Splunk or Elasticsearch, which are configured with alerting on specific log conditions. Then, you wouldn&#39;t be adding boilerplate altering code into all your Kafka clients"}],"answers":[{"tags":[],"owner":{"account_id":5449795,"reputation":2687,"user_id":6352160,"accept_rate":75,"display_name":"Shankar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1546657293,"creation_date":1546656895,"answer_id":54048578,"question_id":53947559,"body_markdown":"The Consumer will throw a NonResponsiveConsumerEvent when it cannot poll the broker. It is possible to catch this event with an @EventListener.\r\n\r\nHere is a sample code:\r\n\r\n    @EventListener()\r\n    public void eventHandler(NonResponsiveConsumerEvent event) {\r\n        //When Kafka server is down, NonResponsiveConsumerEvent error is caught here.\r\n        System.out.println(&quot;CAUGHT the event &quot;+ event);\r\n    }\r\n\r\nYou can see more details in the docs. https://docs.spring.io/spring-kafka/reference/htmlsingle/#idle-containers\r\n\r\nI am specifically referring to this in the docs. \r\n\r\n&gt; if the broker is unreachable (at the time of writing), the consumer\r\n&gt; poll() method does not exit, so no messages are received, and idle\r\n&gt; events can’t be generated. To solve this issue, the container will\r\n&gt; publish a NonResponsiveConsumerEvent\r\n\r\nA working JUnit test code is here - https://github.com/shankarps/KafkaDemo/blob/master/src/test/java/com/kafkademo/stack/TestConsumerWithNonAvailableBroker.java\r\n","title":"How to catch warning &quot;Broker may not be available&quot; at the Spring Kafka Listener","body":"<p>The Consumer will throw a NonResponsiveConsumerEvent when it cannot poll the broker. It is possible to catch this event with an @EventListener.</p>\n\n<p>Here is a sample code:</p>\n\n<pre><code>@EventListener()\npublic void eventHandler(NonResponsiveConsumerEvent event) {\n    //When Kafka server is down, NonResponsiveConsumerEvent error is caught here.\n    System.out.println(\"CAUGHT the event \"+ event);\n}\n</code></pre>\n\n<p>You can see more details in the docs. <a href=\"https://docs.spring.io/spring-kafka/reference/htmlsingle/#idle-containers\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/reference/htmlsingle/#idle-containers</a></p>\n\n<p>I am specifically referring to this in the docs. </p>\n\n<blockquote>\n  <p>if the broker is unreachable (at the time of writing), the consumer\n  poll() method does not exit, so no messages are received, and idle\n  events can’t be generated. To solve this issue, the container will\n  publish a NonResponsiveConsumerEvent</p>\n</blockquote>\n\n<p>A working JUnit test code is here - <a href=\"https://github.com/shankarps/KafkaDemo/blob/master/src/test/java/com/kafkademo/stack/TestConsumerWithNonAvailableBroker.java\" rel=\"nofollow noreferrer\">https://github.com/shankarps/KafkaDemo/blob/master/src/test/java/com/kafkademo/stack/TestConsumerWithNonAvailableBroker.java</a></p>\n"}],"owner":{"account_id":2739866,"reputation":239,"user_id":2361644,"accept_rate":75,"display_name":"Venu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5656,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":54048578,"answer_count":1,"score":4,"last_activity_date":1662117287,"creation_date":1545925713,"question_id":53947559,"body_markdown":"I am working on a POC for implementing a kafka cluster in my project. I have setup a kafka cluster in my local machine with 3 brokers. Now I am sending messages to the Kafka server using Spring MVC REST service which is internally using Spring Kafka to produce and consume messages to and from the Kafka cluster. Now i am trying to send alerts when the consumer is unable to receive messages from the topic when the broker is down. I shutdown the only broker to which the consumer is connected. I am not getting any exception in my logs but i got the following warning messages.\r\n\r\n\r\n\r\n&gt; 0:20:35.500 [TEST_GROUP-0-C-1] WARN \r\n&gt; o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-1,\r\n&gt; groupId=TEST_GROUP] Connection to node 2147483645 could not be\r\n&gt; established. Broker may not be available.\r\n\r\nIs it possible to catch this warning message so that i can send alert when my consumer has lost connection? Below is my consumer code.\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(ListenerServiceImpl.class);\r\n    \t@Autowired\r\n        Dao&lt;RnMessage&gt; messageDao;\r\n    \t@Autowired\r\n    \tMessageService messageService;\r\n    \t\r\n    \t@KafkaListener(id = &quot;TEST_GROUP&quot;, topics = &quot;TESTQUEUE&quot;, errorHandler=&quot;eventQueueMessageListenerExceptionHandler&quot;)\r\n    \tpublic void listenMessageInQueue(String msg) {\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\t//String str = new String(msg, &quot;UTF-8&quot;);\r\n    \t\t\tLOGGER.info(&quot;receiving payload=&#39;{}&#39;&quot;, msg);\r\n    \t\t\tmessageDao.saveMessage(msg);\r\n    \t\t\tmessageService.sendMessageToOutQueue(msg);\r\n    \t\t}catch(Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\t\t\r\n    \t}\r\n\r\n","title":"How to catch warning &quot;Broker may not be available&quot; at the Spring Kafka Listener","body":"<p>I am working on a POC for implementing a kafka cluster in my project. I have setup a kafka cluster in my local machine with 3 brokers. Now I am sending messages to the Kafka server using Spring MVC REST service which is internally using Spring Kafka to produce and consume messages to and from the Kafka cluster. Now i am trying to send alerts when the consumer is unable to receive messages from the topic when the broker is down. I shutdown the only broker to which the consumer is connected. I am not getting any exception in my logs but i got the following warning messages.</p>\n\n<blockquote>\n  <p>0:20:35.500 [TEST_GROUP-0-C-1] WARN \n  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-1,\n  groupId=TEST_GROUP] Connection to node 2147483645 could not be\n  established. Broker may not be available.</p>\n</blockquote>\n\n<p>Is it possible to catch this warning message so that i can send alert when my consumer has lost connection? Below is my consumer code.</p>\n\n<pre><code>private static final Logger LOGGER = LoggerFactory.getLogger(ListenerServiceImpl.class);\n    @Autowired\n    Dao&lt;RnMessage&gt; messageDao;\n    @Autowired\n    MessageService messageService;\n\n    @KafkaListener(id = \"TEST_GROUP\", topics = \"TESTQUEUE\", errorHandler=\"eventQueueMessageListenerExceptionHandler\")\n    public void listenMessageInQueue(String msg) {\n\n        try {\n            //String str = new String(msg, \"UTF-8\");\n            LOGGER.info(\"receiving payload='{}'\", msg);\n            messageDao.saveMessage(msg);\n            messageService.sendMessageToOutQueue(msg);\n        }catch(Exception e) {\n            e.printStackTrace();\n        }       \n    }\n</code></pre>\n"},{"tags":["java","wizard","controlsfx"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1662153016,"post_id":73581602,"comment_id":129948730,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":26226850,"reputation":1,"user_id":19903416,"display_name":"Thomas"},"score":0,"creation_date":1671459573,"post_id":73581602,"comment_id":132097411,"body_markdown":"The only solution I found was to basically copy the Wizard class(by this I mean to copy the src. code) change the necessary parts there","body":"The only solution I found was to basically copy the Wizard class(by this I mean to copy the src. code) change the necessary parts there"}],"owner":{"account_id":26226850,"reputation":1,"user_id":19903416,"display_name":"Thomas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662116643,"creation_date":1662116643,"question_id":73581602,"body_markdown":"[Current GUI with the buttons in question][1]\r\n\r\nMy problem is that I need to prevent the user from clicking the Next Button when specific conditions are not met, I thought the best way for this would be to overwrite the onClickEvent for this Button but it seems impossible to the required field access to these buttons.\r\n\r\nI looked through the available methods in the documentation as well as the source code but I was not able to find anything which would help to achieve my goal.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NROjm.png","title":"Is there a possibility to customize the behavior of the buttons for ControlsFX wizard","body":"<p><a href=\"https://i.stack.imgur.com/NROjm.png\" rel=\"nofollow noreferrer\">Current GUI with the buttons in question</a></p>\n<p>My problem is that I need to prevent the user from clicking the Next Button when specific conditions are not met, I thought the best way for this would be to overwrite the onClickEvent for this Button but it seems impossible to the required field access to these buttons.</p>\n<p>I looked through the available methods in the documentation as well as the source code but I was not able to find anything which would help to achieve my goal.</p>\n"},{"tags":["java","redis","lettuce"],"answers":[{"tags":[],"owner":{"account_id":21837,"reputation":1262,"user_id":53387,"display_name":"jdwyah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662116634,"creation_date":1662116634,"answer_id":73581597,"question_id":58069658,"body_markdown":"The Lettuce reactive client has a subscribe method that you can pass handlers to. \r\n```lang-java\r\n     redisConnection\r\n      .reactive()\r\n      .get(&quot;cachekey&quot;)\r\n      .subscribe(\r\n        string -&gt; doStuff(string),\r\n        error -&gt; LOGGER.error(error.getMessage())\r\n      );\r\n```","title":"Java Lettuce Reactive Pattern - Catch Errors?","body":"<p>The Lettuce reactive client has a subscribe method that you can pass handlers to.</p>\n<pre class=\"lang-java prettyprint-override\"><code>     redisConnection\n      .reactive()\n      .get(&quot;cachekey&quot;)\n      .subscribe(\n        string -&gt; doStuff(string),\n        error -&gt; LOGGER.error(error.getMessage())\n      );\n</code></pre>\n"}],"owner":{"account_id":1016586,"reputation":7738,"user_id":1028039,"accept_rate":46,"display_name":"micah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662116634,"creation_date":1569269940,"question_id":58069658,"body_markdown":"I&#39;m trying to use lettuce instead of Jedis for it&#39;s reactive pattern. Jedis can block my vertx eventloop and instead of making it a blocking operation I&#39;d rather have it be reactive.\r\n\r\nI can successfully fetch items from redis using lettuce but I haven&#39;t figured out how to handle exceptions. As an example-\r\n\r\n```\r\n// Attempt A: Is the error in otherstuff?\r\nredis.get(cacheKey).handle((response, otherstuff) -&gt; {\r\n            ...\r\n        }).subscribe();\r\n\r\n// Attempt B: Do I add a doOnError?\r\nredis.get(cacheKey).handle((response, otherstuff) -&gt; {\r\n            ...\r\n        }).doOnError((error) -&gt; {\r\n            logger.error(err);\r\n        }).subscribe();\r\n\r\n// Attempt C: Do I add my callbacks to subscribe?\r\nredis.get(cacheKey).subscribe((response) -&gt; {\r\n            ...\r\n        }, (err) -&gt; {\r\n            logger.error(err);\r\n        });\r\n```\r\n\r\nThe first confusion I have is how many ways I can do the same thing. I&#39;ve found multiple ways to actually get a value, but I&#39;ve found no way to catch an error. The cache key it&#39;s pulling from does not exist, my assumption is that an error would be thrown somewhere.\r\n\r\nHow do I catch lettuce errors?","title":"Java Lettuce Reactive Pattern - Catch Errors?","body":"<p>I'm trying to use lettuce instead of Jedis for it's reactive pattern. Jedis can block my vertx eventloop and instead of making it a blocking operation I'd rather have it be reactive.</p>\n\n<p>I can successfully fetch items from redis using lettuce but I haven't figured out how to handle exceptions. As an example-</p>\n\n<pre><code>// Attempt A: Is the error in otherstuff?\nredis.get(cacheKey).handle((response, otherstuff) -&gt; {\n            ...\n        }).subscribe();\n\n// Attempt B: Do I add a doOnError?\nredis.get(cacheKey).handle((response, otherstuff) -&gt; {\n            ...\n        }).doOnError((error) -&gt; {\n            logger.error(err);\n        }).subscribe();\n\n// Attempt C: Do I add my callbacks to subscribe?\nredis.get(cacheKey).subscribe((response) -&gt; {\n            ...\n        }, (err) -&gt; {\n            logger.error(err);\n        });\n</code></pre>\n\n<p>The first confusion I have is how many ways I can do the same thing. I've found multiple ways to actually get a value, but I've found no way to catch an error. The cache key it's pulling from does not exist, my assumption is that an error would be thrown somewhere.</p>\n\n<p>How do I catch lettuce errors?</p>\n"},{"tags":["java","mapstruct","mapper"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662116577,"creation_date":1662116577,"answer_id":73581583,"question_id":73581287,"body_markdown":"You could try some [expressions][1]. I haven&#39;t tried it, but I think it should be something like this; here, `arg` is the name of the method argument you&#39;re converting (so rename that).\r\n\r\n```\r\n@Mapping(target=&quot;userCountry&quot;, source=&quot;Form_User_Country&quot;)\r\n@Mapping(target=&quot;userState&quot;, expression=&quot;java(&quot;USA&quot;.equals(arg.getForm_User_Country()) ? arg.getForm_User_State_or_Province() : null)&quot;)\r\n@Mapping(target=&quot;userProvince&quot;, expression=&quot;java(!&quot;USA&quot;.equals(arg.getForm_User_Country()) ? arg.getForm_User_State_or_Province() : null)&quot;)\r\n```\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#expressions","title":"MapStruct: Change Target of Mapping based on Source contents?","body":"<p>You could try some <a href=\"https://mapstruct.org/documentation/stable/reference/html/#expressions\" rel=\"nofollow noreferrer\">expressions</a>. I haven't tried it, but I think it should be something like this; here, <code>arg</code> is the name of the method argument you're converting (so rename that).</p>\n<pre><code>@Mapping(target=&quot;userCountry&quot;, source=&quot;Form_User_Country&quot;)\n@Mapping(target=&quot;userState&quot;, expression=&quot;java(&quot;USA&quot;.equals(arg.getForm_User_Country()) ? arg.getForm_User_State_or_Province() : null)&quot;)\n@Mapping(target=&quot;userProvince&quot;, expression=&quot;java(!&quot;USA&quot;.equals(arg.getForm_User_Country()) ? arg.getForm_User_State_or_Province() : null)&quot;)\n</code></pre>\n"}],"owner":{"account_id":3033786,"reputation":25,"user_id":2572315,"display_name":"trypophobe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":551,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73581583,"answer_count":1,"score":1,"last_activity_date":1662116577,"creation_date":1662114875,"question_id":73581287,"body_markdown":"I&#39;m trying to represent an international address in a class object using MapStruct that maps it from a PDF form.\r\n\r\nThe address will have a **country**, if this country is America then the address must have a **state**. If the country is not America then the address must have a **province**. I have separate variables for state and province, but want to map something like:\r\n\r\n    @Mapping(target=&quot;userCountry&quot;, source=&quot;Form_User_Country&quot;)\r\n    @Mapping(target=&quot;userState&quot;, source=&quot;Form_User_State_or_Province&quot;)\r\n    @Mapping(target=&quot;userProvince&quot;, source=&quot;Form_User_State_or_Province&quot;)\r\n\r\nThe state or province of the user is represented by one field in the form, but two separate variables in the DTO.\r\n\r\nHow can I make it so if **Form_User_Country=&quot;USA&quot;**, then the comments of **Form_User_State_or_Province** map to **userState**, but to map the contents to **userProvince** instead if the **Form_User_Country!=&quot;USA&quot;**?","title":"MapStruct: Change Target of Mapping based on Source contents?","body":"<p>I'm trying to represent an international address in a class object using MapStruct that maps it from a PDF form.</p>\n<p>The address will have a <strong>country</strong>, if this country is America then the address must have a <strong>state</strong>. If the country is not America then the address must have a <strong>province</strong>. I have separate variables for state and province, but want to map something like:</p>\n<pre><code>@Mapping(target=&quot;userCountry&quot;, source=&quot;Form_User_Country&quot;)\n@Mapping(target=&quot;userState&quot;, source=&quot;Form_User_State_or_Province&quot;)\n@Mapping(target=&quot;userProvince&quot;, source=&quot;Form_User_State_or_Province&quot;)\n</code></pre>\n<p>The state or province of the user is represented by one field in the form, but two separate variables in the DTO.</p>\n<p>How can I make it so if <strong>Form_User_Country=&quot;USA&quot;</strong>, then the comments of <strong>Form_User_State_or_Province</strong> map to <strong>userState</strong>, but to map the contents to <strong>userProvince</strong> instead if the <strong>Form_User_Country!=&quot;USA&quot;</strong>?</p>\n"},{"tags":["java","serialization","singleton"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1448462716,"post_id":33918909,"comment_id":55599836,"body_markdown":"Where is `private static Student instance`?","body":"Where is <code>private static Student instance</code>?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1448469529,"post_id":33918909,"comment_id":55604702,"body_markdown":"Why is `name` static?   (Generally speaking, there shouldn&#39;t be any static fields in any program except static constants.)","body":"Why is <code>name</code> static?   (Generally speaking, there shouldn&#39;t be any static fields in any program except static constants.)"},{"owner":{"account_id":7361320,"reputation":21,"user_id":5604522,"display_name":"Apoorv"},"score":0,"creation_date":1448609446,"post_id":33918909,"comment_id":55662585,"body_markdown":"Hi Andy,  &quot;private static Student instance&quot; is declared in Student class","body":"Hi Andy,  &quot;private static Student instance&quot; is declared in Student class"},{"owner":{"account_id":7361320,"reputation":21,"user_id":5604522,"display_name":"Apoorv"},"score":0,"creation_date":1448610258,"post_id":33918909,"comment_id":55662956,"body_markdown":"@AndyTurner  I have written written Student class code twice in same block.    1. Student class with &quot;private static String  name&quot; which is not a Singleton design and     2. Student class with  &quot;private static Student instance&quot; is a Singleton design. Both class need to be run individually.","body":"@AndyTurner  I have written written Student class code twice in same block.    1. Student class with &quot;private static String  name&quot; which is not a Singleton design and     2. Student class with  &quot;private static Student instance&quot; is a Singleton design. Both class need to be run individually."}],"answers":[{"tags":[],"owner":{"account_id":22382525,"reputation":141,"user_id":16595881,"display_name":"ReubenBeeler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662116456,"creation_date":1662116456,"answer_id":73581557,"question_id":33918909,"body_markdown":"You say that the &quot;`private static Student instance` gave values&quot; when serialized, and that the &quot;`private static String name` didn&#39;t&quot;, but what you are comparing is different from what you think your are comparing. You seem to think that in the first example you saw values when serializing `private static Student instance` but didn&#39;t when serializing `private static String name`, but you never serialized `private static String name`. Actually, you saw values when serializing a `Student` instance **with `String name`** and didn&#39;t when serializing a `Student` instance **with `static String name`**.\r\nTo clarify,\r\n\r\n - In the 1st example, the `name` field IS `static`, and it IS NOT serialized.\r\n - In the 2nd example, the `name` field IS NOT `static`, and it IS serialized.\r\n\r\nA field marked as `static` indicates that it is owned by the class, which is why they are referenced via the class (`MyClass.field`) rather than via an instance (`((MyClass) instance).field`). Since you are dealing with Java ***object*** serialization, the `static` fields are not serialized as part of the object.\r\n\r\n Whether or not a reference to an object is static is irrelevant when serializing *that* object. I.e. `Student student` (non-static reference) will serialize just the same as `static Student student` (static reference).","title":"serialization of static immutable objects(String) and static mutable object(Singleton class objects) in java","body":"<p>You say that the &quot;<code>private static Student instance</code> gave values&quot; when serialized, and that the &quot;<code>private static String name</code> didn't&quot;, but what you are comparing is different from what you think your are comparing. You seem to think that in the first example you saw values when serializing <code>private static Student instance</code> but didn't when serializing <code>private static String name</code>, but you never serialized <code>private static String name</code>. Actually, you saw values when serializing a <code>Student</code> instance <strong>with <code>String name</code></strong> and didn't when serializing a <code>Student</code> instance <strong>with <code>static String name</code></strong>.\nTo clarify,</p>\n<ul>\n<li>In the 1st example, the <code>name</code> field IS <code>static</code>, and it IS NOT serialized.</li>\n<li>In the 2nd example, the <code>name</code> field IS NOT <code>static</code>, and it IS serialized.</li>\n</ul>\n<p>A field marked as <code>static</code> indicates that it is owned by the class, which is why they are referenced via the class (<code>MyClass.field</code>) rather than via an instance (<code>((MyClass) instance).field</code>). Since you are dealing with Java <em><strong>object</strong></em> serialization, the <code>static</code> fields are not serialized as part of the object.</p>\n<p>Whether or not a reference to an object is static is irrelevant when serializing <em>that</em> object. I.e. <code>Student student</code> (non-static reference) will serialize just the same as <code>static Student student</code> (static reference).</p>\n"}],"owner":{"account_id":7361320,"reputation":21,"user_id":5604522,"display_name":"Apoorv"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1662116456,"creation_date":1448461194,"question_id":33918909,"body_markdown":"i am a bit confuse about serialization of static variables as they cannot be serialization. Although singleton class objects can be serialization.\r\n    i have a sample code:\r\n\r\n 1. in `TestSerilization` class: i first compiled an run the code without\r\n    comments i got the result, but as i comment the part and recompile\r\n    and run i didnot got the desired result for static String values\r\n    while de-serialization\r\n 2. in `TestSerilization2` class: i first compiled an run the code without comments i got the result, but as i comment the part and\r\n    recompile and run i did got the same result for private static\r\n    Student instance  values while de-serialization.\r\n\r\n    \r\n   i want to ask that why the `private static Student` instance gave values but private `static String name` didn&#39;t, although both are `static`.\r\n\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\n    import java.io.*;\r\n    class Student implements Serializable{\r\n    \tprivate static String  name;\r\n    \tprivate int rollNo;\r\n    \t\r\n    \tpublic void setName(String name){\r\n    \t\tthis.name=name;\r\n    \t}\r\n    \tpublic String getName(){\r\n    \t\treturn this.name;\r\n    \t}\r\n    \t\r\n    \tpublic void setRollNo(int rollNo){\r\n    \t\tthis.rollNo=rollNo;\r\n    \t}\r\n    \tpublic int getRollNo(){\r\n    \t\treturn this.rollNo;\r\n    \t}\r\n    }\r\n    public class TestSerilization{\r\n    \tpublic static void main(String args[]) throws FileNotFoundException, IOException, ClassNotFoundException{\r\n    \t\t/*\r\n    \t\tStudent s1=new Student();\r\n    \t\ts1.setName(&quot;Apoorv&quot;);\r\n    \t\ts1.setRollNo(13);\r\n    \t\t\r\n    \t\tObjectOutputStream oos=new ObjectOutputStream(new FileOutputStream(&quot;D:\\\\JAVA Practice\\\\output.ser&quot;));\r\n    \t\toos.writeObject(s1);\r\n    \t\tSystem.out.println(&quot;s1: name-&quot;+s1.getName()+&quot; rollno-&quot;+s1.getRollNo()+&quot; hascode: &quot;+s1.hashCode());\r\n    \t\t*/\r\n    \t\tObjectInputStream ins=new ObjectInputStream(new FileInputStream(&quot;D:\\\\JAVA Practice\\\\output.ser&quot;));\r\n    \t\tStudent s2=(Student)ins.readObject();\r\n    \t\tSystem.out.println(&quot;s2: name-&quot;+s2.getName()+&quot; rollno-&quot;+s2.getRollNo()+&quot; hascode: &quot;+s2.hashCode());\r\n    \t}\r\n    }\r\n    \r\n    \r\n\r\n    \r\n    import java.io.*;\r\n    final class Student implements Serializable{\r\n    \tprivate static Student instance;\r\n    \tprivate String  name;\r\n    \tprivate int rollNo;\r\n    \r\n    \tprivate Student(){}\t\r\n    \tpublic static Student getInstance(){\r\n    \t\tif(instance==null){\r\n    \t\t\tinstance=new Student();\r\n    \t\t}\r\n    \t\treturn instance;\r\n    \t}\r\n    \t\r\n    \tpublic void setName(String name){\r\n    \t\tthis.name=name;\r\n    \t}\r\n    \tpublic String getName(){\r\n    \t\treturn this.name;\r\n    \t}\r\n    \t\r\n    \tpublic void setRollNo(int rollNo){\r\n    \t\tthis.rollNo=rollNo;\r\n    \t}\r\n    \tpublic int getRollNo(){\r\n    \t\treturn this.rollNo;\r\n    \t}\r\n    }\r\n    public class TestSerilization2{\r\n    \tpublic static void main(String args[]) throws FileNotFoundException, IOException, ClassNotFoundException{\r\n    \t\t/*\r\n    \t\tStudent s1=Student.getInstance();\r\n    \t\ts1.setName(&quot;Apoorv&quot;);\r\n    \t\ts1.setRollNo(13);\r\n    \t\tSystem.out.println(&quot;s1: name-&quot;+s1.getName()+&quot; rollno-&quot;+s1.getRollNo()+&quot; hascode: &quot;+s1.hashCode());\r\n    \t\tStudent s2=Student.getInstance();\r\n    \t\tSystem.out.println(&quot;s2: name-&quot;+s2.getName()+&quot; rollno-&quot;+s2.getRollNo()+&quot; hascode: &quot;+s2.hashCode());\r\n    \t\t*/\r\n    \t\t\r\n    \t\t/*\r\n    \t\tStudent s1=Student.getInstance();\r\n    \t\ts1.setName(&quot;Apoorv&quot;);\r\n    \t\ts1.setRollNo(13);\r\n    \t\t\r\n    \t\tObjectOutputStream oos=new ObjectOutputStream(new FileOutputStream(&quot;D:\\\\JAVA Practice\\\\output2.ser&quot;));\r\n    \t\toos.writeObject(s1);\r\n    \t\tSystem.out.println(&quot;s1: name-&quot;+s1.getName()+&quot; rollno-&quot;+s1.getRollNo()+&quot; hascode: &quot;+s1.hashCode());\r\n    \t\t*/\r\n    \t\tObjectInputStream ins=new ObjectInputStream(new FileInputStream(&quot;D:\\\\JAVA Practice\\\\output2.ser&quot;));\r\n    \t\tStudent s2=(Student)ins.readObject();\r\n    \t\tSystem.out.println(&quot;s2: name-&quot;+s2.getName()+&quot; rollno-&quot;+s2.getRollNo()+&quot; hascode: &quot;+s2.hashCode());\r\n    \t\t\r\n    \t}\r\n    }\r\n&lt;/code&gt;&lt;/pre&gt;\r\n","title":"serialization of static immutable objects(String) and static mutable object(Singleton class objects) in java","body":"<p>i am a bit confuse about serialization of static variables as they cannot be serialization. Although singleton class objects can be serialization.\n    i have a sample code:</p>\n\n<ol>\n<li>in <code>TestSerilization</code> class: i first compiled an run the code without\ncomments i got the result, but as i comment the part and recompile\nand run i didnot got the desired result for static String values\nwhile de-serialization</li>\n<li><p>in <code>TestSerilization2</code> class: i first compiled an run the code without comments i got the result, but as i comment the part and\nrecompile and run i did got the same result for private static\nStudent instance  values while de-serialization.</p>\n\n<p>i want to ask that why the <code>private static Student</code> instance gave values but private <code>static String name</code> didn't, although both are <code>static</code>.</p></li>\n</ol>\n\n<pre><code>\n    import java.io.*;\n    class Student implements Serializable{\n        private static String  name;\n        private int rollNo;\n\n        public void setName(String name){\n            this.name=name;\n        }\n        public String getName(){\n            return this.name;\n        }\n\n        public void setRollNo(int rollNo){\n            this.rollNo=rollNo;\n        }\n        public int getRollNo(){\n            return this.rollNo;\n        }\n    }\n    public class TestSerilization{\n        public static void main(String args[]) throws FileNotFoundException, IOException, ClassNotFoundException{\n            /*\n            Student s1=new Student();\n            s1.setName(\"Apoorv\");\n            s1.setRollNo(13);\n\n            ObjectOutputStream oos=new ObjectOutputStream(new FileOutputStream(\"D:\\\\JAVA Practice\\\\output.ser\"));\n            oos.writeObject(s1);\n            System.out.println(\"s1: name-\"+s1.getName()+\" rollno-\"+s1.getRollNo()+\" hascode: \"+s1.hashCode());\n            */\n            ObjectInputStream ins=new ObjectInputStream(new FileInputStream(\"D:\\\\JAVA Practice\\\\output.ser\"));\n            Student s2=(Student)ins.readObject();\n            System.out.println(\"s2: name-\"+s2.getName()+\" rollno-\"+s2.getRollNo()+\" hascode: \"+s2.hashCode());\n        }\n    }\n\n\n\n\n    import java.io.*;\n    final class Student implements Serializable{\n        private static Student instance;\n        private String  name;\n        private int rollNo;\n\n        private Student(){} \n        public static Student getInstance(){\n            if(instance==null){\n                instance=new Student();\n            }\n            return instance;\n        }\n\n        public void setName(String name){\n            this.name=name;\n        }\n        public String getName(){\n            return this.name;\n        }\n\n        public void setRollNo(int rollNo){\n            this.rollNo=rollNo;\n        }\n        public int getRollNo(){\n            return this.rollNo;\n        }\n    }\n    public class TestSerilization2{\n        public static void main(String args[]) throws FileNotFoundException, IOException, ClassNotFoundException{\n            /*\n            Student s1=Student.getInstance();\n            s1.setName(\"Apoorv\");\n            s1.setRollNo(13);\n            System.out.println(\"s1: name-\"+s1.getName()+\" rollno-\"+s1.getRollNo()+\" hascode: \"+s1.hashCode());\n            Student s2=Student.getInstance();\n            System.out.println(\"s2: name-\"+s2.getName()+\" rollno-\"+s2.getRollNo()+\" hascode: \"+s2.hashCode());\n            */\n\n            /*\n            Student s1=Student.getInstance();\n            s1.setName(\"Apoorv\");\n            s1.setRollNo(13);\n\n            ObjectOutputStream oos=new ObjectOutputStream(new FileOutputStream(\"D:\\\\JAVA Practice\\\\output2.ser\"));\n            oos.writeObject(s1);\n            System.out.println(\"s1: name-\"+s1.getName()+\" rollno-\"+s1.getRollNo()+\" hascode: \"+s1.hashCode());\n            */\n            ObjectInputStream ins=new ObjectInputStream(new FileInputStream(\"D:\\\\JAVA Practice\\\\output2.ser\"));\n            Student s2=(Student)ins.readObject();\n            System.out.println(\"s2: name-\"+s2.getName()+\" rollno-\"+s2.getRollNo()+\" hascode: \"+s2.hashCode());\n\n        }\n    }\n</code></pre>\n"},{"tags":["java","typescript","generics","optional-typing","gradual-typing"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":2,"creation_date":1548742098,"post_id":54414761,"comment_id":95639690,"body_markdown":"It is impossible in Java.","body":"It is impossible in Java."},{"owner":{"account_id":1266843,"reputation":93044,"user_id":1223975,"accept_rate":54,"display_name":"Alexander Mills"},"score":0,"creation_date":1548742152,"post_id":54414761,"comment_id":95639713,"body_markdown":"Yeah that&#39;s weird, because it allows you provide 0, 3, but not 1 or 2.","body":"Yeah that&#39;s weird, because it allows you provide 0, 3, but not 1 or 2."},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":1,"creation_date":1548742286,"post_id":54414761,"comment_id":95639766,"body_markdown":"`0` is parameters is called &quot;raw type&quot; it is actually using generic class as non-generic. It is quite complicated thing, not just omitting parameters.","body":"<code>0</code> is parameters is called &quot;raw type&quot; it is actually using generic class as non-generic. It is quite complicated thing, not just omitting parameters."},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1548742301,"post_id":54414761,"comment_id":95639768,"body_markdown":"There always are raw types (`Mapper`). The ability to arbitrarily specify select type arguments is absurd, in my opinion (and I believe Java&#39;s approach of not including such things in the language is reasonable)","body":"There always are raw types (<code>Mapper</code>). The ability to arbitrarily specify select type arguments is absurd, in my opinion (and I believe Java&#39;s approach of not including such things in the language is reasonable)"}],"answers":[{"tags":[],"owner":{"account_id":13172688,"reputation":32,"user_id":9514452,"display_name":"Peng Fei Dong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548757104,"creation_date":1548742412,"answer_id":54414888,"question_id":54414761,"body_markdown":"I&#39;d say no. Java enjoys it when all of it&#39;s variables are set as a certain type and never change. If you want to find the most flexibility, try finding the biggest possible superclass, as in maybe T = Object and E = Object. Later when you need to use the object you can typecast it into what you want? Maybe?","title":"Optional or default generic parameters","body":"<p>I'd say no. Java enjoys it when all of it's variables are set as a certain type and never change. If you want to find the most flexibility, try finding the biggest possible superclass, as in maybe T = Object and E = Object. Later when you need to use the object you can typecast it into what you want? Maybe?</p>\n"},{"tags":[],"owner":{"account_id":6011926,"reputation":1575,"user_id":4722110,"accept_rate":85,"display_name":"Shoaib Anwar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1548742610,"creation_date":1548742610,"answer_id":54414926,"question_id":54414761,"body_markdown":"If what you have in mind is something along the lines:\r\n\r\n - Having a method that takes 3 (generic) parameters\r\n - But at times you&#39;ll want it to have 2 parameters\r\n\r\nThen, the following is the way to approach this. Since otherwise making parameters optional is not allowed in my opinion.\r\n\r\n    interface InterfaceA&lt;T, T&gt; {\r\n          boolean myMEthod(T clazz, UserRef user, String type, T clazz2) {\r\n                 return false;\r\n          }\r\n    }  \r\n\r\n    interface InterfaceB&lt;T&gt; extends InterfaceA&lt;T, T&gt; {\r\n          default boolean myMEthod(T clazz, UserRef user, String type) {\r\n                 return myMEthod(clazz, user, type, clazz);\r\n          }\r\n    }   \r\n\r\nThis allows you to implement the `InterfaceB` whereever you want to skip a parameter.\r\nYou could pass same parameter (of same type) twice, pass `null`, or some default value.    \r\nI hope this works for your case.","title":"Optional or default generic parameters","body":"<p>If what you have in mind is something along the lines:</p>\n\n<ul>\n<li>Having a method that takes 3 (generic) parameters</li>\n<li>But at times you'll want it to have 2 parameters</li>\n</ul>\n\n<p>Then, the following is the way to approach this. Since otherwise making parameters optional is not allowed in my opinion.</p>\n\n<pre><code>interface InterfaceA&lt;T, T&gt; {\n      boolean myMEthod(T clazz, UserRef user, String type, T clazz2) {\n             return false;\n      }\n}  \n\ninterface InterfaceB&lt;T&gt; extends InterfaceA&lt;T, T&gt; {\n      default boolean myMEthod(T clazz, UserRef user, String type) {\n             return myMEthod(clazz, user, type, clazz);\n      }\n}   \n</code></pre>\n\n<p>This allows you to implement the <code>InterfaceB</code> whereever you want to skip a parameter.\nYou could pass same parameter (of same type) twice, pass <code>null</code>, or some default value.<br>\nI hope this works for your case.</p>\n"},{"tags":[],"owner":{"account_id":14765621,"reputation":478,"user_id":10663762,"display_name":"Ctorres"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1548758498,"creation_date":1548758498,"answer_id":54419208,"question_id":54414761,"body_markdown":"I see two ways of doing it (or at least workaround the problem):\r\n\r\n 1. The first way is to implement a method with all your parameters and pass `null` instead of the parameter if you don&#39;t need it. Then handle it in your method&#39;s body. This should look like this:\r\n\r\n        public void myMethod(Sometype param1, Sometype param2, Sometype param3) {\r\n            //Test if your paramaters are null or not then do what you want\r\n        }\r\nAnd you can call your method like this (if you don&#39;t need the second parameter for example):\r\n    `myInstance.myMethod(param1, null, param2);`\r\n  \r\n  **You could do it like this, but I DON&#39;T recommand using this trick, because it&#39;s \r\n  counterintuitive for the user, and your method will be verbose, and &quot;unclean&quot;**...\r\n\r\n 2. There&#39;s a second way to do it. even if it&#39;s way more verbose than TypeScript or Kotlin, you can simply define several methods with the required parameters. For example one method with only the second parameter, one with the first and the third parameter, etc... It&#39;s just basic *method overloading*, but it works perfectly! I think it&#39;s one of the most &quot;java-friendly&quot; way to do it.\r\n\r\nI hope I helped you\r\n\r\n","title":"Optional or default generic parameters","body":"<p>I see two ways of doing it (or at least workaround the problem):</p>\n\n<ol>\n<li><p>The first way is to implement a method with all your parameters and pass <code>null</code> instead of the parameter if you don't need it. Then handle it in your method's body. This should look like this:</p>\n\n<pre><code>public void myMethod(Sometype param1, Sometype param2, Sometype param3) {\n    //Test if your paramaters are null or not then do what you want\n}\n</code></pre>\n\n<p>And you can call your method like this (if you don't need the second parameter for example):\n<code>myInstance.myMethod(param1, null, param2);</code></p>\n\n<p><strong>You could do it like this, but I DON'T recommand using this trick, because it's \ncounterintuitive for the user, and your method will be verbose, and \"unclean\"</strong>...</p></li>\n<li><p>There's a second way to do it. even if it's way more verbose than TypeScript or Kotlin, you can simply define several methods with the required parameters. For example one method with only the second parameter, one with the first and the third parameter, etc... It's just basic <em>method overloading</em>, but it works perfectly! I think it's one of the most \"java-friendly\" way to do it.</p></li>\n</ol>\n\n<p>I hope I helped you</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548802685,"creation_date":1548802685,"answer_id":54430892,"question_id":54414761,"body_markdown":"Like many languages, there is no optional or gradual typing in Java. The typing rules are probably complicated enough as it is. Nor are there default type arguments, but that doesn&#39;t seem to be the major issue here.\r\n\r\nIn your case, it looks like making the typing more client friendly solves the problem without having to go further. I am assuming the `E` in `AsyncCallback` is for &quot;exception&quot; and `T` is, as in GWT&#39;s `AsyncCallback`, for a method parameter.\r\n\r\n    public static interface Mapper&lt;V,T,E&gt; {\r\n        public void map(KeyValue&lt;V&gt; v, AsyncCallback&lt;? super T,? extends E&gt; cb);\r\n    }\r\n\r\nThat allows any particular `Mapper` to take  any applicable `AsyncCallback`.\r\n\r\nWe can be more explicit about the exception - useful if we need to define a `throws` anywhere.\r\n\r\n    public static interface Mapper&lt;V,T,E extends Throwable&gt; {\r\n\r\nIf a reference to a `Mapper` could take any `AsyncCallback`, declare it of type `Mapper&lt;V,Object,Throwable&gt;` for some `V`.\r\n\r\nIf you desperately wanted a short form of `Mapper` with a concise declaration for you could introduce an adapter.\r\n\r\n    public class MapperAny&lt;V&gt; implements Mapper&lt;V,Object,Throwable&gt; {\r\n        private final Mapper&lt;V,Object,Throwable&gt; target;\r\n        // A static creation method would be nicer, but ctor conventional.\r\n        public MapperAny(Mapper&lt;V,Object,Throwable&gt; target) {\r\n            this.target = target;\r\n        }\r\n        public void map(KeyValue&lt;V&gt; v, AsyncCallback&lt;T,E&gt; cb) {\r\n            target.map(v, cp);\r\n        }\r\n        // unwrap\r\n        public Mapper&lt;V,Object,Throwable&gt; mapper() {\r\n            return target;\r\n        }\r\n    }\r\n\r\nIf you wanted the same thing for `AsyncCallback`, it&#39;s a bit more difficult. There is no denotable opposite of `Object` (i.e. the type of `null`).","title":"Optional or default generic parameters","body":"<p>Like many languages, there is no optional or gradual typing in Java. The typing rules are probably complicated enough as it is. Nor are there default type arguments, but that doesn't seem to be the major issue here.</p>\n\n<p>In your case, it looks like making the typing more client friendly solves the problem without having to go further. I am assuming the <code>E</code> in <code>AsyncCallback</code> is for \"exception\" and <code>T</code> is, as in GWT's <code>AsyncCallback</code>, for a method parameter.</p>\n\n<pre><code>public static interface Mapper&lt;V,T,E&gt; {\n    public void map(KeyValue&lt;V&gt; v, AsyncCallback&lt;? super T,? extends E&gt; cb);\n}\n</code></pre>\n\n<p>That allows any particular <code>Mapper</code> to take  any applicable <code>AsyncCallback</code>.</p>\n\n<p>We can be more explicit about the exception - useful if we need to define a <code>throws</code> anywhere.</p>\n\n<pre><code>public static interface Mapper&lt;V,T,E extends Throwable&gt; {\n</code></pre>\n\n<p>If a reference to a <code>Mapper</code> could take any <code>AsyncCallback</code>, declare it of type <code>Mapper&lt;V,Object,Throwable&gt;</code> for some <code>V</code>.</p>\n\n<p>If you desperately wanted a short form of <code>Mapper</code> with a concise declaration for you could introduce an adapter.</p>\n\n<pre><code>public class MapperAny&lt;V&gt; implements Mapper&lt;V,Object,Throwable&gt; {\n    private final Mapper&lt;V,Object,Throwable&gt; target;\n    // A static creation method would be nicer, but ctor conventional.\n    public MapperAny(Mapper&lt;V,Object,Throwable&gt; target) {\n        this.target = target;\n    }\n    public void map(KeyValue&lt;V&gt; v, AsyncCallback&lt;T,E&gt; cb) {\n        target.map(v, cp);\n    }\n    // unwrap\n    public Mapper&lt;V,Object,Throwable&gt; mapper() {\n        return target;\n    }\n}\n</code></pre>\n\n<p>If you wanted the same thing for <code>AsyncCallback</code>, it's a bit more difficult. There is no denotable opposite of <code>Object</code> (i.e. the type of <code>null</code>).</p>\n"},{"tags":[],"owner":{"account_id":3505571,"reputation":989,"user_id":2931171,"display_name":"Magnus Reftel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662116211,"creation_date":1662116211,"answer_id":73581515,"question_id":54414761,"body_markdown":"You can&#180;t do it with one class, but you can partially solve it using inheritance. Say you have\r\n\r\n```\r\n interface Mapper&lt;V,T,E&gt; {\r\n    public void map(KeyValue&lt;V&gt; v, AsyncCallback&lt;T,E&gt; cb);\r\n  }\r\n```\r\n\r\nYou can then have interfaces that specialize this, like so:\r\n\r\n```\r\ninterface MapperWithObjectValue&lt;T,E&gt; extends Mapper&lt;Object, T, E&gt; {\r\n}\r\ninterface MapperWithObjectResult&lt;V,E&gt; extends Mapper&lt;V, Object, E&gt; {\r\n}\r\n```\r\netc.\r\n\r\nIt&#180;s not all that useful in this way, as the user could just as well pass Object as the type parameter, but it does have its uses for retroactively generifying an interface. Say you have\r\n\r\n```\r\ninterface Foo {\r\n  Object getFoo();\r\n}\r\n```\r\n\r\nYou then realize that you&#180;d like that return type be a generic type, but you&#180;ve already committed this interface as part of your stable API. You can then use specialization via inheritance to solve it, like so:\r\n\r\n```\r\ninterface GenericFoo&lt;T&gt; {\r\n  T getFoo();\r\n}\r\ninterface Foo extends GenericFoo&lt;Object&gt; {\r\n}\r\n```\r\nExisting code can keep using `Foo` just like before, and code that has a need for a different return type can use `GenericFoo` instead.","title":"Optional or default generic parameters","body":"<p>You can´t do it with one class, but you can partially solve it using inheritance. Say you have</p>\n<pre><code> interface Mapper&lt;V,T,E&gt; {\n    public void map(KeyValue&lt;V&gt; v, AsyncCallback&lt;T,E&gt; cb);\n  }\n</code></pre>\n<p>You can then have interfaces that specialize this, like so:</p>\n<pre><code>interface MapperWithObjectValue&lt;T,E&gt; extends Mapper&lt;Object, T, E&gt; {\n}\ninterface MapperWithObjectResult&lt;V,E&gt; extends Mapper&lt;V, Object, E&gt; {\n}\n</code></pre>\n<p>etc.</p>\n<p>It´s not all that useful in this way, as the user could just as well pass Object as the type parameter, but it does have its uses for retroactively generifying an interface. Say you have</p>\n<pre><code>interface Foo {\n  Object getFoo();\n}\n</code></pre>\n<p>You then realize that you´d like that return type be a generic type, but you´ve already committed this interface as part of your stable API. You can then use specialization via inheritance to solve it, like so:</p>\n<pre><code>interface GenericFoo&lt;T&gt; {\n  T getFoo();\n}\ninterface Foo extends GenericFoo&lt;Object&gt; {\n}\n</code></pre>\n<p>Existing code can keep using <code>Foo</code> just like before, and code that has a need for a different return type can use <code>GenericFoo</code> instead.</p>\n"}],"owner":{"account_id":1266843,"reputation":93044,"user_id":1223975,"accept_rate":54,"display_name":"Alexander Mills"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11259,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":5,"score":5,"last_activity_date":1662116211,"creation_date":1548741856,"question_id":54414761,"body_markdown":"Say I have a 3 generic parameters:\r\n\r\n      public static interface Mapper&lt;V,T,E&gt; {\r\n        public void map(KeyValue&lt;V&gt; v, AsyncCallback&lt;T,E&gt; cb);\r\n      }\r\n\r\nHow can I make the parameters optional? How can I give the parameters default values if the user only supplies the first parameter?\r\n\r\nUsing TypeScript, that would look like:\r\n\r\n      public static interface Mapper&lt;V,T = any,E = any&gt; {\r\n        public void map(KeyValue&lt;V&gt; v, AsyncCallback&lt;T,E&gt; cb);\r\n      }\r\n\r\nso if the user doesn&#39;t supply T and E, they default to *any*. Is there a way to do this with Java?","title":"Optional or default generic parameters","body":"<p>Say I have a 3 generic parameters:</p>\n\n<pre><code>  public static interface Mapper&lt;V,T,E&gt; {\n    public void map(KeyValue&lt;V&gt; v, AsyncCallback&lt;T,E&gt; cb);\n  }\n</code></pre>\n\n<p>How can I make the parameters optional? How can I give the parameters default values if the user only supplies the first parameter?</p>\n\n<p>Using TypeScript, that would look like:</p>\n\n<pre><code>  public static interface Mapper&lt;V,T = any,E = any&gt; {\n    public void map(KeyValue&lt;V&gt; v, AsyncCallback&lt;T,E&gt; cb);\n  }\n</code></pre>\n\n<p>so if the user doesn't supply T and E, they default to <em>any</em>. Is there a way to do this with Java?</p>\n"},{"tags":["java","html","css","spring-boot","jakarta-mail"],"answers":[{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662116209,"creation_date":1662116209,"answer_id":73581514,"question_id":73580780,"body_markdown":"As far as I know, e-mails do not support full CSS and the only way to center things in e-mail clients are with tables. Something like:\r\n\r\n    &lt;table width=&quot;100%&quot; border=&quot;0&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;\r\n    &lt;tr&gt;\r\n        &lt;td align=&quot;center&quot;&gt;\r\n            &lt;img ... /&gt;\r\n        &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;/table&gt;","title":"How do I center an image in HTML sent through javamail?","body":"<p>As far as I know, e-mails do not support full CSS and the only way to center things in e-mail clients are with tables. Something like:</p>\n<pre><code>&lt;table width=&quot;100%&quot; border=&quot;0&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;\n&lt;tr&gt;\n    &lt;td align=&quot;center&quot;&gt;\n        &lt;img ... /&gt;\n    &lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n"}],"owner":{"account_id":16265472,"reputation":53,"user_id":12653752,"display_name":"Ninety5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662116209,"creation_date":1662112386,"question_id":73580780,"body_markdown":"I have sourced and passed the images to the mail body using \r\n\r\n```\r\n            messageBodyPart = new MimeBodyPart();\r\n            DataSource fds1 = new FileDataSource( &quot;images\\\\IG.png&quot;);\r\n            messageBodyPart.setDataHandler(new DataHandler(fds1));\r\n            messageBodyPart.setHeader(&quot;Content-ID&quot;, &quot;&lt;IG&gt;&quot;);\r\n            multipart.addBodyPart(messageBodyPart);\r\n\r\n\r\n            messageBodyPart = new MimeBodyPart();\r\n            DataSource fds2 = new FileDataSource( &quot;images\\\\Twitter.png&quot;);\r\n            messageBodyPart.setDataHandler(new DataHandler(fds2));\r\n            messageBodyPart.setHeader(&quot;Content-ID&quot;, &quot;&lt;Twitter&gt;&quot;);\r\n            multipart.addBodyPart(messageBodyPart);\r\n\r\n\r\n            messageBodyPart = new MimeBodyPart();\r\n            DataSource fds3 = new FileDataSource( &quot;images\\\\web.png&quot;);\r\n            messageBodyPart.setDataHandler(new DataHandler(fds3));\r\n            messageBodyPart.setHeader(&quot;Content-ID&quot;, &quot;&lt;web&gt;&quot;);\r\n            multipart.addBodyPart(messageBodyPart);\r\n```\r\n\r\nand have applied a style to center the image. It works well when viewed with a web browser, but the images are moved to the left when the email is sent. The circle style applied to the images is applied when viewed from a browser and in Gmail.\r\n\r\nAnother problem is that an image I source from Figma in the HTML template displays as an attachment, how can I make it display as an image instead of an attachment?","title":"How do I center an image in HTML sent through javamail?","body":"<p>I have sourced and passed the images to the mail body using</p>\n<pre><code>            messageBodyPart = new MimeBodyPart();\n            DataSource fds1 = new FileDataSource( &quot;images\\\\IG.png&quot;);\n            messageBodyPart.setDataHandler(new DataHandler(fds1));\n            messageBodyPart.setHeader(&quot;Content-ID&quot;, &quot;&lt;IG&gt;&quot;);\n            multipart.addBodyPart(messageBodyPart);\n\n\n            messageBodyPart = new MimeBodyPart();\n            DataSource fds2 = new FileDataSource( &quot;images\\\\Twitter.png&quot;);\n            messageBodyPart.setDataHandler(new DataHandler(fds2));\n            messageBodyPart.setHeader(&quot;Content-ID&quot;, &quot;&lt;Twitter&gt;&quot;);\n            multipart.addBodyPart(messageBodyPart);\n\n\n            messageBodyPart = new MimeBodyPart();\n            DataSource fds3 = new FileDataSource( &quot;images\\\\web.png&quot;);\n            messageBodyPart.setDataHandler(new DataHandler(fds3));\n            messageBodyPart.setHeader(&quot;Content-ID&quot;, &quot;&lt;web&gt;&quot;);\n            multipart.addBodyPart(messageBodyPart);\n</code></pre>\n<p>and have applied a style to center the image. It works well when viewed with a web browser, but the images are moved to the left when the email is sent. The circle style applied to the images is applied when viewed from a browser and in Gmail.</p>\n<p>Another problem is that an image I source from Figma in the HTML template displays as an attachment, how can I make it display as an image instead of an attachment?</p>\n"},{"tags":["java","weblogic12c","hotdeploy"],"answers":[{"tags":[],"owner":{"account_id":1511115,"reputation":2926,"user_id":1413222,"display_name":"devwebcl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652362882,"creation_date":1652362882,"answer_id":72216706,"question_id":72004263,"body_markdown":"WLS has FastSwap, which is a hot redeploy feature, although has some [limitations][1], and probably not as good as the mentioned plug-in.\r\n\r\n**TL;DR:**\r\nTo enable FastSwap in your application, add the following element to the `weblogic-application.xml` file.\r\n\r\n     &lt;fast-swap&gt;\r\n        &lt;enabled&gt;true&lt;/enabled&gt;\r\n     &lt;/fast-swap&gt;\r\n\r\nmore details at:\r\n\r\nhttps://docs.oracle.com/middleware/1212/wls/DEPGD/deployunits.htm#DEPGD153\r\n\r\n\r\n  [1]: https://docs.oracle.com/middleware/1212/wls/DEPGD/deployunits.htm#DEPGD162","title":"Hot Deploy Does Not Work For Java Class File Edits On Weblogic 12c","body":"<p>WLS has FastSwap, which is a hot redeploy feature, although has some <a href=\"https://docs.oracle.com/middleware/1212/wls/DEPGD/deployunits.htm#DEPGD162\" rel=\"nofollow noreferrer\">limitations</a>, and probably not as good as the mentioned plug-in.</p>\n<p><strong>TL;DR:</strong>\nTo enable FastSwap in your application, add the following element to the <code>weblogic-application.xml</code> file.</p>\n<pre><code> &lt;fast-swap&gt;\n    &lt;enabled&gt;true&lt;/enabled&gt;\n &lt;/fast-swap&gt;\n</code></pre>\n<p>more details at:</p>\n<p><a href=\"https://docs.oracle.com/middleware/1212/wls/DEPGD/deployunits.htm#DEPGD153\" rel=\"nofollow noreferrer\">https://docs.oracle.com/middleware/1212/wls/DEPGD/deployunits.htm#DEPGD153</a></p>\n"},{"tags":[],"owner":{"account_id":372555,"reputation":4556,"user_id":721666,"accept_rate":48,"display_name":"Ralph"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662115848,"creation_date":1662115848,"answer_id":73581452,"question_id":72004263,"body_markdown":"As an alternative you can try the [Manik-Hotdeploy-Maven-Plugin](https://manik.imixs.org/)\r\n\r\nManik-Hot-Deploy is an Open Source Maven Plugin which brings hot-deploy to the development of web applications. This is independent form your IDE or Application server. You just have to configure the target folders of your server.","title":"Hot Deploy Does Not Work For Java Class File Edits On Weblogic 12c","body":"<p>As an alternative you can try the <a href=\"https://manik.imixs.org/\" rel=\"nofollow noreferrer\">Manik-Hotdeploy-Maven-Plugin</a></p>\n<p>Manik-Hot-Deploy is an Open Source Maven Plugin which brings hot-deploy to the development of web applications. This is independent form your IDE or Application server. You just have to configure the target folders of your server.</p>\n"}],"owner":{"account_id":2928274,"reputation":7,"user_id":2509176,"display_name":"Tony Neves"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662115848,"creation_date":1650911998,"question_id":72004263,"body_markdown":"I&#39;m using Intellij Community edition I don&#39;t have the luxurary of using the Ultimate edition; Hence, I can&#39;t install the weblogic plugin. When I make edits to any class file it will not hot deploy to the server.  Is there a way to configure weblogic so that hot deploys are picked up.","title":"Hot Deploy Does Not Work For Java Class File Edits On Weblogic 12c","body":"<p>I'm using Intellij Community edition I don't have the luxurary of using the Ultimate edition; Hence, I can't install the weblogic plugin. When I make edits to any class file it will not hot deploy to the server.  Is there a way to configure weblogic so that hot deploys are picked up.</p>\n"},{"tags":["java","json","spring"],"comments":[{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":0,"creation_date":1661358988,"post_id":73476551,"comment_id":129755549,"body_markdown":"Can you double-check the JSON you posted is the one you find in the response body of that `getBillById` method? I believe you mixed stuff, because that code won&#39;t return an array indeed. Unless `BillDto` is a subclass of `Collection`, but this would be rather convoluted :)","body":"Can you double-check the JSON you posted is the one you find in the response body of that <code>getBillById</code> method? I believe you mixed stuff, because that code won&#39;t return an array indeed. Unless <code>BillDto</code> is a subclass of <code>Collection</code>, but this would be rather convoluted :)"},{"owner":{"account_id":14148561,"reputation":150,"user_id":13052285,"display_name":"James Wagstaff"},"score":0,"creation_date":1661359523,"post_id":73476551,"comment_id":129755717,"body_markdown":"Ramiro, could you include the service code also?","body":"Ramiro, could you include the service code also?"},{"owner":{"account_id":26151369,"reputation":11,"user_id":19839273,"display_name":"Ramiro Serrato"},"score":0,"creation_date":1661359882,"post_id":73476551,"comment_id":129755840,"body_markdown":"I am sure that is the response I&#180;m getting both on Postman and I can tell my Client too because of the exception I&#180;m getting. BillDto is just a @Data annotated class with the attributes of the bills. If I run Mono.just().subscribe inside the endpoint method before returning the response I get no exception.","body":"I am sure that is the response I&#180;m getting both on Postman and I can tell my Client too because of the exception I&#180;m getting. BillDto is just a @Data annotated class with the attributes of the bills. If I run Mono.just().subscribe inside the endpoint method before returning the response I get no exception."},{"owner":{"account_id":26151369,"reputation":11,"user_id":19839273,"display_name":"Ramiro Serrato"},"score":0,"creation_date":1661361721,"post_id":73476551,"comment_id":129756483,"body_markdown":"@JamesWagstaff Code added good man.","body":"@JamesWagstaff Code added good man."},{"owner":{"account_id":5830092,"reputation":498,"user_id":4594941,"display_name":"pirela"},"score":0,"creation_date":1661363294,"post_id":73476551,"comment_id":129757014,"body_markdown":"Stupid Idea: are you sure your id is a unique Key in your schema d&#233;finition ? If not, you get an array.","body":"Stupid Idea: are you sure your id is a unique Key in your schema d&#233;finition ? If not, you get an array."},{"owner":{"account_id":14148561,"reputation":150,"user_id":13052285,"display_name":"James Wagstaff"},"score":0,"creation_date":1661363636,"post_id":73476551,"comment_id":129757119,"body_markdown":"So looking at this, I would be looking at checking the model mapper.","body":"So looking at this, I would be looking at checking the model mapper."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1661365321,"post_id":73476551,"comment_id":129757679,"body_markdown":"Why? Because you don&#39;t &quot;get a JSON object&quot;, but a &quot;reactive, non-blocking, json object emitter&quot; ;)","body":"Why? Because you don&#39;t &quot;get a JSON object&quot;, but a &quot;reactive, non-blocking, json object emitter&quot; ;)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1661366327,"post_id":73476551,"comment_id":129758035,"body_markdown":"Is there any thechnical problem connected to the format? (Or &quot;just esthetics&quot;/human?) ..Do you need Mono as a result wrapper?/is billdto not just fine ?(and without brackets!?)","body":"Is there any thechnical problem connected to the format? (Or &quot;just esthetics&quot;/human?) ..Do you need Mono as a result wrapper?/is billdto not just fine ?(and without brackets!?)"},{"owner":{"account_id":26151369,"reputation":11,"user_id":19839273,"display_name":"Ramiro Serrato"},"score":0,"creation_date":1661367010,"post_id":73476551,"comment_id":129758254,"body_markdown":"@xerx593 you are right, I could easily map the result of the response into a BillDto[].class and problem solved, it&#180;s just that I intended to do it as orthodox as possible","body":"@xerx593 you are right, I could easily map the result of the response into a BillDto[].class and problem solved, it&#180;s just that I intended to do it as orthodox as possible"}],"owner":{"account_id":26151369,"reputation":11,"user_id":19839273,"display_name":"Ramiro Serrato"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662115708,"creation_date":1661357986,"question_id":73476551,"body_markdown":"I have a service with the following method:\r\n```\r\n@RestController\r\npublic class BillsController {\r\n...\r\n    @GetMapping(&quot;get/billById/{billId}&quot;)\r\n    Mono&lt;BillDto&gt; getBillById(@PathVariable Long billId) {\r\n        log.info(&quot;Request received to fetch Bill with id : &quot; + billId);\r\n        return Mono.just(service.getBillById(billId));\r\n    }\r\n...\r\n}\r\n```\r\nAnd it returns the following:\r\n```\r\n[\r\n    {\r\n        &quot;id&quot;: 3,\r\n        &quot;customer&quot;: &quot;Larry&quot;,\r\n        &quot;products&quot;: [\r\n            {\r\n                &quot;id&quot;: 5,\r\n                &quot;name&quot;: &quot;Bike&quot;\r\n            }\r\n        ]\r\n    }\r\n]\r\n```\r\nWhy would a JSON object between square brackets be returned? Since the `service.getBillById()` method returns just one object.\r\n\r\nThe `service.getBillById()` just maps the response from the declarative BillRepository into the BillDto class.\r\n```\r\npublic BillDto getBillById(Long billId) {\r\n    return modelMapper.map(billRepository.findById(billId).orElseThrow(NullPointerException::new), BillDto.class);\r\n}\r\n```\r\nI&#180;m getting the following error by the time I consume the response within a Client:\r\n\r\n&gt;reactor.core.Exceptions$ErrorCallbackNotImplemented: org.springframework.core.codec.DecodingException: JSON decoding error: Cannot deserialize value of type `library.dto.BillDto` from Array value (token `JsonToken.START_ARRAY`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `library.dto.BillDto` from Array value (token `JsonToken.START_ARRAY`)\r\n\r\nThe client-side code:\r\n```\r\nMono&lt;BillDto&gt; billDtoMono = client.getBilById(bill.getId());\r\nbillDtoMono.subscribe(BillDto -&gt; {\r\n    log.info(BillDto.toString());\r\n});\r\n```\r\nLet&#39;s just say that if I invoke the `subscribe()` method within the `@GetMapping` method, it works just fine, how could I make the response well-formed when it goes outside?","title":"Why a @GetMapping annotated method is returning a JSON object between square brackets as response and how to fix it?","body":"<p>I have a service with the following method:</p>\n<pre><code>@RestController\npublic class BillsController {\n...\n    @GetMapping(&quot;get/billById/{billId}&quot;)\n    Mono&lt;BillDto&gt; getBillById(@PathVariable Long billId) {\n        log.info(&quot;Request received to fetch Bill with id : &quot; + billId);\n        return Mono.just(service.getBillById(billId));\n    }\n...\n}\n</code></pre>\n<p>And it returns the following:</p>\n<pre><code>[\n    {\n        &quot;id&quot;: 3,\n        &quot;customer&quot;: &quot;Larry&quot;,\n        &quot;products&quot;: [\n            {\n                &quot;id&quot;: 5,\n                &quot;name&quot;: &quot;Bike&quot;\n            }\n        ]\n    }\n]\n</code></pre>\n<p>Why would a JSON object between square brackets be returned? Since the <code>service.getBillById()</code> method returns just one object.</p>\n<p>The <code>service.getBillById()</code> just maps the response from the declarative BillRepository into the BillDto class.</p>\n<pre><code>public BillDto getBillById(Long billId) {\n    return modelMapper.map(billRepository.findById(billId).orElseThrow(NullPointerException::new), BillDto.class);\n}\n</code></pre>\n<p>I´m getting the following error by the time I consume the response within a Client:</p>\n<blockquote>\n<p>reactor.core.Exceptions$ErrorCallbackNotImplemented: org.springframework.core.codec.DecodingException: JSON decoding error: Cannot deserialize value of type <code>library.dto.BillDto</code> from Array value (token <code>JsonToken.START_ARRAY</code>); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type <code>library.dto.BillDto</code> from Array value (token <code>JsonToken.START_ARRAY</code>)</p>\n</blockquote>\n<p>The client-side code:</p>\n<pre><code>Mono&lt;BillDto&gt; billDtoMono = client.getBilById(bill.getId());\nbillDtoMono.subscribe(BillDto -&gt; {\n    log.info(BillDto.toString());\n});\n</code></pre>\n<p>Let's just say that if I invoke the <code>subscribe()</code> method within the <code>@GetMapping</code> method, it works just fine, how could I make the response well-formed when it goes outside?</p>\n"},{"tags":["java","maven","unit-testing","cucumber","pom.xml"],"comments":[{"owner":{"account_id":3894930,"reputation":4026,"user_id":3224238,"display_name":"Paizo"},"score":0,"creation_date":1435586423,"post_id":31117370,"comment_id":50248467,"body_markdown":"shouldn&#39;t the features be something like `classpath:packagename/Basic.feature` ?","body":"shouldn&#39;t the features be something like <code>classpath:packagename&#47;Basic.feature</code> ?"},{"owner":{"account_id":6452188,"reputation":61,"user_id":4998786,"display_name":"Wojciech"},"score":0,"creation_date":1435586666,"post_id":31117370,"comment_id":50248667,"body_markdown":"it points to the right feature and the test gets executed, plus in almost all  example of runners that I found online they were pointing to a feature like that","body":"it points to the right feature and the test gets executed, plus in almost all  example of runners that I found online they were pointing to a feature like that"},{"owner":{"account_id":1912395,"reputation":595,"user_id":1725840,"accept_rate":59,"display_name":"aditya parikh"},"score":0,"creation_date":1454025211,"post_id":31117370,"comment_id":57871805,"body_markdown":"having the same issues, did you find out the answer to this ?","body":"having the same issues, did you find out the answer to this ?"},{"owner":{"account_id":6452188,"reputation":61,"user_id":4998786,"display_name":"Wojciech"},"score":0,"creation_date":1454087087,"post_id":31117370,"comment_id":57902084,"body_markdown":"@adityaparikh , you can solve that by adding the maven-surefire-plugin in your &lt;build&gt; profile section in pom.xml","body":"@adityaparikh , you can solve that by adding the maven-surefire-plugin in your &lt;build&gt; profile section in pom.xml"},{"owner":{"account_id":50781,"reputation":832,"user_id":151525,"accept_rate":50,"display_name":"Kapil"},"score":0,"creation_date":1503524774,"post_id":31117370,"comment_id":78657723,"body_markdown":"Hey Did you find the solution for this ? I am having same issue","body":"Hey Did you find the solution for this ? I am having same issue"}],"answers":[{"tags":[],"owner":{"account_id":5696978,"reputation":4019,"user_id":4503189,"display_name":"BlondCode"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1611241290,"creation_date":1455529780,"answer_id":35406089,"question_id":31117370,"body_markdown":"When I had this problem in my Selenium project I realized that I was using junit and TestNG as well. I removed TestNG codes and dependency from pom.xml. This way I only had junit in my project left. Then everything worked like charm, MVN test results showed the correct numbers.","title":"no &quot;Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, &quot; even that cucumber test was executed using &quot;mvn test&quot; command","body":"<p>When I had this problem in my Selenium project I realized that I was using junit and TestNG as well. I removed TestNG codes and dependency from pom.xml. This way I only had junit in my project left. Then everything worked like charm, MVN test results showed the correct numbers.</p>\n"},{"tags":[],"owner":{"account_id":18844661,"reputation":11,"user_id":13745269,"display_name":"user13745269"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611241253,"creation_date":1611240248,"answer_id":65829830,"question_id":31117370,"body_markdown":"This is what I did for it to work for me\r\n\r\n 1. Like user = BlondCode said remover or comment TestNG dependency from you pom.xml file.\r\n\r\n 2. Add JUnit vintage engine dependency to pom.xml\r\n\r\n 3. Add a resources folder where you will store your feature and step definitions packages e.g. = \\src\\test\\java\\resources\\feature and \\src\\test\\java\\resources\\step definitions\r\n\r\n 4. You runner package remains in \\src\\test\\java folder\r\n\r\n 5. Last but not the least add the below configuration to surefire plugging. See image below\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/Z61Bh.png","title":"no &quot;Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, &quot; even that cucumber test was executed using &quot;mvn test&quot; command","body":"<p>This is what I did for it to work for me</p>\n<ol>\n<li><p>Like user = BlondCode said remover or comment TestNG dependency from you pom.xml file.</p>\n</li>\n<li><p>Add JUnit vintage engine dependency to pom.xml</p>\n</li>\n<li><p>Add a resources folder where you will store your feature and step definitions packages e.g. = \\src\\test\\java\\resources\\feature and \\src\\test\\java\\resources\\step definitions</p>\n</li>\n<li><p>You runner package remains in \\src\\test\\java folder</p>\n</li>\n<li><p>Last but not the least add the below configuration to surefire plugging. See image below</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/Z61Bh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z61Bh.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":17295469,"reputation":137,"user_id":12526239,"display_name":"Yasin Bekar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1617316185,"creation_date":1611380385,"answer_id":65856103,"question_id":31117370,"body_markdown":"Replica-\r\n\r\n    Rai Gupta is right.\r\n    The dependency was an issue for me also. \r\n    I saw too many &quot;Append your runner class with Test, move the runner class into TEST folder&quot; etc. \r\nBut you are just destroying the whole design and it will end with differently designed framework.  \r\n    \r\n    JUnit and SureFire plugin need to be aligned. I used \r\n    &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;junit&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n        &lt;version&gt;4.13.1&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    AND\r\n    \r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.12.4&lt;/version&gt;\r\n    \r\n    However, this came in with a parallel execution problem. I did not need it, removed. But you can try different versions of the above dependency.\r\n\r\nLastly, this worked or me: https://stackoverflow.com/questions/46360736/tests-not-running-through-maven\r\n\r\n\t    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.3.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"no &quot;Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, &quot; even that cucumber test was executed using &quot;mvn test&quot; command","body":"<p>Replica-</p>\n<pre><code>Rai Gupta is right.\nThe dependency was an issue for me also. \nI saw too many &quot;Append your runner class with Test, move the runner class into TEST folder&quot; etc. \n</code></pre>\n<p>But you are just destroying the whole design and it will end with differently designed framework.</p>\n<pre><code>JUnit and SureFire plugin need to be aligned. I used \n&lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;4.13.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\nAND\n\n&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n&lt;version&gt;2.12.4&lt;/version&gt;\n\nHowever, this came in with a parallel execution problem. I did not need it, removed. But you can try different versions of the above dependency.\n</code></pre>\n<p>Lastly, this worked or me: <a href=\"https://stackoverflow.com/questions/46360736/tests-not-running-through-maven\">Tests not running through Maven?</a></p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4090960,"reputation":1295,"user_id":3358937,"accept_rate":100,"display_name":"Cjo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662115278,"creation_date":1662115278,"answer_id":73581360,"question_id":31117370,"body_markdown":"This could be issue with jUnit supprt in surefire lib. I followed this link to fix the issue. &lt;br&gt; It works ! [Why Your JUnit 5 Tests Are Not Running Under Maven][1]\r\n\r\n\r\n  [1]: https://springframework.guru/why-your-junit-5-tests-are-not-running-under-maven/","title":"no &quot;Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, &quot; even that cucumber test was executed using &quot;mvn test&quot; command","body":"<p>This could be issue with jUnit supprt in surefire lib. I followed this link to fix the issue. <br> It works ! <a href=\"https://springframework.guru/why-your-junit-5-tests-are-not-running-under-maven/\" rel=\"nofollow noreferrer\">Why Your JUnit 5 Tests Are Not Running Under Maven</a></p>\n"}],"owner":{"account_id":6452188,"reputation":61,"user_id":4998786,"display_name":"Wojciech"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21961,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1662115278,"creation_date":1435585581,"question_id":31117370,"body_markdown":"Could someone suggest me a solution why when I run the test using command `mvn test` to run the cucumber runner class `ExampleRunnerTest` located in `\\src\\test\\java` it runs but the maven build doesn&#39;t recognize it. Like I said the test runs does what it should do but the build still fails.\r\n\r\n```none\r\n1 Scenarios (←[32m1 passed←[0m)\r\n6 Steps (←[32m6 passed←[0m)\r\n1m36.764s\r\n\r\nTests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 98.777 sec - in BasicTest\r\n\r\nResults :\r\nTests run: 0, Failures: 0, Errors: 0, Skipped: 0\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n\r\n```\r\n\r\n```\r\n@RunWith(Cucumber.class)\r\n@CucumberOptions(features = &quot;src/main/java/cucumber/feature/Basic.feature&quot;, glue = &quot;cucumber/stepDefinition&quot;,\r\n    format = {&quot;pretty&quot;, &quot;html:target/cucumber&quot;, &quot;json:target/cucumber-report.json&quot;})\r\n\r\npublic class BasicTest {\r\n}\r\n```","title":"no &quot;Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, &quot; even that cucumber test was executed using &quot;mvn test&quot; command","body":"<p>Could someone suggest me a solution why when I run the test using command <code>mvn test</code> to run the cucumber runner class <code>ExampleRunnerTest</code> located in <code>\\src\\test\\java</code> it runs but the maven build doesn't recognize it. Like I said the test runs does what it should do but the build still fails.</p>\n<pre class=\"lang-none prettyprint-override\"><code>1 Scenarios (←[32m1 passed←[0m)\n6 Steps (←[32m6 passed←[0m)\n1m36.764s\n\nTests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 98.777 sec - in BasicTest\n\nResults :\nTests run: 0, Failures: 0, Errors: 0, Skipped: 0\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n\n</code></pre>\n<pre><code>@RunWith(Cucumber.class)\n@CucumberOptions(features = &quot;src/main/java/cucumber/feature/Basic.feature&quot;, glue = &quot;cucumber/stepDefinition&quot;,\n    format = {&quot;pretty&quot;, &quot;html:target/cucumber&quot;, &quot;json:target/cucumber-report.json&quot;})\n\npublic class BasicTest {\n}\n</code></pre>\n"},{"tags":["java","eclipse","noclassdeffounderror","swingx"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1662115868,"post_id":73581353,"comment_id":129936812,"body_markdown":"Run it how? From within Eclipse or from a Jar or what? It sounds like you don&#39;t have the jar on the classpath at runtime.","body":"Run it how? From within Eclipse or from a Jar or what? It sounds like you don&#39;t have the jar on the classpath at runtime."},{"owner":{"account_id":26226125,"reputation":1,"user_id":19902807,"display_name":"Luca Mari"},"score":0,"creation_date":1662121286,"post_id":73581353,"comment_id":129938637,"body_markdown":"Run from within Eclipse. I will check for the classpath then, thank you","body":"Run from within Eclipse. I will check for the classpath then, thank you"}],"owner":{"account_id":26226125,"reputation":1,"user_id":19902807,"display_name":"Luca Mari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1662125872,"answer_count":0,"score":0,"last_activity_date":1662115230,"creation_date":1662115230,"question_id":73581353,"body_markdown":"I downloaded swingx-all-1.6.4.jar from here http://www.java2s.com/Code/Jar/s/Downloadswingxall164jar.htm, I added it to my Java Build Path in Eclipse. then I wrote java code using AutoCompleteDecorator such that:\r\n\r\n    ...\r\n    \r\n    import org.jdesktop.swingx.autocomplete.AutoCompleteDecorator;\r\n    \r\n    ...\r\n    \r\n        AutoCompleteDecorator.decorate(myComboBox);\r\n\r\nI do not have any issues by Eclipse about the code, it seems all written correctly, but when I run the application I get the following message\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:\r\n&gt; org/jdesktop/swingx/autocomplete/AutoCompleteDecorator \tat\r\n&gt; DD_StartNewActivity.&lt;init&gt;(DD_StartNewActivity.java:636) \tat\r\n&gt; DD_StartNewActivity.main(DD_StartNewActivity.java:529) Caused by:\r\n&gt; java.lang.ClassNotFoundException:\r\n&gt; org.jdesktop.swingx.autocomplete.AutoCompleteDecorator \tat\r\n&gt; java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n&gt; \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n&gt; \t... 2 more\r\n\r\nWhat&#39;s going wrong, please?\r\nThank you so much!\r\n","title":"Java Eclipse issuing a ClassNotFoundException while using AutoCompleteDecorator.decorate method from swingx-all-1.6.4.jar","body":"<p>I downloaded swingx-all-1.6.4.jar from here <a href=\"http://www.java2s.com/Code/Jar/s/Downloadswingxall164jar.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Code/Jar/s/Downloadswingxall164jar.htm</a>, I added it to my Java Build Path in Eclipse. then I wrote java code using AutoCompleteDecorator such that:</p>\n<pre><code>...\n\nimport org.jdesktop.swingx.autocomplete.AutoCompleteDecorator;\n\n...\n\n    AutoCompleteDecorator.decorate(myComboBox);\n</code></pre>\n<p>I do not have any issues by Eclipse about the code, it seems all written correctly, but when I run the application I get the following message</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:\norg/jdesktop/swingx/autocomplete/AutoCompleteDecorator    at\nDD_StartNewActivity.(DD_StartNewActivity.java:636)  at\nDD_StartNewActivity.main(DD_StartNewActivity.java:529) Caused by:\njava.lang.ClassNotFoundException:\norg.jdesktop.swingx.autocomplete.AutoCompleteDecorator    at\njava.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\nat\njava.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n... 2 more</p>\n</blockquote>\n<p>What's going wrong, please?\nThank you so much!</p>\n"},{"tags":["java","spring-boot","memory-leaks","garbage-collection","g1gc"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1661236670,"post_id":73453615,"comment_id":129716765,"body_markdown":"The complexity screams that some resource leak is around. I&#39;d start first with a SonarLint/Qube cleanup, so clean code remains. If you succeed in _profiling_ that might help, as critical bottlenecks might be involved. Less threads might help.","body":"The complexity screams that some resource leak is around. I&#39;d start first with a SonarLint/Qube cleanup, so clean code remains. If you succeed in <i>profiling</i> that might help, as critical bottlenecks might be involved. Less threads might help."},{"owner":{"account_id":10409831,"reputation":56,"user_id":7675571,"display_name":"Harry_T"},"score":0,"creation_date":1661241459,"post_id":73453615,"comment_id":129718238,"body_markdown":"maybe comparing heap dump in gc happening period would help to sweep the tons of log to see which threads do the job?","body":"maybe comparing heap dump in gc happening period would help to sweep the tons of log to see which threads do the job?"}],"answers":[{"tags":[],"owner":{"account_id":6900807,"reputation":31,"user_id":5300524,"display_name":"dibledob"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662114969,"creation_date":1662100152,"answer_id":73578597,"question_id":73453615,"body_markdown":"**UPDATE, REASON, SOLUTION:**\r\n\r\nI finally got around to make a java flight recorder (.jfr) recording when this particular service was in a slowed state.\r\nWhen analyzing the recording with JDK Mission Control I detected that there were tens of thousands of java.lang.LinkageError in just a 1 minute recording and more were generated on every soap-request. These were not visible on our logs at all, but we could easily dig them out with xlog.\r\n\r\n**Example from xlog with exceptions=trace:**\r\n\r\n    &#39;java/lang/LinkageError&#39;{0x00000000cbaf5990}: loader org.springframework.boot.loader.LaunchedURLClassLoader @f6c48ac attempted duplicate class definition for OUR.SERVICE.CLASS.jaxb.Sort$JaxbAccessorF_elementName. (OUR.SERVICE.CLASS.jaxb.Sort$JaxbAccessorF_elementName is in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @f6c48ac, parent loader &#39;app&#39;)\r\n\r\nApparently the reason was a third party jar, which we have to use, which has jaxb-impl and which tries on runtime to regenerate certain parts of the soap-api... which it doesn&#39;t succeed in doing because of that &quot;attempted duplicate class definition&quot;...\r\nAll this generates those errors and consumes compressed class space and metaspace.\r\n\r\nWe have had a warning about this on our logs, when the service starts, but unfortunately the all negative effects have been visible only on heavy load.\r\n\r\n    WARNING: An illegal reflective access operation has occurred\r\n    WARNING: Illegal reflective access by com.sun.xml.bind.v2.runtime.reflect.opt.Injector$1 (file:&lt;OUR SERVICE DIRECTORY&gt;/jaxb-impl.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int)\r\n    WARNING: Please consider reporting this to the maintainers of com.sun.xml.bind.v2.runtime.reflect.opt.Injector$1\r\n    WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\n    WARNING: All illegal access operations will be denied in a future release\r\n\r\nAnyways the solution for the time being seems to be starting the service with the system property \r\n\r\n&gt; -Dcom.sun.xml.bind.v2.bytecode.ClassTailor.noOptimize\r\n\r\nThats all folks!","title":"java JDK 11 G1 garbage collector collections taking longer and longer","body":"<p><strong>UPDATE, REASON, SOLUTION:</strong></p>\n<p>I finally got around to make a java flight recorder (.jfr) recording when this particular service was in a slowed state.\nWhen analyzing the recording with JDK Mission Control I detected that there were tens of thousands of java.lang.LinkageError in just a 1 minute recording and more were generated on every soap-request. These were not visible on our logs at all, but we could easily dig them out with xlog.</p>\n<p><strong>Example from xlog with exceptions=trace:</strong></p>\n<pre><code>'java/lang/LinkageError'{0x00000000cbaf5990}: loader org.springframework.boot.loader.LaunchedURLClassLoader @f6c48ac attempted duplicate class definition for OUR.SERVICE.CLASS.jaxb.Sort$JaxbAccessorF_elementName. (OUR.SERVICE.CLASS.jaxb.Sort$JaxbAccessorF_elementName is in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @f6c48ac, parent loader 'app')\n</code></pre>\n<p>Apparently the reason was a third party jar, which we have to use, which has jaxb-impl and which tries on runtime to regenerate certain parts of the soap-api... which it doesn't succeed in doing because of that &quot;attempted duplicate class definition&quot;...\nAll this generates those errors and consumes compressed class space and metaspace.</p>\n<p>We have had a warning about this on our logs, when the service starts, but unfortunately the all negative effects have been visible only on heavy load.</p>\n<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by com.sun.xml.bind.v2.runtime.reflect.opt.Injector$1 (file:&lt;OUR SERVICE DIRECTORY&gt;/jaxb-impl.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int)\nWARNING: Please consider reporting this to the maintainers of com.sun.xml.bind.v2.runtime.reflect.opt.Injector$1\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n</code></pre>\n<p>Anyways the solution for the time being seems to be starting the service with the system property</p>\n<blockquote>\n<p>-Dcom.sun.xml.bind.v2.bytecode.ClassTailor.noOptimize</p>\n</blockquote>\n<p>Thats all folks!</p>\n"}],"owner":{"account_id":6900807,"reputation":31,"user_id":5300524,"display_name":"dibledob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":956,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1662114969,"creation_date":1661233011,"question_id":73453615,"body_markdown":"I have spring boot java-service (JDK 11) running on a linux-platform in which under heavy load the time used for garbage collection (collector G1) keeps getting longer and longer.\r\n\r\nWhen the service is just restarted the average time used per collection is insignificant e.g. 0.05s but after being put under load for several days the the average collection time can increase to well over 1 second. I&#39;ve seen it increase eventually so high that almost 50% of every hour is used for garbage collection.\r\n\r\nThe service also retains the increased garbage collection time so even if the service is put on a break for hours, it doesn&#39;t recover and continues witch increased garbage collection time after the break.\r\nFull GC does not help, only restarting the service will help.\r\n\r\nGeneral description of the service would be that it handles soap-xml requests, has futures, has threads, has threadpools and reads&amp;writes to several databases.\r\n\r\n**Looking at garbage collection log of the phases, the phase that uses all the time is the one called &#39;CLDG Roots (ms)&#39; in the one called &#39;Ext Root Scanning&#39; which is under &#39;Evacuate Collection Set&#39;:**\r\n```\r\n[2022-08-22T08:07:05.639+0300][info ][gc,phases         ] GC(46489)   Evacuate Collection Set: 432.7ms\r\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       GC Worker Start (ms):     Min: 234380952.1, Avg: 234380952.4, Max: 234380953.2, Diff:  1.1, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)     Ext Root Scanning (ms):   Min:  1.8, Avg: 112.1, Max: 431.2, Diff: 429.4, Sum: 448.6, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       Thread Roots (ms):        Min:  0.0, Avg:  4.2, Max: 12.9, Diff: 12.9, Sum: 16.8, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       StringTable Roots (ms):   Min:  0.0, Avg:  0.2, Max:  0.9, Diff:  0.9, Sum:  0.9, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       Universe Roots (ms):      Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       JNI Handles Roots (ms):   Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       ObjectSynchronizer Roots (ms): Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       Management Roots (ms):    Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       SystemDictionary Roots (ms): Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       CLDG Roots (ms):          Min:  0.0, Avg: 108.1, Max: 432.3, Diff: 432.3, Sum: 432.3, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       JVMTI Roots (ms):         Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       CM RefProcessor Roots (ms): Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       Wait For Strong CLD (ms): Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       Weak CLD Roots (ms):      Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       SATB Filtering (ms):      Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\r\n```\r\n(Check the longer log for more detailed description.)\r\n\r\n**Here is log of one garbage collection in full which takes 0.43 seconds:**\r\n```\r\n[2022-08-22T08:07:05.204+0300][debug][gc,heap           ] GC(46489) Heap before GC invocations=46489 (full 0): garbage-first heap   total 3145728K, used 2362368K [0x0000000740000000, 0x0000000800000000)\r\n[2022-08-22T08:07:05.204+0300][debug][gc,heap           ] GC(46489)   region size 1024K, 1843 young (1887232K), 49 survivors (50176K)\r\n[2022-08-22T08:07:05.204+0300][debug][gc,heap           ] GC(46489)  Metaspace       used 1282569K, capacity 1288576K, committed 1302288K, reserved 1900544K\r\n[2022-08-22T08:07:05.204+0300][debug][gc,heap           ] GC(46489)   class space    used 448455K, capacity 451431K, committed 452032K, reserved 1048576K\r\n[2022-08-22T08:07:05.204+0300][info ][gc,start          ] GC(46489) Pause Young (Normal) (G1 Evacuation Pause)\r\n[2022-08-22T08:07:05.204+0300][info ][gc,task           ] GC(46489) Using 4 workers of 4 for evacuation\r\n[2022-08-22T08:07:05.204+0300][debug][gc,tlab           ] GC(46489) TLAB totals: thrds: 79  refills: 6293 max: 241 slow allocs: 3022 max 296 waste:  1.0% gc: 8690776B max: 484520B slow: 8537992B max: 606032B fast: 0B max: 0B\r\n[2022-08-22T08:07:05.204+0300][debug][gc,alloc,region   ] GC(46489) Mutator Allocation stats, regions: 1794, wasted size: 4744B ( 0.0%)\r\n[2022-08-22T08:07:05.204+0300][debug][gc,age            ] GC(46489) Desired survivor size 121110528 bytes, new threshold 15 (max threshold 15)\r\n[2022-08-22T08:07:05.204+0300][debug][gc,ergo,cset      ] GC(46489) Finish choosing CSet. old: 0 regions, predicted old region time: 0.00ms, time remaining: 145.64\r\n[2022-08-22T08:07:05.204+0300][debug][gc,task,stats     ] GC(46489) GC Termination Stats\r\n[2022-08-22T08:07:05.204+0300][debug][gc,task,stats     ] GC(46489)      elapsed  --strong roots-- -------termination------- ------waste (KiB)------\r\n[2022-08-22T08:07:05.204+0300][debug][gc,task,stats     ] GC(46489) thr     ms        ms      %        ms      %    attempts  total   alloc    undo\r\n[2022-08-22T08:07:05.204+0300][debug][gc,task,stats     ] GC(46489) --- --------- --------- ------ --------- ------ -------- ------- ------- -------\r\n[2022-08-22T08:07:05.637+0300][debug][gc,task,stats     ] GC(46489)   0    432.44    432.42 100.00      0.00   0.00        1       1       1       0\r\n[2022-08-22T08:07:05.637+0300][debug][gc,task,stats     ] GC(46489)   3    431.38     42.66   9.89    383.03  88.79        1       0       0       0\r\n[2022-08-22T08:07:05.637+0300][debug][gc,task,stats     ] GC(46489)   1    432.56     45.81  10.59    383.84  88.74        1       0       0       0\r\n[2022-08-22T08:07:05.637+0300][debug][gc,task,stats     ] GC(46489)   2    432.40     38.89   8.99    383.82  88.77        1       2       2       0\r\n[2022-08-22T08:07:05.637+0300][debug][gc,ergo           ] GC(46489) Running G1 Clear Card Table Task using 4 workers for 5 units of work for 2100 regions.\r\n[2022-08-22T08:07:05.637+0300][debug][gc,ref            ] GC(46489) Skipped phase1 of Reference Processing due to unavailable references\r\n[2022-08-22T08:07:05.638+0300][debug][gc,ref            ] GC(46489) Skipped phase3 of Reference Processing due to unavailable references\r\n[2022-08-22T08:07:05.638+0300][debug][gc,ergo           ] GC(46489) Running G1 Free Collection Set using 4 workers for collection set length 1843\r\n[2022-08-22T08:07:05.639+0300][debug][gc,humongous      ] GC(46489) Live humongous region 0 object size 738608 start 0x0000000740000000  with remset 1 code roots 0 is marked 0 reclaim candidate 0 type array 1\r\n[2022-08-22T08:07:05.639+0300][debug][gc,humongous      ] GC(46489) Dead humongous region 81 object size 1037776 start 0x0000000745100000 with remset 0 code roots 0 is marked 0 reclaim candidate 1 type array 1\r\n[2022-08-22T08:07:05.639+0300][debug][gc,humongous      ] GC(46489) Live humongous region 108 object size 1037648 start 0x0000000746c00000  with remset 0 code roots 0 is marked 0 reclaim candidate 0 type array 1\r\n[2022-08-22T08:07:05.639+0300][debug][gc,humongous      ] GC(46489) Live humongous region 109 object size 1037680 start 0x0000000746d00000  with remset 0 code roots 0 is marked 0 reclaim candidate 0 type array 1\r\n[2022-08-22T08:07:05.639+0300][debug][gc,humongous      ] GC(46489) Dead humongous region 125 object size 1037744 start 0x0000000747d00000 with remset 0 code roots 0 is marked 0 reclaim candidate 1 type array 1\r\n[2022-08-22T08:07:05.639+0300][debug][gc,humongous      ] GC(46489) Dead humongous region 131 object size 1037744 start 0x0000000748300000 with remset 0 code roots 0 is marked 0 reclaim candidate 1 type array 1\r\n[2022-08-22T08:07:05.639+0300][debug][gc,humongous      ] GC(46489) Dead humongous region 135 object size 1037776 start 0x0000000748700000 with remset 0 code roots 0 is marked 0 reclaim candidate 1 type array 1\r\n[2022-08-22T08:07:05.639+0300][debug][gc,humongous      ] GC(46489) Dead humongous region 136 object size 1037776 start 0x0000000748800000 with remset 0 code roots 0 is marked 0 reclaim candidate 1 type array 1\r\n[2022-08-22T08:07:05.639+0300][debug][gc,humongous      ] GC(46489) Dead humongous region 137 object size 1037744 start 0x0000000748900000 with remset 0 code roots 0 is marked 0 reclaim candidate 1 type array 1\r\n[2022-08-22T08:07:05.639+0300][debug][gc,humongous      ] GC(46489) Dead humongous region 140 object size 1037744 start 0x0000000748c00000 with remset 0 code roots 0 is marked 0 reclaim candidate 1 type array 1\r\n[2022-08-22T08:07:05.639+0300][debug][gc,humongous      ] GC(46489) Dead humongous region 143 object size 1037744 start 0x0000000748f00000 with remset 0 code roots 0 is marked 0 reclaim candidate 1 type array 1\r\n[2022-08-22T08:07:05.639+0300][debug][gc,humongous      ] GC(46489) Live humongous region 145 object size 1037648 start 0x0000000749100000  with remset 0 code roots 0 is marked 0 reclaim candidate 0 type array 1\r\n[2022-08-22T08:07:05.639+0300][debug][gc,humongous      ] GC(46489) Dead humongous region 146 object size 1037744 start 0x0000000749200000 with remset 0 code roots 0 is marked 0 reclaim candidate 1 type array 1\r\n[2022-08-22T08:07:05.639+0300][debug][gc,humongous      ] GC(46489) Dead humongous region 149 object size 1037744 start 0x0000000749500000 with remset 0 code roots 0 is marked 0 reclaim candidate 1 type array 1\r\n[2022-08-22T08:07:05.639+0300][debug][gc,humongous      ] GC(46489) Dead humongous region 150 object size 1037744 start 0x0000000749600000 with remset 0 code roots 0 is marked 0 reclaim candidate 1 type array 1\r\n[2022-08-22T08:07:05.639+0300][debug][gc,humongous      ] GC(46489) Dead humongous region 157 object size 1037776 start 0x0000000749d00000 with remset 0 code roots 0 is marked 0 reclaim candidate 1 type array 1\r\n[2022-08-22T08:07:05.639+0300][debug][gc,plab           ] GC(46489) Young PLAB allocation: allocated: 49807360B, wasted: 4056B, unused: 1052976B, used: 48750328B, undo waste: 0B, \r\n[2022-08-22T08:07:05.639+0300][debug][gc,plab           ] GC(46489) Young other allocation: region end waste: 0B, regions filled: 48, direct allocated: 0B, failure used: 0B, failure wasted: 0B\r\n[2022-08-22T08:07:05.639+0300][debug][gc,plab           ] GC(46489) Young sizing: calculated: 9750064B, actual: 9716048B\r\n[2022-08-22T08:07:05.639+0300][debug][gc,plab           ] GC(46489) Old PLAB allocation: allocated: 94944B, wasted: 1216B, unused: 6536B, used: 87192B, undo waste: 0B, \r\n[2022-08-22T08:07:05.639+0300][debug][gc,plab           ] GC(46489) Old other allocation: region end waste: 0B, regions filled: 1, direct allocated: 2576B, failure used: 0B, failure wasted: 0B\r\n[2022-08-22T08:07:05.639+0300][debug][gc,plab           ] GC(46489) Old sizing: calculated: 17432B, actual: 13072B\r\n[2022-08-22T08:07:05.639+0300][info ][gc,mmu            ] GC(46489) MMU target violated: 201.0ms (200.0ms/201.0ms)\r\n[2022-08-22T08:07:05.639+0300][debug][gc,alloc,stats    ] Old generation allocation in the last mutator period, old gen allocated: 94944B, humongous allocated: 11534336B,old gen growth: 94944B.\r\n[2022-08-22T08:07:05.639+0300][debug][gc,ihop           ] GC(46489) Basic information (value update), threshold: 803636683B (24.95), target occupancy: 3221225472B, current occupancy: 525434368B, recent allocation size: 11629280B, recent allocation duration: 2755.64ms, recent old gen allocation rate: 4220175.16B/s, recent marking phase length: 2284.96ms\r\n[2022-08-22T08:07:05.639+0300][debug][gc,ihop           ] GC(46489) Adaptive IHOP information (value update), threshold: 803636683B (29.35), internal target occupancy: 2738041651B, occupancy: 525434368B, additional buffer size: 1932525568B, predicted old gen allocation rate: 675492.86B/s, predicted marking phase length: 2782.27ms, prediction active: true\r\n[2022-08-22T08:07:05.639+0300][debug][gc,ergo,refine    ] GC(46489) Updated Refinement Zones: green: 149, yellow: 447, red: 745\r\n[2022-08-22T08:07:05.639+0300][info ][gc,phases         ] GC(46489)   Pre Evacuate Collection Set: 0.1ms\r\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)     Prepare TLABs: 0.0ms\r\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)     Choose Collection Set: 0.0ms\r\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)     Humongous Register: 0.1ms\r\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       Humongous Total: 16\r\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       Humongous Candidate: 16\r\n[2022-08-22T08:07:05.639+0300][info ][gc,phases         ] GC(46489)   Evacuate Collection Set: 432.7ms\r\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       GC Worker Start (ms):     Min: 234380952.1, Avg: 234380952.4, Max: 234380953.2, Diff:  1.1, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)     Ext Root Scanning (ms):   Min:  1.8, Avg: 112.1, Max: 431.2, Diff: 429.4, Sum: 448.6, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       Thread Roots (ms):        Min:  0.0, Avg:  4.2, Max: 12.9, Diff: 12.9, Sum: 16.8, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       StringTable Roots (ms):   Min:  0.0, Avg:  0.2, Max:  0.9, Diff:  0.9, Sum:  0.9, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       Universe Roots (ms):      Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       JNI Handles Roots (ms):   Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       ObjectSynchronizer Roots (ms): Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       Management Roots (ms):    Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       SystemDictionary Roots (ms): Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       CLDG Roots (ms):          Min:  0.0, Avg: 108.1, Max: 432.3, Diff: 432.3, Sum: 432.3, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       JVMTI Roots (ms):         Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       CM RefProcessor Roots (ms): Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       Wait For Strong CLD (ms): Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       Weak CLD Roots (ms):      Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       SATB Filtering (ms):      Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)     Update RS (ms):           Min:  0.0, Avg:  1.7, Max:  5.0, Diff:  5.0, Sum:  6.6, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)       Processed Buffers:        Min: 0, Avg: 21.8, Max: 82, Diff: 82, Sum: 87, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)       Scanned Cards:            Min: 0, Avg: 835.5, Max: 2250, Diff: 2250, Sum: 3342, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)       Skipped Cards:            Min: 0, Avg:  1.8, Max: 4, Diff: 4, Sum: 7, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       Scan HCC (ms):            Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)     Scan RS (ms):             Min:  0.0, Avg:  0.2, Max:  0.9, Diff:  0.9, Sum:  0.9, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)       Scanned Cards:            Min: 0, Avg: 10.5, Max: 42, Diff: 42, Sum: 42, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)       Claimed Cards:            Min: 0, Avg: 11.8, Max: 47, Diff: 47, Sum: 47, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)       Skipped Cards:            Min: 0, Avg:  0.0, Max: 0, Diff: 0, Sum: 0, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)     Code Root Scanning (ms):  Min:  0.0, Avg:  0.0, Max:  0.1, Diff:  0.1, Sum:  0.1, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)     AOT Root Scanning (ms):   skipped\r\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)     Object Copy (ms):         Min:  1.1, Avg: 30.2, Max: 45.1, Diff: 43.9, Sum: 120.8, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)     Termination (ms):         Min:  0.0, Avg: 287.7, Max: 383.8, Diff: 383.8, Sum: 1150.7, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)       Termination Attempts:     Min: 1, Avg:  1.0, Max: 1, Diff: 0, Sum: 4, Workers: 4\r\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)     GC Worker Other (ms):     Min:  0.2, Avg:  0.3, Max:  0.6, Diff:  0.4, Sum:  1.2, Workers: 4\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases         ] GC(46489)     GC Worker Total (ms):     Min: 431.4, Avg: 432.2, Max: 432.6, Diff:  1.2, Sum: 1728.9, Workers: 4\r\n[2022-08-22T08:07:05.640+0300][trace][gc,phases         ] GC(46489)       GC Worker End (ms):       Min: 234381384.6, Avg: 234381384.7, Max: 234381384.7, Diff:  0.1, Workers: 4\r\n[2022-08-22T08:07:05.640+0300][info ][gc,phases         ] GC(46489)   Post Evacuate Collection Set: 2.2ms\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases         ] GC(46489)     Code Roots Fixup: 0.0ms\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases         ] GC(46489)     Clear Card Table: 0.3ms\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases         ] GC(46489)     Reference Processing: 0.4ms\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)       Reconsider SoftReferences: 0.0ms\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)         SoftRef (ms):             skipped\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)       Notify Soft/WeakReferences: 0.3ms\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)         Balance queues: 0.0ms\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)         SoftRef (ms):             Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 3\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)         WeakRef (ms):             Min:  0.1, Avg:  0.1, Max:  0.1, Diff:  0.0, Sum:  0.2, Workers: 3\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)         FinalRef (ms):            Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 3\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)         Total (ms):               Min:  0.1, Avg:  0.1, Max:  0.1, Diff:  0.0, Sum:  0.3, Workers: 3\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)       Notify and keep alive finalizable: 0.0ms\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)         FinalRef (ms):            skipped\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)       Notify PhantomReferences: 0.0ms\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)         PhantomRef (ms):          Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 1\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)       SoftReference:\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)         Discovered: 0\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)         Cleared: 0\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)       WeakReference:\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)         Discovered: 2155\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)         Cleared: 1709\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)       FinalReference:\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)         Discovered: 0\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)         Cleared: 0\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)       PhantomReference:\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)         Discovered: 31\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)         Cleared: 0\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases         ] GC(46489)     Weak Processing: 0.3ms\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases         ] GC(46489)     Merge Per-Thread State: 0.1ms\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases         ] GC(46489)     Code Roots Purge: 0.0ms\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases         ] GC(46489)     Redirty Cards: 0.1ms\r\n[2022-08-22T08:07:05.640+0300][trace][gc,phases         ] GC(46489)       Parallel Redirty (ms):    Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\r\n[2022-08-22T08:07:05.640+0300][trace][gc,phases         ] GC(46489)         Redirtied Cards:          Min: 0, Avg: 591.5, Max: 1369, Diff: 1369, Sum: 2366, Workers: 4\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases         ] GC(46489)     DerivedPointerTable Update: 0.1ms\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases         ] GC(46489)     Free Collection Set: 0.9ms\r\n[2022-08-22T08:07:05.640+0300][trace][gc,phases         ] GC(46489)       Free Collection Set Serial: 0.5ms\r\n[2022-08-22T08:07:05.640+0300][trace][gc,phases         ] GC(46489)       Young Free Collection Set (ms): Min:  0.0, Avg:  0.4, Max:  0.6, Diff:  0.5, Sum:  1.1, Workers: 3\r\n[2022-08-22T08:07:05.640+0300][trace][gc,phases         ] GC(46489)       Non-Young Free Collection Set (ms): skipped\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases         ] GC(46489)     Humongous Reclaim: 0.2ms\r\n[2022-08-22T08:07:05.640+0300][trace][gc,phases         ] GC(46489)       Humongous Reclaimed: 12\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases         ] GC(46489)     Start New Collection Set: 0.0ms\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases         ] GC(46489)     Resize TLABs: 0.0ms\r\n[2022-08-22T08:07:05.640+0300][debug][gc,phases         ] GC(46489)     Expand Heap After Collection: 0.0ms\r\n[2022-08-22T08:07:05.640+0300][info ][gc,phases         ] GC(46489)   Other: 0.6ms\r\n[2022-08-22T08:07:05.640+0300][info ][gc,heap           ] GC(46489) Eden regions: 1794-&gt;0(1795)\r\n[2022-08-22T08:07:05.640+0300][info ][gc,heap           ] GC(46489) Survivor regions: 49-&gt;48(231)\r\n[2022-08-22T08:07:05.640+0300][info ][gc,heap           ] GC(46489) Old regions: 450-&gt;450\r\n[2022-08-22T08:07:05.640+0300][info ][gc,heap           ] GC(46489) Humongous regions: 16-&gt;4\r\n[2022-08-22T08:07:05.640+0300][info ][gc,metaspace      ] GC(46489) Metaspace: 1282569K-&gt;1282569K(1900544K)\r\n[2022-08-22T08:07:05.640+0300][debug][gc,heap           ] GC(46489) Heap after GC invocations=46490 (full 0): garbage-first heap   total 3145728K, used 513119K [0x0000000740000000, 0x0000000800000000)\r\n[2022-08-22T08:07:05.640+0300][debug][gc,heap           ] GC(46489)   region size 1024K, 48 young (49152K), 48 survivors (49152K)\r\n[2022-08-22T08:07:05.640+0300][debug][gc,heap           ] GC(46489)  Metaspace       used 1282569K, capacity 1288576K, committed 1302288K, reserved 1900544K\r\n[2022-08-22T08:07:05.640+0300][debug][gc,heap           ] GC(46489)   class space    used 448455K, capacity 451431K, committed 452032K, reserved 1048576K\r\n[2022-08-22T08:07:05.640+0300][info ][gc                ] GC(46489) Pause Young (Normal) (G1 Evacuation Pause) 2308M-&gt;501M(3072M) 436.105ms\r\n[2022-08-22T08:07:05.640+0300][info ][gc,cpu            ] GC(46489) User=1.53s Sys=0.01s Real=0.43s\r\n```\r\n\r\n**xlog used:**\r\n\r\n-Xlog:gc*=debug,gc+phases=trace:/tmp/gc.log:time,level,tags:filecount=10,filesize=50m\r\n\r\nI&#39;ve tried various things, e.g. adding memory, playing with settings and trying to find memory leaks. But i&#39;ve not being able to find the smoking gun. :(\r\n\r\nAnybody got any advice/solution anything?","title":"java JDK 11 G1 garbage collector collections taking longer and longer","body":"<p>I have spring boot java-service (JDK 11) running on a linux-platform in which under heavy load the time used for garbage collection (collector G1) keeps getting longer and longer.</p>\n<p>When the service is just restarted the average time used per collection is insignificant e.g. 0.05s but after being put under load for several days the the average collection time can increase to well over 1 second. I've seen it increase eventually so high that almost 50% of every hour is used for garbage collection.</p>\n<p>The service also retains the increased garbage collection time so even if the service is put on a break for hours, it doesn't recover and continues witch increased garbage collection time after the break.\nFull GC does not help, only restarting the service will help.</p>\n<p>General description of the service would be that it handles soap-xml requests, has futures, has threads, has threadpools and reads&amp;writes to several databases.</p>\n<p><strong>Looking at garbage collection log of the phases, the phase that uses all the time is the one called 'CLDG Roots (ms)' in the one called 'Ext Root Scanning' which is under 'Evacuate Collection Set':</strong></p>\n<pre><code>[2022-08-22T08:07:05.639+0300][info ][gc,phases         ] GC(46489)   Evacuate Collection Set: 432.7ms\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       GC Worker Start (ms):     Min: 234380952.1, Avg: 234380952.4, Max: 234380953.2, Diff:  1.1, Workers: 4\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)     Ext Root Scanning (ms):   Min:  1.8, Avg: 112.1, Max: 431.2, Diff: 429.4, Sum: 448.6, Workers: 4\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       Thread Roots (ms):        Min:  0.0, Avg:  4.2, Max: 12.9, Diff: 12.9, Sum: 16.8, Workers: 4\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       StringTable Roots (ms):   Min:  0.0, Avg:  0.2, Max:  0.9, Diff:  0.9, Sum:  0.9, Workers: 4\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       Universe Roots (ms):      Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       JNI Handles Roots (ms):   Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       ObjectSynchronizer Roots (ms): Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       Management Roots (ms):    Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       SystemDictionary Roots (ms): Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       CLDG Roots (ms):          Min:  0.0, Avg: 108.1, Max: 432.3, Diff: 432.3, Sum: 432.3, Workers: 4\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       JVMTI Roots (ms):         Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       CM RefProcessor Roots (ms): Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       Wait For Strong CLD (ms): Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       Weak CLD Roots (ms):      Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       SATB Filtering (ms):      Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\n</code></pre>\n<p>(Check the longer log for more detailed description.)</p>\n<p><strong>Here is log of one garbage collection in full which takes 0.43 seconds:</strong></p>\n<pre><code>[2022-08-22T08:07:05.204+0300][debug][gc,heap           ] GC(46489) Heap before GC invocations=46489 (full 0): garbage-first heap   total 3145728K, used 2362368K [0x0000000740000000, 0x0000000800000000)\n[2022-08-22T08:07:05.204+0300][debug][gc,heap           ] GC(46489)   region size 1024K, 1843 young (1887232K), 49 survivors (50176K)\n[2022-08-22T08:07:05.204+0300][debug][gc,heap           ] GC(46489)  Metaspace       used 1282569K, capacity 1288576K, committed 1302288K, reserved 1900544K\n[2022-08-22T08:07:05.204+0300][debug][gc,heap           ] GC(46489)   class space    used 448455K, capacity 451431K, committed 452032K, reserved 1048576K\n[2022-08-22T08:07:05.204+0300][info ][gc,start          ] GC(46489) Pause Young (Normal) (G1 Evacuation Pause)\n[2022-08-22T08:07:05.204+0300][info ][gc,task           ] GC(46489) Using 4 workers of 4 for evacuation\n[2022-08-22T08:07:05.204+0300][debug][gc,tlab           ] GC(46489) TLAB totals: thrds: 79  refills: 6293 max: 241 slow allocs: 3022 max 296 waste:  1.0% gc: 8690776B max: 484520B slow: 8537992B max: 606032B fast: 0B max: 0B\n[2022-08-22T08:07:05.204+0300][debug][gc,alloc,region   ] GC(46489) Mutator Allocation stats, regions: 1794, wasted size: 4744B ( 0.0%)\n[2022-08-22T08:07:05.204+0300][debug][gc,age            ] GC(46489) Desired survivor size 121110528 bytes, new threshold 15 (max threshold 15)\n[2022-08-22T08:07:05.204+0300][debug][gc,ergo,cset      ] GC(46489) Finish choosing CSet. old: 0 regions, predicted old region time: 0.00ms, time remaining: 145.64\n[2022-08-22T08:07:05.204+0300][debug][gc,task,stats     ] GC(46489) GC Termination Stats\n[2022-08-22T08:07:05.204+0300][debug][gc,task,stats     ] GC(46489)      elapsed  --strong roots-- -------termination------- ------waste (KiB)------\n[2022-08-22T08:07:05.204+0300][debug][gc,task,stats     ] GC(46489) thr     ms        ms      %        ms      %    attempts  total   alloc    undo\n[2022-08-22T08:07:05.204+0300][debug][gc,task,stats     ] GC(46489) --- --------- --------- ------ --------- ------ -------- ------- ------- -------\n[2022-08-22T08:07:05.637+0300][debug][gc,task,stats     ] GC(46489)   0    432.44    432.42 100.00      0.00   0.00        1       1       1       0\n[2022-08-22T08:07:05.637+0300][debug][gc,task,stats     ] GC(46489)   3    431.38     42.66   9.89    383.03  88.79        1       0       0       0\n[2022-08-22T08:07:05.637+0300][debug][gc,task,stats     ] GC(46489)   1    432.56     45.81  10.59    383.84  88.74        1       0       0       0\n[2022-08-22T08:07:05.637+0300][debug][gc,task,stats     ] GC(46489)   2    432.40     38.89   8.99    383.82  88.77        1       2       2       0\n[2022-08-22T08:07:05.637+0300][debug][gc,ergo           ] GC(46489) Running G1 Clear Card Table Task using 4 workers for 5 units of work for 2100 regions.\n[2022-08-22T08:07:05.637+0300][debug][gc,ref            ] GC(46489) Skipped phase1 of Reference Processing due to unavailable references\n[2022-08-22T08:07:05.638+0300][debug][gc,ref            ] GC(46489) Skipped phase3 of Reference Processing due to unavailable references\n[2022-08-22T08:07:05.638+0300][debug][gc,ergo           ] GC(46489) Running G1 Free Collection Set using 4 workers for collection set length 1843\n[2022-08-22T08:07:05.639+0300][debug][gc,humongous      ] GC(46489) Live humongous region 0 object size 738608 start 0x0000000740000000  with remset 1 code roots 0 is marked 0 reclaim candidate 0 type array 1\n[2022-08-22T08:07:05.639+0300][debug][gc,humongous      ] GC(46489) Dead humongous region 81 object size 1037776 start 0x0000000745100000 with remset 0 code roots 0 is marked 0 reclaim candidate 1 type array 1\n[2022-08-22T08:07:05.639+0300][debug][gc,humongous      ] GC(46489) Live humongous region 108 object size 1037648 start 0x0000000746c00000  with remset 0 code roots 0 is marked 0 reclaim candidate 0 type array 1\n[2022-08-22T08:07:05.639+0300][debug][gc,humongous      ] GC(46489) Live humongous region 109 object size 1037680 start 0x0000000746d00000  with remset 0 code roots 0 is marked 0 reclaim candidate 0 type array 1\n[2022-08-22T08:07:05.639+0300][debug][gc,humongous      ] GC(46489) Dead humongous region 125 object size 1037744 start 0x0000000747d00000 with remset 0 code roots 0 is marked 0 reclaim candidate 1 type array 1\n[2022-08-22T08:07:05.639+0300][debug][gc,humongous      ] GC(46489) Dead humongous region 131 object size 1037744 start 0x0000000748300000 with remset 0 code roots 0 is marked 0 reclaim candidate 1 type array 1\n[2022-08-22T08:07:05.639+0300][debug][gc,humongous      ] GC(46489) Dead humongous region 135 object size 1037776 start 0x0000000748700000 with remset 0 code roots 0 is marked 0 reclaim candidate 1 type array 1\n[2022-08-22T08:07:05.639+0300][debug][gc,humongous      ] GC(46489) Dead humongous region 136 object size 1037776 start 0x0000000748800000 with remset 0 code roots 0 is marked 0 reclaim candidate 1 type array 1\n[2022-08-22T08:07:05.639+0300][debug][gc,humongous      ] GC(46489) Dead humongous region 137 object size 1037744 start 0x0000000748900000 with remset 0 code roots 0 is marked 0 reclaim candidate 1 type array 1\n[2022-08-22T08:07:05.639+0300][debug][gc,humongous      ] GC(46489) Dead humongous region 140 object size 1037744 start 0x0000000748c00000 with remset 0 code roots 0 is marked 0 reclaim candidate 1 type array 1\n[2022-08-22T08:07:05.639+0300][debug][gc,humongous      ] GC(46489) Dead humongous region 143 object size 1037744 start 0x0000000748f00000 with remset 0 code roots 0 is marked 0 reclaim candidate 1 type array 1\n[2022-08-22T08:07:05.639+0300][debug][gc,humongous      ] GC(46489) Live humongous region 145 object size 1037648 start 0x0000000749100000  with remset 0 code roots 0 is marked 0 reclaim candidate 0 type array 1\n[2022-08-22T08:07:05.639+0300][debug][gc,humongous      ] GC(46489) Dead humongous region 146 object size 1037744 start 0x0000000749200000 with remset 0 code roots 0 is marked 0 reclaim candidate 1 type array 1\n[2022-08-22T08:07:05.639+0300][debug][gc,humongous      ] GC(46489) Dead humongous region 149 object size 1037744 start 0x0000000749500000 with remset 0 code roots 0 is marked 0 reclaim candidate 1 type array 1\n[2022-08-22T08:07:05.639+0300][debug][gc,humongous      ] GC(46489) Dead humongous region 150 object size 1037744 start 0x0000000749600000 with remset 0 code roots 0 is marked 0 reclaim candidate 1 type array 1\n[2022-08-22T08:07:05.639+0300][debug][gc,humongous      ] GC(46489) Dead humongous region 157 object size 1037776 start 0x0000000749d00000 with remset 0 code roots 0 is marked 0 reclaim candidate 1 type array 1\n[2022-08-22T08:07:05.639+0300][debug][gc,plab           ] GC(46489) Young PLAB allocation: allocated: 49807360B, wasted: 4056B, unused: 1052976B, used: 48750328B, undo waste: 0B, \n[2022-08-22T08:07:05.639+0300][debug][gc,plab           ] GC(46489) Young other allocation: region end waste: 0B, regions filled: 48, direct allocated: 0B, failure used: 0B, failure wasted: 0B\n[2022-08-22T08:07:05.639+0300][debug][gc,plab           ] GC(46489) Young sizing: calculated: 9750064B, actual: 9716048B\n[2022-08-22T08:07:05.639+0300][debug][gc,plab           ] GC(46489) Old PLAB allocation: allocated: 94944B, wasted: 1216B, unused: 6536B, used: 87192B, undo waste: 0B, \n[2022-08-22T08:07:05.639+0300][debug][gc,plab           ] GC(46489) Old other allocation: region end waste: 0B, regions filled: 1, direct allocated: 2576B, failure used: 0B, failure wasted: 0B\n[2022-08-22T08:07:05.639+0300][debug][gc,plab           ] GC(46489) Old sizing: calculated: 17432B, actual: 13072B\n[2022-08-22T08:07:05.639+0300][info ][gc,mmu            ] GC(46489) MMU target violated: 201.0ms (200.0ms/201.0ms)\n[2022-08-22T08:07:05.639+0300][debug][gc,alloc,stats    ] Old generation allocation in the last mutator period, old gen allocated: 94944B, humongous allocated: 11534336B,old gen growth: 94944B.\n[2022-08-22T08:07:05.639+0300][debug][gc,ihop           ] GC(46489) Basic information (value update), threshold: 803636683B (24.95), target occupancy: 3221225472B, current occupancy: 525434368B, recent allocation size: 11629280B, recent allocation duration: 2755.64ms, recent old gen allocation rate: 4220175.16B/s, recent marking phase length: 2284.96ms\n[2022-08-22T08:07:05.639+0300][debug][gc,ihop           ] GC(46489) Adaptive IHOP information (value update), threshold: 803636683B (29.35), internal target occupancy: 2738041651B, occupancy: 525434368B, additional buffer size: 1932525568B, predicted old gen allocation rate: 675492.86B/s, predicted marking phase length: 2782.27ms, prediction active: true\n[2022-08-22T08:07:05.639+0300][debug][gc,ergo,refine    ] GC(46489) Updated Refinement Zones: green: 149, yellow: 447, red: 745\n[2022-08-22T08:07:05.639+0300][info ][gc,phases         ] GC(46489)   Pre Evacuate Collection Set: 0.1ms\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)     Prepare TLABs: 0.0ms\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)     Choose Collection Set: 0.0ms\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)     Humongous Register: 0.1ms\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       Humongous Total: 16\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       Humongous Candidate: 16\n[2022-08-22T08:07:05.639+0300][info ][gc,phases         ] GC(46489)   Evacuate Collection Set: 432.7ms\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       GC Worker Start (ms):     Min: 234380952.1, Avg: 234380952.4, Max: 234380953.2, Diff:  1.1, Workers: 4\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)     Ext Root Scanning (ms):   Min:  1.8, Avg: 112.1, Max: 431.2, Diff: 429.4, Sum: 448.6, Workers: 4\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       Thread Roots (ms):        Min:  0.0, Avg:  4.2, Max: 12.9, Diff: 12.9, Sum: 16.8, Workers: 4\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       StringTable Roots (ms):   Min:  0.0, Avg:  0.2, Max:  0.9, Diff:  0.9, Sum:  0.9, Workers: 4\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       Universe Roots (ms):      Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       JNI Handles Roots (ms):   Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       ObjectSynchronizer Roots (ms): Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       Management Roots (ms):    Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       SystemDictionary Roots (ms): Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       CLDG Roots (ms):          Min:  0.0, Avg: 108.1, Max: 432.3, Diff: 432.3, Sum: 432.3, Workers: 4\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       JVMTI Roots (ms):         Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       CM RefProcessor Roots (ms): Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       Wait For Strong CLD (ms): Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       Weak CLD Roots (ms):      Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       SATB Filtering (ms):      Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)     Update RS (ms):           Min:  0.0, Avg:  1.7, Max:  5.0, Diff:  5.0, Sum:  6.6, Workers: 4\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)       Processed Buffers:        Min: 0, Avg: 21.8, Max: 82, Diff: 82, Sum: 87, Workers: 4\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)       Scanned Cards:            Min: 0, Avg: 835.5, Max: 2250, Diff: 2250, Sum: 3342, Workers: 4\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)       Skipped Cards:            Min: 0, Avg:  1.8, Max: 4, Diff: 4, Sum: 7, Workers: 4\n[2022-08-22T08:07:05.639+0300][trace][gc,phases         ] GC(46489)       Scan HCC (ms):            Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)     Scan RS (ms):             Min:  0.0, Avg:  0.2, Max:  0.9, Diff:  0.9, Sum:  0.9, Workers: 4\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)       Scanned Cards:            Min: 0, Avg: 10.5, Max: 42, Diff: 42, Sum: 42, Workers: 4\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)       Claimed Cards:            Min: 0, Avg: 11.8, Max: 47, Diff: 47, Sum: 47, Workers: 4\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)       Skipped Cards:            Min: 0, Avg:  0.0, Max: 0, Diff: 0, Sum: 0, Workers: 4\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)     Code Root Scanning (ms):  Min:  0.0, Avg:  0.0, Max:  0.1, Diff:  0.1, Sum:  0.1, Workers: 4\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)     AOT Root Scanning (ms):   skipped\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)     Object Copy (ms):         Min:  1.1, Avg: 30.2, Max: 45.1, Diff: 43.9, Sum: 120.8, Workers: 4\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)     Termination (ms):         Min:  0.0, Avg: 287.7, Max: 383.8, Diff: 383.8, Sum: 1150.7, Workers: 4\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)       Termination Attempts:     Min: 1, Avg:  1.0, Max: 1, Diff: 0, Sum: 4, Workers: 4\n[2022-08-22T08:07:05.639+0300][debug][gc,phases         ] GC(46489)     GC Worker Other (ms):     Min:  0.2, Avg:  0.3, Max:  0.6, Diff:  0.4, Sum:  1.2, Workers: 4\n[2022-08-22T08:07:05.640+0300][debug][gc,phases         ] GC(46489)     GC Worker Total (ms):     Min: 431.4, Avg: 432.2, Max: 432.6, Diff:  1.2, Sum: 1728.9, Workers: 4\n[2022-08-22T08:07:05.640+0300][trace][gc,phases         ] GC(46489)       GC Worker End (ms):       Min: 234381384.6, Avg: 234381384.7, Max: 234381384.7, Diff:  0.1, Workers: 4\n[2022-08-22T08:07:05.640+0300][info ][gc,phases         ] GC(46489)   Post Evacuate Collection Set: 2.2ms\n[2022-08-22T08:07:05.640+0300][debug][gc,phases         ] GC(46489)     Code Roots Fixup: 0.0ms\n[2022-08-22T08:07:05.640+0300][debug][gc,phases         ] GC(46489)     Clear Card Table: 0.3ms\n[2022-08-22T08:07:05.640+0300][debug][gc,phases         ] GC(46489)     Reference Processing: 0.4ms\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)       Reconsider SoftReferences: 0.0ms\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)         SoftRef (ms):             skipped\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)       Notify Soft/WeakReferences: 0.3ms\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)         Balance queues: 0.0ms\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)         SoftRef (ms):             Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 3\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)         WeakRef (ms):             Min:  0.1, Avg:  0.1, Max:  0.1, Diff:  0.0, Sum:  0.2, Workers: 3\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)         FinalRef (ms):            Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 3\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)         Total (ms):               Min:  0.1, Avg:  0.1, Max:  0.1, Diff:  0.0, Sum:  0.3, Workers: 3\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)       Notify and keep alive finalizable: 0.0ms\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)         FinalRef (ms):            skipped\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)       Notify PhantomReferences: 0.0ms\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)         PhantomRef (ms):          Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 1\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)       SoftReference:\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)         Discovered: 0\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)         Cleared: 0\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)       WeakReference:\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)         Discovered: 2155\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)         Cleared: 1709\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)       FinalReference:\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)         Discovered: 0\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)         Cleared: 0\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)       PhantomReference:\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)         Discovered: 31\n[2022-08-22T08:07:05.640+0300][debug][gc,phases,ref     ] GC(46489)         Cleared: 0\n[2022-08-22T08:07:05.640+0300][debug][gc,phases         ] GC(46489)     Weak Processing: 0.3ms\n[2022-08-22T08:07:05.640+0300][debug][gc,phases         ] GC(46489)     Merge Per-Thread State: 0.1ms\n[2022-08-22T08:07:05.640+0300][debug][gc,phases         ] GC(46489)     Code Roots Purge: 0.0ms\n[2022-08-22T08:07:05.640+0300][debug][gc,phases         ] GC(46489)     Redirty Cards: 0.1ms\n[2022-08-22T08:07:05.640+0300][trace][gc,phases         ] GC(46489)       Parallel Redirty (ms):    Min:  0.0, Avg:  0.0, Max:  0.0, Diff:  0.0, Sum:  0.0, Workers: 4\n[2022-08-22T08:07:05.640+0300][trace][gc,phases         ] GC(46489)         Redirtied Cards:          Min: 0, Avg: 591.5, Max: 1369, Diff: 1369, Sum: 2366, Workers: 4\n[2022-08-22T08:07:05.640+0300][debug][gc,phases         ] GC(46489)     DerivedPointerTable Update: 0.1ms\n[2022-08-22T08:07:05.640+0300][debug][gc,phases         ] GC(46489)     Free Collection Set: 0.9ms\n[2022-08-22T08:07:05.640+0300][trace][gc,phases         ] GC(46489)       Free Collection Set Serial: 0.5ms\n[2022-08-22T08:07:05.640+0300][trace][gc,phases         ] GC(46489)       Young Free Collection Set (ms): Min:  0.0, Avg:  0.4, Max:  0.6, Diff:  0.5, Sum:  1.1, Workers: 3\n[2022-08-22T08:07:05.640+0300][trace][gc,phases         ] GC(46489)       Non-Young Free Collection Set (ms): skipped\n[2022-08-22T08:07:05.640+0300][debug][gc,phases         ] GC(46489)     Humongous Reclaim: 0.2ms\n[2022-08-22T08:07:05.640+0300][trace][gc,phases         ] GC(46489)       Humongous Reclaimed: 12\n[2022-08-22T08:07:05.640+0300][debug][gc,phases         ] GC(46489)     Start New Collection Set: 0.0ms\n[2022-08-22T08:07:05.640+0300][debug][gc,phases         ] GC(46489)     Resize TLABs: 0.0ms\n[2022-08-22T08:07:05.640+0300][debug][gc,phases         ] GC(46489)     Expand Heap After Collection: 0.0ms\n[2022-08-22T08:07:05.640+0300][info ][gc,phases         ] GC(46489)   Other: 0.6ms\n[2022-08-22T08:07:05.640+0300][info ][gc,heap           ] GC(46489) Eden regions: 1794-&gt;0(1795)\n[2022-08-22T08:07:05.640+0300][info ][gc,heap           ] GC(46489) Survivor regions: 49-&gt;48(231)\n[2022-08-22T08:07:05.640+0300][info ][gc,heap           ] GC(46489) Old regions: 450-&gt;450\n[2022-08-22T08:07:05.640+0300][info ][gc,heap           ] GC(46489) Humongous regions: 16-&gt;4\n[2022-08-22T08:07:05.640+0300][info ][gc,metaspace      ] GC(46489) Metaspace: 1282569K-&gt;1282569K(1900544K)\n[2022-08-22T08:07:05.640+0300][debug][gc,heap           ] GC(46489) Heap after GC invocations=46490 (full 0): garbage-first heap   total 3145728K, used 513119K [0x0000000740000000, 0x0000000800000000)\n[2022-08-22T08:07:05.640+0300][debug][gc,heap           ] GC(46489)   region size 1024K, 48 young (49152K), 48 survivors (49152K)\n[2022-08-22T08:07:05.640+0300][debug][gc,heap           ] GC(46489)  Metaspace       used 1282569K, capacity 1288576K, committed 1302288K, reserved 1900544K\n[2022-08-22T08:07:05.640+0300][debug][gc,heap           ] GC(46489)   class space    used 448455K, capacity 451431K, committed 452032K, reserved 1048576K\n[2022-08-22T08:07:05.640+0300][info ][gc                ] GC(46489) Pause Young (Normal) (G1 Evacuation Pause) 2308M-&gt;501M(3072M) 436.105ms\n[2022-08-22T08:07:05.640+0300][info ][gc,cpu            ] GC(46489) User=1.53s Sys=0.01s Real=0.43s\n</code></pre>\n<p><strong>xlog used:</strong></p>\n<p>-Xlog:gc*=debug,gc+phases=trace:/tmp/gc.log:time,level,tags:filecount=10,filesize=50m</p>\n<p>I've tried various things, e.g. adding memory, playing with settings and trying to find memory leaks. But i've not being able to find the smoking gun. :(</p>\n<p>Anybody got any advice/solution anything?</p>\n"},{"tags":["java","selenium","microsoft-edge"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1649137297,"post_id":71745531,"comment_id":126792869,"body_markdown":"What do you expect by click off screen?","body":"What do you expect by click off screen?"},{"owner":{"account_id":21316508,"reputation":1609,"user_id":15690271,"display_name":"Xudong Peng"},"score":0,"creation_date":1649230183,"post_id":71745531,"comment_id":126820183,"body_markdown":"As the error message showed, such a parameter (`10000`) is already out of range, the your current viewport size is only `1680 * 896`. You can try maximizing the window and adjusting this parameter, but you still can&#39;t get it out of the viewport size.","body":"As the error message showed, such a parameter (<code>10000</code>) is already out of range, the your current viewport size is only <code>1680 * 896</code>. You can try maximizing the window and adjusting this parameter, but you still can&#39;t get it out of the viewport size."}],"answers":[{"tags":[],"owner":{"account_id":17848421,"reputation":658,"user_id":12964643,"display_name":"KingsDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662114574,"creation_date":1662114574,"answer_id":73581241,"question_id":71745531,"body_markdown":"As stated in the comments, you cannot click out of the viewport.\r\n\r\nHowever, you can modify the browser size to take up your entire screen:\r\n```\r\ndriver.manage().window().setSize(new Dimension(1680, 896));\r\n```\r\nThe window can also be maximised by:\r\n```\r\ndriver.manage().window().maximize();\r\n```\r\n\r\nThis expands the space that you can click and is (as far as I&#39;m aware) the best solution due to Selenium&#39;s current capabilities.","title":"Is there a way to click at coordinates off-screen using Selenium?","body":"<p>As stated in the comments, you cannot click out of the viewport.</p>\n<p>However, you can modify the browser size to take up your entire screen:</p>\n<pre><code>driver.manage().window().setSize(new Dimension(1680, 896));\n</code></pre>\n<p>The window can also be maximised by:</p>\n<pre><code>driver.manage().window().maximize();\n</code></pre>\n<p>This expands the space that you can click and is (as far as I'm aware) the best solution due to Selenium's current capabilities.</p>\n"}],"owner":{"account_id":17848421,"reputation":658,"user_id":12964643,"display_name":"KingsDev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73581241,"answer_count":1,"score":0,"last_activity_date":1662114574,"creation_date":1649123590,"question_id":71745531,"body_markdown":"I&#39;m trying to click at coordinates off-screen using Selenium.  Everything I&#39;ve found has said to scroll to the element/coordinates.  **However, I cannot scroll.  The page fits within a single screen.**\r\n\r\nI&#39;ve tried the following, but it gives me an error.\r\n\r\n**Code:**\r\n```\r\nActions a = new Actions(driver);\r\na.moveByOffset(10000, 10000).click().perform();\r\n```\r\n\r\n**Error:**\r\n```\r\nException in thread &quot;Thread-0&quot; org.openqa.selenium.interactions.MoveTargetOutOfBoundsException: move target out of bounds: viewport size: 1680, 896\r\n  (Session info: MicrosoftEdge=100.0.1185.29)\r\nBuild info: version: &#39;4.0.0&#39;, revision: &#39;3a21814679&#39;\r\nSystem info: host: &#39;DESKTOP-28HQ274&#39;, ip: &#39;10.0.0.2&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;16.0.2&#39;\r\nDriver info: org.openqa.selenium.edge.EdgeDriver\r\nCommand: [1732248391f4756fc95c00a6d0f737c0, actions {actions=[org.openqa.selenium.interactions.Sequence@61904d24]}]\r\nCapabilities {acceptInsecureCerts: false, browserName: msedge, browserVersion: 100.0.1185.29, javascriptEnabled: true, ms:edgeOptions: {debuggerAddress: localhost:54306}, msedge: {msedgedriverVersion: 100.0.1185.29 (1feddedadb21..., userDataDir: C:\\Users\\User\\AppData\\Local...}, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: WINDOWS, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:54306/devtoo..., se:cdpVersion: 100.0.1185.29, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\r\nSession ID: 1732248391f4756fc95c00a6d0f737c0\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:184)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:164)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:139)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:559)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.perform(RemoteWebDriver.java:627)\r\n\tat org.openqa.selenium.interactions.Actions$BuiltAction.perform(Actions.java:617)\r\n\tat org.openqa.selenium.interactions.Actions.perform(Actions.java:573)\r\n\tat kingrabb.it.seleniumtest.Main.lambda$new$0(Main.java:40)\r\n\tat java.base/java.lang.Thread.run(Thread.java:831)\r\n```\r\nLine 40 in my Main.java (as mentioned in the error) is:\r\n```\r\na.moveByOffset(10000, 10000).click().perform();\r\n```\r\n\r\nAny help is greatly appreciated","title":"Is there a way to click at coordinates off-screen using Selenium?","body":"<p>I'm trying to click at coordinates off-screen using Selenium.  Everything I've found has said to scroll to the element/coordinates.  <strong>However, I cannot scroll.  The page fits within a single screen.</strong></p>\n<p>I've tried the following, but it gives me an error.</p>\n<p><strong>Code:</strong></p>\n<pre><code>Actions a = new Actions(driver);\na.moveByOffset(10000, 10000).click().perform();\n</code></pre>\n<p><strong>Error:</strong></p>\n<pre><code>Exception in thread &quot;Thread-0&quot; org.openqa.selenium.interactions.MoveTargetOutOfBoundsException: move target out of bounds: viewport size: 1680, 896\n  (Session info: MicrosoftEdge=100.0.1185.29)\nBuild info: version: '4.0.0', revision: '3a21814679'\nSystem info: host: 'DESKTOP-28HQ274', ip: '10.0.0.2', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '16.0.2'\nDriver info: org.openqa.selenium.edge.EdgeDriver\nCommand: [1732248391f4756fc95c00a6d0f737c0, actions {actions=[org.openqa.selenium.interactions.Sequence@61904d24]}]\nCapabilities {acceptInsecureCerts: false, browserName: msedge, browserVersion: 100.0.1185.29, javascriptEnabled: true, ms:edgeOptions: {debuggerAddress: localhost:54306}, msedge: {msedgedriverVersion: 100.0.1185.29 (1feddedadb21..., userDataDir: C:\\Users\\User\\AppData\\Local...}, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: WINDOWS, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:54306/devtoo..., se:cdpVersion: 100.0.1185.29, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\nSession ID: 1732248391f4756fc95c00a6d0f737c0\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:184)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:164)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:139)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:559)\n    at org.openqa.selenium.remote.RemoteWebDriver.perform(RemoteWebDriver.java:627)\n    at org.openqa.selenium.interactions.Actions$BuiltAction.perform(Actions.java:617)\n    at org.openqa.selenium.interactions.Actions.perform(Actions.java:573)\n    at kingrabb.it.seleniumtest.Main.lambda$new$0(Main.java:40)\n    at java.base/java.lang.Thread.run(Thread.java:831)\n</code></pre>\n<p>Line 40 in my Main.java (as mentioned in the error) is:</p>\n<pre><code>a.moveByOffset(10000, 10000).click().perform();\n</code></pre>\n<p>Any help is greatly appreciated</p>\n"},{"tags":["java","reflection","static","final"],"comments":[{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":0,"creation_date":1429801380,"post_id":2685345,"comment_id":47780969,"body_markdown":"`R._1st` couldn&#39;t work? If you&#39;re talking about Android development, I think the `R` class is always there...","body":"<code>R._1st</code> couldn&#39;t work? If you&#39;re talking about Android development, I think the <code>R</code> class is always there..."},{"owner":{"account_id":10018444,"reputation":5867,"user_id":7408927,"accept_rate":75,"display_name":"Sevastyan Savanyuk"},"score":0,"creation_date":1510157337,"post_id":2685345,"comment_id":81317903,"body_markdown":"@Matthieu I thought so too, until this day when I had to do this very same thing, but only with the `BR` class.","body":"@Matthieu I thought so too, until this day when I had to do this very same thing, but only with the <code>BR</code> class."}],"answers":[{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":0,"up_vote_count":89,"is_accepted":false,"score":89,"last_activity_date":1432625248,"creation_date":1271872899,"answer_id":2685372,"question_id":2685345,"body_markdown":"     R.class.getField(&quot;_1st&quot;).get(null);\r\n\r\nException handling is left as an exercise for the reader.\r\n\r\nBasically you get the field like any other via reflection, but when you call the get method you pass in a null since there is no instance to act on.\r\n\r\nThis works for all static fields, regardless of their being final. If the field is not public, you need to call `setAccessible(true)` on it first, and of course the SecurityManager has to allow all of this.","title":"Getting value of public static final field/property of a class in Java via reflection","body":"<pre><code> R.class.getField(\"_1st\").get(null);\n</code></pre>\n\n<p>Exception handling is left as an exercise for the reader.</p>\n\n<p>Basically you get the field like any other via reflection, but when you call the get method you pass in a null since there is no instance to act on.</p>\n\n<p>This works for all static fields, regardless of their being final. If the field is not public, you need to call <code>setAccessible(true)</code> on it first, and of course the SecurityManager has to allow all of this.</p>\n"},{"tags":[],"owner":{"account_id":111602,"reputation":8153,"user_id":294738,"accept_rate":67,"display_name":"M. Jessup"},"down_vote_count":0,"up_vote_count":153,"is_accepted":true,"score":153,"last_activity_date":1271873208,"creation_date":1271873208,"answer_id":2685405,"question_id":2685345,"body_markdown":"First retrieve the field property of the class, then you can retrieve the value. If you know the type you can use one of the get methods with null (for static fields only, in fact with a static field the argument passed to the get method is ignored entirely). Otherwise you can use getType and write an appropriate switch as below:\r\n\r\n    Field f = R.class.getField(&quot;_1st&quot;);\r\n    Class&lt;?&gt; t = f.getType();\r\n    if(t == int.class){\r\n        System.out.println(f.getInt(null));\r\n    }else if(t == double.class){\r\n        System.out.println(f.getDouble(null));\r\n    }...","title":"Getting value of public static final field/property of a class in Java via reflection","body":"<p>First retrieve the field property of the class, then you can retrieve the value. If you know the type you can use one of the get methods with null (for static fields only, in fact with a static field the argument passed to the get method is ignored entirely). Otherwise you can use getType and write an appropriate switch as below:</p>\n\n<pre><code>Field f = R.class.getField(\"_1st\");\nClass&lt;?&gt; t = f.getType();\nif(t == int.class){\n    System.out.println(f.getInt(null));\n}else if(t == double.class){\n    System.out.println(f.getDouble(null));\n}...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102259,"reputation":79,"user_id":274595,"display_name":"Brian"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1291225817,"creation_date":1291225817,"answer_id":4327343,"question_id":2685345,"body_markdown":"I was following the same route (looking through the generated R class) and then I had this awful feeling it was probably a function in the Resources class. I was right. \r\n\r\nFound this:\r\n[Resources::getIdentifier][1]\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/content/res/Resources.html#getIdentifier%28java.lang.String,%20java.lang.String,%20java.lang.String%29 \r\n\r\nThought it might save people some time. Although they say its discouraged in the docs, which is not too surprising. ","title":"Getting value of public static final field/property of a class in Java via reflection","body":"<p>I was following the same route (looking through the generated R class) and then I had this awful feeling it was probably a function in the Resources class. I was right. </p>\n\n<p>Found this:\n<a href=\"http://developer.android.com/reference/android/content/res/Resources.html#getIdentifier%28java.lang.String,%20java.lang.String,%20java.lang.String%29\" rel=\"nofollow\">Resources::getIdentifier</a></p>\n\n<p>Thought it might save people some time. Although they say its discouraged in the docs, which is not too surprising. </p>\n"},{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662113943,"creation_date":1662113943,"answer_id":73581116,"question_id":2685345,"body_markdown":"I was looking for how to get a *private* static field and landed here.\r\n\r\nFor fellow searchers, here is how:\r\n\r\n```java\r\npublic class R {\r\n    private static final int _1st = 0x334455;\r\n}\r\n\r\nclass ReflectionHacking {\r\n    public static main(String[] args) {\r\n        Field field = R.class.getFieldDeclaration(&quot;_1st&quot;);\r\n        field.setAccessible(true);\r\n        int privateHidenInt = (Integer)field.get(null);\r\n    }\r\n}\r\n```","title":"Getting value of public static final field/property of a class in Java via reflection","body":"<p>I was looking for how to get a <em>private</em> static field and landed here.</p>\n<p>For fellow searchers, here is how:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class R {\n    private static final int _1st = 0x334455;\n}\n\nclass ReflectionHacking {\n    public static main(String[] args) {\n        Field field = R.class.getFieldDeclaration(&quot;_1st&quot;);\n        field.setAccessible(true);\n        int privateHidenInt = (Integer)field.get(null);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":43750,"reputation":18014,"user_id":128028,"accept_rate":86,"display_name":"Viet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121219,"favorite_count":0,"down_vote_count":1,"up_vote_count":127,"accepted_answer_id":2685405,"answer_count":4,"score":126,"last_activity_date":1662113943,"creation_date":1271872652,"question_id":2685345,"body_markdown":"Say I have a class:\r\n\r\n    public class R {\r\n        public static final int _1st = 0x334455;\r\n    }\r\n\r\nHow can I get the value of the **&quot;_1st&quot;** via reflection?","title":"Getting value of public static final field/property of a class in Java via reflection","body":"<p>Say I have a class:</p>\n\n<pre><code>public class R {\n    public static final int _1st = 0x334455;\n}\n</code></pre>\n\n<p>How can I get the value of the <strong>\"_1st\"</strong> via reflection?</p>\n"},{"tags":["java","unit-testing","springmockito"],"comments":[{"owner":{"account_id":3249876,"reputation":6323,"user_id":2790036,"accept_rate":67,"display_name":"Pratik Singhal"},"score":0,"creation_date":1524809424,"post_id":49206709,"comment_id":87128883,"body_markdown":"Hi, Did you find a solution to this problem ?","body":"Hi, Did you find a solution to this problem ?"}],"answers":[{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525780241,"creation_date":1525780241,"answer_id":50232910,"question_id":49206709,"body_markdown":"You need to use [PowerMockito][1] to test static methods inside Mockito test, using the following steps:\r\n\r\n&gt;     @PrepareForTest(Static.class) // Static.class contains static methods\r\n\r\n&gt; Call PowerMockito.mockStatic() to mock a static class (use PowerMockito.spy(class) to mock a specific method):\r\n\r\n&gt;     PowerMockito.mockStatic(Static.class);\r\nJust use Mockito.when() to setup your expectation:\r\n\r\n&gt;     Mockito.when(Static.firstStaticMethod(param)).thenReturn(value);\r\n\r\n\r\n[1]:https://github.com/powermock/powermock/wiki/Mockito#mocking-static-method\r\n","title":"How to use the mapper created by Mapstruct as @Mock during testing","body":"<p>You need to use <a href=\"https://github.com/powermock/powermock/wiki/Mockito#mocking-static-method\" rel=\"nofollow noreferrer\">PowerMockito</a> to test static methods inside Mockito test, using the following steps:</p>\n\n<blockquote>\n<pre><code>@PrepareForTest(Static.class) // Static.class contains static methods\n</code></pre>\n  \n  <p>Call PowerMockito.mockStatic() to mock a static class (use PowerMockito.spy(class) to mock a specific method):</p>\n\n<pre><code>PowerMockito.mockStatic(Static.class);\n</code></pre>\n  \n  <p>Just use Mockito.when() to setup your expectation:</p>\n\n<pre><code>Mockito.when(Static.firstStaticMethod(param)).thenReturn(value);\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":117046,"reputation":422,"user_id":306692,"accept_rate":50,"display_name":"Matthias Simon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662113653,"creation_date":1662113653,"answer_id":73581052,"question_id":49206709,"body_markdown":"I solved this by borrowing Spring&#39;s AplicationContext mechanism for (transitive) initialization of Mappers.\r\n\r\nDisclaimer: this might only work if you use mappers with Spring and `componentModel = MappingConstants.ComponentModel.SPRING`\r\n\r\nSay you have a CarMapper which also uses a transitive WheelMapper:\r\n\r\n```Java\r\n@Mapper(componentModel = SPRING, uses = {WheelMapper.class})\r\npublic interface CarMapper {\r\n    CarDto map(Car car);\r\n}\r\n```\r\n\r\nThen in your test code, you create a Spring `@Configuration` which imports the generated Mapstruct mapper implemantations (which also comes in handy in your Spring based tests):\r\n```\r\n@Configuration\r\n@Import({ CarMapperImpl.class, WheelMapperImpl.class })\r\npublic class TestMapperConfiguration {}\r\n```\r\n\r\nAnd then you build a mapper resolver for your tests which uses Spring magic to resolve transitive beans by using the `@Configuration`:\r\n\r\n```\r\npublic class MapperResolver {\r\n\r\n    private static ApplicationContext context = buildContext();\r\n\r\n    private static ApplicationContext buildContext() {\r\n        AnnotationConfigApplicationContext annotationConfigApplicationContext = \r\n           new AnnotationConfigApplicationContext();\r\n        annotationConfigApplicationContext.register(TestMapperConfiguration.class);\r\n        annotationConfigApplicationContext.refresh();\r\n        return annotationConfigApplicationContext;\r\n    }\r\n\r\n    public static &lt;T&gt; T getMapper(Class&lt;T&gt; clazz) {\r\n        return context.getBean(clazz);\r\n    }\r\n}\r\n```\r\n\r\nAnd finally you can use that resolver in your Mockito tests (this example uses Mockito for JUnit5):\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\nclass MyClazzTest {\r\n\r\n        @Spy\r\n        private CarMapper carMapper = MapperResolver.getMapper(CarMapper.class);\r\n\r\n        @InjectMocks\r\n        private MyClazz sut;\r\n\r\n        @Test\r\n        public void someTest() {\r\n            sut.doSomething();\r\n            //...\r\n        }\r\n}\r\n```\r\n\r\n","title":"How to use the mapper created by Mapstruct as @Mock during testing","body":"<p>I solved this by borrowing Spring's AplicationContext mechanism for (transitive) initialization of Mappers.</p>\n<p>Disclaimer: this might only work if you use mappers with Spring and <code>componentModel = MappingConstants.ComponentModel.SPRING</code></p>\n<p>Say you have a CarMapper which also uses a transitive WheelMapper:</p>\n<pre><code>@Mapper(componentModel = SPRING, uses = {WheelMapper.class})\npublic interface CarMapper {\n    CarDto map(Car car);\n}\n</code></pre>\n<p>Then in your test code, you create a Spring <code>@Configuration</code> which imports the generated Mapstruct mapper implemantations (which also comes in handy in your Spring based tests):</p>\n<pre><code>@Configuration\n@Import({ CarMapperImpl.class, WheelMapperImpl.class })\npublic class TestMapperConfiguration {}\n</code></pre>\n<p>And then you build a mapper resolver for your tests which uses Spring magic to resolve transitive beans by using the <code>@Configuration</code>:</p>\n<pre><code>public class MapperResolver {\n\n    private static ApplicationContext context = buildContext();\n\n    private static ApplicationContext buildContext() {\n        AnnotationConfigApplicationContext annotationConfigApplicationContext = \n           new AnnotationConfigApplicationContext();\n        annotationConfigApplicationContext.register(TestMapperConfiguration.class);\n        annotationConfigApplicationContext.refresh();\n        return annotationConfigApplicationContext;\n    }\n\n    public static &lt;T&gt; T getMapper(Class&lt;T&gt; clazz) {\n        return context.getBean(clazz);\n    }\n}\n</code></pre>\n<p>And finally you can use that resolver in your Mockito tests (this example uses Mockito for JUnit5):</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass MyClazzTest {\n\n        @Spy\n        private CarMapper carMapper = MapperResolver.getMapper(CarMapper.class);\n\n        @InjectMocks\n        private MyClazz sut;\n\n        @Test\n        public void someTest() {\n            sut.doSomething();\n            //...\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":11558276,"reputation":69,"user_id":8468769,"accept_rate":80,"display_name":"John Wind"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5481,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1662113653,"creation_date":1520668585,"question_id":49206709,"body_markdown":"**The context**\r\n\r\nI have a simple test method testFindByUserName. I use mockito library. I have @Mock UserMapper which is created by Mapstruct library.\r\n\r\n**The problem**\r\n\r\nMocito doesn&#39;t handle Static method INSTANCE which I use to mapping user to userDto. I have error : error:org.mockito.exceptions.misusing.MissingMethodInvocationException: \r\nwhen() requires an argument which has to be &#39;a method call on a mock&#39;.\r\nFor example:\r\n    when(mock.getArticles()).thenReturn(articles);\r\n\r\nAlso, this error might show up because:\r\n1. you stub either of: final/private/equals()/hashCode() methods.\r\n   Those methods *cannot* be stubbed/verified.\r\n   Mocking methods declared on non-public parent classes is not supported.\r\n2. inside when() you don&#39;t call method on mock but on some other object. \r\n\r\nHow resolve this problem. \r\n\r\n\r\n**The code**\r\n       \r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    @SpringBootTest\r\n    public class UserServiceImplTest {\r\n\r\n    private User user;\r\n\r\n    private String token;\r\n\r\n    private UserDto userDto;\r\n\r\n\r\n    @InjectMocks\r\n    private UserServiceImpl userService;\r\n\r\n    @Mock\r\n    private UserMapper userMapper;\r\n\r\n    @Before\r\n    public void before() {\r\n        user = new User(2L, &quot;User_test&quot;,\r\n                &quot;firstName_test&quot;, &quot;lastName_test&quot;,\r\n                &quot;test@test.pl&quot;, true, &quot;password_test&quot;,\r\n                &quot;address_test&quot;, null,new ArrayList&lt;&gt;(),new ArrayList&lt;&gt;(), new HashSet&lt;&gt;());\r\n        token = &quot;test_token&quot;;\r\n        userDto = new UserDto(2L, &quot;User_test&quot;,\r\n                &quot;firstName_test&quot;, &quot;lastName_test&quot;,\r\n                &quot;test@test.pl&quot;, true, &quot;password_test&quot;,\r\n                &quot;address_test&quot;, null,new ArrayList&lt;&gt;(),new ArrayList&lt;&gt;(), new HashSet&lt;&gt;());\r\n\r\n    }\r\n\r\n    @Test\r\n    public void testFindByUsername() throws Exception {\r\n        //Given\r\n        String username= &quot;User_test&quot;;\r\n\r\n        when(userMapper.INSTANCE.userToUserDto(userRepository.findByUsername(username))).thenReturn(userDto);\r\n        //When\r\n        UserDto result = userService.findByUsername(username);\r\n\r\n        //Then\r\n        assertEquals(&quot;User_test&quot;, result.getUsername());\r\n        assertEquals(&quot;firstName_test&quot;, result.getFirstName());\r\n        assertEquals(&quot;lastName_test&quot;, result.getLastName());\r\n        assertEquals(&quot;test@test.pl&quot;, result.getEmail());\r\n        assertEquals(&quot;password_test&quot;, result.getPassword());\r\n        assertEquals(&quot;address_test&quot;, result.getAddress());\r\n\r\n    }\r\n\r\nmethod which I testing\r\n\r\n    @Override\r\n    public UserDto findByUsername(final String username)  {\r\n        User user = userRepository.findByUsername(username);\r\n        if (user == null) {\r\n            LOGGER.info(&quot;Not found user&quot;);\r\n        }\r\n            return mapper.INSTANCE.userToUserDto(user);\r\n    }","title":"How to use the mapper created by Mapstruct as @Mock during testing","body":"<p><strong>The context</strong></p>\n\n<p>I have a simple test method testFindByUserName. I use mockito library. I have @Mock UserMapper which is created by Mapstruct library.</p>\n\n<p><strong>The problem</strong></p>\n\n<p>Mocito doesn't handle Static method INSTANCE which I use to mapping user to userDto. I have error : error:org.mockito.exceptions.misusing.MissingMethodInvocationException: \nwhen() requires an argument which has to be 'a method call on a mock'.\nFor example:\n    when(mock.getArticles()).thenReturn(articles);</p>\n\n<p>Also, this error might show up because:\n1. you stub either of: final/private/equals()/hashCode() methods.\n   Those methods <em>cannot</em> be stubbed/verified.\n   Mocking methods declared on non-public parent classes is not supported.\n2. inside when() you don't call method on mock but on some other object. </p>\n\n<p>How resolve this problem. </p>\n\n<p><strong>The code</strong></p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\n@SpringBootTest\npublic class UserServiceImplTest {\n\nprivate User user;\n\nprivate String token;\n\nprivate UserDto userDto;\n\n\n@InjectMocks\nprivate UserServiceImpl userService;\n\n@Mock\nprivate UserMapper userMapper;\n\n@Before\npublic void before() {\n    user = new User(2L, \"User_test\",\n            \"firstName_test\", \"lastName_test\",\n            \"test@test.pl\", true, \"password_test\",\n            \"address_test\", null,new ArrayList&lt;&gt;(),new ArrayList&lt;&gt;(), new HashSet&lt;&gt;());\n    token = \"test_token\";\n    userDto = new UserDto(2L, \"User_test\",\n            \"firstName_test\", \"lastName_test\",\n            \"test@test.pl\", true, \"password_test\",\n            \"address_test\", null,new ArrayList&lt;&gt;(),new ArrayList&lt;&gt;(), new HashSet&lt;&gt;());\n\n}\n\n@Test\npublic void testFindByUsername() throws Exception {\n    //Given\n    String username= \"User_test\";\n\n    when(userMapper.INSTANCE.userToUserDto(userRepository.findByUsername(username))).thenReturn(userDto);\n    //When\n    UserDto result = userService.findByUsername(username);\n\n    //Then\n    assertEquals(\"User_test\", result.getUsername());\n    assertEquals(\"firstName_test\", result.getFirstName());\n    assertEquals(\"lastName_test\", result.getLastName());\n    assertEquals(\"test@test.pl\", result.getEmail());\n    assertEquals(\"password_test\", result.getPassword());\n    assertEquals(\"address_test\", result.getAddress());\n\n}\n</code></pre>\n\n<p>method which I testing</p>\n\n<pre><code>@Override\npublic UserDto findByUsername(final String username)  {\n    User user = userRepository.findByUsername(username);\n    if (user == null) {\n        LOGGER.info(\"Not found user\");\n    }\n        return mapper.INSTANCE.userToUserDto(user);\n}\n</code></pre>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1634952561,"post_id":69664628,"comment_id":123172915,"body_markdown":"Have a look [here](https://www.avajava.com/tutorials/lessons/how-do-i-perform-a-deep-clone-using-serializable.html).  Note: site&#39;s SSL certificate expired 8 days ago, but it should still be safe.","body":"Have a look <a href=\"https://www.avajava.com/tutorials/lessons/how-do-i-perform-a-deep-clone-using-serializable.html\" rel=\"nofollow noreferrer\">here</a>.  Note: site&#39;s SSL certificate expired 8 days ago, but it should still be safe."}],"answers":[{"tags":[],"owner":{"account_id":22382525,"reputation":141,"user_id":16595881,"display_name":"ReubenBeeler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662113371,"creation_date":1662113371,"answer_id":73580984,"question_id":69664628,"body_markdown":"If by &quot;deep serialization&quot; you mean that deserialization will result in a deep copy of the object, then deep serialization is inherent in object serialization (and can be achieved by manual serialization).\r\nOtherwise, please clarify what is meant by &quot;deep serialization&quot;.\r\n\r\nGoogle&#39;s `Gson` library is awesome and supports lots of customization to solve issues exactly like yours: simply replace `new Gson()` with `new GsonBuilder().serializeNulls().create()`","title":"Deep object serialization in Java","body":"<p>If by &quot;deep serialization&quot; you mean that deserialization will result in a deep copy of the object, then deep serialization is inherent in object serialization (and can be achieved by manual serialization).\nOtherwise, please clarify what is meant by &quot;deep serialization&quot;.</p>\n<p>Google's <code>Gson</code> library is awesome and supports lots of customization to solve issues exactly like yours: simply replace <code>new Gson()</code> with <code>new GsonBuilder().serializeNulls().create()</code></p>\n"}],"owner":{"account_id":18063370,"reputation":201,"user_id":13129945,"display_name":"LIMPIX64"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662113371,"creation_date":1634829607,"question_id":69664628,"body_markdown":"I have the class\r\n\r\n```java\r\npublic class PlayerData {\r\n\r\n  public boolean hasIsland = false;\r\n  public int genProgress = 0;\r\n  public SimpleLoc islandLocation = null;\r\n\r\n  ...\r\n\r\n}\r\n```\r\n\r\nI want to serialize it to JSON:\r\n\r\n```java\r\npublic class PlayerData {\r\n  ...\r\n\r\n  public String serialize() {\r\n    return new Gson().toJson(this);\r\n  }\r\n\r\n}\r\n```\r\n\r\nThis only serializes the hasIsland and genProgress fields. How can I make islandLocation serialize too?\r\n\r\nI mean deep serialization. I don&#39;t want to manually serialize class fields.\r\n\r\n","title":"Deep object serialization in Java","body":"<p>I have the class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PlayerData {\n\n  public boolean hasIsland = false;\n  public int genProgress = 0;\n  public SimpleLoc islandLocation = null;\n\n  ...\n\n}\n</code></pre>\n<p>I want to serialize it to JSON:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PlayerData {\n  ...\n\n  public String serialize() {\n    return new Gson().toJson(this);\n  }\n\n}\n</code></pre>\n<p>This only serializes the hasIsland and genProgress fields. How can I make islandLocation serialize too?</p>\n<p>I mean deep serialization. I don't want to manually serialize class fields.</p>\n"},{"tags":["java","jpa","persistence","jpql"],"answers":[{"tags":[],"owner":{"account_id":668476,"reputation":18892,"user_id":504956,"accept_rate":69,"display_name":"V G"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1547259623,"creation_date":1385383914,"answer_id":20193618,"question_id":20193581,"body_markdown":"You should have\r\n\r\n    SELECT g FROM Game g//you have game\r\n\r\nbut you have `game` instead of `Game`.\r\n\r\nThe `@Table` annotation is used for DB. \r\n\r\nIf you need to change the name in your `JPQL`, use the `@Entity` annotation:      `@Entity(name=&quot;nameUsedInJPQL&quot;) =&gt; nameUsedInJPQL is used in your JPQL.`\r\n\r\n If you do not specify anything in your `@Entity`, that the case-sensitive Entity class name is used.","title":"Error on compiling query: The abstract schema type &#39;entity&#39; is unknown","body":"<p>You should have</p>\n\n<pre><code>SELECT g FROM Game g//you have game\n</code></pre>\n\n<p>but you have <code>game</code> instead of <code>Game</code>.</p>\n\n<p>The <code>@Table</code> annotation is used for DB. </p>\n\n<p>If you need to change the name in your <code>JPQL</code>, use the <code>@Entity</code> annotation:      <code>@Entity(name=\"nameUsedInJPQL\") =&gt; nameUsedInJPQL is used in your JPQL.</code></p>\n\n<p>If you do not specify anything in your <code>@Entity</code>, that the case-sensitive Entity class name is used.</p>\n"},{"tags":[],"owner":{"account_id":75292,"reputation":60810,"user_id":216021,"accept_rate":82,"display_name":"kostja"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1385499851,"creation_date":1385384292,"answer_id":20193738,"question_id":20193581,"body_markdown":"The name to be used for JPQL queries is defined as the simple name of the entity class - `Game` or `Human` in your case. It can be overridden by the  `name` attribute of the `@Entity` annotation. `@Table` is a physical mapping annotation and does not influence the entity name in the query. \r\n\r\nIt does work with `human` because the query string is not case-sensitive.\r\n\r\n","title":"Error on compiling query: The abstract schema type &#39;entity&#39; is unknown","body":"<p>The name to be used for JPQL queries is defined as the simple name of the entity class - <code>Game</code> or <code>Human</code> in your case. It can be overridden by the  <code>name</code> attribute of the <code>@Entity</code> annotation. <code>@Table</code> is a physical mapping annotation and does not influence the entity name in the query. </p>\n\n<p>It does work with <code>human</code> because the query string is not case-sensitive.</p>\n"},{"tags":[],"owner":{"account_id":1096650,"reputation":752,"user_id":1090112,"accept_rate":83,"display_name":"leomeurer"},"down_vote_count":2,"up_vote_count":27,"is_accepted":false,"score":25,"last_activity_date":1405188383,"creation_date":1405183216,"answer_id":24715078,"question_id":20193581,"body_markdown":"In my case I forgot to register it in persistence.xml.","title":"Error on compiling query: The abstract schema type &#39;entity&#39; is unknown","body":"<p>In my case I forgot to register it in persistence.xml.</p>\n"},{"tags":[],"owner":{"account_id":2082051,"reputation":181,"user_id":1853859,"display_name":"user1853859"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1436186424,"creation_date":1436186424,"answer_id":31246125,"question_id":20193581,"body_markdown":"I just had the very same situation but my JPQL query was correct ! It occured in Glassfish 4.1 (build 13) (with EclipseLink).\r\n\r\nAfter a few googling and some code commenting, I found out that the root cause of &quot;*The abstract schema type &#39;MyEntity&#39; is unknown*&quot; was **some use of Java 8 lambda code inside the entity class**.\r\n\r\nIt seems that any feature of Java 8 is not (yet) supported in the version of EclipseLink that comes with GF. More info, see [the bug report on that.][1]\r\n\r\nHope this helps.\r\n\r\n\r\n  [1]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=429992","title":"Error on compiling query: The abstract schema type &#39;entity&#39; is unknown","body":"<p>I just had the very same situation but my JPQL query was correct ! It occured in Glassfish 4.1 (build 13) (with EclipseLink).</p>\n\n<p>After a few googling and some code commenting, I found out that the root cause of \"<em>The abstract schema type 'MyEntity' is unknown</em>\" was <strong>some use of Java 8 lambda code inside the entity class</strong>.</p>\n\n<p>It seems that any feature of Java 8 is not (yet) supported in the version of EclipseLink that comes with GF. More info, see <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=429992\" rel=\"noreferrer\">the bug report on that.</a></p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":3965207,"reputation":1481,"user_id":3271380,"accept_rate":80,"display_name":"ulrich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467963645,"creation_date":1467963645,"answer_id":38261349,"question_id":20193581,"body_markdown":"We got the problem due to an update of org.eclipse.persistence.eclipselink library from 2.4.0 to 2.5.1. After updating to 2.6.2 it works again.","title":"Error on compiling query: The abstract schema type &#39;entity&#39; is unknown","body":"<p>We got the problem due to an update of org.eclipse.persistence.eclipselink library from 2.4.0 to 2.5.1. After updating to 2.6.2 it works again.</p>\n"},{"tags":[],"owner":{"account_id":9864643,"reputation":51,"user_id":7306510,"display_name":"Manish Kr"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1485499622,"creation_date":1485499622,"answer_id":41888310,"question_id":20193581,"body_markdown":"class name should be there not the table name in your query\r\nSELECT g FROM Game g","title":"Error on compiling query: The abstract schema type &#39;entity&#39; is unknown","body":"<p>class name should be there not the table name in your query\nSELECT g FROM Game g</p>\n"},{"tags":[],"owner":{"account_id":2204705,"reputation":311,"user_id":1948214,"accept_rate":75,"display_name":"keesp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615298104,"creation_date":1615298104,"answer_id":66548243,"question_id":20193581,"body_markdown":"If you are calling the persistence.xml in a bundle, then org.eclipse.persistence.jpa  must be started before your bundle (or bundles). If not, you will get the same exception. You will also see that the tables have not been made in your database. It is therefore a good idea to always add org.eclipse.persistence as an imported package in your manifest.","title":"Error on compiling query: The abstract schema type &#39;entity&#39; is unknown","body":"<p>If you are calling the persistence.xml in a bundle, then org.eclipse.persistence.jpa  must be started before your bundle (or bundles). If not, you will get the same exception. You will also see that the tables have not been made in your database. It is therefore a good idea to always add org.eclipse.persistence as an imported package in your manifest.</p>\n"},{"tags":[],"owner":{"account_id":4820459,"reputation":839,"user_id":3891283,"accept_rate":0,"display_name":"lm2a"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662113200,"creation_date":1662113200,"answer_id":73580944,"question_id":20193581,"body_markdown":"In my case no answer help me. My JPA project was using Java 14 with EclipseLink 3.0.0 as a provider and seems as EclipseLink doesn&#180;t support new Java versions. Switching back to Java 1.7 did the trick.","title":"Error on compiling query: The abstract schema type &#39;entity&#39; is unknown","body":"<p>In my case no answer help me. My JPA project was using Java 14 with EclipseLink 3.0.0 as a provider and seems as EclipseLink doesn´t support new Java versions. Switching back to Java 1.7 did the trick.</p>\n"}],"owner":{"account_id":1635041,"reputation":2264,"user_id":1508770,"accept_rate":56,"display_name":"Mohamed Amine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42998,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":20193618,"answer_count":8,"score":18,"last_activity_date":1662113200,"creation_date":1385383802,"question_id":20193581,"body_markdown":"I&#39;m developing a game with a database connection, and I use JPA to persist my data. Here is my Game entity :\r\n\r\n    @Entity\r\n    @Table(name = &quot;game&quot;)\r\n    public class Game implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\t@Column(name = &quot;game_id&quot;)\r\n\tprivate int id;\r\n\t\r\n\t@Column(name = &quot;name&quot;)\r\n\tprivate String name;\r\n\t\r\n\t@Column(name = &quot;nbTurns&quot;)\r\n\tprivate int nbTurns;\r\n\t\r\n\t@Column(name = &quot;playedOn&quot;)\r\n\t@Temporal(TemporalType.TIMESTAMP)\r\n\tprivate Date playedOn;\r\n\t\r\n\t@ElementCollection(fetch = FetchType.EAGER)\r\n\t@CollectionTable(name = &quot;game_humans&quot;, joinColumns = @JoinColumn(name = &quot;game_id&quot;))\r\n\t@MapKeyColumn(name = &quot;human_id&quot;)\r\n\t@Column(name = &quot;isDead&quot;)\r\n\tprivate Map&lt;Human, Boolean&gt; humans;\r\n\r\nAnd here is my Human entity :\r\n\r\n    @Entity\r\n    @Table(name = &quot;human&quot;)\r\n    public class Human implements Serializable {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate int id;\r\n\t@Column(name = &quot;name&quot;)\r\n\tprivate String name;\r\n\t@OneToOne\r\n\tprivate Building building;\r\n\r\nTo get the list of all the humans stored in the DB, I use this DAO, which is working very well and gets also the Building entity :\r\n\r\n    public class HumanDAO implements DAO&lt;Human&gt; {\r\n    \r\n    // ...\r\n\tpublic List&lt;Human&gt; getAllHumans() {\r\n\t\tTypedQuery&lt;Human&gt; query = em.createQuery(&quot;SELECT h FROM human h ORDER BY h.name&quot;, Human.class);\r\n\t\treturn query.getResultList();\r\n\t}\r\n\r\nThe problem is when I try to do the same to get the list of all the games with the JPQL query `SELECT g FROM game g`, I get this error :\r\n\r\n    [EL Info]: 2013-11-25 13:40:27.761--ServerSession(1943119327)--EclipseLink, version: Eclipse Persistence Services - 2.5.0.v20130507-3faac2b\r\n    [EL Info]: connection: 2013-11-25 13:40:28.151--ServerSession(1943119327)--file:/Users/amine/Documents/workspace/ZombiesServer/target/classes/_ZombiesServer login successful\r\n    [WARNING] \r\n    java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    \tat org.codehaus.mojo.exec.ExecJavaMojo$1.run(ExecJavaMojo.java:297)\r\n    \tat java.lang.Thread.run(Thread.java:724)\r\n    Caused by: java.lang.IllegalArgumentException: An exception occurred while creating a query in EntityManager: \r\n    Exception Description: Problem compiling [SELECT g FROM game g]. \r\n    [14, 18] The abstract schema type &#39;game&#39; is unknown.\r\n    \tat org.eclipse.persistence.internal.jpa.EntityManagerImpl.createQuery(EntityManagerImpl.java:1585)\r\n    \tat org.eclipse.persistence.internal.jpa.EntityManagerImpl.createQuery(EntityManagerImpl.java:1605)\r\n    \tat com.amine.zombies.DAO.GameDAO.getAllGames(GameDAO.java:80)\r\n    \tat com.amine.zombies.application.Application.main(Application.java:21)\r\n    \t... 6 more\r\n","title":"Error on compiling query: The abstract schema type &#39;entity&#39; is unknown","body":"<p>I'm developing a game with a database connection, and I use JPA to persist my data. Here is my Game entity :</p>\n\n<pre><code>@Entity\n@Table(name = \"game\")\npublic class Game implements Serializable {\nprivate static final long serialVersionUID = 1L;\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column(name = \"game_id\")\nprivate int id;\n\n@Column(name = \"name\")\nprivate String name;\n\n@Column(name = \"nbTurns\")\nprivate int nbTurns;\n\n@Column(name = \"playedOn\")\n@Temporal(TemporalType.TIMESTAMP)\nprivate Date playedOn;\n\n@ElementCollection(fetch = FetchType.EAGER)\n@CollectionTable(name = \"game_humans\", joinColumns = @JoinColumn(name = \"game_id\"))\n@MapKeyColumn(name = \"human_id\")\n@Column(name = \"isDead\")\nprivate Map&lt;Human, Boolean&gt; humans;\n</code></pre>\n\n<p>And here is my Human entity :</p>\n\n<pre><code>@Entity\n@Table(name = \"human\")\npublic class Human implements Serializable {\n\nprivate static final long serialVersionUID = 1L;\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate int id;\n@Column(name = \"name\")\nprivate String name;\n@OneToOne\nprivate Building building;\n</code></pre>\n\n<p>To get the list of all the humans stored in the DB, I use this DAO, which is working very well and gets also the Building entity :</p>\n\n<pre><code>public class HumanDAO implements DAO&lt;Human&gt; {\n\n// ...\npublic List&lt;Human&gt; getAllHumans() {\n    TypedQuery&lt;Human&gt; query = em.createQuery(\"SELECT h FROM human h ORDER BY h.name\", Human.class);\n    return query.getResultList();\n}\n</code></pre>\n\n<p>The problem is when I try to do the same to get the list of all the games with the JPQL query <code>SELECT g FROM game g</code>, I get this error :</p>\n\n<pre><code>[EL Info]: 2013-11-25 13:40:27.761--ServerSession(1943119327)--EclipseLink, version: Eclipse Persistence Services - 2.5.0.v20130507-3faac2b\n[EL Info]: connection: 2013-11-25 13:40:28.151--ServerSession(1943119327)--file:/Users/amine/Documents/workspace/ZombiesServer/target/classes/_ZombiesServer login successful\n[WARNING] \njava.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run(ExecJavaMojo.java:297)\n    at java.lang.Thread.run(Thread.java:724)\nCaused by: java.lang.IllegalArgumentException: An exception occurred while creating a query in EntityManager: \nException Description: Problem compiling [SELECT g FROM game g]. \n[14, 18] The abstract schema type 'game' is unknown.\n    at org.eclipse.persistence.internal.jpa.EntityManagerImpl.createQuery(EntityManagerImpl.java:1585)\n    at org.eclipse.persistence.internal.jpa.EntityManagerImpl.createQuery(EntityManagerImpl.java:1605)\n    at com.amine.zombies.DAO.GameDAO.getAllGames(GameDAO.java:80)\n    at com.amine.zombies.application.Application.main(Application.java:21)\n    ... 6 more\n</code></pre>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":22150578,"reputation":31,"user_id":16399190,"display_name":"Layer891203"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662113118,"creation_date":1662113118,"answer_id":73580926,"question_id":73578593,"body_markdown":"Found the answer!\r\n\r\nThe problem isn&#39;t on the serializing of the item but on the unserializing. You can specify the type of the object you&#39;re retrieving like this\r\n\r\n```\r\n val type: Type = object : TypeToken&lt;MutableMap&lt;Int, MutableMap&lt;Int, MutableMap&lt;Int, MutableMap&lt;MutableMap&lt;String, Int&gt;, Int&gt;&gt;&gt;&gt;?&gt;() {}.type     \r\n```\r\nThen Gson changes the type accordingly, so you can use Integer keys on the map or whatever you want if you specify the type as a parameter.\r\n\r\n```\r\nval mapYearMonthsAny: MutableMap&lt;*, *&gt;? = Gson().fromJson(mapYearMonthsString, type)\r\n```","title":"Retrieving values from an unserialized MutableMap in JSON","body":"<p>Found the answer!</p>\n<p>The problem isn't on the serializing of the item but on the unserializing. You can specify the type of the object you're retrieving like this</p>\n<pre><code> val type: Type = object : TypeToken&lt;MutableMap&lt;Int, MutableMap&lt;Int, MutableMap&lt;Int, MutableMap&lt;MutableMap&lt;String, Int&gt;, Int&gt;&gt;&gt;&gt;?&gt;() {}.type     \n</code></pre>\n<p>Then Gson changes the type accordingly, so you can use Integer keys on the map or whatever you want if you specify the type as a parameter.</p>\n<pre><code>val mapYearMonthsAny: MutableMap&lt;*, *&gt;? = Gson().fromJson(mapYearMonthsString, type)\n</code></pre>\n"}],"owner":{"account_id":22150578,"reputation":31,"user_id":16399190,"display_name":"Layer891203"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73580926,"answer_count":1,"score":0,"last_activity_date":1662113118,"creation_date":1662100136,"question_id":73578593,"body_markdown":"I stored a mutableMap as a JSON, and then retrieved it. But when trying to get any of the data every key returns null. I checked on the android developer debugger and I can see that GSON retrieved all the keys as if they were strings. Is it possible to store Maps with Integers as keys in a JSON? Or do I have to store it with Strings as keys instead?\r\n\r\nThis is the declaration of the variable\r\n```\r\nval mapYears: MutableMap&lt;Int, MutableMap&lt;Int, MutableMap&lt;Int, MutableMap&lt;MutableMap&lt;String, Int&gt;, Int&gt;&gt;&gt;&gt;\r\n        = HashMap&lt;Int, MutableMap&lt;Int, MutableMap&lt;Int, MutableMap&lt;MutableMap&lt;String, Int&gt;, Int&gt;&gt;&gt;&gt;()\r\n```\r\nAnd this is one example of the map I&#39;m trying to store, it&#39;s basically a map of Years &gt; Months &gt; Days &gt; Time\r\n\r\n```{\r\n   &quot;2022&quot;:{\r\n      &quot;1&quot;:{\r\n         &quot;1&quot;:{\r\n            \r\n         },\r\n         &quot;2&quot;:{\r\n            \r\n         },\r\n         &quot;3&quot;:{\r\n            \r\n         },\r\n         &quot;4&quot;:{\r\n            \r\n         },\r\n         &quot;5&quot;:{\r\n            \r\n         },\r\n         &quot;6&quot;:{\r\n            \r\n         },\r\n         &quot;7&quot;:{\r\n            \r\n         },\r\n         &quot;8&quot;:{\r\n            \r\n         },\r\n         &quot;9&quot;:{\r\n            \r\n         },\r\n         &quot;10&quot;:{\r\n            \r\n         },\r\n         &quot;11&quot;:{\r\n            \r\n         },\r\n         &quot;12&quot;:{\r\n            \r\n         },\r\n         &quot;13&quot;:{\r\n            \r\n         },\r\n         &quot;14&quot;:{\r\n            \r\n         },\r\n         &quot;15&quot;:{\r\n            \r\n         },\r\n         &quot;16&quot;:{\r\n            \r\n         },\r\n         &quot;17&quot;:{\r\n            \r\n         },\r\n         &quot;18&quot;:{\r\n            \r\n         },\r\n         &quot;19&quot;:{\r\n            \r\n         },\r\n         &quot;20&quot;:{\r\n            \r\n         },\r\n         &quot;21&quot;:{\r\n            \r\n         },\r\n         &quot;22&quot;:{\r\n            \r\n         },\r\n         &quot;23&quot;:{\r\n            \r\n         },\r\n         &quot;24&quot;:{\r\n            \r\n         },\r\n         &quot;25&quot;:{\r\n            \r\n         },\r\n         &quot;26&quot;:{\r\n            \r\n         },\r\n         &quot;27&quot;:{\r\n            \r\n         },\r\n         &quot;28&quot;:{\r\n            \r\n         },\r\n         &quot;29&quot;:{\r\n            \r\n         },\r\n         &quot;30&quot;:{\r\n            \r\n         }\r\n      },\r\n      &quot;2&quot;:{\r\n         &quot;1&quot;:{\r\n            \r\n         },\r\n         &quot;2&quot;:{\r\n            \r\n         },\r\n         &quot;3&quot;:{\r\n            \r\n         },\r\n         &quot;4&quot;:{\r\n            \r\n         },\r\n         &quot;5&quot;:{\r\n            \r\n         },\r\n         &quot;6&quot;:{\r\n            \r\n         },\r\n         &quot;7&quot;:{\r\n            \r\n         },\r\n         &quot;8&quot;:{\r\n            \r\n         },\r\n         &quot;9&quot;:{\r\n            \r\n         },\r\n         &quot;10&quot;:{\r\n            \r\n         },\r\n         &quot;11&quot;:{\r\n            \r\n         },\r\n         &quot;12&quot;:{\r\n            \r\n         },\r\n         &quot;13&quot;:{\r\n            \r\n         },\r\n         &quot;14&quot;:{\r\n            \r\n         },\r\n         &quot;15&quot;:{\r\n            \r\n         },\r\n         &quot;16&quot;:{\r\n            \r\n         },\r\n         &quot;17&quot;:{\r\n            \r\n         },\r\n         &quot;18&quot;:{\r\n            \r\n         },\r\n         &quot;19&quot;:{\r\n            \r\n         },\r\n         &quot;20&quot;:{\r\n            \r\n         },\r\n         &quot;21&quot;:{\r\n            \r\n         },\r\n         &quot;22&quot;:{\r\n            \r\n         },\r\n         &quot;23&quot;:{\r\n            \r\n         },\r\n         &quot;24&quot;:{\r\n            \r\n         },\r\n         &quot;25&quot;:{\r\n            \r\n         },\r\n         &quot;26&quot;:{\r\n            \r\n         },\r\n         &quot;27&quot;:{\r\n            \r\n         },\r\n         &quot;28&quot;:{\r\n            \r\n         },\r\n         &quot;29&quot;:{\r\n            \r\n         },\r\n         &quot;30&quot;:{\r\n            \r\n         }\r\n      },\r\n      &quot;3&quot;:{\r\n         &quot;1&quot;:{\r\n            \r\n         },\r\n         &quot;2&quot;:{\r\n            \r\n         },\r\n         &quot;3&quot;:{\r\n            \r\n         },\r\n         &quot;4&quot;:{\r\n            \r\n         },\r\n         &quot;5&quot;:{\r\n            \r\n         },\r\n         &quot;6&quot;:{\r\n            \r\n         },\r\n         &quot;7&quot;:{\r\n            \r\n         },\r\n         &quot;8&quot;:{\r\n            \r\n         },\r\n         &quot;9&quot;:{\r\n            \r\n         },\r\n         &quot;10&quot;:{\r\n            \r\n         },\r\n         &quot;11&quot;:{\r\n            \r\n         },\r\n         &quot;12&quot;:{\r\n            \r\n         },\r\n         &quot;13&quot;:{\r\n            \r\n         },\r\n         &quot;14&quot;:{\r\n            \r\n         },\r\n         &quot;15&quot;:{\r\n            \r\n         },\r\n         &quot;16&quot;:{\r\n            \r\n         },\r\n         &quot;17&quot;:{\r\n            \r\n         },\r\n         &quot;18&quot;:{\r\n            \r\n         },\r\n         &quot;19&quot;:{\r\n            \r\n         },\r\n         &quot;20&quot;:{\r\n            \r\n         },\r\n         &quot;21&quot;:{\r\n            \r\n         },\r\n         &quot;22&quot;:{\r\n            \r\n         },\r\n         &quot;23&quot;:{\r\n            \r\n         },\r\n         &quot;24&quot;:{\r\n            \r\n         },\r\n         &quot;25&quot;:{\r\n            \r\n         },\r\n         &quot;26&quot;:{\r\n            \r\n         },\r\n         &quot;27&quot;:{\r\n            \r\n         },\r\n         &quot;28&quot;:{\r\n            \r\n         },\r\n         &quot;29&quot;:{\r\n            \r\n         },\r\n         &quot;30&quot;:{\r\n            \r\n         }\r\n      },\r\n      &quot;4&quot;:{\r\n         &quot;1&quot;:{\r\n            \r\n         },\r\n         &quot;2&quot;:{\r\n            \r\n         },\r\n         &quot;3&quot;:{\r\n            \r\n         },\r\n         &quot;4&quot;:{\r\n            \r\n         },\r\n         &quot;5&quot;:{\r\n            \r\n         },\r\n         &quot;6&quot;:{\r\n            \r\n         },\r\n         &quot;7&quot;:{\r\n            \r\n         },\r\n         &quot;8&quot;:{\r\n            \r\n         },\r\n         &quot;9&quot;:{\r\n            \r\n         },\r\n         &quot;10&quot;:{\r\n            \r\n         },\r\n         &quot;11&quot;:{\r\n            \r\n         },\r\n         &quot;12&quot;:{\r\n            \r\n         },\r\n         &quot;13&quot;:{\r\n            \r\n         },\r\n         &quot;14&quot;:{\r\n            \r\n         },\r\n         &quot;15&quot;:{\r\n            \r\n         },\r\n         &quot;16&quot;:{\r\n            \r\n         },\r\n         &quot;17&quot;:{\r\n            \r\n         },\r\n         &quot;18&quot;:{\r\n            \r\n         },\r\n         &quot;19&quot;:{\r\n            \r\n         },\r\n         &quot;20&quot;:{\r\n            \r\n         },\r\n         &quot;21&quot;:{\r\n            \r\n         },\r\n         &quot;22&quot;:{\r\n            \r\n         },\r\n         &quot;23&quot;:{\r\n            \r\n         },\r\n         &quot;24&quot;:{\r\n            \r\n         },\r\n         &quot;25&quot;:{\r\n            \r\n         },\r\n         &quot;26&quot;:{\r\n            \r\n         },\r\n         &quot;27&quot;:{\r\n            \r\n         },\r\n         &quot;28&quot;:{\r\n            \r\n         },\r\n         &quot;29&quot;:{\r\n            \r\n         },\r\n         &quot;30&quot;:{\r\n            \r\n         }\r\n      },\r\n      &quot;5&quot;:{\r\n         &quot;1&quot;:{\r\n            \r\n         },\r\n         &quot;2&quot;:{\r\n            \r\n         },\r\n         &quot;3&quot;:{\r\n            \r\n         },\r\n         &quot;4&quot;:{\r\n            \r\n         },\r\n         &quot;5&quot;:{\r\n            \r\n         },\r\n         &quot;6&quot;:{\r\n            \r\n         },\r\n         &quot;7&quot;:{\r\n            \r\n         },\r\n         &quot;8&quot;:{\r\n            \r\n         },\r\n         &quot;9&quot;:{\r\n            \r\n         },\r\n         &quot;10&quot;:{\r\n            \r\n         },\r\n         &quot;11&quot;:{\r\n            \r\n         },\r\n         &quot;12&quot;:{\r\n            \r\n         },\r\n         &quot;13&quot;:{\r\n            \r\n         },\r\n         &quot;14&quot;:{\r\n            \r\n         },\r\n         &quot;15&quot;:{\r\n            \r\n         },\r\n         &quot;16&quot;:{\r\n            \r\n         },\r\n         &quot;17&quot;:{\r\n            \r\n         },\r\n         &quot;18&quot;:{\r\n            \r\n         },\r\n         &quot;19&quot;:{\r\n            \r\n         },\r\n         &quot;20&quot;:{\r\n            \r\n         },\r\n         &quot;21&quot;:{\r\n            \r\n         },\r\n         &quot;22&quot;:{\r\n            \r\n         },\r\n         &quot;23&quot;:{\r\n            \r\n         },\r\n         &quot;24&quot;:{\r\n            \r\n         },\r\n         &quot;25&quot;:{\r\n            \r\n         },\r\n         &quot;26&quot;:{\r\n            \r\n         },\r\n         &quot;27&quot;:{\r\n            \r\n         },\r\n         &quot;28&quot;:{\r\n            \r\n         },\r\n         &quot;29&quot;:{\r\n            \r\n         },\r\n         &quot;30&quot;:{\r\n            \r\n         }\r\n      },\r\n      &quot;6&quot;:{\r\n         &quot;1&quot;:{\r\n            \r\n         },\r\n         &quot;2&quot;:{\r\n            \r\n         },\r\n         &quot;3&quot;:{\r\n            \r\n         },\r\n         &quot;4&quot;:{\r\n            \r\n         },\r\n         &quot;5&quot;:{\r\n            \r\n         },\r\n         &quot;6&quot;:{\r\n            \r\n         },\r\n         &quot;7&quot;:{\r\n            \r\n         },\r\n         &quot;8&quot;:{\r\n            \r\n         },\r\n         &quot;9&quot;:{\r\n            \r\n         },\r\n         &quot;10&quot;:{\r\n            \r\n         },\r\n         &quot;11&quot;:{\r\n            \r\n         },\r\n         &quot;12&quot;:{\r\n            \r\n         },\r\n         &quot;13&quot;:{\r\n            \r\n         },\r\n         &quot;14&quot;:{\r\n            \r\n         },\r\n         &quot;15&quot;:{\r\n            \r\n         },\r\n         &quot;16&quot;:{\r\n            \r\n         },\r\n         &quot;17&quot;:{\r\n            \r\n         },\r\n         &quot;18&quot;:{\r\n            \r\n         },\r\n         &quot;19&quot;:{\r\n            \r\n         },\r\n         &quot;20&quot;:{\r\n            \r\n         },\r\n         &quot;21&quot;:{\r\n            \r\n         },\r\n         &quot;22&quot;:{\r\n            \r\n         },\r\n         &quot;23&quot;:{\r\n            \r\n         },\r\n         &quot;24&quot;:{\r\n            \r\n         },\r\n         &quot;25&quot;:{\r\n            \r\n         },\r\n         &quot;26&quot;:{\r\n            \r\n         },\r\n         &quot;27&quot;:{\r\n            \r\n         },\r\n         &quot;28&quot;:{\r\n            \r\n         },\r\n         &quot;29&quot;:{\r\n            \r\n         },\r\n         &quot;30&quot;:{\r\n            \r\n         }\r\n      },\r\n      &quot;7&quot;:{\r\n         &quot;1&quot;:{\r\n            \r\n         },\r\n         &quot;2&quot;:{\r\n            \r\n         },\r\n         &quot;3&quot;:{\r\n            \r\n         },\r\n         &quot;4&quot;:{\r\n            \r\n         },\r\n         &quot;5&quot;:{\r\n            \r\n         },\r\n         &quot;6&quot;:{\r\n            \r\n         },\r\n         &quot;7&quot;:{\r\n            \r\n         },\r\n         &quot;8&quot;:{\r\n            \r\n         },\r\n         &quot;9&quot;:{\r\n            \r\n         },\r\n         &quot;10&quot;:{\r\n            \r\n         },\r\n         &quot;11&quot;:{\r\n            \r\n         },\r\n         &quot;12&quot;:{\r\n            \r\n         },\r\n         &quot;13&quot;:{\r\n            \r\n         },\r\n         &quot;14&quot;:{\r\n            \r\n         },\r\n         &quot;15&quot;:{\r\n            \r\n         },\r\n         &quot;16&quot;:{\r\n            \r\n         },\r\n         &quot;17&quot;:{\r\n            \r\n         },\r\n         &quot;18&quot;:{\r\n            \r\n         },\r\n         &quot;19&quot;:{\r\n            \r\n         },\r\n         &quot;20&quot;:{\r\n            \r\n         },\r\n         &quot;21&quot;:{\r\n            \r\n         },\r\n         &quot;22&quot;:{\r\n            \r\n         },\r\n         &quot;23&quot;:{\r\n            \r\n         },\r\n         &quot;24&quot;:{\r\n            \r\n         },\r\n         &quot;25&quot;:{\r\n            \r\n         },\r\n         &quot;26&quot;:{\r\n            \r\n         },\r\n         &quot;27&quot;:{\r\n            \r\n         },\r\n         &quot;28&quot;:{\r\n            \r\n         },\r\n         &quot;29&quot;:{\r\n            \r\n         },\r\n         &quot;30&quot;:{\r\n            \r\n         }\r\n      },\r\n      &quot;8&quot;:{\r\n         &quot;1&quot;:{\r\n            \r\n         },\r\n         &quot;2&quot;:{\r\n            \r\n         },\r\n         &quot;3&quot;:{\r\n            \r\n         },\r\n         &quot;4&quot;:{\r\n            \r\n         },\r\n         &quot;5&quot;:{\r\n            \r\n         },\r\n         &quot;6&quot;:{\r\n            \r\n         },\r\n         &quot;7&quot;:{\r\n            \r\n         },\r\n         &quot;8&quot;:{\r\n            \r\n         },\r\n         &quot;9&quot;:{\r\n            \r\n         },\r\n         &quot;10&quot;:{\r\n            \r\n         },\r\n         &quot;11&quot;:{\r\n            \r\n         },\r\n         &quot;12&quot;:{\r\n            \r\n         },\r\n         &quot;13&quot;:{\r\n            \r\n         },\r\n         &quot;14&quot;:{\r\n            \r\n         },\r\n         &quot;15&quot;:{\r\n            \r\n         },\r\n         &quot;16&quot;:{\r\n            \r\n         },\r\n         &quot;17&quot;:{\r\n            \r\n         },\r\n         &quot;18&quot;:{\r\n            \r\n         },\r\n         &quot;19&quot;:{\r\n            \r\n         },\r\n         &quot;20&quot;:{\r\n            \r\n         },\r\n         &quot;21&quot;:{\r\n            \r\n         },\r\n         &quot;22&quot;:{\r\n            \r\n         },\r\n         &quot;23&quot;:{\r\n            \r\n         },\r\n         &quot;24&quot;:{\r\n            \r\n         },\r\n         &quot;25&quot;:{\r\n            \r\n         },\r\n         &quot;26&quot;:{\r\n            \r\n         },\r\n         &quot;27&quot;:{\r\n            \r\n         },\r\n         &quot;28&quot;:{\r\n            \r\n         },\r\n         &quot;29&quot;:{\r\n            \r\n         },\r\n         &quot;30&quot;:{\r\n            \r\n         }\r\n      },\r\n      &quot;9&quot;:{\r\n         &quot;1&quot;:{\r\n            \r\n         },\r\n         &quot;2&quot;:{\r\n            \r\n         },\r\n         &quot;3&quot;:{\r\n            \r\n         },\r\n         &quot;4&quot;:{\r\n            \r\n         },\r\n         &quot;5&quot;:{\r\n            \r\n         },\r\n         &quot;6&quot;:{\r\n            \r\n         },\r\n         &quot;7&quot;:{\r\n            \r\n         },\r\n         &quot;8&quot;:{\r\n            \r\n         },\r\n         &quot;9&quot;:{\r\n            \r\n         },\r\n         &quot;10&quot;:{\r\n            \r\n         },\r\n         &quot;11&quot;:{\r\n            \r\n         },\r\n         &quot;12&quot;:{\r\n            \r\n         },\r\n         &quot;13&quot;:{\r\n            \r\n         },\r\n         &quot;14&quot;:{\r\n            \r\n         },\r\n         &quot;15&quot;:{\r\n            \r\n         },\r\n         &quot;16&quot;:{\r\n            \r\n         },\r\n         &quot;17&quot;:{\r\n            \r\n         },\r\n         &quot;18&quot;:{\r\n            \r\n         },\r\n         &quot;19&quot;:{\r\n            \r\n         },\r\n         &quot;20&quot;:{\r\n            \r\n         },\r\n         &quot;21&quot;:{\r\n            \r\n         },\r\n         &quot;22&quot;:{\r\n            \r\n         },\r\n         &quot;23&quot;:{\r\n            \r\n         },\r\n         &quot;24&quot;:{\r\n            \r\n         },\r\n         &quot;25&quot;:{\r\n            \r\n         },\r\n         &quot;26&quot;:{\r\n            \r\n         },\r\n         &quot;27&quot;:{\r\n            \r\n         },\r\n         &quot;28&quot;:{\r\n            \r\n         },\r\n         &quot;29&quot;:{\r\n            \r\n         },\r\n         &quot;30&quot;:{\r\n            \r\n         }\r\n      },\r\n      &quot;10&quot;:{\r\n         &quot;1&quot;:{\r\n            \r\n         },\r\n         &quot;2&quot;:{\r\n            \r\n         },\r\n         &quot;3&quot;:{\r\n            \r\n         },\r\n         &quot;4&quot;:{\r\n            \r\n         },\r\n         &quot;5&quot;:{\r\n            \r\n         },\r\n         &quot;6&quot;:{\r\n            \r\n         },\r\n         &quot;7&quot;:{\r\n            \r\n         },\r\n         &quot;8&quot;:{\r\n            \r\n         },\r\n         &quot;9&quot;:{\r\n            \r\n         },\r\n         &quot;10&quot;:{\r\n            \r\n         },\r\n         &quot;11&quot;:{\r\n            \r\n         },\r\n         &quot;12&quot;:{\r\n            \r\n         },\r\n         &quot;13&quot;:{\r\n            \r\n         },\r\n         &quot;14&quot;:{\r\n            \r\n         },\r\n         &quot;15&quot;:{\r\n            \r\n         },\r\n         &quot;16&quot;:{\r\n            \r\n         },\r\n         &quot;17&quot;:{\r\n            \r\n         },\r\n         &quot;18&quot;:{\r\n            \r\n         },\r\n         &quot;19&quot;:{\r\n            \r\n         },\r\n         &quot;20&quot;:{\r\n            \r\n         },\r\n         &quot;21&quot;:{\r\n            \r\n         },\r\n         &quot;22&quot;:{\r\n            \r\n         },\r\n         &quot;23&quot;:{\r\n            \r\n         },\r\n         &quot;24&quot;:{\r\n            \r\n         },\r\n         &quot;25&quot;:{\r\n            \r\n         },\r\n         &quot;26&quot;:{\r\n            \r\n         },\r\n         &quot;27&quot;:{\r\n            \r\n         },\r\n         &quot;28&quot;:{\r\n            \r\n         },\r\n         &quot;29&quot;:{\r\n            \r\n         },\r\n         &quot;30&quot;:{\r\n            \r\n         }\r\n      },\r\n      &quot;11&quot;:{\r\n         &quot;1&quot;:{\r\n            \r\n         },\r\n         &quot;2&quot;:{\r\n            \r\n         },\r\n         &quot;3&quot;:{\r\n            \r\n         },\r\n         &quot;4&quot;:{\r\n            \r\n         },\r\n         &quot;5&quot;:{\r\n            \r\n         },\r\n         &quot;6&quot;:{\r\n            \r\n         },\r\n         &quot;7&quot;:{\r\n            \r\n         },\r\n         &quot;8&quot;:{\r\n            \r\n         },\r\n         &quot;9&quot;:{\r\n            \r\n         },\r\n         &quot;10&quot;:{\r\n            \r\n         },\r\n         &quot;11&quot;:{\r\n            \r\n         },\r\n         &quot;12&quot;:{\r\n            \r\n         },\r\n         &quot;13&quot;:{\r\n            \r\n         },\r\n         &quot;14&quot;:{\r\n            \r\n         },\r\n         &quot;15&quot;:{\r\n            \r\n         },\r\n         &quot;16&quot;:{\r\n            \r\n         },\r\n         &quot;17&quot;:{\r\n            \r\n         },\r\n         &quot;18&quot;:{\r\n            \r\n         },\r\n         &quot;19&quot;:{\r\n            \r\n         },\r\n         &quot;20&quot;:{\r\n            \r\n         },\r\n         &quot;21&quot;:{\r\n            \r\n         },\r\n         &quot;22&quot;:{\r\n            \r\n         },\r\n         &quot;23&quot;:{\r\n            \r\n         },\r\n         &quot;24&quot;:{\r\n            \r\n         },\r\n         &quot;25&quot;:{\r\n            \r\n         },\r\n         &quot;26&quot;:{\r\n            \r\n         },\r\n         &quot;27&quot;:{\r\n            \r\n         },\r\n         &quot;28&quot;:{\r\n            \r\n         },\r\n         &quot;29&quot;:{\r\n            \r\n         },\r\n         &quot;30&quot;:{\r\n            \r\n         }\r\n      },\r\n      &quot;12&quot;:{\r\n         &quot;1&quot;:{\r\n            \r\n         },\r\n         &quot;2&quot;:{\r\n            \r\n         },\r\n         &quot;3&quot;:{\r\n            \r\n         },\r\n         &quot;4&quot;:{\r\n            \r\n         },\r\n         &quot;5&quot;:{\r\n            \r\n         },\r\n         &quot;6&quot;:{\r\n            \r\n         },\r\n         &quot;7&quot;:{\r\n            \r\n         },\r\n         &quot;8&quot;:{\r\n            \r\n         },\r\n         &quot;9&quot;:{\r\n            \r\n         },\r\n         &quot;10&quot;:{\r\n            \r\n         },\r\n         &quot;11&quot;:{\r\n            \r\n         },\r\n         &quot;12&quot;:{\r\n            \r\n         },\r\n         &quot;13&quot;:{\r\n            \r\n         },\r\n         &quot;14&quot;:{\r\n            \r\n         },\r\n         &quot;15&quot;:{\r\n            \r\n         },\r\n         &quot;16&quot;:{\r\n            \r\n         },\r\n         &quot;17&quot;:{\r\n            \r\n         },\r\n         &quot;18&quot;:{\r\n            \r\n         },\r\n         &quot;19&quot;:{\r\n            \r\n         },\r\n         &quot;20&quot;:{\r\n            \r\n         },\r\n         &quot;21&quot;:{\r\n            \r\n         },\r\n         &quot;22&quot;:{\r\n            \r\n         },\r\n         &quot;23&quot;:{\r\n            \r\n         },\r\n         &quot;24&quot;:{\r\n            \r\n         },\r\n         &quot;25&quot;:{\r\n            \r\n         },\r\n         &quot;26&quot;:{\r\n            \r\n         },\r\n         &quot;27&quot;:{\r\n            \r\n         },\r\n         &quot;28&quot;:{\r\n            \r\n         },\r\n         &quot;29&quot;:{\r\n            \r\n         },\r\n         &quot;30&quot;:{\r\n            \r\n         }\r\n      }\r\n   }\r\n}\r\n```\r\n\r\nThis is how I store the map:\r\n```\r\n val stepsRecord: String = Gson().toJson(mapYears)\r\n        val editor = sharedPreferences.edit();\r\n        editor.putString(&quot;stepsRecord&quot;, stepsRecord);\r\n        editor.commit();\r\n```\r\nAnd this is how I retrieve the map:\r\n```\r\n   val mapYearMonthsAny: MutableMap&lt;*, *&gt;? = Gson().fromJson(mapYearMonthsString, MutableMap::class.java)\r\n   return mapYearMonthsAny as MutableMap&lt;Int, MutableMap&lt;Int, MutableMap&lt;Int, MutableMap&lt;MutableMap&lt;String, Int&gt;, Int&gt;&gt;&gt;&gt;\r\n```\r\nAny idea what I&#39;m doing wrong? Should I use another unserializing method? Thanks in advance for all the answers!","title":"Retrieving values from an unserialized MutableMap in JSON","body":"<p>I stored a mutableMap as a JSON, and then retrieved it. But when trying to get any of the data every key returns null. I checked on the android developer debugger and I can see that GSON retrieved all the keys as if they were strings. Is it possible to store Maps with Integers as keys in a JSON? Or do I have to store it with Strings as keys instead?</p>\n<p>This is the declaration of the variable</p>\n<pre><code>val mapYears: MutableMap&lt;Int, MutableMap&lt;Int, MutableMap&lt;Int, MutableMap&lt;MutableMap&lt;String, Int&gt;, Int&gt;&gt;&gt;&gt;\n        = HashMap&lt;Int, MutableMap&lt;Int, MutableMap&lt;Int, MutableMap&lt;MutableMap&lt;String, Int&gt;, Int&gt;&gt;&gt;&gt;()\n</code></pre>\n<p>And this is one example of the map I'm trying to store, it's basically a map of Years &gt; Months &gt; Days &gt; Time</p>\n<pre><code>   &quot;2022&quot;:{\n      &quot;1&quot;:{\n         &quot;1&quot;:{\n            \n         },\n         &quot;2&quot;:{\n            \n         },\n         &quot;3&quot;:{\n            \n         },\n         &quot;4&quot;:{\n            \n         },\n         &quot;5&quot;:{\n            \n         },\n         &quot;6&quot;:{\n            \n         },\n         &quot;7&quot;:{\n            \n         },\n         &quot;8&quot;:{\n            \n         },\n         &quot;9&quot;:{\n            \n         },\n         &quot;10&quot;:{\n            \n         },\n         &quot;11&quot;:{\n            \n         },\n         &quot;12&quot;:{\n            \n         },\n         &quot;13&quot;:{\n            \n         },\n         &quot;14&quot;:{\n            \n         },\n         &quot;15&quot;:{\n            \n         },\n         &quot;16&quot;:{\n            \n         },\n         &quot;17&quot;:{\n            \n         },\n         &quot;18&quot;:{\n            \n         },\n         &quot;19&quot;:{\n            \n         },\n         &quot;20&quot;:{\n            \n         },\n         &quot;21&quot;:{\n            \n         },\n         &quot;22&quot;:{\n            \n         },\n         &quot;23&quot;:{\n            \n         },\n         &quot;24&quot;:{\n            \n         },\n         &quot;25&quot;:{\n            \n         },\n         &quot;26&quot;:{\n            \n         },\n         &quot;27&quot;:{\n            \n         },\n         &quot;28&quot;:{\n            \n         },\n         &quot;29&quot;:{\n            \n         },\n         &quot;30&quot;:{\n            \n         }\n      },\n      &quot;2&quot;:{\n         &quot;1&quot;:{\n            \n         },\n         &quot;2&quot;:{\n            \n         },\n         &quot;3&quot;:{\n            \n         },\n         &quot;4&quot;:{\n            \n         },\n         &quot;5&quot;:{\n            \n         },\n         &quot;6&quot;:{\n            \n         },\n         &quot;7&quot;:{\n            \n         },\n         &quot;8&quot;:{\n            \n         },\n         &quot;9&quot;:{\n            \n         },\n         &quot;10&quot;:{\n            \n         },\n         &quot;11&quot;:{\n            \n         },\n         &quot;12&quot;:{\n            \n         },\n         &quot;13&quot;:{\n            \n         },\n         &quot;14&quot;:{\n            \n         },\n         &quot;15&quot;:{\n            \n         },\n         &quot;16&quot;:{\n            \n         },\n         &quot;17&quot;:{\n            \n         },\n         &quot;18&quot;:{\n            \n         },\n         &quot;19&quot;:{\n            \n         },\n         &quot;20&quot;:{\n            \n         },\n         &quot;21&quot;:{\n            \n         },\n         &quot;22&quot;:{\n            \n         },\n         &quot;23&quot;:{\n            \n         },\n         &quot;24&quot;:{\n            \n         },\n         &quot;25&quot;:{\n            \n         },\n         &quot;26&quot;:{\n            \n         },\n         &quot;27&quot;:{\n            \n         },\n         &quot;28&quot;:{\n            \n         },\n         &quot;29&quot;:{\n            \n         },\n         &quot;30&quot;:{\n            \n         }\n      },\n      &quot;3&quot;:{\n         &quot;1&quot;:{\n            \n         },\n         &quot;2&quot;:{\n            \n         },\n         &quot;3&quot;:{\n            \n         },\n         &quot;4&quot;:{\n            \n         },\n         &quot;5&quot;:{\n            \n         },\n         &quot;6&quot;:{\n            \n         },\n         &quot;7&quot;:{\n            \n         },\n         &quot;8&quot;:{\n            \n         },\n         &quot;9&quot;:{\n            \n         },\n         &quot;10&quot;:{\n            \n         },\n         &quot;11&quot;:{\n            \n         },\n         &quot;12&quot;:{\n            \n         },\n         &quot;13&quot;:{\n            \n         },\n         &quot;14&quot;:{\n            \n         },\n         &quot;15&quot;:{\n            \n         },\n         &quot;16&quot;:{\n            \n         },\n         &quot;17&quot;:{\n            \n         },\n         &quot;18&quot;:{\n            \n         },\n         &quot;19&quot;:{\n            \n         },\n         &quot;20&quot;:{\n            \n         },\n         &quot;21&quot;:{\n            \n         },\n         &quot;22&quot;:{\n            \n         },\n         &quot;23&quot;:{\n            \n         },\n         &quot;24&quot;:{\n            \n         },\n         &quot;25&quot;:{\n            \n         },\n         &quot;26&quot;:{\n            \n         },\n         &quot;27&quot;:{\n            \n         },\n         &quot;28&quot;:{\n            \n         },\n         &quot;29&quot;:{\n            \n         },\n         &quot;30&quot;:{\n            \n         }\n      },\n      &quot;4&quot;:{\n         &quot;1&quot;:{\n            \n         },\n         &quot;2&quot;:{\n            \n         },\n         &quot;3&quot;:{\n            \n         },\n         &quot;4&quot;:{\n            \n         },\n         &quot;5&quot;:{\n            \n         },\n         &quot;6&quot;:{\n            \n         },\n         &quot;7&quot;:{\n            \n         },\n         &quot;8&quot;:{\n            \n         },\n         &quot;9&quot;:{\n            \n         },\n         &quot;10&quot;:{\n            \n         },\n         &quot;11&quot;:{\n            \n         },\n         &quot;12&quot;:{\n            \n         },\n         &quot;13&quot;:{\n            \n         },\n         &quot;14&quot;:{\n            \n         },\n         &quot;15&quot;:{\n            \n         },\n         &quot;16&quot;:{\n            \n         },\n         &quot;17&quot;:{\n            \n         },\n         &quot;18&quot;:{\n            \n         },\n         &quot;19&quot;:{\n            \n         },\n         &quot;20&quot;:{\n            \n         },\n         &quot;21&quot;:{\n            \n         },\n         &quot;22&quot;:{\n            \n         },\n         &quot;23&quot;:{\n            \n         },\n         &quot;24&quot;:{\n            \n         },\n         &quot;25&quot;:{\n            \n         },\n         &quot;26&quot;:{\n            \n         },\n         &quot;27&quot;:{\n            \n         },\n         &quot;28&quot;:{\n            \n         },\n         &quot;29&quot;:{\n            \n         },\n         &quot;30&quot;:{\n            \n         }\n      },\n      &quot;5&quot;:{\n         &quot;1&quot;:{\n            \n         },\n         &quot;2&quot;:{\n            \n         },\n         &quot;3&quot;:{\n            \n         },\n         &quot;4&quot;:{\n            \n         },\n         &quot;5&quot;:{\n            \n         },\n         &quot;6&quot;:{\n            \n         },\n         &quot;7&quot;:{\n            \n         },\n         &quot;8&quot;:{\n            \n         },\n         &quot;9&quot;:{\n            \n         },\n         &quot;10&quot;:{\n            \n         },\n         &quot;11&quot;:{\n            \n         },\n         &quot;12&quot;:{\n            \n         },\n         &quot;13&quot;:{\n            \n         },\n         &quot;14&quot;:{\n            \n         },\n         &quot;15&quot;:{\n            \n         },\n         &quot;16&quot;:{\n            \n         },\n         &quot;17&quot;:{\n            \n         },\n         &quot;18&quot;:{\n            \n         },\n         &quot;19&quot;:{\n            \n         },\n         &quot;20&quot;:{\n            \n         },\n         &quot;21&quot;:{\n            \n         },\n         &quot;22&quot;:{\n            \n         },\n         &quot;23&quot;:{\n            \n         },\n         &quot;24&quot;:{\n            \n         },\n         &quot;25&quot;:{\n            \n         },\n         &quot;26&quot;:{\n            \n         },\n         &quot;27&quot;:{\n            \n         },\n         &quot;28&quot;:{\n            \n         },\n         &quot;29&quot;:{\n            \n         },\n         &quot;30&quot;:{\n            \n         }\n      },\n      &quot;6&quot;:{\n         &quot;1&quot;:{\n            \n         },\n         &quot;2&quot;:{\n            \n         },\n         &quot;3&quot;:{\n            \n         },\n         &quot;4&quot;:{\n            \n         },\n         &quot;5&quot;:{\n            \n         },\n         &quot;6&quot;:{\n            \n         },\n         &quot;7&quot;:{\n            \n         },\n         &quot;8&quot;:{\n            \n         },\n         &quot;9&quot;:{\n            \n         },\n         &quot;10&quot;:{\n            \n         },\n         &quot;11&quot;:{\n            \n         },\n         &quot;12&quot;:{\n            \n         },\n         &quot;13&quot;:{\n            \n         },\n         &quot;14&quot;:{\n            \n         },\n         &quot;15&quot;:{\n            \n         },\n         &quot;16&quot;:{\n            \n         },\n         &quot;17&quot;:{\n            \n         },\n         &quot;18&quot;:{\n            \n         },\n         &quot;19&quot;:{\n            \n         },\n         &quot;20&quot;:{\n            \n         },\n         &quot;21&quot;:{\n            \n         },\n         &quot;22&quot;:{\n            \n         },\n         &quot;23&quot;:{\n            \n         },\n         &quot;24&quot;:{\n            \n         },\n         &quot;25&quot;:{\n            \n         },\n         &quot;26&quot;:{\n            \n         },\n         &quot;27&quot;:{\n            \n         },\n         &quot;28&quot;:{\n            \n         },\n         &quot;29&quot;:{\n            \n         },\n         &quot;30&quot;:{\n            \n         }\n      },\n      &quot;7&quot;:{\n         &quot;1&quot;:{\n            \n         },\n         &quot;2&quot;:{\n            \n         },\n         &quot;3&quot;:{\n            \n         },\n         &quot;4&quot;:{\n            \n         },\n         &quot;5&quot;:{\n            \n         },\n         &quot;6&quot;:{\n            \n         },\n         &quot;7&quot;:{\n            \n         },\n         &quot;8&quot;:{\n            \n         },\n         &quot;9&quot;:{\n            \n         },\n         &quot;10&quot;:{\n            \n         },\n         &quot;11&quot;:{\n            \n         },\n         &quot;12&quot;:{\n            \n         },\n         &quot;13&quot;:{\n            \n         },\n         &quot;14&quot;:{\n            \n         },\n         &quot;15&quot;:{\n            \n         },\n         &quot;16&quot;:{\n            \n         },\n         &quot;17&quot;:{\n            \n         },\n         &quot;18&quot;:{\n            \n         },\n         &quot;19&quot;:{\n            \n         },\n         &quot;20&quot;:{\n            \n         },\n         &quot;21&quot;:{\n            \n         },\n         &quot;22&quot;:{\n            \n         },\n         &quot;23&quot;:{\n            \n         },\n         &quot;24&quot;:{\n            \n         },\n         &quot;25&quot;:{\n            \n         },\n         &quot;26&quot;:{\n            \n         },\n         &quot;27&quot;:{\n            \n         },\n         &quot;28&quot;:{\n            \n         },\n         &quot;29&quot;:{\n            \n         },\n         &quot;30&quot;:{\n            \n         }\n      },\n      &quot;8&quot;:{\n         &quot;1&quot;:{\n            \n         },\n         &quot;2&quot;:{\n            \n         },\n         &quot;3&quot;:{\n            \n         },\n         &quot;4&quot;:{\n            \n         },\n         &quot;5&quot;:{\n            \n         },\n         &quot;6&quot;:{\n            \n         },\n         &quot;7&quot;:{\n            \n         },\n         &quot;8&quot;:{\n            \n         },\n         &quot;9&quot;:{\n            \n         },\n         &quot;10&quot;:{\n            \n         },\n         &quot;11&quot;:{\n            \n         },\n         &quot;12&quot;:{\n            \n         },\n         &quot;13&quot;:{\n            \n         },\n         &quot;14&quot;:{\n            \n         },\n         &quot;15&quot;:{\n            \n         },\n         &quot;16&quot;:{\n            \n         },\n         &quot;17&quot;:{\n            \n         },\n         &quot;18&quot;:{\n            \n         },\n         &quot;19&quot;:{\n            \n         },\n         &quot;20&quot;:{\n            \n         },\n         &quot;21&quot;:{\n            \n         },\n         &quot;22&quot;:{\n            \n         },\n         &quot;23&quot;:{\n            \n         },\n         &quot;24&quot;:{\n            \n         },\n         &quot;25&quot;:{\n            \n         },\n         &quot;26&quot;:{\n            \n         },\n         &quot;27&quot;:{\n            \n         },\n         &quot;28&quot;:{\n            \n         },\n         &quot;29&quot;:{\n            \n         },\n         &quot;30&quot;:{\n            \n         }\n      },\n      &quot;9&quot;:{\n         &quot;1&quot;:{\n            \n         },\n         &quot;2&quot;:{\n            \n         },\n         &quot;3&quot;:{\n            \n         },\n         &quot;4&quot;:{\n            \n         },\n         &quot;5&quot;:{\n            \n         },\n         &quot;6&quot;:{\n            \n         },\n         &quot;7&quot;:{\n            \n         },\n         &quot;8&quot;:{\n            \n         },\n         &quot;9&quot;:{\n            \n         },\n         &quot;10&quot;:{\n            \n         },\n         &quot;11&quot;:{\n            \n         },\n         &quot;12&quot;:{\n            \n         },\n         &quot;13&quot;:{\n            \n         },\n         &quot;14&quot;:{\n            \n         },\n         &quot;15&quot;:{\n            \n         },\n         &quot;16&quot;:{\n            \n         },\n         &quot;17&quot;:{\n            \n         },\n         &quot;18&quot;:{\n            \n         },\n         &quot;19&quot;:{\n            \n         },\n         &quot;20&quot;:{\n            \n         },\n         &quot;21&quot;:{\n            \n         },\n         &quot;22&quot;:{\n            \n         },\n         &quot;23&quot;:{\n            \n         },\n         &quot;24&quot;:{\n            \n         },\n         &quot;25&quot;:{\n            \n         },\n         &quot;26&quot;:{\n            \n         },\n         &quot;27&quot;:{\n            \n         },\n         &quot;28&quot;:{\n            \n         },\n         &quot;29&quot;:{\n            \n         },\n         &quot;30&quot;:{\n            \n         }\n      },\n      &quot;10&quot;:{\n         &quot;1&quot;:{\n            \n         },\n         &quot;2&quot;:{\n            \n         },\n         &quot;3&quot;:{\n            \n         },\n         &quot;4&quot;:{\n            \n         },\n         &quot;5&quot;:{\n            \n         },\n         &quot;6&quot;:{\n            \n         },\n         &quot;7&quot;:{\n            \n         },\n         &quot;8&quot;:{\n            \n         },\n         &quot;9&quot;:{\n            \n         },\n         &quot;10&quot;:{\n            \n         },\n         &quot;11&quot;:{\n            \n         },\n         &quot;12&quot;:{\n            \n         },\n         &quot;13&quot;:{\n            \n         },\n         &quot;14&quot;:{\n            \n         },\n         &quot;15&quot;:{\n            \n         },\n         &quot;16&quot;:{\n            \n         },\n         &quot;17&quot;:{\n            \n         },\n         &quot;18&quot;:{\n            \n         },\n         &quot;19&quot;:{\n            \n         },\n         &quot;20&quot;:{\n            \n         },\n         &quot;21&quot;:{\n            \n         },\n         &quot;22&quot;:{\n            \n         },\n         &quot;23&quot;:{\n            \n         },\n         &quot;24&quot;:{\n            \n         },\n         &quot;25&quot;:{\n            \n         },\n         &quot;26&quot;:{\n            \n         },\n         &quot;27&quot;:{\n            \n         },\n         &quot;28&quot;:{\n            \n         },\n         &quot;29&quot;:{\n            \n         },\n         &quot;30&quot;:{\n            \n         }\n      },\n      &quot;11&quot;:{\n         &quot;1&quot;:{\n            \n         },\n         &quot;2&quot;:{\n            \n         },\n         &quot;3&quot;:{\n            \n         },\n         &quot;4&quot;:{\n            \n         },\n         &quot;5&quot;:{\n            \n         },\n         &quot;6&quot;:{\n            \n         },\n         &quot;7&quot;:{\n            \n         },\n         &quot;8&quot;:{\n            \n         },\n         &quot;9&quot;:{\n            \n         },\n         &quot;10&quot;:{\n            \n         },\n         &quot;11&quot;:{\n            \n         },\n         &quot;12&quot;:{\n            \n         },\n         &quot;13&quot;:{\n            \n         },\n         &quot;14&quot;:{\n            \n         },\n         &quot;15&quot;:{\n            \n         },\n         &quot;16&quot;:{\n            \n         },\n         &quot;17&quot;:{\n            \n         },\n         &quot;18&quot;:{\n            \n         },\n         &quot;19&quot;:{\n            \n         },\n         &quot;20&quot;:{\n            \n         },\n         &quot;21&quot;:{\n            \n         },\n         &quot;22&quot;:{\n            \n         },\n         &quot;23&quot;:{\n            \n         },\n         &quot;24&quot;:{\n            \n         },\n         &quot;25&quot;:{\n            \n         },\n         &quot;26&quot;:{\n            \n         },\n         &quot;27&quot;:{\n            \n         },\n         &quot;28&quot;:{\n            \n         },\n         &quot;29&quot;:{\n            \n         },\n         &quot;30&quot;:{\n            \n         }\n      },\n      &quot;12&quot;:{\n         &quot;1&quot;:{\n            \n         },\n         &quot;2&quot;:{\n            \n         },\n         &quot;3&quot;:{\n            \n         },\n         &quot;4&quot;:{\n            \n         },\n         &quot;5&quot;:{\n            \n         },\n         &quot;6&quot;:{\n            \n         },\n         &quot;7&quot;:{\n            \n         },\n         &quot;8&quot;:{\n            \n         },\n         &quot;9&quot;:{\n            \n         },\n         &quot;10&quot;:{\n            \n         },\n         &quot;11&quot;:{\n            \n         },\n         &quot;12&quot;:{\n            \n         },\n         &quot;13&quot;:{\n            \n         },\n         &quot;14&quot;:{\n            \n         },\n         &quot;15&quot;:{\n            \n         },\n         &quot;16&quot;:{\n            \n         },\n         &quot;17&quot;:{\n            \n         },\n         &quot;18&quot;:{\n            \n         },\n         &quot;19&quot;:{\n            \n         },\n         &quot;20&quot;:{\n            \n         },\n         &quot;21&quot;:{\n            \n         },\n         &quot;22&quot;:{\n            \n         },\n         &quot;23&quot;:{\n            \n         },\n         &quot;24&quot;:{\n            \n         },\n         &quot;25&quot;:{\n            \n         },\n         &quot;26&quot;:{\n            \n         },\n         &quot;27&quot;:{\n            \n         },\n         &quot;28&quot;:{\n            \n         },\n         &quot;29&quot;:{\n            \n         },\n         &quot;30&quot;:{\n            \n         }\n      }\n   }\n}\n</code></pre>\n<p>This is how I store the map:</p>\n<pre><code> val stepsRecord: String = Gson().toJson(mapYears)\n        val editor = sharedPreferences.edit();\n        editor.putString(&quot;stepsRecord&quot;, stepsRecord);\n        editor.commit();\n</code></pre>\n<p>And this is how I retrieve the map:</p>\n<pre><code>   val mapYearMonthsAny: MutableMap&lt;*, *&gt;? = Gson().fromJson(mapYearMonthsString, MutableMap::class.java)\n   return mapYearMonthsAny as MutableMap&lt;Int, MutableMap&lt;Int, MutableMap&lt;Int, MutableMap&lt;MutableMap&lt;String, Int&gt;, Int&gt;&gt;&gt;&gt;\n</code></pre>\n<p>Any idea what I'm doing wrong? Should I use another unserializing method? Thanks in advance for all the answers!</p>\n"},{"tags":["java","android","spinner","dropdown"],"answers":[{"tags":[],"owner":{"account_id":11440512,"reputation":2403,"user_id":8386274,"display_name":"chand mohd"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1597410939,"creation_date":1597410939,"answer_id":63413519,"question_id":63413391,"body_markdown":"By Using Refelection you can set height of dropdown \r\n\r\n\r\n    Spinner spinner = (Spinner) findViewById(R.id.spinner);\r\n        try {\r\n            Field popup = Spinner.class.getDeclaredField(&quot;mPopup&quot;);\r\n            popup.setAccessible(true);\r\n    \r\n            // Get private mPopup member variable and try cast to ListPopupWindow\r\n            android.widget.ListPopupWindow popupWindow = (android.widget.ListPopupWindow) popup.get(spinner);\r\n    \r\n            // Set popupWindow height to 500px\r\n            popupWindow.setHeight(500);\r\n        }\r\n        catch (NoClassDefFoundError | ClassCastException | NoSuchFieldException | IllegalAccessException e) {\r\n            // silently fail...\r\n        }\r\n\r\nIf above does not work then Create class extend `Spinner` class overriding its `getWindowVisibleDisplayFrame(Rect outRect)` which is used by `android.widget.PopupWindow` for calculations. Just set outRect to limit the area where drop down view can be displayed.\r\n\r\n    @Override\r\n    public void getWindowVisibleDisplayFrame(Rect outRect) {\r\n        WindowManager wm = (WindowManager) getContext.getSystemService(Context.WINDOW_SERVICE);\r\n        Display d = wm.getDefaultDisplay();\r\n        d.getRectSize(outRect);\r\n        outRect.set(outRect.left, &lt;STATUS BAR HEIGHT&gt;, outRect.right, outRect.bottom);\r\n    }","title":"How to reduce the height of Drop Down in android?","body":"<p>By Using Refelection you can set height of dropdown</p>\n<pre><code>Spinner spinner = (Spinner) findViewById(R.id.spinner);\n    try {\n        Field popup = Spinner.class.getDeclaredField(&quot;mPopup&quot;);\n        popup.setAccessible(true);\n\n        // Get private mPopup member variable and try cast to ListPopupWindow\n        android.widget.ListPopupWindow popupWindow = (android.widget.ListPopupWindow) popup.get(spinner);\n\n        // Set popupWindow height to 500px\n        popupWindow.setHeight(500);\n    }\n    catch (NoClassDefFoundError | ClassCastException | NoSuchFieldException | IllegalAccessException e) {\n        // silently fail...\n    }\n</code></pre>\n<p>If above does not work then Create class extend <code>Spinner</code> class overriding its <code>getWindowVisibleDisplayFrame(Rect outRect)</code> which is used by <code>android.widget.PopupWindow</code> for calculations. Just set outRect to limit the area where drop down view can be displayed.</p>\n<pre><code>@Override\npublic void getWindowVisibleDisplayFrame(Rect outRect) {\n    WindowManager wm = (WindowManager) getContext.getSystemService(Context.WINDOW_SERVICE);\n    Display d = wm.getDefaultDisplay();\n    d.getRectSize(outRect);\n    outRect.set(outRect.left, &lt;STATUS BAR HEIGHT&gt;, outRect.right, outRect.bottom);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10982129,"reputation":132,"user_id":8068914,"display_name":"Moustafa Shahin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597411023,"creation_date":1597411023,"answer_id":63413543,"question_id":63413391,"body_markdown":"check this [answer][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/29959720/8068914\r\n\r\n     Spinner spinner = (Spinner) findViewById(R.id.spinner);\r\n    try {\r\n        Field popup = Spinner.class.getDeclaredField(&quot;mPopup&quot;);\r\n        popup.setAccessible(true);\r\n\r\n        // Get private mPopup member variable and try cast to ListPopupWindow\r\n        android.widget.ListPopupWindow popupWindow = (android.widget.ListPopupWindow) popup.get(spinner);\r\n\r\n        // Set popupWindow height to 500px\r\n        popupWindow.setHeight(500);\r\n    }\r\n    catch (NoClassDefFoundError | ClassCastException | NoSuchFieldException | IllegalAccessException e) {\r\n        // silently fail...\r\n    }","title":"How to reduce the height of Drop Down in android?","body":"<p>check this <a href=\"https://stackoverflow.com/a/29959720/8068914\">answer</a></p>\n<pre><code> Spinner spinner = (Spinner) findViewById(R.id.spinner);\ntry {\n    Field popup = Spinner.class.getDeclaredField(&quot;mPopup&quot;);\n    popup.setAccessible(true);\n\n    // Get private mPopup member variable and try cast to ListPopupWindow\n    android.widget.ListPopupWindow popupWindow = (android.widget.ListPopupWindow) popup.get(spinner);\n\n    // Set popupWindow height to 500px\n    popupWindow.setHeight(500);\n}\ncatch (NoClassDefFoundError | ClassCastException | NoSuchFieldException | IllegalAccessException e) {\n    // silently fail...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18006343,"reputation":53,"user_id":13087029,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662112924,"creation_date":1662112924,"answer_id":73580891,"question_id":63413391,"body_markdown":"check this\r\n&lt;a href=&quot;https://stackoverflow.com/a/73580791/13087029&quot;&gt;answer&lt;/a&gt;\r\n\r\nIn my solution you put recycleview in spinner and then you put all the data to this rv, you can modify everything you want of the recycleview","title":"How to reduce the height of Drop Down in android?","body":"<p>check this\n<a href=\"https://stackoverflow.com/a/73580791/13087029\">answer</a></p>\n<p>In my solution you put recycleview in spinner and then you put all the data to this rv, you can modify everything you want of the recycleview</p>\n"}],"owner":{"account_id":10325734,"reputation":1,"user_id":7617253,"display_name":"Ayush Vyas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":669,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1662112924,"creation_date":1597410472,"question_id":63413391,"body_markdown":"I am using default android spinner in my application. how to reduce the height of drop down as default methods are not working?","title":"How to reduce the height of Drop Down in android?","body":"<p>I am using default android spinner in my application. how to reduce the height of drop down as default methods are not working?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":19569874,"reputation":54,"user_id":14321268,"display_name":"Philipp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662111877,"creation_date":1662111877,"answer_id":73580694,"question_id":73580547,"body_markdown":"You search for something like that:\r\n\r\n    public void checkVerificationCode(final String verificationCode) {\r\n     final User user = userRepository.findByEmail(&quot;test@example.com&quot;);\r\n\r\n     if (!user.getVerificationCode(verificationCode)) {\r\n      throw new VerificationCodeException(&quot;Incorrect verification code.&quot;);\r\n     }\r\n    }","title":"How to check the user&#39;s verification code?","body":"<p>You search for something like that:</p>\n<pre><code>public void checkVerificationCode(final String verificationCode) {\n final User user = userRepository.findByEmail(&quot;test@example.com&quot;);\n\n if (!user.getVerificationCode(verificationCode)) {\n  throw new VerificationCodeException(&quot;Incorrect verification code.&quot;);\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22580275,"reputation":81,"user_id":16765024,"display_name":"David Tilšer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662112846,"creation_date":1662112846,"answer_id":73580881,"question_id":73580547,"body_markdown":"if you&#39;re using userRepository.findByEmail(&quot;test@example.com&quot;), just take the verification code from entity.\r\n\r\n    private static final String CODE = &quot;123&quot;;\r\n    \r\n        final User user = userRepository.findByEmail(&quot;test@example.com&quot;);\r\n        if (CODE.equals(user.getVerificationCode())) {\r\n        // do something\r\n        }\r\n\r\nAnother option to have it within query.\r\n\r\n    userRepository.findByEmailAndVerificationCode(&quot;test@example.com&quot;, CODE);\r\n\r\nOr you can have something similar as Philipp wrote, but I would not get whole entity just find out if it exist. So solution would be\r\n\r\n    if (userRepository.existsByCode(CODE)) {\r\n    // do something\r\n    }","title":"How to check the user&#39;s verification code?","body":"<p>if you're using userRepository.findByEmail(&quot;test@example.com&quot;), just take the verification code from entity.</p>\n<pre><code>private static final String CODE = &quot;123&quot;;\n\n    final User user = userRepository.findByEmail(&quot;test@example.com&quot;);\n    if (CODE.equals(user.getVerificationCode())) {\n    // do something\n    }\n</code></pre>\n<p>Another option to have it within query.</p>\n<pre><code>userRepository.findByEmailAndVerificationCode(&quot;test@example.com&quot;, CODE);\n</code></pre>\n<p>Or you can have something similar as Philipp wrote, but I would not get whole entity just find out if it exist. So solution would be</p>\n<pre><code>if (userRepository.existsByCode(CODE)) {\n// do something\n}\n</code></pre>\n"}],"owner":{"display_name":"user19902799"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73580881,"answer_count":2,"score":0,"last_activity_date":1662112846,"creation_date":1662111253,"question_id":73580547,"body_markdown":"I am very new to Spring Boot. This is what I want to do: The user&#39;s email is `test@example.com`. That user already exists in my database, but I would like to know if their `verificationCode` is `123`.\r\n\r\n**Entity:** \r\n```@Entity\r\npublic class Users {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    private String email;\r\n    private String password;\r\n    private String verificationCode;\r\n    @Column(name = &quot;verified&quot;, columnDefinition = &quot;default false&quot;)\r\n    private boolean verified = false;\r\n    @CreationTimestamp\r\n    private Date registrationDate;\r\n\r\n    protected Users() {}\r\n\r\n    public Users(String email, String password, String verificationCode) {\r\n        this.email = email;\r\n        this.password = password;\r\n        this.verificationCode = verificationCode;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public String getVerificationCode() {\r\n        return verificationCode;\r\n    }\r\n\r\n    public void setVerificationCode(String verificationCode) {\r\n        this.verificationCode = verificationCode;\r\n    }\r\n\r\n    public boolean isVerified() {\r\n        return verified;\r\n    }\r\n\r\n    public void setVerified(boolean verified) {\r\n        this.verified = verified;\r\n    }\r\n}\r\n```\r\nSo with `userRepository.findByEmail(&quot;test@example.com&quot;)` I am getting the correct user, but how do I check their verification code?","title":"How to check the user&#39;s verification code?","body":"<p>I am very new to Spring Boot. This is what I want to do: The user's email is <code>test@example.com</code>. That user already exists in my database, but I would like to know if their <code>verificationCode</code> is <code>123</code>.</p>\n<p><strong>Entity:</strong></p>\n<pre><code>public class Users {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String email;\n    private String password;\n    private String verificationCode;\n    @Column(name = &quot;verified&quot;, columnDefinition = &quot;default false&quot;)\n    private boolean verified = false;\n    @CreationTimestamp\n    private Date registrationDate;\n\n    protected Users() {}\n\n    public Users(String email, String password, String verificationCode) {\n        this.email = email;\n        this.password = password;\n        this.verificationCode = verificationCode;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getVerificationCode() {\n        return verificationCode;\n    }\n\n    public void setVerificationCode(String verificationCode) {\n        this.verificationCode = verificationCode;\n    }\n\n    public boolean isVerified() {\n        return verified;\n    }\n\n    public void setVerified(boolean verified) {\n        this.verified = verified;\n    }\n}\n</code></pre>\n<p>So with <code>userRepository.findByEmail(&quot;test@example.com&quot;)</code> I am getting the correct user, but how do I check their verification code?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2078847,"reputation":2077,"user_id":1851425,"accept_rate":77,"display_name":"nightfox79"},"score":0,"creation_date":1662110485,"post_id":73580194,"comment_id":129935037,"body_markdown":"The backslash is what I found online as a possible solution, but it is not the solution\nthe pattern you mention I don&#39;t want a word or a single quote after the string","body":"The backslash is what I found online as a possible solution, but it is not the solution the pattern you mention I don&#39;t want a word or a single quote after the string"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662112789,"creation_date":1662112789,"answer_id":73580864,"question_id":73580194,"body_markdown":"You need `\\b` (word boundary) before and after the word, to match a whole word.\r\n\r\nThen, a look-behind like `(?&lt;!&#39;)` at the beginning of the pattern to denote “*not preceded by a single quote*” and a look-ahead like `(?!&#39;)` at the end of the pattern to denote “*not followed by a single quote*”.\r\n\r\nPutting it together makes\r\n```java\r\nString pattern = &quot;(?&lt;!&#39;)\\\\b&quot; + strTables[i] + &quot;\\\\b(?!&#39;)&quot;;\r\n```","title":"Regular expression in java for matching string not enclosed in single quote","body":"<p>You need <code>\\b</code> (word boundary) before and after the word, to match a whole word.</p>\n<p>Then, a look-behind like <code>(?&lt;!')</code> at the beginning of the pattern to denote “<em>not preceded by a single quote</em>” and a look-ahead like <code>(?!')</code> at the end of the pattern to denote “<em>not followed by a single quote</em>”.</p>\n<p>Putting it together makes</p>\n<pre class=\"lang-java prettyprint-override\"><code>String pattern = &quot;(?&lt;!')\\\\b&quot; + strTables[i] + &quot;\\\\b(?!')&quot;;\n</code></pre>\n"}],"owner":{"account_id":2078847,"reputation":2077,"user_id":1851425,"accept_rate":77,"display_name":"nightfox79"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73580864,"answer_count":1,"score":2,"last_activity_date":1662112789,"creation_date":1662109551,"question_id":73580194,"body_markdown":"I&#39;m parsing my scripts for wrong strings and have an array list with strings that shouldn&#39;t occur in my lines of code.\r\n\r\nBut some strings should pass when they are not exactly the string.\r\n\r\nExamples:\r\n\r\nlist contains &quot;FOO&quot; and &quot;BAR&quot;\r\n\r\ntextlines:\r\n\r\n    This is foo\r\n    and this is BAR\r\n    but not &#39;foo&#39;\r\n    and not &#39;BAR&#39;\r\n    but also not FOO_BAR\r\n    but we want FOO%TEXT\r\n    and also bar.text\r\n\r\nresult\r\n\r\n    This is foo\r\n    and this is BAR\r\n    but we want FOO%TEXT\r\n    and also bar.text\r\n\r\nI&#39;ve tried a view examples I found online and on stackoverflow but these didn&#39;t work for me, they don&#39;t filter the quoted ones.\r\n\r\n    String pattern = &quot;.*\\\\&quot;+strTables[i]+&quot;\\\\b.*[^(\\\\w|&#39;)]&quot;;\r\n    Pattern r = Pattern.compile(pattern, Pattern.CASE_INSENSITIVE);\r\n    Matcher m = r.matcher(line);\r\n    if (m.find()) {\r\n       \tSystem.out.println (strTables[i] + &quot;: &quot; + line);\r\n       \tbreak;\r\n    }\r\n","title":"Regular expression in java for matching string not enclosed in single quote","body":"<p>I'm parsing my scripts for wrong strings and have an array list with strings that shouldn't occur in my lines of code.</p>\n<p>But some strings should pass when they are not exactly the string.</p>\n<p>Examples:</p>\n<p>list contains &quot;FOO&quot; and &quot;BAR&quot;</p>\n<p>textlines:</p>\n<pre><code>This is foo\nand this is BAR\nbut not 'foo'\nand not 'BAR'\nbut also not FOO_BAR\nbut we want FOO%TEXT\nand also bar.text\n</code></pre>\n<p>result</p>\n<pre><code>This is foo\nand this is BAR\nbut we want FOO%TEXT\nand also bar.text\n</code></pre>\n<p>I've tried a view examples I found online and on stackoverflow but these didn't work for me, they don't filter the quoted ones.</p>\n<pre><code>String pattern = &quot;.*\\\\&quot;+strTables[i]+&quot;\\\\b.*[^(\\\\w|')]&quot;;\nPattern r = Pattern.compile(pattern, Pattern.CASE_INSENSITIVE);\nMatcher m = r.matcher(line);\nif (m.find()) {\n    System.out.println (strTables[i] + &quot;: &quot; + line);\n    break;\n}\n</code></pre>\n"},{"tags":["java","reactive-programming","project-reactor"],"comments":[{"owner":{"account_id":26072037,"reputation":1,"user_id":19771539,"display_name":"Mel H"},"score":0,"creation_date":1661357602,"post_id":73367322,"comment_id":129755097,"body_markdown":"All getX() functions are blocking calls","body":"All getX() functions are blocking calls"}],"answers":[{"tags":[],"owner":{"account_id":26010031,"reputation":13,"user_id":19719240,"display_name":"Martin Heyer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662112731,"creation_date":1662112731,"answer_id":73580846,"question_id":73367322,"body_markdown":"Your implementation subscribes twice to the (cold) monos a and b - and will run your costly getA() and getB() methods two times.\r\n\r\nTo avoid that, you should cache() the first two monos.\r\n","title":"Java Project Reactor subscribeOn behavior for Mono chains","body":"<p>Your implementation subscribes twice to the (cold) monos a and b - and will run your costly getA() and getB() methods two times.</p>\n<p>To avoid that, you should cache() the first two monos.</p>\n"}],"owner":{"account_id":26072037,"reputation":1,"user_id":19771539,"display_name":"Mel H"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662112731,"creation_date":1660605951,"question_id":73367322,"body_markdown":"I am learning about project reactor and get confused on some questions regarding subscribeOn()\r\n\r\nMy blocking code looks like (say getA(), getB(), getC(A, B), getD(A, B), getE(C, D) are both time complex functions)\r\n\r\n    public E someMethod() {\r\n      A a = getA();\r\n      B b = getB();\r\n      C c = getC(a, b);\r\n      D d = getD(a, b);\r\n      return getE(c, d);\r\n    }\r\n\r\nNow I want to change it into a unblocking implementation, I wrote\r\n\r\n    public E someMethodUnblocking() {\r\n      Mono&lt;A&gt; a = Mono.fromCallable(getA).subscribeOn(Schedulers.boundedElastic());\r\n      Mono&lt;B&gt; b = Mono.fromCallable(getB).subscribeOn(Schedulers.boundedElastic());\r\n      Mono&lt;C&gt; c = Mono.zip(a, b, (aa, bb) -&gt; getC(aa,bb)).subscribeOn(Schedulers.boundedElastic());\r\n      Mono&lt;D&gt; d = Mono.zip(a, b, (aa, bb) -&gt; getD(aa,bb)).subscribeOn(Schedulers.boundedElastic());\r\n      return Mono.zip(c, d, (cc, dd) -&gt; getE(cc, dd)).block()\r\n    }\r\n\r\nDoes this look like the correct implementation? will there be a difference if I remove the subscribeOn() when generating Mono a and b? \r\n","title":"Java Project Reactor subscribeOn behavior for Mono chains","body":"<p>I am learning about project reactor and get confused on some questions regarding subscribeOn()</p>\n<p>My blocking code looks like (say getA(), getB(), getC(A, B), getD(A, B), getE(C, D) are both time complex functions)</p>\n<pre><code>public E someMethod() {\n  A a = getA();\n  B b = getB();\n  C c = getC(a, b);\n  D d = getD(a, b);\n  return getE(c, d);\n}\n</code></pre>\n<p>Now I want to change it into a unblocking implementation, I wrote</p>\n<pre><code>public E someMethodUnblocking() {\n  Mono&lt;A&gt; a = Mono.fromCallable(getA).subscribeOn(Schedulers.boundedElastic());\n  Mono&lt;B&gt; b = Mono.fromCallable(getB).subscribeOn(Schedulers.boundedElastic());\n  Mono&lt;C&gt; c = Mono.zip(a, b, (aa, bb) -&gt; getC(aa,bb)).subscribeOn(Schedulers.boundedElastic());\n  Mono&lt;D&gt; d = Mono.zip(a, b, (aa, bb) -&gt; getD(aa,bb)).subscribeOn(Schedulers.boundedElastic());\n  return Mono.zip(c, d, (cc, dd) -&gt; getE(cc, dd)).block()\n}\n</code></pre>\n<p>Does this look like the correct implementation? will there be a difference if I remove the subscribeOn() when generating Mono a and b?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":3245001,"reputation":1589,"user_id":2736843,"accept_rate":75,"display_name":"aUserHimself"},"score":4,"creation_date":1494924115,"post_id":43996403,"comment_id":75021389,"body_markdown":"Possible duplicate of [Java regex email](http://stackoverflow.com/questions/8204680/java-regex-email)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/8204680/java-regex-email\">Java regex email</a>"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1494924131,"post_id":43996403,"comment_id":75021400,"body_markdown":"Not quite what you&#39;re asking, but ... if you look around a bit, you&#39;re sure to find a regular expression that matches valid email addresses.","body":"Not quite what you&#39;re asking, but ... if you look around a bit, you&#39;re sure to find a regular expression that matches valid email addresses."},{"owner":{"account_id":3204229,"reputation":2678,"user_id":10872397,"display_name":"Rahul"},"score":0,"creation_date":1494924373,"post_id":43996403,"comment_id":75021558,"body_markdown":"No domain name in email ? That&#39;s unheard of.","body":"No domain name in email ? That&#39;s unheard of."},{"owner":{"account_id":3445265,"reputation":2465,"user_id":2886234,"accept_rate":80,"display_name":"kkflf"},"score":0,"creation_date":1494924902,"post_id":43996403,"comment_id":75021905,"body_markdown":"To clearify. It should contain. Maxium of one uppercase letter, maximum one lowercase letter, one digit?","body":"To clearify. It should contain. Maxium of one uppercase letter, maximum one lowercase letter, one digit?"},{"owner":{"account_id":9175053,"reputation":747,"user_id":6820941,"accept_rate":63,"display_name":"akila arasan"},"score":0,"creation_date":1494925108,"post_id":43996403,"comment_id":75022039,"body_markdown":"@kkflf it should contain atleast one uppercase lowercase and one digit and maximum of one &#39;@&#39; character.but the above regex allows more than one &#39;@&#39; character","body":"@kkflf it should contain atleast one uppercase lowercase and one digit and maximum of one &#39;@&#39; character.but the above regex allows more than one &#39;@&#39; character"}],"answers":[{"tags":[],"owner":{"account_id":4958406,"reputation":29094,"user_id":4003419,"display_name":"LukStorms"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1494927812,"creation_date":1494925137,"answer_id":43996840,"question_id":43996403,"body_markdown":"You could add a negative lookahead to the regex to avoid 2 @\r\n\r\n    (?!.*@.*@)\r\n\r\nBut you could also make the last part of the regex more explicit, so that a double @ wouldn&#39;t match\r\n\r\n    ^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])[\\w.]+@[\\w.]*\\.[a-zA-Z0-9]+$\r\n\r\nOr to allow more than just the [a-zA-Z0-9_] word characters and dots, but still excluding the whitespaces:\r\n\r\n    ^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])[^\\s@]+@[^\\s@]*\\.[^\\s@.]{2,}$","title":"How to check if only one &#39;@&#39; symbol in email address using regex in java?","body":"<p>You could add a negative lookahead to the regex to avoid 2 @</p>\n\n<pre><code>(?!.*@.*@)\n</code></pre>\n\n<p>But you could also make the last part of the regex more explicit, so that a double @ wouldn't match</p>\n\n<pre><code>^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])[\\w.]+@[\\w.]*\\.[a-zA-Z0-9]+$\n</code></pre>\n\n<p>Or to allow more than just the [a-zA-Z0-9_] word characters and dots, but still excluding the whitespaces:</p>\n\n<pre><code>^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])[^\\s@]+@[^\\s@]*\\.[^\\s@.]{2,}$\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63444,"reputation":7018,"user_id":187808,"accept_rate":100,"display_name":"Tamas Rev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494925547,"creation_date":1494925547,"answer_id":43996972,"question_id":43996403,"body_markdown":"Validating emails with regexes is something that others have done before. According to [emailregex.com][1], this is the java regex for emails:\r\n\r\n    (?:[a-z0-9!#$%&amp;&#39;*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&amp;&#39;*+/=?^_`{|}~-]+)*|&quot;(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*&quot;)@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])\r\n\r\nThey claim that it works 99.99% of the time.\r\n\r\nThe other page, [regular-expressions.info][2] provides lots of other regex, starting with this simple one:\r\n\r\n    ^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$\r\n\r\nI.e. some valid characters, then the `@`, then the domain name.\r\nThe step by step they show you how to build a regex that matches the [RFC 5322][3].\r\n\r\nRegarding making sure there&#39;s only one `@`, you can go with this:\r\n\r\n    ^[^@]*@[^@]*$\r\n\r\n\r\n  [1]: http://emailregex.com/\r\n  [2]: http://www.regular-expressions.info/email.html\r\n  [3]: https://www.rfc-editor.org/rfc/rfc5322#section-3.4","title":"How to check if only one &#39;@&#39; symbol in email address using regex in java?","body":"<p>Validating emails with regexes is something that others have done before. According to <a href=\"http://emailregex.com/\" rel=\"nofollow noreferrer\">emailregex.com</a>, this is the java regex for emails:</p>\n<pre><code>(?:[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+)*|&quot;(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*&quot;)@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])\n</code></pre>\n<p>They claim that it works 99.99% of the time.</p>\n<p>The other page, <a href=\"http://www.regular-expressions.info/email.html\" rel=\"nofollow noreferrer\">regular-expressions.info</a> provides lots of other regex, starting with this simple one:</p>\n<pre><code>^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$\n</code></pre>\n<p>I.e. some valid characters, then the <code>@</code>, then the domain name.\nThe step by step they show you how to build a regex that matches the <a href=\"https://www.rfc-editor.org/rfc/rfc5322#section-3.4\" rel=\"nofollow noreferrer\">RFC 5322</a>.</p>\n<p>Regarding making sure there's only one <code>@</code>, you can go with this:</p>\n<pre><code>^[^@]*@[^@]*$\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6967798,"reputation":7426,"user_id":5345150,"display_name":"Abhishek Gurjar"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1494925746,"creation_date":1494925746,"answer_id":43997048,"question_id":43996403,"body_markdown":"Try with below, It is not strict though but ignore your patterns which you&#39;ve mentioned in question,\r\n\r\n    (?:[a-zA-Z\\.\\d]{1})+@\\.com\r\n\r\n[Regex Demo][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/nAU1yK/2/","title":"How to check if only one &#39;@&#39; symbol in email address using regex in java?","body":"<p>Try with below, It is not strict though but ignore your patterns which you've mentioned in question,</p>\n\n<pre><code>(?:[a-zA-Z\\.\\d]{1})+@\\.com\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/nAU1yK/2/\" rel=\"nofollow noreferrer\">Regex Demo</a></p>\n"},{"tags":[],"owner":{"account_id":23765152,"reputation":213,"user_id":17780003,"display_name":"Ivan_OFF"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662112346,"creation_date":1662111721,"answer_id":73580662,"question_id":43996403,"body_markdown":"I tried taking in consideration how my email should be and step by step i reached this conclusion, it will always accept &#39;@&#39; only in a specific part of the mail otherwise it won&#39;t be considered valid\r\n\r\n    ^[^@,:; \\t\\r\\n]+@[^@,:; \\t\\r\\n]+\\.[^@,:; \\t\\r\\n]+$","title":"How to check if only one &#39;@&#39; symbol in email address using regex in java?","body":"<p>I tried taking in consideration how my email should be and step by step i reached this conclusion, it will always accept '@' only in a specific part of the mail otherwise it won't be considered valid</p>\n<pre><code>^[^@,:; \\t\\r\\n]+@[^@,:; \\t\\r\\n]+\\.[^@,:; \\t\\r\\n]+$\n</code></pre>\n"}],"owner":{"account_id":9175053,"reputation":747,"user_id":6820941,"accept_rate":63,"display_name":"akila arasan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4588,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":43996840,"answer_count":4,"score":1,"last_activity_date":1662112346,"creation_date":1494923972,"question_id":43996403,"body_markdown":"I am trying to create a regex in java to validate the email address. It should contain one uppercase one lowercase one digit only one @ symbol followed by &#39;.&#39;.So far i could only create this,\r\n\r\n    ^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*@)(?=.*\\.).+$\r\n\r\nscenarios like these\r\n\r\nabC.8@gmailcom this address should return false\r\n\r\nabC8@@gmail.com this also should return  false\r\n\r\n\r\nBut the above regex returns true for all these scenarios.Could anyone help me correct this regex?\r\n\r\n ","title":"How to check if only one &#39;@&#39; symbol in email address using regex in java?","body":"<p>I am trying to create a regex in java to validate the email address. It should contain one uppercase one lowercase one digit only one @ symbol followed by '.'.So far i could only create this,</p>\n\n<pre><code>^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*@)(?=.*\\.).+$\n</code></pre>\n\n<p>scenarios like these</p>\n\n<p>abC.8@gmailcom this address should return false</p>\n\n<p>abC8@@gmail.com this also should return  false</p>\n\n<p>But the above regex returns true for all these scenarios.Could anyone help me correct this regex?</p>\n"},{"tags":["java","mapper","jackson-dataformat-csv"],"answers":[{"tags":[],"owner":{"account_id":11884292,"reputation":43,"user_id":8697117,"display_name":"user8697117"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662058610,"creation_date":1662054863,"answer_id":73573611,"question_id":73573541,"body_markdown":"use @JsonIgnore on top of property.\r\nEx: \r\n\r\n    import com.fasterxml.jackson.annotation.JsonIgnore;\r\n    @Validated\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    public class MyResponseModel {\r\n    ...\r\n            @JsonIgnore\r\n            private String createBy;\r\n            ...\r\n    }","title":"Exclude colums (fields) using Jackson CsvMapper to serialize POJO","body":"<p>use @JsonIgnore on top of property.\nEx:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnore;\n@Validated\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\n@Builder\npublic class MyResponseModel {\n...\n        @JsonIgnore\n        private String createBy;\n        ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13712379,"reputation":301,"user_id":9894387,"display_name":"Alexander Golovnya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662111964,"creation_date":1662055554,"answer_id":73573752,"question_id":73573541,"body_markdown":"Using `Feature.IGNORE_UNKNOWN=true` or `@JsonIgnoreProperties(ignoreUnknown = true)` will help when you want to deserialize JSON into your Java class. \r\n\r\nFor example, this will be useful when you&#39;re implementing the REST API and in the POST method dedicated to creating new objects, you want to ignore all invalid/incorrect fields sent to you by the user and process only the valid ones instead of returning the 400/500 error. \r\n\r\nIn your case, you just need to put the `@JsonIgnore` annotation on the field in your Java class, which you want to exclude during the serialization. This is an example of excluding the &#171;a&#187; property:\r\n```java\r\npublic class MyClass {\r\n    @JsonIgnore\r\n    @JsonProperty(&quot;A&quot;)\r\n    private String a;\r\n\r\n    @JsonProperty(&quot;B&quot;)\r\n    private String b;\r\n\r\n    @JsonProperty(&quot;C&quot;)\r\n    private String c;\r\n}\r\n```\r\n\r\nThis should also be useful in cases when you want to exclude some private and sensitive information from application logs, like passwords, PII, PHI, etc.\r\n\r\n**Updated:**\r\n\r\nThis is the working solution for your case:\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class MyClass {\r\n\r\n    @JsonProperty(&quot;A&quot;)\r\n    private String a;\r\n\r\n    @JsonProperty(&quot;B&quot;)\r\n    private String b;\r\n\r\n    @JsonProperty(&quot;C&quot;)\r\n    private String c;\r\n}\r\n\r\npublic String test() throws JsonProcessingException {\r\n    boolean disable = false;\r\n    CsvMapper mapper = new CsvMapper();\r\n    mapper.configure(JsonGenerator.Feature.IGNORE_UNKNOWN, true);\r\n    CsvSchema csvSchema;\r\n\r\n    List&lt;MyClass&gt; list = List.of(MyClass.builder()\r\n            .a(&quot;a1&quot;)\r\n            .b(&quot;b1&quot;)\r\n            .c(&quot;c1&quot;)\r\n            .build()\r\n    );\r\n\r\n    if (disable) {\r\n        csvSchema = CsvSchema.builder()\r\n                .addColumn(&quot;A&quot;)\r\n                .addColumn(&quot;C&quot;)\r\n                .build();\r\n    } else {\r\n        csvSchema = CsvSchema.builder()\r\n                .addColumn(&quot;A&quot;)\r\n                .addColumn(&quot;B&quot;)\r\n                .addColumn(&quot;C&quot;)\r\n                .build();\r\n    }\r\n\r\n    ObjectWriter ow = mapper.writer(csvSchema);\r\n    String csv = ow.writeValueAsString(list);\r\n\r\n    return csv;\r\n}\r\n```\r\n\r\nDependency, which I&#39;ve been using for tests and verification of the above code:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-dataformat-csv&lt;/artifactId&gt;\r\n    &lt;version&gt;2.13.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    &lt;version&gt;1.18.24&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Exclude colums (fields) using Jackson CsvMapper to serialize POJO","body":"<p>Using <code>Feature.IGNORE_UNKNOWN=true</code> or <code>@JsonIgnoreProperties(ignoreUnknown = true)</code> will help when you want to deserialize JSON into your Java class.</p>\n<p>For example, this will be useful when you're implementing the REST API and in the POST method dedicated to creating new objects, you want to ignore all invalid/incorrect fields sent to you by the user and process only the valid ones instead of returning the 400/500 error.</p>\n<p>In your case, you just need to put the <code>@JsonIgnore</code> annotation on the field in your Java class, which you want to exclude during the serialization. This is an example of excluding the «a» property:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n    @JsonIgnore\n    @JsonProperty(&quot;A&quot;)\n    private String a;\n\n    @JsonProperty(&quot;B&quot;)\n    private String b;\n\n    @JsonProperty(&quot;C&quot;)\n    private String c;\n}\n</code></pre>\n<p>This should also be useful in cases when you want to exclude some private and sensitive information from application logs, like passwords, PII, PHI, etc.</p>\n<p><strong>Updated:</strong></p>\n<p>This is the working solution for your case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonProperty;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class MyClass {\n\n    @JsonProperty(&quot;A&quot;)\n    private String a;\n\n    @JsonProperty(&quot;B&quot;)\n    private String b;\n\n    @JsonProperty(&quot;C&quot;)\n    private String c;\n}\n\npublic String test() throws JsonProcessingException {\n    boolean disable = false;\n    CsvMapper mapper = new CsvMapper();\n    mapper.configure(JsonGenerator.Feature.IGNORE_UNKNOWN, true);\n    CsvSchema csvSchema;\n\n    List&lt;MyClass&gt; list = List.of(MyClass.builder()\n            .a(&quot;a1&quot;)\n            .b(&quot;b1&quot;)\n            .c(&quot;c1&quot;)\n            .build()\n    );\n\n    if (disable) {\n        csvSchema = CsvSchema.builder()\n                .addColumn(&quot;A&quot;)\n                .addColumn(&quot;C&quot;)\n                .build();\n    } else {\n        csvSchema = CsvSchema.builder()\n                .addColumn(&quot;A&quot;)\n                .addColumn(&quot;B&quot;)\n                .addColumn(&quot;C&quot;)\n                .build();\n    }\n\n    ObjectWriter ow = mapper.writer(csvSchema);\n    String csv = ow.writeValueAsString(list);\n\n    return csv;\n}\n</code></pre>\n<p>Dependency, which I've been using for tests and verification of the above code:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-dataformat-csv&lt;/artifactId&gt;\n    &lt;version&gt;2.13.3&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.18.24&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":19527211,"reputation":1,"user_id":14287813,"display_name":"Sabbullo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":417,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1662111964,"creation_date":1662054376,"question_id":73573541,"body_markdown":"I have a Java class and i want to serialize it into CSV using jackson. \r\nIn addition i want to exclude from the csv a single field base on a external property.\r\n\r\nI have tried using all features provides by jackson like `Feature.IGNORE_UNKNOWN=true` or `@JsonIgnoreProperties(ignoreUnknown = true)` on my data class, `csvMapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES)` but none of them works. I still receive the exception  column not found in schema when not all columns are declared in the schema. Code works fine in the other case.\r\n\r\nHere i upload my implementation\r\n```java\r\n    public class MyClass{\r\n        @JsonProperty(&quot;A&quot;)\r\n        private string a;\r\n    \r\n        @JsonProperty(&quot;B&quot;)\r\n        private string b;\r\n    \r\n        @JsonProperty(&quot;C&quot;)\r\n        private string c;  \r\n    }\r\n```\r\n```java\r\n\r\nCsvMapper mapper = new CsvMapper();\r\nmapper.configure(Feature.IGNORE_UNKNOWN, true);\r\nCsvSchema csvSchema;\r\nif (disable = true) {\r\n    schema = CsvSchema.builder()\r\n      .addColumn(&quot;A&quot;)\r\n      .addColumn(&quot;C&quot;)\r\n      .build()\r\n} else {\r\n    schema = CsvSchema.builder()\r\n      .addColumn(&quot;A&quot;)\r\n      .addColumn(&quot;B&quot;)\r\n      .addColumn(&quot;C&quot;)\r\n      .build()\r\n}\r\n\r\nObjectWriter ow = mapper.writer(schema);\r\nString csv = ow.writeValueAsString(list);\r\n```","title":"Exclude colums (fields) using Jackson CsvMapper to serialize POJO","body":"<p>I have a Java class and i want to serialize it into CSV using jackson.\nIn addition i want to exclude from the csv a single field base on a external property.</p>\n<p>I have tried using all features provides by jackson like <code>Feature.IGNORE_UNKNOWN=true</code> or <code>@JsonIgnoreProperties(ignoreUnknown = true)</code> on my data class, <code>csvMapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES)</code> but none of them works. I still receive the exception  column not found in schema when not all columns are declared in the schema. Code works fine in the other case.</p>\n<p>Here i upload my implementation</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class MyClass{\n        @JsonProperty(&quot;A&quot;)\n        private string a;\n    \n        @JsonProperty(&quot;B&quot;)\n        private string b;\n    \n        @JsonProperty(&quot;C&quot;)\n        private string c;  \n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\nCsvMapper mapper = new CsvMapper();\nmapper.configure(Feature.IGNORE_UNKNOWN, true);\nCsvSchema csvSchema;\nif (disable = true) {\n    schema = CsvSchema.builder()\n      .addColumn(&quot;A&quot;)\n      .addColumn(&quot;C&quot;)\n      .build()\n} else {\n    schema = CsvSchema.builder()\n      .addColumn(&quot;A&quot;)\n      .addColumn(&quot;B&quot;)\n      .addColumn(&quot;C&quot;)\n      .build()\n}\n\nObjectWriter ow = mapper.writer(schema);\nString csv = ow.writeValueAsString(list);\n</code></pre>\n"},{"tags":["java","elasticsearch","query-builder","reindex","elasticsearch-high-level-restclient"],"answers":[{"tags":[],"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662111928,"creation_date":1662111928,"answer_id":73580704,"question_id":73573747,"body_markdown":"You need to use below code as `setDocTypes` is not used for source filtering.\r\n\r\nAs there is no direct method available for setting source filter so you need to change underlying search request suing below code.\r\n\r\n```java\r\nReindexRequest reindexRequest = new ReindexRequest();\r\nreindexRequest.setSourceIndices(&quot;source index name&quot;).setDestIndex(&quot;destination index name&quot;);\r\nreindexRequest.setDocTypes(&quot;_doc&quot;);\r\n\r\nString[] include=new String[] {&quot;id&quot;, &quot;name&quot;, &quot;rollNo&quot;};\r\nString[] exclude=new String[] {&quot;test&quot;};\r\nreindexRequest.getSearchRequest().source().fetchSource(include, exclude);\r\n\r\nclient.reindex(reindexRequest,RequestOptions.DEFAULT);\r\n```","title":"Reindex selected _source fields using Rest high level client in java","body":"<p>You need to use below code as <code>setDocTypes</code> is not used for source filtering.</p>\n<p>As there is no direct method available for setting source filter so you need to change underlying search request suing below code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ReindexRequest reindexRequest = new ReindexRequest();\nreindexRequest.setSourceIndices(&quot;source index name&quot;).setDestIndex(&quot;destination index name&quot;);\nreindexRequest.setDocTypes(&quot;_doc&quot;);\n\nString[] include=new String[] {&quot;id&quot;, &quot;name&quot;, &quot;rollNo&quot;};\nString[] exclude=new String[] {&quot;test&quot;};\nreindexRequest.getSearchRequest().source().fetchSource(include, exclude);\n\nclient.reindex(reindexRequest,RequestOptions.DEFAULT);\n</code></pre>\n"}],"owner":{"account_id":18368156,"reputation":303,"user_id":13378772,"display_name":"Aman Mehta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73580704,"answer_count":1,"score":1,"last_activity_date":1662111928,"creation_date":1662055523,"question_id":73573747,"body_markdown":"I want to **re_index only selected fields** from my document in elasticsearch using Rest High level client.\r\n\r\nI know the elasticsearch query to achieve that but I don&#39;t know it&#39;s equivalent query using rest client.\r\n\r\nFollowing is the elasticsearch query which I am trying to implement using rest client - \r\n\r\n```\r\n{\r\n  &quot;body&quot; : {\r\n     &quot;source&quot; : {\r\n        &quot;index&quot; : &quot;my source index name&quot;,\r\n        &quot;_source&quot; : &quot;id, name, rollNo&quot;\r\n     },\r\n     &quot;dest&quot; : {\r\n        &quot;index&quot; : &quot;my destination index name&quot;\r\n     }\r\n  }\r\n}\r\n```\r\n\r\nTo write its equivalent query using rest client in java, I have used the following code -\r\n\r\n```\r\nReindexRequest reindexRequest = new ReindexRequest();\r\nreindexRequest.setSourceIndices(&quot;source index name&quot;).setDestIndex(&quot;destination index name&quot;);\r\nreindexRequest.setDocTypes(&quot;id&quot;, &quot;name&quot;, &quot;rollNo&quot;, &quot;_doc&quot;);\r\nclient.reindex(reindexRequest,RequestOptions.DEFAULT);\r\n```\r\n\r\nBut the above code is not working as expected. It&#39;s re_indexing all the fields of my document. I want only selective 3 fields to be re_indexed from each doc.","title":"Reindex selected _source fields using Rest high level client in java","body":"<p>I want to <strong>re_index only selected fields</strong> from my document in elasticsearch using Rest High level client.</p>\n<p>I know the elasticsearch query to achieve that but I don't know it's equivalent query using rest client.</p>\n<p>Following is the elasticsearch query which I am trying to implement using rest client -</p>\n<pre><code>{\n  &quot;body&quot; : {\n     &quot;source&quot; : {\n        &quot;index&quot; : &quot;my source index name&quot;,\n        &quot;_source&quot; : &quot;id, name, rollNo&quot;\n     },\n     &quot;dest&quot; : {\n        &quot;index&quot; : &quot;my destination index name&quot;\n     }\n  }\n}\n</code></pre>\n<p>To write its equivalent query using rest client in java, I have used the following code -</p>\n<pre><code>ReindexRequest reindexRequest = new ReindexRequest();\nreindexRequest.setSourceIndices(&quot;source index name&quot;).setDestIndex(&quot;destination index name&quot;);\nreindexRequest.setDocTypes(&quot;id&quot;, &quot;name&quot;, &quot;rollNo&quot;, &quot;_doc&quot;);\nclient.reindex(reindexRequest,RequestOptions.DEFAULT);\n</code></pre>\n<p>But the above code is not working as expected. It's re_indexing all the fields of my document. I want only selective 3 fields to be re_indexed from each doc.</p>\n"},{"tags":["java","jvm","wildfly"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1662111939,"post_id":73580649,"comment_id":129935508,"body_markdown":"Are you trying to *predict* the whole used memory using just the values from those parameters? That won&#39;t be possible (or at least, you should assume a quite large error margin). JVMs use all kinds of memory pools and even just normal mapping of the shared libraries they use consumes memory. So while those numbers can give you a *hint* as to the magnitude of the total used memory, they can&#39;t give you a definite precise answer. Also note that &quot;Xms&quot; is &quot;minimum heap size&quot; and &quot;Xmx&quot; is maximum heap size, so if you care about maximum used memory, of those two only Xmx is relevant.","body":"Are you trying to <i>predict</i> the whole used memory using just the values from those parameters? That won&#39;t be possible (or at least, you should assume a quite large error margin). JVMs use all kinds of memory pools and even just normal mapping of the shared libraries they use consumes memory. So while those numbers can give you a <i>hint</i> as to the magnitude of the total used memory, they can&#39;t give you a definite precise answer. Also note that &quot;Xms&quot; is &quot;minimum heap size&quot; and &quot;Xmx&quot; is maximum heap size, so if you care about maximum used memory, of those two only Xmx is relevant."},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1662112114,"post_id":73580649,"comment_id":129935568,"body_markdown":"So does that mean, when servergroup starts with those parameters, then it does not block memory shown in those parameters? Earlier it has 512 Min heap; but i changed it to 64k and found no issue; also reduced Max Heap and found RAM gets free due to that. So i thought those parameters blocking something?","body":"So does that mean, when servergroup starts with those parameters, then it does not block memory shown in those parameters? Earlier it has 512 Min heap; but i changed it to 64k and found no issue; also reduced Max Heap and found RAM gets free due to that. So i thought those parameters blocking something?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1662112274,"post_id":73580649,"comment_id":129935632,"body_markdown":"I don&#39;t know about wildfly and its server groups. All I can tell you is that those values alone are not sufficient to predict the total memory usage of Java process. That memory usage can also grow (if you give a smaller minimum heap, for example it might start smaller, but grow later). These numbers definitely *influence* how much memory your server will use, yes. And increasing them *tends* to increase the amount of memory used.","body":"I don&#39;t know about wildfly and its server groups. All I can tell you is that those values alone are not sufficient to predict the total memory usage of Java process. That memory usage can also grow (if you give a smaller minimum heap, for example it might start smaller, but grow later). These numbers definitely <i>influence</i> how much memory your server will use, yes. And increasing them <i>tends</i> to increase the amount of memory used."}],"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662111660,"creation_date":1662111660,"question_id":73580649,"body_markdown":"I started my Wildfly Server Groups and Found Linux Memory getting reduce on startup  of each servergroup.\r\n\r\nI am not sure what of these xms, xmx, metaspacesize, maxmespacesize is considered while starting the servergroup which consume memory?\r\n\r\nEarlier i was thinking it is Xms + Xmx used but i do not find that this combination is used. \r\n\r\nFollowing is log of how i started severgroup 1 by 1 and memory it consume after successful start\r\n\r\n    Servergroup: Data\r\n    Arguments: -Xms64m -Xmx512m -XX:MetaspaceSize=96m -XX:MaxMetaspaceSize=1024m\r\n    Memory Before: 26055316 Kib\r\n    Memory After: 24862576 Kib\r\n    ================\r\n    MDM\r\n    -Xms64m -Xmx512m -XX:MetaspaceSize=96m -XX:MaxMetaspaceSize=1024m\r\n    Memory Before: 24753256\r\n    Memory After:24211048\r\n    ================\r\n    Invoice\r\n    -Xms64m -Xmx800m -XX:MetaspaceSize=96m -XX:MaxMetaspaceSize=1024m\r\n    Memory Before:24211048\r\n    Memory After:23284292\r\n    ===============\r\n    General\r\n    -Xms64m -Xmx256m\r\n    Memory Before: 23284292\r\n    Memory After: 22753268\r\n    ===============\r\n    Filemover\r\n    -Xms64m -Xmx1024m -XX:MetaspaceSize=96m -XX:MaxMetaspaceSize=1024m\r\n    Memory Before: 22753268\r\n    Memory After: 21797640\r\n    ===============\r\n    Heretic\r\n    -Xms64m -Xmx1536m -XX:MetaspaceSize=96m -XX:MaxMetaspaceSize=1024m\r\n    Memory Before: 21797640\r\n    Memory After: 20092912\r\n    ===============\r\n    24By7\r\n     -Xms64m -Xmx1536m -XX:MetaspaceSize=96m -XX:MaxMetaspaceSize=1024m\r\n    Memory Before:20092912\r\n    Memory After:18857712\r\n    ==============\r\n    ERP\r\n    -Xms64m -Xmx800m -XX:MetaspaceSize=96m -XX:MaxMetaspaceSize=1024m\r\n    Memory Before:18857712\r\n    Memory After:17263036\r\n    =============\r\n    Web\r\n    -Xms64m -Xmx1536m -XX:MetaspaceSize=96m -XX:MaxMetaspaceSize=1024m\r\n    Memory Before:17263036\r\n    Memory After14835748\r\n    \r\n    ====TO CHECK AT END=========\r\n    Desk\r\n    -Xms1024m -Xmx4096m -server -XX:MetaspaceSize=96m -XX:MaxMetaspaceSize=1024m\r\n    Memory Before: 14780344\r\n    Memory After: 12781144\r\n    \r\n    =============\r\n    Timesheet\r\n    -Xms64m -Xmx1536m -XX:MetaspaceSize=96m -XX:MaxMetaspaceSize=1024m\r\n    Memory Before:14739180\r\n    Memory After: 13239140\r\n    =============\r\n    \r\n    batch\r\n    -Xms64m -Xmx1536m -XX:MetaspaceSize=96m -XX:MaxMetaspaceSize=1024m\r\n    Memory Before:13188052\r\n    Memory After: 10868944\r\n    =============\r\n    Agains checked at end\r\n    Desk\r\n    -Xms1024m -Xmx4096m -server -XX:MetaspaceSize=96m -XX:MaxMetaspaceSize=1024m\r\n    Memory Before: 10868944\r\n    Memory After: 8476600\r\n\r\nCan anyone help me in understanding same.","title":"Java: Does memory settings &quot;Xmx + Xms + Metaspace&quot; suggest how much memory a Server use?","body":"<p>I started my Wildfly Server Groups and Found Linux Memory getting reduce on startup  of each servergroup.</p>\n<p>I am not sure what of these xms, xmx, metaspacesize, maxmespacesize is considered while starting the servergroup which consume memory?</p>\n<p>Earlier i was thinking it is Xms + Xmx used but i do not find that this combination is used.</p>\n<p>Following is log of how i started severgroup 1 by 1 and memory it consume after successful start</p>\n<pre><code>Servergroup: Data\nArguments: -Xms64m -Xmx512m -XX:MetaspaceSize=96m -XX:MaxMetaspaceSize=1024m\nMemory Before: 26055316 Kib\nMemory After: 24862576 Kib\n================\nMDM\n-Xms64m -Xmx512m -XX:MetaspaceSize=96m -XX:MaxMetaspaceSize=1024m\nMemory Before: 24753256\nMemory After:24211048\n================\nInvoice\n-Xms64m -Xmx800m -XX:MetaspaceSize=96m -XX:MaxMetaspaceSize=1024m\nMemory Before:24211048\nMemory After:23284292\n===============\nGeneral\n-Xms64m -Xmx256m\nMemory Before: 23284292\nMemory After: 22753268\n===============\nFilemover\n-Xms64m -Xmx1024m -XX:MetaspaceSize=96m -XX:MaxMetaspaceSize=1024m\nMemory Before: 22753268\nMemory After: 21797640\n===============\nHeretic\n-Xms64m -Xmx1536m -XX:MetaspaceSize=96m -XX:MaxMetaspaceSize=1024m\nMemory Before: 21797640\nMemory After: 20092912\n===============\n24By7\n -Xms64m -Xmx1536m -XX:MetaspaceSize=96m -XX:MaxMetaspaceSize=1024m\nMemory Before:20092912\nMemory After:18857712\n==============\nERP\n-Xms64m -Xmx800m -XX:MetaspaceSize=96m -XX:MaxMetaspaceSize=1024m\nMemory Before:18857712\nMemory After:17263036\n=============\nWeb\n-Xms64m -Xmx1536m -XX:MetaspaceSize=96m -XX:MaxMetaspaceSize=1024m\nMemory Before:17263036\nMemory After14835748\n\n====TO CHECK AT END=========\nDesk\n-Xms1024m -Xmx4096m -server -XX:MetaspaceSize=96m -XX:MaxMetaspaceSize=1024m\nMemory Before: 14780344\nMemory After: 12781144\n\n=============\nTimesheet\n-Xms64m -Xmx1536m -XX:MetaspaceSize=96m -XX:MaxMetaspaceSize=1024m\nMemory Before:14739180\nMemory After: 13239140\n=============\n\nbatch\n-Xms64m -Xmx1536m -XX:MetaspaceSize=96m -XX:MaxMetaspaceSize=1024m\nMemory Before:13188052\nMemory After: 10868944\n=============\nAgains checked at end\nDesk\n-Xms1024m -Xmx4096m -server -XX:MetaspaceSize=96m -XX:MaxMetaspaceSize=1024m\nMemory Before: 10868944\nMemory After: 8476600\n</code></pre>\n<p>Can anyone help me in understanding same.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":8054049,"reputation":4480,"user_id":6071729,"display_name":"A Farmanbar"},"score":0,"creation_date":1632416429,"post_id":69304117,"comment_id":122492745,"body_markdown":"https://stackoverflow.com/q/56029393/6071729","body":"<a href=\"https://stackoverflow.com/q/56029393/6071729\">stackoverflow.com/q/56029393/6071729</a>"},{"owner":{"account_id":5173095,"reputation":6176,"user_id":4141049,"accept_rate":64,"display_name":"shmakova"},"score":0,"creation_date":1632417610,"post_id":69304117,"comment_id":122493200,"body_markdown":"show build.gradle files","body":"show build.gradle files"},{"owner":{"account_id":2882610,"reputation":186,"user_id":3516573,"display_name":"Ghazi"},"score":0,"creation_date":1632495477,"post_id":69304117,"comment_id":122516194,"body_markdown":"same issue here.","body":"same issue here."},{"owner":{"account_id":63782,"reputation":6252,"user_id":188622,"accept_rate":44,"display_name":"Gubatron"},"score":0,"creation_date":1633276297,"post_id":69304117,"comment_id":122711240,"body_markdown":"same issue here, disabling jetified doesn&#39;t work.\nI suppose someone at google effed up.","body":"same issue here, disabling jetified doesn&#39;t work. I suppose someone at google effed up."},{"owner":{"account_id":1440209,"reputation":3753,"user_id":1360579,"accept_rate":47,"display_name":"orium"},"score":0,"creation_date":1634146591,"post_id":69304117,"comment_id":122950019,"body_markdown":"do you have firebase-core in build.gradle? try to set it to 19.0.2","body":"do you have firebase-core in build.gradle? try to set it to 19.0.2"}],"answers":[{"tags":[],"owner":{"account_id":2882610,"reputation":186,"user_id":3516573,"display_name":"Ghazi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1632519857,"creation_date":1632519857,"answer_id":69321369,"question_id":69304117,"body_markdown":"Best way to fix this and prepare your project for later is to migrate completely to AndroidX. First check if your project is ready, `Refactor &gt; Migrate to AndroidX`. Once your project is independent of `jcenter` or any other older library/repo and compatible with `AndroidX` you won&#39;t need Jetifier anymore, so either comment it out or remove it. This should possibly fix the problem.\r\n\r\n    ...\r\n    #android.enableJetifier=false\r\n    ...\r\n\r\nIn my case this wasn&#39;t enough to solve the problem, if you still receive the same error but from a different library, it&#39;s possibly because of other existing dependencies, avoid using bundled libraries or wildcard ones *(in which system is left to guess)* make sure you update them all and clean rebuild the project.\r\n\r\nIf you still have to keep some conflicting library, try excluding individual classes to avoid the error like this from `build.gradle`:\r\n\r\n    android {\r\n        ...\r\n        defaultConfig {\r\n            ...\r\n        }\r\n        buildTypes {\r\n            ...\r\n        }\r\n        configurations {\r\n            all { // You should exclude one of them not both of them \r\n                exclude group: &quot;com.android.support&quot;, module: &quot;support-core-ui&quot;\r\n                exclude group: &quot;com.android.support&quot;, module: &quot;support-compat&quot;\r\n            }\r\n        }\r\n    }\r\n\r\nOfficial docs on module exclusion - [Excluding transitive dependencies][1]\r\n\r\nI also tried few more things before figuring the solution, like deleting `.gradle` from local machine, incase some old libraries got cached and causing the error, or resetting Android Studio, it just won&#39;t work.\r\n\r\nRepo I tested the solution [here][2], as you can see in this line I had to comment out the bundle module and specify latest updates to individual dependencies.\r\n\r\nYou can [read more][3] on module dependency errors for reference.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/dependency_downgrade_and_exclude.html#sec:excluding-transitive-deps\r\n  [2]: https://github.com/mgks/Android-SmartWebView/blob/6834d951a3491b5e0386311f949b4c6668210f41/app/build.gradle#L36\r\n  [3]: https://developer.android.com/studio/build/dependencies#view-dependency-tree","title":"How do I fix this &quot;Duplicate class error&quot; in Android Studio","body":"<p>Best way to fix this and prepare your project for later is to migrate completely to AndroidX. First check if your project is ready, <code>Refactor &gt; Migrate to AndroidX</code>. Once your project is independent of <code>jcenter</code> or any other older library/repo and compatible with <code>AndroidX</code> you won't need Jetifier anymore, so either comment it out or remove it. This should possibly fix the problem.</p>\n<pre><code>...\n#android.enableJetifier=false\n...\n</code></pre>\n<p>In my case this wasn't enough to solve the problem, if you still receive the same error but from a different library, it's possibly because of other existing dependencies, avoid using bundled libraries or wildcard ones <em>(in which system is left to guess)</em> make sure you update them all and clean rebuild the project.</p>\n<p>If you still have to keep some conflicting library, try excluding individual classes to avoid the error like this from <code>build.gradle</code>:</p>\n<pre><code>android {\n    ...\n    defaultConfig {\n        ...\n    }\n    buildTypes {\n        ...\n    }\n    configurations {\n        all { // You should exclude one of them not both of them \n            exclude group: &quot;com.android.support&quot;, module: &quot;support-core-ui&quot;\n            exclude group: &quot;com.android.support&quot;, module: &quot;support-compat&quot;\n        }\n    }\n}\n</code></pre>\n<p>Official docs on module exclusion - <a href=\"https://docs.gradle.org/current/userguide/dependency_downgrade_and_exclude.html#sec:excluding-transitive-deps\" rel=\"nofollow noreferrer\">Excluding transitive dependencies</a></p>\n<p>I also tried few more things before figuring the solution, like deleting <code>.gradle</code> from local machine, incase some old libraries got cached and causing the error, or resetting Android Studio, it just won't work.</p>\n<p>Repo I tested the solution <a href=\"https://github.com/mgks/Android-SmartWebView/blob/6834d951a3491b5e0386311f949b4c6668210f41/app/build.gradle#L36\" rel=\"nofollow noreferrer\">here</a>, as you can see in this line I had to comment out the bundle module and specify latest updates to individual dependencies.</p>\n<p>You can <a href=\"https://developer.android.com/studio/build/dependencies#view-dependency-tree\" rel=\"nofollow noreferrer\">read more</a> on module dependency errors for reference.</p>\n"},{"tags":[],"owner":{"account_id":12592661,"reputation":2175,"user_id":9158688,"display_name":"Md. Shofiulla"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1633291137,"creation_date":1633291137,"answer_id":69428433,"question_id":69304117,"body_markdown":"I am having the same issue and I fixed it by downgrading `play-services-ads` dependency like this. So you can try.\r\n \r\n\r\n    def ads_version = &quot;20.3.0&quot;\r\n    implementation &quot;com.google.android.gms:play-services-ads:$ads_version&quot;","title":"How do I fix this &quot;Duplicate class error&quot; in Android Studio","body":"<p>I am having the same issue and I fixed it by downgrading <code>play-services-ads</code> dependency like this. So you can try.</p>\n<pre><code>def ads_version = &quot;20.3.0&quot;\nimplementation &quot;com.google.android.gms:play-services-ads:$ads_version&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7690662,"reputation":735,"user_id":5827082,"display_name":"Savithru"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1637815719,"creation_date":1637815311,"answer_id":70105906,"question_id":69304117,"body_markdown":"I ran into the same issue today, and after many trial and errors, I  finally found that it was caused by a firebase dependency. If you&#39;re using firebase in your project, make sure to use the [latest BoM version][1] in `app/build.gradle`:\r\n\r\n\r\n    dependencies{\r\n       // implementation platform(&#39;com.google.firebase:firebase-bom:25.12.0&#39;)  &lt;-- Produces errors\r\n      implementation platform(&#39;com.google.firebase:firebase-bom:29.0.0&#39;)  //&lt;-- This works\r\n    }\r\n\r\nIf you are **not** using firebase and still get this error, you can try excluding the offending classes directly in `app/build.gradle`:\r\n\r\n    android {\r\n       defaultConfig {\r\n        ...\r\n       }\r\n       buildTypes {\r\n        ...\r\n       }\r\n\r\n       configurations {\r\n         all {\r\n           exclude group: &quot;com.google.android.gms&quot;, module: &quot;play-services-measurement-impl&quot;\r\n           exclude group: &quot;com.google.android.gms&quot;, module: &quot;play-services-measurement&quot;\r\n         }\r\n       }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/android/learn-more#bom","title":"How do I fix this &quot;Duplicate class error&quot; in Android Studio","body":"<p>I ran into the same issue today, and after many trial and errors, I  finally found that it was caused by a firebase dependency. If you're using firebase in your project, make sure to use the <a href=\"https://firebase.google.com/docs/android/learn-more#bom\" rel=\"noreferrer\">latest BoM version</a> in <code>app/build.gradle</code>:</p>\n<pre><code>dependencies{\n   // implementation platform('com.google.firebase:firebase-bom:25.12.0')  &lt;-- Produces errors\n  implementation platform('com.google.firebase:firebase-bom:29.0.0')  //&lt;-- This works\n}\n</code></pre>\n<p>If you are <strong>not</strong> using firebase and still get this error, you can try excluding the offending classes directly in <code>app/build.gradle</code>:</p>\n<pre><code>android {\n   defaultConfig {\n    ...\n   }\n   buildTypes {\n    ...\n   }\n\n   configurations {\n     all {\n       exclude group: &quot;com.google.android.gms&quot;, module: &quot;play-services-measurement-impl&quot;\n       exclude group: &quot;com.google.android.gms&quot;, module: &quot;play-services-measurement&quot;\n     }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14338249,"reputation":3000,"user_id":10357086,"display_name":"Dev4Life"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638946288,"creation_date":1638946288,"answer_id":70271018,"question_id":69304117,"body_markdown":"The error is being produced due to the conflicts between firebase &amp; google service dependency. So you have 2 options.\r\n\r\nYou can change the versions and keep doing that until you find the perfect working combination which is time consuming or you can find a solution that works every time so you don&#39;t have to play with the versions every time. You just use that solution wherever you get such error.\r\n\r\nHere, you need to use the updated method of injecting the firebase dependency as shown in the official documentation.\r\n\r\nPut this line in your dependency :\r\n\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:28.1.0&#39;)\r\n\r\nThen, You can use any firebase dependency without specifying the versions, and it will work flawlessly all the time!\r\n\r\nThe final code looks like this,\r\n\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:28.1.0&#39;)\r\n    implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n    implementation &#39;com.google.firebase:firebase-config&#39;\r\n    implementation &#39;com.google.firebase:firebase-crashlytics&#39;\r\n\r\nAnd it won&#39;t produce any duplication related errors with the play-services dependency.","title":"How do I fix this &quot;Duplicate class error&quot; in Android Studio","body":"<p>The error is being produced due to the conflicts between firebase &amp; google service dependency. So you have 2 options.</p>\n<p>You can change the versions and keep doing that until you find the perfect working combination which is time consuming or you can find a solution that works every time so you don't have to play with the versions every time. You just use that solution wherever you get such error.</p>\n<p>Here, you need to use the updated method of injecting the firebase dependency as shown in the official documentation.</p>\n<p>Put this line in your dependency :</p>\n<pre><code>implementation platform('com.google.firebase:firebase-bom:28.1.0')\n</code></pre>\n<p>Then, You can use any firebase dependency without specifying the versions, and it will work flawlessly all the time!</p>\n<p>The final code looks like this,</p>\n<pre><code>implementation platform('com.google.firebase:firebase-bom:28.1.0')\nimplementation 'com.google.firebase:firebase-analytics'\nimplementation 'com.google.firebase:firebase-config'\nimplementation 'com.google.firebase:firebase-crashlytics'\n</code></pre>\n<p>And it won't produce any duplication related errors with the play-services dependency.</p>\n"},{"tags":[],"owner":{"account_id":10267945,"reputation":138,"user_id":7577312,"accept_rate":33,"display_name":"Md. Rafsan Biswas"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1658654584,"creation_date":1658654584,"answer_id":73097140,"question_id":69304117,"body_markdown":"Add this line `android.enableJetifier=true` to your gradle.properties ","title":"How do I fix this &quot;Duplicate class error&quot; in Android Studio","body":"<p>Add this line <code>android.enableJetifier=true</code> to your gradle.properties</p>\n"}],"owner":{"account_id":1615932,"reputation":111,"user_id":1493628,"display_name":"user1493628"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19635,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":5,"score":10,"last_activity_date":1662111484,"creation_date":1632416206,"question_id":69304117,"body_markdown":"I updated implementation `com.google.android.gms:play-services-ads:19.8.0` to implementation `com.google.android.gms:play-services-ads:20.4.0` and now I get this error:\r\n\r\n```\r\nDuplicate class com.google.android.gms.internal.measurement.zzbs found in modules jetified-play-services-measurement-18.0.2-runtime (com.google.android.gms:play-services-measurement:18.0.2) and jetified-play-services-measurement-sdk-api-18.0.3-runtime (com.google.android.gms:play-services-measurement-sdk-api:18.0.3)\r\nDuplicate class com.google.android.gms.internal.measurement.zzl found in modules jetified-play-services-measurement-impl-18.0.2-runtime (com.google.android.gms:play-services-measurement-impl:18.0.2) and jetified-play-services-measurement-sdk-api-18.0.3-runtime (com.google.android.gms:play-services-measurement-sdk-api:18.0.3)\r\nDuplicate class com.google.android.gms.measurement.internal.zzfh found in modules jetified-play-services-measurement-base-18.0.3-runtime (com.google.android.gms:play-services-measurement-base:18.0.3) and jetified-play-services-measurement-impl-18.0.2-runtime (com.google.android.gms:play-services-measurement-impl:18.0.2)\r\nDuplicate class com.google.android.gms.measurement.internal.zzgn found in modules jetified-play-services-measurement-base-18.0.3-runtime (com.google.android.gms:play-services-measurement-base:18.0.3) and jetified-play-services-measurement-impl-18.0.2-runtime (com.google.android.gms:play-services-measurement-impl:18.0.2)\r\nDuplicate class com.google.android.gms.measurement.internal.zzgo found in modules jetified-play-services-measurement-base-18.0.3-runtime (com.google.android.gms:play-services-measurement-base:18.0.3) and jetified-play-services-measurement-impl-18.0.2-runtime (com.google.android.gms:play-services-measurement-impl:18.0.2)\r\nDuplicate class com.google.android.gms.measurement.internal.zzgp found in modules jetified-play-services-measurement-base-18.0.3-runtime (com.google.android.gms:play-services-measurement-base:18.0.3) and jetified-play-services-measurement-impl-18.0.2-runtime (com.google.android.gms:play-services-measurement-impl:18.0.2)\r\nDuplicate class com.google.android.gms.measurement.internal.zzgq found in modules jetified-play-services-measurement-base-18.0.3-runtime (com.google.android.gms:play-services-measurement-base:18.0.3) and jetified-play-services-measurement-impl-18.0.2-runtime (com.google.android.gms:play-services-measurement-impl:18.0.2)\r\nDuplicate class com.google.android.gms.measurement.internal.zzhs found in modules jetified-play-services-measurement-18.0.2-runtime (com.google.android.gms:play-services-measurement:18.0.2) and jetified-play-services-measurement-base-18.0.3-runtime (com.google.android.gms:play-services-measurement-base:18.0.3)\r\nDuplicate class com.google.android.gms.measurement.internal.zzhx found in modules jetified-play-services-measurement-base-18.0.3-runtime (com.google.android.gms:play-services-measurement-base:18.0.3) and jetified-play-services-measurement-impl-18.0.2-runtime (com.google.android.gms:play-services-measurement-impl:18.0.2)\r\n```\r\n\r\nHow to fix this error?","title":"How do I fix this &quot;Duplicate class error&quot; in Android Studio","body":"<p>I updated implementation <code>com.google.android.gms:play-services-ads:19.8.0</code> to implementation <code>com.google.android.gms:play-services-ads:20.4.0</code> and now I get this error:</p>\n<pre><code>Duplicate class com.google.android.gms.internal.measurement.zzbs found in modules jetified-play-services-measurement-18.0.2-runtime (com.google.android.gms:play-services-measurement:18.0.2) and jetified-play-services-measurement-sdk-api-18.0.3-runtime (com.google.android.gms:play-services-measurement-sdk-api:18.0.3)\nDuplicate class com.google.android.gms.internal.measurement.zzl found in modules jetified-play-services-measurement-impl-18.0.2-runtime (com.google.android.gms:play-services-measurement-impl:18.0.2) and jetified-play-services-measurement-sdk-api-18.0.3-runtime (com.google.android.gms:play-services-measurement-sdk-api:18.0.3)\nDuplicate class com.google.android.gms.measurement.internal.zzfh found in modules jetified-play-services-measurement-base-18.0.3-runtime (com.google.android.gms:play-services-measurement-base:18.0.3) and jetified-play-services-measurement-impl-18.0.2-runtime (com.google.android.gms:play-services-measurement-impl:18.0.2)\nDuplicate class com.google.android.gms.measurement.internal.zzgn found in modules jetified-play-services-measurement-base-18.0.3-runtime (com.google.android.gms:play-services-measurement-base:18.0.3) and jetified-play-services-measurement-impl-18.0.2-runtime (com.google.android.gms:play-services-measurement-impl:18.0.2)\nDuplicate class com.google.android.gms.measurement.internal.zzgo found in modules jetified-play-services-measurement-base-18.0.3-runtime (com.google.android.gms:play-services-measurement-base:18.0.3) and jetified-play-services-measurement-impl-18.0.2-runtime (com.google.android.gms:play-services-measurement-impl:18.0.2)\nDuplicate class com.google.android.gms.measurement.internal.zzgp found in modules jetified-play-services-measurement-base-18.0.3-runtime (com.google.android.gms:play-services-measurement-base:18.0.3) and jetified-play-services-measurement-impl-18.0.2-runtime (com.google.android.gms:play-services-measurement-impl:18.0.2)\nDuplicate class com.google.android.gms.measurement.internal.zzgq found in modules jetified-play-services-measurement-base-18.0.3-runtime (com.google.android.gms:play-services-measurement-base:18.0.3) and jetified-play-services-measurement-impl-18.0.2-runtime (com.google.android.gms:play-services-measurement-impl:18.0.2)\nDuplicate class com.google.android.gms.measurement.internal.zzhs found in modules jetified-play-services-measurement-18.0.2-runtime (com.google.android.gms:play-services-measurement:18.0.2) and jetified-play-services-measurement-base-18.0.3-runtime (com.google.android.gms:play-services-measurement-base:18.0.3)\nDuplicate class com.google.android.gms.measurement.internal.zzhx found in modules jetified-play-services-measurement-base-18.0.3-runtime (com.google.android.gms:play-services-measurement-base:18.0.3) and jetified-play-services-measurement-impl-18.0.2-runtime (com.google.android.gms:play-services-measurement-impl:18.0.2)\n</code></pre>\n<p>How to fix this error?</p>\n"},{"tags":["java","eclipse","utf"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":3,"creation_date":1655042419,"post_id":72592782,"comment_id":128231556,"body_markdown":"The problem is your font. &quot;General &gt; Appearance &gt; Color and Fonts &gt; Terminal &gt; Terminal Console Font&quot;. Select a font that supports your desired glyphs. Good luck!","body":"The problem is your font. &quot;General &gt; Appearance &gt; Color and Fonts &gt; Terminal &gt; Terminal Console Font&quot;. Select a font that supports your desired glyphs. Good luck!"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1655043082,"post_id":72592782,"comment_id":128231723,"body_markdown":"*set UTF-8 as the default encoding for all content types.* I never quite get that kind of advice - surely it would only work for *subsequent* source files? If the current encoding of your source files is *not* Unicode (quite likely in WIndows) then it&#39;s not likely to suddenly make your source come good is it?","body":"<i>set UTF-8 as the default encoding for all content types.</i> I never quite get that kind of advice - surely it would only work for <i>subsequent</i> source files? If the current encoding of your source files is <i>not</i> Unicode (quite likely in WIndows) then it&#39;s not likely to suddenly make your source come good is it?"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":2,"creation_date":1655043538,"post_id":72592782,"comment_id":128231815,"body_markdown":"Java strings are always Unicode regardless of the source file encoding so they always support Cyrillic. As already stated it looks like the font your console is using does not support the Cyrillic characters.","body":"Java strings are always Unicode regardless of the source file encoding so they always support Cyrillic. As already stated it looks like the font your console is using does not support the Cyrillic characters."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1655048638,"post_id":72592782,"comment_id":128232900,"body_markdown":"*It does not work only in the console, but everything is ok in the terminal* The way I interpret that is that the &quot;terminal&quot; is cmd.exe and the &quot;console&quot; is the Eclipse input/output area. Please say if that&#39;s not correct","body":"<i>It does not work only in the console, but everything is ok in the terminal</i> The way I interpret that is that the &quot;terminal&quot; is cmd.exe and the &quot;console&quot; is the Eclipse input/output area. Please say if that&#39;s not correct"}],"answers":[{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655046115,"creation_date":1655046115,"answer_id":72593364,"question_id":72592782,"body_markdown":"That the glyph &quot;�&quot; is displayed is an indication that the issue is not the encoding (the mapping of the binary code to a character or vice-versa), but the mapping of a character to the related graphical representation (usually referred to as &#39;glyph&#39;).\r\n\r\nThe latter comes with the font files, but not all font files do provide glyphs for all characters, and missing characters will then be shown as the replacement or default glyph, defined by that font file.\r\n\r\nQuite often is this the diamond with the question mark, but other pictures are known as well (so the open rectangle or a rectangle with a question mark).\r\n\r\nTo display the Cyrillic text, you need to select a font that covers the respective Unicode section – best would be a font covering the whole Unicode range.","title":"How to support Cyrillic alphabet in Eclipse?","body":"<p>That the glyph &quot;�&quot; is displayed is an indication that the issue is not the encoding (the mapping of the binary code to a character or vice-versa), but the mapping of a character to the related graphical representation (usually referred to as 'glyph').</p>\n<p>The latter comes with the font files, but not all font files do provide glyphs for all characters, and missing characters will then be shown as the replacement or default glyph, defined by that font file.</p>\n<p>Quite often is this the diamond with the question mark, but other pictures are known as well (so the open rectangle or a rectangle with a question mark).</p>\n<p>To display the Cyrillic text, you need to select a font that covers the respective Unicode section – best would be a font covering the whole Unicode range.</p>\n"}],"owner":{"account_id":23843080,"reputation":1,"user_id":17847906,"display_name":"sub1k"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":616,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662111420,"creation_date":1655041614,"question_id":72592782,"body_markdown":"How to make it so that when the Russian language is output, Russian letters are output, and not �� ����� �������� �����! It does not work only in the console, but everything is ok in the terminal\r\n\r\nI&#39;ve tried this \r\n1) Window &gt; Preferences &gt; General &gt; Content Types, set UTF-8 as the default encoding for all content types.\r\n\r\n2) Window &gt; Preferences &gt; General &gt; Workspace, set Text file encoding to Other : UTF-8\r\n\r\nand this\r\n\r\nWindow -&gt; Preferences -&gt; Expand General and click Workspace, text file encoding (near bottom) has an encoding chooser.\r\nSelect &quot;Other&quot; radio button -&gt; Select UTF-8 from the drop down\r\n\r\nand this\r\n\r\nOpen eclipse.ini in your eclipse home directory Or STS.ini in case of STS(Spring Tool Suite)\r\nput the line below at the end of the file\r\n-Dfile.encoding=UTF-8\r\n\r\nbut it still can&#39;t be done.\r\nhelp pls!","title":"How to support Cyrillic alphabet in Eclipse?","body":"<p>How to make it so that when the Russian language is output, Russian letters are output, and not �� ����� �������� �����! It does not work only in the console, but everything is ok in the terminal</p>\n<p>I've tried this</p>\n<ol>\n<li><p>Window &gt; Preferences &gt; General &gt; Content Types, set UTF-8 as the default encoding for all content types.</p>\n</li>\n<li><p>Window &gt; Preferences &gt; General &gt; Workspace, set Text file encoding to Other : UTF-8</p>\n</li>\n</ol>\n<p>and this</p>\n<p>Window -&gt; Preferences -&gt; Expand General and click Workspace, text file encoding (near bottom) has an encoding chooser.\nSelect &quot;Other&quot; radio button -&gt; Select UTF-8 from the drop down</p>\n<p>and this</p>\n<p>Open eclipse.ini in your eclipse home directory Or STS.ini in case of STS(Spring Tool Suite)\nput the line below at the end of the file\n-Dfile.encoding=UTF-8</p>\n<p>but it still can't be done.\nhelp pls!</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1661854091,"post_id":73540603,"comment_id":129864950,"body_markdown":"Why don&#39;t you check for null? Btw, you can write your pattern as `.*\\\\b(?:T20|SPE).*`","body":"Why don&#39;t you check for null? Btw, you can write your pattern as <code>.*\\\\b(?:T20|SPE).*</code>"},{"owner":{"account_id":21914286,"reputation":1,"user_id":16198385,"display_name":"Eas"},"score":0,"creation_date":1661854212,"post_id":73540603,"comment_id":129865007,"body_markdown":"Thank you. How can I check for null? you mean in the regex or in an if statement?","body":"Thank you. How can I check for null? you mean in the regex or in an if statement?"},{"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1661857004,"post_id":73540603,"comment_id":129865936,"body_markdown":"You could check for `matcher.find()` like this for example https://ideone.com/KcVJlE","body":"You could check for <code>matcher.find()</code> like this for example <a href=\"https://ideone.com/KcVJlE\" rel=\"nofollow noreferrer\">ideone.com/KcVJlE</a>"},{"owner":{"account_id":21914286,"reputation":1,"user_id":16198385,"display_name":"Eas"},"score":0,"creation_date":1661860145,"post_id":73540603,"comment_id":129867066,"body_markdown":"Thanks again for taking the time. I tried this, but this brings nothing at all, not even the 4 first lines.","body":"Thanks again for taking the time. I tried this, but this brings nothing at all, not even the 4 first lines."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1661871407,"post_id":73540603,"comment_id":129871916,"body_markdown":"I really have a hard time understanding your requirements for the matches, could you add your file to parse at least with a few lines as text in your question as well, please?","body":"I really have a hard time understanding your requirements for the matches, could you add your file to parse at least with a few lines as text in your question as well, please?"},{"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1661881513,"post_id":73540603,"comment_id":129875881,"body_markdown":"I don&#39;t know which part of of your code returns null, but you can start with `if (matcher.find()) {`  and checks like `if (null != b.TOOLS_Kommentar &amp;&amp; b.TOOLS_Kommentar.equals(res)) {` What can be the possible values of `res`?","body":"I don&#39;t know which part of of your code returns null, but you can start with <code>if (matcher.find()) {</code>  and checks like <code>if (null != b.TOOLS_Kommentar &amp;&amp; b.TOOLS_Kommentar.equals(res)) {</code> What can be the possible values of <code>res</code>?"},{"owner":{"account_id":21432093,"reputation":177,"user_id":15788271,"display_name":"David Tejuosho"},"score":0,"creation_date":1661883001,"post_id":73540603,"comment_id":129876340,"body_markdown":"Use String trim. https://www.geeksforgeeks.org/java-string-trim-method-example/","body":"Use String trim. <a href=\"https://www.geeksforgeeks.org/java-string-trim-method-example/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/java-string-trim-method-example</a>"},{"owner":{"account_id":21914286,"reputation":1,"user_id":16198385,"display_name":"Eas"},"score":0,"creation_date":1661933105,"post_id":73540603,"comment_id":129886673,"body_markdown":"hey @Thefourthbird, i tried that. doesnt make a difference. .res is basically the matcher.group() result, meaning it should bring all the lines that contain either T20 OR SPE.","body":"hey @Thefourthbird, i tried that. doesnt make a difference. .res is basically the matcher.group() result, meaning it should bring all the lines that contain either T20 OR SPE."},{"owner":{"account_id":21914286,"reputation":1,"user_id":16198385,"display_name":"Eas"},"score":0,"creation_date":1661933140,"post_id":73540603,"comment_id":129886689,"body_markdown":"hey @DavidTejuosho thanks for the comment, I tried that too and it does not help.","body":"hey @DavidTejuosho thanks for the comment, I tried that too and it does not help."}],"answers":[{"tags":[],"owner":{"account_id":21914286,"reputation":1,"user_id":16198385,"display_name":"Eas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662111205,"creation_date":1662111205,"answer_id":73580532,"question_id":73540603,"body_markdown":"Thank you all for your contributions, I managed to make it work by going through all the lines first and then making a filter to see if something was null or not and then to give the right values if not. \r\nSo the regex that I made use in the end was `Pattern pattern = Pattern.compile(&quot;.*&quot;); `","title":"Java Regex pattern skip empty lines","body":"<p>Thank you all for your contributions, I managed to make it work by going through all the lines first and then making a filter to see if something was null or not and then to give the right values if not.\nSo the regex that I made use in the end was <code>Pattern pattern = Pattern.compile(&quot;.*&quot;); </code></p>\n"}],"owner":{"account_id":21914286,"reputation":1,"user_id":16198385,"display_name":"Eas"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1662111205,"creation_date":1661853754,"question_id":73540603,"body_markdown":"I am new in Java and I would appreciate a bit of help. \r\nI have a file with a few empty lines in between. With my current pattern, I can only get in the first 4 lines and then I cannot reach the rest cause it brings an  Error: null. \r\nThe result of the code is only the 4 first lines of the file as you can see them in the picture.\r\nIs there a regex to SKIP empty lines in order to avoid getting a NULL value? \r\n\r\nMy current pattern and code look like this: \r\n\r\n    Pattern pattern = Pattern.compile(&quot;^T20.*|^SPE.*|T20.*|SPE.*&quot;);\r\n    Matcher matcher = pattern.matcher(buchung.TOOLS_Kommentar);\r\n    boolean bFind = matcher.find();\r\n    String res = matcher.group();\r\n    \r\n    for(Buchungen b : buchungsListe) {\r\n        if(b.TOOLS_Kommentar.equals(res)) {\r\n            b.TOOLS_JiraTicket = res;\r\n        } else {\r\n            b.TOOLS_JiraTicket = &quot;&quot;;\r\n        }\r\n    }\r\n\r\n[File picture][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/h3dlz.png\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    0000             0000000000 0000000000                                       001     T20-1513  El                                                                                                                                                                          \r\n    0000             0000000000 0000000000                                       001     T20-1513  El                                                                                                                                                                          \r\n    0000             0000000000 0000000000                                       001     T20-1513  El                                                                                                                                                                           \r\n    0000             0000000000 0000000000                                       001     T20-1513                                                                                                                                                                         \r\n    0000000000 0000000000                                       001                                                                                                                                                                                                                         \r\n    0000000000 0000000000                                       001                                                                                                                                                                                                                         \r\n    0000000000 0000000000                                       001                                                                                                                                                                                                                         \r\n    0000000000 0000000000                                       001                                                                                                                                                                                                                         \r\n    0000000000 0000000000                                       001                                                                                                                                                                                                                         \r\n    0000000000 0000000000                                       001                                                                                                                                                                                                                         \r\n    0000000000 0000000000                                       001                                                                                                                                                                                                                         \r\n    0000000000 0000000000                                       001                                                                                                                                                                                                                         \r\n    0000000000 0000000000                                       001                                                                                                                                                                                                                         \r\n    0000000000 0000000000                                       001                                                                                                                                                                                                                         \r\n    0001             0000000000 0000000000                                       001     Migratio                                                                                                                                                                                        \r\n    0001             0000000000 0000000000                                       001     Migratio                                                                                                                                                                                        \r\n    0000000000 0000000000                                       001     Upgrade                                                                                                                                                                                               \r\n    0000000000 0000000000                                       001     Upgrade                                                                                                                                                                                                 \r\n    0000000000 0000000000                                       001     Upgrade\r\n    0000000000 0000000000                                       001     Upgrade\r\n    0000000000 0000000000                                       001                                                                                                                                                                                                                         \r\n    0000000000 0000000000                                       001                                                                                                                                                                                                                         \r\n    0000000000 0000000000                                       001     Git                                                                                                                                                                                                \r\n    0000000000 0000000000                                       001     Git                                                                                                                                                                                                     \r\n    0000000000 0000000000                                       001     SPE-000                                                                                                                                                                                                       \r\n    0000000000 0000000000                                       001     SPE-000                                                                                                                                                                                                      \r\n          \r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Java Regex pattern skip empty lines","body":"<p>I am new in Java and I would appreciate a bit of help.\nI have a file with a few empty lines in between. With my current pattern, I can only get in the first 4 lines and then I cannot reach the rest cause it brings an  Error: null.\nThe result of the code is only the 4 first lines of the file as you can see them in the picture.\nIs there a regex to SKIP empty lines in order to avoid getting a NULL value?</p>\n<p>My current pattern and code look like this:</p>\n<pre><code>Pattern pattern = Pattern.compile(&quot;^T20.*|^SPE.*|T20.*|SPE.*&quot;);\nMatcher matcher = pattern.matcher(buchung.TOOLS_Kommentar);\nboolean bFind = matcher.find();\nString res = matcher.group();\n\nfor(Buchungen b : buchungsListe) {\n    if(b.TOOLS_Kommentar.equals(res)) {\n        b.TOOLS_JiraTicket = res;\n    } else {\n        b.TOOLS_JiraTicket = &quot;&quot;;\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/h3dlz.png\" rel=\"nofollow noreferrer\">File picture</a></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>0000             0000000000 0000000000                                       001     T20-1513  El                                                                                                                                                                          \n0000             0000000000 0000000000                                       001     T20-1513  El                                                                                                                                                                          \n0000             0000000000 0000000000                                       001     T20-1513  El                                                                                                                                                                           \n0000             0000000000 0000000000                                       001     T20-1513                                                                                                                                                                         \n0000000000 0000000000                                       001                                                                                                                                                                                                                         \n0000000000 0000000000                                       001                                                                                                                                                                                                                         \n0000000000 0000000000                                       001                                                                                                                                                                                                                         \n0000000000 0000000000                                       001                                                                                                                                                                                                                         \n0000000000 0000000000                                       001                                                                                                                                                                                                                         \n0000000000 0000000000                                       001                                                                                                                                                                                                                         \n0000000000 0000000000                                       001                                                                                                                                                                                                                         \n0000000000 0000000000                                       001                                                                                                                                                                                                                         \n0000000000 0000000000                                       001                                                                                                                                                                                                                         \n0000000000 0000000000                                       001                                                                                                                                                                                                                         \n0001             0000000000 0000000000                                       001     Migratio                                                                                                                                                                                        \n0001             0000000000 0000000000                                       001     Migratio                                                                                                                                                                                        \n0000000000 0000000000                                       001     Upgrade                                                                                                                                                                                               \n0000000000 0000000000                                       001     Upgrade                                                                                                                                                                                                 \n0000000000 0000000000                                       001     Upgrade\n0000000000 0000000000                                       001     Upgrade\n0000000000 0000000000                                       001                                                                                                                                                                                                                         \n0000000000 0000000000                                       001                                                                                                                                                                                                                         \n0000000000 0000000000                                       001     Git                                                                                                                                                                                                \n0000000000 0000000000                                       001     Git                                                                                                                                                                                                     \n0000000000 0000000000                                       001     SPE-000                                                                                                                                                                                                       \n0000000000 0000000000                                       001     SPE-000                                                                                                                                                                                                      \n      </code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","spring","security","checkmarx"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662112459,"post_id":73580474,"comment_id":129935699,"body_markdown":"Disable the check? I suspect it scans for `@CrossOrigin` but there are other means to do that as well which aren&#39;t taken into account ( I suspect). Those rule based static checks will only get you so far.","body":"Disable the check? I suspect it scans for <code>@CrossOrigin</code> but there are other means to do that as well which aren&#39;t taken into account ( I suspect). Those rule based static checks will only get you so far."},{"owner":{"account_id":24908722,"reputation":51,"user_id":18778490,"display_name":"33nya"},"score":0,"creation_date":1662347097,"post_id":73580474,"comment_id":129977060,"body_markdown":"@M.Deinum Our client were unwilling to do that, but maybe it&#39;s the only way to resolve this problem...&#128549; Thank you for your reply!","body":"@M.Deinum Our client were unwilling to do that, but maybe it&#39;s the only way to resolve this problem...😥 Thank you for your reply!"}],"owner":{"account_id":24908722,"reputation":51,"user_id":18778490,"display_name":"33nya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1095,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1662110909,"creation_date":1662110909,"question_id":73580474,"body_markdown":"My project was scanned by Checkmarx, and all the controller methods had this low level risk: **Spring Overly Permissive Cross Origin Resource Sharing Policy**.\r\n\r\n```\r\npublic JSONObject example(@RequestBody JSONObject param) {...}\r\n```\r\n\r\nThe report doesn&#39;t say anything about the problem. Neither why it cause the risk, nor how to fix it.\r\n\r\nWe have CORS setting in the application.yaml: \r\n\r\n```\r\nsecurity:\r\n  cors:\r\n    allowed-origins: \r\n      https://example1.com,\r\n      https://example2.com\r\n    allowed-methods:\r\n      GET,\r\n      POST,\r\n      PUT\r\n```\r\n\r\nBut still showing this vulnerability. Is there anyway to prevent Checkmarx showing this?","title":"Checkmarx: Spring Overly Permissive Cross Origin Resource Sharing Policy in Java","body":"<p>My project was scanned by Checkmarx, and all the controller methods had this low level risk: <strong>Spring Overly Permissive Cross Origin Resource Sharing Policy</strong>.</p>\n<pre><code>public JSONObject example(@RequestBody JSONObject param) {...}\n</code></pre>\n<p>The report doesn't say anything about the problem. Neither why it cause the risk, nor how to fix it.</p>\n<p>We have CORS setting in the application.yaml:</p>\n<pre><code>security:\n  cors:\n    allowed-origins: \n      https://example1.com,\n      https://example2.com\n    allowed-methods:\n      GET,\n      POST,\n      PUT\n</code></pre>\n<p>But still showing this vulnerability. Is there anyway to prevent Checkmarx showing this?</p>\n"},{"tags":["java","spring","spring-boot","vaadin","vaadin14"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":5,"creation_date":1662110907,"post_id":73580424,"comment_id":129935164,"body_markdown":"`&quot;http://&quot; + propertybox.getValue(CandidatoLink.LINK)`?","body":"<code>&quot;http:&#47;&#47;&quot; + propertybox.getValue(CandidatoLink.LINK)</code>?"},{"owner":{"account_id":295383,"reputation":4686,"user_id":599765,"accept_rate":22,"display_name":"Andr&#233; Schild"},"score":3,"creation_date":1662112010,"post_id":73580424,"comment_id":129935532,"body_markdown":"Or probably https://","body":"Or probably https://"},{"owner":{"account_id":2311100,"reputation":319,"user_id":2029209,"display_name":"CT Liv"},"score":0,"creation_date":1662137727,"post_id":73580424,"comment_id":129944568,"body_markdown":"Did you try `anchor.getElement().setAttribute(&quot;router-ignore&quot;, true);`? See [here](https://stackoverflow.com/questions/72727825/vaadin-anchor-sets-internal-url-in-browser-but-does-not-navigate)","body":"Did you try <code>anchor.getElement().setAttribute(&quot;router-ignore&quot;, true);</code>? See <a href=\"https://stackoverflow.com/questions/72727825/vaadin-anchor-sets-internal-url-in-browser-but-does-not-navigate\">here</a>"}],"owner":{"account_id":26226009,"reputation":21,"user_id":19902708,"display_name":"Matt-Lombardi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1662110765,"creation_date":1662110641,"question_id":73580424,"body_markdown":"I&#39;m trying to create a link (href) that open itself in a new page. Should be &quot;simple&quot;.\r\n\r\nThat&#39;s the focus code:\r\n\r\n    if (propertybox.getValue(CandidatoLink.LINK) != null) {\r\n\t\tAnchor anchor = new Anchor(propertybox.getValue(CandidatoLink.LINK),\r\n\t\t\t\tpropertybox.getValue(CandidatoLink.LINK));\r\n\t\tanchor.setTarget(&quot;_blank&quot;);\r\n\t\treturn anchor;\r\n\t}\r\n\r\nThis is to get the link from the database, like &quot;www.google.com&quot;:\r\n\r\n    propertybox.getValue(CandidatoLink.LINK));\r\n\r\nThis is to get the link opening in a new tab of the browser:\r\n\r\n    anchor.setTarget(&quot;_blank&quot;);\r\n\r\nIt works all just fine: I can get the link opened in a new tab. The only problem is that the system think that&#39;s an intern page of the website and sees it as a Route! That&#39;s the problem. It will open a new tab with this link: http://localhost:8080/www.google.com\r\n\r\nI can&#39;t remove the first part (http://localhost:8080/). Can someone help me?\r\n\r\nI use Java 11.0.15, Vaadin 14 (Maven/Spring Boot) and my IDE is Eclipse 2022-06 (4.24.0).\r\n\r\n","title":"I can&#39;t create an external link (href) that open itself without the localhost:8080 in front of it","body":"<p>I'm trying to create a link (href) that open itself in a new page. Should be &quot;simple&quot;.</p>\n<p>That's the focus code:</p>\n<pre><code>if (propertybox.getValue(CandidatoLink.LINK) != null) {\n    Anchor anchor = new Anchor(propertybox.getValue(CandidatoLink.LINK),\n            propertybox.getValue(CandidatoLink.LINK));\n    anchor.setTarget(&quot;_blank&quot;);\n    return anchor;\n}\n</code></pre>\n<p>This is to get the link from the database, like &quot;www.google.com&quot;:</p>\n<pre><code>propertybox.getValue(CandidatoLink.LINK));\n</code></pre>\n<p>This is to get the link opening in a new tab of the browser:</p>\n<pre><code>anchor.setTarget(&quot;_blank&quot;);\n</code></pre>\n<p>It works all just fine: I can get the link opened in a new tab. The only problem is that the system think that's an intern page of the website and sees it as a Route! That's the problem. It will open a new tab with this link: http://localhost:8080/www.google.com</p>\n<p>I can't remove the first part (http://localhost:8080/). Can someone help me?</p>\n<p>I use Java 11.0.15, Vaadin 14 (Maven/Spring Boot) and my IDE is Eclipse 2022-06 (4.24.0).</p>\n"},{"tags":["java","android","android-fragments","android-recyclerview"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1662075432,"post_id":73576041,"comment_id":129928512,"body_markdown":"Have the two fragments share a viewmodel. See https://developer.android.com/guide/fragments/communicate#fragments and https://developer.android.com/codelabs/basic-android-kotlin-training-shared-viewmodel.","body":"Have the two fragments share a viewmodel. See <a href=\"https://developer.android.com/guide/fragments/communicate#fragments\" rel=\"nofollow noreferrer\">developer.android.com/guide/fragments/communicate#fragments</a> and <a href=\"https://developer.android.com/codelabs/basic-android-kotlin-training-shared-viewmodel\" rel=\"nofollow noreferrer\">developer.android.com/codelabs/&hellip;</a>."},{"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"score":0,"creation_date":1662086694,"post_id":73576041,"comment_id":129930030,"body_markdown":"Another option if you don&#39;t want to use the shared `viewModel`, you can establish the communication via a listener/observer pattern: define an interface inside `fragmentA` and implemented in the hosted activity and similarly establish the communication between the activity and  `fragmentB`.","body":"Another option if you don&#39;t want to use the shared <code>viewModel</code>, you can establish the communication via a listener/observer pattern: define an interface inside <code>fragmentA</code> and implemented in the hosted activity and similarly establish the communication between the activity and  <code>fragmentB</code>."}],"answers":[{"tags":[],"owner":{"account_id":2102475,"reputation":73,"user_id":1936145,"display_name":"Pratik K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662110539,"creation_date":1662110539,"answer_id":73580393,"question_id":73576041,"body_markdown":"You could use `ViewModel` to solve your use-case. You could have something like  `SelectedStructureViewModel` that will be set in the `SelectionCellFragment` when the user taps to select the structure. While the `MapCellFragment` can observe this `SelectedStructureViewModel` to be notified whenever the user selects the structure. You can then query it when user taps a place on the Map.","title":"How Do I Pass Data Between Two Fragments On The Same Activity?","body":"<p>You could use <code>ViewModel</code> to solve your use-case. You could have something like  <code>SelectedStructureViewModel</code> that will be set in the <code>SelectionCellFragment</code> when the user taps to select the structure. While the <code>MapCellFragment</code> can observe this <code>SelectedStructureViewModel</code> to be notified whenever the user selects the structure. You can then query it when user taps a place on the Map.</p>\n"}],"owner":{"account_id":19816613,"reputation":25,"user_id":14514145,"display_name":"Nick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73580393,"answer_count":1,"score":0,"last_activity_date":1662110539,"creation_date":1662071710,"question_id":73576041,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nHowdy, I&#39;m working on a project and I&#39;m running into some issues. Namely, I have two fragments, each with their own adapter as both fragments are meant to be able to swipe horizontally. A photo should be attached of the layout I have for further clarity. I would like to be able to tap the bottom fragment, which when I tap a place on the top fragment, the image I tapped or &quot;Structure&quot; will be placed down. However, what I can&#39;t figure out is how to smoothly transfer this data and if I were to do it through the activity, how do I do it as the activity has already run through all its code. Could somebody please help, it would be greatly appreciated. \r\n\r\n**Main Activity**\r\n```\r\npublic class MainMap extends AppCompatActivity\r\n{\r\n    MapData data = MapData.get();\r\n    StructureData structure = StructureData.get();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState)\r\n    {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.main_map);\r\n\r\n        FragmentManager frag = getSupportFragmentManager();    //To manage the map fragment\r\n        MapCellFragment rv = (MapCellFragment) frag.findFragmentById(R.id.map);\r\n\r\n        FragmentManager selectionFrag = getSupportFragmentManager();    //To manage the selection fragment\r\n        SelectionCellFragment cf = (SelectionCellFragment) selectionFrag.findFragmentById(R.id.bar);\r\n\r\n        if (rv == null)\r\n        {\r\n            rv = new MapCellFragment(data);\r\n            frag.beginTransaction().add(R.id.map, rv).commit();\r\n        }\r\n\r\n        if (cf == null)\r\n        {\r\n            cf = new SelectionCellFragment(structure);\r\n            selectionFrag.beginTransaction().add(R.id.bar, cf).commit();\r\n        }\r\n        \r\n    }\r\n```\r\n\r\n**Map Fragment**\r\n```\r\n    public MapData data;\r\n\r\n    public MapCellFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    public MapCellFragment(MapData data)\r\n    {\r\n        this.data = data;\r\n    }\r\n\r\n    /**\r\n     * Use this factory method to create a new instance of\r\n     * this fragment using the provided parameters.\r\n     *\r\n     * @param param1 Parameter 1.\r\n     * @param param2 Parameter 2.\r\n     * @return A new instance of fragment gridCellFragment.\r\n     */\r\n    // TODO: Rename and change types and number of parameters\r\n    public static MapCellFragment newInstance(String param1, String param2) {\r\n        MapCellFragment fragment = new MapCellFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.map_fragment, container, false);\r\n        RecyclerView rv = (RecyclerView) view.findViewById(R.id.recyclerview);\r\n        rv.setLayoutManager(new GridLayoutManager(getActivity(), MapData.HEIGHT, GridLayoutManager.HORIZONTAL,false));\r\n        MapAdapter myAdapter = new MapAdapter(data);\r\n        rv.setAdapter(myAdapter);\r\n        return view;\r\n    }\r\n```\r\n\r\n**Bottom Bar Fragment**\r\nThis was essentially a copy and paste of the other fragment, just changing the data which goes in and the XML it&#39;s attached to. \r\n\r\n**Map Adapter**\r\n```\r\npackage com.example.map;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\npublic class MapAdapter extends RecyclerView.Adapter&lt;MapViewHolder&gt;\r\n{\r\n    MapData data;\r\n\r\n    public MapAdapter(MapData data)\r\n    {\r\n        this.data = data;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MapViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType)\r\n    {\r\n        LayoutInflater layoutInflater = LayoutInflater.from(parent.getContext());\r\n        View view = layoutInflater.inflate(R.layout.grid_cells,parent,false);\r\n\r\n        //Resizes the images within the grid cells xml file\r\n        int size = parent.getMeasuredHeight() / MapData.HEIGHT + 1;\r\n        ViewGroup.LayoutParams lp = view.getLayoutParams();\r\n        lp.width = size;\r\n        lp.height = size;\r\n\r\n        MapViewHolder myViewHolder = new MapViewHolder(view);\r\n        return myViewHolder;\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MapViewHolder holder, int position)\r\n    {\r\n        int row = position % MapData.HEIGHT;\r\n        int col = position / MapData.HEIGHT;\r\n\r\n        MapElement ele = data.get(row, col);\r\n\r\n        holder.ne.setImageResource(ele.getNorthEast());\r\n        holder.nw.setImageResource(ele.getNorthWest());\r\n        holder.se.setImageResource(ele.getSouthEast());\r\n        holder.sw.setImageResource(ele.getSouthWest());\r\n\r\n        if(ele.getStructure() != null)\r\n        {\r\n            holder.mapStruct.setImageResource(ele.getStructure().getDrawableId());\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount()\r\n    {\r\n        return 300;\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Map View Holder**\r\n```\r\npackage com.example.map;\r\n\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.Objects;\r\n\r\npublic class MapViewHolder extends RecyclerView.ViewHolder {\r\n    ImageView nw;\r\n    ImageView ne;\r\n    ImageView sw;\r\n    ImageView se;\r\n    ImageView mapStruct;\r\n\r\n    public MapViewHolder(@NonNull View itemView)\r\n    {\r\n        super(itemView);\r\n        nw = itemView.findViewById(R.id.northWest);\r\n        ne = itemView.findViewById(R.id.northEast);\r\n        sw = itemView.findViewById(R.id.southWest);\r\n        se = itemView.findViewById(R.id.southEast);\r\n        mapStruct = itemView.findViewById(R.id.structure);\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Bar Adapter**\r\n```\r\npackage com.example.map;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\npublic class SelectionAdapter extends RecyclerView.Adapter&lt;SelectionViewHolder&gt;\r\n{\r\n    StructureData data;\r\n\r\n    public SelectionAdapter(StructureData data)\r\n    {\r\n        this.data = data;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public SelectionViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType)\r\n    {\r\n        LayoutInflater layoutInflater = LayoutInflater.from(parent.getContext());\r\n        View view = layoutInflater.inflate(R.layout.list_selection,parent,false);\r\n        SelectionViewHolder myViewHolder = new SelectionViewHolder(view);\r\n        return myViewHolder;\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull SelectionViewHolder holder, int position)\r\n    {\r\n        Structure s = data.get(position);\r\n        holder.structure.setImageResource(s.getDrawableId());\r\n        holder.label.setText(s.getLabel());\r\n        holder.bind(s);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount()\r\n    {\r\n        return data.size();\r\n    }\r\n}\r\n```\r\n\r\n**Bar ViewHolder**\r\n```\r\npackage com.example.map;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.Objects;\r\n\r\npublic class SelectionViewHolder extends RecyclerView.ViewHolder\r\n{\r\n    Structure selectObject;\r\n    ImageView structure;\r\n    TextView label;\r\n\r\n    public SelectionViewHolder(@NonNull View itemView)\r\n    {\r\n        super(itemView);\r\n        structure = itemView.findViewById(R.id.image);\r\n        label = itemView.findViewById(R.id.label);\r\n\r\n        structure.setOnClickListener(new View.OnClickListener()\r\n        {\r\n            @Override\r\n            public void onClick(View view)\r\n            {\r\n                SelectionCellFragment.selectedData = selectObject;\r\n            }\r\n\r\n        });\r\n\r\n    }\r\n\r\n    public void bind(Structure s)\r\n    {\r\n        selectObject = s;\r\n    }\r\n\r\n    //Maybe, I need to place this bind function in MapViewHolder as well\r\n    //When I press on the button, I must share the information over to the Map fragment\r\n    //Then the new information will form a ImageView on the big one\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/NUrma.png","title":"How Do I Pass Data Between Two Fragments On The Same Activity?","body":"<p><a href=\"https://i.stack.imgur.com/NUrma.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NUrma.png\" alt=\"enter image description here\" /></a></p>\n<p>Howdy, I'm working on a project and I'm running into some issues. Namely, I have two fragments, each with their own adapter as both fragments are meant to be able to swipe horizontally. A photo should be attached of the layout I have for further clarity. I would like to be able to tap the bottom fragment, which when I tap a place on the top fragment, the image I tapped or &quot;Structure&quot; will be placed down. However, what I can't figure out is how to smoothly transfer this data and if I were to do it through the activity, how do I do it as the activity has already run through all its code. Could somebody please help, it would be greatly appreciated.</p>\n<p><strong>Main Activity</strong></p>\n<pre><code>public class MainMap extends AppCompatActivity\n{\n    MapData data = MapData.get();\n    StructureData structure = StructureData.get();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main_map);\n\n        FragmentManager frag = getSupportFragmentManager();    //To manage the map fragment\n        MapCellFragment rv = (MapCellFragment) frag.findFragmentById(R.id.map);\n\n        FragmentManager selectionFrag = getSupportFragmentManager();    //To manage the selection fragment\n        SelectionCellFragment cf = (SelectionCellFragment) selectionFrag.findFragmentById(R.id.bar);\n\n        if (rv == null)\n        {\n            rv = new MapCellFragment(data);\n            frag.beginTransaction().add(R.id.map, rv).commit();\n        }\n\n        if (cf == null)\n        {\n            cf = new SelectionCellFragment(structure);\n            selectionFrag.beginTransaction().add(R.id.bar, cf).commit();\n        }\n        \n    }\n</code></pre>\n<p><strong>Map Fragment</strong></p>\n<pre><code>    public MapData data;\n\n    public MapCellFragment() {\n        // Required empty public constructor\n    }\n\n    public MapCellFragment(MapData data)\n    {\n        this.data = data;\n    }\n\n    /**\n     * Use this factory method to create a new instance of\n     * this fragment using the provided parameters.\n     *\n     * @param param1 Parameter 1.\n     * @param param2 Parameter 2.\n     * @return A new instance of fragment gridCellFragment.\n     */\n    // TODO: Rename and change types and number of parameters\n    public static MapCellFragment newInstance(String param1, String param2) {\n        MapCellFragment fragment = new MapCellFragment();\n        Bundle args = new Bundle();\n        args.putString(ARG_PARAM1, param1);\n        args.putString(ARG_PARAM2, param2);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n            mParam1 = getArguments().getString(ARG_PARAM1);\n            mParam2 = getArguments().getString(ARG_PARAM2);\n        }\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View view = inflater.inflate(R.layout.map_fragment, container, false);\n        RecyclerView rv = (RecyclerView) view.findViewById(R.id.recyclerview);\n        rv.setLayoutManager(new GridLayoutManager(getActivity(), MapData.HEIGHT, GridLayoutManager.HORIZONTAL,false));\n        MapAdapter myAdapter = new MapAdapter(data);\n        rv.setAdapter(myAdapter);\n        return view;\n    }\n</code></pre>\n<p><strong>Bottom Bar Fragment</strong>\nThis was essentially a copy and paste of the other fragment, just changing the data which goes in and the XML it's attached to.</p>\n<p><strong>Map Adapter</strong></p>\n<pre><code>package com.example.map;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\npublic class MapAdapter extends RecyclerView.Adapter&lt;MapViewHolder&gt;\n{\n    MapData data;\n\n    public MapAdapter(MapData data)\n    {\n        this.data = data;\n    }\n\n    @NonNull\n    @Override\n    public MapViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType)\n    {\n        LayoutInflater layoutInflater = LayoutInflater.from(parent.getContext());\n        View view = layoutInflater.inflate(R.layout.grid_cells,parent,false);\n\n        //Resizes the images within the grid cells xml file\n        int size = parent.getMeasuredHeight() / MapData.HEIGHT + 1;\n        ViewGroup.LayoutParams lp = view.getLayoutParams();\n        lp.width = size;\n        lp.height = size;\n\n        MapViewHolder myViewHolder = new MapViewHolder(view);\n        return myViewHolder;\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MapViewHolder holder, int position)\n    {\n        int row = position % MapData.HEIGHT;\n        int col = position / MapData.HEIGHT;\n\n        MapElement ele = data.get(row, col);\n\n        holder.ne.setImageResource(ele.getNorthEast());\n        holder.nw.setImageResource(ele.getNorthWest());\n        holder.se.setImageResource(ele.getSouthEast());\n        holder.sw.setImageResource(ele.getSouthWest());\n\n        if(ele.getStructure() != null)\n        {\n            holder.mapStruct.setImageResource(ele.getStructure().getDrawableId());\n        }\n\n    }\n\n    @Override\n    public int getItemCount()\n    {\n        return 300;\n    }\n\n}\n</code></pre>\n<p><strong>Map View Holder</strong></p>\n<pre><code>package com.example.map;\n\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.Objects;\n\npublic class MapViewHolder extends RecyclerView.ViewHolder {\n    ImageView nw;\n    ImageView ne;\n    ImageView sw;\n    ImageView se;\n    ImageView mapStruct;\n\n    public MapViewHolder(@NonNull View itemView)\n    {\n        super(itemView);\n        nw = itemView.findViewById(R.id.northWest);\n        ne = itemView.findViewById(R.id.northEast);\n        sw = itemView.findViewById(R.id.southWest);\n        se = itemView.findViewById(R.id.southEast);\n        mapStruct = itemView.findViewById(R.id.structure);\n\n    }\n\n}\n</code></pre>\n<p><strong>Bar Adapter</strong></p>\n<pre><code>package com.example.map;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\npublic class SelectionAdapter extends RecyclerView.Adapter&lt;SelectionViewHolder&gt;\n{\n    StructureData data;\n\n    public SelectionAdapter(StructureData data)\n    {\n        this.data = data;\n    }\n\n    @NonNull\n    @Override\n    public SelectionViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType)\n    {\n        LayoutInflater layoutInflater = LayoutInflater.from(parent.getContext());\n        View view = layoutInflater.inflate(R.layout.list_selection,parent,false);\n        SelectionViewHolder myViewHolder = new SelectionViewHolder(view);\n        return myViewHolder;\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull SelectionViewHolder holder, int position)\n    {\n        Structure s = data.get(position);\n        holder.structure.setImageResource(s.getDrawableId());\n        holder.label.setText(s.getLabel());\n        holder.bind(s);\n    }\n\n    @Override\n    public int getItemCount()\n    {\n        return data.size();\n    }\n}\n</code></pre>\n<p><strong>Bar ViewHolder</strong></p>\n<pre><code>package com.example.map;\n\nimport android.annotation.SuppressLint;\nimport android.util.Log;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.Objects;\n\npublic class SelectionViewHolder extends RecyclerView.ViewHolder\n{\n    Structure selectObject;\n    ImageView structure;\n    TextView label;\n\n    public SelectionViewHolder(@NonNull View itemView)\n    {\n        super(itemView);\n        structure = itemView.findViewById(R.id.image);\n        label = itemView.findViewById(R.id.label);\n\n        structure.setOnClickListener(new View.OnClickListener()\n        {\n            @Override\n            public void onClick(View view)\n            {\n                SelectionCellFragment.selectedData = selectObject;\n            }\n\n        });\n\n    }\n\n    public void bind(Structure s)\n    {\n        selectObject = s;\n    }\n\n    //Maybe, I need to place this bind function in MapViewHolder as well\n    //When I press on the button, I must share the information over to the Map fragment\n    //Then the new information will form a ImageView on the big one\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1661924921,"post_id":73548484,"comment_id":129884287,"body_markdown":"What does your `deleteTweets()` and `saveTweets()` method do?","body":"What does your <code>deleteTweets()</code> and <code>saveTweets()</code> method do?"},{"owner":{"account_id":5279413,"reputation":436,"user_id":4215280,"accept_rate":67,"display_name":"javaworld"},"score":0,"creation_date":1661925529,"post_id":73548484,"comment_id":129884419,"body_markdown":"@g00glen00b both return flux of different type I combine both fluxes transforms them in to a response flux of ResponseStatus type","body":"@g00glen00b both return flux of different type I combine both fluxes transforms them in to a response flux of ResponseStatus type"},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1661927648,"post_id":73548484,"comment_id":129884942,"body_markdown":"Add them to your question (or a simplified version that demonstrates the problem). Without it, we can&#39;t help you.","body":"Add them to your question (or a simplified version that demonstrates the problem). Without it, we can&#39;t help you."}],"answers":[{"tags":[],"owner":{"account_id":26010031,"reputation":13,"user_id":19719240,"display_name":"Martin Heyer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662110442,"creation_date":1662110442,"answer_id":73580371,"question_id":73548484,"body_markdown":"Don&#39;t use the zip operator just to join something. It creates 1:1 pairs of two sources, where both elements share a certain relationship. This requires both sources to have the same length. The .zip will complete when one source completes.\r\n\r\nI assume both of your fluxes are quite independent and do not really belong together. Otherwise, you could just combine deleteTweets() and saveTweets() into one method an return a single result to apply later on.\r\n\r\nIf I wanted to delete all tweets and return a response, I would:\r\n1) Generate a Flux\\&lt;Tweet&gt; for a given userId\r\n2) Apply the delete operation on that flux and map each element to the individual response (responseFlux = tweetFlux.map(&lt;delete operation&gt;))\r\n3) Aggregate the responses into a result object and return it.\r\n","title":"Zipping two independent Flux in spring web Flux Returns Empty","body":"<p>Don't use the zip operator just to join something. It creates 1:1 pairs of two sources, where both elements share a certain relationship. This requires both sources to have the same length. The .zip will complete when one source completes.</p>\n<p>I assume both of your fluxes are quite independent and do not really belong together. Otherwise, you could just combine deleteTweets() and saveTweets() into one method an return a single result to apply later on.</p>\n<p>If I wanted to delete all tweets and return a response, I would:</p>\n<ol>\n<li>Generate a Flux&lt;Tweet&gt; for a given userId</li>\n<li>Apply the delete operation on that flux and map each element to the individual response (responseFlux = tweetFlux.map())</li>\n<li>Aggregate the responses into a result object and return it.</li>\n</ol>\n"}],"owner":{"account_id":5279413,"reputation":436,"user_id":4215280,"accept_rate":67,"display_name":"javaworld"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662110442,"creation_date":1661893808,"question_id":73548484,"body_markdown":"\r\nI was combing two flux both do independent task Asynchronously then I combine them using \r\n\r\n     Flux&lt;Tweet&gt; tweetsByUserId = restUtils.getTweetsByUserId(userId);\r\n        Flux&lt;DeleteStatus&gt; stringFlux = deleteTweets(tweetsByUserId);\r\n        Flux&lt;Tweet&gt; tweetFlux = saveTweets(tweetsByUserId);\r\n        return Flux.\r\n                zip(stringFlux, tweetFlux)\r\n                .map(TweetService::apply\r\n                   )\r\n                .doOnError( e -&gt; System.out.println(e.getMessage()))\r\n                ;\r\n\r\nHere I combine two flux and combine them to a ResponseStatus Object\r\n\r\n  \r\n\r\n    private static ResponseStatus apply(Tuple2&lt;DeleteStatus, Tweet&gt; res) {\r\n            return new ResponseStatus(res.getT2().getId(), res.getT1().deleted());\r\n        }\r\n\r\nthe result was supposed to return Flux&lt;ResponseStatus&gt; but it is returning and empty array \r\n\r\n \r\n\r\n    @DeleteMapping(&quot;/user/{id}&quot;)\r\n        public Flux&lt;ResponseStatus&gt; getDeleteallUserTweets(@PathVariable(&quot;id&quot;) String id) {\r\n    \r\n                return tweetService.getAndDeleteTweets(id);\r\n    \r\n        }\r\nwhy my code is returning an empty flux instead of Flux&lt; ResponseStatus&gt;","title":"Zipping two independent Flux in spring web Flux Returns Empty","body":"<p>I was combing two flux both do independent task Asynchronously then I combine them using</p>\n<pre><code> Flux&lt;Tweet&gt; tweetsByUserId = restUtils.getTweetsByUserId(userId);\n    Flux&lt;DeleteStatus&gt; stringFlux = deleteTweets(tweetsByUserId);\n    Flux&lt;Tweet&gt; tweetFlux = saveTweets(tweetsByUserId);\n    return Flux.\n            zip(stringFlux, tweetFlux)\n            .map(TweetService::apply\n               )\n            .doOnError( e -&gt; System.out.println(e.getMessage()))\n            ;\n</code></pre>\n<p>Here I combine two flux and combine them to a ResponseStatus Object</p>\n<pre><code>private static ResponseStatus apply(Tuple2&lt;DeleteStatus, Tweet&gt; res) {\n        return new ResponseStatus(res.getT2().getId(), res.getT1().deleted());\n    }\n</code></pre>\n<p>the result was supposed to return Flux but it is returning and empty array</p>\n<pre><code>@DeleteMapping(&quot;/user/{id}&quot;)\n    public Flux&lt;ResponseStatus&gt; getDeleteallUserTweets(@PathVariable(&quot;id&quot;) String id) {\n\n            return tweetService.getAndDeleteTweets(id);\n\n    }\n</code></pre>\n<p>why my code is returning an empty flux instead of Flux&lt; ResponseStatus&gt;</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1662108367,"post_id":73579877,"comment_id":129934409,"body_markdown":"Michael, just check out the source code for `find()` to see exactly what is is doing.  If you&#39;re working from an IDE such as IntelliJ, it should be easy to do this.","body":"Michael, just check out the source code for <code>find()</code> to see exactly what is is doing.  If you&#39;re working from an IDE such as IntelliJ, it should be easy to do this."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1662108514,"post_id":73579877,"comment_id":129934448,"body_markdown":"Consider that `String.split(&quot;&quot;)` returns individual characters, rather than falling over because it can be split infinitely (since there&#39;s always an empty string at the start and end of any other string). I think the documentation is a bit... vague, but hard to express the actual behavior concisely.","body":"Consider that <code>String.split(&quot;&quot;)</code> returns individual characters, rather than falling over because it can be split infinitely (since there&#39;s always an empty string at the start and end of any other string). I think the documentation is a bit... vague, but hard to express the actual behavior concisely."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1662109652,"post_id":73579877,"comment_id":129934780,"body_markdown":"One of the challenges is that my emulation is trying to wrap the .NET regex API, whose documentation is equally &quot;vague&quot; about edge cases. There seems to be a tradition of imprecise specification in regex-land.","body":"One of the challenges is that my emulation is trying to wrap the .NET regex API, whose documentation is equally &quot;vague&quot; about edge cases. There seems to be a tradition of imprecise specification in regex-land."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1662109758,"creation_date":1662109161,"answer_id":73580132,"question_id":73579877,"body_markdown":"This is a special case handled by [`Matcher.find()`](https://github.com/openjdk/jdk17u/blob/master/src/java.base/share/classes/java/util/regex/Matcher.java#L730):\r\n\r\n    public boolean find() {\r\n        int nextSearchIndex = last;\r\n        if (nextSearchIndex == first)\r\n            nextSearchIndex++;\r\n\r\n        // If next search starts before region, start it at region\r\n        if (nextSearchIndex &lt; from)\r\n            nextSearchIndex = from;\r\n\r\n        // If next search starts beyond region then it fails\r\n        if (nextSearchIndex &gt; to) {\r\n            for (int i = 0; i &lt; groups.length; i++)\r\n                groups[i] = -1;\r\n            return false;\r\n        }\r\n        return search(nextSearchIndex);\r\n    }\r\n\r\nIf the last match was a zero-length match (indicated by `first == last`) then it starts the next search at `last + 1`.\r\n\r\nIf you think about it this makes sense. Without this, if the `Matcher` once finds a zero-length match it would never proceed over this match.\r\n\r\n---\r\nSo yes, the documentation is incomplete: it neither mentions the special case for zero length matches nor that it only ever passes once over the input string.\r\n\r\nBut IMHO both special cases are implied by &quot;Attempts to find the **next subsequence** of the input sequence that matches the pattern.&quot;\r\n\r\nAfter a zero length match the next possible subsequence must start one position after the previous match, and the next subsequence can never start at a position lower than the current position (i.e. start over from the beginning).","title":"Java regular expression find() matching a zero-length string","body":"<p>This is a special case handled by <a href=\"https://github.com/openjdk/jdk17u/blob/master/src/java.base/share/classes/java/util/regex/Matcher.java#L730\" rel=\"nofollow noreferrer\"><code>Matcher.find()</code></a>:</p>\n<pre><code>public boolean find() {\n    int nextSearchIndex = last;\n    if (nextSearchIndex == first)\n        nextSearchIndex++;\n\n    // If next search starts before region, start it at region\n    if (nextSearchIndex &lt; from)\n        nextSearchIndex = from;\n\n    // If next search starts beyond region then it fails\n    if (nextSearchIndex &gt; to) {\n        for (int i = 0; i &lt; groups.length; i++)\n            groups[i] = -1;\n        return false;\n    }\n    return search(nextSearchIndex);\n}\n</code></pre>\n<p>If the last match was a zero-length match (indicated by <code>first == last</code>) then it starts the next search at <code>last + 1</code>.</p>\n<p>If you think about it this makes sense. Without this, if the <code>Matcher</code> once finds a zero-length match it would never proceed over this match.</p>\n<hr />\n<p>So yes, the documentation is incomplete: it neither mentions the special case for zero length matches nor that it only ever passes once over the input string.</p>\n<p>But IMHO both special cases are implied by &quot;Attempts to find the <strong>next subsequence</strong> of the input sequence that matches the pattern.&quot;</p>\n<p>After a zero length match the next possible subsequence must start one position after the previous match, and the next subsequence can never start at a position lower than the current position (i.e. start over from the beginning).</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662110417,"creation_date":1662110417,"answer_id":73580365,"question_id":73579877,"body_markdown":"You can find the OpenJDK implementation of the `find` method [here](http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/regex/Matcher.java#l622).\r\n\r\n    public boolean find() {\r\n        int nextSearchIndex = last;\r\n        if (nextSearchIndex == first)\r\n            nextSearchIndex++;\r\n\r\n        // If next search starts before region, start it at region\r\n        if (nextSearchIndex &lt; from)\r\n            nextSearchIndex = from;\r\n\r\n        // If next search starts beyond region then it fails\r\n        if (nextSearchIndex &gt; to) {\r\n            for (int i = 0; i &lt; groups.length; i++)\r\n                groups[i] = -1;\r\n            return false;\r\n        }\r\n        return search(nextSearchIndex);\r\n    }\r\n\r\n`first` and `last` store the range of the previous successful match, and `from` and `to` store the range of the range of the string to be matched.\r\n\r\n    /**\r\n     * The range within the sequence that is to be matched. Anchors\r\n     * will match at these &quot;hard&quot; boundaries. Changing the region\r\n     * changes these values.\r\n     */\r\n    int from, to;\r\n\r\n    /**\r\n     * The range of string that last matched the pattern. If the last\r\n     * match failed then first is -1; last initially holds 0 then it\r\n     * holds the index of the end of the last match (which is where the\r\n     * next search starts).\r\n     */\r\n    int first = -1, last = 0;\r\n\r\nThe behaviours that are relevant to your question are the first and third if statements. \r\n\r\nAs you can clearly see, the first `if` checks if the previous match was a 0-length match, and if it is, moves `nextSearchIndex` one char forward.\r\n\r\nThe third `if` checks if `nextSearchIndex` goes out of range of the string. This happens after you found all 7 matches of &quot;a|b?&quot; in &quot;abcabc&quot;.\r\n\r\nFrom what I can see, the documentation doesn&#39;t suggest that &quot;after an unsuccessful match at position 6, the next call should start at position 0&quot;. At best, the documentation doesn&#39;t say anything about what happens after an unsuccessful match. \r\n\r\nIt could also be argued that &quot;a previous invocation of the method&quot; refers to an invocation of the method at any previous time, not just the immediately prior invocation, in which case what happens after an unsuccessful match is very well-defined:\r\n\r\n- if there were no previous successful matches at all, start at the beginning\r\n- if there was a previous successful match, and it doesn&#39;t matter how many failed matches you have since that match, start at the next character not matched by that match.","title":"Java regular expression find() matching a zero-length string","body":"<p>You can find the OpenJDK implementation of the <code>find</code> method <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/regex/Matcher.java#l622\" rel=\"nofollow noreferrer\">here</a>.</p>\n<pre><code>public boolean find() {\n    int nextSearchIndex = last;\n    if (nextSearchIndex == first)\n        nextSearchIndex++;\n\n    // If next search starts before region, start it at region\n    if (nextSearchIndex &lt; from)\n        nextSearchIndex = from;\n\n    // If next search starts beyond region then it fails\n    if (nextSearchIndex &gt; to) {\n        for (int i = 0; i &lt; groups.length; i++)\n            groups[i] = -1;\n        return false;\n    }\n    return search(nextSearchIndex);\n}\n</code></pre>\n<p><code>first</code> and <code>last</code> store the range of the previous successful match, and <code>from</code> and <code>to</code> store the range of the range of the string to be matched.</p>\n<pre><code>/**\n * The range within the sequence that is to be matched. Anchors\n * will match at these &quot;hard&quot; boundaries. Changing the region\n * changes these values.\n */\nint from, to;\n\n/**\n * The range of string that last matched the pattern. If the last\n * match failed then first is -1; last initially holds 0 then it\n * holds the index of the end of the last match (which is where the\n * next search starts).\n */\nint first = -1, last = 0;\n</code></pre>\n<p>The behaviours that are relevant to your question are the first and third if statements.</p>\n<p>As you can clearly see, the first <code>if</code> checks if the previous match was a 0-length match, and if it is, moves <code>nextSearchIndex</code> one char forward.</p>\n<p>The third <code>if</code> checks if <code>nextSearchIndex</code> goes out of range of the string. This happens after you found all 7 matches of &quot;a|b?&quot; in &quot;abcabc&quot;.</p>\n<p>From what I can see, the documentation doesn't suggest that &quot;after an unsuccessful match at position 6, the next call should start at position 0&quot;. At best, the documentation doesn't say anything about what happens after an unsuccessful match.</p>\n<p>It could also be argued that &quot;a previous invocation of the method&quot; refers to an invocation of the method at any previous time, not just the immediately prior invocation, in which case what happens after an unsuccessful match is very well-defined:</p>\n<ul>\n<li>if there were no previous successful matches at all, start at the beginning</li>\n<li>if there was a previous successful match, and it doesn't matter how many failed matches you have since that match, start at the next character not matched by that match.</li>\n</ul>\n"}],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":73580132,"answer_count":2,"score":4,"last_activity_date":1662110417,"creation_date":1662107755,"question_id":73579877,"body_markdown":"The Javadoc for `java.util.regex.Matcher.find()` says:\r\n\r\n&gt; This method starts at the beginning of this matcher&#39;s region, or, if a\r\n&gt; previous invocation of the method was successful and the matcher has\r\n&gt; not since been reset, at the first character not matched by the\r\n&gt; previous match.\r\n\r\nMy own experiments suggest that if the regex matches a zero length string, then the method starts one character beyond the end of the previous (zero-length) match. For example, given an input string &quot;abcabc&quot; and a regex &quot;a|b?&quot;, successive matches will occur at positions (0, 1, 2, 3, 4, 5, 6). Following a successful match at position 6, there is an unsuccessful match at position 6; and further calls also return false with position remaining at 6.\r\n\r\nThe documentation suggests that after finding a zero-length match at position 2 (character &quot;c&quot;), the next call on find will start at &quot;the first character not matched&quot;, which is still at position 2.\r\n\r\nThe documentation also suggests that after an unsuccessful match at position 6, the next call should start at position 0, which doesn&#39;t appear to be the case.\r\n\r\nIs the documentation simply wrong?\r\n\r\nIs there a more precise rule somewhere, for example one that covers the behaviour at position 6?\r\n\r\nMy reason for asking is that I am trying to write an emulation of the method in C#, and I&#39;m having trouble reproducing the precise behaviour by trial and error.","title":"Java regular expression find() matching a zero-length string","body":"<p>The Javadoc for <code>java.util.regex.Matcher.find()</code> says:</p>\n<blockquote>\n<p>This method starts at the beginning of this matcher's region, or, if a\nprevious invocation of the method was successful and the matcher has\nnot since been reset, at the first character not matched by the\nprevious match.</p>\n</blockquote>\n<p>My own experiments suggest that if the regex matches a zero length string, then the method starts one character beyond the end of the previous (zero-length) match. For example, given an input string &quot;abcabc&quot; and a regex &quot;a|b?&quot;, successive matches will occur at positions (0, 1, 2, 3, 4, 5, 6). Following a successful match at position 6, there is an unsuccessful match at position 6; and further calls also return false with position remaining at 6.</p>\n<p>The documentation suggests that after finding a zero-length match at position 2 (character &quot;c&quot;), the next call on find will start at &quot;the first character not matched&quot;, which is still at position 2.</p>\n<p>The documentation also suggests that after an unsuccessful match at position 6, the next call should start at position 0, which doesn't appear to be the case.</p>\n<p>Is the documentation simply wrong?</p>\n<p>Is there a more precise rule somewhere, for example one that covers the behaviour at position 6?</p>\n<p>My reason for asking is that I am trying to write an emulation of the method in C#, and I'm having trouble reproducing the precise behaviour by trial and error.</p>\n"},{"tags":["java","sql","sql-server","oracle","db2"],"comments":[{"owner":{"account_id":1431635,"reputation":5085,"user_id":1353930,"accept_rate":50,"display_name":"Daniel Alder"},"score":0,"creation_date":1399900350,"post_id":1556371,"comment_id":36244318,"body_markdown":"I guess you swapped line 2 and 3 in your example by mistake?","body":"I guess you swapped line 2 and 3 in your example by mistake?"}],"answers":[{"tags":[],"owner":{"account_id":4394,"reputation":47462,"user_id":6568,"display_name":"Dave Costa"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1255376076,"creation_date":1255376076,"answer_id":1556449,"question_id":1556371,"body_markdown":"I don&#39;t see any way to determine this through the JDBC metadata.  There is another column called CHAR_OCTET_LENGTH but in my experiment it did not help distinguish between byte and char semantics.\r\n\r\nThe way to find this out in the Oracle data dictionary is to look at ALL_TAB_COLUMNS.CHAR_USED:\r\n\r\n        CHAR_USED \tVARCHAR2(1) \t\r\n        \tB | C.\r\n            B indicates that the column uses BYTE length semantics.\r\n            C indicates that the column uses CHAR length semantics.\r\n            NULL indicates the datatype is not any of the following:\r\n        \r\n            * CHAR\r\n            * VARCHAR2\r\n            * NCHAR\r\n            * NVARCHAR2\r\n\r\nSo you could check whether your are connected to Oracle and, if so, do a separate query against this view to check the size semantics.","title":"How do I figure out if a column size is in bytes or characters from the column metadata?","body":"<p>I don't see any way to determine this through the JDBC metadata.  There is another column called CHAR_OCTET_LENGTH but in my experiment it did not help distinguish between byte and char semantics.</p>\n\n<p>The way to find this out in the Oracle data dictionary is to look at ALL_TAB_COLUMNS.CHAR_USED:</p>\n\n<pre><code>    CHAR_USED   VARCHAR2(1)     \n        B | C.\n        B indicates that the column uses BYTE length semantics.\n        C indicates that the column uses CHAR length semantics.\n        NULL indicates the datatype is not any of the following:\n\n        * CHAR\n        * VARCHAR2\n        * NCHAR\n        * NVARCHAR2\n</code></pre>\n\n<p>So you could check whether your are connected to Oracle and, if so, do a separate query against this view to check the size semantics.</p>\n"},{"tags":[],"owner":{"account_id":10288,"reputation":1616,"user_id":19366,"display_name":"varad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662110290,"creation_date":1662110290,"answer_id":73580336,"question_id":1556371,"body_markdown":"The CHAR_OCTET_LENGTH works for me. Tested on Oracle 11g, ojdbc11: 21.6.0.0.1\r\n\r\nThe CHAR_OCTET_LENGTH returns the number of bytes the column can hold. Which is what you need to figure out if your data fits into the column or not.\r\n\r\n\r\nHow to figure our how the column is defined:\r\n\r\n* If CHAR_OCTET_LENGTH == COLUMN_SIZE then the column is defined as Varchar2(COLUMN_SIZE).\r\n\r\n* If CHAR_OCTET_LENGTH &gt; COLUMN_SIZE then the column is defined as Varchar2(COLUMN_SIZE CHAR)\r\n\r\n* The only exceptions is a length of 4000: hard limit of CHAR_OCTET_LENGTH is 4000 therefore you cannot distinguish varchar2(4000) and varchar2(4000 CHAR).","title":"How do I figure out if a column size is in bytes or characters from the column metadata?","body":"<p>The CHAR_OCTET_LENGTH works for me. Tested on Oracle 11g, ojdbc11: 21.6.0.0.1</p>\n<p>The CHAR_OCTET_LENGTH returns the number of bytes the column can hold. Which is what you need to figure out if your data fits into the column or not.</p>\n<p>How to figure our how the column is defined:</p>\n<ul>\n<li><p>If CHAR_OCTET_LENGTH == COLUMN_SIZE then the column is defined as Varchar2(COLUMN_SIZE).</p>\n</li>\n<li><p>If CHAR_OCTET_LENGTH &gt; COLUMN_SIZE then the column is defined as Varchar2(COLUMN_SIZE CHAR)</p>\n</li>\n<li><p>The only exceptions is a length of 4000: hard limit of CHAR_OCTET_LENGTH is 4000 therefore you cannot distinguish varchar2(4000) and varchar2(4000 CHAR).</p>\n</li>\n</ul>\n"}],"owner":{"display_name":"user188619"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4048,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1662110290,"creation_date":1255374943,"question_id":1556371,"body_markdown":"I am working on some software that has to create dummy entries in various databases (Oracle, DB2, SQLServer) temporarily.  Every column in the the row is filled with random data.\r\n\r\nThe code uses java.sql.DataBaseMetaData class in java to get the COLUMN_SIZE attribute to figure out how large of a random string to store in the VARCHAR2 and other string column types.  \r\n\r\n    DatabaseMetaData metadata = connection.getMetaData();\r\n    while (resultSet.next()) {\r\n      ResultSet resultSet = metadata.getColumns(...);\r\n      int size = resultSet.getInt(&quot;COLUMN_SIZE&quot;);\r\n    }\r\n\r\n\r\nThe problem is, at least in Oracle, I can&#39;t seem to figure out if a column length is being returned in bytes or characters.  Also, depending on the encoding, characters are a different number of bytes.  Combine all this, and I am getting some SQL errors because the strings that are trying to get inserted are too big.  Am I missing something obvious?\r\n\r\n","title":"How do I figure out if a column size is in bytes or characters from the column metadata?","body":"<p>I am working on some software that has to create dummy entries in various databases (Oracle, DB2, SQLServer) temporarily.  Every column in the the row is filled with random data.</p>\n\n<p>The code uses java.sql.DataBaseMetaData class in java to get the COLUMN_SIZE attribute to figure out how large of a random string to store in the VARCHAR2 and other string column types.  </p>\n\n<pre><code>DatabaseMetaData metadata = connection.getMetaData();\nwhile (resultSet.next()) {\n  ResultSet resultSet = metadata.getColumns(...);\n  int size = resultSet.getInt(\"COLUMN_SIZE\");\n}\n</code></pre>\n\n<p>The problem is, at least in Oracle, I can't seem to figure out if a column length is being returned in bytes or characters.  Also, depending on the encoding, characters are a different number of bytes.  Combine all this, and I am getting some SQL errors because the strings that are trying to get inserted are too big.  Am I missing something obvious?</p>\n"},{"tags":["java","object","key"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1581470066,"post_id":60179691,"comment_id":106441957,"body_markdown":"A List of Pairs ?  If you are trying to use `Object` then I suggest that you are doing it wrong.","body":"A List of Pairs ?  If you are trying to use <code>Object</code> then I suggest that you are doing it wrong."},{"owner":{"account_id":16302007,"reputation":45,"user_id":11772863,"display_name":"Jay"},"score":0,"creation_date":1581470269,"post_id":60179691,"comment_id":106441996,"body_markdown":"Should I use List? rather than using object?","body":"Should I use List? rather than using object?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1581470326,"post_id":60179691,"comment_id":106442011,"body_markdown":"The Object has no useful information for you.  Create a class that reflects the data that you have.","body":"The Object has no useful information for you.  Create a class that reflects the data that you have."},{"owner":{"account_id":556903,"reputation":687,"user_id":919158,"display_name":"kann"},"score":0,"creation_date":1581470404,"post_id":60179691,"comment_id":106442024,"body_markdown":"@Jay List of map will do. This object is invalid.","body":"@Jay List of map will do. This object is invalid."},{"owner":{"account_id":16302007,"reputation":45,"user_id":11772863,"display_name":"Jay"},"score":0,"creation_date":1581471428,"post_id":60179691,"comment_id":106442288,"body_markdown":"What if I have only to keys? I just edited now.","body":"What if I have only to keys? I just edited now."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1581471912,"post_id":60179691,"comment_id":106442403,"body_markdown":"Can you actually show some java code that compiles?","body":"Can you actually show some java code that compiles?"},{"owner":{"account_id":16302007,"reputation":45,"user_id":11772863,"display_name":"Jay"},"score":0,"creation_date":1581473571,"post_id":60179691,"comment_id":106442765,"body_markdown":"I want to but it is so complicated. It is part of huge project. I getting into it.","body":"I want to but it is so complicated. It is part of huge project. I getting into it."}],"answers":[{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1581474568,"creation_date":1581474568,"answer_id":60180230,"question_id":60179691,"body_markdown":"I&#39;m guessing you&#39;ve come to Java from a language in which objects have loose types and are accessed approximately as key, value pairs which are often defined at run time. An example is json converting directly to JS objects with minimal translation. \r\n\r\nThat does not describe Java at all. The type and structure of Java objects are explicitly defined at compile time and expected to be accessed through methods available at compile time. For an experienced Java coder, your question is confusing because accessing object variables as keys and values is just not how things are generally done in Java.\r\n\r\nIf your object is going to store a list of maps from string keys to date values (for example), then that would normally be expressed in java as a variable of type `List&lt;Map&lt;String,Date&gt;&gt;`. ","title":"How to get keys and value from object in Java","body":"<p>I'm guessing you've come to Java from a language in which objects have loose types and are accessed approximately as key, value pairs which are often defined at run time. An example is json converting directly to JS objects with minimal translation. </p>\n\n<p>That does not describe Java at all. The type and structure of Java objects are explicitly defined at compile time and expected to be accessed through methods available at compile time. For an experienced Java coder, your question is confusing because accessing object variables as keys and values is just not how things are generally done in Java.</p>\n\n<p>If your object is going to store a list of maps from string keys to date values (for example), then that would normally be expressed in java as a variable of type <code>List&lt;Map&lt;String,Date&gt;&gt;</code>. </p>\n"},{"tags":[],"owner":{"account_id":7609862,"reputation":385,"user_id":5771107,"display_name":"yuyu5"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662110146,"creation_date":1662110146,"answer_id":73580302,"question_id":60179691,"body_markdown":"I know this is kind of an old question, but for those who actually want an answer to guide them in the (more or less) right direction, you can do something along the lines of below to get an object&#39;s fields/values:\r\n\r\n```java\r\nimport java.lang.reflect.Field;\r\n\r\npublic String getObjectFields(obj) {\r\n    // See:\r\n    //  - https://stackoverflow.com/questions/13400075/reflection-generic-get-field-value\r\n    //  - https://www.geeksforgeeks.org/reflection-in-java\r\n    //  - https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredField-java.lang.String-\r\n    Class&lt;?&gt; objClass = obj.getClass();\r\n    Field[] objFields = objClass.getDeclaredFields();\r\n\r\n    Map&lt;String, String&gt; entriesMap = new HashMap&lt;&gt;();\r\n\r\n    for (Field field : objFields) {\r\n        String fieldSuffix = field.toString().replaceAll(&quot;(^.*)(\\\\.)([^\\\\.]+)\\$&quot;, &quot;\\$3&quot;);\r\n\r\n        field.setAccessible(true);\r\n        entriesMap.put(fieldSuffix, field.get(obj));\r\n    }\r\n\r\n    return entriesMap;\r\n}\r\n```","title":"How to get keys and value from object in Java","body":"<p>I know this is kind of an old question, but for those who actually want an answer to guide them in the (more or less) right direction, you can do something along the lines of below to get an object's fields/values:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.reflect.Field;\n\npublic String getObjectFields(obj) {\n    // See:\n    //  - https://stackoverflow.com/questions/13400075/reflection-generic-get-field-value\n    //  - https://www.geeksforgeeks.org/reflection-in-java\n    //  - https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredField-java.lang.String-\n    Class&lt;?&gt; objClass = obj.getClass();\n    Field[] objFields = objClass.getDeclaredFields();\n\n    Map&lt;String, String&gt; entriesMap = new HashMap&lt;&gt;();\n\n    for (Field field : objFields) {\n        String fieldSuffix = field.toString().replaceAll(&quot;(^.*)(\\\\.)([^\\\\.]+)\\$&quot;, &quot;\\$3&quot;);\n\n        field.setAccessible(true);\n        entriesMap.put(fieldSuffix, field.get(obj));\n    }\n\n    return entriesMap;\n}\n</code></pre>\n"}],"owner":{"account_id":16302007,"reputation":45,"user_id":11772863,"display_name":"Jay"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9681,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":60180230,"answer_count":2,"score":3,"last_activity_date":1662110146,"creation_date":1581469821,"question_id":60179691,"body_markdown":"I was wondering how to get KEY and VALUE from object in JAVA\r\n\r\nmy object is like below\r\n\r\n    Object obj = [{ index_a = 1, index_b = 2}, { index_a = 3, index_b = 4}]\r\n\r\nI want to get index_a, 1, index_b, 2, ...\r\n","title":"How to get keys and value from object in Java","body":"<p>I was wondering how to get KEY and VALUE from object in JAVA</p>\n\n<p>my object is like below</p>\n\n<pre><code>Object obj = [{ index_a = 1, index_b = 2}, { index_a = 3, index_b = 4}]\n</code></pre>\n\n<p>I want to get index_a, 1, index_b, 2, ...</p>\n"},{"tags":["java","spring","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":26010031,"reputation":13,"user_id":19719240,"display_name":"Martin Heyer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662109559,"creation_date":1662109559,"answer_id":73580198,"question_id":73566857,"body_markdown":"1) Instead of the for loop, you should just get a mono from webclient and use Mono.retry() - this also allows for delays, exponential backoff, etc.\r\n\r\n2) You should _never_ block in the middle of a reactive pipeline. Instead just return the Mono&lt;String&gt; from your request and let the caller handle it.\r\nThis would require the whole module to work reactively. If that&#39;s not possible, block the mono after retry.\r\n\r\n\r\n    \r\n","title":"Repeat mechanism in WebClient with Mono","body":"<ol>\n<li><p>Instead of the for loop, you should just get a mono from webclient and use Mono.retry() - this also allows for delays, exponential backoff, etc.</p>\n</li>\n<li><p>You should <em>never</em> block in the middle of a reactive pipeline. Instead just return the Mono from your request and let the caller handle it.\nThis would require the whole module to work reactively. If that's not possible, block the mono after retry.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":22074911,"reputation":39,"user_id":16335386,"display_name":"Tchorzyksen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662109559,"creation_date":1662023432,"question_id":73566857,"body_markdown":"My task is to refactor method (code snippet 1) in a way that no combination of for loop and sleep thread is required in repeat / retry logic. To call external api WebClient is used. It is created, configured and registered as Spring bean in a separated method, and I am sure it is working just fine. Let&#39;s assume it is autowired and ready to use. \r\n\r\nCode snippet 1\r\n```\r\n    public String getSomething() {\r\n        for (int i = 0; i &lt; NUMBER_OF_ATTEMPTS; i++) {\r\n            JsonNode response = webClient.get()\r\n                    .retrieve()\r\n                    .bodyToMono(JsonNode.class)\r\n                    .block();\r\n\r\n            if (response.get(&quot;something&quot;) != null) {\r\n                return response.get(&quot;something&quot;).asText();\r\n            } else {\r\n                sleep(1_000);\r\n            }\r\n        }\r\n        throw new RuntimeException(&quot;Number of calls to external api is exceeded&quot;);\r\n    }\r\n\r\n```\r\nExternal api serves simple response: when it&#39;s ready\r\n\r\nCode snippet 2\r\n```\r\n{ &quot;something&quot;: &quot;value&quot; }\r\n```\r\nor nothing (no payload) otherwise. Either way response status is 200 OK.\r\nThe response is ready (has value) after couple of seconds.\r\n\r\n\r\nMy goal is to create once again GET request and fire it up. What are the options to refactor the method (snippet number 1) so that it keeps the same functionality and remains non reactive ?\r\n\r\nThanks for your help in advance.  ","title":"Repeat mechanism in WebClient with Mono","body":"<p>My task is to refactor method (code snippet 1) in a way that no combination of for loop and sleep thread is required in repeat / retry logic. To call external api WebClient is used. It is created, configured and registered as Spring bean in a separated method, and I am sure it is working just fine. Let's assume it is autowired and ready to use.</p>\n<p>Code snippet 1</p>\n<pre><code>    public String getSomething() {\n        for (int i = 0; i &lt; NUMBER_OF_ATTEMPTS; i++) {\n            JsonNode response = webClient.get()\n                    .retrieve()\n                    .bodyToMono(JsonNode.class)\n                    .block();\n\n            if (response.get(&quot;something&quot;) != null) {\n                return response.get(&quot;something&quot;).asText();\n            } else {\n                sleep(1_000);\n            }\n        }\n        throw new RuntimeException(&quot;Number of calls to external api is exceeded&quot;);\n    }\n\n</code></pre>\n<p>External api serves simple response: when it's ready</p>\n<p>Code snippet 2</p>\n<pre><code>{ &quot;something&quot;: &quot;value&quot; }\n</code></pre>\n<p>or nothing (no payload) otherwise. Either way response status is 200 OK.\nThe response is ready (has value) after couple of seconds.</p>\n<p>My goal is to create once again GET request and fire it up. What are the options to refactor the method (snippet number 1) so that it keeps the same functionality and remains non reactive ?</p>\n<p>Thanks for your help in advance.</p>\n"},{"tags":["java","eclipse","code-formatting","checkstyle"],"comments":[{"owner":{"account_id":1041394,"reputation":5637,"user_id":1047365,"accept_rate":86,"display_name":"Jean-R&#233;my Revy"},"score":1,"creation_date":1451919518,"post_id":984778,"comment_id":56932943,"body_markdown":"Dear Ken, some of us think you really should accept the above answer as the best (not sure that Paul is running after the Unsung hero&#39;s badge ;))","body":"Dear Ken, some of us think you really should accept the above answer as the best (not sure that Paul is running after the Unsung hero&#39;s badge ;))"},{"owner":{"account_id":12917,"reputation":22601,"user_id":25688,"accept_rate":85,"display_name":"Ken Liu"},"score":1,"creation_date":1452014203,"post_id":984778,"comment_id":56980400,"body_markdown":"@Jean-R&#233;myRevy done, thanks for the ping!","body":"@Jean-R&#233;myRevy done, thanks for the ping!"},{"owner":{"account_id":7870888,"reputation":473,"user_id":5948237,"display_name":"Vivek Chavda"},"score":0,"creation_date":1501680136,"post_id":984778,"comment_id":77884655,"body_markdown":"@Jean-R&#233;myRevy It&#39;s good that the answer was accepted, but unsung hero would be for users that have accepted answers with 0 votes, rather than lots of votes without being accepted. (Just trying to save others from having to search what unsung hero badge means)","body":"@Jean-R&#233;myRevy It&#39;s good that the answer was accepted, but unsung hero would be for users that have accepted answers with 0 votes, rather than lots of votes without being accepted. (Just trying to save others from having to search what unsung hero badge means)"}],"answers":[{"tags":[],"owner":{"account_id":1317359,"reputation":2078,"user_id":1263935,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":77,"is_accepted":true,"score":77,"last_activity_date":1420897810,"creation_date":1331550180,"answer_id":9665882,"question_id":984778,"body_markdown":"In Eclipse (3.6):\r\n\r\n - Install [Checkstyle plug-in][1]\r\n - Import stylesheet using Windows --&gt; Preferences, General --&gt; Checkstyle --&gt; New. Since you have an external file, choose &quot;external file&quot; as the type.\r\n\r\nRight-click on your project in the Package view and select Checkstyle --&gt; Create Formatter-Profile.\r\n\r\nThen enable the formatter for your workspace: Windows --&gt; Preferences --&gt; Java --&gt; Code Style --&gt; Formatter. Select formatter: &quot;eclipse-cs [project name]&quot;.\r\n\r\nClick OK!\r\n\r\n  [1]: http://eclipse-cs.sourceforge.net/","title":"How to generate an Eclipse formatter configuration from a checkstyle configuration?","body":"<p>In Eclipse (3.6):</p>\n\n<ul>\n<li>Install <a href=\"http://eclipse-cs.sourceforge.net/\" rel=\"noreferrer\">Checkstyle plug-in</a></li>\n<li>Import stylesheet using Windows --> Preferences, General --> Checkstyle --> New. Since you have an external file, choose \"external file\" as the type.</li>\n</ul>\n\n<p>Right-click on your project in the Package view and select Checkstyle --> Create Formatter-Profile.</p>\n\n<p>Then enable the formatter for your workspace: Windows --> Preferences --> Java --> Code Style --> Formatter. Select formatter: \"eclipse-cs [project name]\".</p>\n\n<p>Click OK!</p>\n"},{"tags":[],"owner":{"account_id":18772166,"reputation":653,"user_id":13688761,"display_name":"Miguel Alorda"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662109400,"creation_date":1662109400,"answer_id":73580169,"question_id":984778,"body_markdown":"The answer currently marked as accepted does not work as is with `Eclipse 2022-06` and `Checkstyle Plug-in 10.0.0`. These are the steps that worked for me:\r\n\r\n1. Install [Checkstyle plug-in](https://checkstyle.org/eclipse-cs/)\r\n\r\n2. Import Checkstyle configuration: `Windows -&gt; Preferences -&gt; Checkstyle -&gt; New`. Choose &quot;external file&quot; as the type.\r\n\r\n3. Right-click on your project in the `Package view` and select `Checkstyle -&gt; Create Formatter-Profile`. The following files will be created in you project:\r\n  - `my-project-cs-cleanup.xml`\r\n  - `my-project-cs-formatter.xml`\r\n\r\n4. Add the generated `my-project-cs-formatter.xml` as a formatter: `Windows -&gt; Preferences -&gt; Java -&gt; Code Style -&gt; Formatter -&gt; Import`\r\n","title":"How to generate an Eclipse formatter configuration from a checkstyle configuration?","body":"<p>The answer currently marked as accepted does not work as is with <code>Eclipse 2022-06</code> and <code>Checkstyle Plug-in 10.0.0</code>. These are the steps that worked for me:</p>\n<ol>\n<li><p>Install <a href=\"https://checkstyle.org/eclipse-cs/\" rel=\"nofollow noreferrer\">Checkstyle plug-in</a></p>\n</li>\n<li><p>Import Checkstyle configuration: <code>Windows -&gt; Preferences -&gt; Checkstyle -&gt; New</code>. Choose &quot;external file&quot; as the type.</p>\n</li>\n<li><p>Right-click on your project in the <code>Package view</code> and select <code>Checkstyle -&gt; Create Formatter-Profile</code>. The following files will be created in you project:</p>\n</li>\n</ol>\n<ul>\n<li><code>my-project-cs-cleanup.xml</code></li>\n<li><code>my-project-cs-formatter.xml</code></li>\n</ul>\n<ol start=\"4\">\n<li>Add the generated <code>my-project-cs-formatter.xml</code> as a formatter: <code>Windows -&gt; Preferences -&gt; Java -&gt; Code Style -&gt; Formatter -&gt; Import</code></li>\n</ol>\n"}],"owner":{"account_id":12917,"reputation":22601,"user_id":25688,"accept_rate":85,"display_name":"Ken Liu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30800,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":9665882,"answer_count":2,"score":46,"last_activity_date":1662109400,"creation_date":1244775038,"question_id":984778,"body_markdown":"I have a checkstyle configuration XML file and want to automatically generate an Eclipse formatter configuration from this. Is there any tool that can do this?","title":"How to generate an Eclipse formatter configuration from a checkstyle configuration?","body":"<p>I have a checkstyle configuration XML file and want to automatically generate an Eclipse formatter configuration from this. Is there any tool that can do this?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3624931,"reputation":5148,"user_id":3022836,"accept_rate":50,"display_name":"Kunu"},"score":0,"creation_date":1477983318,"post_id":40355344,"comment_id":67964275,"body_markdown":"What&#39;s your problem please specify.","body":"What&#39;s your problem please specify."},{"owner":{"account_id":5382687,"reputation":347,"user_id":4287529,"display_name":"Anil Ranga"},"score":0,"creation_date":1477983614,"post_id":40355344,"comment_id":67964358,"body_markdown":"dear sir when use system.alert.window permission then one granted window open for on the permission. i want to do it programatically. I do not want to open that window","body":"dear sir when use system.alert.window permission then one granted window open for on the permission. i want to do it programatically. I do not want to open that window"},{"owner":{"account_id":2545982,"reputation":918,"user_id":2210779,"accept_rate":100,"display_name":"Davit Mumladze"},"score":0,"creation_date":1477984006,"post_id":40355344,"comment_id":67964453,"body_markdown":"Please post your code. What have you tried so far?","body":"Please post your code. What have you tried so far?"},{"owner":{"account_id":4406346,"reputation":659,"user_id":3590645,"display_name":"Curious Mind"},"score":0,"creation_date":1542372895,"post_id":40355344,"comment_id":93555401,"body_markdown":"This is a good question. People keep flagging down great useful questions for no reason at all. Check my answer, found it on stackoverflow too and it worked for me.","body":"This is a good question. People keep flagging down great useful questions for no reason at all. Check my answer, found it on stackoverflow too and it worked for me."}],"answers":[{"tags":[],"owner":{"account_id":5381172,"reputation":2193,"user_id":4286341,"display_name":"Shashank Udupa"},"down_vote_count":1,"up_vote_count":45,"is_accepted":false,"score":44,"last_activity_date":1477983739,"creation_date":1477983739,"answer_id":40355440,"question_id":40355344,"body_markdown":"You can check and ask for overlay permission to draw over other apps using this\r\n\r\n    if (!Settings.canDrawOverlays(this)) {\r\n        Intent intent = new Intent(Settings.ACTION_MANAGE_OVERLAY_PERMISSION, Uri.parse(&quot;package:&quot; + getPackageName()));\r\n        startActivityForResult(intent, 0);\r\n    }","title":"How to programmatically grant the &quot;draw over other apps&quot; permission in android?","body":"<p>You can check and ask for overlay permission to draw over other apps using this</p>\n\n<pre><code>if (!Settings.canDrawOverlays(this)) {\n    Intent intent = new Intent(Settings.ACTION_MANAGE_OVERLAY_PERMISSION, Uri.parse(\"package:\" + getPackageName()));\n    startActivityForResult(intent, 0);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4406346,"reputation":659,"user_id":3590645,"display_name":"Curious Mind"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542372704,"creation_date":1542372704,"answer_id":53338308,"question_id":40355344,"body_markdown":"Check this question and the answer:\r\n\r\nhttps://stackoverflow.com/questions/36016369/system-alert-window-how-to-get-this-permission-automatically-on-android-6-0-an\r\n\r\n&quot;Every app that requests the SYSTEM_ALERT_WINDOW permission and that is installed through the Play Store (version 6.0.5 or higher is required), will have granted the permission automatically.&quot;","title":"How to programmatically grant the &quot;draw over other apps&quot; permission in android?","body":"<p>Check this question and the answer:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/36016369/system-alert-window-how-to-get-this-permission-automatically-on-android-6-0-an\">SYSTEM_ALERT_WINDOW - How to get this permission automatically on Android 6.0 and targetSdkVersion 23</a></p>\n\n<p>\"Every app that requests the SYSTEM_ALERT_WINDOW permission and that is installed through the Play Store (version 6.0.5 or higher is required), will have granted the permission automatically.\"</p>\n"},{"tags":[],"owner":{"account_id":11076478,"reputation":209,"user_id":8133041,"display_name":"sumit baflipara"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1639126939,"creation_date":1559023729,"answer_id":56335968,"question_id":40355344,"body_markdown":"```\r\nif (!Settings.canDrawOverlays(this)) {\r\n    Intent intent = new Intent(Settings.ACTION_MANAGE_OVERLAY_PERMISSION, \r\n    Uri.parse(&quot;package:&quot; + getPackageName()));\r\n    startActivityForResult(intent, 0);\r\n}\r\n```\r\n    &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot;/&gt;","title":"How to programmatically grant the &quot;draw over other apps&quot; permission in android?","body":"<pre><code>if (!Settings.canDrawOverlays(this)) {\n    Intent intent = new Intent(Settings.ACTION_MANAGE_OVERLAY_PERMISSION, \n    Uri.parse(&quot;package:&quot; + getPackageName()));\n    startActivityForResult(intent, 0);\n}\n</code></pre>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9533229,"reputation":652,"user_id":7084163,"display_name":"vmayorow"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1641320494,"creation_date":1627637612,"answer_id":68588681,"question_id":40355344,"body_markdown":"Here&#39;s the code for automatic granting the SYSTEM_ALERT_WINDOW permission to the package. To run this code, your Android application must be system (signed by platform keys).\r\n\r\nThis method is based on the following Android source code files: [AppOpsManager.java][1] and [DrawOverlayDetails.java][2], see the method `DrawOverlayDetails.setCanDrawOverlay(boolean newState)`.\r\n\r\n    @TargetApi(Build.VERSION_CODES.KITKAT)\r\n    public static void autoSetOverlayPermission(Context context, String packageName) {\r\n        PackageManager packageManager = context.getPackageManager();\r\n        int uid = 0;\r\n        try {\r\n            ApplicationInfo applicationInfo = packageManager.getApplicationInfo(packageName, 0);\r\n            uid = applicationInfo.uid;\r\n        } catch (PackageManager.NameNotFoundException e) {\r\n            e.printStackTrace();\r\n            return;\r\n        }\r\n\r\n        AppOpsManager appOpsManager = (AppOpsManager)context.getSystemService(Context.APP_OPS_SERVICE);\r\n        final int OP_SYSTEM_ALERT_WINDOW = 24;\r\n        try {\r\n            Class clazz = AppOpsManager.class;\r\n            Method method = clazz.getDeclaredMethod(&quot;setMode&quot;, int.class, int.class, String.class, int.class);\r\n            method.invoke(appOpsManager, OP_SYSTEM_ALERT_WINDOW, uid, packageName, AppOpsManager.MODE_ALLOWED);\r\n            Log.d(Const.LOG_TAG, &quot;Overlay permission granted to &quot; + packageName);\r\n        } catch (Exception e) {\r\n            Log.e(Const.LOG_TAG, Log.getStackTraceString(e));\r\n        }\r\n    }\r\n}\r\n\r\nThe code has been tested in [Headwind MDM][3] project, it successfully grants &quot;Draw over other apps&quot; permission without any user consent to the [Headwind Remote][4] application (disclaimer: I&#39;m the project owner of Headwind MDM and Headwind Remote), when Headwind MDM application is signed by platform keys. The code has been tested on Android 10 (LineageOS 17).\r\n\r\n\r\n  [1]: https://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/core/java/android/app/AppOpsManager.java\r\n  [2]: https://android.googlesource.com/platform/packages/apps/Settings/+/7f70ba1/src/com/android/settings/applications/DrawOverlayDetails.java\r\n  [3]: https://h-mdm.com\r\n  [4]: https://headwind-remote.com","title":"How to programmatically grant the &quot;draw over other apps&quot; permission in android?","body":"<p>Here's the code for automatic granting the SYSTEM_ALERT_WINDOW permission to the package. To run this code, your Android application must be system (signed by platform keys).</p>\n<p>This method is based on the following Android source code files: <a href=\"https://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/core/java/android/app/AppOpsManager.java\" rel=\"noreferrer\">AppOpsManager.java</a> and <a href=\"https://android.googlesource.com/platform/packages/apps/Settings/+/7f70ba1/src/com/android/settings/applications/DrawOverlayDetails.java\" rel=\"noreferrer\">DrawOverlayDetails.java</a>, see the method <code>DrawOverlayDetails.setCanDrawOverlay(boolean newState)</code>.</p>\n<pre><code>@TargetApi(Build.VERSION_CODES.KITKAT)\npublic static void autoSetOverlayPermission(Context context, String packageName) {\n    PackageManager packageManager = context.getPackageManager();\n    int uid = 0;\n    try {\n        ApplicationInfo applicationInfo = packageManager.getApplicationInfo(packageName, 0);\n        uid = applicationInfo.uid;\n    } catch (PackageManager.NameNotFoundException e) {\n        e.printStackTrace();\n        return;\n    }\n\n    AppOpsManager appOpsManager = (AppOpsManager)context.getSystemService(Context.APP_OPS_SERVICE);\n    final int OP_SYSTEM_ALERT_WINDOW = 24;\n    try {\n        Class clazz = AppOpsManager.class;\n        Method method = clazz.getDeclaredMethod(&quot;setMode&quot;, int.class, int.class, String.class, int.class);\n        method.invoke(appOpsManager, OP_SYSTEM_ALERT_WINDOW, uid, packageName, AppOpsManager.MODE_ALLOWED);\n        Log.d(Const.LOG_TAG, &quot;Overlay permission granted to &quot; + packageName);\n    } catch (Exception e) {\n        Log.e(Const.LOG_TAG, Log.getStackTraceString(e));\n    }\n}\n</code></pre>\n<p>}</p>\n<p>The code has been tested in <a href=\"https://h-mdm.com\" rel=\"noreferrer\">Headwind MDM</a> project, it successfully grants &quot;Draw over other apps&quot; permission without any user consent to the <a href=\"https://headwind-remote.com\" rel=\"noreferrer\">Headwind Remote</a> application (disclaimer: I'm the project owner of Headwind MDM and Headwind Remote), when Headwind MDM application is signed by platform keys. The code has been tested on Android 10 (LineageOS 17).</p>\n"}],"owner":{"account_id":5382687,"reputation":347,"user_id":4287529,"display_name":"Anil Ranga"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59632,"favorite_count":0,"down_vote_count":8,"up_vote_count":35,"answer_count":4,"score":27,"last_activity_date":1662108595,"creation_date":1477983134,"question_id":40355344,"body_markdown":"How can I programmatically grant the permission in `Settings -&gt; Apps -&gt; Draw over other apps` in Android? I want to use system alert window but unable to in Android Marshmallow without forcing the user to go through the Settings app and grant the permission first.","title":"How to programmatically grant the &quot;draw over other apps&quot; permission in android?","body":"<p>How can I programmatically grant the permission in <code>Settings -&gt; Apps -&gt; Draw over other apps</code> in Android? I want to use system alert window but unable to in Android Marshmallow without forcing the user to go through the Settings app and grant the permission first.</p>\n"},{"tags":["java","sql","spring","hibernate","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1662108032,"post_id":73579760,"comment_id":129934302,"body_markdown":"`javax.sql.DataSource` is an interface. I&#39;m surprised that definition even works. However, neither use a connection-pool (a data source is a service provide by some data sources, these don&#39;t). If you want to use a connection pool, you should replace it with a definition that use a data source that provides connection pooling (e.g. from HikariCP, or Apache DBCP, etc). A word of advice: stop using Spring XML config and instead use the Java configuration.","body":"<code>javax.sql.DataSource</code> is an interface. I&#39;m surprised that definition even works. However, neither use a connection-pool (a data source is a service provide by some data sources, these don&#39;t). If you want to use a connection pool, you should replace it with a definition that use a data source that provides connection pooling (e.g. from HikariCP, or Apache DBCP, etc). A word of advice: stop using Spring XML config and instead use the Java configuration."},{"owner":{"account_id":24628909,"reputation":21,"user_id":18528353,"display_name":"dbuergi"},"score":0,"creation_date":1662110678,"post_id":73579760,"comment_id":129935098,"body_markdown":"@MarkRotteveel Thanks for your advice. My question is somewhat answered.","body":"@MarkRotteveel Thanks for your advice. My question is somewhat answered."}],"owner":{"account_id":24628909,"reputation":21,"user_id":18528353,"display_name":"dbuergi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662108189,"creation_date":1662107161,"question_id":73579760,"body_markdown":"Is it somehow possible to share a connection pool between two different data sources? Both data sources use a different technology. Please note that the class used by `dataSource1` is `org.springframework.jdbc.datasource.DriverManagerDataSource` but the class used by `dataSource2` is `javax.sql.DataSource`. \r\n\r\n```xml\r\n&lt;bean id=&quot;dataSource1&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n    &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\r\n    &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/testdb?useSSL=false&quot;/&gt;\r\n    &lt;property name=&quot;username&quot; value=&quot;testuser&quot;/&gt;\r\n    &lt;property name=&quot;password&quot; value=&quot;test623&quot;/&gt;\r\n&lt;/bean&gt;\r\n\r\n&lt;bean id=&quot;dataSource2&quot; class=&quot;javax.sql.DataSource&quot;&gt;\r\n    &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\r\n    &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/testdb?useSSL=false&quot;/&gt;\r\n    &lt;property name=&quot;username&quot; value=&quot;testuser&quot;/&gt;\r\n    &lt;property name=&quot;password&quot; value=&quot;test623&quot;/&gt;\r\n&lt;/bean&gt;\r\n```\r\n\r\nThere are some queries that are too complicated to realize with Hibernate only that&#39;s why i&#39;m trying to use JdbcTemplate as alternative. I use the following controller to test both technologies.\r\n\r\n```java\r\n@Controller\r\n@RequestMapping(&quot;/index&quot;)\r\npublic class DbAccessController {\r\n    // Dependency injections\r\n    @Autowired\r\n    DbAccessService dbAccessService;\r\n\r\n    @Autowired\r\n    JdbcTemplate jdbcTemplate;\r\n    \r\n    /**\r\n     * Query using CrudRepository with Hibernate. \r\n     * Works fine DataSource2.\r\n     * \r\n     * @return Iterable containing a user list\r\n     */\r\n    @GetMapping(value = &quot;/queryHibernate&quot;)\r\n    public @ResponseBody Iterable&lt;QisUser&gt; getTestData() {\r\n        Iterable&lt;QisUser&gt; qisUserList = dbAccessService.getAllQisUsers();\r\n        return qisUserList;\r\n    }\r\n    \r\n    /**\r\n     * Query using JdbcTemplate. Trying to get this to\r\n     * work with DataSource1 and the same connection pool\r\n     * as DataSource2.\r\n     * \r\n     * @return  String username\r\n     */\r\n    @GetMapping(value = &quot;/queryJdbc&quot;)\r\n    public @ResponseBody String getUsername() {\r\n        String username = jdbcTemplate.queryForObject(\r\n                &quot;SELECT * FROM QisUser WHERE NAME = &#39;Foo&#39;&quot;, QisUser.class).getName();\r\n        return username;\r\n        }\r\n    }\r\n```","title":"Is it possible to share a connection pool between two different dataSources?","body":"<p>Is it somehow possible to share a connection pool between two different data sources? Both data sources use a different technology. Please note that the class used by <code>dataSource1</code> is <code>org.springframework.jdbc.datasource.DriverManagerDataSource</code> but the class used by <code>dataSource2</code> is <code>javax.sql.DataSource</code>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=&quot;dataSource1&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\n    &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\n    &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/testdb?useSSL=false&quot;/&gt;\n    &lt;property name=&quot;username&quot; value=&quot;testuser&quot;/&gt;\n    &lt;property name=&quot;password&quot; value=&quot;test623&quot;/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=&quot;dataSource2&quot; class=&quot;javax.sql.DataSource&quot;&gt;\n    &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\n    &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/testdb?useSSL=false&quot;/&gt;\n    &lt;property name=&quot;username&quot; value=&quot;testuser&quot;/&gt;\n    &lt;property name=&quot;password&quot; value=&quot;test623&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>There are some queries that are too complicated to realize with Hibernate only that's why i'm trying to use JdbcTemplate as alternative. I use the following controller to test both technologies.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\n@RequestMapping(&quot;/index&quot;)\npublic class DbAccessController {\n    // Dependency injections\n    @Autowired\n    DbAccessService dbAccessService;\n\n    @Autowired\n    JdbcTemplate jdbcTemplate;\n    \n    /**\n     * Query using CrudRepository with Hibernate. \n     * Works fine DataSource2.\n     * \n     * @return Iterable containing a user list\n     */\n    @GetMapping(value = &quot;/queryHibernate&quot;)\n    public @ResponseBody Iterable&lt;QisUser&gt; getTestData() {\n        Iterable&lt;QisUser&gt; qisUserList = dbAccessService.getAllQisUsers();\n        return qisUserList;\n    }\n    \n    /**\n     * Query using JdbcTemplate. Trying to get this to\n     * work with DataSource1 and the same connection pool\n     * as DataSource2.\n     * \n     * @return  String username\n     */\n    @GetMapping(value = &quot;/queryJdbc&quot;)\n    public @ResponseBody String getUsername() {\n        String username = jdbcTemplate.queryForObject(\n                &quot;SELECT * FROM QisUser WHERE NAME = 'Foo'&quot;, QisUser.class).getName();\n        return username;\n        }\n    }\n</code></pre>\n"},{"tags":["java","interpreted-language"],"comments":[{"owner":{"account_id":194909,"reputation":4585,"user_id":437506,"accept_rate":47,"display_name":"Kedar Mhaswade"},"score":0,"creation_date":1460813391,"post_id":36664583,"comment_id":60921511,"body_markdown":"Your question is somewhat confusing. I can always write a `Java` program that runs fine on Linux and that does not run at all on Windows. Portability is an artifact of a program given that appropriate `runtime` (a virtual machine or a plain old linker/loader) exists on a target platform, no?","body":"Your question is somewhat confusing. I can always write a <code>Java</code> program that runs fine on Linux and that does not run at all on Windows. Portability is an artifact of a program given that appropriate <code>runtime</code> (a virtual machine or a plain old linker/loader) exists on a target platform, no?"},{"owner":{"account_id":7073625,"reputation":12479,"user_id":5414452,"display_name":"jogo"},"score":0,"creation_date":1460821553,"post_id":36664583,"comment_id":60924223,"body_markdown":"Both pragmas (compilation or Runtime-engines) have its own advantage.","body":"Both pragmas (compilation or Runtime-engines) have its own advantage."}],"answers":[{"tags":[],"owner":{"account_id":1440515,"reputation":7658,"user_id":1360803,"accept_rate":100,"display_name":"Polygnome"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1460812979,"creation_date":1460812979,"answer_id":36664740,"question_id":36664583,"body_markdown":"&gt; But code written in C can be run on any platform with a C compiler.\r\n\r\nNot in the same way. You either need to compile it on that machine with that specific compiler, or need a compiler that is capable of cross-compiling. Either way, you have a bigger workload.\r\n\r\nStill, there is *some* C Code that is quite portable. A simple program that just calculates basic arithmetic is quite portable, even in C, if you are willing to compile it to different platforms.\r\n\r\nThe second big important difference is the *platform*. As soon as you do I/O or use syscalls, your code becomes platform-specific, just because you need to directly interface with the host system. An interpreted language offers a unified platform. If my programs runs on the JVM, it just runs on it, no matter which system is host to the JVM. If I use &quot;native&quot; calls to the host OS, I have to use the proper ones for each OS - but with Java, my &quot;OS&quot; is the JVM.\r\n\r\nBtw, there is so called &quot;portable&quot; C/C++ code, but it also hinges on similar concepts as the JVM. If you use Qt and similar libraries that offer uniform APIs on multiple platforms, then you can create quite portable C/C++ programs.\r\n","title":"Why is an interpreted language considered more portable?","body":"<blockquote>\n  <p>But code written in C can be run on any platform with a C compiler.</p>\n</blockquote>\n\n<p>Not in the same way. You either need to compile it on that machine with that specific compiler, or need a compiler that is capable of cross-compiling. Either way, you have a bigger workload.</p>\n\n<p>Still, there is <em>some</em> C Code that is quite portable. A simple program that just calculates basic arithmetic is quite portable, even in C, if you are willing to compile it to different platforms.</p>\n\n<p>The second big important difference is the <em>platform</em>. As soon as you do I/O or use syscalls, your code becomes platform-specific, just because you need to directly interface with the host system. An interpreted language offers a unified platform. If my programs runs on the JVM, it just runs on it, no matter which system is host to the JVM. If I use \"native\" calls to the host OS, I have to use the proper ones for each OS - but with Java, my \"OS\" is the JVM.</p>\n\n<p>Btw, there is so called \"portable\" C/C++ code, but it also hinges on similar concepts as the JVM. If you use Qt and similar libraries that offer uniform APIs on multiple platforms, then you can create quite portable C/C++ programs.</p>\n"},{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1460815353,"creation_date":1460815353,"answer_id":36665144,"question_id":36664583,"body_markdown":"The perhaps most authoritative answer to why Java was designed to be interpreted may be found in the [whitepaper that announced the Java language back in 1995](http://www.oracle.com/technetwork/java/intro-141325.html#528):\n\n&gt; **1.2.3 Architecture Neutral and Portable**\n&gt;\n&gt;    Java technology is designed to support applications that will be deployed into heterogeneous network environments. In such environments, applications must be capable of executing on a variety of hardware architectures. Within this variety of hardware platforms, applications must execute atop a variety of operating systems and interoperate with multiple programming language interfaces. To accommodate the diversity of operating environments, the Java Compiler TM product generates bytecodes--an architecture neutral intermediate format designed to transport code efficiently to multiple hardware and software platforms. The interpreted nature of Java technology solves both the binary distribution problem and the version problem; the same Java programming language byte codes will run on any platform.\n&gt;\n&gt;    Architecture neutrality is just one part of a truly portable system. Java technology takes portability a stage further by being strict in its definition of the basic language. Java technology puts a stake in the ground and specifies the sizes of its basic data types and the behavior of its arithmetic operators. Your programs are the same on every platform--there are no data type incompatibilities across hardware and software architectures. \n\nand \n\n&gt; **1.2.5 Interpreted, Threaded, and Dynamic**\n&gt;\n&gt; The Java interpreter can execute Java bytecodes directly on any machine to which the interpreter and run-time system have been ported. In an interpreted platform such as Java technology-based system, the link phase of a program is simple, incremental, and lightweight. You benefit from much faster development cycles--prototyping, experimentation, and rapid development are the normal case, versus the traditional heavyweight compile, link, and test cycles. \n\nIt is also worth mentioning that the Java API goes far beyond standard libraries for C or C++.\n\nNote that this perspective is somewhat dated. While largely still accurate, a modern take on the trade-off between a priori and runtime compilation whould include the additional optimization oppurtunities afforded by execution time statistics, and probably avoid the use of the word &quot;interpreted&quot; altogether - at least if we are somewhat serious about performance.","title":"Why is an interpreted language considered more portable?","body":"<p>The perhaps most authoritative answer to why Java was designed to be interpreted may be found in the <a href=\"http://www.oracle.com/technetwork/java/intro-141325.html#528\" rel=\"nofollow noreferrer\">whitepaper that announced the Java language back in 1995</a>:</p>\n<blockquote>\n<p><strong>1.2.3 Architecture Neutral and Portable</strong></p>\n<p>Java technology is designed to support applications that will be deployed into heterogeneous network environments. In such environments, applications must be capable of executing on a variety of hardware architectures. Within this variety of hardware platforms, applications must execute atop a variety of operating systems and interoperate with multiple programming language interfaces. To accommodate the diversity of operating environments, the Java Compiler TM product generates bytecodes--an architecture neutral intermediate format designed to transport code efficiently to multiple hardware and software platforms. The interpreted nature of Java technology solves both the binary distribution problem and the version problem; the same Java programming language byte codes will run on any platform.</p>\n<p>Architecture neutrality is just one part of a truly portable system. Java technology takes portability a stage further by being strict in its definition of the basic language. Java technology puts a stake in the ground and specifies the sizes of its basic data types and the behavior of its arithmetic operators. Your programs are the same on every platform--there are no data type incompatibilities across hardware and software architectures.</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p><strong>1.2.5 Interpreted, Threaded, and Dynamic</strong></p>\n<p>The Java interpreter can execute Java bytecodes directly on any machine to which the interpreter and run-time system have been ported. In an interpreted platform such as Java technology-based system, the link phase of a program is simple, incremental, and lightweight. You benefit from much faster development cycles--prototyping, experimentation, and rapid development are the normal case, versus the traditional heavyweight compile, link, and test cycles.</p>\n</blockquote>\n<p>It is also worth mentioning that the Java API goes far beyond standard libraries for C or C++.</p>\n<p>Note that this perspective is somewhat dated. While largely still accurate, a modern take on the trade-off between a priori and runtime compilation whould include the additional optimization oppurtunities afforded by execution time statistics, and probably avoid the use of the word &quot;interpreted&quot; altogether - at least if we are somewhat serious about performance.</p>\n"}],"owner":{"account_id":8261856,"reputation":329,"user_id":6212933,"accept_rate":50,"display_name":"Sergio Gliesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1344,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1662153960,"answer_count":2,"score":0,"last_activity_date":1662107831,"creation_date":1460812164,"question_id":36664583,"body_markdown":"Java is often cited as being more portable than other, say compiled, languages as the executable can be run on any platform with a JVM. But code written in C can be run on any platform with a C compiler.\r\n\r\nSo, naively, there are two alternatives: make lots of different compilers for lots of different platforms and transfer source code over a network for say an applet, which is compiled client-side; or make lots of different virtual machines to run on lots of different platforms and transfer the same, executable program or applets over networks.\r\n\r\nWhy is the latter better? I can see how server-side compilation is desirable, but I feel there is more to it than this. I can appreciate that it was less work for Sun Microsystems to create JVMs for many platforms than compilers for many platforms, but this surely wasn&#39;t the major motivation.","title":"Why is an interpreted language considered more portable?","body":"<p>Java is often cited as being more portable than other, say compiled, languages as the executable can be run on any platform with a JVM. But code written in C can be run on any platform with a C compiler.</p>\n\n<p>So, naively, there are two alternatives: make lots of different compilers for lots of different platforms and transfer source code over a network for say an applet, which is compiled client-side; or make lots of different virtual machines to run on lots of different platforms and transfer the same, executable program or applets over networks.</p>\n\n<p>Why is the latter better? I can see how server-side compilation is desirable, but I feel there is more to it than this. I can appreciate that it was less work for Sun Microsystems to create JVMs for many platforms than compilers for many platforms, but this surely wasn't the major motivation.</p>\n"},{"tags":["java","spring","jpa","spring-data","spring-data-jpa"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1410939342,"post_id":25884677,"comment_id":40509879,"body_markdown":"See [related](http://stackoverflow.com/questions/25237664/use-abstract-super-class-as-parameter-to-spring-data-repository/25241995#25241995)","body":"See <a href=\"http://stackoverflow.com/questions/25237664/use-abstract-super-class-as-parameter-to-spring-data-repository/25241995#25241995\">related</a>"},{"owner":{"account_id":3801754,"reputation":301,"user_id":3155208,"accept_rate":20,"display_name":"user3155208"},"score":0,"creation_date":1410940202,"post_id":25884677,"comment_id":40510275,"body_markdown":"@Inheritence does not make sence in my case, looks like it is not possible. Thank you very much for answering so fast!","body":"@Inheritence does not make sence in my case, looks like it is not possible. Thank you very much for answering so fast!"}],"answers":[{"tags":[],"owner":{"account_id":16967213,"reputation":43,"user_id":12272760,"display_name":"MatthieuBlm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662107761,"creation_date":1662107761,"answer_id":73579879,"question_id":25884677,"body_markdown":"I know this is an old thread but I had the same kind of error trying to define a repository like your `MyBaseRepository&lt;T extends AbstractBaseEntity&gt; extends JpaRepository&lt;T, Long&gt;`.\r\n\r\nIn my case the error was :\r\n    \r\n&gt; Failed to create query for method public abstract MyBaseRepository.someMethod(); Not an entity: AbstractBaseEntity\r\n\r\n\r\nThe point was that JPA was trying to implements all interfaces that extends `JpaRepository` and can&#39;t do it on `MyBaseRepository&lt;T&gt;` since `&lt;T&gt;` isn&#39;t a concrete class and `AbstractBaseEntity` not an `@Entity`.\r\n\r\nThe solution was to annotate `MyBaseRepository&lt;T&gt;` with `@NoRepositoryBean` to prevent JPA trying to implements this repository. And so, only your `BreadRepository` will be implemented.","title":"Spring Data repository with generic as an entity type","body":"<p>I know this is an old thread but I had the same kind of error trying to define a repository like your <code>MyBaseRepository&lt;T extends AbstractBaseEntity&gt; extends JpaRepository&lt;T, Long&gt;</code>.</p>\n<p>In my case the error was :</p>\n<blockquote>\n<p>Failed to create query for method public abstract MyBaseRepository.someMethod(); Not an entity: AbstractBaseEntity</p>\n</blockquote>\n<p>The point was that JPA was trying to implements all interfaces that extends <code>JpaRepository</code> and can't do it on <code>MyBaseRepository&lt;T&gt;</code> since <code>&lt;T&gt;</code> isn't a concrete class and <code>AbstractBaseEntity</code> not an <code>@Entity</code>.</p>\n<p>The solution was to annotate <code>MyBaseRepository&lt;T&gt;</code> with <code>@NoRepositoryBean</code> to prevent JPA trying to implements this repository. And so, only your <code>BreadRepository</code> will be implemented.</p>\n"}],"owner":{"account_id":3801754,"reputation":301,"user_id":3155208,"accept_rate":20,"display_name":"user3155208"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1841,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662107761,"creation_date":1410938677,"question_id":25884677,"body_markdown":"I want to use Spring Data JPA repositories in my project. Usually I create my own repository, let&#39;s say \r\n\r\n    interface ProductRepository extends JPARepository&lt;Product, Long&gt;\r\n\r\nHowever, I want to serve a bit more complex case that fits the following:\r\n\r\n 1. I have a basic entity with common definition:\r\n&gt;     @MappedSuperclass\r\n&gt;     public abstract class AbstractBaseEntity {\r\n&gt;         @GeneratedValue(strategy = GenerationType.AUTO)\r\n&gt;         @Id\r\n&gt;         @Column(name = &quot;ID&quot;, nullable = false)\r\n&gt;         private Long id;\r\n&gt;         ...\r\n&gt;     }\r\n\r\n 2. I have all other entities extending the above one, for example:\r\n&gt;     @Entity\r\n&gt;     @Table(name = &quot;bread&quot;)\r\n&gt;     public class Bread extends AbstractBaseEntity {\r\n&gt;     @Column\r\n&gt;     String type;\r\n&gt;     ...\r\n&gt;     }\r\n\r\nand\r\n\r\n&gt;     @Entity\r\n&gt;     @Table(name = &quot;butter&quot;)\r\n&gt;     public class Butter extends AbstractBaseEntity {\r\n&gt;     @Column\r\n&gt;     String weight;\r\n&gt;     ...\r\n&gt;     }\r\n\r\n 3. I want that any repository that anyone creates, will only work with entities extending the AbstractBaseEntity. So I want to do something like this:\r\n\r\n&gt; `public interface MyBaseRepository&lt;T&gt;  extends\r\n&gt; JpaRepository&lt;T extends AbstractBaseEntity, Long&gt;`\r\n\r\nThen define a couple of common methods and then use it as follows:\r\n\r\n&gt; `public interface BreadRepository &lt;Bread, Long&gt; extends MyBaseRepository`\r\n\r\nor\r\n&gt; public interface ButterRepository &lt;Butter, Long&gt; extends MyBaseRepository\r\n\r\nThe problem is that I cannot do this.\r\nWhen I define MyBaseRepository, if I use: \r\n\r\n&gt; `MyBaseRepository&lt;T extends AbstractBaseEntity&gt; extends JpaRepository&lt;T, Long&gt;` \r\n\r\nI have an error  that &quot;entity does not have property type&quot; when I running real query.\r\nIf I use just \r\n\r\n&gt; extends JpaRepository\r\n\r\nI get an error that Object is not mapped.\r\nAnd if I try \r\n\r\n&gt; `JpaRepository&lt;T extends AbstractBaseEntity , Long&gt;`\r\n\r\nit just fails with unexpected binding error.\r\n\r\nDo I miss anything or it is just not doable with Spring Data JPA?\r\n\r\nThanks!\r\n\r\n","title":"Spring Data repository with generic as an entity type","body":"<p>I want to use Spring Data JPA repositories in my project. Usually I create my own repository, let's say </p>\n\n<pre><code>interface ProductRepository extends JPARepository&lt;Product, Long&gt;\n</code></pre>\n\n<p>However, I want to serve a bit more complex case that fits the following:</p>\n\n<ol>\n<li><p>I have a basic entity with common definition:</p>\n\n<blockquote>\n<pre><code>@MappedSuperclass\npublic abstract class AbstractBaseEntity {\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Id\n    @Column(name = \"ID\", nullable = false)\n    private Long id;\n    ...\n}\n</code></pre>\n</blockquote></li>\n<li><p>I have all other entities extending the above one, for example:</p>\n\n<blockquote>\n<pre><code>@Entity\n@Table(name = \"bread\")\npublic class Bread extends AbstractBaseEntity {\n@Column\nString type;\n...\n}\n</code></pre>\n</blockquote></li>\n</ol>\n\n<p>and</p>\n\n<blockquote>\n<pre><code>@Entity\n@Table(name = \"butter\")\npublic class Butter extends AbstractBaseEntity {\n@Column\nString weight;\n...\n}\n</code></pre>\n</blockquote>\n\n<ol start=\"3\">\n<li>I want that any repository that anyone creates, will only work with entities extending the AbstractBaseEntity. So I want to do something like this:</li>\n</ol>\n\n<blockquote>\n  <p><code>public interface MyBaseRepository&lt;T&gt;  extends\n  JpaRepository&lt;T extends AbstractBaseEntity, Long&gt;</code></p>\n</blockquote>\n\n<p>Then define a couple of common methods and then use it as follows:</p>\n\n<blockquote>\n  <p><code>public interface BreadRepository &lt;Bread, Long&gt; extends MyBaseRepository</code></p>\n</blockquote>\n\n<p>or</p>\n\n<blockquote>\n  <p>public interface ButterRepository  extends MyBaseRepository</p>\n</blockquote>\n\n<p>The problem is that I cannot do this.\nWhen I define MyBaseRepository, if I use: </p>\n\n<blockquote>\n  <p><code>MyBaseRepository&lt;T extends AbstractBaseEntity&gt; extends JpaRepository&lt;T, Long&gt;</code> </p>\n</blockquote>\n\n<p>I have an error  that \"entity does not have property type\" when I running real query.\nIf I use just </p>\n\n<blockquote>\n  <p>extends JpaRepository</p>\n</blockquote>\n\n<p>I get an error that Object is not mapped.\nAnd if I try </p>\n\n<blockquote>\n  <p><code>JpaRepository&lt;T extends AbstractBaseEntity , Long&gt;</code></p>\n</blockquote>\n\n<p>it just fails with unexpected binding error.</p>\n\n<p>Do I miss anything or it is just not doable with Spring Data JPA?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","apache-spark","pyspark","apache-kafka","spark-kafka-integration"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655339032,"creation_date":1655339032,"answer_id":72639163,"question_id":72627688,"body_markdown":"You need to also add `kafka-clients` dependency. \r\n\r\nAnd don&#39;t add JARs manually, use `packages` option to download from Maven. You also don&#39;t need both Spark Streaming and Spark _Structured_ Streaming, pick only one... \r\n\r\n    from pyspark.sql import SparkSession\r\n    \r\n    # TODO: Ensure these match cluster environment\r\n    scala_version = &#39;2.11&#39;  \r\n    spark_version = &#39;2.3.0&#39;\r\n    packages = [\r\n        f&#39;org.apache.spark:spark-sql-kafka-0-10_{scala_version}:{spark_version}&#39;,\r\n        &#39;org.apache.kafka:kafka-clients:3.2.0&#39;  # TODO: match Kafka version\r\n    ]\r\n    spark = SparkSession.builder\\\r\n       .master(&quot;local&quot;)\\\r\n       .appName(&quot;kafka-example&quot;)\\\r\n       .config(&quot;spark.jars.packages&quot;, &quot;,&quot;.join(packages))\\\r\n       .getOrCreate() \r\n\r\nAlso, HDP 2.6.5 is **very** old, and out of support, and Ambari is a retried Apache Project. I suggest you upgrade to something else; for example, use Apache Zeppelin or Jupyter to run Spark notebooks. ","title":"PySpark - NoClassDefFoundError: kafka/common/TopicAndPartition","body":"<p>You need to also add <code>kafka-clients</code> dependency.</p>\n<p>And don't add JARs manually, use <code>packages</code> option to download from Maven. You also don't need both Spark Streaming and Spark <em>Structured</em> Streaming, pick only one...</p>\n<pre><code>from pyspark.sql import SparkSession\n\n# TODO: Ensure these match cluster environment\nscala_version = '2.11'  \nspark_version = '2.3.0'\npackages = [\n    f'org.apache.spark:spark-sql-kafka-0-10_{scala_version}:{spark_version}',\n    'org.apache.kafka:kafka-clients:3.2.0'  # TODO: match Kafka version\n]\nspark = SparkSession.builder\\\n   .master(&quot;local&quot;)\\\n   .appName(&quot;kafka-example&quot;)\\\n   .config(&quot;spark.jars.packages&quot;, &quot;,&quot;.join(packages))\\\n   .getOrCreate() \n</code></pre>\n<p>Also, HDP 2.6.5 is <strong>very</strong> old, and out of support, and Ambari is a retried Apache Project. I suggest you upgrade to something else; for example, use Apache Zeppelin or Jupyter to run Spark notebooks.</p>\n"},{"tags":[],"owner":{"account_id":25559728,"reputation":71,"user_id":19342541,"display_name":"Taimoor Abbasi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662107754,"creation_date":1655965761,"answer_id":72725488,"question_id":72627688,"body_markdown":"I was unable to run the code on these versions probably there was something wrong with the jars versions. I changed the versions to the following:\r\n\r\n- Spark version 2.3.2\r\n\r\n- Kafka 2.8\r\n\r\n- Pyspark 2.3.2\r\n\r\n- Python 3.7\r\n\r\n- Java 1.8.*\r\n\r\n\r\nI used the following packages:\r\n\r\n    --packages com.yammer.metrics:metrics-core:2.2.0,org.apache.spark:spark-sql-kafka-0-10_2.11:2.3.2 \r\n","title":"PySpark - NoClassDefFoundError: kafka/common/TopicAndPartition","body":"<p>I was unable to run the code on these versions probably there was something wrong with the jars versions. I changed the versions to the following:</p>\n<ul>\n<li><p>Spark version 2.3.2</p>\n</li>\n<li><p>Kafka 2.8</p>\n</li>\n<li><p>Pyspark 2.3.2</p>\n</li>\n<li><p>Python 3.7</p>\n</li>\n<li><p>Java 1.8.*</p>\n</li>\n</ul>\n<p>I used the following packages:</p>\n<pre><code>--packages com.yammer.metrics:metrics-core:2.2.0,org.apache.spark:spark-sql-kafka-0-10_2.11:2.3.2 \n</code></pre>\n"}],"owner":{"account_id":25559728,"reputation":71,"user_id":19342541,"display_name":"Taimoor Abbasi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":529,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72725488,"answer_count":2,"score":0,"last_activity_date":1662107754,"creation_date":1655279579,"question_id":72627688,"body_markdown":"I&#39;m running Spark version 2.3.0.2.6.5.1175-1 with Python 3.\r\n6.8 on Ambari. While submitting the application I get the following logs in *stderr* \r\n\r\n&gt; 22/06/15 12:29:31 INFO StateStoreCoordinatorRef: Registered\r\n&gt; StateStoreCoordinator endpoint Exception in thread &quot;Thread-10&quot;\r\n&gt; java.lang.NoClassDefFoundError: kafka/common/TopicAndPartition \tat\r\n&gt; java.lang.Class.getDeclaredMethods0(Native Method) \tat\r\n&gt; java.lang.Class.privateGetDeclaredMethods(Class.java:2701) \tat\r\n&gt; java.lang.Class.privateGetPublicMethods(Class.java:2902) \tat\r\n&gt; java.lang.Class.getMethods(Class.java:1615) \tat\r\n&gt; py4j.reflection.ReflectionEngine.getMethodsByNameAndLength(ReflectionEngine.java:345)\r\n&gt; \tat\r\n&gt; py4j.reflection.ReflectionEngine.getMethod(ReflectionEngine.java:305)\r\n&gt; \tat\r\n&gt; py4j.reflection.ReflectionEngine.getMethod(ReflectionEngine.java:326)\r\n&gt; \tat py4j.Gateway.invoke(Gateway.java:274) \tat\r\n&gt; py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\r\n&gt; \tat py4j.commands.CallCommand.execute(CallCommand.java:79) \tat\r\n&gt; py4j.GatewayConnection.run(GatewayConnection.java:214) \tat\r\n&gt; java.lang.Thread.run(Thread.java:745) Caused by:\r\n&gt; java.lang.ClassNotFoundException: kafka.common.TopicAndPartition \tat\r\n&gt; java.net.URLClassLoader.findClass(URLClassLoader.java:381) \tat\r\n&gt; java.lang.ClassLoader.loadClass(ClassLoader.java:424) \tat\r\n&gt; sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331) \tat\r\n&gt; java.lang.ClassLoader.loadClass(ClassLoader.java:357) \t... 12 more\r\n&gt; 22/06/15 12:29:33 ERROR ApplicationMaster: User application exited\r\n&gt; with status 1\r\n\r\nFollowing are the *stdout* logs \r\n\r\n        ERROR:root:Exception while sending command.\r\n    Traceback (most recent call last):\r\n      File &quot;/hadoop/yarn/local/usercache/livy/appcache/application_1655212331279_0010/container_e170_1655212331279_0010_01_000001/py4j-0.10.6-src.zip/py4j/java_gateway.py&quot;, line 1062, in send_command\r\n        raise Py4JNetworkError(&quot;Answer from Java side is empty&quot;)\r\n    py4j.protocol.Py4JNetworkError: Answer from Java side is empty\r\n    \r\n    During handling of the above exception, another exception occurred:\r\n    \r\n    Traceback (most recent call last):\r\n      File &quot;/hadoop/yarn/local/usercache/livy/appcache/application_1655212331279_0010/container_e170_1655212331279_0010_01_000001/py4j-0.10.6-src.zip/py4j/java_gateway.py&quot;, line 908, in send_command\r\n        response = connection.send_command(command)\r\n      File &quot;/hadoop/yarn/local/usercache/livy/appcache/application_1655212331279_0010/container_e170_1655212331279_0010_01_000001/py4j-0.10.6-src.zip/py4j/java_gateway.py&quot;, line 1067, in send_command\r\n        &quot;Error while receiving&quot;, e, proto.ERROR_ON_RECEIVE)\r\n    py4j.protocol.Py4JNetworkError: Error while receiving\r\n    Traceback (most recent call last):\r\n      File &quot;read_stream.py&quot;, line 13, in &lt;module&gt;\r\n        stream.start(callback=callback)\r\n      File &quot;/hadoop/yarn/local/usercache/livy/appcache/application_1655212331279_0010/container_e170_1655212331279_0010_01_000001/__pyfiles__/OwlsenseStream.py&quot;, line 125, in start\r\n        output = self.readStream().foreachRDD(lambda rdd: self.process(rdd, callback))\r\n      File &quot;/hadoop/yarn/local/usercache/livy/appcache/application_1655212331279_0010/container_e170_1655212331279_0010_01_000001/__pyfiles__/OwlsenseStream.py&quot;, line 70, in readStream\r\n        messageHandler=lambda x: (x.topic, x.message))\r\n      File &quot;/hadoop/yarn/local/usercache/livy/appcache/application_1655212331279_0010/container_e170_1655212331279_0010_01_000001/pyspark.zip/pyspark/streaming/kafka.py&quot;, line 150, in createDirectStream\r\n      File &quot;/hadoop/yarn/local/usercache/livy/appcache/application_1655212331279_0010/container_e170_1655212331279_0010_01_000001/py4j-0.10.6-src.zip/py4j/java_gateway.py&quot;, line 1160, in __call__\r\n      File &quot;/hadoop/yarn/local/usercache/livy/appcache/application_1655212331279_0010/container_e170_1655212331279_0010_01_000001/pyspark.zip/pyspark/sql/utils.py&quot;, line 63, in deco\r\n      File &quot;/hadoop/yarn/local/usercache/livy/appcache/application_1655212331279_0010/container_e170_1655212331279_0010_01_000001/py4j-0.10.6-src.zip/py4j/protocol.py&quot;, line 328, in get_return_value\r\n    py4j.protocol.Py4JError: An error occurred while calling o93.createDirectStreamWithMessageHandler\r\n\r\n\r\nI&#39;ve providing the following jar files\r\n&gt; spark-sql-kafka-0-10_2.11-2.3.0.jar\r\n\r\n&gt; spark-streaming-kafka-0-8_2.11-2.3.0.jar\r\n\r\n&gt; metrics-core-2.2.0.jar\r\n\r\n\r\nIs this some kind of configuration issue or is there something wrong in the code?\r\n\r\nEdit: I am using livy to submit the job to the cluster. Below is the POST request code\r\n\r\n        headers = {\r\n        &#39;X-Requested-By&#39;: &#39;admin&#39;,\r\n        &#39;Content-Type&#39;: &#39;application/json&#39;,\r\n    }\r\n    \r\n    data = {\r\n            &quot;numExecutors&quot;: stream[&#39;executors&#39;],\r\n            &quot;executorCores&quot;: stream[&#39;cores&#39;],\r\n            &quot;executorMemory&quot;: stream[&#39;memory&#39;],\r\n            &quot;driverMemory&quot;: &quot;2g&quot;,\r\n            &quot;file&quot;: stream[&#39;path&#39;],\r\n            &quot;queue&quot;: &quot;default&quot;,\r\n            &quot;pyFiles&quot;: [\r\n                &quot;hdfs:///user/bds/elastic_search/es_pyspark_handler.py&quot;,\r\n                &quot;hdfs:///user/bds/realtime/OwlsenseStream.py&quot;\r\n            ],\r\n            &quot;conf&quot;: {\r\n                &quot;spark.jars.packages&quot;: &quot;org.apache.spark:spark-streaming-kafka-0-8_2.11:2.3.0,org.apache.spark:spark-sql-kafka-0-10_2.11:2.3.0,com.yammer.metrics:metrics-core:2.2.0&quot;\r\n            },\r\n            &quot;name&quot;: stream[&#39;name&#39;]\r\n        }\r\n    \r\n        data = json.dumps(data)\r\n    \r\n        response = requests.post(url=f&quot;http://{IP_ADDRESS}:8998/batches&quot;, headers=headers, data=data,\r\n                                 verify=False)\r\n\r\n\r\n \r\n","title":"PySpark - NoClassDefFoundError: kafka/common/TopicAndPartition","body":"<p>I'm running Spark version 2.3.0.2.6.5.1175-1 with Python 3.\n6.8 on Ambari. While submitting the application I get the following logs in <em>stderr</em></p>\n<blockquote>\n<p>22/06/15 12:29:31 INFO StateStoreCoordinatorRef: Registered\nStateStoreCoordinator endpoint Exception in thread &quot;Thread-10&quot;\njava.lang.NoClassDefFoundError: kafka/common/TopicAndPartition    at\njava.lang.Class.getDeclaredMethods0(Native Method)    at\njava.lang.Class.privateGetDeclaredMethods(Class.java:2701)    at\njava.lang.Class.privateGetPublicMethods(Class.java:2902)  at\njava.lang.Class.getMethods(Class.java:1615)   at\npy4j.reflection.ReflectionEngine.getMethodsByNameAndLength(ReflectionEngine.java:345)\nat\npy4j.reflection.ReflectionEngine.getMethod(ReflectionEngine.java:305)\nat\npy4j.reflection.ReflectionEngine.getMethod(ReflectionEngine.java:326)\nat py4j.Gateway.invoke(Gateway.java:274)    at\npy4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\nat py4j.commands.CallCommand.execute(CallCommand.java:79)   at\npy4j.GatewayConnection.run(GatewayConnection.java:214)    at\njava.lang.Thread.run(Thread.java:745) Caused by:\njava.lang.ClassNotFoundException: kafka.common.TopicAndPartition  at\njava.net.URLClassLoader.findClass(URLClassLoader.java:381)    at\njava.lang.ClassLoader.loadClass(ClassLoader.java:424)     at\nsun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)     at\njava.lang.ClassLoader.loadClass(ClassLoader.java:357)     ... 12 more\n22/06/15 12:29:33 ERROR ApplicationMaster: User application exited\nwith status 1</p>\n</blockquote>\n<p>Following are the <em>stdout</em> logs</p>\n<pre><code>    ERROR:root:Exception while sending command.\nTraceback (most recent call last):\n  File &quot;/hadoop/yarn/local/usercache/livy/appcache/application_1655212331279_0010/container_e170_1655212331279_0010_01_000001/py4j-0.10.6-src.zip/py4j/java_gateway.py&quot;, line 1062, in send_command\n    raise Py4JNetworkError(&quot;Answer from Java side is empty&quot;)\npy4j.protocol.Py4JNetworkError: Answer from Java side is empty\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &quot;/hadoop/yarn/local/usercache/livy/appcache/application_1655212331279_0010/container_e170_1655212331279_0010_01_000001/py4j-0.10.6-src.zip/py4j/java_gateway.py&quot;, line 908, in send_command\n    response = connection.send_command(command)\n  File &quot;/hadoop/yarn/local/usercache/livy/appcache/application_1655212331279_0010/container_e170_1655212331279_0010_01_000001/py4j-0.10.6-src.zip/py4j/java_gateway.py&quot;, line 1067, in send_command\n    &quot;Error while receiving&quot;, e, proto.ERROR_ON_RECEIVE)\npy4j.protocol.Py4JNetworkError: Error while receiving\nTraceback (most recent call last):\n  File &quot;read_stream.py&quot;, line 13, in &lt;module&gt;\n    stream.start(callback=callback)\n  File &quot;/hadoop/yarn/local/usercache/livy/appcache/application_1655212331279_0010/container_e170_1655212331279_0010_01_000001/__pyfiles__/OwlsenseStream.py&quot;, line 125, in start\n    output = self.readStream().foreachRDD(lambda rdd: self.process(rdd, callback))\n  File &quot;/hadoop/yarn/local/usercache/livy/appcache/application_1655212331279_0010/container_e170_1655212331279_0010_01_000001/__pyfiles__/OwlsenseStream.py&quot;, line 70, in readStream\n    messageHandler=lambda x: (x.topic, x.message))\n  File &quot;/hadoop/yarn/local/usercache/livy/appcache/application_1655212331279_0010/container_e170_1655212331279_0010_01_000001/pyspark.zip/pyspark/streaming/kafka.py&quot;, line 150, in createDirectStream\n  File &quot;/hadoop/yarn/local/usercache/livy/appcache/application_1655212331279_0010/container_e170_1655212331279_0010_01_000001/py4j-0.10.6-src.zip/py4j/java_gateway.py&quot;, line 1160, in __call__\n  File &quot;/hadoop/yarn/local/usercache/livy/appcache/application_1655212331279_0010/container_e170_1655212331279_0010_01_000001/pyspark.zip/pyspark/sql/utils.py&quot;, line 63, in deco\n  File &quot;/hadoop/yarn/local/usercache/livy/appcache/application_1655212331279_0010/container_e170_1655212331279_0010_01_000001/py4j-0.10.6-src.zip/py4j/protocol.py&quot;, line 328, in get_return_value\npy4j.protocol.Py4JError: An error occurred while calling o93.createDirectStreamWithMessageHandler\n</code></pre>\n<p>I've providing the following jar files</p>\n<blockquote>\n<p>spark-sql-kafka-0-10_2.11-2.3.0.jar</p>\n</blockquote>\n<blockquote>\n<p>spark-streaming-kafka-0-8_2.11-2.3.0.jar</p>\n</blockquote>\n<blockquote>\n<p>metrics-core-2.2.0.jar</p>\n</blockquote>\n<p>Is this some kind of configuration issue or is there something wrong in the code?</p>\n<p>Edit: I am using livy to submit the job to the cluster. Below is the POST request code</p>\n<pre><code>    headers = {\n    'X-Requested-By': 'admin',\n    'Content-Type': 'application/json',\n}\n\ndata = {\n        &quot;numExecutors&quot;: stream['executors'],\n        &quot;executorCores&quot;: stream['cores'],\n        &quot;executorMemory&quot;: stream['memory'],\n        &quot;driverMemory&quot;: &quot;2g&quot;,\n        &quot;file&quot;: stream['path'],\n        &quot;queue&quot;: &quot;default&quot;,\n        &quot;pyFiles&quot;: [\n            &quot;hdfs:///user/bds/elastic_search/es_pyspark_handler.py&quot;,\n            &quot;hdfs:///user/bds/realtime/OwlsenseStream.py&quot;\n        ],\n        &quot;conf&quot;: {\n            &quot;spark.jars.packages&quot;: &quot;org.apache.spark:spark-streaming-kafka-0-8_2.11:2.3.0,org.apache.spark:spark-sql-kafka-0-10_2.11:2.3.0,com.yammer.metrics:metrics-core:2.2.0&quot;\n        },\n        &quot;name&quot;: stream['name']\n    }\n\n    data = json.dumps(data)\n\n    response = requests.post(url=f&quot;http://{IP_ADDRESS}:8998/batches&quot;, headers=headers, data=data,\n                             verify=False)\n</code></pre>\n"},{"tags":["java","design-patterns","builder"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1662101699,"post_id":73578807,"comment_id":129932404,"body_markdown":"clone the objects","body":"clone the objects"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":3,"creation_date":1662101900,"post_id":73578807,"comment_id":129932469,"body_markdown":"Don&#39;t set hobbies, have methods `addHobby(String hobby)`, which will add to the arraylist, and `addHobbies(List hobbies)`, which will add provided hobbies to the list","body":"Don&#39;t set hobbies, have methods <code>addHobby(String hobby)</code>, which will add to the arraylist, and <code>addHobbies(List hobbies)</code>, which will add provided hobbies to the list"},{"owner":{"account_id":26224776,"reputation":1,"user_id":19901620,"display_name":"xyzcoder"},"score":0,"creation_date":1662151205,"post_id":73578807,"comment_id":129948356,"body_markdown":"@Chaosfire that might work for arrays or maps or some complex objects. Lets say if you are setting a httpconnection factory object with timeouts already initialized (and few other settings) along with a DB connection pool etc then you would still change the settings of these objects directly.  Like other poster mentioned, its not a violation of builder pattern if use case requires it. So, I guess its still okay to use the pattern for use cases like this.","body":"@Chaosfire that might work for arrays or maps or some complex objects. Lets say if you are setting a httpconnection factory object with timeouts already initialized (and few other settings) along with a DB connection pool etc then you would still change the settings of these objects directly.  Like other poster mentioned, its not a violation of builder pattern if use case requires it. So, I guess its still okay to use the pattern for use cases like this."}],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662107663,"creation_date":1662107663,"answer_id":73579856,"question_id":73578807,"body_markdown":"There&#39;s no simple, single answer to your quesion because it depends on the object to build and its relationships to the objects of which it is built, completely.\r\n\r\nIf the &quot;parts&quot; are intended to be immutable: don&#39;t make them mutable or encapsulate them so that they can&#39;t be modified after the object has been built. In your example, `name` is immutable, so it&#39;s fine. You can encapsulate the mutable list `hobbies` like user Chaosfire suggested.\r\n\r\nOn the other hand there are use cases where you want the parts of an object to be mutable (despite the use of the builder pattern). Think of GUIs for example. There you add components to some parent component but still want to access/modify them. There&#39;s no need for a builder to clone components to make them immutable. \r\n\r\nIt&#39;s not the builder who defines the rules but your object model and the builder has to follow.","title":"Java builder pattern - changing the state of a referenced object","body":"<p>There's no simple, single answer to your quesion because it depends on the object to build and its relationships to the objects of which it is built, completely.</p>\n<p>If the &quot;parts&quot; are intended to be immutable: don't make them mutable or encapsulate them so that they can't be modified after the object has been built. In your example, <code>name</code> is immutable, so it's fine. You can encapsulate the mutable list <code>hobbies</code> like user Chaosfire suggested.</p>\n<p>On the other hand there are use cases where you want the parts of an object to be mutable (despite the use of the builder pattern). Think of GUIs for example. There you add components to some parent component but still want to access/modify them. There's no need for a builder to clone components to make them immutable.</p>\n<p>It's not the builder who defines the rules but your object model and the builder has to follow.</p>\n"}],"owner":{"account_id":26224776,"reputation":1,"user_id":19901620,"display_name":"xyzcoder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662107663,"creation_date":1662101471,"question_id":73578807,"body_markdown":"If I am passing mutable objects references ( say a Map or a List or some object with setters ) to a builder to create a complex object, the state of already built object could easily be changed if I am call mutation methods directly on the referenced objects.\r\n\r\nEg;\r\n``` \r\npublic final class Foo {\r\n   private final String name;\r\n   private final ArrayList hobbies;\r\n\r\n   ...\r\n\r\n   \r\n   public static class Builder {\r\n      private final String name;\r\n      private final ArrayList hobbies;\r\n\r\n      ...\r\n      \r\n      public Foo build() {\r\n          return new Foo(name, hobbies);\r\n      }\r\n\r\n\r\n   }\r\n}\r\n\r\nArrayList hobbies = new ArrayList();\r\nhobbies.add(&quot;painting&quot;);\r\nhobbies.add(&quot;singing&quot;);\r\n\r\nFoo f = new Foo.Builder().setName(&quot;test&quot;).setHobbies(hobbies).build();\r\n\r\nhobbies.add(&quot;playing&quot;);\r\n\r\n\r\n```\r\n\r\nState of object instance f built by builder has changed since the internal field is updated.  If this is not desirable it can easily fixed by deep copy or by exposing methods to add one hobby at a time.  \r\n\r\nIs this kind of behavior for builder pattern acceptable ? or is it recommended to keep everything immutable ?\r\n\r\n","title":"Java builder pattern - changing the state of a referenced object","body":"<p>If I am passing mutable objects references ( say a Map or a List or some object with setters ) to a builder to create a complex object, the state of already built object could easily be changed if I am call mutation methods directly on the referenced objects.</p>\n<p>Eg;</p>\n<pre><code>public final class Foo {\n   private final String name;\n   private final ArrayList hobbies;\n\n   ...\n\n   \n   public static class Builder {\n      private final String name;\n      private final ArrayList hobbies;\n\n      ...\n      \n      public Foo build() {\n          return new Foo(name, hobbies);\n      }\n\n\n   }\n}\n\nArrayList hobbies = new ArrayList();\nhobbies.add(&quot;painting&quot;);\nhobbies.add(&quot;singing&quot;);\n\nFoo f = new Foo.Builder().setName(&quot;test&quot;).setHobbies(hobbies).build();\n\nhobbies.add(&quot;playing&quot;);\n\n\n</code></pre>\n<p>State of object instance f built by builder has changed since the internal field is updated.  If this is not desirable it can easily fixed by deep copy or by exposing methods to add one hobby at a time.</p>\n<p>Is this kind of behavior for builder pattern acceptable ? or is it recommended to keep everything immutable ?</p>\n"},{"tags":["java","micronaut","micronaut-client"],"answers":[{"tags":[],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662107336,"creation_date":1624601515,"answer_id":68126275,"question_id":68114364,"body_markdown":"Download the cetificate from Browser or export for keychain\r\nWell this solve my issue \r\n\r\n    sudo keytool -–importcert -file /Users/macbook/Desktop/localhost.cer -keystore /Users/macbook/Library/Java/JavaVirtualMachines/openjdk-16.0.1/Contents/Home/lib/security/cacerts -storepass changeit\r\n\r\nList the keychains\r\n\r\n    keytool -list -keystore /Users/san/Library/Java/JavaVirtualMachines/openjdk-17.0.2/Contents/Home/lib/security/cacerts\r\n\r\nIf the above command doesn&#39;t work then \r\n\r\n    keytool -import -noprompt -trustcacerts -alias localhost -file /Users/san/Desktop/localhost.cer -keystore /Users/san/Library/Java/JavaVirtualMachines/openjdk-17.0.2/Contents/Home/lib/security/cacerts -storepass changeit\r\n\r\nThe path for the java sdk should be the same as the IDE is using\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/237Jz.png\r\n\r\nIf you want to delete then follow this https://stackoverflow.com/questions/48204014/how-to-delete-already-import-certificate-alias-by-keytool-command","title":"i.m.s.t.j.s.jwks.JwksSignature - Exception loading JWK from https://localhost:5001/.well-known/openid-configuration/jwks. Micronaut Java","body":"<p>Download the cetificate from Browser or export for keychain\nWell this solve my issue</p>\n<pre><code>sudo keytool -–importcert -file /Users/macbook/Desktop/localhost.cer -keystore /Users/macbook/Library/Java/JavaVirtualMachines/openjdk-16.0.1/Contents/Home/lib/security/cacerts -storepass changeit\n</code></pre>\n<p>List the keychains</p>\n<pre><code>keytool -list -keystore /Users/san/Library/Java/JavaVirtualMachines/openjdk-17.0.2/Contents/Home/lib/security/cacerts\n</code></pre>\n<p>If the above command doesn't work then</p>\n<pre><code>keytool -import -noprompt -trustcacerts -alias localhost -file /Users/san/Desktop/localhost.cer -keystore /Users/san/Library/Java/JavaVirtualMachines/openjdk-17.0.2/Contents/Home/lib/security/cacerts -storepass changeit\n</code></pre>\n<p>The path for the java sdk should be the same as the IDE is using</p>\n<p><a href=\"https://i.stack.imgur.com/237Jz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/237Jz.png\" alt=\"enter image description here\" /></a></p>\n<p>If you want to delete then follow this <a href=\"https://stackoverflow.com/questions/48204014/how-to-delete-already-import-certificate-alias-by-keytool-command\">How to delete already import certificate/alias by keytool command?</a></p>\n"}],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":379,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662107336,"creation_date":1624531924,"question_id":68114364,"body_markdown":"I am using the Asp.net core Identity server for OAuth with Micronaut 2.5.6 application as below configuration\r\n\r\n    micronaut:\r\n      application:\r\n        name: feteBirdService\r\n      server:\r\n        port: 8085\r\n        cors:\r\n          enabled: true\r\n      security:\r\n        enabled: true\r\n        token:\r\n          jwt:\r\n            enabled: true\r\n            signatures:\r\n              jwks:\r\n                IdentityServer:\r\n                  url: &#39;https://localhost:5001/.well-known/openid-configuration/jwks&#39;\r\n\r\nI am using Mac OS, the JWK from the browser\r\n\r\n    {&quot;keys&quot;:[{&quot;kty&quot;:&quot;RSA&quot;,&quot;use&quot;:&quot;sig&quot;,&quot;kid&quot;:&quot;A144FFAF7B9CCEB98368A0D2242C08B8&quot;,&quot;e&quot;:&quot;AQAB&quot;,&quot;n&quot;:&quot;6S4cvwbYF9KvRwpD98y3LgX0Ca9YVba62Lp6e2H0SyTTa3xcH-eLeUCZ3bAIXTcEMKXEuynmXS0KTtDjM1OFHgsaExMknkGxn3lsRzOeWCXOFoWYY_6hecE2PtCqGrHqD1RVwpf5eCBfvLBzJa0mrPNffgBm-xQ7hoesuaFKe1qGiW28ORDqltgKBNyyw9b1RjVDuUiliqguRgbfr-MDEzXLt_i7-PEhDx7277XXPrGbZlfl0tJIk8c9sfFsqtKlySBCiFXN1_vnCo-vx2xsAcRlmMDzw34_-yWp73kvEa9QmJFWSza1PE_1nggel-k0znEiKXQxw1FEekgXT-btvQ&quot;,&quot;alg&quot;:&quot;RS256&quot;}]}\r\n\r\n**Exception**\r\n\r\n    20:42:15.032 [default-nioEventLoopGroup-1-7] ERROR i.m.s.t.j.s.jwks.JwksSignature - Exception loading JWK from https://localhost:5001/.well-known/openid-configuration/jwks. The JwksSignature will not be used to verify a JWT if further refresh attempts fail\r\n    javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n    \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:369)\r\n    \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:312)\r\n    \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:307)\r\n    \tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:654)\r\n    \tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:473)\r\n    \tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:369)\r\n    \tat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396)\r\n    \tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480)\r\n    \tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:458)\r\n    \tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:199)\r\n    \tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1498)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1404)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:441)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:412)\r\n    \tat java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:574)\r\n    \tat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:183)\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1653)\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1577)\r\n    \tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:224)\r\n    \tat com.nimbusds.jose.util.DefaultResourceRetriever.getInputStream(DefaultResourceRetriever.java:305)\r\n    \tat com.nimbusds.jose.util.DefaultResourceRetriever.retrieveResource(DefaultResourceRetriever.java:257)\r\n    \tat com.nimbusds.jose.jwk.JWKSet.load(JWKSet.java:508)\r\n    \tat com.nimbusds.jose.jwk.JWKSet.load(JWKSet.java:472)\r\n    \tat com.nimbusds.jose.jwk.JWKSet.load(JWKSet.java:527)\r\n    \tat io.micronaut.security.token.jwt.signature.jwks.JwksSignature.loadJwkSet(JwksSignature.java:166)\r\n    \tat io.micronaut.security.token.jwt.signature.jwks.JwksSignature.getJWKSet(JwksSignature.java:95)\r\n    \tat io.micronaut.security.token.jwt.signature.jwks.JwksSignature.verify(JwksSignature.java:145)\r\n    \tat io.micronaut.security.token.jwt.validator.JwtValidator.validate(JwtValidator.java:218)\r\n    \tat io.micronaut.security.token.jwt.validator.JwtValidator.validate(JwtValidator.java:134)\r\n    \tat io.micronaut.security.token.jwt.validator.JwtValidator.validate(JwtValidator.java:85)\r\n    \tat io.micronaut.security.token.jwt.validator.JwtValidator.validate(JwtValidator.java:71)\r\n    \tat io.micronaut.security.token.jwt.validator.JwtTokenValidator.validateToken(JwtTokenValidator.java:79)\r\n    \tat io.micronaut.security.token.validator.TokenValidator.validateToken(TokenValidator.java:54)\r\n    \tat io.micronaut.security.token.TokenAuthenticationFetcher.lambda$fetchAuthentication$0(TokenAuthenticationFetcher.java:81)\r\n    \tat io.reactivex.internal.operators.flowable.FlowableFlatMap$MergeSubscriber.onNext(FlowableFlatMap.java:132)\r\n    \tat io.micronaut.reactive.rxjava2.RxInstrumentedSubscriber.onNext(RxInstrumentedSubscriber.java:59)\r\n    \tat io.reactivex.internal.operators.flowable.FlowableFromIterable$IteratorSubscription.slowPath(FlowableFromIterable.java:236)\r\n    \tat io.reactivex.internal.operators.flowable.FlowableFromIterable$BaseRangeSubscription.request(FlowableFromIterable.java:124)\r\n    \tat io.reactivex.internal.operators.flowable.FlowableFlatMap$MergeSubscriber.onSubscribe(FlowableFlatMap.java:117)\r\n    \tat io.micronaut.reactive.rxjava2.RxInstrumentedSubscriber.onSubscribe(RxInstrumentedSubscriber.java:52)\r\n    \tat io.reactivex.internal.operators.flowable.FlowableFromIterable.subscribe(FlowableFromIterable.java:69)\r\n    \tat io.reactivex.internal.operators.flowable.FlowableFromIterable.subscribeActual(FlowableFromIterable.java:47)\r\n    \tat io.reactivex.Flowable.subscribe(Flowable.java:14918)\r\n    \tat io.reactivex.Flowable.subscribe(Flowable.java:14865)\r\n    \tat io.micronaut.reactive.rxjava2.RxInstrumentedFlowable.subscribeActual(RxInstrumentedFlowable.java:57)\r\n    \tat io.reactivex.Flowable.subscribe(Flowable.java:14918)\r\n    \tat io.reactivex.internal.operators.flowable.FlowableFlatMap.subscribeActual(FlowableFlatMap.java:53)\r\n    \tat io.reactivex.Flowable.subscribe(Flowable.java:14918)\r\n    \tat io.reactivex.internal.operators.flowable.FlowableElementAtMaybe.subscribeActual(FlowableElementAtMaybe.java:36)\r\n    \tat io.reactivex.Maybe.subscribe(Maybe.java:4290)\r\n    \tat io.micronaut.reactive.rxjava2.RxInstrumentedMaybe.subscribeActual(RxInstrumentedMaybe.java:53)\r\n    \tat io.reactivex.Maybe.subscribe(Maybe.java:4290)\r\n    \tat io.reactivex.internal.operators.maybe.MaybeMap.subscribeActual(MaybeMap.java:40)\r\n    \tat io.reactivex.Maybe.subscribe(Maybe.java:4290)\r\n    \tat io.reactivex.internal.operators.maybe.MaybeToFlowable.subscribeActual(MaybeToFlowable.java:45)\r\n    \tat io.reactivex.Flowable.subscribe(Flowable.java:14918)\r\n    \tat io.reactivex.Flowable.subscribe(Flowable.java:14865)\r\n    \tat io.reactivex.internal.operators.flowable.FlowableFlatMap$MergeSubscriber.onNext(FlowableFlatMap.java:163)\r\n    \tat io.micronaut.reactive.rxjava2.RxInstrumentedSubscriber.onNext(RxInstrumentedSubscriber.java:59)\r\n    \tat io.reactivex.internal.operators.flowable.FlowableFromIterable$IteratorSubscription.slowPath(FlowableFromIterable.java:236)\r\n    \tat io.reactivex.internal.operators.flowable.FlowableFromIterable$BaseRangeSubscription.request(FlowableFromIterable.java:124)\r\n    \tat io.reactivex.internal.operators.flowable.FlowableFlatMap$MergeSubscriber.onSubscribe(FlowableFlatMap.java:117)\r\n    \tat io.micronaut.reactive.rxjava2.RxInstrumentedSubscriber.onSubscribe(RxInstrumentedSubscriber.java:52)\r\n    \tat io.reactivex.internal.operators.flowable.FlowableFromIterable.subscribe(FlowableFromIterable.java:69)\r\n    \tat io.reactivex.internal.operators.flowable.FlowableFromIterable.subscribeActual(FlowableFromIterable.java:47)\r\n    \tat io.reactivex.Flowable.subscribe(Flowable.java:14918)\r\n    \tat io.reactivex.Flowable.subscribe(Flowable.java:14865)\r\n    \tat io.micronaut.reactive.rxjava2.RxInstrumentedFlowable.subscribeActual(RxInstrumentedFlowable.java:57)\r\n    \tat io.reactivex.Flowable.subscribe(Flowable.java:14918)\r\n    \tat io.reactivex.internal.operators.flowable.FlowableFlatMap.subscribeActual(FlowableFlatMap.java:53)\r\n    \tat io.reactivex.Flowable.subscribe(Flowable.java:14918)\r\n    \tat io.reactivex.internal.operators.flowable.FlowableElementAtMaybe.subscribeActual(FlowableElementAtMaybe.java:36)\r\n    \tat io.reactivex.Maybe.subscribe(Maybe.java:4290)\r\n    \tat io.micronaut.reactive.rxjava2.RxInstrumentedMaybe.subscribeActual(RxInstrumentedMaybe.java:53)\r\n    \tat io.reactivex.Maybe.subscribe(Maybe.java:4290)\r\n    \tat io.reactivex.internal.operators.maybe.MaybeDoOnEvent.subscribeActual(MaybeDoOnEvent.java:39)\r\n    \tat io.reactivex.Maybe.subscribe(Maybe.java:4290)\r\n    \tat io.reactivex.internal.operators.maybe.MaybeToFlowable.subscribeActual(MaybeToFlowable.java:45)\r\n    \tat io.reactivex.Flowable.subscribe(Flowable.java:14918)\r\n    \tat io.reactivex.internal.operators.flowable.FlowableFlatMap.subscribeActual(FlowableFlatMap.java:53)\r\n    \tat io.reactivex.Flowable.subscribe(Flowable.java:14918)\r\n    \tat io.reactivex.internal.operators.flowable.FlowableSwitchIfEmpty.subscribeActual(FlowableSwitchIfEmpty.java:32)\r\n    \tat io.reactivex.Flowable.subscribe(Flowable.java:14918)\r\n    \tat io.reactivex.Flowable.subscribe(Flowable.java:14868)\r\n    \tat io.micronaut.tracing.brave.instrument.http.HttpServerTracingPublisher.subscribe(HttpServerTracingPublisher.java:85)\r\n    \tat io.micronaut.core.async.publisher.Publishers.lambda$map$3(Publishers.java:205)\r\n    \tat io.micronaut.http.server.netty.RoutingInBoundHandler.executeRoute(RoutingInBoundHandler.java:1120)\r\n    \tat io.micronaut.http.server.netty.RoutingInBoundHandler.handleRouteMatch(RoutingInBoundHandler.java:776)\r\n    \tat io.micronaut.http.server.netty.RoutingInBoundHandler.channelRead0(RoutingInBoundHandler.java:607)\r\n    \tat io.micronaut.http.server.netty.RoutingInBoundHandler.channelRead0(RoutingInBoundHandler.java:149)\r\n    \tat io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:102)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.micronaut.http.netty.stream.HttpStreamsHandler.channelRead(HttpStreamsHandler.java:200)\r\n    \tat io.micronaut.http.netty.stream.HttpStreamsServerHandler.channelRead(HttpStreamsServerHandler.java:123)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\r\n    \tat io.netty.handler.codec.MessageToMessageCodec.channelRead(MessageToMessageCodec.java:111)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93)\r\n    \tat io.netty.handler.codec.http.HttpServerKeepAliveHandler.channelRead(HttpServerKeepAliveHandler.java:64)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.handler.flow.FlowControlHandler.dequeue(FlowControlHandler.java:200)\r\n    \tat io.netty.handler.flow.FlowControlHandler.channelRead(FlowControlHandler.java:162)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)\r\n    \tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n    \tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:831)\r\n    Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439)\r\n    \tat java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:306)\r\n    \tat java.base/sun.security.validator.Validator.validate(Validator.java:264)\r\n    \tat java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:231)\r\n    \tat java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:132)\r\n    \tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:638)\r\n    \t... 147 common frames omitted\r\n    Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\r\n    \tat java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\r\n    \tat java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297)\r\n    \tat java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:434)\r\n    \t... 152 common frames omitted\r\n\r\nKeychain\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gpqNL.png\r\n\r\nI tried the below 2 solutions\r\n\r\n 1. Update the java to latest version\r\n 2. import the certificate using the below command\r\n\r\nSolution from here https://stackoverflow.com/questions/9619030/resolving-javax-net-ssl-sslhandshakeexception-sun-security-validator-validatore\r\n\r\n    sudo keytool -–importcert -file /PathTo/YourCertFileDownloadedFromBrowserLockIcon.crt -keystore /Library/Java/JavaVirtualMachines/jdk1.8.0_191.jdk/Contents/Home/jre/lib/security/cacerts -alias &quot;Cert&quot; -storepass changeit","title":"i.m.s.t.j.s.jwks.JwksSignature - Exception loading JWK from https://localhost:5001/.well-known/openid-configuration/jwks. Micronaut Java","body":"<p>I am using the Asp.net core Identity server for OAuth with Micronaut 2.5.6 application as below configuration</p>\n<pre><code>micronaut:\n  application:\n    name: feteBirdService\n  server:\n    port: 8085\n    cors:\n      enabled: true\n  security:\n    enabled: true\n    token:\n      jwt:\n        enabled: true\n        signatures:\n          jwks:\n            IdentityServer:\n              url: 'https://localhost:5001/.well-known/openid-configuration/jwks'\n</code></pre>\n<p>I am using Mac OS, the JWK from the browser</p>\n<pre><code>{&quot;keys&quot;:[{&quot;kty&quot;:&quot;RSA&quot;,&quot;use&quot;:&quot;sig&quot;,&quot;kid&quot;:&quot;A144FFAF7B9CCEB98368A0D2242C08B8&quot;,&quot;e&quot;:&quot;AQAB&quot;,&quot;n&quot;:&quot;6S4cvwbYF9KvRwpD98y3LgX0Ca9YVba62Lp6e2H0SyTTa3xcH-eLeUCZ3bAIXTcEMKXEuynmXS0KTtDjM1OFHgsaExMknkGxn3lsRzOeWCXOFoWYY_6hecE2PtCqGrHqD1RVwpf5eCBfvLBzJa0mrPNffgBm-xQ7hoesuaFKe1qGiW28ORDqltgKBNyyw9b1RjVDuUiliqguRgbfr-MDEzXLt_i7-PEhDx7277XXPrGbZlfl0tJIk8c9sfFsqtKlySBCiFXN1_vnCo-vx2xsAcRlmMDzw34_-yWp73kvEa9QmJFWSza1PE_1nggel-k0znEiKXQxw1FEekgXT-btvQ&quot;,&quot;alg&quot;:&quot;RS256&quot;}]}\n</code></pre>\n<p><strong>Exception</strong></p>\n<pre><code>20:42:15.032 [default-nioEventLoopGroup-1-7] ERROR i.m.s.t.j.s.jwks.JwksSignature - Exception loading JWK from https://localhost:5001/.well-known/openid-configuration/jwks. The JwksSignature will not be used to verify a JWT if further refresh attempts fail\njavax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:369)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:312)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:307)\n    at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:654)\n    at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:473)\n    at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:369)\n    at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396)\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480)\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:458)\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:199)\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1498)\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1404)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:441)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:412)\n    at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:574)\n    at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:183)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1653)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1577)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:224)\n    at com.nimbusds.jose.util.DefaultResourceRetriever.getInputStream(DefaultResourceRetriever.java:305)\n    at com.nimbusds.jose.util.DefaultResourceRetriever.retrieveResource(DefaultResourceRetriever.java:257)\n    at com.nimbusds.jose.jwk.JWKSet.load(JWKSet.java:508)\n    at com.nimbusds.jose.jwk.JWKSet.load(JWKSet.java:472)\n    at com.nimbusds.jose.jwk.JWKSet.load(JWKSet.java:527)\n    at io.micronaut.security.token.jwt.signature.jwks.JwksSignature.loadJwkSet(JwksSignature.java:166)\n    at io.micronaut.security.token.jwt.signature.jwks.JwksSignature.getJWKSet(JwksSignature.java:95)\n    at io.micronaut.security.token.jwt.signature.jwks.JwksSignature.verify(JwksSignature.java:145)\n    at io.micronaut.security.token.jwt.validator.JwtValidator.validate(JwtValidator.java:218)\n    at io.micronaut.security.token.jwt.validator.JwtValidator.validate(JwtValidator.java:134)\n    at io.micronaut.security.token.jwt.validator.JwtValidator.validate(JwtValidator.java:85)\n    at io.micronaut.security.token.jwt.validator.JwtValidator.validate(JwtValidator.java:71)\n    at io.micronaut.security.token.jwt.validator.JwtTokenValidator.validateToken(JwtTokenValidator.java:79)\n    at io.micronaut.security.token.validator.TokenValidator.validateToken(TokenValidator.java:54)\n    at io.micronaut.security.token.TokenAuthenticationFetcher.lambda$fetchAuthentication$0(TokenAuthenticationFetcher.java:81)\n    at io.reactivex.internal.operators.flowable.FlowableFlatMap$MergeSubscriber.onNext(FlowableFlatMap.java:132)\n    at io.micronaut.reactive.rxjava2.RxInstrumentedSubscriber.onNext(RxInstrumentedSubscriber.java:59)\n    at io.reactivex.internal.operators.flowable.FlowableFromIterable$IteratorSubscription.slowPath(FlowableFromIterable.java:236)\n    at io.reactivex.internal.operators.flowable.FlowableFromIterable$BaseRangeSubscription.request(FlowableFromIterable.java:124)\n    at io.reactivex.internal.operators.flowable.FlowableFlatMap$MergeSubscriber.onSubscribe(FlowableFlatMap.java:117)\n    at io.micronaut.reactive.rxjava2.RxInstrumentedSubscriber.onSubscribe(RxInstrumentedSubscriber.java:52)\n    at io.reactivex.internal.operators.flowable.FlowableFromIterable.subscribe(FlowableFromIterable.java:69)\n    at io.reactivex.internal.operators.flowable.FlowableFromIterable.subscribeActual(FlowableFromIterable.java:47)\n    at io.reactivex.Flowable.subscribe(Flowable.java:14918)\n    at io.reactivex.Flowable.subscribe(Flowable.java:14865)\n    at io.micronaut.reactive.rxjava2.RxInstrumentedFlowable.subscribeActual(RxInstrumentedFlowable.java:57)\n    at io.reactivex.Flowable.subscribe(Flowable.java:14918)\n    at io.reactivex.internal.operators.flowable.FlowableFlatMap.subscribeActual(FlowableFlatMap.java:53)\n    at io.reactivex.Flowable.subscribe(Flowable.java:14918)\n    at io.reactivex.internal.operators.flowable.FlowableElementAtMaybe.subscribeActual(FlowableElementAtMaybe.java:36)\n    at io.reactivex.Maybe.subscribe(Maybe.java:4290)\n    at io.micronaut.reactive.rxjava2.RxInstrumentedMaybe.subscribeActual(RxInstrumentedMaybe.java:53)\n    at io.reactivex.Maybe.subscribe(Maybe.java:4290)\n    at io.reactivex.internal.operators.maybe.MaybeMap.subscribeActual(MaybeMap.java:40)\n    at io.reactivex.Maybe.subscribe(Maybe.java:4290)\n    at io.reactivex.internal.operators.maybe.MaybeToFlowable.subscribeActual(MaybeToFlowable.java:45)\n    at io.reactivex.Flowable.subscribe(Flowable.java:14918)\n    at io.reactivex.Flowable.subscribe(Flowable.java:14865)\n    at io.reactivex.internal.operators.flowable.FlowableFlatMap$MergeSubscriber.onNext(FlowableFlatMap.java:163)\n    at io.micronaut.reactive.rxjava2.RxInstrumentedSubscriber.onNext(RxInstrumentedSubscriber.java:59)\n    at io.reactivex.internal.operators.flowable.FlowableFromIterable$IteratorSubscription.slowPath(FlowableFromIterable.java:236)\n    at io.reactivex.internal.operators.flowable.FlowableFromIterable$BaseRangeSubscription.request(FlowableFromIterable.java:124)\n    at io.reactivex.internal.operators.flowable.FlowableFlatMap$MergeSubscriber.onSubscribe(FlowableFlatMap.java:117)\n    at io.micronaut.reactive.rxjava2.RxInstrumentedSubscriber.onSubscribe(RxInstrumentedSubscriber.java:52)\n    at io.reactivex.internal.operators.flowable.FlowableFromIterable.subscribe(FlowableFromIterable.java:69)\n    at io.reactivex.internal.operators.flowable.FlowableFromIterable.subscribeActual(FlowableFromIterable.java:47)\n    at io.reactivex.Flowable.subscribe(Flowable.java:14918)\n    at io.reactivex.Flowable.subscribe(Flowable.java:14865)\n    at io.micronaut.reactive.rxjava2.RxInstrumentedFlowable.subscribeActual(RxInstrumentedFlowable.java:57)\n    at io.reactivex.Flowable.subscribe(Flowable.java:14918)\n    at io.reactivex.internal.operators.flowable.FlowableFlatMap.subscribeActual(FlowableFlatMap.java:53)\n    at io.reactivex.Flowable.subscribe(Flowable.java:14918)\n    at io.reactivex.internal.operators.flowable.FlowableElementAtMaybe.subscribeActual(FlowableElementAtMaybe.java:36)\n    at io.reactivex.Maybe.subscribe(Maybe.java:4290)\n    at io.micronaut.reactive.rxjava2.RxInstrumentedMaybe.subscribeActual(RxInstrumentedMaybe.java:53)\n    at io.reactivex.Maybe.subscribe(Maybe.java:4290)\n    at io.reactivex.internal.operators.maybe.MaybeDoOnEvent.subscribeActual(MaybeDoOnEvent.java:39)\n    at io.reactivex.Maybe.subscribe(Maybe.java:4290)\n    at io.reactivex.internal.operators.maybe.MaybeToFlowable.subscribeActual(MaybeToFlowable.java:45)\n    at io.reactivex.Flowable.subscribe(Flowable.java:14918)\n    at io.reactivex.internal.operators.flowable.FlowableFlatMap.subscribeActual(FlowableFlatMap.java:53)\n    at io.reactivex.Flowable.subscribe(Flowable.java:14918)\n    at io.reactivex.internal.operators.flowable.FlowableSwitchIfEmpty.subscribeActual(FlowableSwitchIfEmpty.java:32)\n    at io.reactivex.Flowable.subscribe(Flowable.java:14918)\n    at io.reactivex.Flowable.subscribe(Flowable.java:14868)\n    at io.micronaut.tracing.brave.instrument.http.HttpServerTracingPublisher.subscribe(HttpServerTracingPublisher.java:85)\n    at io.micronaut.core.async.publisher.Publishers.lambda$map$3(Publishers.java:205)\n    at io.micronaut.http.server.netty.RoutingInBoundHandler.executeRoute(RoutingInBoundHandler.java:1120)\n    at io.micronaut.http.server.netty.RoutingInBoundHandler.handleRouteMatch(RoutingInBoundHandler.java:776)\n    at io.micronaut.http.server.netty.RoutingInBoundHandler.channelRead0(RoutingInBoundHandler.java:607)\n    at io.micronaut.http.server.netty.RoutingInBoundHandler.channelRead0(RoutingInBoundHandler.java:149)\n    at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:102)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.micronaut.http.netty.stream.HttpStreamsHandler.channelRead(HttpStreamsHandler.java:200)\n    at io.micronaut.http.netty.stream.HttpStreamsServerHandler.channelRead(HttpStreamsServerHandler.java:123)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\n    at io.netty.handler.codec.MessageToMessageCodec.channelRead(MessageToMessageCodec.java:111)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93)\n    at io.netty.handler.codec.http.HttpServerKeepAliveHandler.channelRead(HttpServerKeepAliveHandler.java:64)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.handler.flow.FlowControlHandler.dequeue(FlowControlHandler.java:200)\n    at io.netty.handler.flow.FlowControlHandler.channelRead(FlowControlHandler.java:162)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)\n    at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:831)\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439)\n    at java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:306)\n    at java.base/sun.security.validator.Validator.validate(Validator.java:264)\n    at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:231)\n    at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:132)\n    at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:638)\n    ... 147 common frames omitted\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\n    at java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\n    at java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297)\n    at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:434)\n    ... 152 common frames omitted\n</code></pre>\n<p>Keychain</p>\n<p><a href=\"https://i.stack.imgur.com/gpqNL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gpqNL.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried the below 2 solutions</p>\n<ol>\n<li>Update the java to latest version</li>\n<li>import the certificate using the below command</li>\n</ol>\n<p>Solution from here <a href=\"https://stackoverflow.com/questions/9619030/resolving-javax-net-ssl-sslhandshakeexception-sun-security-validator-validatore\">Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?</a></p>\n<pre><code>sudo keytool -–importcert -file /PathTo/YourCertFileDownloadedFromBrowserLockIcon.crt -keystore /Library/Java/JavaVirtualMachines/jdk1.8.0_191.jdk/Contents/Home/jre/lib/security/cacerts -alias &quot;Cert&quot; -storepass changeit\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":196869,"reputation":402535,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":0,"creation_date":1662103829,"post_id":73579170,"comment_id":129933030,"body_markdown":"Welcome to Stack Overflow. Please read [the help pages](http://stackoverflow.com/help), take the SO [tour], read [ask], as well as [this question checklist](https://codeblog.jonskeet.uk/2012/11/24/stack-overflow-question-checklist/). Also please learn how to [edit] your questions to improve them.","body":"Welcome to Stack Overflow. Please read <a href=\"http://stackoverflow.com/help\">the help pages</a>, take the SO <a href=\"https://stackoverflow.com/tour\">tour</a>, read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, as well as <a href=\"https://codeblog.jonskeet.uk/2012/11/24/stack-overflow-question-checklist/\" rel=\"nofollow noreferrer\">this question checklist</a>. Also please learn how to <a href=\"https://stackoverflow.com/posts/73579170/edit\">edit</a> your questions to improve them."},{"owner":{"account_id":196869,"reputation":402535,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":0,"creation_date":1662103918,"post_id":73579170,"comment_id":129933053,"body_markdown":"As for your problem, `new int[5]` creates an array of five elements, with indexes from `0` to `4`. The loop `for (int i = 0; i &lt;= 5; i++)` will use indexes from `0` to **`5`**.","body":"As for your problem, <code>new int[5]</code> creates an array of five elements, with indexes from <code>0</code> to <code>4</code>. The loop <code>for (int i = 0; i &lt;= 5; i++)</code> will use indexes from <code>0</code> to <b><code>5</code></b>."}],"answers":[{"tags":[],"owner":{"account_id":18271532,"reputation":24,"user_id":13302222,"display_name":"Marzen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662104444,"creation_date":1662104444,"answer_id":73579290,"question_id":73579170,"body_markdown":"```\r\n    public static int Largest(int array[]) {\r\n        int largest = Integer.MIN_VALUE;\r\n        //for (int i = 0; i &lt;= 5; i++) {\r\n        //wrong loop range      \r\n        for (int i = 0; i &lt; array.length; i++) {\r\n\r\n            if (array[i] &gt; largest) {\r\n                //array[i] = largest;\r\n                //wrong assignment \r\n                largest = array[i];\r\n            }\r\n            System.out.println(largest);\r\n        }\r\n        return largest;\r\n    }\r\n```","title":"What changes are to be made to run this code?","body":"<pre><code>    public static int Largest(int array[]) {\n        int largest = Integer.MIN_VALUE;\n        //for (int i = 0; i &lt;= 5; i++) {\n        //wrong loop range      \n        for (int i = 0; i &lt; array.length; i++) {\n\n            if (array[i] &gt; largest) {\n                //array[i] = largest;\n                //wrong assignment \n                largest = array[i];\n            }\n            System.out.println(largest);\n        }\n        return largest;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19896419,"reputation":66,"user_id":14577421,"display_name":"Maxime Pillier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662106471,"creation_date":1662106309,"answer_id":73579592,"question_id":73579170,"body_markdown":"Try like this : \r\n\r\n    package com.company;\r\n    import java.util.*;\r\n    \r\n    public class Main {\r\n    public static int Largest(int array[]) {\r\n        int largest = Integer.MIN_VALUE;\r\n          for (int i = 0; i &lt; 5; i++) {\r\n             if (array[i] &gt; largest) {\r\n                largest = array[i];\r\n            }\r\n            System.out.println(largest);\r\n        }\r\n        return largest;\r\n    }\r\n    \r\n         public static void main(String[] args) {\r\n        // write your code here\r\n        Scanner sc = new Scanner(System.in);\r\n        int array[] = new int[5];\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            array[i] = sc.nextInt();\r\n            System.out.println(array[i]);\r\n    \r\n        }\r\n        Largest(array);\r\n        System.out.println(&quot;largest element is : &quot;+Largest(array));\r\n    }\r\n    }\r\n\r\nYou are wrong on two thing : \r\n\r\n- the loops on your array go until index = 5, however your array has a length of 5, so the last index is 4.\r\n\r\n- you were assigning array[i] = largest instead of largest = array[i]","title":"What changes are to be made to run this code?","body":"<p>Try like this :</p>\n<pre><code>package com.company;\nimport java.util.*;\n\npublic class Main {\npublic static int Largest(int array[]) {\n    int largest = Integer.MIN_VALUE;\n      for (int i = 0; i &lt; 5; i++) {\n         if (array[i] &gt; largest) {\n            largest = array[i];\n        }\n        System.out.println(largest);\n    }\n    return largest;\n}\n\n     public static void main(String[] args) {\n    // write your code here\n    Scanner sc = new Scanner(System.in);\n    int array[] = new int[5];\n    for (int i = 0; i &lt; 5; i++) {\n        array[i] = sc.nextInt();\n        System.out.println(array[i]);\n\n    }\n    Largest(array);\n    System.out.println(&quot;largest element is : &quot;+Largest(array));\n}\n}\n</code></pre>\n<p>You are wrong on two thing :</p>\n<ul>\n<li><p>the loops on your array go until index = 5, however your array has a length of 5, so the last index is 4.</p>\n</li>\n<li><p>you were assigning array[i] = largest instead of largest = array[i]</p>\n</li>\n</ul>\n"}],"owner":{"account_id":26225141,"reputation":1,"user_id":19901935,"display_name":"Kriti Bhardwaj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1662106471,"creation_date":1662103692,"question_id":73579170,"body_markdown":"    package com.company;\r\n    import java.util.*;\r\n    public class Main {\r\n    public static int Largest(int array[]) {\r\n        int largest = Integer.MIN_VALUE;\r\n          for (int i = 0; i &lt;= 5; i++) {\r\n             if (array[i] &gt; largest) {\r\n                array[i] = largest;\r\n            }\r\n            System.out.println(largest);\r\n        }\r\n        return largest;\r\n    }\r\n\r\n         public static void main(String[] args) {\r\n        // write your code here\r\n        Scanner sc = new Scanner(System.in);\r\n        int array[] = new int[5];\r\n        for (int i = 0; i &lt;= 5; i++) {\r\n            array[i] = sc.nextInt();\r\n            System.out.println(array[i]);\r\n\r\n        }\r\n        Largest(array);\r\n        System.out.println(&quot;largest element is : &quot;+Largest(array));\r\n\r\n\r\n    }\r\n}\r\n\r\nThis is the code to find the largest no. in an array but the output I&#39;m getting for this code isn&#39;t desirable. Please check and let me know the problems in this code.","title":"What changes are to be made to run this code?","body":"<pre><code>package com.company;\nimport java.util.*;\npublic class Main {\npublic static int Largest(int array[]) {\n    int largest = Integer.MIN_VALUE;\n      for (int i = 0; i &lt;= 5; i++) {\n         if (array[i] &gt; largest) {\n            array[i] = largest;\n        }\n        System.out.println(largest);\n    }\n    return largest;\n}\n\n     public static void main(String[] args) {\n    // write your code here\n    Scanner sc = new Scanner(System.in);\n    int array[] = new int[5];\n    for (int i = 0; i &lt;= 5; i++) {\n        array[i] = sc.nextInt();\n        System.out.println(array[i]);\n\n    }\n    Largest(array);\n    System.out.println(&quot;largest element is : &quot;+Largest(array));\n\n\n}\n</code></pre>\n<p>}</p>\n<p>This is the code to find the largest no. in an array but the output I'm getting for this code isn't desirable. Please check and let me know the problems in this code.</p>\n"},{"tags":["java","swing","awt","jscrollpane","jtextarea"],"answers":[{"tags":[],"owner":{"account_id":601895,"reputation":321,"user_id":298052,"display_name":"Krigath"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1269099528,"creation_date":1269099528,"answer_id":2483628,"question_id":2483572,"body_markdown":"I found the answer here:\r\nhttps://stackoverflow.com/questions/2132444/jscrollpane-and-jlist-auto-scroll\r\n\r\n    scrollPane.getVerticalScrollBar().addAdjustmentListener(new AdjustmentListener() {  \r\n            public void adjustmentValueChanged(AdjustmentEvent e) {  \r\n                e.getAdjustable().setValue(e.getAdjustable().getMaximum());  \r\n            }\r\n        });","title":"Making a JScrollPane automatically scroll all the way down","body":"<p>I found the answer here:\n<a href=\"https://stackoverflow.com/questions/2132444/jscrollpane-and-jlist-auto-scroll\">JScrollPane and JList auto scroll</a></p>\n\n<pre><code>scrollPane.getVerticalScrollBar().addAdjustmentListener(new AdjustmentListener() {  \n        public void adjustmentValueChanged(AdjustmentEvent e) {  \n            e.getAdjustable().setValue(e.getAdjustable().getMaximum());  \n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":1,"up_vote_count":43,"is_accepted":true,"score":42,"last_activity_date":1431055635,"creation_date":1269102768,"answer_id":2483824,"question_id":2483572,"body_markdown":"For (what I think is) a simpler answer check out: [Text Area Scrolling][1].\r\n\r\n\r\n&gt; Prior to JDK5, you would have to manually change the caret&#39;s position after each append. You can now give this behaviour as a default like this :\r\n&gt; \r\n&gt;      JTextArea textArea = new JTextArea();\r\n&gt;      DefaultCaret caret = (DefaultCaret)textArea.getCaret();\r\n&gt;      caret.setUpdatePolicy(DefaultCaret.ALWAYS_UPDATE);\r\n&gt; The advantage of this is that you don&#39;t need to use this snippet more than once in your code!\r\n\r\n  [1]: http://tips4java.wordpress.com/2008/10/22/text-area-scrolling/","title":"Making a JScrollPane automatically scroll all the way down","body":"<p>For (what I think is) a simpler answer check out: <a href=\"http://tips4java.wordpress.com/2008/10/22/text-area-scrolling/\" rel=\"noreferrer\">Text Area Scrolling</a>.</p>\n\n<blockquote>\n  <p>Prior to JDK5, you would have to manually change the caret's position after each append. You can now give this behaviour as a default like this :</p>\n\n<pre><code> JTextArea textArea = new JTextArea();\n DefaultCaret caret = (DefaultCaret)textArea.getCaret();\n caret.setUpdatePolicy(DefaultCaret.ALWAYS_UPDATE);\n</code></pre>\n  \n  <p>The advantage of this is that you don't need to use this snippet more than once in your code!</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":899506,"reputation":36,"user_id":935995,"display_name":"Primark"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1327311933,"creation_date":1315532645,"answer_id":7356321,"question_id":2483572,"body_markdown":"A work around is possible: you can declare that listener as a class then instantiate it on the event where it is needed. After which you can remove the class after forcing a repaint of the screen. Works like a charm.","title":"Making a JScrollPane automatically scroll all the way down","body":"<p>A work around is possible: you can declare that listener as a class then instantiate it on the event where it is needed. After which you can remove the class after forcing a repaint of the screen. Works like a charm.</p>\n"},{"tags":[],"owner":{"account_id":1035282,"reputation":71,"user_id":1042737,"display_name":"Harold Martin"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1342226802,"creation_date":1342226724,"answer_id":11480045,"question_id":2483572,"body_markdown":"If you are constantly writing data to it you could use:\r\n\r\n    textArea.setCaretPosition(textArea.getDocument().getLength());\r\n\r\njust after you add the new data.\r\n\r\nThis would automatically scroll all the way down the JScorllPane.","title":"Making a JScrollPane automatically scroll all the way down","body":"<p>If you are constantly writing data to it you could use:</p>\n\n<pre><code>textArea.setCaretPosition(textArea.getDocument().getLength());\n</code></pre>\n\n<p>just after you add the new data.</p>\n\n<p>This would automatically scroll all the way down the JScorllPane.</p>\n"},{"tags":[],"owner":{"account_id":3087281,"reputation":399,"user_id":2614192,"accept_rate":0,"display_name":"Jeevan_MSFT_Identity"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1449148456,"creation_date":1388837272,"answer_id":20920781,"question_id":2483572,"body_markdown":"Here is the solution.\r\n\r\n    JTextArea textArea = new JTextArea();\r\n    DefaultCaret caret = (DefaultCaret)textArea.getCaret();\r\n    caret.setUpdatePolicy(DefaultCaret.ALWAYS_UPDATE);` ","title":"Making a JScrollPane automatically scroll all the way down","body":"<p>Here is the solution.</p>\n\n<pre><code>JTextArea textArea = new JTextArea();\nDefaultCaret caret = (DefaultCaret)textArea.getCaret();\ncaret.setUpdatePolicy(DefaultCaret.ALWAYS_UPDATE);` \n</code></pre>\n"},{"tags":[],"owner":{"account_id":9007431,"reputation":123,"user_id":6713531,"display_name":"user9999"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1538061664,"creation_date":1538060786,"answer_id":52540051,"question_id":2483572,"body_markdown":"The accepted solution works good, but only when the text area is editable, i.e. without `jTextArea.setEditable(false)` . The solution suggested by [Krigath][1] is more general, but has the problem as asked here [JScrollPane and JList auto scroll][2]. Using answers from that question you can get general solution, e.g.:\r\n\r\n            JScrollPane scrollPane = new JScrollPane(jTextArea);\r\n\r\n        verticalScrollBarMaximumValue = scrollPane.getVerticalScrollBar().getMaximum();\r\n        scrollPane.getVerticalScrollBar().addAdjustmentListener(\r\n                e -&gt; {\r\n                    if ((verticalScrollBarMaximumValue - e.getAdjustable().getMaximum()) == 0)\r\n                        return;\r\n                    e.getAdjustable().setValue(e.getAdjustable().getMaximum());\r\n                    verticalScrollBarMaximumValue = scrollPane.getVerticalScrollBar().getMaximum();\r\n                });\r\n\r\nThe Pane then is scrolled down only when vertical scroll bar is expanding, in response to appended lines of text.&lt;p&gt;\r\nI admit that that a method to filter events without extra variables could be found, and would appreciate if somebody post it.\r\n\r\n  [1]: https://stackoverflow.com/users/298052/krigath\r\n  [2]: https://stackoverflow.com/questions/2132444/jscrollpane-and-jlist-auto-scroll","title":"Making a JScrollPane automatically scroll all the way down","body":"<p>The accepted solution works good, but only when the text area is editable, i.e. without <code>jTextArea.setEditable(false)</code> . The solution suggested by <a href=\"https://stackoverflow.com/users/298052/krigath\">Krigath</a> is more general, but has the problem as asked here <a href=\"https://stackoverflow.com/questions/2132444/jscrollpane-and-jlist-auto-scroll\">JScrollPane and JList auto scroll</a>. Using answers from that question you can get general solution, e.g.:</p>\n\n<pre><code>        JScrollPane scrollPane = new JScrollPane(jTextArea);\n\n    verticalScrollBarMaximumValue = scrollPane.getVerticalScrollBar().getMaximum();\n    scrollPane.getVerticalScrollBar().addAdjustmentListener(\n            e -&gt; {\n                if ((verticalScrollBarMaximumValue - e.getAdjustable().getMaximum()) == 0)\n                    return;\n                e.getAdjustable().setValue(e.getAdjustable().getMaximum());\n                verticalScrollBarMaximumValue = scrollPane.getVerticalScrollBar().getMaximum();\n            });\n</code></pre>\n\n<p>The Pane then is scrolled down only when vertical scroll bar is expanding, in response to appended lines of text.<p>\nI admit that that a method to filter events without extra variables could be found, and would appreciate if somebody post it.</p>\n"},{"tags":[],"owner":{"account_id":9811209,"reputation":169,"user_id":7269325,"display_name":"Krisztian Nagy Zsolt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640444865,"creation_date":1640424787,"answer_id":70479122,"question_id":2483572,"body_markdown":"I was look at the answers and found that @user9999 [answer][1] is a good solution for those who want the scrollbar continuously scroll. I edited the code, got rid of the variable. It make the scrolling stop - when the user is scrolling manually. If the user scrolls to the end of the textarea or scrollarea, the auto scrolling continues.\r\n\r\n*(also as @user9999 suggested i removed the variable and added the `jScrollPane1.getHeight()` as the measure value to stop scrolling if the current scrollbar value is lower than max)*\r\n\r\n**Here is the workaround:**\r\n```Java\r\njScrollPane1.getVerticalScrollBar().addAdjustmentListener(\r\ne -&gt; {\r\n    if ((e.getAdjustable().getValue() - e.getAdjustable().getMaximum()) &gt; -jScrollPane1.getHeight() - 20){\r\n        e.getAdjustable().setValue(e.getAdjustable().getMaximum());\r\n    }   \r\n});\r\n```\r\nEdit:\r\n\r\nAdded `-20` to the `-jScrollPane1.getHeight() - 20` as it is sometimes doesnt scroll without it, i guess the `-20` can be changed depends on the font size of the TextArea.\r\n\r\n  [1]: https://stackoverflow.com/a/52540051/7269325","title":"Making a JScrollPane automatically scroll all the way down","body":"<p>I was look at the answers and found that @user9999 <a href=\"https://stackoverflow.com/a/52540051/7269325\">answer</a> is a good solution for those who want the scrollbar continuously scroll. I edited the code, got rid of the variable. It make the scrolling stop - when the user is scrolling manually. If the user scrolls to the end of the textarea or scrollarea, the auto scrolling continues.</p>\n<p><em>(also as @user9999 suggested i removed the variable and added the <code>jScrollPane1.getHeight()</code> as the measure value to stop scrolling if the current scrollbar value is lower than max)</em></p>\n<p><strong>Here is the workaround:</strong></p>\n<pre><code>jScrollPane1.getVerticalScrollBar().addAdjustmentListener(\ne -&gt; {\n    if ((e.getAdjustable().getValue() - e.getAdjustable().getMaximum()) &gt; -jScrollPane1.getHeight() - 20){\n        e.getAdjustable().setValue(e.getAdjustable().getMaximum());\n    }   \n});\n</code></pre>\n<p>Edit:</p>\n<p>Added <code>-20</code> to the <code>-jScrollPane1.getHeight() - 20</code> as it is sometimes doesnt scroll without it, i guess the <code>-20</code> can be changed depends on the font size of the TextArea.</p>\n"},{"tags":[],"owner":{"account_id":12131778,"reputation":56,"user_id":8858506,"display_name":"BeRational"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662106380,"creation_date":1662106380,"answer_id":73579610,"question_id":2483572,"body_markdown":"Be careful if you&#39;re about to use auto scroll within a multithreaded program. \r\nLike for example if somewhere is a method like \r\n\r\n    public void addNewLine(String s){\r\n            textPane.setText(textPane.getText()+&quot;\\n&quot;+s);\r\n            if(autoscrollCheckBox.isSelected()){\r\n                this.revalidate();\r\n                JScrollBar vertical = scrollPane.getVerticalScrollBar();\r\n                vertical.setValue(vertical.getMaximum());\r\n            }\r\n    }\r\n\r\nYou will get the following exception, if the addNewLine (or the vertical.setValue(...)) method is called from another thread. (Especially, if you&#39;re try to resize the window or try to scroll while, autoscroll is enabled)\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\r\n\tat javax.swing.text.BoxView.calculateMajorAxisRequirements(BoxView.java:871)\r\n\tat javax.swing.text.BoxView.checkRequests(BoxView.java:930)\r\n\tat javax.swing.text.BoxView.getMinimumSpan(BoxView.java:568)\r\n\t...\r\n\r\nThe reason for this is, the multithreaded call of the method is messing up with Swings&#39; eventhandling, so you&#39;ll get random results or like above an error (read more[here][1]).\r\n\r\nThe correct way is to call SwingUtilities.invokeLater(...):\r\n\r\n    public void addNewLine(String s){\r\n           SwingUtilities.invokeLater( () -&gt; {\r\n                textPaneOutput.setText(textPaneOutput.getText()+&quot;\\n&quot;+s);\r\n                if(autoscrollCheckBox.isSelected()){\r\n                    this.revalidate();\r\n                    JScrollBar vertical = scrollPane.getVerticalScrollBar();\r\n                    vertical.setValue(vertical.getMaximum());\r\n                }\r\n            });\r\n     }\r\n\r\nThis way you&#39;ll able to auto scroll threadsafe!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/56051206/java-swing-gives-occasional-nullpointerexceptions-with-no-indication-of-where-in#comment98743704_56051206","title":"Making a JScrollPane automatically scroll all the way down","body":"<p>Be careful if you're about to use auto scroll within a multithreaded program.\nLike for example if somewhere is a method like</p>\n<pre><code>public void addNewLine(String s){\n        textPane.setText(textPane.getText()+&quot;\\n&quot;+s);\n        if(autoscrollCheckBox.isSelected()){\n            this.revalidate();\n            JScrollBar vertical = scrollPane.getVerticalScrollBar();\n            vertical.setValue(vertical.getMaximum());\n        }\n}\n</code></pre>\n<p>You will get the following exception, if the addNewLine (or the vertical.setValue(...)) method is called from another thread. (Especially, if you're try to resize the window or try to scroll while, autoscroll is enabled)</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\nat javax.swing.text.BoxView.calculateMajorAxisRequirements(BoxView.java:871)\nat javax.swing.text.BoxView.checkRequests(BoxView.java:930)\nat javax.swing.text.BoxView.getMinimumSpan(BoxView.java:568)\n...\n</code></pre>\n<p>The reason for this is, the multithreaded call of the method is messing up with Swings' eventhandling, so you'll get random results or like above an error (read more<a href=\"https://stackoverflow.com/questions/56051206/java-swing-gives-occasional-nullpointerexceptions-with-no-indication-of-where-in#comment98743704_56051206\">here</a>).</p>\n<p>The correct way is to call SwingUtilities.invokeLater(...):</p>\n<pre><code>public void addNewLine(String s){\n       SwingUtilities.invokeLater( () -&gt; {\n            textPaneOutput.setText(textPaneOutput.getText()+&quot;\\n&quot;+s);\n            if(autoscrollCheckBox.isSelected()){\n                this.revalidate();\n                JScrollBar vertical = scrollPane.getVerticalScrollBar();\n                vertical.setValue(vertical.getMaximum());\n            }\n        });\n }\n</code></pre>\n<p>This way you'll able to auto scroll threadsafe!</p>\n"}],"owner":{"account_id":601895,"reputation":321,"user_id":298052,"display_name":"Krigath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61118,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":2483824,"answer_count":8,"score":22,"last_activity_date":1662106380,"creation_date":1269098591,"question_id":2483572,"body_markdown":"I am trying to implement a JScrollPane with a JTextArea. The JTextArea is being appended to, and I want the JScrollPane to keep scrolling down as more text is added. How can this be achieved?","title":"Making a JScrollPane automatically scroll all the way down","body":"<p>I am trying to implement a JScrollPane with a JTextArea. The JTextArea is being appended to, and I want the JScrollPane to keep scrolling down as more text is added. How can this be achieved?</p>\n"},{"tags":["java","amazon-web-services","amazon-cognito","aws-sts"],"answers":[{"tags":[],"owner":{"account_id":14124693,"reputation":445,"user_id":10512595,"display_name":"BelovedFool"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662106192,"creation_date":1662106192,"answer_id":73579576,"question_id":73553988,"body_markdown":"It turns out, explicitly giving the sessionToken is also possible in Java. All I need to do is use [AwsSessionCredentials][1] instead of [AwsBasicCredentials][2]. (Many thanks to the person who answered my question on the [aws forum][3].)\r\n\r\n\r\n  [1]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/auth/credentials/AwsSessionCredentials.html\r\n  [2]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/auth/credentials/AwsBasicCredentials.html\r\n  [3]: https://repost.aws/questions/QUfDJX2VH-TEecmOkTEqTWBA/using-an-stsclient-assumed-role-with-cognito-in-java","title":"Using an stsclient assumed role with cognito in java","body":"<p>It turns out, explicitly giving the sessionToken is also possible in Java. All I need to do is use <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/auth/credentials/AwsSessionCredentials.html\" rel=\"nofollow noreferrer\">AwsSessionCredentials</a> instead of <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/auth/credentials/AwsBasicCredentials.html\" rel=\"nofollow noreferrer\">AwsBasicCredentials</a>. (Many thanks to the person who answered my question on the <a href=\"https://repost.aws/questions/QUfDJX2VH-TEecmOkTEqTWBA/using-an-stsclient-assumed-role-with-cognito-in-java\" rel=\"nofollow noreferrer\">aws forum</a>.)</p>\n"}],"owner":{"account_id":14124693,"reputation":445,"user_id":10512595,"display_name":"BelovedFool"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":671,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73579576,"answer_count":1,"score":1,"last_activity_date":1662106192,"creation_date":1661939280,"question_id":73553988,"body_markdown":"I am using Java.\r\n\r\nI have an aws user (sts client) on which I do an &quot;assume role&quot; before trying to call cognito &quot;list users&quot;. \r\n\r\nThe assume role seem to be working fine. However, the &quot;list users&quot; is throwing an error (&quot;The security token included in the request is invalid&quot;) and I don&#39;t know why. Here is the full error trace:\r\n\r\n    software.amazon.awssdk.services.cognitoidentityprovider.model.CognitoIdentityProviderException: The security token included in the request is invalid. (Service: CognitoIdentityProvider, Status Code: 400, Request ID: XXX-XXX-XXX)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:167)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:175)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n\tat software.amazon.awssdk.services.cognitoidentityprovider.DefaultCognitoIdentityProviderClient.listUsers(DefaultCognitoIdentityProviderClient.java:6504)\r\n\tat EC.RunAWSCall.listUsersFilter(RunAWSCall.java:107)\r\n\tat EC.RunAWSCall.changingUserMDP(RunAWSCall.java:62)\r\n\r\n\r\nHere is my code in Java:\r\n\r\n```java \r\nimport software.amazon.awssdk.auth.credentials.AwsBasicCredentials;\r\nimport software.amazon.awssdk.auth.credentials.AwsCredentialsProvider;\r\nimport software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\r\nimport software.amazon.awssdk.auth.credentials.StaticCredentialsProvider;\r\nimport software.amazon.awssdk.regions.Region;\r\nimport software.amazon.awssdk.services.cognitoidentityprovider.model.*;\r\nimport software.amazon.awssdk.services.sts.StsClient;\r\nimport software.amazon.awssdk.services.sts.model.AssumeRoleRequest;\r\nimport software.amazon.awssdk.services.sts.model.StsException;\r\nimport software.amazon.awssdk.services.sts.model.AssumeRoleResponse;\r\nimport software.amazon.awssdk.services.sts.model.Credentials;\r\n\r\nimport software.amazon.awssdk.services.cognitoidentityprovider.CognitoIdentityProviderClient;\r\n\r\n\r\npublic class myClass{\r\n\r\n\tpublic static void myMainFunction(String role, String envRole, String userPoolId, String clientEmail){\r\n\r\n\t\tString roleArn = &quot;arn:aws:iam::&quot;+envRole+&quot;:role/&quot;+role;\r\n\t\tString roleSessionName = &quot;AssumeRoleSession1&quot;;\r\n\t\tRegion region = Region.EU_WEST_1;\r\n\r\n\t\tStsClient stsClient = StsClient.builder()\r\n\t\t\t\t.region(region)\r\n\t\t\t\t.credentialsProvider(ProfileCredentialsProvider.create())\r\n\t\t\t\t.build();\r\n\r\n\t\tCredentials myCreds = assumeGivenRole(stsClient, roleArn, roleSessionName);\r\n\r\n\t\tAwsBasicCredentials awsCreds = AwsBasicCredentials.create(myCreds.accessKeyId(), myCreds.secretAccessKey());\r\n\r\n\t\tCognitoIdentityProviderClient cognitoClient = CognitoIdentityProviderClient.builder()\r\n\t\t\t\t.region(region)\r\n\t\t\t\t.credentialsProvider(StaticCredentialsProvider.create(awsCreds))\r\n\t\t\t\t.build();\r\n\r\n\r\n\t\tString username = listUsersFilter(cognitoClient, userPoolId, clientEmail);\r\n\r\n\t}\r\n\r\n\tpublic static Credentials assumeGivenRole(StsClient stsClient, String roleArn, String roleSessionName) {\r\n\t\tAssumeRoleRequest roleRequest = AssumeRoleRequest.builder()\r\n\t\t\t\t.roleArn(roleArn)\r\n\t\t\t\t.roleSessionName(roleSessionName)\r\n\t\t\t\t.build();\r\n\r\n\t\tAssumeRoleResponse roleResponse = stsClient.assumeRole(roleRequest);\r\n\t\tCredentials myCreds = roleResponse.credentials();\r\n\r\n\t\treturn myCreds;\r\n\t}\r\n\r\n\t// Shows how to list users by using a filter.\r\n\tpublic static String listUsersFilter(CognitoIdentityProviderClient cognitoClient, String userPoolId, String email) {\t\t\r\n\t\tString filter = &quot;email = \\&quot;&quot;+email+&quot;\\&quot;&quot;;\r\n\t\tListUsersRequest usersRequest = ListUsersRequest.builder()\r\n\t\t\t\t.userPoolId(userPoolId)\r\n\t\t\t\t.filter(filter)\r\n\t\t\t\t.build();\r\n\r\n\t\tListUsersResponse response = cognitoClient.listUsers(usersRequest);\r\n\t\tresponse.users().forEach(user -&gt; {\r\n\t\t\tSystem.out.println(&quot;User with filter applied &quot; + user.username() + &quot; Status &quot; + user.userStatus() + &quot; Created &quot; + user.userCreateDate() );\r\n\t\t});\r\n\r\n\t\treturn response.users().get(0).username();\r\n\t}\r\n```\r\n\r\nI don&#39;t know why my code isn&#39;t working. Especially since I have the exact same code in Python where it&#39;s working just fine (though in Python, I explicitly give the sessionToken to cognito, but it doesn&#39;t seem to be possible in Java?). \r\n\r\nAny idea on what I&#39;m doing wrong?\r\n\r\n\r\n----------\r\n\r\nFor comparison, here is the same code in Python which is working:\r\n\r\n```python\r\n\tsts = boto3.client(&#39;sts&#39;)\r\n\r\n\tassumed_role_object=sts.assume_role(\r\n\t\tRoleArn=&quot;arn:aws:iam::&quot;+env_role+&quot;:role/&quot;+role,\r\n\t\tRoleSessionName=&quot;AssumeRoleSession1&quot;\r\n\t)\r\n\r\n\tcredentials=assumed_role_object[&#39;Credentials&#39;]\r\n\tcognito=boto3.client(\r\n\t    &#39;cognito-idp&#39;,\r\n\t    region_name=&quot;eu-west-1&quot;,\r\n\t    aws_access_key_id=credentials[&#39;AccessKeyId&#39;],\r\n\t    aws_secret_access_key=credentials[&#39;SecretAccessKey&#39;],\r\n\t    aws_session_token=credentials[&#39;SessionToken&#39;],\r\n\t)\r\n\r\n\tgetUser = cognito.list_users(\r\n\t\tUserPoolId=userPoolId,\r\n\t\tAttributesToGet=[],\r\n\t\tLimit=10,\r\n\t\tFilter=&#39;email=&quot;&#39;+email+&#39;&quot;&#39;\r\n\t)\r\n```","title":"Using an stsclient assumed role with cognito in java","body":"<p>I am using Java.</p>\n<p>I have an aws user (sts client) on which I do an &quot;assume role&quot; before trying to call cognito &quot;list users&quot;.</p>\n<p>The assume role seem to be working fine. However, the &quot;list users&quot; is throwing an error (&quot;The security token included in the request is invalid&quot;) and I don't know why. Here is the full error trace:</p>\n<pre><code>software.amazon.awssdk.services.cognitoidentityprovider.model.CognitoIdentityProviderException: The security token included in the request is invalid. (Service: CognitoIdentityProvider, Status Code: 400, Request ID: XXX-XXX-XXX)\nat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\nat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\nat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\nat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\nat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\nat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\nat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\nat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\nat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\nat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\nat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\nat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\nat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:167)\nat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\nat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:175)\nat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\nat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\nat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\nat software.amazon.awssdk.services.cognitoidentityprovider.DefaultCognitoIdentityProviderClient.listUsers(DefaultCognitoIdentityProviderClient.java:6504)\nat EC.RunAWSCall.listUsersFilter(RunAWSCall.java:107)\nat EC.RunAWSCall.changingUserMDP(RunAWSCall.java:62)\n</code></pre>\n<p>Here is my code in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import software.amazon.awssdk.auth.credentials.AwsBasicCredentials;\nimport software.amazon.awssdk.auth.credentials.AwsCredentialsProvider;\nimport software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\nimport software.amazon.awssdk.auth.credentials.StaticCredentialsProvider;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.cognitoidentityprovider.model.*;\nimport software.amazon.awssdk.services.sts.StsClient;\nimport software.amazon.awssdk.services.sts.model.AssumeRoleRequest;\nimport software.amazon.awssdk.services.sts.model.StsException;\nimport software.amazon.awssdk.services.sts.model.AssumeRoleResponse;\nimport software.amazon.awssdk.services.sts.model.Credentials;\n\nimport software.amazon.awssdk.services.cognitoidentityprovider.CognitoIdentityProviderClient;\n\n\npublic class myClass{\n\n    public static void myMainFunction(String role, String envRole, String userPoolId, String clientEmail){\n\n        String roleArn = &quot;arn:aws:iam::&quot;+envRole+&quot;:role/&quot;+role;\n        String roleSessionName = &quot;AssumeRoleSession1&quot;;\n        Region region = Region.EU_WEST_1;\n\n        StsClient stsClient = StsClient.builder()\n                .region(region)\n                .credentialsProvider(ProfileCredentialsProvider.create())\n                .build();\n\n        Credentials myCreds = assumeGivenRole(stsClient, roleArn, roleSessionName);\n\n        AwsBasicCredentials awsCreds = AwsBasicCredentials.create(myCreds.accessKeyId(), myCreds.secretAccessKey());\n\n        CognitoIdentityProviderClient cognitoClient = CognitoIdentityProviderClient.builder()\n                .region(region)\n                .credentialsProvider(StaticCredentialsProvider.create(awsCreds))\n                .build();\n\n\n        String username = listUsersFilter(cognitoClient, userPoolId, clientEmail);\n\n    }\n\n    public static Credentials assumeGivenRole(StsClient stsClient, String roleArn, String roleSessionName) {\n        AssumeRoleRequest roleRequest = AssumeRoleRequest.builder()\n                .roleArn(roleArn)\n                .roleSessionName(roleSessionName)\n                .build();\n\n        AssumeRoleResponse roleResponse = stsClient.assumeRole(roleRequest);\n        Credentials myCreds = roleResponse.credentials();\n\n        return myCreds;\n    }\n\n    // Shows how to list users by using a filter.\n    public static String listUsersFilter(CognitoIdentityProviderClient cognitoClient, String userPoolId, String email) {        \n        String filter = &quot;email = \\&quot;&quot;+email+&quot;\\&quot;&quot;;\n        ListUsersRequest usersRequest = ListUsersRequest.builder()\n                .userPoolId(userPoolId)\n                .filter(filter)\n                .build();\n\n        ListUsersResponse response = cognitoClient.listUsers(usersRequest);\n        response.users().forEach(user -&gt; {\n            System.out.println(&quot;User with filter applied &quot; + user.username() + &quot; Status &quot; + user.userStatus() + &quot; Created &quot; + user.userCreateDate() );\n        });\n\n        return response.users().get(0).username();\n    }\n</code></pre>\n<p>I don't know why my code isn't working. Especially since I have the exact same code in Python where it's working just fine (though in Python, I explicitly give the sessionToken to cognito, but it doesn't seem to be possible in Java?).</p>\n<p>Any idea on what I'm doing wrong?</p>\n<hr />\n<p>For comparison, here is the same code in Python which is working:</p>\n<pre class=\"lang-py prettyprint-override\"><code>    sts = boto3.client('sts')\n\n    assumed_role_object=sts.assume_role(\n        RoleArn=&quot;arn:aws:iam::&quot;+env_role+&quot;:role/&quot;+role,\n        RoleSessionName=&quot;AssumeRoleSession1&quot;\n    )\n\n    credentials=assumed_role_object['Credentials']\n    cognito=boto3.client(\n        'cognito-idp',\n        region_name=&quot;eu-west-1&quot;,\n        aws_access_key_id=credentials['AccessKeyId'],\n        aws_secret_access_key=credentials['SecretAccessKey'],\n        aws_session_token=credentials['SessionToken'],\n    )\n\n    getUser = cognito.list_users(\n        UserPoolId=userPoolId,\n        AttributesToGet=[],\n        Limit=10,\n        Filter='email=&quot;'+email+'&quot;'\n    )\n</code></pre>\n"},{"tags":["java","spring-boot","maven","deployment","pom.xml"],"comments":[{"owner":{"account_id":9182237,"reputation":817,"user_id":6825678,"display_name":"DrHopfen"},"score":2,"creation_date":1662107389,"post_id":73579491,"comment_id":129934085,"body_markdown":"The `maven-deploy-plugin` is used to publish an artifact to a repository (i.e. nexus). The error suggests that you don&#39;t have configured one in your `settings.xml` or `pom.xml`.","body":"The <code>maven-deploy-plugin</code> is used to publish an artifact to a repository (i.e. nexus). The error suggests that you don&#39;t have configured one in your <code>settings.xml</code> or <code>pom.xml</code>."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1662110971,"post_id":73579491,"comment_id":129935178,"body_markdown":"The `distributionManagement` is missing in your pom file as the error output shows...","body":"The <code>distributionManagement</code> is missing in your pom file as the error output shows..."}],"owner":{"account_id":26225193,"reputation":1,"user_id":19901983,"display_name":"Vadim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662105673,"creation_date":1662105673,"question_id":73579491,"body_markdown":"\r\nI looked at similar cases and there is a problem in the repository, but I don’t have it in pom.xml, or I don’t understand something\r\n\r\nThis problem happened when I post my project on heroku and it keeps crashing on deployment\r\n\r\nAfter I tried to deploy the project in maven, but it gave the same error\r\n\r\nInfo:\r\n\r\n   \r\n\r\n    [INFO] Results:\r\n        [INFO] \r\n        [INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0\r\n        [INFO] \r\n        [INFO] \r\n        [INFO] --- maven-jar-plugin:3.2.2:jar (default-jar) @ Online-shop-managment ---\r\n        [INFO] Building jar: C:\\dev\\projects\\Online-shop-managment\\target\\Online-shop-managment-0.0.1-SNAPSHOT.jar\r\n        [INFO] \r\n        [INFO] --- spring-boot-maven-plugin:2.7.1:repackage (repackage) @ Online-shop-managment ---\r\n        [INFO] Replacing main artifact with repackaged archive\r\n        [INFO] \r\n        [INFO] --- maven-install-plugin:2.5.2:install (default-install) @ Online-shop-managment ---\r\n        [INFO] Installing C:\\dev\\projects\\Online-shop-managment\\target\\Online-shop-managment-0.0.1-SNAPSHOT.jar to C:\\Users\\vadiy\\.m2\\repository\\com\\example\\Online-shop-managment\\0.0.1-SNAPSHOT\\Online-shop-managment-0.0.1-SNAPSHOT.jar\r\n        [INFO] Installing C:\\dev\\projects\\Online-shop-managment\\pom.xml to C:\\Users\\vadiy\\.m2\\repository\\com\\example\\Online-shop-managment\\0.0.1-SNAPSHOT\\Online-shop-managment-0.0.1-SNAPSHOT.pom\r\n        [INFO] \r\n        [INFO] --- maven-deploy-plugin:2.8.2:deploy (default-deploy) @ Online-shop-managment ---\r\n        [INFO] ------------------------------------------------------------------------\r\n        [INFO] BUILD FAILURE\r\n        [INFO] ------------------------------------------------------------------------\r\n        [INFO] Total time:  46.914 s\r\n        [INFO] Finished at: 2022-09-02T10:24:43+03:00\r\n        [INFO] ------------------------------------------------------------------------\r\n        [ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.8.2:deploy (default-deploy) on project Online-shop-managment: Deployment failed: repository element was not specified in the POM inside distributionManagement element or in -DaltDeploymentRepository=id::layout::url parameter -&gt; [Help 1]\r\n        [ERROR] \r\n        [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n        [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n        [ERROR] \r\n        [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n        [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\nMy pom:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.1&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;Online-shop-managment&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;Online-shop-management&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n                &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n                &lt;artifactId&gt;thymeleaf-spring5&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n                &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n                &lt;version&gt;4.15.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nWhat do you think my problem is ?","title":"Deployment failed, MojoExecutionException","body":"<p>I looked at similar cases and there is a problem in the repository, but I don’t have it in pom.xml, or I don’t understand something</p>\n<p>This problem happened when I post my project on heroku and it keeps crashing on deployment</p>\n<p>After I tried to deploy the project in maven, but it gave the same error</p>\n<p>Info:</p>\n<pre><code>[INFO] Results:\n    [INFO] \n    [INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0\n    [INFO] \n    [INFO] \n    [INFO] --- maven-jar-plugin:3.2.2:jar (default-jar) @ Online-shop-managment ---\n    [INFO] Building jar: C:\\dev\\projects\\Online-shop-managment\\target\\Online-shop-managment-0.0.1-SNAPSHOT.jar\n    [INFO] \n    [INFO] --- spring-boot-maven-plugin:2.7.1:repackage (repackage) @ Online-shop-managment ---\n    [INFO] Replacing main artifact with repackaged archive\n    [INFO] \n    [INFO] --- maven-install-plugin:2.5.2:install (default-install) @ Online-shop-managment ---\n    [INFO] Installing C:\\dev\\projects\\Online-shop-managment\\target\\Online-shop-managment-0.0.1-SNAPSHOT.jar to C:\\Users\\vadiy\\.m2\\repository\\com\\example\\Online-shop-managment\\0.0.1-SNAPSHOT\\Online-shop-managment-0.0.1-SNAPSHOT.jar\n    [INFO] Installing C:\\dev\\projects\\Online-shop-managment\\pom.xml to C:\\Users\\vadiy\\.m2\\repository\\com\\example\\Online-shop-managment\\0.0.1-SNAPSHOT\\Online-shop-managment-0.0.1-SNAPSHOT.pom\n    [INFO] \n    [INFO] --- maven-deploy-plugin:2.8.2:deploy (default-deploy) @ Online-shop-managment ---\n    [INFO] ------------------------------------------------------------------------\n    [INFO] BUILD FAILURE\n    [INFO] ------------------------------------------------------------------------\n    [INFO] Total time:  46.914 s\n    [INFO] Finished at: 2022-09-02T10:24:43+03:00\n    [INFO] ------------------------------------------------------------------------\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.8.2:deploy (default-deploy) on project Online-shop-managment: Deployment failed: repository element was not specified in the POM inside distributionManagement element or in -DaltDeploymentRepository=id::layout::url parameter -&gt; [Help 1]\n    [ERROR] \n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\n    [ERROR] \n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>My pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Online-shop-managment&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Online-shop-management&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-spring5&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n            &lt;version&gt;4.15.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>What do you think my problem is ?</p>\n"},{"tags":["java","reactive-programming","spring-webflux","netty","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":1126254,"reputation":27393,"user_id":1113486,"display_name":"Simon Basl&#233;"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662105621,"creation_date":1662105621,"answer_id":73579487,"question_id":73576552,"body_markdown":"Each operator in Flux or Mono APIs returns a new instance. When you are chaining calls, you ultimately build upon each intermediate instance and get the &quot;outer&quot; one. \r\n\r\nWith your `Bytes C` example you&#39;ve simply called the method without assigning the resulting new instance to any variable, so the instance has been garbage collected and was never made part of the execution path.\r\n\r\nhttps://projectreactor.io/docs/core/release/reference/#faq.chain","title":"Chained doOnNext works on method returning Flux, but not when called directly on a Flux object","body":"<p>Each operator in Flux or Mono APIs returns a new instance. When you are chaining calls, you ultimately build upon each intermediate instance and get the &quot;outer&quot; one.</p>\n<p>With your <code>Bytes C</code> example you've simply called the method without assigning the resulting new instance to any variable, so the instance has been garbage collected and was never made part of the execution path.</p>\n<p><a href=\"https://projectreactor.io/docs/core/release/reference/#faq.chain\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/core/release/reference/#faq.chain</a></p>\n"}],"owner":{"account_id":112618,"reputation":1131,"user_id":296988,"display_name":"Luke 10X"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73579487,"answer_count":1,"score":0,"last_activity_date":1662105621,"creation_date":1662077489,"question_id":73576552,"body_markdown":"Using Spring Boot WebFlux, I noticed that `doOnNext` is executed on a Flux object\r\nonly before that object is assigned to a local variable.\r\n\r\nIn order to observe this behaviour I use an app \r\nwhich is created with [Spring initializr](start.spring.io) using default settings.\r\nThe only dependency I choose to add into POM is &quot;Spring Reactive Web&quot;.\r\n\r\n```java\r\n@Controller\r\npublic class ProblemController {\r\n    @PostMapping(&quot;/upload&quot;)\r\n    public Mono&lt;ResponseEntity&lt;String&gt;&gt; upload(ServerWebExchange exchange) {\r\n        Flux&lt;DataBuffer&gt; body = exchange.getRequest().getBody()\r\n                // This prints!\r\n                .doOnNext(db -&gt; System.out.println(&quot;Bytes A: &quot; + db.readableByteCount()));\r\n\r\n        // Does not print anything...\r\n        body.doOnNext(db -&gt; System.out.println(&quot;Bytes B: &quot; + db.readableByteCount()));\r\n\r\n        return body\r\n                .next()\r\n                .map(db -&gt; String.format(&quot;Uploaded %d bytes&quot;, db.readableByteCount()))\r\n                .map(s -&gt; new ResponseEntity&lt;String&gt;(s, HttpStatus.ACCEPTED));\r\n    }\r\n}\r\n```\r\n\r\nWhen I upload a file with\r\n```\r\ncurl --location --request POST &#39;http://localhost:8080/upload&#39; \\\r\n--form &#39;file=@&quot;/path/to/file.txt&quot;&#39;\r\n```\r\nI can see that only `Bytes A` message gets printed.\r\n\r\nEven I add more `doOnNext` callbacks they all seem to be executed,\r\n```\r\n        Flux&lt;DataBuffer&gt; body = exchange.getRequest().getBody()\r\n                // This prints!\r\n                .doOnNext(db -&gt; System.out.println(&quot;Bytes A: &quot; + db.readableByteCount()))\r\n                .doOnNext(db -&gt; System.out.println(&quot;Bytes X: &quot; + db.readableByteCount()));\r\n```\r\nPrints both `Bytes A` and `Bytes X`.\r\n\r\nIt never prints `Bytes C` though. Which gives me an impression that something in Flux object changes when it gets assigned to a local variable (`Flux&lt;DataBuffer&gt; body`).\r\n\r\n\r\nWhat is really happening in this example?\r\nAnd why I cannot see `Bytes C` printed?\r\n","title":"Chained doOnNext works on method returning Flux, but not when called directly on a Flux object","body":"<p>Using Spring Boot WebFlux, I noticed that <code>doOnNext</code> is executed on a Flux object\nonly before that object is assigned to a local variable.</p>\n<p>In order to observe this behaviour I use an app\nwhich is created with Spring initializr using default settings.\nThe only dependency I choose to add into POM is &quot;Spring Reactive Web&quot;.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class ProblemController {\n    @PostMapping(&quot;/upload&quot;)\n    public Mono&lt;ResponseEntity&lt;String&gt;&gt; upload(ServerWebExchange exchange) {\n        Flux&lt;DataBuffer&gt; body = exchange.getRequest().getBody()\n                // This prints!\n                .doOnNext(db -&gt; System.out.println(&quot;Bytes A: &quot; + db.readableByteCount()));\n\n        // Does not print anything...\n        body.doOnNext(db -&gt; System.out.println(&quot;Bytes B: &quot; + db.readableByteCount()));\n\n        return body\n                .next()\n                .map(db -&gt; String.format(&quot;Uploaded %d bytes&quot;, db.readableByteCount()))\n                .map(s -&gt; new ResponseEntity&lt;String&gt;(s, HttpStatus.ACCEPTED));\n    }\n}\n</code></pre>\n<p>When I upload a file with</p>\n<pre><code>curl --location --request POST 'http://localhost:8080/upload' \\\n--form 'file=@&quot;/path/to/file.txt&quot;'\n</code></pre>\n<p>I can see that only <code>Bytes A</code> message gets printed.</p>\n<p>Even I add more <code>doOnNext</code> callbacks they all seem to be executed,</p>\n<pre><code>        Flux&lt;DataBuffer&gt; body = exchange.getRequest().getBody()\n                // This prints!\n                .doOnNext(db -&gt; System.out.println(&quot;Bytes A: &quot; + db.readableByteCount()))\n                .doOnNext(db -&gt; System.out.println(&quot;Bytes X: &quot; + db.readableByteCount()));\n</code></pre>\n<p>Prints both <code>Bytes A</code> and <code>Bytes X</code>.</p>\n<p>It never prints <code>Bytes C</code> though. Which gives me an impression that something in Flux object changes when it gets assigned to a local variable (<code>Flux&lt;DataBuffer&gt; body</code>).</p>\n<p>What is really happening in this example?\nAnd why I cannot see <code>Bytes C</code> printed?</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":8928,"page":1064,"page_size":100}
