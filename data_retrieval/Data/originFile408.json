{"items":[{"tags":["java","spring-boot","spring-security","keycloak","spring-cloud-gateway"],"answers":[{"tags":[],"owner":{"account_id":25181248,"reputation":43,"user_id":19022728,"display_name":"alex90bar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685114057,"creation_date":1685114057,"answer_id":76342108,"question_id":75041344,"body_markdown":"if I understood your question correctly, you would like to configure standard logout url.\r\n\r\nI&#39;ve occured this problem too and found this way of solution:\r\n\r\n```\r\n// you need to add it to your SecurityWebFilterChain ServerHttpSecurity http configuration\r\n\r\n// this logoutSuccessHandler allows redirection after success logout to &quot;/v1/logout/success&quot;\r\n// you also need to provide @Controller which will return some response on it\r\n\r\nhttp.logout(logout -&gt; logout\r\n        .logoutSuccessHandler((exchange, authentication) -&gt; {\r\n          ServerHttpResponse response = exchange.getExchange().getResponse();\r\n          response.setStatusCode(HttpStatus.FOUND);\r\n          response.getHeaders().setLocation(URI.create(&quot;/v1/logout/success&quot;));\r\n          response.getCookies().remove(&quot;JSESSIONID&quot;);\r\n          return exchange.getExchange().getSession()\r\n              .flatMap(WebSession::invalidate);\r\n        })\r\n\r\n// this allows to proceed logout via GET request to &quot;/v1/logout&quot;\r\n        .requiresLogout(ServerWebExchangeMatchers.pathMatchers(HttpMethod.GET, &quot;/v1/logout&quot;)));\r\n```\r\n\r\nIt is based on combination of articles:\r\nhttps://stackoverflow.com/questions/59253949/spring-security-webflux-logout\r\nhttps://stackoverflow.com/questions/56325464/how-to-logout-with-get-request-in-springboot-webflux\r\n\r\nActually I spent several hours and a lot of tries to achieve this to be worked))\r\n\r\nBut this provides logout only for your Spring Gateway application, not for Keycloak server.\r\n\r\nIf you need to logout from Keycloak server, you need to implement ServerLogoutHandler and override its&#39; logout method and pass it to your ServerHttpSecurity http.logoutHandler()","title":"Spring cloud Gateway with keycloak logout not work","body":"<p>if I understood your question correctly, you would like to configure standard logout url.</p>\n<p>I've occured this problem too and found this way of solution:</p>\n<pre><code>// you need to add it to your SecurityWebFilterChain ServerHttpSecurity http configuration\n\n// this logoutSuccessHandler allows redirection after success logout to &quot;/v1/logout/success&quot;\n// you also need to provide @Controller which will return some response on it\n\nhttp.logout(logout -&gt; logout\n        .logoutSuccessHandler((exchange, authentication) -&gt; {\n          ServerHttpResponse response = exchange.getExchange().getResponse();\n          response.setStatusCode(HttpStatus.FOUND);\n          response.getHeaders().setLocation(URI.create(&quot;/v1/logout/success&quot;));\n          response.getCookies().remove(&quot;JSESSIONID&quot;);\n          return exchange.getExchange().getSession()\n              .flatMap(WebSession::invalidate);\n        })\n\n// this allows to proceed logout via GET request to &quot;/v1/logout&quot;\n        .requiresLogout(ServerWebExchangeMatchers.pathMatchers(HttpMethod.GET, &quot;/v1/logout&quot;)));\n</code></pre>\n<p>It is based on combination of articles:\n<a href=\"https://stackoverflow.com/questions/59253949/spring-security-webflux-logout\">Spring Security WebFlux logout</a>\n<a href=\"https://stackoverflow.com/questions/56325464/how-to-logout-with-get-request-in-springboot-webflux\">How to logout with GET request in SpringBoot WebFlux</a></p>\n<p>Actually I spent several hours and a lot of tries to achieve this to be worked))</p>\n<p>But this provides logout only for your Spring Gateway application, not for Keycloak server.</p>\n<p>If you need to logout from Keycloak server, you need to implement ServerLogoutHandler and override its' logout method and pass it to your ServerHttpSecurity http.logoutHandler()</p>\n"}],"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685114057,"creation_date":1673103817,"question_id":75041344,"body_markdown":"I am trying to build application in which I am using Keycloak configuration and spring security with spring cloud gateway everything is working fine but when I am trying to logout it is not working.\r\n\r\nSpring security configuration is as below:\r\n\r\n    spring:\r\n    security:\r\n        oauth2:\r\n          client:\r\n            provider:\r\n              keycloak:\r\n                issuer-uri: http://localhost:8280/auth/realms/Default\r\n                user-name-attribute: preferred_username\r\n                authorization-grant-type: authorization_code\r\n            registration:\r\n              keycloak:\r\n                client-id: Default123\r\n                client-secret: Wk79csSdfgdffomzVX2nTlb2boYT9NrW\r\n                redirect-uri: http://localhost:9000/login/oauth2/code/keycloak\r\n                scope: openid\r\n\r\nANd Security Config file is as below:\r\n\r\n    @Configuration\r\n    @EnableWebFluxSecurity\r\n    public class SecurityConfig {\r\n    \r\n        @Bean\r\n        protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\r\n            return new RegisterSessionAuthenticationStrategy(new SessionRegistryImpl());\r\n        }\r\n    \r\n        @Bean\r\n        @ConditionalOnMissingBean(HttpSessionManager.class)\r\n        protected HttpSessionManager httpSessionManager() {\r\n            return new HttpSessionManager();\r\n        }\r\n    \r\n        @Bean\r\n        public ServletListenerRegistrationBean&lt;HttpSessionEventPublisher&gt; httpSessionEventPublisher() {\r\n            return new ServletListenerRegistrationBean&lt;HttpSessionEventPublisher&gt;(new HttpSessionEventPublisher());\r\n        }\r\n    \r\n        @Bean\r\n        public ServerLogoutSuccessHandler keycloakLogoutSuccessHandler(ReactiveClientRegistrationRepository repository) {\r\n            OidcClientInitiatedServerLogoutSuccessHandler successHandler = new OidcClientInitiatedServerLogoutSuccessHandler(repository);\r\n            successHandler.setPostLogoutRedirectUri(&quot;http://localhost:9000/app/logout&quot;);\r\n            return successHandler;\r\n        }\r\n    \r\n        private ServerLogoutHandler logoutHandler() {\r\n            return new DelegatingServerLogoutHandler(new WebSessionServerLogoutHandler(), new SecurityContextServerLogoutHandler());\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http, ServerLogoutSuccessHandler handler) {\r\n            // Authenticate through configured OpenID Provider\r\n            http.authorizeExchange()\r\n                    .pathMatchers(&quot;/app/logout&quot;).permitAll()\r\n                    .pathMatchers(&quot;/app/&quot;).authenticated().and().cors().and().oauth2Login();\r\n    \r\n            // Also logout at the OpenID Connect provider\r\n            http.logout(logout -&gt; logout.logoutHandler(logoutHandler()).logoutSuccessHandler(handler));\r\n    \r\n            // Require authentication for all requests\r\n            http.authorizeExchange().anyExchange().authenticated();\r\n    \r\n            // Allow showing /home within a frame\r\n            http.headers().frameOptions().mode(XFrameOptionsServerHttpHeadersWriter.Mode.SAMEORIGIN);\r\n    \r\n            // Disable CSRF in the gateway to prevent conflicts with proxied service CSRF\r\n            http.csrf().disable();\r\n            return http.build();\r\n        }\r\n    \r\n    }\r\n\r\nI am not sure why it is not login out what configuration we are missing. Please Help.","title":"Spring cloud Gateway with keycloak logout not work","body":"<p>I am trying to build application in which I am using Keycloak configuration and spring security with spring cloud gateway everything is working fine but when I am trying to logout it is not working.</p>\n<p>Spring security configuration is as below:</p>\n<pre><code>spring:\nsecurity:\n    oauth2:\n      client:\n        provider:\n          keycloak:\n            issuer-uri: http://localhost:8280/auth/realms/Default\n            user-name-attribute: preferred_username\n            authorization-grant-type: authorization_code\n        registration:\n          keycloak:\n            client-id: Default123\n            client-secret: Wk79csSdfgdffomzVX2nTlb2boYT9NrW\n            redirect-uri: http://localhost:9000/login/oauth2/code/keycloak\n            scope: openid\n</code></pre>\n<p>ANd Security Config file is as below:</p>\n<pre><code>@Configuration\n@EnableWebFluxSecurity\npublic class SecurityConfig {\n\n    @Bean\n    protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\n        return new RegisterSessionAuthenticationStrategy(new SessionRegistryImpl());\n    }\n\n    @Bean\n    @ConditionalOnMissingBean(HttpSessionManager.class)\n    protected HttpSessionManager httpSessionManager() {\n        return new HttpSessionManager();\n    }\n\n    @Bean\n    public ServletListenerRegistrationBean&lt;HttpSessionEventPublisher&gt; httpSessionEventPublisher() {\n        return new ServletListenerRegistrationBean&lt;HttpSessionEventPublisher&gt;(new HttpSessionEventPublisher());\n    }\n\n    @Bean\n    public ServerLogoutSuccessHandler keycloakLogoutSuccessHandler(ReactiveClientRegistrationRepository repository) {\n        OidcClientInitiatedServerLogoutSuccessHandler successHandler = new OidcClientInitiatedServerLogoutSuccessHandler(repository);\n        successHandler.setPostLogoutRedirectUri(&quot;http://localhost:9000/app/logout&quot;);\n        return successHandler;\n    }\n\n    private ServerLogoutHandler logoutHandler() {\n        return new DelegatingServerLogoutHandler(new WebSessionServerLogoutHandler(), new SecurityContextServerLogoutHandler());\n    }\n\n    @Bean\n    public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http, ServerLogoutSuccessHandler handler) {\n        // Authenticate through configured OpenID Provider\n        http.authorizeExchange()\n                .pathMatchers(&quot;/app/logout&quot;).permitAll()\n                .pathMatchers(&quot;/app/&quot;).authenticated().and().cors().and().oauth2Login();\n\n        // Also logout at the OpenID Connect provider\n        http.logout(logout -&gt; logout.logoutHandler(logoutHandler()).logoutSuccessHandler(handler));\n\n        // Require authentication for all requests\n        http.authorizeExchange().anyExchange().authenticated();\n\n        // Allow showing /home within a frame\n        http.headers().frameOptions().mode(XFrameOptionsServerHttpHeadersWriter.Mode.SAMEORIGIN);\n\n        // Disable CSRF in the gateway to prevent conflicts with proxied service CSRF\n        http.csrf().disable();\n        return http.build();\n    }\n\n}\n</code></pre>\n<p>I am not sure why it is not login out what configuration we are missing. Please Help.</p>\n"},{"tags":["java","cucumber","rest-assured","response-headers","rest-assured-jsonpath"],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1685095983,"creation_date":1685094752,"answer_id":76339641,"question_id":76337849,"body_markdown":"Let&#39;s check with this example `curl -v https://httpbin.org/get`. As it can bee seen the headers returned are:\r\n\r\n```plain\r\ndate: Fri, 26 May 2023 09:09:57 GMT\r\ncontent-type: application/json\r\ncontent-length: 256\r\nserver: gunicorn/19.9.0\r\naccess-control-allow-origin: *\r\naccess-control-allow-credentials: true\r\n```\r\n\r\nLet&#39;s assume also that our step receives the map like this as expected set of headers:\r\n\r\n```java\r\nMap&lt;String, String&gt; expected = Map.of(\r\n        &quot;content-type&quot;, &quot;application/json&quot;,\r\n        &quot;access-control-allow-origin&quot;, &quot;*&quot;\r\n);\r\n```\r\n\r\nFirst of all we need to convert it to a list of RA internal representation of headers:\r\n\r\n```java\r\nList&lt;Header&gt; expectedHeaders = expected\r\n        .entrySet()\r\n        .stream()\r\n        .map(e -&gt;\r\n                new Header(e.getKey(), e.getValue()))\r\n        .collect(Collectors.toList());\r\n```\r\n\r\nNow we fetch the headers from our endpoint under test:\r\n\r\n```java\r\nList&lt;Header&gt; observedHeaders = RestAssured\r\n        .get(&quot;https://httpbin.org/get&quot;)\r\n        .getHeaders().asList();\r\n```\r\n\r\nThe last thing we need to do is to decide how strict our verification has to be. If we need to check if our expected headers **are in** the actual set, then we do:\r\n\r\n```java\r\nassertThat(expectedHeaders, everyItem(is(in(observedHeaders))));\r\n```\r\n\r\notherwise if we need to make sure the sets **are equal** (normally we do not care of item order), then we do:\r\n\r\n```java\r\nassertThat(observedHeaders, containsInAnyOrder(expectedHeaders));\r\n```\r\n\r\nBoth checks utilize Hamcrest that is supplied with RestAssured transitively. So you will need to include the following imports to make assertions work:\r\n\r\n```java\r\nimport static org.hamcrest.Matchers.*;\r\nimport static org.hamcrest.MatcherAssert.*;\r\n```","title":"How to verify the response headers in Rest Assured framework","body":"<p>Let's check with this example <code>curl -v https://httpbin.org/get</code>. As it can bee seen the headers returned are:</p>\n<pre><code>date: Fri, 26 May 2023 09:09:57 GMT\ncontent-type: application/json\ncontent-length: 256\nserver: gunicorn/19.9.0\naccess-control-allow-origin: *\naccess-control-allow-credentials: true\n</code></pre>\n<p>Let's assume also that our step receives the map like this as expected set of headers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; expected = Map.of(\n        &quot;content-type&quot;, &quot;application/json&quot;,\n        &quot;access-control-allow-origin&quot;, &quot;*&quot;\n);\n</code></pre>\n<p>First of all we need to convert it to a list of RA internal representation of headers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Header&gt; expectedHeaders = expected\n        .entrySet()\n        .stream()\n        .map(e -&gt;\n                new Header(e.getKey(), e.getValue()))\n        .collect(Collectors.toList());\n</code></pre>\n<p>Now we fetch the headers from our endpoint under test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Header&gt; observedHeaders = RestAssured\n        .get(&quot;https://httpbin.org/get&quot;)\n        .getHeaders().asList();\n</code></pre>\n<p>The last thing we need to do is to decide how strict our verification has to be. If we need to check if our expected headers <strong>are in</strong> the actual set, then we do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertThat(expectedHeaders, everyItem(is(in(observedHeaders))));\n</code></pre>\n<p>otherwise if we need to make sure the sets <strong>are equal</strong> (normally we do not care of item order), then we do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertThat(observedHeaders, containsInAnyOrder(expectedHeaders));\n</code></pre>\n<p>Both checks utilize Hamcrest that is supplied with RestAssured transitively. So you will need to include the following imports to make assertions work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.hamcrest.Matchers.*;\nimport static org.hamcrest.MatcherAssert.*;\n</code></pre>\n"}],"owner":{"account_id":25080178,"reputation":57,"user_id":18933032,"display_name":"Dylan Joseph"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76339641,"answer_count":1,"score":1,"last_activity_date":1685114016,"creation_date":1685078348,"question_id":76337849,"body_markdown":" How to verify the response headers in Rest Assured framework? I tried the below way to check for response headers, but my code is not giving any result.\r\n\r\n**Util file**\r\n```\r\n    public void verifyResponseHeaders(Map&lt;String, String&gt; data {\r\n        softAssert = new SoftAssert();\r\n        data.forEach((headers, expected) -&gt; {\r\n            LogUtil.log(String.format(&quot;Validating =&gt; %s&quot;, headers));\r\n            Object actual = response.headers();\r\n            LogUtil.log(String.format(&quot;Assertion for headers  Expected = %s; Actual = %s&quot;, headers,expected, actual));\r\n            assertValue(actual, expected);\r\n        });\r\n        softAssert.assertAll();\r\n       }\r\n```\r\n **Cucumber file common Step:**\r\n```\r\n      @And(&quot;I see headers matches for fields&quot;)\r\n      public void verifyResponseHeaders(DataTable data) {\r\n      apiUtil.verifyResponseHeaders(new HashMap&lt;&gt;(data.asMap()));\r\n      }\r\n```\r\n**Login.feature**\r\n```\r\n And I see headers matches for fields\r\n | Content-Type | application/json  |\r\n```","title":"How to verify the response headers in Rest Assured framework","body":"<p>How to verify the response headers in Rest Assured framework? I tried the below way to check for response headers, but my code is not giving any result.</p>\n<p><strong>Util file</strong></p>\n<pre><code>    public void verifyResponseHeaders(Map&lt;String, String&gt; data {\n        softAssert = new SoftAssert();\n        data.forEach((headers, expected) -&gt; {\n            LogUtil.log(String.format(&quot;Validating =&gt; %s&quot;, headers));\n            Object actual = response.headers();\n            LogUtil.log(String.format(&quot;Assertion for headers  Expected = %s; Actual = %s&quot;, headers,expected, actual));\n            assertValue(actual, expected);\n        });\n        softAssert.assertAll();\n       }\n</code></pre>\n<p><strong>Cucumber file common Step:</strong></p>\n<pre><code>      @And(&quot;I see headers matches for fields&quot;)\n      public void verifyResponseHeaders(DataTable data) {\n      apiUtil.verifyResponseHeaders(new HashMap&lt;&gt;(data.asMap()));\n      }\n</code></pre>\n<p><strong>Login.feature</strong></p>\n<pre><code> And I see headers matches for fields\n | Content-Type | application/json  |\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","intellij-idea"],"comments":[{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1637809491,"post_id":70105228,"comment_id":123927161,"body_markdown":"For a temporary solution, you copy my `pom.xml` to yours. https://github.com/donhuvy/sample_jaxb_java7/blob/main/pom.xml . The behavior of IDE was strange.","body":"For a temporary solution, you copy my <code>pom.xml</code> to yours. <a href=\"https://github.com/donhuvy/sample_jaxb_java7/blob/main/pom.xml\" rel=\"nofollow noreferrer\">github.com/donhuvy/sample_jaxb_java7/blob/main/pom.xml</a> . The behavior of IDE was strange."},{"owner":{"account_id":11179248,"reputation":11890,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1637809643,"post_id":70105228,"comment_id":123927178,"body_markdown":"May you check idea.log for errors after reproducing? Do you notice something like `java.lang.IllegalArgumentException: named capturing group is missing trailing &#39;}&#39;\n`","body":"May you check idea.log for errors after reproducing? Do you notice something like <code>java.lang.IllegalArgumentException: named capturing group is missing trailing &#39;}&#39; </code>"},{"owner":{"account_id":16343430,"reputation":21,"user_id":11803829,"display_name":"akhil awesome"},"score":0,"creation_date":1637812475,"post_id":70105228,"comment_id":123927589,"body_markdown":"no exception just tried to create a new project. All it shows is pom.xml(unknown).","body":"no exception just tried to create a new project. All it shows is pom.xml(unknown)."},{"owner":{"account_id":16343430,"reputation":21,"user_id":11803829,"display_name":"akhil awesome"},"score":0,"creation_date":1637820404,"post_id":70105228,"comment_id":123928853,"body_markdown":"also it doesnt create src,main and test folders in the project directory. When i clicked maven window it shows maven(Unknown). How do i resolve this issue?","body":"also it doesnt create src,main and test folders in the project directory. When i clicked maven window it shows maven(Unknown). How do i resolve this issue?"},{"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"score":0,"creation_date":1637822531,"post_id":70105228,"comment_id":123929359,"body_markdown":"You need to select an archetype, otherwise it won&#39;t know what to put in the pom.xml","body":"You need to select an archetype, otherwise it won&#39;t know what to put in the pom.xml"},{"owner":{"account_id":21002251,"reputation":94,"user_id":15432808,"display_name":"Sourabh Kundu"},"score":0,"creation_date":1637823806,"post_id":70105228,"comment_id":123929694,"body_markdown":"You can try using spring intializr there you can add dependency in pom.xml as per your requirement and you can download that maven project, after that open that project in intellij you will get a pom.xml with all your dependencies.","body":"You can try using spring intializr there you can add dependency in pom.xml as per your requirement and you can download that maven project, after that open that project in intellij you will get a pom.xml with all your dependencies."},{"owner":{"account_id":16343430,"reputation":21,"user_id":11803829,"display_name":"akhil awesome"},"score":0,"creation_date":1637877907,"post_id":70105228,"comment_id":123948573,"body_markdown":"i&#39;ll try that thanks  to all of you","body":"i&#39;ll try that thanks  to all of you"},{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":1,"creation_date":1638195092,"post_id":70105228,"comment_id":124016160,"body_markdown":"@GreyBeardedGeek IntelliJ does not require you to select an archetype and should generate a default POM without one specified.","body":"@GreyBeardedGeek IntelliJ does not require you to select an archetype and should generate a default POM without one specified."},{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":0,"creation_date":1638195138,"post_id":70105228,"comment_id":124016171,"body_markdown":"You could try reinstalling IntelliJ.","body":"You could try reinstalling IntelliJ."}],"answers":[{"tags":[],"owner":{"account_id":8985749,"reputation":427,"user_id":6699361,"accept_rate":88,"display_name":"Pawel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658172788,"creation_date":1658172114,"answer_id":73027572,"question_id":70105228,"body_markdown":"Check your environment variables and see if JAVA_HOME is present and if your downloaded JDK bin is added to system path variable. If not add them.\r\n\r\nVariables should look sth like this:  \r\n\r\nJAVA_HOME:  C:\\Users\\username\\ .jdks\\openjdk-18.0.1.1\r\n\r\npath:  C:\\Users\\username\\ .jdks\\openjdk-18.0.1.1\\bin","title":"Maven creates an empty pom.xml file in IntelliJ IDEA","body":"<p>Check your environment variables and see if JAVA_HOME is present and if your downloaded JDK bin is added to system path variable. If not add them.</p>\n<p>Variables should look sth like this:</p>\n<p>JAVA_HOME:  C:\\Users\\username\\ .jdks\\openjdk-18.0.1.1</p>\n<p>path:  C:\\Users\\username\\ .jdks\\openjdk-18.0.1.1\\bin</p>\n"},{"tags":[],"owner":{"account_id":26147418,"reputation":11,"user_id":19835863,"display_name":"闫繁宇"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661330173,"creation_date":1661330173,"answer_id":73469953,"question_id":70105228,"body_markdown":"I also encountered this problem. Install jdk8 and resetting it,You probably installed jdk18.\r\n\r\njdk8 download url\r\nhttps://www.oracle.com/java/technologies/downloads/#java8-windows","title":"Maven creates an empty pom.xml file in IntelliJ IDEA","body":"<p>I also encountered this problem. Install jdk8 and resetting it,You probably installed jdk18.</p>\n<p>jdk8 download url\n<a href=\"https://www.oracle.com/java/technologies/downloads/#java8-windows\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/downloads/#java8-windows</a></p>\n"},{"tags":[],"owner":{"account_id":26636734,"reputation":11,"user_id":20253035,"display_name":"jphantom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666132127,"creation_date":1666132127,"answer_id":74118098,"question_id":70105228,"body_markdown":"I uninstalled the version I had and installed the last version, it worked for me, of course I deleted the cache and saved configurations with the options the uninstaller gives to erase configuration data. I did a clean installation.","title":"Maven creates an empty pom.xml file in IntelliJ IDEA","body":"<p>I uninstalled the version I had and installed the last version, it worked for me, of course I deleted the cache and saved configurations with the options the uninstaller gives to erase configuration data. I did a clean installation.</p>\n"},{"tags":[],"owner":{"account_id":26640908,"reputation":51,"user_id":20256602,"display_name":"chmuhammadowais"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1685113863,"creation_date":1685113863,"answer_id":76342085,"question_id":70105228,"body_markdown":"I was having the same problem. I was using JDK 20 in my IntelliJ, I switched to JDK 17 and changed in new project creation section too and the problem was solved.","title":"Maven creates an empty pom.xml file in IntelliJ IDEA","body":"<p>I was having the same problem. I was using JDK 20 in my IntelliJ, I switched to JDK 17 and changed in new project creation section too and the problem was solved.</p>\n"}],"owner":{"account_id":16343430,"reputation":21,"user_id":11803829,"display_name":"akhil awesome"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3194,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1685113863,"creation_date":1637808392,"question_id":70105228,"body_markdown":"Create Maven project. `File` -&gt; `New Project` -&gt; `Maven`. Archetype do not indicate.\r\n\r\nThen everything is standard: `GroupId` and `ArtifactId`. The project is created with empty `pom.xml`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI am trying to create a new Maven project. I am getting an empty pom.xml file. I did not install java and maven. I used the OpenJDK Java version 17 and maven from the IDE itself.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JDwT2.png","title":"Maven creates an empty pom.xml file in IntelliJ IDEA","body":"<p>Create Maven project. <code>File</code> -&gt; <code>New Project</code> -&gt; <code>Maven</code>. Archetype do not indicate.</p>\n<p>Then everything is standard: <code>GroupId</code> and <code>ArtifactId</code>. The project is created with empty <code>pom.xml</code></p>\n<p><a href=\"https://i.stack.imgur.com/JDwT2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JDwT2.png\" alt=\"enter image description here\" /></a></p>\n<p>I am trying to create a new Maven project. I am getting an empty pom.xml file. I did not install java and maven. I used the OpenJDK Java version 17 and maven from the IDE itself.</p>\n"},{"tags":["java","spring","spring-boot","spring-integration","spring-integration-sftp"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685113508,"creation_date":1685113508,"answer_id":76342039,"question_id":76339786,"body_markdown":"There is one in the framework but itself.\r\n\r\nSee `org.springframework.integration.file.remote.synchronizer.AbstractInboundFileSynchronizer`. It emits this log message:\r\n\r\n\t\t\tif (this.logger.isDebugEnabled()) {\r\n\t\t\t\tthis.logger.debug(transferred + &quot; files transferred from &#39;&quot; + remoteDirectory + &quot;&#39;&quot;);\r\n\t\t\t}\r\n\r\nSo, every time when there is no files to transfer from remote dir, you&#39;ll see a message in your logs with `0`.\r\n\r\nThere is also another one in the `org.springframework.integration.endpoint.AbstractPollingEndpoint`:\r\n\r\n\tif (message == null) {\r\n\t\t\tthis.logger.debug(&quot;Received no Message during the poll, returning &#39;false&#39;&quot;);\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\nWhich is emitted on a scheduled polling task when no new data to produce.\r\n\r\nYou also can look into a `ReceiveMessageAdvice` implementation for its `afterReceive()` method, when you just check for `null` on that `result` and emit a respective log message.","title":"how can add log everytime the polling results in no detection of file. I want to add a log when polling results empty everytime","body":"<p>There is one in the framework but itself.</p>\n<p>See <code>org.springframework.integration.file.remote.synchronizer.AbstractInboundFileSynchronizer</code>. It emits this log message:</p>\n<pre><code>        if (this.logger.isDebugEnabled()) {\n            this.logger.debug(transferred + &quot; files transferred from '&quot; + remoteDirectory + &quot;'&quot;);\n        }\n</code></pre>\n<p>So, every time when there is no files to transfer from remote dir, you'll see a message in your logs with <code>0</code>.</p>\n<p>There is also another one in the <code>org.springframework.integration.endpoint.AbstractPollingEndpoint</code>:</p>\n<pre><code>if (message == null) {\n        this.logger.debug(&quot;Received no Message during the poll, returning 'false'&quot;);\n        return null;\n    }\n</code></pre>\n<p>Which is emitted on a scheduled polling task when no new data to produce.</p>\n<p>You also can look into a <code>ReceiveMessageAdvice</code> implementation for its <code>afterReceive()</code> method, when you just check for <code>null</code> on that <code>result</code> and emit a respective log message.</p>\n"}],"owner":{"account_id":28684800,"reputation":1,"user_id":21965276,"display_name":"Ishant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685113508,"creation_date":1685095617,"question_id":76339786,"body_markdown":"    public class  SftpConfiguration {\r\n    \r\n    public DefaultSftpSessionFactory sftpFactory() {\r\n    \t\t\r\n    \t\tDefaultSftpSessionFactory factory=new DefaultSftpSessionFactory();\r\n    \t\tfactory.setHost(&quot;*******&quot;);\r\n    \t\tfactory.setPort(22);\r\n    \t\tfactory.setAllowUnknownKeys(true);\r\n    \t\tfactory.setUser(&quot;ishant&quot;);\r\n    \t\tfactory.setPassword(&quot;**********&quot;);\r\n    \t\treturn factory;\r\n    \t}\r\n    @Bean(name=&quot;mydefaultsync&quot;)\r\n    \tpublic SftpInboundFileSynchronizer synchronizer(){\r\n    \t\tSftpInboundFileSynchronizer sync = new SftpInboundFileSynchronizer(sftpFactory());\r\n    \t\tsync.setDeleteRemoteFiles(true);\r\n    \t\tsync.setRemoteDirectory(&quot;C:/Users/ishant/Downloads&quot;);\r\n    \t\tsync.setFilter(new SftpSimplePatternFileListFilter(&quot;*.txt&quot;));\r\n    \t\tsync.setPreserveTimestamp(true);\r\n    \t\tsync.\r\n    \r\n    \t\treturn sync;\r\n    \t}\r\n    \r\n    \r\n    \t@Bean(name=&quot;sftpMessageSource&quot;)\r\n    \t@InboundChannelAdapter(channel=&quot;fileuploaded&quot;, poller = @Poller(fixedDelay = &quot;5000&quot;))\r\n    \tpublic MessageSource&lt;File&gt; sftpMessageSource(){\r\n    \t\tSftpInboundFileSynchronizingMessageSource source =\r\n    \t\t\t\tnew SftpInboundFileSynchronizingMessageSource(synchronizer());\r\n    \t\tsource.setLocalDirectory(new File(&quot;tmp/incoming&quot;));\r\n    \t\tsource.setAutoCreateLocalDirectory(true);\r\n    \t\tsource.setMaxFetchSize(1); \r\n    \t\t\r\n    \t\tSystem.out.println(source);\r\n    \t\treturn source;\r\n    \t}\r\n    \r\n    \r\n    \t@ServiceActivator(inputChannel = &quot;fileuploaded&quot;)\r\n    \tpublic void handleIncomingFile(File file) throws IOException {\r\n    \t\tlog.info(String.format(&quot;handleIncomingFile BEGIN %s&quot;, file.getName()));\r\n    \t\tString content = FileUtils.readFileToString(file, &quot;UTF-8&quot;);\r\n    \t\tlog.info(String.format(&quot;Content: %s&quot;, content));\r\n    \t\tlog.info(String.format(&quot;handleIncomingFile END %s&quot;, file.getName()));\r\n    \t}\r\n    }\r\n\r\n","title":"how can add log everytime the polling results in no detection of file. I want to add a log when polling results empty everytime","body":"<pre><code>public class  SftpConfiguration {\n\npublic DefaultSftpSessionFactory sftpFactory() {\n        \n        DefaultSftpSessionFactory factory=new DefaultSftpSessionFactory();\n        factory.setHost(&quot;*******&quot;);\n        factory.setPort(22);\n        factory.setAllowUnknownKeys(true);\n        factory.setUser(&quot;ishant&quot;);\n        factory.setPassword(&quot;**********&quot;);\n        return factory;\n    }\n@Bean(name=&quot;mydefaultsync&quot;)\n    public SftpInboundFileSynchronizer synchronizer(){\n        SftpInboundFileSynchronizer sync = new SftpInboundFileSynchronizer(sftpFactory());\n        sync.setDeleteRemoteFiles(true);\n        sync.setRemoteDirectory(&quot;C:/Users/ishant/Downloads&quot;);\n        sync.setFilter(new SftpSimplePatternFileListFilter(&quot;*.txt&quot;));\n        sync.setPreserveTimestamp(true);\n        sync.\n\n        return sync;\n    }\n\n\n    @Bean(name=&quot;sftpMessageSource&quot;)\n    @InboundChannelAdapter(channel=&quot;fileuploaded&quot;, poller = @Poller(fixedDelay = &quot;5000&quot;))\n    public MessageSource&lt;File&gt; sftpMessageSource(){\n        SftpInboundFileSynchronizingMessageSource source =\n                new SftpInboundFileSynchronizingMessageSource(synchronizer());\n        source.setLocalDirectory(new File(&quot;tmp/incoming&quot;));\n        source.setAutoCreateLocalDirectory(true);\n        source.setMaxFetchSize(1); \n        \n        System.out.println(source);\n        return source;\n    }\n\n\n    @ServiceActivator(inputChannel = &quot;fileuploaded&quot;)\n    public void handleIncomingFile(File file) throws IOException {\n        log.info(String.format(&quot;handleIncomingFile BEGIN %s&quot;, file.getName()));\n        String content = FileUtils.readFileToString(file, &quot;UTF-8&quot;);\n        log.info(String.format(&quot;Content: %s&quot;, content));\n        log.info(String.format(&quot;handleIncomingFile END %s&quot;, file.getName()));\n    }\n}\n</code></pre>\n"},{"tags":["java","jar","fileinputstream"],"comments":[{"owner":{"account_id":4177005,"reputation":1364,"user_id":3423236,"accept_rate":83,"display_name":"Marek J"},"score":0,"creation_date":1513090672,"post_id":47775482,"comment_id":82512098,"body_markdown":"Please give more details. What is the error message? How did you create the jar file?","body":"Please give more details. What is the error message? How did you create the jar file?"},{"owner":{"account_id":5801217,"reputation":910,"user_id":4575328,"accept_rate":20,"display_name":"Juvenik"},"score":0,"creation_date":1513091054,"post_id":47775482,"comment_id":82512316,"body_markdown":"Sorry, I created a jar by maven build. And the &#39;files&#39; is coming as null.","body":"Sorry, I created a jar by maven build. And the &#39;files&#39; is coming as null."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1513107939,"post_id":47775482,"comment_id":82521998,"body_markdown":"The basic answer is, you can&#39;t.  A Jar file is Zip file, unless you can identify the location of the Zip file which contains the resources in question at runtime, you can&#39;t list it&#39;s contents. You code should make no assumptions about the name or location of the Jar file, as it couples your code to a variable state.  Instead, when you build/package the Jar, generate a file list and save it to a well known file/location and store this in the Jar file.  At runtime, read this resource and then you will have a list of the other files","body":"The basic answer is, you can&#39;t.  A Jar file is Zip file, unless you can identify the location of the Zip file which contains the resources in question at runtime, you can&#39;t list it&#39;s contents. You code should make no assumptions about the name or location of the Jar file, as it couples your code to a variable state.  Instead, when you build/package the Jar, generate a file list and save it to a well known file/location and store this in the Jar file.  At runtime, read this resource and then you will have a list of the other files"},{"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"score":0,"creation_date":1513178623,"post_id":47775482,"comment_id":82554022,"body_markdown":"@Juvenik Does my code not work for you? Just let me know and I might be able to help.","body":"@Juvenik Does my code not work for you? Just let me know and I might be able to help."}],"answers":[{"tags":[],"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1513179872,"creation_date":1513114471,"answer_id":47781932,"question_id":47775482,"body_markdown":"Firstly, remember that Jars are Zip files so you can&#39;t get an individual `File` out of it without unzipping it. Zip files don&#39;t exactly have directories, so it&#39;s not as simple as getting the children of a directory.\r\n\r\nThis was a bit of a difficult one but I too was curious, and after researching I have come up with the following.\r\n\r\nFirstly, you could try putting the resources into a flat Zip file (`resource/json/templates.zip`) nested in the Jar, then loading all the resources from that zip file since you know all the zip entries will be the resources you want. This should work even in the IDE.\r\n\r\n    String path = &quot;resource/json/templates.zip&quot;;\r\n    ZipInputStream zis = new ZipInputStream(getClass().getResourceAsStream(path));\r\n    for (ZipEntry ze = zis.getNextEntry(); ze != null; ze = zis.getNextEntry()) {\r\n        // &#39;zis&#39; is the input stream and will yield an &#39;EOF&#39; before the next entry\r\n        templateJson = (JSONObject) parser.parse(zis);\r\n    }\r\n\r\nAlternatively, you could get the running Jar, iterate through its entries, and collect the ones that are children of `resource/json/templates/` then get the streams from those entries. NOTE: *This will only work when running the Jar*, add a check to run something else while running in the IDE.\r\n\r\n    public void runOrSomething() throws IOException, URISyntaxException {\r\n        // ... other logic ...\r\n        final String path = &quot;resource/json/templates/&quot;;\r\n        Predicate&lt;JarEntry&gt; pred = (j) -&gt; !j.isDirectory() &amp;&amp; j.getName().startsWith(path);\r\n\r\n        try (JarFile jar = new Test().getThisJar()) {\r\n            List&lt;JarEntry&gt; resources = getEntriesUnderPath(jar, pred);\r\n            for (JarEntry entry : resources) {\r\n                System.out.println(entry.getName());\r\n                try (InputStream is = jar.getInputStream(entry)) {\r\n                    // JarEntry streams are closed when their JarFile is closed,\r\n                    // so you must use them before closing &#39;jar&#39;\r\n                    templateJson = (JSONObject) parser.parse(is);\r\n                    // ... other logic ...\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    // gets ALL the children, not just direct\r\n    // path should usually end in backslash\r\n    public static List&lt;JarEntry&gt; getEntriesUnderPath(JarFile jar, Predicate&lt;JarEntry&gt; pred)\r\n    {\r\n        List&lt;JarEntry&gt; list = new LinkedList&lt;&gt;();\r\n        Enumeration&lt;JarEntry&gt; entries = jar.entries();\r\n\r\n        // has to iterate through all the Jar entries\r\n        while (entries.hasMoreElements()) {\r\n            JarEntry entry = entries.nextElement();\r\n            if (pred.test(entry))\r\n                list.add(entry);\r\n        }\r\n        return list;\r\n    }\r\n\r\n\r\n    public JarFile getThisJar() throws IOException, URISyntaxException {\r\n        URL url = getClass().getProtectionDomain().getCodeSource().getLocation();\r\n        return new JarFile(new File(url.toURI()));\r\n    }\r\n\r\nI hope this helps.","title":"Getting the list of filenames from resource folder when running in jar","body":"<p>Firstly, remember that Jars are Zip files so you can't get an individual <code>File</code> out of it without unzipping it. Zip files don't exactly have directories, so it's not as simple as getting the children of a directory.</p>\n\n<p>This was a bit of a difficult one but I too was curious, and after researching I have come up with the following.</p>\n\n<p>Firstly, you could try putting the resources into a flat Zip file (<code>resource/json/templates.zip</code>) nested in the Jar, then loading all the resources from that zip file since you know all the zip entries will be the resources you want. This should work even in the IDE.</p>\n\n<pre><code>String path = \"resource/json/templates.zip\";\nZipInputStream zis = new ZipInputStream(getClass().getResourceAsStream(path));\nfor (ZipEntry ze = zis.getNextEntry(); ze != null; ze = zis.getNextEntry()) {\n    // 'zis' is the input stream and will yield an 'EOF' before the next entry\n    templateJson = (JSONObject) parser.parse(zis);\n}\n</code></pre>\n\n<p>Alternatively, you could get the running Jar, iterate through its entries, and collect the ones that are children of <code>resource/json/templates/</code> then get the streams from those entries. NOTE: <em>This will only work when running the Jar</em>, add a check to run something else while running in the IDE.</p>\n\n<pre><code>public void runOrSomething() throws IOException, URISyntaxException {\n    // ... other logic ...\n    final String path = \"resource/json/templates/\";\n    Predicate&lt;JarEntry&gt; pred = (j) -&gt; !j.isDirectory() &amp;&amp; j.getName().startsWith(path);\n\n    try (JarFile jar = new Test().getThisJar()) {\n        List&lt;JarEntry&gt; resources = getEntriesUnderPath(jar, pred);\n        for (JarEntry entry : resources) {\n            System.out.println(entry.getName());\n            try (InputStream is = jar.getInputStream(entry)) {\n                // JarEntry streams are closed when their JarFile is closed,\n                // so you must use them before closing 'jar'\n                templateJson = (JSONObject) parser.parse(is);\n                // ... other logic ...\n            }\n        }\n    }\n}\n\n\n// gets ALL the children, not just direct\n// path should usually end in backslash\npublic static List&lt;JarEntry&gt; getEntriesUnderPath(JarFile jar, Predicate&lt;JarEntry&gt; pred)\n{\n    List&lt;JarEntry&gt; list = new LinkedList&lt;&gt;();\n    Enumeration&lt;JarEntry&gt; entries = jar.entries();\n\n    // has to iterate through all the Jar entries\n    while (entries.hasMoreElements()) {\n        JarEntry entry = entries.nextElement();\n        if (pred.test(entry))\n            list.add(entry);\n    }\n    return list;\n}\n\n\npublic JarFile getThisJar() throws IOException, URISyntaxException {\n    URL url = getClass().getProtectionDomain().getCodeSource().getLocation();\n    return new JarFile(new File(url.toURI()));\n}\n</code></pre>\n\n<p>I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1513117528,"creation_date":1513117528,"answer_id":47782558,"question_id":47775482,"body_markdown":"Assuming that in the class path, in the jar the directory starts with /json (/resource is a root directory), it could be as such:\r\n\r\n        URL url = getClass().getResource(&quot;/json&quot;);\r\n        Path path = Paths.get(url.toURI());\r\n        Files.walk(path, 5).forEach(p -&gt; System.out.printf(&quot;- %s%n&quot;, p.toString()));\r\n\r\nThis uses a `jar:file://...` URL, and opens a virtual file system on it.\r\n\r\nInspect that the jar indeed uses that path.\r\n\r\nReading can be done as desired.\r\n\r\n         BufferedReader in = Files.newBufferedReader(p, StandardCharsets.UTF_8);","title":"Getting the list of filenames from resource folder when running in jar","body":"<p>Assuming that in the class path, in the jar the directory starts with /json (/resource is a root directory), it could be as such:</p>\n\n<pre><code>    URL url = getClass().getResource(\"/json\");\n    Path path = Paths.get(url.toURI());\n    Files.walk(path, 5).forEach(p -&gt; System.out.printf(\"- %s%n\", p.toString()));\n</code></pre>\n\n<p>This uses a <code>jar:file://...</code> URL, and opens a virtual file system on it.</p>\n\n<p>Inspect that the jar indeed uses that path.</p>\n\n<p>Reading can be done as desired.</p>\n\n<pre><code>     BufferedReader in = Files.newBufferedReader(p, StandardCharsets.UTF_8);\n</code></pre>\n"}],"owner":{"account_id":5801217,"reputation":910,"user_id":4575328,"accept_rate":20,"display_name":"Juvenik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14604,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"closed_date":1685151802,"answer_count":2,"score":9,"last_activity_date":1685113310,"creation_date":1513090365,"question_id":47775482,"body_markdown":"I have some Json files in the folder &quot;resource/json/templates&quot;. I want to read these Json files. So far, the snippet of code below is allowing me to do so when running the program in IDE but it fails when I run it in the jar.\r\n\r\n      JSONParser parser = new JSONParser();\r\n      ClassLoader loader = getClass().getClassLoader();\r\n      URL url = loader.getResource(templateDirectory);\r\n      String path = url.getPath();\r\n      File[] files = new File(path).listFiles();\r\n      PipelineTemplateRepo pipelineTemplateRepo = new PipelineTemplateRepoImpl();\r\n      File templateFile;\r\n      JSONObject templateJson;\r\n      PipelineTemplateVo templateFromFile;\r\n      PipelineTemplateVo templateFromDB;\r\n      String templateName;\r\n\r\n\r\n      for (int i = 0; i &lt; files.length; i++) {\r\n        if (files[i].isFile()) {\r\n          templateFile = files[i];\r\n          templateJson = (JSONObject) parser.parse(new FileReader(templateFile));\r\n          //Other logic\r\n        }\r\n      }\r\n    }\r\n    catch (Exception e) {\r\n      e.printStackTrace();\r\n    }\r\n\r\nAny help would be greatly appreciated.\r\n\r\nThanks a lot.","title":"Getting the list of filenames from resource folder when running in jar","body":"<p>I have some Json files in the folder \"resource/json/templates\". I want to read these Json files. So far, the snippet of code below is allowing me to do so when running the program in IDE but it fails when I run it in the jar.</p>\n\n<pre><code>  JSONParser parser = new JSONParser();\n  ClassLoader loader = getClass().getClassLoader();\n  URL url = loader.getResource(templateDirectory);\n  String path = url.getPath();\n  File[] files = new File(path).listFiles();\n  PipelineTemplateRepo pipelineTemplateRepo = new PipelineTemplateRepoImpl();\n  File templateFile;\n  JSONObject templateJson;\n  PipelineTemplateVo templateFromFile;\n  PipelineTemplateVo templateFromDB;\n  String templateName;\n\n\n  for (int i = 0; i &lt; files.length; i++) {\n    if (files[i].isFile()) {\n      templateFile = files[i];\n      templateJson = (JSONObject) parser.parse(new FileReader(templateFile));\n      //Other logic\n    }\n  }\n}\ncatch (Exception e) {\n  e.printStackTrace();\n}\n</code></pre>\n\n<p>Any help would be greatly appreciated.</p>\n\n<p>Thanks a lot.</p>\n"},{"tags":["java","postgresql","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1685128733,"post_id":76341947,"comment_id":134623500,"body_markdown":"I don&#39;t know that you can pass in tuples dynamically like this. You may need to break out the query parameters individually &quot;where (first_name, last_name) in ( (:fn1, :ln1), (:fn2, :ln2))&quot;","body":"I don&#39;t know that you can pass in tuples dynamically like this. You may need to break out the query parameters individually &quot;where (first_name, last_name) in ( (:fn1, :ln1), (:fn2, :ln2))&quot;"},{"owner":{"account_id":7929172,"reputation":1787,"user_id":6059506,"accept_rate":77,"display_name":"theprogrammer"},"score":0,"creation_date":1685170649,"post_id":76341947,"comment_id":134626949,"body_markdown":"How to do that in spring data jpa? Do I pass a `List&lt;String&gt; fnList, List&lt;String&gt; lnList`?","body":"How to do that in spring data jpa? Do I pass a <code>List&lt;String&gt; fnList, List&lt;String&gt; lnList</code>?"}],"owner":{"account_id":7929172,"reputation":1787,"user_id":6059506,"accept_rate":77,"display_name":"theprogrammer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685112904,"creation_date":1685112904,"question_id":76341947,"body_markdown":"I am using spring-data-jpa and I want to write native query only(this is important).\r\n\r\nConsider the below schema.sql\r\n\r\n```sql\r\ndrop table if exists users;\r\n\r\ncreate table users (\r\n    id text NOT NULL,\r\n    first_name text NOT NULL,\r\n    last_name text NOT NULL,\r\n    age text NOT NULL,\r\n    CONSTRAINT pkey PRIMARY KEY(id)\r\n);\r\n```\r\n\r\nNow consider the below java entities and repository methods(removed other stuff for brevity)\r\n\r\n```java\r\n@Entity\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Table(name = &quot;users&quot;)\r\npublic class UsersEntity {\r\n    @Id\r\n    private String id;\r\n\r\n    @Column(name = &quot;first_name&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;age&quot;)\r\n    private String age;\r\n}\r\n```\r\n\r\n```java\r\npublic interface UsersRepo extends JpaRepository&lt;UsersEntity, String&gt; {\r\n\r\n    String sql = &quot;&quot;&quot;\r\n            select age from users\r\n            where (first_name, last_name) in (\r\n                :args\r\n            )\r\n            &quot;&quot;&quot;;\r\n\r\n    @Query(value = sql, nativeQuery = true)\r\n    List&lt;UsersEntity&gt; findAllByCustom(List&lt;String[]&gt; args);\r\n}\r\n```\r\n\r\n---\r\n\r\n##### The actual Error (operator does not exist: record = character varying[])\r\nWhen I try to run `findAllByCustom` method of `UsersRepo`, I am getting the below error:\r\n\r\n```yml\r\n2023-05-26T10:46:57.302-04:00  WARN 12800 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42883\r\n2023-05-26T10:46:57.302-04:00 ERROR 12800 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: operator does not exist: record = character varying[]\r\n  Hint: No operator matches the given name and argument types. You might need to add explicit type casts.\r\n  Position: 53\r\n2023-05-26T10:46:57.315-04:00 ERROR 12800 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select age from users\r\nwhere (first_name, last_name) in (\r\n    ?,?\r\n)\r\n] [ERROR: operator does not exist: record = character varying[]\r\n  Hint: No operator matches the given name and argument types. You might need to add explicit type casts.\r\n  Position: 53] [n/a]; SQL [n/a]] with root cause\r\n\r\norg.postgresql.util.PSQLException: ERROR: operator does not exist: record = character varying[]\r\n  Hint: No operator matches the given name and argument types. You might need to add explicit type casts.\r\n  Position: 53\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713) ~[postgresql-42.6.0.jar:42.6.0]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401) ~[postgresql-42.6.0.jar:42.6.0]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368) ~[postgresql-42.6.0.jar:42.6.0]\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498) ~[postgresql-42.6.0.jar:42.6.0]\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415) ~[postgresql-42.6.0.jar:42.6.0]\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190) ~[postgresql-42.6.0.jar:42.6.0]\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134) ~[postgresql-42.6.0.jar:42.6.0]\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.hibernate.sql.results.jdbc.internal.AbstractResultSetAccess.getMetaData(AbstractResultSetAccess.java:36) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.hibernate.sql.results.jdbc.internal.AbstractResultSetAccess.getColumnCount(AbstractResultSetAccess.java:52) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.hibernate.query.results.ResultSetMappingImpl.resolve(ResultSetMappingImpl.java:193) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:478) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:267) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.hibernate.query.sql.internal.NativeSelectQueryPlanImpl.performList(NativeSelectQueryPlanImpl.java:97) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.hibernate.query.sql.internal.NativeQueryImpl.doList(NativeQueryImpl.java:621) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.hibernate.query.Query.getResultList(Query.java:119) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405) ~[spring-orm-6.0.9.jar:6.0.9]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy113.getResultList(Unknown Source) ~[na:na]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129) ~[spring-data-jpa-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92) ~[spring-data-jpa-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:148) ~[spring-data-jpa-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:136) ~[spring-data-jpa-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.1.0.jar:3.1.0]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77) ~[spring-data-commons-3.1.0.jar:3.1.0]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.9.jar:6.0.9]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.9.jar:6.0.9]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.9.jar:6.0.9]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.9.jar:6.0.9]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:134) ~[spring-data-jpa-3.1.0.jar:3.1.0]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy103.findAllByCustom(Unknown Source) ~[na:na]\r\n\tat com.sql.sqldemo.HomeController.home(HomeController.java:25) ~[main/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n\r\n\r\n---\r\n\r\n**Note**: I think I can change my native query to use concat(first_name, last_name) and then check against it, but if I do this, the execution plan cost increases for string concatenation which is not scalable enough for me.","title":"How to write a native query in spring boot jpa(postgres) which has &quot;where in&quot; check on composite columns?","body":"<p>I am using spring-data-jpa and I want to write native query only(this is important).</p>\n<p>Consider the below schema.sql</p>\n<pre class=\"lang-sql prettyprint-override\"><code>drop table if exists users;\n\ncreate table users (\n    id text NOT NULL,\n    first_name text NOT NULL,\n    last_name text NOT NULL,\n    age text NOT NULL,\n    CONSTRAINT pkey PRIMARY KEY(id)\n);\n</code></pre>\n<p>Now consider the below java entities and repository methods(removed other stuff for brevity)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = &quot;users&quot;)\npublic class UsersEntity {\n    @Id\n    private String id;\n\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @Column(name = &quot;age&quot;)\n    private String age;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public interface UsersRepo extends JpaRepository&lt;UsersEntity, String&gt; {\n\n    String sql = &quot;&quot;&quot;\n            select age from users\n            where (first_name, last_name) in (\n                :args\n            )\n            &quot;&quot;&quot;;\n\n    @Query(value = sql, nativeQuery = true)\n    List&lt;UsersEntity&gt; findAllByCustom(List&lt;String[]&gt; args);\n}\n</code></pre>\n<hr />\n<h5>The actual Error (operator does not exist: record = character varying[])</h5>\n<p>When I try to run <code>findAllByCustom</code> method of <code>UsersRepo</code>, I am getting the below error:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>2023-05-26T10:46:57.302-04:00  WARN 12800 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42883\n2023-05-26T10:46:57.302-04:00 ERROR 12800 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: operator does not exist: record = character varying[]\n  Hint: No operator matches the given name and argument types. You might need to add explicit type casts.\n  Position: 53\n2023-05-26T10:46:57.315-04:00 ERROR 12800 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select age from users\nwhere (first_name, last_name) in (\n    ?,?\n)\n] [ERROR: operator does not exist: record = character varying[]\n  Hint: No operator matches the given name and argument types. You might need to add explicit type casts.\n  Position: 53] [n/a]; SQL [n/a]] with root cause\n\norg.postgresql.util.PSQLException: ERROR: operator does not exist: record = character varying[]\n  Hint: No operator matches the given name and argument types. You might need to add explicit type casts.\n  Position: 53\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713) ~[postgresql-42.6.0.jar:42.6.0]\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401) ~[postgresql-42.6.0.jar:42.6.0]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368) ~[postgresql-42.6.0.jar:42.6.0]\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498) ~[postgresql-42.6.0.jar:42.6.0]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415) ~[postgresql-42.6.0.jar:42.6.0]\n    at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190) ~[postgresql-42.6.0.jar:42.6.0]\n    at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134) ~[postgresql-42.6.0.jar:42.6.0]\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]\n    at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.sql.results.jdbc.internal.AbstractResultSetAccess.getMetaData(AbstractResultSetAccess.java:36) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.sql.results.jdbc.internal.AbstractResultSetAccess.getColumnCount(AbstractResultSetAccess.java:52) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.query.results.ResultSetMappingImpl.resolve(ResultSetMappingImpl.java:193) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:478) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:267) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.query.sql.internal.NativeSelectQueryPlanImpl.performList(NativeSelectQueryPlanImpl.java:97) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.query.sql.internal.NativeQueryImpl.doList(NativeQueryImpl.java:621) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.query.Query.getResultList(Query.java:119) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405) ~[spring-orm-6.0.9.jar:6.0.9]\n    at jdk.proxy2/jdk.proxy2.$Proxy113.getResultList(Unknown Source) ~[na:na]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129) ~[spring-data-jpa-3.1.0.jar:3.1.0]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92) ~[spring-data-jpa-3.1.0.jar:3.1.0]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:148) ~[spring-data-jpa-3.1.0.jar:3.1.0]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:136) ~[spring-data-jpa-3.1.0.jar:3.1.0]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.1.0.jar:3.1.0]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.1.0.jar:3.1.0]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-3.1.0.jar:3.1.0]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.1.0.jar:3.1.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77) ~[spring-data-commons-3.1.0.jar:3.1.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.9.jar:6.0.9]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.9.jar:6.0.9]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.9.jar:6.0.9]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.9.jar:6.0.9]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:134) ~[spring-data-jpa-3.1.0.jar:3.1.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.9.jar:6.0.9]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.0.9.jar:6.0.9]\n    at jdk.proxy2/jdk.proxy2.$Proxy103.findAllByCustom(Unknown Source) ~[na:na]\n    at com.sql.sqldemo.HomeController.home(HomeController.java:25) ~[main/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.8.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<hr />\n<p><strong>Note</strong>: I think I can change my native query to use concat(first_name, last_name) and then check against it, but if I do this, the execution plan cost increases for string concatenation which is not scalable enough for me.</p>\n"},{"tags":["java","javafx","classpath","java-17"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1644224044,"post_id":70995461,"comment_id":125538693,"body_markdown":"Look at [this answer](https://stackoverflow.com/a/36021165/2711488) for an up-to-date approach to list resources (or perform filesystem queries in general). It works at least with the default filesystem, as well as jar files and module images. Other deployed forms may work as well if their author cared enough to add a filesystem implementation.","body":"Look at <a href=\"https://stackoverflow.com/a/36021165/2711488\">this answer</a> for an up-to-date approach to list resources (or perform filesystem queries in general). It works at least with the default filesystem, as well as jar files and module images. Other deployed forms may work as well if their author cared enough to add a filesystem implementation."}],"answers":[{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644051004,"creation_date":1644051004,"answer_id":70996497,"question_id":70995461,"body_markdown":"There is no easy and reliable way to do that. Therefore I create and put an inventory file into my resources folder. So at runtime I can read that in and then have all the file names awailable that I need.\r\n\r\nHere is a little test that shows how I create that file:\r\n\r\n    public class ListAppDefaultsInventory {\r\n    \r\n        @Test\r\n        public void test() throws IOException {\r\n            List&lt;String&gt; inventory = listFilteredFiles(&quot;src/main/resources/app-defaults&quot;, Integer.MAX_VALUE);\r\n            assertFalse(&quot;Directory &#39;app-defaults&#39; is empty.&quot;, inventory.isEmpty());\r\n            System.out.println(&quot;# src/main/resources/app-defaults-inventory.txt&quot;);\r\n            inventory.forEach(s -&gt; System.out.println(s));\r\n        }\r\n        \r\n        public List&lt;String&gt; listFilteredFiles(String dir, int depth) throws IOException {\r\n            try (Stream&lt;Path&gt; stream = Files.walk(Paths.get(dir), depth)) {\r\n                return stream\r\n                    .filter(file -&gt; !Files.isDirectory(file))\r\n                    .filter(file -&gt; !file.getFileName().toString().startsWith(&quot;.&quot;))\r\n                    .map(Path::toString)\r\n                    .map(s -&gt; s.replaceFirst(&quot;src/main/resources/app-defaults/&quot;, &quot;&quot;))\r\n                    .collect(Collectors.toList());\r\n            }\r\n        }\r\n        \r\n    }\r\n","title":"Get a List of Files from a Classpath Resource Folder?","body":"<p>There is no easy and reliable way to do that. Therefore I create and put an inventory file into my resources folder. So at runtime I can read that in and then have all the file names awailable that I need.</p>\n<p>Here is a little test that shows how I create that file:</p>\n<pre><code>public class ListAppDefaultsInventory {\n\n    @Test\n    public void test() throws IOException {\n        List&lt;String&gt; inventory = listFilteredFiles(&quot;src/main/resources/app-defaults&quot;, Integer.MAX_VALUE);\n        assertFalse(&quot;Directory 'app-defaults' is empty.&quot;, inventory.isEmpty());\n        System.out.println(&quot;# src/main/resources/app-defaults-inventory.txt&quot;);\n        inventory.forEach(s -&gt; System.out.println(s));\n    }\n    \n    public List&lt;String&gt; listFilteredFiles(String dir, int depth) throws IOException {\n        try (Stream&lt;Path&gt; stream = Files.walk(Paths.get(dir), depth)) {\n            return stream\n                .filter(file -&gt; !Files.isDirectory(file))\n                .filter(file -&gt; !file.getFileName().toString().startsWith(&quot;.&quot;))\n                .map(Path::toString)\n                .map(s -&gt; s.replaceFirst(&quot;src/main/resources/app-defaults/&quot;, &quot;&quot;))\n                .collect(Collectors.toList());\n        }\n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1644056547,"creation_date":1644055493,"answer_id":70996955,"question_id":70995461,"body_markdown":"**Issues with your approach**\r\n\r\n*You don&#39;t have a well-formed url*\r\n\r\n[new Image(String url)](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html#%3Cinit%3E(java.lang.String)) takes a url as a parameter.\r\n\r\nA space is not a valid character for a URL:\r\n\r\n * https://stackoverflow.com/questions/1547899/which-characters-make-a-url-invalid\r\n\r\nwhich is why your `x` string is not a valid URL and cannot be used to construct an image.\r\n\r\n*You need to provide an input recognized by the Image constructor*\r\n\r\nNote, that it is slightly more complex because, from the [Image javadoc][1], the url parameter can be somethings other than a straight url, but even still, none of them match what you are trying to lookup.\r\n\r\n&gt; If a URL string is passed to a constructor, it be any of the\r\n&gt; following:\r\n&gt; \r\n&gt;  1. the name of a resource that can be resolved by the context ClassLoader\r\n&gt;     for this thread \r\n&gt;  2. a file path that can be resolved by File \r\n&gt;  3. a URL that\r\n&gt;     can be resolved by URL and for which a protocol handler exists \r\n&gt; \r\n&gt; The RFC\r\n&gt; 2397 &quot;data&quot; scheme for URLs is supported in addition to the protocol\r\n&gt; handlers that are registered for the application. If a URL uses the\r\n&gt; &quot;data&quot; scheme, the data must be base64-encoded and the MIME type must\r\n&gt; either be empty or a subtype of the image type.\r\n\r\n*You are assuming the resources are in a file system, but that won&#39;t always work*\r\n\r\nIf you pack your resources into a jar, then this will not work:\r\n\r\n    Arrays.asList(\r\n        new File(\r\n            Thread.currentThread()\r\n                .getContextClassLoader()\r\n                .getResource(packageName)\r\n                .toURI()\r\n        ).listFiles()\r\n    );\r\n\r\nThis doesn&#39;t work because files in the jar are located using the `jar:` protocol rather than the `file:` protocol.  So, you will be unable to create File objects from the `jar:` protocol URIs that will be returned by getResource.\r\n\r\n**Recommended Approach: Use Spring**\r\n\r\nGetting a list of resources from a jar is actually a pretty tricky thing.  From the question you linked, the easiest solution is the one which uses \r\n\r\n * [Spring&#39;s PathMatchingResourcePatternResolver][2] \r\n\r\nUnfortunately, that means requiring a dependency on the Spring framework to use it, which is total overkill for this task . . . however I don&#39;t know of any other simple robust solution.  But at least you can just call the Spring utility class, you don&#39;t need to start up a whole spring dependency injection container to use it, so you don&#39;t really need to know any Spring at all or suffer any Spring overhead to do it this way.\r\n\r\nSo, you could write something like this (ResourceLister is a class I created, as well as the toURL method, see the example app):\r\n\r\n    public List&lt;String&gt; getResourceUrls(String locationPattern) throws IOException {\r\n        ClassLoader classLoader = ResourceLister.class.getClassLoader();\r\n        PathMatchingResourcePatternResolver resolver = new PathMatchingResourcePatternResolver(classLoader);\r\n\r\n        Resource[] resources = resolver.getResources(locationPattern);\r\n\r\n        return Arrays.stream(resources)\r\n                .map(this::toURL)\r\n                .filter(Objects::nonNull)\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n**Executable Example**\r\n\r\n*ResourceLister.java*\r\n\r\n    import org.springframework.core.io.Resource;\r\n    import org.springframework.core.io.support.PathMatchingResourcePatternResolver;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.*;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class ResourceLister {\r\n        // currently, only gets pngs, if needed, can add\r\n        // other patterns and union the results to get \r\n        // multiple image types. \r\n        private static final String IMAGE_PATTERN =\r\n                &quot;classpath:/img/*.png&quot;;\r\n    \r\n        public List&lt;String&gt; getImageUrls() throws IOException {\r\n            return getResourceUrls(IMAGE_PATTERN);\r\n        }\r\n    \r\n        public List&lt;String&gt; getResourceUrls(String locationPattern) throws IOException {\r\n            ClassLoader classLoader = ResourceLister.class.getClassLoader();\r\n            PathMatchingResourcePatternResolver resolver = new PathMatchingResourcePatternResolver(classLoader);\r\n    \r\n            Resource[] resources = resolver.getResources(locationPattern);\r\n    \r\n            return Arrays.stream(resources)\r\n                    .map(this::toURL)\r\n                    .filter(Objects::nonNull)\r\n                    .collect(Collectors.toList());\r\n        }\r\n    \r\n        private String toURL(Resource r) {\r\n            try {\r\n                if (r == null) {\r\n                    return null;\r\n                }\r\n    \r\n                return r.getURL().toExternalForm();\r\n            } catch (IOException e) {\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            ResourceLister lister = new ResourceLister();\r\n            System.out.println(lister.getImageUrls());\r\n        }\r\n    }\r\n\r\n*AnimalApp.java*\r\n\r\n    import javafx.application.Application;\r\n    import javafx.geometry.*;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.image.*;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.*;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class AnimalApp extends Application {\r\n        private static final double ANIMAL_SIZE = 512;\r\n    \r\n        // remove the magic seed if you want a different random sequence all the time.\r\n        private final Random random = new Random(42);\r\n    \r\n        private final ResourceLister resourceLister = new ResourceLister();\r\n    \r\n        private List&lt;Image&gt; images;\r\n    \r\n        @Override\r\n        public void init() {\r\n            List&lt;String&gt; imageUrls = findImageUrls();\r\n            images = imageUrls.stream()\r\n                    .map(Image::new)\r\n                    .collect(Collectors.toList());\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            ImageView animalView = new ImageView();\r\n            animalView.setFitWidth(ANIMAL_SIZE);\r\n            animalView.setFitHeight(ANIMAL_SIZE);\r\n            animalView.setPreserveRatio(true);\r\n    \r\n            Button findAnimalButton = new Button(&quot;Find animal&quot;);\r\n            findAnimalButton.setOnAction(e -&gt;\r\n                    animalView.setImage(randomImage())\r\n            );\r\n    \r\n            VBox layout = new VBox(10,\r\n                    findAnimalButton,\r\n                    animalView\r\n            );\r\n            layout.setPadding(new Insets(10));\r\n            layout.setAlignment(Pos.CENTER);\r\n    \r\n            stage.setScene(new Scene(layout));\r\n            stage.show();\r\n        }\r\n    \r\n        private List&lt;String&gt; findImageUrls() {\r\n            try {\r\n                return resourceLister.getImageUrls();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return new ArrayList&lt;&gt;();\r\n        }\r\n    \r\n        /**\r\n         * Chooses a random image.\r\n         *\r\n         * Allows the next random image chosen to be the same as the previous image.\r\n         *\r\n         * @return a random image or null if no images were found.\r\n         */\r\n        private Image randomImage() {\r\n            if (images == null || images.isEmpty()) {\r\n                return null;\r\n            }\r\n    \r\n            return images.get(random.nextInt(images.size()));\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n*pom.xml*\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;resource-lister&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;resource-lister&lt;/name&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;junit.version&gt;5.7.1&lt;/junit.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n                &lt;version&gt;17.0.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n                &lt;version&gt;LATEST&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;17&lt;/source&gt;\r\n                        &lt;target&gt;17&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n*images*\r\n\r\nPlace in src/main/resources/img.\r\n\r\n * chicken.png\r\n * cow.png\r\n * pig.png\r\n * sheep.png\r\n\r\n[![chicken][3]][3]\r\n[![cow][4]][4]\r\n[![pig][5]][5]\r\n[![sheep][6]][6]\r\n\r\n*execution command*\r\n\r\nSet the VM arguments for your JavaFX SDK installation:\r\n\r\n    -p C:\\dev\\javafx-sdk-17.0.2\\lib --add-modules javafx.controls\r\n\r\n  [1]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html\r\n  [2]: https://stackoverflow.com/a/48129086/1155209\r\n  [3]: https://i.stack.imgur.com/FkPkT.png\r\n  [4]: https://i.stack.imgur.com/qWayW.png\r\n  [5]: https://i.stack.imgur.com/Q6cak.png\r\n  [6]: https://i.stack.imgur.com/SQDi4.png","title":"Get a List of Files from a Classpath Resource Folder?","body":"<p><strong>Issues with your approach</strong></p>\n<p><em>You don't have a well-formed url</em></p>\n<p><a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html#%3Cinit%3E(java.lang.String)\" rel=\"noreferrer\">new Image(String url)</a> takes a url as a parameter.</p>\n<p>A space is not a valid character for a URL:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/1547899/which-characters-make-a-url-invalid\">Which characters make a URL invalid?</a></li>\n</ul>\n<p>which is why your <code>x</code> string is not a valid URL and cannot be used to construct an image.</p>\n<p><em>You need to provide an input recognized by the Image constructor</em></p>\n<p>Note, that it is slightly more complex because, from the <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html\" rel=\"noreferrer\">Image javadoc</a>, the url parameter can be somethings other than a straight url, but even still, none of them match what you are trying to lookup.</p>\n<blockquote>\n<p>If a URL string is passed to a constructor, it be any of the\nfollowing:</p>\n<ol>\n<li>the name of a resource that can be resolved by the context ClassLoader\nfor this thread</li>\n<li>a file path that can be resolved by File</li>\n<li>a URL that\ncan be resolved by URL and for which a protocol handler exists</li>\n</ol>\n<p>The RFC\n2397 &quot;data&quot; scheme for URLs is supported in addition to the protocol\nhandlers that are registered for the application. If a URL uses the\n&quot;data&quot; scheme, the data must be base64-encoded and the MIME type must\neither be empty or a subtype of the image type.</p>\n</blockquote>\n<p><em>You are assuming the resources are in a file system, but that won't always work</em></p>\n<p>If you pack your resources into a jar, then this will not work:</p>\n<pre><code>Arrays.asList(\n    new File(\n        Thread.currentThread()\n            .getContextClassLoader()\n            .getResource(packageName)\n            .toURI()\n    ).listFiles()\n);\n</code></pre>\n<p>This doesn't work because files in the jar are located using the <code>jar:</code> protocol rather than the <code>file:</code> protocol.  So, you will be unable to create File objects from the <code>jar:</code> protocol URIs that will be returned by getResource.</p>\n<p><strong>Recommended Approach: Use Spring</strong></p>\n<p>Getting a list of resources from a jar is actually a pretty tricky thing.  From the question you linked, the easiest solution is the one which uses</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/48129086/1155209\">Spring's PathMatchingResourcePatternResolver</a></li>\n</ul>\n<p>Unfortunately, that means requiring a dependency on the Spring framework to use it, which is total overkill for this task . . . however I don't know of any other simple robust solution.  But at least you can just call the Spring utility class, you don't need to start up a whole spring dependency injection container to use it, so you don't really need to know any Spring at all or suffer any Spring overhead to do it this way.</p>\n<p>So, you could write something like this (ResourceLister is a class I created, as well as the toURL method, see the example app):</p>\n<pre><code>public List&lt;String&gt; getResourceUrls(String locationPattern) throws IOException {\n    ClassLoader classLoader = ResourceLister.class.getClassLoader();\n    PathMatchingResourcePatternResolver resolver = new PathMatchingResourcePatternResolver(classLoader);\n\n    Resource[] resources = resolver.getResources(locationPattern);\n\n    return Arrays.stream(resources)\n            .map(this::toURL)\n            .filter(Objects::nonNull)\n            .collect(Collectors.toList());\n}\n</code></pre>\n<p><strong>Executable Example</strong></p>\n<p><em>ResourceLister.java</em></p>\n<pre><code>import org.springframework.core.io.Resource;\nimport org.springframework.core.io.support.PathMatchingResourcePatternResolver;\n\nimport java.io.IOException;\nimport java.util.*;\nimport java.util.stream.Collectors;\n\npublic class ResourceLister {\n    // currently, only gets pngs, if needed, can add\n    // other patterns and union the results to get \n    // multiple image types. \n    private static final String IMAGE_PATTERN =\n            &quot;classpath:/img/*.png&quot;;\n\n    public List&lt;String&gt; getImageUrls() throws IOException {\n        return getResourceUrls(IMAGE_PATTERN);\n    }\n\n    public List&lt;String&gt; getResourceUrls(String locationPattern) throws IOException {\n        ClassLoader classLoader = ResourceLister.class.getClassLoader();\n        PathMatchingResourcePatternResolver resolver = new PathMatchingResourcePatternResolver(classLoader);\n\n        Resource[] resources = resolver.getResources(locationPattern);\n\n        return Arrays.stream(resources)\n                .map(this::toURL)\n                .filter(Objects::nonNull)\n                .collect(Collectors.toList());\n    }\n\n    private String toURL(Resource r) {\n        try {\n            if (r == null) {\n                return null;\n            }\n\n            return r.getURL().toExternalForm();\n        } catch (IOException e) {\n            return null;\n        }\n    }\n\n    public static void main(String[] args) throws IOException {\n        ResourceLister lister = new ResourceLister();\n        System.out.println(lister.getImageUrls());\n    }\n}\n</code></pre>\n<p><em>AnimalApp.java</em></p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.*;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.image.*;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.util.*;\nimport java.util.stream.Collectors;\n\npublic class AnimalApp extends Application {\n    private static final double ANIMAL_SIZE = 512;\n\n    // remove the magic seed if you want a different random sequence all the time.\n    private final Random random = new Random(42);\n\n    private final ResourceLister resourceLister = new ResourceLister();\n\n    private List&lt;Image&gt; images;\n\n    @Override\n    public void init() {\n        List&lt;String&gt; imageUrls = findImageUrls();\n        images = imageUrls.stream()\n                .map(Image::new)\n                .collect(Collectors.toList());\n    }\n\n    @Override\n    public void start(Stage stage) {\n        ImageView animalView = new ImageView();\n        animalView.setFitWidth(ANIMAL_SIZE);\n        animalView.setFitHeight(ANIMAL_SIZE);\n        animalView.setPreserveRatio(true);\n\n        Button findAnimalButton = new Button(&quot;Find animal&quot;);\n        findAnimalButton.setOnAction(e -&gt;\n                animalView.setImage(randomImage())\n        );\n\n        VBox layout = new VBox(10,\n                findAnimalButton,\n                animalView\n        );\n        layout.setPadding(new Insets(10));\n        layout.setAlignment(Pos.CENTER);\n\n        stage.setScene(new Scene(layout));\n        stage.show();\n    }\n\n    private List&lt;String&gt; findImageUrls() {\n        try {\n            return resourceLister.getImageUrls();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return new ArrayList&lt;&gt;();\n    }\n\n    /**\n     * Chooses a random image.\n     *\n     * Allows the next random image chosen to be the same as the previous image.\n     *\n     * @return a random image or null if no images were found.\n     */\n    private Image randomImage() {\n        if (images == null || images.isEmpty()) {\n            return null;\n        }\n\n        return images.get(random.nextInt(images.size()));\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p><em>pom.xml</em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;resource-lister&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;resource-lister&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.7.1&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;17.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;LATEST&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><em>images</em></p>\n<p>Place in src/main/resources/img.</p>\n<ul>\n<li>chicken.png</li>\n<li>cow.png</li>\n<li>pig.png</li>\n<li>sheep.png</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/FkPkT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/FkPkT.png\" alt=\"chicken\" /></a>\n<a href=\"https://i.stack.imgur.com/qWayW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qWayW.png\" alt=\"cow\" /></a>\n<a href=\"https://i.stack.imgur.com/Q6cak.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Q6cak.png\" alt=\"pig\" /></a>\n<a href=\"https://i.stack.imgur.com/SQDi4.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SQDi4.png\" alt=\"sheep\" /></a></p>\n<p><em>execution command</em></p>\n<p>Set the VM arguments for your JavaFX SDK installation:</p>\n<pre><code>-p C:\\dev\\javafx-sdk-17.0.2\\lib --add-modules javafx.controls\n</code></pre>\n"}],"owner":{"account_id":2348787,"reputation":10425,"user_id":2058221,"accept_rate":92,"display_name":"Sarah Szabo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5063,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1685151790,"answer_count":2,"score":3,"last_activity_date":1685112696,"creation_date":1644037921,"question_id":70995461,"body_markdown":"I&#39;m trying to set an JFX ImageView image from a resource folder, but can&#39;t seem to get an appropriate URL/String filepath that won&#39;t throw an exception.\r\n\r\n    var x = getRandomImageFromPackage(&quot;pictures&quot;).toString();\r\n    var y = getClass().getClassLoader().getResource(&quot;pictures/mindwave/active/Super Saiyan.gif&quot;).toString();\r\n    this.iconImageView.setImage(new Image(x));\r\n\r\n`x` returns\r\n\r\n    /home/sarah/Desktop/Dropbox/School/Current/MAX MSP Utilities/MindWaveMobileDataServer/target/classes/pictures/0515e3b7cb30ac92ebfe729440870a5c.jpg\r\n\r\nwhereas `y` returns something that looks like:\r\n\r\n```\r\nfile:/home/sarah/Desktop/Dropbox/School/Current/MAX%20MSP%20Utilities/MindWaveMobileDataServer/target/classes/pictures/mindwave/active/Super%20Saiyan.gif\r\n```\r\n\r\nIn theory either of these would be acceptable, however, only x will throw an exception if it is placed in the below `setImage(String)` line.\r\n\r\nIs there any way to get a list of images in the package so that I can select a random one and set the ImageView?\r\n\r\nI know that there was a custom scanner option, but it appears rather dated (being over 11 years old and wasn&#39;t really supported at the time): \r\n\r\n  * https://stackoverflow.com/questions/3923129/get-a-list-of-resources-from-classpath-directory\r\n\r\nRoutine:\r\n\r\n    /**\r\n     * Gets a picture from the classpath pictures folder.\r\n     *\r\n     * @param packageName The string path (in package format) to the classpath\r\n     * folder\r\n     * @return The random picture\r\n     */\r\n    private Path getRandomImageFromPackage(String packageName) {\r\n        try {\r\n            var list = Arrays.asList(new File(Thread.currentThread().getContextClassLoader().getResource(packageName)\r\n                    .toURI()).listFiles());\r\n            var x = list.get(new Random().nextInt(list.size())).toString();\r\n            return list.get(new Random().nextInt(list.size())).toPath();\r\n\r\n        } catch (URISyntaxException ex) {\r\n            throw new IllegalStateException(&quot;Encountered an error while trying to get a picture from the classpath&quot;\r\n                    + &quot;filesystem&quot;, ex);\r\n        }\r\n    }\r\n\r\nFor reference, this is the resource folder:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/9vJ0P.png\r\n","title":"Get a List of Files from a Classpath Resource Folder?","body":"<p>I'm trying to set an JFX ImageView image from a resource folder, but can't seem to get an appropriate URL/String filepath that won't throw an exception.</p>\n<pre><code>var x = getRandomImageFromPackage(&quot;pictures&quot;).toString();\nvar y = getClass().getClassLoader().getResource(&quot;pictures/mindwave/active/Super Saiyan.gif&quot;).toString();\nthis.iconImageView.setImage(new Image(x));\n</code></pre>\n<p><code>x</code> returns</p>\n<pre><code>/home/sarah/Desktop/Dropbox/School/Current/MAX MSP Utilities/MindWaveMobileDataServer/target/classes/pictures/0515e3b7cb30ac92ebfe729440870a5c.jpg\n</code></pre>\n<p>whereas <code>y</code> returns something that looks like:</p>\n<pre><code>file:/home/sarah/Desktop/Dropbox/School/Current/MAX%20MSP%20Utilities/MindWaveMobileDataServer/target/classes/pictures/mindwave/active/Super%20Saiyan.gif\n</code></pre>\n<p>In theory either of these would be acceptable, however, only x will throw an exception if it is placed in the below <code>setImage(String)</code> line.</p>\n<p>Is there any way to get a list of images in the package so that I can select a random one and set the ImageView?</p>\n<p>I know that there was a custom scanner option, but it appears rather dated (being over 11 years old and wasn't really supported at the time):</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/3923129/get-a-list-of-resources-from-classpath-directory\">Get a list of resources from classpath directory</a></li>\n</ul>\n<p>Routine:</p>\n<pre><code>/**\n * Gets a picture from the classpath pictures folder.\n *\n * @param packageName The string path (in package format) to the classpath\n * folder\n * @return The random picture\n */\nprivate Path getRandomImageFromPackage(String packageName) {\n    try {\n        var list = Arrays.asList(new File(Thread.currentThread().getContextClassLoader().getResource(packageName)\n                .toURI()).listFiles());\n        var x = list.get(new Random().nextInt(list.size())).toString();\n        return list.get(new Random().nextInt(list.size())).toPath();\n\n    } catch (URISyntaxException ex) {\n        throw new IllegalStateException(&quot;Encountered an error while trying to get a picture from the classpath&quot;\n                + &quot;filesystem&quot;, ex);\n    }\n}\n</code></pre>\n<p>For reference, this is the resource folder:</p>\n<p><a href=\"https://i.stack.imgur.com/9vJ0P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9vJ0P.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","algorithm","kotlin","encoding","jvm"],"comments":[{"owner":{"account_id":14462301,"reputation":673,"user_id":10446802,"display_name":"Fermi-4"},"score":2,"creation_date":1685114601,"post_id":76341869,"comment_id":134621079,"body_markdown":"How are you running your program and how is it organized? Looks like something is missing on your classpath","body":"How are you running your program and how is it organized? Looks like something is missing on your classpath"},{"owner":{"account_id":24244469,"reputation":139,"user_id":18196409,"display_name":"EpicAdidash"},"score":0,"creation_date":1685120436,"post_id":76341869,"comment_id":134622137,"body_markdown":"I am running program using kotlinc and java","body":"I am running program using kotlinc and java"},{"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"score":0,"creation_date":1685140303,"post_id":76341869,"comment_id":134624990,"body_markdown":"You either need to run it with `kotlin`, or you need to add the Kotlin runtime jars to your classpath when running with `java`.","body":"You either need to run it with <code>kotlin</code>, or you need to add the Kotlin runtime jars to your classpath when running with <code>java</code>."}],"owner":{"account_id":24244469,"reputation":139,"user_id":18196409,"display_name":"EpicAdidash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685112646,"creation_date":1685112175,"question_id":76341869,"body_markdown":"Whenever I try to run the following code in fishy.kt (Kotlin):\r\n\r\n```\r\nval paddingChar = &#39;=&#39;\r\nval lookupTable = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ234567&quot;\r\nfun base32Decode(encodedString: String): ByteArray {\r\n    // Remove whitespace and padding characters\r\n    val encodedStringCleaned = encodedString.replace(&quot; &quot;, &quot;&quot;).replace(paddingChar.toString(), &quot;&quot;)\r\n    // Prepare a map for reverse lookup\r\n    val reverseLookupTable = lookupTable.withIndex().associateBy({ it.value }, { it.index })\r\n    // Convert Base32 string to binary\r\n    val binaryString = encodedStringCleaned.flatMap { reverseLookupTable[it]?.toString(2)?.padStart(5, &#39;0&#39;) ?: error(&quot;Invalid Base32 character&quot;) }\r\n        .joinToString(&quot;&quot;)\r\n    // Add trailing zeros if necessary\r\n    val remainder = binaryString.length % 8\r\n    val paddedBinaryString = if (remainder != 0) binaryString.padEnd(binaryString.length + 8 - remainder, &#39;0&#39;) else binaryString\r\n    // Convert binary to bytes\r\n    val bytes = paddedBinaryString.chunked(8)\r\n        .map { it.toInt(2).toByte() }\r\n        .toByteArray()\r\n    return bytes\r\n}\r\n// Example usage\r\nval encodedString = &quot;MZXW6===&quot;\r\nval decodedData = base32Decode(encodedString)\r\nprintln(decodedData.contentToString())\r\n\r\n```\r\n\r\nI get the following error:\r\n\r\n```\r\n Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics\r\n        at FishKtyour text.base32Decode(fish.kt)\r\n        at FishKt.main(fish.kt:3)\r\n        at FishKt.main(fish.kt)\r\n```\r\n\r\nAny solutions for this?\r\n\r\nI am trying to decode a base32 string in Kotlin, but as there is no inbuilt base32 decoder, I tried to write my own but still got this error.","title":"How to solve this jvm runtime exception?","body":"<p>Whenever I try to run the following code in fishy.kt (Kotlin):</p>\n<pre><code>val paddingChar = '='\nval lookupTable = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ234567&quot;\nfun base32Decode(encodedString: String): ByteArray {\n    // Remove whitespace and padding characters\n    val encodedStringCleaned = encodedString.replace(&quot; &quot;, &quot;&quot;).replace(paddingChar.toString(), &quot;&quot;)\n    // Prepare a map for reverse lookup\n    val reverseLookupTable = lookupTable.withIndex().associateBy({ it.value }, { it.index })\n    // Convert Base32 string to binary\n    val binaryString = encodedStringCleaned.flatMap { reverseLookupTable[it]?.toString(2)?.padStart(5, '0') ?: error(&quot;Invalid Base32 character&quot;) }\n        .joinToString(&quot;&quot;)\n    // Add trailing zeros if necessary\n    val remainder = binaryString.length % 8\n    val paddedBinaryString = if (remainder != 0) binaryString.padEnd(binaryString.length + 8 - remainder, '0') else binaryString\n    // Convert binary to bytes\n    val bytes = paddedBinaryString.chunked(8)\n        .map { it.toInt(2).toByte() }\n        .toByteArray()\n    return bytes\n}\n// Example usage\nval encodedString = &quot;MZXW6===&quot;\nval decodedData = base32Decode(encodedString)\nprintln(decodedData.contentToString())\n\n</code></pre>\n<p>I get the following error:</p>\n<pre><code> Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics\n        at FishKtyour text.base32Decode(fish.kt)\n        at FishKt.main(fish.kt:3)\n        at FishKt.main(fish.kt)\n</code></pre>\n<p>Any solutions for this?</p>\n<p>I am trying to decode a base32 string in Kotlin, but as there is no inbuilt base32 decoder, I tried to write my own but still got this error.</p>\n"},{"tags":["java","github","github-actions","openjdk-17"],"answers":[{"tags":[],"owner":{"account_id":171499,"reputation":11291,"user_id":398963,"accept_rate":60,"display_name":"Konrad H&#246;ffner"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1651229654,"creation_date":1651221407,"answer_id":72055098,"question_id":72054757,"body_markdown":"You are using Maven compiler plugin version 3.8.1, which was released in May 2019 for Java 17, which was released in September 2021. Make sure that you use the newest Maven Compiler plugin and that you specify the correct Java release in its configuration setting in `pom.xml`.\r\n\r\n\r\n```xml\r\n&lt;project&gt;\r\n  [...]\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.release&gt;17&lt;/maven.compiler.source&gt;\r\n  &lt;/properties&gt;\r\n  [...]\r\n&lt;/project&gt;\r\n```\r\n\r\nOr like this:\r\n\r\n```xml\r\n&lt;project&gt;\r\n\t[...]\r\n\t&lt;build&gt;\r\n\t\t[...]\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.10.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;release&gt;17&lt;/source&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t[...]\r\n\t&lt;/build&gt;\r\n\t[...]\r\n&lt;/project&gt;\r\n```\r\n\r\nSource: https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\r\n\r\nYou also don&#39;t specify the Java version in your workflow, the [GitHub actions Maven starter workflow][1] specifies it like this:\r\n\r\n```yaml\r\nname: Java CI\r\n\r\non: [push]\r\n\r\njobs:\r\n  build:\r\n    runs-on: ubuntu-latest\r\n\r\n    steps:\r\n      - uses: actions/checkout@v3\r\n      - name: Set up JDK 17\r\n        uses: actions/setup-java@v3\r\n        with:\r\n          java-version: &#39;17&#39;\r\n          distribution: &#39;adopt&#39;\r\n      - name: Build with Maven\r\n        run: mvn --batch-mode --update-snapshots package\r\n```\r\n\r\n  [1]: https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-java-with-maven\r\n\r\nOtherwise you are using whatever Java version is the default in the GitHub runner you are using and as you are not pinning down the version but instead use ubuntu:latest, this may not be the one you want and even change over time.","title":"How to write Github workflow for JDK 17","body":"<p>You are using Maven compiler plugin version 3.8.1, which was released in May 2019 for Java 17, which was released in September 2021. Make sure that you use the newest Maven Compiler plugin and that you specify the correct Java release in its configuration setting in <code>pom.xml</code>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n  [...]\n  &lt;properties&gt;\n    &lt;maven.compiler.release&gt;17&lt;/maven.compiler.source&gt;\n  &lt;/properties&gt;\n  [...]\n&lt;/project&gt;\n</code></pre>\n<p>Or like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n    [...]\n    &lt;build&gt;\n        [...]\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;17&lt;/source&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        [...]\n    &lt;/build&gt;\n    [...]\n&lt;/project&gt;\n</code></pre>\n<p>Source: <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\" rel=\"noreferrer\">https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html</a></p>\n<p>You also don't specify the Java version in your workflow, the <a href=\"https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-java-with-maven\" rel=\"noreferrer\">GitHub actions Maven starter workflow</a> specifies it like this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: Java CI\n\non: [push]\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n\n    steps:\n      - uses: actions/checkout@v3\n      - name: Set up JDK 17\n        uses: actions/setup-java@v3\n        with:\n          java-version: '17'\n          distribution: 'adopt'\n      - name: Build with Maven\n        run: mvn --batch-mode --update-snapshots package\n</code></pre>\n<p>Otherwise you are using whatever Java version is the default in the GitHub runner you are using and as you are not pinning down the version but instead use ubuntu:latest, this may not be the one you want and even change over time.</p>\n"}],"owner":{"account_id":17846180,"reputation":705,"user_id":12962949,"display_name":"Masi Boo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7264,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":72055098,"answer_count":1,"score":6,"last_activity_date":1685112482,"creation_date":1651219812,"question_id":72054757,"body_markdown":"This is the current Github for JDK 11 and works fine. I have migrated my project to JDK 17. It works fine locally but breaks in Github workflows. I don&#39;t know how can I fix it? \r\n\r\n.github\\workflows\\docker-publish.yml:-\r\n\r\n    name: Docker\r\n  \r\n    on:\r\n      push:\r\n        branches: [ master ]\r\n        # Publish semver tags as releases.\r\n        tags: [ &#39;v*.*.*&#39; ]\r\n      pull_request:\r\n        branches: [ master ]\r\n    \r\n    env:\r\n      # Use docker.io for Docker Hub if empty\r\n      REGISTRY: ghcr.io\r\n      # github.repository as &lt;account&gt;/&lt;repo&gt;\r\n      IMAGE_NAME: ${{ github.repository }}\r\n      TAG: &#39;latest&#39;\r\n        \r\n    jobs:\r\n      build:\r\n    \r\n        runs-on: ubuntu-latest\r\n        permissions:\r\n          contents: read\r\n          packages: write\r\n          # This is used to complete the identity challenge\r\n          # with sigstore/fulcio when running outside of PRs.\r\n    \r\n        steps:\r\n          - name: Checkout repository\r\n            uses: actions/checkout@v2\r\n            \r\n          - name: Cache local Maven repository\r\n            uses: actions/cache@v2\r\n            with:\r\n             path: ~/.m2/repository\r\n             key: ${{ runner.os }}-maven-${{ hashFiles(&#39;**/pom.xml&#39;) }}\r\n             restore-keys: |\r\n              ${{ runner.os }}-maven-\r\n              \r\n          - name: maven-settings-xml-action\r\n            uses: whelk-io/maven-settings-xml-action@v12\r\n            with:\r\n              repositories: &#39;[{ &quot;id&quot;: &quot;github&quot;, &quot;name&quot;: &quot;Backend repo&quot;, &quot;url&quot;: &quot;https://maven.pkg.github.com/dcsaorg/Core&quot;, &quot;releases&quot;: { &quot;enabled&quot;: &quot;true&quot; }, &quot;snapshots&quot;: { &quot;enabled&quot;: &quot;true&quot; } }]&#39;\r\n              servers: &#39;[{ &quot;id&quot;: &quot;github&quot;, &quot;username&quot;: &quot;${{ secrets.USER }}&quot;, &quot;password&quot;: &quot;${{ secrets.PACKAGES_PAT }}&quot; }]&#39;\r\n            \r\n          - name: Checkout org/TNT\r\n            uses: actions/checkout@v2\r\n            with:\r\n              repository: org/TNT\r\n              ref: master\r\n              token: ${{ secrets.REPO_ACCESS_PAT }}\r\n              path: TNT\r\n              \r\n          - name: Build TNT\r\n            run: cd TNT &amp;&amp; mvn install -DskipTests -X \r\n            \r\n          - name: build Toolkit\r\n            run:  mvn -B package -DskipTests -X\r\n            \r\n          - name: Extract Build tag\r\n            id: buildtag\r\n            run:  echo &quot;TAG=$(mvn org.apache.maven.plugins:maven-help-plugin:3.2.0:evaluate -Dexpression=project.version -q -DforceStdout)&quot;&gt;&gt; $GITHUB_ENV\r\n    \r\n          # Build and push Docker image\r\n          # https://github.com/marketplace/actions/docker-build-push-action\r\n          - name: Build and push Docker image\r\n            uses: mr-smithers-excellent/docker-build-push@v5\r\n            with:          \r\n              image: consumer\r\n              tags: ${{ env.TAG }}, latest\r\n              registry: ghcr.io            \r\n              githubOrg: org\r\n              username: ${{ github.actor }}\r\n              password: ${{ secrets.USER_PACKAGES_PAT }}\r\n\r\n \r\nDockerfile\r\n\r\n    FROM eclipse-temurin:17-jre-alpine\r\n    RUN mkdir -p /ctk\r\n    COPY target/ctk_consumer-*.jar /ctk/ctk_consumer.jar\r\n    WORKDIR /ctk/\r\n    ENTRYPOINT java -jar ctk_consumer.jar\r\n\r\nError:-\r\n\r\nError:  Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project ctk_consumer: Fatal error compiling: error: invalid target release: 17 -&gt; [Help 1]\r\n\r\n**Updated pom.xml after the suggestion:-**\r\n\r\n    &lt;build&gt;\r\n    \t&lt;plugins&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.10.1&lt;/version&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;source&gt;17&lt;/source&gt;\r\n    \t\t\t\t&lt;target&gt;17&lt;/target&gt;\r\n    \t\t\t\t&lt;annotationProcessorPaths&gt;\r\n    \t\t\t\t\t&lt;path&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/path&gt;\r\n    \t\t\t\t\t&lt;path&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;${lombok.version}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/path&gt;\r\n    \t\t\t\t\t&lt;path&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;0.2.0&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/path&gt;\r\n    \t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t&lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n**Updated full pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.4.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;org.company&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;ctk_consumer&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.2&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \t&lt;name&gt;ctk_consumer&lt;/name&gt;\r\n    \t&lt;description&gt;ctk consumer&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t\t&lt;dcsa.tnt.version&gt;0.0.1&lt;/dcsa.tnt.version&gt;\r\n    \t\t&lt;dcsa.artifacttype&gt;-SNAPSHOT&lt;/dcsa.artifacttype&gt;\r\n    \t\t&lt;lombok.version&gt;1.18.22&lt;/lombok.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.1.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.5.13&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.aventstack&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;extentreports&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.0.9&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${lombok.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"How to write Github workflow for JDK 17","body":"<p>This is the current Github for JDK 11 and works fine. I have migrated my project to JDK 17. It works fine locally but breaks in Github workflows. I don't know how can I fix it?</p>\n<p>.github\\workflows\\docker-publish.yml:-</p>\n<pre><code>name: Docker\n\non:\n  push:\n    branches: [ master ]\n    # Publish semver tags as releases.\n    tags: [ 'v*.*.*' ]\n  pull_request:\n    branches: [ master ]\n\nenv:\n  # Use docker.io for Docker Hub if empty\n  REGISTRY: ghcr.io\n  # github.repository as &lt;account&gt;/&lt;repo&gt;\n  IMAGE_NAME: ${{ github.repository }}\n  TAG: 'latest'\n    \njobs:\n  build:\n\n    runs-on: ubuntu-latest\n    permissions:\n      contents: read\n      packages: write\n      # This is used to complete the identity challenge\n      # with sigstore/fulcio when running outside of PRs.\n\n    steps:\n      - name: Checkout repository\n        uses: actions/checkout@v2\n        \n      - name: Cache local Maven repository\n        uses: actions/cache@v2\n        with:\n         path: ~/.m2/repository\n         key: ${{ runner.os }}-maven-${{ hashFiles('**/pom.xml') }}\n         restore-keys: |\n          ${{ runner.os }}-maven-\n          \n      - name: maven-settings-xml-action\n        uses: whelk-io/maven-settings-xml-action@v12\n        with:\n          repositories: '[{ &quot;id&quot;: &quot;github&quot;, &quot;name&quot;: &quot;Backend repo&quot;, &quot;url&quot;: &quot;https://maven.pkg.github.com/dcsaorg/Core&quot;, &quot;releases&quot;: { &quot;enabled&quot;: &quot;true&quot; }, &quot;snapshots&quot;: { &quot;enabled&quot;: &quot;true&quot; } }]'\n          servers: '[{ &quot;id&quot;: &quot;github&quot;, &quot;username&quot;: &quot;${{ secrets.USER }}&quot;, &quot;password&quot;: &quot;${{ secrets.PACKAGES_PAT }}&quot; }]'\n        \n      - name: Checkout org/TNT\n        uses: actions/checkout@v2\n        with:\n          repository: org/TNT\n          ref: master\n          token: ${{ secrets.REPO_ACCESS_PAT }}\n          path: TNT\n          \n      - name: Build TNT\n        run: cd TNT &amp;&amp; mvn install -DskipTests -X \n        \n      - name: build Toolkit\n        run:  mvn -B package -DskipTests -X\n        \n      - name: Extract Build tag\n        id: buildtag\n        run:  echo &quot;TAG=$(mvn org.apache.maven.plugins:maven-help-plugin:3.2.0:evaluate -Dexpression=project.version -q -DforceStdout)&quot;&gt;&gt; $GITHUB_ENV\n\n      # Build and push Docker image\n      # https://github.com/marketplace/actions/docker-build-push-action\n      - name: Build and push Docker image\n        uses: mr-smithers-excellent/docker-build-push@v5\n        with:          \n          image: consumer\n          tags: ${{ env.TAG }}, latest\n          registry: ghcr.io            \n          githubOrg: org\n          username: ${{ github.actor }}\n          password: ${{ secrets.USER_PACKAGES_PAT }}\n</code></pre>\n<p>Dockerfile</p>\n<pre><code>FROM eclipse-temurin:17-jre-alpine\nRUN mkdir -p /ctk\nCOPY target/ctk_consumer-*.jar /ctk/ctk_consumer.jar\nWORKDIR /ctk/\nENTRYPOINT java -jar ctk_consumer.jar\n</code></pre>\n<p>Error:-</p>\n<p>Error:  Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project ctk_consumer: Fatal error compiling: error: invalid target release: 17 -&gt; [Help 1]</p>\n<p><strong>Updated pom.xml after the suggestion:-</strong></p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.10.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;17&lt;/source&gt;\n                &lt;target&gt;17&lt;/target&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                        &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;version&gt;${lombok.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                        &lt;version&gt;0.2.0&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p><strong>Updated full pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;org.company&lt;/groupId&gt;\n    &lt;artifactId&gt;ctk_consumer&lt;/artifactId&gt;\n    &lt;version&gt;0.0.2&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;ctk_consumer&lt;/name&gt;\n    &lt;description&gt;ctk consumer&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;dcsa.tnt.version&gt;0.0.1&lt;/dcsa.tnt.version&gt;\n        &lt;dcsa.artifacttype&gt;-SNAPSHOT&lt;/dcsa.artifacttype&gt;\n        &lt;lombok.version&gt;1.18.22&lt;/lombok.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;4.5.13&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\n            &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\n            &lt;version&gt;5.0.9&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":446042,"reputation":12428,"user_id":838841,"accept_rate":100,"display_name":"Shreyos Adikari"},"score":1,"creation_date":1369734599,"post_id":16788937,"comment_id":24193177,"body_markdown":"What you have tried so far?","body":"What you have tried so far?"},{"owner":{"account_id":2683526,"reputation":121,"user_id":2318353,"accept_rate":80,"display_name":"Morilla Thaisa"},"score":0,"creation_date":1369813095,"post_id":16788937,"comment_id":24226466,"body_markdown":"@Shreyos I&#39;ve tried using `NumberFormat.getCurrencyInstance()` and then split its result by `,`.","body":"@Shreyos I&#39;ve tried using <code>NumberFormat.getCurrencyInstance()</code> and then split its result by <code>,</code>."},{"owner":{"account_id":2683526,"reputation":121,"user_id":2318353,"accept_rate":80,"display_name":"Morilla Thaisa"},"score":0,"creation_date":1369813184,"post_id":16788937,"comment_id":24226514,"body_markdown":"@Er My need is reading/span the string from the end not the beginning (index = 0)","body":"@Er My need is reading/span the string from the end not the beginning (index = 0)"},{"owner":{"account_id":1299099,"reputation":26248,"user_id":2218452,"accept_rate":36,"display_name":"Nikhil Agrawal"},"score":0,"creation_date":1369815129,"post_id":16788937,"comment_id":24227505,"body_markdown":"@Morilla Thaisa If you get the logic from that post then its not a big task.. After all you are a programmer na","body":"@Morilla Thaisa If you get the logic from that post then its not a big task.. After all you are a programmer na"}],"answers":[{"tags":[],"owner":{"account_id":391434,"reputation":4689,"user_id":752102,"accept_rate":85,"display_name":"Massimo Variolo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369735139,"creation_date":1369734781,"answer_id":16789023,"question_id":16788937,"body_markdown":"Have you tried something?\r\n\r\nYou can `split()` your strings when a char is uppercase or a digit using `isUpperCase(char c)` and `Character.isDigit(char c)` in a for cycle.","title":"How to split string into array of three characters, and the splitting start from the end of the string","body":"<p>Have you tried something?</p>\n\n<p>You can <code>split()</code> your strings when a char is uppercase or a digit using <code>isUpperCase(char c)</code> and <code>Character.isDigit(char c)</code> in a for cycle.</p>\n"},{"tags":[],"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1369735360,"creation_date":1369735031,"answer_id":16789116,"question_id":16788937,"body_markdown":"This should suit your needs ([demo](http://regexr.com?35148)):\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    (?&lt;=[A-Z])(?=[^A-Z])|(?&lt;=[a-z])(?=[^a-z])|(?&lt;=[0-9])(?=[^0-9])\r\n\r\n`(?&lt;=[A-Z])(?=[^A-Z])` means &quot;any *inter-char* preceded by an uppercased char followed by any char but an uppercased one&quot;.\r\n\r\nThe same logic is applied for lowercased char and numbers.","title":"How to split string into array of three characters, and the splitting start from the end of the string","body":"<p>This should suit your needs (<a href=\"http://regexr.com?35148\" rel=\"nofollow\">demo</a>):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>(?&lt;=[A-Z])(?=[^A-Z])|(?&lt;=[a-z])(?=[^a-z])|(?&lt;=[0-9])(?=[^0-9])\n</code></pre>\n\n<p><code>(?&lt;=[A-Z])(?=[^A-Z])</code> means \"any <em>inter-char</em> preceded by an uppercased char followed by any char but an uppercased one\".</p>\n\n<p>The same logic is applied for lowercased char and numbers.</p>\n"},{"tags":[],"owner":{"account_id":55050,"reputation":190509,"user_id":164835,"accept_rate":80,"display_name":"Kent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369735673,"creation_date":1369735348,"answer_id":16789238,"question_id":16788937,"body_markdown":"try this line:\r\n\r\n    s.split(&quot;(?&lt;![a-z])(?=[a-z])|(?&lt;=[a-z])(?![a-z])&quot;)\r\n\r\nwith your example, it outputs:\r\n\r\n    String s = &quot;Aabc123def457ghi123jkl950asd489are&quot;;\r\n    System.out.println(Arrays.toString(s.split(&quot;(?&lt;![a-z])(?=[a-z])|(?&lt;=[a-z])(?![a-z])&quot;)));\r\n    \r\n    [A, abc, 123, def, 457, ghi, 123, jkl, 950, asd, 489, are]\r\n\r\nIf I read your question title twice:\r\n\r\n&gt;How to split string into array of **three** characters\r\n\r\nit could be:\r\n\r\n    s.split(&quot;(?=[a-z]{3})|(?&lt;=[a-z]{3})&quot;)\r\n\r\noutput is the same\r\n\r\n\r\n\r\n\r\n","title":"How to split string into array of three characters, and the splitting start from the end of the string","body":"<p>try this line:</p>\n\n<pre><code>s.split(\"(?&lt;![a-z])(?=[a-z])|(?&lt;=[a-z])(?![a-z])\")\n</code></pre>\n\n<p>with your example, it outputs:</p>\n\n<pre><code>String s = \"Aabc123def457ghi123jkl950asd489are\";\nSystem.out.println(Arrays.toString(s.split(\"(?&lt;![a-z])(?=[a-z])|(?&lt;=[a-z])(?![a-z])\")));\n\n[A, abc, 123, def, 457, ghi, 123, jkl, 950, asd, 489, are]\n</code></pre>\n\n<p>If I read your question title twice:</p>\n\n<blockquote>\n  <p>How to split string into array of <strong>three</strong> characters</p>\n</blockquote>\n\n<p>it could be:</p>\n\n<pre><code>s.split(\"(?=[a-z]{3})|(?&lt;=[a-z]{3})\")\n</code></pre>\n\n<p>output is the same</p>\n"},{"tags":[],"owner":{"account_id":1283501,"reputation":51335,"user_id":1237040,"display_name":"Ravi K Thapliyal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369832661,"creation_date":1369736049,"answer_id":16789463,"question_id":16788937,"body_markdown":"**Java regex code**\r\n\r\n    String regex =\r\n           &quot;(?&lt;=[A-Z])(?![A-Z])|(?&lt;=[a-z])(?![a-z])|(?&lt;=[0-9])(?![0-9])&quot;;\r\n\tSystem.out.println(\r\n\t\tArrays.toString(\r\n\t\t\t&quot;Aabc123def457ghi123jkl950asd489are&quot;.split(regex)));\r\n\tSystem.out.println(\r\n\t\tArrays.toString(&quot;AB950asd489are&quot;.split(regex)));\r\n\tSystem.out.println(\r\n\t\tArrays.toString(&quot;ABC950asd489are&quot;.split(regex)));\r\n\r\n**Output**\r\n\r\n    [A, abc, 123, def, 457, ghi, 123, jkl, 950, asd, 489, are]\r\n    [AB, 950, asd, 489, are]\r\n    [ABC, 950, asd, 489, are]\r\n&lt;br/&gt;\r\n**Improving Performance**\r\n&lt;br /&gt;&lt;br /&gt;\r\nIf you&#39;re supposed to be applying this regex parsing in a lopp for a lot many of such input strings it&#39;s not recommended to use `String.split()`. Why? Because `split()` compiles the regex on every call even when your regex hasn&#39;t changed a bit. Internally, it works somewhat as\r\n\r\n    Pattern.compile(regex).split(strInput);\r\n\r\nSo, to improve our performance we can pre-compile the regex once and then split as many number of times as we like without the added overhead of compilation at every `split()` now.\r\n\r\n    Pattern regex = Pattern.compile(\r\n                    &quot;(?&lt;=[A-Z])(?![A-Z])|(?&lt;=[a-z])(?![a-z])|(?&lt;=[0-9])(?![0-9])&quot;);\r\n\r\n    String[] input = {&quot;Aabc123def457ghi123jkl950asd489are&quot;,\r\n                      &quot;AB950asd489are&quot;, &quot;ABC950asd489are&quot;};\r\n\r\n    for (String strInput : input)\r\n        System.out.println (Arrays.toString (regex.split (strInput)));\r\n","title":"How to split string into array of three characters, and the splitting start from the end of the string","body":"<p><strong>Java regex code</strong></p>\n\n<pre><code>String regex =\n       \"(?&lt;=[A-Z])(?![A-Z])|(?&lt;=[a-z])(?![a-z])|(?&lt;=[0-9])(?![0-9])\";\nSystem.out.println(\n    Arrays.toString(\n        \"Aabc123def457ghi123jkl950asd489are\".split(regex)));\nSystem.out.println(\n    Arrays.toString(\"AB950asd489are\".split(regex)));\nSystem.out.println(\n    Arrays.toString(\"ABC950asd489are\".split(regex)));\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>[A, abc, 123, def, 457, ghi, 123, jkl, 950, asd, 489, are]\n[AB, 950, asd, 489, are]\n[ABC, 950, asd, 489, are]\n</code></pre>\n\n<p><br/>\n<strong>Improving Performance</strong>\n<br /><br />\nIf you're supposed to be applying this regex parsing in a lopp for a lot many of such input strings it's not recommended to use <code>String.split()</code>. Why? Because <code>split()</code> compiles the regex on every call even when your regex hasn't changed a bit. Internally, it works somewhat as</p>\n\n<pre><code>Pattern.compile(regex).split(strInput);\n</code></pre>\n\n<p>So, to improve our performance we can pre-compile the regex once and then split as many number of times as we like without the added overhead of compilation at every <code>split()</code> now.</p>\n\n<pre><code>Pattern regex = Pattern.compile(\n                \"(?&lt;=[A-Z])(?![A-Z])|(?&lt;=[a-z])(?![a-z])|(?&lt;=[0-9])(?![0-9])\");\n\nString[] input = {\"Aabc123def457ghi123jkl950asd489are\",\n                  \"AB950asd489are\", \"ABC950asd489are\"};\n\nfor (String strInput : input)\n    System.out.println (Arrays.toString (regex.split (strInput)));\n</code></pre>\n"}],"owner":{"account_id":2683526,"reputation":121,"user_id":2318353,"accept_rate":80,"display_name":"Morilla Thaisa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":458,"favorite_count":0,"down_vote_count":5,"up_vote_count":3,"closed_date":1369817903,"accepted_answer_id":16789116,"answer_count":4,"score":-2,"last_activity_date":1685111725,"creation_date":1369734540,"question_id":16788937,"body_markdown":"**EDIT**: Previously marked as duplicated. But the reporters seems don&#39;t understand my question.\r\n\r\nI have the string data like \r\n\r\n    Aabc123def457ghi123jkl950asd489are - has no space or character for splitting\r\n    AB950asd489are\r\n    ABC950asd489are\r\n\r\nand I want to split--**EDIT**:*not just splitting each string by a character or string, since the splitting that I need was between alpha and numeric characters*--those into arrays of strings like this\r\n\r\n    &quot;Aabc123def457ghi123jkl950asd489are&quot; =&gt; [A,abc,123,def,457,ghi,123,jkl,950,asd,489,are] (can we use String.split method? nope)\r\n    &quot;AB950asd489are&quot; =&gt; [AB,950,asd,489,are]\r\n    &quot;ABC950asd489are&quot; =&gt; [ABC,950,asd,489,are]\r\n\r\nJust like a currency formatter with comma `,` and split it into array. I need to find a regex for that, or is there any way to do that?","title":"How to split string into array of three characters, and the splitting start from the end of the string","body":"<p><strong>EDIT</strong>: Previously marked as duplicated. But the reporters seems don't understand my question.</p>\n\n<p>I have the string data like </p>\n\n<pre><code>Aabc123def457ghi123jkl950asd489are - has no space or character for splitting\nAB950asd489are\nABC950asd489are\n</code></pre>\n\n<p>and I want to split--<strong>EDIT</strong>:<em>not just splitting each string by a character or string, since the splitting that I need was between alpha and numeric characters</em>--those into arrays of strings like this</p>\n\n<pre><code>\"Aabc123def457ghi123jkl950asd489are\" =&gt; [A,abc,123,def,457,ghi,123,jkl,950,asd,489,are] (can we use String.split method? nope)\n\"AB950asd489are\" =&gt; [AB,950,asd,489,are]\n\"ABC950asd489are\" =&gt; [ABC,950,asd,489,are]\n</code></pre>\n\n<p>Just like a currency formatter with comma <code>,</code> and split it into array. I need to find a regex for that, or is there any way to do that?</p>\n"},{"tags":["java","javascript","jsp","scriptlet"],"comments":[{"owner":{"account_id":2281958,"reputation":2224,"user_id":2006839,"accept_rate":67,"display_name":"Lakshmi"},"score":0,"creation_date":1388743699,"post_id":20900931,"comment_id":31372082,"body_markdown":"you can use console.log(&quot;&quot;); for client side logging. And if required you can log errors using the link above. Otherwise i am afraid simple logging from client side to server site cannot be achieved.","body":"you can use console.log(&quot;&quot;); for client side logging. And if required you can log errors using the link above. Otherwise i am afraid simple logging from client side to server site cannot be achieved."}],"answers":[{"tags":[],"owner":{"account_id":1334061,"reputation":12962,"user_id":1277252,"accept_rate":89,"display_name":"Moritz Petersen"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1388743164,"creation_date":1388743164,"answer_id":20900950,"question_id":20900931,"body_markdown":"Use:\r\n\r\n    console.log(&#39;Hello World!&#39;);","title":"how to print values in console using scriplet in javascript while a function is called","body":"<p>Use:</p>\n\n<pre><code>console.log('Hello World!');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1685111528,"creation_date":1388743188,"answer_id":20900962,"question_id":20900931,"body_markdown":"     System.out.println (&quot;test&quot;);\r\n\r\nThat is java and you cannot execute that on client side.\r\n\r\nYou might looking for \r\n\r\n    console.log(&quot;&quot;);\r\n\r\nAnd while page loading it&#39;s printing because the jsp you are submitting processing on server side and java code executes there.\r\n","title":"how to print values in console using scriplet in javascript while a function is called","body":"<pre><code> System.out.println (&quot;test&quot;);\n</code></pre>\n<p>That is java and you cannot execute that on client side.</p>\n<p>You might looking for</p>\n<pre><code>console.log(&quot;&quot;);\n</code></pre>\n<p>And while page loading it's printing because the jsp you are submitting processing on server side and java code executes there.</p>\n"}],"owner":{"account_id":3803698,"reputation":73,"user_id":3156648,"display_name":"hemalatha karunakaran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72788,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"closed_date":1388747140,"accepted_answer_id":20900962,"answer_count":2,"score":7,"last_activity_date":1685111528,"creation_date":1388743096,"question_id":20900931,"body_markdown":"How to print values in console (like `System.out.println()` in `java`) using `scriplet` in `javascript` while a function is called ? if i used `System.out.println(&quot;test&quot;)` in `scriplet` the values is getting printed while a `jsp` form is loading but i want it to print only when a java script is called.","title":"how to print values in console using scriplet in javascript while a function is called","body":"<p>How to print values in console (like <code>System.out.println()</code> in <code>java</code>) using <code>scriplet</code> in <code>javascript</code> while a function is called ? if i used <code>System.out.println(\"test\")</code> in <code>scriplet</code> the values is getting printed while a <code>jsp</code> form is loading but i want it to print only when a java script is called.</p>\n"},{"tags":["java","groovy","sap-commerce-cloud"],"answers":[{"tags":[],"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685111078,"creation_date":1685111078,"answer_id":76341740,"question_id":76340969,"body_markdown":"I recommend to have a singleton of GroovyShell for a context because parsing/compiling groovy takes a lot of time.\r\n\r\n---\r\n\r\nHow to run your code correctly from java:\r\n\r\nmake folder structure for groovy classes:\r\n\r\n```\r\n/groovy-root\r\n  /test\r\n    Helper.groovy\r\n    Test.groovy\r\n```\r\npackage name must correspond to a folder inside some root folder that we are going to add as a classpath.\r\n\r\n\r\nthen java code will look like:\r\n```lang-java\r\nimport groovy.lang.GroovyShell;\r\n\r\npublic class A{\r\n\tpublic static void main(String[] args) {\r\n\t\tGroovyShell shell = new GroovyShell(A.class.getClassLoader());\r\n\t\tshell.getClassLoader().addClasspath(&quot;./groovy-root&quot;);\r\n        // this line will load all required classes to execute script\r\n\t\tshell.evaluate(&quot;test.Test.test()&quot;); \r\n\t}\r\n}\r\n```\r\n\r\n---\r\n\r\nI&#39;m not familiar with SAP, but there is an existing groovy context in there, just add `&quot;./groovy-root&quot;` folder into a classpath and you are all set.","title":"Groovy cannot resolve Classes from other Groovy files","body":"<p>I recommend to have a singleton of GroovyShell for a context because parsing/compiling groovy takes a lot of time.</p>\n<hr />\n<p>How to run your code correctly from java:</p>\n<p>make folder structure for groovy classes:</p>\n<pre><code>/groovy-root\n  /test\n    Helper.groovy\n    Test.groovy\n</code></pre>\n<p>package name must correspond to a folder inside some root folder that we are going to add as a classpath.</p>\n<p>then java code will look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import groovy.lang.GroovyShell;\n\npublic class A{\n    public static void main(String[] args) {\n        GroovyShell shell = new GroovyShell(A.class.getClassLoader());\n        shell.getClassLoader().addClasspath(&quot;./groovy-root&quot;);\n        // this line will load all required classes to execute script\n        shell.evaluate(&quot;test.Test.test()&quot;); \n    }\n}\n</code></pre>\n<hr />\n<p>I'm not familiar with SAP, but there is an existing groovy context in there, just add <code>&quot;./groovy-root&quot;</code> folder into a classpath and you are all set.</p>\n"}],"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685111078,"creation_date":1685105148,"question_id":76340969,"body_markdown":"I am trying to create a groovy context programatically and add multiple scripts to it.\r\n\r\nThis is a simplified version but it should explain the problem:\r\n\r\n\r\n**test/Helper.groovy**\r\n```groovy\r\npackage test\r\n\r\nclass Helper {\r\n    static void help() {\r\n        // Do something\r\n    }\r\n}\r\n\r\n```\r\n\r\n**test/Test.groovy**\r\n\r\n```groovy\r\npackage test\r\n\r\nclass Test {\r\n    static void test() {\r\n        Helper.help()\r\n    }\r\n}\r\n```\r\n\r\nThe context is build with this java code:\r\n\r\n\r\n```java\r\npublic class Runner {\r\n    public static void main(String[] args) throws IOException {\r\n        GroovyShell shell = new GroovyShell(Runner.class.getClassLoader(), new Binding(), CompilerConfiguration.DEFAULT);\r\n        \r\n        load(shell, &quot;/test/Test.groovy&quot;);\r\n        load(shell, &quot;/test/Helper.groovy&quot;);\r\n    }\r\n\r\n    private static void load(GroovyShell shell, String name) throws IOException {\r\n        try(var script = Runner.class.getResourceAsStream(name)) {\r\n            String scriptSrc = new String(script.readAllBytes(), StandardCharsets.UTF_8);\r\n            shell.parse(scriptSrc, name);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**!!! Intentionally I load the scripts in an arbitrary order.**\r\n\r\n\r\n---\r\n\r\nIf I run this code locally everything works fine.\r\n\r\nRunning this code inside SAP Commerce (essentially a tomcat with spring and other stuff) throws an error:\r\n\r\n```text\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n...\r\nCaused by: org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:\r\nTest.groovy: 5: Apparent variable &#39;Helper&#39; was found in a static scope but doesn&#39;t refer to a local variable, static field or class. Possible causes:\r\nYou attempted to reference a variable in the binding or an instance variable from a static context.\r\nYou misspelled a classname or statically imported field. Please check the spelling.\r\nYou attempted to use a method &#39;Helper&#39; but left out brackets in a place not allowed by the grammar.\r\n\r\n        at org.codehaus.groovy.control.ErrorCollector.failIfErrors(ErrorCollector.java:292) ~[groovy-2.5.14.jar:2.5.14]\r\n        at org.codehaus.groovy.control.CompilationUnit$IPrimaryClassNodeOperation.doPhaseOperation(CompilationUnit.java:979) ~[groovy-4.0.2.jar:2.5.14]\r\n        at org.codehaus.groovy.control.CompilationUnit.processPhaseOperations(CompilationUnit.java:692) ~[groovy-2.5.14.jar:2.5.14]\r\n        at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:666) ~[groovy-2.5.14.jar:2.5.14]\r\n        at groovy.lang.GroovyClassLoader.doParseClass(GroovyClassLoader.java:373) ~[groovy-2.5.14.jar:2.5.14]\r\n        at groovy.lang.GroovyClassLoader.lambda$parseClass$2(GroovyClassLoader.java:316) ~[groovy-2.5.14.jar:2.5.14]\r\n        at org.codehaus.groovy.runtime.memoize.StampedCommonCache.compute(StampedCommonCache.java:163) ~[groovy-2.5.14.jar:2.5.14]\r\n        at org.codehaus.groovy.runtime.memoize.StampedCommonCache.getAndPut(StampedCommonCache.java:154) ~[groovy-2.5.14.jar:2.5.14]\r\n        at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:314) ~[groovy-2.5.14.jar:2.5.14]\r\n        at groovy.lang.GroovyShell.parseClass(GroovyShell.java:553) ~[groovy-2.5.14.jar:2.5.14]\r\n        at groovy.lang.GroovyShell.parse(GroovyShell.java:566) ~[groovy-2.5.14.jar:2.5.14]\r\n        at groovy.lang.GroovyShell.parse(GroovyShell.java:620) ~[groovy-2.5.14.jar:2.5.14]\r\n        at groovy.lang.GroovyShell.parse(GroovyShell.java:624) ~[groovy-2.5.14.jar:2.5.14]\r\n\r\n```\r\n\r\nSince we have more groovy scripts in our environment and by the way we designed the application I cannot put them in the right order.\r\n\r\n---\r\n\r\nWhat can cause this behavior from groovy? \r\n\r\nI am not aware of something like a security manager ect. enabled in the tomcat.\r\n\r\n\r\nTested with groovy 2.5.14","title":"Groovy cannot resolve Classes from other Groovy files","body":"<p>I am trying to create a groovy context programatically and add multiple scripts to it.</p>\n<p>This is a simplified version but it should explain the problem:</p>\n<p><strong>test/Helper.groovy</strong></p>\n<pre><code>package test\n\nclass Helper {\n    static void help() {\n        // Do something\n    }\n}\n\n</code></pre>\n<p><strong>test/Test.groovy</strong></p>\n<pre><code>package test\n\nclass Test {\n    static void test() {\n        Helper.help()\n    }\n}\n</code></pre>\n<p>The context is build with this java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Runner {\n    public static void main(String[] args) throws IOException {\n        GroovyShell shell = new GroovyShell(Runner.class.getClassLoader(), new Binding(), CompilerConfiguration.DEFAULT);\n        \n        load(shell, &quot;/test/Test.groovy&quot;);\n        load(shell, &quot;/test/Helper.groovy&quot;);\n    }\n\n    private static void load(GroovyShell shell, String name) throws IOException {\n        try(var script = Runner.class.getResourceAsStream(name)) {\n            String scriptSrc = new String(script.readAllBytes(), StandardCharsets.UTF_8);\n            shell.parse(scriptSrc, name);\n        }\n    }\n}\n</code></pre>\n<p><strong>!!! Intentionally I load the scripts in an arbitrary order.</strong></p>\n<hr />\n<p>If I run this code locally everything works fine.</p>\n<p>Running this code inside SAP Commerce (essentially a tomcat with spring and other stuff) throws an error:</p>\n<pre><code>Caused by: java.lang.reflect.InvocationTargetException\n...\nCaused by: org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:\nTest.groovy: 5: Apparent variable 'Helper' was found in a static scope but doesn't refer to a local variable, static field or class. Possible causes:\nYou attempted to reference a variable in the binding or an instance variable from a static context.\nYou misspelled a classname or statically imported field. Please check the spelling.\nYou attempted to use a method 'Helper' but left out brackets in a place not allowed by the grammar.\n\n        at org.codehaus.groovy.control.ErrorCollector.failIfErrors(ErrorCollector.java:292) ~[groovy-2.5.14.jar:2.5.14]\n        at org.codehaus.groovy.control.CompilationUnit$IPrimaryClassNodeOperation.doPhaseOperation(CompilationUnit.java:979) ~[groovy-4.0.2.jar:2.5.14]\n        at org.codehaus.groovy.control.CompilationUnit.processPhaseOperations(CompilationUnit.java:692) ~[groovy-2.5.14.jar:2.5.14]\n        at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:666) ~[groovy-2.5.14.jar:2.5.14]\n        at groovy.lang.GroovyClassLoader.doParseClass(GroovyClassLoader.java:373) ~[groovy-2.5.14.jar:2.5.14]\n        at groovy.lang.GroovyClassLoader.lambda$parseClass$2(GroovyClassLoader.java:316) ~[groovy-2.5.14.jar:2.5.14]\n        at org.codehaus.groovy.runtime.memoize.StampedCommonCache.compute(StampedCommonCache.java:163) ~[groovy-2.5.14.jar:2.5.14]\n        at org.codehaus.groovy.runtime.memoize.StampedCommonCache.getAndPut(StampedCommonCache.java:154) ~[groovy-2.5.14.jar:2.5.14]\n        at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:314) ~[groovy-2.5.14.jar:2.5.14]\n        at groovy.lang.GroovyShell.parseClass(GroovyShell.java:553) ~[groovy-2.5.14.jar:2.5.14]\n        at groovy.lang.GroovyShell.parse(GroovyShell.java:566) ~[groovy-2.5.14.jar:2.5.14]\n        at groovy.lang.GroovyShell.parse(GroovyShell.java:620) ~[groovy-2.5.14.jar:2.5.14]\n        at groovy.lang.GroovyShell.parse(GroovyShell.java:624) ~[groovy-2.5.14.jar:2.5.14]\n\n</code></pre>\n<p>Since we have more groovy scripts in our environment and by the way we designed the application I cannot put them in the right order.</p>\n<hr />\n<p>What can cause this behavior from groovy?</p>\n<p>I am not aware of something like a security manager ect. enabled in the tomcat.</p>\n<p>Tested with groovy 2.5.14</p>\n"},{"tags":["java","snowflake-cloud-data-platform","connection","connection-pooling"],"owner":{"account_id":27542688,"reputation":39,"user_id":21019175,"display_name":"World of Titans"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685110952,"creation_date":1685109324,"question_id":76341510,"body_markdown":"\r\n\r\nWe are connecting to snowflake from Java application using encrypted private key(this encrypted private key comes from  SNOWSQL_PRIVATE_KEY_PASSPHRASE and private_key which is an API call which will get dynamically)\r\n        \r\n    SnowflakeBasicDataSource snowflakeDataSource = new SnowflakeBasicDataSource();\r\n        snowflakeDataSource.setUrl(jdbcAccountURL);\r\n        snowflakeDataSource.setPrivateKey(encryptedPrivateKey);\r\n            \t\r\n How to do connection pooling using SnowflakeBasicDataSource.I have read some where to use SnowflakeConnectionPoolDataSource.\r\n    \r\nOur goal is use to reuse the existing connections.if the current connection is invalidated or any issue with the existing connection then only get the new connection for snowflake.\r\n    \r\n Could you please suggest in this scenario how to do connection pooling using SnowflakeConnectionPoolDataSource and get a new connection if the current connection is not valid.","title":"Connection pooling for Snowflake in Java","body":"<p>We are connecting to snowflake from Java application using encrypted private key(this encrypted private key comes from  SNOWSQL_PRIVATE_KEY_PASSPHRASE and private_key which is an API call which will get dynamically)</p>\n<pre><code>SnowflakeBasicDataSource snowflakeDataSource = new SnowflakeBasicDataSource();\n    snowflakeDataSource.setUrl(jdbcAccountURL);\n    snowflakeDataSource.setPrivateKey(encryptedPrivateKey);\n            \n</code></pre>\n<p>How to do connection pooling using SnowflakeBasicDataSource.I have read some where to use SnowflakeConnectionPoolDataSource.</p>\n<p>Our goal is use to reuse the existing connections.if the current connection is invalidated or any issue with the existing connection then only get the new connection for snowflake.</p>\n<p>Could you please suggest in this scenario how to do connection pooling using SnowflakeConnectionPoolDataSource and get a new connection if the current connection is not valid.</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":13004762,"reputation":141,"user_id":9399653,"display_name":"Suresh Madhusanka Rodrigo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685110879,"creation_date":1685110879,"answer_id":76341720,"question_id":76340905,"body_markdown":"I do not think it is possible to do by navigating to only one of the page in the web site.\r\n\r\nWhat you can do is for each page you visit you can retrieve the web links separately.\r\n\r\nThen combine all these list together into one list and print it as shown below.\r\n\r\n    // Get all the available Links in Web Page A\r\n        List&lt;WebElement&gt; linksA = driver.findElements(By.tagName(&quot;a&quot;));\r\n    \r\n    // Get all the available Links in Web Page B\r\n        List&lt;WebElement&gt; linksB = driver.findElements(By.tagName(&quot;a&quot;));\r\n    \r\n    // Combine the two list into one list\r\n        List&lt;String&gt; combineList = Stream.concat(linksA.stream(), linksB.stream()).toList();\r\n    \r\n    // Iterating through all the Links and printing link\r\n        \r\n        for (WebElement link : combineList) {\r\n            System.out.println(link.getText());\r\n    \t\tSystem.out.println(link.getAttribute(&quot;href&quot;));\r\n        }\r\n\r\nAnother solution is when visiting each web page you can use the same variable to add the URLs, so we do not need to combine each list.\r\n\r\n","title":"Get all links of website using Selenium webdriver (java)","body":"<p>I do not think it is possible to do by navigating to only one of the page in the web site.</p>\n<p>What you can do is for each page you visit you can retrieve the web links separately.</p>\n<p>Then combine all these list together into one list and print it as shown below.</p>\n<pre><code>// Get all the available Links in Web Page A\n    List&lt;WebElement&gt; linksA = driver.findElements(By.tagName(&quot;a&quot;));\n\n// Get all the available Links in Web Page B\n    List&lt;WebElement&gt; linksB = driver.findElements(By.tagName(&quot;a&quot;));\n\n// Combine the two list into one list\n    List&lt;String&gt; combineList = Stream.concat(linksA.stream(), linksB.stream()).toList();\n\n// Iterating through all the Links and printing link\n    \n    for (WebElement link : combineList) {\n        System.out.println(link.getText());\n        System.out.println(link.getAttribute(&quot;href&quot;));\n    }\n</code></pre>\n<p>Another solution is when visiting each web page you can use the same variable to add the URLs, so we do not need to combine each list.</p>\n"}],"owner":{"account_id":26164749,"reputation":1,"user_id":19850733,"display_name":"Chinmay Agrawal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1685374704,"answer_count":1,"score":-2,"last_activity_date":1685110879,"creation_date":1685104656,"question_id":76340905,"body_markdown":"Using selenium webdriver (java), I want to get all links of a given website, all pages. How can I do this?\r\n\r\nI am being able to do for a particular web page of the website but, not the full website. Can someone please help me with this?","title":"Get all links of website using Selenium webdriver (java)","body":"<p>Using selenium webdriver (java), I want to get all links of a given website, all pages. How can I do this?</p>\n<p>I am being able to do for a particular web page of the website but, not the full website. Can someone please help me with this?</p>\n"},{"tags":["java","floating-point","double"],"comments":[{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"score":1,"creation_date":1685087440,"post_id":76338719,"comment_id":134615101,"body_markdown":"you should never compare double primitive types using &#39;==&#39;","body":"you should never compare double primitive types using &#39;==&#39;"},{"owner":{"account_id":28367824,"reputation":73,"user_id":21696871,"display_name":"fnymmm"},"score":0,"creation_date":1685087544,"post_id":76338719,"comment_id":134615128,"body_markdown":"Here&#39;s an interesting [link](https://www.baeldung.com/java-comparing-doubles) for you. It explains why you cant use &#39;&#39;&#39;==&#39;&#39;&#39;&#39;","body":"Here&#39;s an interesting <a href=\"https://www.baeldung.com/java-comparing-doubles\" rel=\"nofollow noreferrer\">link</a> for you. It explains why you cant use &#39;&#39;&#39;==&#39;&#39;&#39;&#39;"},{"owner":{"account_id":5400331,"reputation":623,"user_id":4300403,"accept_rate":0,"display_name":"zhoudu"},"score":0,"creation_date":1685087710,"post_id":76338719,"comment_id":134615160,"body_markdown":"Yeah, I know that in most cases I should not use &quot;==&quot; for floating-point numbers, because they are often not exact. But here I use &quot;==&quot;, in order to understand floating-point numbers more deeply.","body":"Yeah, I know that in most cases I should not use &quot;==&quot; for floating-point numbers, because they are often not exact. But here I use &quot;==&quot;, in order to understand floating-point numbers more deeply."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":6,"creation_date":1685088197,"post_id":76338719,"comment_id":134615257,"body_markdown":"The strange result is a direct consequence of the thing that you say that you understand.  If you want a deeper understanding, you need to understand the mathematics.  One place to start is: [What Every Computer Scientist Should\nKnow About Floating-Point Arithmetic](https://docs.oracle.com/cd/E19957-01/800-7895/800-7895.pdf).  Read it, and then read it again ... until you understand it.","body":"The strange result is a direct consequence of the thing that you say that you understand.  If you want a deeper understanding, you need to understand the mathematics.  One place to start is: <a href=\"https://docs.oracle.com/cd/E19957-01/800-7895/800-7895.pdf\" rel=\"nofollow noreferrer\">What Every Computer Scientist Should Know About Floating-Point Arithmetic</a>.  Read it, and then read it again ... until you understand it."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1685088857,"post_id":76338719,"comment_id":134615385,"body_markdown":"(1) No. Call `System.out.println(new BigDecimal(num))` to see the exact value of `num`. (2) Do the same for `result2`. (3) See the Javadoc of [`Double#toString(double)`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Double.html#toString(double)). (4) Do the same as for question 1 and 2, but for `result1`. (5) Answered already. (Bonus) Read the link provided by Stephen to understand the results.","body":"(1) No. Call <code>System.out.println(new BigDecimal(num))</code> to see the exact value of <code>num</code>. (2) Do the same for <code>result2</code>. (3) See the Javadoc of <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Double.html#toString(double)\" rel=\"nofollow noreferrer\"><code>Double#toString(double)</code></a>. (4) Do the same as for question 1 and 2, but for <code>result1</code>. (5) Answered already. (Bonus) Read the link provided by Stephen to understand the results."},{"owner":{"account_id":5400331,"reputation":623,"user_id":4300403,"accept_rate":0,"display_name":"zhoudu"},"score":0,"creation_date":1685088960,"post_id":76338719,"comment_id":134615407,"body_markdown":"@Slaw So, why is the direct String output of &quot;num&quot; not this? Is it because Java rounds it? But &quot;result2&quot; is not rounded. This is strange.","body":"@Slaw So, why is the direct String output of &quot;num&quot; not this? Is it because Java rounds it? But &quot;result2&quot; is not rounded. This is strange."},{"owner":{"account_id":399622,"reputation":4097,"user_id":765091,"display_name":"slothrop"},"score":0,"creation_date":1685090026,"post_id":76338719,"comment_id":134615658,"body_markdown":"*&quot;Is the value of &quot;num&quot; 0.3 (exactly)?&quot;* No. As you say, *&quot;binary (base 2) floating-point numbers cannot represent some decimal numbers exactly&quot;*. This is an example of a number that cannot be exactly represented, because no integers `p` and `q` exist such that `p * 2^q = 0.3`.","body":"<i>&quot;Is the value of &quot;num&quot; 0.3 (exactly)?&quot;</i> No. As you say, <i>&quot;binary (base 2) floating-point numbers cannot represent some decimal numbers exactly&quot;</i>. This is an example of a number that cannot be exactly represented, because no integers <code>p</code> and <code>q</code> exist such that <code>p * 2^q = 0.3</code>."},{"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"score":0,"creation_date":1685107892,"post_id":76338719,"comment_id":134619418,"body_markdown":"Floating-point arithmetic does *not* always obey the laws of mathematics.  a + a + a + … + a is *not* always equal to a &#215; N, due to rounding.  (Addition isn&#39;t associative, either: (a + b) + c may be different from a + (b + c).)","body":"Floating-point arithmetic does <i>not</i> always obey the laws of mathematics.  a + a + a + … + a is <i>not</i> always equal to a &#215; N, due to rounding.  (Addition isn&#39;t associative, either: (a + b) + c may be different from a + (b + c).)"},{"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"score":0,"creation_date":1685108402,"post_id":76338719,"comment_id":134619559,"body_markdown":"You thought you knew that binary floating-point numbers cannot represent some (really most) decimal numbers exactly.  But you have not yet understood all of the implications of this fact.  You thought you were computing things like a + b.  But you were *actually* computing a&#39; ⊕ b&#39;, where a&#39; and b&#39; are the binary approximations to a and b, and where ⊕ is floating-point addition, which is slightly different than mathematical addition.  Furthermore, after computing a result, Java converted it back to decimal for you, resulting in another approximation.","body":"You thought you knew that binary floating-point numbers cannot represent some (really most) decimal numbers exactly.  But you have not yet understood all of the implications of this fact.  You thought you were computing things like a + b.  But you were <i>actually</i> computing a&#39; ⊕ b&#39;, where a&#39; and b&#39; are the binary approximations to a and b, and where ⊕ is floating-point addition, which is slightly different than mathematical addition.  Furthermore, after computing a result, Java converted it back to decimal for you, resulting in another approximation."},{"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"score":0,"creation_date":1685108560,"post_id":76338719,"comment_id":134619611,"body_markdown":"Bottom line, your comment `add 10 num, which is mathematically equal to num * 10` is perfectly false, for finite-precision floating point.  (So in this case your use of `==` on floating-point values was not wrong, and it did help you understand floating-point numbers more deeply, because the results really weren&#39;t equal!)","body":"Bottom line, your comment <code>add 10 num, which is mathematically equal to num * 10</code> is perfectly false, for finite-precision floating point.  (So in this case your use of <code>==</code> on floating-point values was not wrong, and it did help you understand floating-point numbers more deeply, because the results really weren&#39;t equal!)"}],"answers":[{"tags":[],"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685088043,"creation_date":1685088043,"answer_id":76338810,"question_id":76338719,"body_markdown":"Since the range of all decimal numbers is infinite and any data type has finite space, you cannot represent all possible decimal numbers using a double data type. That&#39;s why some numbers will be rounded to their next possible representation.\r\n\r\nFor more details on the implementation, check [the IEEE 754 standard](https://en.wikipedia.org/wiki/IEEE_754).","title":"How to understand this strange behavior of double in Java?","body":"<p>Since the range of all decimal numbers is infinite and any data type has finite space, you cannot represent all possible decimal numbers using a double data type. That's why some numbers will be rounded to their next possible representation.</p>\n<p>For more details on the implementation, check <a href=\"https://en.wikipedia.org/wiki/IEEE_754\" rel=\"nofollow noreferrer\">the IEEE 754 standard</a>.</p>\n"},{"tags":[],"owner":{"account_id":113187,"reputation":200947,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1685101867,"creation_date":1685101867,"answer_id":76340540,"question_id":76338719,"body_markdown":"&gt; 1. Is the value of &quot;num&quot; 0.3 (exactly)?\r\n\r\nNo, it is 0.299999999999999988897769753748434595763683319091796875.\r\n\r\n&gt; 2. If the value of &quot;num&quot; is 0.3, then, why is &quot;result2 == compared&quot; false?\r\n\r\nThe premise is false; the value of `num` is not 0.3. Further, `result2` is computed using nine additions. In each addition, there is a rounding step. The result of these additions with rounding is 2.999999999999999555910790149937383830547332763671875.\r\n\r\n&gt; 3. If the value of &quot;num&quot; is not 0.3, then, why is its String output &quot;0.3&quot;? From what I know, binary floating-point numbers can always be represented exactly in decimal numbers. So, if the value of &quot;num&quot; is not 0.3, its String output should not be &quot;0.3&quot;, but should be something like &quot;0.300000000001&quot;.\r\n\r\n[The Java specifiation says that the default formatting for a `double` is to print just enough decimal digits to uniquely distinguish the number.](https://stackoverflow.com/a/54640328/298225) Specifically, it converts to the decimal numeral with the fewest digits having the property that converting the decimal numeral back to the `double` type yields the original value.\r\n\r\nConverting 0.3 to `double` produces the nearest representable value, 0.299999999999999988897769753748434595763683319091796875, so, when printing 0.299999999999999988897769753748434595763683319091796875. with default formatting, Java produces “0.3”.\r\n\r\n&gt; 4. If the value of &quot;num&quot; is not 0.3, then, why is &quot;result1 == compared&quot; true?\r\n\r\n`num` is 0.299999999999999988897769753748434595763683319091796875. Multiplying it by 10 would produce 2.99999999999999988897769753748434595763683319091796875 using real-number arithmetic, but this number is not representable in `double`. The floating-point multiplication operation produces the nearest value representable in `double`, which is 3.\r\n\r\n&gt; 5. If the value of &quot;num&quot; is not 0.3, then, what is it?\r\n\r\nIt is 0.299999999999999988897769753748434595763683319091796875.\r\n","title":"How to understand this strange behavior of double in Java?","body":"<blockquote>\n<ol>\n<li>Is the value of &quot;num&quot; 0.3 (exactly)?</li>\n</ol>\n</blockquote>\n<p>No, it is 0.299999999999999988897769753748434595763683319091796875.</p>\n<blockquote>\n<ol start=\"2\">\n<li>If the value of &quot;num&quot; is 0.3, then, why is &quot;result2 == compared&quot; false?</li>\n</ol>\n</blockquote>\n<p>The premise is false; the value of <code>num</code> is not 0.3. Further, <code>result2</code> is computed using nine additions. In each addition, there is a rounding step. The result of these additions with rounding is 2.999999999999999555910790149937383830547332763671875.</p>\n<blockquote>\n<ol start=\"3\">\n<li>If the value of &quot;num&quot; is not 0.3, then, why is its String output &quot;0.3&quot;? From what I know, binary floating-point numbers can always be represented exactly in decimal numbers. So, if the value of &quot;num&quot; is not 0.3, its String output should not be &quot;0.3&quot;, but should be something like &quot;0.300000000001&quot;.</li>\n</ol>\n</blockquote>\n<p><a href=\"https://stackoverflow.com/a/54640328/298225\">The Java specifiation says that the default formatting for a <code>double</code> is to print just enough decimal digits to uniquely distinguish the number.</a> Specifically, it converts to the decimal numeral with the fewest digits having the property that converting the decimal numeral back to the <code>double</code> type yields the original value.</p>\n<p>Converting 0.3 to <code>double</code> produces the nearest representable value, 0.299999999999999988897769753748434595763683319091796875, so, when printing 0.299999999999999988897769753748434595763683319091796875. with default formatting, Java produces “0.3”.</p>\n<blockquote>\n<ol start=\"4\">\n<li>If the value of &quot;num&quot; is not 0.3, then, why is &quot;result1 == compared&quot; true?</li>\n</ol>\n</blockquote>\n<p><code>num</code> is 0.299999999999999988897769753748434595763683319091796875. Multiplying it by 10 would produce 2.99999999999999988897769753748434595763683319091796875 using real-number arithmetic, but this number is not representable in <code>double</code>. The floating-point multiplication operation produces the nearest value representable in <code>double</code>, which is 3.</p>\n<blockquote>\n<ol start=\"5\">\n<li>If the value of &quot;num&quot; is not 0.3, then, what is it?</li>\n</ol>\n</blockquote>\n<p>It is 0.299999999999999988897769753748434595763683319091796875.</p>\n"},{"tags":[],"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685110664,"creation_date":1685109786,"answer_id":76341569,"question_id":76338719,"body_markdown":"To see what&#39;s going on here, let&#39;s do a similar problem in decimal, instead — that is, not involving binary floating-point at all.  We&#39;re going to use *decimal* floating point, limited to *three significant digits* of precision.\r\nWe&#39;re going to start with the value 1/3, and we&#39;re going to multiply it by 10, which should give us 10/3.\r\n\r\nBut of course, we can&#39;t represent 1/3 exactly in decimal.  The closest we can get, with 3 significant digits, is 0.333.  But that&#39;s pretty close.\r\n\r\nIf we take 0.333, and multiply it by 10, we obviously get 3.33.  That&#39;s not quite the same as 10/3 (which would be 3.33333…), but again, it&#39;s pretty close.\r\n\r\nBut suppose we take 0.333 and add it to itself 10 times.  That should give the same answer, right?\r\n\r\n0.333 + 0.333 + 0.333 is 0.999.  All right so far.\r\n\r\n0.999 + 0.333 should be 1.332.  But we&#39;ve only got three significant digits of precision.  So we&#39;re going to have to round that off to 1.33.\r\n\r\n1.33 + 0.333 should be 1.663.  But we&#39;ve only got three significant digits of precision.  So we&#39;re going to have to round that off to 1.66.\r\n\r\n1.66 + 0.333 should be 1.993.  But we&#39;re going to have to round that off to 1.99.\r\n\r\n(Are you beginning to see a pattern?  It&#39;s about to get a little worse.)\r\n\r\n1.99 + 0.333 should be 2.323, which rounds off to 2.32.  \r\n2.32 + 0.333 should be 2.653, which rounds off to 2.65.  \r\n2.65 + 0.333 should be 2.983, which rounds off to 2.98.  \r\nFinally, 2.98 + 0.333 should be 3.313, which rounds off to 3.31.\r\n\r\nSo 0.333 &#215; 10 was 3.33, but 0.333 + 0.333 + 0.333 + … + 0.333 is 3.31.  Why did we get two different answers?\r\n\r\nBecause just about every time we added 0.333, we had to round off the result, and (in this case) that always meant throwing away 0.003.  And after seven addition steps which rounded, those little roundoff errors added up to something that significantly affected the final result.\r\n\r\nAnd more or less exactly the same thing goes on when you repeatedly add 0.3 in binary.  0.3 is not exactly representable in binary, so you weren&#39;t adding exactly 0.3 each time.  You were adding a value slightly different than 0.3, and after nine additions, the roundoff errors added up to something significantly different than when you just multiplied 0.3 by 10.  See [Eric Postpischil&#39;s answer](https://stackoverflow.com/questions/76338719#76340540) for more details.\r\n\r\n","title":"How to understand this strange behavior of double in Java?","body":"<p>To see what's going on here, let's do a similar problem in decimal, instead — that is, not involving binary floating-point at all.  We're going to use <em>decimal</em> floating point, limited to <em>three significant digits</em> of precision.\nWe're going to start with the value 1/3, and we're going to multiply it by 10, which should give us 10/3.</p>\n<p>But of course, we can't represent 1/3 exactly in decimal.  The closest we can get, with 3 significant digits, is 0.333.  But that's pretty close.</p>\n<p>If we take 0.333, and multiply it by 10, we obviously get 3.33.  That's not quite the same as 10/3 (which would be 3.33333…), but again, it's pretty close.</p>\n<p>But suppose we take 0.333 and add it to itself 10 times.  That should give the same answer, right?</p>\n<p>0.333 + 0.333 + 0.333 is 0.999.  All right so far.</p>\n<p>0.999 + 0.333 should be 1.332.  But we've only got three significant digits of precision.  So we're going to have to round that off to 1.33.</p>\n<p>1.33 + 0.333 should be 1.663.  But we've only got three significant digits of precision.  So we're going to have to round that off to 1.66.</p>\n<p>1.66 + 0.333 should be 1.993.  But we're going to have to round that off to 1.99.</p>\n<p>(Are you beginning to see a pattern?  It's about to get a little worse.)</p>\n<p>1.99 + 0.333 should be 2.323, which rounds off to 2.32.<br />\n2.32 + 0.333 should be 2.653, which rounds off to 2.65.<br />\n2.65 + 0.333 should be 2.983, which rounds off to 2.98.<br />\nFinally, 2.98 + 0.333 should be 3.313, which rounds off to 3.31.</p>\n<p>So 0.333 × 10 was 3.33, but 0.333 + 0.333 + 0.333 + … + 0.333 is 3.31.  Why did we get two different answers?</p>\n<p>Because just about every time we added 0.333, we had to round off the result, and (in this case) that always meant throwing away 0.003.  And after seven addition steps which rounded, those little roundoff errors added up to something that significantly affected the final result.</p>\n<p>And more or less exactly the same thing goes on when you repeatedly add 0.3 in binary.  0.3 is not exactly representable in binary, so you weren't adding exactly 0.3 each time.  You were adding a value slightly different than 0.3, and after nine additions, the roundoff errors added up to something significantly different than when you just multiplied 0.3 by 10.  See <a href=\"https://stackoverflow.com/questions/76338719#76340540\">Eric Postpischil's answer</a> for more details.</p>\n"}],"owner":{"account_id":5400331,"reputation":623,"user_id":4300403,"accept_rate":0,"display_name":"zhoudu"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1685124726,"answer_count":3,"score":0,"last_activity_date":1685110664,"creation_date":1685087376,"question_id":76338719,"body_markdown":"I am trying to understand floating-point numbers more deeply. I know that binary (base 2) floating-point numbers cannot represent some decimal numbers exactly. But I am confused in this strange behavior of double in Java (in Java, double is a binary floating-point number data type).\r\n\r\nI write this piece of Java code:\r\n\r\n```\r\npublic void myTestMethod() {\r\n    double num;\r\n    double factor;\r\n    double compared;\r\n    double result1;\r\n    double result2;\r\n    String output;\r\n\r\n    num = 0.3;\r\n    factor = 10;\r\n    compared = 3;\r\n\r\n    //num * 10\r\n    result1 = num * factor;\r\n\r\n    //add 10 num, which is mathematically equal to num * 10\r\n    result2 = num + num + num + num + num + num + num + num + num + num;\r\n\r\n    output = &quot;num: &quot; + num + &quot;\\n&quot;;\r\n    output = output + &quot;result1: &quot; + result1 + &quot;\\n&quot;;\r\n    output = output + &quot;result2: &quot; + result2 + &quot;\\n&quot;;\r\n\r\n    if (result1 == compared) {\r\n        output = output + &quot;result1 == compared\\n&quot;;\r\n    } else {\r\n        output = output + &quot;result1 != compared\\n&quot;;\r\n    }\r\n\r\n    if (result2 == compared) {\r\n        output = output + &quot;result2 == compared\\n&quot;;\r\n    } else {\r\n        output = output + &quot;result2 != compared\\n&quot;;\r\n    }\r\n\r\n    System.out.print(output);\r\n}\r\n```\r\n\r\nRunning this method produces this output:\r\n\r\n```\r\nnum: 0.3\r\nresult1: 3.0\r\nresult2: 2.9999999999999996\r\nresult1 == compared\r\nresult2 != compared\r\n```\r\n\r\nFrom what I know, the value of &quot;factor&quot; is exactly 10, and the value of &quot;compared&quot; is exactly 3, because these integers can be represented exactly by double. But maybe the value of &quot;num&quot; is a little different from 0.3.\r\n\r\nNow I want to know:\r\n\r\n1. Is the value of &quot;num&quot; 0.3 (exactly)?\r\n\r\n2. If the value of &quot;num&quot; is 0.3, then, why is &quot;result2 == compared&quot; false?\r\n\r\n3. If the value of &quot;num&quot; is not 0.3, then, why is its String output &quot;0.3&quot;? From what I know, binary floating-point numbers can always be represented exactly in decimal numbers. So, if the value of &quot;num&quot; is not 0.3, its String output should not be &quot;0.3&quot;, but should be something like &quot;0.300000000001&quot;.\r\n\r\n4. If the value of &quot;num&quot; is not 0.3, then, why is &quot;result1 == compared&quot; true?\r\n\r\n5. If the value of &quot;num&quot; is not 0.3, then, what is it?\r\n","title":"How to understand this strange behavior of double in Java?","body":"<p>I am trying to understand floating-point numbers more deeply. I know that binary (base 2) floating-point numbers cannot represent some decimal numbers exactly. But I am confused in this strange behavior of double in Java (in Java, double is a binary floating-point number data type).</p>\n<p>I write this piece of Java code:</p>\n<pre><code>public void myTestMethod() {\n    double num;\n    double factor;\n    double compared;\n    double result1;\n    double result2;\n    String output;\n\n    num = 0.3;\n    factor = 10;\n    compared = 3;\n\n    //num * 10\n    result1 = num * factor;\n\n    //add 10 num, which is mathematically equal to num * 10\n    result2 = num + num + num + num + num + num + num + num + num + num;\n\n    output = &quot;num: &quot; + num + &quot;\\n&quot;;\n    output = output + &quot;result1: &quot; + result1 + &quot;\\n&quot;;\n    output = output + &quot;result2: &quot; + result2 + &quot;\\n&quot;;\n\n    if (result1 == compared) {\n        output = output + &quot;result1 == compared\\n&quot;;\n    } else {\n        output = output + &quot;result1 != compared\\n&quot;;\n    }\n\n    if (result2 == compared) {\n        output = output + &quot;result2 == compared\\n&quot;;\n    } else {\n        output = output + &quot;result2 != compared\\n&quot;;\n    }\n\n    System.out.print(output);\n}\n</code></pre>\n<p>Running this method produces this output:</p>\n<pre><code>num: 0.3\nresult1: 3.0\nresult2: 2.9999999999999996\nresult1 == compared\nresult2 != compared\n</code></pre>\n<p>From what I know, the value of &quot;factor&quot; is exactly 10, and the value of &quot;compared&quot; is exactly 3, because these integers can be represented exactly by double. But maybe the value of &quot;num&quot; is a little different from 0.3.</p>\n<p>Now I want to know:</p>\n<ol>\n<li><p>Is the value of &quot;num&quot; 0.3 (exactly)?</p>\n</li>\n<li><p>If the value of &quot;num&quot; is 0.3, then, why is &quot;result2 == compared&quot; false?</p>\n</li>\n<li><p>If the value of &quot;num&quot; is not 0.3, then, why is its String output &quot;0.3&quot;? From what I know, binary floating-point numbers can always be represented exactly in decimal numbers. So, if the value of &quot;num&quot; is not 0.3, its String output should not be &quot;0.3&quot;, but should be something like &quot;0.300000000001&quot;.</p>\n</li>\n<li><p>If the value of &quot;num&quot; is not 0.3, then, why is &quot;result1 == compared&quot; true?</p>\n</li>\n<li><p>If the value of &quot;num&quot; is not 0.3, then, what is it?</p>\n</li>\n</ol>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685110663,"creation_date":1685031530,"answer_id":76334389,"question_id":76334298,"body_markdown":"As I see your classPublicChangePasswordController annotated with `@RequestMapping(&quot;/change-password&quot;)`.\r\n\r\n Method display() has `@RequestMapping(value = &quot;/change-password&quot;, method = RequestMethod.GET)`. So your link is already: */change-password/change-password* which is not right. remove annotation in display() method and just use @GetMapping\r\n\r\n    @GetMapping(&quot;/change-password&quot;)\r\n    public ModelAndView display(WebRequest webRequest) {\r\n        // Method implementation\r\n    }\r\n\r\n**Also you can update changePassword() with @PostMappting, but don&#39;t forget to add path: */save***\r\n\r\nAccording to comment:\r\nCheck this code in your xml. There is two &lt;mvc:annotation-driven /&gt;, but maybe should be &lt;mvc:annotation-driven&gt; and &lt;mvc:annotation-driven /&gt;\r\n\r\n    &lt;mvc:annotation-driven /&gt;\r\n    &lt;context:component-scan base-package=&quot;com.app&quot;&gt;\r\n        &lt;context:include-filter type=&quot;annotation&quot; expression=&quot;com.app.web.mvc.PublicController&quot; /&gt;\r\n    &lt;/context:component-scan&gt;\r\n    &lt;mvc:annotation-driven /&gt;\r\n\r\nand play with this line. because you are updating ModelAndView\r\n\r\n    ModelAndView modelAndView = new ModelAndView(&quot;public/change-password/change-password&quot;);\r\n\r\n","title":"Upgrading to Spring 5 - 404 page not found error","body":"<p>As I see your classPublicChangePasswordController annotated with <code>@RequestMapping(&quot;/change-password&quot;)</code>.</p>\n<p>Method display() has <code>@RequestMapping(value = &quot;/change-password&quot;, method = RequestMethod.GET)</code>. So your link is already: <em>/change-password/change-password</em> which is not right. remove annotation in display() method and just use @GetMapping</p>\n<pre><code>@GetMapping(&quot;/change-password&quot;)\npublic ModelAndView display(WebRequest webRequest) {\n    // Method implementation\n}\n</code></pre>\n<p><strong>Also you can update changePassword() with @PostMappting, but don't forget to add path: <em>/save</em></strong></p>\n<p>According to comment:\nCheck this code in your xml. There is two &lt;mvc:annotation-driven /&gt;, but maybe should be mvc:annotation-driven and &lt;mvc:annotation-driven /&gt;</p>\n<pre><code>&lt;mvc:annotation-driven /&gt;\n&lt;context:component-scan base-package=&quot;com.app&quot;&gt;\n    &lt;context:include-filter type=&quot;annotation&quot; expression=&quot;com.app.web.mvc.PublicController&quot; /&gt;\n&lt;/context:component-scan&gt;\n&lt;mvc:annotation-driven /&gt;\n</code></pre>\n<p>and play with this line. because you are updating ModelAndView</p>\n<pre><code>ModelAndView modelAndView = new ModelAndView(&quot;public/change-password/change-password&quot;);\n</code></pre>\n"}],"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685110663,"creation_date":1685030756,"question_id":76334298,"body_markdown":"I am in the middle of upgrading a legacy project. Currently upgrading from spring 4 to spring 5. \r\n\r\nThe login works fine but the user is taken to the change password screen due to an out of date password. However, i am met with a 404 error not found when trying to reach it.\r\n\r\nI think i have updated it correctly to meet the requirements for spring 5 but it still doesnt seem to map correctly. Can anyone spot something wrong inside my controller?\r\n\r\nthe path of the jsp for reference is\r\n\r\n/application/src/main/webapp/WEB-INF/jsp/public/change-password/change-password.jsp\r\n\r\n**app-security-config.xml**\r\n``` \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:security=&quot;http://www.springframework.org/schema/security&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\r\n       xsi:schemaLocation=&quot;\r\n          http://www.springframework.org/schema/beans\r\n          http://www.springframework.org/schema/beans/spring-beans.xsd\r\n          http://www.springframework.org/schema/security\r\n          http://www.springframework.org/schema/security/spring-security.xsd \r\n          http://www.springframework.org/schema/util\r\n          https://www.springframework.org/schema/util/spring-util.xsd&quot; &gt;\r\n\t\r\n\t&lt;security:http\r\n\t\tauto-config=&quot;false&quot;\r\n\t\taccess-decision-manager-ref=&quot;accessDecisionManager&quot;\r\n\t\tuse-expressions=&quot;true&quot;\r\n\t\trequest-matcher=&quot;ant&quot;\r\n\t\tdisable-url-rewriting=&quot;true&quot;\r\n\t&gt;\r\n\t\t&lt;security:headers&gt;\r\n\t\t\t&lt;security:hsts disabled=&quot;true&quot;/&gt;\r\n\t        &lt;security:frame-options policy=&quot;SAMEORIGIN&quot;/&gt;\r\n\t\t&lt;/security:headers&gt;\r\n\t\t&lt;security:csrf disabled=&quot;true&quot;/&gt;\r\n    \t\r\n    \t&lt;!-- Set up URL security for specific pages --&gt;\r\n        &lt;security:intercept-url pattern=&quot;/secure/home&quot; access=&quot;hasRole(&#39;AUTH_LOGIN&#39;)&quot; /&gt;\r\n        &lt;security:intercept-url pattern=&quot;/logout&quot; access=&quot;hasRole(&#39;AUTH_LOGIN&#39;)&quot; /&gt;\r\n        &lt;security:intercept-url pattern=&quot;/secure/help/**&quot; access=&quot;hasRole(&#39;AUTH_LOGIN&#39;)&quot; /&gt;\r\n        &lt;security:intercept-url pattern=&quot;/secure/help/contents&quot; access=&quot;hasRole(&#39;AUTH_LOGIN&#39;)&quot; /&gt;\r\n        &lt;security:intercept-url pattern=&quot;/secure/change-password&quot; \r\n        \r\n        &lt;!-- Fall back for any other secure/* pages - user must be authenticated --&gt;\r\n        &lt;security:intercept-url pattern=&quot;/secure/**&quot; access=&quot;isAuthenticated()&quot; /&gt;\r\n        \r\n        &lt;!-- Allow anonymous access for any URLS not secured above --&gt;\r\n        &lt;security:anonymous username=&quot;ANON&quot; granted-authority=&quot;AUTH_ANON&quot; /&gt;\r\n\r\n    \t&lt;!-- Set up concurrent session control, the logout page, and the access denied handler --&gt;\r\n    \t&lt;security:session-management session-fixation-protection=&quot;newSession&quot;&gt;\r\n    \t\t&lt;security:concurrency-control max-sessions=&quot;1&quot; expired-url=&quot;/public/login?expired=true&quot; /&gt;\r\n    \t&lt;/security:session-management&gt;\r\n    \t\r\n    \t&lt;security:logout logout-url=&quot;/logout&quot;\r\n\t\t\t\t\t\t invalidate-session=&quot;true&quot;\r\n\t\t\t\t\t\t success-handler-ref=&quot;logOutSuccessHandler&quot;\r\n\t\t/&gt;\r\n\t\t\r\n\t\t&lt;security:access-denied-handler error-page=&quot;/public/forbidden&quot; /&gt;\r\n    \t\r\n    \t&lt;!-- Set up form login authentication, wiring up the success/and failure handlers --&gt;\r\n    \t&lt;security:form-login \r\n    \t\tlogin-page=&quot;/public/login&quot; \r\n    \t\tlogin-processing-url=&quot;/public/security_check&quot;\r\n    \t\tauthentication-failure-handler-ref=&quot;authenticationFailureHandler&quot;\r\n    \t\tauthentication-success-handler-ref=&quot;authenticationSuccessHandler&quot;\r\n    \t/&gt;\r\n    \t\t\r\n  \t&lt;/security:http&gt;\r\n \r\n  \t\r\n  \t&lt;bean id=&quot;authenticationSuccessHandler&quot; class=&quot;com.app.application.util.spring.security.DefaultAuthenticationSuccessHandler&quot;&gt;\r\n  \t\t&lt;constructor-arg ref=&quot;daoFactory&quot; /&gt;\r\n  \t\t&lt;property name=&quot;defaultTargetUrl&quot; value=&quot;/secure/home&quot; /&gt;\r\n  \t\t&lt;property name=&quot;localeResolver&quot; ref=&quot;localeResolver&quot; /&gt;\r\n  \t&lt;/bean&gt;\r\n  \t&lt;bean id=&quot;authenticationFailureHandler&quot; class=&quot;com.app.application.util.spring.security.DefaultAuthenticationFailureHandler&quot;&gt;\r\n  \t\t&lt;constructor-arg ref=&quot;daoFactory&quot; /&gt;\r\n  \t\t&lt;property name=&quot;defaultFailureUrl&quot; value=&quot;/public/login?failed=true&quot; /&gt;\r\n  \t\t&lt;property name=&quot;changePasswordUrl&quot; value=&quot;/public/change-password&quot; /&gt;\r\n  \t\t&lt;property name=&quot;suspendedUrl&quot; value=&quot;/public/suspended&quot; /&gt;\r\n  \t\t&lt;property name=&quot;deletedUrl&quot; value=&quot;/public/deleted&quot; /&gt;\r\n  \t&lt;/bean&gt;\r\n  \t&lt;bean id=&quot;logOutSuccessHandler&quot; class=&quot;com.app.application.util.spring.security.DefaultLogOutSuccessHandler&quot;&gt;\r\n\t\t&lt;constructor-arg ref=&quot;daoFactory&quot; /&gt;\r\n\t\t&lt;property name=&quot;logOutUrl&quot; value=&quot;/public/logout&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n  \t\r\n\t&lt;bean class=&quot;com.app.application.security.DefaultRolesPrefixPostProcessor&quot;/&gt;\r\n\t\r\n  \t&lt;bean id=&quot;accessDecisionManager&quot; class=&quot;org.springframework.security.access.vote.AffirmativeBased&quot;&gt;\r\n  \t\t&lt;constructor-arg name=&quot;decisionVoters&quot;&gt;\r\n  \t\t\t&lt;list&gt;\r\n\t  \t\t\t&lt;bean class=&quot;org.springframework.security.access.vote.RoleVoter&quot;&gt;\r\n\t  \t\t\t\t&lt;property name=&quot;rolePrefix&quot; value=&quot;AUTH_&quot; /&gt;\r\n\t  \t\t\t&lt;/bean&gt;\r\n\t  \t\t\t&lt;bean class=&quot;org.springframework.security.access.vote.AuthenticatedVoter&quot; /&gt;\r\n\t  \t\t\t&lt;bean class=&quot;org.springframework.security.web.access.expression.WebExpressionVoter&quot;&gt;\r\n\t  \t\t\t\t&lt;property name=&quot;expressionHandler&quot;&gt;\r\n  \t\t\t\t\t\t&lt;bean id=&quot;expressionEvaluator&quot; class=&quot;org.springframework.security.web.access.expression.DefaultWebSecurityExpressionHandler&quot;/&gt;\r\n\t  \t\t\t\t&lt;/property&gt;\r\n\t  \t\t\t&lt;/bean&gt;\r\n  \t\t\t&lt;/list&gt;\r\n  \t\t&lt;/constructor-arg&gt;\r\n  \t&lt;/bean&gt;\r\n  \t\r\n  \t&lt;!-- \r\n  \tSet up the authentication manager, giving it our security service and setting up the password hashing.  We must manually create the encoder and salt source\r\n  \tbeans as they are required by our security service. \r\n  \t--&gt;\r\n\t&lt;security:authentication-manager alias=&quot;authenticationManager&quot;&gt;\r\n\t\t&lt;security:authentication-provider ref=&quot;customAuthenticationProvider&quot;&gt;\r\n\t\t&lt;/security:authentication-provider&gt;\r\n\t&lt;/security:authentication-manager&gt;\r\n\t\r\n\t&lt;bean id=&quot;passwordEncoder&quot; class=&quot;com.app.application.security.domain.password.Sha1DigestGenerator&quot; /&gt;\r\n\t&lt;bean id=&quot;saltSource&quot; class=&quot;com.app.application.security.domain.password.UsernameSaltSource&quot; /&gt;\r\n\t\r\n\t&lt;!-- Configure password generator and password validator --&gt;\r\n\t&lt;bean id=&quot;passwordGenerator&quot; class=&quot;com.app.application.security.domain.password.DefaultPasswordGenerator&quot;&gt;\r\n\t\t&lt;property name=&quot;randomStringGenerator&quot;&gt;\r\n\t\t\t&lt;bean class=&quot;com.amor.hcplus.application.util.ApacheCommonsLangRandomStringGenerator&quot; /&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;digestGenerator&quot; ref=&quot;passwordEncoder&quot; /&gt;\r\n\t\t&lt;property name=&quot;saltSource&quot; ref=&quot;saltSource&quot; /&gt;\r\n\t\t&lt;property name=&quot;passwordValidator&quot; ref=&quot;passwordValidator&quot;/&gt;\r\n\t\t&lt;property name=&quot;generatedPasswordLength&quot; value=&quot;8&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t&lt;bean id=&quot;passwordValidator&quot; class=&quot;com.app.application.security.domain.password.DefaultPasswordValidator&quot; /&gt;\r\n&lt;/beans&gt;\r\n```\r\n**web.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n\t\t xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\r\n         http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n\t\t version=&quot;3.1&quot;&gt;\r\n  \r\n\t&lt;!--  Spring context --&gt;\r\n\t&lt;listener&gt;\r\n\t\t&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n\t&lt;/listener&gt;\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;\r\n\t\t\tclasspath*:/com/amor/**/*-config.xml\r\n\t\t\t/WEB-INF/spring/**/*-config.xml\r\n\t\t&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\t\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;htmlEscape&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;true&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\t\r\n\t&lt;!--  Application Exit Cleanup Listener --&gt; \r\n\r\n \t&lt;listener&gt;\r\n \t\t&lt;listener-class&gt;com.app.web.mvc.context.ApplicationExitCleanupListener&lt;/listener-class&gt;\r\n \t&lt;/listener&gt;\r\n\r\n\t&lt;!-- OpenSessionInViewFilter --&gt;\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;hibernateFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;org.springframework.orm.hibernate5.support.OpenSessionInViewFilter&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;hibernateFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\t\r\n\t&lt;!-- Spring security --&gt;\r\n\t&lt;listener&gt;\r\n     \t&lt;listener-class&gt;org.springframework.security.web.session.HttpSessionEventPublisher&lt;/listener-class&gt;\r\n \t&lt;/listener&gt;\r\n \t\r\n\t&lt;filter&gt;\r\n\t  \t&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n\t  \t&lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\t  \r\n\t&lt;filter-mapping&gt;\r\n\t  \t&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n\t  \t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt; \r\n\t\r\n\t&lt;!-- Spring servlets --&gt;\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;public&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;/WEB-INF/spring/public-servlet.xml&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;public&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/public/*&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\t\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;secure&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;/WEB-INF/spring/secure-servlet.xml&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;secure&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/secure/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\t\r\n    \r\n    &lt;context-param&gt;\r\n\t\t&lt;param-name&gt;spring.profiles.active&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;dev&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;spring.profiles.default&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;dev&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;spring.liveBeansView.mbeanDomain&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;dev&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\r\n\t&lt;!-- Other tomcat options --&gt;\r\n\t&lt;welcome-file-list&gt;\r\n\t\t&lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n\t&lt;/welcome-file-list&gt;\r\n\t\r\n\t&lt;error-page&gt;\r\n\t\t&lt;error-code&gt;403&lt;/error-code&gt;\r\n\t\t&lt;location&gt;/public/forbidden&lt;/location&gt;\r\n\t&lt;/error-page&gt;\r\n\t\r\n\t&lt;error-page&gt;\r\n\t\t&lt;error-code&gt;500&lt;/error-code&gt;\r\n\t\t&lt;location&gt;/public/error&lt;/location&gt;\r\n\t&lt;/error-page&gt;\r\n\t\r\n&lt;/web-app&gt;\r\n ```\r\n**public-servlet.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txsi:schemaLocation=&quot;\r\n\t   http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\r\n       http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;\r\n&gt;\r\n\r\n    &lt;mvc:annotation-driven /&gt;\r\n    &lt;context:component-scan base-package=&quot;com.app&quot;&gt;\r\n        &lt;context:include-filter type=&quot;annotation&quot; expression=&quot;com.app.web.mvc.PublicController&quot; /&gt;\r\n    &lt;/context:component-scan&gt;\r\n    &lt;mvc:annotation-driven /&gt;\r\n    &lt;!--&lt;context:annotation-config&gt;&lt;/context:annotation-config&gt;--&gt;\r\n\t\r\n    &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n        &lt;property name=&quot;viewClass&quot; value=&quot;org.springframework.web.servlet.view.JstlView&quot;/&gt;\r\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/public/&quot;/&gt;\r\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt;\r\n    &lt;/bean&gt;\r\n    \r\n&lt;/beans&gt;\r\n ```\r\nPublicChangePasswordController.java\r\n```\r\n\r\n@PublicController\r\n@RequestMapping(&quot;/change-password&quot;)\r\n@SessionAttributes(&quot;changePasswordFormObject&quot;)\r\npublic class PublicChangePasswordController {\r\n\r\n    private SecurityService securityService;\r\n\r\n    @Autowired\r\n    public PublicChangePasswordController(SecurityService securityService) {\r\n        super();\r\n        this.securityService = securityService;\r\n    }\r\n\r\n    @InitBinder\r\n    public void initBinder(WebDataBinder binder) {\r\n        binder.setValidator(new ChangePasswordFormObjectValidator(securityService));\r\n    }\r\n\r\n    @RequestMapping(value = &quot;/change-password&quot;, method = RequestMethod.GET)\r\n    public ModelAndView display(WebRequest webRequest) {\r\n\r\n        String username = (String) webRequest.getAttribute(DefaultAuthenticationFailureHandler.PASSWORD_CHANGE_USERNAME, RequestAttributes.SCOPE_SESSION);\r\n\r\n        if (!StringUtils.hasText(username)) {\r\n            // Redirect if no username is found on the session - user must have accessed it directly\r\n            return new ModelAndView(&quot;redirect:/&quot;);\r\n        }\r\n\r\n        ChangePasswordFormObject formObject = new ChangePasswordFormObject();\r\n        formObject.setUsername(username);\r\n\r\n        ModelAndView modelAndView = new ModelAndView(&quot;change-password/change-password&quot;);\r\n        modelAndView.addObject(&quot;changePasswordFormObject&quot;, formObject);\r\n\r\n        return modelAndView;\r\n    }\r\n\r\n    @RequestMapping(value = &quot;/save&quot;, method = RequestMethod.POST)\r\n    public String changePassword(@ModelAttribute(&quot;changePasswordFormObject&quot;) @Valid ChangePasswordFormObject formObject, BindingResult bindingResult,\r\n            WebRequest webRequest, SessionStatus sessionStatus) throws Exception {\r\n\r\n        if (bindingResult.hasErrors()) {\r\n            return &quot;change-password/change-password&quot;;\r\n        }\r\n\r\n        ChangePasswordDetailsDto changePasswordDetailsDto = new ChangePasswordDetailsDto();\r\n        changePasswordDetailsDto.setUsername(formObject.getUsername());\r\n        changePasswordDetailsDto.setNewPassword(formObject.getNewPassword());\r\n\r\n        securityService.changePassword(changePasswordDetailsDto);\r\n\r\n        webRequest.removeAttribute(DefaultAuthenticationFailureHandler.PASSWORD_CHANGE_USERNAME, RequestAttributes.SCOPE_SESSION);\r\n        sessionStatus.setComplete();\r\n\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n}\r\n```\r\ndefault public controller\r\n```\r\n@PublicController\r\n@RequestMapping(&quot;/*&quot;)\r\npublic class DefaultPublicController {\r\n\r\n    private String servletContext = &quot;public/&quot;;\r\n\r\n    @RequestMapping\r\n    public String handle(HttpServletRequest request) {\r\n        return request.getRequestURI().substring(request.getRequestURI().lastIndexOf(servletContext) + servletContext.length());\r\n    }\r\n}\r\n```","title":"Upgrading to Spring 5 - 404 page not found error","body":"<p>I am in the middle of upgrading a legacy project. Currently upgrading from spring 4 to spring 5.</p>\n<p>The login works fine but the user is taken to the change password screen due to an out of date password. However, i am met with a 404 error not found when trying to reach it.</p>\n<p>I think i have updated it correctly to meet the requirements for spring 5 but it still doesnt seem to map correctly. Can anyone spot something wrong inside my controller?</p>\n<p>the path of the jsp for reference is</p>\n<p>/application/src/main/webapp/WEB-INF/jsp/public/change-password/change-password.jsp</p>\n<p><strong>app-security-config.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:security=&quot;http://www.springframework.org/schema/security&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\n       xsi:schemaLocation=&quot;\n          http://www.springframework.org/schema/beans\n          http://www.springframework.org/schema/beans/spring-beans.xsd\n          http://www.springframework.org/schema/security\n          http://www.springframework.org/schema/security/spring-security.xsd \n          http://www.springframework.org/schema/util\n          https://www.springframework.org/schema/util/spring-util.xsd&quot; &gt;\n    \n    &lt;security:http\n        auto-config=&quot;false&quot;\n        access-decision-manager-ref=&quot;accessDecisionManager&quot;\n        use-expressions=&quot;true&quot;\n        request-matcher=&quot;ant&quot;\n        disable-url-rewriting=&quot;true&quot;\n    &gt;\n        &lt;security:headers&gt;\n            &lt;security:hsts disabled=&quot;true&quot;/&gt;\n            &lt;security:frame-options policy=&quot;SAMEORIGIN&quot;/&gt;\n        &lt;/security:headers&gt;\n        &lt;security:csrf disabled=&quot;true&quot;/&gt;\n        \n        &lt;!-- Set up URL security for specific pages --&gt;\n        &lt;security:intercept-url pattern=&quot;/secure/home&quot; access=&quot;hasRole('AUTH_LOGIN')&quot; /&gt;\n        &lt;security:intercept-url pattern=&quot;/logout&quot; access=&quot;hasRole('AUTH_LOGIN')&quot; /&gt;\n        &lt;security:intercept-url pattern=&quot;/secure/help/**&quot; access=&quot;hasRole('AUTH_LOGIN')&quot; /&gt;\n        &lt;security:intercept-url pattern=&quot;/secure/help/contents&quot; access=&quot;hasRole('AUTH_LOGIN')&quot; /&gt;\n        &lt;security:intercept-url pattern=&quot;/secure/change-password&quot; \n        \n        &lt;!-- Fall back for any other secure/* pages - user must be authenticated --&gt;\n        &lt;security:intercept-url pattern=&quot;/secure/**&quot; access=&quot;isAuthenticated()&quot; /&gt;\n        \n        &lt;!-- Allow anonymous access for any URLS not secured above --&gt;\n        &lt;security:anonymous username=&quot;ANON&quot; granted-authority=&quot;AUTH_ANON&quot; /&gt;\n\n        &lt;!-- Set up concurrent session control, the logout page, and the access denied handler --&gt;\n        &lt;security:session-management session-fixation-protection=&quot;newSession&quot;&gt;\n            &lt;security:concurrency-control max-sessions=&quot;1&quot; expired-url=&quot;/public/login?expired=true&quot; /&gt;\n        &lt;/security:session-management&gt;\n        \n        &lt;security:logout logout-url=&quot;/logout&quot;\n                         invalidate-session=&quot;true&quot;\n                         success-handler-ref=&quot;logOutSuccessHandler&quot;\n        /&gt;\n        \n        &lt;security:access-denied-handler error-page=&quot;/public/forbidden&quot; /&gt;\n        \n        &lt;!-- Set up form login authentication, wiring up the success/and failure handlers --&gt;\n        &lt;security:form-login \n            login-page=&quot;/public/login&quot; \n            login-processing-url=&quot;/public/security_check&quot;\n            authentication-failure-handler-ref=&quot;authenticationFailureHandler&quot;\n            authentication-success-handler-ref=&quot;authenticationSuccessHandler&quot;\n        /&gt;\n            \n    &lt;/security:http&gt;\n \n    \n    &lt;bean id=&quot;authenticationSuccessHandler&quot; class=&quot;com.app.application.util.spring.security.DefaultAuthenticationSuccessHandler&quot;&gt;\n        &lt;constructor-arg ref=&quot;daoFactory&quot; /&gt;\n        &lt;property name=&quot;defaultTargetUrl&quot; value=&quot;/secure/home&quot; /&gt;\n        &lt;property name=&quot;localeResolver&quot; ref=&quot;localeResolver&quot; /&gt;\n    &lt;/bean&gt;\n    &lt;bean id=&quot;authenticationFailureHandler&quot; class=&quot;com.app.application.util.spring.security.DefaultAuthenticationFailureHandler&quot;&gt;\n        &lt;constructor-arg ref=&quot;daoFactory&quot; /&gt;\n        &lt;property name=&quot;defaultFailureUrl&quot; value=&quot;/public/login?failed=true&quot; /&gt;\n        &lt;property name=&quot;changePasswordUrl&quot; value=&quot;/public/change-password&quot; /&gt;\n        &lt;property name=&quot;suspendedUrl&quot; value=&quot;/public/suspended&quot; /&gt;\n        &lt;property name=&quot;deletedUrl&quot; value=&quot;/public/deleted&quot; /&gt;\n    &lt;/bean&gt;\n    &lt;bean id=&quot;logOutSuccessHandler&quot; class=&quot;com.app.application.util.spring.security.DefaultLogOutSuccessHandler&quot;&gt;\n        &lt;constructor-arg ref=&quot;daoFactory&quot; /&gt;\n        &lt;property name=&quot;logOutUrl&quot; value=&quot;/public/logout&quot; /&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean class=&quot;com.app.application.security.DefaultRolesPrefixPostProcessor&quot;/&gt;\n    \n    &lt;bean id=&quot;accessDecisionManager&quot; class=&quot;org.springframework.security.access.vote.AffirmativeBased&quot;&gt;\n        &lt;constructor-arg name=&quot;decisionVoters&quot;&gt;\n            &lt;list&gt;\n                &lt;bean class=&quot;org.springframework.security.access.vote.RoleVoter&quot;&gt;\n                    &lt;property name=&quot;rolePrefix&quot; value=&quot;AUTH_&quot; /&gt;\n                &lt;/bean&gt;\n                &lt;bean class=&quot;org.springframework.security.access.vote.AuthenticatedVoter&quot; /&gt;\n                &lt;bean class=&quot;org.springframework.security.web.access.expression.WebExpressionVoter&quot;&gt;\n                    &lt;property name=&quot;expressionHandler&quot;&gt;\n                        &lt;bean id=&quot;expressionEvaluator&quot; class=&quot;org.springframework.security.web.access.expression.DefaultWebSecurityExpressionHandler&quot;/&gt;\n                    &lt;/property&gt;\n                &lt;/bean&gt;\n            &lt;/list&gt;\n        &lt;/constructor-arg&gt;\n    &lt;/bean&gt;\n    \n    &lt;!-- \n    Set up the authentication manager, giving it our security service and setting up the password hashing.  We must manually create the encoder and salt source\n    beans as they are required by our security service. \n    --&gt;\n    &lt;security:authentication-manager alias=&quot;authenticationManager&quot;&gt;\n        &lt;security:authentication-provider ref=&quot;customAuthenticationProvider&quot;&gt;\n        &lt;/security:authentication-provider&gt;\n    &lt;/security:authentication-manager&gt;\n    \n    &lt;bean id=&quot;passwordEncoder&quot; class=&quot;com.app.application.security.domain.password.Sha1DigestGenerator&quot; /&gt;\n    &lt;bean id=&quot;saltSource&quot; class=&quot;com.app.application.security.domain.password.UsernameSaltSource&quot; /&gt;\n    \n    &lt;!-- Configure password generator and password validator --&gt;\n    &lt;bean id=&quot;passwordGenerator&quot; class=&quot;com.app.application.security.domain.password.DefaultPasswordGenerator&quot;&gt;\n        &lt;property name=&quot;randomStringGenerator&quot;&gt;\n            &lt;bean class=&quot;com.amor.hcplus.application.util.ApacheCommonsLangRandomStringGenerator&quot; /&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;digestGenerator&quot; ref=&quot;passwordEncoder&quot; /&gt;\n        &lt;property name=&quot;saltSource&quot; ref=&quot;saltSource&quot; /&gt;\n        &lt;property name=&quot;passwordValidator&quot; ref=&quot;passwordValidator&quot;/&gt;\n        &lt;property name=&quot;generatedPasswordLength&quot; value=&quot;8&quot; /&gt;\n    &lt;/bean&gt;\n    &lt;bean id=&quot;passwordValidator&quot; class=&quot;com.app.application.security.domain.password.DefaultPasswordValidator&quot; /&gt;\n&lt;/beans&gt;\n</code></pre>\n<p><strong>web.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\n         http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\n         version=&quot;3.1&quot;&gt;\n  \n    &lt;!--  Spring context --&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;\n            classpath*:/com/amor/**/*-config.xml\n            /WEB-INF/spring/**/*-config.xml\n        &lt;/param-value&gt;\n    &lt;/context-param&gt;\n    \n    &lt;context-param&gt;\n        &lt;param-name&gt;htmlEscape&lt;/param-name&gt;\n        &lt;param-value&gt;true&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    \n    &lt;!--  Application Exit Cleanup Listener --&gt; \n\n    &lt;listener&gt;\n        &lt;listener-class&gt;com.app.web.mvc.context.ApplicationExitCleanupListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;!-- OpenSessionInViewFilter --&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;hibernateFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.springframework.orm.hibernate5.support.OpenSessionInViewFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;hibernateFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n    \n    &lt;!-- Spring security --&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.security.web.session.HttpSessionEventPublisher&lt;/listener-class&gt;\n    &lt;/listener&gt;\n    \n    &lt;filter&gt;\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\n    &lt;/filter&gt;     \n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt; \n    \n    &lt;!-- Spring servlets --&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;public&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/spring/public-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;public&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/public/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    \n    &lt;servlet&gt;\n        &lt;servlet-name&gt;secure&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/spring/secure-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;secure&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/secure/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;  \n    \n    &lt;context-param&gt;\n        &lt;param-name&gt;spring.profiles.active&lt;/param-name&gt;\n        &lt;param-value&gt;dev&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;spring.profiles.default&lt;/param-name&gt;\n        &lt;param-value&gt;dev&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;spring.liveBeansView.mbeanDomain&lt;/param-name&gt;\n        &lt;param-value&gt;dev&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;!-- Other tomcat options --&gt;\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n    \n    &lt;error-page&gt;\n        &lt;error-code&gt;403&lt;/error-code&gt;\n        &lt;location&gt;/public/forbidden&lt;/location&gt;\n    &lt;/error-page&gt;\n    \n    &lt;error-page&gt;\n        &lt;error-code&gt;500&lt;/error-code&gt;\n        &lt;location&gt;/public/error&lt;/location&gt;\n    &lt;/error-page&gt;\n    \n&lt;/web-app&gt;\n</code></pre>\n<p><strong>public-servlet.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; \n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xsi:schemaLocation=&quot;\n       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\n       http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;\n&gt;\n\n    &lt;mvc:annotation-driven /&gt;\n    &lt;context:component-scan base-package=&quot;com.app&quot;&gt;\n        &lt;context:include-filter type=&quot;annotation&quot; expression=&quot;com.app.web.mvc.PublicController&quot; /&gt;\n    &lt;/context:component-scan&gt;\n    &lt;mvc:annotation-driven /&gt;\n    &lt;!--&lt;context:annotation-config&gt;&lt;/context:annotation-config&gt;--&gt;\n    \n    &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n        &lt;property name=&quot;viewClass&quot; value=&quot;org.springframework.web.servlet.view.JstlView&quot;/&gt;\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/public/&quot;/&gt;\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt;\n    &lt;/bean&gt;\n    \n&lt;/beans&gt;\n</code></pre>\n<p>PublicChangePasswordController.java</p>\n<pre><code>\n@PublicController\n@RequestMapping(&quot;/change-password&quot;)\n@SessionAttributes(&quot;changePasswordFormObject&quot;)\npublic class PublicChangePasswordController {\n\n    private SecurityService securityService;\n\n    @Autowired\n    public PublicChangePasswordController(SecurityService securityService) {\n        super();\n        this.securityService = securityService;\n    }\n\n    @InitBinder\n    public void initBinder(WebDataBinder binder) {\n        binder.setValidator(new ChangePasswordFormObjectValidator(securityService));\n    }\n\n    @RequestMapping(value = &quot;/change-password&quot;, method = RequestMethod.GET)\n    public ModelAndView display(WebRequest webRequest) {\n\n        String username = (String) webRequest.getAttribute(DefaultAuthenticationFailureHandler.PASSWORD_CHANGE_USERNAME, RequestAttributes.SCOPE_SESSION);\n\n        if (!StringUtils.hasText(username)) {\n            // Redirect if no username is found on the session - user must have accessed it directly\n            return new ModelAndView(&quot;redirect:/&quot;);\n        }\n\n        ChangePasswordFormObject formObject = new ChangePasswordFormObject();\n        formObject.setUsername(username);\n\n        ModelAndView modelAndView = new ModelAndView(&quot;change-password/change-password&quot;);\n        modelAndView.addObject(&quot;changePasswordFormObject&quot;, formObject);\n\n        return modelAndView;\n    }\n\n    @RequestMapping(value = &quot;/save&quot;, method = RequestMethod.POST)\n    public String changePassword(@ModelAttribute(&quot;changePasswordFormObject&quot;) @Valid ChangePasswordFormObject formObject, BindingResult bindingResult,\n            WebRequest webRequest, SessionStatus sessionStatus) throws Exception {\n\n        if (bindingResult.hasErrors()) {\n            return &quot;change-password/change-password&quot;;\n        }\n\n        ChangePasswordDetailsDto changePasswordDetailsDto = new ChangePasswordDetailsDto();\n        changePasswordDetailsDto.setUsername(formObject.getUsername());\n        changePasswordDetailsDto.setNewPassword(formObject.getNewPassword());\n\n        securityService.changePassword(changePasswordDetailsDto);\n\n        webRequest.removeAttribute(DefaultAuthenticationFailureHandler.PASSWORD_CHANGE_USERNAME, RequestAttributes.SCOPE_SESSION);\n        sessionStatus.setComplete();\n\n        return &quot;redirect:/&quot;;\n    }\n}\n</code></pre>\n<p>default public controller</p>\n<pre><code>@PublicController\n@RequestMapping(&quot;/*&quot;)\npublic class DefaultPublicController {\n\n    private String servletContext = &quot;public/&quot;;\n\n    @RequestMapping\n    public String handle(HttpServletRequest request) {\n        return request.getRequestURI().substring(request.getRequestURI().lastIndexOf(servletContext) + servletContext.length());\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","heroku","deployment","heroku-cli"],"comments":[{"owner":{"account_id":9337172,"reputation":1341,"user_id":6931023,"accept_rate":50,"display_name":"gladiator"},"score":0,"creation_date":1685076095,"post_id":76337631,"comment_id":134613523,"body_markdown":"Can you put full pom and logs ....check if you have added java 8 in heroku or not","body":"Can you put full pom and logs ....check if you have added java 8 in heroku or not"},{"owner":{"account_id":2184114,"reputation":659,"user_id":1932930,"accept_rate":40,"display_name":"tdemay"},"score":0,"creation_date":1689990956,"post_id":76337631,"comment_id":135294813,"body_markdown":"did you get this resolve? I&#39;m facing the same issue.","body":"did you get this resolve? I&#39;m facing the same issue."}],"owner":{"account_id":28683067,"reputation":1,"user_id":21963852,"display_name":"backjeckham"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685110622,"creation_date":1685074574,"question_id":76337631,"body_markdown":"\r\n\r\n&gt; [ERROR] Failed to execute goal\r\n&gt; org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile\r\n&gt; (default-compile) on project MurderMysteryCRUDWebApp: Fatal error\r\n&gt; compiling: invalid flag: --release -&gt; [Help 1]\r\n&gt;        [ERROR] \r\n&gt;        [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n&gt;        [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n&gt;        [ERROR] \r\n&gt;        [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n&gt;        [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n&gt; !     ERROR: Failed to build app with Maven\r\n&gt;        We&#39;re sorry this build is failing! If you can&#39;t find the issue in application code,\r\n&gt;        please submit a ticket so we can help: https://help.heroku.com/  !     Push rejected, failed to compile Java app.  !     Push failed\r\n\r\n\r\n**Here is my POM.XML file**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;net.javaguides&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;MurderMysteryCRUDWebApp&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;MurderMysteryCRUDWebApp&lt;/name&gt;\r\n\t&lt;description&gt;Murder Mystery log using Spring Boot and Thymeleaf&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n  \t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nGetting the error at the top when trying to deploy Java Spring Boot application using `Heroku`. Not sure what else to try. I am using the git connect option on `Heroku`.\r\n\r\n\r\nI&#39;ve tried everything I could from Stackoverflow, I have exhausted my options please help me, thank you.","title":"Error deploying Java Springboot web application using Heroku","body":"<blockquote>\n<p>[ERROR] Failed to execute goal\norg.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile\n(default-compile) on project MurderMysteryCRUDWebApp: Fatal error\ncompiling: invalid flag: --release -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\" rel=\"nofollow noreferrer\">http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException</a>\n!     ERROR: Failed to build app with Maven\nWe're sorry this build is failing! If you can't find the issue in application code,\nplease submit a ticket so we can help: <a href=\"https://help.heroku.com/\" rel=\"nofollow noreferrer\">https://help.heroku.com/</a>  !     Push rejected, failed to compile Java app.  !     Push failed</p>\n</blockquote>\n<p><strong>Here is my POM.XML file</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;net.javaguides&lt;/groupId&gt;\n    &lt;artifactId&gt;MurderMysteryCRUDWebApp&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;MurderMysteryCRUDWebApp&lt;/name&gt;\n    &lt;description&gt;Murder Mystery log using Spring Boot and Thymeleaf&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Getting the error at the top when trying to deploy Java Spring Boot application using <code>Heroku</code>. Not sure what else to try. I am using the git connect option on <code>Heroku</code>.</p>\n<p>I've tried everything I could from Stackoverflow, I have exhausted my options please help me, thank you.</p>\n"},{"tags":["java","mocking","mockito","spy"],"answers":[{"tags":[],"owner":{"account_id":10319019,"reputation":141,"user_id":7612525,"display_name":"Jared Burgett"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1513573559,"creation_date":1513352654,"answer_id":47835624,"question_id":47822542,"body_markdown":"While I&#39;d still like to know if there&#39;s a better way to do this, I&#39;d like to post a solution for anyone who comes looking. \r\n\r\nThe solution below works fine, by requiring you to create a new mock (or even a real object/spy) for each level of your dependencies. In other words, instead of chaining your method calls to create your stub, you mock each level individually. \r\n\r\n    @Spy private Person person = //retrieve person\r\n    @Mock private Name name;\r\n\r\n    @Test\r\n    public void testStubbed() {\r\n        doReturn(name).when(person).getName();\r\n        doReturn(&quot;Neil&quot;).when(name).getName();\r\n        assertEquals(&quot;Neil&quot;, person.getName().getFirstName());\r\n    }\r\n","title":"Equivalent of Answers.RETURNS_DEEP_STUBS for a spy in mockito","body":"<p>While I'd still like to know if there's a better way to do this, I'd like to post a solution for anyone who comes looking. </p>\n\n<p>The solution below works fine, by requiring you to create a new mock (or even a real object/spy) for each level of your dependencies. In other words, instead of chaining your method calls to create your stub, you mock each level individually. </p>\n\n<pre><code>@Spy private Person person = //retrieve person\n@Mock private Name name;\n\n@Test\npublic void testStubbed() {\n    doReturn(name).when(person).getName();\n    doReturn(\"Neil\").when(name).getName();\n    assertEquals(\"Neil\", person.getName().getFirstName());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1513574991,"creation_date":1513574991,"answer_id":47862593,"question_id":47822542,"body_markdown":"You can get a little closer to the deep stubs you want by using `doAnswer(RETURNS_DEEP_STUBS)`, but you can&#39;t override arbitrarily-deep method calls without taking care to stub their parent calls. I&#39;d stick to manual single-level-deep mocks as you do in your answer, or use even less mocking if possible.\r\n\r\n---\r\n\r\nA spy&#39;s default behavior is to delegate to its real method call, which will typically return a real object (like your Name) and not a Mockito spy. This means that you won&#39;t normally be able to change those objects&#39; behavior using Mockito: a spy isn&#39;t really the same class as the object being spied on, but rather is a generated subclass where every field value is copied from the spied-on value. (The copying is an important feature, because a delegating spy would have very unintutitive behavior  regarding `this`, including for method calls and field values.)\r\n\r\n    Foo foo = new Foo();\r\n    foo.intValue = 42;\r\n    foo.someObject= new SomeObject();\r\n\r\n    Foo fooSpy = Mockito.spy(foo);\r\n    // Now fooSpy.intValue is 42, fooSpy.someObject refers to the exact same\r\n    // SomeObject instance, and all of fooSpy&#39;s non-final methods are overridden to\r\n    // delegate to Mockito&#39;s behavior. Importantly, SomeObject is not a spy, and\r\n    // Mockito cannot override its behavior!\r\n\r\nSo this won&#39;t work:\r\n\r\n    doReturn(&quot;Neil&quot;).when(person).getName().getFirstName();\r\n    //   Mockito thinks this call ^^^^^^^^^ should return &quot;Neil&quot;.\r\n\r\nAnd neither will this:\r\n\r\n    doReturn(&quot;Neil&quot;).when(person.getName()).getFirstName();\r\n    //    The object here ^^^^^^^^^^^^^^^^ won&#39;t be a mock, and even if Mockito\r\n    //    could automatically make it a mock, it&#39;s not clear whether that\r\n    //    should be the same spy instance every time or a new one every time.\r\n\r\nIn your situation, I&#39;d choose the following, in order from most preferable to least:\r\n\r\n 1. Create a real Name object and install it using `doReturn`. It looks like Name is a data object (aka value object) after all, which likely means it has no dependencies, solid behavior, and difficult-to-mock state transitions. You may not be gaining anything by mocking it.\r\n\r\n 2. Create a mock Name and install it [as you do in your answer](https://stackoverflow.com/a/47835624/1426891). This is particularly useful if Name is more complicated than it looks to be, or if it doesn&#39;t actually exist in the first place.\r\n\r\n 3. Replace getName to return a deep stub...\r\n\r\n        doAnswer(RETURNS_DEEP_STUBS).when(person).getName();\r\n\r\n    ...which you can then override...\r\n\r\n        doReturn(&quot;Neil&quot;).when(person.getName()).getFirstName();\r\n\r\n    ...even for arbitrarily deep values.\r\n\r\n        doReturn(&quot;Gaelic&quot;).when(person.getName()\r\n                                      .getEtymology()\r\n                                      .getFirstNameEtymology())\r\n            .getOrigin();\r\n\r\nAs a final editorial, one of the hazards of partial mocks is that it makes it really hard to tell which behavior is real and which is faked; this might make it hard for you to guarantee that the behavior you&#39;re testing is prod behavior and not mock behavior. Another hazard of deep stubbing is that you may be violating the [Law of Demeter](https://en.wikipedia.org/wiki/Law_of_Demeter) by definition. If you find yourself using this kind of technique often in tests, it may be time to consider rearchitecting your system under test.","title":"Equivalent of Answers.RETURNS_DEEP_STUBS for a spy in mockito","body":"<p>You can get a little closer to the deep stubs you want by using <code>doAnswer(RETURNS_DEEP_STUBS)</code>, but you can't override arbitrarily-deep method calls without taking care to stub their parent calls. I'd stick to manual single-level-deep mocks as you do in your answer, or use even less mocking if possible.</p>\n\n<hr>\n\n<p>A spy's default behavior is to delegate to its real method call, which will typically return a real object (like your Name) and not a Mockito spy. This means that you won't normally be able to change those objects' behavior using Mockito: a spy isn't really the same class as the object being spied on, but rather is a generated subclass where every field value is copied from the spied-on value. (The copying is an important feature, because a delegating spy would have very unintutitive behavior  regarding <code>this</code>, including for method calls and field values.)</p>\n\n<pre><code>Foo foo = new Foo();\nfoo.intValue = 42;\nfoo.someObject= new SomeObject();\n\nFoo fooSpy = Mockito.spy(foo);\n// Now fooSpy.intValue is 42, fooSpy.someObject refers to the exact same\n// SomeObject instance, and all of fooSpy's non-final methods are overridden to\n// delegate to Mockito's behavior. Importantly, SomeObject is not a spy, and\n// Mockito cannot override its behavior!\n</code></pre>\n\n<p>So this won't work:</p>\n\n<pre><code>doReturn(\"Neil\").when(person).getName().getFirstName();\n//   Mockito thinks this call ^^^^^^^^^ should return \"Neil\".\n</code></pre>\n\n<p>And neither will this:</p>\n\n<pre><code>doReturn(\"Neil\").when(person.getName()).getFirstName();\n//    The object here ^^^^^^^^^^^^^^^^ won't be a mock, and even if Mockito\n//    could automatically make it a mock, it's not clear whether that\n//    should be the same spy instance every time or a new one every time.\n</code></pre>\n\n<p>In your situation, I'd choose the following, in order from most preferable to least:</p>\n\n<ol>\n<li><p>Create a real Name object and install it using <code>doReturn</code>. It looks like Name is a data object (aka value object) after all, which likely means it has no dependencies, solid behavior, and difficult-to-mock state transitions. You may not be gaining anything by mocking it.</p></li>\n<li><p>Create a mock Name and install it <a href=\"https://stackoverflow.com/a/47835624/1426891\">as you do in your answer</a>. This is particularly useful if Name is more complicated than it looks to be, or if it doesn't actually exist in the first place.</p></li>\n<li><p>Replace getName to return a deep stub...</p>\n\n<pre><code>doAnswer(RETURNS_DEEP_STUBS).when(person).getName();\n</code></pre>\n\n<p>...which you can then override...</p>\n\n<pre><code>doReturn(\"Neil\").when(person.getName()).getFirstName();\n</code></pre>\n\n<p>...even for arbitrarily deep values.</p>\n\n<pre><code>doReturn(\"Gaelic\").when(person.getName()\n                              .getEtymology()\n                              .getFirstNameEtymology())\n    .getOrigin();\n</code></pre></li>\n</ol>\n\n<p>As a final editorial, one of the hazards of partial mocks is that it makes it really hard to tell which behavior is real and which is faked; this might make it hard for you to guarantee that the behavior you're testing is prod behavior and not mock behavior. Another hazard of deep stubbing is that you may be violating the <a href=\"https://en.wikipedia.org/wiki/Law_of_Demeter\" rel=\"nofollow noreferrer\">Law of Demeter</a> by definition. If you find yourself using this kind of technique often in tests, it may be time to consider rearchitecting your system under test.</p>\n"},{"tags":[],"owner":{"account_id":19617210,"reputation":1,"user_id":14358405,"display_name":"Sreddy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1601995984,"creation_date":1601991628,"answer_id":64227059,"question_id":47822542,"body_markdown":"    @Test\r\n\tpublic void listTypeTest() throws Exception {\r\n\t\tdoCallRealMethod().when(listType).setRecordCount(new BigInteger(&quot;556756756756&quot;));\r\n\t\tlistType.setRecordCount(new BigInteger(&quot;556756756756&quot;));\r\n\t\tdoCallRealMethod().when(listType).getRecordCount();\r\n\t\tassertEquals(new BigInteger(&quot;556756756756&quot;), listType.getRecordCount());\r\n\t}","title":"Equivalent of Answers.RETURNS_DEEP_STUBS for a spy in mockito","body":"<pre><code>@Test\npublic void listTypeTest() throws Exception {\n    doCallRealMethod().when(listType).setRecordCount(new BigInteger(&quot;556756756756&quot;));\n    listType.setRecordCount(new BigInteger(&quot;556756756756&quot;));\n    doCallRealMethod().when(listType).getRecordCount();\n    assertEquals(new BigInteger(&quot;556756756756&quot;), listType.getRecordCount());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1682228,"reputation":3337,"user_id":2011421,"accept_rate":88,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685110574,"creation_date":1685110574,"answer_id":76341683,"question_id":47822542,"body_markdown":"TLDR: Just create a `Mock` with `Answers.RETURNS_DEEP_STUBS` for the first called object from the spy and stub the invocation(s) you need.\r\n\r\n```\r\n@Spy \r\nprivate Person person = new Person();\r\n\r\n@Mock(answer = Answers.RETURNS_DEEP_STUBS)\r\nprivate Name name;\r\n\r\n@Test\r\npublic void testStubbed() {\r\n    doReturn(name).when(person).getName();\r\n    when(name.getX().getY().getZ().getFirstName()).thenReturn(&quot;Neil&quot;);\r\n    assertEquals(&quot;Neil&quot;, name.getX().getY().getZ().getFirstName());   \r\n}\r\n```","title":"Equivalent of Answers.RETURNS_DEEP_STUBS for a spy in mockito","body":"<p>TLDR: Just create a <code>Mock</code> with <code>Answers.RETURNS_DEEP_STUBS</code> for the first called object from the spy and stub the invocation(s) you need.</p>\n<pre><code>@Spy \nprivate Person person = new Person();\n\n@Mock(answer = Answers.RETURNS_DEEP_STUBS)\nprivate Name name;\n\n@Test\npublic void testStubbed() {\n    doReturn(name).when(person).getName();\n    when(name.getX().getY().getZ().getFirstName()).thenReturn(&quot;Neil&quot;);\n    assertEquals(&quot;Neil&quot;, name.getX().getY().getZ().getFirstName());   \n}\n</code></pre>\n"}],"owner":{"account_id":10319019,"reputation":141,"user_id":7612525,"display_name":"Jared Burgett"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9672,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1685110574,"creation_date":1513287941,"question_id":47822542,"body_markdown":"I have been unable to find a way to use &quot;Deep Stubs&quot; for stubbing methods on a spy in Mockito. What I&#39;m looking to do is something like this:\r\n\r\n    @Spy private Person person = //retrieve person\r\n    \r\n        @Test\r\n        public void testStubbed() {\r\n        \tdoReturn(&quot;Neil&quot;).when(person).getName().getFirstName();\r\n        \tassertEquals(&quot;Neil&quot;, person.getName().getFirstName());\r\n        }\r\n\r\nThe code above compiles with no issues, but upon running the test, it fails saying that the return type (the Name class, in this case) cannot be returned by getName(). \r\n\r\nNormally, when mocking, you have to use  \r\n`@Mock(answer = Answers.RETURNS_DEEP_STUBS)` for each mocked object. However, spy does not seem to have anything like this. \r\n\r\nHas anyone ever successfully done deep stubbed mocking using a spy?\r\n\r\nThe error I&#39;m receiving is listed below:\r\n\r\n    String cannot be returned by getName()\r\n    getName() should return Name\r\n    \r\n    Due to the nature of the syntax above problem might occur because of:\r\n    1. Multithreaded testing \r\n    //I&#39;m not doing multithreaded testing\r\n    2. A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies with doReturn|Throw() family of methods \r\n    //As shown above, I&#39;m already using the doReturn family of methods. ","title":"Equivalent of Answers.RETURNS_DEEP_STUBS for a spy in mockito","body":"<p>I have been unable to find a way to use \"Deep Stubs\" for stubbing methods on a spy in Mockito. What I'm looking to do is something like this:</p>\n\n<pre><code>@Spy private Person person = //retrieve person\n\n    @Test\n    public void testStubbed() {\n        doReturn(\"Neil\").when(person).getName().getFirstName();\n        assertEquals(\"Neil\", person.getName().getFirstName());\n    }\n</code></pre>\n\n<p>The code above compiles with no issues, but upon running the test, it fails saying that the return type (the Name class, in this case) cannot be returned by getName(). </p>\n\n<p>Normally, when mocking, you have to use<br>\n<code>@Mock(answer = Answers.RETURNS_DEEP_STUBS)</code> for each mocked object. However, spy does not seem to have anything like this. </p>\n\n<p>Has anyone ever successfully done deep stubbed mocking using a spy?</p>\n\n<p>The error I'm receiving is listed below:</p>\n\n<pre><code>String cannot be returned by getName()\ngetName() should return Name\n\nDue to the nature of the syntax above problem might occur because of:\n1. Multithreaded testing \n//I'm not doing multithreaded testing\n2. A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies with doReturn|Throw() family of methods \n//As shown above, I'm already using the doReturn family of methods. \n</code></pre>\n"},{"tags":["java","android","amazon-web-services","native","bitnami"],"owner":{"account_id":28685511,"reputation":1,"user_id":21965879,"display_name":"Debajyoti Das"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685110260,"creation_date":1685101377,"question_id":76340478,"body_markdown":"What change can I made in gradle build files so that I connect the parse server from aws EC2 bitnami in my new flamingo version of Android studio?\r\n\r\n\r\n\r\nI tried from previous courses codes but it gives error and I searched youtubes as well for this but these codes also not works","title":"How to get rid off error in gradle files in new flamingo version of Android studio to connect bitnami perse server from AWS","body":"<p>What change can I made in gradle build files so that I connect the parse server from aws EC2 bitnami in my new flamingo version of Android studio?</p>\n<p>I tried from previous courses codes but it gives error and I searched youtubes as well for this but these codes also not works</p>\n"},{"tags":["java","interface","implementation","abstraction"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1685081542,"post_id":76338039,"comment_id":134614116,"body_markdown":"an abstract can have implemented methods. It just can&#39;t be instantiated, unless through a subclass.","body":"an abstract can have implemented methods. It just can&#39;t be instantiated, unless through a subclass."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1685081599,"post_id":76338039,"comment_id":134614124,"body_markdown":"actually, that answer is a bit out-of-date. interfaces can now also contain implemented (default) methods","body":"actually, that answer is a bit out-of-date. interfaces can now also contain implemented (default) methods"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1685082382,"post_id":76338039,"comment_id":134614236,"body_markdown":"&quot;*an abstract class is one which has no body (implementation)*&quot; is not correct, probably it was meant to be &quot;*an abstract **method** is one which has no body (implementation)*&quot; - a class always have a body and at least a default constructor (eventually empty) || and &#39; *&quot;abstract&quot; literally means &quot;no body&quot;* &#39; is wrong || Java Language Specification [8.1.1.1. abstract Classes](https://docs.oracle.com/javase/specs/jls/se20/html/jls-8.html#jls-8.1.1.1): &quot;An abstract class is a class that is incomplete, or to be considered incomplete.&quot;","body":"&quot;<i>an abstract class is one which has no body (implementation)</i>&quot; is not correct, probably it was meant to be &quot;<i>an abstract <b>method</b> is one which has no body (implementation)</i>&quot; - a class always have a body and at least a default constructor (eventually empty) || and &#39; <i>&quot;abstract&quot; literally means &quot;no body&quot;</i> &#39; is wrong || Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-8.html#jls-8.1.1.1\" rel=\"nofollow noreferrer\">8.1.1.1. abstract Classes</a>: &quot;An abstract class is a class that is incomplete, or to be considered incomplete.&quot;"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1685083475,"post_id":76338039,"comment_id":134614425,"body_markdown":"&quot;_whereas an INTERFACE contains ONLY abstract methods_&quot; – Not only is this wrong because interfaces can have `default` methods since Java 8, as mentioned previously, but interfaces can also have `private` concrete methods since Java 9 (note a private method can never be abstract). And that&#39;s ignoring the fact that interfaces can have `static` methods, though I suppose that&#39;s tangential to the concept, as static methods can never be abstract, and they aren&#39;t polymorphic.","body":"&quot;<i>whereas an INTERFACE contains ONLY abstract methods</i>&quot; – Not only is this wrong because interfaces can have <code>default</code> methods since Java 8, as mentioned previously, but interfaces can also have <code>private</code> concrete methods since Java 9 (note a private method can never be abstract). And that&#39;s ignoring the fact that interfaces can have <code>static</code> methods, though I suppose that&#39;s tangential to the concept, as static methods can never be abstract, and they aren&#39;t polymorphic."}],"answers":[{"tags":[],"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685095281,"creation_date":1685095281,"answer_id":76339729,"question_id":76338039,"body_markdown":"Because in Java isn&#39;t used the literal meaning that you assign.\r\n\r\nPlease see [online references][1]:\r\n\r\n&gt; Data abstraction is the process of hiding certain details and showing\r\n&gt; only essential information to the user. Abstraction can be achieved\r\n&gt; with either abstract classes or interfaces (which you will learn more\r\n&gt; about in the next chapter).\r\n&gt; \r\n&gt; The abstract keyword is a non-access modifier, used for classes and\r\n&gt; methods:\r\n&gt; \r\n&gt; Abstract class: is a restricted class that cannot be used to create\r\n&gt; objects (to access it, it must be inherited from another class).\r\n&gt; \r\n&gt; Abstract method: can only be used in an abstract class, and it does\r\n&gt; not have a body. The body is provided by the subclass (inherited\r\n&gt; from). An abstract class can have both abstract and regular methods\r\n\r\n\r\n  [1]: https://www.w3schools.com/java/java_abstract.asp","title":"If an abstract class is one which has no body (implementation) then how is it that it can also contain regular (implemented) methods?","body":"<p>Because in Java isn't used the literal meaning that you assign.</p>\n<p>Please see <a href=\"https://www.w3schools.com/java/java_abstract.asp\" rel=\"nofollow noreferrer\">online references</a>:</p>\n<blockquote>\n<p>Data abstraction is the process of hiding certain details and showing\nonly essential information to the user. Abstraction can be achieved\nwith either abstract classes or interfaces (which you will learn more\nabout in the next chapter).</p>\n<p>The abstract keyword is a non-access modifier, used for classes and\nmethods:</p>\n<p>Abstract class: is a restricted class that cannot be used to create\nobjects (to access it, it must be inherited from another class).</p>\n<p>Abstract method: can only be used in an abstract class, and it does\nnot have a body. The body is provided by the subclass (inherited\nfrom). An abstract class can have both abstract and regular methods</p>\n</blockquote>\n"}],"owner":{"account_id":24772077,"reputation":1,"user_id":18655762,"display_name":"JDANDE"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685110181,"answer_count":1,"score":0,"last_activity_date":1685110239,"creation_date":1685081120,"question_id":76338039,"body_markdown":"So I came across this line while studying abstraction in Java: \r\nABSTRACT CLASSES can also contain implemented methods ( aka regular methods) whereas an INTERFACE contains ONLY abstract methods ( methods that are not implemented yet).\r\n\r\n\r\n\r\nBut if &quot;abstract&quot; literally means &quot;no body&quot;, then how is it that the implementation of regular methods can be given in the abstract classes?","title":"If an abstract class is one which has no body (implementation) then how is it that it can also contain regular (implemented) methods?","body":"<p>So I came across this line while studying abstraction in Java:\nABSTRACT CLASSES can also contain implemented methods ( aka regular methods) whereas an INTERFACE contains ONLY abstract methods ( methods that are not implemented yet).</p>\n<p>But if &quot;abstract&quot; literally means &quot;no body&quot;, then how is it that the implementation of regular methods can be given in the abstract classes?</p>\n"},{"tags":["java","intellij-idea","homebrew"],"answers":[{"tags":[],"owner":{"account_id":19474153,"reputation":43,"user_id":14245845,"display_name":"Dilyan Galabov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635249447,"creation_date":1635249447,"answer_id":69722688,"question_id":69722604,"body_markdown":"IntelliJ has only JDK&#39;s which are installed by the IDE, so if you want to see them all you must add them externally. Here is a link which can help - https://www.jetbrains.com/help/idea/sdk.html#change-project-sdk.","title":"Choose necessary JDK for IntelliJ IDEA","body":"<p>IntelliJ has only JDK's which are installed by the IDE, so if you want to see them all you must add them externally. Here is a link which can help - <a href=\"https://www.jetbrains.com/help/idea/sdk.html#change-project-sdk\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/sdk.html#change-project-sdk</a>.</p>\n"},{"tags":[],"owner":{"account_id":2818342,"reputation":299828,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635249498,"creation_date":1635249498,"answer_id":69722702,"question_id":69722604,"body_markdown":"IntelliJ doesn&#39;t scan your hard drive for JDKs, so you need to &quot;register&quot; every JDK you want to use.\r\n\r\nGo to File -&gt; Project Structure -&gt; SDKs, and then click the &quot;+&quot; icon above the list of SDKs. Choose &quot;Add JDK&quot; and then navigate it to the location the JDK you want to use is installed:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gr8yz.png","title":"Choose necessary JDK for IntelliJ IDEA","body":"<p>IntelliJ doesn't scan your hard drive for JDKs, so you need to &quot;register&quot; every JDK you want to use.</p>\n<p>Go to File -&gt; Project Structure -&gt; SDKs, and then click the &quot;+&quot; icon above the list of SDKs. Choose &quot;Add JDK&quot; and then navigate it to the location the JDK you want to use is installed:</p>\n<p><a href=\"https://i.stack.imgur.com/gr8yz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gr8yz.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635249667,"creation_date":1635249667,"answer_id":69722740,"question_id":69722604,"body_markdown":"Workaround here, as this is pretty convoluted. \r\n\r\nYou seem to be trying to set up a specific JRE to run Maven. \r\n\r\nThe list of available JDKs/JREs is the same as the one available in your project-specific settings. \r\n\r\nYou can open those by pressing F12 when highlighting the root folder (or any folder) in your project in the file tree on the left panel. \r\n\r\nFrom there, you should see a modal that lists, among other things, a &quot;Platform settings -&gt; SDKs&quot; menu. \r\n\r\nFinally, you can add your local JDKs (and therefore JREs) based on their location in your file system. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nFinally, go back to your maven settings and pick the correct one from the list. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JX5O1.png","title":"Choose necessary JDK for IntelliJ IDEA","body":"<p>Workaround here, as this is pretty convoluted.</p>\n<p>You seem to be trying to set up a specific JRE to run Maven.</p>\n<p>The list of available JDKs/JREs is the same as the one available in your project-specific settings.</p>\n<p>You can open those by pressing F12 when highlighting the root folder (or any folder) in your project in the file tree on the left panel.</p>\n<p>From there, you should see a modal that lists, among other things, a &quot;Platform settings -&gt; SDKs&quot; menu.</p>\n<p>Finally, you can add your local JDKs (and therefore JREs) based on their location in your file system.</p>\n<p><a href=\"https://i.stack.imgur.com/JX5O1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JX5O1.png\" alt=\"enter image description here\" /></a></p>\n<p>Finally, go back to your maven settings and pick the correct one from the list.</p>\n"}],"owner":{"account_id":15345283,"reputation":105,"user_id":11160974,"display_name":"Programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1685110186,"creation_date":1635249131,"question_id":69722604,"body_markdown":"I have a lot of JDK versions installed by `Homebrew`\r\n\r\nI check it with command `jenv versions` \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut when I open IntelliJ Idea settings, I see only one JDK \r\n[![enter image description here][2]][2]\r\n\r\nWhat should I do if I want to choose all of the possible JDK&#39;s installed on my laptop?\r\n\r\n  [1]: https://i.stack.imgur.com/FqH0B.png\r\n  [2]: https://i.stack.imgur.com/veeJG.png","title":"Choose necessary JDK for IntelliJ IDEA","body":"<p>I have a lot of JDK versions installed by <code>Homebrew</code></p>\n<p>I check it with command <code>jenv versions</code></p>\n<p><a href=\"https://i.stack.imgur.com/FqH0B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FqH0B.png\" alt=\"enter image description here\" /></a></p>\n<p>But when I open IntelliJ Idea settings, I see only one JDK\n<a href=\"https://i.stack.imgur.com/veeJG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/veeJG.png\" alt=\"enter image description here\" /></a></p>\n<p>What should I do if I want to choose all of the possible JDK's installed on my laptop?</p>\n"},{"tags":["java","hibernate","hibernate-mapping"],"owner":{"account_id":25499801,"reputation":3,"user_id":19293271,"display_name":"Roi Tiefenbrunn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685109963,"creation_date":1685109963,"question_id":76341593,"body_markdown":"I&#39;m trying to build Entity relationship using Java Hibernate and I&#39;m getting some difficulties setting a `@OneToMany` Map field.\r\n\r\nThis is roughly my set-up:\r\n\r\n# Class Store\r\n\r\n\r\n```\r\n@Entity\r\npublic class Store {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    private String name;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;key.store&quot;, fetch = FetchType.LAZY)\r\n    @MapKey(name = &quot;key.id&quot;)\r\n    private Map&lt;Long, Product&gt; products;\r\n...\r\n}\r\n```\r\nA store can have many products. \r\n\r\n# Class Product\r\n```\r\n@Entity\r\npublic class Product {\r\n    @EmbeddedId\r\n    private ProductKey key;\r\n\r\n    private String name;\r\n\r\n    private double price;\r\n...\r\n}\r\n```\r\n# Class ProductKey\r\n```\r\n@Embeddable\r\npublic class ProductKey implements Serializable {\r\n    private static int ID_COUNTER = 0;\r\n\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;store_id&quot;, nullable = false)\r\n    private Store store;\r\n\r\n    @Column(name = &quot;product_id&quot;)\r\n    private Integer id;\r\n...\r\n}\r\n```\r\nEach product can belong to one store only - hence the `@OneToOne` relationship here. It also has its own ID.\r\n\r\n# Class Basket\r\n```\r\n@Entity\r\npublic class Basket {\r\n    @EmbeddeId\r\n    private BasketKey key;\r\n\r\n    @OneToMany(mappedBy = &quot;key.basket&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    @MapKeyJoinColumn(name = &quot;product_id&quot;)\r\n    private Map&lt;Integer, BaskedProduct&gt; products;\r\n...\r\n}\r\n```\r\n# Class BasketKey\r\n```\r\n@Embeddable\r\npublic class BasketKey implements Serializable {\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;store_id&quot;, nullable = false)\r\n    private Store store;\r\n\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;user_name&quot;, nullable = false)\r\n    private User user;\r\n...\r\n}\r\n```\r\nEach basket belongs to one user and one store. \r\n\r\n# Class BaskedProduct\r\n```\r\n@Entity\r\npublic class BaskedProduct {\r\n    @EmbeddedId\r\n    private BaskedProductKey key;\r\n\r\n    private int quantity;\r\n...\r\n}\r\n```\r\n# Class BaskedProductKey\r\n```\r\n@Embeddable\r\npublic class BaskedProductKey implements Serializable {\r\n    @ManyToOne\r\n    @JoinColumns({\r\n            @JoinColumn(name = &quot;product_id&quot;, referencedColumnName = &quot;product_id&quot;),\r\n            @JoinColumn(name = &quot;store_id&quot;, referencedColumnName = &quot;store_id&quot;)\r\n    })\r\n    private Product product;\r\n\r\n    @ManyToOne\r\n    @JoinColumns({\r\n        @JoinColumn(name = &quot;basket_store_id&quot;, referencedColumnName = &quot;store_id&quot;),\r\n        @JoinColumn(name = &quot;basket_cart_username&quot;, referencedColumnName = &quot;cart_user_name&quot;)\r\n    })\r\n    private Basket basket;\r\n...\r\n}\r\n```\r\nBaskedProduct represents copied of chosen product that a user has added to his relevant basket. \r\n\r\nI have a problem with the `products` field of class `Basket`. I want to map product ID to the BaskedProduct. But the `@MapKeyJoinColumn` attribute adds a `products_key` column to the `baskedproducts` table instead of retrieving data from the table.\r\nWhat did I do wrong and how can I fix this?\r\n","title":"How do I fix the @MapKeyJoinColumn attribute adding a products_key column in Hibernate Java mapping?","body":"<p>I'm trying to build Entity relationship using Java Hibernate and I'm getting some difficulties setting a <code>@OneToMany</code> Map field.</p>\n<p>This is roughly my set-up:</p>\n<h1>Class Store</h1>\n<pre><code>@Entity\npublic class Store {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    private String name;\n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;key.store&quot;, fetch = FetchType.LAZY)\n    @MapKey(name = &quot;key.id&quot;)\n    private Map&lt;Long, Product&gt; products;\n...\n}\n</code></pre>\n<p>A store can have many products.</p>\n<h1>Class Product</h1>\n<pre><code>@Entity\npublic class Product {\n    @EmbeddedId\n    private ProductKey key;\n\n    private String name;\n\n    private double price;\n...\n}\n</code></pre>\n<h1>Class ProductKey</h1>\n<pre><code>@Embeddable\npublic class ProductKey implements Serializable {\n    private static int ID_COUNTER = 0;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;store_id&quot;, nullable = false)\n    private Store store;\n\n    @Column(name = &quot;product_id&quot;)\n    private Integer id;\n...\n}\n</code></pre>\n<p>Each product can belong to one store only - hence the <code>@OneToOne</code> relationship here. It also has its own ID.</p>\n<h1>Class Basket</h1>\n<pre><code>@Entity\npublic class Basket {\n    @EmbeddeId\n    private BasketKey key;\n\n    @OneToMany(mappedBy = &quot;key.basket&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    @MapKeyJoinColumn(name = &quot;product_id&quot;)\n    private Map&lt;Integer, BaskedProduct&gt; products;\n...\n}\n</code></pre>\n<h1>Class BasketKey</h1>\n<pre><code>@Embeddable\npublic class BasketKey implements Serializable {\n    @OneToOne\n    @JoinColumn(name = &quot;store_id&quot;, nullable = false)\n    private Store store;\n\n    @OneToOne\n    @JoinColumn(name = &quot;user_name&quot;, nullable = false)\n    private User user;\n...\n}\n</code></pre>\n<p>Each basket belongs to one user and one store.</p>\n<h1>Class BaskedProduct</h1>\n<pre><code>@Entity\npublic class BaskedProduct {\n    @EmbeddedId\n    private BaskedProductKey key;\n\n    private int quantity;\n...\n}\n</code></pre>\n<h1>Class BaskedProductKey</h1>\n<pre><code>@Embeddable\npublic class BaskedProductKey implements Serializable {\n    @ManyToOne\n    @JoinColumns({\n            @JoinColumn(name = &quot;product_id&quot;, referencedColumnName = &quot;product_id&quot;),\n            @JoinColumn(name = &quot;store_id&quot;, referencedColumnName = &quot;store_id&quot;)\n    })\n    private Product product;\n\n    @ManyToOne\n    @JoinColumns({\n        @JoinColumn(name = &quot;basket_store_id&quot;, referencedColumnName = &quot;store_id&quot;),\n        @JoinColumn(name = &quot;basket_cart_username&quot;, referencedColumnName = &quot;cart_user_name&quot;)\n    })\n    private Basket basket;\n...\n}\n</code></pre>\n<p>BaskedProduct represents copied of chosen product that a user has added to his relevant basket.</p>\n<p>I have a problem with the <code>products</code> field of class <code>Basket</code>. I want to map product ID to the BaskedProduct. But the <code>@MapKeyJoinColumn</code> attribute adds a <code>products_key</code> column to the <code>baskedproducts</code> table instead of retrieving data from the table.\nWhat did I do wrong and how can I fix this?</p>\n"},{"tags":["java","web-services","unit-testing","jersey","jax-rs"],"comments":[{"owner":{"account_id":3436929,"reputation":2608,"user_id":2879838,"display_name":"David Fleeman"},"score":0,"creation_date":1418349313,"post_id":27430052,"comment_id":43312168,"body_markdown":"Simply use a mocking framework like EasyMock or JMock.  I&#39;ll try to provide an answer with example later.","body":"Simply use a mocking framework like EasyMock or JMock.  I&#39;ll try to provide an answer with example later."},{"owner":{"account_id":2404390,"reputation":7871,"user_id":2101290,"accept_rate":8,"display_name":"Balaji Boggaram Ramanarayan"},"score":0,"creation_date":1418351941,"post_id":27430052,"comment_id":43312758,"body_markdown":"I am not sure what you are trying to indicate here ? I have seen people using @Inject CDI as dependency injection and in our tests, we can use Mockito.* to mock them. But I had issues with CDI + JAX-RS Jersey. I would appreciate if you could provide an example ? Thanks","body":"I am not sure what you are trying to indicate here ? I have seen people using @Inject CDI as dependency injection and in our tests, we can use Mockito.* to mock them. But I had issues with CDI + JAX-RS Jersey. I would appreciate if you could provide an example ? Thanks"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1418393077,"post_id":27430052,"comment_id":43329514,"body_markdown":"What Jersey version are you using?","body":"What Jersey version are you using?"}],"answers":[{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1685109531,"creation_date":1418399774,"answer_id":27447345,"question_id":27430052,"body_markdown":"**See Update below: You don&#39;t need a `Factory`**\r\n\r\n----\r\n\r\nIf you are using Jersey 2, one solution would be to use [Custom Injection and Lifecycle Management](https://jersey.java.net/documentation/latest/ioc.html) feature (with [HK2](https://hk2.java.net/2.4.0-b07/) - which comes with the Jersey dist). Also required would be a Mocking framework of course. I&#39;m going to use Mockito.\r\n\r\nFirst create a Factory with mocked instance:\r\n\r\n    public static interface GreetingService {\r\n        public String getGreeting(String name);\r\n    }\r\n\r\n    public static class MockGreetingServiceFactory \r\n                                         implements Factory&lt;GreetingService&gt; {\r\n        @Override\r\n        public GreetingService provide() {\r\n            final GreetingService mockedService\r\n                    = Mockito.mock(GreetingService.class);\r\n            Mockito.when(mockedService.getGreeting(Mockito.anyString()))\r\n                    .thenAnswer(new Answer&lt;String&gt;() {\r\n                        @Override\r\n                        public String answer(InvocationOnMock invocation) \r\n                                                          throws Throwable {\r\n                            String name = (String)invocation.getArguments()[0];\r\n                            return &quot;Hello &quot; + name;\r\n                        }\r\n\r\n                    });\r\n            return mockedService;\r\n        }\r\n\r\n        @Override\r\n        public void dispose(GreetingService t) {}\r\n    }\r\n\r\nThen use the `AbstractBinder` to bind the factory to the interface/service class, and register the binder. (It&#39;s all described in the link above):\r\n\r\n    @Override\r\n    public Application configure() {\r\n        AbstractBinder binder = new AbstractBinder() {\r\n            @Override\r\n            protected void configure() {\r\n                bindFactory(MockGreetingServiceFactory.class)\r\n                                   .to(GreetingService.class);\r\n            }\r\n        };\r\n        ResourceConfig config = new ResourceConfig(GreetingResource.class);\r\n        config.register(binder);\r\n        return config;\r\n    }\r\n\r\nSeems like a lot, but it&#39;s just an option. I&#39;m not too familiar with the test framework, or if it has an mocking capabilities for injection.\r\n\r\nHere is the full test:\r\n\r\n    import javax.inject.Inject;\r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.Produces;\r\n    import javax.ws.rs.QueryParam;\r\n    import javax.ws.rs.client.Client;\r\n    import javax.ws.rs.client.ClientBuilder;\r\n    import javax.ws.rs.core.Application;\r\n    import javax.ws.rs.core.MediaType;\r\n    import javax.ws.rs.core.Response;\r\n    import org.glassfish.hk2.api.Factory;\r\n    import org.glassfish.hk2.utilities.binding.AbstractBinder;\r\n    import org.glassfish.jersey.server.ResourceConfig;\r\n    import org.glassfish.jersey.test.JerseyTest;\r\n    import org.junit.Assert;\r\n    import org.junit.Test;\r\n    import org.mockito.Mockito;\r\n    import org.mockito.invocation.InvocationOnMock;\r\n    import org.mockito.stubbing.Answer;\r\n    \r\n    public class ServiceMockingTest extends JerseyTest {\r\n    \r\n        @Path(&quot;/greeting&quot;)\r\n        public static class GreetingResource {\r\n    \r\n            @Inject\r\n            private GreetingService greetingService;\r\n    \r\n            @GET\r\n            @Produces(MediaType.TEXT_PLAIN)\r\n            public String getGreeting(@QueryParam(&quot;name&quot;) String name) {\r\n                return greetingService.getGreeting(name);\r\n            }\r\n        }\r\n    \r\n        public static interface GreetingService {\r\n            public String getGreeting(String name);\r\n        }\r\n        \r\n        public static class MockGreetingServiceFactory \r\n                                      implements Factory&lt;GreetingService&gt; {\r\n            @Override\r\n            public GreetingService provide() {\r\n                final GreetingService mockedService\r\n                        = Mockito.mock(GreetingService.class);\r\n                Mockito.when(mockedService.getGreeting(Mockito.anyString()))\r\n                        .thenAnswer(new Answer&lt;String&gt;() {\r\n                            @Override\r\n                            public String answer(InvocationOnMock invocation) \r\n                                                           throws Throwable {\r\n                                String name = (String)invocation.getArguments()[0];\r\n                                return &quot;Hello &quot; + name;\r\n                            }\r\n    \r\n                        });\r\n                return mockedService;\r\n            }\r\n    \r\n            @Override\r\n            public void dispose(GreetingService t) {}\r\n        }\r\n    \r\n        @Override\r\n        public Application configure() {\r\n            AbstractBinder binder = new AbstractBinder() {\r\n                @Override\r\n                protected void configure() {\r\n                    bindFactory(MockGreetingServiceFactory.class)\r\n                            .to(GreetingService.class);\r\n                }\r\n            };\r\n            ResourceConfig config = new ResourceConfig(GreetingResource.class);\r\n            config.register(binder);\r\n            return config;\r\n        }\r\n        \r\n        @Test\r\n        public void testMockedGreetingService() {\r\n            Client client = ClientBuilder.newClient();\r\n            Response response = client.target(&quot;http://localhost:9998/greeting&quot;)\r\n                    .queryParam(&quot;name&quot;, &quot;peeskillet&quot;)\r\n                    .request(MediaType.TEXT_PLAIN).get();\r\n            Assert.assertEquals(200, response.getStatus());\r\n            \r\n            String msg = response.readEntity(String.class);\r\n            Assert.assertEquals(&quot;Hello peeskillet&quot;, msg);\r\n            System.out.println(&quot;Message: &quot; + msg);\r\n            \r\n            response.close();\r\n            client.close();\r\n           \r\n        }\r\n    }\r\n\r\nDependencies for this test:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.test-framework.providers&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-test-framework-provider-grizzly2&lt;/artifactId&gt;\r\n        &lt;version&gt;2.13&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\r\n        &lt;version&gt;1.9.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n----\r\n\r\n## UPDATE\r\n\r\nSo in most cases, you really don&#39;t need a `Factory`. You can simply bind the mock instance with its contract:\r\n\r\n    @Mock\r\n    private Service service;\r\n    \r\n    @Override\r\n    public ResourceConfig configure() {\r\n        MockitoAnnotations.initMocks(this);\r\n        return new ResourceConfig()\r\n            .register(MyResource.class)\r\n            .register(new AbstractBinder() {\r\n                @Override\r\n                protected void configure() {\r\n                    bind(service).to(Service.class);\r\n                }\r\n            });\r\n    }\r\n    \r\n    @Test\r\n    public void test() {\r\n        when(service.getSomething()).thenReturn(&quot;Something&quot;);\r\n        // test\r\n    }\r\n\r\nMuch simpler!\r\n\r\n","title":"Jersey - How to mock service","body":"<p><strong>See Update below: You don't need a <code>Factory</code></strong></p>\n<hr />\n<p>If you are using Jersey 2, one solution would be to use <a href=\"https://jersey.java.net/documentation/latest/ioc.html\" rel=\"nofollow noreferrer\">Custom Injection and Lifecycle Management</a> feature (with <a href=\"https://hk2.java.net/2.4.0-b07/\" rel=\"nofollow noreferrer\">HK2</a> - which comes with the Jersey dist). Also required would be a Mocking framework of course. I'm going to use Mockito.</p>\n<p>First create a Factory with mocked instance:</p>\n<pre><code>public static interface GreetingService {\n    public String getGreeting(String name);\n}\n\npublic static class MockGreetingServiceFactory \n                                     implements Factory&lt;GreetingService&gt; {\n    @Override\n    public GreetingService provide() {\n        final GreetingService mockedService\n                = Mockito.mock(GreetingService.class);\n        Mockito.when(mockedService.getGreeting(Mockito.anyString()))\n                .thenAnswer(new Answer&lt;String&gt;() {\n                    @Override\n                    public String answer(InvocationOnMock invocation) \n                                                      throws Throwable {\n                        String name = (String)invocation.getArguments()[0];\n                        return &quot;Hello &quot; + name;\n                    }\n\n                });\n        return mockedService;\n    }\n\n    @Override\n    public void dispose(GreetingService t) {}\n}\n</code></pre>\n<p>Then use the <code>AbstractBinder</code> to bind the factory to the interface/service class, and register the binder. (It's all described in the link above):</p>\n<pre><code>@Override\npublic Application configure() {\n    AbstractBinder binder = new AbstractBinder() {\n        @Override\n        protected void configure() {\n            bindFactory(MockGreetingServiceFactory.class)\n                               .to(GreetingService.class);\n        }\n    };\n    ResourceConfig config = new ResourceConfig(GreetingResource.class);\n    config.register(binder);\n    return config;\n}\n</code></pre>\n<p>Seems like a lot, but it's just an option. I'm not too familiar with the test framework, or if it has an mocking capabilities for injection.</p>\n<p>Here is the full test:</p>\n<pre><code>import javax.inject.Inject;\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.QueryParam;\nimport javax.ws.rs.client.Client;\nimport javax.ws.rs.client.ClientBuilder;\nimport javax.ws.rs.core.Application;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.core.Response;\nimport org.glassfish.hk2.api.Factory;\nimport org.glassfish.hk2.utilities.binding.AbstractBinder;\nimport org.glassfish.jersey.server.ResourceConfig;\nimport org.glassfish.jersey.test.JerseyTest;\nimport org.junit.Assert;\nimport org.junit.Test;\nimport org.mockito.Mockito;\nimport org.mockito.invocation.InvocationOnMock;\nimport org.mockito.stubbing.Answer;\n\npublic class ServiceMockingTest extends JerseyTest {\n\n    @Path(&quot;/greeting&quot;)\n    public static class GreetingResource {\n\n        @Inject\n        private GreetingService greetingService;\n\n        @GET\n        @Produces(MediaType.TEXT_PLAIN)\n        public String getGreeting(@QueryParam(&quot;name&quot;) String name) {\n            return greetingService.getGreeting(name);\n        }\n    }\n\n    public static interface GreetingService {\n        public String getGreeting(String name);\n    }\n    \n    public static class MockGreetingServiceFactory \n                                  implements Factory&lt;GreetingService&gt; {\n        @Override\n        public GreetingService provide() {\n            final GreetingService mockedService\n                    = Mockito.mock(GreetingService.class);\n            Mockito.when(mockedService.getGreeting(Mockito.anyString()))\n                    .thenAnswer(new Answer&lt;String&gt;() {\n                        @Override\n                        public String answer(InvocationOnMock invocation) \n                                                       throws Throwable {\n                            String name = (String)invocation.getArguments()[0];\n                            return &quot;Hello &quot; + name;\n                        }\n\n                    });\n            return mockedService;\n        }\n\n        @Override\n        public void dispose(GreetingService t) {}\n    }\n\n    @Override\n    public Application configure() {\n        AbstractBinder binder = new AbstractBinder() {\n            @Override\n            protected void configure() {\n                bindFactory(MockGreetingServiceFactory.class)\n                        .to(GreetingService.class);\n            }\n        };\n        ResourceConfig config = new ResourceConfig(GreetingResource.class);\n        config.register(binder);\n        return config;\n    }\n    \n    @Test\n    public void testMockedGreetingService() {\n        Client client = ClientBuilder.newClient();\n        Response response = client.target(&quot;http://localhost:9998/greeting&quot;)\n                .queryParam(&quot;name&quot;, &quot;peeskillet&quot;)\n                .request(MediaType.TEXT_PLAIN).get();\n        Assert.assertEquals(200, response.getStatus());\n        \n        String msg = response.readEntity(String.class);\n        Assert.assertEquals(&quot;Hello peeskillet&quot;, msg);\n        System.out.println(&quot;Message: &quot; + msg);\n        \n        response.close();\n        client.close();\n       \n    }\n}\n</code></pre>\n<p>Dependencies for this test:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.test-framework.providers&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-test-framework-provider-grizzly2&lt;/artifactId&gt;\n    &lt;version&gt;2.13&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\n    &lt;version&gt;1.9.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<hr />\n<h2>UPDATE</h2>\n<p>So in most cases, you really don't need a <code>Factory</code>. You can simply bind the mock instance with its contract:</p>\n<pre><code>@Mock\nprivate Service service;\n\n@Override\npublic ResourceConfig configure() {\n    MockitoAnnotations.initMocks(this);\n    return new ResourceConfig()\n        .register(MyResource.class)\n        .register(new AbstractBinder() {\n            @Override\n            protected void configure() {\n                bind(service).to(Service.class);\n            }\n        });\n}\n\n@Test\npublic void test() {\n    when(service.getSomething()).thenReturn(&quot;Something&quot;);\n    // test\n}\n</code></pre>\n<p>Much simpler!</p>\n"},{"tags":[],"owner":{"account_id":1241442,"reputation":1633,"user_id":1203948,"accept_rate":46,"display_name":"Lars Juel Jensen"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1466113667,"creation_date":1439553511,"answer_id":32009541,"question_id":27430052,"body_markdown":"Here is how I did it with Jersey 2.20, Spring 4.1.4 RELEASE, Mockito 1.10.8, and TestNG 6.8.8.\r\n\r\n    @Test\r\n    public class CasesResourceTest extends JerseyTestNg.ContainerPerMethodTest {\r\n    \t\r\n    \t@Mock\r\n    \tprivate CaseService caseService;\r\n    \t\r\n    \t@Mock\r\n    \tprivate CaseConverter caseConverter;\t\r\n    \t\r\n    \t@Mock\r\n    \tprivate CaseRepository caseRepository;\r\n    \t\r\n    \tprivate CasesResource casesResource;\r\n    \r\n    \t@Override\r\n    \tprotected Application configure() {\r\n    \t\t\r\n    \t\tMockitoAnnotations.initMocks(this);\r\n    \t\tcasesResource = new CasesResource();\r\n    \t\t\r\n    \t\tAbstractBinder binder = new AbstractBinder() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tprotected void configure() {\r\n    \t\t\t\tbindFactory(new InstanceFactory&lt;CaseConverter&gt;(caseConverter)).to(CaseConverter.class);\r\n    \t\t\t\tbindFactory(new InstanceFactory&lt;CaseService&gt;(caseService)).to(CaseService.class);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\t\r\n    \t\treturn new ResourceConfig()\r\n    \t\t\t.register(binder)\r\n    \t\t\t.register(casesResource)\r\n    \t\t\t.property(&quot;contextConfigLocation&quot;, &quot;solve-scm-rest/test-context.xml&quot;);\r\n    \t}\r\n    \t\r\n    \tpublic void getAllCases() throws Exception {\r\n    \t\t\r\n    \t\twhen(caseService.getAll()).thenReturn(Lists.newArrayList(new solve.scm.domain.Case()));\r\n    \t\twhen(caseConverter.convertToApi(any(solve.scm.domain.Case.class))).thenReturn(new Case());\r\n    \t\t\r\n    \t\tCollection&lt;Case&gt; cases = target(&quot;/cases&quot;).request().get(new GenericType&lt;Collection&lt;Case&gt;&gt;(){});\r\n    \t\t\r\n    \t\tverify(caseService, times(1)).getAll();\r\n    \t\tverify(caseConverter, times(1)).convertToApi(any(solve.scm.domain.Case.class));\r\n    \t\t\r\n    \t\tassertThat(cases).hasSize(1);\r\n    \t}\r\n    }\r\n\r\nYou also need this class which makes the binding code above a bit easier:\r\n\r\n    public class InstanceFactory&lt;T&gt; implements Factory&lt;T&gt; {\r\n    \t\t\r\n    \tprivate T instance;\r\n    \r\n    \tpublic InstanceFactory(T instance) {\r\n    \t\tthis.instance = instance;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void dispose(T t) {\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic T provide() {\r\n    \t\treturn instance;\r\n    \t}\r\n    \r\n    }\r\n\r\nEdited as pr. request. This is the contents of my test-context.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\nIt turns out that my test-context.xml does not instantiate any beans nor scan any packages, in fact, it does not do anything at all. I guess I just put it there in case I might need it.\r\n","title":"Jersey - How to mock service","body":"<p>Here is how I did it with Jersey 2.20, Spring 4.1.4 RELEASE, Mockito 1.10.8, and TestNG 6.8.8.</p>\n\n<pre><code>@Test\npublic class CasesResourceTest extends JerseyTestNg.ContainerPerMethodTest {\n\n    @Mock\n    private CaseService caseService;\n\n    @Mock\n    private CaseConverter caseConverter;    \n\n    @Mock\n    private CaseRepository caseRepository;\n\n    private CasesResource casesResource;\n\n    @Override\n    protected Application configure() {\n\n        MockitoAnnotations.initMocks(this);\n        casesResource = new CasesResource();\n\n        AbstractBinder binder = new AbstractBinder() {\n\n            @Override\n            protected void configure() {\n                bindFactory(new InstanceFactory&lt;CaseConverter&gt;(caseConverter)).to(CaseConverter.class);\n                bindFactory(new InstanceFactory&lt;CaseService&gt;(caseService)).to(CaseService.class);\n            }\n        };\n\n        return new ResourceConfig()\n            .register(binder)\n            .register(casesResource)\n            .property(\"contextConfigLocation\", \"solve-scm-rest/test-context.xml\");\n    }\n\n    public void getAllCases() throws Exception {\n\n        when(caseService.getAll()).thenReturn(Lists.newArrayList(new solve.scm.domain.Case()));\n        when(caseConverter.convertToApi(any(solve.scm.domain.Case.class))).thenReturn(new Case());\n\n        Collection&lt;Case&gt; cases = target(\"/cases\").request().get(new GenericType&lt;Collection&lt;Case&gt;&gt;(){});\n\n        verify(caseService, times(1)).getAll();\n        verify(caseConverter, times(1)).convertToApi(any(solve.scm.domain.Case.class));\n\n        assertThat(cases).hasSize(1);\n    }\n}\n</code></pre>\n\n<p>You also need this class which makes the binding code above a bit easier:</p>\n\n<pre><code>public class InstanceFactory&lt;T&gt; implements Factory&lt;T&gt; {\n\n    private T instance;\n\n    public InstanceFactory(T instance) {\n        this.instance = instance;\n    }\n\n    @Override\n    public void dispose(T t) {\n    }\n\n    @Override\n    public T provide() {\n        return instance;\n    }\n\n}\n</code></pre>\n\n<p>Edited as pr. request. This is the contents of my test-context.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>It turns out that my test-context.xml does not instantiate any beans nor scan any packages, in fact, it does not do anything at all. I guess I just put it there in case I might need it.</p>\n"}],"owner":{"account_id":2404390,"reputation":7871,"user_id":2101290,"accept_rate":8,"display_name":"Balaji Boggaram Ramanarayan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20118,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":2,"score":16,"last_activity_date":1685109531,"creation_date":1418323041,"question_id":27430052,"body_markdown":"I am using &quot;Jersey Test Framework&quot; for unit testing my webservice.\r\n\r\nHere is my resource class :\r\n\r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.Produces;\r\n    \r\n    // The Java class will be hosted at the URI path &quot;/helloworld&quot; \r\n    \r\n    @Path(&quot;/helloworld&quot;) \r\n    public class class HelloWorldResource {\r\n    \r\n        private SomeService service;\r\n\r\n        @GET \r\n        @Produces(&quot;text/plain&quot;)\r\n        public String getClichedMessage() {\r\n            // Return some cliched textual content\r\n            String responseFromSomeService = service.getSomething();\r\n            return responseFromSomeService;\r\n        }\r\n    }\r\n\r\nHow can I mock SomeService in unit tests ?","title":"Jersey - How to mock service","body":"<p>I am using \"Jersey Test Framework\" for unit testing my webservice.</p>\n\n<p>Here is my resource class :</p>\n\n<pre><code>import javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\n\n// The Java class will be hosted at the URI path \"/helloworld\" \n\n@Path(\"/helloworld\") \npublic class class HelloWorldResource {\n\n    private SomeService service;\n\n    @GET \n    @Produces(\"text/plain\")\n    public String getClichedMessage() {\n        // Return some cliched textual content\n        String responseFromSomeService = service.getSomething();\n        return responseFromSomeService;\n    }\n}\n</code></pre>\n\n<p>How can I mock SomeService in unit tests ?</p>\n"},{"tags":["java","logging","spring-boot","logback"],"answers":[{"tags":[],"owner":{"account_id":293053,"reputation":444,"user_id":4721431,"display_name":"Edgar Ngwenya"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1466512185,"creation_date":1466512185,"answer_id":37944490,"question_id":37942604,"body_markdown":"It&#39;s hard to diagnose without your providing the full logging format. I&#39;m seeing something similar in our code, and it seems to be related to including this in the format:\r\n\r\n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}\r\n\r\nIf you&#39;re using it, then the hyphen may be the one before the %w. I&#39;m not sure what the intended purpose of this is. If I find it, I&#39;ll add it to my answer.\r\n\r\n","title":"SpringBoot logging - extraneous hyphen at start of every log entry","body":"<p>It's hard to diagnose without your providing the full logging format. I'm seeing something similar in our code, and it seems to be related to including this in the format:</p>\n\n<p>${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}</p>\n\n<p>If you're using it, then the hyphen may be the one before the %w. I'm not sure what the intended purpose of this is. If I find it, I'll add it to my answer.</p>\n"},{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1466519219,"creation_date":1466519219,"answer_id":37947171,"question_id":37942604,"body_markdown":"The problem is in this part of `logging.pattern.console`:\r\n\r\n    ${LOG_EXCEPTION_CONVERSION_WORD:-%rEx}\r\n`:-` is Logback&#39;s default value delimiter and is what you should use in logback.xml. However, you&#39;re configuring things in `application.properties` where it&#39;s Spring Framework&#39;s default value delimiter (`:`) which should be used.\r\n\r\nAs you&#39;ve used `:-`, you&#39;re saying use the value of `LOG_EXCEPTION_CONVERSION_WORD` and, if it&#39;s not set, use `-%rEx` instead.\r\n\r\nThe correct syntax is:\r\n\r\n    ${LOG_EXCEPTION_CONVERSION_WORD:%rEx}","title":"SpringBoot logging - extraneous hyphen at start of every log entry","body":"<p>The problem is in this part of <code>logging.pattern.console</code>:</p>\n\n<pre><code>${LOG_EXCEPTION_CONVERSION_WORD:-%rEx}\n</code></pre>\n\n<p><code>:-</code> is Logback's default value delimiter and is what you should use in logback.xml. However, you're configuring things in <code>application.properties</code> where it's Spring Framework's default value delimiter (<code>:</code>) which should be used.</p>\n\n<p>As you've used <code>:-</code>, you're saying use the value of <code>LOG_EXCEPTION_CONVERSION_WORD</code> and, if it's not set, use <code>-%rEx</code> instead.</p>\n\n<p>The correct syntax is:</p>\n\n<pre><code>${LOG_EXCEPTION_CONVERSION_WORD:%rEx}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1207330,"reputation":872,"user_id":1176644,"display_name":"fo_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685109405,"creation_date":1685109405,"answer_id":76341522,"question_id":37942604,"body_markdown":"The suggested answers are actually slightly wrong, or at least are missing some details of what is happening.\r\n\r\nIf you replace `${LOG_EXCEPTION_CONVERSION_WORD:-%rEx}` with `${LOG_EXCEPTION_CONVERSION_WORD:%rEx}`, Spring will interpolate it into `%rEx` when it parses the property file (unless there happens to be a property `LOG_EXCEPTION_CONVERSION_WORD` available at that time).\r\n\r\n`LOG_EXCEPTION_CONVERSION_WORD` is actually a System property provided by `LoggingSystem` and it&#39;s intended to be interpolated by Logback (which uses the &quot;:-&quot; syntax for default values).\r\n\r\nYou can fix the issue by defining a Spring property for the dollar character\r\n\r\n```\r\ndollar: $\r\n```\r\n\r\nThen replace `${LOG_EXCEPTION_CONVERSION_WORD:-%rEx}` with:\r\n\r\n```${dollar}{LOG_EXCEPTION_CONVERSION_WORD:-%rEx}```\r\n\r\nthus bypassing Spring property interpolation. Then Logback will take care of interpolating the resulting pattern.","title":"SpringBoot logging - extraneous hyphen at start of every log entry","body":"<p>The suggested answers are actually slightly wrong, or at least are missing some details of what is happening.</p>\n<p>If you replace <code>${LOG_EXCEPTION_CONVERSION_WORD:-%rEx}</code> with <code>${LOG_EXCEPTION_CONVERSION_WORD:%rEx}</code>, Spring will interpolate it into <code>%rEx</code> when it parses the property file (unless there happens to be a property <code>LOG_EXCEPTION_CONVERSION_WORD</code> available at that time).</p>\n<p><code>LOG_EXCEPTION_CONVERSION_WORD</code> is actually a System property provided by <code>LoggingSystem</code> and it's intended to be interpolated by Logback (which uses the &quot;:-&quot; syntax for default values).</p>\n<p>You can fix the issue by defining a Spring property for the dollar character</p>\n<pre><code>dollar: $\n</code></pre>\n<p>Then replace <code>${LOG_EXCEPTION_CONVERSION_WORD:-%rEx}</code> with:</p>\n<p><code>${dollar}{LOG_EXCEPTION_CONVERSION_WORD:-%rEx}</code></p>\n<p>thus bypassing Spring property interpolation. Then Logback will take care of interpolating the resulting pattern.</p>\n"}],"owner":{"account_id":2928802,"reputation":1845,"user_id":2509595,"accept_rate":38,"display_name":"Tom Bunting"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5833,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":37944490,"answer_count":3,"score":17,"last_activity_date":1685109405,"creation_date":1466506749,"question_id":37942604,"body_markdown":"I am trying to eliminate a leading hyphen from our console and file logs in SpringBoot 1.3.5.RELEASE with default logback config. \r\n\r\nLogging pattern looks like:\r\n\r\n    logging:\r\n      pattern:\r\n        console: &#39;%d{yyyy-MM-dd HH:mm:ss.SSS} %clr([${spring.application.name}]){red} %clr(%5p) %clr(${PID:- }){magenta} %clr(---){faint} %X{req.requestId} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%rEx}&#39;\r\n\r\nThe file log pattern is similar, without the color coding. Both output every line **after** the first with a leading hyphen, which is making our syslog - logstash - grok filtering trickier.  Example output:\r\n\r\n    2016-06-21 11:52:00.576 [my-app] INFO etc.. (application started)\r\n    -2016-06-21 11:52:00.583 [my-app] DEBUG etc..\r\n    -2016-06-21 11:52:00.583 [my-app] INFO etc..\r\n\r\n\r\nI can&#39;t see anything in the docs mentioning this behaviour. Welcome any advice on how to eliminate it, if possible!\r\n\r\n**Update**\r\n\r\nThanks to Edgar&#39;s answer below, it turns out this was caused by the following at the end of our logging pattern:\r\n\r\n    ${LOG_EXCEPTION_CONVERSION_WORD:-%rEx}\r\n\r\nI replaced it with:\r\n\r\n   ${LOG_EXCEPTION_CONVERSION_WORD:%rEx}\r\n\r\net voila, the hyphen at the start of the following line disappears. See http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html#boot-features-custom-log-configuration","title":"SpringBoot logging - extraneous hyphen at start of every log entry","body":"<p>I am trying to eliminate a leading hyphen from our console and file logs in SpringBoot 1.3.5.RELEASE with default logback config. </p>\n\n<p>Logging pattern looks like:</p>\n\n<pre><code>logging:\n  pattern:\n    console: '%d{yyyy-MM-dd HH:mm:ss.SSS} %clr([${spring.application.name}]){red} %clr(%5p) %clr(${PID:- }){magenta} %clr(---){faint} %X{req.requestId} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%rEx}'\n</code></pre>\n\n<p>The file log pattern is similar, without the color coding. Both output every line <strong>after</strong> the first with a leading hyphen, which is making our syslog - logstash - grok filtering trickier.  Example output:</p>\n\n<pre><code>2016-06-21 11:52:00.576 [my-app] INFO etc.. (application started)\n-2016-06-21 11:52:00.583 [my-app] DEBUG etc..\n-2016-06-21 11:52:00.583 [my-app] INFO etc..\n</code></pre>\n\n<p>I can't see anything in the docs mentioning this behaviour. Welcome any advice on how to eliminate it, if possible!</p>\n\n<p><strong>Update</strong></p>\n\n<p>Thanks to Edgar's answer below, it turns out this was caused by the following at the end of our logging pattern:</p>\n\n<pre><code>${LOG_EXCEPTION_CONVERSION_WORD:-%rEx}\n</code></pre>\n\n<p>I replaced it with:</p>\n\n<p>${LOG_EXCEPTION_CONVERSION_WORD:%rEx}</p>\n\n<p>et voila, the hyphen at the start of the following line disappears. See <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html#boot-features-custom-log-configuration\" rel=\"noreferrer\">http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html#boot-features-custom-log-configuration</a></p>\n"},{"tags":["java","sql","snowflake-cloud-data-platform","talend"],"answers":[{"tags":[],"owner":{"account_id":484284,"reputation":4001,"user_id":899863,"display_name":"Ibrahim Mezouar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685109131,"creation_date":1685109131,"answer_id":76341475,"question_id":76341362,"body_markdown":"The Date type in java stores the date and time, so if you compare it against a date like 1753-01-01, the comparison may not work as expected as the time is not necessarily the same for both.  \r\nI recommend you compare strings instead of dates:  \r\n\r\n    &quot;1753-01-01&quot;.equals(TalendDate.formatDate(&quot;yyyy-MM-dd&quot;, row2.LETTER_DATE)) ? null : row2.LETTER_DATE","title":"Talend - Issue with comparing dates using TalendDate routines","body":"<p>The Date type in java stores the date and time, so if you compare it against a date like 1753-01-01, the comparison may not work as expected as the time is not necessarily the same for both.<br />\nI recommend you compare strings instead of dates:</p>\n<pre><code>&quot;1753-01-01&quot;.equals(TalendDate.formatDate(&quot;yyyy-MM-dd&quot;, row2.LETTER_DATE)) ? null : row2.LETTER_DATE\n</code></pre>\n"}],"owner":{"account_id":20060396,"reputation":377,"user_id":14707253,"display_name":"Emile Dadou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76341475,"answer_count":1,"score":0,"last_activity_date":1685109131,"creation_date":1685108368,"question_id":76341362,"body_markdown":"Here some context : \r\n I&#39;m trying to retrieve a table from a Snowflake DB and store it in another one (ODS -&gt; DWH) using Talend (Talend Cloud API Services platform 7.3.1) .one of the transformation I have to apply is to set the dates that have the value 1753-01-01 to null. \r\n\r\nSo for the datatypes :\r\n- input ODS : LETTER_DATE DATE\r\n- output DWH : DT_LETTER DATE\r\n\r\nSo I tried several methods to check the date and give the expected output :\r\n\r\nThe first method (TalendDate routines) :\r\n\r\n    TalendDate.compareDate(row2.LETTER_DATE, TalendDate.parseDate(&quot;yyyy-MM-dd&quot;, &quot;1753-01-01&quot;)).equals(0) ? null : row2.LETTER_DATE\r\n\r\n\r\nThe second method : \r\n\r\n    row2.LETTER_DATE.equals(TalendDate.parseDate(&quot;yyyy-MM-dd&quot;, &quot;1753-01-01&quot;)) ? null : row2.LETTER_DATE\r\n\r\n\r\nNeither of this method worked for the first one I had &#39;1&#39; as a result instead of 0 and for the second I had &#39;false&#39; I can&#39;t see if there something wrong with what I did or missed something (probably :) ). And so the data with the value &#39;1753-01-01&#39; passes.\r\n\r\n\r\nSo to try my ODS table is build like this : \r\n\r\n    CREATE OR REPLACE TABLE &lt;TABLE_NAME&gt; (\r\n    \r\n    ID VARCHAR(50) NOT  NULL,\r\n    \r\n    ...,\r\n    \r\n    LETTER_DATE DATE\r\n    \r\n    );\r\n\r\n\r\nAnd here is the data I&#39;m trying to transform : \r\n\r\n    INSERT INTO &lt;TABLE_NAME&gt; (ID, LETTER_DATE) VALUES (&#39;1999&#39;, &#39;1753-01-01&#39;);\r\n\r\n \r\n\r\nThanks,","title":"Talend - Issue with comparing dates using TalendDate routines","body":"<p>Here some context :\nI'm trying to retrieve a table from a Snowflake DB and store it in another one (ODS -&gt; DWH) using Talend (Talend Cloud API Services platform 7.3.1) .one of the transformation I have to apply is to set the dates that have the value 1753-01-01 to null.</p>\n<p>So for the datatypes :</p>\n<ul>\n<li>input ODS : LETTER_DATE DATE</li>\n<li>output DWH : DT_LETTER DATE</li>\n</ul>\n<p>So I tried several methods to check the date and give the expected output :</p>\n<p>The first method (TalendDate routines) :</p>\n<pre><code>TalendDate.compareDate(row2.LETTER_DATE, TalendDate.parseDate(&quot;yyyy-MM-dd&quot;, &quot;1753-01-01&quot;)).equals(0) ? null : row2.LETTER_DATE\n</code></pre>\n<p>The second method :</p>\n<pre><code>row2.LETTER_DATE.equals(TalendDate.parseDate(&quot;yyyy-MM-dd&quot;, &quot;1753-01-01&quot;)) ? null : row2.LETTER_DATE\n</code></pre>\n<p>Neither of this method worked for the first one I had '1' as a result instead of 0 and for the second I had 'false' I can't see if there something wrong with what I did or missed something (probably :) ). And so the data with the value '1753-01-01' passes.</p>\n<p>So to try my ODS table is build like this :</p>\n<pre><code>CREATE OR REPLACE TABLE &lt;TABLE_NAME&gt; (\n\nID VARCHAR(50) NOT  NULL,\n\n...,\n\nLETTER_DATE DATE\n\n);\n</code></pre>\n<p>And here is the data I'm trying to transform :</p>\n<pre><code>INSERT INTO &lt;TABLE_NAME&gt; (ID, LETTER_DATE) VALUES ('1999', '1753-01-01');\n</code></pre>\n<p>Thanks,</p>\n"},{"tags":["java","android","admob"],"owner":{"account_id":5515478,"reputation":1160,"user_id":4380384,"display_name":"shtse8"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685109049,"creation_date":1685109049,"question_id":76341459,"body_markdown":"I&#39;m integrating AdMob into my Android application, using both interstitial and reward ads. I&#39;m trying to implement the app-wide frequency cap feature that AdMob now provides. However, I&#39;m having difficulty applying this setting consistently across multiple ad formats.\r\n\r\nSpecifically, once an ad is shown and the frequency cap is reached, other ads that have already been loaded can still be displayed. This happens even though the cap should apply across all ad formats in the app.\r\n\r\nMy current solution is to clear all loaded ads after an ad of any format is shown. However, I&#39;m concerned that this will significantly decrease the show rate and potentially impact my ad revenue.\r\n\r\nMy question is:\r\n\r\nHow can I ensure the app-wide frequency cap is respected across all loaded ad formats without significantly affecting the show rate?\r\n\r\nIs there a better approach to enforcing the cap across all loaded ads that won&#39;t potentially lower my revenue?\r\n\r\nI would appreciate any insights or alternative solutions that can help solve this issue. Thank you!","title":"How to Ensure App-Wide Frequency Cap Applies Across Different Ad Formats in AdMob Without Affecting Show Rate?","body":"<p>I'm integrating AdMob into my Android application, using both interstitial and reward ads. I'm trying to implement the app-wide frequency cap feature that AdMob now provides. However, I'm having difficulty applying this setting consistently across multiple ad formats.</p>\n<p>Specifically, once an ad is shown and the frequency cap is reached, other ads that have already been loaded can still be displayed. This happens even though the cap should apply across all ad formats in the app.</p>\n<p>My current solution is to clear all loaded ads after an ad of any format is shown. However, I'm concerned that this will significantly decrease the show rate and potentially impact my ad revenue.</p>\n<p>My question is:</p>\n<p>How can I ensure the app-wide frequency cap is respected across all loaded ad formats without significantly affecting the show rate?</p>\n<p>Is there a better approach to enforcing the cap across all loaded ads that won't potentially lower my revenue?</p>\n<p>I would appreciate any insights or alternative solutions that can help solve this issue. Thank you!</p>\n"},{"tags":["java","aop","aspect"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1684771648,"post_id":76305565,"comment_id":134562095,"body_markdown":"The answer depends on the programming language at hand and whether it requires compilation at all. It also depends on the specific way an AOP framework is implemented, e.g. via dynamic proxies or rather byte code instrumentation. Then, it also depends on whether you apply aspect weaving during compile time or class load time. Please be more specific and edit your question accordingly. Moreover, you did not explain to what end you want to ensure the OCP. Finally, the answer also defines on your definition of &quot;module&quot;. An aspect is also a module, encapsulating a cross-cutting concern.","body":"The answer depends on the programming language at hand and whether it requires compilation at all. It also depends on the specific way an AOP framework is implemented, e.g. via dynamic proxies or rather byte code instrumentation. Then, it also depends on whether you apply aspect weaving during compile time or class load time. Please be more specific and edit your question accordingly. Moreover, you did not explain to what end you want to ensure the OCP. Finally, the answer also defines on your definition of &quot;module&quot;. An aspect is also a module, encapsulating a cross-cutting concern."},{"owner":{"account_id":920482,"reputation":979,"user_id":952257,"accept_rate":93,"display_name":"Shaharg"},"score":0,"creation_date":1684832364,"post_id":76305565,"comment_id":134570965,"body_markdown":"Thank you @kriegaex for your elaborate and helpful response. I added more details at the end of the question","body":"Thank you @kriegaex for your elaborate and helpful response. I added more details at the end of the question"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1685109724,"post_id":76305565,"comment_id":134619924,"body_markdown":"Can you explain the relationship between OCP and recompilation? OCP doesn&#39;t imply *(to me)* any given system must be modifiable at runtime or without compilation. Aspects don&#39;t change modules&#39; behavior, either--aspects extend behavior, e.g., if you add a logging aspect to a package its &quot;as if&quot; there were logging subclasses of the package&#39;s classes--they&#39;re just &quot;invisible&quot; to the mainline code.","body":"Can you explain the relationship between OCP and recompilation? OCP doesn&#39;t imply <i>(to me)</i> any given system must be modifiable at runtime or without compilation. Aspects don&#39;t change modules&#39; behavior, either--aspects extend behavior, e.g., if you add a logging aspect to a package its &quot;as if&quot; there were logging subclasses of the package&#39;s classes--they&#39;re just &quot;invisible&quot; to the mainline code."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685107587,"creation_date":1685107128,"answer_id":76341190,"question_id":76305565,"body_markdown":"## Usage scenarios \r\n\r\nThere are multiple cases:\r\n\r\n### Load-time / run-time weaving\r\n\r\n* Native AspectJ with load-time weaving (LTW) uses byte code instrumentation during class-loading.\r\n* Spring AOP creates dynamic proxies wired into your Spring beans at runtime.\r\n\r\nIn both cases, there is no need to recompile any code after you change your aspects, because all aspect weaving is done during runtime. Your original bytecode stays intact, but you have the weaving overhead during application start for both options. After weaving, AspectJ performs exactly like compile-time or binary (post-compile)  woven aspects. Spring AOP will always be slower due to the proxying overhead for every method call.\r\n\r\n### Compile-time weaving (CTW)\r\n\r\nWhen using the AspectJ compiler when compiling your aspect and application code, every aspect change requires core code recompilation, because an aspect can potentially affect any number of target classes. The advantage however is that you do not need to set up any weaving agents like for LTW and there is no application start-up penalty.\r\n\r\n### Binary, post-compile weaving\r\n\r\nThis is similar to CTW, but used if you want to weave existing class files, e.g. from third-party libraries without resort to LTW. This will modify your existing byte code, and you might need to replace existing JARs by newly packaged ones containing the woven classes.\r\n\r\n## Software engineering perspective\r\n\r\nIn each of these scenarios, the advantages of cleanly modularising and encapsulating cross-cutting concerns and unburdening the core source code from scattering and tangling by far outweigh any effects which for classical OOP you might want to avoid, such as OCP. IMO, you do not really violate OCP here anyway, because you are not modifying the core classes as such, but rather decorating them with additional behaviours, which is cleanly modularised inside an aspect. Call it a Decorator pattern on steroids, i.e. without all the ceremony and boilerplate that you would need in OOP. For me, AOP is a tool supporting clean code and better application design by means unavailable in pure OOP, without the need to resort to nightmarish stuff like multiple inheritance.","title":"Does Aspect Oriented Programming require recompilation whenever an aspect changes?","body":"<h2>Usage scenarios</h2>\n<p>There are multiple cases:</p>\n<h3>Load-time / run-time weaving</h3>\n<ul>\n<li>Native AspectJ with load-time weaving (LTW) uses byte code instrumentation during class-loading.</li>\n<li>Spring AOP creates dynamic proxies wired into your Spring beans at runtime.</li>\n</ul>\n<p>In both cases, there is no need to recompile any code after you change your aspects, because all aspect weaving is done during runtime. Your original bytecode stays intact, but you have the weaving overhead during application start for both options. After weaving, AspectJ performs exactly like compile-time or binary (post-compile)  woven aspects. Spring AOP will always be slower due to the proxying overhead for every method call.</p>\n<h3>Compile-time weaving (CTW)</h3>\n<p>When using the AspectJ compiler when compiling your aspect and application code, every aspect change requires core code recompilation, because an aspect can potentially affect any number of target classes. The advantage however is that you do not need to set up any weaving agents like for LTW and there is no application start-up penalty.</p>\n<h3>Binary, post-compile weaving</h3>\n<p>This is similar to CTW, but used if you want to weave existing class files, e.g. from third-party libraries without resort to LTW. This will modify your existing byte code, and you might need to replace existing JARs by newly packaged ones containing the woven classes.</p>\n<h2>Software engineering perspective</h2>\n<p>In each of these scenarios, the advantages of cleanly modularising and encapsulating cross-cutting concerns and unburdening the core source code from scattering and tangling by far outweigh any effects which for classical OOP you might want to avoid, such as OCP. IMO, you do not really violate OCP here anyway, because you are not modifying the core classes as such, but rather decorating them with additional behaviours, which is cleanly modularised inside an aspect. Call it a Decorator pattern on steroids, i.e. without all the ceremony and boilerplate that you would need in OOP. For me, AOP is a tool supporting clean code and better application design by means unavailable in pure OOP, without the need to resort to nightmarish stuff like multiple inheritance.</p>\n"}],"owner":{"account_id":920482,"reputation":979,"user_id":952257,"accept_rate":93,"display_name":"Shaharg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76341190,"answer_count":1,"score":0,"last_activity_date":1685108856,"creation_date":1684753920,"question_id":76305565,"body_markdown":"One important design principle is the OCP, which states that we would like our modules to be open for extension but closed to modification.\r\n\r\nWhen we use Aspect Oriented Programming, we impact the whole project meaning that any change in an aspect may change the behavior of every function in the project. I wanted to understand if this implies that every time we change an aspect, we must recompile the whole project. This seems contradictory to the OCP. If this is not the case, how does the AOP weaving manage to add the behavior into the compiled code?\r\n\r\nEdit: following the comment from @kriegaex, I am interested specifically in Java and with AspectJ. \r\nI am teaching Software design and I give AOP as an example of using frameworks for better design. As I teach the SOLID design principles, I want to understand the impact of AOP on these principles.\r\nIf there is any AOP framework that does not violate OCP (meaning that changing an aspect does not require recompiling the whole project), please tell me about it.","title":"Does Aspect Oriented Programming require recompilation whenever an aspect changes?","body":"<p>One important design principle is the OCP, which states that we would like our modules to be open for extension but closed to modification.</p>\n<p>When we use Aspect Oriented Programming, we impact the whole project meaning that any change in an aspect may change the behavior of every function in the project. I wanted to understand if this implies that every time we change an aspect, we must recompile the whole project. This seems contradictory to the OCP. If this is not the case, how does the AOP weaving manage to add the behavior into the compiled code?</p>\n<p>Edit: following the comment from @kriegaex, I am interested specifically in Java and with AspectJ.\nI am teaching Software design and I give AOP as an example of using frameworks for better design. As I teach the SOLID design principles, I want to understand the impact of AOP on these principles.\nIf there is any AOP framework that does not violate OCP (meaning that changing an aspect does not require recompiling the whole project), please tell me about it.</p>\n"},{"tags":["java","struts2","startup","tomcat10"],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678733087,"creation_date":1660461663,"answer_id":73349797,"question_id":73349418,"body_markdown":"The error makes clear that it doesn&#39;t support Tomcat 10. The &quot;problem&quot; is that Tomcat 10 switched to the Jakarta EE 9 specification. And Jakarta EE 9 switched from the `javax.*` package namespace to the `jakarta.*` package namespace.\r\n\r\nAccording to the [version notes][1], Struts2 6.0.0 GA is Servlet 3.1 (Java EE 7), which uses the `javax.*` namespace, and means it is generally compatible with JavaEE 7 and 8 and Jakarta EE 8, but not with Jakarta EE 9 and higher. This means you need to use Tomcat 9.\r\n\r\nAccording to [WW-5141][2] Jakarta EE 9 (or higher) support is *planned* in Struts2 7.0.0.\r\n\r\n\r\n  [1]: https://cwiki.apache.org/confluence/display/WW/Version+Notes+6.0.0\r\n  [2]: https://issues.apache.org/jira/browse/WW-5141","title":"Does latest version 6.* Struts2 support Tomcat 10?","body":"<p>The error makes clear that it doesn't support Tomcat 10. The &quot;problem&quot; is that Tomcat 10 switched to the Jakarta EE 9 specification. And Jakarta EE 9 switched from the <code>javax.*</code> package namespace to the <code>jakarta.*</code> package namespace.</p>\n<p>According to the <a href=\"https://cwiki.apache.org/confluence/display/WW/Version+Notes+6.0.0\" rel=\"nofollow noreferrer\">version notes</a>, Struts2 6.0.0 GA is Servlet 3.1 (Java EE 7), which uses the <code>javax.*</code> namespace, and means it is generally compatible with JavaEE 7 and 8 and Jakarta EE 8, but not with Jakarta EE 9 and higher. This means you need to use Tomcat 9.</p>\n<p>According to <a href=\"https://issues.apache.org/jira/browse/WW-5141\" rel=\"nofollow noreferrer\">WW-5141</a> Jakarta EE 9 (or higher) support is <em>planned</em> in Struts2 7.0.0.</p>\n"}],"owner":{"account_id":26058645,"reputation":1,"user_id":19760370,"display_name":"Surendra J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2746,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685110438,"answer_count":1,"score":0,"last_activity_date":1685108682,"creation_date":1660456664,"question_id":73349418,"body_markdown":"Does the latest version 6.*  Struts2 support Tomcat 10?\r\n\r\nException starting filter [struts2]\r\n\r\n```none\r\njava.lang.ClassCastException: class org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter cannot be cast to class jakarta.servlet.Filter (org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @13e547a9; jakarta.servlet.Filter is in unnamed module of loader java.net.URLClassLoader @2d209079)\r\n\tat org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:252)\r\n\tat org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:103)\r\n\tat org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4562)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5205)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n```","title":"Does latest version 6.* Struts2 support Tomcat 10?","body":"<p>Does the latest version 6.*  Struts2 support Tomcat 10?</p>\n<p>Exception starting filter [struts2]</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.ClassCastException: class org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter cannot be cast to class jakarta.servlet.Filter (org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @13e547a9; jakarta.servlet.Filter is in unnamed module of loader java.net.URLClassLoader @2d209079)\n    at org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:252)\n    at org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:103)\n    at org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4562)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5205)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n</code></pre>\n"},{"tags":["java","android","admob"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1685513709,"post_id":76341411,"comment_id":134668749,"body_markdown":"If the cap is reached, all the retry efforts for the specified time will not return an Ad &amp; will fail with a callback value of `Frequency cap reached`, so a single retry should be enough. What exactly are you trying to achieve on cap reach here?","body":"If the cap is reached, all the retry efforts for the specified time will not return an Ad &amp; will fail with a callback value of <code>Frequency cap reached</code>, so a single retry should be enough. What exactly are you trying to achieve on cap reach here?"},{"owner":{"account_id":5515478,"reputation":1160,"user_id":4380384,"display_name":"shtse8"},"score":0,"creation_date":1685603033,"post_id":76341411,"comment_id":134683666,"body_markdown":"If single try, it won&#39;t reload the ad after the cap expired. Also, we can&#39;t get the cap from admob in app. Duration is needed to be hard coded. This makes the settings in admob useless unless stupid polling.","body":"If single try, it won&#39;t reload the ad after the cap expired. Also, we can&#39;t get the cap from admob in app. Duration is needed to be hard coded. This makes the settings in admob useless unless stupid polling."},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1685605726,"post_id":76341411,"comment_id":134684159,"body_markdown":"`If single try, it won&#39;t reload the ad after the cap expired` - Correct &amp; intended behaviour but retries would also not load the Ads until the cap is complete. You surely cannot get the cap settings from Admob but you can indeed use `RemoteConfig` for this. The downside is that you&#39;ll have to manually update RC&#39;s value every-time you set/change a new cap.","body":"<code>If single try, it won&#39;t reload the ad after the cap expired</code> - Correct &amp; intended behaviour but retries would also not load the Ads until the cap is complete. You surely cannot get the cap settings from Admob but you can indeed use <code>RemoteConfig</code> for this. The downside is that you&#39;ll have to manually update RC&#39;s value every-time you set/change a new cap."}],"owner":{"account_id":5515478,"reputation":1160,"user_id":4380384,"display_name":"shtse8"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685108648,"creation_date":1685108648,"question_id":76341411,"body_markdown":"I am integrating AdMob into my Android application, where I have set an app-wide frequency cap to limit ad impressions within a certain timeframe.\r\n\r\nI&#39;m currently facing a challenge when trying to handle retries for ad loading once this cap is reached. My initial thought was to use polling to periodically attempt to load the ad, but I&#39;m worried this could potentially harm the performance of my app due to the constant checks.\r\n\r\nIs polling the only viable method to retry loading ads after the frequency cap is hit, or are there other recommended approaches to handle this situation?\r\n\r\nIdeally, I&#39;d like an efficient solution that respects the frequency cap set on the AdMob console, and doesn&#39;t result in excessive ad requests or overuse of system resources.\r\n\r\nI would appreciate any advice or insights into the best practices for managing ad loading and retry mechanisms in AdMob when an app-wide frequency cap is in place.\r\n\r\nAdditional details:\r\n\r\nAdMob SDK version: 21.5.0\r\n\r\nPlatform: Android\r\n\r\nThanks in advance for any guidance you can provide!","title":"Efficient strategies for retrying AdMob ad loading with an app-wide frequency cap","body":"<p>I am integrating AdMob into my Android application, where I have set an app-wide frequency cap to limit ad impressions within a certain timeframe.</p>\n<p>I'm currently facing a challenge when trying to handle retries for ad loading once this cap is reached. My initial thought was to use polling to periodically attempt to load the ad, but I'm worried this could potentially harm the performance of my app due to the constant checks.</p>\n<p>Is polling the only viable method to retry loading ads after the frequency cap is hit, or are there other recommended approaches to handle this situation?</p>\n<p>Ideally, I'd like an efficient solution that respects the frequency cap set on the AdMob console, and doesn't result in excessive ad requests or overuse of system resources.</p>\n<p>I would appreciate any advice or insights into the best practices for managing ad loading and retry mechanisms in AdMob when an app-wide frequency cap is in place.</p>\n<p>Additional details:</p>\n<p>AdMob SDK version: 21.5.0</p>\n<p>Platform: Android</p>\n<p>Thanks in advance for any guidance you can provide!</p>\n"},{"tags":["java","algorithm","security","performance"],"comments":[{"owner":{"account_id":74486,"reputation":105478,"user_id":214010,"accept_rate":83,"display_name":"mikera"},"score":2,"creation_date":1313689140,"post_id":7111651,"comment_id":8519250,"body_markdown":"hmm could you define what you mean by secure and random? is psuedo-random good enough for example? Or do you need cryptographic strength true randomness?","body":"hmm could you define what you mean by secure and random? is psuedo-random good enough for example? Or do you need cryptographic strength true randomness?"},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1313689378,"post_id":7111651,"comment_id":8519323,"body_markdown":"possible duplicate of [How to generate a random alpha-numeric string in Java](http://stackoverflow.com/questions/41107/how-to-generate-a-random-alpha-numeric-string-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/41107/how-to-generate-a-random-alpha-numeric-string-in-java\">How to generate a random alpha-numeric string in Java</a>"},{"owner":{"account_id":795970,"reputation":419,"user_id":901113,"display_name":"devon"},"score":0,"creation_date":1313694995,"post_id":7111651,"comment_id":8521174,"body_markdown":"pseudo-random would be good enough.","body":"pseudo-random would be good enough."},{"owner":{"account_id":795970,"reputation":419,"user_id":901113,"display_name":"devon"},"score":3,"creation_date":1313695099,"post_id":7111651,"comment_id":8521211,"body_markdown":"this is not a duplicate because the other question is not for a secure string. The one answer that is secure is not fast enough.","body":"this is not a duplicate because the other question is not for a secure string. The one answer that is secure is not fast enough."},{"owner":{"account_id":470798,"reputation":6467,"user_id":878182,"accept_rate":50,"display_name":"Alistair A. Israel"},"score":0,"creation_date":1313712967,"post_id":7111651,"comment_id":8525459,"body_markdown":"Do you need to restrict the string to uppercase or lowercase only? Do you accept dashes? Do you have a specific length requirement, can any fixed length suffice, or will they have to be of random length also? Finally, define how fast is &#39;fast&#39;? The basic `Random` or `SecureRandom` solution will both require *n* calls to `nextInt()`.","body":"Do you need to restrict the string to uppercase or lowercase only? Do you accept dashes? Do you have a specific length requirement, can any fixed length suffice, or will they have to be of random length also? Finally, define how fast is &#39;fast&#39;? The basic <code>Random</code> or <code>SecureRandom</code> solution will both require <i>n</i> calls to <code>nextInt()</code>."}],"answers":[{"tags":[],"owner":{"account_id":111110,"reputation":40021,"user_id":293686,"accept_rate":89,"display_name":"Maur&#237;cio Linhares"},"down_vote_count":10,"up_vote_count":11,"is_accepted":false,"score":1,"last_activity_date":1313689149,"creation_date":1313689149,"answer_id":7111697,"question_id":7111651,"body_markdown":"Using [UUIDs][1]:\r\n\r\n    UUID random = UUID.randomUUID();\r\n    System.out.println( random );\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/UUID.html","title":"How to generate a secure random alphanumeric string in Java efficiently?","body":"<p>Using <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/UUID.html\" rel=\"nofollow\">UUIDs</a>:</p>\n\n<pre><code>UUID random = UUID.randomUUID();\nSystem.out.println( random );\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user784540"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1554327217,"creation_date":1313689179,"answer_id":7111702,"question_id":7111651,"body_markdown":"Generate a public key for an open-key encryption algorithm and convert the byte sequence to string via Base64 algorithm.","title":"How to generate a secure random alphanumeric string in Java efficiently?","body":"<p>Generate a public key for an open-key encryption algorithm and convert the byte sequence to string via Base64 algorithm.</p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":3,"up_vote_count":41,"is_accepted":false,"score":38,"last_activity_date":1313689400,"creation_date":1313689400,"answer_id":7111735,"question_id":7111651,"body_markdown":"Initialize an array containing all the accepted chars (`CHARS_ARRAY`), then instantiate a [SecureRandom][1] instance, and call `nextInt(CHARS_ARRAY.length)` repeatedly to get a random index in your char array. Append each char to a `StringBuilder` until you get the expected number of chars.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/security/SecureRandom.html","title":"How to generate a secure random alphanumeric string in Java efficiently?","body":"<p>Initialize an array containing all the accepted chars (<code>CHARS_ARRAY</code>), then instantiate a <a href=\"http://download.oracle.com/javase/6/docs/api/java/security/SecureRandom.html\" rel=\"noreferrer\">SecureRandom</a> instance, and call <code>nextInt(CHARS_ARRAY.length)</code> repeatedly to get a random index in your char array. Append each char to a <code>StringBuilder</code> until you get the expected number of chars.</p>\n"},{"tags":[],"owner":{"account_id":105068,"reputation":882,"user_id":280574,"accept_rate":100,"display_name":"Jason Wheeler"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1313689869,"creation_date":1313689509,"answer_id":7111761,"question_id":7111651,"body_markdown":"http://download.oracle.com/javase/6/docs/api/java/security/SecureRandom.html\r\n\r\nFrom the Javadoc:\r\n\r\n    SecureRandom random = new SecureRandom();\r\n    byte bytes[] = new byte[20];\r\n    random.nextBytes(bytes);\r\n","title":"How to generate a secure random alphanumeric string in Java efficiently?","body":"<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/security/SecureRandom.html\" rel=\"nofollow\">http://download.oracle.com/javase/6/docs/api/java/security/SecureRandom.html</a></p>\n\n<p>From the Javadoc:</p>\n\n<pre><code>SecureRandom random = new SecureRandom();\nbyte bytes[] = new byte[20];\nrandom.nextBytes(bytes);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1313690696,"creation_date":1313690696,"answer_id":7111973,"question_id":7111651,"body_markdown":"Here&#39;s a slightly modified version of my code from [the duplicate question.][1]\r\n\r\n    public final class RandomString\r\n    {\r\n    \r\n      /* Assign a string that contains the set of characters you allow. */\r\n      private static final String symbols = &quot;ABCDEFGJKLMNPRSTUVWXYZ0123456789&quot;; \r\n    \r\n      private final Random random = new SecureRandom();\r\n    \r\n      private final char[] buf;\r\n    \r\n      public RandomString(int length)\r\n      {\r\n        if (length &lt; 1)\r\n          throw new IllegalArgumentException(&quot;length &lt; 1: &quot; + length);\r\n        buf = new char[length];\r\n      }\r\n    \r\n      public String nextString()\r\n      {\r\n        for (int idx = 0; idx &lt; buf.length; ++idx) \r\n          buf[idx] = symbols.charAt(random.nextInt(symbols.length()));\r\n        return new String(buf);\r\n      }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/41107/how-to-generate-a-random-alpha-numeric-string-in-java","title":"How to generate a secure random alphanumeric string in Java efficiently?","body":"<p>Here's a slightly modified version of my code from <a href=\"https://stackoverflow.com/questions/41107/how-to-generate-a-random-alpha-numeric-string-in-java\">the duplicate question.</a></p>\n\n<pre><code>public final class RandomString\n{\n\n  /* Assign a string that contains the set of characters you allow. */\n  private static final String symbols = \"ABCDEFGJKLMNPRSTUVWXYZ0123456789\"; \n\n  private final Random random = new SecureRandom();\n\n  private final char[] buf;\n\n  public RandomString(int length)\n  {\n    if (length &lt; 1)\n      throw new IllegalArgumentException(\"length &lt; 1: \" + length);\n    buf = new char[length];\n  }\n\n  public String nextString()\n  {\n    for (int idx = 0; idx &lt; buf.length; ++idx) \n      buf[idx] = symbols.charAt(random.nextInt(symbols.length()));\n    return new String(buf);\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":49931,"reputation":25463,"user_id":148844,"accept_rate":67,"display_name":"Chloe"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1685108587,"creation_date":1554326031,"answer_id":55504372,"question_id":7111651,"body_markdown":"```java\r\nfinal String chrs = &quot;0123456789abcdefghijklmnopqrstuvwxyz-_ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n\r\nfinal SecureRandom secureRandom = SecureRandom.getInstanceStrong();\r\n\r\nfinal String customTag = secureRandom\r\n    .ints(9, 0, chrs.length()) // 9 is the length of the string you want\r\n    .mapToObj(i -&gt; chrs.charAt(i))\r\n    .collect(StringBuilder::new, StringBuilder::append, StringBuilder::append)\r\n    .toString();\r\n\r\nSystem.out.println(customTag);\r\n```\r\n\r\nExamples: \r\n\r\n    // q3HX6EctP\r\n    // WjRrMjQT4\r\n    // sX-Piq4DB\r\n\r\n","title":"How to generate a secure random alphanumeric string in Java efficiently?","body":"<pre class=\"lang-java prettyprint-override\"><code>final String chrs = &quot;0123456789abcdefghijklmnopqrstuvwxyz-_ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\n\nfinal SecureRandom secureRandom = SecureRandom.getInstanceStrong();\n\nfinal String customTag = secureRandom\n    .ints(9, 0, chrs.length()) // 9 is the length of the string you want\n    .mapToObj(i -&gt; chrs.charAt(i))\n    .collect(StringBuilder::new, StringBuilder::append, StringBuilder::append)\n    .toString();\n\nSystem.out.println(customTag);\n</code></pre>\n<p>Examples:</p>\n<pre><code>// q3HX6EctP\n// WjRrMjQT4\n// sX-Piq4DB\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6433233,"reputation":13876,"user_id":4985580,"display_name":"F_SO_K"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1633095901,"creation_date":1556400507,"answer_id":55885004,"question_id":7111651,"body_markdown":" \r\n    import java.security.SecureRandom;\r\n    import java.util.Random;\r\n\r\n    public class PasswordHelper {        \r\n        \r\n        public static String generatePassword (int length) {\r\n    \t\r\n    \t//minimum length of 6\r\n    \tif (length &lt; 6) {\r\n    \t    length = 6;\r\n    \t}\r\n    \t\r\n    \tfinal char[] allAllowed = &quot;abcdefghijklmnopqrstuvwxyzABCDEFGJKLMNPRSTUVWXYZ0123456789&quot;.toCharArray();\r\n    \t\r\n    \t//Use cryptographically secure random number generator\r\n    \tRandom random = new SecureRandom();\r\n    \t\r\n    \tStringBuilder password = new StringBuilder(); \r\n    \t\r\n    \tfor (int i = 0; i &lt; length; i++) {\r\n    \t    password.append(allAllowed[random.nextInt(allAllowed.length)]);\r\n    \t}\r\n    \t\r\n    \treturn password.toString();\r\n    \t\r\n        }\r\n    \r\n    }\r\n\r\n","title":"How to generate a secure random alphanumeric string in Java efficiently?","body":"<pre><code>import java.security.SecureRandom;\nimport java.util.Random;\n\npublic class PasswordHelper {        \n    \n    public static String generatePassword (int length) {\n    \n    //minimum length of 6\n    if (length &lt; 6) {\n        length = 6;\n    }\n    \n    final char[] allAllowed = &quot;abcdefghijklmnopqrstuvwxyzABCDEFGJKLMNPRSTUVWXYZ0123456789&quot;.toCharArray();\n    \n    //Use cryptographically secure random number generator\n    Random random = new SecureRandom();\n    \n    StringBuilder password = new StringBuilder(); \n    \n    for (int i = 0; i &lt; length; i++) {\n        password.append(allAllowed[random.nextInt(allAllowed.length)]);\n    }\n    \n    return password.toString();\n    \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":337043,"reputation":894,"user_id":665073,"display_name":"Naliba"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1585848646,"creation_date":1585848646,"answer_id":60997561,"question_id":7111651,"body_markdown":"If you use [Apache Commons Lang][1], the easiest way is\r\n\r\n```\r\nRandomStringUtils.random(20, 0, 0, true, true, null, new SecureRandom());\r\n```\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/","title":"How to generate a secure random alphanumeric string in Java efficiently?","body":"<p>If you use <a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"noreferrer\">Apache Commons Lang</a>, the easiest way is</p>\n\n<pre><code>RandomStringUtils.random(20, 0, 0, true, true, null, new SecureRandom());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15128664,"reputation":331,"user_id":12001093,"display_name":"05nelsonm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599845104,"creation_date":1599843382,"answer_id":63851310,"question_id":7111651,"body_markdown":"My spec for this randomly generated string was to produce a 35 character length encryption key (a-zA-Z2-7 characters only for first 25 chars). After every 5th character a `-` used, and the last 5 characters were to be an integer between 10_000 and 19_999.\r\n\r\nHere&#39;s the code for what I did (in Kotlin).\r\n\r\n    companion object {\r\n\r\n        /**\r\n         * Letters lower &amp; upper case excluding:\r\n         *\r\n         *   - l, o, B, O\r\n         *\r\n         * Numbers excluding:\r\n         *\r\n         *   - 0, 1, 8, 9\r\n         * */\r\n        val acceptedChars: CharArray\r\n            get() = charArrayOf(\r\n                &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;,\r\n                &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;,\r\n                &#39;k&#39;, &#39;m&#39;, &#39;n&#39;, &#39;p&#39;, &#39;q&#39;,\r\n                &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;u&#39;, &#39;v&#39;,\r\n                &#39;w&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39;, &#39;A&#39;,\r\n                &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;, &#39;G&#39;,\r\n                &#39;H&#39;, &#39;I&#39;, &#39;J&#39;, &#39;K&#39;, &#39;L&#39;,\r\n                &#39;M&#39;, &#39;N&#39;, &#39;P&#39;, &#39;Q&#39;, &#39;R&#39;,\r\n                &#39;S&#39;, &#39;T&#39;, &#39;U&#39;, &#39;V&#39;, &#39;W&#39;,\r\n                &#39;X&#39;, &#39;Y&#39;, &#39;Z&#39;, &#39;2&#39;, &#39;3&#39;,\r\n                &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;\r\n            )\r\n\r\n        val acceptedInts: CharArray\r\n            get() = charArrayOf(\r\n                &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;,\r\n                &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;\r\n            )\r\n\r\n        fun generate(): EncryptionKey {\r\n            val random = SecureRandom()\r\n            val stringBuilder = StringBuilder()\r\n            for (i in 0 until 35) {\r\n                when (i) {\r\n                    5, 11, 17, 23, 29 -&gt; {\r\n                        stringBuilder.append(&quot;-&quot;)\r\n                    }\r\n                    30 -&gt; {\r\n                        stringBuilder.append(&quot;1&quot;)\r\n                    }\r\n                    31, 32, 33, 34 -&gt; {\r\n                        val index = random.nextInt(acceptedInts.size)\r\n                        stringBuilder.append(acceptedInts[index])\r\n                    }\r\n                    else -&gt; {\r\n                        val index = random.nextInt(acceptedChars.size)\r\n                        stringBuilder.append(acceptedChars[index])\r\n                    }\r\n                }\r\n            }\r\n            return EncryptionKey(stringBuilder.toString())\r\n        }\r\n    }\r\n\r\nresults produced:\r\n\r\n```\r\nvalue: &#39;nK6UI-DWYvu-dbmhD-KPe5X-22dPT-10027&#39;, length: &#39;35&#39;\r\nvalue: &#39;NIFvi-aX4GW-3xCYV-YSAVs-tASIK-15301&#39;, length: &#39;35&#39;\r\nvalue: &#39;SpNkT-qxHR7-hSMkK-hVxpp-AqLFh-19409&#39;, length: &#39;35&#39;\r\nvalue: &#39;bNvi2-svqX7-cfEw5-LNYDn-C2FtW-16197&#39;, length: &#39;35&#39;\r\nvalue: &#39;hhjLX-KmRQU-KbHyU-CkNyD-5ASk6-14537&#39;, length: &#39;35&#39;\r\nvalue: &#39;Xd2cj-braCm-FaE4E-Jvn2G-2Dv5J-12243&#39;, length: &#39;35&#39;\r\nvalue: &#39;7beFb-aeSe2-iHXZe-mTUHT-aEbry-17349&#39;, length: &#39;35&#39;\r\nvalue: &#39;NExMa-xCAbU-VkpyS-xeEkj-QUayd-16311&#39;, length: &#39;35&#39;\r\nvalue: &#39;52HWN-EX7wV-csbhj-InhtU-gbV46-18606&#39;, length: &#39;35&#39;\r\nvalue: &#39;n3RTZ-whpjQ-ZjW5n-tTyfR-eLDSF-14003&#39;, length: &#39;35&#39;\r\nvalue: &#39;aJEks-ccKdU-KGJdh-Rz4ck-tR7Uq-12199&#39;, length: &#39;35&#39;\r\nvalue: &#39;nMcUF-ctbcy-FEfq7-VJhRx-pCKej-16369&#39;, length: &#39;35&#39;\r\n```","title":"How to generate a secure random alphanumeric string in Java efficiently?","body":"<p>My spec for this randomly generated string was to produce a 35 character length encryption key (a-zA-Z2-7 characters only for first 25 chars). After every 5th character a <code>-</code> used, and the last 5 characters were to be an integer between 10_000 and 19_999.</p>\n<p>Here's the code for what I did (in Kotlin).</p>\n<pre><code>companion object {\n\n    /**\n     * Letters lower &amp; upper case excluding:\n     *\n     *   - l, o, B, O\n     *\n     * Numbers excluding:\n     *\n     *   - 0, 1, 8, 9\n     * */\n    val acceptedChars: CharArray\n        get() = charArrayOf(\n            'a', 'b', 'c', 'd', 'e',\n            'f', 'g', 'h', 'i', 'j',\n            'k', 'm', 'n', 'p', 'q',\n            'r', 's', 't', 'u', 'v',\n            'w', 'x', 'y', 'z', 'A',\n            'C', 'D', 'E', 'F', 'G',\n            'H', 'I', 'J', 'K', 'L',\n            'M', 'N', 'P', 'Q', 'R',\n            'S', 'T', 'U', 'V', 'W',\n            'X', 'Y', 'Z', '2', '3',\n            '4', '5', '6', '7'\n        )\n\n    val acceptedInts: CharArray\n        get() = charArrayOf(\n            '0', '1', '2', '3', '4',\n            '5', '6', '7', '8', '9'\n        )\n\n    fun generate(): EncryptionKey {\n        val random = SecureRandom()\n        val stringBuilder = StringBuilder()\n        for (i in 0 until 35) {\n            when (i) {\n                5, 11, 17, 23, 29 -&gt; {\n                    stringBuilder.append(&quot;-&quot;)\n                }\n                30 -&gt; {\n                    stringBuilder.append(&quot;1&quot;)\n                }\n                31, 32, 33, 34 -&gt; {\n                    val index = random.nextInt(acceptedInts.size)\n                    stringBuilder.append(acceptedInts[index])\n                }\n                else -&gt; {\n                    val index = random.nextInt(acceptedChars.size)\n                    stringBuilder.append(acceptedChars[index])\n                }\n            }\n        }\n        return EncryptionKey(stringBuilder.toString())\n    }\n}\n</code></pre>\n<p>results produced:</p>\n<pre><code>value: 'nK6UI-DWYvu-dbmhD-KPe5X-22dPT-10027', length: '35'\nvalue: 'NIFvi-aX4GW-3xCYV-YSAVs-tASIK-15301', length: '35'\nvalue: 'SpNkT-qxHR7-hSMkK-hVxpp-AqLFh-19409', length: '35'\nvalue: 'bNvi2-svqX7-cfEw5-LNYDn-C2FtW-16197', length: '35'\nvalue: 'hhjLX-KmRQU-KbHyU-CkNyD-5ASk6-14537', length: '35'\nvalue: 'Xd2cj-braCm-FaE4E-Jvn2G-2Dv5J-12243', length: '35'\nvalue: '7beFb-aeSe2-iHXZe-mTUHT-aEbry-17349', length: '35'\nvalue: 'NExMa-xCAbU-VkpyS-xeEkj-QUayd-16311', length: '35'\nvalue: '52HWN-EX7wV-csbhj-InhtU-gbV46-18606', length: '35'\nvalue: 'n3RTZ-whpjQ-ZjW5n-tTyfR-eLDSF-14003', length: '35'\nvalue: 'aJEks-ccKdU-KGJdh-Rz4ck-tR7Uq-12199', length: '35'\nvalue: 'nMcUF-ctbcy-FEfq7-VJhRx-pCKej-16369', length: '35'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22911962,"reputation":1,"user_id":17049084,"display_name":"Swadesh Roy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633096333,"creation_date":1633096333,"answer_id":69407045,"question_id":7111651,"body_markdown":"Initialize an array containing all the accepted chars ( CHARS_ARRAY ), then instantiate a SecureRandom instance, and call nextInt(CHARS_ARRAY. length) repeatedly to get a random index in your char array. Append each char to a StringBuilder until you get the expected number of chars.","title":"How to generate a secure random alphanumeric string in Java efficiently?","body":"<p>Initialize an array containing all the accepted chars ( CHARS_ARRAY ), then instantiate a SecureRandom instance, and call nextInt(CHARS_ARRAY. length) repeatedly to get a random index in your char array. Append each char to a StringBuilder until you get the expected number of chars.</p>\n"},{"tags":[],"owner":{"account_id":6085642,"reputation":568,"user_id":5122436,"display_name":"Mikhail Ionkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649442583,"creation_date":1649442583,"answer_id":71801706,"question_id":7111651,"body_markdown":"I&#39;m not sure about efficienty (probably you can&#39;t create much more efficient variant), but this variant is simple and secure (**while [RandomStringUtils](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/RandomStringUtils.html) is not**):\r\n\r\n```java\r\n    SecureRandom randomGenerator = new SecureRandom();\r\n    byte[] randomBytes = new byte[20];\r\n    randomGenerator.nextBytes(randomBytes);\r\n    String randomString = new BigInteger(1, randomBytes).toString(16);\r\n```\r\nIt you want to a little more efficient variant, specify randomGenerator as class field or as a static field.\r\n\r\nTaked from https://stackoverflow.com/a/44227131/5122436","title":"How to generate a secure random alphanumeric string in Java efficiently?","body":"<p>I'm not sure about efficienty (probably you can't create much more efficient variant), but this variant is simple and secure (<strong>while <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/RandomStringUtils.html\" rel=\"nofollow noreferrer\">RandomStringUtils</a> is not</strong>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    SecureRandom randomGenerator = new SecureRandom();\n    byte[] randomBytes = new byte[20];\n    randomGenerator.nextBytes(randomBytes);\n    String randomString = new BigInteger(1, randomBytes).toString(16);\n</code></pre>\n<p>It you want to a little more efficient variant, specify randomGenerator as class field or as a static field.</p>\n<p>Taked from <a href=\"https://stackoverflow.com/a/44227131/5122436\">https://stackoverflow.com/a/44227131/5122436</a></p>\n"}],"owner":{"account_id":795970,"reputation":419,"user_id":901113,"display_name":"devon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57239,"favorite_count":0,"down_vote_count":1,"up_vote_count":42,"answer_count":11,"score":41,"last_activity_date":1685108587,"creation_date":1313688928,"question_id":7111651,"body_markdown":"How do you generate a secure random (or pseudo-random) alphanumeric string in Java efficiently?","title":"How to generate a secure random alphanumeric string in Java efficiently?","body":"<p>How do you generate a secure random (or pseudo-random) alphanumeric string in Java efficiently?</p>\n"},{"tags":["java","sql-server-2005","jdbc"],"comments":[{"owner":{"account_id":8834,"reputation":297144,"user_id":16076,"display_name":"Mitch Wheat"},"score":2,"creation_date":1368281795,"post_id":16497998,"comment_id":23680219,"body_markdown":"and have you done what is suggested in the error message?","body":"and have you done what is suggested in the error message?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1368281811,"post_id":16497998,"comment_id":23680224,"body_markdown":"Well have you set up SQL server to allow TCP/IP connections on port 1433? It sounds like you haven&#39;t.","body":"Well have you set up SQL server to allow TCP/IP connections on port 1433? It sounds like you haven&#39;t."},{"owner":{"account_id":1652904,"reputation":615,"user_id":1523127,"accept_rate":44,"display_name":"yatinbc"},"score":0,"creation_date":1368282005,"post_id":16497998,"comment_id":23680278,"body_markdown":"I am not getting that error .please help what to do","body":"I am not getting that error .please help what to do"},{"owner":{"account_id":1652904,"reputation":615,"user_id":1523127,"accept_rate":44,"display_name":"yatinbc"},"score":0,"creation_date":1368282052,"post_id":16497998,"comment_id":23680286,"body_markdown":"@Jon : How to do that? Do i need any dll&#39;s to set up it","body":"@Jon : How to do that? Do i need any dll&#39;s to set up it"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1368282318,"post_id":16497998,"comment_id":23680354,"body_markdown":"@yatinbc: Go into your SQL Server administration tool, and enable TCP-IP connections. If that&#39;s not enough information for you, search the web for how to do this - I&#39;m sure it&#39;s covered in a lot of places.","body":"@yatinbc: Go into your SQL Server administration tool, and enable TCP-IP connections. If that&#39;s not enough information for you, search the web for how to do this - I&#39;m sure it&#39;s covered in a lot of places."},{"owner":{"account_id":1241984,"reputation":439,"user_id":1204370,"display_name":"Mohammed Alaghbari"},"score":0,"creation_date":1368284122,"post_id":16497998,"comment_id":23680860,"body_markdown":"Does it work well with you when using SQL Server authentication user and password?","body":"Does it work well with you when using SQL Server authentication user and password?"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1368302407,"post_id":16497998,"comment_id":23686021,"body_markdown":"@MohammedAlaghbari Probably not, as the error has nothing to do with windows authentication: the driver isn&#39;t even able to connect to the database server.","body":"@MohammedAlaghbari Probably not, as the error has nothing to do with windows authentication: the driver isn&#39;t even able to connect to the database server."}],"answers":[{"tags":[],"owner":{"account_id":231136,"reputation":819,"user_id":495188,"accept_rate":92,"display_name":"Naveen Chakravarthy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1379358447,"creation_date":1379358447,"answer_id":18835420,"question_id":16497998,"body_markdown":"You need to enable the SQL Server TCP/IP Protocol in Sql Server Configuration Manager app. You can see the protocol in SQL Server Network Configuration.","title":"JDBC connection to MSSQL server in windows authentication mode","body":"<p>You need to enable the SQL Server TCP/IP Protocol in Sql Server Configuration Manager app. You can see the protocol in SQL Server Network Configuration.</p>\n"},{"tags":[],"owner":{"account_id":3634103,"reputation":1249,"user_id":3029620,"display_name":"user3029620"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1385403326,"creation_date":1385351643,"answer_id":20184475,"question_id":16497998,"body_markdown":"Using windows authentication:\r\n\r\n    String url =&quot;jdbc:sqlserver://PC01\\inst01;databaseName=DB01;integratedSecurity=true&quot;;\r\n\r\nUsing SQL authentication: \r\n\r\n    String url =&quot;jdbc:sqlserver://PC01\\inst01;databaseName=DB01&quot;;\r\n\r\n","title":"JDBC connection to MSSQL server in windows authentication mode","body":"<p>Using windows authentication:</p>\n\n<pre><code>String url =\"jdbc:sqlserver://PC01\\inst01;databaseName=DB01;integratedSecurity=true\";\n</code></pre>\n\n<p>Using SQL authentication: </p>\n\n<pre><code>String url =\"jdbc:sqlserver://PC01\\inst01;databaseName=DB01\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4209597,"reputation":171,"user_id":3447677,"display_name":"kris"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1395932274,"creation_date":1395932274,"answer_id":22691421,"question_id":16497998,"body_markdown":"You need to add sqljdbc_auth.dll in your C:/windows/System32 folder. You can download it from http://www.microsoft.com/en-us/download/details.aspx?displaylang=en&amp;id=11774 . \r\n","title":"JDBC connection to MSSQL server in windows authentication mode","body":"<p>You need to add sqljdbc_auth.dll in your C:/windows/System32 folder. You can download it from <a href=\"http://www.microsoft.com/en-us/download/details.aspx?displaylang=en&amp;id=11774\" rel=\"noreferrer\">http://www.microsoft.com/en-us/download/details.aspx?displaylang=en&amp;id=11774</a> . </p>\n"},{"tags":[],"owner":{"account_id":110905,"reputation":553,"user_id":293273,"display_name":"Brandon Langley"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440689399,"creation_date":1440689399,"answer_id":32253599,"question_id":16497998,"body_markdown":"If you want to do windows authentication, use the latest MS-JDBC driver and follow the instructions here:\r\n\r\nhttps://msdn.microsoft.com/en-us/library/gg558122(v=sql.110).aspx\r\n\r\n","title":"JDBC connection to MSSQL server in windows authentication mode","body":"<p>If you want to do windows authentication, use the latest MS-JDBC driver and follow the instructions here:</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/gg558122(v=sql.110).aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/gg558122(v=sql.110).aspx</a></p>\n"},{"tags":[],"owner":{"account_id":5919185,"reputation":1404,"user_id":4656954,"display_name":"Abhishek Shah"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1521685087,"creation_date":1463838467,"answer_id":37363766,"question_id":16497998,"body_markdown":"From your exception trace, it looks like there is multiple possibility for this problem \r\n\r\n1). You have to check that your port **&quot;1433&quot;** is blocked by firewall or not. If you find that it is blocked then you should have to write &quot;Inbound Rule&quot;. It if found in control panel -&gt; windows firewall -&gt; Advance Setting (Option found at Left hand side) -&gt; **Inbound Rule**.\r\n\r\n2). In SQL Server configuration Manager, your **`TCP/IP`** protocol will find in disable mode. So, you should have to enable it.","title":"JDBC connection to MSSQL server in windows authentication mode","body":"<p>From your exception trace, it looks like there is multiple possibility for this problem </p>\n\n<p>1). You have to check that your port <strong>\"1433\"</strong> is blocked by firewall or not. If you find that it is blocked then you should have to write \"Inbound Rule\". It if found in control panel -> windows firewall -> Advance Setting (Option found at Left hand side) -> <strong>Inbound Rule</strong>.</p>\n\n<p>2). In SQL Server configuration Manager, your <strong><code>TCP/IP</code></strong> protocol will find in disable mode. So, you should have to enable it.</p>\n"},{"tags":[],"owner":{"account_id":13021706,"reputation":171,"user_id":9410894,"display_name":"Satish"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1519626437,"creation_date":1519609846,"answer_id":48980393,"question_id":16497998,"body_markdown":"Try following these steps:\r\n\r\n1. Add the `integratedSecurity=true` to JDBC URL like this:\r\n\r\n\t    Url: jdbc:sqlserver://&lt;&lt;Server&gt;&gt;:&lt;&lt;Port&gt;&gt;;databasename=&lt;&lt;DatabaseName&gt;&gt;;integratedsecurity=true \r\n\r\n2. Make sure to add the sqljdbc driver 4 or above version (sqljdbc.jar) in your project build path:\r\n\r\n\t    java.sql.DatabaseMetaData metaData = connection.getMetaData();\r\n\t    System.out.println(&quot;Driver version:&quot; + metaData.getDriverVersion());\r\n\t\t\t\r\n3. Add the VM argument for your project:\r\n\r\n\t- Find the *sqljdbc_auth.dll* file from DB installed server `(C:\\Program Files\\sqljdbc_4.0\\enu\\auth\\x86)`, or download from [this link](http://www.microsoft.com/en-us/download/details.aspx?displaylang=en&amp;id=11774).\r\n\t\t\r\n\t- Place the dll file in your project folder and specify the VM argument like this:\r\n\t\tVM Argument: `-Djava.library.path=&quot;&lt;&lt;DLL File path till folder&gt;&gt;&quot;`\r\n\t\t\r\n\t\tNOTE: Check your java version 32/64 bit then add 32/64 bit version dll file accordingly.\r\n\t\t","title":"JDBC connection to MSSQL server in windows authentication mode","body":"<p>Try following these steps:</p>\n\n<ol>\n<li><p>Add the <code>integratedSecurity=true</code> to JDBC URL like this:</p>\n\n<pre><code>Url: jdbc:sqlserver://&lt;&lt;Server&gt;&gt;:&lt;&lt;Port&gt;&gt;;databasename=&lt;&lt;DatabaseName&gt;&gt;;integratedsecurity=true \n</code></pre></li>\n<li><p>Make sure to add the sqljdbc driver 4 or above version (sqljdbc.jar) in your project build path:</p>\n\n<pre><code>java.sql.DatabaseMetaData metaData = connection.getMetaData();\nSystem.out.println(\"Driver version:\" + metaData.getDriverVersion());\n</code></pre></li>\n<li><p>Add the VM argument for your project:</p>\n\n<ul>\n<li><p>Find the <em>sqljdbc_auth.dll</em> file from DB installed server <code>(C:\\Program Files\\sqljdbc_4.0\\enu\\auth\\x86)</code>, or download from <a href=\"http://www.microsoft.com/en-us/download/details.aspx?displaylang=en&amp;id=11774\" rel=\"noreferrer\">this link</a>.</p></li>\n<li><p>Place the dll file in your project folder and specify the VM argument like this:\nVM Argument: <code>-Djava.library.path=\"&lt;&lt;DLL File path till folder&gt;&gt;\"</code></p>\n\n<p>NOTE: Check your java version 32/64 bit then add 32/64 bit version dll file accordingly.</p></li>\n</ul></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1321086,"reputation":4305,"user_id":1266906,"display_name":"TheConstructor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1527492009,"creation_date":1527492009,"answer_id":50561067,"question_id":16497998,"body_markdown":"For the current MS SQL JDBC driver (6.4.0) tested under Windows 7 from within DataGrip:\r\n\r\n1. as per [documentation on authenticationScheme](https://learn.microsoft.com/en-us/sql/connect/jdbc/setting-the-connection-properties?view=sql-server-2017) use fully qualified domain name as host e.g. `server.your.domain` not just `server`; the documentation also mentions the possibility to specify `serverSpn=MSSQLSvc/fqdn:port@REALM`, but I can not provide you with details on how to use this. When specifying a fqdn as host the spn is auto-generated.\r\n2. set `authenticationScheme=JavaKerberos`\r\n3. set `integratedSecurity=true`\r\n4. use your unqualified user-name (and password) to log in\r\n\r\nAs this is using JavaKerberos I would appreciate feedback on whether or not this works from outside Windows. I believe that no .dll is needed, but as I used DataGrip to create the connection I am uncertain; I would also appreciate Feedback on this!","title":"JDBC connection to MSSQL server in windows authentication mode","body":"<p>For the current MS SQL JDBC driver (6.4.0) tested under Windows 7 from within DataGrip:</p>\n\n<ol>\n<li>as per <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/setting-the-connection-properties?view=sql-server-2017\" rel=\"nofollow noreferrer\">documentation on authenticationScheme</a> use fully qualified domain name as host e.g. <code>server.your.domain</code> not just <code>server</code>; the documentation also mentions the possibility to specify <code>serverSpn=MSSQLSvc/fqdn:port@REALM</code>, but I can not provide you with details on how to use this. When specifying a fqdn as host the spn is auto-generated.</li>\n<li>set <code>authenticationScheme=JavaKerberos</code></li>\n<li>set <code>integratedSecurity=true</code></li>\n<li>use your unqualified user-name (and password) to log in</li>\n</ol>\n\n<p>As this is using JavaKerberos I would appreciate feedback on whether or not this works from outside Windows. I believe that no .dll is needed, but as I used DataGrip to create the connection I am uncertain; I would also appreciate Feedback on this!</p>\n"},{"tags":[],"owner":{"account_id":11156848,"reputation":546,"user_id":8188304,"display_name":"Sidharth Taneja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552971028,"creation_date":1552971028,"answer_id":55233848,"question_id":16497998,"body_markdown":"After struggling a lot, I finally found a solution, here we go -\r\n\r\nDownload the file `jtds-1.3.1.jar` and `ntlmauth.dll` and save it in Program File -&gt; Java -&gt; JDK -&gt; jre -&gt; bin. \r\n\r\nThen use the following code - \r\n\r\n    String pPSSDBDriverName = &quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;;\r\n    Class.forName(pPSSDBDriverName);\r\n    DriverManager.registerDriver(new com.microsoft.sqlserver.jdbc.SQLServerDriver());\r\n    conn = DriverManager.getConnection(&quot;jdbc:jtds:sqlserver://&lt;ur_server:port&gt;;UseNTLMv2=true;Domain=AD;Trusted_Connection=yes&quot;);\r\n    stmt = conn.createStatement();\r\n    String sql = &quot; DELETE FROM &lt;data&gt; where &lt;condition&gt;;\r\n    stmt.executeUpdate(sql);\r\n\r\n \r\n","title":"JDBC connection to MSSQL server in windows authentication mode","body":"<p>After struggling a lot, I finally found a solution, here we go -</p>\n\n<p>Download the file <code>jtds-1.3.1.jar</code> and <code>ntlmauth.dll</code> and save it in Program File -> Java -> JDK -> jre -> bin. </p>\n\n<p>Then use the following code - </p>\n\n<pre><code>String pPSSDBDriverName = \"com.microsoft.sqlserver.jdbc.SQLServerDriver\";\nClass.forName(pPSSDBDriverName);\nDriverManager.registerDriver(new com.microsoft.sqlserver.jdbc.SQLServerDriver());\nconn = DriverManager.getConnection(\"jdbc:jtds:sqlserver://&lt;ur_server:port&gt;;UseNTLMv2=true;Domain=AD;Trusted_Connection=yes\");\nstmt = conn.createStatement();\nString sql = \" DELETE FROM &lt;data&gt; where &lt;condition&gt;;\nstmt.executeUpdate(sql);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18832042,"reputation":19,"user_id":13735619,"display_name":"Sergio"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1599225418,"creation_date":1599080438,"answer_id":63713481,"question_id":16497998,"body_markdown":"Nop, you have a connection error, please check your IP server adress or your firewall.\r\n\r\n**com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host localhost, port 1433 has failed. Error: &quot;Connection refused: connect. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.&quot;**.\r\n\r\n1) ping yourhost (maybe the ping service was blocked, but try anyway).\r\n2) telnet yourhost 1433 (maybe blocked).\r\n3) Contact the sysadmin with the results.","title":"JDBC connection to MSSQL server in windows authentication mode","body":"<p>Nop, you have a connection error, please check your IP server adress or your firewall.</p>\n<p><strong>com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host localhost, port 1433 has failed. Error: &quot;Connection refused: connect. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.&quot;</strong>.</p>\n<ol>\n<li>ping yourhost (maybe the ping service was blocked, but try anyway).</li>\n<li>telnet yourhost 1433 (maybe blocked).</li>\n<li>Contact the sysadmin with the results.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8625831,"reputation":720,"user_id":6459098,"display_name":"U_R_Naveen UR_Naveen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1599464135,"creation_date":1599464135,"answer_id":63773180,"question_id":16497998,"body_markdown":"i was getting error as &quot;This driver is not configured for integrated authentication&quot; while authenticating windows users by following jdbc string\r\n\r\n&gt; `jdbc:sqlserver://host:1433;integratedSecurity=true;domain=myDomain`\r\n\r\n\r\nSo the updated connection string to make it work is as below.\r\n\r\n&gt; `jdbc:sqlserver://host:1433;authenticationScheme=NTLM;integratedSecurity=true;domain=myDomain`\r\n\r\n**note**: username entered was without domain.","title":"JDBC connection to MSSQL server in windows authentication mode","body":"<p>i was getting error as &quot;This driver is not configured for integrated authentication&quot; while authenticating windows users by following jdbc string</p>\n<blockquote>\n<p><code>jdbc:sqlserver://host:1433;integratedSecurity=true;domain=myDomain</code></p>\n</blockquote>\n<p>So the updated connection string to make it work is as below.</p>\n<blockquote>\n<p><code>jdbc:sqlserver://host:1433;authenticationScheme=NTLM;integratedSecurity=true;domain=myDomain</code></p>\n</blockquote>\n<p><strong>note</strong>: username entered was without domain.</p>\n"},{"tags":[],"owner":{"account_id":21532069,"reputation":11,"user_id":15871354,"display_name":"Furkan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633647093,"creation_date":1633647093,"answer_id":69488661,"question_id":16497998,"body_markdown":"\r\n\r\nYou should copy your .dll =&gt; here &quot;mssql-jdbc_auth-9.4.0.x64.dll&quot; in that folder =&gt; sqljdbc_9.4\\enu\\auth\\x64  to your Java JDK/bin. \r\n\r\n**Shortly:**  =&gt;  sqljdbc_9.4\\enu\\auth\\x64\\mssql-jdbc_auth-9.4.0.x64.dll\r\n              to Program Files\\Java\\jdk-16\\bin\r\n              \r\nIf it doesnt work, you can open your SQL Server 2019 Configuration Manager -&gt; SQL Server Network Configuration , all protocol&#39;s name should be Enabled. After that you should click on (TCP/IP) / IP Addresses, you will see that IPALL-&gt; TCP PORT should be  1433.\r\n\r\n\r\n","title":"JDBC connection to MSSQL server in windows authentication mode","body":"<p>You should copy your .dll =&gt; here &quot;mssql-jdbc_auth-9.4.0.x64.dll&quot; in that folder =&gt; sqljdbc_9.4\\enu\\auth\\x64  to your Java JDK/bin.</p>\n<p><strong>Shortly:</strong>  =&gt;  sqljdbc_9.4\\enu\\auth\\x64\\mssql-jdbc_auth-9.4.0.x64.dll\nto Program Files\\Java\\jdk-16\\bin</p>\n<p>If it doesnt work, you can open your SQL Server 2019 Configuration Manager -&gt; SQL Server Network Configuration , all protocol's name should be Enabled. After that you should click on (TCP/IP) / IP Addresses, you will see that IPALL-&gt; TCP PORT should be  1433.</p>\n"}],"owner":{"account_id":1652904,"reputation":615,"user_id":1523127,"accept_rate":44,"display_name":"yatinbc"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163803,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"answer_count":11,"score":23,"last_activity_date":1685108280,"creation_date":1368281691,"question_id":16497998,"body_markdown":"In my following programme I am trying to connect MSSQL Server using jdbc in windows authentication. But getting following error\r\n\r\n\r\n\r\n    import java.io.*;\r\n    import java.sql.*;\r\n    import java.util.GregorianCalendar;\r\n    import java.util.Date;\r\n    import java.text.DateFormat;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Calendar;\r\n    \r\n    class  Cms_truncate\r\n    {\r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\t Calendar cal = new GregorianCalendar();\r\n    \t\t \r\n    \t\t //String name=&quot;cmscim&quot;;\r\n    \t\t //String filename = &quot;D:\\\\programs\\\\Tomcat 6.0\\\\webapps\\\\timescape\\\\canteen_scheduller\\\\CMS_CSV\\\\cms_cim\\\\&quot;+ name+&quot;-&quot;+cal.get(Calendar.YEAR) +&quot;-&quot; +(cal.get(Calendar.MONTH)+1) + &quot;-&quot;+cal.get(Calendar.DATE)+&quot;.csv&quot;;\r\n    \t\t Connection conn = null;\r\n    \t\t String url = &quot;jdbc:sqlserver://localhost:1433;databasename=CMS_TIMES_MAIN;integratedSecurity=true&quot;;\r\n    \t\t String driver = &quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;;\r\n    \t\t String userName = &quot;&quot;; \r\n    \t\t String password = &quot;&quot;;\r\n    \t\t Statement stmt;\r\n    \t\t try\r\n    \t\t {\r\n    \t\t \r\n    \t\t Class.forName(driver);//.newInstance();\r\n    \t\t conn = DriverManager.getConnection(url,userName,password);\r\n    \t\t String query = &quot;select * from cim where sapId=10025331&quot;;\r\n    \t\t stmt = conn.createStatement();\r\n    \t\t int flag = stmt.executeUpdate(query);\r\n    \t     System.out.println(&quot;flag = &quot;+flag); \r\n    \t\t conn.close();\r\n    \t\tSystem.out.println(&quot;&quot;);\r\n    \t\t } catch (Exception e) {\r\n    \t\t e.printStackTrace();\r\n    \t\t }\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\nI am using SQL Server in windows authentication mode.\r\nDo I need to do set up other things to connect MSSQL using jdbc in windows authentication.\r\n\r\nERROR:\r\n\r\n\r\n    com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host localhost, port 1433 has failed. Error: &quot;Connection refused: connect. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.&quot;.\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:190)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerException.ConvertConnectExceptionToSQLServerException(SQLServerException.java:241)\r\n    \tat com.microsoft.sqlserver.jdbc.SocketFinder.findSocket(IOBuffer.java:2243)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSChannel.open(IOBuffer.java:491)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:1309)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:991)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:827)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1012)\r\n    \tat java.sql.DriverManager.getConnection(Unknown Source)\r\n    \tat java.sql.DriverManager.getConnection(Unknown Source)\r\n    \tat Cms_truncate.main(Cms_truncate.java:28)\r\n\r\n","title":"JDBC connection to MSSQL server in windows authentication mode","body":"<p>In my following programme I am trying to connect MSSQL Server using jdbc in windows authentication. But getting following error</p>\n\n<pre><code>import java.io.*;\nimport java.sql.*;\nimport java.util.GregorianCalendar;\nimport java.util.Date;\nimport java.text.DateFormat;\nimport java.text.SimpleDateFormat;\nimport java.util.Calendar;\n\nclass  Cms_truncate\n{\n    public static void main(String[] args) \n    {\n         Calendar cal = new GregorianCalendar();\n\n         //String name=\"cmscim\";\n         //String filename = \"D:\\\\programs\\\\Tomcat 6.0\\\\webapps\\\\timescape\\\\canteen_scheduller\\\\CMS_CSV\\\\cms_cim\\\\\"+ name+\"-\"+cal.get(Calendar.YEAR) +\"-\" +(cal.get(Calendar.MONTH)+1) + \"-\"+cal.get(Calendar.DATE)+\".csv\";\n         Connection conn = null;\n         String url = \"jdbc:sqlserver://localhost:1433;databasename=CMS_TIMES_MAIN;integratedSecurity=true\";\n         String driver = \"com.microsoft.sqlserver.jdbc.SQLServerDriver\";\n         String userName = \"\"; \n         String password = \"\";\n         Statement stmt;\n         try\n         {\n\n         Class.forName(driver);//.newInstance();\n         conn = DriverManager.getConnection(url,userName,password);\n         String query = \"select * from cim where sapId=10025331\";\n         stmt = conn.createStatement();\n         int flag = stmt.executeUpdate(query);\n         System.out.println(\"flag = \"+flag); \n         conn.close();\n        System.out.println(\"\");\n         } catch (Exception e) {\n         e.printStackTrace();\n         }\n\n    }\n}\n</code></pre>\n\n<p>I am using SQL Server in windows authentication mode.\nDo I need to do set up other things to connect MSSQL using jdbc in windows authentication.</p>\n\n<p>ERROR:</p>\n\n<pre><code>com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host localhost, port 1433 has failed. Error: \"Connection refused: connect. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.\".\n    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:190)\n    at com.microsoft.sqlserver.jdbc.SQLServerException.ConvertConnectExceptionToSQLServerException(SQLServerException.java:241)\n    at com.microsoft.sqlserver.jdbc.SocketFinder.findSocket(IOBuffer.java:2243)\n    at com.microsoft.sqlserver.jdbc.TDSChannel.open(IOBuffer.java:491)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:1309)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:991)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:827)\n    at com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1012)\n    at java.sql.DriverManager.getConnection(Unknown Source)\n    at java.sql.DriverManager.getConnection(Unknown Source)\n    at Cms_truncate.main(Cms_truncate.java:28)\n</code></pre>\n"},{"tags":["java","apache-flink","flink-streaming","rocksdb"],"comments":[{"owner":{"account_id":82425,"reputation":8270,"user_id":231762,"display_name":"kkrugler"},"score":0,"creation_date":1684858717,"post_id":76308686,"comment_id":134577588,"body_markdown":"Unfortunately it&#39;s unclear from your description WHY you need to know the list size, because it&#39;s not clear what you&#39;re trying to do in the ProcessFunction. Plus you&#39;re mixing Table and DataStream APIs, which further muddies the water.","body":"Unfortunately it&#39;s unclear from your description WHY you need to know the list size, because it&#39;s not clear what you&#39;re trying to do in the ProcessFunction. Plus you&#39;re mixing Table and DataStream APIs, which further muddies the water."},{"owner":{"account_id":82425,"reputation":8270,"user_id":231762,"display_name":"kkrugler"},"score":0,"creation_date":1684858746,"post_id":76308686,"comment_id":134577594,"body_markdown":"Also why is your ProcessFunction implementing CheckpointedFunction and SinkFunction?","body":"Also why is your ProcessFunction implementing CheckpointedFunction and SinkFunction?"},{"owner":{"account_id":23669032,"reputation":51,"user_id":17696091,"display_name":"newbie5050"},"score":0,"creation_date":1684861723,"post_id":76308686,"comment_id":134578236,"body_markdown":"Answer your questions:","body":"Answer your questions:"},{"owner":{"account_id":23669032,"reputation":51,"user_id":17696091,"display_name":"newbie5050"},"score":0,"creation_date":1684862443,"post_id":76308686,"comment_id":134578370,"body_markdown":"1)  I will need to calculate the listSize to make sure once it equals &quot;chunk_size&quot;, pass those objects p_data1 &amp; p_data1 into another function for further data analysis.  2) My messages are coming from two different topics. So, I will need to pass the join into DataStream and process it within ProcessFunction. 3)  My ProcessFunction needs to be implemented CheckpointedFunction to access overridden initializeState method to &quot;listState = context.getOperatorStateStore().getListState(descriptor);&quot;.","body":"1)  I will need to calculate the listSize to make sure once it equals &quot;chunk_size&quot;, pass those objects p_data1 &amp; p_data1 into another function for further data analysis.  2) My messages are coming from two different topics. So, I will need to pass the join into DataStream and process it within ProcessFunction. 3)  My ProcessFunction needs to be implemented CheckpointedFunction to access overridden initializeState method to &quot;listState = context.getOperatorStateStore().getListState(descriptor);&quot;."}],"answers":[{"tags":[],"owner":{"account_id":23669032,"reputation":51,"user_id":17696091,"display_name":"newbie5050"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685108133,"creation_date":1685108133,"answer_id":76341325,"question_id":76308686,"body_markdown":"ListState does not provide a method to calculate the size of the list. Therefore, I ended up creating a ValueState as a counter, as:\r\n\r\n```\r\nprivate transient ValueState&lt;Integer&gt; count;\r\n``` \r\nwhere \r\n``` \r\nValueStateDescriptor&lt;Integer&gt; countDescriptor;\r\n        countDescriptor = new ValueStateDescriptor&lt;Integer&gt;(\r\n                &quot;counter&quot;,\r\n                Types.INT,\r\n                1); // default counter value is 1\r\n        count = getRuntimeContext().getState(countDescriptor);\r\n```\r\nInside the processElement method:\r\n\r\n```\r\nInteger cnt = count.value();\r\ncount.update(cnt + 1);\r\n\r\n```\r\nThe most important part is how to create a **[KeySelector][1]**\r\nSince there are two different topics (Kafka) and my query is a join on both tables and also my **[DataStream][2]** is an instance of **[Row][3]**, my KeySelector should be an instance of Row. To create a **key**, I figured out which field gives me a unique value. Therefore:\r\n\r\n```\r\njoin_stream.keyBy((KeySelector&lt;Row, String&gt;) row -&gt; String.valueOf(row.getField(2)).\r\nprocess(new DataProcessor()).setParallelism(4);\r\n```\r\n\r\n[1]: https://nightlies.apache.org/flink/flink-docs-master/api/java/org/apache/flink/api/java/functions/KeySelector.html\r\n[2]: https://nightlies.apache.org/flink/flink-docs-master/api/java/org/apache/flink/streaming/api/datastream/DataStream.html\r\n[3]: https://nightlies.apache.org/flink/flink-docs-master/api/java/org/apache/flink/types/Row.html","title":"How to figure out what&#39;s the size of ListState?","body":"<p>ListState does not provide a method to calculate the size of the list. Therefore, I ended up creating a ValueState as a counter, as:</p>\n<pre><code>private transient ValueState&lt;Integer&gt; count;\n</code></pre>\n<p>where</p>\n<pre><code>ValueStateDescriptor&lt;Integer&gt; countDescriptor;\n        countDescriptor = new ValueStateDescriptor&lt;Integer&gt;(\n                &quot;counter&quot;,\n                Types.INT,\n                1); // default counter value is 1\n        count = getRuntimeContext().getState(countDescriptor);\n</code></pre>\n<p>Inside the processElement method:</p>\n<pre><code>Integer cnt = count.value();\ncount.update(cnt + 1);\n\n</code></pre>\n<p>The most important part is how to create a <strong><a href=\"https://nightlies.apache.org/flink/flink-docs-master/api/java/org/apache/flink/api/java/functions/KeySelector.html\" rel=\"nofollow noreferrer\">KeySelector</a></strong>\nSince there are two different topics (Kafka) and my query is a join on both tables and also my <strong><a href=\"https://nightlies.apache.org/flink/flink-docs-master/api/java/org/apache/flink/streaming/api/datastream/DataStream.html\" rel=\"nofollow noreferrer\">DataStream</a></strong> is an instance of <strong><a href=\"https://nightlies.apache.org/flink/flink-docs-master/api/java/org/apache/flink/types/Row.html\" rel=\"nofollow noreferrer\">Row</a></strong>, my KeySelector should be an instance of Row. To create a <strong>key</strong>, I figured out which field gives me a unique value. Therefore:</p>\n<pre><code>join_stream.keyBy((KeySelector&lt;Row, String&gt;) row -&gt; String.valueOf(row.getField(2)).\nprocess(new DataProcessor()).setParallelism(4);\n</code></pre>\n"}],"owner":{"account_id":23669032,"reputation":51,"user_id":17696091,"display_name":"newbie5050"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685108133,"creation_date":1684777061,"question_id":76308686,"body_markdown":"In my Flink project, there are two topics that I join query on both of them:\r\n```\r\n   StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n   StreamTableEnvironment tableEnv = StreamTableEnvironment.create(env);\r\n\r\n   env.setStateBackend(new EmbeddedRocksDBStateBackend());\r\n   env.getCheckpointConfig().setCheckpointStorage(&quot;file:///...&quot;);\r\n\r\nKafkaSource&lt;DataFileChunk&gt; src1 = KafkaSource.&lt;DataFileChunk&gt;builder().            \r\n setBootstrapServers(&quot;pkc-ep9mm.us-east-2.aws.confluent.cloud:9092&quot;).setTopics(&quot;topic1&quot;).... \r\n\r\nKafkaSource&lt;DataFileChunk&gt; src2 = KafkaSource.&lt;DataFileChunk&gt;builder().            \r\n setBootstrapServers(&quot;pkc-ep9mm.us-east-2.aws.confluent.cloud:9092&quot;).setTopics(&quot;topic2).... \r\n```\r\n\r\nFollowing there are two corresponding dataStreams and process Functions:\r\n```\r\nDataStream&lt;DataFileChunk&gt; stream1 = env.fromSource(src1, WatermarkStrategy.noWatermarks(), &quot;TBL1&quot;);\r\n\r\nDataStream&lt;DataFileChunk&gt; stream2 = env.fromSource(src2, WatermarkStrategy.noWatermarks(), &quot;TBL2&quot;);```\r\n\r\n tableEnv.createTemporaryView(&quot;TBL1&quot;, rawDataStream);\r\n tableEnv.createTemporaryView(&quot;TBL2&quot;, bkgdDataStream);\r\n\r\nString join_query = &quot;select ....&quot;;\r\nTable join_table = tableEnv.sqlQuery(data_query);\r\n\r\nDataStream&lt;Row&gt; join_stream = tableEnv.toDataStream(raw_table);\r\n\r\njoin_stream.process(new DataProcessor()).setParallelism(4);\r\n```\r\n\r\nMy ProcessFunction class:\r\n```\r\npublic class DataProcessor\r\n        extends ProcessFunction&lt;Row, List&lt;double[][][]&gt;&gt; implements CheckpointedFunction, SinkFunction&lt;Tuple2&lt;double[][][], double[][][]&gt;&gt; {\r\n\r\n    @Override\r\n    public void processElement(Row row, ProcessFunction&lt;Row, List&lt;double[][][]&gt;&gt;.Context context, Collector&lt;List&lt;double[][][]&gt;&gt; collector) throws Exception {\r\n\r\nint id = Integer.parseInt(&quot;&quot; + row.getField(0));\r\nString data_chunk1 = &quot;&quot; + row.getField(1);\r\nString total_chunk2 = &quot;&quot; + row.getField(2);\r\nint chunk_size = Integer.parseInt(&quot;&quot; + row.getField(3));\r\n\r\ndouble[][][] p_data1 = analyzeData(id, data_chunk1, chunk_size);\r\ndouble[][][] p_data2 = analyzeData(id, data_chunk2, chunk_size);\r\n\r\nlistState.add(new Tuple2&lt;&gt;(p_data1, p_data2));\r\n\r\n//        TODO: \r\n//         1. Ensure to consume all data and add them to the listSate \r\n//         2. Iterate over listSate...\r\n//         3. Clean listState\r\n}\r\n\r\n    private transient ListState&lt;Tuple2&lt;double[][][], double[][][]&gt;&gt; listState;\r\n    \r\n    @Override\r\n    public void initializeState(FunctionInitializationContext context) throws Exception {\r\n        ListStateDescriptor&lt;Tuple2&lt;double[][][], double[][][]&gt;&gt; descriptor =\r\n                new ListStateDescriptor&lt;&gt;(\r\n                        &quot;buffered-elements&quot;,\r\n                        TypeInformation.of(new TypeHint&lt;&gt;() {\r\n                        }));\r\n\r\n        listState = context.getOperatorStateStore().getListState(descriptor);\r\n    }\r\n}\r\n```\r\nlistState does not provide me with a method to figure out what&#39;s the size of the list. So, I will have two options:\r\n\r\nOption 1: Figuring out that somehow all data are consumed and then iterate over the listState (but don&#39;t know how to do that...)\r\n\r\nOption 2: Calculation the size of the list in another state (i.e. ValueState). From this option, by reading [this article][1] I learned a bit about **ValueState** and **Keyed DataStream**.\r\n\r\nSo, I think I will need to follow these steps:\r\n\r\n1) Creating a KeySelector. I tried this but it might be wrong: \r\n```\r\njoin_stream.keyBy((KeySelector&lt;Row, Integer&gt;) row -&gt; Integer.parseInt(&quot;&quot; + row.getField(0)));\r\n```\r\n\r\n2) Initializing a ValueState somehow as it needs to be pointed out to my listSate to get the size of listSate anytime.**\r\n\r\nSo, I don&#39;t know how to implement the above steps.\r\n\r\n\r\n\r\n  [1]: https://nightlies.apache.org/flink/flink-docs-master/docs/dev/datastream/fault-tolerance/state/","title":"How to figure out what&#39;s the size of ListState?","body":"<p>In my Flink project, there are two topics that I join query on both of them:</p>\n<pre><code>   StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n   StreamTableEnvironment tableEnv = StreamTableEnvironment.create(env);\n\n   env.setStateBackend(new EmbeddedRocksDBStateBackend());\n   env.getCheckpointConfig().setCheckpointStorage(&quot;file:///...&quot;);\n\nKafkaSource&lt;DataFileChunk&gt; src1 = KafkaSource.&lt;DataFileChunk&gt;builder().            \n setBootstrapServers(&quot;pkc-ep9mm.us-east-2.aws.confluent.cloud:9092&quot;).setTopics(&quot;topic1&quot;).... \n\nKafkaSource&lt;DataFileChunk&gt; src2 = KafkaSource.&lt;DataFileChunk&gt;builder().            \n setBootstrapServers(&quot;pkc-ep9mm.us-east-2.aws.confluent.cloud:9092&quot;).setTopics(&quot;topic2).... \n</code></pre>\n<p>Following there are two corresponding dataStreams and process Functions:</p>\n<pre><code>DataStream&lt;DataFileChunk&gt; stream1 = env.fromSource(src1, WatermarkStrategy.noWatermarks(), &quot;TBL1&quot;);\n\nDataStream&lt;DataFileChunk&gt; stream2 = env.fromSource(src2, WatermarkStrategy.noWatermarks(), &quot;TBL2&quot;);```\n\n tableEnv.createTemporaryView(&quot;TBL1&quot;, rawDataStream);\n tableEnv.createTemporaryView(&quot;TBL2&quot;, bkgdDataStream);\n\nString join_query = &quot;select ....&quot;;\nTable join_table = tableEnv.sqlQuery(data_query);\n\nDataStream&lt;Row&gt; join_stream = tableEnv.toDataStream(raw_table);\n\njoin_stream.process(new DataProcessor()).setParallelism(4);\n</code></pre>\n<p>My ProcessFunction class:</p>\n<pre><code>public class DataProcessor\n        extends ProcessFunction&lt;Row, List&lt;double[][][]&gt;&gt; implements CheckpointedFunction, SinkFunction&lt;Tuple2&lt;double[][][], double[][][]&gt;&gt; {\n\n    @Override\n    public void processElement(Row row, ProcessFunction&lt;Row, List&lt;double[][][]&gt;&gt;.Context context, Collector&lt;List&lt;double[][][]&gt;&gt; collector) throws Exception {\n\nint id = Integer.parseInt(&quot;&quot; + row.getField(0));\nString data_chunk1 = &quot;&quot; + row.getField(1);\nString total_chunk2 = &quot;&quot; + row.getField(2);\nint chunk_size = Integer.parseInt(&quot;&quot; + row.getField(3));\n\ndouble[][][] p_data1 = analyzeData(id, data_chunk1, chunk_size);\ndouble[][][] p_data2 = analyzeData(id, data_chunk2, chunk_size);\n\nlistState.add(new Tuple2&lt;&gt;(p_data1, p_data2));\n\n//        TODO: \n//         1. Ensure to consume all data and add them to the listSate \n//         2. Iterate over listSate...\n//         3. Clean listState\n}\n\n    private transient ListState&lt;Tuple2&lt;double[][][], double[][][]&gt;&gt; listState;\n    \n    @Override\n    public void initializeState(FunctionInitializationContext context) throws Exception {\n        ListStateDescriptor&lt;Tuple2&lt;double[][][], double[][][]&gt;&gt; descriptor =\n                new ListStateDescriptor&lt;&gt;(\n                        &quot;buffered-elements&quot;,\n                        TypeInformation.of(new TypeHint&lt;&gt;() {\n                        }));\n\n        listState = context.getOperatorStateStore().getListState(descriptor);\n    }\n}\n</code></pre>\n<p>listState does not provide me with a method to figure out what's the size of the list. So, I will have two options:</p>\n<p>Option 1: Figuring out that somehow all data are consumed and then iterate over the listState (but don't know how to do that...)</p>\n<p>Option 2: Calculation the size of the list in another state (i.e. ValueState). From this option, by reading <a href=\"https://nightlies.apache.org/flink/flink-docs-master/docs/dev/datastream/fault-tolerance/state/\" rel=\"nofollow noreferrer\">this article</a> I learned a bit about <strong>ValueState</strong> and <strong>Keyed DataStream</strong>.</p>\n<p>So, I think I will need to follow these steps:</p>\n<ol>\n<li>Creating a KeySelector. I tried this but it might be wrong:</li>\n</ol>\n<pre><code>join_stream.keyBy((KeySelector&lt;Row, Integer&gt;) row -&gt; Integer.parseInt(&quot;&quot; + row.getField(0)));\n</code></pre>\n<ol start=\"2\">\n<li>Initializing a ValueState somehow as it needs to be pointed out to my listSate to get the size of listSate anytime.**</li>\n</ol>\n<p>So, I don't know how to implement the above steps.</p>\n"},{"tags":["java","sql-server","t-sql","jdbctemplate"],"comments":[{"owner":{"account_id":5120989,"reputation":6044,"user_id":4104555,"display_name":"ProgrammersBlock"},"score":0,"creation_date":1685053497,"post_id":76336577,"comment_id":134611580,"body_markdown":"What is the situation with your transaction behavior?  Are you doing auto commit?  Are you manually configuring this?","body":"What is the situation with your transaction behavior?  Are you doing auto commit?  Are you manually configuring this?"},{"owner":{"account_id":8399514,"reputation":4929,"user_id":6305294,"display_name":"Alex"},"score":0,"creation_date":1685054321,"post_id":76336577,"comment_id":134611669,"body_markdown":"Do you have triggers?","body":"Do you have triggers?"},{"owner":{"account_id":2500295,"reputation":1257,"user_id":2175604,"accept_rate":43,"display_name":"techie11"},"score":0,"creation_date":1685055233,"post_id":76336577,"comment_id":134611771,"body_markdown":"@ProgrammersBlock: the two SQLs are run  individually and not wrapped in a transaction. so it&#39;s default  transaction behavior.","body":"@ProgrammersBlock: the two SQLs are run  individually and not wrapped in a transaction. so it&#39;s default  transaction behavior."},{"owner":{"account_id":2500295,"reputation":1257,"user_id":2175604,"accept_rate":43,"display_name":"techie11"},"score":0,"creation_date":1685055774,"post_id":76336577,"comment_id":134611825,"body_markdown":"@Alex: yes. the first table has a trigger to generate the value for update_by and update_ts columns. I&#39;ve updated my post with the trigger definition.","body":"@Alex: yes. the first table has a trigger to generate the value for update_by and update_ts columns. I&#39;ve updated my post with the trigger definition."},{"owner":{"account_id":2500295,"reputation":1257,"user_id":2175604,"accept_rate":43,"display_name":"techie11"},"score":0,"creation_date":1685056323,"post_id":76336577,"comment_id":134611876,"body_markdown":"@Alex: I tried disabling the trigger, the same issue persists.","body":"@Alex: I tried disabling the trigger, the same issue persists."},{"owner":{"account_id":8399514,"reputation":4929,"user_id":6305294,"display_name":"Alex"},"score":0,"creation_date":1685057032,"post_id":76336577,"comment_id":134611941,"body_markdown":"This is Update trigger. Do you have Insert triggers?","body":"This is Update trigger. Do you have Insert triggers?"},{"owner":{"account_id":2500295,"reputation":1257,"user_id":2175604,"accept_rate":43,"display_name":"techie11"},"score":0,"creation_date":1685057099,"post_id":76336577,"comment_id":134611947,"body_markdown":"@Alex: there is no Insert trigger.","body":"@Alex: there is no Insert trigger."},{"owner":{"account_id":8399514,"reputation":4929,"user_id":6305294,"display_name":"Alex"},"score":0,"creation_date":1685057521,"post_id":76336577,"comment_id":134611988,"body_markdown":"I am out of ideas. Try running SQL Server profiler to see what queries are actually run on sql server.","body":"I am out of ideas. Try running SQL Server profiler to see what queries are actually run on sql server."},{"owner":{"account_id":2500295,"reputation":1257,"user_id":2175604,"accept_rate":43,"display_name":"techie11"},"score":0,"creation_date":1685060804,"post_id":76336577,"comment_id":134612294,"body_markdown":"My org does not install profiler with Azure SQL instance. I will see if I can persuade the team to have it installed.","body":"My org does not install profiler with Azure SQL instance. I will see if I can persuade the team to have it installed."},{"owner":{"account_id":19580686,"reputation":680,"user_id":14329830,"display_name":"paneerakbari"},"score":0,"creation_date":1685069397,"post_id":76336577,"comment_id":134612962,"body_markdown":"I&#39;m not terribly conversant with Java, but is it possible that your code is encountering an exception type that is neither `SQLException` nor `DataAccessException`?","body":"I&#39;m not terribly conversant with Java, but is it possible that your code is encountering an exception type that is neither <code>SQLException</code> nor <code>DataAccessException</code>?"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1685102428,"post_id":76336577,"comment_id":134618192,"body_markdown":"does it always fail on azure?","body":"does it always fail on azure?"}],"answers":[{"tags":[],"owner":{"account_id":2500295,"reputation":1257,"user_id":2175604,"accept_rate":43,"display_name":"techie11"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685108058,"creation_date":1685108058,"answer_id":76341315,"question_id":76336577,"body_markdown":"The issue turned to be a transaction behavior setting. autocommit was set to false for the dataSource, in such case the service need to be wrapped in @Transactional.","title":"INSERT SQL fails silently","body":"<p>The issue turned to be a transaction behavior setting. autocommit was set to false for the dataSource, in such case the service need to be wrapped in @Transactional.</p>\n"}],"owner":{"account_id":2500295,"reputation":1257,"user_id":2175604,"accept_rate":43,"display_name":"techie11"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1685108058,"creation_date":1685053289,"question_id":76336577,"body_markdown":"I&#39;m writing some code in Java to insert some values into the database with two SQL statements:\r\n\r\n    INSERT INTO rewards_points_issuance_recon(customer_id, first_name, ...) OUTPUT INSERTED.rewards_points_issuance_recon_id VALUES (:customer_id, :first_name, ...)\r\n\r\nand\r\n\r\n    INSERT INTO rewards_points_issuance_response_recon(REWARDS_POINTS_ISSUANCE_RECON_ID, ACKNOWLEDGEMENT_ID,...) VALUES(:rewards_points_issuance_recon_id,:acknowledgement_id, ...)\r\n\r\nthe `rewards_points_issuance_recon_id` is a column in the first table and default to NEXT VALUE FOR a sequence. the value of this column returned from first SQL is used as `:rewards_points_issuance_recon_id` for the second SQL which is a foreign key in second table referencing the same column in first table.\r\n\r\nthe first table has trigger to generate the value for two columns (see below definition)\r\n\r\nthe two statements are run with queryForObject() and execute() methods repectively:\r\n\r\n    Long pk = namedParameterJdbcTemplate.queryForObject(insertQuery.toString(), paramMap, Long.class);\r\n\r\n    namedParameterJdbcTemplate.execute(insertQuery.toString(), paramMap, new PreparedStatementCallback() {\r\n                public Object doInPreparedStatement(PreparedStatement ps) throws SQLException, DataAccessException {\r\n                    return ps.executeUpdate();\r\n                }\r\n            })\r\n\r\nThis is the strange problem I encountered: \r\n\r\nwhen running on the Azure cloud, the first SQL failed to insert values without any errors/exceptions, however it was able to return `OUTPUT INSERTED.rewards_points_issuance_recon_id` with sequence increased by 1. when this retuned value is used in the second SQL, I received error message:\r\n\r\n&gt; The INSERT statement conflicted with the FOREIGN KEY constraint &quot;FK_rewards_points_issuance_recon__rewards_points_issuance_response_recon__rewards_points_issuance_recon_id&quot;\r\n\r\nwhich is expected since the row was not inserted in the first table.\r\n\r\nHowever when I run the same code on a local machine with a locally installed SQL server 2019 database, everything works fine: both insert statements insert the data correctly.\r\n\r\nThe questions I want to ask are:\r\n1. what could be the reason that the insert statement failed without error/exception?\r\n2. why it works fine with locally installed SQL server and has issue when run with Azure SQL instance?\r\n\r\n\r\n\r\n------------------- trigger -------------------\r\n\r\n    CREATE  TRIGGER [utr_rewards_points_issuance_recon__updated_by_ts]   \r\n        ON [rewards_points_issuance_recon]   \r\n        AFTER UPDATE   \r\n        AS   \r\n        BEGIN   \r\n            IF (ROWCOUNT_BIG() = 0 OR TRIGGER_NESTLEVEL() &gt; 1) RETURN;   \r\n                           \r\n            IF UPDATE(created_ts) OR UPDATE(created_by) OR UPDATE(updated_ts) OR UPDATE(updated_by)   \r\n            BEGIN   \r\n                UPDATE a   \r\n                SET a.updated_ts = b.updated_ts   \r\n                    , a.updated_by = b.updated_by   \r\n                    , a.created_ts = b.created_ts   \r\n                    , a.created_by = b.created_by   \r\n                FROM cbttdslsl.rewards_points_issuance_recon a   \r\n                    JOIN deleted b   \r\n                        ON a.rewards_points_issuance_recon_id = b.rewards_points_issuance_recon_id   \r\n            END   \r\n            ELSE   \r\n            BEGIN   \r\n                UPDATE a   \r\n                SET a.updated_ts = SYSDATETIME()   \r\n                    , a.updated_by = ORIGINAL_LOGIN()   \r\n                FROM cbttdslsl.rewards_points_issuance_recon a   \r\n                    JOIN inserted b   \r\n                        ON a.rewards_points_issuance_recon_id = b.rewards_points_issuance_recon_id   \r\n            END   \r\n        END  \r\n\r\n\r\nthe columns related to the trigger are:\r\n\r\n            [created_by] [varchar](100) NOT NULL CONSTRAINT [DF_rewards_points_issuance_recon__created_by] DEFAULT (suser_name()), \r\n            [created_ts] [datetime2](7) NOT NULL CONSTRAINT [DF_rewards_points_issuance_recon__created_ts] DEFAULT (getdate()), \r\n            [updated_by] [varchar](100) NULL, \r\n            [updated_ts] [datetime2](7) NULL ","title":"INSERT SQL fails silently","body":"<p>I'm writing some code in Java to insert some values into the database with two SQL statements:</p>\n<pre><code>INSERT INTO rewards_points_issuance_recon(customer_id, first_name, ...) OUTPUT INSERTED.rewards_points_issuance_recon_id VALUES (:customer_id, :first_name, ...)\n</code></pre>\n<p>and</p>\n<pre><code>INSERT INTO rewards_points_issuance_response_recon(REWARDS_POINTS_ISSUANCE_RECON_ID, ACKNOWLEDGEMENT_ID,...) VALUES(:rewards_points_issuance_recon_id,:acknowledgement_id, ...)\n</code></pre>\n<p>the <code>rewards_points_issuance_recon_id</code> is a column in the first table and default to NEXT VALUE FOR a sequence. the value of this column returned from first SQL is used as <code>:rewards_points_issuance_recon_id</code> for the second SQL which is a foreign key in second table referencing the same column in first table.</p>\n<p>the first table has trigger to generate the value for two columns (see below definition)</p>\n<p>the two statements are run with queryForObject() and execute() methods repectively:</p>\n<pre><code>Long pk = namedParameterJdbcTemplate.queryForObject(insertQuery.toString(), paramMap, Long.class);\n\nnamedParameterJdbcTemplate.execute(insertQuery.toString(), paramMap, new PreparedStatementCallback() {\n            public Object doInPreparedStatement(PreparedStatement ps) throws SQLException, DataAccessException {\n                return ps.executeUpdate();\n            }\n        })\n</code></pre>\n<p>This is the strange problem I encountered:</p>\n<p>when running on the Azure cloud, the first SQL failed to insert values without any errors/exceptions, however it was able to return <code>OUTPUT INSERTED.rewards_points_issuance_recon_id</code> with sequence increased by 1. when this retuned value is used in the second SQL, I received error message:</p>\n<blockquote>\n<p>The INSERT statement conflicted with the FOREIGN KEY constraint &quot;FK_rewards_points_issuance_recon__rewards_points_issuance_response_recon__rewards_points_issuance_recon_id&quot;</p>\n</blockquote>\n<p>which is expected since the row was not inserted in the first table.</p>\n<p>However when I run the same code on a local machine with a locally installed SQL server 2019 database, everything works fine: both insert statements insert the data correctly.</p>\n<p>The questions I want to ask are:</p>\n<ol>\n<li>what could be the reason that the insert statement failed without error/exception?</li>\n<li>why it works fine with locally installed SQL server and has issue when run with Azure SQL instance?</li>\n</ol>\n<p>------------------- trigger -------------------</p>\n<pre><code>CREATE  TRIGGER [utr_rewards_points_issuance_recon__updated_by_ts]   \n    ON [rewards_points_issuance_recon]   \n    AFTER UPDATE   \n    AS   \n    BEGIN   \n        IF (ROWCOUNT_BIG() = 0 OR TRIGGER_NESTLEVEL() &gt; 1) RETURN;   \n                       \n        IF UPDATE(created_ts) OR UPDATE(created_by) OR UPDATE(updated_ts) OR UPDATE(updated_by)   \n        BEGIN   \n            UPDATE a   \n            SET a.updated_ts = b.updated_ts   \n                , a.updated_by = b.updated_by   \n                , a.created_ts = b.created_ts   \n                , a.created_by = b.created_by   \n            FROM cbttdslsl.rewards_points_issuance_recon a   \n                JOIN deleted b   \n                    ON a.rewards_points_issuance_recon_id = b.rewards_points_issuance_recon_id   \n        END   \n        ELSE   \n        BEGIN   \n            UPDATE a   \n            SET a.updated_ts = SYSDATETIME()   \n                , a.updated_by = ORIGINAL_LOGIN()   \n            FROM cbttdslsl.rewards_points_issuance_recon a   \n                JOIN inserted b   \n                    ON a.rewards_points_issuance_recon_id = b.rewards_points_issuance_recon_id   \n        END   \n    END  \n</code></pre>\n<p>the columns related to the trigger are:</p>\n<pre><code>        [created_by] [varchar](100) NOT NULL CONSTRAINT [DF_rewards_points_issuance_recon__created_by] DEFAULT (suser_name()), \n        [created_ts] [datetime2](7) NOT NULL CONSTRAINT [DF_rewards_points_issuance_recon__created_ts] DEFAULT (getdate()), \n        [updated_by] [varchar](100) NULL, \n        [updated_ts] [datetime2](7) NULL \n</code></pre>\n"},{"tags":["java","jackson","openapi","openapi-generator"],"answers":[{"tags":[],"owner":{"account_id":47110,"reputation":2287,"user_id":139404,"display_name":"MikeRalphson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685082030,"creation_date":1685082030,"answer_id":76338100,"question_id":76336730,"body_markdown":"The OpenAPI Specification does not natively deal with or know about types, supertypes, subtypes, interfaces or inheritance. Everything is a mapping between the JSON Schema constraint language used to describe the request and response payloads and an either typed or untyped code-gen target language. You can do raw composition using `allOf` (`oneOf`, `anyOf`and `not` are much harder to do code-gen for). If you use OpenAPI v3.1 you might get OK results from schemas using simple `if`/`then`/`else` structures - you can replicate the behaviour of `discriminator` by using `if` schemas with `const` conditions.\r\n\r\nIt all depends on the code-gen tool you are using and the sophistication of its AST evaluator or templates. ","title":"Use openAPI 3.0 extends without using discriminator","body":"<p>The OpenAPI Specification does not natively deal with or know about types, supertypes, subtypes, interfaces or inheritance. Everything is a mapping between the JSON Schema constraint language used to describe the request and response payloads and an either typed or untyped code-gen target language. You can do raw composition using <code>allOf</code> (<code>oneOf</code>, <code>anyOf</code>and <code>not</code> are much harder to do code-gen for). If you use OpenAPI v3.1 you might get OK results from schemas using simple <code>if</code>/<code>then</code>/<code>else</code> structures - you can replicate the behaviour of <code>discriminator</code> by using <code>if</code> schemas with <code>const</code> conditions.</p>\n<p>It all depends on the code-gen tool you are using and the sophistication of its AST evaluator or templates.</p>\n"}],"owner":{"account_id":2842013,"reputation":1289,"user_id":2441441,"accept_rate":65,"display_name":"user2441441"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":906,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1685107883,"creation_date":1685055927,"question_id":76336730,"body_markdown":"Is it possible to have this generated by openAPI without using the discriminator? The reason is that I&#39;m having a lot of trouble getting Jackson to serialize a json that does not have the discriminaotry value. So I wanted a workaround, and by having a simple class BaseClass, I can manually specify the type(I know it beforehand)\r\n\r\n    public abstract BaseClass{}\r\n\r\n    public Employee extends BaseClass {...}\r\n\r\n\r\nThis code below works but it uses discriminator and Jackson keeps throwing property not found for the discriminator:\r\n\r\n    components:\r\n      schemas:\r\n        BaseClass:\r\n          type: object\r\n          required:\r\n            - entityType\r\n          properties:\r\n            entityType:\r\n              type: string\r\n              enum:\r\n                - Employee\r\n          discriminator:\r\n            propertyName: entityType\r\n\r\n    Employee:\r\n      allOf:\r\n        - $ref: &quot;#/components/schemas/BaseClass&quot;\r\n      properties:\r\n        anotherThing:\r\n          type: string\r\n\r\n\r\nOR is there a way for openAPI to extend a class that has been defined in the classpath? Like I could manually define BaseClass in the src/java and have OpenAPI generate the Employee extends BaseClass thing","title":"Use openAPI 3.0 extends without using discriminator","body":"<p>Is it possible to have this generated by openAPI without using the discriminator? The reason is that I'm having a lot of trouble getting Jackson to serialize a json that does not have the discriminaotry value. So I wanted a workaround, and by having a simple class BaseClass, I can manually specify the type(I know it beforehand)</p>\n<pre><code>public abstract BaseClass{}\n\npublic Employee extends BaseClass {...}\n</code></pre>\n<p>This code below works but it uses discriminator and Jackson keeps throwing property not found for the discriminator:</p>\n<pre><code>components:\n  schemas:\n    BaseClass:\n      type: object\n      required:\n        - entityType\n      properties:\n        entityType:\n          type: string\n          enum:\n            - Employee\n      discriminator:\n        propertyName: entityType\n\nEmployee:\n  allOf:\n    - $ref: &quot;#/components/schemas/BaseClass&quot;\n  properties:\n    anotherThing:\n      type: string\n</code></pre>\n<p>OR is there a way for openAPI to extend a class that has been defined in the classpath? Like I could manually define BaseClass in the src/java and have OpenAPI generate the Employee extends BaseClass thing</p>\n"},{"tags":["java","vectorization","matrix-multiplication","simd"],"comments":[{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1685107103,"post_id":76341108,"comment_id":134619250,"body_markdown":"Are you mostly interested in very small matrices like this, like 4x4 where one SIMD vector can hold a whole row?  Because that&#39;s very different from medium to large matrices where it takes a loop over many vectors to cover a whole row.  (For that, the appending in https://www.akkadia.org/drepper/cpumemory.pdf has an example of vectorizing with x86 intrinsics in C; assuming Java provides a portable equivalent of that it should translate.  See also [How much of ‘What Every Programmer Should Know About Memory’ is still valid?](https://stackoverflow.com/a/47714514) re: that guide)","body":"Are you mostly interested in very small matrices like this, like 4x4 where one SIMD vector can hold a whole row?  Because that&#39;s very different from medium to large matrices where it takes a loop over many vectors to cover a whole row.  (For that, the appending in <a href=\"https://www.akkadia.org/drepper/cpumemory.pdf\" rel=\"nofollow noreferrer\">akkadia.org/drepper/cpumemory.pdf</a> has an example of vectorizing with x86 intrinsics in C; assuming Java provides a portable equivalent of that it should translate.  See also <a href=\"https://stackoverflow.com/a/47714514\">How much of ‘What Every Programmer Should Know About Memory’ is still valid?</a> re: that guide)"},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1685107465,"post_id":76341108,"comment_id":134619324,"body_markdown":"If you&#39;re just trying to learn some SIMD stuff in general, matrix-multiplication is a relatively hard problem with many opportunities and challenges for optimization with SIMD and cache-blocking; it&#39;s one that&#39;s been studied a *lot* because it&#39;s so important for a lot of use-cases.  (The row vs. column layout makes it a disaster to stride down one column in a non-tiny matrix, but doing along rows in both and also the output is a lot of load/store work.) So writing your own code that comes anywhere close to a well-tuned BLAS library is a big challenge.","body":"If you&#39;re just trying to learn some SIMD stuff in general, matrix-multiplication is a relatively hard problem with many opportunities and challenges for optimization with SIMD and cache-blocking; it&#39;s one that&#39;s been studied a <i>lot</i> because it&#39;s so important for a lot of use-cases.  (The row vs. column layout makes it a disaster to stride down one column in a non-tiny matrix, but doing along rows in both and also the output is a lot of load/store work.) So writing your own code that comes anywhere close to a well-tuned BLAS library is a big challenge."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1685107470,"post_id":76341108,"comment_id":134619327,"body_markdown":"Some interesting but non-trivial problems to SIMD vectorize include prefix-sum ([Accumulating a running-total (prefix sum) horizontally across an \\_\\_m256i vector](https://stackoverflow.com/q/69694914)), counting matches ([How to count character occurrences using SIMD](https://stackoverflow.com/q/54541129)), turning 16 bytes into 32 ASCII hex digits ([How to convert a binary integer number to a hex string?](https://stackoverflow.com/q/53823756))","body":"Some interesting but non-trivial problems to SIMD vectorize include prefix-sum (<a href=\"https://stackoverflow.com/q/69694914\">Accumulating a running-total (prefix sum) horizontally across an __m256i vector</a>), counting matches (<a href=\"https://stackoverflow.com/q/54541129\">How to count character occurrences using SIMD</a>), turning 16 bytes into 32 ASCII hex digits (<a href=\"https://stackoverflow.com/q/53823756\">How to convert a binary integer number to a hex string?</a>)"},{"owner":{"account_id":8987085,"reputation":361,"user_id":6700319,"display_name":"Isuru Perera"},"score":0,"creation_date":1685107513,"post_id":76341108,"comment_id":134619340,"body_markdown":"I&#39;m mostly interested in multiplying medium to large matrices where rows and columns don&#39;t fit in a single SIMD register. But I think Java vector API handles mapping large vectors into AVX instructions.","body":"I&#39;m mostly interested in multiplying medium to large matrices where rows and columns don&#39;t fit in a single SIMD register. But I think Java vector API handles mapping large vectors into AVX instructions."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1685107701,"post_id":76341108,"comment_id":134619377,"body_markdown":"Ok, so your real problem is *very* different from a case like 3x4 * 4x3 where a vector will hold two whole rows or more, and you&#39;d be doing a lot of shuffling of 32-byte vectors to arrange the data.  (If you search on SO for existing questions about 3x3 and 4x4 matmul with SIMD intrinsics for x86 SSE/AVX or ARM NEON, you&#39;ll find examples of that.)","body":"Ok, so your real problem is <i>very</i> different from a case like 3x4 * 4x3 where a vector will hold two whole rows or more, and you&#39;d be doing a lot of shuffling of 32-byte vectors to arrange the data.  (If you search on SO for existing questions about 3x3 and 4x4 matmul with SIMD intrinsics for x86 SSE/AVX or ARM NEON, you&#39;ll find examples of that.)"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1685118278,"post_id":76341108,"comment_id":134621798,"body_markdown":"What have you tried that didn&#39;t work?","body":"What have you tried that didn&#39;t work?"},{"owner":{"account_id":8987085,"reputation":361,"user_id":6700319,"display_name":"Isuru Perera"},"score":0,"creation_date":1685161315,"post_id":76341108,"comment_id":134626381,"body_markdown":"Hi @aled I&#39;ve added the current approach I&#39;m trying here. (https://github.com/isuruperera/j17-vector-matmul/blob/main/src/main/java/org/example/Main.java) but in that code, SPECIES.loopBound() method always returns 0. I&#39;m having a hard time understanding what the documentation means by &quot;\nthe largest multiple of the vector length not greater than the given length&quot; would that mean the HW level vector length?","body":"Hi @aled I&#39;ve added the current approach I&#39;m trying here. (<a href=\"https://github.com/isuruperera/j17-vector-matmul/blob/main/src/main/java/org/example/Main.java\" rel=\"nofollow noreferrer\">github.com/isuruperera/j17-vector-matmul/blob/main/src/main&zwnj;&#8203;/&hellip;</a>) but in that code, SPECIES.loopBound() method always returns 0. I&#39;m having a hard time understanding what the documentation means by &quot; the largest multiple of the vector length not greater than the given length&quot; would that mean the HW level vector length?"},{"owner":{"account_id":8987085,"reputation":361,"user_id":6700319,"display_name":"Isuru Perera"},"score":0,"creation_date":1685163068,"post_id":76341108,"comment_id":134626456,"body_markdown":"I noticed that the above code works for vectors larger than 16, but for vectors smaller than 16 elements, SPECIES.loopBound() method returns 0","body":"I noticed that the above code works for vectors larger than 16, but for vectors smaller than 16 elements, SPECIES.loopBound() method returns 0"},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1685165876,"post_id":76341108,"comment_id":134626611,"body_markdown":"&quot;the largest multiple of the vector length not greater than the given length&quot; is `n` (array size) rounded down to a multiple of 4 for example.  `n - (n % vec_len)` which simplifies to `n &amp; -vec_len` since the SIMD vector length will always be a power of 2.  It&#39;s the number of elements you can process with a loop like `for (i=0 ; i &lt; n-(vec_len-1) ; i += vec_len)` that does only full vectors, and doesn&#39;t read past the end of the array in the final iteration.  Notice how for vec_len=1, that loop would be `for (i=0 ; i&lt;n ; i++)`, in case you&#39;re wondering about the `-1` in the general case.","body":"&quot;the largest multiple of the vector length not greater than the given length&quot; is <code>n</code> (array size) rounded down to a multiple of 4 for example.  <code>n - (n % vec_len)</code> which simplifies to <code>n &amp; -vec_len</code> since the SIMD vector length will always be a power of 2.  It&#39;s the number of elements you can process with a loop like <code>for (i=0 ; i &lt; n-(vec_len-1) ; i += vec_len)</code> that does only full vectors, and doesn&#39;t read past the end of the array in the final iteration.  Notice how for vec_len=1, that loop would be <code>for (i=0 ; i&lt;n ; i++)</code>, in case you&#39;re wondering about the <code>-1</code> in the general case."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1685166124,"post_id":76341108,"comment_id":134626626,"body_markdown":"It&#39;s the same problem you&#39;d run into when unrolling manually.  For learning basics like that, I&#39;d recommend just writing a function that sums an array and works for any array length, or that does `a[i] = b[i] * constant + constant2` or something.  (Fun fact, there&#39;s a name for that as a level-1 BLAS operation, DAXPY, as in `D = A*X + Y` where D and A are arrays.)","body":"It&#39;s the same problem you&#39;d run into when unrolling manually.  For learning basics like that, I&#39;d recommend just writing a function that sums an array and works for any array length, or that does <code>a[i] = b[i] * constant + constant2</code> or something.  (Fun fact, there&#39;s a name for that as a level-1 BLAS operation, DAXPY, as in <code>D = A*X + Y</code> where D and A are arrays.)"},{"owner":{"account_id":8987085,"reputation":361,"user_id":6700319,"display_name":"Isuru Perera"},"score":0,"creation_date":1685168787,"post_id":76341108,"comment_id":134626808,"body_markdown":"Hi @PeterCordes, I have implemented this simple L1 BLAS code that does `a[i] = b[i] * constant + constant2` here (https://github.com/isuruperera/j17-vector-matmul/blob/main/src/main/java/org/example/VectorToScalarMultiplication.java) I&#39;m assuming Vector * Scalar operation would be something SIMD is very good at. I also went through your answer here (https://stackoverflow.com/questions/68061254/why-is-the-java-vector-api-so-slow-compared-to-scalar). However, after repeated tests with fairly large vectors, I&#39;m seeing the loop performs better (Assume there&#39;s manual unrolling in JVM).","body":"Hi @PeterCordes, I have implemented this simple L1 BLAS code that does <code>a[i] = b[i] * constant + constant2</code> here (<a href=\"https://github.com/isuruperera/j17-vector-matmul/blob/main/src/main/java/org/example/VectorToScalarMultiplication.java\" rel=\"nofollow noreferrer\">github.com/isuruperera/j17-vector-matmul/blob/main/src/main&zwnj;&#8203;/&hellip;</a>) I&#39;m assuming Vector * Scalar operation would be something SIMD is very good at. I also went through your answer here (<a href=\"https://stackoverflow.com/questions/68061254/why-is-the-java-vector-api-so-slow-compared-to-scalar\" title=\"why is the java vector api so slow compared to scalar\">stackoverflow.com/questions/68061254/&hellip;</a>). However, after repeated tests with fairly large vectors, I&#39;m seeing the loop performs better (Assume there&#39;s manual unrolling in JVM)."},{"owner":{"account_id":8987085,"reputation":361,"user_id":6700319,"display_name":"Isuru Perera"},"score":0,"creation_date":1685168822,"post_id":76341108,"comment_id":134626809,"body_markdown":"I also verified that my CPU supports AVX, AVX2, AVX512F. But theoretically vector computations should run faster? But from my tests, I&#39;m seeing otherwise.","body":"I also verified that my CPU supports AVX, AVX2, AVX512F. But theoretically vector computations should run faster? But from my tests, I&#39;m seeing otherwise."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1685170050,"post_id":76341108,"comment_id":134626908,"body_markdown":"Simple &quot;vertical&quot; operations like DAXPY might be so easy that the JVM auto-vectorizes scalar code.  Or if you&#39;re testing on large arrays (larger than your L2 cache size), you might bottleneck on memory bandwidth even with scalar asm, especially if you&#39;re using an 8-byte type like `double`, and/or your CPU is an Intel Xeon where memory latency is high and single-core bandwidth is low (especially on Skylake-avx512 / Cascade Lake.)  See [Why is Skylake so much better than Broadwell-E for single-threaded memory throughput?](//stackoverflow.com/q/39260020) for client vs. server per-core bandwidth","body":"Simple &quot;vertical&quot; operations like DAXPY might be so easy that the JVM auto-vectorizes scalar code.  Or if you&#39;re testing on large arrays (larger than your L2 cache size), you might bottleneck on memory bandwidth even with scalar asm, especially if you&#39;re using an 8-byte type like <code>double</code>, and/or your CPU is an Intel Xeon where memory latency is high and single-core bandwidth is low (especially on Skylake-avx512 / Cascade Lake.)  See <a href=\"//stackoverflow.com/q/39260020\">Why is Skylake so much better than Broadwell-E for single-threaded memory throughput?</a> for client vs. server per-core bandwidth"},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1685170177,"post_id":76341108,"comment_id":134626916,"body_markdown":"Also, with 512-bit vectors on Intel CPUs, if your data isn&#39;t aligned by 64, that actually hurts memory bandwidth from L3 or DRAM for some reason, about 15% slower than aligned, vs. only a couple % slower with 256-bit vectors.  You&#39;d expect that the extra costs of misaligned loads/stores would be hidden by out-of-order exec and you&#39;d still just bottleneck on the full memory bandwidth a single core can use (thanks to hardware prefetch), but that&#39;s not the case.","body":"Also, with 512-bit vectors on Intel CPUs, if your data isn&#39;t aligned by 64, that actually hurts memory bandwidth from L3 or DRAM for some reason, about 15% slower than aligned, vs. only a couple % slower with 256-bit vectors.  You&#39;d expect that the extra costs of misaligned loads/stores would be hidden by out-of-order exec and you&#39;d still just bottleneck on the full memory bandwidth a single core can use (thanks to hardware prefetch), but that&#39;s not the case."}],"owner":{"account_id":8987085,"reputation":361,"user_id":6700319,"display_name":"Isuru Perera"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685106910,"creation_date":1685106544,"question_id":76341108,"body_markdown":"I&#39;m trying to optimize matrix multiplication implemented using Java with nested loops. I&#39;m planning to use Java 17 vector API to optimize performance.\r\n\r\nI have read the documentation of the [Vector API][1], but I am not sure how to apply them to my matrix multiplication code.\r\n\r\nI&#39;m using the following code to multiply the metrics based on [this tutorial][2]. \r\n\r\n        int row1 = 4, col1 = 3, row2 = 3, col2 = 4;\r\n \r\n        int A[][] = { { 1, 1, 1 },\r\n                      { 2, 2, 2 },\r\n                      { 3, 3, 3 },\r\n                      { 4, 4, 4 } };\r\n \r\n        int B[][] = { { 1, 1, 1, 1 },\r\n                      { 2, 2, 2, 2 },\r\n                      { 3, 3, 3, 3 } };\r\n\r\n        int i, j, k;\r\n \r\n        // Check if multiplication is Possible\r\n        if (row2 != col1) {\r\n            System.out.println(&quot;Multiplication Not Possible&quot;);\r\n            return;\r\n        }\r\n \r\n        // Matrix to store the result\r\n        // The product matrix will\r\n        // be of size row1 x col2\r\n        int C[][] = new int[row1][col2];\r\n \r\n        // Multiply the two matrices\r\n        for (i = 0; i &lt; row1; i++) {\r\n            for (j = 0; j &lt; col2; j++) {\r\n                for (k = 0; k &lt; row2; k++)\r\n                    C[i][j] += A[i][k] * B[k][j];\r\n            }\r\n        }\r\n \r\nMy questions are:\r\n\r\n- How do I handle cases where the array length or the matrix size is not a multiple of the vector length?\r\n- I would appreciate some guidance or examples on how to use Java 17 vector instructions to optimize matrix multiplication.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/jdk.incubator.vector/jdk/incubator/vector/package-summary.html\r\n  [2]: https://www.geeksforgeeks.org/java-program-to-multiply-two-matrices-of-any-size/","title":"How to use Java 17 vector instructions to optimize matrix multiplication?","body":"<p>I'm trying to optimize matrix multiplication implemented using Java with nested loops. I'm planning to use Java 17 vector API to optimize performance.</p>\n<p>I have read the documentation of the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/jdk.incubator.vector/jdk/incubator/vector/package-summary.html\" rel=\"nofollow noreferrer\">Vector API</a>, but I am not sure how to apply them to my matrix multiplication code.</p>\n<p>I'm using the following code to multiply the metrics based on <a href=\"https://www.geeksforgeeks.org/java-program-to-multiply-two-matrices-of-any-size/\" rel=\"nofollow noreferrer\">this tutorial</a>.</p>\n<pre><code>    int row1 = 4, col1 = 3, row2 = 3, col2 = 4;\n\n    int A[][] = { { 1, 1, 1 },\n                  { 2, 2, 2 },\n                  { 3, 3, 3 },\n                  { 4, 4, 4 } };\n\n    int B[][] = { { 1, 1, 1, 1 },\n                  { 2, 2, 2, 2 },\n                  { 3, 3, 3, 3 } };\n\n    int i, j, k;\n\n    // Check if multiplication is Possible\n    if (row2 != col1) {\n        System.out.println(&quot;Multiplication Not Possible&quot;);\n        return;\n    }\n\n    // Matrix to store the result\n    // The product matrix will\n    // be of size row1 x col2\n    int C[][] = new int[row1][col2];\n\n    // Multiply the two matrices\n    for (i = 0; i &lt; row1; i++) {\n        for (j = 0; j &lt; col2; j++) {\n            for (k = 0; k &lt; row2; k++)\n                C[i][j] += A[i][k] * B[k][j];\n        }\n    }\n</code></pre>\n<p>My questions are:</p>\n<ul>\n<li>How do I handle cases where the array length or the matrix size is not a multiple of the vector length?</li>\n<li>I would appreciate some guidance or examples on how to use Java 17 vector instructions to optimize matrix multiplication.</li>\n</ul>\n"},{"tags":["java","android","android-custom-view","android-cardview"],"comments":[{"owner":{"account_id":4240194,"reputation":2564,"user_id":3470305,"accept_rate":87,"display_name":"Lester"},"score":0,"creation_date":1436130259,"post_id":31234860,"comment_id":50468615,"body_markdown":"Why you use CardView at all if you have custom view? Just pass layout to in RecyclerView Adapter onCreateViewHolder","body":"Why you use CardView at all if you have custom view? Just pass layout to in RecyclerView Adapter onCreateViewHolder"},{"owner":{"account_id":1805920,"reputation":495,"user_id":1643012,"accept_rate":43,"display_name":"Mojtaba Mahamed"},"score":1,"creation_date":1436132264,"post_id":31234860,"comment_id":50469108,"body_markdown":"I don&#39;t use RecyclerView and if I don&#39;t use cardview I should create a selector drawable to have cardview style","body":"I don&#39;t use RecyclerView and if I don&#39;t use cardview I should create a selector drawable to have cardview style"}],"answers":[{"tags":[],"owner":{"account_id":6398297,"reputation":2373,"user_id":4961922,"accept_rate":67,"display_name":"Javier Delgado"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1492915020,"creation_date":1492915020,"answer_id":43566826,"question_id":31234860,"body_markdown":"I had this issue setting the CardView background to something transparent. I solved it setting a non-alpha color.\r\n\r\nTry to set your `android:foreground` to something without alphas.","title":"extending cardview class show white rectangle around the card","body":"<p>I had this issue setting the CardView background to something transparent. I solved it setting a non-alpha color.</p>\n\n<p>Try to set your <code>android:foreground</code> to something without alphas.</p>\n"},{"tags":[],"owner":{"account_id":8652943,"reputation":22446,"user_id":6478047,"accept_rate":76,"display_name":"Manohar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589650936,"creation_date":1583402465,"answer_id":60542655,"question_id":31234860,"body_markdown":"In my case I solved it by setting white background to `CardView`\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:cardBackgroundColor=&quot;@color/white&quot;&gt;\r\n\r\nOr you can set cardElevationto 0dp but this would disable shadow \r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:cardBackgroundColor=&quot;@color/trans_black_darker&quot;\r\n        app:cardCornerRadius=&quot;10dp&quot;\r\n        app:cardPreventCornerOverlap=&quot;false&quot;\r\n        app:cardUseCompatPadding=&quot;true&quot;\r\n        app:cardElevation=&quot;0dp&quot;&gt;","title":"extending cardview class show white rectangle around the card","body":"<p>In my case I solved it by setting white background to <code>CardView</code></p>\n\n<pre><code>&lt;androidx.cardview.widget.CardView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        app:cardBackgroundColor=\"@color/white\"&gt;\n</code></pre>\n\n<p>Or you can set cardElevationto 0dp but this would disable shadow </p>\n\n<pre><code>&lt;androidx.cardview.widget.CardView\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    app:cardBackgroundColor=\"@color/trans_black_darker\"\n    app:cardCornerRadius=\"10dp\"\n    app:cardPreventCornerOverlap=\"false\"\n    app:cardUseCompatPadding=\"true\"\n    app:cardElevation=\"0dp\"&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3471091,"reputation":108,"user_id":2905354,"display_name":"Trasd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685106692,"creation_date":1685041706,"answer_id":76335529,"question_id":31234860,"body_markdown":"I realize this is an older question, but I wanted to point out a simpler method to inflating in a child of View (so often overlooked).\r\n    \r\nInstead of:\r\n\r\n    LayoutInflater inflater = LayoutInflater.from(getContext());\r\n    inflater.inflate(R.layout.translation_type_row, this);\r\n    \r\nTry this:\r\n\r\n    inflate(getContext(), R.layout.translation_type_row, this);\r\n    \r\nUsing the static View **inflate()** is the cleanest and most efficient way to go; you don&#39;t need a LayoutInflater.","title":"extending cardview class show white rectangle around the card","body":"<p>I realize this is an older question, but I wanted to point out a simpler method to inflating in a child of View (so often overlooked).</p>\n<p>Instead of:</p>\n<pre><code>LayoutInflater inflater = LayoutInflater.from(getContext());\ninflater.inflate(R.layout.translation_type_row, this);\n</code></pre>\n<p>Try this:</p>\n<pre><code>inflate(getContext(), R.layout.translation_type_row, this);\n</code></pre>\n<p>Using the static View <strong>inflate()</strong> is the cleanest and most efficient way to go; you don't need a LayoutInflater.</p>\n"}],"owner":{"account_id":1805920,"reputation":495,"user_id":1643012,"accept_rate":43,"display_name":"Mojtaba Mahamed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1326,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":3,"score":6,"last_activity_date":1685106692,"creation_date":1436129297,"question_id":31234860,"body_markdown":"I&#39;m extending CardView class because I want to create custom view for each row of my list view.\nthis is my xml layout\n\n    &lt;com.mojiapps.myquran.items.TranslationDownloadItemView  xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@+id/card_view&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:foreground=&quot;?selectableItemBackground&quot;\n    android:gravity=&quot;right&quot;\n    card_view:cardCornerRadius=&quot;3dp&quot;\n    card_view:cardElevation=&quot;3dp&quot;\n    card_view:cardPreventCornerOverlap=&quot;false&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n    ...\n\n    &lt;/com.mojiapps.myquran.items.TranslationDownloadItemView&gt;\n\nand this is my java class\n\n    public class TranslationDownloadItemView extends CardView {\n    \n\n    public TranslationDownloadItemView(Context context) {\n        super(context);\n        init();\n    }\n\n    public TranslationDownloadItemView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    private void init() {\n        LayoutInflater inflater = LayoutInflater.from(getContext());\n\n        inflater.inflate(R.layout.translation_type_row, this);\n    ...\n    }\n    ...\n    }\n\nand this is the result\n\n![enter image description here][1]\n\ncan anybody help me?\n\n  [1]: http://i.stack.imgur.com/RbPUG.jpg","title":"extending cardview class show white rectangle around the card","body":"<p>I'm extending CardView class because I want to create custom view for each row of my list view.\nthis is my xml layout</p>\n<pre><code>&lt;com.mojiapps.myquran.items.TranslationDownloadItemView  xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:id=&quot;@+id/card_view&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:foreground=&quot;?selectableItemBackground&quot;\nandroid:gravity=&quot;right&quot;\ncard_view:cardCornerRadius=&quot;3dp&quot;\ncard_view:cardElevation=&quot;3dp&quot;\ncard_view:cardPreventCornerOverlap=&quot;false&quot;&gt;\n\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;horizontal&quot;&gt;\n...\n\n&lt;/com.mojiapps.myquran.items.TranslationDownloadItemView&gt;\n</code></pre>\n<p>and this is my java class</p>\n<pre><code>public class TranslationDownloadItemView extends CardView {\n\n\npublic TranslationDownloadItemView(Context context) {\n    super(context);\n    init();\n}\n\npublic TranslationDownloadItemView(Context context, AttributeSet attrs) {\n    super(context, attrs);\n}\n\nprivate void init() {\n    LayoutInflater inflater = LayoutInflater.from(getContext());\n\n    inflater.inflate(R.layout.translation_type_row, this);\n...\n}\n...\n}\n</code></pre>\n<p>and this is the result</p>\n<p><img src=\"https://i.stack.imgur.com/RbPUG.jpg\" alt=\"enter image description here\" /></p>\n<p>can anybody help me?</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":3614596,"reputation":2212,"user_id":3014817,"display_name":"Shailesh Chandra"},"score":0,"creation_date":1616597241,"post_id":66783284,"comment_id":118052887,"body_markdown":"why don&#39;t you prefer option of creating child in one go something like Child c = Child.builder()..name(&quot;a&quot;).value(&quot;b&quot;).subValue(&quot;c&quot;).build(); with help of @SuperBuilder","body":"why don&#39;t you prefer option of creating child in one go something like Child c = Child.builder()..name(&quot;a&quot;).value(&quot;b&quot;).subValue(&quot;c&quot;).build(); with help of @SuperBuilder"},{"owner":{"account_id":134590,"reputation":26815,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"score":0,"creation_date":1616597539,"post_id":66783284,"comment_id":118053054,"body_markdown":"@ShaileshChandra well, in the real case the parent has really a big number of fields. In this way would not be easier...","body":"@ShaileshChandra well, in the real case the parent has really a big number of fields. In this way would not be easier..."},{"owner":{"account_id":3614596,"reputation":2212,"user_id":3014817,"display_name":"Shailesh Chandra"},"score":0,"creation_date":1616597685,"post_id":66783284,"comment_id":118053126,"body_markdown":"understood then I would suggest go for composition instead of inheritance , what do you think, and you can have a field named with parent of parent type","body":"understood then I would suggest go for composition instead of inheritance , what do you think, and you can have a field named with parent of parent type"},{"owner":{"account_id":134590,"reputation":26815,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"score":0,"creation_date":1616598977,"post_id":66783284,"comment_id":118053862,"body_markdown":"@ShaileshChandra the composition is not what I was looking for :)","body":"@ShaileshChandra the composition is not what I was looking for :)"},{"owner":{"account_id":3614596,"reputation":2212,"user_id":3014817,"display_name":"Shailesh Chandra"},"score":0,"creation_date":1616599852,"post_id":66783284,"comment_id":118054333,"body_markdown":"ok, however lf we talk about lombok it only generates the code during compilation, just think if lombok decides to offer this what code it will be generate ?","body":"ok, however lf we talk about lombok it only generates the code during compilation, just think if lombok decides to offer this what code it will be generate ?"}],"answers":[{"tags":[],"owner":{"account_id":3421530,"reputation":3695,"user_id":2868955,"accept_rate":85,"display_name":"Evdzhan Mustafa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1616598652,"creation_date":1616598652,"answer_id":66783960,"question_id":66783284,"body_markdown":"Other answers don&#39;t truly make your client code simply reuse the parent instance you already have. But this is doable. You have two options:\r\n\r\n\r\nThe hard one is to write your custom annotation that does what you want. You can even make it generic so that it works for any classes the have parent/child hierarchy. Have a look at this [example][1]. If you feel brave you can raise a feature request on [Lombok&#39;s github][2] page. \r\n\r\n\r\nOption two would be to write your custom builder for the child. See [example here][3]. In your custom builder in the init step you would be reading a passed in Parent instance, and setup the inherited fields only. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/41243018/create-custom-annotation-for-lombok\r\n  [2]: https://github.com/rzwitserloot/lombok\r\n  [3]: https://stackoverflow.com/questions/37968696/how-to-run-code-after-constructor-in-a-lombok-builder","title":"Can I use the Lombok @Builder passing the parent class as parameter?","body":"<p>Other answers don't truly make your client code simply reuse the parent instance you already have. But this is doable. You have two options:</p>\n<p>The hard one is to write your custom annotation that does what you want. You can even make it generic so that it works for any classes the have parent/child hierarchy. Have a look at this <a href=\"https://stackoverflow.com/questions/41243018/create-custom-annotation-for-lombok\">example</a>. If you feel brave you can raise a feature request on <a href=\"https://github.com/rzwitserloot/lombok\" rel=\"nofollow noreferrer\">Lombok's github</a> page.</p>\n<p>Option two would be to write your custom builder for the child. See <a href=\"https://stackoverflow.com/questions/37968696/how-to-run-code-after-constructor-in-a-lombok-builder\">example here</a>. In your custom builder in the init step you would be reading a passed in Parent instance, and setup the inherited fields only.</p>\n"},{"tags":[],"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1616786782,"creation_date":1616762330,"answer_id":66817135,"question_id":66783284,"body_markdown":"The regular `@Builder` is not sufficient here, because you are dealing with a class hierarchy. However, `@SuperBuilder` was made exactly for such a case.\r\n\r\n`@SuperBuilder` generates complex code loaded with generics. That makes this solution difficult to understand without in-depth knowledge about the code `@SuperBuilder` generates. You should think about whether this is worth it.\r\n\r\nHere&#39;s the solution (with Lombok &gt;= 1.18.16):\r\n\r\n    @SuperBuilder(toBuilder = true)\r\n    public static class Parent {\r\n        public String param1;\r\n        public String param2;\r\n        // many parameters\r\n        public String paramN;\r\n\r\n        public abstract static class ParentBuilder&lt;C extends Parent, B extends Parent.ParentBuilder&lt;C, B&gt;&gt; {\r\n            protected B $fillValuesFromParent(Parent instance) {\r\n                $fillValuesFromInstanceIntoBuilder(instance, this);\r\n                return self();\r\n            }\r\n        }\r\n    }\r\n\r\n    @SuperBuilder(toBuilder = true)\r\n    public static class Child extends Parent {\r\n        public String subValue;\r\n\r\n        public static ChildBuilder&lt;?, ?&gt; toBuilder(Parent p) {\r\n            return new ChildBuilderImpl().$fillValuesFromParent(p);\r\n        }\r\n    }\r\nThe new `toBuilder` method on `Child` creates a new `ChildBuilderImpl` (which will create a `Child` instance when calling `build()`). To fill the values from the given `Parent p`, it calls the new `$fillValuesFromParent` method from `ParentBuilder`. This method further delegates the call to the method `$fillValuesFromInstanceIntoBuilder`, which is generated by Lombok and performs the actual copying of the field values to the new builder instance.\r\n\r\nAlso note the `$` prefix on the methods. This basically says: I&#39;m an implementation detail; don&#39;t use me unless you know what you are doing, I might break on the next Lombok version without further notice.","title":"Can I use the Lombok @Builder passing the parent class as parameter?","body":"<p>The regular <code>@Builder</code> is not sufficient here, because you are dealing with a class hierarchy. However, <code>@SuperBuilder</code> was made exactly for such a case.</p>\n<p><code>@SuperBuilder</code> generates complex code loaded with generics. That makes this solution difficult to understand without in-depth knowledge about the code <code>@SuperBuilder</code> generates. You should think about whether this is worth it.</p>\n<p>Here's the solution (with Lombok &gt;= 1.18.16):</p>\n<pre><code>@SuperBuilder(toBuilder = true)\npublic static class Parent {\n    public String param1;\n    public String param2;\n    // many parameters\n    public String paramN;\n\n    public abstract static class ParentBuilder&lt;C extends Parent, B extends Parent.ParentBuilder&lt;C, B&gt;&gt; {\n        protected B $fillValuesFromParent(Parent instance) {\n            $fillValuesFromInstanceIntoBuilder(instance, this);\n            return self();\n        }\n    }\n}\n\n@SuperBuilder(toBuilder = true)\npublic static class Child extends Parent {\n    public String subValue;\n\n    public static ChildBuilder&lt;?, ?&gt; toBuilder(Parent p) {\n        return new ChildBuilderImpl().$fillValuesFromParent(p);\n    }\n}\n</code></pre>\n<p>The new <code>toBuilder</code> method on <code>Child</code> creates a new <code>ChildBuilderImpl</code> (which will create a <code>Child</code> instance when calling <code>build()</code>). To fill the values from the given <code>Parent p</code>, it calls the new <code>$fillValuesFromParent</code> method from <code>ParentBuilder</code>. This method further delegates the call to the method <code>$fillValuesFromInstanceIntoBuilder</code>, which is generated by Lombok and performs the actual copying of the field values to the new builder instance.</p>\n<p>Also note the <code>$</code> prefix on the methods. This basically says: I'm an implementation detail; don't use me unless you know what you are doing, I might break on the next Lombok version without further notice.</p>\n"},{"tags":[],"owner":{"account_id":14434070,"reputation":1,"user_id":10426579,"display_name":"Rui Menoita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683717873,"creation_date":1682865195,"answer_id":76141798,"question_id":66783284,"body_markdown":"Another approach that could be useful for those following this thread is to utilize a mapping library like MapperStruct. With MapperStruct, you can define a mapper interface as follows:\r\n```\r\n@Mapper\r\npublic interface PetMapper {\r\n   Dog toDog(Pet pet);\r\n}\r\n\r\n```\r\nAfter defining the mapper, you can use it in your code like this:\r\n```\r\n\r\nprivate static final PetMapper mapper;\r\n\r\n...\r\n\r\npublic void myFunction(Pet pet) {\r\n    mapper.toDog(pet).toBuilder().id(&quot;My ID&quot;).build();\r\n}\r\n\r\n```\r\nor\r\n```\r\n\r\nprivate static final PetMapper mapper;\r\n\r\n...\r\n\r\npublic void myFunction(Pet pet) {\r\n    mapper.toDog(pet).setId(&quot;My ID&quot;);\r\n}\r\n\r\n```\r\nThis way, you can easily map between different objects and modify the resulting object as needed.\r\n\r\n# Update \r\n\r\nThe idea here is to let the mapper handle the creation of a new object child from the parent class (or from its sibling classes), and then using that mapped object you can use its setters to set custom properties or you can use toBuilder() (Be aware that the toBuilder will create a new object once you call .build()).","title":"Can I use the Lombok @Builder passing the parent class as parameter?","body":"<p>Another approach that could be useful for those following this thread is to utilize a mapping library like MapperStruct. With MapperStruct, you can define a mapper interface as follows:</p>\n<pre><code>@Mapper\npublic interface PetMapper {\n   Dog toDog(Pet pet);\n}\n\n</code></pre>\n<p>After defining the mapper, you can use it in your code like this:</p>\n<pre><code>\nprivate static final PetMapper mapper;\n\n...\n\npublic void myFunction(Pet pet) {\n    mapper.toDog(pet).toBuilder().id(&quot;My ID&quot;).build();\n}\n\n</code></pre>\n<p>or</p>\n<pre><code>\nprivate static final PetMapper mapper;\n\n...\n\npublic void myFunction(Pet pet) {\n    mapper.toDog(pet).setId(&quot;My ID&quot;);\n}\n\n</code></pre>\n<p>This way, you can easily map between different objects and modify the resulting object as needed.</p>\n<h1>Update</h1>\n<p>The idea here is to let the mapper handle the creation of a new object child from the parent class (or from its sibling classes), and then using that mapped object you can use its setters to set custom properties or you can use toBuilder() (Be aware that the toBuilder will create a new object once you call .build()).</p>\n"},{"tags":[],"owner":{"account_id":15544774,"reputation":21,"user_id":11214374,"display_name":"Skill For Kill"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685106611,"creation_date":1685106611,"answer_id":76341118,"question_id":66783284,"body_markdown":"Have found simple workaround. You will need **@SuperBuilder(toBuilder = true)** annotation in parent and child classes. SuperBuilder provides constructor with builder class as a parameter, so we can use it in child class for doing a copy. This means that you don&#39;t need to write mapping manually at all.\r\n\r\n    @SuperBuilder(toBuilder = true)\r\n    public class Parent {\r\n    \r\n       private String field;\r\n    \r\n    }\r\n\r\n    @Data\r\n    @SuperBuilder(toBuilder = true)\r\n    public class Child extends Parent {\r\n    \r\n        private String extraField;\r\n    \r\n        public Child(Parent instance) {\r\n            super(instance.toBuilder());\r\n        }\r\n    \r\n        public static ChildBuilder&lt;?, ?&gt; builder(Parent instance) {\r\n            return new Child(instance).toBuilder();\r\n        }\r\n    }\r\n    \r\nAs a result you can copy fields from parent instance to child builder and supplement with needed data:\r\n\r\n    Child result = Child.builder(parentInstance)\r\n                    .extraField(&quot;extra&quot;)\r\n                    .build();","title":"Can I use the Lombok @Builder passing the parent class as parameter?","body":"<p>Have found simple workaround. You will need <strong>@SuperBuilder(toBuilder = true)</strong> annotation in parent and child classes. SuperBuilder provides constructor with builder class as a parameter, so we can use it in child class for doing a copy. This means that you don't need to write mapping manually at all.</p>\n<pre><code>@SuperBuilder(toBuilder = true)\npublic class Parent {\n\n   private String field;\n\n}\n\n@Data\n@SuperBuilder(toBuilder = true)\npublic class Child extends Parent {\n\n    private String extraField;\n\n    public Child(Parent instance) {\n        super(instance.toBuilder());\n    }\n\n    public static ChildBuilder&lt;?, ?&gt; builder(Parent instance) {\n        return new Child(instance).toBuilder();\n    }\n}\n</code></pre>\n<p>As a result you can copy fields from parent instance to child builder and supplement with needed data:</p>\n<pre><code>Child result = Child.builder(parentInstance)\n                .extraField(&quot;extra&quot;)\n                .build();\n</code></pre>\n"}],"owner":{"account_id":134590,"reputation":26815,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5716,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":4,"score":7,"last_activity_date":1685106611,"creation_date":1616596482,"question_id":66783284,"body_markdown":"I want to create a new `Child` instance passing a `Parent` and other additional parameters. \r\n\r\nFor example if I have:\r\n\r\n    public class Parent {\r\n        public String param1;\r\n        public String param2;\r\n        // many parameters\r\n        public String paramN;\r\n    }\r\n\r\n    public class Child extends Parent {\r\n        public String subValue;\r\n    }\r\n    \r\nWith lombok, is there a builder that lets me create a `Child` instance passing the `Parent` and the missing value as parameters?\r\n\r\nWould be easier if I could write something like:\r\n\r\n    Parent p = Parent.builder()\r\n                     .param1(&quot;a&quot;)\r\n                     .param2(&quot;b&quot;)\r\n                     // many parameters\r\n                     .paramN(&quot;b&quot;)\r\n                     .build();\r\n    Child c = Child.builder(p).subValue(&quot;c&quot;).build();\r\n   ","title":"Can I use the Lombok @Builder passing the parent class as parameter?","body":"<p>I want to create a new <code>Child</code> instance passing a <code>Parent</code> and other additional parameters.</p>\n<p>For example if I have:</p>\n<pre><code>public class Parent {\n    public String param1;\n    public String param2;\n    // many parameters\n    public String paramN;\n}\n\npublic class Child extends Parent {\n    public String subValue;\n}\n</code></pre>\n<p>With lombok, is there a builder that lets me create a <code>Child</code> instance passing the <code>Parent</code> and the missing value as parameters?</p>\n<p>Would be easier if I could write something like:</p>\n<pre><code>Parent p = Parent.builder()\n                 .param1(&quot;a&quot;)\n                 .param2(&quot;b&quot;)\n                 // many parameters\n                 .paramN(&quot;b&quot;)\n                 .build();\nChild c = Child.builder(p).subValue(&quot;c&quot;).build();\n</code></pre>\n"},{"tags":["java","amazon-redshift","amazon-redshift-spectrum","jdbi3"],"owner":{"account_id":2814129,"reputation":1,"user_id":2419681,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685106289,"creation_date":1685106289,"question_id":76341078,"body_markdown":"I Am trying to run select * from table_name limit 500000, but it returns this error in java \r\n\r\n    Protocol errors with Amazon Redshift database. &quot;ERROR: Invalid protocol sequence &#39;P&#39; while in PortalSuspended state.&quot;\r\n\r\nRedshift driver: redshift-driver-2.1.0.9.jar\r\nRedshift engine cluster version: 1.0.49780\r\n\r\n[DB result for select version; in Redshift database][1]\r\n\r\n  [1]: https://i.stack.imgur.com/datMV.png\r\n\r\nCould you please help me, why getting protocol errors in the Redshift database","title":"Protocol errors with Amazon Redshift database. &quot;ERROR: Invalid protocol sequence &#39;P&#39; while in PortalSuspended state.&quot;","body":"<p>I Am trying to run select * from table_name limit 500000, but it returns this error in java</p>\n<pre><code>Protocol errors with Amazon Redshift database. &quot;ERROR: Invalid protocol sequence 'P' while in PortalSuspended state.&quot;\n</code></pre>\n<p>Redshift driver: redshift-driver-2.1.0.9.jar\nRedshift engine cluster version: 1.0.49780</p>\n<p><a href=\"https://i.stack.imgur.com/datMV.png\" rel=\"nofollow noreferrer\">DB result for select version; in Redshift database</a></p>\n<p>Could you please help me, why getting protocol errors in the Redshift database</p>\n"},{"tags":["java","spring-boot","multithreading","asynchronous","requestscope"],"owner":{"account_id":5671021,"reputation":109,"user_id":4485631,"display_name":"MANVENDRA LODHI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685105956,"creation_date":1685105956,"question_id":76341044,"body_markdown":"I&#39;m facing issue where, sometimes, async thread is NOT copying Request Scope properties through :\r\n\r\n    @Override\r\n          public &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task) {\r\n            return super.submit(\r\n                new ContextAwareCallable(task, RequestContextHolder.currentRequestAttributes()));\r\n          }\r\n   \r\n    @Override\r\n  \r\n\r\n    public T call() throws Exception {\r\n        if (context != null) {\r\n          RequestContextHolder.setRequestAttributes(context);\r\n        }\r\n        try {\r\n          return task.call();\r\n        } finally {\r\n          RequestContextHolder.resetRequestAttributes();\r\n        }\r\n      }\r\n\r\nDue to this, getting below exception:\r\n\r\n    **org.springframework.beans.factory.support.ScopeNotActiveException:** \r\n\r\nError creating bean with name `&#39;scopedTarget.sessionClient&#39;`: \r\nScope &#39;request&#39; is not active for the current thread; \r\nconsider defining a scoped proxy for this bean if you intend to refer to it from a singleton; \r\n`nested exception is java.lang.IllegalStateException:` Cannot ask for request attribute - request is not active anymore!\r\n\r\nPlease suggest a concrete way to copy request attributes in new thread? OR way to identify that request is executing through Async thread OR main thread?\r\n\r\nTIA","title":"Springboot | RequestScope | @Async | Is their any way to identify that request is executing through Async thread OR main thread?","body":"<p>I'm facing issue where, sometimes, async thread is NOT copying Request Scope properties through :</p>\n<pre><code>@Override\n      public &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task) {\n        return super.submit(\n            new ContextAwareCallable(task, RequestContextHolder.currentRequestAttributes()));\n      }\n\n@Override\n\n\npublic T call() throws Exception {\n    if (context != null) {\n      RequestContextHolder.setRequestAttributes(context);\n    }\n    try {\n      return task.call();\n    } finally {\n      RequestContextHolder.resetRequestAttributes();\n    }\n  }\n</code></pre>\n<p>Due to this, getting below exception:</p>\n<pre><code>**org.springframework.beans.factory.support.ScopeNotActiveException:** \n</code></pre>\n<p>Error creating bean with name <code>'scopedTarget.sessionClient'</code>:\nScope 'request' is not active for the current thread;\nconsider defining a scoped proxy for this bean if you intend to refer to it from a singleton;\n<code>nested exception is java.lang.IllegalStateException:</code> Cannot ask for request attribute - request is not active anymore!</p>\n<p>Please suggest a concrete way to copy request attributes in new thread? OR way to identify that request is executing through Async thread OR main thread?</p>\n<p>TIA</p>\n"},{"tags":["java","interface","abstract-class","abstract","java-9"],"comments":[{"owner":{"account_id":58477,"reputation":25235,"user_id":175070,"display_name":"Mike Strobel"},"score":6,"creation_date":1506972071,"post_id":46532204,"comment_id":80019179,"body_markdown":"Plenty of abstract classes contain instance-level fields, and could therefore not be converted to an equivalent interface.  Perhaps you want to force inheritance from a particular super class to guarantee you have package-level access to some of its internals.  The second case is perhaps less common but you can see it employed in parts of the JDK (e.g., in socket selector APIs).","body":"Plenty of abstract classes contain instance-level fields, and could therefore not be converted to an equivalent interface.  Perhaps you want to force inheritance from a particular super class to guarantee you have package-level access to some of its internals.  The second case is perhaps less common but you can see it employed in parts of the JDK (e.g., in socket selector APIs)."}],"answers":[{"tags":[],"owner":{"account_id":63444,"reputation":7018,"user_id":187808,"accept_rate":100,"display_name":"Tamas Rev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1506971975,"creation_date":1506971975,"answer_id":46532269,"question_id":46532204,"body_markdown":"Indeed, you&#39;re missing something:\r\n\r\n - non-constant variables\r\n - protected and package-private methods\r\n\r\nIn general, you don&#39;t have to use a feature just because you can. In particular, be careful with multiple inheritance. It can make things complicated very quickly.","title":"Is there any good reason to use abstract classes with the new additions to interfaces in Java 9?","body":"<p>Indeed, you're missing something:</p>\n\n<ul>\n<li>non-constant variables</li>\n<li>protected and package-private methods</li>\n</ul>\n\n<p>In general, you don't have to use a feature just because you can. In particular, be careful with multiple inheritance. It can make things complicated very quickly.</p>\n"}],"owner":{"account_id":5961968,"reputation":1269,"user_id":4686871,"accept_rate":100,"display_name":"Sergei Sirik"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"closed_date":1506971826,"accepted_answer_id":46532269,"answer_count":1,"score":3,"last_activity_date":1685105885,"creation_date":1506971689,"question_id":46532204,"body_markdown":"Since the Java 9 release is there any good reason to use abstract classes anymore? It seems like you can do everything with interfaces now, plus you can have multiple inheritance with interfaces.\r\n\r\n[Java SE 9: Interfaces][1]\r\n\r\n*    Constant variables\r\n*    Abstract methods\r\n*    Default methods\r\n*    Static methods\r\n*    Private methods\r\n*    Private Static methods\r\n\r\nAm I missing something? I can&#39;t find any good reason except, probably, backward compatibility.\r\n\r\n\r\n  [1]: https://www.journaldev.com/12850/java9-private-methods-in-interface","title":"Is there any good reason to use abstract classes with the new additions to interfaces in Java 9?","body":"<p>Since the Java 9 release is there any good reason to use abstract classes anymore? It seems like you can do everything with interfaces now, plus you can have multiple inheritance with interfaces.</p>\n<p><a href=\"https://www.journaldev.com/12850/java9-private-methods-in-interface\" rel=\"nofollow noreferrer\">Java SE 9: Interfaces</a></p>\n<ul>\n<li>Constant variables</li>\n<li>Abstract methods</li>\n<li>Default methods</li>\n<li>Static methods</li>\n<li>Private methods</li>\n<li>Private Static methods</li>\n</ul>\n<p>Am I missing something? I can't find any good reason except, probably, backward compatibility.</p>\n"},{"tags":["java","android","xml","android-studio"],"owner":{"account_id":13364804,"reputation":65,"user_id":9645476,"display_name":"kadir yapar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685105601,"creation_date":1685105601,"question_id":76341017,"body_markdown":"I am trying to create a custom input field on Android using java and xml.\r\n\r\nBelow the code does not show the hint and the most important error that when I write some text in the field and go to another page and come back again, it takes the text from the second field and write into the first and second input field.\r\n\r\nWhere am I wrong?\r\n\r\nThank for your response in advance.\r\n\r\nHere is my custom input field xml file\r\n\r\nmobpay_input_field.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;merge xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        tools:background=&quot;@drawable/background_cropped_drawable&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/text_input_layout&quot;\r\n            style=&quot;@style/MyStyle.InputLayout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            tools:hint=&quot;Test hint&quot;&gt;\r\n\r\n            &lt;com.neste.app.views.CustomErrorEditText\r\n                android:id=&quot;@+id/edit_text&quot;\r\n                style=&quot;@style/InputBoxStyle&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:theme=&quot;@style/InputBoxStyle&quot;\r\n                tools:text=&quot;Some error&quot; /&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n        &lt;androidx.appcompat.widget.AppCompatImageButton\r\n            android:id=&quot;@+id/edit_text_clear_btn&quot;\r\n            android:layout_width=&quot;@dimen/icon_small&quot;\r\n            android:layout_height=&quot;@dimen/icon_small&quot;\r\n            android:layout_margin=&quot;@dimen/spacing_m&quot;\r\n            android:background=&quot;@color/transparent&quot;\r\n            android:src=&quot;@drawable/ic_cross&quot;\r\n            android:visibility=&quot;gone&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@id/text_input_layout&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@id/text_input_layout&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            tools:visibility=&quot;visible&quot; /&gt;\r\n\r\n        &lt;androidx.appcompat.widget.AppCompatTextView\r\n            android:id=&quot;@+id/edit_text_tip&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;4dp&quot;\r\n            android:layout_marginLeft=&quot;4dp&quot;\r\n            android:layout_marginBottom=&quot;@dimen/spacing_s&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textSize=&quot;@dimen/font_size_tiny&quot;\r\n            android:visibility=&quot;gone&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/text_input_layout&quot;\r\n            tools:text=&quot;Some text&quot;\r\n            tools:visibility=&quot;visible&quot; /&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n&lt;/merge&gt;\r\n```\r\n\r\nThis is custom input field java file;\r\nMobPayInputField.java\r\n```\r\npackage com.neste.app.views;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Context;\r\nimport android.content.res.TypedArray;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.text.Editable;\r\nimport android.text.InputFilter;\r\nimport android.text.TextUtils;\r\nimport android.text.TextWatcher;\r\nimport android.text.method.DigitsKeyListener;\r\nimport android.util.AttributeSet;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.widget.FrameLayout;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\n\r\nimport com.google.android.material.textfield.TextInputLayout;\r\nimport com.neste.app.R;\r\nimport com.neste.app.utils.AppUtils;\r\n\r\npublic class MobPayInputField extends FrameLayout {\r\n\r\n    CharSequence text;\r\n    CharSequence hint;\r\n    CustomErrorEditText editText;\r\n    TextView editTip;\r\n    TextInputLayout inputLayout;\r\n    int inputType;\r\n    int maxLength;\r\n    int textColor;\r\n    boolean enabled;\r\n    private View resetButton;\r\n\r\n    public MobPayInputField(Context context) {\r\n        super(context);\r\n        init(context, null);\r\n    }\r\n\r\n    public MobPayInputField(Context context, AttributeSet attrs) {\r\n        super(context, attrs);\r\n        init(context, attrs);\r\n    }\r\n\r\n    public MobPayInputField(Context context, AttributeSet attrs, int defStyle) {\r\n        super(context, attrs, defStyle);\r\n        init(context, attrs);\r\n    }\r\n\r\n    private void init(Context context, AttributeSet attrs) {\r\n\r\n        TypedArray typedArray = context.obtainStyledAttributes(\r\n                attrs, R.styleable.MobPayInputField, 0, 0);\r\n        hint = typedArray.getString(R.styleable.MobPayInputField_hint);\r\n        text = typedArray.getString(R.styleable.MobPayInputField_text);\r\n        textColor = typedArray.getColor(R.styleable.MobPayInputField_textColor, 0);\r\n        inputType = typedArray.getInt(R.styleable.MobPayInputField_android_inputType, -1);\r\n        enabled = typedArray.getBoolean(R.styleable.MobPayInputField_android_enabled, true);\r\n        maxLength = typedArray.getInt(R.styleable.MobPayInputField_maxLength, -1);\r\n\r\n        typedArray.recycle();\r\n\r\n        LayoutInflater inflater = (LayoutInflater) getContext()\r\n                .getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n        inflater.inflate(R.layout.mobpay_input_field, this, true);\r\n\r\n        editText = findViewById(R.id.edit_text);\r\n        editTip = findViewById(R.id.edit_text_tip);\r\n        resetButton = findViewById(R.id.edit_text_clear_btn);\r\n        inputLayout = findViewById(R.id.text_input_layout);\r\n\r\n        if (text != null) {\r\n            editText.setText(text);\r\n        }\r\n\r\n        if (hint != null) {\r\n            inputLayout.setHint(hint);\r\n        }\r\n\r\n        if (inputType != -1) {\r\n            editText.setInputType(inputType);\r\n        }\r\n\r\n        if (textColor != 0) {\r\n            editText.setTextColor(textColor);\r\n        }\r\n\r\n        if (!enabled) {\r\n            setEnabled(false);\r\n            editText.setEnabled(false);\r\n            editText.setFocusable(false);\r\n            editText.setClickable(false);\r\n            resetButton.setVisibility(GONE);\r\n        }\r\n\r\n        if (maxLength != -1) {\r\n\r\n            // EditText does not support directly setting maxLength attribute but this\r\n            // works as setting android:maxLength on the XML-layout\r\n            editText.setFilters(new InputFilter[]{new InputFilter.LengthFilter(maxLength)});\r\n        }\r\n\r\n        editText.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n                // empty on purpose\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                // empty on purpose\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable s) {\r\n                if (enabled) {\r\n                    resetButton.setVisibility(!TextUtils.isEmpty(s.toString()) ?\r\n                            VISIBLE : GONE);\r\n                }\r\n            }\r\n        });\r\n        resetButton.setOnClickListener(v -&gt; editText.setText(&quot;&quot;));\r\n\r\n        forceLayout();\r\n    }\r\n\r\n    public void setOnEditorActionListener(TextView.OnEditorActionListener listener) {\r\n        editText.setOnEditorActionListener(listener);\r\n    }\r\n\r\n    public void setOnTextChangedListener(TextWatcher textWatcher) {\r\n        editText.addTextChangedListener(textWatcher);\r\n    }\r\n\r\n    public void setText(String text) {\r\n        editText.setText(text);\r\n    }\r\n\r\n    public void setTextColor(int color) {\r\n        if (editText != null) {\r\n            editText.setTextColor(color);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void setEnabled(boolean enabled) {\r\n        super.setEnabled(enabled);\r\n        this.enabled = enabled;\r\n        resetButton.setVisibility(enabled &amp;&amp; !TextUtils.isEmpty(editText.getText()) ?\r\n                VISIBLE : GONE);\r\n    }\r\n\r\n    public void addNewFilter(InputFilter filter) {\r\n        InputFilter[] currentFilters = editText.getFilters();\r\n        InputFilter[] newFilters = new InputFilter[currentFilters.length + 1];\r\n        System.arraycopy(currentFilters, 0, newFilters, 0, currentFilters.length);\r\n        newFilters[currentFilters.length] = filter;\r\n        editText.setFilters(newFilters);\r\n    }\r\n\r\n    public void setFilters(InputFilter[] filters) {\r\n        editText.setFilters(filters);\r\n    }\r\n\r\n    public void showError(boolean show) {\r\n\r\n        // Set whitespace to also highlight the bottom line with error color\r\n        showError(show, show ? &quot; &quot; : null);\r\n    }\r\n\r\n    public void showError(boolean show, int resId) {\r\n        showError(show, getResources().getString(resId));\r\n    }\r\n\r\n    // if error string is null, show only icon\r\n    public void showError(boolean show, String errorString) {\r\n        inputLayout.setError(show &amp;&amp; errorString != null ? errorString : null);\r\n        editText.showError(show);\r\n    }\r\n\r\n    // Display tip below edit field\r\n    public void setEditTextTip(String text) {\r\n        editTip.setVisibility(VISIBLE);\r\n        editTip.setText(text);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public String toString() {\r\n        return editText.toString();\r\n    }\r\n\r\n    public CharSequence getText() {\r\n        return editText.getText();\r\n    }\r\n\r\n    @Override\r\n    public void setOnFocusChangeListener(OnFocusChangeListener listener) {\r\n        editText.setOnFocusChangeListener(listener);\r\n    }\r\n\r\n    public void addTextChangedListener(TextWatcher textWatcher) {\r\n        editText.addTextChangedListener(textWatcher);\r\n    }\r\n\r\n    public void onEditorAction(int imeActionDone) {\r\n        editText.onEditorAction(imeActionDone);\r\n    }\r\n\r\n    public void requestTextFocus() {\r\n        editText.requestFocus();\r\n        AppUtils.showKeyboard(getContext(), editText);\r\n    }\r\n\r\n    public void setSelection(int length) {\r\n        editText.setSelection(length);\r\n    }\r\n\r\n    public void allowOnlyNumbersAndSpaces() {\r\n        editText.setKeyListener(DigitsKeyListener.getInstance(&quot;0123456789 _&quot;));\r\n    }\r\n}\r\n\r\n```\r\n\r\nThis is code inside attrs.xml file that defines attributes\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;resources&gt;\r\n&lt;declare-styleable name=&quot;MobPayInputField&quot;&gt;\r\n        &lt;attr name=&quot;textColor&quot; format=&quot;color&quot; /&gt;\r\n        &lt;attr name=&quot;maxLength&quot; format=&quot;integer&quot; /&gt;\r\n        &lt;attr name=&quot;hint&quot; format=&quot;string&quot; /&gt;\r\n        &lt;attr name=&quot;text&quot; format=&quot;string&quot; /&gt;\r\n        &lt;attr name=&quot;android:enabled&quot; format=&quot;boolean&quot; /&gt;\r\n        &lt;attr name=&quot;android:inputType&quot; format=&quot;integer&quot; /&gt;\r\n    &lt;/declare-styleable&gt;\r\n&lt;/resources&gt;\r\n```\r\n\r\nAnd this is the login fragment that I implemented the custom input field\r\nfragment_login.xml\r\n```\r\n&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:fillViewport=&quot;true&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@id/base_layout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;@dimen/spacing_m&quot;\r\n        android:focusable=&quot;true&quot;\r\n        android:focusableInTouchMode=&quot;true&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:context=&quot;.login.LoginActivity&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/logo_container&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:paddingBottom=&quot;@dimen/spacing_l&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:layout_width=&quot;@dimen/login_neste_width&quot;\r\n                android:layout_height=&quot;@dimen/login_neste_height&quot;\r\n                android:src=&quot;@drawable/neste_logo&quot; /&gt;\r\n\r\n            &lt;androidx.appcompat.widget.AppCompatTextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;@string/welcomeToNeste&quot;\r\n                android:textColor=&quot;@color/white&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@drawable/neste_rounded_corner_drawable&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/logo_container&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginRight=&quot;@dimen/spacing_m&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;@id/login_email&quot;\r\n                app:layout_constraintRight_toLeftOf=&quot;@id/login_email&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;@id/login_email&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.4&quot;\r\n                app:srcCompat=&quot;@drawable/ic_user&quot; /&gt;\r\n\r\n            &lt;com.neste.app.views.MobPayInputField\r\n                android:id=&quot;@+id/login_email&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;54dp&quot;\r\n                android:layout_marginTop=&quot;@dimen/spacing_m&quot;\r\n                android:layout_marginRight=&quot;@dimen/spacing_xl&quot;\r\n                android:hint=&quot;@string/login_username_hint&quot;\r\n                android:inputType=&quot;textEmailAddress&quot;\r\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.5&quot; /&gt;\r\n\r\n            &lt;ImageView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginRight=&quot;@dimen/spacing_m&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;@id/password&quot;\r\n                app:layout_constraintRight_toLeftOf=&quot;@id/password&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;@id/password&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.4&quot;\r\n                app:srcCompat=&quot;@drawable/ic_lock&quot; /&gt;\r\n\r\n            &lt;com.neste.app.views.MobPayInputField\r\n                android:id=&quot;@+id/password&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;54dp&quot;\r\n                android:layout_marginRight=&quot;@dimen/spacing_xl&quot;\r\n                android:hint=&quot;@string/login_password_hint&quot;\r\n                android:imeOptions=&quot;actionUnspecified&quot;\r\n                android:inputType=&quot;textPassword&quot;\r\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/login_email&quot; /&gt;\r\n\r\n            &lt;com.neste.app.views.ButtonWithLoadingView\r\n                android:id=&quot;@+id/email_sign_in_button&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;6dp&quot;\r\n                android:layout_marginRight=&quot;@dimen/spacing_xl&quot;\r\n                android:text=&quot;@string/action_sign_in&quot;\r\n                app:layout_constraintBottom_toTopOf=&quot;@id/forgot_password_link&quot;\r\n                app:layout_constraintLeft_toLeftOf=&quot;@id/password&quot;\r\n                app:layout_constraintRight_toRightOf=&quot;@id/password&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/password&quot;\r\n                app:layout_constraintVertical_bias=&quot;1&quot; /&gt;\r\n\r\n            &lt;androidx.appcompat.widget.AppCompatTextView\r\n                android:id=&quot;@+id/forgot_password_link&quot;\r\n                style=&quot;@style/Neste.TextAppearance.H3.Dim&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;@dimen/spacing_xxl&quot;\r\n                android:layout_marginTop=&quot;@dimen/spacing_xl&quot;\r\n                android:layout_marginRight=&quot;@dimen/spacing_xxl&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:paddingBottom=&quot;@dimen/spacing_l&quot;\r\n                android:text=&quot;@string/password_forgot_link&quot;\r\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/email_sign_in_button&quot; /&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n        &lt;!-- BOTTOM CONTAINER --&gt;\r\n\r\n        &lt;View\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:layout_weight=&quot;1&quot; /&gt;\r\n\r\n        &lt;androidx.appcompat.widget.AppCompatButton\r\n            android:id=&quot;@+id/go_to_user_creation&quot;\r\n            style=&quot;@style/Neste.Button.Outline&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginBottom=&quot;@dimen/spacing_l&quot;\r\n            android:text=&quot;@string/registerButtonTitle&quot; /&gt;\r\n\r\n        &lt;FrameLayout\r\n            android:id=&quot;@+id/prod_switch&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:visibility=&quot;gone&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n&lt;/ScrollView&gt;\r\n```\r\n","title":"Android Java Custom Input Field does not work","body":"<p>I am trying to create a custom input field on Android using java and xml.</p>\n<p>Below the code does not show the hint and the most important error that when I write some text in the field and go to another page and come back again, it takes the text from the second field and write into the first and second input field.</p>\n<p>Where am I wrong?</p>\n<p>Thank for your response in advance.</p>\n<p>Here is my custom input field xml file</p>\n<p>mobpay_input_field.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;merge xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        tools:background=&quot;@drawable/background_cropped_drawable&quot;&gt;\n\n        &lt;com.google.android.material.textfield.TextInputLayout\n            android:id=&quot;@+id/text_input_layout&quot;\n            style=&quot;@style/MyStyle.InputLayout&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            tools:hint=&quot;Test hint&quot;&gt;\n\n            &lt;com.neste.app.views.CustomErrorEditText\n                android:id=&quot;@+id/edit_text&quot;\n                style=&quot;@style/InputBoxStyle&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:theme=&quot;@style/InputBoxStyle&quot;\n                tools:text=&quot;Some error&quot; /&gt;\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n        &lt;androidx.appcompat.widget.AppCompatImageButton\n            android:id=&quot;@+id/edit_text_clear_btn&quot;\n            android:layout_width=&quot;@dimen/icon_small&quot;\n            android:layout_height=&quot;@dimen/icon_small&quot;\n            android:layout_margin=&quot;@dimen/spacing_m&quot;\n            android:background=&quot;@color/transparent&quot;\n            android:src=&quot;@drawable/ic_cross&quot;\n            android:visibility=&quot;gone&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@id/text_input_layout&quot;\n            app:layout_constraintEnd_toEndOf=&quot;@id/text_input_layout&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            tools:visibility=&quot;visible&quot; /&gt;\n\n        &lt;androidx.appcompat.widget.AppCompatTextView\n            android:id=&quot;@+id/edit_text_tip&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;4dp&quot;\n            android:layout_marginLeft=&quot;4dp&quot;\n            android:layout_marginBottom=&quot;@dimen/spacing_s&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;@dimen/font_size_tiny&quot;\n            android:visibility=&quot;gone&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@id/text_input_layout&quot;\n            tools:text=&quot;Some text&quot;\n            tools:visibility=&quot;visible&quot; /&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/merge&gt;\n</code></pre>\n<p>This is custom input field java file;\nMobPayInputField.java</p>\n<pre><code>package com.neste.app.views;\n\nimport android.annotation.SuppressLint;\nimport android.content.Context;\nimport android.content.res.TypedArray;\nimport android.graphics.drawable.Drawable;\nimport android.text.Editable;\nimport android.text.InputFilter;\nimport android.text.TextUtils;\nimport android.text.TextWatcher;\nimport android.text.method.DigitsKeyListener;\nimport android.util.AttributeSet;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.widget.FrameLayout;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\n\nimport com.google.android.material.textfield.TextInputLayout;\nimport com.neste.app.R;\nimport com.neste.app.utils.AppUtils;\n\npublic class MobPayInputField extends FrameLayout {\n\n    CharSequence text;\n    CharSequence hint;\n    CustomErrorEditText editText;\n    TextView editTip;\n    TextInputLayout inputLayout;\n    int inputType;\n    int maxLength;\n    int textColor;\n    boolean enabled;\n    private View resetButton;\n\n    public MobPayInputField(Context context) {\n        super(context);\n        init(context, null);\n    }\n\n    public MobPayInputField(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        init(context, attrs);\n    }\n\n    public MobPayInputField(Context context, AttributeSet attrs, int defStyle) {\n        super(context, attrs, defStyle);\n        init(context, attrs);\n    }\n\n    private void init(Context context, AttributeSet attrs) {\n\n        TypedArray typedArray = context.obtainStyledAttributes(\n                attrs, R.styleable.MobPayInputField, 0, 0);\n        hint = typedArray.getString(R.styleable.MobPayInputField_hint);\n        text = typedArray.getString(R.styleable.MobPayInputField_text);\n        textColor = typedArray.getColor(R.styleable.MobPayInputField_textColor, 0);\n        inputType = typedArray.getInt(R.styleable.MobPayInputField_android_inputType, -1);\n        enabled = typedArray.getBoolean(R.styleable.MobPayInputField_android_enabled, true);\n        maxLength = typedArray.getInt(R.styleable.MobPayInputField_maxLength, -1);\n\n        typedArray.recycle();\n\n        LayoutInflater inflater = (LayoutInflater) getContext()\n                .getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n        inflater.inflate(R.layout.mobpay_input_field, this, true);\n\n        editText = findViewById(R.id.edit_text);\n        editTip = findViewById(R.id.edit_text_tip);\n        resetButton = findViewById(R.id.edit_text_clear_btn);\n        inputLayout = findViewById(R.id.text_input_layout);\n\n        if (text != null) {\n            editText.setText(text);\n        }\n\n        if (hint != null) {\n            inputLayout.setHint(hint);\n        }\n\n        if (inputType != -1) {\n            editText.setInputType(inputType);\n        }\n\n        if (textColor != 0) {\n            editText.setTextColor(textColor);\n        }\n\n        if (!enabled) {\n            setEnabled(false);\n            editText.setEnabled(false);\n            editText.setFocusable(false);\n            editText.setClickable(false);\n            resetButton.setVisibility(GONE);\n        }\n\n        if (maxLength != -1) {\n\n            // EditText does not support directly setting maxLength attribute but this\n            // works as setting android:maxLength on the XML-layout\n            editText.setFilters(new InputFilter[]{new InputFilter.LengthFilter(maxLength)});\n        }\n\n        editText.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n                // empty on purpose\n            }\n\n            @Override\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\n                // empty on purpose\n            }\n\n            @Override\n            public void afterTextChanged(Editable s) {\n                if (enabled) {\n                    resetButton.setVisibility(!TextUtils.isEmpty(s.toString()) ?\n                            VISIBLE : GONE);\n                }\n            }\n        });\n        resetButton.setOnClickListener(v -&gt; editText.setText(&quot;&quot;));\n\n        forceLayout();\n    }\n\n    public void setOnEditorActionListener(TextView.OnEditorActionListener listener) {\n        editText.setOnEditorActionListener(listener);\n    }\n\n    public void setOnTextChangedListener(TextWatcher textWatcher) {\n        editText.addTextChangedListener(textWatcher);\n    }\n\n    public void setText(String text) {\n        editText.setText(text);\n    }\n\n    public void setTextColor(int color) {\n        if (editText != null) {\n            editText.setTextColor(color);\n        }\n    }\n\n    @Override\n    public void setEnabled(boolean enabled) {\n        super.setEnabled(enabled);\n        this.enabled = enabled;\n        resetButton.setVisibility(enabled &amp;&amp; !TextUtils.isEmpty(editText.getText()) ?\n                VISIBLE : GONE);\n    }\n\n    public void addNewFilter(InputFilter filter) {\n        InputFilter[] currentFilters = editText.getFilters();\n        InputFilter[] newFilters = new InputFilter[currentFilters.length + 1];\n        System.arraycopy(currentFilters, 0, newFilters, 0, currentFilters.length);\n        newFilters[currentFilters.length] = filter;\n        editText.setFilters(newFilters);\n    }\n\n    public void setFilters(InputFilter[] filters) {\n        editText.setFilters(filters);\n    }\n\n    public void showError(boolean show) {\n\n        // Set whitespace to also highlight the bottom line with error color\n        showError(show, show ? &quot; &quot; : null);\n    }\n\n    public void showError(boolean show, int resId) {\n        showError(show, getResources().getString(resId));\n    }\n\n    // if error string is null, show only icon\n    public void showError(boolean show, String errorString) {\n        inputLayout.setError(show &amp;&amp; errorString != null ? errorString : null);\n        editText.showError(show);\n    }\n\n    // Display tip below edit field\n    public void setEditTextTip(String text) {\n        editTip.setVisibility(VISIBLE);\n        editTip.setText(text);\n    }\n\n    @NonNull\n    @Override\n    public String toString() {\n        return editText.toString();\n    }\n\n    public CharSequence getText() {\n        return editText.getText();\n    }\n\n    @Override\n    public void setOnFocusChangeListener(OnFocusChangeListener listener) {\n        editText.setOnFocusChangeListener(listener);\n    }\n\n    public void addTextChangedListener(TextWatcher textWatcher) {\n        editText.addTextChangedListener(textWatcher);\n    }\n\n    public void onEditorAction(int imeActionDone) {\n        editText.onEditorAction(imeActionDone);\n    }\n\n    public void requestTextFocus() {\n        editText.requestFocus();\n        AppUtils.showKeyboard(getContext(), editText);\n    }\n\n    public void setSelection(int length) {\n        editText.setSelection(length);\n    }\n\n    public void allowOnlyNumbersAndSpaces() {\n        editText.setKeyListener(DigitsKeyListener.getInstance(&quot;0123456789 _&quot;));\n    }\n}\n\n</code></pre>\n<p>This is code inside attrs.xml file that defines attributes</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;resources&gt;\n&lt;declare-styleable name=&quot;MobPayInputField&quot;&gt;\n        &lt;attr name=&quot;textColor&quot; format=&quot;color&quot; /&gt;\n        &lt;attr name=&quot;maxLength&quot; format=&quot;integer&quot; /&gt;\n        &lt;attr name=&quot;hint&quot; format=&quot;string&quot; /&gt;\n        &lt;attr name=&quot;text&quot; format=&quot;string&quot; /&gt;\n        &lt;attr name=&quot;android:enabled&quot; format=&quot;boolean&quot; /&gt;\n        &lt;attr name=&quot;android:inputType&quot; format=&quot;integer&quot; /&gt;\n    &lt;/declare-styleable&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>And this is the login fragment that I implemented the custom input field\nfragment_login.xml</p>\n<pre><code>&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fillViewport=&quot;true&quot;&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@id/base_layout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;@dimen/spacing_m&quot;\n        android:focusable=&quot;true&quot;\n        android:focusableInTouchMode=&quot;true&quot;\n        android:orientation=&quot;vertical&quot;\n        tools:context=&quot;.login.LoginActivity&quot;&gt;\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/logo_container&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:gravity=&quot;center&quot;\n            android:orientation=&quot;vertical&quot;\n            android:paddingBottom=&quot;@dimen/spacing_l&quot;&gt;\n\n            &lt;ImageView\n                android:layout_width=&quot;@dimen/login_neste_width&quot;\n                android:layout_height=&quot;@dimen/login_neste_height&quot;\n                android:src=&quot;@drawable/neste_logo&quot; /&gt;\n\n            &lt;androidx.appcompat.widget.AppCompatTextView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;@string/welcomeToNeste&quot;\n                android:textColor=&quot;@color/white&quot; /&gt;\n        &lt;/LinearLayout&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;@drawable/neste_rounded_corner_drawable&quot;\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@id/logo_container&quot;&gt;\n\n            &lt;ImageView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginRight=&quot;@dimen/spacing_m&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;@id/login_email&quot;\n                app:layout_constraintRight_toLeftOf=&quot;@id/login_email&quot;\n                app:layout_constraintTop_toTopOf=&quot;@id/login_email&quot;\n                app:layout_constraintVertical_bias=&quot;0.4&quot;\n                app:srcCompat=&quot;@drawable/ic_user&quot; /&gt;\n\n            &lt;com.neste.app.views.MobPayInputField\n                android:id=&quot;@+id/login_email&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;54dp&quot;\n                android:layout_marginTop=&quot;@dimen/spacing_m&quot;\n                android:layout_marginRight=&quot;@dimen/spacing_xl&quot;\n                android:hint=&quot;@string/login_username_hint&quot;\n                android:inputType=&quot;textEmailAddress&quot;\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:layout_constraintVertical_bias=&quot;0.5&quot; /&gt;\n\n            &lt;ImageView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginRight=&quot;@dimen/spacing_m&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;@id/password&quot;\n                app:layout_constraintRight_toLeftOf=&quot;@id/password&quot;\n                app:layout_constraintTop_toTopOf=&quot;@id/password&quot;\n                app:layout_constraintVertical_bias=&quot;0.4&quot;\n                app:srcCompat=&quot;@drawable/ic_lock&quot; /&gt;\n\n            &lt;com.neste.app.views.MobPayInputField\n                android:id=&quot;@+id/password&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;54dp&quot;\n                android:layout_marginRight=&quot;@dimen/spacing_xl&quot;\n                android:hint=&quot;@string/login_password_hint&quot;\n                android:imeOptions=&quot;actionUnspecified&quot;\n                android:inputType=&quot;textPassword&quot;\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/login_email&quot; /&gt;\n\n            &lt;com.neste.app.views.ButtonWithLoadingView\n                android:id=&quot;@+id/email_sign_in_button&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;6dp&quot;\n                android:layout_marginRight=&quot;@dimen/spacing_xl&quot;\n                android:text=&quot;@string/action_sign_in&quot;\n                app:layout_constraintBottom_toTopOf=&quot;@id/forgot_password_link&quot;\n                app:layout_constraintLeft_toLeftOf=&quot;@id/password&quot;\n                app:layout_constraintRight_toRightOf=&quot;@id/password&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/password&quot;\n                app:layout_constraintVertical_bias=&quot;1&quot; /&gt;\n\n            &lt;androidx.appcompat.widget.AppCompatTextView\n                android:id=&quot;@+id/forgot_password_link&quot;\n                style=&quot;@style/Neste.TextAppearance.H3.Dim&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;@dimen/spacing_xxl&quot;\n                android:layout_marginTop=&quot;@dimen/spacing_xl&quot;\n                android:layout_marginRight=&quot;@dimen/spacing_xxl&quot;\n                android:gravity=&quot;center&quot;\n                android:paddingBottom=&quot;@dimen/spacing_l&quot;\n                android:text=&quot;@string/password_forgot_link&quot;\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/email_sign_in_button&quot; /&gt;\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n        &lt;!-- BOTTOM CONTAINER --&gt;\n\n        &lt;View\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_weight=&quot;1&quot; /&gt;\n\n        &lt;androidx.appcompat.widget.AppCompatButton\n            android:id=&quot;@+id/go_to_user_creation&quot;\n            style=&quot;@style/Neste.Button.Outline&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginBottom=&quot;@dimen/spacing_l&quot;\n            android:text=&quot;@string/registerButtonTitle&quot; /&gt;\n\n        &lt;FrameLayout\n            android:id=&quot;@+id/prod_switch&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:gravity=&quot;center&quot;\n            android:visibility=&quot;gone&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","jmh"],"comments":[{"owner":{"account_id":16312554,"reputation":1,"user_id":11780745,"display_name":"PMP"},"score":0,"creation_date":1685104906,"post_id":76340918,"comment_id":134618748,"body_markdown":"this message comes up; Cannot resolve method &#39;activate&#39; in &#39;SyncEnergyMonitor&#39;","body":"this message comes up; Cannot resolve method &#39;activate&#39; in &#39;SyncEnergyMonitor&#39;"}],"owner":{"account_id":16312554,"reputation":1,"user_id":11780745,"display_name":"PMP"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685104744,"creation_date":1685104744,"question_id":76340918,"body_markdown":" I use jRAPL, java microbench harness, maven projeckt. I imported jRAPL to my project. Do not accsess to activate() and deactivate() methods. IntelliJ is not letting me to access it. I try to measure the energy consumption of addBenchmark(). IntelliJ does not access to activate() and deactivate() methods. need help ? \r\n```\r\npackage BenchMark_JMH;\r\nimport jRAPL.*;\r\nimport com.ProductManagerArrayList;\r\n\r\n\r\nimport org.openjdk.jmh.annotations.*;\r\nimport pro.Product;\r\n\r\nimport java.util.List;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\n@State(Scope.Benchmark)\r\n@Warmup(iterations = 3, time = 1, timeUnit = TimeUnit.SECONDS)\r\n@Measurement(iterations = 5, time = 1, timeUnit = TimeUnit.SECONDS)\r\n@Fork(1)\r\n@BenchmarkMode(Mode.AverageTime)\r\npublic class ProductManagerArrayListBenchmark {\r\n\r\n    private ProductManagerArrayList productManager;\r\n    SyncEnergyMonitor  monitor;\r\n\r\n    @Setup\r\n    public void setup() {\r\n        productManager = new ProductManagerArrayList();\r\n        monitor = new SyncEnergyMonitor();\r\n        monitor.activate();\r\n\r\n\r\n    }\r\n\r\n    @Benchmark\r\n    public void addBenchmark() {\r\n        monitor.activate();\r\n        EnergyStats before = monitor.getSample();\r\n        Product product = new Product(4, &quot;Product 4&quot;, 40000);\r\n        productManager.add(product);\r\n\r\n        EnergyStats after = monitor.getSample();\r\n        EnergyDiff diff = EnergyDiff.between(before,after);\r\n        monitor.deactivate();\r\n    }\r\n\r\n    @Benchmark\r\n    public Product getBenchmark() {\r\n        return productManager.get(2);\r\n    }\r\n\r\n    @Benchmark\r\n    public void updateBenchmark() {\r\n        Product product = new Product(2, &quot;Updated Product&quot;, 50000);\r\n        productManager.update(product);\r\n    }\r\n\r\n    @Benchmark\r\n    public void deleteBenchmark() {\r\n        productManager.delete(3);\r\n    }\r\n\r\n    @Benchmark\r\n    public List&lt;Product&gt; getAllBenchmark() {\r\n        return productManager.getAll();\r\n    }\r\n\r\n    @Benchmark\r\n    public int sizeBenchmark() {\r\n        return productManager.size();\r\n    }\r\n\r\n    @Benchmark\r\n    public int getIDBenchmark() {\r\n        Product product = new Product(1, &quot;Product 1&quot;, 10000);\r\n        return productManager.getID(product);\r\n    }\r\n\r\n    @Benchmark\r\n    public void setBenchmark() {\r\n        Product product = new Product(1, &quot;Updated Product&quot;, 20000);\r\n        productManager.set(1, product);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI searched online and used all methods but failed. I expect someone to help me to set up correctly  etc.","title":"How can I properly set up jRAPL in my Maven project in IntelliJ if I cannot access activate() and deactivate() methods?","body":"<p>I use jRAPL, java microbench harness, maven projeckt. I imported jRAPL to my project. Do not accsess to activate() and deactivate() methods. IntelliJ is not letting me to access it. I try to measure the energy consumption of addBenchmark(). IntelliJ does not access to activate() and deactivate() methods. need help ?</p>\n<pre><code>package BenchMark_JMH;\nimport jRAPL.*;\nimport com.ProductManagerArrayList;\n\n\nimport org.openjdk.jmh.annotations.*;\nimport pro.Product;\n\nimport java.util.List;\nimport java.util.concurrent.TimeUnit;\n\n@State(Scope.Benchmark)\n@Warmup(iterations = 3, time = 1, timeUnit = TimeUnit.SECONDS)\n@Measurement(iterations = 5, time = 1, timeUnit = TimeUnit.SECONDS)\n@Fork(1)\n@BenchmarkMode(Mode.AverageTime)\npublic class ProductManagerArrayListBenchmark {\n\n    private ProductManagerArrayList productManager;\n    SyncEnergyMonitor  monitor;\n\n    @Setup\n    public void setup() {\n        productManager = new ProductManagerArrayList();\n        monitor = new SyncEnergyMonitor();\n        monitor.activate();\n\n\n    }\n\n    @Benchmark\n    public void addBenchmark() {\n        monitor.activate();\n        EnergyStats before = monitor.getSample();\n        Product product = new Product(4, &quot;Product 4&quot;, 40000);\n        productManager.add(product);\n\n        EnergyStats after = monitor.getSample();\n        EnergyDiff diff = EnergyDiff.between(before,after);\n        monitor.deactivate();\n    }\n\n    @Benchmark\n    public Product getBenchmark() {\n        return productManager.get(2);\n    }\n\n    @Benchmark\n    public void updateBenchmark() {\n        Product product = new Product(2, &quot;Updated Product&quot;, 50000);\n        productManager.update(product);\n    }\n\n    @Benchmark\n    public void deleteBenchmark() {\n        productManager.delete(3);\n    }\n\n    @Benchmark\n    public List&lt;Product&gt; getAllBenchmark() {\n        return productManager.getAll();\n    }\n\n    @Benchmark\n    public int sizeBenchmark() {\n        return productManager.size();\n    }\n\n    @Benchmark\n    public int getIDBenchmark() {\n        Product product = new Product(1, &quot;Product 1&quot;, 10000);\n        return productManager.getID(product);\n    }\n\n    @Benchmark\n    public void setBenchmark() {\n        Product product = new Product(1, &quot;Updated Product&quot;, 20000);\n        productManager.set(1, product);\n    }\n}\n\n</code></pre>\n<p>I searched online and used all methods but failed. I expect someone to help me to set up correctly  etc.</p>\n"},{"tags":["java","mysql","spring-boot","scheduler"],"owner":{"account_id":28004563,"reputation":1,"user_id":21388181,"display_name":"Олександр Горденін"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685104740,"creation_date":1685094926,"question_id":76339665,"body_markdown":"I need help to find the way to delete scheduled tasks even if they currently picked.\r\ndb-scheduler throws TaskInstanceCurrentlyExecutingException “Cannot use SchedulerClient to modify a task-instance that is currently executing. If this occurs often, consider only modifying executions not picked that has the next execution-time a certain time into the future”, when I&#39;m trying to delete scheduled task which is currently executing. Mb someone faced the same issue?\r\n\r\ndb-scheduler uses MySql table to monitor scheduled task. Mb I could just delete data about this task from db. Will be the current execution the last one in such case? This solution is suitable too.\r\nCurrently I use cancel(TaskInstanceId taskInstanceId) method from Scheduler.class to delete tasks which throws TaskInstanceCurrentlyExecutingException \r\n\r\nI tried to find something in [db-scheduler](https://github.com/kagkarlsson/db-scheduler) documentation, but there is no result. ","title":"db-scheduler - how to remove picked scheduled tasks","body":"<p>I need help to find the way to delete scheduled tasks even if they currently picked.\ndb-scheduler throws TaskInstanceCurrentlyExecutingException “Cannot use SchedulerClient to modify a task-instance that is currently executing. If this occurs often, consider only modifying executions not picked that has the next execution-time a certain time into the future”, when I'm trying to delete scheduled task which is currently executing. Mb someone faced the same issue?</p>\n<p>db-scheduler uses MySql table to monitor scheduled task. Mb I could just delete data about this task from db. Will be the current execution the last one in such case? This solution is suitable too.\nCurrently I use cancel(TaskInstanceId taskInstanceId) method from Scheduler.class to delete tasks which throws TaskInstanceCurrentlyExecutingException</p>\n<p>I tried to find something in <a href=\"https://github.com/kagkarlsson/db-scheduler\" rel=\"nofollow noreferrer\">db-scheduler</a> documentation, but there is no result.</p>\n"},{"tags":["java","visual-studio-code","java.util.scanner"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1684758248,"post_id":76305435,"comment_id":134558996,"body_markdown":"What is the locale on System level?","body":"What is the locale on System level?"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1684820309,"post_id":76305435,"comment_id":134568529,"body_markdown":"This works fine on my machine. Please show more details about your setup and environment.       Please see [how to ask](https://stackoverflow.com/help/how-to-ask).\n\n[minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"This works fine on my machine. Please show more details about your setup and environment.       Please see <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a>.  <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":28653507,"reputation":1,"user_id":21940031,"display_name":"Seng Gie Chung"},"score":1,"creation_date":1684841077,"post_id":76305435,"comment_id":134573025,"body_markdown":"@Hulk thank you for the help! My problem got solved by the related question you sent.","body":"@Hulk thank you for the help! My problem got solved by the related question you sent."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1684866787,"post_id":76305435,"comment_id":134579178,"body_markdown":"Does this answer your question? [How to set Visual Studio Code Terminal output to English](https://stackoverflow.com/questions/55508152/how-to-set-visual-studio-code-terminal-output-to-english)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/55508152/how-to-set-visual-studio-code-terminal-output-to-english\">How to set Visual Studio Code Terminal output to English</a>"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1684866848,"post_id":76305435,"comment_id":134579192,"body_markdown":"Glad to hear that - in that case, it can be closed.","body":"Glad to hear that - in that case, it can be closed."}],"answers":[{"tags":[],"owner":{"account_id":28653507,"reputation":1,"user_id":21940031,"display_name":"Seng Gie Chung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685104003,"creation_date":1685104003,"answer_id":76340811,"question_id":76305435,"body_markdown":"Execute the command &quot;set-culture -cultureinfo en-US&quot; in the terminal. As seen in the [solution](https://stackoverflow.com/questions/55508152/how-to-set-visual-studio-code-terminal-output-to-english), suggested by @Hulk","title":"Change VSCode formatting from scanner.nextDouble(); from &lt;,&gt; to &lt;.&gt; by default","body":"<p>Execute the command &quot;set-culture -cultureinfo en-US&quot; in the terminal. As seen in the <a href=\"https://stackoverflow.com/questions/55508152/how-to-set-visual-studio-code-terminal-output-to-english\">solution</a>, suggested by @Hulk</p>\n"}],"owner":{"account_id":28653507,"reputation":1,"user_id":21940031,"display_name":"Seng Gie Chung"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76340811,"answer_count":1,"score":0,"last_activity_date":1685104003,"creation_date":1684752732,"question_id":76305435,"body_markdown":"Change VSCode formatting from scanner.nextDouble(); from &lt;,&gt; to &lt;.&gt; by default\r\n\r\nWhen using the scanner.nextDouble(); method, the VSCode Terminal only accepts &lt;,&gt; instead of the normal &lt;.&gt; for decimal points. Already tried changing the VSCode locale to English.","title":"Change VSCode formatting from scanner.nextDouble(); from &lt;,&gt; to &lt;.&gt; by default","body":"<p>Change VSCode formatting from scanner.nextDouble(); from &lt;,&gt; to &lt;.&gt; by default</p>\n<p>When using the scanner.nextDouble(); method, the VSCode Terminal only accepts &lt;,&gt; instead of the normal &lt;.&gt; for decimal points. Already tried changing the VSCode locale to English.</p>\n"},{"tags":["java","html","ms-word","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1685165135,"post_id":76339842,"comment_id":134626567,"body_markdown":"Cannot reproduce the issue. I suspect your `MyXWPFHtmlDocument ` is the one in one of my answers [using MyXWPFHtmlDocument](https://stackoverflow.com/search?tab=newest&amp;q=user%3a3915431%20MyXWPFHtmlDocument%20&amp;searchOn=3). I suspect you are referring to that answer: https://stackoverflow.com/questions/53863126/how-to-replace-texttag-with-html-in-docx-using-apache-poi/53872268#53872268. I tried this having an image with source `data:image/png;base64...` and it works for me having the given size `...width=\\&quot;50\\&quot; height=\\&quot;50\\&quot;...`.","body":"Cannot reproduce the issue. I suspect your <code>MyXWPFHtmlDocument </code> is the one in one of my answers <a href=\"https://stackoverflow.com/search?tab=newest&amp;q=user%3a3915431%20MyXWPFHtmlDocument%20&amp;searchOn=3\">using MyXWPFHtmlDocument</a>. I suspect you are referring to that answer: <a href=\"https://stackoverflow.com/questions/53863126/how-to-replace-texttag-with-html-in-docx-using-apache-poi/53872268#53872268\" title=\"how to replace texttag with html in docx using apache poi\">stackoverflow.com/questions/53863126/&hellip;</a>. I tried this having an image with source <code>data:image&#47;png;base64...</code> and it works for me having the given size <code>...width=\\&quot;50\\&quot; height=\\&quot;50\\&quot;...</code>."},{"owner":{"account_id":28684965,"reputation":1,"user_id":21965415,"display_name":"Igniz"},"score":0,"creation_date":1685431525,"post_id":76339842,"comment_id":134654723,"body_markdown":"Yes ! I used your previous answer to set me up. Thanks about that  it helped me a lot. As for the current issue, any idea what might cause that?","body":"Yes ! I used your previous answer to set me up. Thanks about that  it helped me a lot. As for the current issue, any idea what might cause that?"}],"owner":{"account_id":28684965,"reputation":1,"user_id":21965415,"display_name":"Igniz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685103847,"creation_date":1685096091,"question_id":76339842,"body_markdown":"I am using poi (5.2.2) in a Java class to write html flux in Microsoft Word model document.\r\n \r\n```\r\nMyXWPFHtmlDocument myXWPFHtmlDocument = createHtmlDoc(document, &quot;htmlDoc&quot;);\r\nmyXWPFHtmlDocument.setHtml(myXWPFHtmlDocument.getHtml().replace(\r\n    &quot;&lt;body&gt;&lt;/body&gt;&quot;, &quot;&lt;body&gt;&quot;+ StringHtmlFlux + &quot;&lt;/body&gt;&quot;));\r\nreplaceIBodyElementWithAltChunk(document, &quot;${content}&quot;, myXWPFHtmlDocument);\r\n```\r\n\r\nNote: `${content}` is a marker in the model document.\r\n\r\nEverything is fine except for the syle of image in base 64.\r\n\r\nFor instance something like `&lt;img width=\\&quot;50\\&quot; height=\\&quot;50\\&quot; src=\\&quot;C:/Temp/fleur.jpg\\&quot;&gt;`\r\nkept the size defined by width and height attributes once written in Word.\r\n\r\nBut a `img` with the same image in base 64 does not keep the width and height once written in Word: `&lt;img width=\\&quot;50\\&quot; height=\\&quot;50\\&quot; src=\\&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUg...\\&quot;&gt;`\r\n\r\nIs there a way to keep the size defined with a base 64 image?\r\n\r\nI tried to put a balise style, but no success.","title":"Keeping width and height of base 64 image while writing a html flux in Word with POI","body":"<p>I am using poi (5.2.2) in a Java class to write html flux in Microsoft Word model document.</p>\n<pre><code>MyXWPFHtmlDocument myXWPFHtmlDocument = createHtmlDoc(document, &quot;htmlDoc&quot;);\nmyXWPFHtmlDocument.setHtml(myXWPFHtmlDocument.getHtml().replace(\n    &quot;&lt;body&gt;&lt;/body&gt;&quot;, &quot;&lt;body&gt;&quot;+ StringHtmlFlux + &quot;&lt;/body&gt;&quot;));\nreplaceIBodyElementWithAltChunk(document, &quot;${content}&quot;, myXWPFHtmlDocument);\n</code></pre>\n<p>Note: <code>${content}</code> is a marker in the model document.</p>\n<p>Everything is fine except for the syle of image in base 64.</p>\n<p>For instance something like <code>&lt;img width=\\&quot;50\\&quot; height=\\&quot;50\\&quot; src=\\&quot;C:/Temp/fleur.jpg\\&quot;&gt;</code>\nkept the size defined by width and height attributes once written in Word.</p>\n<p>But a <code>img</code> with the same image in base 64 does not keep the width and height once written in Word: <code>&lt;img width=\\&quot;50\\&quot; height=\\&quot;50\\&quot; src=\\&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUg...\\&quot;&gt;</code></p>\n<p>Is there a way to keep the size defined with a base 64 image?</p>\n<p>I tried to put a balise style, but no success.</p>\n"},{"tags":["java","eclipse","eclipse-plugin","ivy","ivyde"],"owner":{"account_id":3590209,"reputation":1021,"user_id":2996452,"accept_rate":62,"display_name":"Jokkeri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685103800,"creation_date":1685100407,"question_id":76340357,"body_markdown":"I have two Eclipse instances using same SVN repository (updated to HEAD). Both are using same IVY-version and same IVY-configuration (to extent what I can find). IVY-settings and ivy.xml are identical as saved in SVN repository.\r\n\r\nYet I&#39;m facing an issue where the other instance is not retrieving all the libraries that the other one is retrieving - thus resulting in runtime errors. IVY-report in other is just missing those dependencies...\r\n\r\nThe libs that are not loaded are all related to main-dependency &#39;cxf-rt-frontend-jaxws&#39; which have transitive dependency to &#39;cxf-rt-frontend-simple&#39; which eventually have these as transitive dependencies:\r\n\r\n&gt; geronimo-jta_1.1_spec-1.1.1.jar jakarta.annotation-api-1.3.5.jar\r\n&gt; jakarta.jws-api-2.1.0.jar jakarta.xml.soap-api-1.4.2.jar\r\n&gt; jakarta.xml.ws-api-2.3.3.jar saaj-impl-1.5.3.jar stax-ex-1.8.3.jar\r\n&gt; xercesImpl-2.12.2.jar\r\n\r\nThe Eclipse missing some libraries is 2019-06 (4.12.0) and the other is 2023-03 (4.27.0) - if that matters in any way.\r\n\r\nIVY-version is the same in both Eclipse instances, 2.5.1. IvyDE seems to be same in both but I&#39;m not entirely sure as the old Eclipse&#39;s marketplace doesn&#39;t show any supported IvyDE plugins. Though the version for both shows the same, 2.2.0.final-201311091524-RELEASE.\r\n\r\nOf course now I have the option to use the working one, but I would really like to know what is the issue if it would some day occur in the other Eclipse instance as well.\r\nAny suggestions on what to check?","title":"IVY not retrieving all libraries","body":"<p>I have two Eclipse instances using same SVN repository (updated to HEAD). Both are using same IVY-version and same IVY-configuration (to extent what I can find). IVY-settings and ivy.xml are identical as saved in SVN repository.</p>\n<p>Yet I'm facing an issue where the other instance is not retrieving all the libraries that the other one is retrieving - thus resulting in runtime errors. IVY-report in other is just missing those dependencies...</p>\n<p>The libs that are not loaded are all related to main-dependency 'cxf-rt-frontend-jaxws' which have transitive dependency to 'cxf-rt-frontend-simple' which eventually have these as transitive dependencies:</p>\n<blockquote>\n<p>geronimo-jta_1.1_spec-1.1.1.jar jakarta.annotation-api-1.3.5.jar\njakarta.jws-api-2.1.0.jar jakarta.xml.soap-api-1.4.2.jar\njakarta.xml.ws-api-2.3.3.jar saaj-impl-1.5.3.jar stax-ex-1.8.3.jar\nxercesImpl-2.12.2.jar</p>\n</blockquote>\n<p>The Eclipse missing some libraries is 2019-06 (4.12.0) and the other is 2023-03 (4.27.0) - if that matters in any way.</p>\n<p>IVY-version is the same in both Eclipse instances, 2.5.1. IvyDE seems to be same in both but I'm not entirely sure as the old Eclipse's marketplace doesn't show any supported IvyDE plugins. Though the version for both shows the same, 2.2.0.final-201311091524-RELEASE.</p>\n<p>Of course now I have the option to use the working one, but I would really like to know what is the issue if it would some day occur in the other Eclipse instance as well.\nAny suggestions on what to check?</p>\n"},{"tags":["java","spring","properties","annotations"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":5,"creation_date":1415906292,"post_id":26916598,"comment_id":42381877,"body_markdown":"With `#{}` it is an expression, with `${}` it is a placeholder for a value. The first expression you use will call a method/attribute on a bean called props, the one with the placeholder will try to locate a property named `props.isFPL` in the `Environment`. You should use the latter and you are probably loading your properties in the wrong way.","body":"With <code>#{}</code> it is an expression, with <code>${}</code> it is a placeholder for a value. The first expression you use will call a method/attribute on a bean called props, the one with the placeholder will try to locate a property named <code>props.isFPL</code> in the <code>Environment</code>. You should use the latter and you are probably loading your properties in the wrong way."},{"owner":{"account_id":182529,"reputation":6991,"user_id":417291,"accept_rate":71,"display_name":"Alex"},"score":0,"creation_date":1415906536,"post_id":26916598,"comment_id":42381994,"body_markdown":"Thank you. If I load properties in the wrong way why #{} picks up the correct value?","body":"Thank you. If I load properties in the wrong way why #{} picks up the correct value?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1415907394,"post_id":26916598,"comment_id":42382416,"body_markdown":"Because that is an expression not a placeholder. They are both evaluated in completely different ways.","body":"Because that is an expression not a placeholder. They are both evaluated in completely different ways."}],"answers":[{"tags":[],"owner":{"account_id":4823859,"reputation":648,"user_id":3893812,"display_name":"shi9"},"down_vote_count":0,"up_vote_count":63,"is_accepted":true,"score":63,"last_activity_date":1573072799,"creation_date":1415992608,"answer_id":26937282,"question_id":26916598,"body_markdown":"Try with `$`  as follows:\r\n\r\n    @Value(&quot;${props.isFPL:true}&quot;)\r\n    private boolean isFPL=false;\r\n    \r\nAlso make sure you set the `ignore-resource-no-found` to *true* so that if the property file is missing, the *default* value will be taken.\r\n\r\nPlace the following in the context file if using XML based configuration: \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;context:property-placeholder ignore-resource-not-found=&quot;true&quot;/&gt;\r\n\r\n\r\nIf using Java configurations:\r\n    \r\n     @Bean\r\n     public static PropertySourcesPlaceholderConfigurer   propertySourcesPlaceholderConfigurer() {\r\n    \t PropertySourcesPlaceholderConfigurer p =  new PropertySourcesPlaceholderConfigurer();\r\n    \t p.setIgnoreResourceNotFound(true);\r\n    \t\r\n        return p;\r\n     }\r\n","title":"How to correctly specify a default value in the Spring @Value annotation?","body":"<p>Try with <code>$</code>  as follows:</p>\n\n<pre><code>@Value(\"${props.isFPL:true}\")\nprivate boolean isFPL=false;\n</code></pre>\n\n<p>Also make sure you set the <code>ignore-resource-no-found</code> to <em>true</em> so that if the property file is missing, the <em>default</em> value will be taken.</p>\n\n<p>Place the following in the context file if using XML based configuration: </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;context:property-placeholder ignore-resource-not-found=\"true\"/&gt;\n</code></pre>\n\n<p>If using Java configurations:</p>\n\n<pre><code> @Bean\n public static PropertySourcesPlaceholderConfigurer   propertySourcesPlaceholderConfigurer() {\n     PropertySourcesPlaceholderConfigurer p =  new PropertySourcesPlaceholderConfigurer();\n     p.setIgnoreResourceNotFound(true);\n\n    return p;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":38480,"reputation":2169,"user_id":110452,"accept_rate":74,"display_name":"Mike Summers"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1468672512,"creation_date":1468672512,"answer_id":38411248,"question_id":26916598,"body_markdown":"Depends on how you&#39;re loading your properties, if you use something like\r\n\r\n   `&lt;context:property-placeholder location=&quot;classpath*:META-INF/spring/*.properties&quot; /&gt;`\r\n\r\nThen `@Value` should look like\r\n\r\n    @Value(&quot;${isFPL:true}&quot;)","title":"How to correctly specify a default value in the Spring @Value annotation?","body":"<p>Depends on how you're loading your properties, if you use something like</p>\n\n<p><code>&lt;context:property-placeholder location=\"classpath*:META-INF/spring/*.properties\" /&gt;</code></p>\n\n<p>Then <code>@Value</code> should look like</p>\n\n<pre><code>@Value(\"${isFPL:true}\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1621925,"reputation":41,"user_id":1498288,"display_name":"Kevin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1477649653,"creation_date":1477649653,"answer_id":40302911,"question_id":26916598,"body_markdown":"Does your Spring application context file contains more than one propertyPlaceholder beans like below:\r\n\r\n    &lt;context:property-placeholder ignore-resource-not-found=&quot;true&quot; ignore-unresolvable=&quot;true&quot; location=&quot;classpath*:/*.local.properties&quot; /&gt;\r\n    &lt;context:property-placeholder location=&quot;classpath:/config.properties&quot; /&gt;\r\n\r\nIf so, then property lookup for: *props.isFPL* will only take place for the first property file (*.local.properties*), if property not found, the default value (*true*) will take effect and the second property file (*config.properties*) is effectively ignored for this property.\r\n","title":"How to correctly specify a default value in the Spring @Value annotation?","body":"<p>Does your Spring application context file contains more than one propertyPlaceholder beans like below:</p>\n\n<pre><code>&lt;context:property-placeholder ignore-resource-not-found=\"true\" ignore-unresolvable=\"true\" location=\"classpath*:/*.local.properties\" /&gt;\n&lt;context:property-placeholder location=\"classpath:/config.properties\" /&gt;\n</code></pre>\n\n<p>If so, then property lookup for: <em>props.isFPL</em> will only take place for the first property file (<em>.local.properties</em>), if property not found, the default value (<em>true</em>) will take effect and the second property file (<em>config.properties</em>) is effectively ignored for this property.</p>\n"},{"tags":[],"owner":{"account_id":1462319,"reputation":697,"user_id":1376265,"display_name":"Kevin Liu"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1502091251,"creation_date":1499150811,"answer_id":44898744,"question_id":26916598,"body_markdown":"For `int` type variable:\r\n\r\n    @Value(&quot;${my.int.config: #{100}}&quot;)\r\n    int myIntConfig;\r\n\r\n\r\n**Note:** there is no space *before* the colon, but an extra space *after* the colon.","title":"How to correctly specify a default value in the Spring @Value annotation?","body":"<p>For <code>int</code> type variable:</p>\n\n<pre><code>@Value(\"${my.int.config: #{100}}\")\nint myIntConfig;\n</code></pre>\n\n<p><strong>Note:</strong> there is no space <em>before</em> the colon, but an extra space <em>after</em> the colon.</p>\n"},{"tags":[],"owner":{"account_id":451585,"reputation":4900,"user_id":847553,"accept_rate":86,"display_name":"Dave Richardson"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1501169152,"creation_date":1501169152,"answer_id":45355027,"question_id":26916598,"body_markdown":"For a String you can default to null like so:\r\n\r\n    public UrlTester(@Value(&quot;${testUrl:}&quot;) String url) {\r\n        this.url = url;\r\n    }\r\n\r\n\r\n","title":"How to correctly specify a default value in the Spring @Value annotation?","body":"<p>For a String you can default to null like so:</p>\n\n<pre><code>public UrlTester(@Value(\"${testUrl:}\") String url) {\n    this.url = url;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1054429,"reputation":59,"user_id":6397857,"display_name":"Kislay Verma"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1598421258,"creation_date":1598421258,"answer_id":63591277,"question_id":26916598,"body_markdown":"This way of defining defaults works only if we write &quot;value=...&quot; in the @Value annotation. e.g. \r\n\r\n**Does not work** : @Value(&quot;${testUrl:some-url}&quot; // This will always set &quot;some-url&quot; no matter what you do in the config file.\r\n\r\n**Works** : @Value(value = &quot;${testUrl:some-url}&quot; // This will set &quot;some-url&quot; only if testUrl property is missing in the config file.\r\n\r\n","title":"How to correctly specify a default value in the Spring @Value annotation?","body":"<p>This way of defining defaults works only if we write &quot;value=...&quot; in the @Value annotation. e.g.</p>\n<p><strong>Does not work</strong> : @Value(&quot;${testUrl:some-url}&quot; // This will always set &quot;some-url&quot; no matter what you do in the config file.</p>\n<p><strong>Works</strong> : @Value(value = &quot;${testUrl:some-url}&quot; // This will set &quot;some-url&quot; only if testUrl property is missing in the config file.</p>\n"},{"tags":[],"owner":{"account_id":10794010,"reputation":1606,"user_id":7940437,"display_name":"Majid Roustaei"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1637401037,"creation_date":1637400730,"answer_id":70044733,"question_id":26916598,"body_markdown":"The exact answer of your question depends on the ***type*** of the parameter.\r\n\r\nfor &#39;String&#39; parameters, your sample code works fine:\r\n\r\n    @Value(&quot;#{props.string.fpl:test}&quot;)\r\n    private String fpl = &quot;test&quot;;\r\n\r\nfor other types (like boolean in your question) it should be written in this way:\r\n\r\n    @Value(&quot;${props.boolean.isFPL:#{false}}&quot;)\r\n    private boolean isFPL = false;\r\n\r\nor for &#39;Integers&#39;:\r\n\r\n    @Value(&quot;${props.integer.fpl:#{20}}&quot;)","title":"How to correctly specify a default value in the Spring @Value annotation?","body":"<p>The exact answer of your question depends on the <em><strong>type</strong></em> of the parameter.</p>\n<p>for 'String' parameters, your sample code works fine:</p>\n<pre><code>@Value(&quot;#{props.string.fpl:test}&quot;)\nprivate String fpl = &quot;test&quot;;\n</code></pre>\n<p>for other types (like boolean in your question) it should be written in this way:</p>\n<pre><code>@Value(&quot;${props.boolean.isFPL:#{false}}&quot;)\nprivate boolean isFPL = false;\n</code></pre>\n<p>or for 'Integers':</p>\n<pre><code>@Value(&quot;${props.integer.fpl:#{20}}&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1693760,"reputation":9824,"user_id":1555615,"accept_rate":62,"display_name":"Marinos An"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685103797,"creation_date":1685103797,"answer_id":76340782,"question_id":26916598,"body_markdown":"If the default is a string specify like this:\r\n\r\n    @Value(&quot;${my.string.config: #{&#39;Default config value&#39;}}&quot;)\r\n    String myIntConfig;\r\n","title":"How to correctly specify a default value in the Spring @Value annotation?","body":"<p>If the default is a string specify like this:</p>\n<pre><code>@Value(&quot;${my.string.config: #{'Default config value'}}&quot;)\nString myIntConfig;\n</code></pre>\n"}],"owner":{"account_id":182529,"reputation":6991,"user_id":417291,"accept_rate":71,"display_name":"Alex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150633,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"accepted_answer_id":26937282,"answer_count":8,"score":64,"last_activity_date":1685103797,"creation_date":1415906026,"question_id":26916598,"body_markdown":"Initially, I have the following spec:\r\n\r\n    @Value(&quot;#{props.isFPL}&quot;)\r\n    private boolean isFPL=false;\r\n\r\nThis works fine correctly getting the value from the property file:\r\n\r\n    isFPL = true\r\nHowever, the following expression with default results in the error:\r\n\r\n    @Value(&quot;#{props.isFPL:false}&quot;)\r\n    private boolean isFPL=false;\r\n\r\n**Expression parsing failed; nested exception is org.springframework.expression.spel.SpelParseException: EL1041E:(pos 28): After parsing a valid expression, there is still more data in the expression: &#39;colon(:)&#39;**\r\n\r\n I also tried to use $ instead of #.  \r\n\r\n    @Value(&quot;${props.isFPL:true}&quot;)\r\n    private boolean isFPL=false;\r\n\r\n Then the default value in annotation works fine but I did not get the correct value from the Properties file:\r\n \r\n \r\n","title":"How to correctly specify a default value in the Spring @Value annotation?","body":"<p>Initially, I have the following spec:</p>\n\n<pre><code>@Value(\"#{props.isFPL}\")\nprivate boolean isFPL=false;\n</code></pre>\n\n<p>This works fine correctly getting the value from the property file:</p>\n\n<pre><code>isFPL = true\n</code></pre>\n\n<p>However, the following expression with default results in the error:</p>\n\n<pre><code>@Value(\"#{props.isFPL:false}\")\nprivate boolean isFPL=false;\n</code></pre>\n\n<p><strong>Expression parsing failed; nested exception is org.springframework.expression.spel.SpelParseException: EL1041E:(pos 28): After parsing a valid expression, there is still more data in the expression: 'colon(:)'</strong></p>\n\n<p>I also tried to use $ instead of #.  </p>\n\n<pre><code>@Value(\"${props.isFPL:true}\")\nprivate boolean isFPL=false;\n</code></pre>\n\n<p>Then the default value in annotation works fine but I did not get the correct value from the Properties file:</p>\n"},{"tags":["java","chaining"],"comments":[{"owner":{"account_id":1917072,"reputation":2291,"user_id":1729458,"display_name":"Strikegently"},"score":1,"creation_date":1600259716,"post_id":63920107,"comment_id":113030740,"body_markdown":"You pass `op` as an argument to every function. `op` is a blank string, so obviously it won&#39;t print anything.","body":"You pass <code>op</code> as an argument to every function. <code>op</code> is a blank string, so obviously it won&#39;t print anything."},{"owner":{"account_id":2328447,"reputation":525,"user_id":2042389,"display_name":"NickyPatel"},"score":0,"creation_date":1600260579,"post_id":63920107,"comment_id":113031265,"body_markdown":":) thanks for the prompt answer. :( for decreasing\nthat is fine do we have any better solution for the same problem","body":":) thanks for the prompt answer. :( for decreasing that is fine do we have any better solution for the same problem"},{"owner":{"account_id":2328447,"reputation":525,"user_id":2042389,"display_name":"NickyPatel"},"score":0,"creation_date":1600261818,"post_id":63920107,"comment_id":113031954,"body_markdown":"I tried assigning the value to op from each method but now the issue is : it is showing the sop from the method correct but it is showing op value at the end of the method as test1test12test123test1234. which is confusing.","body":"I tried assigning the value to op from each method but now the issue is : it is showing the sop from the method correct but it is showing op value at the end of the method as test1test12test123test1234. which is confusing."}],"answers":[{"tags":[],"owner":{"account_id":2328447,"reputation":525,"user_id":2042389,"display_name":"NickyPatel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685103770,"creation_date":1600669263,"answer_id":63987110,"question_id":63920107,"body_markdown":"I have found the solution. I developed below code to solve it. Please let me know if anybody is having a better solution for this.\r\n\r\n    public class Perform {\r\n    \r\n    \tprivate static List&lt;Integer&gt; SamsungMethodExecution = Arrays.asList(1,3,5,7);\r\n    \tprivate static List&lt;Integer&gt; NokiaMethodExecution = Arrays.asList(2,4,6,8);\r\n    \tprivate static List&lt;Integer&gt; LgMethodExecution = Arrays.asList(1,5,9,10);\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    \t\t\r\n    \t\tlist.add(&quot;Lgmsg&quot;);\r\n    \t\tlist.add(&quot;Samsungmsg&quot;);\r\n    \t\tlist.add(&quot;Nokiamsg&quot;);\r\n    \t\tlist.add(&quot;Lgmsg&quot;);\r\n    \t\tlist.add(&quot;Samsungmsg&quot;);\r\n    \t\tlist.add(&quot;Nokiamsg&quot;);\r\n    \t\tlist.add(&quot;Lgmsg&quot;);\r\n    \t\tlist.add(&quot;Samsungmsg&quot;);\r\n    \t\tlist.add(&quot;Nokiamsg&quot;);\r\n    //\t\t\r\n    \t\tprocess(list);\r\n    \t}\r\n    \t\r\n    \tpublic static void process(List&lt;String&gt; list)\r\n    \t{\r\n    \t\tfor(String str: list)\r\n    \t\t{\r\n    \t\t\tif(str.startsWith(&quot;Samsung&quot;))\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;SAMSUNG======================================&quot;);\r\n    \t\t\t\tProcess.process(SamsungMethodExecution, str.replace(&quot;Samsung&quot;, &quot;&quot;));\r\n    \t\t\t\tSystem.out.println(&quot;SAMSUNG======================================&quot;);\r\n    \t\t\t\tSystem.out.println();\r\n    \t\t\t}else if(str.startsWith(&quot;Nokia&quot;))\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;NOKIA========================================&quot;);\r\n    \t\t\t\tProcess.process(NokiaMethodExecution, str.replace(&quot;Nokia&quot;, &quot;&quot;));\r\n    \t\t\t\tSystem.out.println(&quot;NOKIA========================================&quot;);\r\n    \t\t\t\tSystem.out.println();\r\n    \t\t\t}else\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;LG===========================================&quot;);\r\n    \t\t\t\tProcess.process(LgMethodExecution, str.replace(&quot;Lg&quot;, &quot;&quot;));\r\n    \t\t\t\tSystem.out.println(&quot;LG===========================================&quot;);\r\n    \t\t\t\tSystem.out.println();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    public class Process {\r\n    \t\r\n    \tpublic static String process(List&lt;Integer&gt; processList, String msg) {\r\n    \t\tString output = &quot;&quot;;\r\n    \t\tfor(int i: processList)\r\n    \t\t{\r\n    \t\t\tswitch(i)\r\n    \t\t\t{\r\n    \t\t\t\tcase 1:\r\n    \t\t\t\t\toutput = Process.process1(msg); break;\r\n    \t\t\t\tcase 2:\r\n    \t\t\t\t\toutput = Process.process2(msg); break;\r\n    \t\t\t\tcase 3:\r\n    \t\t\t\t\toutput = Process.process3(msg); break;\r\n    \t\t\t\tcase 4:\r\n    \t\t\t\t\toutput = Process.process4(msg); break;\r\n    \t\t\t\tcase 5:\r\n    \t\t\t\t\toutput = Process.process5(msg); break;\r\n    \t\t\t\tcase 6:\r\n    \t\t\t\t\toutput = Process.process6(msg); break;\r\n    \t\t\t\tcase 7:\r\n    \t\t\t\t\toutput = Process.process7(msg); break;\r\n    \t\t\t\tcase 8:\r\n    \t\t\t\t\toutput = Process.process8(msg); break;\r\n    \t\t\t\tcase 9:\r\n    \t\t\t\t\toutput = Process.process9(msg); break;\r\n    \t\t\t\tcase 10:\r\n    \t\t\t\t\toutput = Process.process10(msg); break;\r\n    \t\t\t\tdefault :\r\n    \t\t\t\t\tSystem.out.println(&quot;Sorry, no specific match found&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn output;\r\n    \t}\r\n    \r\n    \tpublic static String process1(String msg)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;process1: &quot;+msg);\r\n    \t\treturn msg;\r\n    \t}\r\n    \tpublic static String process2(String msg)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;process2: &quot;+msg);\r\n    \t\treturn msg;\r\n    \t}\r\n    \tpublic static String process3(String msg)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;process3: &quot;+msg);\r\n    \t\treturn msg;\r\n    \t}\r\n    \tpublic static String process4(String msg)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;process4: &quot;+msg);\r\n    \t\treturn msg;\r\n    \t}\r\n    \tpublic static String process5(String msg)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;process5: &quot;+msg);\r\n    \t\treturn msg;\r\n    \t}\r\n    \tpublic static String process6(String msg)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;process6: &quot;+msg);\r\n    \t\treturn msg;\r\n    \t}\r\n    \tpublic static String process7(String msg)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;process7: &quot;+msg);\r\n    \t\treturn msg;\r\n    \t}\r\n    \tpublic static String process8(String msg)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;process8: &quot;+msg);\r\n    \t\treturn msg;\r\n    \t}\r\n    \tpublic static String process9(String msg)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;process9: &quot;+msg);\r\n    \t\treturn msg;\r\n    \t}\r\n    \tpublic static String process10(String msg)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;process10: &quot;+msg);\r\n    \t\treturn msg;\r\n    \t}\r\n    }\r\n\r\nTwo classes one is main class and another is Process class which is having a actual logic.\r\n","title":"multiple method execution with same input processed","body":"<p>I have found the solution. I developed below code to solve it. Please let me know if anybody is having a better solution for this.</p>\n<pre><code>public class Perform {\n\n    private static List&lt;Integer&gt; SamsungMethodExecution = Arrays.asList(1,3,5,7);\n    private static List&lt;Integer&gt; NokiaMethodExecution = Arrays.asList(2,4,6,8);\n    private static List&lt;Integer&gt; LgMethodExecution = Arrays.asList(1,5,9,10);\n    \n    \n    public static void main(String[] args) {\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\n        \n        list.add(&quot;Lgmsg&quot;);\n        list.add(&quot;Samsungmsg&quot;);\n        list.add(&quot;Nokiamsg&quot;);\n        list.add(&quot;Lgmsg&quot;);\n        list.add(&quot;Samsungmsg&quot;);\n        list.add(&quot;Nokiamsg&quot;);\n        list.add(&quot;Lgmsg&quot;);\n        list.add(&quot;Samsungmsg&quot;);\n        list.add(&quot;Nokiamsg&quot;);\n//      \n        process(list);\n    }\n    \n    public static void process(List&lt;String&gt; list)\n    {\n        for(String str: list)\n        {\n            if(str.startsWith(&quot;Samsung&quot;))\n            {\n                System.out.println(&quot;SAMSUNG======================================&quot;);\n                Process.process(SamsungMethodExecution, str.replace(&quot;Samsung&quot;, &quot;&quot;));\n                System.out.println(&quot;SAMSUNG======================================&quot;);\n                System.out.println();\n            }else if(str.startsWith(&quot;Nokia&quot;))\n            {\n                System.out.println(&quot;NOKIA========================================&quot;);\n                Process.process(NokiaMethodExecution, str.replace(&quot;Nokia&quot;, &quot;&quot;));\n                System.out.println(&quot;NOKIA========================================&quot;);\n                System.out.println();\n            }else\n            {\n                System.out.println(&quot;LG===========================================&quot;);\n                Process.process(LgMethodExecution, str.replace(&quot;Lg&quot;, &quot;&quot;));\n                System.out.println(&quot;LG===========================================&quot;);\n                System.out.println();\n            }\n        }\n    }\n\npublic class Process {\n    \n    public static String process(List&lt;Integer&gt; processList, String msg) {\n        String output = &quot;&quot;;\n        for(int i: processList)\n        {\n            switch(i)\n            {\n                case 1:\n                    output = Process.process1(msg); break;\n                case 2:\n                    output = Process.process2(msg); break;\n                case 3:\n                    output = Process.process3(msg); break;\n                case 4:\n                    output = Process.process4(msg); break;\n                case 5:\n                    output = Process.process5(msg); break;\n                case 6:\n                    output = Process.process6(msg); break;\n                case 7:\n                    output = Process.process7(msg); break;\n                case 8:\n                    output = Process.process8(msg); break;\n                case 9:\n                    output = Process.process9(msg); break;\n                case 10:\n                    output = Process.process10(msg); break;\n                default :\n                    System.out.println(&quot;Sorry, no specific match found&quot;);\n            }\n        }\n        return output;\n    }\n\n    public static String process1(String msg)\n    {\n        System.out.println(&quot;process1: &quot;+msg);\n        return msg;\n    }\n    public static String process2(String msg)\n    {\n        System.out.println(&quot;process2: &quot;+msg);\n        return msg;\n    }\n    public static String process3(String msg)\n    {\n        System.out.println(&quot;process3: &quot;+msg);\n        return msg;\n    }\n    public static String process4(String msg)\n    {\n        System.out.println(&quot;process4: &quot;+msg);\n        return msg;\n    }\n    public static String process5(String msg)\n    {\n        System.out.println(&quot;process5: &quot;+msg);\n        return msg;\n    }\n    public static String process6(String msg)\n    {\n        System.out.println(&quot;process6: &quot;+msg);\n        return msg;\n    }\n    public static String process7(String msg)\n    {\n        System.out.println(&quot;process7: &quot;+msg);\n        return msg;\n    }\n    public static String process8(String msg)\n    {\n        System.out.println(&quot;process8: &quot;+msg);\n        return msg;\n    }\n    public static String process9(String msg)\n    {\n        System.out.println(&quot;process9: &quot;+msg);\n        return msg;\n    }\n    public static String process10(String msg)\n    {\n        System.out.println(&quot;process10: &quot;+msg);\n        return msg;\n    }\n}\n</code></pre>\n<p>Two classes one is main class and another is Process class which is having a actual logic.</p>\n"}],"owner":{"account_id":2328447,"reputation":525,"user_id":2042389,"display_name":"NickyPatel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":63987110,"answer_count":1,"score":-1,"last_activity_date":1685103770,"creation_date":1600259348,"question_id":63920107,"body_markdown":"warm greetings.\r\n\r\nI am having a scenario that i have 10 methods i.e. process1, process2..., process10\r\naccording to input i need to execute few methods out of 10 in specific order.\r\n1)1,3,5,7\r\n2)2,4,6,8\r\n3)1,5,9,10\r\n\r\nwhatever order i am executing, output of 1st method should be used as the input of second method and so on.\r\n\r\ni searched a lot in internet but didn&#39;t found anything suitable. I started doing below code.\r\nas of now i am using concat method of java to achieve this.\r\n\r\n    public class Perform {\r\n    \r\n    \tstatic String op = &quot;&quot;;\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\t\tprocess(list);\r\n    \t}\r\n    \t\r\n    \tpublic static void process(List&lt;String&gt; list)\r\n    \t{\r\n    \r\n    \t\tfor(String str: list)\r\n    \t\t{\r\n    \t\t\tif(str.startsWith(&quot;Samsung&quot;))\r\n    \t\t\t{\r\n    process1(&quot;test&quot;).concat(process2(op).concat(process3(op)).concat(process4(op)));\r\n    \r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static String process1(String str)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;process1 start&quot;);\r\n    \t\tSystem.out.println(&quot;str1:&quot;+str);\r\n    \t\tSystem.out.println(&quot;process1 end&quot;);\r\n    \t\treturn str+&quot;1&quot;;\r\n    \t}\r\n    \tpublic static String process2(String str)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;process2 start&quot;);\r\n    \t\tSystem.out.println(&quot;str2:&quot;+str);\r\n    \t\tSystem.out.println(&quot;process2 end&quot;);\r\n    \t\treturn str+&quot;2&quot;;\r\n    \t}\r\n    \tpublic static String process3(String str)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;process3 start&quot;);\r\n    \t\tSystem.out.println(&quot;str3:&quot;+str);\r\n    \t\tSystem.out.println(&quot;process3 end&quot;);\r\n    \t\treturn str+&quot;3&quot;;\r\n    \t}\r\n    \tpublic static String process4(String str)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;process4 start&quot;);\r\n    \t\tSystem.out.println(&quot;str4:&quot;+str);\r\n    \t\tSystem.out.println(&quot;process4 end&quot;);\r\n    \t\treturn str+&quot;4&quot;;\r\n    \t}\r\n    }\r\n\r\noutput :\r\n\r\nprocess1 start\r\n\r\nstr1:test\r\n\r\nprocess1 end\r\n\r\nprocess2 start\r\n\r\nstr2:\r\n\r\nop :\r\n\r\nprocess2 end\r\n\r\nprocess3 start\r\n\r\nstr3:\r\n\r\nprocess3 end\r\n\r\nprocess4 start\r\n\r\nstr4:\r\n\r\nprocess4 end\r\n\r\nop:test1234\r\n\r\nthe answer is expected and processing all 4 methods but the issue is : it is not printing the value of &quot;str&quot; which is the parameter. why ?\r\n\r\nif i am keeping the code\r\n\r\n    op = process1(&quot;test&quot;);\r\n    op = process2(op);\r\n    op = process3(op);\r\n    op = process4(op);\r\n\r\nin place of \r\n\r\n    process1(&quot;test&quot;).concat(process2(op).concat(process3(op)).concat(process4(op)));\r\n\r\nthen it is printing the value of str which is an parameter.\r\n\r\nPlease answer the question from below code as well as suggest me some good code for this scenario.","title":"multiple method execution with same input processed","body":"<p>warm greetings.</p>\n<p>I am having a scenario that i have 10 methods i.e. process1, process2..., process10\naccording to input i need to execute few methods out of 10 in specific order.\n1)1,3,5,7\n2)2,4,6,8\n3)1,5,9,10</p>\n<p>whatever order i am executing, output of 1st method should be used as the input of second method and so on.</p>\n<p>i searched a lot in internet but didn't found anything suitable. I started doing below code.\nas of now i am using concat method of java to achieve this.</p>\n<pre><code>public class Perform {\n\n    static String op = &quot;&quot;;\n    \n    public static void main(String[] args) {\n                process(list);\n    }\n    \n    public static void process(List&lt;String&gt; list)\n    {\n\n        for(String str: list)\n        {\n            if(str.startsWith(&quot;Samsung&quot;))\n            {\nprocess1(&quot;test&quot;).concat(process2(op).concat(process3(op)).concat(process4(op)));\n\n            }\n        }\n    }\n    \n    public static String process1(String str)\n    {\n        System.out.println(&quot;process1 start&quot;);\n        System.out.println(&quot;str1:&quot;+str);\n        System.out.println(&quot;process1 end&quot;);\n        return str+&quot;1&quot;;\n    }\n    public static String process2(String str)\n    {\n        System.out.println(&quot;process2 start&quot;);\n        System.out.println(&quot;str2:&quot;+str);\n        System.out.println(&quot;process2 end&quot;);\n        return str+&quot;2&quot;;\n    }\n    public static String process3(String str)\n    {\n        System.out.println(&quot;process3 start&quot;);\n        System.out.println(&quot;str3:&quot;+str);\n        System.out.println(&quot;process3 end&quot;);\n        return str+&quot;3&quot;;\n    }\n    public static String process4(String str)\n    {\n        System.out.println(&quot;process4 start&quot;);\n        System.out.println(&quot;str4:&quot;+str);\n        System.out.println(&quot;process4 end&quot;);\n        return str+&quot;4&quot;;\n    }\n}\n</code></pre>\n<p>output :</p>\n<p>process1 start</p>\n<p>str1:test</p>\n<p>process1 end</p>\n<p>process2 start</p>\n<p>str2:</p>\n<p>op :</p>\n<p>process2 end</p>\n<p>process3 start</p>\n<p>str3:</p>\n<p>process3 end</p>\n<p>process4 start</p>\n<p>str4:</p>\n<p>process4 end</p>\n<p>op:test1234</p>\n<p>the answer is expected and processing all 4 methods but the issue is : it is not printing the value of &quot;str&quot; which is the parameter. why ?</p>\n<p>if i am keeping the code</p>\n<pre><code>op = process1(&quot;test&quot;);\nop = process2(op);\nop = process3(op);\nop = process4(op);\n</code></pre>\n<p>in place of</p>\n<pre><code>process1(&quot;test&quot;).concat(process2(op).concat(process3(op)).concat(process4(op)));\n</code></pre>\n<p>then it is printing the value of str which is an parameter.</p>\n<p>Please answer the question from below code as well as suggest me some good code for this scenario.</p>\n"},{"tags":["java","azure","keycloak"],"comments":[{"owner":{"account_id":1535526,"reputation":628,"user_id":1431690,"accept_rate":60,"display_name":"nettie"},"score":0,"creation_date":1685111488,"post_id":76340723,"comment_id":134620337,"body_markdown":"Did you check that the certs are in the right path on the linux VMs?","body":"Did you check that the certs are in the right path on the linux VMs?"},{"owner":{"account_id":28685708,"reputation":1,"user_id":21966039,"display_name":"Sreejith R"},"score":0,"creation_date":1685356879,"post_id":76340723,"comment_id":134644857,"body_markdown":"Yes, I have put all the certs in /etc/pki/ca-trust/source/anchors/","body":"Yes, I have put all the certs in /etc/pki/ca-trust/source/anchors/"},{"owner":{"account_id":1535526,"reputation":628,"user_id":1431690,"accept_rate":60,"display_name":"nettie"},"score":0,"creation_date":1685562911,"post_id":76340723,"comment_id":134679405,"body_markdown":"Be sure to check cert file perms and ownership. You may have to restart web server after installing new certificates. Check your logs.","body":"Be sure to check cert file perms and ownership. You may have to restart web server after installing new certificates. Check your logs."}],"owner":{"account_id":28685708,"reputation":1,"user_id":21966039,"display_name":"Sreejith R"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685103438,"creation_date":1685103301,"question_id":76340723,"body_markdown":"We have configured keycloak version 21.0.1 under Azure load balancer with 2 Linux virtual machines  and it is using the same database. While authenticating using Microsoft Identity Provider it works sometimes and getting error sometimes. Your help is much appreciated.\r\nThanks you!\r\n\r\n\r\nWhen I tried to login to keycloak using Microsoft account we are getting the below error\r\n`2023-05-26 11:33:42,120 ERROR [org.keycloak.broker.oidc.AbstractOAuth2IdentityProvider] (executor-thread-6) Failed to make identity provider oauth callback: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n        at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439)\r\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n        at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:146)\r\n`","title":"Keycloak Error while authenticating with Microsoft Identity Provider","body":"<p>We have configured keycloak version 21.0.1 under Azure load balancer with 2 Linux virtual machines  and it is using the same database. While authenticating using Microsoft Identity Provider it works sometimes and getting error sometimes. Your help is much appreciated.\nThanks you!</p>\n<p>When I tried to login to keycloak using Microsoft account we are getting the below error\n<code>2023-05-26 11:33:42,120 ERROR [org.keycloak.broker.oidc.AbstractOAuth2IdentityProvider] (executor-thread-6) Failed to make identity provider oauth callback: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131) Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439) Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:146) </code></p>\n"},{"tags":["java","spring","hibernate","hql"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1685104117,"post_id":76340676,"comment_id":134618557,"body_markdown":"Is using JPA repository an option for you? It provides many auto-generated filter methods and has a solution for ambiguous field names. Using underscore.","body":"Is using JPA repository an option for you? It provides many auto-generated filter methods and has a solution for ambiguous field names. Using underscore."},{"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"score":0,"creation_date":1685105401,"post_id":76340676,"comment_id":134618876,"body_markdown":"Can you provide the declaration of `Schedule` entity?","body":"Can you provide the declaration of <code>Schedule</code> entity?"}],"owner":{"account_id":1280245,"reputation":11,"user_id":1234505,"display_name":"Edgars"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685103438,"creation_date":1685102951,"question_id":76340676,"body_markdown":"I&#39;m updating our applications from hibernate v5 to v6. This requires us to change our data access layer to use JPA queries instead of the hibernateTemplate ones we&#39;ve had before (I know...).\r\n\r\nAn issue I&#39;m running into is that the compiled SQL has automatically translated column names so filtering is a problem. For instance, I have a table &quot;Schedule&quot; with a primary key &#39;uuid&#39; as well as another column called &#39;id&#39;. \r\n\r\n\r\nSo a query like:\r\n\r\n```\r\nfrom Schedule where id = :scheduleId and sourceId = :sourceId&quot;\r\n```\r\n\r\nResults in actual SQL like: \r\n\r\n```\r\n    select\r\n        s1_0.uuid,\r\n        s1_0.name,\r\n        ...\r\n        s1_0.id,\r\n        s1_0.sourceId,\r\n    from\r\n        Schedule s1_0 \r\n    where\r\n        s1_0.uuid=? \r\n        and s1_0.sourceId=? \r\n```\r\nWhere as I would expect it to look like:\r\n\r\n```\r\n    select\r\n        s1_0.uuid,\r\n        s1_0.name,\r\n        ...\r\n        s1_0.id,\r\n        s1_0.sourceId,\r\n    from\r\n        Schedule s1_0 \r\n    where\r\n        s1_0.id=? \r\n        and s1_0.sourceId=? \r\n```\r\n\r\nAs you can see the `id` filter is translated to the primary key column name. This does not happen if we filter for other columns such as `name`. Is there any way to prevent HQL/Hibernate/JPA from doing this? For multiple reasons, we do not want to change any column names so that&#39;s not really an option.","title":"How to prevent Hibernate/JPA from translating column names in HQL queries?","body":"<p>I'm updating our applications from hibernate v5 to v6. This requires us to change our data access layer to use JPA queries instead of the hibernateTemplate ones we've had before (I know...).</p>\n<p>An issue I'm running into is that the compiled SQL has automatically translated column names so filtering is a problem. For instance, I have a table &quot;Schedule&quot; with a primary key 'uuid' as well as another column called 'id'.</p>\n<p>So a query like:</p>\n<pre><code>from Schedule where id = :scheduleId and sourceId = :sourceId&quot;\n</code></pre>\n<p>Results in actual SQL like:</p>\n<pre><code>    select\n        s1_0.uuid,\n        s1_0.name,\n        ...\n        s1_0.id,\n        s1_0.sourceId,\n    from\n        Schedule s1_0 \n    where\n        s1_0.uuid=? \n        and s1_0.sourceId=? \n</code></pre>\n<p>Where as I would expect it to look like:</p>\n<pre><code>    select\n        s1_0.uuid,\n        s1_0.name,\n        ...\n        s1_0.id,\n        s1_0.sourceId,\n    from\n        Schedule s1_0 \n    where\n        s1_0.id=? \n        and s1_0.sourceId=? \n</code></pre>\n<p>As you can see the <code>id</code> filter is translated to the primary key column name. This does not happen if we filter for other columns such as <code>name</code>. Is there any way to prevent HQL/Hibernate/JPA from doing this? For multiple reasons, we do not want to change any column names so that's not really an option.</p>\n"},{"tags":["java","elasticsearch","java-client"],"comments":[{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1685073092,"post_id":76335430,"comment_id":134613279,"body_markdown":"Which version of ES are you running?","body":"Which version of ES are you running?"},{"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"score":0,"creation_date":1685094595,"post_id":76335430,"comment_id":134616683,"body_markdown":"Running version of ES is 8.7.0","body":"Running version of ES is 8.7.0"},{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1685097419,"post_id":76335430,"comment_id":134617270,"body_markdown":"Can you try without the `fields` and `stored_field` sections?","body":"Can you try without the <code>fields</code> and <code>stored_field</code> sections?"},{"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"score":0,"creation_date":1685098751,"post_id":76335430,"comment_id":134617505,"body_markdown":"So, looks like the issues is that `stored_field` should be `stored_fields`. Is that a bug in the ES client library? It is interesting that I got more details out of Kibana then the java client stack trace. I will have to remember that.","body":"So, looks like the issues is that <code>stored_field</code> should be <code>stored_fields</code>. Is that a bug in the ES client library? It is interesting that I got more details out of Kibana then the java client stack trace. I will have to remember that."},{"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"score":0,"creation_date":1685100169,"post_id":76335430,"comment_id":134617780,"body_markdown":"https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.7.0/co/elastic/clients/elasticsearch/core/search/InnerHits.html#storedField()","body":"<a href=\"https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.7.0/co/elastic/clients/elasticsearch/core/search/InnerHits.html#storedField()\" rel=\"nofollow noreferrer\">artifacts.elastic.co/javadoc/co/elastic/clients/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685102283,"creation_date":1685102283,"answer_id":76340585,"question_id":76335430,"body_markdown":"The correct name is indeed [`stored_fields`](https://www.elastic.co/guide/en/elasticsearch/reference/8.8/search-fields.html#stored-fields) and not `stored_field`.\r\n\r\nThere&#39;s an open issue for this: https://github.com/elastic/elasticsearch-java/issues/409 and while it seems to be fixed, it&#39;s not merged yet.","title":"Parse_exception: collapse failed to parse field inner_hits","body":"<p>The correct name is indeed <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/8.8/search-fields.html#stored-fields\" rel=\"nofollow noreferrer\"><code>stored_fields</code></a> and not <code>stored_field</code>.</p>\n<p>There's an open issue for this: <a href=\"https://github.com/elastic/elasticsearch-java/issues/409\" rel=\"nofollow noreferrer\">https://github.com/elastic/elasticsearch-java/issues/409</a> and while it seems to be fixed, it's not merged yet.</p>\n"}],"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76340585,"answer_count":1,"score":0,"last_activity_date":1685102283,"creation_date":1685040800,"question_id":76335430,"body_markdown":"Using the javaclient doing inner_hits inside a collapse, I am getting this error:\r\n`Caused by: co.elastic.clients.elasticsearch._types.ElasticsearchException: [es/search] failed: [x_content_parse_exception] [1:500] [collapse] failed to parse field [inner_hits]`\r\n\r\nMy code:\r\n```\r\n      FieldCollapse.Builder builder = new FieldCollapse.Builder() //\r\n          .field(collapse.getField());\r\n\r\n      if (collapse.getInnerHits() != null) {\r\n        List&lt;InnerHits&gt; innerHits = getInnerHitsBuilderList(collapse.getInnerHits());\r\n        builder.innerHits(innerHits);\r\n      }\r\n      return Optional.of(builder.build());\r\n```\r\nand:\r\n```\r\n\r\n        InnerHits.Builder builder = new InnerHits.Builder().name(innerHit.getName());\r\n\r\n        NullOrEmpty.optional(innerHit.getFetchFields())\r\n            .ifPresent(p -&gt; builder.fields(Lists.mutable.ofAll(p)));\r\n        NullOrEmpty.optional(innerHit.getStoredFields())\r\n            .ifPresent(p -&gt; builder.storedField(Lists.mutable.ofAll(p)));\r\n```\r\n\r\nThe collapse portion of the query:\r\n```\r\n&quot;collapse&quot;: {\r\n    &quot;field&quot;: &quot;fielda.innerFieldb&quot;,\r\n    &quot;inner_hits&quot;: [\r\n      {\r\n        &quot;name&quot;: &quot;Topics&quot;,\r\n        &quot;size&quot;: 100,\r\n        &quot;collapse&quot;: {\r\n          &quot;field&quot;: &quot;topic.topicId&quot;\r\n        },\r\n        &quot;fields&quot;: [\r\n          &quot;topic.shortName&quot;\r\n        ],\r\n        &quot;stored_field&quot;: [\r\n          &quot;topic.shortName&quot;\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n```\r\n\r\nThe interesting thing here is that the documentation for collapse lists inner_hits as an object (not an array):\r\nhttps://www.elastic.co/guide/en/elasticsearch/reference/8.8/collapse-search-results.html\r\n```\r\n&quot;collapse&quot;: {\r\n    &quot;field&quot;: &quot;user.id&quot;,                       \r\n    &quot;inner_hits&quot;: {\r\n      &quot;name&quot;: &quot;most_recent&quot;,                  \r\n      &quot;size&quot;: 5,                              \r\n      &quot;sort&quot;: [ { &quot;@timestamp&quot;: &quot;desc&quot; } ]    \r\n    },\r\n    &quot;max_concurrent_group_searches&quot;: 4        \r\n  }\r\n```\r\n\r\nAnd yet the code of the [FieldCollapse]( https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.8.0/co/elastic/clients/elasticsearch/core/search/FieldCollapse.html) class has a `List&lt;InnerHits&gt;`\r\n\r\nSo, what am I doing wrong?","title":"Parse_exception: collapse failed to parse field inner_hits","body":"<p>Using the javaclient doing inner_hits inside a collapse, I am getting this error:\n<code>Caused by: co.elastic.clients.elasticsearch._types.ElasticsearchException: [es/search] failed: [x_content_parse_exception] [1:500] [collapse] failed to parse field [inner_hits]</code></p>\n<p>My code:</p>\n<pre><code>      FieldCollapse.Builder builder = new FieldCollapse.Builder() //\n          .field(collapse.getField());\n\n      if (collapse.getInnerHits() != null) {\n        List&lt;InnerHits&gt; innerHits = getInnerHitsBuilderList(collapse.getInnerHits());\n        builder.innerHits(innerHits);\n      }\n      return Optional.of(builder.build());\n</code></pre>\n<p>and:</p>\n<pre><code>\n        InnerHits.Builder builder = new InnerHits.Builder().name(innerHit.getName());\n\n        NullOrEmpty.optional(innerHit.getFetchFields())\n            .ifPresent(p -&gt; builder.fields(Lists.mutable.ofAll(p)));\n        NullOrEmpty.optional(innerHit.getStoredFields())\n            .ifPresent(p -&gt; builder.storedField(Lists.mutable.ofAll(p)));\n</code></pre>\n<p>The collapse portion of the query:</p>\n<pre><code>&quot;collapse&quot;: {\n    &quot;field&quot;: &quot;fielda.innerFieldb&quot;,\n    &quot;inner_hits&quot;: [\n      {\n        &quot;name&quot;: &quot;Topics&quot;,\n        &quot;size&quot;: 100,\n        &quot;collapse&quot;: {\n          &quot;field&quot;: &quot;topic.topicId&quot;\n        },\n        &quot;fields&quot;: [\n          &quot;topic.shortName&quot;\n        ],\n        &quot;stored_field&quot;: [\n          &quot;topic.shortName&quot;\n        ]\n      }\n    ]\n  }\n</code></pre>\n<p>The interesting thing here is that the documentation for collapse lists inner_hits as an object (not an array):\n<a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/8.8/collapse-search-results.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/8.8/collapse-search-results.html</a></p>\n<pre><code>&quot;collapse&quot;: {\n    &quot;field&quot;: &quot;user.id&quot;,                       \n    &quot;inner_hits&quot;: {\n      &quot;name&quot;: &quot;most_recent&quot;,                  \n      &quot;size&quot;: 5,                              \n      &quot;sort&quot;: [ { &quot;@timestamp&quot;: &quot;desc&quot; } ]    \n    },\n    &quot;max_concurrent_group_searches&quot;: 4        \n  }\n</code></pre>\n<p>And yet the code of the <a href=\"https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.8.0/co/elastic/clients/elasticsearch/core/search/FieldCollapse.html\" rel=\"nofollow noreferrer\">FieldCollapse</a> class has a <code>List&lt;InnerHits&gt;</code></p>\n<p>So, what am I doing wrong?</p>\n"},{"tags":["java","android","xml"],"owner":{"account_id":18681430,"reputation":41,"user_id":13617861,"display_name":"Karmesh Duggar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685102238,"creation_date":1685102238,"question_id":76340580,"body_markdown":"I Have implemented line graph like this,\r\n\r\n    &lt;LinearLayout\r\n                    android:id=&quot;@+id/ll_graph_container&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;@dimen/_138sdp&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/tv_day_percentage&quot;&gt;\r\n    \r\n                    &lt;com.github.mikephil.charting.charts.LineChart\r\n                        android:id=&quot;@+id/chart&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;match_parent&quot;\r\n                        android:background=&quot;@android:color/transparent&quot;\r\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                        tools:ignore=&quot;MissingConstraints&quot; /&gt;\r\n    \r\n                &lt;/LinearLayout&gt;\r\n\r\n\r\nI want that a circle should shown like this where this vertical line is intersecting the graph like this \r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut right now i am not able to get this circle.. how can i render the circle where vertical line is intersecting with graph \r\n\r\n[![enter image description here][2]][2]\r\n\r\nthis is the custom marker view i am using \r\n\r\n    public class MfMarkerView extends MarkerView {\r\n    \r\n        private final TextView tvTitle;\r\n        private final TextView tvSubTitle;\r\n        private final ImageView ivMiddle;\r\n        private final ImageView ivLeft;\r\n        private final ImageView ivRight;\r\n        private final List&lt;NavHistory&gt; navHistoryList;\r\n    \r\n        DecimalFormat decimalFormat = new DecimalFormat(&quot;#.##&quot;);\r\n    \r\n        public MfMarkerView(Context context, int layoutResource, List&lt;NavHistory&gt; navHistoryList) {\r\n            super(context, layoutResource);\r\n    \r\n            tvTitle = findViewById(R.id.tvTitle);\r\n            tvSubTitle = findViewById(R.id.tvSubTitle);\r\n            ivMiddle = findViewById(R.id.iv_middle);\r\n            ivLeft = findViewById(R.id.iv_left);\r\n            ivRight = findViewById(R.id.iv_right);\r\n            this.navHistoryList = navHistoryList;\r\n        }\r\n    \r\n        @SuppressLint(&quot;SetTextI18n&quot;)\r\n        @Override\r\n        public void refreshContent(Entry e, Highlight highlight) {\r\n            try {\r\n                String value;\r\n                if (e instanceof CandleEntry) {\r\n                    CandleEntry ce = (CandleEntry) e;\r\n                    value = String.valueOf(ce.getHigh());\r\n                } else {\r\n                    value = String.valueOf(e.getY());\r\n                }\r\n    \r\n                if (e.getX() &lt; 200) {\r\n                    ivLeft.setVisibility(View.VISIBLE);\r\n                    ivMiddle.setVisibility(View.GONE);\r\n                    ivRight.setVisibility(View.GONE);\r\n                } else if (e.getX() &gt; 200 &amp;&amp; e.getX() &lt; 900) {\r\n                    ivLeft.setVisibility(View.GONE);\r\n                    ivMiddle.setVisibility(View.VISIBLE);\r\n                    ivRight.setVisibility(View.GONE);\r\n                } else {\r\n                    ivLeft.setVisibility(View.GONE);\r\n                    ivMiddle.setVisibility(View.GONE);\r\n                    ivRight.setVisibility(View.VISIBLE);\r\n                }\r\n    \r\n                String navDate = getDateFromNav(value);\r\n                if (!navDate.isEmpty()) {\r\n                    String formattedDate = DateTimeUtils.getFormattedDate(navDate);\r\n                    String displayText = Constants.RUPEES + &quot; &quot; + value;\r\n                    tvTitle.setText(displayText);\r\n                    tvSubTitle.setText(&quot;NAV as on &quot; + formattedDate);\r\n                }\r\n            } catch (NullPointerException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n            super.refreshContent(e, highlight);\r\n        }\r\n    \r\n        @Override\r\n        public MPPointF getOffset() {\r\n            return new MPPointF(-(getWidth() / 2f), -500);\r\n        }\r\n    \r\n        private String getDateFromNav(String navRate) {\r\n            String navDate = &quot;&quot;;\r\n            try {\r\n                if (navHistoryList != null) {\r\n                    for (NavHistory navHistory : navHistoryList) {\r\n                        if (decimalFormat.format(Double.parseDouble(Objects.requireNonNull(navHistory.getNav()))).equals(navRate)) {\r\n                            navDate = navHistory.getNavDate();\r\n                        }\r\n                    }\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return navDate;\r\n        }\r\n    \r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/5xsFZ.png\r\n  [2]: https://i.stack.imgur.com/a1HOu.png","title":"Android Marker View How to Show circle in the graph","body":"<p>I Have implemented line graph like this,</p>\n<pre><code>&lt;LinearLayout\n                android:id=&quot;@+id/ll_graph_container&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;@dimen/_138sdp&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/tv_day_percentage&quot;&gt;\n\n                &lt;com.github.mikephil.charting.charts.LineChart\n                    android:id=&quot;@+id/chart&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:background=&quot;@android:color/transparent&quot;\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                    tools:ignore=&quot;MissingConstraints&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n</code></pre>\n<p>I want that a circle should shown like this where this vertical line is intersecting the graph like this\n<a href=\"https://i.stack.imgur.com/5xsFZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5xsFZ.png\" alt=\"enter image description here\" /></a></p>\n<p>But right now i am not able to get this circle.. how can i render the circle where vertical line is intersecting with graph</p>\n<p><a href=\"https://i.stack.imgur.com/a1HOu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a1HOu.png\" alt=\"enter image description here\" /></a></p>\n<p>this is the custom marker view i am using</p>\n<pre><code>public class MfMarkerView extends MarkerView {\n\n    private final TextView tvTitle;\n    private final TextView tvSubTitle;\n    private final ImageView ivMiddle;\n    private final ImageView ivLeft;\n    private final ImageView ivRight;\n    private final List&lt;NavHistory&gt; navHistoryList;\n\n    DecimalFormat decimalFormat = new DecimalFormat(&quot;#.##&quot;);\n\n    public MfMarkerView(Context context, int layoutResource, List&lt;NavHistory&gt; navHistoryList) {\n        super(context, layoutResource);\n\n        tvTitle = findViewById(R.id.tvTitle);\n        tvSubTitle = findViewById(R.id.tvSubTitle);\n        ivMiddle = findViewById(R.id.iv_middle);\n        ivLeft = findViewById(R.id.iv_left);\n        ivRight = findViewById(R.id.iv_right);\n        this.navHistoryList = navHistoryList;\n    }\n\n    @SuppressLint(&quot;SetTextI18n&quot;)\n    @Override\n    public void refreshContent(Entry e, Highlight highlight) {\n        try {\n            String value;\n            if (e instanceof CandleEntry) {\n                CandleEntry ce = (CandleEntry) e;\n                value = String.valueOf(ce.getHigh());\n            } else {\n                value = String.valueOf(e.getY());\n            }\n\n            if (e.getX() &lt; 200) {\n                ivLeft.setVisibility(View.VISIBLE);\n                ivMiddle.setVisibility(View.GONE);\n                ivRight.setVisibility(View.GONE);\n            } else if (e.getX() &gt; 200 &amp;&amp; e.getX() &lt; 900) {\n                ivLeft.setVisibility(View.GONE);\n                ivMiddle.setVisibility(View.VISIBLE);\n                ivRight.setVisibility(View.GONE);\n            } else {\n                ivLeft.setVisibility(View.GONE);\n                ivMiddle.setVisibility(View.GONE);\n                ivRight.setVisibility(View.VISIBLE);\n            }\n\n            String navDate = getDateFromNav(value);\n            if (!navDate.isEmpty()) {\n                String formattedDate = DateTimeUtils.getFormattedDate(navDate);\n                String displayText = Constants.RUPEES + &quot; &quot; + value;\n                tvTitle.setText(displayText);\n                tvSubTitle.setText(&quot;NAV as on &quot; + formattedDate);\n            }\n        } catch (NullPointerException ex) {\n            ex.printStackTrace();\n        }\n        super.refreshContent(e, highlight);\n    }\n\n    @Override\n    public MPPointF getOffset() {\n        return new MPPointF(-(getWidth() / 2f), -500);\n    }\n\n    private String getDateFromNav(String navRate) {\n        String navDate = &quot;&quot;;\n        try {\n            if (navHistoryList != null) {\n                for (NavHistory navHistory : navHistoryList) {\n                    if (decimalFormat.format(Double.parseDouble(Objects.requireNonNull(navHistory.getNav()))).equals(navRate)) {\n                        navDate = navHistory.getNavDate();\n                    }\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return navDate;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1685100737,"post_id":76339505,"comment_id":134617866,"body_markdown":"Ah I think I misunderstood your question entirely. I thought you meant how to do package-private in Kotlin. Doing `internal` in Java is of course possible. Just don&#39;t `exports` the packages you want - `internal` is the default behaviour if you have a `module-info.java`. Just `exports` the packages you want to be public.","body":"Ah I think I misunderstood your question entirely. I thought you meant how to do package-private in Kotlin. Doing <code>internal</code> in Java is of course possible. Just don&#39;t <code>exports</code> the packages you want - <code>internal</code> is the default behaviour if you have a <code>module-info.java</code>. Just <code>exports</code> the packages you want to be public."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685102212,"creation_date":1685094992,"answer_id":76339680,"question_id":76339505,"body_markdown":"`internal` Kotlin class members are visible in the same *module*.\r\n\r\nSee [Visibility Modifiers][1]\r\n\r\n- `internal` means that any client inside this module who sees the declaring class sees its `internal` members.\r\n\r\nA module is &quot;a set of Kotlin files compiled together&quot;. The documentation gives some examples [at the very end][2]:\r\n\r\n&gt; - An IntelliJ IDEA module.\r\n&gt; - A Maven project.\r\n&gt; - A Gradle source set (with the exception that the test source set can access the `internal` declarations of main).\r\n&gt; - A set of files compiled with one invocation of the `&lt;kotlinc&gt;` Ant task.\r\n\r\nThis is a bit similar to how `internal` is in C#.\r\n\r\nThere is no `internal` access modifier in Java, but everything public in a Java module *are* internal, in the sense that other modules cannot access it. Other modules can only see what a module `exports`. This is something you can specify in a module-info.java file, located in your source root.\r\n\r\nSo in your situation you can have the module that has the interfaces export the interfaces, and have the implementations only export the parts that you don&#39;t want to be `internal`.\r\n\r\nExample module-info.java files:\r\n\r\nFor project.api:\r\n\r\n```\r\nmodule project.api {\r\n    exports com.newco.api.users;\r\n    exports com.newco.api.accounts;\r\n}\r\n```\r\n\r\nFor project.impl;\r\n\r\n```\r\nmodule project.impl {\r\n    requires project.api;\r\n    exports the.parts.you.dont.want.to.be.internal;\r\n    uses AccountService;\r\n    uses UserService;\r\n}\r\n```\r\n\r\nAnd consumers can say `requires project.impl`, and still can only access the public declarations in the `the.parts.you.dont.want.to.be.internal` package.\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/visibility-modifiers.html#class-members\r\n  [2]: https://kotlinlang.org/docs/visibility-modifiers.html#modules\r\n  [3]: https://stackoverflow.com/a/6470746/5133585","title":"Why is Kotlin&#39;s internal accessibility different to Java&#39;s package-private accessibility?","body":"<p><code>internal</code> Kotlin class members are visible in the same <em>module</em>.</p>\n<p>See <a href=\"https://kotlinlang.org/docs/visibility-modifiers.html#class-members\" rel=\"nofollow noreferrer\">Visibility Modifiers</a></p>\n<ul>\n<li><code>internal</code> means that any client inside this module who sees the declaring class sees its <code>internal</code> members.</li>\n</ul>\n<p>A module is &quot;a set of Kotlin files compiled together&quot;. The documentation gives some examples <a href=\"https://kotlinlang.org/docs/visibility-modifiers.html#modules\" rel=\"nofollow noreferrer\">at the very end</a>:</p>\n<blockquote>\n<ul>\n<li>An IntelliJ IDEA module.</li>\n<li>A Maven project.</li>\n<li>A Gradle source set (with the exception that the test source set can access the <code>internal</code> declarations of main).</li>\n<li>A set of files compiled with one invocation of the <code>&lt;kotlinc&gt;</code> Ant task.</li>\n</ul>\n</blockquote>\n<p>This is a bit similar to how <code>internal</code> is in C#.</p>\n<p>There is no <code>internal</code> access modifier in Java, but everything public in a Java module <em>are</em> internal, in the sense that other modules cannot access it. Other modules can only see what a module <code>exports</code>. This is something you can specify in a module-info.java file, located in your source root.</p>\n<p>So in your situation you can have the module that has the interfaces export the interfaces, and have the implementations only export the parts that you don't want to be <code>internal</code>.</p>\n<p>Example module-info.java files:</p>\n<p>For project.api:</p>\n<pre><code>module project.api {\n    exports com.newco.api.users;\n    exports com.newco.api.accounts;\n}\n</code></pre>\n<p>For project.impl;</p>\n<pre><code>module project.impl {\n    requires project.api;\n    exports the.parts.you.dont.want.to.be.internal;\n    uses AccountService;\n    uses UserService;\n}\n</code></pre>\n<p>And consumers can say <code>requires project.impl</code>, and still can only access the public declarations in the <code>the.parts.you.dont.want.to.be.internal</code> package.</p>\n"}],"owner":{"account_id":1023984,"reputation":40599,"user_id":1033686,"accept_rate":97,"display_name":"Matthew Layton"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1685102212,"creation_date":1685093659,"question_id":76339505,"body_markdown":"To give some context to the problem I&#39;m trying to solve, I have two separate projects...\r\n\r\nThe first contains a set of APIs which are mostly defined via interfaces and contains very little implementation. This should be considered something that is consumable as a dependency; for example:\r\n\r\n**project-api**\r\n```java\r\npackage com.newco.api.users;\r\n\r\npublic interface UserService {\r\n    void createUser(User user);\r\n    User getUserById(UUID id);\r\n}\r\n```\r\n```java\r\npackage com.newco.api.accounts;\r\n\r\npublic interface AccountService {\r\n    void createUserAccount(User user, Account account);\r\n    Account getAccountByUser(User user);\r\n}\r\n```\r\n\r\nUsers may consume these interfaces as part of the API. Note the relationship between users and accounts.\r\n\r\nThe second project contains the implementation of the APIs. These are not consumable and should never be seen by a developer; for example:\r\n\r\n**project-implementation**\r\n\r\n```java\r\npackage com.newco.impl.users;\r\n\r\nimport com.newco.api.users.UserService;\r\n\r\nfinal class UserServiceImpl implements UserService {\r\n\r\n    @Override\r\n    public void createUser(User user) { ... }\r\n\r\n    @Override\r\n    public User getUserById(UUID id) { ... }\r\n}\r\n```\r\n\r\n```java\r\npackage com.newco.impl.accounts;\r\n\r\nimport com.newco.api.users.UserService;\r\nimport com.newco.api.accounts.AccountService;\r\n// This is problematic (see below)...\r\nimport com.newco.impl.users.UserSeviceImpl;\r\n\r\nfinal class AccountServiceImpl implements AccountService {\r\n\r\n    // This is problematic (see below)...\r\n    private final UserService userService = new UserServiceImpl();\r\n\r\n    @Override\r\n    public void createUserAccount(User user, Account account) { ... }\r\n\r\n    @Override\r\n    public Account getAccountByUser(User user) { ... }\r\n}\r\n```\r\n\r\nPutting aside the obvious violation of the Dependency Inversion Principle, as it really isn&#39;t important for the sake of this question, the problem is that I can&#39;t access `UserServiceImpl` from `AccountServiceImpl` because it&#39;s **package-private** - I can&#39;t even import it.\r\n\r\nIn contrast, if I were to implement this with Kotlin, the problem goes away entirely; for example:\r\n\r\n**project-implementation-kotlin**\r\n\r\n```kotlin\r\npackage com.newco.impl.users\r\n\r\nimport com.newco.api.users.UserService\r\n\r\ninternal class UserServiceImpl : UserService {\r\n\r\n    fun createUser(user: User) { ... }\r\n\r\n    fun getUserById(id: UUID): User { ... }\r\n}\r\n```\r\n\r\n```kotlin\r\npackage com.newco.impl.accounts\r\n\r\nimport com.newco.api.users.UserService\r\nimport com.newco.api.accounts.AccountService\r\nimport com.newco.impl.users.UserSeviceImpl\r\n\r\ninternal class AccountServiceImpl implements AccountService {\r\n\r\n    private val userService = UserServiceImpl()\r\n\r\n    fun createUserAccount(user: User, account: Account) { ... }\r\n\r\n    fun getAccountByUser(user: User): Account { ... }\r\n}\r\n```\r\n\r\nMy expectation was that Java&#39;s **package-private** accessibility works the same way as Kotlin&#39;s `internal` modifier, but it seems they are subtly different.\r\n\r\nCurrently, it seems that if I want to implement these interfaces with Java, I have two choices:\r\n\r\n1. I make the classes public, and therefore accessible, but am able to organise the classes into separate packages.\r\n\r\n2. I can make the classes package-private, and therefore inaccessible, but am not able to organise them into separate packages.\r\n\r\nNeither of these choices are ideal. I would rather keep the implementations inaccessible, and organised.\r\n\r\nHow does `internal` differ from package-private, and is there a way to achieve the equivalent of `internal` in Java? Do Java 9 modules solve this problem in any way?\r\n\r\nNote: I&#39;m targeting Java 11","title":"Why is Kotlin&#39;s internal accessibility different to Java&#39;s package-private accessibility?","body":"<p>To give some context to the problem I'm trying to solve, I have two separate projects...</p>\n<p>The first contains a set of APIs which are mostly defined via interfaces and contains very little implementation. This should be considered something that is consumable as a dependency; for example:</p>\n<p><strong>project-api</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.newco.api.users;\n\npublic interface UserService {\n    void createUser(User user);\n    User getUserById(UUID id);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.newco.api.accounts;\n\npublic interface AccountService {\n    void createUserAccount(User user, Account account);\n    Account getAccountByUser(User user);\n}\n</code></pre>\n<p>Users may consume these interfaces as part of the API. Note the relationship between users and accounts.</p>\n<p>The second project contains the implementation of the APIs. These are not consumable and should never be seen by a developer; for example:</p>\n<p><strong>project-implementation</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.newco.impl.users;\n\nimport com.newco.api.users.UserService;\n\nfinal class UserServiceImpl implements UserService {\n\n    @Override\n    public void createUser(User user) { ... }\n\n    @Override\n    public User getUserById(UUID id) { ... }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.newco.impl.accounts;\n\nimport com.newco.api.users.UserService;\nimport com.newco.api.accounts.AccountService;\n// This is problematic (see below)...\nimport com.newco.impl.users.UserSeviceImpl;\n\nfinal class AccountServiceImpl implements AccountService {\n\n    // This is problematic (see below)...\n    private final UserService userService = new UserServiceImpl();\n\n    @Override\n    public void createUserAccount(User user, Account account) { ... }\n\n    @Override\n    public Account getAccountByUser(User user) { ... }\n}\n</code></pre>\n<p>Putting aside the obvious violation of the Dependency Inversion Principle, as it really isn't important for the sake of this question, the problem is that I can't access <code>UserServiceImpl</code> from <code>AccountServiceImpl</code> because it's <strong>package-private</strong> - I can't even import it.</p>\n<p>In contrast, if I were to implement this with Kotlin, the problem goes away entirely; for example:</p>\n<p><strong>project-implementation-kotlin</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package com.newco.impl.users\n\nimport com.newco.api.users.UserService\n\ninternal class UserServiceImpl : UserService {\n\n    fun createUser(user: User) { ... }\n\n    fun getUserById(id: UUID): User { ... }\n}\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package com.newco.impl.accounts\n\nimport com.newco.api.users.UserService\nimport com.newco.api.accounts.AccountService\nimport com.newco.impl.users.UserSeviceImpl\n\ninternal class AccountServiceImpl implements AccountService {\n\n    private val userService = UserServiceImpl()\n\n    fun createUserAccount(user: User, account: Account) { ... }\n\n    fun getAccountByUser(user: User): Account { ... }\n}\n</code></pre>\n<p>My expectation was that Java's <strong>package-private</strong> accessibility works the same way as Kotlin's <code>internal</code> modifier, but it seems they are subtly different.</p>\n<p>Currently, it seems that if I want to implement these interfaces with Java, I have two choices:</p>\n<ol>\n<li><p>I make the classes public, and therefore accessible, but am able to organise the classes into separate packages.</p>\n</li>\n<li><p>I can make the classes package-private, and therefore inaccessible, but am not able to organise them into separate packages.</p>\n</li>\n</ol>\n<p>Neither of these choices are ideal. I would rather keep the implementations inaccessible, and organised.</p>\n<p>How does <code>internal</code> differ from package-private, and is there a way to achieve the equivalent of <code>internal</code> in Java? Do Java 9 modules solve this problem in any way?</p>\n<p>Note: I'm targeting Java 11</p>\n"},{"tags":["java","postgresql","jpa","sequence"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1685106849,"post_id":76339903,"comment_id":134619201,"body_markdown":"Sequencing is fetched by your JPA provider and then used for the insert, so to figure out what is going on, you&#39;d have to debug what values it is getting from the sequence and clues on the inserts to see why it might be reusing a value (if the sequence isn&#39;t returning the same value twice, which should occur). Turn on as much logging as you can and see if you can set up a situation that reliably reproduces it.","body":"Sequencing is fetched by your JPA provider and then used for the insert, so to figure out what is going on, you&#39;d have to debug what values it is getting from the sequence and clues on the inserts to see why it might be reusing a value (if the sequence isn&#39;t returning the same value twice, which should occur). Turn on as much logging as you can and see if you can set up a situation that reliably reproduces it."}],"owner":{"account_id":3779737,"reputation":572,"user_id":3139567,"display_name":"Goikiu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685101743,"creation_date":1685096654,"question_id":76339903,"body_markdown":"i&#39;m stuck on an issue and haven&#39;t been able to find a viable solution for that.\r\n\r\nWe have an application where two JPA entity are using the same sequence to generate ids (it&#39;s wanted)\r\n\r\n    -- Father class\r\n    @Id\r\n    @SequenceGenerator(name = &quot;gen1&quot;, sequenceName = &quot;sx_seq&quot;, allocationSize = 1)\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;gen1&quot;)\r\n    @Column(name = &quot;id&quot;, unique = true)\r\n    private Long id;\r\n\r\nwith two child (both of them extend the father with a couple differences).\r\n\r\nFrom time to time the database it&#39;s throwing a duplicated primary key on one of them (not the other one), in an environment where we have three istances of this application.\r\n\r\nWe have another application that instead works (with also three nodes) but the difference it&#39;s that both entity a and entity b are not extending a father class, can be this the solution in this case?\r\n\r\nI would also like to add the on the configuration of jpa we have:\r\n\r\n    spring.jpa.open-in-view = false","title":"Spring JPA with postgre Sequence Duplicate Value on Primary Key on multiple nodes of the application","body":"<p>i'm stuck on an issue and haven't been able to find a viable solution for that.</p>\n<p>We have an application where two JPA entity are using the same sequence to generate ids (it's wanted)</p>\n<pre><code>-- Father class\n@Id\n@SequenceGenerator(name = &quot;gen1&quot;, sequenceName = &quot;sx_seq&quot;, allocationSize = 1)\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;gen1&quot;)\n@Column(name = &quot;id&quot;, unique = true)\nprivate Long id;\n</code></pre>\n<p>with two child (both of them extend the father with a couple differences).</p>\n<p>From time to time the database it's throwing a duplicated primary key on one of them (not the other one), in an environment where we have three istances of this application.</p>\n<p>We have another application that instead works (with also three nodes) but the difference it's that both entity a and entity b are not extending a father class, can be this the solution in this case?</p>\n<p>I would also like to add the on the configuration of jpa we have:</p>\n<pre><code>spring.jpa.open-in-view = false\n</code></pre>\n"},{"tags":["java","basic-authentication","http-proxy","squid","jira-rest-java-api"],"owner":{"account_id":10150295,"reputation":1257,"user_id":7497127,"accept_rate":67,"display_name":"JAMSHAID"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685101675,"creation_date":1685074732,"question_id":76337638,"body_markdown":"I  have configured basic authentication on my Ubuntu virtual machine running remotely. I have the following curl command that works fine when I run it in the terminal:\r\n\r\n    curl -v -x http://username:password@10.0.114.4:3128 https://www.google.com/\r\n\r\nIf I remove the authentication from it, it responds with an authentication error. When I write Java code for the same purpose, it does not go well and it always returns the following error:\r\n\r\n    Exception in thread &quot;main&quot; java.io.IOException: Failed to authenticate with proxy\r\n        at okhttp3.internal.connection.RealConnection.createTunnel(RealConnection.java:320)\r\n        at okhttp3.internal.connection.RealConnection.buildTunneledConnection(RealConnection.java:155)\r\n        at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:111)\r\n        at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:193)\r\n        at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:129)\r\n        at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:98)\r\n        at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)\r\n        at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:109)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)\r\n        at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)\r\n        at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:124)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)\r\n        at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:170)\r\n        at okhttp3.RealCall.execute(RealCall.java:60)\r\n        at SendEmailClass.getIssueDetails(SendEmailClass.java:239)\r\n        at SendEmailClass.searchIssuesAndSendEmail(SendEmailClass.java:63)\r\n        at SendEmailClass.main(SendEmailClass.java:59)\r\n     \r\n\r\nHere is my Java code that makes a call to the proxy and then to the other required server:\r\n\r\n        private static Issues[] getIssueDetails(String jql) throws IOException {\r\n            String url = SERVER_URL + &quot;rest/api/3/search?jql=&quot; + jql;\r\n            System.out.println(url);\r\n    \r\n            BasicCredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n            credentialsProvider.setCredentials(\r\n                    new AuthScope(proxyHost, proxyPort),\r\n                    new UsernamePasswordCredentials(proxyUsername, proxyPassword));\r\n    \r\n            CloseableHttpClient httpClient = HttpClients.custom()\r\n                    .setDefaultCredentialsProvider(credentialsProvider)\r\n                    .build();\r\n    \r\n            System.out.println(&quot;Proxy provided details are as follows| Username: &quot; + proxyUsername + &quot; Password: &quot; + proxyPassword + &quot; Port: &quot; + proxyPort + &quot; Address: &quot; + proxyHost);\r\n    \r\n            HttpGet httpGet = new HttpGet(url);\r\n            httpGet.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n            String authHeader = getAuthHeader();\r\n            httpGet.setHeader(&quot;Authorization&quot;, authHeader);\r\n    \r\n            CloseableHttpResponse response = httpClient.execute(httpGet);\r\n            int response_code = response.getStatusLine().getStatusCode();\r\n            try {\r\n                if (response_code != 400) {\r\n                    HttpEntity entity = response.getEntity();\r\n                    String responseBody = EntityUtils.toString(entity);\r\n                    Gson gson = new Gson();\r\n                    CloudIssueDetailResponse cloudIssueDetailResponse = gson.fromJson(responseBody, CloudIssueDetailResponse.class);\r\n                    return cloudIssueDetailResponse.getIssues();\r\n                } else {\r\n                    System.err.println(&quot;Authentication failed using the following credentials: Email: &quot; + EMAIL + &quot; API Key: &quot; + API_KEY);\r\n                }\r\n            } finally {\r\n                response.close();\r\n            }\r\n    \r\n            return null;\r\n        } \r\n\r\nWhat might be causing the issue? I can confirm that the proxy and the 2nd server details are correct in the code. ","title":"Basic authentication to squid proxy is not working using java","body":"<p>I  have configured basic authentication on my Ubuntu virtual machine running remotely. I have the following curl command that works fine when I run it in the terminal:</p>\n<pre><code>curl -v -x http://username:password@10.0.114.4:3128 https://www.google.com/\n</code></pre>\n<p>If I remove the authentication from it, it responds with an authentication error. When I write Java code for the same purpose, it does not go well and it always returns the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.IOException: Failed to authenticate with proxy\n    at okhttp3.internal.connection.RealConnection.createTunnel(RealConnection.java:320)\n    at okhttp3.internal.connection.RealConnection.buildTunneledConnection(RealConnection.java:155)\n    at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:111)\n    at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:193)\n    at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:129)\n    at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:98)\n    at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)\n    at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:109)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)\n    at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)\n    at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:124)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)\n    at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:170)\n    at okhttp3.RealCall.execute(RealCall.java:60)\n    at SendEmailClass.getIssueDetails(SendEmailClass.java:239)\n    at SendEmailClass.searchIssuesAndSendEmail(SendEmailClass.java:63)\n    at SendEmailClass.main(SendEmailClass.java:59)\n \n</code></pre>\n<p>Here is my Java code that makes a call to the proxy and then to the other required server:</p>\n<pre><code>    private static Issues[] getIssueDetails(String jql) throws IOException {\n        String url = SERVER_URL + &quot;rest/api/3/search?jql=&quot; + jql;\n        System.out.println(url);\n\n        BasicCredentialsProvider credentialsProvider = new BasicCredentialsProvider();\n        credentialsProvider.setCredentials(\n                new AuthScope(proxyHost, proxyPort),\n                new UsernamePasswordCredentials(proxyUsername, proxyPassword));\n\n        CloseableHttpClient httpClient = HttpClients.custom()\n                .setDefaultCredentialsProvider(credentialsProvider)\n                .build();\n\n        System.out.println(&quot;Proxy provided details are as follows| Username: &quot; + proxyUsername + &quot; Password: &quot; + proxyPassword + &quot; Port: &quot; + proxyPort + &quot; Address: &quot; + proxyHost);\n\n        HttpGet httpGet = new HttpGet(url);\n        httpGet.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        String authHeader = getAuthHeader();\n        httpGet.setHeader(&quot;Authorization&quot;, authHeader);\n\n        CloseableHttpResponse response = httpClient.execute(httpGet);\n        int response_code = response.getStatusLine().getStatusCode();\n        try {\n            if (response_code != 400) {\n                HttpEntity entity = response.getEntity();\n                String responseBody = EntityUtils.toString(entity);\n                Gson gson = new Gson();\n                CloudIssueDetailResponse cloudIssueDetailResponse = gson.fromJson(responseBody, CloudIssueDetailResponse.class);\n                return cloudIssueDetailResponse.getIssues();\n            } else {\n                System.err.println(&quot;Authentication failed using the following credentials: Email: &quot; + EMAIL + &quot; API Key: &quot; + API_KEY);\n            }\n        } finally {\n            response.close();\n        }\n\n        return null;\n    } \n</code></pre>\n<p>What might be causing the issue? I can confirm that the proxy and the 2nd server details are correct in the code.</p>\n"},{"tags":["java","ieee-754"],"comments":[{"owner":{"account_id":24059439,"reputation":282,"user_id":18036868,"display_name":"HUTUTU"},"score":1,"creation_date":1644390412,"post_id":71044744,"comment_id":125591016,"body_markdown":"The float has a precision of only six to seven digits. There is no point in pursuing an absolutely accurate float. Do you have any special needs that you have to do?","body":"The float has a precision of only six to seven digits. There is no point in pursuing an absolutely accurate float. Do you have any special needs that you have to do?"},{"owner":{"account_id":3466102,"reputation":330,"user_id":2901590,"display_name":"Chen Li"},"score":0,"creation_date":1644392314,"post_id":71044744,"comment_id":125591570,"body_markdown":"No special needs, just to verify my understanding about the concept.","body":"No special needs, just to verify my understanding about the concept."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1644392480,"post_id":71044744,"comment_id":125591613,"body_markdown":"Yes, that `double` has a value of 0.1000000000000000055511151231257827021181583404541015625.","body":"Yes, that <code>double</code> has a value of 0.1000000000000000055511151231257827021181583404541015625."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1644392929,"post_id":71044744,"comment_id":125591752,"body_markdown":"There are some similar bugs, see the list under https://bugs.java.com/bugdatabase/view_bug.do?bug_id=7131459. I didn’t readily find this particular one.","body":"There are some similar bugs, see the list under <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=7131459\" rel=\"nofollow noreferrer\">bugs.java.com/bugdatabase/view_bug.do?bug_id=7131459</a>. I didn’t readily find this particular one."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1644393661,"post_id":71044744,"comment_id":125591979,"body_markdown":"I tend to think of it as a bug, though. [The docs](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Formatter.html#syntax) say: *The result is a string that represents the sign and magnitude (absolute value) of the argument.* If I use `%57.55f`, it should exactly fit the precise value of `0.1000000000000000055511151231257827021181583404541015625`, but I get `0.1000000000000000000000000000000000000000000000000000000`.","body":"I tend to think of it as a bug, though. <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Formatter.html#syntax\" rel=\"nofollow noreferrer\">The docs</a> say: <i>The result is a string that represents the sign and magnitude (absolute value) of the argument.</i> If I use <code>%57.55f</code>, it should exactly fit the precise value of <code>0.1000000000000000055511151231257827021181583404541015625</code>, but I get <code>0.1000000000000000000000000000000000000000000000000000000</code>."},{"owner":{"account_id":3466102,"reputation":330,"user_id":2901590,"display_name":"Chen Li"},"score":0,"creation_date":1644407423,"post_id":71044744,"comment_id":125597335,"body_markdown":"Question remains: I expect double value 0.1d to be printed something like 1.000000000000000055511151231260. Why it print all zeros in fraction part?","body":"Question remains: I expect double value 0.1d to be printed something like 1.000000000000000055511151231260. Why it print all zeros in fraction part?"},{"owner":{"account_id":113187,"reputation":200947,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"score":1,"creation_date":1644410062,"post_id":71044744,"comment_id":125598363,"body_markdown":"@HUTUTU: [`float` does not have “a precision of only six to seven digits.”](https://stackoverflow.com/questions/61609276/how-to-calculate-float-type-precision-and-does-it-make-sense/61614323#61614323) The behavior of IEEE-754 binary32 and binary64 arithmetic is well specified, and we can expect specific results from it. Those results generally differ from real-number arithmetic but nonetheless can be used productively when the arithmetic is understood and properly implemented.","body":"@HUTUTU: <a href=\"https://stackoverflow.com/questions/61609276/how-to-calculate-float-type-precision-and-does-it-make-sense/61614323#61614323\"><code>float</code> does not have “a precision of only six to seven digits.”</a> The behavior of IEEE-754 binary32 and binary64 arithmetic is well specified, and we can expect specific results from it. Those results generally differ from real-number arithmetic but nonetheless can be used productively when the arithmetic is understood and properly implemented."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1646057320,"post_id":71044744,"comment_id":126023497,"body_markdown":"Does this answer your question? [float data type precision in Java](https://stackoverflow.com/questions/55108735/float-data-type-precision-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/55108735/float-data-type-precision-in-java\">float data type precision in Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644404132,"creation_date":1644404132,"answer_id":71048304,"question_id":71044744,"body_markdown":"If you see java ource code, you observe that \r\n\r\n    System.out.println(d+&quot;&quot;);\r\n\r\nWill use something like this:\r\n\r\n    Double.toString(d)\r\n\r\nthat in turn will call \r\n\r\n    FloatingDecimal.toJavaFormatString(d)\r\n\r\n\r\n\r\n`String.format` uses other mechanism. That is why you see this behaviour.\r\n\r\nReferences: \r\n- https://www.thoughtco.com/concatenation-2034055\r\n- Java source code\r\n\r\n\r\n","title":"why String.format 0.1d double value as exact 0.1 in java?","body":"<p>If you see java ource code, you observe that</p>\n<pre><code>System.out.println(d+&quot;&quot;);\n</code></pre>\n<p>Will use something like this:</p>\n<pre><code>Double.toString(d)\n</code></pre>\n<p>that in turn will call</p>\n<pre><code>FloatingDecimal.toJavaFormatString(d)\n</code></pre>\n<p><code>String.format</code> uses other mechanism. That is why you see this behaviour.</p>\n<p>References:</p>\n<ul>\n<li><a href=\"https://www.thoughtco.com/concatenation-2034055\" rel=\"nofollow noreferrer\">https://www.thoughtco.com/concatenation-2034055</a></li>\n<li>Java source code</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":113187,"reputation":200947,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1685101628,"creation_date":1644411263,"answer_id":71049995,"question_id":71044744,"body_markdown":"The Java specification requires this imperfect display of values. The `f` format produces only as many significant digits as the `Double.toString(double)` method would produce and then mindlessy appends zeros to get to the requested precision.\r\n\r\nPer [the documentation](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Formatter.html#syntax), for the `f` format, if the precision exceeds the number of digits after the decimal point that `Double.toString(double)` would produce, then “zeros may be appended to reach the precision.” This does not state what those zeros are appended to. Presumably, they are appended to the string that `Double.toString(double)` would produce.\r\n\r\n[The documentation for `Double.toString(double)`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Double.html#toString(double)) says it produces “as many, but only as many, more digits as are needed to uniquely distinguish the argument value from adjacent values of type `double`.” I discuss that further [here](https://stackoverflow.com/questions/54869876/displayed-precision-of-java-floating-point/54871593#54871593). For 0.1000000000000000055511151231257827021181583404541015625, `Double.toString(double)` produces “0.1”. (The neighboring values, 0.09999999999999999167332731531132594682276248931884765625 and\r\n0.10000000000000001942890293094023945741355419158935546875, are both further from .1 than 0.1000000000000000055511151231257827021181583404541015625 is, and they are formatted as “0.09999999999999999” and “0.10000000000000002”, so “0.1” serves to uniquely distinguish 0.1000000000000000055511151231257827021181583404541015625 from its neighbors.)\r\n\r\nThus, `System.out.println(String.format(&quot;double 0.1= %.30f&quot;, d))` starts with the “0.1” from `Double.toString(double)` and appends 29 zeroes.\r\n\r\nSimilarly, if you change `d` to 0.09999999999999999167332731531132594682276248931884765625, `String.format` produces “0.099999999999999990000000000000”—it has taken the `toString` result and appended zeros. And for 0.10000000000000001942890293094023945741355419158935546875 it produces “0.100000000000000020000000000000”.\r\n\r\nThis conforms to the specification. The specified behavior is incapable of presenting the true value correctly, so I regard the specification as defective.\r\n\r\nIncidentally, the Java specification is troublesome whether the requested precision is greater than or less than the number of digits that `Double.toString(double)` would produce. In the case when the request permission is less, [the Java specification requires a double rounding](https://stackoverflow.com/questions/57778637/why-do-c-and-java-round-floats-differently/57779767#57779767) that can increase errors.","title":"why String.format 0.1d double value as exact 0.1 in java?","body":"<p>The Java specification requires this imperfect display of values. The <code>f</code> format produces only as many significant digits as the <code>Double.toString(double)</code> method would produce and then mindlessy appends zeros to get to the requested precision.</p>\n<p>Per <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Formatter.html#syntax\" rel=\"nofollow noreferrer\">the documentation</a>, for the <code>f</code> format, if the precision exceeds the number of digits after the decimal point that <code>Double.toString(double)</code> would produce, then “zeros may be appended to reach the precision.” This does not state what those zeros are appended to. Presumably, they are appended to the string that <code>Double.toString(double)</code> would produce.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Double.html#toString(double)\" rel=\"nofollow noreferrer\">The documentation for <code>Double.toString(double)</code></a> says it produces “as many, but only as many, more digits as are needed to uniquely distinguish the argument value from adjacent values of type <code>double</code>.” I discuss that further <a href=\"https://stackoverflow.com/questions/54869876/displayed-precision-of-java-floating-point/54871593#54871593\">here</a>. For 0.1000000000000000055511151231257827021181583404541015625, <code>Double.toString(double)</code> produces “0.1”. (The neighboring values, 0.09999999999999999167332731531132594682276248931884765625 and\n0.10000000000000001942890293094023945741355419158935546875, are both further from .1 than 0.1000000000000000055511151231257827021181583404541015625 is, and they are formatted as “0.09999999999999999” and “0.10000000000000002”, so “0.1” serves to uniquely distinguish 0.1000000000000000055511151231257827021181583404541015625 from its neighbors.)</p>\n<p>Thus, <code>System.out.println(String.format(&quot;double 0.1= %.30f&quot;, d))</code> starts with the “0.1” from <code>Double.toString(double)</code> and appends 29 zeroes.</p>\n<p>Similarly, if you change <code>d</code> to 0.09999999999999999167332731531132594682276248931884765625, <code>String.format</code> produces “0.099999999999999990000000000000”—it has taken the <code>toString</code> result and appended zeros. And for 0.10000000000000001942890293094023945741355419158935546875 it produces “0.100000000000000020000000000000”.</p>\n<p>This conforms to the specification. The specified behavior is incapable of presenting the true value correctly, so I regard the specification as defective.</p>\n<p>Incidentally, the Java specification is troublesome whether the requested precision is greater than or less than the number of digits that <code>Double.toString(double)</code> would produce. In the case when the request permission is less, <a href=\"https://stackoverflow.com/questions/57778637/why-do-c-and-java-round-floats-differently/57779767#57779767\">the Java specification requires a double rounding</a> that can increase errors.</p>\n"}],"owner":{"account_id":3466102,"reputation":330,"user_id":2901590,"display_name":"Chen Li"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":666,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":71049995,"answer_count":2,"score":6,"last_activity_date":1685101628,"creation_date":1644386952,"question_id":71044744,"body_markdown":"[IEEE 754][1] float numbers are discret. \r\n\r\n```\r\npublic class MyTest2 {\r\n  public static void main(String[] args) {\r\n    //about 1.00000001490116119384765625E-1 in IEEE-754\r\n    float f = 0.1f;\r\n    //about 1.00000000000000005551115123126E-1 in IEEE-754\r\n    double d = 0.1d;\r\n    System.out.println(String.format(&quot;double 0.1= %.30f&quot;, d));\r\n    System.out.println(String.format(&quot;float 0.1 = %.15f&quot;, f));\r\n    System.out.println(d+&quot;&quot;);\r\n  }\r\n}\r\n```\r\n\r\nSee this [code run live at IdeOne.com][2]. Running in JDK8, output is\r\n\r\n```\r\ndouble 0.1= 0.100000000000000000000000000000\r\nfloat 0.1 = 0.100000001490116\r\n0.1\r\n```\r\nThe float value is printed as expected.\r\nI expect double value 0.1d to be printed something like 1.000000000000000055511151231260. **Why it print \r\nall zeros in fraction part**?\r\n\r\nIf I convert double variable d to string, it prints 0.1.\r\n```\r\nSystem.out.println(d+&quot;&quot;);\r\n```\r\nHow does java convet the neartest float value of 0.1d (which is stroed as about 1.00000001490116119384765625E-1) to exact 0.1?\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/IEEE_754\r\n  [2]: https://ideone.com/0edEZq","title":"why String.format 0.1d double value as exact 0.1 in java?","body":"<p><a href=\"https://en.wikipedia.org/wiki/IEEE_754\" rel=\"nofollow noreferrer\">IEEE 754</a> float numbers are discret.</p>\n<pre><code>public class MyTest2 {\n  public static void main(String[] args) {\n    //about 1.00000001490116119384765625E-1 in IEEE-754\n    float f = 0.1f;\n    //about 1.00000000000000005551115123126E-1 in IEEE-754\n    double d = 0.1d;\n    System.out.println(String.format(&quot;double 0.1= %.30f&quot;, d));\n    System.out.println(String.format(&quot;float 0.1 = %.15f&quot;, f));\n    System.out.println(d+&quot;&quot;);\n  }\n}\n</code></pre>\n<p>See this <a href=\"https://ideone.com/0edEZq\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>. Running in JDK8, output is</p>\n<pre><code>double 0.1= 0.100000000000000000000000000000\nfloat 0.1 = 0.100000001490116\n0.1\n</code></pre>\n<p>The float value is printed as expected.\nI expect double value 0.1d to be printed something like 1.000000000000000055511151231260. <strong>Why it print\nall zeros in fraction part</strong>?</p>\n<p>If I convert double variable d to string, it prints 0.1.</p>\n<pre><code>System.out.println(d+&quot;&quot;);\n</code></pre>\n<p>How does java convet the neartest float value of 0.1d (which is stroed as about 1.00000001490116119384765625E-1) to exact 0.1?</p>\n"},{"tags":["java","maven","cucumber"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1685102709,"post_id":76340493,"comment_id":134618266,"body_markdown":"It would be helpful if you provide some representative code snippets","body":"It would be helpful if you provide some representative code snippets"}],"owner":{"account_id":16155196,"reputation":1,"user_id":11662548,"display_name":"Ekansh Jain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685101497,"creation_date":1685101497,"question_id":76340493,"body_markdown":"I&#39;m using a hybrid framework with cucumber, java, testNG and Maven.\r\nI want to run a piece of code after getting result of each scenario(PASSED/FAIL). I have added the code in @AfterMethod and it working fine for TestNG but not for Maven because maven is not invoking afterMethod.\r\n\r\nThen I tried using @After hook by cucumber. But it runs the code before getting actual scenario result.\r\nI have also used (alwaysRun=true) but still not working for me\r\nCan someone guide what can be done in this case.","title":"Cucumber and Maven configuration","body":"<p>I'm using a hybrid framework with cucumber, java, testNG and Maven.\nI want to run a piece of code after getting result of each scenario(PASSED/FAIL). I have added the code in @AfterMethod and it working fine for TestNG but not for Maven because maven is not invoking afterMethod.</p>\n<p>Then I tried using @After hook by cucumber. But it runs the code before getting actual scenario result.\nI have also used (alwaysRun=true) but still not working for me\nCan someone guide what can be done in this case.</p>\n"},{"tags":["java","spring","spring-boot","spring-boot-actuator"],"comments":[{"owner":{"account_id":18669557,"reputation":640,"user_id":13608717,"display_name":"Daniel"},"score":2,"creation_date":1613806976,"post_id":66289094,"comment_id":117194785,"body_markdown":"Please check next few points:\n1. if there is `management.server.port` configuration value in properties? It will change the port where actuator is accessible\n2. Logs of application upon call - to see if there are no errors\n3. On startup of application please check log line `Exposing 14 endpoint(s) beneath base path &#39;/actuator&#39;` - to double-check that such endpoints are actually exposed. Hope this helps to identify the root cause","body":"Please check next few points: 1. if there is <code>management.server.port</code> configuration value in properties? It will change the port where actuator is accessible 2. Logs of application upon call - to see if there are no errors 3. On startup of application please check log line <code>Exposing 14 endpoint(s) beneath base path &#39;&#47;actuator&#39;</code> - to double-check that such endpoints are actually exposed. Hope this helps to identify the root cause"},{"owner":{"account_id":6234997,"reputation":317,"user_id":4850588,"display_name":"developer-vivekjain"},"score":0,"creation_date":1613808383,"post_id":66289094,"comment_id":117195032,"body_markdown":"@Daniel Thanks for your prompt response, on startup I could not see Exposing 14 endpoint(s) beneath base path &#39;/actuator&#39;. I just edited the post and added logs as well.","body":"@Daniel Thanks for your prompt response, on startup I could not see Exposing 14 endpoint(s) beneath base path &#39;/actuator&#39;. I just edited the post and added logs as well."},{"owner":{"account_id":3699717,"reputation":961,"user_id":3079891,"display_name":"dextertron_"},"score":0,"creation_date":1613819112,"post_id":66289094,"comment_id":117197261,"body_markdown":"Can you see the actuator in external libraries? Maybe somehow it isn&#39;t added correctly @VivekJain","body":"Can you see the actuator in external libraries? Maybe somehow it isn&#39;t added correctly @VivekJain"},{"owner":{"account_id":6234997,"reputation":317,"user_id":4850588,"display_name":"developer-vivekjain"},"score":0,"creation_date":1613823776,"post_id":66289094,"comment_id":117198293,"body_markdown":"[dextertron](https://stackoverflow.com/users/3079891/dextertron) I verified , it&#39;s available in class path.","body":"<a href=\"https://stackoverflow.com/users/3079891/dextertron\">dextertron</a> I verified , it&#39;s available in class path."}],"answers":[{"tags":[],"owner":{"account_id":7508677,"reputation":104,"user_id":5704417,"display_name":"Saurabha"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1618774657,"creation_date":1618774657,"answer_id":67152685,"question_id":66289094,"body_markdown":"Spring Boot Actuators endpoints could not be picked-up if running within IDE(IntelliJ or Eclipse).\r\n\r\nI tried to run jar using below command(outside of IDE) on cmd and it worked for me.\r\n\r\n`c:\\workspace\\demo\\target\\java -jar demo-spring-boot-project.jar`\r\n\r\nAnd I was able to access below URL\r\n\r\nhttp://localhost:8090/actuator/health\r\n\r\n","title":"Spring Boot Actuator not working- Whitelabel Error Page","body":"<p>Spring Boot Actuators endpoints could not be picked-up if running within IDE(IntelliJ or Eclipse).</p>\n<p>I tried to run jar using below command(outside of IDE) on cmd and it worked for me.</p>\n<p><code>c:\\workspace\\demo\\target\\java -jar demo-spring-boot-project.jar</code></p>\n<p>And I was able to access below URL</p>\n<p>http://localhost:8090/actuator/health</p>\n"},{"tags":[],"owner":{"account_id":14242839,"reputation":111,"user_id":10288713,"display_name":"VcMr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1631511149,"creation_date":1631454616,"answer_id":69152038,"question_id":66289094,"body_markdown":"Encountered this too while running the app through InteliJ IDEA. \r\nIt turns out I added the spring-boot-starter-actuator dependency but did not tell Maven to reload the project.\r\n\r\nRight clicking on the pom.xml file and selecting Maven-&gt;Reload project, solved it.\r\n\r\n*In this case I see the jar file exists in your classpath, so your problem is different than mine. \r\nLeaving this comment so it might help someone else.","title":"Spring Boot Actuator not working- Whitelabel Error Page","body":"<p>Encountered this too while running the app through InteliJ IDEA.\nIt turns out I added the spring-boot-starter-actuator dependency but did not tell Maven to reload the project.</p>\n<p>Right clicking on the pom.xml file and selecting Maven-&gt;Reload project, solved it.</p>\n<p>*In this case I see the jar file exists in your classpath, so your problem is different than mine.\nLeaving this comment so it might help someone else.</p>\n"},{"tags":[],"owner":{"account_id":17599496,"reputation":11,"user_id":12769778,"display_name":"Santosh Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634562901,"creation_date":1634522524,"answer_id":69610031,"question_id":66289094,"body_markdown":"I have encountered the same issue while running the project through IntelliJ IDE.\r\nI resolved after doing `Invalidate Cache &amp; Restart` in IntelliJ IDE.\r\n\r\nGo to `File` -&gt; ``Invalidate Cache`.\r\n\r\nThe Invalidate cache dialog box appears. One can select accordingly to their project.","title":"Spring Boot Actuator not working- Whitelabel Error Page","body":"<p>I have encountered the same issue while running the project through IntelliJ IDE.\nI resolved after doing <code>Invalidate Cache &amp; Restart</code> in IntelliJ IDE.</p>\n<p>Go to <code>File</code> -&gt; ``Invalidate Cache`.</p>\n<p>The Invalidate cache dialog box appears. One can select accordingly to their project.</p>\n"},{"tags":[],"owner":{"account_id":28685508,"reputation":1,"user_id":21965876,"display_name":"ALeet Developer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685101008,"creation_date":1685101008,"answer_id":76340433,"question_id":66289094,"body_markdown":"It requires a dependency for auto configuring Actuator.\r\nBelow is the dependency you need to add.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator-autoconfigure&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n ","title":"Spring Boot Actuator not working- Whitelabel Error Page","body":"<p>It requires a dependency for auto configuring Actuator.\nBelow is the dependency you need to add.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator-autoconfigure&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":6234997,"reputation":317,"user_id":4850588,"display_name":"developer-vivekjain"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4504,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":67152685,"answer_count":4,"score":5,"last_activity_date":1685101008,"creation_date":1613806205,"question_id":66289094,"body_markdown":"Spring Boot **Actuator** is not working for rest-full application, getting Whitelabel Error Page on browser and below error in console log.\r\n\r\n    org.springframework.web.servlet.NoHandlerFoundException: No handler found for GET /actuator/health\r\n\r\nAdded below maven dependency.\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\nI cross checked, jar file available in class path.[![enter image description here][1]][1]\r\n\r\nSpring boot application version \r\n\r\n    &lt;version&gt;2.4.1&lt;/version&gt;\r\n\r\nAdded properties in application.properties file\r\n\r\n    management.endpoints.enabled-by-default=true\r\n    management.endpoint.info.enabled=true\r\n    management.security.enabled=false\r\n    management.endpoints.web.exposure.include=*\r\n    spring.mvc.throw-exception-if-no-handler-found=true\r\n    \r\n\r\nUnable to access Actuator with below URL&#39;s\r\n\r\n    http://localhost:8090/actuator/health\r\n    http://localhost:8090/actuator/\r\n    http://localhost:8090/health/\r\n\r\nLogs\r\n\r\n    WARN IN-WKS-435 [nio-8090-exec-1] o.s.w.s.PageNotFound                     : No mapping for GET /actuator/health\r\n    WARN IN-WKS-435 [nio-8090-exec-1] o.s.w.s.PageNotFound                     : No handler found for GET /actuator/health\r\n    WARN IN-WKS-435 [nio-8090-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No handler found for GET /actuator/health]\r\n\r\nNote: Apart from this, whole application is working fine.\r\n\r\nKindly suggest if I need to add any additional configuration in our application. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IHCDC.png","title":"Spring Boot Actuator not working- Whitelabel Error Page","body":"<p>Spring Boot <strong>Actuator</strong> is not working for rest-full application, getting Whitelabel Error Page on browser and below error in console log.</p>\n<pre><code>org.springframework.web.servlet.NoHandlerFoundException: No handler found for GET /actuator/health\n</code></pre>\n<p>Added below maven dependency.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I cross checked, jar file available in class path.<a href=\"https://i.stack.imgur.com/IHCDC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IHCDC.png\" alt=\"enter image description here\" /></a></p>\n<p>Spring boot application version</p>\n<pre><code>&lt;version&gt;2.4.1&lt;/version&gt;\n</code></pre>\n<p>Added properties in application.properties file</p>\n<pre><code>management.endpoints.enabled-by-default=true\nmanagement.endpoint.info.enabled=true\nmanagement.security.enabled=false\nmanagement.endpoints.web.exposure.include=*\nspring.mvc.throw-exception-if-no-handler-found=true\n</code></pre>\n<p>Unable to access Actuator with below URL's</p>\n<pre><code>http://localhost:8090/actuator/health\nhttp://localhost:8090/actuator/\nhttp://localhost:8090/health/\n</code></pre>\n<p>Logs</p>\n<pre><code>WARN IN-WKS-435 [nio-8090-exec-1] o.s.w.s.PageNotFound                     : No mapping for GET /actuator/health\nWARN IN-WKS-435 [nio-8090-exec-1] o.s.w.s.PageNotFound                     : No handler found for GET /actuator/health\nWARN IN-WKS-435 [nio-8090-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No handler found for GET /actuator/health]\n</code></pre>\n<p>Note: Apart from this, whole application is working fine.</p>\n<p>Kindly suggest if I need to add any additional configuration in our application.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2027945,"reputation":4954,"user_id":1812434,"accept_rate":57,"display_name":"Venkata Raju"},"score":2,"creation_date":1623675530,"post_id":67970378,"comment_id":120138243,"body_markdown":"`file` command finds the encoding based on the file content. Since all the file content is ascii (english), output is ascii. Provide the text in non English characters like [`Greek`](https://translate.google.co.in/?hl=en&amp;sl=en&amp;tl=el&amp;text=test%20encoding&amp;op=translate) and check.","body":"<code>file</code> command finds the encoding based on the file content. Since all the file content is ascii (english), output is ascii. Provide the text in non English characters like <a href=\"https://translate.google.co.in/?hl=en&amp;sl=en&amp;tl=el&amp;text=test%20encoding&amp;op=translate\" rel=\"nofollow noreferrer\"><code>Greek</code></a> and check."}],"answers":[{"tags":[],"owner":{"account_id":4160832,"reputation":2487,"user_id":3410989,"display_name":"julien.giband"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1623687446,"creation_date":1623675874,"answer_id":67970752,"question_id":67970378,"body_markdown":"ISO-8859-1 and UTF-8 are both character encodings *designed* to be compatible with older US-ASCII, for all the standard printable characters, meaning codes 0x20 to 0x7E. These characters include all lower and upper case latin letters with no accent, numeric digits, space and other usual punctuation marks.\r\n\r\nWhen you simply write a file using Java, and any other tool (except for some specific character encodings), there is nothing within the file that indicates how it has been encoded.\r\n\r\nThe tool you&#39;re using with the `file` command simply tries to take a guess based on the first bytes of the file: it checks if the sequence makes any sense with a predetermined set of character encodings, reports it when it finds one that seems to match.\r\n\r\nIn your test, you&#39;re only using those standard &quot;english&quot; characters, so any encoding compatible with ascii is suitable for reading the file. That&#39;s why you get `us-ascii` as a result.\r\n\r\nYou&#39;ll get a different result if you start using different characters, such as `[&#233;&#192;&#214;&#238;]`.\r\n\r\nUTF-8, UTF-16 and UTF-32 allow to start the file with a special sequence of bytes called the [**byte-order mark** (BOM)](https://en.wikipedia.org/wiki/Byte_order_mark), that identifies the file&#39;s encoding. You would have to write it yourself before anything else. for UTF-8, the sequence is `0xEFBBBF`\r\n\r\nThat would be:\r\n```lang-java\r\ntry (OutputStream os = Files.newOutputStream(Paths.get(&quot;res&quot;), StandardOpenOption.WRITE, StandardOpenOption.TRUNCATE_EXISTING)) {\r\n  os.write(0xEF);\r\n  os.write(0xBB);\r\n  os.write(0xBF);\r\n  try (BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(os, StandardCharsets.UTF_8))) {\r\n    bw.write(&quot;Testing with standard us-ascii chars!&quot;);\r\n    bw.write(System.lineSeparator());\r\n  }\r\n}\r\n```","title":"Can&#39;t encode a file in UTF8/ISO_8859_1","body":"<p>ISO-8859-1 and UTF-8 are both character encodings <em>designed</em> to be compatible with older US-ASCII, for all the standard printable characters, meaning codes 0x20 to 0x7E. These characters include all lower and upper case latin letters with no accent, numeric digits, space and other usual punctuation marks.</p>\n<p>When you simply write a file using Java, and any other tool (except for some specific character encodings), there is nothing within the file that indicates how it has been encoded.</p>\n<p>The tool you're using with the <code>file</code> command simply tries to take a guess based on the first bytes of the file: it checks if the sequence makes any sense with a predetermined set of character encodings, reports it when it finds one that seems to match.</p>\n<p>In your test, you're only using those standard &quot;english&quot; characters, so any encoding compatible with ascii is suitable for reading the file. That's why you get <code>us-ascii</code> as a result.</p>\n<p>You'll get a different result if you start using different characters, such as <code>[éÀÖî]</code>.</p>\n<p>UTF-8, UTF-16 and UTF-32 allow to start the file with a special sequence of bytes called the <a href=\"https://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"nofollow noreferrer\"><strong>byte-order mark</strong> (BOM)</a>, that identifies the file's encoding. You would have to write it yourself before anything else. for UTF-8, the sequence is <code>0xEFBBBF</code></p>\n<p>That would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (OutputStream os = Files.newOutputStream(Paths.get(&quot;res&quot;), StandardOpenOption.WRITE, StandardOpenOption.TRUNCATE_EXISTING)) {\n  os.write(0xEF);\n  os.write(0xBB);\n  os.write(0xBF);\n  try (BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(os, StandardCharsets.UTF_8))) {\n    bw.write(&quot;Testing with standard us-ascii chars!&quot;);\n    bw.write(System.lineSeparator());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12695343,"reputation":15,"user_id":9223958,"display_name":"Ramazan Gunes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685100709,"creation_date":1685055108,"answer_id":76336683,"question_id":67970378,"body_markdown":"I am currently debugging this problem and I want to create an Ansi coded txt file, so I just solved this problem by using the following code snippet: \r\n\r\n    Charset charSet1 = StandardCharsets.ISO_8859_1;\r\n    BufferedWriter bw1 = new BufferedWriter(new OutputStreamWriter(fos, charSet1));\r\n    bw1.write(0xE1);\r\n    bw1.newLine();\r\n\r\nYou can use this method but if you can achieve it without printing `0xE1`(which notifies that this code is in Ansi format encoding) pls let the community know.\r\n\r\nThank you.","title":"Can&#39;t encode a file in UTF8/ISO_8859_1","body":"<p>I am currently debugging this problem and I want to create an Ansi coded txt file, so I just solved this problem by using the following code snippet:</p>\n<pre><code>Charset charSet1 = StandardCharsets.ISO_8859_1;\nBufferedWriter bw1 = new BufferedWriter(new OutputStreamWriter(fos, charSet1));\nbw1.write(0xE1);\nbw1.newLine();\n</code></pre>\n<p>You can use this method but if you can achieve it without printing <code>0xE1</code>(which notifies that this code is in Ansi format encoding) pls let the community know.</p>\n<p>Thank you.</p>\n"}],"owner":{"account_id":12451769,"reputation":142,"user_id":9987894,"display_name":"Alays"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67970752,"answer_count":2,"score":1,"last_activity_date":1685100709,"creation_date":1623674312,"question_id":67970378,"body_markdown":"I am trying to write a file to UTF8 or ISO_8859_1 using :\r\n\r\n    BufferedWriter writer = null;\r\n        try {\r\n            writer = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(getFile(&quot;res&quot;)), StandardCharsets.ISO_8859_1));\r\n\r\n            String line =&quot; test encoding&quot;+&quot;\\r\\n&quot;;\r\n            writer.write(line);\r\n        } finally {\r\n            try {\r\n                if (writer != null)\r\n                    writer.close();\r\n            } catch (Exception e) {\r\n            }\r\n        }\r\n\r\n\r\nThen I try to display the file encoding using : file -I, file --mime-encoding but it always shows me us-ascii.\r\n\r\n    file --mime-encoding res\r\n    res: us-ascii\r\n\r\n\r\n    file -I res\r\n    res: text/plain; charset=us-ascii\r\n\r\n\r\nWhat am i doing wrong ?\r\n\r\nedit1 : I am testing on macos dunno if it changes something\r\n","title":"Can&#39;t encode a file in UTF8/ISO_8859_1","body":"<p>I am trying to write a file to UTF8 or ISO_8859_1 using :</p>\n<pre><code>BufferedWriter writer = null;\n    try {\n        writer = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(getFile(&quot;res&quot;)), StandardCharsets.ISO_8859_1));\n\n        String line =&quot; test encoding&quot;+&quot;\\r\\n&quot;;\n        writer.write(line);\n    } finally {\n        try {\n            if (writer != null)\n                writer.close();\n        } catch (Exception e) {\n        }\n    }\n</code></pre>\n<p>Then I try to display the file encoding using : file -I, file --mime-encoding but it always shows me us-ascii.</p>\n<pre><code>file --mime-encoding res\nres: us-ascii\n\n\nfile -I res\nres: text/plain; charset=us-ascii\n</code></pre>\n<p>What am i doing wrong ?</p>\n<p>edit1 : I am testing on macos dunno if it changes something</p>\n"},{"tags":["java","asynchronous","concurrency","parallel-processing","completable-future"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":5,"creation_date":1684966077,"post_id":76327631,"comment_id":134596533,"body_markdown":"What documentation are you looking at?  [The documentation of CompletableFuture.join](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/CompletableFuture.html#join()) does not say those things.  It’s a good idea to use the official documentation before relying on any self-proclaimed gurus or teachers.","body":"What documentation are you looking at?  <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/CompletableFuture.html#join()\" rel=\"nofollow noreferrer\">The documentation of CompletableFuture.join</a> does not say those things.  It’s a good idea to use the official documentation before relying on any self-proclaimed gurus or teachers."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685099580,"creation_date":1684966413,"answer_id":76327725,"question_id":76327631,"body_markdown":"[`join()`][1] is **not** a static method. It&#39;s a blocking call that waits for the `CompletableFuture` to finish its calculation and return the result.\r\n\r\n[`allOf()`][2] is a non-blocking static method that returns a new `CompletableFuture` that &quot;wraps&quot; the `CompletableFutures` passed to it and itself completes when all of the `CompletableFutures` passed to it have completed.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#join--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#allOf-java.util.concurrent.CompletableFuture...-","title":"What is different between join/get and allOf in completable future?","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#join--\" rel=\"nofollow noreferrer\"><code>join()</code></a> is <strong>not</strong> a static method. It's a blocking call that waits for the <code>CompletableFuture</code> to finish its calculation and return the result.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#allOf-java.util.concurrent.CompletableFuture...-\" rel=\"nofollow noreferrer\"><code>allOf()</code></a> is a non-blocking static method that returns a new <code>CompletableFuture</code> that &quot;wraps&quot; the <code>CompletableFutures</code> passed to it and itself completes when all of the <code>CompletableFutures</code> passed to it have completed.</p>\n"},{"tags":[],"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684966769,"creation_date":1684966769,"answer_id":76327751,"question_id":76327631,"body_markdown":"You are very wrong about `join`.  Per the [java doc](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletableFuture.html#join()):\r\n\r\n&lt;pre&gt;\r\npublic T join() \r\n\r\nReturns the result value when complete, or throws an (unchecked)\r\nexception if completed exceptionally. To better conform \r\nwith the  use of common functional forms, if a computation\r\ninvolved in the  completion of this CompletableFuture threw\r\nan exception, this  method throws an (unchecked)\r\nCompletionException with the underlying exception as its cause. \r\n\r\nReturns:  \r\nthe result value  \r\n\r\nThrows: \r\nCancellationException - if the computation was cancelled \r\nCompletionException - if this future completed exceptionally \r\n              or a completion computation threw an exception  \r\n&lt;/pre&gt;\r\n\r\nSo - amongst the differences are:  \r\n\r\n - The number of futures involved: one versus many   \r\n - Whether the call waits for completion    \r\n - Return value - the result, versus another completeable future.  \r\n - The handling of exceptions.\r\n\r\n i.e., they are hardly comparable at all.","title":"What is different between join/get and allOf in completable future?","body":"<p>You are very wrong about <code>join</code>.  Per the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletableFuture.html#join()\" rel=\"nofollow noreferrer\">java doc</a>:</p>\n<pre>\npublic T join() \n\nReturns the result value when complete, or throws an (unchecked)\nexception if completed exceptionally. To better conform \nwith the  use of common functional forms, if a computation\ninvolved in the  completion of this CompletableFuture threw\nan exception, this  method throws an (unchecked)\nCompletionException with the underlying exception as its cause. \n\nReturns:  \nthe result value  \n\nThrows: \nCancellationException - if the computation was cancelled \nCompletionException - if this future completed exceptionally \n              or a completion computation threw an exception  \n</pre>\n<p>So - amongst the differences are:</p>\n<ul>\n<li>The number of futures involved: one versus many</li>\n<li>Whether the call waits for completion</li>\n<li>Return value - the result, versus another completeable future.</li>\n<li>The handling of exceptions.</li>\n</ul>\n<p>i.e., they are hardly comparable at all.</p>\n"}],"owner":{"account_id":14402419,"reputation":37,"user_id":10403609,"display_name":"Abdelrahman Ibrahim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1685099580,"creation_date":1684965099,"question_id":76327631,"body_markdown":"If allOf in the documentation indicates that it&#39;s &quot; a static method of the CompletableFuture class. It returns a new CompletableFuture object when all of the specified CompletableFutures are complete&quot; and join is &quot; a static method of the CompletableFuture class. It returns a new CompletableFuture object when all of the specified CompletableFutures are complete&quot; so why should I use both? can I use allOf only? or join only? or they work together.\r\n\r\nMy use case is I&#39;m calling n of tasks in async using completableFuture but I want to combile the results of them together.","title":"What is different between join/get and allOf in completable future?","body":"<p>If allOf in the documentation indicates that it's &quot; a static method of the CompletableFuture class. It returns a new CompletableFuture object when all of the specified CompletableFutures are complete&quot; and join is &quot; a static method of the CompletableFuture class. It returns a new CompletableFuture object when all of the specified CompletableFutures are complete&quot; so why should I use both? can I use allOf only? or join only? or they work together.</p>\n<p>My use case is I'm calling n of tasks in async using completableFuture but I want to combile the results of them together.</p>\n"},{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1685096797,"post_id":76339902,"comment_id":134617105,"body_markdown":"Post text, not images","body":"Post text, not images"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1685096847,"post_id":76339902,"comment_id":134617123,"body_markdown":"Hello, the entity classes need to follow some requirement to be recognized by JPA as such. Please add the code of both classes as formatted text to the post.","body":"Hello, the entity classes need to follow some requirement to be recognized by JPA as such. Please add the code of both classes as formatted text to the post."},{"owner":{"account_id":25832083,"reputation":11,"user_id":19569078,"display_name":"xiaoming wang"},"score":0,"creation_date":1685097322,"post_id":76339902,"comment_id":134617245,"body_markdown":"@Mar-Z Hello, All of entities were generated by IntelliJ IDEA  Database","body":"@Mar-Z Hello, All of entities were generated by IntelliJ IDEA  Database"}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685099487,"creation_date":1685098971,"answer_id":76340169,"question_id":76339902,"body_markdown":"There is a wrong type (String) of the ID field/column. As it should be generated by the database as IDENTITY it need to be Integer. Change like this:\r\n\r\n    @Column(name = &quot;app_id&quot;, nullable = false)\r\n    private Integer appId;\r\n\r\n    public Integer getAppId() {\r\n        return appId;\r\n    }\r\n\r\n    public void setAppId(Integer appId) {\r\n        this.appId = appId;\r\n    }\r\n\r\nYou should also provide a non argument constructor in each of the entity class. It&#39;s not relevant for table creation but will be a problem later on while reading data.","title":"ddl-auto of Spring-JPA","body":"<p>There is a wrong type (String) of the ID field/column. As it should be generated by the database as IDENTITY it need to be Integer. Change like this:</p>\n<pre><code>@Column(name = &quot;app_id&quot;, nullable = false)\nprivate Integer appId;\n\npublic Integer getAppId() {\n    return appId;\n}\n\npublic void setAppId(Integer appId) {\n    this.appId = appId;\n}\n</code></pre>\n<p>You should also provide a non argument constructor in each of the entity class. It's not relevant for table creation but will be a problem later on while reading data.</p>\n"}],"owner":{"account_id":25832083,"reputation":11,"user_id":19569078,"display_name":"xiaoming wang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76340169,"answer_count":1,"score":-1,"last_activity_date":1685099487,"creation_date":1685096650,"question_id":76339902,"body_markdown":"When I use  ddl-auto of Spring-JPA to create database tables, some of entities were created as tables, but some of tables not created\r\n\r\nSpring-JPA entities(2): \r\n[enter image description here](https://i.stack.imgur.com/tlLOT.png)\r\n\r\napplication.properties\r\n\r\n\r\n```\r\nspring.jpa.database=mysql\r\nspring.jpa.show-sql=true\r\nspring.jpa.format_sql=true\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.hibernate.open-in-view=false\r\n```\r\n\r\n\r\ntables of created by Spring-jpa\r\n[enter image description here](https://i.stack.imgur.com/RJwBY.png)\r\n\r\n-------------\r\n\r\nthere are tow entities, So I think there should be two tables created , but only one table named: tbl_app_block\r\n\r\n1. I had added @EntityScan(basePackages = {&quot;com.example.demo.entity.**&quot;})\r\n2. I generate entity by IDEA Database\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6S7c8.png\r\n\r\nEntity1 \r\n```\r\n@Entity\r\n@Table(name = &quot;tbl_app_auth&quot;, schema = &quot;hoe_common&quot;, catalog = &quot;&quot;)\r\npublic class TblAppAuthEntity {\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Id\r\n    @Column(name = &quot;app_id&quot;, nullable = false, length = 50)\r\n    private String appId;\r\n    @Basic\r\n    @Column(name = &quot;app_secret&quot;, nullable = true, length = 100)\r\n    private String appSecret;\r\n    @Basic\r\n    @Column(name = &quot;app_name&quot;, nullable = true, length = 100)\r\n    private String appName;\r\n    @Basic\r\n    @Column(name = &quot;app_token&quot;, nullable = true, length = 100)\r\n    private String appToken;\r\n    @Basic\r\n    @Column(name = &quot;create_time&quot;, nullable = true)\r\n    private Timestamp createTime;\r\n    @Basic\r\n    @Column(name = &quot;update_time&quot;, nullable = true)\r\n    private Timestamp updateTime;\r\n\r\n    public String getAppId() {\r\n        return appId;\r\n    }\r\n\r\n    public void setAppId(String appId) {\r\n        this.appId = appId;\r\n    }\r\n\r\n    public String getAppSecret() {\r\n        return appSecret;\r\n    }\r\n\r\n    public void setAppSecret(String appSecret) {\r\n        this.appSecret = appSecret;\r\n    }\r\n\r\n    public String getAppName() {\r\n        return appName;\r\n    }\r\n\r\n    public void setAppName(String appName) {\r\n        this.appName = appName;\r\n    }\r\n\r\n    public String getAppToken() {\r\n        return appToken;\r\n    }\r\n\r\n    public void setAppToken(String appToken) {\r\n        this.appToken = appToken;\r\n    }\r\n\r\n    public Timestamp getCreateTime() {\r\n        return createTime;\r\n    }\r\n\r\n    public void setCreateTime(Timestamp createTime) {\r\n        this.createTime = createTime;\r\n    }\r\n\r\n    public Timestamp getUpdateTime() {\r\n        return updateTime;\r\n    }\r\n\r\n    public void setUpdateTime(Timestamp updateTime) {\r\n        this.updateTime = updateTime;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        TblAppAuthEntity that = (TblAppAuthEntity) o;\r\n        return Objects.equals(appId, that.appId) &amp;&amp; Objects.equals(appSecret, that.appSecret) &amp;&amp; Objects.equals(appName, that.appName) &amp;&amp; Objects.equals(appToken, that.appToken) &amp;&amp; Objects.equals(createTime, that.createTime) &amp;&amp; Objects.equals(updateTime, that.updateTime);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(appId, appSecret, appName, appToken, createTime, updateTime);\r\n    }\r\n}\r\n```\r\n\r\nEntity2\r\n```\r\n\r\n@Entity\r\n@Table(name = &quot;tbl_app_block&quot;, schema = &quot;hoe_common&quot;, catalog = &quot;&quot;)\r\npublic class TblAppBlockEntity {\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Id\r\n    @Column(name = &quot;block_id&quot;, nullable = false)\r\n    private int blockId;\r\n    @Basic\r\n    @Column(name = &quot;block_code&quot;, nullable = true, length = 20)\r\n    private String blockCode;\r\n    @Basic\r\n    @Column(name = &quot;block_name&quot;, nullable = true, length = 20)\r\n    private String blockName;\r\n    @Basic\r\n    @Column(name = &quot;block_index&quot;, nullable = true)\r\n    private Integer blockIndex;\r\n    @Basic\r\n    @Column(name = &quot;cross_num&quot;, nullable = true)\r\n    private Integer crossNum;\r\n    @Basic\r\n    @Column(name = &quot;create_time&quot;, nullable = true)\r\n    private Timestamp createTime;\r\n    @Basic\r\n    @Column(name = &quot;is_deleted&quot;, nullable = true)\r\n    private Byte isDeleted;\r\n    @Basic\r\n    @Column(name = &quot;sync_block_id&quot;, nullable = true)\r\n    private Integer syncBlockId;\r\n\r\n    public int getBlockId() {\r\n        return blockId;\r\n    }\r\n\r\n    public void setBlockId(int blockId) {\r\n        this.blockId = blockId;\r\n    }\r\n\r\n    public String getBlockCode() {\r\n        return blockCode;\r\n    }\r\n\r\n    public void setBlockCode(String blockCode) {\r\n        this.blockCode = blockCode;\r\n    }\r\n\r\n    public String getBlockName() {\r\n        return blockName;\r\n    }\r\n\r\n    public void setBlockName(String blockName) {\r\n        this.blockName = blockName;\r\n    }\r\n\r\n    public Integer getBlockIndex() {\r\n        return blockIndex;\r\n    }\r\n\r\n    public void setBlockIndex(Integer blockIndex) {\r\n        this.blockIndex = blockIndex;\r\n    }\r\n\r\n    public Integer getCrossNum() {\r\n        return crossNum;\r\n    }\r\n\r\n    public void setCrossNum(Integer crossNum) {\r\n        this.crossNum = crossNum;\r\n    }\r\n\r\n    public Timestamp getCreateTime() {\r\n        return createTime;\r\n    }\r\n\r\n    public void setCreateTime(Timestamp createTime) {\r\n        this.createTime = createTime;\r\n    }\r\n\r\n    public Byte getIsDeleted() {\r\n        return isDeleted;\r\n    }\r\n\r\n    public void setIsDeleted(Byte isDeleted) {\r\n        this.isDeleted = isDeleted;\r\n    }\r\n\r\n    public Integer getSyncBlockId() {\r\n        return syncBlockId;\r\n    }\r\n\r\n    public void setSyncBlockId(Integer syncBlockId) {\r\n        this.syncBlockId = syncBlockId;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        TblAppBlockEntity that = (TblAppBlockEntity) o;\r\n        return blockId == that.blockId &amp;&amp; Objects.equals(blockCode, that.blockCode) &amp;&amp; Objects.equals(blockName, that.blockName) &amp;&amp; Objects.equals(blockIndex, that.blockIndex) &amp;&amp; Objects.equals(crossNum, that.crossNum) &amp;&amp; Objects.equals(createTime, that.createTime) &amp;&amp; Objects.equals(isDeleted, that.isDeleted) &amp;&amp; Objects.equals(syncBlockId, that.syncBlockId);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(blockId, blockCode, blockName, blockIndex, crossNum, createTime, isDeleted, syncBlockId);\r\n    }\r\n}\r\n\r\n```","title":"ddl-auto of Spring-JPA","body":"<p>When I use  ddl-auto of Spring-JPA to create database tables, some of entities were created as tables, but some of tables not created</p>\n<p>Spring-JPA entities(2):\n<a href=\"https://i.stack.imgur.com/tlLOT.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>application.properties</p>\n<pre><code>spring.jpa.database=mysql\nspring.jpa.show-sql=true\nspring.jpa.format_sql=true\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.hibernate.open-in-view=false\n</code></pre>\n<p>tables of created by Spring-jpa\n<a href=\"https://i.stack.imgur.com/RJwBY.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<hr />\n<p>there are tow entities, So I think there should be two tables created , but only one table named: tbl_app_block</p>\n<ol>\n<li>I had added @EntityScan(basePackages = {&quot;com.example.demo.entity.**&quot;})</li>\n<li>I generate entity by IDEA Database\n<a href=\"https://i.stack.imgur.com/6S7c8.png\" rel=\"nofollow noreferrer\">enter image description here</a></li>\n</ol>\n<p>Entity1</p>\n<pre><code>@Entity\n@Table(name = &quot;tbl_app_auth&quot;, schema = &quot;hoe_common&quot;, catalog = &quot;&quot;)\npublic class TblAppAuthEntity {\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Id\n    @Column(name = &quot;app_id&quot;, nullable = false, length = 50)\n    private String appId;\n    @Basic\n    @Column(name = &quot;app_secret&quot;, nullable = true, length = 100)\n    private String appSecret;\n    @Basic\n    @Column(name = &quot;app_name&quot;, nullable = true, length = 100)\n    private String appName;\n    @Basic\n    @Column(name = &quot;app_token&quot;, nullable = true, length = 100)\n    private String appToken;\n    @Basic\n    @Column(name = &quot;create_time&quot;, nullable = true)\n    private Timestamp createTime;\n    @Basic\n    @Column(name = &quot;update_time&quot;, nullable = true)\n    private Timestamp updateTime;\n\n    public String getAppId() {\n        return appId;\n    }\n\n    public void setAppId(String appId) {\n        this.appId = appId;\n    }\n\n    public String getAppSecret() {\n        return appSecret;\n    }\n\n    public void setAppSecret(String appSecret) {\n        this.appSecret = appSecret;\n    }\n\n    public String getAppName() {\n        return appName;\n    }\n\n    public void setAppName(String appName) {\n        this.appName = appName;\n    }\n\n    public String getAppToken() {\n        return appToken;\n    }\n\n    public void setAppToken(String appToken) {\n        this.appToken = appToken;\n    }\n\n    public Timestamp getCreateTime() {\n        return createTime;\n    }\n\n    public void setCreateTime(Timestamp createTime) {\n        this.createTime = createTime;\n    }\n\n    public Timestamp getUpdateTime() {\n        return updateTime;\n    }\n\n    public void setUpdateTime(Timestamp updateTime) {\n        this.updateTime = updateTime;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        TblAppAuthEntity that = (TblAppAuthEntity) o;\n        return Objects.equals(appId, that.appId) &amp;&amp; Objects.equals(appSecret, that.appSecret) &amp;&amp; Objects.equals(appName, that.appName) &amp;&amp; Objects.equals(appToken, that.appToken) &amp;&amp; Objects.equals(createTime, that.createTime) &amp;&amp; Objects.equals(updateTime, that.updateTime);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(appId, appSecret, appName, appToken, createTime, updateTime);\n    }\n}\n</code></pre>\n<p>Entity2</p>\n<pre><code>\n@Entity\n@Table(name = &quot;tbl_app_block&quot;, schema = &quot;hoe_common&quot;, catalog = &quot;&quot;)\npublic class TblAppBlockEntity {\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Id\n    @Column(name = &quot;block_id&quot;, nullable = false)\n    private int blockId;\n    @Basic\n    @Column(name = &quot;block_code&quot;, nullable = true, length = 20)\n    private String blockCode;\n    @Basic\n    @Column(name = &quot;block_name&quot;, nullable = true, length = 20)\n    private String blockName;\n    @Basic\n    @Column(name = &quot;block_index&quot;, nullable = true)\n    private Integer blockIndex;\n    @Basic\n    @Column(name = &quot;cross_num&quot;, nullable = true)\n    private Integer crossNum;\n    @Basic\n    @Column(name = &quot;create_time&quot;, nullable = true)\n    private Timestamp createTime;\n    @Basic\n    @Column(name = &quot;is_deleted&quot;, nullable = true)\n    private Byte isDeleted;\n    @Basic\n    @Column(name = &quot;sync_block_id&quot;, nullable = true)\n    private Integer syncBlockId;\n\n    public int getBlockId() {\n        return blockId;\n    }\n\n    public void setBlockId(int blockId) {\n        this.blockId = blockId;\n    }\n\n    public String getBlockCode() {\n        return blockCode;\n    }\n\n    public void setBlockCode(String blockCode) {\n        this.blockCode = blockCode;\n    }\n\n    public String getBlockName() {\n        return blockName;\n    }\n\n    public void setBlockName(String blockName) {\n        this.blockName = blockName;\n    }\n\n    public Integer getBlockIndex() {\n        return blockIndex;\n    }\n\n    public void setBlockIndex(Integer blockIndex) {\n        this.blockIndex = blockIndex;\n    }\n\n    public Integer getCrossNum() {\n        return crossNum;\n    }\n\n    public void setCrossNum(Integer crossNum) {\n        this.crossNum = crossNum;\n    }\n\n    public Timestamp getCreateTime() {\n        return createTime;\n    }\n\n    public void setCreateTime(Timestamp createTime) {\n        this.createTime = createTime;\n    }\n\n    public Byte getIsDeleted() {\n        return isDeleted;\n    }\n\n    public void setIsDeleted(Byte isDeleted) {\n        this.isDeleted = isDeleted;\n    }\n\n    public Integer getSyncBlockId() {\n        return syncBlockId;\n    }\n\n    public void setSyncBlockId(Integer syncBlockId) {\n        this.syncBlockId = syncBlockId;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        TblAppBlockEntity that = (TblAppBlockEntity) o;\n        return blockId == that.blockId &amp;&amp; Objects.equals(blockCode, that.blockCode) &amp;&amp; Objects.equals(blockName, that.blockName) &amp;&amp; Objects.equals(blockIndex, that.blockIndex) &amp;&amp; Objects.equals(crossNum, that.crossNum) &amp;&amp; Objects.equals(createTime, that.createTime) &amp;&amp; Objects.equals(isDeleted, that.isDeleted) &amp;&amp; Objects.equals(syncBlockId, that.syncBlockId);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(blockId, blockCode, blockName, blockIndex, crossNum, createTime, isDeleted, syncBlockId);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","maven","unit-testing","junit","junit5"],"comments":[{"owner":{"account_id":148887,"reputation":4330,"user_id":1700467,"display_name":"skadya"},"score":1,"creation_date":1506071065,"post_id":46360736,"comment_id":79681314,"body_markdown":"which version of junit you are trying to use? From you test class, it appears to me you want to use junit 5 but from your maven configuration seems for junit 4.","body":"which version of junit you are trying to use? From you test class, it appears to me you want to use junit 5 but from your maven configuration seems for junit 4."},{"owner":{"account_id":1342185,"reputation":355,"user_id":1283658,"display_name":"P.An"},"score":1,"creation_date":1506071071,"post_id":46360736,"comment_id":79681317,"body_markdown":"I can&#39;t see &#39;package&#39; line in your test class? Is your test class in default package?","body":"I can&#39;t see &#39;package&#39; line in your test class? Is your test class in default package?"},{"owner":{"account_id":10412239,"reputation":3333,"user_id":7677308,"accept_rate":100,"display_name":"SilverNak"},"score":1,"creation_date":1506071213,"post_id":46360736,"comment_id":79681413,"body_markdown":"I tried to recreate your example. I get this error:\n`initializationError(package.maven.MyTest): The class package.maven.MyTest is not public.`\n\nCan you try adding public modifier to your class?","body":"I tried to recreate your example. I get this error: <code>initializationError(package.maven.MyTest): The class package.maven.MyTest is not public.</code>  Can you try adding public modifier to your class?"},{"owner":{"account_id":135174,"reputation":17875,"user_id":337819,"accept_rate":68,"display_name":"Marvo"},"score":0,"creation_date":1667798420,"post_id":46360736,"comment_id":131244722,"body_markdown":"@SilverNak that did it for me!  No errors saying as much, but you mentioned that his class wasn&#39;t public.  I looked, and none of my classes were public either.  And Eclipse created those classes for me!  How dare they!  :)  Thanks.","body":"@SilverNak that did it for me!  No errors saying as much, but you mentioned that his class wasn&#39;t public.  I looked, and none of my classes were public either.  And Eclipse created those classes for me!  How dare they!  :)  Thanks."}],"answers":[{"tags":[],"owner":{"account_id":11175092,"reputation":45706,"user_id":8200937,"display_name":"glytching"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1506071433,"creation_date":1506071433,"answer_id":46360977,"question_id":46360736,"body_markdown":"Using the Maven Surefire plugin and JUnit 5 together requires some tweaking ...\n\nFrom [the docs](http://junit.org/junit5/docs/current/user-guide/#running-tests-build-maven):\n\n&gt; The JUnit team has developed a very basic provider for Maven Surefire that lets you run JUnit 4 and JUnit Jupiter tests via mvn test. The pom.xml file in the junit5-maven-consumer project demonstrates how to use it and can serve as a starting point.\n&gt;\n&gt;   Due to a memory leak in Surefire 2.20, the junit-platform-surefire-provider currently only works with Surefire 2.19.1.\n\n    ...\n    &lt;build&gt;\n        &lt;plugins&gt;\n            ...\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.19&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n                        &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\n                        &lt;version&gt;1.0.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    ...\n\n","title":"Tests not running through Maven?","body":"<p>Using the Maven Surefire plugin and JUnit 5 together requires some tweaking ...</p>\n<p>From <a href=\"http://junit.org/junit5/docs/current/user-guide/#running-tests-build-maven\" rel=\"noreferrer\">the docs</a>:</p>\n<blockquote>\n<p>The JUnit team has developed a very basic provider for Maven Surefire that lets you run JUnit 4 and JUnit Jupiter tests via mvn test. The pom.xml file in the junit5-maven-consumer project demonstrates how to use it and can serve as a starting point.</p>\n<p>Due to a memory leak in Surefire 2.20, the junit-platform-surefire-provider currently only works with Surefire 2.19.1.</p>\n</blockquote>\n<pre><code>...\n&lt;build&gt;\n    &lt;plugins&gt;\n        ...\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.19&lt;/version&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\n                    &lt;version&gt;1.0.0&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1282139,"reputation":2420,"user_id":1236018,"accept_rate":84,"display_name":"David DeMar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1548259858,"creation_date":1548259858,"answer_id":54331363,"question_id":46360736,"body_markdown":"I was having the same problem. All the test classes were package private and JUnit 5 couldn&#39;t see them. The solution was to add this dependency to the pom file:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n        &lt;version&gt;5.3.2&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Tests not running through Maven?","body":"<p>I was having the same problem. All the test classes were package private and JUnit 5 couldn't see them. The solution was to add this dependency to the pom file:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n    &lt;version&gt;5.3.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2381486,"reputation":1692,"user_id":2083415,"accept_rate":25,"display_name":"Amazia Gur"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1550414511,"creation_date":1550414511,"answer_id":54734335,"question_id":46360736,"body_markdown":"the following pom configuration worked for me:\r\n\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n          &lt;version&gt;5.4.0&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n          &lt;version&gt;5.4.0&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\r\n          &lt;version&gt;1.4.0&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    ....\r\n    &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.19&lt;/version&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.0.0&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/plugin&gt;\r\n    ...\r\n\r\nthe plugin part as @glytching stated above","title":"Tests not running through Maven?","body":"<p>the following pom configuration worked for me:</p>\n\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n      &lt;version&gt;5.4.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;version&gt;5.4.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\n      &lt;version&gt;1.4.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n....\n&lt;plugin&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.19&lt;/version&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\n                &lt;version&gt;1.0.0&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/plugin&gt;\n...\n</code></pre>\n\n<p>the plugin part as @glytching stated above</p>\n"},{"tags":[],"owner":{"account_id":15998328,"reputation":677,"user_id":11545736,"display_name":"RudyD"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1572403993,"creation_date":1572403993,"answer_id":58618102,"question_id":46360736,"body_markdown":"This plugin worked for me:\r\n```\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.0-M3&lt;/version&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;3.0.0-M3&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n```\r\nTaken from https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit.html","title":"Tests not running through Maven?","body":"<p>This plugin worked for me:</p>\n\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M3&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n                        &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\n                        &lt;version&gt;3.0.0-M3&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n</code></pre>\n\n<p>Taken from <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit.html\" rel=\"noreferrer\">https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit.html</a></p>\n"},{"tags":[],"owner":{"account_id":997091,"reputation":1420,"user_id":1012775,"accept_rate":56,"display_name":"AndaluZ"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1635156880,"creation_date":1635156570,"answer_id":69706192,"question_id":46360736,"body_markdown":"I had the same issue, it took me days to find the solution!\r\nFirst, make sure you end your class-name with `***Test.java`, for example: `MyGreatTest.java`\r\nSecondly, make your class and methods public! This is very important, otherwise `mvn test` will ignore your test class!\r\nThirdly, I added this peace of code in the pom.xml:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"Tests not running through Maven?","body":"<p>I had the same issue, it took me days to find the solution!\nFirst, make sure you end your class-name with <code>***Test.java</code>, for example: <code>MyGreatTest.java</code>\nSecondly, make your class and methods public! This is very important, otherwise <code>mvn test</code> will ignore your test class!\nThirdly, I added this peace of code in the pom.xml:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.22.0&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25517286,"reputation":11,"user_id":19307923,"display_name":"faro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655143552,"creation_date":1655142202,"answer_id":72607012,"question_id":46360736,"body_markdown":"along with all junit dependencies like engine, api, launcher this one integrated all I guess\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\r\n    &lt;version&gt;1.9.0-M1&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\nwith latest version of surefire plugin  \r\nand it works solely as well for me without other junite dependencies","title":"Tests not running through Maven?","body":"<p>along with all junit dependencies like engine, api, launcher this one integrated all I guess</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n&lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\n&lt;version&gt;1.9.0-M1&lt;/version&gt;\n&lt;scope&gt;test&lt;/scope&gt;\n</code></pre>\n\n<p>with latest version of surefire plugin<br />\nand it works solely as well for me without other junite dependencies</p>\n"},{"tags":[],"owner":{"account_id":3155278,"reputation":197,"user_id":2667819,"display_name":"bence of outer space"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685099014,"creation_date":1685099014,"answer_id":76340178,"question_id":46360736,"body_markdown":"for me:\r\n\r\nmaven-surefire-plugin **2.19** *-&gt; tests not running*\r\n\r\nmaven-surefire-plugin **2.22.2** *-&gt; tests not running*\r\n\r\nmaven-surefire-plugin **3.1.0** *-&gt; OK*\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.13&lt;/version&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;   \r\n    ...\r\n    &lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t&lt;/plugin&gt;\r\n\r\n\r\n","title":"Tests not running through Maven?","body":"<p>for me:</p>\n<p>maven-surefire-plugin <strong>2.19</strong> <em>-&gt; tests not running</em></p>\n<p>maven-surefire-plugin <strong>2.22.2</strong> <em>-&gt; tests not running</em></p>\n<p>maven-surefire-plugin <strong>3.1.0</strong> <em>-&gt; OK</em></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;4.13&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;   \n...\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":10239869,"reputation":502,"user_id":7557609,"accept_rate":73,"display_name":"Ava"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43808,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":46360977,"answer_count":7,"score":25,"last_activity_date":1685099014,"creation_date":1506070700,"question_id":46360736,"body_markdown":"When I run my test in Maven I get this:\r\n\r\n    [INFO] -------------------------------------------------------    \r\n    [INFO]  T E S T S     \r\n    [INFO] -------------------------------------------------------   \r\n    [INFO]   \r\n    [INFO] Results:  \r\n    [INFO]   \r\n    [INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\r\n\r\nMy test class, JsonReaderTest.class, is placed in **src/test/java** and follows the correct name convention as far as I know from maven-surefire-plugin.\r\n\r\nTests run fine when run outside of Maven.\r\n\r\nI have this plugin included in my pom:\r\n\r\n    &lt;!-- Executes tests --&gt;\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.20.1&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n\r\nand this in my dependencies:\r\n\r\n    &lt;!-- Test --&gt;\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nand my test class:\r\n\r\n    package org.avalin.optaplanner.test.java;\r\n\r\n    import org.avalin.optaplanner.json.JsonReader;\r\n    import org.junit.jupiter.api.*;\r\n\r\n    import java.io.FileNotFoundException;\r\n    import java.nio.file.Paths;\r\n\r\n    import static org.junit.jupiter.api.Assertions.*;\r\n    \r\n    public class JsonReaderTest\r\n    {\r\n        @Test\r\n        @DisplayName(&quot;Test: No such file at designated path&quot;)\r\n        void testloadFromJsonTest() throws Exception\r\n        {\r\n            Throwable exception = assertThrows(FileNotFoundException.class, \r\n            ()-&gt; JsonReader.loadFromJson(&quot;.json&quot;));\r\n            assertEquals(&quot;.json (No such file or directory)&quot;, \r\n            exception.getMessage());\r\n        }\r\n\r\n        @Test\r\n        @DisplayName(&quot;Test: Load Shifts from JSON (String instead of number)&quot;)\r\n        void testLoadShiftsFromJson3()\r\n        {\r\n            Throwable exception = assertThrows(NumberFormatException.class, ()-&gt; JsonReader.loadFromJson(Paths.get(&quot;src/main/resources/org/avalin/optaplanner/json/faultyShift-2.json&quot;).toAbsolutePath().toString()));\r\n            assertEquals(&quot;\\nOne or more of your \\&quot;shift\\&quot; elements has a number format exception.\\n&quot; +\r\n                &quot;Check for errors in your JSON-properties.\\n&quot; +\r\n                &quot;(Did you insert a string instead of a number in id?)&quot;, \r\n            exception.getMessage());\r\n        }\r\n\r\n        @Test\r\n        @DisplayName(&quot;Test: JSON is correctly loaded&quot;)\r\n        void testJsonIsLoaded()\r\n        {\r\n            assertFalse(JsonReader.jsonIsLoaded());\r\n        }\r\n\r\n        @AfterEach\r\n        void cleanJsonReader()\r\n        {\r\n            JsonReader.cleanJsonReader();\r\n        }\r\n    }\r\n\r\nWhen I tried googling this problem, it seemed the only thing that could be wrong would be naming convention (class had to end with or start with test, I tested both with no change) and that the test class should be put into the appropriate folder.\r\n\r\nWhen I run: **mvn -Dtest=JsonReaderTest test**\r\n\r\nI get following:\r\n\r\n    Failed to execute goal org.apache.maven.plugins:maven-surefire-\r\n    plugin:2.20.1:test (default-test) on project optaplanner: No tests were \r\n    executed!  \r\n\r\nThe JsonReaderTest.class is also correctly generated inside target/test-classes\r\n\r\nWhat could be the culprit here?","title":"Tests not running through Maven?","body":"<p>When I run my test in Maven I get this:</p>\n\n<pre><code>[INFO] -------------------------------------------------------    \n[INFO]  T E S T S     \n[INFO] -------------------------------------------------------   \n[INFO]   \n[INFO] Results:  \n[INFO]   \n[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\n</code></pre>\n\n<p>My test class, JsonReaderTest.class, is placed in <strong>src/test/java</strong> and follows the correct name convention as far as I know from maven-surefire-plugin.</p>\n\n<p>Tests run fine when run outside of Maven.</p>\n\n<p>I have this plugin included in my pom:</p>\n\n<pre><code>&lt;!-- Executes tests --&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.20.1&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>and this in my dependencies:</p>\n\n<pre><code>&lt;!-- Test --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n    &lt;version&gt;5.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n    &lt;version&gt;5.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>and my test class:</p>\n\n<pre><code>package org.avalin.optaplanner.test.java;\n\nimport org.avalin.optaplanner.json.JsonReader;\nimport org.junit.jupiter.api.*;\n\nimport java.io.FileNotFoundException;\nimport java.nio.file.Paths;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\npublic class JsonReaderTest\n{\n    @Test\n    @DisplayName(\"Test: No such file at designated path\")\n    void testloadFromJsonTest() throws Exception\n    {\n        Throwable exception = assertThrows(FileNotFoundException.class, \n        ()-&gt; JsonReader.loadFromJson(\".json\"));\n        assertEquals(\".json (No such file or directory)\", \n        exception.getMessage());\n    }\n\n    @Test\n    @DisplayName(\"Test: Load Shifts from JSON (String instead of number)\")\n    void testLoadShiftsFromJson3()\n    {\n        Throwable exception = assertThrows(NumberFormatException.class, ()-&gt; JsonReader.loadFromJson(Paths.get(\"src/main/resources/org/avalin/optaplanner/json/faultyShift-2.json\").toAbsolutePath().toString()));\n        assertEquals(\"\\nOne or more of your \\\"shift\\\" elements has a number format exception.\\n\" +\n            \"Check for errors in your JSON-properties.\\n\" +\n            \"(Did you insert a string instead of a number in id?)\", \n        exception.getMessage());\n    }\n\n    @Test\n    @DisplayName(\"Test: JSON is correctly loaded\")\n    void testJsonIsLoaded()\n    {\n        assertFalse(JsonReader.jsonIsLoaded());\n    }\n\n    @AfterEach\n    void cleanJsonReader()\n    {\n        JsonReader.cleanJsonReader();\n    }\n}\n</code></pre>\n\n<p>When I tried googling this problem, it seemed the only thing that could be wrong would be naming convention (class had to end with or start with test, I tested both with no change) and that the test class should be put into the appropriate folder.</p>\n\n<p>When I run: <strong>mvn -Dtest=JsonReaderTest test</strong></p>\n\n<p>I get following:</p>\n\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-surefire-\nplugin:2.20.1:test (default-test) on project optaplanner: No tests were \nexecuted!  \n</code></pre>\n\n<p>The JsonReaderTest.class is also correctly generated inside target/test-classes</p>\n\n<p>What could be the culprit here?</p>\n"},{"tags":["java","xml","signature","digital"],"owner":{"account_id":6205610,"reputation":31,"user_id":4833733,"display_name":"Abdullah Al Mamun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685098872,"creation_date":1685098339,"question_id":76340090,"body_markdown":"I am Working on XML Digital Signature in Java (JDK-1.8).\r\n\r\nI am trying to Generate the Digest for the Document.\r\n```&lt;BusinessMessage&gt;\r\n  &lt;AppHdr xmlns=&quot;urn:iso:std:iso:20022:tech:xsd:head.001.001.01&quot;&gt;&lt;/AppHdr&gt;\r\n  &lt;Document xmlns=&quot;urn:iso:std:iso:20022:tech:xsd:camt.003.001.07&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;urn:iso:std:iso:20022:tech:xsd:camt.003.001.07 camt.003.001.07.xsd&quot;&gt;\r\n    &lt;GetAcct&gt;\r\n      &lt;MsgHdr&gt;\r\n        &lt;MsgId&gt;MTN000004&lt;/MsgId&gt;\r\n        &lt;CreDtTm&gt;2021-04-22T15:41:29+02:00&lt;/CreDtTm&gt;\r\n      &lt;/MsgHdr&gt;\r\n      &lt;AcctQryDef&gt;\r\n        &lt;AcctCrit&gt;\r\n          &lt;NewCrit&gt;\r\n            &lt;SchCrit&gt;\r\n              &lt;AcctId&gt;\r\n                &lt;EQ&gt;\r\n                  &lt;Othr&gt;\r\n                    &lt;Id&gt;250788123456&lt;/Id&gt;\r\n                  &lt;/Othr&gt;\r\n                &lt;/EQ&gt;\r\n              &lt;/AcctId&gt;\r\n              &lt;AcctOwnr&gt;\r\n                &lt;CtctDtls&gt;\r\n                  &lt;MobNb&gt;250788123456&lt;/MobNb&gt;\r\n                &lt;/CtctDtls&gt;\r\n              &lt;/AcctOwnr&gt;\r\n            &lt;/SchCrit&gt;\r\n          &lt;/NewCrit&gt;\r\n        &lt;/AcctCrit&gt;\r\n      &lt;/AcctQryDef&gt;\r\n    &lt;/GetAcct&gt;\r\n  &lt;/Document&gt;\r\n&lt;/BusinessMessage&gt;\r\n```\r\n\r\n\r\nand I am trying the below\r\n\r\n```XMLSignatureFactory signatureFactory = XMLSignatureFactory.getInstance(&quot;DOM&quot;);\r\nTransform transform = signatureFactory.newTransform(&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;,(TransformParameterSpec) null);\r\nReference reference = signatureFactory.newReference(&quot;&quot;, signatureFactory.newDigestMethod(&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;, null), Arrays.asList(new Transform[]{transform}), null, null);\r\n```\r\n\r\nHere we need to pass the URI to generate the digest, but there is no Id in my *Document*. \r\n\r\nWhen I have tried to push as a string, It is not generating correctly. Like below\r\n```\r\nXMLSignatureFactory signatureFactory = XMLSignatureFactory.getInstance(&quot;DOM&quot;);\r\n\r\n        MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n\r\n        String msg = &quot;&lt;Document xmlns=\\&quot;urn:iso:std:iso:20022:tech:xsd:camt.003.001.07\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot; xsi:schemaLocation=\\&quot;urn:iso:std:iso:20022:tech:xsd:camt.003.001.07 camt.003.001.07.xsd\\&quot;&gt;\\n&quot; +\r\n                &quot;  &lt;GetAcct&gt;\\n&quot; +\r\n                &quot;    &lt;MsgHdr&gt;\\n&quot; +\r\n                &quot;      &lt;MsgId&gt;MTN000004&lt;/MsgId&gt;\\n&quot; +\r\n                &quot;      &lt;CreDtTm&gt;2021-04-22T15:41:29+02:00&lt;/CreDtTm&gt;\\n&quot; +\r\n                &quot;    &lt;/MsgHdr&gt;\\n&quot; +\r\n                &quot;    &lt;AcctQryDef&gt;\\n&quot; +\r\n                &quot;      &lt;AcctCrit&gt;\\n&quot; +\r\n                &quot;        &lt;NewCrit&gt;\\n&quot; +\r\n                &quot;          &lt;SchCrit&gt;\\n&quot; +\r\n                &quot;            &lt;AcctId&gt;\\n&quot; +\r\n                &quot;              &lt;EQ&gt;\\n&quot; +\r\n                &quot;                &lt;Othr&gt;\\n&quot; +\r\n                &quot;                  &lt;Id&gt;250788123456&lt;/Id&gt;\\n&quot; +\r\n                &quot;                &lt;/Othr&gt;\\n&quot; +\r\n                &quot;              &lt;/EQ&gt;\\n&quot; +\r\n                &quot;            &lt;/AcctId&gt;\\n&quot; +\r\n                &quot;            &lt;AcctOwnr&gt;\\n&quot; +\r\n                &quot;              &lt;CtctDtls&gt;\\n&quot; +\r\n                &quot;                &lt;MobNb&gt;250788123456&lt;/MobNb&gt;\\n&quot; +\r\n                &quot;              &lt;/CtctDtls&gt;\\n&quot; +\r\n                &quot;            &lt;/AcctOwnr&gt;\\n&quot; +\r\n                &quot;          &lt;/SchCrit&gt;\\n&quot; +\r\n                &quot;        &lt;/NewCrit&gt;\\n&quot; +\r\n                &quot;      &lt;/AcctCrit&gt;\\n&quot; +\r\n                &quot;    &lt;/AcctQryDef&gt;\\n&quot; +\r\n                &quot;  &lt;/GetAcct&gt;\\n&quot; +\r\n                &quot;&lt;/Document&gt;&quot;;\r\n\r\n        md.update(msg.getBytes());\r\n        byte[] digest = md.digest();\r\n\r\n        Transform transform = signatureFactory.newTransform(canonicalizationMethod,(TransformParameterSpec) null);\r\n        Reference reference = signatureFactory.newReference(uri, signatureFactory.newDigestMethod(digestMethod, null),\r\n                Arrays.asList(new Transform[]{transform}), null, null, digest);\r\n```\r\n\r\nHow can I create the digest?\r\n\r\n\r\n\r\nHere I was reading the File like below: \r\n```DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\nDocument doc = dbf.newDocumentBuilder().parse(new FileInputStream(&quot;D:\\\\ss\\\\document1.xml&quot;/*args[0]*/));\r\n```\r\n   \r\nAccording to my partner DigestValue should be **7Ml7CtCRHElRleLjAUXDylAJZhv/WN8Ftst+8d74xMo=**\r\n","title":"XML Digital Signature in java(JDK1.8) digest generation issue for Document with no Id","body":"<p>I am Working on XML Digital Signature in Java (JDK-1.8).</p>\n<p>I am trying to Generate the Digest for the Document.</p>\n<pre><code>  &lt;AppHdr xmlns=&quot;urn:iso:std:iso:20022:tech:xsd:head.001.001.01&quot;&gt;&lt;/AppHdr&gt;\n  &lt;Document xmlns=&quot;urn:iso:std:iso:20022:tech:xsd:camt.003.001.07&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;urn:iso:std:iso:20022:tech:xsd:camt.003.001.07 camt.003.001.07.xsd&quot;&gt;\n    &lt;GetAcct&gt;\n      &lt;MsgHdr&gt;\n        &lt;MsgId&gt;MTN000004&lt;/MsgId&gt;\n        &lt;CreDtTm&gt;2021-04-22T15:41:29+02:00&lt;/CreDtTm&gt;\n      &lt;/MsgHdr&gt;\n      &lt;AcctQryDef&gt;\n        &lt;AcctCrit&gt;\n          &lt;NewCrit&gt;\n            &lt;SchCrit&gt;\n              &lt;AcctId&gt;\n                &lt;EQ&gt;\n                  &lt;Othr&gt;\n                    &lt;Id&gt;250788123456&lt;/Id&gt;\n                  &lt;/Othr&gt;\n                &lt;/EQ&gt;\n              &lt;/AcctId&gt;\n              &lt;AcctOwnr&gt;\n                &lt;CtctDtls&gt;\n                  &lt;MobNb&gt;250788123456&lt;/MobNb&gt;\n                &lt;/CtctDtls&gt;\n              &lt;/AcctOwnr&gt;\n            &lt;/SchCrit&gt;\n          &lt;/NewCrit&gt;\n        &lt;/AcctCrit&gt;\n      &lt;/AcctQryDef&gt;\n    &lt;/GetAcct&gt;\n  &lt;/Document&gt;\n&lt;/BusinessMessage&gt;\n</code></pre>\n<p>and I am trying the below</p>\n<pre><code>Transform transform = signatureFactory.newTransform(&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;,(TransformParameterSpec) null);\nReference reference = signatureFactory.newReference(&quot;&quot;, signatureFactory.newDigestMethod(&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;, null), Arrays.asList(new Transform[]{transform}), null, null);\n</code></pre>\n<p>Here we need to pass the URI to generate the digest, but there is no Id in my <em>Document</em>.</p>\n<p>When I have tried to push as a string, It is not generating correctly. Like below</p>\n<pre><code>XMLSignatureFactory signatureFactory = XMLSignatureFactory.getInstance(&quot;DOM&quot;);\n\n        MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\n\n        String msg = &quot;&lt;Document xmlns=\\&quot;urn:iso:std:iso:20022:tech:xsd:camt.003.001.07\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot; xsi:schemaLocation=\\&quot;urn:iso:std:iso:20022:tech:xsd:camt.003.001.07 camt.003.001.07.xsd\\&quot;&gt;\\n&quot; +\n                &quot;  &lt;GetAcct&gt;\\n&quot; +\n                &quot;    &lt;MsgHdr&gt;\\n&quot; +\n                &quot;      &lt;MsgId&gt;MTN000004&lt;/MsgId&gt;\\n&quot; +\n                &quot;      &lt;CreDtTm&gt;2021-04-22T15:41:29+02:00&lt;/CreDtTm&gt;\\n&quot; +\n                &quot;    &lt;/MsgHdr&gt;\\n&quot; +\n                &quot;    &lt;AcctQryDef&gt;\\n&quot; +\n                &quot;      &lt;AcctCrit&gt;\\n&quot; +\n                &quot;        &lt;NewCrit&gt;\\n&quot; +\n                &quot;          &lt;SchCrit&gt;\\n&quot; +\n                &quot;            &lt;AcctId&gt;\\n&quot; +\n                &quot;              &lt;EQ&gt;\\n&quot; +\n                &quot;                &lt;Othr&gt;\\n&quot; +\n                &quot;                  &lt;Id&gt;250788123456&lt;/Id&gt;\\n&quot; +\n                &quot;                &lt;/Othr&gt;\\n&quot; +\n                &quot;              &lt;/EQ&gt;\\n&quot; +\n                &quot;            &lt;/AcctId&gt;\\n&quot; +\n                &quot;            &lt;AcctOwnr&gt;\\n&quot; +\n                &quot;              &lt;CtctDtls&gt;\\n&quot; +\n                &quot;                &lt;MobNb&gt;250788123456&lt;/MobNb&gt;\\n&quot; +\n                &quot;              &lt;/CtctDtls&gt;\\n&quot; +\n                &quot;            &lt;/AcctOwnr&gt;\\n&quot; +\n                &quot;          &lt;/SchCrit&gt;\\n&quot; +\n                &quot;        &lt;/NewCrit&gt;\\n&quot; +\n                &quot;      &lt;/AcctCrit&gt;\\n&quot; +\n                &quot;    &lt;/AcctQryDef&gt;\\n&quot; +\n                &quot;  &lt;/GetAcct&gt;\\n&quot; +\n                &quot;&lt;/Document&gt;&quot;;\n\n        md.update(msg.getBytes());\n        byte[] digest = md.digest();\n\n        Transform transform = signatureFactory.newTransform(canonicalizationMethod,(TransformParameterSpec) null);\n        Reference reference = signatureFactory.newReference(uri, signatureFactory.newDigestMethod(digestMethod, null),\n                Arrays.asList(new Transform[]{transform}), null, null, digest);\n</code></pre>\n<p>How can I create the digest?</p>\n<p>Here I was reading the File like below:</p>\n<pre><code>Document doc = dbf.newDocumentBuilder().parse(new FileInputStream(&quot;D:\\\\ss\\\\document1.xml&quot;/*args[0]*/));\n</code></pre>\n<p>According to my partner DigestValue should be <strong>7Ml7CtCRHElRleLjAUXDylAJZhv/WN8Ftst+8d74xMo=</strong></p>\n"},{"tags":["java","garbage-collection","java-7","heap-memory","g1gc"],"comments":[{"owner":{"account_id":103560,"reputation":5792,"user_id":277307,"accept_rate":100,"display_name":"John McCarthy"},"score":6,"creation_date":1371137147,"post_id":8111310,"comment_id":24721897,"body_markdown":"[Getting Started with the G1 Garbage Collector](http://www.oracle.com/webfolder/technetwork/tutorials/obe/java/G1GettingStarted/index.html) also gives a good overview with best practices.","body":"<a href=\"http://www.oracle.com/webfolder/technetwork/tutorials/obe/java/G1GettingStarted/index.html\" rel=\"nofollow noreferrer\">Getting Started with the G1 Garbage Collector</a> also gives a good overview with best practices."},{"owner":{"account_id":2391798,"reputation":443,"user_id":2091508,"display_name":"emkays"},"score":1,"creation_date":1471687376,"post_id":8111310,"comment_id":65454952,"body_markdown":"http://www.oracle.com/technetwork/articles/java/g1gc-1984535.html","body":"<a href=\"http://www.oracle.com/technetwork/articles/java/g1gc-1984535.html\" rel=\"nofollow noreferrer\">oracle.com/technetwork/articles/java/g1gc-1984535.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":182820,"reputation":5625,"user_id":417791,"accept_rate":96,"display_name":"Wojciech Owczarczyk"},"down_vote_count":3,"up_vote_count":25,"is_accepted":false,"score":22,"last_activity_date":1321185400,"creation_date":1321185400,"answer_id":8111341,"question_id":8111310,"body_markdown":"Yes, G1 is the new standard garbage collector in Java 1.7 JVM.\r\n\r\n[Here][1] you can find plenty of information on how to use and configre the new garbage collector:\r\n\r\n&gt; Using G1 G1 is still considered experimental and can be enabled with\r\n&gt; the following two parameters:\r\n&gt; \r\n&gt; -XX:+UnlockExperimentalVMOptions -XX:+UseG1GC\r\n&gt; \r\n&gt; To set a GC pause time goal, use the following parameter:\r\n&gt; \r\n&gt; -XX:MaxGCPauseMillis =50 (for a pause time target of 50ms)\r\n&gt; \r\n&gt; With G1, a time interval can be specified during which a GC pause\r\n&gt; should last no longer than the time given above:\r\n&gt; \r\n&gt; -XX:GCPauseIntervalMillis =200 (for a pause interval target of 200ms)\r\n&gt; \r\n&gt; Note that the above two options represent goals, not promises or\r\n&gt; guarantees. They might work well in some situations but not in others,\r\n&gt; and the GC might not always be able to obey them.\r\n&gt; \r\n&gt; Alternatively, the size of the young generation can be specified\r\n&gt; explicitly to impact evacuation pause times:\r\n&gt; \r\n&gt; -XX:+G1YoungGenSize=512m (for a 512 megabyte young generation)\r\n&gt; \r\n&gt; G1 also uses the equivalent of survivor spaces, which are, naturally,\r\n&gt; a set of (potentially non-contiguous) regions. Their size can be\r\n&gt; specified with the usual parameters (e.g., -XX:SurvivorRatio=6).\r\n&gt; \r\n&gt; Finally, to run G1 at its full potential, try setting these two\r\n&gt; parameters which are currently disabled by default because they may\r\n&gt; uncover a rare race condition:\r\n&gt; \r\n&gt; -XX:+G1ParallelRSetUpdatingEnabled -XX:+G1ParallelRSetScanningEnabled\r\n&gt; \r\n&gt; One more thing to note is that G1 is very verbose compared to other\r\n&gt; HotSpot GCs when -XX:+PrintGCDetails is set. This is because it prints\r\n&gt; per-GC-thread timings and other information very helpful in profiling\r\n&gt; and trouble-shooting. If you want a more concise GC log, please switch\r\n&gt; to using -verbosegc (though it is recommended that the more detailed\r\n&gt; GC log be obtained).\r\n\r\nI have also found [this][2] article very helpful in understanding the inners of G1.\r\n\r\nEven more info [here][3].\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/tech/g1-intro-jsp-135488.html\r\n  [2]: http://drdobbs.com/java/219401061?pgno=1\r\n  [3]: https://stackoverflow.com/questions/2254041/java-g1-garbage-collection-in-production","title":"Java 7 (JDK 7) garbage collection and documentation on G1","body":"<p>Yes, G1 is the new standard garbage collector in Java 1.7 JVM.</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/tech/g1-intro-jsp-135488.html\" rel=\"nofollow noreferrer\">Here</a> you can find plenty of information on how to use and configre the new garbage collector:</p>\n\n<blockquote>\n  <p>Using G1 G1 is still considered experimental and can be enabled with\n  the following two parameters:</p>\n  \n  <p>-XX:+UnlockExperimentalVMOptions -XX:+UseG1GC</p>\n  \n  <p>To set a GC pause time goal, use the following parameter:</p>\n  \n  <p>-XX:MaxGCPauseMillis =50 (for a pause time target of 50ms)</p>\n  \n  <p>With G1, a time interval can be specified during which a GC pause\n  should last no longer than the time given above:</p>\n  \n  <p>-XX:GCPauseIntervalMillis =200 (for a pause interval target of 200ms)</p>\n  \n  <p>Note that the above two options represent goals, not promises or\n  guarantees. They might work well in some situations but not in others,\n  and the GC might not always be able to obey them.</p>\n  \n  <p>Alternatively, the size of the young generation can be specified\n  explicitly to impact evacuation pause times:</p>\n  \n  <p>-XX:+G1YoungGenSize=512m (for a 512 megabyte young generation)</p>\n  \n  <p>G1 also uses the equivalent of survivor spaces, which are, naturally,\n  a set of (potentially non-contiguous) regions. Their size can be\n  specified with the usual parameters (e.g., -XX:SurvivorRatio=6).</p>\n  \n  <p>Finally, to run G1 at its full potential, try setting these two\n  parameters which are currently disabled by default because they may\n  uncover a rare race condition:</p>\n  \n  <p>-XX:+G1ParallelRSetUpdatingEnabled -XX:+G1ParallelRSetScanningEnabled</p>\n  \n  <p>One more thing to note is that G1 is very verbose compared to other\n  HotSpot GCs when -XX:+PrintGCDetails is set. This is because it prints\n  per-GC-thread timings and other information very helpful in profiling\n  and trouble-shooting. If you want a more concise GC log, please switch\n  to using -verbosegc (though it is recommended that the more detailed\n  GC log be obtained).</p>\n</blockquote>\n\n<p>I have also found <a href=\"http://drdobbs.com/java/219401061?pgno=1\" rel=\"nofollow noreferrer\">this</a> article very helpful in understanding the inners of G1.</p>\n\n<p>Even more info <a href=\"https://stackoverflow.com/questions/2254041/java-g1-garbage-collection-in-production\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":47814,"reputation":1198,"user_id":141761,"display_name":"Carey"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1321494802,"creation_date":1321494802,"answer_id":8161163,"question_id":8111310,"body_markdown":"The G1 garbage collector is not the default in my installation of Java, version 1.7.0_01. You can see for yourself by using with some extra command line options:\r\n\r\n    &gt; java -XX:+PrintCommandLineFlags -XX:+PrintGCDetails -version\r\n    -XX:InitialHeapSize=132304640 -XX:MaxHeapSize=2116874240 -XX:ParallelGCThreads=4 -XX:+PrintCommandLineFlags -XX:+PrintGCDetails -XX:+UseCompressedOops -XX:-UseLargePagesIndividualAllocation -XX:+UseParallelGC\r\n    java version &quot;1.7.0_01&quot;\r\n    Java(TM) SE Runtime Environment (build 1.7.0_01-b08)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 21.1-b02, mixed mode)\r\n    Heap\r\n     PSYoungGen      total 37696K, used 1293K [0x00000007d5eb0000, 0x00000007d88c0000, 0x0000000800000000)\r\n      eden space 32320K, 4% used [0x00000007d5eb0000,0x00000007d5ff3408,0x00000007d7e40000)\r\n      from space 5376K, 0% used [0x00000007d8380000,0x00000007d8380000,0x00000007d88c0000)\r\n      to   space 5376K, 0% used [0x00000007d7e40000,0x00000007d7e40000,0x00000007d8380000)\r\n     PSOldGen        total 86144K, used 0K [0x0000000781c00000, 0x0000000787020000, 0x00000007d5eb0000)\r\n      object space 86144K, 0% used [0x0000000781c00000,0x0000000781c00000,0x0000000787020000)\r\n     PSPermGen       total 21248K, used 2032K [0x000000077ca00000, 0x000000077dec0000, 0x0000000781c00000)\r\n      object space 21248K, 9% used [0x000000077ca00000,0x000000077cbfc288,0x000000077dec0000)\r\n\r\nYou don&#39;t need to enable experimental options to turn on the G1 collector any more, though:\r\n\r\n    &gt; java -XX:+PrintCommandLineFlags -XX:+PrintGCDetails -XX:+UseG1GC -version\r\n    -XX:InitialHeapSize=132304640 -XX:MaxHeapSize=2116874240 -XX:+PrintCommandLineFlags -XX:+PrintGCDetails -XX:+UseCompressedOops -XX:+UseG1GC -XX:-UseLargePagesIndividualAllocation\r\n    java version &quot;1.7.0_01&quot;\r\n    Java(TM) SE Runtime Environment (build 1.7.0_01-b08)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 21.1-b02, mixed mode)\r\n    Heap\r\n     garbage-first heap   total 130048K, used 0K [0x000000077ca00000, 0x0000000784900000, 0x00000007fae00000)\r\n      region size 1024K, 1 young (1024K), 0 survivors (0K)\r\n     compacting perm gen  total 20480K, used 2032K [0x00000007fae00000, 0x00000007fc200000, 0x0000000800000000)\r\n       the space 20480K,   9% used [0x00000007fae00000, 0x00000007faffc288, 0x00000007faffc400, 0x00000007fc200000)\r\n    No shared spaces configured.\r\n\r\nI don&#39;t know where you can find any good documentation.","title":"Java 7 (JDK 7) garbage collection and documentation on G1","body":"<p>The G1 garbage collector is not the default in my installation of Java, version 1.7.0_01. You can see for yourself by using with some extra command line options:</p>\n\n<pre><code>&gt; java -XX:+PrintCommandLineFlags -XX:+PrintGCDetails -version\n-XX:InitialHeapSize=132304640 -XX:MaxHeapSize=2116874240 -XX:ParallelGCThreads=4 -XX:+PrintCommandLineFlags -XX:+PrintGCDetails -XX:+UseCompressedOops -XX:-UseLargePagesIndividualAllocation -XX:+UseParallelGC\njava version \"1.7.0_01\"\nJava(TM) SE Runtime Environment (build 1.7.0_01-b08)\nJava HotSpot(TM) 64-Bit Server VM (build 21.1-b02, mixed mode)\nHeap\n PSYoungGen      total 37696K, used 1293K [0x00000007d5eb0000, 0x00000007d88c0000, 0x0000000800000000)\n  eden space 32320K, 4% used [0x00000007d5eb0000,0x00000007d5ff3408,0x00000007d7e40000)\n  from space 5376K, 0% used [0x00000007d8380000,0x00000007d8380000,0x00000007d88c0000)\n  to   space 5376K, 0% used [0x00000007d7e40000,0x00000007d7e40000,0x00000007d8380000)\n PSOldGen        total 86144K, used 0K [0x0000000781c00000, 0x0000000787020000, 0x00000007d5eb0000)\n  object space 86144K, 0% used [0x0000000781c00000,0x0000000781c00000,0x0000000787020000)\n PSPermGen       total 21248K, used 2032K [0x000000077ca00000, 0x000000077dec0000, 0x0000000781c00000)\n  object space 21248K, 9% used [0x000000077ca00000,0x000000077cbfc288,0x000000077dec0000)\n</code></pre>\n\n<p>You don't need to enable experimental options to turn on the G1 collector any more, though:</p>\n\n<pre><code>&gt; java -XX:+PrintCommandLineFlags -XX:+PrintGCDetails -XX:+UseG1GC -version\n-XX:InitialHeapSize=132304640 -XX:MaxHeapSize=2116874240 -XX:+PrintCommandLineFlags -XX:+PrintGCDetails -XX:+UseCompressedOops -XX:+UseG1GC -XX:-UseLargePagesIndividualAllocation\njava version \"1.7.0_01\"\nJava(TM) SE Runtime Environment (build 1.7.0_01-b08)\nJava HotSpot(TM) 64-Bit Server VM (build 21.1-b02, mixed mode)\nHeap\n garbage-first heap   total 130048K, used 0K [0x000000077ca00000, 0x0000000784900000, 0x00000007fae00000)\n  region size 1024K, 1 young (1024K), 0 survivors (0K)\n compacting perm gen  total 20480K, used 2032K [0x00000007fae00000, 0x00000007fc200000, 0x0000000800000000)\n   the space 20480K,   9% used [0x00000007fae00000, 0x00000007faffc288, 0x00000007faffc400, 0x00000007fc200000)\nNo shared spaces configured.\n</code></pre>\n\n<p>I don't know where you can find any good documentation.</p>\n"},{"tags":[],"owner":{"account_id":83448,"reputation":1396,"user_id":233965,"accept_rate":93,"display_name":"IceMan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1326820255,"creation_date":1326820255,"answer_id":8898774,"question_id":8111310,"body_markdown":"The documentation available at http://www.oracle.com/technetwork/java/javase/tech/g1-intro-jsp-135488.html (the link provided by Wojtek) seems to be the only official link with info but the info seems outdated as some of the flags mentioned there were only available in the test builds, they no longer exist in the production releases. Some one from Oracle should provide some updated documentation on the G1 GC.","title":"Java 7 (JDK 7) garbage collection and documentation on G1","body":"<p>The documentation available at <a href=\"http://www.oracle.com/technetwork/java/javase/tech/g1-intro-jsp-135488.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/javase/tech/g1-intro-jsp-135488.html</a> (the link provided by Wojtek) seems to be the only official link with info but the info seems outdated as some of the flags mentioned there were only available in the test builds, they no longer exist in the production releases. Some one from Oracle should provide some updated documentation on the G1 GC.</p>\n"},{"tags":[],"owner":{"account_id":1440208,"reputation":73,"user_id":1360578,"display_name":"Nitan S. Kotwal"},"down_vote_count":5,"up_vote_count":8,"is_accepted":false,"score":3,"last_activity_date":1335513056,"creation_date":1335513056,"answer_id":10346812,"question_id":8111310,"body_markdown":"No G1 is not default garbage collector in jdk 1.7.0_02.\r\nThe default garbage collector depends upon the class of machine.\r\nIf the machine is of Server class then the default garbage collector is Throughput Collector.\r\nIf the machine is of Client class then the default garbage collector is Serial Collector.","title":"Java 7 (JDK 7) garbage collection and documentation on G1","body":"<p>No G1 is not default garbage collector in jdk 1.7.0_02.\nThe default garbage collector depends upon the class of machine.\nIf the machine is of Server class then the default garbage collector is Throughput Collector.\nIf the machine is of Client class then the default garbage collector is Serial Collector.</p>\n"},{"tags":[],"owner":{"account_id":453759,"reputation":1131,"user_id":850945,"display_name":"Florakel"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1336659569,"creation_date":1336659569,"answer_id":10535999,"question_id":8111310,"body_markdown":"Oracle finally made G1 official in Java 7 U4:\r\nhttp://www.oracle.com/technetwork/java/javase/7u4-relnotes-1575007.html\r\n\r\nDescription:\r\nhttp://docs.oracle.com/javase/7/docs/technotes/guides/vm/G1.html\r\n\r\nCommand line options:\r\nhttp://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html#G1Options\r\n\r\nStill, I do not think it is the default collector in Java 7. For servers the default is the Parallel Collector as in Java 6.","title":"Java 7 (JDK 7) garbage collection and documentation on G1","body":"<p>Oracle finally made G1 official in Java 7 U4:\n<a href=\"http://www.oracle.com/technetwork/java/javase/7u4-relnotes-1575007.html\">http://www.oracle.com/technetwork/java/javase/7u4-relnotes-1575007.html</a></p>\n\n<p>Description:\n<a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/vm/G1.html\">http://docs.oracle.com/javase/7/docs/technotes/guides/vm/G1.html</a></p>\n\n<p>Command line options:\n<a href=\"http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html#G1Options\">http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html#G1Options</a></p>\n\n<p>Still, I do not think it is the default collector in Java 7. For servers the default is the Parallel Collector as in Java 6.</p>\n"},{"tags":[],"owner":{"account_id":894842,"reputation":3082,"user_id":932359,"display_name":"Luke Usherwood"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1386541204,"creation_date":1386541204,"answer_id":20459908,"question_id":8111310,"body_markdown":"*1. Is G1 the default collector in Java 7 (...)*\r\n\r\nThe rule on [this Java 5 page](http://docs.oracle.com/javase/1.5.0/docs/guide/vm/gc-ergonomics.html) is still applicable in Java 7 (and AFAIK, Java 8):\r\n\r\n&gt; On [server-class](http://docs.oracle.com/javase/1.5.0/docs/guide/vm/server-class.html) machines running the server VM, the garbage collector (GC) has changed from the previous serial collector (-XX:+UseSerialGC) to a parallel collector (-XX:+UseParallelGC).\r\n\r\nBut also consider: \r\n\r\n * 64-bit JVMs do not come with a `-client` VM, so are always &quot;server class&quot;\r\n * Since Java 7, using -XX:+UseParallelGC (whether set or implied) additionally implies -XX:+UseParallelOldGC (i.e. unless explicitly disabled)\r\n\r\nFor example, if on Windows x64 you run...\r\n\r\n * Java 7 64-bit, you get Parallel GC (for both young and old generations) by default.  \r\n * Java 8 32-bit, you get Serial GC (for both generations) by default\r\n\r\n*1. (...) how do I activate G1?*\r\n\r\nAs of Java 7, simply `-XX:+UseG1GC`. Perhaps also of interest is [when](http://docs.oracle.com/javase/7/docs/technotes/guides/vm/G1.html) you would want to:\r\n\r\n&gt; Applications running today with either the CMS or the ParallelOld garbage collector would benefit switching to G1 if the application has one or more of the following traits.\r\n&gt;\r\n&gt; - More than 50% of the Java heap is occupied with live data.\r\n&gt; - The rate of object allocation rate or promotion varies significantly.\r\n&gt; - Undesired long garbage collection or compaction pauses (longer than 0.5 to 1 second)\r\n\r\n*2. What optional settings does g1 have in Java7?*\r\n\r\nI&#39;ve not used G1 myself, but [I gather](https://bugs.java.com/bugdatabase/view_bug?bug_id=6937160) that it adheres to the same basic &quot;throughput / ergonomic&quot; flags used to tune the other parallel collectors. In my experience with the Parallel GC, `-XX:GCTimeRatio` has been the pivotal one in providing the expected speed-memory tradeoff. YMMV.\r\n\r\nG1-specific options are listed [here](http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html)\r\n\r\n*3. Were there changes to (...) cms or the parallel collector in Java 7?*\r\n\r\nDon&#39;t know, [but...](http://docs.oracle.com/javase/7/docs/technotes/guides/vm/G1.html) \r\n\r\n&gt; G1 is planned as the long term replacement for the Concurrent Mark-Sweep Collector (CMS)\r\n\r\n\r\n*4. Where can I find good documentation on garbage collection in Java 7?*\r\n\r\nIt can be a pain to find, can&#39;t it? Probably the best &quot;hub&quot; page I&#39;ve found is this one:\r\n\r\nhttp://www.oracle.com/technetwork/java/javase/tech/index-jsp-140228.html\r\n\r\nSome deep reading required, but worth the time if you need to do some tuning. Particularly insightful is: [Garbage Collector Ergonomics](http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html)\r\n","title":"Java 7 (JDK 7) garbage collection and documentation on G1","body":"<p><em>1. Is G1 the default collector in Java 7 (...)</em></p>\n<p>The rule on <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/vm/gc-ergonomics.html\" rel=\"nofollow noreferrer\">this Java 5 page</a> is still applicable in Java 7 (and AFAIK, Java 8):</p>\n<blockquote>\n<p>On <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/vm/server-class.html\" rel=\"nofollow noreferrer\">server-class</a> machines running the server VM, the garbage collector (GC) has changed from the previous serial collector (-XX:+UseSerialGC) to a parallel collector (-XX:+UseParallelGC).</p>\n</blockquote>\n<p>But also consider:</p>\n<ul>\n<li>64-bit JVMs do not come with a <code>-client</code> VM, so are always &quot;server class&quot;</li>\n<li>Since Java 7, using -XX:+UseParallelGC (whether set or implied) additionally implies -XX:+UseParallelOldGC (i.e. unless explicitly disabled)</li>\n</ul>\n<p>For example, if on Windows x64 you run...</p>\n<ul>\n<li>Java 7 64-bit, you get Parallel GC (for both young and old generations) by default.</li>\n<li>Java 8 32-bit, you get Serial GC (for both generations) by default</li>\n</ul>\n<p><em>1. (...) how do I activate G1?</em></p>\n<p>As of Java 7, simply <code>-XX:+UseG1GC</code>. Perhaps also of interest is <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/vm/G1.html\" rel=\"nofollow noreferrer\">when</a> you would want to:</p>\n<blockquote>\n<p>Applications running today with either the CMS or the ParallelOld garbage collector would benefit switching to G1 if the application has one or more of the following traits.</p>\n<ul>\n<li>More than 50% of the Java heap is occupied with live data.</li>\n<li>The rate of object allocation rate or promotion varies significantly.</li>\n<li>Undesired long garbage collection or compaction pauses (longer than 0.5 to 1 second)</li>\n</ul>\n</blockquote>\n<p><em>2. What optional settings does g1 have in Java7?</em></p>\n<p>I've not used G1 myself, but <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6937160\" rel=\"nofollow noreferrer\">I gather</a> that it adheres to the same basic &quot;throughput / ergonomic&quot; flags used to tune the other parallel collectors. In my experience with the Parallel GC, <code>-XX:GCTimeRatio</code> has been the pivotal one in providing the expected speed-memory tradeoff. YMMV.</p>\n<p>G1-specific options are listed <a href=\"http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html\" rel=\"nofollow noreferrer\">here</a></p>\n<p><em>3. Were there changes to (...) cms or the parallel collector in Java 7?</em></p>\n<p>Don't know, <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/vm/G1.html\" rel=\"nofollow noreferrer\">but...</a></p>\n<blockquote>\n<p>G1 is planned as the long term replacement for the Concurrent Mark-Sweep Collector (CMS)</p>\n</blockquote>\n<p><em>4. Where can I find good documentation on garbage collection in Java 7?</em></p>\n<p>It can be a pain to find, can't it? Probably the best &quot;hub&quot; page I've found is this one:</p>\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/tech/index-jsp-140228.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/java/javase/tech/index-jsp-140228.html</a></p>\n<p>Some deep reading required, but worth the time if you need to do some tuning. Particularly insightful is: <a href=\"http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html\" rel=\"nofollow noreferrer\">Garbage Collector Ergonomics</a></p>\n"},{"tags":[],"owner":{"account_id":5597467,"reputation":1,"user_id":4434768,"display_name":"Zoltan Juhasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1420754594,"creation_date":1420754594,"answer_id":27850333,"question_id":8111310,"body_markdown":"By default you don&#39;t really want to use G1 collector, as it is not really better than the others. It is only good for special purposes.\r\n\r\nIn low latency application is is sligthly better than CMS, as it has a little bit shorter, and more predictable pause times. In exchange the throughput is much worse than CMS in exchange.\r\n\r\nSo it is only good if the latency is important, but the throughput is not important at all. If both are important, then stay with CMS.","title":"Java 7 (JDK 7) garbage collection and documentation on G1","body":"<p>By default you don't really want to use G1 collector, as it is not really better than the others. It is only good for special purposes.</p>\n\n<p>In low latency application is is sligthly better than CMS, as it has a little bit shorter, and more predictable pause times. In exchange the throughput is much worse than CMS in exchange.</p>\n\n<p>So it is only good if the latency is important, but the throughput is not important at all. If both are important, then stay with CMS.</p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1685098553,"creation_date":1450030776,"answer_id":34254605,"question_id":8111310,"body_markdown":" *1. Is G1 the default collector in Java 7 and if not how do I activate G1?*\r\n  \r\nG1 is not default collector in Java 7. `-XX:+UseG1GC` will enable G1GC \r\n\r\n *2. What optional settings does g1 have in Java7?*\r\n\r\nThere are many. Have a look at this [oracle documentation page][1] for complete information.\r\n\r\n&gt; The G1 GC is an adaptive garbage collector with defaults that enable it to work efficiently without modification. \r\n\r\n***Due to this reason, customize critical parameters***\r\n\r\n    -XX:MaxGCPauseMillis\r\n    -XX:G1HeapRegionSize\r\n    -XX:ParallelGCThreads\r\n    -XX:ConcGCThreads\r\n\r\n***and leave all other parameters to default value***.\r\n\r\nYou have re-configured many G1GC parameters, which are not required if you follow above documentation page. Please cross check with above recommendations especially on **ParallelGCThreads** and **ConcGCThreads**, which are to be based on your CPU cores. Remove re-configuration of un-necessary parameters. \r\n\r\n**Young Generation Size**: Avoid explicitly setting young generation size with the `-Xmn` option `-XX:NewRatio`.  *Fixing the size of the young generation overrides the target pause-time goal*.\r\n\r\n*3. Were there any changes made to other collectors like cms or the parallel collector in Java 7?*\r\n\r\nThere are some changes with Java 7. Have a look at this [oracle release notes][2] page.\r\n\r\n *4. Where can I find good documentation on garbage collection in Java 7?*\r\n\r\nRefer to [oracle tutorial page][3] \r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/articles/java/g1gc-1984535.html\r\n  [2]: http://www.oracle.com/technetwork/java/javase/jdk7-relnotes-418459.html\r\n  [3]: http://www.oracle.com/webfolder/technetwork/tutorials/obe/java/gc01/index.html","title":"Java 7 (JDK 7) garbage collection and documentation on G1","body":"<p><em>1. Is G1 the default collector in Java 7 and if not how do I activate G1?</em></p>\n<p>G1 is not default collector in Java 7. <code>-XX:+UseG1GC</code> will enable G1GC</p>\n<p><em>2. What optional settings does g1 have in Java7?</em></p>\n<p>There are many. Have a look at this <a href=\"http://www.oracle.com/technetwork/articles/java/g1gc-1984535.html\" rel=\"nofollow noreferrer\">oracle documentation page</a> for complete information.</p>\n<blockquote>\n<p>The G1 GC is an adaptive garbage collector with defaults that enable it to work efficiently without modification.</p>\n</blockquote>\n<p><em><strong>Due to this reason, customize critical parameters</strong></em></p>\n<pre><code>-XX:MaxGCPauseMillis\n-XX:G1HeapRegionSize\n-XX:ParallelGCThreads\n-XX:ConcGCThreads\n</code></pre>\n<p><em><strong>and leave all other parameters to default value</strong></em>.</p>\n<p>You have re-configured many G1GC parameters, which are not required if you follow above documentation page. Please cross check with above recommendations especially on <strong>ParallelGCThreads</strong> and <strong>ConcGCThreads</strong>, which are to be based on your CPU cores. Remove re-configuration of un-necessary parameters.</p>\n<p><strong>Young Generation Size</strong>: Avoid explicitly setting young generation size with the <code>-Xmn</code> option <code>-XX:NewRatio</code>.  <em>Fixing the size of the young generation overrides the target pause-time goal</em>.</p>\n<p><em>3. Were there any changes made to other collectors like cms or the parallel collector in Java 7?</em></p>\n<p>There are some changes with Java 7. Have a look at this <a href=\"http://www.oracle.com/technetwork/java/javase/jdk7-relnotes-418459.html\" rel=\"nofollow noreferrer\">oracle release notes</a> page.</p>\n<p><em>4. Where can I find good documentation on garbage collection in Java 7?</em></p>\n<p>Refer to <a href=\"http://www.oracle.com/webfolder/technetwork/tutorials/obe/java/gc01/index.html\" rel=\"nofollow noreferrer\">oracle tutorial page</a></p>\n"}],"owner":{"account_id":453759,"reputation":1131,"user_id":850945,"display_name":"Florakel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102610,"favorite_count":0,"down_vote_count":0,"up_vote_count":82,"answer_count":8,"score":82,"last_activity_date":1685098553,"creation_date":1321185030,"question_id":8111310,"body_markdown":"**Java 7** has been out for a while now, but I cannot find any good resources on the configuration of the **garbage collectors**, specifically the new **G1 collector**.\r\n\r\nMy questions:\r\n\r\n1. Is G1 the default collector in Java 7 and if not how do I activate G1?\r\n2. What optional settings does g1 have in Java7?\r\n3. Were there any changes made to other collectors like *cms* or the *parallel collector* in Java 7?\r\n4. Where can I find good documentation on garbage collection in Java 7? ","title":"Java 7 (JDK 7) garbage collection and documentation on G1","body":"<p><strong>Java 7</strong> has been out for a while now, but I cannot find any good resources on the configuration of the <strong>garbage collectors</strong>, specifically the new <strong>G1 collector</strong>.</p>\n\n<p>My questions:</p>\n\n<ol>\n<li>Is G1 the default collector in Java 7 and if not how do I activate G1?</li>\n<li>What optional settings does g1 have in Java7?</li>\n<li>Were there any changes made to other collectors like <em>cms</em> or the <em>parallel collector</em> in Java 7?</li>\n<li>Where can I find good documentation on garbage collection in Java 7? </li>\n</ol>\n"},{"tags":["java","cryptography","aes-gcm"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1685036544,"post_id":76334893,"comment_id":134608824,"body_markdown":"Just for completeness please edit your question to include the code for `stringToByteArray`.","body":"Just for completeness please edit your question to include the code for <code>stringToByteArray</code>."}],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685040887,"creation_date":1685039406,"answer_id":76335282,"question_id":76334893,"body_markdown":"The second test case uses no AAD but a plaintext of 16 0x00 values (you seem to confuse plaintext and AAD):\r\n```none\r\nK\t00000000000000000000000000000000\r\nP\t00000000000000000000000000000000\r\nIV\t000000000000000000000000\r\n...\r\nC\t0388dace60b6a392f328c2b971b2fe78\r\nT \tab6e47d42cec13bdf53a67b21257bddf\r\n```\r\n\r\nFurthermore, it must be taken into account that Java concatenates ciphertext and tag. The following code implements this correctly and is executed successfully:\r\n\r\n```java\r\n...\r\nbyte[] expected = stringToByteArray(&quot;0388dace60b6a392f328c2b971b2fe78ab6e47d42cec13bdf53a67b21257bddf&quot;, 32); // Fix 1: Java concatenates ciphertext and Tag\r\nCipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\nGCMParameterSpec parameterSpec = new GCMParameterSpec(128, stringToByteArray(&quot;0&quot;, 12));\r\nSecretKeySpec secretKey = new SecretKeySpec(stringToByteArray(&quot;0&quot;, 16), &quot;AES&quot;);\r\ncipher.init(Cipher.ENCRYPT_MODE, secretKey, parameterSpec);\r\n//byte[] aad = stringToByteArray(&quot;0&quot;, 12);      // Fix 2: No AAD specified\r\n//cipher.updateAAD(aad);\r\nbyte[] plaintext = stringToByteArray(&quot;0&quot;, 16);  // Fix 3 specified plaintext: 16 0x00 values \r\nbyte[] cipherText = cipher.doFinal(plaintext);  \r\n\r\nif (Arrays.equals(cipherText, expected)) {\r\n    System.out.println(&quot;Vectors compared OK&quot;);\r\n} else {\r\n    System.out.println(&quot;Vectors compared failed&quot;);\r\n    System.out.print(&quot;Expected:&quot;);\r\n    printByteArray(expected);\r\n    System.out.print(&quot;Received:&quot;);\r\n    printByteArray(cipherText);\r\n}\r\n...\r\n```\r\n\r\n---------\r\n\r\nAAD are specified e.g. in the fourth test case:\r\n\r\n```none\r\nK   feffe9928665731c6d6a8f9467308308\r\nP   d9313225f88406e5a55909c5aff5269a86a7a9531534f7da2e4c303d8a318a721c3c0c95956809532fcf0e2449a6b525b16aedf5aa0de657ba637b39\r\nA\tfeedfacedeadbeeffeedfacedeadbeefabaddad2\r\nIV  cafebabefacedbaddecaf888\r\n...\r\nC   42831ec2217774244b7221b784d0d49ce3aa212f2c02a4e035c17e2329aca12e21d514b25466931c7d8f6a5aac84aa051ba30b396a0aac973d58e091\r\nT   5bc94fbc3221a5db94fae95ae7121a47\r\n```\r\nwhich is to be implemented as follows (now the `updateAAD()` call is required):\r\n\r\n```java\r\nbyte[] expected = stringToByteArray(&quot;42831ec2217774244b7221b784d0d49ce3aa212f2c02a4e035c17e2329aca12e21d514b25466931c7d8f6a5aac84aa051ba30b396a0aac973d58e0915bc94fbc3221a5db94fae95ae7121a47&quot;, 76);\r\nCipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\nGCMParameterSpec parameterSpec = new GCMParameterSpec(128, stringToByteArray(&quot;cafebabefacedbaddecaf888&quot;, 12));\r\nSecretKeySpec secretKey = new SecretKeySpec(stringToByteArray(&quot;feffe9928665731c6d6a8f9467308308&quot;, 16), &quot;AES&quot;);\r\ncipher.init(Cipher.ENCRYPT_MODE, secretKey, parameterSpec);\r\nbyte[] aad = stringToByteArray(&quot;feedfacedeadbeeffeedfacedeadbeefabaddad2&quot;, 20);\r\ncipher.updateAAD(aad);\r\nbyte[] plaintext = stringToByteArray(&quot;d9313225f88406e5a55909c5aff5269a86a7a9531534f7da2e4c303d8a318a721c3c0c95956809532fcf0e2449a6b525b16aedf5aa0de657ba637b39&quot;, 60);\r\nbyte[] cipherText = cipher.doFinal(plaintext);  \r\n\r\nif (Arrays.equals(cipherText, expected)) {\r\n    System.out.println(&quot;Vectors compared OK&quot;);\r\n} else {\r\n    System.out.println(&quot;Vectors compared failed&quot;);\r\n    System.out.print(&quot;Expected:&quot;);\r\n    printByteArray(expected);\r\n    System.out.print(&quot;Received:&quot;);\r\n    printByteArray(cipherText);\r\n}\r\n```","title":"Cannot match AES-GCM specification vectors with Java Crypto library","body":"<p>The second test case uses no AAD but a plaintext of 16 0x00 values (you seem to confuse plaintext and AAD):</p>\n<pre class=\"lang-none prettyprint-override\"><code>K   00000000000000000000000000000000\nP   00000000000000000000000000000000\nIV  000000000000000000000000\n...\nC   0388dace60b6a392f328c2b971b2fe78\nT   ab6e47d42cec13bdf53a67b21257bddf\n</code></pre>\n<p>Furthermore, it must be taken into account that Java concatenates ciphertext and tag. The following code implements this correctly and is executed successfully:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nbyte[] expected = stringToByteArray(&quot;0388dace60b6a392f328c2b971b2fe78ab6e47d42cec13bdf53a67b21257bddf&quot;, 32); // Fix 1: Java concatenates ciphertext and Tag\nCipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\nGCMParameterSpec parameterSpec = new GCMParameterSpec(128, stringToByteArray(&quot;0&quot;, 12));\nSecretKeySpec secretKey = new SecretKeySpec(stringToByteArray(&quot;0&quot;, 16), &quot;AES&quot;);\ncipher.init(Cipher.ENCRYPT_MODE, secretKey, parameterSpec);\n//byte[] aad = stringToByteArray(&quot;0&quot;, 12);      // Fix 2: No AAD specified\n//cipher.updateAAD(aad);\nbyte[] plaintext = stringToByteArray(&quot;0&quot;, 16);  // Fix 3 specified plaintext: 16 0x00 values \nbyte[] cipherText = cipher.doFinal(plaintext);  \n\nif (Arrays.equals(cipherText, expected)) {\n    System.out.println(&quot;Vectors compared OK&quot;);\n} else {\n    System.out.println(&quot;Vectors compared failed&quot;);\n    System.out.print(&quot;Expected:&quot;);\n    printByteArray(expected);\n    System.out.print(&quot;Received:&quot;);\n    printByteArray(cipherText);\n}\n...\n</code></pre>\n<hr />\n<p>AAD are specified e.g. in the fourth test case:</p>\n<pre class=\"lang-none prettyprint-override\"><code>K   feffe9928665731c6d6a8f9467308308\nP   d9313225f88406e5a55909c5aff5269a86a7a9531534f7da2e4c303d8a318a721c3c0c95956809532fcf0e2449a6b525b16aedf5aa0de657ba637b39\nA   feedfacedeadbeeffeedfacedeadbeefabaddad2\nIV  cafebabefacedbaddecaf888\n...\nC   42831ec2217774244b7221b784d0d49ce3aa212f2c02a4e035c17e2329aca12e21d514b25466931c7d8f6a5aac84aa051ba30b396a0aac973d58e091\nT   5bc94fbc3221a5db94fae95ae7121a47\n</code></pre>\n<p>which is to be implemented as follows (now the <code>updateAAD()</code> call is required):</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] expected = stringToByteArray(&quot;42831ec2217774244b7221b784d0d49ce3aa212f2c02a4e035c17e2329aca12e21d514b25466931c7d8f6a5aac84aa051ba30b396a0aac973d58e0915bc94fbc3221a5db94fae95ae7121a47&quot;, 76);\nCipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\nGCMParameterSpec parameterSpec = new GCMParameterSpec(128, stringToByteArray(&quot;cafebabefacedbaddecaf888&quot;, 12));\nSecretKeySpec secretKey = new SecretKeySpec(stringToByteArray(&quot;feffe9928665731c6d6a8f9467308308&quot;, 16), &quot;AES&quot;);\ncipher.init(Cipher.ENCRYPT_MODE, secretKey, parameterSpec);\nbyte[] aad = stringToByteArray(&quot;feedfacedeadbeeffeedfacedeadbeefabaddad2&quot;, 20);\ncipher.updateAAD(aad);\nbyte[] plaintext = stringToByteArray(&quot;d9313225f88406e5a55909c5aff5269a86a7a9531534f7da2e4c303d8a318a721c3c0c95956809532fcf0e2449a6b525b16aedf5aa0de657ba637b39&quot;, 60);\nbyte[] cipherText = cipher.doFinal(plaintext);  \n\nif (Arrays.equals(cipherText, expected)) {\n    System.out.println(&quot;Vectors compared OK&quot;);\n} else {\n    System.out.println(&quot;Vectors compared failed&quot;);\n    System.out.print(&quot;Expected:&quot;);\n    printByteArray(expected);\n    System.out.print(&quot;Received:&quot;);\n    printByteArray(cipherText);\n}\n</code></pre>\n"}],"owner":{"account_id":12084505,"reputation":145,"user_id":8834480,"display_name":"Guy Hutchison"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76335282,"answer_count":1,"score":0,"last_activity_date":1685098432,"creation_date":1685035624,"question_id":76334893,"body_markdown":"I am trying to use the Java Crypto library as a reference for another application.  To make sure I was getting correct results from the library I ran some sample vectors from the AES-GCM specification to compare the results against the library results.\r\n\r\nI am able to get the simplest vector from the specification working, but any of the more complex vectors produce results which do not match the specification.\r\n\r\nTest case 1, which passes, uses the following code:\r\n```\r\n            cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n            GCMParameterSpec parameterSpec = new GCMParameterSpec(128, stringToByteArray(&quot;0&quot;, 12));\r\n            SecretKeySpec secretKey = new SecretKeySpec(stringToByteArray(&quot;0&quot;, 16), &quot;AES&quot;);\r\n            cipher.init(Cipher.ENCRYPT_MODE, secretKey, parameterSpec);\r\n            byte[] cipherText = cipher.doFinal();\r\n```\r\n\r\nTest case 2 simply adds 16B of zeros as AAD:\r\n\r\n```\r\n            cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n            GCMParameterSpec parameterSpec = new GCMParameterSpec(128, stringToByteArray(&quot;0&quot;, 12));\r\n            SecretKeySpec secretKey = new SecretKeySpec(stringToByteArray(&quot;0&quot;, 16), &quot;AES&quot;);\r\n            cipher.init(Cipher.ENCRYPT_MODE, secretKey, parameterSpec);\r\n            byte[] aad = stringToByteArray(&quot;0&quot;, 16);\r\n            cipher.updateAAD(aad);\r\n            byte[] cipherText = cipher.doFinal();\r\n```\r\n\r\nThis second vector and other more complicated vectors I am unable to get to match.  Can someone familiar with Crypto point out where my reference code is making a mistake?\r\n\r\nFull source code available here: [AesGcmSampleVectors on Github][1]\r\n\r\nEdit: The Github source code has been updated to reflect the correct output, and has added a passing example of test vector 4 from the GCM \r\nspecification.\r\n\r\n\r\n  [1]: https://github.com/hutch31/AesGcmSampleVectors","title":"Cannot match AES-GCM specification vectors with Java Crypto library","body":"<p>I am trying to use the Java Crypto library as a reference for another application.  To make sure I was getting correct results from the library I ran some sample vectors from the AES-GCM specification to compare the results against the library results.</p>\n<p>I am able to get the simplest vector from the specification working, but any of the more complex vectors produce results which do not match the specification.</p>\n<p>Test case 1, which passes, uses the following code:</p>\n<pre><code>            cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n            GCMParameterSpec parameterSpec = new GCMParameterSpec(128, stringToByteArray(&quot;0&quot;, 12));\n            SecretKeySpec secretKey = new SecretKeySpec(stringToByteArray(&quot;0&quot;, 16), &quot;AES&quot;);\n            cipher.init(Cipher.ENCRYPT_MODE, secretKey, parameterSpec);\n            byte[] cipherText = cipher.doFinal();\n</code></pre>\n<p>Test case 2 simply adds 16B of zeros as AAD:</p>\n<pre><code>            cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n            GCMParameterSpec parameterSpec = new GCMParameterSpec(128, stringToByteArray(&quot;0&quot;, 12));\n            SecretKeySpec secretKey = new SecretKeySpec(stringToByteArray(&quot;0&quot;, 16), &quot;AES&quot;);\n            cipher.init(Cipher.ENCRYPT_MODE, secretKey, parameterSpec);\n            byte[] aad = stringToByteArray(&quot;0&quot;, 16);\n            cipher.updateAAD(aad);\n            byte[] cipherText = cipher.doFinal();\n</code></pre>\n<p>This second vector and other more complicated vectors I am unable to get to match.  Can someone familiar with Crypto point out where my reference code is making a mistake?</p>\n<p>Full source code available here: <a href=\"https://github.com/hutch31/AesGcmSampleVectors\" rel=\"nofollow noreferrer\">AesGcmSampleVectors on Github</a></p>\n<p>Edit: The Github source code has been updated to reflect the correct output, and has added a passing example of test vector 4 from the GCM\nspecification.</p>\n"},{"tags":["java","android","arrays","data-analysis","sonata-admin"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1685096880,"post_id":76339859,"comment_id":134617128,"body_markdown":"First, **never hardcode paths**. Beyond that, you have not had access to all of removable storage in years. Consider using `ACTION_OPEN_DOCUMENT_TREE` / `ActivityResultContracts.OpenDocumentTree` and letting the user decide what tree of documents to let your app access, whether that tree is on removable storage or elsewhere.","body":"First, <b>never hardcode paths</b>. Beyond that, you have not had access to all of removable storage in years. Consider using <code>ACTION_OPEN_DOCUMENT_TREE</code> / <code>ActivityResultContracts.OpenDocumentTree</code> and letting the user decide what tree of documents to let your app access, whether that tree is on removable storage or elsewhere."},{"owner":{"account_id":4663157,"reputation":15204,"user_id":3776927,"display_name":"derpirscher"},"score":0,"creation_date":1685118224,"post_id":76339859,"comment_id":134621782,"body_markdown":"`new sdFiles()` cannot return a null pointer. Of course `new File(&quot;/mnt/sdcard0&quot;).listFiles();` may throw a `NullPointerException` if the specified path does not exist or you do not have the permission to access that path ...","body":"<code>new sdFiles()</code> cannot return a null pointer. Of course <code>new File(&quot;&#47;mnt&#47;sdcard0&quot;).listFiles();</code> may throw a <code>NullPointerException</code> if the specified path does not exist or you do not have the permission to access that path ..."},{"owner":{"account_id":28684979,"reputation":3,"user_id":21965432,"display_name":"windows 11"},"score":0,"creation_date":1685167234,"post_id":76339859,"comment_id":134626689,"body_markdown":"Hi thank you for reply please give some idea for how to get permission to access that path","body":"Hi thank you for reply please give some idea for how to get permission to access that path"},{"owner":{"account_id":28684979,"reputation":3,"user_id":21965432,"display_name":"windows 11"},"score":0,"creation_date":1685171472,"post_id":76339859,"comment_id":134627010,"body_markdown":"Hi please tell how to use  Action_open_Document_Tree","body":"Hi please tell how to use  Action_open_Document_Tree"}],"owner":{"account_id":28684979,"reputation":3,"user_id":21965432,"display_name":"windows 11"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685098209,"creation_date":1685096247,"question_id":76339859,"body_markdown":"I am currently working in sdcard detection in android studio in that I already access the directory of sdcard but I can&#39;t able to access the sdcard content it provide null exeception.\r\n \r\ncode line:\r\n```\r\n  File[] path = new File(&quot;/mnt/sdcard0&quot;).listFiles();\r\n        sdFiles getFiles = new sdFiles(); //null pointer\r\n```\r\n\r\nWill you please give some code example for this issue\r\n\r\n\r\nI tried like this:   \r\n```\r\n          File[] path = new File(&quot;/mnt/sdcard0&quot;).listFiles();\r\n          sdFiles getFiles = new sdFiles(); //null pointer\r\n```\r\n\r\nFile did not listing the content","title":"Is there any method for access the content in SDCARD","body":"<p>I am currently working in sdcard detection in android studio in that I already access the directory of sdcard but I can't able to access the sdcard content it provide null exeception.</p>\n<p>code line:</p>\n<pre><code>  File[] path = new File(&quot;/mnt/sdcard0&quot;).listFiles();\n        sdFiles getFiles = new sdFiles(); //null pointer\n</code></pre>\n<p>Will you please give some code example for this issue</p>\n<p>I tried like this:</p>\n<pre><code>          File[] path = new File(&quot;/mnt/sdcard0&quot;).listFiles();\n          sdFiles getFiles = new sdFiles(); //null pointer\n</code></pre>\n<p>File did not listing the content</p>\n"},{"tags":["java","spring","spring-boot","gradle"],"comments":[{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":2,"creation_date":1662282988,"post_id":73598061,"comment_id":129966404,"body_markdown":"What are your actions? Show me content of file `build.gradle` . Try run command with parameter `--info` and/or `--debug` and/or `--scan` . Try use system&#39;s terminal, not built-in terminal inside IDE. Tell me the result.","body":"What are your actions? Show me content of file <code>build.gradle</code> . Try run command with parameter <code>--info</code> and/or <code>--debug</code> and/or <code>--scan</code> . Try use system&#39;s terminal, not built-in terminal inside IDE. Tell me the result."},{"owner":{"account_id":21188954,"reputation":41,"user_id":15581779,"display_name":"Myrat Orjyyev"},"score":0,"creation_date":1662283552,"post_id":73598061,"comment_id":129966509,"body_markdown":"can I send pictures and the project itself from some social network.","body":"can I send pictures and the project itself from some social network."},{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1662283686,"post_id":73598061,"comment_id":129966534,"body_markdown":"You can edit the question, paste from Windows/macOS clipboard directly. It is the simplest and most efficient way.","body":"You can edit the question, paste from Windows/macOS clipboard directly. It is the simplest and most efficient way."},{"owner":{"account_id":21188954,"reputation":41,"user_id":15581779,"display_name":"Myrat Orjyyev"},"score":0,"creation_date":1662284809,"post_id":73598061,"comment_id":129966714,"body_markdown":"I pasted build.gradle","body":"I pasted build.gradle"},{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1662285677,"post_id":73598061,"comment_id":129966887,"body_markdown":"Your `build.gradle` is nothing wrong. I checked by comparing with new `build.gradle` . 1) What is your Gradle version? 2) You use Gradle standalone or built-in Gradle inside IDE? 3) What is your IDE? 4) What is your JDK version?","body":"Your <code>build.gradle</code> is nothing wrong. I checked by comparing with new <code>build.gradle</code> . 1) What is your Gradle version? 2) You use Gradle standalone or built-in Gradle inside IDE? 3) What is your IDE? 4) What is your JDK version?"},{"owner":{"account_id":21188954,"reputation":41,"user_id":15581779,"display_name":"Myrat Orjyyev"},"score":0,"creation_date":1662285979,"post_id":73598061,"comment_id":129966950,"body_markdown":"java version &quot;18.0.2.1&quot; 2022-08-18\nJava(TM) SE Runtime Environment (build 18.0.2.1+1-1)\nJava HotSpot(TM) 64-Bit Server VM (build 18.0.2.1+1-1, mixed mode, sharing)","body":"java version &quot;18.0.2.1&quot; 2022-08-18 Java(TM) SE Runtime Environment (build 18.0.2.1+1-1) Java HotSpot(TM) 64-Bit Server VM (build 18.0.2.1+1-1, mixed mode, sharing)"},{"owner":{"account_id":21188954,"reputation":41,"user_id":15581779,"display_name":"Myrat Orjyyev"},"score":0,"creation_date":1662286190,"post_id":73598061,"comment_id":129966985,"body_markdown":"distributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-bin.zip","body":"distributionUrl=https\\://services.gradle.org/distributions/g&zwnj;&#8203;radle-7.5-bin.zip"},{"owner":{"account_id":21188954,"reputation":41,"user_id":15581779,"display_name":"Myrat Orjyyev"},"score":0,"creation_date":1662286293,"post_id":73598061,"comment_id":129967008,"body_markdown":"I am using built in gradle on intellij idea","body":"I am using built in gradle on intellij idea"},{"owner":{"account_id":21188954,"reputation":41,"user_id":15581779,"display_name":"Myrat Orjyyev"},"score":0,"creation_date":1662307788,"post_id":73598061,"comment_id":129971190,"body_markdown":"@DoNhuVy  ??????","body":"@DoNhuVy  ??????"}],"answers":[{"tags":[],"owner":{"account_id":22917727,"reputation":1,"user_id":17054068,"display_name":"Chathura Liyanage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662284920,"creation_date":1662284516,"answer_id":73598316,"question_id":73598061,"body_markdown":"The project&#39;s `build.gradle` file was wrongly configured, which led to this issue. You should include the `buildscript` block in the `build.gradle` file because the `build.gradle` script itself requires it.","title":"Plugin [id: &#39;org.springframework.boot&#39;, version: &#39;2.7.3&#39;] was not found in any of the following sources:","body":"<p>The project's <code>build.gradle</code> file was wrongly configured, which led to this issue. You should include the <code>buildscript</code> block in the <code>build.gradle</code> file because the <code>build.gradle</code> script itself requires it.</p>\n"},{"tags":[],"owner":{"account_id":17364905,"reputation":1,"user_id":20881935,"display_name":"Alex F"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672254333,"creation_date":1672253701,"answer_id":74943989,"question_id":73598061,"body_markdown":"Looks like inconsistency with active Java version and version mentioned in `sourceCompatibility`. Open `External Libraries` in Project window, Java version should be the same (`&lt; 18 &gt;` in your case).","title":"Plugin [id: &#39;org.springframework.boot&#39;, version: &#39;2.7.3&#39;] was not found in any of the following sources:","body":"<p>Looks like inconsistency with active Java version and version mentioned in <code>sourceCompatibility</code>. Open <code>External Libraries</code> in Project window, Java version should be the same (<code>&lt; 18 &gt;</code> in your case).</p>\n"},{"tags":[],"owner":{"account_id":23039637,"reputation":11,"user_id":17157969,"display_name":"Asim Ahammed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685097915,"creation_date":1685097885,"answer_id":76340038,"question_id":73598061,"body_markdown":" 1. Try to build a project with Java 11 and spring boot plugin 2.7.12. This will work.\r\n\r\nor\r\n\r\n2. Try to upgrade Java, spring boot plugins.\r\n","title":"Plugin [id: &#39;org.springframework.boot&#39;, version: &#39;2.7.3&#39;] was not found in any of the following sources:","body":"<ol>\n<li>Try to build a project with Java 11 and spring boot plugin 2.7.12. This will work.</li>\n</ol>\n<p>or</p>\n<ol start=\"2\">\n<li>Try to upgrade Java, spring boot plugins.</li>\n</ol>\n"}],"owner":{"account_id":21188954,"reputation":41,"user_id":15581779,"display_name":"Myrat Orjyyev"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6329,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1685097915,"creation_date":1662282218,"question_id":73598061,"body_markdown":"I downloaded a new Spring Boot project from http://start.spring.io and I get an error. Please help me figure it out.\r\n\r\nMy `build.gradle`\r\n\r\n```java\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.7.3&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.13.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n}\r\n\r\ngroup = &#39;com.murprog&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;18&#39;\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n```\r\n\r\nerror\r\n\r\n```java\r\nBuild file &#39;D:\\java\\myblog_grd\\build.gradle&#39; line: 2\r\n\r\nPlugin [id: &#39;org.springframework.boot&#39;, version: &#39;2.7.3&#39;] was not found in any of the following sources:\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.plugins.UnknownPluginException: Plugin [id: &#39;org.springframework.boot&#39;, version: &#39;2.7.3&#39;] was not found in any of the following sources:\r\n\r\n- Gradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\n- Plugin Repositories (could not resolve plugin artifact &#39;org.springframework.boot:org.springframework.boot.gradle.plugin:2.7.3&#39;)\r\n  Searched in the following repositories:\r\n    Gradle Central Plugin Repository\r\n```","title":"Plugin [id: &#39;org.springframework.boot&#39;, version: &#39;2.7.3&#39;] was not found in any of the following sources:","body":"<p>I downloaded a new Spring Boot project from <a href=\"http://start.spring.io\" rel=\"nofollow noreferrer\">http://start.spring.io</a> and I get an error. Please help me figure it out.</p>\n<p>My <code>build.gradle</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>plugins {\n    id 'org.springframework.boot' version '2.7.3'\n    id 'io.spring.dependency-management' version '1.0.13.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.murprog'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '18'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>error</p>\n<pre class=\"lang-java prettyprint-override\"><code>Build file 'D:\\java\\myblog_grd\\build.gradle' line: 2\n\nPlugin [id: 'org.springframework.boot', version: '2.7.3'] was not found in any of the following sources:\n\n* Try:\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.plugins.UnknownPluginException: Plugin [id: 'org.springframework.boot', version: '2.7.3'] was not found in any of the following sources:\n\n- Gradle Core Plugins (plugin is not in 'org.gradle' namespace)\n- Plugin Repositories (could not resolve plugin artifact 'org.springframework.boot:org.springframework.boot.gradle.plugin:2.7.3')\n  Searched in the following repositories:\n    Gradle Central Plugin Repository\n</code></pre>\n"},{"tags":["java","google-cloud-storage","okhttp","pre-signed-url"],"answers":[{"tags":[],"owner":{"account_id":4477301,"reputation":4930,"user_id":3642107,"accept_rate":66,"display_name":"Oliver Hausler"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1409278467,"creation_date":1409278467,"answer_id":25560731,"question_id":25560601,"body_markdown":"I found the solution:\r\n\r\nThe following line is the culprit:\r\n\r\n    RequestBody body = RequestBody.create(mediaType, media);\r\n\r\ncreate has 3 signatures for media:\r\n\r\n- String\r\n- byte[]\r\n- File\r\n\r\nWhen I pass a String, it disregards the supplied mediaType and adds the charset to it. Even for image/jpeg it would send\r\n\r\nimage/jpeg; charset=utf-8\r\n\r\nto the server.\r\n\r\nUsing byte[] or File suppresses that behavior.\r\n\r\nI hope this helps you!\r\n\r\n[Stupid me - for simplicity I gave it a String during testing, as I didn&#39;t care about the body ;-( ]","title":"How to suppress Charset being automatically added to Content-Type in okhttp","body":"<p>I found the solution:</p>\n\n<p>The following line is the culprit:</p>\n\n<pre><code>RequestBody body = RequestBody.create(mediaType, media);\n</code></pre>\n\n<p>create has 3 signatures for media:</p>\n\n<ul>\n<li>String</li>\n<li>byte[]</li>\n<li>File</li>\n</ul>\n\n<p>When I pass a String, it disregards the supplied mediaType and adds the charset to it. Even for image/jpeg it would send</p>\n\n<p>image/jpeg; charset=utf-8</p>\n\n<p>to the server.</p>\n\n<p>Using byte[] or File suppresses that behavior.</p>\n\n<p>I hope this helps you!</p>\n\n<p>[Stupid me - for simplicity I gave it a String during testing, as I didn't care about the body ;-( ]</p>\n"},{"tags":[],"owner":{"account_id":3775093,"reputation":31,"user_id":3136135,"display_name":"jhzhang_09"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1608111276,"creation_date":1608111276,"answer_id":65320640,"question_id":25560601,"body_markdown":"When you create requestbody, just set the content typy as &quot;null&quot;, and add header manual, like this:\r\n```\r\n    OkHttpClient client = new OkHttpClient();\r\n\r\n    RequestBody body = RequestBody.create(&#39;your media string&#39;, null);\r\n    String[] aclHeader = &quot;x-goog-acl:public-read&quot;.split(&quot;:&quot;);\r\n\r\n    Request request = new Request.Builder()\r\n            .addHeader(&quot;Content-Type&quot;, &quot;text/plain&quot;) // [B]\r\n            .addHeader(aclHeader[0], aclHeader[1])\r\n            .url(url)\r\n            .put(body)\r\n            .build();\r\n\r\n    Response response = client.newCall(request).execute();\r\n```\r\nBeacuse when I read okhttp source code, in RequestBody.kt, I find following code:\r\n```\r\n   /**\r\n     * Returns a new request body that transmits this string. If [contentType] is non-null and lacks\r\n     * a charset, this will use UTF-8.\r\n     */\r\n    @JvmStatic\r\n    @JvmName(&quot;create&quot;)\r\n    fun String.toRequestBody(contentType: MediaType? = null): RequestBody {\r\n      var charset: Charset = UTF_8\r\n      var finalContentType: MediaType? = contentType\r\n      if (contentType != null) {\r\n        val resolvedCharset = contentType.charset()\r\n        if (resolvedCharset == null) {\r\n          charset = UTF_8\r\n          finalContentType = &quot;$contentType; charset=utf-8&quot;.toMediaTypeOrNull()\r\n        } else {\r\n          charset = resolvedCharset\r\n        }\r\n      }\r\n      val bytes = toByteArray(charset)\r\n      return bytes.toRequestBody(finalContentType, 0, bytes.size)\r\n    }\r\n```","title":"How to suppress Charset being automatically added to Content-Type in okhttp","body":"<p>When you create requestbody, just set the content typy as &quot;null&quot;, and add header manual, like this:</p>\n<pre><code>    OkHttpClient client = new OkHttpClient();\n\n    RequestBody body = RequestBody.create('your media string', null);\n    String[] aclHeader = &quot;x-goog-acl:public-read&quot;.split(&quot;:&quot;);\n\n    Request request = new Request.Builder()\n            .addHeader(&quot;Content-Type&quot;, &quot;text/plain&quot;) // [B]\n            .addHeader(aclHeader[0], aclHeader[1])\n            .url(url)\n            .put(body)\n            .build();\n\n    Response response = client.newCall(request).execute();\n</code></pre>\n<p>Beacuse when I read okhttp source code, in RequestBody.kt, I find following code:</p>\n<pre><code>   /**\n     * Returns a new request body that transmits this string. If [contentType] is non-null and lacks\n     * a charset, this will use UTF-8.\n     */\n    @JvmStatic\n    @JvmName(&quot;create&quot;)\n    fun String.toRequestBody(contentType: MediaType? = null): RequestBody {\n      var charset: Charset = UTF_8\n      var finalContentType: MediaType? = contentType\n      if (contentType != null) {\n        val resolvedCharset = contentType.charset()\n        if (resolvedCharset == null) {\n          charset = UTF_8\n          finalContentType = &quot;$contentType; charset=utf-8&quot;.toMediaTypeOrNull()\n        } else {\n          charset = resolvedCharset\n        }\n      }\n      val bytes = toByteArray(charset)\n      return bytes.toRequestBody(finalContentType, 0, bytes.size)\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11849778,"reputation":374,"user_id":8671410,"display_name":"Miguel Santos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685097672,"creation_date":1685097672,"answer_id":76340011,"question_id":25560601,"body_markdown":"You can register a `networkInterceptor` that overrides the Content-Type header, for example:\r\nFixContentTypeInterceptor.java:\r\n```\r\nimport okhttp3.*;\r\nimport java.io.IOException;\r\n\r\npublic final class FixContentTypeInterceptor implements Interceptor {\r\n    @Override public Response intercept(Interceptor.Chain chain) throws IOException {\r\n        Request originalRequest = chain.request();\r\n\r\n        Request fixedRequest = originalRequest.newBuilder()\r\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                .build();\r\n        return chain.proceed(fixedRequest);\r\n    }\r\n\r\n}\r\n```\r\nMain.java:\r\n```\r\n[...]\r\nMediaType JSON = MediaType.get(&quot;application/json; charset=utf-8&quot;);\r\nString json = &quot;{}&quot;;\r\nOkHttpClient client = new OkHttpClient.Builder()\r\n                .addNetworkInterceptor(new FixContentTypeInterceptor())\r\n                .build();\r\nRequestBody body = RequestBody.create(json, JSON);\r\nRequest request = new Request.Builder()\r\n                .url(url)\r\n                .post(body)\r\n                .build();\r\n[...]\r\n\r\n```\r\nThere is a discussion about this in okhttp&#39;s Github.\r\nhttps://github.com/square/okhttp/issues/3081","title":"How to suppress Charset being automatically added to Content-Type in okhttp","body":"<p>You can register a <code>networkInterceptor</code> that overrides the Content-Type header, for example:\nFixContentTypeInterceptor.java:</p>\n<pre><code>import okhttp3.*;\nimport java.io.IOException;\n\npublic final class FixContentTypeInterceptor implements Interceptor {\n    @Override public Response intercept(Interceptor.Chain chain) throws IOException {\n        Request originalRequest = chain.request();\n\n        Request fixedRequest = originalRequest.newBuilder()\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                .build();\n        return chain.proceed(fixedRequest);\n    }\n\n}\n</code></pre>\n<p>Main.java:</p>\n<pre><code>[...]\nMediaType JSON = MediaType.get(&quot;application/json; charset=utf-8&quot;);\nString json = &quot;{}&quot;;\nOkHttpClient client = new OkHttpClient.Builder()\n                .addNetworkInterceptor(new FixContentTypeInterceptor())\n                .build();\nRequestBody body = RequestBody.create(json, JSON);\nRequest request = new Request.Builder()\n                .url(url)\n                .post(body)\n                .build();\n[...]\n\n</code></pre>\n<p>There is a discussion about this in okhttp's Github.\n<a href=\"https://github.com/square/okhttp/issues/3081\" rel=\"nofollow noreferrer\">https://github.com/square/okhttp/issues/3081</a></p>\n"}],"owner":{"account_id":4477301,"reputation":4930,"user_id":3642107,"accept_rate":66,"display_name":"Oliver Hausler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8349,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":3,"score":22,"last_activity_date":1685097672,"creation_date":1409277300,"question_id":25560601,"body_markdown":"Consider the following code:\r\n\r\n        OkHttpClient client = new OkHttpClient();\r\n\r\n        MediaType mediaType = MediaType.parse(&quot;text/plain; charset=utf-8&quot;); // [A]\r\n        RequestBody body = RequestBody.create(mediaType, media);\r\n        String[] aclHeader = &quot;x-goog-acl:public-read&quot;.split(&quot;:&quot;);\r\n\r\n        Request request = new Request.Builder()\r\n                .addHeader(&quot;Content-Type&quot;, &quot;text/plain&quot;) // [B]\r\n                .addHeader(aclHeader[0], aclHeader[1])\r\n                .url(url)\r\n                .put(body)\r\n                .build();\r\n\r\n        Response response = client.newCall(request).execute();\r\n\r\nI am accessing GCS from a client, with a previously signed URL.\r\n\r\nProblem: It seems okhttp adds the charset declared for the body [A] to the URL as well (at least for text/plain), even though it is not declared in [B]. This messes up my signed URL and GCS returns 403 Forbidden.\r\n\r\n- If I remove the charset from [A], it is still added.\r\n- If I add the charset to the signed URL before I sign it, it works and GCS returns 200 OK.\r\n\r\nBut this is not as it should be. At least when working with signed URLs, these must be sent to the server exactly as declared.\r\n\r\nI tried using the Apache http client (which I don&#39;t want to use in production as okhttpclient is already part of my installation) and that client does not expose this behavior:\r\n\r\n\r\n            String[] aclHeader = &quot;x-goog-acl:public-read&quot;.split(&quot;:&quot;);\r\n\r\n            StatusLine statusLine = Request\r\n\r\n                    .Put(url)\r\n                    .addHeader(&quot;Content-Type&quot;, &quot;text/plain&quot;)\r\n                    .addHeader(aclHeader[0], aclHeader[1])\r\n                    .bodyByteArray(media)\r\n\r\n                    .execute().returnResponse().getStatusLine();\r\n\r\n\r\nIs there a way to suppress the behavior in okhttp, that it adds to the Content-Type or transfers the Content-Type within the body redundantly?","title":"How to suppress Charset being automatically added to Content-Type in okhttp","body":"<p>Consider the following code:</p>\n\n<pre><code>    OkHttpClient client = new OkHttpClient();\n\n    MediaType mediaType = MediaType.parse(\"text/plain; charset=utf-8\"); // [A]\n    RequestBody body = RequestBody.create(mediaType, media);\n    String[] aclHeader = \"x-goog-acl:public-read\".split(\":\");\n\n    Request request = new Request.Builder()\n            .addHeader(\"Content-Type\", \"text/plain\") // [B]\n            .addHeader(aclHeader[0], aclHeader[1])\n            .url(url)\n            .put(body)\n            .build();\n\n    Response response = client.newCall(request).execute();\n</code></pre>\n\n<p>I am accessing GCS from a client, with a previously signed URL.</p>\n\n<p>Problem: It seems okhttp adds the charset declared for the body [A] to the URL as well (at least for text/plain), even though it is not declared in [B]. This messes up my signed URL and GCS returns 403 Forbidden.</p>\n\n<ul>\n<li>If I remove the charset from [A], it is still added.</li>\n<li>If I add the charset to the signed URL before I sign it, it works and GCS returns 200 OK.</li>\n</ul>\n\n<p>But this is not as it should be. At least when working with signed URLs, these must be sent to the server exactly as declared.</p>\n\n<p>I tried using the Apache http client (which I don't want to use in production as okhttpclient is already part of my installation) and that client does not expose this behavior:</p>\n\n<pre><code>        String[] aclHeader = \"x-goog-acl:public-read\".split(\":\");\n\n        StatusLine statusLine = Request\n\n                .Put(url)\n                .addHeader(\"Content-Type\", \"text/plain\")\n                .addHeader(aclHeader[0], aclHeader[1])\n                .bodyByteArray(media)\n\n                .execute().returnResponse().getStatusLine();\n</code></pre>\n\n<p>Is there a way to suppress the behavior in okhttp, that it adds to the Content-Type or transfers the Content-Type within the body redundantly?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1685014685,"post_id":76331814,"comment_id":134603309,"body_markdown":"What do you mean by &#39;rotated clockwise&#39;?  An array can be sorted in either ascending or descending order. But this is not a circle, there is no clockwise or anti-clockwise direction. It is start to end or end to start.","body":"What do you mean by &#39;rotated clockwise&#39;?  An array can be sorted in either ascending or descending order. But this is not a circle, there is no clockwise or anti-clockwise direction. It is start to end or end to start."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1685014974,"post_id":76331814,"comment_id":134603374,"body_markdown":"I&#39;ve seen the terms &quot;rotate left/right&quot; but never seen &quot;rotate clockwise&quot; unless when referring to 2-dimensional drawings. Also I&#39;ve never heard of &quot;rotated in descending order&quot; - do you mean &quot;sorted in descending order and THEN rotated&quot;? Please [edit] to clarify.","body":"I&#39;ve seen the terms &quot;rotate left/right&quot; but never seen &quot;rotate clockwise&quot; unless when referring to 2-dimensional drawings. Also I&#39;ve never heard of &quot;rotated in descending order&quot; - do you mean &quot;sorted in descending order and THEN rotated&quot;? Please <a href=\"https://stackoverflow.com/posts/76331814/edit\">edit</a> to clarify."},{"owner":{"account_id":26378841,"reputation":3,"user_id":20032413,"display_name":"shanu"},"score":0,"creation_date":1685015480,"post_id":76331814,"comment_id":134603526,"body_markdown":"clockwise rotation means if the array is 6 5 4 3 2 1 so when we rotate 2 times it will be 2 1 6 5 4 3","body":"clockwise rotation means if the array is 6 5 4 3 2 1 so when we rotate 2 times it will be 2 1 6 5 4 3"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1685249450,"post_id":76331814,"comment_id":134634037,"body_markdown":"@shanu you’ve received an answer, if that works for you, consider accepting it. People volunteer their time on stackoverflow, and walking away after posting a question is not a good way to appreciate these volunteers.","body":"@shanu you’ve received an answer, if that works for you, consider accepting it. People volunteer their time on stackoverflow, and walking away after posting a question is not a good way to appreciate these volunteers."}],"answers":[{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685094984,"creation_date":1685015028,"answer_id":76331895,"question_id":76331814,"body_markdown":"All you need to do is track the highest element to the left of the inflection point. For example, 44, 43, 11, 10, 9, every element is smaller that the one on its left, so, answer is yes, but 43, 44, 11, 10, 9, you find 44 greater than 43 (or whatever in general is the greatest on the left). After the inflection point, every element must be smaller than the one on its left, and the last element (9) must be greater than the greatest element on the left of the inflection point (43), so, the answer is no. \r\n\r\n**Edit:**\r\n\r\nAdded code.\r\n\r\n    public static boolean isSortedAndRotated(int arr[]) {\r\n        int n = arr.length;\r\n        if (n &lt;= 1) {\r\n            return true;\r\n        }\r\n        int fst = Integer.MIN_VALUE;\r\n        for (int i = 1; i &lt; n; i++) {\r\n            if (arr[i] &gt; arr[i - 1]) {\r\n                if (fst &gt; Integer.MIN_VALUE) {\r\n                    return false;\r\n                }\r\n                fst = arr[0];\r\n            }\r\n        }\r\n            \r\n        return arr[n - 1] &gt;= fst;\r\n    }","title":"How to check if an array is sorted and rotated clockwise in if it is in decreasing order in Java?","body":"<p>All you need to do is track the highest element to the left of the inflection point. For example, 44, 43, 11, 10, 9, every element is smaller that the one on its left, so, answer is yes, but 43, 44, 11, 10, 9, you find 44 greater than 43 (or whatever in general is the greatest on the left). After the inflection point, every element must be smaller than the one on its left, and the last element (9) must be greater than the greatest element on the left of the inflection point (43), so, the answer is no.</p>\n<p><strong>Edit:</strong></p>\n<p>Added code.</p>\n<pre><code>public static boolean isSortedAndRotated(int arr[]) {\n    int n = arr.length;\n    if (n &lt;= 1) {\n        return true;\n    }\n    int fst = Integer.MIN_VALUE;\n    for (int i = 1; i &lt; n; i++) {\n        if (arr[i] &gt; arr[i - 1]) {\n            if (fst &gt; Integer.MIN_VALUE) {\n                return false;\n            }\n            fst = arr[0];\n        }\n    }\n        \n    return arr[n - 1] &gt;= fst;\n}\n</code></pre>\n"}],"owner":{"account_id":26378841,"reputation":3,"user_id":20032413,"display_name":"shanu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1685097545,"creation_date":1685014432,"question_id":76331814,"body_markdown":"I have to check whether the array is in decreasing order and rotated,\r\nfor example: `44 43 11 10 9` is sorted in decreasing order and when we rotate it twice then it will be `10 9 44 43 11`.\r\n\r\nI have attached my code but it is not optimal for case of `[43 44 11 10 9]` because in this case the array is not sorted and rotated, because when we sort the array it will be 44 43 11 10 9 and there is no possibilities in terms of rotation that it would be 43 44 11 10 9 , In fact the output should be &quot;No&quot; but in my case output is &quot;Yes&quot;. As per my code, I am unable to handle the given case for optimize my code.\r\n   \r\n\r\n```java\r\nclass Main {\r\n\r\n    public static boolean antiClockRotation(int arr[]) {\r\n        int max = Integer.MIN_VALUE;\r\n        int index = 0;\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            if (arr[i] &gt; max) {\r\n                max = arr[i];\r\n                index = i;\r\n            }\r\n        }\r\n        if (index == 0) {\r\n            return false;\r\n        }\r\n        int i = 0;\r\n        int j = 1;\r\n        while (i &lt; index  &amp;&amp;  j &lt; index) {\r\n            if (arr[i] &lt;= arr[j]) {\r\n                return false;\r\n            }\r\n            i++;\r\n            j++;\r\n        }\r\n        int k = index;\r\n        int l = index+1;\r\n        while (k &lt; arr.length - 1  &amp;&amp;  l &lt; arr.length) {\r\n            if (arr[k] &lt;= arr[l]) {\r\n                return false;\r\n            }\r\n            k++;\r\n            l++;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        // Your code here\r\n        Scanner sc = new Scanner(System.in);\r\n        int n = sc.nextInt();\r\n        for (int i = 0; i &lt; n; i++) {\r\n            int size = sc.nextInt();\r\n            int arr[] = new int[size];\r\n            for (int j = 0; j &lt; size; j++) {\r\n                arr[j] = sc.nextInt();\r\n            }\r\n            if (antiClockRotation(arr)) {\r\n                System.out.println(&quot;Yes&quot;);\r\n            }\r\n            else{\r\n                System.out.println(&quot;No&quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nI am trying to achieve the case if the array is sorted and rotated clockwise in decreasing order.\r\n\r\nFor example : `6 5 4 3 2 1` is the array which is in decreasing order but when we rotate 2 times so it will be `2 1 6 5 4 3` and output should be &quot;Yes&quot;.\r\n\r\nBut in case of `44 43 11 10 9` the array is in decreasing order but in the case of \r\n`(43 44 11 10 9)` it is not rotated so the output should be &quot;No&quot;.","title":"How to check if an array is sorted and rotated clockwise in if it is in decreasing order in Java?","body":"<p>I have to check whether the array is in decreasing order and rotated,\nfor example: <code>44 43 11 10 9</code> is sorted in decreasing order and when we rotate it twice then it will be <code>10 9 44 43 11</code>.</p>\n<p>I have attached my code but it is not optimal for case of <code>[43 44 11 10 9]</code> because in this case the array is not sorted and rotated, because when we sort the array it will be 44 43 11 10 9 and there is no possibilities in terms of rotation that it would be 43 44 11 10 9 , In fact the output should be &quot;No&quot; but in my case output is &quot;Yes&quot;. As per my code, I am unable to handle the given case for optimize my code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Main {\n\n    public static boolean antiClockRotation(int arr[]) {\n        int max = Integer.MIN_VALUE;\n        int index = 0;\n        for (int i = 0; i &lt; arr.length; i++) {\n            if (arr[i] &gt; max) {\n                max = arr[i];\n                index = i;\n            }\n        }\n        if (index == 0) {\n            return false;\n        }\n        int i = 0;\n        int j = 1;\n        while (i &lt; index  &amp;&amp;  j &lt; index) {\n            if (arr[i] &lt;= arr[j]) {\n                return false;\n            }\n            i++;\n            j++;\n        }\n        int k = index;\n        int l = index+1;\n        while (k &lt; arr.length - 1  &amp;&amp;  l &lt; arr.length) {\n            if (arr[k] &lt;= arr[l]) {\n                return false;\n            }\n            k++;\n            l++;\n        }\n        return true;\n    }\n\n    public static void main(String[] args) {\n        // Your code here\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        for (int i = 0; i &lt; n; i++) {\n            int size = sc.nextInt();\n            int arr[] = new int[size];\n            for (int j = 0; j &lt; size; j++) {\n                arr[j] = sc.nextInt();\n            }\n            if (antiClockRotation(arr)) {\n                System.out.println(&quot;Yes&quot;);\n            }\n            else{\n                System.out.println(&quot;No&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>I am trying to achieve the case if the array is sorted and rotated clockwise in decreasing order.</p>\n<p>For example : <code>6 5 4 3 2 1</code> is the array which is in decreasing order but when we rotate 2 times so it will be <code>2 1 6 5 4 3</code> and output should be &quot;Yes&quot;.</p>\n<p>But in case of <code>44 43 11 10 9</code> the array is in decreasing order but in the case of\n<code>(43 44 11 10 9)</code> it is not rotated so the output should be &quot;No&quot;.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1504185064,"post_id":45979442,"comment_id":78924053,"body_markdown":"Neither. Just return the `Comment` and let the spring message converters do the conversion.","body":"Neither. Just return the <code>Comment</code> and let the spring message converters do the conversion."},{"owner":{"account_id":485360,"reputation":20815,"user_id":901641,"accept_rate":78,"display_name":"ArtOfWarfare"},"score":0,"creation_date":1684865898,"post_id":45979442,"comment_id":134578991,"body_markdown":"FYI, you should only `new ObjectMapper()` once. It&#39;s fairly expensive to instantiate `ObjectMapper`, and the instances are reusable. But also what the other comment says - just let Spring handle the conversion for you in this case.","body":"FYI, you should only <code>new ObjectMapper()</code> once. It&#39;s fairly expensive to instantiate <code>ObjectMapper</code>, and the instances are reusable. But also what the other comment says - just let Spring handle the conversion for you in this case."}],"answers":[{"tags":[],"owner":{"account_id":2874038,"reputation":366,"user_id":2466666,"display_name":"hicham abdedaime"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671830828,"creation_date":1504176578,"answer_id":45979656,"question_id":45979442,"body_markdown":"comment : is request to return in server.\r\n\r\nheaders : type of comment json or xml ,html,Image ,multipart ... etc.\r\n\r\nsee this example : \r\n\r\n    RestTemplate restTemplate = new RestTemplate();\r\n\tObjectMapper mapper = new ObjectMapper();\r\n\tString requestJson = null;\r\n\ttry {\r\n\t\trequestJson = mapper.writeValueAsString(Yourrequest);HttpHeaders headers = new HttpHeaders();\r\n    \theaders.setContentType(MediaType.APPLICATION_JSON);\r\n    \tHttpEntity&lt;Object&gt; entity = new HttpEntity&lt;Object&gt;(requestJson, headers);\r\n    \tLOGGER.info(&quot;send request to  url {} &quot;, getUrl());\r\n    \tYourTypeOfResponse response = restTemplate.postForObject(URL_LOCAL,\r\n    \t\t\tentity, YourTypeOfResponse.class);\r\n\t} catch (JsonGenerationException e) {\r\n\t\tLOGGER.error(&quot;JsonGenerationException occurred &quot;, e);\r\n\t} catch (JsonMappingException e) {\r\n\t\tLOGGER.error(&quot;JsonMappingException occurred &quot;, e);\r\n\t} catch (IOException e) {\r\n\t\tLOGGER.error(&quot;IOException occurred &quot;, e);\r\n\t}\r\n\r\n\r\n","title":"When to use writeValueAsString() method of ObjectMapper class and when to use String directly","body":"<p>comment : is request to return in server.</p>\n<p>headers : type of comment json or xml ,html,Image ,multipart ... etc.</p>\n<p>see this example :</p>\n<pre><code>RestTemplate restTemplate = new RestTemplate();\nObjectMapper mapper = new ObjectMapper();\nString requestJson = null;\ntry {\n    requestJson = mapper.writeValueAsString(Yourrequest);HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.APPLICATION_JSON);\n    HttpEntity&lt;Object&gt; entity = new HttpEntity&lt;Object&gt;(requestJson, headers);\n    LOGGER.info(&quot;send request to  url {} &quot;, getUrl());\n    YourTypeOfResponse response = restTemplate.postForObject(URL_LOCAL,\n            entity, YourTypeOfResponse.class);\n} catch (JsonGenerationException e) {\n    LOGGER.error(&quot;JsonGenerationException occurred &quot;, e);\n} catch (JsonMappingException e) {\n    LOGGER.error(&quot;JsonMappingException occurred &quot;, e);\n} catch (IOException e) {\n    LOGGER.error(&quot;IOException occurred &quot;, e);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":910393,"reputation":1619,"user_id":1384748,"display_name":"Breand&#225;n Dalton"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1685097180,"creation_date":1504184291,"answer_id":45982031,"question_id":45979442,"body_markdown":"`writeValueAsString` writes it as a JSON-formatted string. For instance if I have a class Coordinate that looks like:\r\n\r\n    class Coordinate {\r\n      private int x;\r\n      private int y;\r\n      // plus constructor and methods\r\n    }\r\n\r\nthen `om.writeValueAsString(new Coordinate(1, 2))` will produce something like \r\n\r\n    { &quot;x&quot;:1,&quot;y&quot;:2 }\r\n\r\ninstead of whatever the `toString`  method produces.\r\n\r\nSo, when your client is expecting a JSON-formatted string, use `ObjectMapper.writeValueAsString`. \r\n\r\n","title":"When to use writeValueAsString() method of ObjectMapper class and when to use String directly","body":"<p><code>writeValueAsString</code> writes it as a JSON-formatted string. For instance if I have a class Coordinate that looks like:</p>\n<pre><code>class Coordinate {\n  private int x;\n  private int y;\n  // plus constructor and methods\n}\n</code></pre>\n<p>then <code>om.writeValueAsString(new Coordinate(1, 2))</code> will produce something like</p>\n<pre><code>{ &quot;x&quot;:1,&quot;y&quot;:2 }\n</code></pre>\n<p>instead of whatever the <code>toString</code>  method produces.</p>\n<p>So, when your client is expecting a JSON-formatted string, use <code>ObjectMapper.writeValueAsString</code>.</p>\n"}],"owner":{"account_id":2799515,"reputation":815,"user_id":6647878,"display_name":"Nidhi257"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10626,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":45982031,"answer_count":2,"score":2,"last_activity_date":1685097180,"creation_date":1504175963,"question_id":45979442,"body_markdown":"In my project there are two types of code:\r\n\r\n1. `HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(comment, headers);` \r\n\r\nHere comment is of String type  and header is of HttpHeader Object.\r\n\r\n2. `ObjectMapper om = new ObjectMapper();\r\n    HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(om.writeValueAsString(comment), headers);`\r\n\r\nI just want know which one will be better and why.\r\n","title":"When to use writeValueAsString() method of ObjectMapper class and when to use String directly","body":"<p>In my project there are two types of code:</p>\n<ol>\n<li><code>HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(comment, headers);</code></li>\n</ol>\n<p>Here comment is of String type  and header is of HttpHeader Object.</p>\n<ol start=\"2\">\n<li><code>ObjectMapper om = new ObjectMapper(); HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(om.writeValueAsString(comment), headers);</code></li>\n</ol>\n<p>I just want know which one will be better and why.</p>\n"},{"tags":["java","jakarta-ee","jboss","jboss6.x"],"answers":[{"tags":[],"owner":{"account_id":2138679,"reputation":18996,"user_id":1897870,"display_name":"Steve C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433402781,"creation_date":1433402781,"answer_id":30637581,"question_id":30526707,"body_markdown":"You are most likely getting this error because you either have the log file open in a text editor or you&#39;re already running that instance of JBoss.\r\n\r\n","title":"Jboss Failed to instantiate class &quot;org.jboss.logmanager.handlers.PeriodicRotatingFileHandle","body":"<p>You are most likely getting this error because you either have the log file open in a text editor or you're already running that instance of JBoss.</p>\n"},{"tags":[],"owner":{"account_id":6727598,"reputation":41,"user_id":5185049,"display_name":"Nitin Rane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1439206712,"creation_date":1439206712,"answer_id":31918566,"question_id":30526707,"body_markdown":"I had resolved this issue by creating log directory in the \r\nC:\\jboss-eap-6.3\\standalone\\ ","title":"Jboss Failed to instantiate class &quot;org.jboss.logmanager.handlers.PeriodicRotatingFileHandle","body":"<p>I had resolved this issue by creating log directory in the \nC:\\jboss-eap-6.3\\standalone\\ </p>\n"},{"tags":[],"owner":{"account_id":6599029,"reputation":171,"user_id":6414253,"display_name":"Oleksandr Marchenko"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1464864168,"creation_date":1464864168,"answer_id":37589566,"question_id":30526707,"body_markdown":"Try to start jBoss server as administrator by pressing right mouse key, it will permit jboss to create all folders and files . ","title":"Jboss Failed to instantiate class &quot;org.jboss.logmanager.handlers.PeriodicRotatingFileHandle","body":"<p>Try to start jBoss server as administrator by pressing right mouse key, it will permit jboss to create all folders and files . </p>\n"},{"tags":[],"owner":{"account_id":1492267,"reputation":2246,"user_id":1399093,"display_name":"Ivan Aranibar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1472137845,"creation_date":1472137845,"answer_id":39148868,"question_id":30526707,"body_markdown":"I had the same issue, it worked after running it on root, maybe you are running it without the proper rights.","title":"Jboss Failed to instantiate class &quot;org.jboss.logmanager.handlers.PeriodicRotatingFileHandle","body":"<p>I had the same issue, it worked after running it on root, maybe you are running it without the proper rights.</p>\n"},{"tags":[],"owner":{"account_id":9244531,"reputation":41,"user_id":6866832,"display_name":"Yogesh A"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1475185609,"creation_date":1475185609,"answer_id":39780547,"question_id":30526707,"body_markdown":"Right click the installation directory of Jboss EA (mine is C:\\program files\\EAP6.1, then Properties, Security tab. Given everyone permissions on this folder (all users you can see just give full control). This should then be able to create logs etc files within the required folder. \r\nThis is just a workaround though only works for local installs.","title":"Jboss Failed to instantiate class &quot;org.jboss.logmanager.handlers.PeriodicRotatingFileHandle","body":"<p>Right click the installation directory of Jboss EA (mine is C:\\program files\\EAP6.1, then Properties, Security tab. Given everyone permissions on this folder (all users you can see just give full control). This should then be able to create logs etc files within the required folder. \nThis is just a workaround though only works for local installs.</p>\n"},{"tags":[],"owner":{"account_id":12529322,"reputation":11,"user_id":9118093,"display_name":"kaoutar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1513687501,"creation_date":1513687501,"answer_id":47887382,"question_id":30526707,"body_markdown":"it&#39;s a problem due to permissions, the solution that worked for me is that i removed the home directory of jboss wildfly from C:\\programmes to C:\\\r\n","title":"Jboss Failed to instantiate class &quot;org.jboss.logmanager.handlers.PeriodicRotatingFileHandle","body":"<p>it's a problem due to permissions, the solution that worked for me is that i removed the home directory of jboss wildfly from C:\\programmes to C:\\</p>\n"},{"tags":[],"owner":{"account_id":6145635,"reputation":11,"user_id":4791719,"display_name":"Ponezhil Ramu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598885528,"creation_date":1598885528,"answer_id":63673120,"question_id":30526707,"body_markdown":"Starting Wildfly/Jboss from the **administrator** cmd worked!!","title":"Jboss Failed to instantiate class &quot;org.jboss.logmanager.handlers.PeriodicRotatingFileHandle","body":"<p>Starting Wildfly/Jboss from the <strong>administrator</strong> cmd worked!!</p>\n"},{"tags":[],"owner":{"account_id":12177294,"reputation":71,"user_id":8889988,"display_name":"nayansFosgit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615028860,"creation_date":1615028860,"answer_id":66504999,"question_id":30526707,"body_markdown":"I got the same exception\r\nTry changing the path from c to another destination, that solved my issue and I am able to start the server","title":"Jboss Failed to instantiate class &quot;org.jboss.logmanager.handlers.PeriodicRotatingFileHandle","body":"<p>I got the same exception\nTry changing the path from c to another destination, that solved my issue and I am able to start the server</p>\n"},{"tags":[],"owner":{"account_id":26037965,"reputation":1,"user_id":19743188,"display_name":"PARTHIPAN S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685097069,"creation_date":1685097069,"answer_id":76339939,"question_id":30526707,"body_markdown":"For me, it&#39;s working now \r\n\r\n 1. Jboss wildfly find your logging.properties file.\r\n \r\n 2. inside the file find this tag,\r\n\r\n handler.FILE.fileName=C\\:\\\\jboss_wildfly\\\\server.log\r\n\r\n Create and set the dir as it is.","title":"Jboss Failed to instantiate class &quot;org.jboss.logmanager.handlers.PeriodicRotatingFileHandle","body":"<p>For me, it's working now</p>\n<ol>\n<li><p>Jboss wildfly find your logging.properties file.</p>\n</li>\n<li><p>inside the file find this tag,</p>\n</li>\n</ol>\n<p>handler.FILE.fileName=C:\\jboss_wildfly\\server.log</p>\n<p>Create and set the dir as it is.</p>\n"}],"owner":{"account_id":6253941,"reputation":207,"user_id":4863157,"accept_rate":41,"display_name":"muledevlepoer24"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20127,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":9,"score":11,"last_activity_date":1685097069,"creation_date":1432893723,"question_id":30526707,"body_markdown":"When I tried jbosseap6.3 install as service. I got below error. Anyone have any idea on the below error. Any one shed light means it is very helpful for me.\r\n\r\n    java.lang.IllegalArgumentException: Failed to instantiate class &quot;org.jboss.logmanager.handlers.PeriodicRotatingFileHandler&quot; for handler &quot;FILE&quot;\r\n    \tat org.jboss.logmanager.config.AbstractPropertyConfiguration$ConstructAction.validate(AbstractPropertyConfiguration.java:119)\r\n    \tat org.jboss.logmanager.config.LogContextConfigurationImpl.doPrepare(LogContextConfigurationImpl.java:338)\r\n    \tat org.jboss.logmanager.config.LogContextConfigurationImpl.prepare(LogContextConfigurationImpl.java:291)\r\n    \tat org.jboss.logmanager.config.LogContextConfigurationImpl.commit(LogContextConfigurationImpl.java:300)\r\n    \tat org.jboss.logmanager.PropertyConfigurator.configure(PropertyConfigurator.java:542)\r\n    \tat org.jboss.logmanager.PropertyConfigurator.configure(PropertyConfigurator.java:97)\r\n    \tat org.jboss.as.logging.logmanager.ConfigurationPersistence.configure(ConfigurationPersistence.java:149)\r\n    \tat org.jboss.logmanager.LogManager.readConfiguration(LogManager.java:300)\r\n    \tat org.jboss.logmanager.LogManager.readConfiguration(LogManager.java:262)\r\n    \tat java.util.logging.LogManager$3.run(LogManager.java:399)\r\n    \tat java.util.logging.LogManager$3.run(LogManager.java:396)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.util.logging.LogManager.readPrimordialConfiguration(LogManager.java:396)\r\n    \tat java.util.logging.LogManager.access$800(LogManager.java:145)\r\n    \tat java.util.logging.LogManager$2.run(LogManager.java:345)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.util.logging.LogManager.ensureLogManagerInitialized(LogManager.java:338)\r\n    \tat java.util.logging.LogManager.getLogManager(LogManager.java:378)\r\n    \tat org.jboss.modules.Main.main(Main.java:443)\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:408)\r\n    \tat org.jboss.logmanager.config.AbstractPropertyConfiguration$ConstructAction.validate(AbstractPropertyConfiguration.java:117)\r\n    \t... 18 more\r\n    Caused by: java.io.FileNotFoundException: C:\\jboss-eap-6.3\\standalone\\log\\server.log (The process cannot access the file because it is being used by another process)\r\n    \tat java.io.FileOutputStream.open(Native Method)\r\n    \tat java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:213)\r\n    \tat org.jboss.logmanager.handlers.FileHandler.setFile(FileHandler.java:154)\r\n    \tat org.jboss.logmanager.handlers.PeriodicRotatingFileHandler.setFile(PeriodicRotatingFileHandler.java:105)\r\n    \tat org.jboss.logmanager.handlers.FileHandler.setFileName(FileHandler.java:192)\r\n    \tat org.jboss.logmanager.handlers.FileHandler.&lt;init&gt;(FileHandler.java:122)\r\n    \tat org.jboss.logmanager.handlers.PeriodicRotatingFileHandler.&lt;init&gt;(PeriodicRotatingFileHandler.java:73)\r\n    \t... 23 more\r\n    Shutdown JBossEAP6.3.0 service [2015-05-29 09:58:27]\r\n\r\n","title":"Jboss Failed to instantiate class &quot;org.jboss.logmanager.handlers.PeriodicRotatingFileHandle","body":"<p>When I tried jbosseap6.3 install as service. I got below error. Anyone have any idea on the below error. Any one shed light means it is very helpful for me.</p>\n\n<pre><code>java.lang.IllegalArgumentException: Failed to instantiate class \"org.jboss.logmanager.handlers.PeriodicRotatingFileHandler\" for handler \"FILE\"\n    at org.jboss.logmanager.config.AbstractPropertyConfiguration$ConstructAction.validate(AbstractPropertyConfiguration.java:119)\n    at org.jboss.logmanager.config.LogContextConfigurationImpl.doPrepare(LogContextConfigurationImpl.java:338)\n    at org.jboss.logmanager.config.LogContextConfigurationImpl.prepare(LogContextConfigurationImpl.java:291)\n    at org.jboss.logmanager.config.LogContextConfigurationImpl.commit(LogContextConfigurationImpl.java:300)\n    at org.jboss.logmanager.PropertyConfigurator.configure(PropertyConfigurator.java:542)\n    at org.jboss.logmanager.PropertyConfigurator.configure(PropertyConfigurator.java:97)\n    at org.jboss.as.logging.logmanager.ConfigurationPersistence.configure(ConfigurationPersistence.java:149)\n    at org.jboss.logmanager.LogManager.readConfiguration(LogManager.java:300)\n    at org.jboss.logmanager.LogManager.readConfiguration(LogManager.java:262)\n    at java.util.logging.LogManager$3.run(LogManager.java:399)\n    at java.util.logging.LogManager$3.run(LogManager.java:396)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.util.logging.LogManager.readPrimordialConfiguration(LogManager.java:396)\n    at java.util.logging.LogManager.access$800(LogManager.java:145)\n    at java.util.logging.LogManager$2.run(LogManager.java:345)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.util.logging.LogManager.ensureLogManagerInitialized(LogManager.java:338)\n    at java.util.logging.LogManager.getLogManager(LogManager.java:378)\n    at org.jboss.modules.Main.main(Main.java:443)\nCaused by: java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:408)\n    at org.jboss.logmanager.config.AbstractPropertyConfiguration$ConstructAction.validate(AbstractPropertyConfiguration.java:117)\n    ... 18 more\nCaused by: java.io.FileNotFoundException: C:\\jboss-eap-6.3\\standalone\\log\\server.log (The process cannot access the file because it is being used by another process)\n    at java.io.FileOutputStream.open(Native Method)\n    at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:213)\n    at org.jboss.logmanager.handlers.FileHandler.setFile(FileHandler.java:154)\n    at org.jboss.logmanager.handlers.PeriodicRotatingFileHandler.setFile(PeriodicRotatingFileHandler.java:105)\n    at org.jboss.logmanager.handlers.FileHandler.setFileName(FileHandler.java:192)\n    at org.jboss.logmanager.handlers.FileHandler.&lt;init&gt;(FileHandler.java:122)\n    at org.jboss.logmanager.handlers.PeriodicRotatingFileHandler.&lt;init&gt;(PeriodicRotatingFileHandler.java:73)\n    ... 23 more\nShutdown JBossEAP6.3.0 service [2015-05-29 09:58:27]\n</code></pre>\n"},{"tags":["java","spring","unit-testing","resttemplate"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1685096953,"post_id":76338965,"comment_id":134617147,"body_markdown":"You can pass in a mock `TemplateBuilder` into the method, then `verify()` that `builder.requestFactory`  was called with an `ArgumentCaptor`, build your template with the factory created from that captor, then verify the template values are correct.","body":"You can pass in a mock <code>TemplateBuilder</code> into the method, then <code>verify()</code> that <code>builder.requestFactory</code>  was called with an <code>ArgumentCaptor</code>, build your template with the factory created from that captor, then verify the template values are correct."},{"owner":{"account_id":3507352,"reputation":587,"user_id":2932601,"accept_rate":86,"display_name":"Oleksandr Tarasenko"},"score":0,"creation_date":1685101499,"post_id":76338965,"comment_id":134618027,"body_markdown":"Thanks @daniu. This could be the way. I will try this out.","body":"Thanks @daniu. This could be the way. I will try this out."}],"owner":{"account_id":3507352,"reputation":587,"user_id":2932601,"accept_rate":86,"display_name":"Oleksandr Tarasenko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685096464,"creation_date":1685089268,"question_id":76338965,"body_markdown":"Is there a way to write unit tests which will test a `RestTemplate` configuration: what are timeouts, what are max numbers of connections etc.?\r\n\r\nI have this class and I need to write unit-tests for it.\r\n```\r\nimport org.apache.http.client.config.RequestConfig;\r\nimport org.apache.http.impl.client.CloseableHttpClient;\r\nimport org.apache.http.impl.client.HttpClientBuilder;\r\nimport org.apache.http.impl.conn.PoolingHttpClientConnectionManager;\r\nimport org.springframework.boot.web.client.RestTemplateBuilder;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.http.client.HttpComponentsClientHttpRequestFactory;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\n@Configuration\r\npublic class WebConfiguration {\r\n\r\n    @Bean\r\n    public RestTemplate restTemplate(RestTemplateBuilder restTemplateBuilder) {\r\n        return restTemplateBuilder.requestFactory(() -&gt; {\r\n            PoolingHttpClientConnectionManager connectionManager \r\n                = new PoolingHttpClientConnectionManager();\r\n            connectionManager.setMaxTotal(200);\r\n            connectionManager.setDefaultMaxPerRoute(100);\r\n            CloseableHttpClient client = HttpClientBuilder\r\n                    .create()\r\n                    .setDefaultRequestConfig(RequestConfig.custom()\r\n                            .setConnectTimeout(10000)\r\n                            .setConnectionRequestTimeout(10000)\r\n                            .setSocketTimeout(10000)\r\n                            .build())\r\n                    .setConnectionManager(connectionManager)\r\n                    .build();\r\n            return new HttpComponentsClientHttpRequestFactory(client);\r\n        }).build();\r\n    }\r\n}\r\n```","title":"Unit tests for RestTemplate configuration","body":"<p>Is there a way to write unit tests which will test a <code>RestTemplate</code> configuration: what are timeouts, what are max numbers of connections etc.?</p>\n<p>I have this class and I need to write unit-tests for it.</p>\n<pre><code>import org.apache.http.client.config.RequestConfig;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.apache.http.impl.conn.PoolingHttpClientConnectionManager;\nimport org.springframework.boot.web.client.RestTemplateBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.client.HttpComponentsClientHttpRequestFactory;\nimport org.springframework.web.client.RestTemplate;\n\n@Configuration\npublic class WebConfiguration {\n\n    @Bean\n    public RestTemplate restTemplate(RestTemplateBuilder restTemplateBuilder) {\n        return restTemplateBuilder.requestFactory(() -&gt; {\n            PoolingHttpClientConnectionManager connectionManager \n                = new PoolingHttpClientConnectionManager();\n            connectionManager.setMaxTotal(200);\n            connectionManager.setDefaultMaxPerRoute(100);\n            CloseableHttpClient client = HttpClientBuilder\n                    .create()\n                    .setDefaultRequestConfig(RequestConfig.custom()\n                            .setConnectTimeout(10000)\n                            .setConnectionRequestTimeout(10000)\n                            .setSocketTimeout(10000)\n                            .build())\n                    .setConnectionManager(connectionManager)\n                    .build();\n            return new HttpComponentsClientHttpRequestFactory(client);\n        }).build();\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","quarkus","narayana"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1685097681,"post_id":76339836,"comment_id":134617325,"body_markdown":"To be clear `@Transactional` won&#39;t commit the transaction. It creates a new transaction or joins to an existing one if it needed. In this case the transaction boundary is the injection boundary. Move service methods to an other CDI bean under the test folder and inject that service into test class. You will see the difference.","body":"To be clear <code>@Transactional</code> won&#39;t commit the transaction. It creates a new transaction or joins to an existing one if it needed. In this case the transaction boundary is the injection boundary. Move service methods to an other CDI bean under the test folder and inject that service into test class. You will see the difference."},{"owner":{"account_id":327482,"reputation":1388,"user_id":649890,"accept_rate":74,"display_name":"arnehehe"},"score":0,"creation_date":1685518914,"post_id":76339836,"comment_id":134669690,"body_markdown":"I&#39;m afraid I don&#39;t quite understand; if I define an @ApplicationScoped EntityService class, where I move the create, update and get methods to - with the same Transactional annotations on the update &amp; persist method, the application still behaves the same. If I move the annotation to the entire service, everything works as expected, but I don&#39;t see why the fetch operation requires Transactional to work","body":"I&#39;m afraid I don&#39;t quite understand; if I define an @ApplicationScoped EntityService class, where I move the create, update and get methods to - with the same Transactional annotations on the update &amp; persist method, the application still behaves the same. If I move the annotation to the entire service, everything works as expected, but I don&#39;t see why the fetch operation requires Transactional to work"}],"owner":{"account_id":327482,"reputation":1388,"user_id":649890,"accept_rate":74,"display_name":"arnehehe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685096030,"creation_date":1685096030,"question_id":76339836,"body_markdown":"I don&#39;t quite understand the following behaviour:\r\n\r\nWe take an Entity where we add a `@Version` field to use hibernate&#39;s Optimistic locking\r\n\r\n    @Entity\r\n    public class MyEntity {\r\n        @Id\r\n        @GeneratedValue\r\n        public Long id;\r\n    \r\n        @Version\r\n        public Long rowVersion;\r\n    \r\n        public String field;\r\n    }\r\n\r\nWe then create a `@QuarkusTest` and test if we can consecutively update and fetch the entity:\r\n\r\n    @QuarkusTest\r\n    public class RowVersionTest {\r\n    \r\n        @Inject\r\n        EntityManager em;\r\n    \r\n        @Test\r\n        public void testRowVersion(){\r\n            MyEntity entity = createEntity();\r\n            Long id = entity.id;\r\n    \r\n            for (int i=0; i &lt; 10; i++){\r\n                MyEntity entityById = getById(id);\r\n                entityById.field += i;\r\n                System.out.println(&quot;Before: &quot; +entityById.field + &quot; - RowVersion: &quot; + entityById.rowVersion);\r\n                update(entityById);\r\n                System.out.println(&quot;After: &quot; +entityById.field + &quot; - RowVersion: &quot; + entityById.rowVersion);\r\n            }\r\n        }\r\n    \r\n        @Transactional\r\n        public MyEntity createEntity() {\r\n            MyEntity newEntity = new MyEntity();\r\n            newEntity.field = &quot;Hello&quot;;\r\n            em.persist(newEntity);\r\n            return newEntity;\r\n        }\r\n    \r\n        public MyEntity getById(Long id){\r\n            TypedQuery&lt;MyEntity&gt; query = em.createQuery(&quot;Select e from MyEntity e where e.id = :id&quot;, MyEntity.class);\r\n            query.setParameter(&quot;id&quot;, id);\r\n            return query.getSingleResult();\r\n        }\r\n    \r\n        @Transactional\r\n        public void update(MyEntity entity){\r\n            em.merge(entity);\r\n        }\r\n    }\r\n\r\nWhat I would expect to happen:\r\n\r\n1) We persist the entity and commit by setting the @Transactional boundary\r\n2) We fetch the entity from the database with the current rowversion\r\n3) We update (merge) the entity and change the field, thereby increase the rowversion in the database\r\n4) We repeat 2-3 \r\n\r\nWhat actually happens, is that we are only able to update the entity the first try. On the second try, we don&#39;t seem to get the latest rowVersion from the database\r\n\r\n    Before: Hello0 - RowVersion: 0\r\n    After: Hello0 - RowVersion: 0\r\n    Before: Hello01 - RowVersion: 0\r\n    \r\n    jakarta.persistence.OptimisticLockException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [org.acme.MyEntity#1]\r\n\r\nWhy is this behaviour? Shouldn&#39;t we get the correct rowversion from the database every time, as we are running outside of Transaction boundary?\r\n\r\nFull source: https://github.com/arnehehe/jpa-question/tree/main/code-with-quarkus","title":"JPA @Version attribute causes OptimistLockExceptions with consecutive updates","body":"<p>I don't quite understand the following behaviour:</p>\n<p>We take an Entity where we add a <code>@Version</code> field to use hibernate's Optimistic locking</p>\n<pre><code>@Entity\npublic class MyEntity {\n    @Id\n    @GeneratedValue\n    public Long id;\n\n    @Version\n    public Long rowVersion;\n\n    public String field;\n}\n</code></pre>\n<p>We then create a <code>@QuarkusTest</code> and test if we can consecutively update and fetch the entity:</p>\n<pre><code>@QuarkusTest\npublic class RowVersionTest {\n\n    @Inject\n    EntityManager em;\n\n    @Test\n    public void testRowVersion(){\n        MyEntity entity = createEntity();\n        Long id = entity.id;\n\n        for (int i=0; i &lt; 10; i++){\n            MyEntity entityById = getById(id);\n            entityById.field += i;\n            System.out.println(&quot;Before: &quot; +entityById.field + &quot; - RowVersion: &quot; + entityById.rowVersion);\n            update(entityById);\n            System.out.println(&quot;After: &quot; +entityById.field + &quot; - RowVersion: &quot; + entityById.rowVersion);\n        }\n    }\n\n    @Transactional\n    public MyEntity createEntity() {\n        MyEntity newEntity = new MyEntity();\n        newEntity.field = &quot;Hello&quot;;\n        em.persist(newEntity);\n        return newEntity;\n    }\n\n    public MyEntity getById(Long id){\n        TypedQuery&lt;MyEntity&gt; query = em.createQuery(&quot;Select e from MyEntity e where e.id = :id&quot;, MyEntity.class);\n        query.setParameter(&quot;id&quot;, id);\n        return query.getSingleResult();\n    }\n\n    @Transactional\n    public void update(MyEntity entity){\n        em.merge(entity);\n    }\n}\n</code></pre>\n<p>What I would expect to happen:</p>\n<ol>\n<li>We persist the entity and commit by setting the @Transactional boundary</li>\n<li>We fetch the entity from the database with the current rowversion</li>\n<li>We update (merge) the entity and change the field, thereby increase the rowversion in the database</li>\n<li>We repeat 2-3</li>\n</ol>\n<p>What actually happens, is that we are only able to update the entity the first try. On the second try, we don't seem to get the latest rowVersion from the database</p>\n<pre><code>Before: Hello0 - RowVersion: 0\nAfter: Hello0 - RowVersion: 0\nBefore: Hello01 - RowVersion: 0\n\njakarta.persistence.OptimisticLockException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [org.acme.MyEntity#1]\n</code></pre>\n<p>Why is this behaviour? Shouldn't we get the correct rowversion from the database every time, as we are running outside of Transaction boundary?</p>\n<p>Full source: <a href=\"https://github.com/arnehehe/jpa-question/tree/main/code-with-quarkus\" rel=\"nofollow noreferrer\">https://github.com/arnehehe/jpa-question/tree/main/code-with-quarkus</a></p>\n"},{"tags":["java","redis","local","amazon-elasticache"],"answers":[{"tags":[],"owner":{"account_id":28578968,"reputation":111,"user_id":21880187,"display_name":"Abhishek Mishra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685095673,"creation_date":1685095673,"answer_id":76339791,"question_id":76339181,"body_markdown":"There are a couple of options that you can try to run Redis Server locally:\r\n1. Install Docker and run the Redis pre-built image obtained from DockerHub\r\n2. If you have MacOS or Linux based local machine, you can easily install Redis Server distribution on it.\r\n\r\nAlso, you can have a embedded Redis server running inside your main application similar to H2 DB that you are referring to. \r\nPlease follow the link https://www.baeldung.com/spring-embedded-redis for the details about how to configure and customize embedded Redis server as per your local testing environment.","title":"Redis for Local Testing using Java Jedis Client without a REDIS Server","body":"<p>There are a couple of options that you can try to run Redis Server locally:</p>\n<ol>\n<li>Install Docker and run the Redis pre-built image obtained from DockerHub</li>\n<li>If you have MacOS or Linux based local machine, you can easily install Redis Server distribution on it.</li>\n</ol>\n<p>Also, you can have a embedded Redis server running inside your main application similar to H2 DB that you are referring to.\nPlease follow the link <a href=\"https://www.baeldung.com/spring-embedded-redis\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-embedded-redis</a> for the details about how to configure and customize embedded Redis server as per your local testing environment.</p>\n"}],"owner":{"account_id":13162034,"reputation":50,"user_id":9507203,"display_name":"Joey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76339791,"answer_count":1,"score":1,"last_activity_date":1685095673,"creation_date":1685091094,"question_id":76339181,"body_markdown":"I am pretty new to redis cache and trying to figure out a way to test my changes (Repositories) for redistribution locally. The idea is I do not have a redis server running locally, I do have it in my dev env but what I intend to have is the ability to run my redis code locally and when I save the data it gets saved to some in-memory db or somewhere else instead of redis DB which would let me test my logical changes. \r\nThe issue is since I do not have redis locally (also it is not possible for me to have it on my local machine) my repository code doesn&#39;t work.\r\n\r\neg :\r\n\r\n// Functional Logic\r\n// userRepository.save(data) --&gt; This would not work because repository itself isn&#39;t built as redis configurations don&#39;t work\r\n\r\n\r\n\r\nI tried googling but I only find how to use redis for integration test . What I&#39;m looking for is something similar to H2 DB that stores data locally.","title":"Redis for Local Testing using Java Jedis Client without a REDIS Server","body":"<p>I am pretty new to redis cache and trying to figure out a way to test my changes (Repositories) for redistribution locally. The idea is I do not have a redis server running locally, I do have it in my dev env but what I intend to have is the ability to run my redis code locally and when I save the data it gets saved to some in-memory db or somewhere else instead of redis DB which would let me test my logical changes.\nThe issue is since I do not have redis locally (also it is not possible for me to have it on my local machine) my repository code doesn't work.</p>\n<p>eg :</p>\n<p>// Functional Logic\n// userRepository.save(data) --&gt; This would not work because repository itself isn't built as redis configurations don't work</p>\n<p>I tried googling but I only find how to use redis for integration test . What I'm looking for is something similar to H2 DB that stores data locally.</p>\n"},{"tags":["java","android","lottie"],"comments":[{"owner":{"account_id":7713441,"reputation":426,"user_id":5842014,"display_name":"amira"},"score":2,"creation_date":1614494626,"post_id":66406440,"comment_id":117399359,"body_markdown":"1. Try with `FrameLayout` instead of `ConstraintLayout`.\n2. You don&#39;t need to specify `animate();` and `playAnimation()` in your code, since your xml handles it with `autoPlay=true`.","body":"1. Try with <code>FrameLayout</code> instead of <code>ConstraintLayout</code>. 2. You don&#39;t need to specify <code>animate();</code> and <code>playAnimation()</code> in your code, since your xml handles it with <code>autoPlay=true</code>."},{"owner":{"account_id":20673061,"reputation":43,"user_id":15178355,"display_name":"SRVittal"},"score":0,"creation_date":1614514864,"post_id":66406440,"comment_id":117403278,"body_markdown":"@amira Firstly thank you for the suggestion which I tried but did not play the animation, I included the `animate();` and `playAnimation()` hoping that my animation would play but that did not resolve my issue.","body":"@amira Firstly thank you for the suggestion which I tried but did not play the animation, I included the <code>animate();</code> and <code>playAnimation()</code> hoping that my animation would play but that did not resolve my issue."},{"owner":{"account_id":12155533,"reputation":61,"user_id":8874572,"display_name":"Vinu Polly"},"score":0,"creation_date":1635759784,"post_id":66406440,"comment_id":123370809,"body_markdown":"@SRVittal Did you find a solution to this issue, I am getting this same problem when I place an animation in a nested layout. In root, there are no issues, but when nested it always shows still Images?","body":"@SRVittal Did you find a solution to this issue, I am getting this same problem when I place an animation in a nested layout. In root, there are no issues, but when nested it always shows still Images?"},{"owner":{"account_id":20673061,"reputation":43,"user_id":15178355,"display_name":"SRVittal"},"score":0,"creation_date":1635852671,"post_id":66406440,"comment_id":123397896,"body_markdown":"@VinuPolly I believe the reason it did not play in my case was that the Animations on the device was disabled.","body":"@VinuPolly I believe the reason it did not play in my case was that the Animations on the device was disabled."}],"answers":[{"tags":[],"owner":{"account_id":14348220,"reputation":27,"user_id":10364529,"display_name":"Denis Zozulinsky"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1614494816,"creation_date":1614494686,"answer_id":66406518,"question_id":66406440,"body_markdown":"This is work without lottieView.playAnimation() because lottie_autoPlay=&quot;true&quot;:\r\n\r\n    &lt;com.airbnb.lottie.LottieAnimationView\r\n                android:id=&quot;@+id/anim_view&quot;\r\n                android:layout_width=&quot;256dp&quot;\r\n                android:layout_height=&quot;256dp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:lottie_rawRes=&quot;@raw/anim_radio_waves&quot;\r\n                app:lottie_autoPlay=&quot;true&quot;\r\n                app:lottie_loop=&quot;true&quot;/&gt;\r\n\r\nAlso check your animation json: [lottie player][1]\r\n\r\n\r\n  [1]: https://lottiefiles.com/editor","title":"Lottie animation is showing as a still image but not playing","body":"<p>This is work without lottieView.playAnimation() because lottie_autoPlay=&quot;true&quot;:</p>\n<pre><code>&lt;com.airbnb.lottie.LottieAnimationView\n            android:id=&quot;@+id/anim_view&quot;\n            android:layout_width=&quot;256dp&quot;\n            android:layout_height=&quot;256dp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:lottie_rawRes=&quot;@raw/anim_radio_waves&quot;\n            app:lottie_autoPlay=&quot;true&quot;\n            app:lottie_loop=&quot;true&quot;/&gt;\n</code></pre>\n<p>Also check your animation json: <a href=\"https://lottiefiles.com/editor\" rel=\"nofollow noreferrer\">lottie player</a></p>\n"},{"tags":[],"owner":{"account_id":7572005,"reputation":661,"user_id":5745574,"display_name":"Vipul Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614497836,"creation_date":1614497836,"answer_id":66406864,"question_id":66406440,"body_markdown":"I was able to run the animation with the following code:\r\n\r\n    val imageView = view.findViewById&lt;LottieAnimationView&gt;(R.id.image_view)\r\n    imagView.playAnimation()\r\n\r\nxml code: \r\n\r\n    &lt;com.airbnb.lottie.LottieAnimationView\r\n        android:id=&quot;@+id/image_view&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:lottie_fileName=&quot;womensDay.json&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/button_first&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textview_first&quot;\r\n        app:lottie_loop=&quot;true&quot;/&gt;\r\n\r\n\r\nA few things to remember:\r\n\r\n 1. Make sure you&#39;re placing your json file in the asset folder, if don&#39;t have one create one. Refer: https://stackoverflow.com/a/50907775/5745574\r\n 2. Just to test, try giving your view absolute dimension say 200dp (width &amp; height). It might be a case where your view doesn&#39;t have proper dimension.\r\n 3. Try animating a different json file, your file may be corrupted\r\n 4. Try placing your lottieView inside a ViewGroup (Of any type e.g. LinearLayout)\r\n 4. Lottie animation is supported in API level 16 and above","title":"Lottie animation is showing as a still image but not playing","body":"<p>I was able to run the animation with the following code:</p>\n<pre><code>val imageView = view.findViewById&lt;LottieAnimationView&gt;(R.id.image_view)\nimagView.playAnimation()\n</code></pre>\n<p>xml code:</p>\n<pre><code>&lt;com.airbnb.lottie.LottieAnimationView\n    android:id=&quot;@+id/image_view&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:lottie_fileName=&quot;womensDay.json&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@+id/button_first&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/textview_first&quot;\n    app:lottie_loop=&quot;true&quot;/&gt;\n</code></pre>\n<p>A few things to remember:</p>\n<ol>\n<li>Make sure you're placing your json file in the asset folder, if don't have one create one. Refer: <a href=\"https://stackoverflow.com/a/50907775/5745574\">https://stackoverflow.com/a/50907775/5745574</a></li>\n<li>Just to test, try giving your view absolute dimension say 200dp (width &amp; height). It might be a case where your view doesn't have proper dimension.</li>\n<li>Try animating a different json file, your file may be corrupted</li>\n<li>Try placing your lottieView inside a ViewGroup (Of any type e.g. LinearLayout)</li>\n<li>Lottie animation is supported in API level 16 and above</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14165100,"reputation":691,"user_id":10233277,"display_name":"Berkay Kire&#231;ci"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1633721231,"creation_date":1614516078,"answer_id":66409199,"question_id":66406440,"body_markdown":"Looks like you are doing it right. Is there any chance of animations are [completely disabled on your phone][1]? \r\n\r\n\r\n  [1]: https://www.howtogeek.com/175033/how-to-speed-up-any-android-phone-by-disabling-animations/","title":"Lottie animation is showing as a still image but not playing","body":"<p>Looks like you are doing it right. Is there any chance of animations are <a href=\"https://www.howtogeek.com/175033/how-to-speed-up-any-android-phone-by-disabling-animations/\" rel=\"noreferrer\">completely disabled on your phone</a>?</p>\n"},{"tags":[],"owner":{"account_id":4066266,"reputation":2101,"user_id":3341089,"display_name":"oguzhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685095585,"creation_date":1685095585,"answer_id":76339780,"question_id":66406440,"body_markdown":"I wanted to specify something about not playing animations. If you are using LottieAnimationView for either with image url or with lottie json url like toggle, you may need to start animation programmatically even you set`app:lottie_autoPlay=&quot;true&quot;` before in xml;\r\n\r\n    fun LottieAnimationView.setImageOrAnimationFromUrl(imageOrLottieUrl : String?) {\r\n        if (imageOrLottieUrl?.endsWith(&quot;.json&quot;) == true) {\r\n            //lottie json url\r\n            this.setAnimationFromUrl(imageOrLottieUrl,imageOrLottieUrl)\r\n            this.animate()\r\n            this.playAnimation()\r\n        } else {\r\n            //normal image url\r\n            Glide.with(this).load(imageOrLottieUrl).circleCrop().into(this)\r\n        }\r\n    }","title":"Lottie animation is showing as a still image but not playing","body":"<p>I wanted to specify something about not playing animations. If you are using LottieAnimationView for either with image url or with lottie json url like toggle, you may need to start animation programmatically even you set<code>app:lottie_autoPlay=&quot;true&quot;</code> before in xml;</p>\n<pre><code>fun LottieAnimationView.setImageOrAnimationFromUrl(imageOrLottieUrl : String?) {\n    if (imageOrLottieUrl?.endsWith(&quot;.json&quot;) == true) {\n        //lottie json url\n        this.setAnimationFromUrl(imageOrLottieUrl,imageOrLottieUrl)\n        this.animate()\n        this.playAnimation()\n    } else {\n        //normal image url\n        Glide.with(this).load(imageOrLottieUrl).circleCrop().into(this)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20673061,"reputation":43,"user_id":15178355,"display_name":"SRVittal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9570,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":66409199,"answer_count":4,"score":4,"last_activity_date":1685095585,"creation_date":1614493911,"question_id":66406440,"body_markdown":"I am in the process of writing an app and wanted to have a Lottie animation as my splash screen, since I am learning java as I code this app I made a test app to see how things would work. I found that almost any Lottie animation displays just as a still image and does not play/loop the animation. I followed the  [guide on LottieFiles website][1] and also information that I found on [other questions][2] but I still did not manage to get the animation playing. The following is exactly what I have added: \r\n\r\nGradle dependency of my app:\r\n```\r\ndependencies {  \r\n        implementation &#39;com.airbnb.android:lottie:3.6.1&#39;\r\n}\r\n```\r\n\r\nTo my Layout XML:\r\n```\r\n&lt;com.airbnb.lottie.LottieAnimationView\r\n        android:id=&quot;@+id/splashlottie&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:lottie_fileName=&quot;opening_book.json&quot; //Even tried placing the file in raw and using app:lottie_rawRes=&quot;@raw/opening_book&quot;\r\n        app:lottie_autoPlay=&quot;true&quot;\r\n        app:lottie_loop=&quot;true&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n``` \r\n\r\nIn my activity:\r\n```\r\n        LottieAnimationView splashscreen;\r\n        splashscreen = findViewById(R.id.splashlottie);\r\n\r\n        splashscreen.animate();\r\n        splashscreen.playAnimation();\r\n``` \r\n\r\nI am not sure exactly what I am doing wrong as I even tried various different lottie animation files and by placing the same file under raw and assets. Could the API level be the cause of the animation not playing?\r\n\r\n\r\n  [1]: https://lottiefiles.com/blog/working-with-lottie/getting-started-with-lottie-animations-in-android-app\r\n  [2]: https://stackoverflow.com/questions/45924996/lottie-animation-not-working","title":"Lottie animation is showing as a still image but not playing","body":"<p>I am in the process of writing an app and wanted to have a Lottie animation as my splash screen, since I am learning java as I code this app I made a test app to see how things would work. I found that almost any Lottie animation displays just as a still image and does not play/loop the animation. I followed the  <a href=\"https://lottiefiles.com/blog/working-with-lottie/getting-started-with-lottie-animations-in-android-app\" rel=\"nofollow noreferrer\">guide on LottieFiles website</a> and also information that I found on <a href=\"https://stackoverflow.com/questions/45924996/lottie-animation-not-working\">other questions</a> but I still did not manage to get the animation playing. The following is exactly what I have added:</p>\n<p>Gradle dependency of my app:</p>\n<pre><code>dependencies {  \n        implementation 'com.airbnb.android:lottie:3.6.1'\n}\n</code></pre>\n<p>To my Layout XML:</p>\n<pre><code>&lt;com.airbnb.lottie.LottieAnimationView\n        android:id=&quot;@+id/splashlottie&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:lottie_fileName=&quot;opening_book.json&quot; //Even tried placing the file in raw and using app:lottie_rawRes=&quot;@raw/opening_book&quot;\n        app:lottie_autoPlay=&quot;true&quot;\n        app:lottie_loop=&quot;true&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n<p>In my activity:</p>\n<pre><code>        LottieAnimationView splashscreen;\n        splashscreen = findViewById(R.id.splashlottie);\n\n        splashscreen.animate();\n        splashscreen.playAnimation();\n</code></pre>\n<p>I am not sure exactly what I am doing wrong as I even tried various different lottie animation files and by placing the same file under raw and assets. Could the API level be the cause of the animation not playing?</p>\n"},{"tags":["java","spring","amazon-web-services","amazon-s3"],"owner":{"account_id":14059622,"reputation":99,"user_id":12648740,"display_name":"John Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685095534,"creation_date":1684870911,"question_id":76318138,"body_markdown":"I would like to configure either **STSAssumeRoleSessionCredentialsProvider** of **SDK V1** or\r\n**StsAssumeRoleCredentialsProvider** of **SDK V2** to run requests against **S3**.\r\n\r\nBoth constructors need **String roleArn, String roleSessionName**. If role Arn can be taken from a specific IAM role but regarding sessionsName I don&#39;t have any thoughts(How it could configured/generated? Where can it be taken?).\r\n\r\nI have values for such env variables like **AWS_SESSION_TOKEN, AWS_SECRET_KEY, AWS_ACCESS_KEY, AWS_SECURITY_TOKEN**. Maybe be they can be used for roleSessionName ?\r\n\r\n**for V1 SDK**\r\n```\r\nAWSSecurityTokenService stsClient = AWSSecurityTokenServiceClientBuilder.standard().withRegion(Region.Global).build();\r\n\r\nSTSAssumeRoleSessionCredentialsProvider.Builder stsBuilder = new STSAssumeRoleSessionCredentialsProvider.Builder(takenFromIAMRole, \r\n                                                roleSessionName??????????);\r\n```\r\n**for V2 SDK**\r\n```\r\npublic S3Client s3Client(@Value(??????) String roleSessionName,  \r\n        @Value(this is taken from IAM role) String role) {\r\n\r\n return S3Client\r\n       .builder()\r\n       .region(Region.US_EAST_1)\r\n       .credentialsProvider(StsAssumeRoleCredentialsProvider\r\n               .builder()\r\n               .refreshRequest(() -&gt; AssumeRoleRequest\r\n                       .builder()\r\n                       .roleArn(role)\r\n                       .roleSessionName(roleSessionName)\r\n                       .build())\r\n               .build())\r\n       .build();\r\n   ```\r\n\r\nCan anyone advice or direct where I can start to look for roleSessionName?","title":"Where I can take/configure/see a roleSessionName for configuring STSAssumeRoleSessionCredentialsProvider for v1 or v2 credential provider AWS SDK?","body":"<p>I would like to configure either <strong>STSAssumeRoleSessionCredentialsProvider</strong> of <strong>SDK V1</strong> or\n<strong>StsAssumeRoleCredentialsProvider</strong> of <strong>SDK V2</strong> to run requests against <strong>S3</strong>.</p>\n<p>Both constructors need <strong>String roleArn, String roleSessionName</strong>. If role Arn can be taken from a specific IAM role but regarding sessionsName I don't have any thoughts(How it could configured/generated? Where can it be taken?).</p>\n<p>I have values for such env variables like <strong>AWS_SESSION_TOKEN, AWS_SECRET_KEY, AWS_ACCESS_KEY, AWS_SECURITY_TOKEN</strong>. Maybe be they can be used for roleSessionName ?</p>\n<p><strong>for V1 SDK</strong></p>\n<pre><code>AWSSecurityTokenService stsClient = AWSSecurityTokenServiceClientBuilder.standard().withRegion(Region.Global).build();\n\nSTSAssumeRoleSessionCredentialsProvider.Builder stsBuilder = new STSAssumeRoleSessionCredentialsProvider.Builder(takenFromIAMRole, \n                                                roleSessionName??????????);\n</code></pre>\n<p><strong>for V2 SDK</strong></p>\n<pre><code>public S3Client s3Client(@Value(??????) String roleSessionName,  \n        @Value(this is taken from IAM role) String role) {\n\n return S3Client\n       .builder()\n       .region(Region.US_EAST_1)\n       .credentialsProvider(StsAssumeRoleCredentialsProvider\n               .builder()\n               .refreshRequest(() -&gt; AssumeRoleRequest\n                       .builder()\n                       .roleArn(role)\n                       .roleSessionName(roleSessionName)\n                       .build())\n               .build())\n       .build();\n</code></pre>\n<p>Can anyone advice or direct where I can start to look for roleSessionName?</p>\n"},{"tags":["java","maven","testng","maven-surefire-plugin"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1685034847,"post_id":76334216,"comment_id":134608487,"body_markdown":"This `&lt;class name=&quot;src.Schoology&quot;/&gt;` looks strange. Can you show your folder structure in IDE?","body":"This <code>&lt;class name=&quot;src.Schoology&quot;&#47;&gt;</code> looks strange. Can you show your folder structure in IDE?"},{"owner":{"account_id":21237877,"reputation":79,"user_id":15621824,"display_name":"Alexb1999"},"score":0,"creation_date":1685089500,"post_id":76334216,"comment_id":134615538,"body_markdown":"Hi, I added a pic of the structure above. Thanks","body":"Hi, I added a pic of the structure above. Thanks"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1685091925,"post_id":76334216,"comment_id":134616043,"body_markdown":"What surefire plugin version do you use?","body":"What surefire plugin version do you use?"},{"owner":{"account_id":21237877,"reputation":79,"user_id":15621824,"display_name":"Alexb1999"},"score":0,"creation_date":1685093342,"post_id":76334216,"comment_id":134616385,"body_markdown":"```\n &lt;maven-surefire-plugin.version&gt;3.0.0-M7&lt;/maven-surefire-plugin.version&gt;\n```","body":"```  &lt;maven-surefire-plugin.version&gt;3.0.0-M7&lt;/maven-surefire-plug&zwnj;&#8203;in.version&gt; ```"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1685094228,"post_id":76334216,"comment_id":134616597,"body_markdown":"testing file should be located in `src/test/java/&lt;package&gt;/` and follow Naming conventions unit tests like `*Test.java` no need to define the includes for surefire plugin (that&#39;s the default)... no manual binding via execution block neccessary... also use most recent version of surefire plugin (https://maven.apache.org/plugins/) and do not use suite files for testng better follow naming convention... the question is also if you really need testng ...maybe a better way would be to use JUnit Jupiter (aka JUnit 5) etc...","body":"testing file should be located in <code>src&#47;test&#47;java&#47;&lt;package&gt;&#47;</code> and follow Naming conventions unit tests like <code>*Test.java</code> no need to define the includes for surefire plugin (that&#39;s the default)... no manual binding via execution block neccessary... also use most recent version of surefire plugin (<a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a>) and do not use suite files for testng better follow naming convention... the question is also if you really need testng ...maybe a better way would be to use JUnit Jupiter (aka JUnit 5) etc..."}],"answers":[{"tags":[],"owner":{"account_id":21257490,"reputation":76,"user_id":15638753,"display_name":"ChrisMersi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685086278,"creation_date":1685086278,"answer_id":76338572,"question_id":76334216,"body_markdown":"Your test files must be located under the `src/test` package. This is the default path maven test plugin is looking for all the test files. ","title":"TestNG test not running via command line","body":"<p>Your test files must be located under the <code>src/test</code> package. This is the default path maven test plugin is looking for all the test files.</p>\n"},{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685095450,"creation_date":1685095450,"answer_id":76339757,"question_id":76334216,"body_markdown":"You have really messy and misleading folder structure. First of all, when you run test as `mvn test -Dtest=&quot;restassured.src.Schoology&quot;` you basically ignore your `testng.xml` configuration.\r\n\r\nThe next thing is that `restassured` is not a part of your package name. It is a *test resource folder*. You mark it as *test resource folder* in your IDE but when you run it from command line maven has no idea about it needs to take classes from that folder to the *classpath*.\r\n\r\nTo fix the last issue you need to add `&lt;testSourceDirectory&gt;${project.basedir}/restassured&lt;/testSourceDirectory&gt;` to `&lt;build&gt;...&lt;/build&gt;` part of your `pom.xml`\r\n\r\nNow you can run your test but still have to remove `restassured.` from your fully qualified class name. So your call would look like this:\r\n\r\n`mvn test -Dtest=&quot;src.Schoology&quot;`\r\n\r\n**P.S.** - do not forget to do `clean` before your trial.","title":"TestNG test not running via command line","body":"<p>You have really messy and misleading folder structure. First of all, when you run test as <code>mvn test -Dtest=&quot;restassured.src.Schoology&quot;</code> you basically ignore your <code>testng.xml</code> configuration.</p>\n<p>The next thing is that <code>restassured</code> is not a part of your package name. It is a <em>test resource folder</em>. You mark it as <em>test resource folder</em> in your IDE but when you run it from command line maven has no idea about it needs to take classes from that folder to the <em>classpath</em>.</p>\n<p>To fix the last issue you need to add <code>&lt;testSourceDirectory&gt;${project.basedir}/restassured&lt;/testSourceDirectory&gt;</code> to <code>&lt;build&gt;...&lt;/build&gt;</code> part of your <code>pom.xml</code></p>\n<p>Now you can run your test but still have to remove <code>restassured.</code> from your fully qualified class name. So your call would look like this:</p>\n<p><code>mvn test -Dtest=&quot;src.Schoology&quot;</code></p>\n<p><strong>P.S.</strong> - do not forget to do <code>clean</code> before your trial.</p>\n"}],"owner":{"account_id":21237877,"reputation":79,"user_id":15621824,"display_name":"Alexb1999"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685095450,"creation_date":1685030192,"question_id":76334216,"body_markdown":"I have been following instructions to create a pom.xml file and testng.xml file which references the correct test class but it does not seem to work/find the test.\r\n\r\nMy pom.xml:\r\n\r\n```\r\n\r\n  &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;${rest-assured.version}&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;groovy&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;groovy-xml&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;7.1.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        .........\r\n        .........\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;unit&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;test&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;include&gt;**/*Test.java&lt;/include&gt;\r\n                                &lt;include&gt;**/*Tests.java&lt;/include&gt;\r\n                            &lt;/includes&gt;\r\n                            &lt;suiteXmlFiles&gt;\r\n                                &lt;suiteXmlFile&gt;testng.xml&lt;/suiteXmlFile&gt;\r\n                            &lt;/suiteXmlFiles&gt;\r\n                        &lt;/configuration&gt;\r\n```\r\n\r\nMy testng.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot; &gt;\r\n\r\n&lt;suite name=&quot;Suite&quot;&gt;\r\n    &lt;test name=&quot;Test1&quot;&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;src.Schoology&quot;/&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n&lt;/suite&gt;\r\n```\r\n\r\nThe test itself is found at: \r\n\r\n**folderRoot &lt; restassured &lt; src &lt; Schoology**\r\n\r\nWhen I try to run the test using the command: \r\n\r\n```\r\nmvn test -Dtest=&quot;restassured.src.Schoology&quot;\r\n\r\n```\r\n\r\nI get the following error:\r\n\r\n**No tests matching pattern &quot;restassured.src.Schoology&quot; were executed! (Set -Dsurefire.failIfNoSpecifiedTests=false to ignore this error.) -&gt; [Help 1]**\r\n\r\nI thought the testng.xml file was set up properly so I&#39;m not really sure why it can&#39;t find the class. Any help is appreciated, thanks.\r\n\r\n\r\nAlso, the structure of the project is shown here:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wO3YC.png\r\n\r\n\r\nThanks","title":"TestNG test not running via command line","body":"<p>I have been following instructions to create a pom.xml file and testng.xml file which references the correct test class but it does not seem to work/find the test.</p>\n<p>My pom.xml:</p>\n<pre><code>\n  &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;${rest-assured.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n                    &lt;artifactId&gt;groovy&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n                    &lt;artifactId&gt;groovy-xml&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;7.1.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        .........\n        .........\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;unit&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;test&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;**/*Test.java&lt;/include&gt;\n                                &lt;include&gt;**/*Tests.java&lt;/include&gt;\n                            &lt;/includes&gt;\n                            &lt;suiteXmlFiles&gt;\n                                &lt;suiteXmlFile&gt;testng.xml&lt;/suiteXmlFile&gt;\n                            &lt;/suiteXmlFiles&gt;\n                        &lt;/configuration&gt;\n</code></pre>\n<p>My testng.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot; &gt;\n\n&lt;suite name=&quot;Suite&quot;&gt;\n    &lt;test name=&quot;Test1&quot;&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;src.Schoology&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>The test itself is found at:</p>\n<p><strong>folderRoot &lt; restassured &lt; src &lt; Schoology</strong></p>\n<p>When I try to run the test using the command:</p>\n<pre><code>mvn test -Dtest=&quot;restassured.src.Schoology&quot;\n\n</code></pre>\n<p>I get the following error:</p>\n<p><strong>No tests matching pattern &quot;restassured.src.Schoology&quot; were executed! (Set -Dsurefire.failIfNoSpecifiedTests=false to ignore this error.) -&gt; [Help 1]</strong></p>\n<p>I thought the testng.xml file was set up properly so I'm not really sure why it can't find the class. Any help is appreciated, thanks.</p>\n<p>Also, the structure of the project is shown here:</p>\n<p><a href=\"https://i.stack.imgur.com/wO3YC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wO3YC.png\" alt=\"enter image description here\" /></a></p>\n<p>Thanks</p>\n"},{"tags":["java","jms","amazon-sqs","micronaut","micronaut-aws"],"owner":{"account_id":4569994,"reputation":1447,"user_id":3709922,"accept_rate":33,"display_name":"Jignesh M. Khatri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685095181,"creation_date":1685095181,"question_id":76339717,"body_markdown":"I have developed a standard SQS consumer in Micronaut application (Java). There will be only one consumer instance for this queue. Producer can produce `n` number of messages at any moment. But I want to process those messages from SQS in sequential manner, then how can I achieve that?\r\n\r\nBelow is the code for JMS listener which listens the standard SQS queue:\r\n```\r\n@Requires(property = SqsConfigurationProperties.PREFIX + &quot;.enabled&quot;, value = &quot;true&quot;)\r\n@Singleton\r\n@JMSListener(CONNECTION_FACTORY_BEAN_NAME)\r\npublic class SQSEventListener {\r\n    \r\n    @Queue(value = &quot;${aws.sqs.name}&quot;, concurrency = &quot;1-1&quot;)\r\n    public void listen(@MessageBody String body) {\r\n        ...\r\n    }\r\n}\r\n```\r\nHere as you can see I have set the `concurrency` as `1-1`. This seems to be working, but then it throws below error if there are more than one messages in the queue:\r\n```\r\nio.micronaut.messaging.exceptions.MessageListenerException: Task java.util.concurrent.FutureTask@16ff5a1a[Not completed, task = java.util.concurrent.Executors$RunnableAdapter@7e8de0e1[Wrapped task = io.micronaut.jms.configuration.AbstractJMSListenerMethodProcessor$$Lambda$728/0x0000000800c07c40@397e8c27]] rejected from java.util.concurrent.ThreadPoolExecutor@51c6d79a[Running, pool size = 1, active threads = 1, queued tasks = 1, completed tasks = 6]\r\n        at io.micronaut.jms.listener.JMSListenerContainer.lambda$registerListener$1(JMSListenerContainer.java:186)\r\n        at com.amazon.sqs.javamessaging.SQSSessionCallbackScheduler.run(SQSSessionCallbackScheduler.java:150)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n        at java.base/java.lang.Thread.run(Unknown Source)\r\nCaused by: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.FutureTask@16ff5a1a[Not completed, task = java.util.concurrent.Executors$RunnableAdapter@7e8de0e1[Wrapped task = io.micronaut.jms.configuration.AbstractJMSListenerMethodProcessor$$Lambda$728/0x0000000800c07c40@397e8c27]] rejected from java.util.concurrent.ThreadPoolExecutor@51c6d79a[Running, pool size = 1, active threads = 1, queued tasks = 1, completed tasks = 6]\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(Unknown Source)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.reject(Unknown Source)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.execute(Unknown Source)\r\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(Unknown Source)\r\n        at io.micronaut.jms.configuration.AbstractJMSListenerMethodProcessor.lambda$generateAndBindListener$4(AbstractJMSListenerMethodProcessor.java:115)\r\n        at io.micronaut.jms.listener.JMSListenerContainer.lambda$registerListener$1(JMSListenerContainer.java:173)\r\n        ... 4 common frames omitted\r\n02:55:55.574 [SessionCallBackSchedulerThread-1] INFO  c.a.s.j.SQSSessionCallbackScheduler - Exception thrown from onMessage callback for message\r\n\r\n```\r\n\r\nThe above exception also keeps read count increasing on the SQS queue.\r\n\r\nHow can we fix this error, or is there any other way to achieve sequentially processing of standard SQS messages in Micronaut (Java) application?","title":"How to consume messages from AWS Standard SQS using JMSListener sequentially?","body":"<p>I have developed a standard SQS consumer in Micronaut application (Java). There will be only one consumer instance for this queue. Producer can produce <code>n</code> number of messages at any moment. But I want to process those messages from SQS in sequential manner, then how can I achieve that?</p>\n<p>Below is the code for JMS listener which listens the standard SQS queue:</p>\n<pre><code>@Requires(property = SqsConfigurationProperties.PREFIX + &quot;.enabled&quot;, value = &quot;true&quot;)\n@Singleton\n@JMSListener(CONNECTION_FACTORY_BEAN_NAME)\npublic class SQSEventListener {\n    \n    @Queue(value = &quot;${aws.sqs.name}&quot;, concurrency = &quot;1-1&quot;)\n    public void listen(@MessageBody String body) {\n        ...\n    }\n}\n</code></pre>\n<p>Here as you can see I have set the <code>concurrency</code> as <code>1-1</code>. This seems to be working, but then it throws below error if there are more than one messages in the queue:</p>\n<pre><code>io.micronaut.messaging.exceptions.MessageListenerException: Task java.util.concurrent.FutureTask@16ff5a1a[Not completed, task = java.util.concurrent.Executors$RunnableAdapter@7e8de0e1[Wrapped task = io.micronaut.jms.configuration.AbstractJMSListenerMethodProcessor$$Lambda$728/0x0000000800c07c40@397e8c27]] rejected from java.util.concurrent.ThreadPoolExecutor@51c6d79a[Running, pool size = 1, active threads = 1, queued tasks = 1, completed tasks = 6]\n        at io.micronaut.jms.listener.JMSListenerContainer.lambda$registerListener$1(JMSListenerContainer.java:186)\n        at com.amazon.sqs.javamessaging.SQSSessionCallbackScheduler.run(SQSSessionCallbackScheduler.java:150)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n        at java.base/java.lang.Thread.run(Unknown Source)\nCaused by: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.FutureTask@16ff5a1a[Not completed, task = java.util.concurrent.Executors$RunnableAdapter@7e8de0e1[Wrapped task = io.micronaut.jms.configuration.AbstractJMSListenerMethodProcessor$$Lambda$728/0x0000000800c07c40@397e8c27]] rejected from java.util.concurrent.ThreadPoolExecutor@51c6d79a[Running, pool size = 1, active threads = 1, queued tasks = 1, completed tasks = 6]\n        at java.base/java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(Unknown Source)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.reject(Unknown Source)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.execute(Unknown Source)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(Unknown Source)\n        at io.micronaut.jms.configuration.AbstractJMSListenerMethodProcessor.lambda$generateAndBindListener$4(AbstractJMSListenerMethodProcessor.java:115)\n        at io.micronaut.jms.listener.JMSListenerContainer.lambda$registerListener$1(JMSListenerContainer.java:173)\n        ... 4 common frames omitted\n02:55:55.574 [SessionCallBackSchedulerThread-1] INFO  c.a.s.j.SQSSessionCallbackScheduler - Exception thrown from onMessage callback for message\n\n</code></pre>\n<p>The above exception also keeps read count increasing on the SQS queue.</p>\n<p>How can we fix this error, or is there any other way to achieve sequentially processing of standard SQS messages in Micronaut (Java) application?</p>\n"},{"tags":["java","android","bluetooth","android-bluetooth","android-settings"],"answers":[{"tags":[],"owner":{"account_id":11064381,"reputation":1063,"user_id":8124605,"display_name":"Risto"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1664375853,"creation_date":1664375853,"answer_id":73883387,"question_id":73882349,"body_markdown":"`android.permission.BLUETOOTH_CONNECT` is a [runtime permission](https://developer.android.com/guide/topics/connectivity/bluetooth/permissions#declare-android12-or-higher) and requires the consent of the user.\r\n\r\nHowever, with next API level 33 [enable()](https://developer.android.com/reference/android/bluetooth/BluetoothAdapter#enable())/[disable()](https://developer.android.com/reference/android/bluetooth/BluetoothAdapter#disable()) of the BluetoothAdapter will be deprecated and are not longer allowed. Therefore, it is probably best for such a function to navigate the user to the Bluetooth system dialog and ask him to turn the function on or off there.","title":"Bluetooth not disable programmatically in android API 31 or higher version","body":"<p><code>android.permission.BLUETOOTH_CONNECT</code> is a <a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth/permissions#declare-android12-or-higher\" rel=\"nofollow noreferrer\">runtime permission</a> and requires the consent of the user.</p>\n<p>However, with next API level 33 <a href=\"https://developer.android.com/reference/android/bluetooth/BluetoothAdapter#enable()\" rel=\"nofollow noreferrer\">enable()</a>/<a href=\"https://developer.android.com/reference/android/bluetooth/BluetoothAdapter#disable()\" rel=\"nofollow noreferrer\">disable()</a> of the BluetoothAdapter will be deprecated and are not longer allowed. Therefore, it is probably best for such a function to navigate the user to the Bluetooth system dialog and ask him to turn the function on or off there.</p>\n"},{"tags":[],"owner":{"account_id":25113732,"reputation":155,"user_id":18963042,"display_name":"Vishnu S Dharan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685095015,"creation_date":1685095015,"answer_id":76339684,"question_id":73882349,"body_markdown":"There are two ways to turn on/off Bluetooth in Android\r\n\r\n 1. `BluetoothAdapter.enable()` to turn on Bluetooth\r\n\r\n    `BluetoothAdapter.disable()` to turn off Bluetooth \r\n\r\n    These methods are asynchronous and  will only work below API level 33\r\n 2. Or use\r\n\r\n`{\r\nIntent intent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE); startActivityForResult(intent, REQUEST_ENABLE_BT);\r\n}`\r\n\r\nto turn on Bluetooth \r\n\r\n`{\r\nIntent intent = new Intent(BluetoothAdapter.ACTION_REQUEST_DISABLE); startActivityForResult(intent, REQUEST_DISABLE_BT);\r\n}` \r\n\r\nto turn off Bluetooth \r\n\r\nUpon execution, a system dialog will prompt the user to turn on/off Bluetooth.\r\n\r\nOnce turned on/off onActivityResult() override method will be triggered.\r\n\r\nIn your case, you are using `BluetoothAdapter.disable()` try using the other method.\r\n\r\n\r\n","title":"Bluetooth not disable programmatically in android API 31 or higher version","body":"<p>There are two ways to turn on/off Bluetooth in Android</p>\n<ol>\n<li><p><code>BluetoothAdapter.enable()</code> to turn on Bluetooth</p>\n<p><code>BluetoothAdapter.disable()</code> to turn off Bluetooth</p>\n<p>These methods are asynchronous and  will only work below API level 33</p>\n</li>\n<li><p>Or use</p>\n</li>\n</ol>\n<p><code>{ Intent intent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE); startActivityForResult(intent, REQUEST_ENABLE_BT); }</code></p>\n<p>to turn on Bluetooth</p>\n<p><code>{ Intent intent = new Intent(BluetoothAdapter.ACTION_REQUEST_DISABLE); startActivityForResult(intent, REQUEST_DISABLE_BT); }</code></p>\n<p>to turn off Bluetooth</p>\n<p>Upon execution, a system dialog will prompt the user to turn on/off Bluetooth.</p>\n<p>Once turned on/off onActivityResult() override method will be triggered.</p>\n<p>In your case, you are using <code>BluetoothAdapter.disable()</code> try using the other method.</p>\n"}],"owner":{"account_id":24081976,"reputation":260,"user_id":18056527,"display_name":"Abhi S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2647,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685095015,"creation_date":1664371960,"question_id":73882349,"body_markdown":"I&#39;m trying to disable Bluetooth on the button click but it not work\r\n\r\nhear, What I Do\r\n\r\n```\r\nif (SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n    if (checkPermission(Manifest.permission.BLUETOOTH_CONNECT) &amp;&amp; checkPermission(Manifest.permission.BLUETOOTH_SCAN)) {\r\n        BluetoothAdapter adapter = ((BluetoothManager) getSystemService(Context.BLUETOOTH_SERVICE)).getAdapter();\r\n        if (adapter != null) {\r\n            if (adapter.getState() == BluetoothAdapter.STATE_ON) {\r\n                Log.e(&quot;BT&quot;, &quot;disable&quot;);\r\n                adapter.disable();\r\n            } else if (adapter.getState() == BluetoothAdapter.STATE_OFF) {\r\n                if (!adapter.isEnabled()) {\r\n                    Intent enableBtIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\r\n                    startActivityForResult(enableBtIntent, REQUEST_ENABLE_BT);\r\n                }\r\n                Log.e(&quot;BT&quot;, &quot;enable&quot;);\r\n            } else {\r\n                Log.e(&quot;BT&quot;, &quot;Else&quot;);\r\n            }\r\n        } else {\r\n            Toast.makeText(UltimateHomeLauncherActivity.this, &quot;Bluetooth is not supported on your hardware&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    } else {\r\n        List&lt;String&gt; deniedPermissions = new ArrayList&lt;&gt;();\r\n        deniedPermissions.add(Manifest.permission.BLUETOOTH_CONNECT);\r\n        deniedPermissions.add(Manifest.permission.BLUETOOTH_SCAN);\r\n        requestRuntimePermissions(1011, deniedPermissions.toArray(new String[0]));\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m add Bluetooth permission in Manifest also.\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot;/&gt;\r\n```","title":"Bluetooth not disable programmatically in android API 31 or higher version","body":"<p>I'm trying to disable Bluetooth on the button click but it not work</p>\n<p>hear, What I Do</p>\n<pre><code>if (SDK_INT &gt;= Build.VERSION_CODES.S) {\n    if (checkPermission(Manifest.permission.BLUETOOTH_CONNECT) &amp;&amp; checkPermission(Manifest.permission.BLUETOOTH_SCAN)) {\n        BluetoothAdapter adapter = ((BluetoothManager) getSystemService(Context.BLUETOOTH_SERVICE)).getAdapter();\n        if (adapter != null) {\n            if (adapter.getState() == BluetoothAdapter.STATE_ON) {\n                Log.e(&quot;BT&quot;, &quot;disable&quot;);\n                adapter.disable();\n            } else if (adapter.getState() == BluetoothAdapter.STATE_OFF) {\n                if (!adapter.isEnabled()) {\n                    Intent enableBtIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\n                    startActivityForResult(enableBtIntent, REQUEST_ENABLE_BT);\n                }\n                Log.e(&quot;BT&quot;, &quot;enable&quot;);\n            } else {\n                Log.e(&quot;BT&quot;, &quot;Else&quot;);\n            }\n        } else {\n            Toast.makeText(UltimateHomeLauncherActivity.this, &quot;Bluetooth is not supported on your hardware&quot;, Toast.LENGTH_SHORT).show();\n        }\n    } else {\n        List&lt;String&gt; deniedPermissions = new ArrayList&lt;&gt;();\n        deniedPermissions.add(Manifest.permission.BLUETOOTH_CONNECT);\n        deniedPermissions.add(Manifest.permission.BLUETOOTH_SCAN);\n        requestRuntimePermissions(1011, deniedPermissions.toArray(new String[0]));\n    }\n}\n</code></pre>\n<p>I'm add Bluetooth permission in Manifest also.</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot;/&gt;\n</code></pre>\n"},{"tags":["java","openapi","openapi-generator"],"comments":[{"owner":{"account_id":1645322,"reputation":1622,"user_id":1516967,"accept_rate":65,"display_name":"Juru"},"score":0,"creation_date":1657109068,"post_id":68773761,"comment_id":128730332,"body_markdown":"I&#39;m afraid the generator will not create composite types itself. There would be multiple ways to do this anyway. It seems like an illusion that you won&#39;t have to change anything if that part of the api would change even if it would generate your composite class.","body":"I&#39;m afraid the generator will not create composite types itself. There would be multiple ways to do this anyway. It seems like an illusion that you won&#39;t have to change anything if that part of the api would change even if it would generate your composite class."},{"owner":{"account_id":6344123,"reputation":504,"user_id":4925189,"accept_rate":83,"display_name":"Caleb Adams"},"score":0,"creation_date":1681871265,"post_id":68773761,"comment_id":134125406,"body_markdown":"StackOverflow is not an issue tracker. You haven&#39;t asked a question, and you have simply pointed out a problem. We can&#39;t help you unless you ask a question.","body":"StackOverflow is not an issue tracker. You haven&#39;t asked a question, and you have simply pointed out a problem. We can&#39;t help you unless you ask a question."}],"answers":[{"tags":[],"owner":{"account_id":10594994,"reputation":10466,"user_id":7804058,"display_name":"norbjd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685094743,"creation_date":1685094743,"answer_id":76339640,"question_id":68773761,"body_markdown":"Version 6.0.0 of `openapi-generator-maven-plugin` solves the issue by generating a class (`Get200Response`) composed of the two objects `A` and `B`. After generating the classes using:\r\n\r\n```\r\nmvn org.openapitools:openapi-generator-maven-plugin:6.0.0:generate \\\r\n    -Dopenapi.generator.maven.plugin.inputSpec=openapi.yaml \\\r\n    -Dopenapi.generator.maven.plugin.generatorName=java\r\n```\r\n\r\nI can see that new `Get200Response` class:\r\n\r\n```java\r\npackage org.openapitools.client.model;\r\n\r\n// ...\r\n\r\npublic class Get200Response {\r\n  public static final String SERIALIZED_NAME_ATT_A = &quot;attA&quot;;\r\n  @SerializedName(SERIALIZED_NAME_ATT_A)\r\n  private String attA;\r\n\r\n  public static final String SERIALIZED_NAME_ATT_B = &quot;attB&quot;;\r\n  @SerializedName(SERIALIZED_NAME_ATT_B)\r\n  private Integer attB;\r\n\r\n  // ...\r\n}\r\n```\r\n\r\nAnd I was able to make the following code work. In that example, I have a dummy webserver listening on port `5000` and defining a `/test` endpoint returning `{&quot;attA&quot;: &quot;hello&quot;, &quot;attB&quot;: 1}`.\r\n\r\n```java\r\npackage org.example;\r\n\r\nimport org.openapitools.client.ApiClient;\r\nimport org.openapitools.client.ApiException;\r\nimport org.openapitools.client.api.DefaultApi;\r\nimport org.openapitools.client.model.Get200Response;\r\n\r\npublic class Main {\r\n  public static void main(String[] args) throws ApiException {\r\n    ApiClient apiClient = new ApiClient();\r\n    apiClient.setBasePath(&quot;http://localhost:5000&quot;);\r\n\r\n    DefaultApi api = new DefaultApi(apiClient);\r\n    Get200Response r = api.get();\r\n    System.out.println(r.getAttA());\r\n    System.out.println(r.getAttB());\r\n  }\r\n}\r\n```\r\n\r\nThis successfully prints:\r\n\r\n```\r\nhello\r\n1\r\n```","title":"openapi-generator-maven-plugin (Java) does not handle allOf properly","body":"<p>Version 6.0.0 of <code>openapi-generator-maven-plugin</code> solves the issue by generating a class (<code>Get200Response</code>) composed of the two objects <code>A</code> and <code>B</code>. After generating the classes using:</p>\n<pre><code>mvn org.openapitools:openapi-generator-maven-plugin:6.0.0:generate \\\n    -Dopenapi.generator.maven.plugin.inputSpec=openapi.yaml \\\n    -Dopenapi.generator.maven.plugin.generatorName=java\n</code></pre>\n<p>I can see that new <code>Get200Response</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.openapitools.client.model;\n\n// ...\n\npublic class Get200Response {\n  public static final String SERIALIZED_NAME_ATT_A = &quot;attA&quot;;\n  @SerializedName(SERIALIZED_NAME_ATT_A)\n  private String attA;\n\n  public static final String SERIALIZED_NAME_ATT_B = &quot;attB&quot;;\n  @SerializedName(SERIALIZED_NAME_ATT_B)\n  private Integer attB;\n\n  // ...\n}\n</code></pre>\n<p>And I was able to make the following code work. In that example, I have a dummy webserver listening on port <code>5000</code> and defining a <code>/test</code> endpoint returning <code>{&quot;attA&quot;: &quot;hello&quot;, &quot;attB&quot;: 1}</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport org.openapitools.client.ApiClient;\nimport org.openapitools.client.ApiException;\nimport org.openapitools.client.api.DefaultApi;\nimport org.openapitools.client.model.Get200Response;\n\npublic class Main {\n  public static void main(String[] args) throws ApiException {\n    ApiClient apiClient = new ApiClient();\n    apiClient.setBasePath(&quot;http://localhost:5000&quot;);\n\n    DefaultApi api = new DefaultApi(apiClient);\n    Get200Response r = api.get();\n    System.out.println(r.getAttA());\n    System.out.println(r.getAttB());\n  }\n}\n</code></pre>\n<p>This successfully prints:</p>\n<pre><code>hello\n1\n</code></pre>\n"}],"owner":{"account_id":10594994,"reputation":10466,"user_id":7804058,"display_name":"norbjd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9283,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":76339640,"answer_count":1,"score":13,"last_activity_date":1685094743,"creation_date":1628863804,"question_id":68773761,"body_markdown":"With `org.openapitools:openapi-generator-maven-plugin`, I have noticed that using `allOf` composed of multiple objects in a response does not generate a class combining these multiple objects. Instead it uses the first class defined in the `allOf` section.\r\n\r\nHere is a minimal example (`openapi.yaml`) :\r\n\r\n```yaml\r\nopenapi: 3.0.0\r\ninfo:\r\n  title: Test\r\n  version: v1\r\npaths:\r\n  /test:\r\n    get:\r\n      operationId: get\r\n      responses:\r\n        &#39;200&#39;:\r\n          description: Get\r\n          content:\r\n            application/json:\r\n              schema:\r\n                allOf:\r\n                  - $ref: &#39;#/components/schemas/A&#39;\r\n                  - $ref: &#39;#/components/schemas/B&#39;\r\ncomponents:\r\n  schemas:\r\n    A:\r\n      type: object\r\n      properties:\r\n        attA:\r\n          type: string\r\n    B:\r\n      type: object\r\n      properties:\r\n        attB:\r\n          type: integer\r\n```\r\n\r\nWhen generating the classes in Java via :\r\n\r\n```\r\nmvn org.openapitools:openapi-generator-maven-plugin:5.2.0:generate \\\r\n    -Dopenapi.generator.maven.plugin.inputSpec=openapi.yaml \\\r\n    -Dopenapi.generator.maven.plugin.generatorName=java\r\n```\r\n\r\nIt shows a warning:\r\n\r\n```\r\n[WARNING] allOf with multiple schemas defined. Using only the first one: A\r\n```\r\n\r\nAs expected, it generates classes A and B. But, when calling `get()`, the value returned by the call is of type `A`:\r\n\r\n```java\r\nDefaultApi api = new DefaultApi();\r\nA a = api.get();\r\n```\r\n\r\nInstead, I would have expected a composite object containing `A` and `B` properties (`attA` and `attB`), like this (result from https://editor.swagger.io/):\r\n\r\n[![Result on swagger editor][1]][1]\r\n\r\nI have created [an issue on GitHub](https://github.com/OpenAPITools/openapi-generator/issues/10010), but hopefully someone here may have had the same issue and managed to fix it.\r\n\r\nAlso, **I can&#39;t modify** the `openapi.yaml` file because it&#39;s an OpenAPI spec provided by an API I have to call, so modifying it would make no sense and will make it so difficult to manage if their OpenAPI spec change over time.\r\n\r\n  [1]: https://i.stack.imgur.com/wh8pe.png","title":"openapi-generator-maven-plugin (Java) does not handle allOf properly","body":"<p>With <code>org.openapitools:openapi-generator-maven-plugin</code>, I have noticed that using <code>allOf</code> composed of multiple objects in a response does not generate a class combining these multiple objects. Instead it uses the first class defined in the <code>allOf</code> section.</p>\n<p>Here is a minimal example (<code>openapi.yaml</code>) :</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>openapi: 3.0.0\ninfo:\n  title: Test\n  version: v1\npaths:\n  /test:\n    get:\n      operationId: get\n      responses:\n        '200':\n          description: Get\n          content:\n            application/json:\n              schema:\n                allOf:\n                  - $ref: '#/components/schemas/A'\n                  - $ref: '#/components/schemas/B'\ncomponents:\n  schemas:\n    A:\n      type: object\n      properties:\n        attA:\n          type: string\n    B:\n      type: object\n      properties:\n        attB:\n          type: integer\n</code></pre>\n<p>When generating the classes in Java via :</p>\n<pre><code>mvn org.openapitools:openapi-generator-maven-plugin:5.2.0:generate \\\n    -Dopenapi.generator.maven.plugin.inputSpec=openapi.yaml \\\n    -Dopenapi.generator.maven.plugin.generatorName=java\n</code></pre>\n<p>It shows a warning:</p>\n<pre><code>[WARNING] allOf with multiple schemas defined. Using only the first one: A\n</code></pre>\n<p>As expected, it generates classes A and B. But, when calling <code>get()</code>, the value returned by the call is of type <code>A</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DefaultApi api = new DefaultApi();\nA a = api.get();\n</code></pre>\n<p>Instead, I would have expected a composite object containing <code>A</code> and <code>B</code> properties (<code>attA</code> and <code>attB</code>), like this (result from <a href=\"https://editor.swagger.io/\" rel=\"noreferrer\">https://editor.swagger.io/</a>):</p>\n<p><a href=\"https://i.stack.imgur.com/wh8pe.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wh8pe.png\" alt=\"Result on swagger editor\" /></a></p>\n<p>I have created <a href=\"https://github.com/OpenAPITools/openapi-generator/issues/10010\" rel=\"noreferrer\">an issue on GitHub</a>, but hopefully someone here may have had the same issue and managed to fix it.</p>\n<p>Also, <strong>I can't modify</strong> the <code>openapi.yaml</code> file because it's an OpenAPI spec provided by an API I have to call, so modifying it would make no sense and will make it so difficult to manage if their OpenAPI spec change over time.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":1,"creation_date":1685093131,"post_id":76339420,"comment_id":134616322,"body_markdown":"Using `@Value` in `@Component` annotated classes should work fine. Can you give a code example where it doesn&#39;t work?","body":"Using <code>@Value</code> in <code>@Component</code> annotated classes should work fine. Can you give a code example where it doesn&#39;t work?"},{"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"score":0,"creation_date":1685094727,"post_id":76339420,"comment_id":134616708,"body_markdown":"Hello I have shared my code repository please check.","body":"Hello I have shared my code repository please check."},{"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"score":0,"creation_date":1685096050,"post_id":76339420,"comment_id":134616960,"body_markdown":"I was just trying to print the value in constructor , i have no need for constructor injection. It was still null when i wasnt using constructor injection, so that question doesn&#39;t answer my query.","body":"I was just trying to print the value in constructor , i have no need for constructor injection. It was still null when i wasnt using constructor injection, so that question doesn&#39;t answer my query."},{"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"score":0,"creation_date":1685096090,"post_id":76339420,"comment_id":134616967,"body_markdown":"I have done my part of stackoverflow search but could not resolve it.","body":"I have done my part of stackoverflow search but could not resolve it."},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1685096145,"post_id":76339420,"comment_id":134616979,"body_markdown":"@Shivam... Can you add the relevant code of the `EncryptionUtil` to your question? And can you also give an example of how you verify that the property is `null`?","body":"@Shivam... Can you add the relevant code of the <code>EncryptionUtil</code> to your question? And can you also give an example of how you verify that the property is <code>null</code>?"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":2,"creation_date":1685096145,"post_id":76339420,"comment_id":134616980,"body_markdown":"Did you read the answer there? &quot;As far I remember, the value injection occurs after the constructor call&quot;","body":"Did you read the answer there? &quot;As far I remember, the value injection occurs after the constructor call&quot;"},{"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"score":0,"creation_date":1685097547,"post_id":76339420,"comment_id":134617294,"body_markdown":"Well i tried it again now without constructor injection and it seems to work now, I was stuck on it since yesterday and it wasn&#39;t working. My apologies @Mar-Z you were right.  Thanks guys.","body":"Well i tried it again now without constructor injection and it seems to work now, I was stuck on it since yesterday and it wasn&#39;t working. My apologies @Mar-Z you were right.  Thanks guys."}],"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685097570,"answer_count":0,"score":0,"last_activity_date":1685094699,"creation_date":1685092932,"question_id":76339420,"body_markdown":"In my spring boot project when I am trying to inject values using `@Value` annotation its giving inconsistent behavior. In my controller it&#39;s working fine but when I use it in my `@Component` class the field is null. I tried using `@PropertySource` annotation on my component class but it still didn&#39;t work. I am using spring boot 3.1.0 and Java 17. Please advise.\r\n\r\nSharing repository link of the project.\r\n[Contact Management Project][1]\r\n\r\nIn this project I am trying to read the `algorithm` property value from properties file in my `src/main/java/com/shivam/cms/utils/EncryptionUtil.java` but it fails. Same works in `ContactContoller.java` file\r\n\r\n\r\n  [1]: https://github.com/Codemode128/contact-management","title":"@Value works in class annotated with @Controller but not in @Component","body":"<p>In my spring boot project when I am trying to inject values using <code>@Value</code> annotation its giving inconsistent behavior. In my controller it's working fine but when I use it in my <code>@Component</code> class the field is null. I tried using <code>@PropertySource</code> annotation on my component class but it still didn't work. I am using spring boot 3.1.0 and Java 17. Please advise.</p>\n<p>Sharing repository link of the project.\n<a href=\"https://github.com/Codemode128/contact-management\" rel=\"nofollow noreferrer\">Contact Management Project</a></p>\n<p>In this project I am trying to read the <code>algorithm</code> property value from properties file in my <code>src/main/java/com/shivam/cms/utils/EncryptionUtil.java</code> but it fails. Same works in <code>ContactContoller.java</code> file</p>\n"},{"tags":["java","intellij-idea","spring-security","vaadin","tomcat8"],"answers":[{"tags":[],"owner":{"account_id":3832504,"reputation":21,"user_id":3177714,"display_name":"Joel Padamadan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685094256,"creation_date":1685094256,"answer_id":76339581,"question_id":76331146,"body_markdown":"The issue was caused by JDK which was failing while calling the waffle authentication framework. I had installed Java 8u361 and changed the version to Java 8u121 to make the application work. I am not sure what is different in these two build which was causing an internal exception.","title":"Spring boot security giving 500 internal error after passing the credentials","body":"<p>The issue was caused by JDK which was failing while calling the waffle authentication framework. I had installed Java 8u361 and changed the version to Java 8u121 to make the application work. I am not sure what is different in these two build which was causing an internal exception.</p>\n"}],"owner":{"account_id":3832504,"reputation":21,"user_id":3177714,"display_name":"Joel Padamadan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":577,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685094256,"creation_date":1685009466,"question_id":76331146,"body_markdown":"When I run a Vaadin web application in the IntelliJ with the Smart Tomcat plug-in in my local machine I get 500 internal server error from Spring Security right after entering the username and password. Could someone help do debug and find out what the issue could be? \r\n* Spring Boot Starter Web: 2.3.1\r\n* Spring Boot Starter Security: 2.3.1\r\n* Waffle Spring Security: 4.1.8.2\r\n\r\n**Security Configuration Class**\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(securedEnabled = true)\r\n@Generated\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter\r\n{\r\n\tprivate static final String LOGIN_PROCESSING_URL = &quot;/login&quot;;\r\n\tprivate static final String LOGIN_FAILURE_URL = &quot;/login?error&quot;;\r\n\tprivate static final String LOGIN_URL = &quot;/login&quot;;\r\n\tprivate static final String LOGOUT_SUCCESS_URL = &quot;/&quot;;\r\n\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder()\r\n\t{\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\r\n\t@Autowired\r\n\tprivate NegotiateSecurityFilter negotiateSecurityFilter;\r\n\r\n\t@Autowired\r\n\tprivate NegotiateSecurityFilterEntryPoint entryPoint;\r\n\r\n\t@Override\r\n\t@Autowired\r\n\tprotected void configure(AuthenticationManagerBuilder auth) throws Exception\r\n\t{\r\n\t\tauth.inMemoryAuthentication();\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception\r\n\t{\r\n\t\t// disable Spring CSRF here to be able to use plain\r\n\t\t// HTML for the login page\r\n\t\thttp.csrf().disable();\r\n\r\n\t\thttp\r\n\t\t\t.authorizeRequests()\r\n\t\t\t.anyRequest()\r\n\t\t\t.authenticated()\r\n\t\t\t.and()\r\n\t\t\t\t.httpBasic()\r\n\t\t\t\t.authenticationEntryPoint(entryPoint)\r\n\t\t\t.and()\r\n\t\t\t\t.addFilterBefore(negotiateSecurityFilter, BasicAuthenticationFilter.class);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void configure(WebSecurity web) throws Exception\r\n\t{\r\n\t\tweb.\r\n\t\t\tignoring()\r\n\t\t\t.antMatchers(\r\n\t\t\t\t&quot;/VAADIN/**&quot;,                    // Vaadin Flow static resources\r\n\t\t\t\t&quot;/favicon.ico&quot;,                  // the standard favicon URI\r\n\t\t\t\t&quot;/robots.txt&quot;,                   // the robots exclusion standard\r\n\t\t\t\t                                 // web application manifest\r\n\t\t\t\t&quot;/manifest.webmanifest&quot;, &quot;/sw.js&quot;, &quot;/offline-page.html&quot;,\r\n\t\t\t\t&quot;/icons/**&quot;, &quot;/images/**&quot;,       // icons and images\r\n\t\t\t\t&quot;/frontend/**&quot;,                  // (development mode) static resources\r\n\t\t\t\t&quot;/webjars/**&quot;,                   // (development mode) webjars\r\n\t\t\t\t&quot;/h2-console/**&quot;,                // (development mode) H2 debugging console\r\n\t\t\t\t                                 // (production mode) static resources\r\n\t\t\t\t&quot;/frontend-es5/**&quot;, &quot;/frontend-es6/**&quot;);\r\n\t}\r\n}\r\n```\r\n\r\n**Stacktrace**\r\n\r\n\r\n        15:03:56.519 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet &#39;dispatcherServlet&#39;\r\n    15:03:56.519 [http-nio-8087-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver\r\n    15:03:56.566 [http-nio-8087-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails=&#39;false&#39;: request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data\r\n    15:03:56.566 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 47 ms\r\n    15:03:56.638 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : &#39;/&#39;; against &#39;/VAADIN/&#39;\r\n    15:03:56.638 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : &#39;/&#39;; against &#39;/favicon.ico&#39;\r\n    15:03:56.638 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : &#39;/&#39;; against &#39;/robots.txt&#39;\r\n    15:03:56.638 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : &#39;/&#39;; against &#39;/manifest.webmanifest&#39;\r\n    15:03:56.638 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : &#39;/&#39;; against &#39;/sw.js&#39;\r\n    15:03:56.638 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : &#39;/&#39;; against &#39;/offline-page.html&#39;\r\n    15:03:56.638 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : &#39;/&#39;; against &#39;/icons/&#39;\r\n    15:03:56.638 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : &#39;/&#39;; against &#39;/images/&#39;\r\n    15:03:56.638 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : &#39;/&#39;; against &#39;/frontend/&#39;\r\n    15:03:56.638 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : &#39;/&#39;; against &#39;/webjars/&#39;\r\n    15:03:56.638 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : &#39;/&#39;; against &#39;/h2-console/&#39;\r\n    15:03:56.638 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : &#39;/&#39;; against &#39;/frontend-es5/&#39;\r\n    15:03:56.638 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : &#39;/&#39;; against &#39;/frontend-es6/&#39;\r\n    15:03:56.644 [http-nio-8087-exec-2] DEBUG o.s.security.web.FilterChainProxy - / at position 1 of 12 in additional filter chain; firing Filter: &#39;WebAsyncManagerIntegrationFilter&#39;\r\n    15:03:56.657 [http-nio-8087-exec-2] DEBUG o.s.security.web.FilterChainProxy - / at position 2 of 12 in additional filter chain; firing Filter: &#39;SecurityContextPersistenceFilter&#39;\r\n    15:03:56.663 [http-nio-8087-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - No HttpSession currently exists\r\n    15:03:56.663 [http-nio-8087-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - No SecurityContext was available from the HttpSession: null. A new one will be created.\r\n    15:03:56.683 [http-nio-8087-exec-2] DEBUG o.s.security.web.FilterChainProxy - / at position 3 of 12 in additional filter chain; firing Filter: &#39;HeaderWriterFilter&#39;\r\n    15:03:56.697 [http-nio-8087-exec-2] DEBUG o.s.security.web.FilterChainProxy - / at position 4 of 12 in additional filter chain; firing Filter: &#39;LogoutFilter&#39;\r\n    15:03:56.697 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern=&#39;/logout&#39;, GET]\r\n    15:03:56.697 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : &#39;/&#39;; against &#39;/logout&#39;\r\n    15:03:56.697 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern=&#39;/logout&#39;, POST]\r\n    15:03:56.697 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request &#39;GET /&#39; doesn&#39;t match &#39;POST /logout&#39;\r\n    15:03:56.697 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern=&#39;/logout&#39;, PUT]\r\n    15:03:56.697 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request &#39;GET /&#39; doesn&#39;t match &#39;PUT /logout&#39;\r\n    15:03:56.697 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern=&#39;/logout&#39;, DELETE]\r\n    15:03:56.697 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request &#39;GET /&#39; doesn&#39;t match &#39;DELETE /logout&#39;\r\n    15:03:56.697 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found\r\n    15:03:56.697 [http-nio-8087-exec-2] DEBUG o.s.security.web.FilterChainProxy - / at position 5 of 12 in additional filter chain; firing Filter: &#39;NegotiateSecurityFilter&#39;\r\n    15:03:56.705 [http-nio-8087-exec-2] DEBUG o.s.security.web.FilterChainProxy - / at position 6 of 12 in additional filter chain; firing Filter: &#39;BasicAuthenticationFilter&#39;\r\n    15:03:56.705 [http-nio-8087-exec-2] DEBUG o.s.security.web.FilterChainProxy - / at position 7 of 12 in additional filter chain; firing Filter: &#39;RequestCacheAwareFilter&#39;\r\n    15:03:56.705 [http-nio-8087-exec-2] DEBUG o.s.s.w.s.HttpSessionRequestCache - saved request doesn&#39;t match\r\n    15:03:56.705 [http-nio-8087-exec-2] DEBUG o.s.security.web.FilterChainProxy - / at position 8 of 12 in additional filter chain; firing Filter: &#39;SecurityContextHolderAwareRequestFilter&#39;\r\n    15:03:56.719 [http-nio-8087-exec-2] DEBUG o.s.security.web.FilterChainProxy - / at position 9 of 12 in additional filter chain; firing Filter: &#39;AnonymousAuthenticationFilter&#39;\r\n    15:03:56.726 [http-nio-8087-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Populated SecurityContextHolder with anonymous token: &#39;org.springframework.security.authentication.AnonymousAuthenticationToken@d6afbfc3: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS&#39;\r\n    15:03:56.726 [http-nio-8087-exec-2] DEBUG o.s.security.web.FilterChainProxy - / at position 10 of 12 in additional filter chain; firing Filter: &#39;SessionManagementFilter&#39;\r\n    15:03:56.726 [http-nio-8087-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Requested session ID 464CBD4742DDF4C08C993E77C77C2015 is invalid.\r\n    15:03:56.727 [http-nio-8087-exec-2] DEBUG o.s.security.web.FilterChainProxy - / at position 11 of 12 in additional filter chain; firing Filter: &#39;ExceptionTranslationFilter&#39;\r\n    15:03:56.727 [http-nio-8087-exec-2] DEBUG o.s.security.web.FilterChainProxy - / at position 12 of 12 in additional filter chain; firing Filter: &#39;FilterSecurityInterceptor&#39;\r\n    15:03:56.727 [http-nio-8087-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /; Attributes: [authenticated]\r\n    15:03:56.727 [http-nio-8087-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@d6afbfc3: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS\r\n    15:03:56.806 [http-nio-8087-exec-2] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@152a93ca, returned: -1\r\n    15:03:56.838 [http-nio-8087-exec-2] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Access is denied (user is anonymous); redirecting to authentication entry point\r\n    org.springframework.security.access.AccessDeniedException: Access is denied\r\n    \tat org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)\r\n    \tat org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:123)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \t...\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:750)\r\n    ...\r\n    15:03:56.946 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.NegatedRequestMatcher - matches = true\r\n    15:03:56.946 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.matcher.AndRequestMatcher - All requestMatchers returned true\r\n    15:03:57.000 [http-nio-8087-exec-2] DEBUG o.s.s.w.s.HttpSessionRequestCache - DefaultSavedRequest added to Session: DefaultSavedRequest[http://localhost:8087/AutomatorUI/]\r\n    15:03:57.000 [http-nio-8087-exec-2] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Calling Authentication entry point.\r\n    15:03:57.001 [http-nio-8087-exec-2] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3b282a1a\r\n    15:03:57.001 [http-nio-8087-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - SecurityContext is empty or contents are anonymous - context will not be stored in HttpSession.\r\n    15:03:57.016 [http-nio-8087-exec-2] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed\r\n    15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : &#39;/&#39;; against &#39;/VAADIN/&#39;\r\n    15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : &#39;/&#39;; against &#39;/favicon.ico&#39;\r\n    15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : &#39;/&#39;; against &#39;/robots.txt&#39;\r\n    15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : &#39;/&#39;; against &#39;/manifest.webmanifest&#39;\r\n    15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : &#39;/&#39;; against &#39;/sw.js&#39;\r\n    15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : &#39;/&#39;; against &#39;/offline-page.html&#39;\r\n    15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : &#39;/&#39;; against &#39;/icons/&#39;\r\n    15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : &#39;/&#39;; against &#39;/images/&#39;\r\n    15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : &#39;/&#39;; against &#39;/frontend/&#39;\r\n    15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : &#39;/&#39;; against &#39;/webjars/&#39;\r\n    15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : &#39;/&#39;; against &#39;/h2-console/&#39;\r\n    15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : &#39;/&#39;; against &#39;/frontend-es5/&#39;\r\n    15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : &#39;/&#39;; against &#39;/frontend-es6/&#39;\r\n    15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.security.web.FilterChainProxy - / at position 1 of 12 in additional filter chain; firing Filter: &#39;WebAsyncManagerIntegrationFilter&#39;\r\n    15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.security.web.FilterChainProxy - / at position 2 of 12 in additional filter chain; firing Filter: &#39;SecurityContextPersistenceFilter&#39;\r\n    15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - HttpSession returned null object for SPRING_SECURITY_CONTEXT\r\n    15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - No SecurityContext was available from the HttpSession: org.apache.catalina.session.StandardSessionFacade@61127d6a. A new one will be created.\r\n    15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.security.web.FilterChainProxy - / at position 3 of 12 in additional filter chain; firing Filter: &#39;HeaderWriterFilter&#39;\r\n    15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.security.web.FilterChainProxy - / at position 4 of 12 in additional filter chain; firing Filter: &#39;LogoutFilter&#39;\r\n    15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern=&#39;/logout&#39;, GET]\r\n    15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : &#39;/&#39;; against &#39;/logout&#39;\r\n    15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern=&#39;/logout&#39;, POST]\r\n    15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request &#39;GET /&#39; doesn&#39;t match &#39;POST /logout&#39;\r\n    15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern=&#39;/logout&#39;, PUT]\r\n    15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request &#39;GET /&#39; doesn&#39;t match &#39;PUT /logout&#39;\r\n    15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern=&#39;/logout&#39;, DELETE]\r\n    15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request &#39;GET /&#39; doesn&#39;t match &#39;DELETE /logout&#39;\r\n    15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found\r\n    15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.security.web.FilterChainProxy - / at position 5 of 12 in additional filter chain; firing Filter: &#39;NegotiateSecurityFilter&#39;\r\n    15:03:57.698 [http-nio-8087-exec-3] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3b282a1a\r\n    15:03:57.698 [http-nio-8087-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - SecurityContext is empty or contents are anonymous - context will not be stored in HttpSession.\r\n    15:03:57.698 [http-nio-8087-exec-3] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed\r\n    15:03:57.699 [http-nio-8087-exec-3] ERROR o.s.b.w.s.support.ErrorPageFilter - Forwarding to error page from request [/] due to exception [Filter execution threw an exception]\r\n    javax.servlet.ServletException: Filter execution threw an exception\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:200)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \t....\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:750)\r\n    Caused by: java.lang.UnsatisfiedLinkError: C:\\Users\\q1027217\\.SmartTomcat\\TMFAutomator\\AutomatorUI\\temp\\jna-1329143075\\jna1563127960288887144.dll: Can&#39;t find dependent libraries\r\n    \tat java.lang.ClassLoader$NativeLibrary.load(Native Method)\r\n    \tat java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1937)\r\n    \tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1820)\r\n    \tat java.lang.Runtime.load0(Runtime.java:782)\r\n    \tat java.lang.System.load(System.java:1098)\r\n    \tat com.sun.jna.Native.loadNativeDispatchLibraryFromClasspath(Native.java:851)\r\n    \t...\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \t... 37 common frames omitted\r\n    15:03:57.727 [http-nio-8087-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - &quot;FORWARD&quot; dispatch for GET &quot;/AutomatorUI/error&quot;, parameters={}\r\n    : Name [spring.mvc.view.suffix] is not bound in this Context. Unable to find [spring.mvc.view.suffix].\r\n    15:03:58.070 [http-nio-8087-exec-3] DEBUG o.springframework.jndi.JndiTemplate - Looking up JNDI object with name [spring.mvc.view.suffix]\r\n    15:03:58.070 [http-nio-8087-exec-3] DEBUG o.s.jndi.JndiPropertySource - JNDI lookup for name [spring.mvc.view.suffix] threw NamingException with message: Name [spring.mvc.view.suffix] is not bound in this Context. Unable to find [spring.mvc.view.suffix].. Returning null.\r\n    15:03:58.124 [http-nio-8087-exec-3] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected &#39;text/html&#39; given [text/html, text/html;q=0.8]\r\n    15:03:58.151 [http-nio-8087-exec-3] **DEBUG o.s.web.servlet.DispatcherServlet - Exiting from &quot;FORWARD&quot; dispatch, status 500**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qFmix.png","title":"Spring boot security giving 500 internal error after passing the credentials","body":"<p>When I run a Vaadin web application in the IntelliJ with the Smart Tomcat plug-in in my local machine I get 500 internal server error from Spring Security right after entering the username and password. Could someone help do debug and find out what the issue could be?</p>\n<ul>\n<li>Spring Boot Starter Web: 2.3.1</li>\n<li>Spring Boot Starter Security: 2.3.1</li>\n<li>Waffle Spring Security: 4.1.8.2</li>\n</ul>\n<p><strong>Security Configuration Class</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(securedEnabled = true)\n@Generated\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter\n{\n    private static final String LOGIN_PROCESSING_URL = &quot;/login&quot;;\n    private static final String LOGIN_FAILURE_URL = &quot;/login?error&quot;;\n    private static final String LOGIN_URL = &quot;/login&quot;;\n    private static final String LOGOUT_SUCCESS_URL = &quot;/&quot;;\n\n    @Bean\n    public PasswordEncoder passwordEncoder()\n    {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Autowired\n    private NegotiateSecurityFilter negotiateSecurityFilter;\n\n    @Autowired\n    private NegotiateSecurityFilterEntryPoint entryPoint;\n\n    @Override\n    @Autowired\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception\n    {\n        auth.inMemoryAuthentication();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception\n    {\n        // disable Spring CSRF here to be able to use plain\n        // HTML for the login page\n        http.csrf().disable();\n\n        http\n            .authorizeRequests()\n            .anyRequest()\n            .authenticated()\n            .and()\n                .httpBasic()\n                .authenticationEntryPoint(entryPoint)\n            .and()\n                .addFilterBefore(negotiateSecurityFilter, BasicAuthenticationFilter.class);\n    }\n\n    @Override\n    public void configure(WebSecurity web) throws Exception\n    {\n        web.\n            ignoring()\n            .antMatchers(\n                &quot;/VAADIN/**&quot;,                    // Vaadin Flow static resources\n                &quot;/favicon.ico&quot;,                  // the standard favicon URI\n                &quot;/robots.txt&quot;,                   // the robots exclusion standard\n                                                 // web application manifest\n                &quot;/manifest.webmanifest&quot;, &quot;/sw.js&quot;, &quot;/offline-page.html&quot;,\n                &quot;/icons/**&quot;, &quot;/images/**&quot;,       // icons and images\n                &quot;/frontend/**&quot;,                  // (development mode) static resources\n                &quot;/webjars/**&quot;,                   // (development mode) webjars\n                &quot;/h2-console/**&quot;,                // (development mode) H2 debugging console\n                                                 // (production mode) static resources\n                &quot;/frontend-es5/**&quot;, &quot;/frontend-es6/**&quot;);\n    }\n}\n</code></pre>\n<p><strong>Stacktrace</strong></p>\n<pre><code>    15:03:56.519 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'\n15:03:56.519 [http-nio-8087-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver\n15:03:56.566 [http-nio-8087-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data\n15:03:56.566 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 47 ms\n15:03:56.638 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/'; against '/VAADIN/'\n15:03:56.638 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/'; against '/favicon.ico'\n15:03:56.638 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/'; against '/robots.txt'\n15:03:56.638 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/'; against '/manifest.webmanifest'\n15:03:56.638 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/'; against '/sw.js'\n15:03:56.638 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/'; against '/offline-page.html'\n15:03:56.638 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/'; against '/icons/'\n15:03:56.638 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/'; against '/images/'\n15:03:56.638 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/'; against '/frontend/'\n15:03:56.638 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/'; against '/webjars/'\n15:03:56.638 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/'; against '/h2-console/'\n15:03:56.638 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/'; against '/frontend-es5/'\n15:03:56.638 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/'; against '/frontend-es6/'\n15:03:56.644 [http-nio-8087-exec-2] DEBUG o.s.security.web.FilterChainProxy - / at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'\n15:03:56.657 [http-nio-8087-exec-2] DEBUG o.s.security.web.FilterChainProxy - / at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'\n15:03:56.663 [http-nio-8087-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - No HttpSession currently exists\n15:03:56.663 [http-nio-8087-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - No SecurityContext was available from the HttpSession: null. A new one will be created.\n15:03:56.683 [http-nio-8087-exec-2] DEBUG o.s.security.web.FilterChainProxy - / at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'\n15:03:56.697 [http-nio-8087-exec-2] DEBUG o.s.security.web.FilterChainProxy - / at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'\n15:03:56.697 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]\n15:03:56.697 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/'; against '/logout'\n15:03:56.697 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]\n15:03:56.697 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /' doesn't match 'POST /logout'\n15:03:56.697 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]\n15:03:56.697 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /' doesn't match 'PUT /logout'\n15:03:56.697 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]\n15:03:56.697 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /' doesn't match 'DELETE /logout'\n15:03:56.697 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found\n15:03:56.697 [http-nio-8087-exec-2] DEBUG o.s.security.web.FilterChainProxy - / at position 5 of 12 in additional filter chain; firing Filter: 'NegotiateSecurityFilter'\n15:03:56.705 [http-nio-8087-exec-2] DEBUG o.s.security.web.FilterChainProxy - / at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'\n15:03:56.705 [http-nio-8087-exec-2] DEBUG o.s.security.web.FilterChainProxy - / at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'\n15:03:56.705 [http-nio-8087-exec-2] DEBUG o.s.s.w.s.HttpSessionRequestCache - saved request doesn't match\n15:03:56.705 [http-nio-8087-exec-2] DEBUG o.s.security.web.FilterChainProxy - / at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'\n15:03:56.719 [http-nio-8087-exec-2] DEBUG o.s.security.web.FilterChainProxy - / at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'\n15:03:56.726 [http-nio-8087-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@d6afbfc3: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'\n15:03:56.726 [http-nio-8087-exec-2] DEBUG o.s.security.web.FilterChainProxy - / at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'\n15:03:56.726 [http-nio-8087-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Requested session ID 464CBD4742DDF4C08C993E77C77C2015 is invalid.\n15:03:56.727 [http-nio-8087-exec-2] DEBUG o.s.security.web.FilterChainProxy - / at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'\n15:03:56.727 [http-nio-8087-exec-2] DEBUG o.s.security.web.FilterChainProxy - / at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'\n15:03:56.727 [http-nio-8087-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /; Attributes: [authenticated]\n15:03:56.727 [http-nio-8087-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@d6afbfc3: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS\n15:03:56.806 [http-nio-8087-exec-2] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@152a93ca, returned: -1\n15:03:56.838 [http-nio-8087-exec-2] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Access is denied (user is anonymous); redirecting to authentication entry point\norg.springframework.security.access.AccessDeniedException: Access is denied\n    at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)\n    at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:123)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    ...\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:750)\n...\n15:03:56.946 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.m.NegatedRequestMatcher - matches = true\n15:03:56.946 [http-nio-8087-exec-2] DEBUG o.s.s.w.u.matcher.AndRequestMatcher - All requestMatchers returned true\n15:03:57.000 [http-nio-8087-exec-2] DEBUG o.s.s.w.s.HttpSessionRequestCache - DefaultSavedRequest added to Session: DefaultSavedRequest[http://localhost:8087/AutomatorUI/]\n15:03:57.000 [http-nio-8087-exec-2] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Calling Authentication entry point.\n15:03:57.001 [http-nio-8087-exec-2] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3b282a1a\n15:03:57.001 [http-nio-8087-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - SecurityContext is empty or contents are anonymous - context will not be stored in HttpSession.\n15:03:57.016 [http-nio-8087-exec-2] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed\n15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/'; against '/VAADIN/'\n15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/'; against '/favicon.ico'\n15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/'; against '/robots.txt'\n15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/'; against '/manifest.webmanifest'\n15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/'; against '/sw.js'\n15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/'; against '/offline-page.html'\n15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/'; against '/icons/'\n15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/'; against '/images/'\n15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/'; against '/frontend/'\n15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/'; against '/webjars/'\n15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/'; against '/h2-console/'\n15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/'; against '/frontend-es5/'\n15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/'; against '/frontend-es6/'\n15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.security.web.FilterChainProxy - / at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'\n15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.security.web.FilterChainProxy - / at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'\n15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - HttpSession returned null object for SPRING_SECURITY_CONTEXT\n15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - No SecurityContext was available from the HttpSession: org.apache.catalina.session.StandardSessionFacade@61127d6a. A new one will be created.\n15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.security.web.FilterChainProxy - / at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'\n15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.security.web.FilterChainProxy - / at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'\n15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]\n15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/'; against '/logout'\n15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]\n15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /' doesn't match 'POST /logout'\n15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]\n15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /' doesn't match 'PUT /logout'\n15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]\n15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /' doesn't match 'DELETE /logout'\n15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found\n15:03:57.021 [http-nio-8087-exec-3] DEBUG o.s.security.web.FilterChainProxy - / at position 5 of 12 in additional filter chain; firing Filter: 'NegotiateSecurityFilter'\n15:03:57.698 [http-nio-8087-exec-3] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3b282a1a\n15:03:57.698 [http-nio-8087-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - SecurityContext is empty or contents are anonymous - context will not be stored in HttpSession.\n15:03:57.698 [http-nio-8087-exec-3] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed\n15:03:57.699 [http-nio-8087-exec-3] ERROR o.s.b.w.s.support.ErrorPageFilter - Forwarding to error page from request [/] due to exception [Filter execution threw an exception]\njavax.servlet.ServletException: Filter execution threw an exception\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:200)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    ....\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:750)\nCaused by: java.lang.UnsatisfiedLinkError: C:\\Users\\q1027217\\.SmartTomcat\\TMFAutomator\\AutomatorUI\\temp\\jna-1329143075\\jna1563127960288887144.dll: Can't find dependent libraries\n    at java.lang.ClassLoader$NativeLibrary.load(Native Method)\n    at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1937)\n    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1820)\n    at java.lang.Runtime.load0(Runtime.java:782)\n    at java.lang.System.load(System.java:1098)\n    at com.sun.jna.Native.loadNativeDispatchLibraryFromClasspath(Native.java:851)\n    ...\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    ... 37 common frames omitted\n15:03:57.727 [http-nio-8087-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - &quot;FORWARD&quot; dispatch for GET &quot;/AutomatorUI/error&quot;, parameters={}\n: Name [spring.mvc.view.suffix] is not bound in this Context. Unable to find [spring.mvc.view.suffix].\n15:03:58.070 [http-nio-8087-exec-3] DEBUG o.springframework.jndi.JndiTemplate - Looking up JNDI object with name [spring.mvc.view.suffix]\n15:03:58.070 [http-nio-8087-exec-3] DEBUG o.s.jndi.JndiPropertySource - JNDI lookup for name [spring.mvc.view.suffix] threw NamingException with message: Name [spring.mvc.view.suffix] is not bound in this Context. Unable to find [spring.mvc.view.suffix].. Returning null.\n15:03:58.124 [http-nio-8087-exec-3] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, text/html;q=0.8]\n15:03:58.151 [http-nio-8087-exec-3] **DEBUG o.s.web.servlet.DispatcherServlet - Exiting from &quot;FORWARD&quot; dispatch, status 500**\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/qFmix.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qFmix.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","validation","pdf","text"],"comments":[{"owner":{"account_id":2069781,"reputation":689,"user_id":1844510,"display_name":"Technoshaft"},"score":1,"creation_date":1538149862,"post_id":941813,"comment_id":92056235,"body_markdown":"My Kingdom?? any link or description?","body":"My Kingdom?? any link or description?"}],"answers":[{"tags":[],"owner":{"account_id":10397,"reputation":30272,"user_id":19629,"accept_rate":85,"display_name":"cagcowboy"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1243977333,"creation_date":1243977333,"answer_id":941962,"question_id":941813,"body_markdown":"Pdf files begin &quot;%PDF&quot;  (open one in TextPad or similar and take a look)\r\n\r\nAny reason you can&#39;t just read the file with a StringReader and check for this?","title":"How can I determine if a file is a PDF file?","body":"<p>Pdf files begin \"%PDF\"  (open one in TextPad or similar and take a look)</p>\n\n<p>Any reason you can't just read the file with a StringReader and check for this?</p>\n"},{"tags":[],"owner":{"account_id":35821,"reputation":15653,"user_id":101762,"accept_rate":87,"display_name":"Persimmonium"},"down_vote_count":3,"up_vote_count":15,"is_accepted":true,"score":12,"last_activity_date":1244293966,"creation_date":1244293966,"answer_id":959646,"question_id":941813,"body_markdown":"you can find out the mime type of a file (or byte array), so you dont dumbly rely on the extension. I do it with aperture&#39;s MimeExtractor (http://aperture.sourceforge.net/) or I saw some days ago a library just for that (http://sourceforge.net/projects/mime-util)\r\n\r\nI use aperture to extract text from a variety of files, not only pdf, but have to tweak thinks for pdfs for example (aperture uses pdfbox, but i added another library as fallback when pdfbox fails) ","title":"How can I determine if a file is a PDF file?","body":"<p>you can find out the mime type of a file (or byte array), so you dont dumbly rely on the extension. I do it with aperture's MimeExtractor (<a href=\"http://aperture.sourceforge.net/\" rel=\"noreferrer\">http://aperture.sourceforge.net/</a>) or I saw some days ago a library just for that (<a href=\"http://sourceforge.net/projects/mime-util\" rel=\"noreferrer\">http://sourceforge.net/projects/mime-util</a>)</p>\n\n<p>I use aperture to extract text from a variety of files, not only pdf, but have to tweak thinks for pdfs for example (aperture uses pdfbox, but i added another library as fallback when pdfbox fails) </p>\n"},{"tags":[],"owner":{"account_id":69977,"reputation":794,"user_id":203370,"accept_rate":20,"display_name":"NinjaCross"},"down_vote_count":3,"up_vote_count":32,"is_accepted":false,"score":29,"last_activity_date":1265713805,"creation_date":1265713805,"answer_id":2228540,"question_id":941813,"body_markdown":"Here is what I use into my NUnit tests, that must validate against multiple versions of PDF generated using Crystal Reports:\r\n\r\n    public static void CheckIsPDF(byte[] data)\r\n\t\t{\r\n\t\t\tAssert.IsNotNull(data);\r\n\t\t\tAssert.Greater(data.Length,4);\r\n\r\n\t\t\t// header \r\n\t\t\tAssert.AreEqual(data[0],0x25); // %\r\n\t\t\tAssert.AreEqual(data[1],0x50); // P\r\n\t\t\tAssert.AreEqual(data[2],0x44); // D\r\n\t\t\tAssert.AreEqual(data[3],0x46); // F\r\n\t\t\tAssert.AreEqual(data[4],0x2D); // -\r\n\r\n\t\t\tif(data[5]==0x31 &amp;&amp; data[6]==0x2E &amp;&amp; data[7]==0x33) // version is 1.3 ?\r\n\t\t\t{   \t\t\t   \r\n\t\t\t\t// file terminator\r\n\t\t\t\tAssert.AreEqual(data[data.Length-7],0x25); // %\r\n\t\t\t\tAssert.AreEqual(data[data.Length-6],0x25); // %\r\n\t\t\t\tAssert.AreEqual(data[data.Length-5],0x45); // E\r\n\t\t\t\tAssert.AreEqual(data[data.Length-4],0x4F); // O\r\n\t\t\t\tAssert.AreEqual(data[data.Length-3],0x46); // F\r\n\t\t\t\tAssert.AreEqual(data[data.Length-2],0x20); // SPACE\r\n\t\t\t\tAssert.AreEqual(data[data.Length-1],0x0A); // EOL\r\n                return;\r\n\t\t\t}\r\n\r\n\t\t\tif(data[5]==0x31 &amp;&amp; data[6]==0x2E &amp;&amp; data[7]==0x34) // version is 1.4 ?\r\n\t\t\t{\r\n\t\t\t\t// file terminator\r\n\t\t\t\tAssert.AreEqual(data[data.Length-6],0x25); // %\r\n\t\t\t\tAssert.AreEqual(data[data.Length-5],0x25); // %\r\n\t\t\t\tAssert.AreEqual(data[data.Length-4],0x45); // E\r\n\t\t\t\tAssert.AreEqual(data[data.Length-3],0x4F); // O\r\n\t\t\t\tAssert.AreEqual(data[data.Length-2],0x46); // F\r\n\t\t\t\tAssert.AreEqual(data[data.Length-1],0x0A); // EOL\r\n                return;\r\n\t\t\t}\r\n\r\n\t\t\tAssert.Fail(&quot;Unsupported file format&quot;);\r\n\t\t}","title":"How can I determine if a file is a PDF file?","body":"<p>Here is what I use into my NUnit tests, that must validate against multiple versions of PDF generated using Crystal Reports:</p>\n\n<pre><code>public static void CheckIsPDF(byte[] data)\n    {\n        Assert.IsNotNull(data);\n        Assert.Greater(data.Length,4);\n\n        // header \n        Assert.AreEqual(data[0],0x25); // %\n        Assert.AreEqual(data[1],0x50); // P\n        Assert.AreEqual(data[2],0x44); // D\n        Assert.AreEqual(data[3],0x46); // F\n        Assert.AreEqual(data[4],0x2D); // -\n\n        if(data[5]==0x31 &amp;&amp; data[6]==0x2E &amp;&amp; data[7]==0x33) // version is 1.3 ?\n        {                  \n            // file terminator\n            Assert.AreEqual(data[data.Length-7],0x25); // %\n            Assert.AreEqual(data[data.Length-6],0x25); // %\n            Assert.AreEqual(data[data.Length-5],0x45); // E\n            Assert.AreEqual(data[data.Length-4],0x4F); // O\n            Assert.AreEqual(data[data.Length-3],0x46); // F\n            Assert.AreEqual(data[data.Length-2],0x20); // SPACE\n            Assert.AreEqual(data[data.Length-1],0x0A); // EOL\n            return;\n        }\n\n        if(data[5]==0x31 &amp;&amp; data[6]==0x2E &amp;&amp; data[7]==0x34) // version is 1.4 ?\n        {\n            // file terminator\n            Assert.AreEqual(data[data.Length-6],0x25); // %\n            Assert.AreEqual(data[data.Length-5],0x25); // %\n            Assert.AreEqual(data[data.Length-4],0x45); // E\n            Assert.AreEqual(data[data.Length-3],0x4F); // O\n            Assert.AreEqual(data[data.Length-2],0x46); // F\n            Assert.AreEqual(data[data.Length-1],0x0A); // EOL\n            return;\n        }\n\n        Assert.Fail(\"Unsupported file format\");\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27445,"reputation":31727,"user_id":72478,"accept_rate":76,"display_name":"cherouvim"},"down_vote_count":5,"up_vote_count":16,"is_accepted":false,"score":11,"last_activity_date":1298036860,"creation_date":1298036860,"answer_id":5042039,"question_id":941813,"body_markdown":"Since you use PDFBox you can simply do:\r\n\r\n    PDDocument.load(file);\r\n\r\nIt&#39;ll fail with an Exception if the PDF is corrupted etc.\r\n\r\nIf it succeeds you can also check if the PDF is encrypted using `.isEncrypted()`\r\n","title":"How can I determine if a file is a PDF file?","body":"<p>Since you use PDFBox you can simply do:</p>\n\n<pre><code>PDDocument.load(file);\n</code></pre>\n\n<p>It'll fail with an Exception if the PDF is corrupted etc.</p>\n\n<p>If it succeeds you can also check if the PDF is encrypted using <code>.isEncrypted()</code></p>\n"},{"tags":[],"owner":{"account_id":2751472,"reputation":1020,"user_id":2370769,"accept_rate":69,"display_name":"Sheel"},"down_vote_count":3,"up_vote_count":8,"is_accepted":false,"score":5,"last_activity_date":1430285364,"creation_date":1393176117,"answer_id":21971625,"question_id":941813,"body_markdown":"You have to try this....\r\n\r\n    public boolean isPDF(File file){\r\n        file = new File(&quot;Demo.pdf&quot;);\r\n        Scanner input = new Scanner(new FileReader(file));\r\n        while (input.hasNextLine()) {\r\n            final String checkline = input.nextLine();\r\n            if(checkline.contains(&quot;%PDF-&quot;)) { \r\n                // a match!\r\n                return true;\r\n            }  \r\n        }\r\n        return false;\r\n    }","title":"How can I determine if a file is a PDF file?","body":"<p>You have to try this....</p>\n\n<pre><code>public boolean isPDF(File file){\n    file = new File(\"Demo.pdf\");\n    Scanner input = new Scanner(new FileReader(file));\n    while (input.hasNextLine()) {\n        final String checkline = input.nextLine();\n        if(checkline.contains(\"%PDF-\")) { \n            // a match!\n            return true;\n        }  \n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":274340,"reputation":480,"user_id":566511,"display_name":"Andrei Solntsev"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1439737657,"creation_date":1439737657,"answer_id":32036564,"question_id":941813,"body_markdown":"There is a very convenient and simple library for testing PDF content:\r\nhttps://github.com/codeborne/pdf-test\r\n\r\nAPI is very simple:\r\n\r\n    import com.codeborne.pdftest.PDF;\r\n    import static com.codeborne.pdftest.PDF.*;\r\n    import static org.junit.Assert.assertThat;\r\n    \r\n    public class PDFContainsTextTest {\r\n      @Test\r\n      public void canAssertThatPdfContainsText() {\r\n        PDF pdf = new PDF(new File(&quot;src/test/resources/50quickideas.pdf&quot;));\r\n        assertThat(pdf, containsText(&quot;50 Quick Ideas to Improve your User Stories&quot;));\r\n      }\r\n    }","title":"How can I determine if a file is a PDF file?","body":"<p>There is a very convenient and simple library for testing PDF content:\n<a href=\"https://github.com/codeborne/pdf-test\" rel=\"nofollow\">https://github.com/codeborne/pdf-test</a></p>\n\n<p>API is very simple:</p>\n\n<pre><code>import com.codeborne.pdftest.PDF;\nimport static com.codeborne.pdftest.PDF.*;\nimport static org.junit.Assert.assertThat;\n\npublic class PDFContainsTextTest {\n  @Test\n  public void canAssertThatPdfContainsText() {\n    PDF pdf = new PDF(new File(\"src/test/resources/50quickideas.pdf\"));\n    assertThat(pdf, containsText(\"50 Quick Ideas to Improve your User Stories\"));\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1107571,"reputation":3147,"user_id":1104885,"display_name":"Roger Keays"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1455925655,"creation_date":1455925655,"answer_id":35517156,"question_id":941813,"body_markdown":"Here an adapted Java version of NinjaCross&#39;s code.\r\n\r\n\r\n    /**\r\n     * Test if the data in the given byte array represents a PDF file.\r\n     */\r\n    public static boolean is_pdf(byte[] data) {\r\n        if (data != null &amp;&amp; data.length &gt; 4 &amp;&amp;\r\n                data[0] == 0x25 &amp;&amp; // %\r\n                data[1] == 0x50 &amp;&amp; // P\r\n                data[2] == 0x44 &amp;&amp; // D\r\n                data[3] == 0x46 &amp;&amp; // F\r\n                data[4] == 0x2D) { // -\r\n\r\n            // version 1.3 file terminator\r\n            if (data[5] == 0x31 &amp;&amp; data[6] == 0x2E &amp;&amp; data[7] == 0x33 &amp;&amp;\r\n                    data[data.length - 7] == 0x25 &amp;&amp; // %\r\n                    data[data.length - 6] == 0x25 &amp;&amp; // %\r\n                    data[data.length - 5] == 0x45 &amp;&amp; // E\r\n                    data[data.length - 4] == 0x4F &amp;&amp; // O\r\n                    data[data.length - 3] == 0x46 &amp;&amp; // F\r\n                    data[data.length - 2] == 0x20 &amp;&amp; // SPACE\r\n                    data[data.length - 1] == 0x0A) { // EOL\r\n                return true;\r\n            }\r\n\r\n            // version 1.3 file terminator\r\n            if (data[5] == 0x31 &amp;&amp; data[6] == 0x2E &amp;&amp; data[7] == 0x34 &amp;&amp;\r\n                    data[data.length - 6] == 0x25 &amp;&amp; // %\r\n                    data[data.length - 5] == 0x25 &amp;&amp; // %\r\n                    data[data.length - 4] == 0x45 &amp;&amp; // E\r\n                    data[data.length - 3] == 0x4F &amp;&amp; // O\r\n                    data[data.length - 2] == 0x46 &amp;&amp; // F\r\n                    data[data.length - 1] == 0x0A) { // EOL\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\nAnd some simple unit tests:\r\n\r\n    @Test\r\n    public void test_valid_pdf_1_3_data_is_pdf() {\r\n        assertTrue(is_pdf(&quot;%PDF-1.3 CONTENT %%EOF \\n&quot;.getBytes()));\r\n    }\r\n\r\n    @Test\r\n    public void test_valid_pdf_1_4_data_is_pdf() {\r\n        assertTrue(is_pdf(&quot;%PDF-1.4 CONTENT %%EOF\\n&quot;.getBytes()));\r\n    }\r\n\r\n    @Test\r\n    public void test_invalid_data_is_not_pdf() {\r\n        assertFalse(is_pdf(&quot;Hello World&quot;.getBytes()));\r\n    }\r\n\r\nIf you come up with any failing unit tests, please let me know.","title":"How can I determine if a file is a PDF file?","body":"<p>Here an adapted Java version of NinjaCross's code.</p>\n\n<pre><code>/**\n * Test if the data in the given byte array represents a PDF file.\n */\npublic static boolean is_pdf(byte[] data) {\n    if (data != null &amp;&amp; data.length &gt; 4 &amp;&amp;\n            data[0] == 0x25 &amp;&amp; // %\n            data[1] == 0x50 &amp;&amp; // P\n            data[2] == 0x44 &amp;&amp; // D\n            data[3] == 0x46 &amp;&amp; // F\n            data[4] == 0x2D) { // -\n\n        // version 1.3 file terminator\n        if (data[5] == 0x31 &amp;&amp; data[6] == 0x2E &amp;&amp; data[7] == 0x33 &amp;&amp;\n                data[data.length - 7] == 0x25 &amp;&amp; // %\n                data[data.length - 6] == 0x25 &amp;&amp; // %\n                data[data.length - 5] == 0x45 &amp;&amp; // E\n                data[data.length - 4] == 0x4F &amp;&amp; // O\n                data[data.length - 3] == 0x46 &amp;&amp; // F\n                data[data.length - 2] == 0x20 &amp;&amp; // SPACE\n                data[data.length - 1] == 0x0A) { // EOL\n            return true;\n        }\n\n        // version 1.3 file terminator\n        if (data[5] == 0x31 &amp;&amp; data[6] == 0x2E &amp;&amp; data[7] == 0x34 &amp;&amp;\n                data[data.length - 6] == 0x25 &amp;&amp; // %\n                data[data.length - 5] == 0x25 &amp;&amp; // %\n                data[data.length - 4] == 0x45 &amp;&amp; // E\n                data[data.length - 3] == 0x4F &amp;&amp; // O\n                data[data.length - 2] == 0x46 &amp;&amp; // F\n                data[data.length - 1] == 0x0A) { // EOL\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n\n<p>And some simple unit tests:</p>\n\n<pre><code>@Test\npublic void test_valid_pdf_1_3_data_is_pdf() {\n    assertTrue(is_pdf(\"%PDF-1.3 CONTENT %%EOF \\n\".getBytes()));\n}\n\n@Test\npublic void test_valid_pdf_1_4_data_is_pdf() {\n    assertTrue(is_pdf(\"%PDF-1.4 CONTENT %%EOF\\n\".getBytes()));\n}\n\n@Test\npublic void test_invalid_data_is_not_pdf() {\n    assertFalse(is_pdf(\"Hello World\".getBytes()));\n}\n</code></pre>\n\n<p>If you come up with any failing unit tests, please let me know.</p>\n"},{"tags":[],"owner":{"account_id":1347889,"reputation":143,"user_id":1288279,"display_name":"skashyap"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1460578413,"creation_date":1460578413,"answer_id":36608667,"question_id":941813,"body_markdown":"Maybe I am too late to answer. But you should have a look at Tika. It uses PDFBox Parser internally to parse PDF&#39;s\r\n\r\nYou just need to import tika-app-latest*.jar\r\n\r\n\r\n     public String parseToStringExample() throws IOException, SAXException, TikaException \r\n     {\r\n\r\n          Tika tika = new Tika();\r\n          try (InputStream stream = ParsingExample.class.getResourceAsStream(&quot;test.pdf&quot;)) {\r\n               return tika.parseToString(stream); // This should return you the pdf&#39;s text\r\n          }\r\n    }\r\n\r\n\r\nIt would be a much cleaner solution . You can refer here for more details of Tika Usage : https://tika.apache.org/1.12/api/","title":"How can I determine if a file is a PDF file?","body":"<p>Maybe I am too late to answer. But you should have a look at Tika. It uses PDFBox Parser internally to parse PDF's</p>\n\n<p>You just need to import tika-app-latest*.jar</p>\n\n<pre><code> public String parseToStringExample() throws IOException, SAXException, TikaException \n {\n\n      Tika tika = new Tika();\n      try (InputStream stream = ParsingExample.class.getResourceAsStream(\"test.pdf\")) {\n           return tika.parseToString(stream); // This should return you the pdf's text\n      }\n}\n</code></pre>\n\n<p>It would be a much cleaner solution . You can refer here for more details of Tika Usage : <a href=\"https://tika.apache.org/1.12/api/\" rel=\"nofollow\">https://tika.apache.org/1.12/api/</a></p>\n"},{"tags":[],"owner":{"account_id":5052946,"reputation":193,"user_id":4056947,"accept_rate":70,"display_name":"arjun kumar"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1495040471,"creation_date":1495035615,"answer_id":44029336,"question_id":941813,"body_markdown":"I was using some of the suggestions I found here and on other sites/posts for determining whether a pdf was valid or not.  I purposely corrupted a pdf file, and unfortunately, many of the solutions did not detect that the file was corrupted.  \r\n\r\nEventually, after tinkering around with different methods in the API, I tried this: \r\n\r\n    PDDocument.load(file).getPage(0).getContents().toString();\r\n\r\nThis did not throw an exception, but it did output this: \r\n\r\n     WARN  [COSParser:1154] The end of the stream doesn&#39;t point to the correct offset, using workaround to read the stream, stream start position: 171, length: 1145844, expected end position: 1146015\r\n\r\nPersonally, I wanted an exception to be thrown if the file was corrupted so I could handle it myself, but it appeared that the API I was implementing already handled them in their own way.  \r\n\r\nTo get around this, I decided to try parsing the files using the class that gave the warm statement (COSParser).  I found that there was a subclass, called PDFParser, which inherited a method called &quot;setLenient&quot;, which was the key (https://pdfbox.apache.org/docs/2.0.4/javadocs/org/apache/pdfbox/pdfparser/COSParser.html).\r\n\r\nI then implemented the following: \r\n\r\n    \t\tRandomAccessFile accessFile = new RandomAccessFile(file, &quot;r&quot;);\r\n\t\t\tPDFParser parser = new PDFParser(accessFile); \r\n\t\t\tparser.setLenient(false);\r\n\t\t\tparser.parse();\r\n\r\nThis threw an Exception for my corrupted file, as I wanted.  Hope this helps someone out!\r\n","title":"How can I determine if a file is a PDF file?","body":"<p>I was using some of the suggestions I found here and on other sites/posts for determining whether a pdf was valid or not.  I purposely corrupted a pdf file, and unfortunately, many of the solutions did not detect that the file was corrupted.  </p>\n\n<p>Eventually, after tinkering around with different methods in the API, I tried this: </p>\n\n<pre><code>PDDocument.load(file).getPage(0).getContents().toString();\n</code></pre>\n\n<p>This did not throw an exception, but it did output this: </p>\n\n<pre><code> WARN  [COSParser:1154] The end of the stream doesn't point to the correct offset, using workaround to read the stream, stream start position: 171, length: 1145844, expected end position: 1146015\n</code></pre>\n\n<p>Personally, I wanted an exception to be thrown if the file was corrupted so I could handle it myself, but it appeared that the API I was implementing already handled them in their own way.  </p>\n\n<p>To get around this, I decided to try parsing the files using the class that gave the warm statement (COSParser).  I found that there was a subclass, called PDFParser, which inherited a method called \"setLenient\", which was the key (<a href=\"https://pdfbox.apache.org/docs/2.0.4/javadocs/org/apache/pdfbox/pdfparser/COSParser.html\" rel=\"noreferrer\">https://pdfbox.apache.org/docs/2.0.4/javadocs/org/apache/pdfbox/pdfparser/COSParser.html</a>).</p>\n\n<p>I then implemented the following: </p>\n\n<pre><code>        RandomAccessFile accessFile = new RandomAccessFile(file, \"r\");\n        PDFParser parser = new PDFParser(accessFile); \n        parser.setLenient(false);\n        parser.parse();\n</code></pre>\n\n<p>This threw an Exception for my corrupted file, as I wanted.  Hope this helps someone out!</p>\n"},{"tags":[],"owner":{"account_id":333285,"reputation":2127,"user_id":659077,"accept_rate":0,"display_name":"Mohsen Abasi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1496220614,"creation_date":1496050085,"answer_id":44239018,"question_id":941813,"body_markdown":"The answer by Roger Keays is wrong! since not all PDF files in version 1.3 and not all terminated by EOL.\r\nThe answer below works for all not corrupted pdf files:\r\n\r\n    public static boolean is_pdf(byte[] data) {\r\n        if (data != null &amp;&amp; data.length &gt; 4\r\n                &amp;&amp; data[0] == 0x25 &amp;&amp; // %\r\n                data[1] == 0x50 &amp;&amp; // P\r\n                data[2] == 0x44 &amp;&amp; // D\r\n                data[3] == 0x46 &amp;&amp; // F\r\n                data[4] == 0x2D) { // -\r\n\r\n            // version 1.3 file terminator\r\n            if (//data[5] == 0x31 &amp;&amp; data[6] == 0x2E &amp;&amp; data[7] == 0x33 &amp;&amp;\r\n                    data[data.length - 7] == 0x25 &amp;&amp; // %\r\n                    data[data.length - 6] == 0x25 &amp;&amp; // %\r\n                    data[data.length - 5] == 0x45 &amp;&amp; // E\r\n                    data[data.length - 4] == 0x4F &amp;&amp; // O\r\n                    data[data.length - 3] == 0x46 &amp;&amp; // F\r\n                    data[data.length - 2] == 0x20 // SPACE\r\n                    //&amp;&amp; data[data.length - 1] == 0x0A// EOL\r\n                    ) {\r\n                return true;\r\n            }\r\n\r\n            // version 1.3 file terminator\r\n            if (//data[5] == 0x31 &amp;&amp; data[6] == 0x2E &amp;&amp; data[7] == 0x34 &amp;&amp;\r\n                    data[data.length - 6] == 0x25 &amp;&amp; // %\r\n                    data[data.length - 5] == 0x25 &amp;&amp; // %\r\n                    data[data.length - 4] == 0x45 &amp;&amp; // E\r\n                    data[data.length - 3] == 0x4F &amp;&amp; // O\r\n                    data[data.length - 2] == 0x46 // F\r\n                    //&amp;&amp; data[data.length - 1] == 0x0A // EOL\r\n                    ) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }","title":"How can I determine if a file is a PDF file?","body":"<p>The answer by Roger Keays is wrong! since not all PDF files in version 1.3 and not all terminated by EOL.\nThe answer below works for all not corrupted pdf files:</p>\n\n<pre><code>public static boolean is_pdf(byte[] data) {\n    if (data != null &amp;&amp; data.length &gt; 4\n            &amp;&amp; data[0] == 0x25 &amp;&amp; // %\n            data[1] == 0x50 &amp;&amp; // P\n            data[2] == 0x44 &amp;&amp; // D\n            data[3] == 0x46 &amp;&amp; // F\n            data[4] == 0x2D) { // -\n\n        // version 1.3 file terminator\n        if (//data[5] == 0x31 &amp;&amp; data[6] == 0x2E &amp;&amp; data[7] == 0x33 &amp;&amp;\n                data[data.length - 7] == 0x25 &amp;&amp; // %\n                data[data.length - 6] == 0x25 &amp;&amp; // %\n                data[data.length - 5] == 0x45 &amp;&amp; // E\n                data[data.length - 4] == 0x4F &amp;&amp; // O\n                data[data.length - 3] == 0x46 &amp;&amp; // F\n                data[data.length - 2] == 0x20 // SPACE\n                //&amp;&amp; data[data.length - 1] == 0x0A// EOL\n                ) {\n            return true;\n        }\n\n        // version 1.3 file terminator\n        if (//data[5] == 0x31 &amp;&amp; data[6] == 0x2E &amp;&amp; data[7] == 0x34 &amp;&amp;\n                data[data.length - 6] == 0x25 &amp;&amp; // %\n                data[data.length - 5] == 0x25 &amp;&amp; // %\n                data[data.length - 4] == 0x45 &amp;&amp; // E\n                data[data.length - 3] == 0x4F &amp;&amp; // O\n                data[data.length - 2] == 0x46 // F\n                //&amp;&amp; data[data.length - 1] == 0x0A // EOL\n                ) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7908438,"reputation":17,"user_id":5973176,"display_name":"Binayak"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1515742887,"creation_date":1515742887,"answer_id":48221656,"question_id":941813,"body_markdown":"In general, we can like this, any pdf version going to finish with %%EOF so we can check like bellow.\r\n\r\n\r\n    public static boolean is_pdf(byte[] data) {\r\n    \t\tString s = new String(data);\r\n    \t\tString d = s.substring(data.length - 7, data.length - 1);\r\n    \t\tif (data != null &amp;&amp; data.length &gt; 4 &amp;&amp;\r\n    \t            data[0] == 0x25 &amp;&amp; // %\r\n    \t            data[1] == 0x50 &amp;&amp; // P\r\n    \t            data[2] == 0x44 &amp;&amp; // D\r\n    \t            data[3] == 0x46 &amp;&amp; // F\r\n    \t            data[4] == 0x2D) { // -\r\n    \t    \t\t\r\n    \t    \t  if(d.contains(&quot;%%EOF&quot;)){\r\n    \t    \t\t return true; \r\n    \t    \t  }    \t    \r\n    \t    }\r\n    \t    return false;\r\n    \t}","title":"How can I determine if a file is a PDF file?","body":"<p>In general, we can like this, any pdf version going to finish with %%EOF so we can check like bellow.</p>\n\n<pre><code>public static boolean is_pdf(byte[] data) {\n        String s = new String(data);\n        String d = s.substring(data.length - 7, data.length - 1);\n        if (data != null &amp;&amp; data.length &gt; 4 &amp;&amp;\n                data[0] == 0x25 &amp;&amp; // %\n                data[1] == 0x50 &amp;&amp; // P\n                data[2] == 0x44 &amp;&amp; // D\n                data[3] == 0x46 &amp;&amp; // F\n                data[4] == 0x2D) { // -\n\n              if(d.contains(\"%%EOF\")){\n                 return true; \n              }         \n        }\n        return false;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551975287,"creation_date":1551971335,"answer_id":55047008,"question_id":941813,"body_markdown":"Here is a method that checks for the presence of `%%EOF` with optional checks for white-space characters. You can pass in either a `File` or a `byte[]` object. There is less restriction for white-space characters in some PDF versions.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n    \r\n    public boolean isPdf(byte[] data) {\r\n    \tif (data == null || data.length &lt; 5) return false;\r\n    \t// %PDF-\r\n    \tif (data[0] == 0x25 &amp;&amp; data[1] == 0x50 &amp;&amp; data[2] == 0x44 &amp;&amp; data[3] == 0x46 &amp;&amp; data[4] == 0x2D) {\r\n    \t\tint offset = data.length - 8, count = 0; // check last 8 bytes for %%EOF with optional white-space\r\n    \t\tboolean hasSpace = false, hasCr = false, hasLf = false;\r\n    \t\twhile (offset &lt; data.length) {\r\n    \t\t\tif (count == 0 &amp;&amp; data[offset] == 0x25) count++; // %\r\n    \t\t\tif (count == 1 &amp;&amp; data[offset] == 0x25) count++; // %\r\n    \t\t\tif (count == 2 &amp;&amp; data[offset] == 0x45) count++; // E\r\n    \t\t\tif (count == 3 &amp;&amp; data[offset] == 0x4F) count++; // O\r\n    \t\t\tif (count == 4 &amp;&amp; data[offset] == 0x46) count++; // F\r\n    \t\t\t// Optional flags for meta info\r\n    \t\t\tif (count == 5 &amp;&amp; data[offset] == 0x20) hasSpace = true; // SPACE\r\n    \t\t\tif (count == 5 &amp;&amp; data[offset] == 0x0D) hasCr    = true; // CR\r\n    \t\t\tif (count == 5 &amp;&amp; data[offset] == 0x0A) hasLf    = true; // LF / EOL\r\n    \t\t\toffset++;\r\n    \t\t}\r\n    \t\t\r\n    \t\tif (count == 5) {\r\n    \t\t\tString version = data.length &gt; 13 ? String.format(&quot;%s%s%s&quot;, (char) data[5], (char) data[6], (char) data[7]) : &quot;?&quot;;\r\n    \t\t\tSystem.out.printf(&quot;Version : %s | Space : %b | CR : %b | LF : %b%n&quot;, version, hasSpace, hasCr, hasLf);\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \treturn false;\r\n    }\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public boolean isPdf(File file) throws IOException {\r\n    \treturn isPdf(file, false);\r\n    }\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n    \r\n    // With version: 16 bytes, without version: 13 bytes.\r\n    public boolean isPdf(File file, boolean includeVersion) throws IOException {\r\n    \tif (file == null) return false;\r\n    \tint offsetStart = includeVersion ? 8 : 5, offsetEnd = 8;\r\n    \tbyte[] bytes = new byte[offsetStart + offsetEnd];\r\n    \tInputStream is = new FileInputStream(file);\r\n    \ttry {\r\n    \t\tis.read(bytes, 0, offsetStart); // %PDF-\r\n    \t\tis.skip(file.length() - bytes.length); // Skip bytes\r\n    \t\tis.read(bytes, offsetStart, offsetEnd); // %%EOF,SP?,CR?,LF?\r\n    \t} finally {\r\n    \t\tis.close();\r\n    \t}\r\n    \treturn isPdf(bytes);\r\n    }","title":"How can I determine if a file is a PDF file?","body":"<p>Here is a method that checks for the presence of <code>%%EOF</code> with optional checks for white-space characters. You can pass in either a <code>File</code> or a <code>byte[]</code> object. There is less restriction for white-space characters in some PDF versions.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public boolean isPdf(byte[] data) {\n    if (data == null || data.length &lt; 5) return false;\n    // %PDF-\n    if (data[0] == 0x25 &amp;&amp; data[1] == 0x50 &amp;&amp; data[2] == 0x44 &amp;&amp; data[3] == 0x46 &amp;&amp; data[4] == 0x2D) {\n        int offset = data.length - 8, count = 0; // check last 8 bytes for %%EOF with optional white-space\n        boolean hasSpace = false, hasCr = false, hasLf = false;\n        while (offset &lt; data.length) {\n            if (count == 0 &amp;&amp; data[offset] == 0x25) count++; // %\n            if (count == 1 &amp;&amp; data[offset] == 0x25) count++; // %\n            if (count == 2 &amp;&amp; data[offset] == 0x45) count++; // E\n            if (count == 3 &amp;&amp; data[offset] == 0x4F) count++; // O\n            if (count == 4 &amp;&amp; data[offset] == 0x46) count++; // F\n            // Optional flags for meta info\n            if (count == 5 &amp;&amp; data[offset] == 0x20) hasSpace = true; // SPACE\n            if (count == 5 &amp;&amp; data[offset] == 0x0D) hasCr    = true; // CR\n            if (count == 5 &amp;&amp; data[offset] == 0x0A) hasLf    = true; // LF / EOL\n            offset++;\n        }\n\n        if (count == 5) {\n            String version = data.length &gt; 13 ? String.format(\"%s%s%s\", (char) data[5], (char) data[6], (char) data[7]) : \"?\";\n            System.out.printf(\"Version : %s | Space : %b | CR : %b | LF : %b%n\", version, hasSpace, hasCr, hasLf);\n            return true;\n        }\n    }\n\n    return false;\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>public boolean isPdf(File file) throws IOException {\n    return isPdf(file, false);\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>// With version: 16 bytes, without version: 13 bytes.\npublic boolean isPdf(File file, boolean includeVersion) throws IOException {\n    if (file == null) return false;\n    int offsetStart = includeVersion ? 8 : 5, offsetEnd = 8;\n    byte[] bytes = new byte[offsetStart + offsetEnd];\n    InputStream is = new FileInputStream(file);\n    try {\n        is.read(bytes, 0, offsetStart); // %PDF-\n        is.skip(file.length() - bytes.length); // Skip bytes\n        is.read(bytes, offsetStart, offsetEnd); // %%EOF,SP?,CR?,LF?\n    } finally {\n        is.close();\n    }\n    return isPdf(bytes);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4078308,"reputation":3651,"user_id":3349358,"accept_rate":88,"display_name":"gmode"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1588937215,"creation_date":1588937215,"answer_id":61678098,"question_id":941813,"body_markdown":"Relying on magic numbers does not really appeal to me. I ended up using a preflight library from Apache for this: \r\n\r\n&gt; compile group: &#39;org.apache.pdfbox&#39;, name: &#39;preflight&#39;, version:\r\n&gt; &#39;2.0.19&#39;\r\n\r\n    private boolean isPdf(InputStream fileInputStream) {\r\n        try {\r\n            PreflightParser preflightParser = new PreflightParser(new ByteArrayDataSource(fileInputStream));\r\n            preflightParser.parse();\r\n            return true;\r\n        } catch (Exception e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\nPreflightParser has constructors for files and other data sources.","title":"How can I determine if a file is a PDF file?","body":"<p>Relying on magic numbers does not really appeal to me. I ended up using a preflight library from Apache for this: </p>\n\n<blockquote>\n  <p>compile group: 'org.apache.pdfbox', name: 'preflight', version:\n  '2.0.19'</p>\n</blockquote>\n\n<pre><code>private boolean isPdf(InputStream fileInputStream) {\n    try {\n        PreflightParser preflightParser = new PreflightParser(new ByteArrayDataSource(fileInputStream));\n        preflightParser.parse();\n        return true;\n    } catch (Exception e) {\n        return false;\n    }\n}\n</code></pre>\n\n<p>PreflightParser has constructors for files and other data sources.</p>\n"},{"tags":[],"owner":{"account_id":14099341,"reputation":45,"user_id":10185084,"display_name":"Ashish Dwivedi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685094220,"creation_date":1685094220,"answer_id":76339575,"question_id":941813,"body_markdown":"We can user directly the below method , in which we will directly pass bytes of file data and it will return true(valid pdf) or false.\r\n\r\n\tpublic boolean isPdf(byte[] data) {\r\n\t    if (data == null || data.length &lt; 5) return false;\r\n\t    // %PDF-\r\n\t    if (data[0] == 0x25 &amp;&amp; data[1] == 0x50 &amp;&amp; data[2] == 0x44 &amp;&amp; data[3] == 0x46 &amp;&amp; data[4] == 0x2D) {\r\n\t        int offset = data.length - 8, count = 0; // check last 8 bytes for %%EOF with optional white-space\r\n\t        boolean hasSpace = false, hasCr = false, hasLf = false;\r\n\t        while (offset &lt; data.length) {\r\n\t            if (count == 0 &amp;&amp; data[offset] == 0x25) count++; \r\n\t            if (count == 1 &amp;&amp; data[offset] == 0x25) count++; \r\n\t            if (count == 2 &amp;&amp; data[offset] == 0x45) count++; \r\n\t            if (count == 3 &amp;&amp; data[offset] == 0x4F) count++; \r\n\t            if (count == 4 &amp;&amp; data[offset] == 0x46) count++; \r\n\t            // Optional flags for meta info\r\n\t            if (count == 5 &amp;&amp; data[offset] == 0x20) hasSpace = true; \r\n\t            if (count == 5 &amp;&amp; data[offset] == 0x0D) hasCr    = true; \r\n\t            if (count == 5 &amp;&amp; data[offset] == 0x0A) hasLf    = true; \r\n\t            offset++;\r\n\t        }\r\n\t        if (count == 5) {\r\n\t            String version = data.length &gt; 13 ? String.format(&quot;%s%s%s&quot;, (char) data[5], (char) data[6], (char) data[7]) : &quot;?&quot;;\r\n\t            System.out.printf(&quot;Version : %s | Space : %b | CR : %b | LF : %b%n&quot;, version, hasSpace, hasCr, hasLf);\r\n\t            return true;\r\n\t        }\r\n\t    }\r\n\t    return false;\r\n\t}","title":"How can I determine if a file is a PDF file?","body":"<p>We can user directly the below method , in which we will directly pass bytes of file data and it will return true(valid pdf) or false.</p>\n<pre><code>public boolean isPdf(byte[] data) {\n    if (data == null || data.length &lt; 5) return false;\n    // %PDF-\n    if (data[0] == 0x25 &amp;&amp; data[1] == 0x50 &amp;&amp; data[2] == 0x44 &amp;&amp; data[3] == 0x46 &amp;&amp; data[4] == 0x2D) {\n        int offset = data.length - 8, count = 0; // check last 8 bytes for %%EOF with optional white-space\n        boolean hasSpace = false, hasCr = false, hasLf = false;\n        while (offset &lt; data.length) {\n            if (count == 0 &amp;&amp; data[offset] == 0x25) count++; \n            if (count == 1 &amp;&amp; data[offset] == 0x25) count++; \n            if (count == 2 &amp;&amp; data[offset] == 0x45) count++; \n            if (count == 3 &amp;&amp; data[offset] == 0x4F) count++; \n            if (count == 4 &amp;&amp; data[offset] == 0x46) count++; \n            // Optional flags for meta info\n            if (count == 5 &amp;&amp; data[offset] == 0x20) hasSpace = true; \n            if (count == 5 &amp;&amp; data[offset] == 0x0D) hasCr    = true; \n            if (count == 5 &amp;&amp; data[offset] == 0x0A) hasLf    = true; \n            offset++;\n        }\n        if (count == 5) {\n            String version = data.length &gt; 13 ? String.format(&quot;%s%s%s&quot;, (char) data[5], (char) data[6], (char) data[7]) : &quot;?&quot;;\n            System.out.printf(&quot;Version : %s | Space : %b | CR : %b | LF : %b%n&quot;, version, hasSpace, hasCr, hasLf);\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n"}],"owner":{"display_name":"user116219"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75054,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":959646,"answer_count":14,"score":40,"last_activity_date":1685094220,"creation_date":1243975473,"question_id":941813,"body_markdown":"I am using PdfBox in Java to extract text from PDF files. Some of the input files provided are not valid and PDFTextStripper halts on these files. Is there a clean way to check if the provided file is indeed a valid PDF?","title":"How can I determine if a file is a PDF file?","body":"<p>I am using PdfBox in Java to extract text from PDF files. Some of the input files provided are not valid and PDFTextStripper halts on these files. Is there a clean way to check if the provided file is indeed a valid PDF?</p>\n"},{"tags":["java","jsp","tomcat","servlets","deployment"],"owner":{"account_id":28551054,"reputation":21,"user_id":21855921,"display_name":"Matteo B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685094074,"creation_date":1685094074,"question_id":76339560,"body_markdown":"I am writing a Java Servlet and using Tomcat 8.5.\r\n\r\nI want to manage the cookies of the web application. I am facing many problems one of them is the behavior of encodeURL(), the documentation states that the methods return the URL with the jsessionID if the browser doesn&#39;t allow cookies or sessions, otherwise it returns the original URL.\r\n\r\nUnfortunately the result is that the **encodeURL() is adding the jsessionID every time** (even if the cookies allows it and the jsession id cookie is created). \r\n\r\nI have wrote this code:\r\n\r\n```\r\n        HttpSession session = request.getSession();\r\n        String origin = request.getHeader(&quot;referer&quot;);\r\n        String encodedURL = origin;\r\n        encodedURL = response.encodeURL(origin);\r\n        System.out.println(&quot;origin: &quot; + origin+ &quot;  encoded: &quot; + encodedURL);\r\n```\r\n\r\nThat creates a session, retrieves the current URL, use the encodeURL on the URL and then prints the origin link and the one after have used the method.\r\n\r\n\r\n**As i said there is no case in which encodedURL is equal to origin but this is wrong.** \r\nTo get a more detailed view, i am forwarding the control of the page when a button in a jsp page is clicked.","title":"encodeURL() adding jsessionID when not needed","body":"<p>I am writing a Java Servlet and using Tomcat 8.5.</p>\n<p>I want to manage the cookies of the web application. I am facing many problems one of them is the behavior of encodeURL(), the documentation states that the methods return the URL with the jsessionID if the browser doesn't allow cookies or sessions, otherwise it returns the original URL.</p>\n<p>Unfortunately the result is that the <strong>encodeURL() is adding the jsessionID every time</strong> (even if the cookies allows it and the jsession id cookie is created).</p>\n<p>I have wrote this code:</p>\n<pre><code>        HttpSession session = request.getSession();\n        String origin = request.getHeader(&quot;referer&quot;);\n        String encodedURL = origin;\n        encodedURL = response.encodeURL(origin);\n        System.out.println(&quot;origin: &quot; + origin+ &quot;  encoded: &quot; + encodedURL);\n</code></pre>\n<p>That creates a session, retrieves the current URL, use the encodeURL on the URL and then prints the origin link and the one after have used the method.</p>\n<p><strong>As i said there is no case in which encodedURL is equal to origin but this is wrong.</strong>\nTo get a more detailed view, i am forwarding the control of the page when a button in a jsp page is clicked.</p>\n"},{"tags":["java","android","android-studio","flutter"],"comments":[{"owner":{"account_id":16975650,"reputation":3079,"user_id":12341099,"display_name":"Yadu"},"score":0,"creation_date":1601911044,"post_id":64210724,"comment_id":113546001,"body_markdown":"bridging between native and flutter is one of the strong suites of flutter, check out methodChannels, its kind of REST api between native code and flutter","body":"bridging between native and flutter is one of the strong suites of flutter, check out methodChannels, its kind of REST api between native code and flutter"}],"answers":[{"tags":[],"owner":{"account_id":12731869,"reputation":15110,"user_id":9248201,"display_name":"Pavlo Ostasha"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1685093620,"creation_date":1603724207,"answer_id":64539580,"question_id":64210724,"body_markdown":"The feature you describe is handled by the application permission \r\n\r\n`&lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;`\r\n\r\n[Documentation](https://developer.android.com/reference/android/Manifest.permission#SYSTEM_ALERT_WINDOW) states that this permission\r\n\r\n&gt; Allows an app to create windows using the type WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY, shown on top of all other apps.\r\n\r\nA bit vague explanation isn&#39;t it? Lets find out what does `TYPE_APPLICATION_OVERLAY` means.\r\n\r\n&gt; Application overlay windows are displayed above all activity windows (types between FIRST_APPLICATION_WINDOW and LAST_APPLICATION_WINDOW) but below critical system windows like the status bar or IME.\r\n\r\nWhy have I mentioned these two lines? \r\n\r\nWell, to answer your question, we need to understand how to achieve the thing in plain Android. And we do know how it works. The thing is, this method only works for Android components with UI - activities, services, and dialogs(the latter two will require some extra work). \r\n\r\nWhat does this mean in connection with Flutter? This means that there are no settings in clean Flutter to enable such behavior, only the tools the underlying platform offers.\r\n\r\nIn the context of Android using this permission will allow you to use this feature for Android UI containers(it needs to be explicitly requested  through a permission management screen like this)\r\n```\r\nif(!Settings.canDrawOverlays(this)){\r\n    //Ask for setting \r\n     Intent intent = new Intent(Settings.ACTION_MANAGE_OVERLAY_PERMISSION,\r\n     Uri.parse(&quot;package:&quot; + getPackageName()));\r\n     startActivityForResult(intent, REQUEST_OVERLAY_PERMISSION);\r\n}\r\n\r\n@Override\r\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n    if (requestCode == REQUEST_OVERLAY_PERMISSION) {\r\n        if (Settings.canDrawOverlays(this)) {\r\n            // permission granted...\r\n        }else{\r\n            // permission not granted...\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nAnd I am not sure there is a Flutter analog yet.\r\n\r\nExploring further, it turns out that the Flutter renders itself in special android containers `FlutterActivity`, `FlutterFragment`, and `FlutterView`.\r\n\r\nFor these three, you are able to force intended behavior with relevant permission. The whole flutter UI will have the possibility to be drawn as an overlay.\r\nBut if you want only some parts of your flutter UI to be drawn as overlays, for example, some flutter dialogs or parts of the navigation route - you will not be able to achieve it that easily(only by creating a separate Android native UI containers and channeling your flutter UI there - as of 2023 multiple(10 and more) flutter UI containers may cause performance issues problems)","title":"Display Over Other Apps Using Flutter on Android","body":"<p>The feature you describe is handled by the application permission</p>\n<p><code>&lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;</code></p>\n<p><a href=\"https://developer.android.com/reference/android/Manifest.permission#SYSTEM_ALERT_WINDOW\" rel=\"nofollow noreferrer\">Documentation</a> states that this permission</p>\n<blockquote>\n<p>Allows an app to create windows using the type WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY, shown on top of all other apps.</p>\n</blockquote>\n<p>A bit vague explanation isn't it? Lets find out what does <code>TYPE_APPLICATION_OVERLAY</code> means.</p>\n<blockquote>\n<p>Application overlay windows are displayed above all activity windows (types between FIRST_APPLICATION_WINDOW and LAST_APPLICATION_WINDOW) but below critical system windows like the status bar or IME.</p>\n</blockquote>\n<p>Why have I mentioned these two lines?</p>\n<p>Well, to answer your question, we need to understand how to achieve the thing in plain Android. And we do know how it works. The thing is, this method only works for Android components with UI - activities, services, and dialogs(the latter two will require some extra work).</p>\n<p>What does this mean in connection with Flutter? This means that there are no settings in clean Flutter to enable such behavior, only the tools the underlying platform offers.</p>\n<p>In the context of Android using this permission will allow you to use this feature for Android UI containers(it needs to be explicitly requested  through a permission management screen like this)</p>\n<pre><code>if(!Settings.canDrawOverlays(this)){\n    //Ask for setting \n     Intent intent = new Intent(Settings.ACTION_MANAGE_OVERLAY_PERMISSION,\n     Uri.parse(&quot;package:&quot; + getPackageName()));\n     startActivityForResult(intent, REQUEST_OVERLAY_PERMISSION);\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    if (requestCode == REQUEST_OVERLAY_PERMISSION) {\n        if (Settings.canDrawOverlays(this)) {\n            // permission granted...\n        }else{\n            // permission not granted...\n        }\n    }\n}\n\n</code></pre>\n<p>And I am not sure there is a Flutter analog yet.</p>\n<p>Exploring further, it turns out that the Flutter renders itself in special android containers <code>FlutterActivity</code>, <code>FlutterFragment</code>, and <code>FlutterView</code>.</p>\n<p>For these three, you are able to force intended behavior with relevant permission. The whole flutter UI will have the possibility to be drawn as an overlay.\nBut if you want only some parts of your flutter UI to be drawn as overlays, for example, some flutter dialogs or parts of the navigation route - you will not be able to achieve it that easily(only by creating a separate Android native UI containers and channeling your flutter UI there - as of 2023 multiple(10 and more) flutter UI containers may cause performance issues problems)</p>\n"},{"tags":[],"owner":{"account_id":5164685,"reputation":5783,"user_id":4135133,"accept_rate":100,"display_name":"bluenile"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604248616,"creation_date":1604248616,"answer_id":64634259,"question_id":64210724,"body_markdown":"There already is a plugin available that claims to &quot;show Truecaller like overlay window over all other apps along with callback events&quot;,\r\n\r\nPlease checkout the plugin [system_alert_window][1] URL: https://pub.flutter-io.cn/packages/system_alert_window\r\n\r\n\r\n&gt; **system_alert_window**\r\n&gt; \r\n&gt; A flutter plugin to show Truecaller like overlay window, over all\r\n&gt; other apps along with callback events. Android Go or Android 11 &amp;\r\n&gt; above, this plugin shows notification bubble, in other android\r\n&gt; versions, it shows an overlay window.\r\n\r\n\r\n  [1]: https://pub.flutter-io.cn/packages/system_alert_window","title":"Display Over Other Apps Using Flutter on Android","body":"<p>There already is a plugin available that claims to &quot;show Truecaller like overlay window over all other apps along with callback events&quot;,</p>\n<p>Please checkout the plugin <a href=\"https://pub.flutter-io.cn/packages/system_alert_window\" rel=\"nofollow noreferrer\">system_alert_window</a> URL: <a href=\"https://pub.flutter-io.cn/packages/system_alert_window\" rel=\"nofollow noreferrer\">https://pub.flutter-io.cn/packages/system_alert_window</a></p>\n<blockquote>\n<p><strong>system_alert_window</strong></p>\n<p>A flutter plugin to show Truecaller like overlay window, over all\nother apps along with callback events. Android Go or Android 11 &amp;\nabove, this plugin shows notification bubble, in other android\nversions, it shows an overlay window.</p>\n</blockquote>\n"}],"owner":{"account_id":2563604,"reputation":4307,"user_id":2224226,"accept_rate":69,"display_name":"JayVDiyk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5202,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":64539580,"answer_count":2,"score":10,"last_activity_date":1685093620,"creation_date":1601908413,"question_id":64210724,"body_markdown":"Is it possible to make enable the &quot;Display Over Other Apps&quot; on an Android Flutter app ?\r\n\r\nWill bridging to the native Android API possible to enable this feature on Flutter apps? Can anyone elaborate on this please?","title":"Display Over Other Apps Using Flutter on Android","body":"<p>Is it possible to make enable the &quot;Display Over Other Apps&quot; on an Android Flutter app ?</p>\n<p>Will bridging to the native Android API possible to enable this feature on Flutter apps? Can anyone elaborate on this please?</p>\n"},{"tags":["java","amazon-web-services","aws-glue"],"comments":[{"owner":{"account_id":5438104,"reputation":4798,"user_id":4326922,"display_name":"Prabhakar Reddy"},"score":0,"creation_date":1659668616,"post_id":73243715,"comment_id":129354166,"body_markdown":"the UpdateTableRequest you are pointing is for a DDB table.You can simply do a get table and pass the same output as input to updatetable in glue with required changes.","body":"the UpdateTableRequest you are pointing is for a DDB table.You can simply do a get table and pass the same output as input to updatetable in glue with required changes."},{"owner":{"account_id":10921172,"reputation":89,"user_id":8027413,"accept_rate":60,"display_name":"Raj Malhotra"},"score":0,"creation_date":1659671519,"post_id":73243715,"comment_id":129354543,"body_markdown":"Yes, that&#39;s the current way I found. but that&#39;s too long tho. Requires something like tableInput.withName(table.getName()).withTableType(table.getTableType()).withStorageDescriptor(table.getStorageDescriptor()).withPartitionKeys(table.getPartitionKeys()).withParameters(table.getParameters())......","body":"Yes, that&#39;s the current way I found. but that&#39;s too long tho. Requires something like tableInput.withName(table.getName()).withTableType(table.get&zwnj;&#8203;TableType()).withSto&zwnj;&#8203;rageDescriptor(table&zwnj;&#8203;.getStorageDescripto&zwnj;&#8203;r()).withPartitionKe&zwnj;&#8203;ys(table.getPartitio&zwnj;&#8203;nKeys()).withParamet&zwnj;&#8203;ers(table.getParamet&zwnj;&#8203;ers())......"},{"owner":{"account_id":10921172,"reputation":89,"user_id":8027413,"accept_rate":60,"display_name":"Raj Malhotra"},"score":0,"creation_date":1659671547,"post_id":73243715,"comment_id":129354546,"body_markdown":"and all remaining field may also need to be added. Is there a better way ?","body":"and all remaining field may also need to be added. Is there a better way ?"},{"owner":{"account_id":5438104,"reputation":4798,"user_id":4326922,"display_name":"Prabhakar Reddy"},"score":0,"creation_date":1659671881,"post_id":73243715,"comment_id":129354598,"body_markdown":"all you need to is just append a column to existing [&#39;StorageDescriptor&#39;][&#39;Columns&#39;]","body":"all you need to is just append a column to existing [&#39;StorageDescriptor&#39;][&#39;Columns&#39;]"},{"owner":{"account_id":10921172,"reputation":89,"user_id":8027413,"accept_rate":60,"display_name":"Raj Malhotra"},"score":0,"creation_date":1659673644,"post_id":73243715,"comment_id":129354894,"body_markdown":"Can you share a code snippet please ?","body":"Can you share a code snippet please ?"}],"owner":{"account_id":10921172,"reputation":89,"user_id":8027413,"accept_rate":60,"display_name":"Raj Malhotra"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685093471,"creation_date":1659662507,"question_id":73243715,"body_markdown":"I am trying to modify existing Glue table columns and adding a single extra column to the table using Java sdk. &lt;br&gt; It requires passing [TableInput][1] object to [UpdateTableRequest][2]. However creating TableInput requires having almost all existing information the table even though just an extra column is to be added. There is no method to convert [Table][2] object to TableInput. &lt;br&gt; Is there a better and cleaner way to do simple modifications to existing table like add new column or new parameter ?\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/glue/model/TableInput.html\r\n  [2]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/model/UpdateTableRequest.html","title":"Add single column to a glue table from java sdk","body":"<p>I am trying to modify existing Glue table columns and adding a single extra column to the table using Java sdk. <br> It requires passing <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/glue/model/TableInput.html\" rel=\"nofollow noreferrer\">TableInput</a> object to <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/model/UpdateTableRequest.html\" rel=\"nofollow noreferrer\">UpdateTableRequest</a>. However creating TableInput requires having almost all existing information the table even though just an extra column is to be added. There is no method to convert <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/model/UpdateTableRequest.html\" rel=\"nofollow noreferrer\">Table</a> object to TableInput. <br> Is there a better and cleaner way to do simple modifications to existing table like add new column or new parameter ?</p>\n"},{"tags":["java","spring","junit","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1685064672,"post_id":76336626,"comment_id":134612566,"body_markdown":"Don&#39;t annotate with `@SpringBootTest`. `MyClass` has only one injected dependency, which you are mocking. Alternatively, change `@Mock` to `@MockBean`.","body":"Don&#39;t annotate with <code>@SpringBootTest</code>. <code>MyClass</code> has only one injected dependency, which you are mocking. Alternatively, change <code>@Mock</code> to <code>@MockBean</code>."},{"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"score":1,"creation_date":1685083127,"post_id":76336626,"comment_id":134614365,"body_markdown":"As for me, you need to remove 2 annoations  **@SpringBootTest** and **@MockitoSettings**. Then your mocks won&#39;t be null","body":"As for me, you need to remove 2 annoations  <b>@SpringBootTest</b> and <b>@MockitoSettings</b>. Then your mocks won&#39;t be null"}],"answers":[{"tags":[],"owner":{"account_id":103902,"reputation":791,"user_id":278060,"accept_rate":70,"display_name":"Harkonnen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685093077,"creation_date":1685093077,"answer_id":76339440,"question_id":76336626,"body_markdown":"The problem came from the @SpringBootTest annotation, which I had forgotten to delete.\r\n\r\nThanks to @tgdavies and @Feel free for pointing out this oversight.","title":"Mocked class equal to NULL in the tested class, but correct in the test","body":"<p>The problem came from the @SpringBootTest annotation, which I had forgotten to delete.</p>\n<p>Thanks to @tgdavies and @Feel free for pointing out this oversight.</p>\n"}],"owner":{"account_id":103902,"reputation":791,"user_id":278060,"accept_rate":70,"display_name":"Harkonnen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76339440,"answer_count":1,"score":0,"last_activity_date":1685093077,"creation_date":1685054371,"question_id":76336626,"body_markdown":"Here is the class I want to test:\r\n\r\n\r\n    public class MyClass {\r\n    \r\n       private final MyService myService;\r\n    \r\n       public MyClass(MyService myService) {\r\n          this.myService = myService;\r\n       }\r\n    \r\n       public BigDecimal doSomething(Long id) {\r\n          MyEntity myEntity = myService.getEntity(id);\r\n          MySubEntity mySubEntity = myEntity.getSubEntity();\r\n          Long myId = mySubEntity.getId();\r\n    \r\n          BigDecimal result = BigDecimal.ZERO;\r\n    \r\n          // misc operations\r\n    \r\n          return result;\r\n       }\r\n    }\r\n\r\n\r\nAnd here is the test class:\r\n\r\n\r\n    @SpringBootTest\r\n    @ExtendWith(MockitoExtension.class)\r\n    @MockitoSettings\r\n    public class MyClassTests {\r\n    \r\n       @Mock\r\n       private MyService myService;\r\n    \r\n    \r\n       @InjectMocks\r\n       private MyClass myClass;\r\n    \r\n    \r\n       @Test\r\n       public void testDoSomething() {\r\n    \r\n          // GIVEN\r\n          MyEntity myEntity = mock(MyEntity.class);\r\n          MySubEntity mySubEntity = mock(MySubEntity.class);\r\n    \r\n          BigDecimal result = new BigDecimal(&quot;3.1415926&quot;);\r\n    \r\n          // WHEN\r\n          when(myService.getEntity(any())).thenReturn(myEntity);\r\n          when(myEntity.getSubEntity()).thenReturn(mySubEntity);\r\n          when(mySubEntity.getId()).thenReturn(42L);\r\n    \r\n          // THEN\r\n          assertEquals(result, myClass.doSomething(36L));\r\n       }\r\n    }\r\n\r\n\r\nSince myService is a data access layer, I create a mock of it and inject it into MyClass. Then I mock the objects returned by myService.getEntity() and myEntity.getSubEntity().\r\n\r\n\r\nWhen I run this test, I get a NullPointerException. If I debug the MyClass class, I find that my myEntity variable is null despite being mocked, and yet the mock is returned in the first line of the WHEN.\r\n\r\nIt is only set to null in the MyClass class. Inside the test, this variable correctly refers to a mocked MyEntity object.\r\n\r\n\r\nDo you have any idea how I can fix this?","title":"Mocked class equal to NULL in the tested class, but correct in the test","body":"<p>Here is the class I want to test:</p>\n<pre><code>public class MyClass {\n\n   private final MyService myService;\n\n   public MyClass(MyService myService) {\n      this.myService = myService;\n   }\n\n   public BigDecimal doSomething(Long id) {\n      MyEntity myEntity = myService.getEntity(id);\n      MySubEntity mySubEntity = myEntity.getSubEntity();\n      Long myId = mySubEntity.getId();\n\n      BigDecimal result = BigDecimal.ZERO;\n\n      // misc operations\n\n      return result;\n   }\n}\n</code></pre>\n<p>And here is the test class:</p>\n<pre><code>@SpringBootTest\n@ExtendWith(MockitoExtension.class)\n@MockitoSettings\npublic class MyClassTests {\n\n   @Mock\n   private MyService myService;\n\n\n   @InjectMocks\n   private MyClass myClass;\n\n\n   @Test\n   public void testDoSomething() {\n\n      // GIVEN\n      MyEntity myEntity = mock(MyEntity.class);\n      MySubEntity mySubEntity = mock(MySubEntity.class);\n\n      BigDecimal result = new BigDecimal(&quot;3.1415926&quot;);\n\n      // WHEN\n      when(myService.getEntity(any())).thenReturn(myEntity);\n      when(myEntity.getSubEntity()).thenReturn(mySubEntity);\n      when(mySubEntity.getId()).thenReturn(42L);\n\n      // THEN\n      assertEquals(result, myClass.doSomething(36L));\n   }\n}\n</code></pre>\n<p>Since myService is a data access layer, I create a mock of it and inject it into MyClass. Then I mock the objects returned by myService.getEntity() and myEntity.getSubEntity().</p>\n<p>When I run this test, I get a NullPointerException. If I debug the MyClass class, I find that my myEntity variable is null despite being mocked, and yet the mock is returned in the first line of the WHEN.</p>\n<p>It is only set to null in the MyClass class. Inside the test, this variable correctly refers to a mocked MyEntity object.</p>\n<p>Do you have any idea how I can fix this?</p>\n"},{"tags":["java","modelmapper"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1685022272,"post_id":76332948,"comment_id":134605367,"body_markdown":"Does this answer your question? [ModelMapper skip a field](https://stackoverflow.com/questions/49074784/modelmapper-skip-a-field)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/49074784/modelmapper-skip-a-field\">ModelMapper skip a field</a>"},{"owner":{"account_id":26632345,"reputation":90,"user_id":20249350,"display_name":"Hassen Gaaya"},"score":0,"creation_date":1685093001,"post_id":76332948,"comment_id":134616283,"body_markdown":"Hello @daniu, i saw that question and i didn&#39;t find a satisfying answer","body":"Hello @daniu, i saw that question and i didn&#39;t find a satisfying answer"}],"answers":[{"tags":[],"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685025080,"creation_date":1685023127,"answer_id":76333117,"question_id":76332948,"body_markdown":"As the [documentation][1] said, you could skip the property.\r\n\r\n    modelMapper.typeMap(User.class, UserDto.class).addMappings(mapper -&gt; mapper.skip(UserDto::setAddress));\r\n\r\n\r\n  [1]: http://modelmapper.org/user-manual/property-mapping/#skipping-properties","title":"How can i create two different map methods with ModelMapper for the same Source and Destination","body":"<p>As the <a href=\"http://modelmapper.org/user-manual/property-mapping/#skipping-properties\" rel=\"nofollow noreferrer\">documentation</a> said, you could skip the property.</p>\n<pre><code>modelMapper.typeMap(User.class, UserDto.class).addMappings(mapper -&gt; mapper.skip(UserDto::setAddress));\n</code></pre>\n"}],"owner":{"account_id":26632345,"reputation":90,"user_id":20249350,"display_name":"Hassen Gaaya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1685092935,"creation_date":1685021991,"question_id":76332948,"body_markdown":"Let&#39;s say i have the following classes \r\n\r\n    class User {\r\n       private String name:\r\n       private Address address;\r\n      // getters and setters\r\n    }\r\n\r\n    class UserDto {\r\n       private String name:\r\n       private Address address;\r\n      // getters and setters\r\n    }\r\n\r\nI already have created a [modelMapper][1] that allows me to do the following :\r\n\r\nUserDto userDto = modelMapper.map(user, UserDto.class); // this map function map every field in the User class to UserDto class\r\n\r\nAnd i would like to create a modelMapper that allows me to do the following :\r\n\r\nUserDto userDto = modelMapper.mapWithoutAddress(user, UserDto.class); // this map function map every field except the adress from the User class to UserDto class\r\n\r\nNB: i&#39;am using a ModelMapper Singleton, i&#39;m using the same instance in all my application.\r\n\r\n\r\n  [1]: https://modelmapper.org/","title":"How can i create two different map methods with ModelMapper for the same Source and Destination","body":"<p>Let's say i have the following classes</p>\n<pre><code>class User {\n   private String name:\n   private Address address;\n  // getters and setters\n}\n\nclass UserDto {\n   private String name:\n   private Address address;\n  // getters and setters\n}\n</code></pre>\n<p>I already have created a <a href=\"https://modelmapper.org/\" rel=\"nofollow noreferrer\">modelMapper</a> that allows me to do the following :</p>\n<p>UserDto userDto = modelMapper.map(user, UserDto.class); // this map function map every field in the User class to UserDto class</p>\n<p>And i would like to create a modelMapper that allows me to do the following :</p>\n<p>UserDto userDto = modelMapper.mapWithoutAddress(user, UserDto.class); // this map function map every field except the adress from the User class to UserDto class</p>\n<p>NB: i'am using a ModelMapper Singleton, i'm using the same instance in all my application.</p>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":140076,"reputation":14954,"user_id":346112,"accept_rate":97,"display_name":"Jim Tough"},"score":1,"creation_date":1291724262,"post_id":4374730,"comment_id":4766418,"body_markdown":"Good question, but you should change the title to &quot;How to check if a record exists using JPA&quot; or something similar.","body":"Good question, but you should change the title to &quot;How to check if a record exists using JPA&quot; or something similar."},{"owner":{"account_id":2200659,"reputation":357,"user_id":1945143,"display_name":"Maheshbabu Jammula"},"score":0,"creation_date":1507827001,"post_id":4374730,"comment_id":80376126,"body_markdown":"update: repository exist(id) method. repo.exist(id) returns true if record exist or else false","body":"update: repository exist(id) method. repo.exist(id) returns true if record exist or else false"}],"answers":[{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1291711267,"creation_date":1291711267,"answer_id":4374774,"question_id":4374730,"body_markdown":"If you just want to know whether the object exists, send a `SELECT COUNT` to your database. That will return 0 or 1.\r\n\r\nThe cost of the exception handling isn&#39;t that big (unless you do that millions of times during a normal operation), so I wouldn&#39;t bother.\r\n\r\nBut the code doesn&#39;t really reflect your intention. Since `getSingleResult()` calls `getResultList()` internally, it&#39;s clearer like so:\r\n\r\n    public boolean objExists(...) {\r\n        return getResultList(...).size() == 1;\r\n    }\r\n\r\nIf you query by object id and you have caching enabled, that will become a simple lookup in the cache if the object has already been loaded.","title":"How to check if a record exists using JPA","body":"<p>If you just want to know whether the object exists, send a <code>SELECT COUNT</code> to your database. That will return 0 or 1.</p>\n\n<p>The cost of the exception handling isn't that big (unless you do that millions of times during a normal operation), so I wouldn't bother.</p>\n\n<p>But the code doesn't really reflect your intention. Since <code>getSingleResult()</code> calls <code>getResultList()</code> internally, it's clearer like so:</p>\n\n<pre><code>public boolean objExists(...) {\n    return getResultList(...).size() == 1;\n}\n</code></pre>\n\n<p>If you query by object id and you have caching enabled, that will become a simple lookup in the cache if the object has already been loaded.</p>\n"},{"tags":[],"owner":{"account_id":47176,"reputation":33749,"user_id":139595,"accept_rate":88,"display_name":"J&#246;rn Horstmann"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1291711585,"creation_date":1291711585,"answer_id":4374818,"question_id":4374730,"body_markdown":"If you are searching by primary key you can also use `Entitymanger.find(entityClass, primaryKey)` which returns `null` when the entity does not exist.","title":"How to check if a record exists using JPA","body":"<p>If you are searching by primary key you can also use <code>Entitymanger.find(entityClass, primaryKey)</code> which returns <code>null</code> when the entity does not exist.</p>\n"},{"tags":[],"owner":{"account_id":130368,"reputation":2042,"user_id":329589,"display_name":"Radu"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1463999130,"creation_date":1430991924,"answer_id":30097404,"question_id":4374730,"body_markdown":"Try to avoid loading the entity into the session (`getSingleResult()`) just to check for it&#39;s existence. A count is better here. With the Criteria Query API it would look something like this:\r\n\r\n    public &lt;E extends AbstractEntity&gt; boolean exists(final Class&lt;E&gt; entityClass, final int id) {\r\n        final EntityManager em = getEntityManager();\r\n        final CriteriaBuilder cb = em.getCriteriaBuilder();\r\n\r\n        final CriteriaQuery&lt;Long&gt; cq = cb.createQuery(Long.class);\r\n        final Root&lt;E&gt; from = cq.from(entityClass);\r\n\r\n        cq.select(cb.count(from));\r\n        cq.where(cb.equal(from.get(AbstractEntity_.id), id));\r\n\r\n        final TypedQuery&lt;Long&gt; tq = em.createQuery(cq);\r\n        return tq.getSingleResult() &gt; 0;\r\n    }\r\n","title":"How to check if a record exists using JPA","body":"<p>Try to avoid loading the entity into the session (<code>getSingleResult()</code>) just to check for it's existence. A count is better here. With the Criteria Query API it would look something like this:</p>\n\n<pre><code>public &lt;E extends AbstractEntity&gt; boolean exists(final Class&lt;E&gt; entityClass, final int id) {\n    final EntityManager em = getEntityManager();\n    final CriteriaBuilder cb = em.getCriteriaBuilder();\n\n    final CriteriaQuery&lt;Long&gt; cq = cb.createQuery(Long.class);\n    final Root&lt;E&gt; from = cq.from(entityClass);\n\n    cq.select(cb.count(from));\n    cq.where(cb.equal(from.get(AbstractEntity_.id), id));\n\n    final TypedQuery&lt;Long&gt; tq = em.createQuery(cq);\n    return tq.getSingleResult() &gt; 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5111999,"reputation":7665,"user_id":4098311,"accept_rate":80,"display_name":"Halayem Anis"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1504088827,"creation_date":1504088827,"answer_id":45957967,"question_id":4374730,"body_markdown":"Simply use `count(e)` in your query, so no `NoResultException` will be thrown and you will avoid loading the entity object&lt;br /&gt;\r\nSo the Java code can be as follow:\r\n\r\n    public boolean isRecordExist() {\r\n        String query = &quot;select count(e) from YOUR_ENTITY e where ....&quot;;\r\n        // you will always get a single result\r\n        Long count = (Long) entityManager.createQuery( query ).getSingleResult();\r\n        return ( ( count.equals( 0L ) ) ? false : true );\r\n    }\r\n\r\nHope that helps someone :)","title":"How to check if a record exists using JPA","body":"<p>Simply use <code>count(e)</code> in your query, so no <code>NoResultException</code> will be thrown and you will avoid loading the entity object<br />\nSo the Java code can be as follow:</p>\n\n<pre><code>public boolean isRecordExist() {\n    String query = \"select count(e) from YOUR_ENTITY e where ....\";\n    // you will always get a single result\n    Long count = (Long) entityManager.createQuery( query ).getSingleResult();\n    return ( ( count.equals( 0L ) ) ? false : true );\n}\n</code></pre>\n\n<p>Hope that helps someone :)</p>\n"},{"tags":[],"owner":{"account_id":382672,"reputation":2994,"user_id":738048,"accept_rate":88,"display_name":"WizardsOfWor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1513207687,"creation_date":1513207687,"answer_id":47803664,"question_id":4374730,"body_markdown":"here is a generic approach to work with a type **T** and an arbitrary **ID** value \r\n\r\n    public boolean exists(Object key) { \r\n\t\tEntityManager entityManager = getEntityManager();\r\n\t\tMetamodel metamodel = entityManager.getMetamodel();\r\n\t\tEntityType&lt;T&gt; entity = metamodel.entity(entityClass);\r\n\t\tSingularAttribute&lt;T, ? extends Object&gt; declaredId = entity.getDeclaredId(key.getClass());\r\n\t\tCriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n\t\tjavax.persistence.criteria.CriteriaQuery&lt;T&gt; cq = cb.createQuery(entityClass);\r\n\t\tRoot&lt;T&gt; from = cq.from(entityClass);\r\n\t\tPredicate condition = cb.equal(from.get(declaredId), key);\r\n\t\tcq.where(condition);\r\n\t\tTypedQuery&lt;T&gt; q = entityManager.createQuery(cq);\r\n\t\treturn q.getResultList().size() &gt; 0; \r\n\t}","title":"How to check if a record exists using JPA","body":"<p>here is a generic approach to work with a type <strong>T</strong> and an arbitrary <strong>ID</strong> value </p>\n\n<pre><code>public boolean exists(Object key) { \n    EntityManager entityManager = getEntityManager();\n    Metamodel metamodel = entityManager.getMetamodel();\n    EntityType&lt;T&gt; entity = metamodel.entity(entityClass);\n    SingularAttribute&lt;T, ? extends Object&gt; declaredId = entity.getDeclaredId(key.getClass());\n    CriteriaBuilder cb = entityManager.getCriteriaBuilder();\n    javax.persistence.criteria.CriteriaQuery&lt;T&gt; cq = cb.createQuery(entityClass);\n    Root&lt;T&gt; from = cq.from(entityClass);\n    Predicate condition = cb.equal(from.get(declaredId), key);\n    cq.where(condition);\n    TypedQuery&lt;T&gt; q = entityManager.createQuery(cq);\n    return q.getResultList().size() &gt; 0; \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17522670,"reputation":11,"user_id":12708352,"display_name":"Van Tyc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581144167,"creation_date":1581144167,"answer_id":60124562,"question_id":4374730,"body_markdown":" Try this   \r\n\r\n    public boolean exists(Object id){\r\n        return getEntityManager().find(entityClass, id)!=null;\r\n    }","title":"How to check if a record exists using JPA","body":"<p>Try this   </p>\n\n<pre><code>public boolean exists(Object id){\n    return getEntityManager().find(entityClass, id)!=null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8001381,"reputation":203,"user_id":6036094,"display_name":"Koen van der Marel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652889860,"creation_date":1652889860,"answer_id":72292523,"question_id":4374730,"body_markdown":"A much easier solution to this problem is expanding the repository with a function of the return type `Optional&lt;Datatype&gt;`. Using this within a stream with a filter applied, you can easily check if the object exists with `.isPresent()`\r\n\r\nFor example: \r\n\r\n    public interface ChatArchiveRepo extends JpaRepository&lt;ChatArchive, Long&gt; {\r\n\r\n        List&lt;ChatArchive&gt; findByUsername(String username);\r\n\r\n        Optional&lt;ChatArchive&gt; findByConversationUid(String conversationUid);\r\n\r\n    }\r\n\r\nAnd within your function or stream:\r\n\r\n    .filter(conversation -&gt; !chatArchiveRepo.findByConversationUid(conversation.getUid()).isPresent())\r\n\r\n","title":"How to check if a record exists using JPA","body":"<p>A much easier solution to this problem is expanding the repository with a function of the return type <code>Optional&lt;Datatype&gt;</code>. Using this within a stream with a filter applied, you can easily check if the object exists with <code>.isPresent()</code></p>\n<p>For example:</p>\n<pre><code>public interface ChatArchiveRepo extends JpaRepository&lt;ChatArchive, Long&gt; {\n\n    List&lt;ChatArchive&gt; findByUsername(String username);\n\n    Optional&lt;ChatArchive&gt; findByConversationUid(String conversationUid);\n\n}\n</code></pre>\n<p>And within your function or stream:</p>\n<pre><code>.filter(conversation -&gt; !chatArchiveRepo.findByConversationUid(conversation.getUid()).isPresent())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11405681,"reputation":76,"user_id":8361202,"display_name":"Vinod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685092935,"creation_date":1664520779,"answer_id":73904999,"question_id":4374730,"body_markdown":"I would just add a custom method in jpa repository\r\n\r\n     @Query(&quot;SELECT COUNT(ID) FROM  &#39;name&#39; WHERE transactionId =:id&quot;)\r\n\r\n \r\n\r\n    int findIfTxnPresentById(@Param(&quot;id&quot;) Long txnId);\r\n\r\n","title":"How to check if a record exists using JPA","body":"<p>I would just add a custom method in jpa repository</p>\n<pre><code> @Query(&quot;SELECT COUNT(ID) FROM  'name' WHERE transactionId =:id&quot;)\n\n\n\nint findIfTxnPresentById(@Param(&quot;id&quot;) Long txnId);\n</code></pre>\n"}],"owner":{"account_id":188555,"reputation":6379,"user_id":427321,"accept_rate":71,"display_name":"Bal&#225;zs N&#233;meth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98008,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":4374774,"answer_count":8,"score":36,"last_activity_date":1685092935,"creation_date":1291710955,"question_id":4374730,"body_markdown":"\r\n\r\nI want to know whether a given record is present in a database or not. so far I have achieved this by writing a JPA query and the running it by `getSingleResult()` method. this would throw a `NoResultException` if the record with the given parameter does not exist. Of course, it&#39;s not a must for the record to exist, so it&#39;s the normal behaviour sometimes, that&#39;s why I asked to myself, is it neccessary to throw an Exception which I have to handle by a catch block? As far as I know the cost of Exception handling is quite big, so I&#39;m not very satisfied with this solution, also, I don&#39;t even need the object, I only need to know it&#39;s existence in the DB.\r\n\r\nIs there a better way to check whether an object exist or not? eg.  using `getResultList()` and checking it&#39;s size maybe? ","title":"How to check if a record exists using JPA","body":"<p>I want to know whether a given record is present in a database or not. so far I have achieved this by writing a JPA query and the running it by <code>getSingleResult()</code> method. this would throw a <code>NoResultException</code> if the record with the given parameter does not exist. Of course, it's not a must for the record to exist, so it's the normal behaviour sometimes, that's why I asked to myself, is it neccessary to throw an Exception which I have to handle by a catch block? As far as I know the cost of Exception handling is quite big, so I'm not very satisfied with this solution, also, I don't even need the object, I only need to know it's existence in the DB.</p>\n\n<p>Is there a better way to check whether an object exist or not? eg.  using <code>getResultList()</code> and checking it's size maybe? </p>\n"},{"tags":["java","events","microservices","keycloak"],"comments":[{"owner":{"account_id":12058536,"reputation":474,"user_id":8818406,"display_name":"csbrogi"},"score":0,"creation_date":1685522743,"post_id":76339329,"comment_id":134670549,"body_markdown":"Are you running your keycloak-server in a docker-container?","body":"Are you running your keycloak-server in a docker-container?"}],"owner":{"account_id":27089847,"reputation":17,"user_id":20637812,"display_name":"pawello12"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685092334,"creation_date":1685092210,"question_id":76339329,"body_markdown":"I am trying to send an event from a keycloak to an endpoint to another microservice, when i try `SimpleHttp.doPost()` returns me connection refused. The endpoint itself works fine, so there must be something missing in the keycloak. Does anyone know why this is happening? Maybe I should add some configuration? \r\n\r\n\r\n    @JBossLog\r\n    public class HttpSenderEventListenerProvider implements EventListenerProvider {\r\n    \r\n      protected static final String TARGET_URI = &quot;http://localhost:1010/my-service/event&quot;;\r\n      protected final KeycloakSession session;\r\n    \r\n      private Set&lt;EventType&gt; excludedEvents;\r\n    \r\n      private Set&lt;OperationType&gt; excludedAdminOperations;\r\n    \r\n      public HttpSenderEventListenerProvider(KeycloakSession session, Set&lt;EventType&gt; excludedEvents, Set&lt;OperationType&gt; excludedAdminOpearations) {\r\n        this.session = session;\r\n        this.excludedEvents = excludedEvents;\r\n        this.excludedAdminOperations = excludedAdminOpearations;\r\n      }\r\n    \r\n      @Override\r\n      public void onEvent(Event event) {\r\n        try {\r\n          testConnection(event);\r\n        } catch (IOException e) {\r\n          throw new RuntimeException(e);\r\n        }\r\n    \r\n      }\r\n    \r\n      @Override\r\n      public void onEvent(AdminEvent event, boolean b) {\r\n        try {\r\n          testConnectionAdmin(event);\r\n        } catch (IOException e) {\r\n          throw new RuntimeException(e);\r\n        }\r\n      }\r\n    \r\n      @Override\r\n      public void close() {\r\n        // close this instance of the event listener\r\n      }\r\n    \r\n      private void testConnection(Event event) throws IOException{\r\n        SimpleHttp request = SimpleHttp.doPost(TARGET_URI, session).json(event);\r\n        SimpleHttp.Response response = request.asResponse();\r\n        int status = response.getStatus();\r\n      }\r\n    \r\n      private void testConnectionAdmin(AdminEvent event) throws IOException{\r\n        SimpleHttp request = SimpleHttp.doPost(TARGET_URI, session).json(event);\r\n        SimpleHttp.Response response = request.asResponse();\r\n        int status = response.getStatus();\r\n      }\r\n    }\r\n\r\n    public class EventListenerProviderFactoryImpl implements EventListenerProviderFactory {\r\n    \r\n        private Set&lt;EventType&gt; excludedEvents;\r\n        private Set&lt;OperationType&gt; excludedAdminOperations;\r\n    \r\n        @Override\r\n        public EventListenerProvider create(KeycloakSession session) {\r\n            return new HttpSenderEventListenerProvider(session, excludedEvents, excludedAdminOperations);\r\n        }\r\n    \r\n    {...}\r\n    \r\n        @Override\r\n        public String getId() {\r\n            return &quot;sysout&quot;;\r\n        }\r\n    }","title":"Connection refused when trying to send an event from keycloak","body":"<p>I am trying to send an event from a keycloak to an endpoint to another microservice, when i try <code>SimpleHttp.doPost()</code> returns me connection refused. The endpoint itself works fine, so there must be something missing in the keycloak. Does anyone know why this is happening? Maybe I should add some configuration?</p>\n<pre><code>@JBossLog\npublic class HttpSenderEventListenerProvider implements EventListenerProvider {\n\n  protected static final String TARGET_URI = &quot;http://localhost:1010/my-service/event&quot;;\n  protected final KeycloakSession session;\n\n  private Set&lt;EventType&gt; excludedEvents;\n\n  private Set&lt;OperationType&gt; excludedAdminOperations;\n\n  public HttpSenderEventListenerProvider(KeycloakSession session, Set&lt;EventType&gt; excludedEvents, Set&lt;OperationType&gt; excludedAdminOpearations) {\n    this.session = session;\n    this.excludedEvents = excludedEvents;\n    this.excludedAdminOperations = excludedAdminOpearations;\n  }\n\n  @Override\n  public void onEvent(Event event) {\n    try {\n      testConnection(event);\n    } catch (IOException e) {\n      throw new RuntimeException(e);\n    }\n\n  }\n\n  @Override\n  public void onEvent(AdminEvent event, boolean b) {\n    try {\n      testConnectionAdmin(event);\n    } catch (IOException e) {\n      throw new RuntimeException(e);\n    }\n  }\n\n  @Override\n  public void close() {\n    // close this instance of the event listener\n  }\n\n  private void testConnection(Event event) throws IOException{\n    SimpleHttp request = SimpleHttp.doPost(TARGET_URI, session).json(event);\n    SimpleHttp.Response response = request.asResponse();\n    int status = response.getStatus();\n  }\n\n  private void testConnectionAdmin(AdminEvent event) throws IOException{\n    SimpleHttp request = SimpleHttp.doPost(TARGET_URI, session).json(event);\n    SimpleHttp.Response response = request.asResponse();\n    int status = response.getStatus();\n  }\n}\n\npublic class EventListenerProviderFactoryImpl implements EventListenerProviderFactory {\n\n    private Set&lt;EventType&gt; excludedEvents;\n    private Set&lt;OperationType&gt; excludedAdminOperations;\n\n    @Override\n    public EventListenerProvider create(KeycloakSession session) {\n        return new HttpSenderEventListenerProvider(session, excludedEvents, excludedAdminOperations);\n    }\n\n{...}\n\n    @Override\n    public String getId() {\n        return &quot;sysout&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","google-sheets","playframework","google-drive-api","google-sheets-api"],"owner":{"account_id":21769145,"reputation":1,"user_id":16072500,"display_name":"George Middletown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685091897,"creation_date":1685091897,"question_id":76339289,"body_markdown":"I am looking for a way to write a function in Java that is called to upload a newly created  .xlsx file to Google Sheets. I could not find any solution to upload the file directly to Google Sheets and it was not even mentioned in the Google Sheets API docs. Is there any other way to handle this other than writing the sheet to the Google Spreadsheet cell by cell or uploading the file to Google Drive and than redirect it to Google Spreadsheets?","title":"Uploading a file to Google Sheets using the Java API","body":"<p>I am looking for a way to write a function in Java that is called to upload a newly created  .xlsx file to Google Sheets. I could not find any solution to upload the file directly to Google Sheets and it was not even mentioned in the Google Sheets API docs. Is there any other way to handle this other than writing the sheet to the Google Spreadsheet cell by cell or uploading the file to Google Drive and than redirect it to Google Spreadsheets?</p>\n"},{"tags":["java","spring-boot","authentication","email","smtp"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1685090275,"post_id":76339045,"comment_id":134615714,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551) Instead, edit your question to include the code as properly formatted text.","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a> Instead, edit your question to include the code as properly formatted text."},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1685109957,"post_id":76339045,"comment_id":134619981,"body_markdown":"Set the starttls.enable to true instead of false, and if authentication fails, you&#39;re either using the wrong username and password, or the wrong authentication mechanism.","body":"Set the starttls.enable to true instead of false, and if authentication fails, you&#39;re either using the wrong username and password, or the wrong authentication mechanism."}],"owner":{"account_id":27025997,"reputation":21,"user_id":20583262,"display_name":"abdulsatar sayed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1685091634,"creation_date":1685089911,"question_id":76339045,"body_markdown":"I am trying to send email from my companyhost to the customer via my customer management system.\r\ni use springboot and yaml configs. When I use the configurations via vm Options then it works correctly.\r\n[vm option](https://i.stack.imgur.com/s7ea6.png)\r\n\r\nBut when I use the same configuration via yaml file I get two different errors based on the port number I use.\r\n```yaml\r\n  mail:\r\n    host: mail.test.de\r\n# i tried port 25, 587, 465\r\n    port: 25\r\n    username: myuser\r\n    password: mypassword\r\n    protocol: smtp\r\n    properties:\r\n      mail:\r\n        smtp:\r\n          auth: true\r\n          starttls:\r\n           enable: false\r\n```\r\n**Error 1 with port number 25:**  \r\nAuthentication failed  \r\n**Error 2 with port number 587:**  \r\norg.springframework.mail.MailSendException: Failed messages: com.sun.mail.smtp.SMTPSendFailedException: 454 4.7.0 STARTTLS required ; message exceptions (1) are:\r\nFailed message 1: com.sun.mail.smtp.SMTPSendFailedException: 454 4.7.0 STARTTLS required\r\n\r\n\r\n\r\nI tried manipulating every single line of the configurations. port number, tls, username, password, host... didn&#39;t work either.","title":"I can&#39;t send emails from my Springboot app. If I use the configurations via vm options it works. but when I do the same via yaml file I get errors","body":"<p>I am trying to send email from my companyhost to the customer via my customer management system.\ni use springboot and yaml configs. When I use the configurations via vm Options then it works correctly.\n<a href=\"https://i.stack.imgur.com/s7ea6.png\" rel=\"nofollow noreferrer\">vm option</a></p>\n<p>But when I use the same configuration via yaml file I get two different errors based on the port number I use.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>  mail:\n    host: mail.test.de\n# i tried port 25, 587, 465\n    port: 25\n    username: myuser\n    password: mypassword\n    protocol: smtp\n    properties:\n      mail:\n        smtp:\n          auth: true\n          starttls:\n           enable: false\n</code></pre>\n<p><strong>Error 1 with port number 25:</strong><br />\nAuthentication failed<br />\n<strong>Error 2 with port number 587:</strong><br />\norg.springframework.mail.MailSendException: Failed messages: com.sun.mail.smtp.SMTPSendFailedException: 454 4.7.0 STARTTLS required ; message exceptions (1) are:\nFailed message 1: com.sun.mail.smtp.SMTPSendFailedException: 454 4.7.0 STARTTLS required</p>\n<p>I tried manipulating every single line of the configurations. port number, tls, username, password, host... didn't work either.</p>\n"},{"tags":["java","date","calendar","simpledateformat"],"comments":[{"owner":{"account_id":2217003,"reputation":7793,"user_id":1957346,"display_name":"Achrome"},"score":0,"creation_date":1360254981,"post_id":14755742,"comment_id":20652418,"body_markdown":"I think you would benefit from this. https://forums.oracle.com/forums/thread.jspa?threadID=2096000","body":"I think you would benefit from this. <a href=\"https://forums.oracle.com/forums/thread.jspa?threadID=2096000\" rel=\"nofollow noreferrer\">forums.oracle.com/forums/thread.jspa?threadID=2096000</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":4,"creation_date":1481764417,"post_id":14755742,"comment_id":69511608,"body_markdown":"Be aware that the `Calendar` &amp; `SimpleDateFormat` classes are now [legacy](https://en.wikipedia.org/wiki/Legacy_system). Supplanted by the [java.time](https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) classes. A modern approach uses the `LocalDate`, `ZoneId`, and `DateTimeFormatter` classes instead.","body":"Be aware that the <code>Calendar</code> &amp; <code>SimpleDateFormat</code> classes are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>. Supplanted by the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes. A modern approach uses the <code>LocalDate</code>, <code>ZoneId</code>, and <code>DateTimeFormatter</code> classes instead."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1622742772,"post_id":14755742,"comment_id":119886077,"body_markdown":"[Never use SimpleDateFormat or DateTimeFormatter without a Locale](https://stackoverflow.com/a/65544056/10819573)","body":"<a href=\"https://stackoverflow.com/a/65544056/10819573\">Never use SimpleDateFormat or DateTimeFormatter without a Locale</a>"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":48,"is_accepted":true,"score":48,"last_activity_date":1360253868,"creation_date":1360253868,"answer_id":14755785,"question_id":14755742,"body_markdown":"This is the problem:\r\n\r\n    &quot;dd-MMM-YYYY&quot;\r\n\r\n`YYYY` is the week-year, not the calendar year. You want `yyyy` instead.\r\n\r\nThe last two days of calendar year 2012 were in the first week of week-year 2013. You should normally only use the week year in conjunction with the &quot;week of year&quot; specifier (`w`).","title":"Java Date year calculation is off by year for two days","body":"<p>This is the problem:</p>\n\n<pre><code>\"dd-MMM-YYYY\"\n</code></pre>\n\n<p><code>YYYY</code> is the week-year, not the calendar year. You want <code>yyyy</code> instead.</p>\n\n<p>The last two days of calendar year 2012 were in the first week of week-year 2013. You should normally only use the week year in conjunction with the \"week of year\" specifier (<code>w</code>).</p>\n"},{"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1360254062,"creation_date":1360254062,"answer_id":14755853,"question_id":14755742,"body_markdown":"The problem lies in your date format string - year should be `yyyy` not `YYYY`.\r\n\r\nIf you print the value of `workingDate.getTime()` in each iteration of the loop, you&#39;ll see it has the expected values:\r\n\r\n    Thu Jan 03 11:19:33 EST 2013\r\n    Wed Jan 02 11:19:33 EST 2013\r\n    Tue Jan 01 11:19:33 EST 2013\r\n    Mon Dec 31 11:19:33 EST 2012\r\n    Sun Dec 30 11:19:33 EST 2012\r\n    Sat Dec 29 11:19:33 EST 2012\r\n    Fri Dec 28 11:19:33 EST 2012\r\n    Thu Dec 27 11:19:33 EST 2012\r\n    Wed Dec 26 11:19:33 EST 2012\r\n    Tue Dec 25 11:19:33 EST 2012\r\n\r\nTherefore the problem lies in the SimpleDateFormat usage.","title":"Java Date year calculation is off by year for two days","body":"<p>The problem lies in your date format string - year should be <code>yyyy</code> not <code>YYYY</code>.</p>\n\n<p>If you print the value of <code>workingDate.getTime()</code> in each iteration of the loop, you'll see it has the expected values:</p>\n\n<pre><code>Thu Jan 03 11:19:33 EST 2013\nWed Jan 02 11:19:33 EST 2013\nTue Jan 01 11:19:33 EST 2013\nMon Dec 31 11:19:33 EST 2012\nSun Dec 30 11:19:33 EST 2012\nSat Dec 29 11:19:33 EST 2012\nFri Dec 28 11:19:33 EST 2012\nThu Dec 27 11:19:33 EST 2012\nWed Dec 26 11:19:33 EST 2012\nTue Dec 25 11:19:33 EST 2012\n</code></pre>\n\n<p>Therefore the problem lies in the SimpleDateFormat usage.</p>\n"},{"tags":[],"owner":{"account_id":13598,"reputation":102599,"user_id":27439,"accept_rate":100,"display_name":"Vincent Ramdhanie"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1360254064,"creation_date":1360254064,"answer_id":14755855,"question_id":14755742,"body_markdown":"You need to use lower case y for the year. Try this:\r\n\r\n       SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MMM-yyyy&quot;);\r\n\r\n","title":"Java Date year calculation is off by year for two days","body":"<p>You need to use lower case y for the year. Try this:</p>\n\n<pre><code>   SimpleDateFormat dateFormat = new SimpleDateFormat(\"dd-MMM-yyyy\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":478084,"reputation":11443,"user_id":889945,"display_name":"aayoubi"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1685091559,"creation_date":1360254111,"answer_id":14755872,"question_id":14755742,"body_markdown":"I am assuming you are using Java 1.7.\r\n\r\nThe code snippet above will not work with Java 1.6 as `SimpleDateFormat(&quot;dd-MMM-YYYY&quot;)` will raise an `java.lang.IllegalArgumentException` (YYYY is not available in Java 1.6)\r\n\r\nYou need to use `yyyy` instead of `YYYY`.\r\n\r\n    Y -&gt; week-year\r\n    y -&gt; year\r\n\r\n[here](http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html)\r\n\r\nIt works great with `yyyy`:\r\n\r\n    $ java DateT\r\n    03-Jan-2013\r\n    02-Jan-2013\r\n    01-Jan-2013\r\n    31-Dec-2012\r\n    30-Dec-2012\r\n    29-Dec-2012\r\n    28-Dec-2012\r\n    27-Dec-2012\r\n    26-Dec-2012\r\n    25-Dec-2012\r\n\r\n","title":"Java Date year calculation is off by year for two days","body":"<p>I am assuming you are using Java 1.7.</p>\n<p>The code snippet above will not work with Java 1.6 as <code>SimpleDateFormat(&quot;dd-MMM-YYYY&quot;)</code> will raise an <code>java.lang.IllegalArgumentException</code> (YYYY is not available in Java 1.6)</p>\n<p>You need to use <code>yyyy</code> instead of <code>YYYY</code>.</p>\n<pre><code>Y -&gt; week-year\ny -&gt; year\n</code></pre>\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">here</a></p>\n<p>It works great with <code>yyyy</code>:</p>\n<pre><code>$ java DateT\n03-Jan-2013\n02-Jan-2013\n01-Jan-2013\n31-Dec-2012\n30-Dec-2012\n29-Dec-2012\n28-Dec-2012\n27-Dec-2012\n26-Dec-2012\n25-Dec-2012\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1496933794,"creation_date":1496931951,"answer_id":44438445,"question_id":14755742,"body_markdown":"For the sake of completeness, here’s the modern answer using `LocalDate` (as recommended by Basil Bourque in a comment).\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    public class DateT {\r\n    \r\n    \tprivate static DateTimeFormatter dateFormatter \r\n    \t\t\t= DateTimeFormatter.ofPattern(&quot;dd-MMM-uuuu&quot;, Locale.US);\r\n    \t\r\n    \tprivate static String getFormattedBackscanStartTime(int days) {\r\n    \t\treturn LocalDate.now(ZoneId.systemDefault()).minusDays(days).format(dateFormatter);\r\n    \t}\r\n    \r\n    \tpublic static void main(String args[]) {\r\n    \t\tfor(int i = 155; i &lt; 165; i++) {\r\n    \t\t\tSystem.out.println(getFormattedBackscanStartTime(i));\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nRunning this today I got\r\n\r\n    04-Jan-2017\r\n    03-Jan-2017\r\n    02-Jan-2017\r\n    01-Jan-2017\r\n    31-Dec-2016\r\n    30-Dec-2016\r\n    29-Dec-2016\r\n    28-Dec-2016\r\n    27-Dec-2016\r\n    26-Dec-2016\r\n\r\nA few things to note:\r\n\r\n - Give an explicit locale to your formatter to control the langauge of your output. Even if you just pass `Locale.getDefault()` you are telling the reader that you have thought about locale and made a decision.\r\n - Similarly give an explicit time zone to `LocalDate.now()` to tell the reader you’ve made a decision (for example `ZoneId.of(&quot;America/New_York&quot;)` for a specific time zone; `ZoneId.systemDefault()` for the JVM’s current time zone setting).\r\n - I find the code simpler and more straightforward than the code using the oldfashioned `Calendar` class. This is typical for the newer classes.\r\n - I have used `uuuu` for year. `yyyy` (lowercase) works too, there will only be a difference for years before the common era (AKA BC).","title":"Java Date year calculation is off by year for two days","body":"<p>For the sake of completeness, here’s the modern answer using <code>LocalDate</code> (as recommended by Basil Bourque in a comment).</p>\n\n<pre><code>import java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class DateT {\n\n    private static DateTimeFormatter dateFormatter \n            = DateTimeFormatter.ofPattern(\"dd-MMM-uuuu\", Locale.US);\n\n    private static String getFormattedBackscanStartTime(int days) {\n        return LocalDate.now(ZoneId.systemDefault()).minusDays(days).format(dateFormatter);\n    }\n\n    public static void main(String args[]) {\n        for(int i = 155; i &lt; 165; i++) {\n            System.out.println(getFormattedBackscanStartTime(i));\n        }\n    }\n}\n</code></pre>\n\n<p>Running this today I got</p>\n\n<pre><code>04-Jan-2017\n03-Jan-2017\n02-Jan-2017\n01-Jan-2017\n31-Dec-2016\n30-Dec-2016\n29-Dec-2016\n28-Dec-2016\n27-Dec-2016\n26-Dec-2016\n</code></pre>\n\n<p>A few things to note:</p>\n\n<ul>\n<li>Give an explicit locale to your formatter to control the langauge of your output. Even if you just pass <code>Locale.getDefault()</code> you are telling the reader that you have thought about locale and made a decision.</li>\n<li>Similarly give an explicit time zone to <code>LocalDate.now()</code> to tell the reader you’ve made a decision (for example <code>ZoneId.of(\"America/New_York\")</code> for a specific time zone; <code>ZoneId.systemDefault()</code> for the JVM’s current time zone setting).</li>\n<li>I find the code simpler and more straightforward than the code using the oldfashioned <code>Calendar</code> class. This is typical for the newer classes.</li>\n<li>I have used <code>uuuu</code> for year. <code>yyyy</code> (lowercase) works too, there will only be a difference for years before the common era (AKA BC).</li>\n</ul>\n"}],"owner":{"account_id":1413944,"reputation":59678,"user_id":1339987,"accept_rate":54,"display_name":"djechlin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6860,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":14755785,"answer_count":5,"score":18,"last_activity_date":1685091559,"creation_date":1360253701,"question_id":14755742,"body_markdown":"This caused a Y2K-style bug in my software if you can imagine.  Strange thing is the off-by-one year calculation only occurs for two days in the year, which I&#39;m less sure how to troubleshoot.\r\n\r\nThe output:\r\n\r\n    03-Jan-2013\r\n    02-Jan-2013\r\n    01-Jan-2013\r\n    31-Dec-2013 ** strange\r\n    30-Dec-2013 ** strange\r\n    29-Dec-2012\r\n    28-Dec-2012\r\n    27-Dec-2012\r\n    26-Dec-2012\r\n    25-Dec-2012\r\n\r\nI am not sure which part of the Java date utilities could cause such an error.\r\n\r\nThe code (since the test is so small I included a complete working program):\r\n\r\n\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    import java.text.SimpleDateFormat;\r\n    \r\n    public class DateT {\r\n    \r\n            private static String getFormattedBackscanStartTime(int days) {\r\n    \r\n                    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MMM-YYYY&quot;);\r\n                    Calendar workingDate = Calendar.getInstance();\r\n                    workingDate.add(Calendar.DATE, -1 * days);\r\n    \r\n                    String formattedStartTime = dateFormat.format(workingDate.getTime());\r\n                    return formattedStartTime;\r\n            }\r\n    \r\n            public static void main(String args[]) {\r\n    \r\n                    for(int i = 35; i &lt; 45; i++) {\r\n                            System.out.println(getFormattedBackscanStartTime(i));\r\n                    }\r\n            }\r\n    }\r\n","title":"Java Date year calculation is off by year for two days","body":"<p>This caused a Y2K-style bug in my software if you can imagine.  Strange thing is the off-by-one year calculation only occurs for two days in the year, which I'm less sure how to troubleshoot.</p>\n\n<p>The output:</p>\n\n<pre><code>03-Jan-2013\n02-Jan-2013\n01-Jan-2013\n31-Dec-2013 ** strange\n30-Dec-2013 ** strange\n29-Dec-2012\n28-Dec-2012\n27-Dec-2012\n26-Dec-2012\n25-Dec-2012\n</code></pre>\n\n<p>I am not sure which part of the Java date utilities could cause such an error.</p>\n\n<p>The code (since the test is so small I included a complete working program):</p>\n\n<pre><code>import java.util.Calendar;\nimport java.util.Date;\nimport java.text.SimpleDateFormat;\n\npublic class DateT {\n\n        private static String getFormattedBackscanStartTime(int days) {\n\n                SimpleDateFormat dateFormat = new SimpleDateFormat(\"dd-MMM-YYYY\");\n                Calendar workingDate = Calendar.getInstance();\n                workingDate.add(Calendar.DATE, -1 * days);\n\n                String formattedStartTime = dateFormat.format(workingDate.getTime());\n                return formattedStartTime;\n        }\n\n        public static void main(String args[]) {\n\n                for(int i = 35; i &lt; 45; i++) {\n                        System.out.println(getFormattedBackscanStartTime(i));\n                }\n        }\n}\n</code></pre>\n"},{"tags":["java","kotlin","micronaut"],"comments":[{"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"score":0,"creation_date":1684953618,"post_id":76322499,"comment_id":134594444,"body_markdown":"You are referring to the Micronaut docs. Can you please share the link with us? What cache do you use? Caffeine, Eh-Cache, …? Maybe you can share your build.gradle, this would provide additional insight about the projects dependencies","body":"You are referring to the Micronaut docs. Can you please share the link with us? What cache do you use? Caffeine, Eh-Cache, …? Maybe you can share your build.gradle, this would provide additional insight about the projects dependencies"},{"owner":{"account_id":14871028,"reputation":169,"user_id":10738536,"display_name":"Mohamed Niyaz"},"score":0,"creation_date":1684995281,"post_id":76322499,"comment_id":134599403,"body_markdown":"Unfortunately my build.gradle has a lot of dependencies , so will not be feasible to share. I am using this dependency ; implementation(&quot;io.micronaut.cache:micronaut-cache-core&quot;)\nMicronaut doc link: https://micronaut-projects.github.io/micronaut-cache/snapshot/guide/","body":"Unfortunately my build.gradle has a lot of dependencies , so will not be feasible to share. I am using this dependency ; implementation(&quot;io.micronaut.cache:micronaut-cache-core&quot;) Micronaut doc link: <a href=\"https://micronaut-projects.github.io/micronaut-cache/snapshot/guide/\" rel=\"nofollow noreferrer\">micronaut-projects.github.io/micronaut-cache/snapshot/guide</a>"},{"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"score":1,"creation_date":1685002604,"post_id":76322499,"comment_id":134600787,"body_markdown":"Cache-Core is just the core. You need a Cache implementation such as Caffeine. For example replace `io.micronaut.cache:micronaut-cache-core` with `io.micronaut.cache:micronaut-cache-caffeine`. Then your cache is backed by Caffeine and with knowing what you cache you&#39;re using, it can be told where the cache data gets persisted/stored.","body":"Cache-Core is just the core. You need a Cache implementation such as Caffeine. For example replace <code>io.micronaut.cache:micronaut-cache-core</code> with <code>io.micronaut.cache:micronaut-cache-caffeine</code>. Then your cache is backed by Caffeine and with knowing what you cache you&#39;re using, it can be told where the cache data gets persisted/stored."}],"answers":[{"tags":[],"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685091499,"creation_date":1685091499,"answer_id":76339233,"question_id":76322499,"body_markdown":"As mentioned in the comments above, you need to choose a caching library such as Caffeine, Eh-Cache, Hazelcast, … (see available caches in [Micronaut Cache documentation][1])\r\n\r\nIf you simply have `micronaut-cache-core` in your classpath, your application is not gonna have an caching functionality, since these are provided e.g. by `micronaut-cache-caffeine`.\r\n\r\n&gt; What is the default TTL (I have gone through docs but not able to find one)\r\n\r\nThis depends on what cache you are going to use. Micronauts Cache configuration provides the following two durations `expireAfterWrite` and `expireAfterAccess` (see [GitHub][2]). As fair as I know Caffeine, the default behaviour is that nothing is going to expire unless you configure it. Means your cache items live for ever.\r\n\r\n&gt; Where are the cached-items stored?\r\n\r\nFor Caffeine it is strictly in memory. Meaning if you choose Caffeine as your cache you lose the cache items when you restart your Micronaut application.\r\n\r\n&gt; What is meant as the retention-policy at docs having following enums: SOURCE, CLASS, RUNTIME\r\n\r\nThat question is a bit off topic, since it has nothing to do with caching. But I assume you&#39;re asking about Java&#39;s enum `java.lang.annotation.RetentionPolicy`. The Java enum is very well documented. Please take a look at the documentation.\r\n\r\n```java\r\npackage java.lang.annotation;\r\n\r\n/**\r\n * Annotation retention policy.  The constants of this enumerated class\r\n * describe the various policies for retaining annotations.  They are used\r\n * in conjunction with the {@link Retention} meta-annotation interface to\r\n * specify how long annotations are to be retained.\r\n *\r\n * @author  Joshua Bloch\r\n * @since 1.5\r\n */\r\npublic enum RetentionPolicy {\r\n    /**\r\n     * Annotations are to be discarded by the compiler.\r\n     */\r\n    SOURCE,\r\n\r\n    /**\r\n     * Annotations are to be recorded in the class file by the compiler\r\n     * but need not be retained by the VM at run time.  This is the default\r\n     * behavior.\r\n     */\r\n    CLASS,\r\n\r\n    /**\r\n     * Annotations are to be recorded in the class file by the compiler and\r\n     * retained by the VM at run time, so they may be read reflectively.\r\n     *\r\n     * @see java.lang.reflect.AnnotatedElement\r\n     */\r\n    RUNTIME\r\n}\r\n```\r\n\r\n\r\n  [1]: https://micronaut-projects.github.io/micronaut-cache/latest/guide/index.html\r\n  [2]: https://github.com/micronaut-projects/micronaut-cache/blob/v3.5.0/cache-core/src/main/java/io/micronaut/cache/CacheConfiguration.java#L57","title":"Micronaut&#39;s @Cacheable annotation TTL and Retention-Policy","body":"<p>As mentioned in the comments above, you need to choose a caching library such as Caffeine, Eh-Cache, Hazelcast, … (see available caches in <a href=\"https://micronaut-projects.github.io/micronaut-cache/latest/guide/index.html\" rel=\"nofollow noreferrer\">Micronaut Cache documentation</a>)</p>\n<p>If you simply have <code>micronaut-cache-core</code> in your classpath, your application is not gonna have an caching functionality, since these are provided e.g. by <code>micronaut-cache-caffeine</code>.</p>\n<blockquote>\n<p>What is the default TTL (I have gone through docs but not able to find one)</p>\n</blockquote>\n<p>This depends on what cache you are going to use. Micronauts Cache configuration provides the following two durations <code>expireAfterWrite</code> and <code>expireAfterAccess</code> (see <a href=\"https://github.com/micronaut-projects/micronaut-cache/blob/v3.5.0/cache-core/src/main/java/io/micronaut/cache/CacheConfiguration.java#L57\" rel=\"nofollow noreferrer\">GitHub</a>). As fair as I know Caffeine, the default behaviour is that nothing is going to expire unless you configure it. Means your cache items live for ever.</p>\n<blockquote>\n<p>Where are the cached-items stored?</p>\n</blockquote>\n<p>For Caffeine it is strictly in memory. Meaning if you choose Caffeine as your cache you lose the cache items when you restart your Micronaut application.</p>\n<blockquote>\n<p>What is meant as the retention-policy at docs having following enums: SOURCE, CLASS, RUNTIME</p>\n</blockquote>\n<p>That question is a bit off topic, since it has nothing to do with caching. But I assume you're asking about Java's enum <code>java.lang.annotation.RetentionPolicy</code>. The Java enum is very well documented. Please take a look at the documentation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package java.lang.annotation;\n\n/**\n * Annotation retention policy.  The constants of this enumerated class\n * describe the various policies for retaining annotations.  They are used\n * in conjunction with the {@link Retention} meta-annotation interface to\n * specify how long annotations are to be retained.\n *\n * @author  Joshua Bloch\n * @since 1.5\n */\npublic enum RetentionPolicy {\n    /**\n     * Annotations are to be discarded by the compiler.\n     */\n    SOURCE,\n\n    /**\n     * Annotations are to be recorded in the class file by the compiler\n     * but need not be retained by the VM at run time.  This is the default\n     * behavior.\n     */\n    CLASS,\n\n    /**\n     * Annotations are to be recorded in the class file by the compiler and\n     * retained by the VM at run time, so they may be read reflectively.\n     *\n     * @see java.lang.reflect.AnnotatedElement\n     */\n    RUNTIME\n}\n</code></pre>\n"}],"owner":{"account_id":14871028,"reputation":169,"user_id":10738536,"display_name":"Mohamed Niyaz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":482,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685091499,"creation_date":1684923898,"question_id":76322499,"body_markdown":"I am using Kotlin-Micronaut&#39;s cacheable annotation for a method that calls an API as below:\r\n\r\n```\r\n@Retryable(attempts = &quot;5&quot;, delay = &quot;20ms&quot;, multiplier = &quot;2.0&quot;)\r\n@Cacheable(value = [&quot;my-cache&quot;], parameters = [&quot;id&quot;])\r\n@Get(&quot;/fetch/mydata&quot;)\r\nfun fetchData() {\r\n   ....required confs for calling the api\r\n}\r\n```\r\nI need help understanding:\r\n\r\n 1. What is the default TTL (I have gone through docs but not able to find one)\r\n 2. What is meant as the retention-policy at docs having following enums: SOURCE, CLASS, RUNTIME\r\n 3. Where are the cached-items stored?\r\n\r\n\r\n\r\nAny help appreciated, thanks in advance!","title":"Micronaut&#39;s @Cacheable annotation TTL and Retention-Policy","body":"<p>I am using Kotlin-Micronaut's cacheable annotation for a method that calls an API as below:</p>\n<pre><code>@Retryable(attempts = &quot;5&quot;, delay = &quot;20ms&quot;, multiplier = &quot;2.0&quot;)\n@Cacheable(value = [&quot;my-cache&quot;], parameters = [&quot;id&quot;])\n@Get(&quot;/fetch/mydata&quot;)\nfun fetchData() {\n   ....required confs for calling the api\n}\n</code></pre>\n<p>I need help understanding:</p>\n<ol>\n<li>What is the default TTL (I have gone through docs but not able to find one)</li>\n<li>What is meant as the retention-policy at docs having following enums: SOURCE, CLASS, RUNTIME</li>\n<li>Where are the cached-items stored?</li>\n</ol>\n<p>Any help appreciated, thanks in advance!</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":19367899,"reputation":437,"user_id":14161743,"display_name":"BugsCreator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685089909,"creation_date":1685089909,"answer_id":76339043,"question_id":76336881,"body_markdown":"The error you are encountering is caused by assigning the same ID, **description_input_text_new_card_screen**, to both a MaterialTextView and a TextInputEditText in your XML layout. This leads to a class cast exception when trying to inflate the layout.\r\n\r\nTo resolve this issue, you need to assign different IDs to these two elements. Update the ID of either the MaterialTextView or the TextInputEditText in your XML layout to a unique ID.\r\n\r\nFor example, you can change the ID of the TextInputEditText to new_note_input_text_edit:","title":"com.google.android.material.textview.MaterialTextView cannot be cast to com.google.android.material.textfield.TextInputEditText","body":"<p>The error you are encountering is caused by assigning the same ID, <strong>description_input_text_new_card_screen</strong>, to both a MaterialTextView and a TextInputEditText in your XML layout. This leads to a class cast exception when trying to inflate the layout.</p>\n<p>To resolve this issue, you need to assign different IDs to these two elements. Update the ID of either the MaterialTextView or the TextInputEditText in your XML layout to a unique ID.</p>\n<p>For example, you can change the ID of the TextInputEditText to new_note_input_text_edit:</p>\n"}],"owner":{"account_id":28682132,"reputation":3,"user_id":21963103,"display_name":"Mike brian G. de O."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76339043,"answer_count":1,"score":0,"last_activity_date":1685089909,"creation_date":1685059196,"question_id":76336881,"body_markdown":"I am trying to use navigation components in my fragment but i am having problem inflating my layout using Binding.\r\nsee, this is my fragment xml and this is the `fragment.kt` code:\r\n\r\nthis is the error: \r\n\r\n&gt; com.google.android.material.textview.MaterialTextView cannot be cast\r\n&gt; to com.google.android.material.textfield.TextInputEditText\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@color/background_white_color&quot;\r\n    tools:context=&quot;.home.presentation.view.EditNoteScreen&quot;&gt;\r\n\r\n    &lt;com.google.android.material.textview.MaterialTextView\r\n        android:id=&quot;@+id/mine_notes_tittle_text_view&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;58dp&quot;\r\n        android:layout_marginTop=&quot;18dp&quot;\r\n        android:fontFamily=&quot;@font/roboto&quot;\r\n        android:text=&quot;@string/new_note&quot;\r\n        android:textColor=&quot;@color/grey_text&quot;\r\n        android:textSize=&quot;23sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:fontFamily=&quot;@font/roboto&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatButton\r\n        android:id=&quot;@+id/add_new_note_button_home_screen&quot;\r\n        android:layout_width=&quot;36dp&quot;\r\n        android:layout_height=&quot;36dp&quot;\r\n        android:layout_marginTop=&quot;16dp&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        android:background=&quot;@color/transparent_color&quot;\r\n        android:fontFamily=&quot;@font/roboto&quot;\r\n        android:src=&quot;@drawable/add_note_button_home_screen&quot;\r\n        android:text=&quot;@string/save&quot;\r\n        android:textAllCaps=&quot;false&quot;\r\n        android:textColor=&quot;@color/grey_text&quot;\r\n        android:textSize=&quot;14sp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_goneMarginEnd=&quot;16dp&quot;\r\n        app:layout_goneMarginTop=&quot;24sp&quot; /&gt;\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatImageButton\r\n        android:id=&quot;@+id/back_button_new_note_screen&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:background=&quot;@color/transparent_color&quot;\r\n        android:src=&quot;@drawable/back_button&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/mine_notes_tittle_text_view&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/mine_notes_tittle_text_view&quot; /&gt;\r\n\r\n    &lt;com.google.android.material.card.MaterialCardView\r\n        android:id=&quot;@+id/new_note_card_item&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:layout_marginTop=&quot;24dp&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        android:layout_marginBottom=&quot;12dp&quot;\r\n        android:backgroundTint=&quot;@color/lilac_color&quot;\r\n        android:clickable=&quot;true&quot;\r\n        android:focusable=&quot;true&quot;\r\n        android:theme=&quot;@style/CustomCardCorners&quot;\r\n        app:cardElevation=&quot;4dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/back_button_new_note_screen&quot;&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n            &lt;androidx.appcompat.widget.AppCompatTextView\r\n                android:id=&quot;@+id/newNote_cardTittle&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;@string/note_title&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:textSize=&quot;14sp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n            &lt;androidx.appcompat.widget.AppCompatTextView\r\n                android:id=&quot;@+id/newNote_cardDescription&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;8dp&quot;\r\n                android:layout_marginBottom=&quot;12dp&quot;\r\n                android:text=&quot;@string/description&quot;\r\n                android:textColor=&quot;@color/grey_text&quot;\r\n                android:textSize=&quot;12sp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/newNote_cardTittle&quot; /&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n    &lt;/com.google.android.material.card.MaterialCardView&gt;\r\n\r\n    &lt;com.google.android.material.textview.MaterialTextView\r\n        android:id=&quot;@+id/tittle_input_text_new_card_screen&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:layout_marginTop=&quot;24dp&quot;\r\n        android:text=&quot;@string/edit_text_tittle&quot;\r\n        android:textSize=&quot;12sp&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@+id/new_note_card_item&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/new_note_card_item&quot; /&gt;\r\n\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/new_note_input_tittle_edit_text&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        android:hint=&quot;@string/type_your_tittle&quot;\r\n        app:boxStrokeColor=&quot;@color/grey_text&quot;\r\n        app:counterEnabled=&quot;true&quot;\r\n        app:counterMaxLength=&quot;25&quot;\r\n        app:hintTextColor=&quot;@color/grey_text&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/tittle_input_text_new_card_screen&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:backgroundTint=&quot;@color/white&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/tittle_input_text_new_card_screen&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/tittle_input_text_new_card_screen&quot; /&gt;\r\n\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;com.google.android.material.textview.MaterialTextView\r\n        android:id=&quot;@+id/description_input_text_new_card_screen&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:layout_marginTop=&quot;24dp&quot;\r\n        android:text=&quot;@string/description_new_note_screen_tittle&quot;\r\n        android:textSize=&quot;12sp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@id/new_note_input_tittle_edit_text&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/new_note_input_tittle_edit_text&quot; /&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/new_note_input_description_edit_text&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        android:hint=&quot;@string/type_your_description&quot;\r\n        app:boxStrokeColor=&quot;@color/grey_text&quot;\r\n        app:counterEnabled=&quot;true&quot;\r\n        app:counterMaxLength=&quot;220&quot;\r\n        app:hintTextColor=&quot;@color/grey_text&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/description_input_text_new_card_screen&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:id=&quot;@id/description_input_text_new_card_screen&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;120dp&quot;\r\n            android:backgroundTint=&quot;@color/white&quot;\r\n            android:gravity=&quot;top|start&quot;\r\n            android:inputType=&quot;textMultiLine&quot;\r\n            android:minLines=&quot;2&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/tittle_input_text_new_card_screen&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/tittle_input_text_new_card_screen&quot; /&gt;\r\n\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatButton\r\n        android:id=&quot;@+id/new_note_baby_blue_button&quot;\r\n        android:layout_width=&quot;32dp&quot;\r\n        android:layout_height=&quot;32dp&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:background=&quot;@drawable/background_button_not_selected&quot;\r\n        android:backgroundTint=&quot;@color/blue_baby_color&quot;\r\n        android:backgroundTintMode=&quot;screen&quot;\r\n        android:focusable=&quot;true&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/new_note_input_description_edit_text&quot; /&gt;\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatButton\r\n        android:id=&quot;@+id/new_note_light_turquoise_button&quot;\r\n        android:layout_width=&quot;32dp&quot;\r\n        android:layout_height=&quot;32dp&quot;\r\n        android:layout_marginStart=&quot;8dp&quot;\r\n        android:background=&quot;@drawable/background_button_not_selected&quot;\r\n        android:backgroundTint=&quot;@color/turquoise_color&quot;\r\n        android:backgroundTintMode=&quot;screen&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@id/new_note_baby_blue_button&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/new_note_input_description_edit_text&quot; /&gt;\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatButton\r\n        android:id=&quot;@+id/new_note_pastel_purple_button&quot;\r\n        android:layout_width=&quot;32dp&quot;\r\n        android:layout_height=&quot;32dp&quot;\r\n        android:layout_marginStart=&quot;8dp&quot;\r\n        android:background=&quot;@drawable/background_button_not_selected&quot;\r\n        android:backgroundTint=&quot;@color/purple_color&quot;\r\n        android:backgroundTintMode=&quot;screen&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@id/new_note_light_turquoise_button&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/new_note_input_description_edit_text&quot; /&gt;\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatButton\r\n        android:id=&quot;@+id/new_note_pastel_lilac_button&quot;\r\n        android:layout_width=&quot;32dp&quot;\r\n        android:layout_height=&quot;32dp&quot;\r\n        android:layout_marginStart=&quot;8dp&quot;\r\n        android:background=&quot;@drawable/background_button_not_selected&quot;\r\n        android:backgroundTint=&quot;@color/lilac_color&quot;\r\n        android:backgroundTintMode=&quot;screen&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@id/new_note_pastel_purple_button&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/new_note_input_description_edit_text&quot; /&gt;\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatButton\r\n        android:id=&quot;@+id/new_note_pastel_pink_button&quot;\r\n        android:layout_width=&quot;32dp&quot;\r\n        android:layout_height=&quot;32dp&quot;\r\n        android:layout_marginStart=&quot;8dp&quot;\r\n        android:background=&quot;@drawable/background_button_not_selected&quot;\r\n        android:backgroundTint=&quot;@color/pink_color&quot;\r\n        android:backgroundTintMode=&quot;screen&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@id/new_note_pastel_lilac_button&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/new_note_input_description_edit_text&quot; /&gt;\r\n\r\n\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nmy fragment.kt:\r\n\r\n\r\n```\r\npackage com.example.notesapp.home.presentation.view\r\n\r\nimport android.os.Bundle\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport androidx.fragment.app.Fragment\r\nimport androidx.navigation.fragment.findNavController\r\nimport com.example.notesapp.R\r\nimport com.example.notesapp.databinding.FragmentNewNoteScreenBinding\r\n\r\n\r\nclass NewNoteScreen : Fragment(R.layout.fragment_new_note_screen) {\r\n    private lateinit var binding: FragmentNewNoteScreenBinding\r\n\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        arguments?.let {\r\n\r\n        }\r\n    }\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View {\r\n        binding = FragmentNewNoteScreenBinding.inflate(layoutInflater, container, false)\r\n\r\n        setListener()\r\n\r\n        return binding.root\r\n    }\r\n\r\n\r\n    private fun setListener() {\r\n        binding.run {\r\n            backButtonNewNoteScreen.setOnClickListener {\r\n                findNavController().navigate(R.id.action_newNoteScreen_to_homeScreenfragment)\r\n            }\r\n        }\r\n    }\r\n\r\n    companion object {\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI would like to know why the error is and how to resolve it so I can continue coding my application.","title":"com.google.android.material.textview.MaterialTextView cannot be cast to com.google.android.material.textfield.TextInputEditText","body":"<p>I am trying to use navigation components in my fragment but i am having problem inflating my layout using Binding.\nsee, this is my fragment xml and this is the <code>fragment.kt</code> code:</p>\n<p>this is the error:</p>\n<blockquote>\n<p>com.google.android.material.textview.MaterialTextView cannot be cast\nto com.google.android.material.textfield.TextInputEditText</p>\n</blockquote>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@color/background_white_color&quot;\n    tools:context=&quot;.home.presentation.view.EditNoteScreen&quot;&gt;\n\n    &lt;com.google.android.material.textview.MaterialTextView\n        android:id=&quot;@+id/mine_notes_tittle_text_view&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;58dp&quot;\n        android:layout_marginTop=&quot;18dp&quot;\n        android:fontFamily=&quot;@font/roboto&quot;\n        android:text=&quot;@string/new_note&quot;\n        android:textColor=&quot;@color/grey_text&quot;\n        android:textSize=&quot;23sp&quot;\n        android:textStyle=&quot;bold&quot;\n        app:fontFamily=&quot;@font/roboto&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatButton\n        android:id=&quot;@+id/add_new_note_button_home_screen&quot;\n        android:layout_width=&quot;36dp&quot;\n        android:layout_height=&quot;36dp&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:background=&quot;@color/transparent_color&quot;\n        android:fontFamily=&quot;@font/roboto&quot;\n        android:src=&quot;@drawable/add_note_button_home_screen&quot;\n        android:text=&quot;@string/save&quot;\n        android:textAllCaps=&quot;false&quot;\n        android:textColor=&quot;@color/grey_text&quot;\n        android:textSize=&quot;14sp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_goneMarginEnd=&quot;16dp&quot;\n        app:layout_goneMarginTop=&quot;24sp&quot; /&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatImageButton\n        android:id=&quot;@+id/back_button_new_note_screen&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:background=&quot;@color/transparent_color&quot;\n        android:src=&quot;@drawable/back_button&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/mine_notes_tittle_text_view&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;@+id/mine_notes_tittle_text_view&quot; /&gt;\n\n    &lt;com.google.android.material.card.MaterialCardView\n        android:id=&quot;@+id/new_note_card_item&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:layout_marginTop=&quot;24dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:layout_marginBottom=&quot;12dp&quot;\n        android:backgroundTint=&quot;@color/lilac_color&quot;\n        android:clickable=&quot;true&quot;\n        android:focusable=&quot;true&quot;\n        android:theme=&quot;@style/CustomCardCorners&quot;\n        app:cardElevation=&quot;4dp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/back_button_new_note_screen&quot;&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;&gt;\n\n            &lt;androidx.appcompat.widget.AppCompatTextView\n                android:id=&quot;@+id/newNote_cardTittle&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;@string/note_title&quot;\n                android:textColor=&quot;@color/black&quot;\n                android:textSize=&quot;14sp&quot;\n                android:textStyle=&quot;bold&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n            &lt;androidx.appcompat.widget.AppCompatTextView\n                android:id=&quot;@+id/newNote_cardDescription&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;8dp&quot;\n                android:layout_marginBottom=&quot;12dp&quot;\n                android:text=&quot;@string/description&quot;\n                android:textColor=&quot;@color/grey_text&quot;\n                android:textSize=&quot;12sp&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/newNote_cardTittle&quot; /&gt;\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n    &lt;/com.google.android.material.card.MaterialCardView&gt;\n\n    &lt;com.google.android.material.textview.MaterialTextView\n        android:id=&quot;@+id/tittle_input_text_new_card_screen&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:layout_marginTop=&quot;24dp&quot;\n        android:text=&quot;@string/edit_text_tittle&quot;\n        android:textSize=&quot;12sp&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/new_note_card_item&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/new_note_card_item&quot; /&gt;\n\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/new_note_input_tittle_edit_text&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:hint=&quot;@string/type_your_tittle&quot;\n        app:boxStrokeColor=&quot;@color/grey_text&quot;\n        app:counterEnabled=&quot;true&quot;\n        app:counterMaxLength=&quot;25&quot;\n        app:hintTextColor=&quot;@color/grey_text&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/tittle_input_text_new_card_screen&quot;&gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:backgroundTint=&quot;@color/white&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/tittle_input_text_new_card_screen&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@id/tittle_input_text_new_card_screen&quot; /&gt;\n\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;com.google.android.material.textview.MaterialTextView\n        android:id=&quot;@+id/description_input_text_new_card_screen&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:layout_marginTop=&quot;24dp&quot;\n        android:text=&quot;@string/description_new_note_screen_tittle&quot;\n        android:textSize=&quot;12sp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;@id/new_note_input_tittle_edit_text&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/new_note_input_tittle_edit_text&quot; /&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/new_note_input_description_edit_text&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:hint=&quot;@string/type_your_description&quot;\n        app:boxStrokeColor=&quot;@color/grey_text&quot;\n        app:counterEnabled=&quot;true&quot;\n        app:counterMaxLength=&quot;220&quot;\n        app:hintTextColor=&quot;@color/grey_text&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/description_input_text_new_card_screen&quot;&gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:id=&quot;@id/description_input_text_new_card_screen&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;120dp&quot;\n            android:backgroundTint=&quot;@color/white&quot;\n            android:gravity=&quot;top|start&quot;\n            android:inputType=&quot;textMultiLine&quot;\n            android:minLines=&quot;2&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/tittle_input_text_new_card_screen&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@id/tittle_input_text_new_card_screen&quot; /&gt;\n\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatButton\n        android:id=&quot;@+id/new_note_baby_blue_button&quot;\n        android:layout_width=&quot;32dp&quot;\n        android:layout_height=&quot;32dp&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:background=&quot;@drawable/background_button_not_selected&quot;\n        android:backgroundTint=&quot;@color/blue_baby_color&quot;\n        android:backgroundTintMode=&quot;screen&quot;\n        android:focusable=&quot;true&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/new_note_input_description_edit_text&quot; /&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatButton\n        android:id=&quot;@+id/new_note_light_turquoise_button&quot;\n        android:layout_width=&quot;32dp&quot;\n        android:layout_height=&quot;32dp&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:background=&quot;@drawable/background_button_not_selected&quot;\n        android:backgroundTint=&quot;@color/turquoise_color&quot;\n        android:backgroundTintMode=&quot;screen&quot;\n        app:layout_constraintStart_toEndOf=&quot;@id/new_note_baby_blue_button&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/new_note_input_description_edit_text&quot; /&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatButton\n        android:id=&quot;@+id/new_note_pastel_purple_button&quot;\n        android:layout_width=&quot;32dp&quot;\n        android:layout_height=&quot;32dp&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:background=&quot;@drawable/background_button_not_selected&quot;\n        android:backgroundTint=&quot;@color/purple_color&quot;\n        android:backgroundTintMode=&quot;screen&quot;\n        app:layout_constraintStart_toEndOf=&quot;@id/new_note_light_turquoise_button&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/new_note_input_description_edit_text&quot; /&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatButton\n        android:id=&quot;@+id/new_note_pastel_lilac_button&quot;\n        android:layout_width=&quot;32dp&quot;\n        android:layout_height=&quot;32dp&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:background=&quot;@drawable/background_button_not_selected&quot;\n        android:backgroundTint=&quot;@color/lilac_color&quot;\n        android:backgroundTintMode=&quot;screen&quot;\n        app:layout_constraintStart_toEndOf=&quot;@id/new_note_pastel_purple_button&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/new_note_input_description_edit_text&quot; /&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatButton\n        android:id=&quot;@+id/new_note_pastel_pink_button&quot;\n        android:layout_width=&quot;32dp&quot;\n        android:layout_height=&quot;32dp&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:background=&quot;@drawable/background_button_not_selected&quot;\n        android:backgroundTint=&quot;@color/pink_color&quot;\n        android:backgroundTintMode=&quot;screen&quot;\n        app:layout_constraintStart_toEndOf=&quot;@id/new_note_pastel_lilac_button&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/new_note_input_description_edit_text&quot; /&gt;\n\n\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>my fragment.kt:</p>\n<pre><code>package com.example.notesapp.home.presentation.view\n\nimport android.os.Bundle\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport androidx.fragment.app.Fragment\nimport androidx.navigation.fragment.findNavController\nimport com.example.notesapp.R\nimport com.example.notesapp.databinding.FragmentNewNoteScreenBinding\n\n\nclass NewNoteScreen : Fragment(R.layout.fragment_new_note_screen) {\n    private lateinit var binding: FragmentNewNoteScreenBinding\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        arguments?.let {\n\n        }\n    }\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View {\n        binding = FragmentNewNoteScreenBinding.inflate(layoutInflater, container, false)\n\n        setListener()\n\n        return binding.root\n    }\n\n\n    private fun setListener() {\n        binding.run {\n            backButtonNewNoteScreen.setOnClickListener {\n                findNavController().navigate(R.id.action_newNoteScreen_to_homeScreenfragment)\n            }\n        }\n    }\n\n    companion object {\n\n    }\n}\n</code></pre>\n<p>I would like to know why the error is and how to resolve it so I can continue coding my application.</p>\n"},{"tags":["java","node.js","typescript","gradle","jsweet"],"owner":{"account_id":20698904,"reputation":23,"user_id":15198483,"display_name":"Puffel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685089763,"creation_date":1685089763,"question_id":76339024,"body_markdown":"I am currently trying to setup a gradle project using jsweet to automatically translate my java classes into typescript classes. I added the candy &#39;j4ts&#39; so classes like &#39;ArrayList&#39; for example are translated better in my typescript code. This works so far but now I have to use the &#39;commonjs&#39; module of jsweet. Now ArrayList is still translated into typescript code but inside the ts file I get the error &#39;Cannot find name &#39;ArrayList&#39;.&#39;.\r\nI am still a beginner in this, so I may have overlooked something important but I couldn&#39;t find out the problem by googling etc. I hope you have an idea, thanks!\r\n\r\nTo understand better what I mean, here is my build.gradle file:\r\n\r\n```\r\nbuildscript {\r\n    repositories {\r\n        mavenLocal()\r\n        mavenCentral()\r\n        maven {\r\n            url = uri(&quot;https://plugins.gradle.org/m2/&quot;)\r\n        }\r\n        maven { url &quot;https://repository.jsweet.org/artifactory/libs-release-local&quot; }\r\n        maven { url &quot;https://repository.jsweet.org/artifactory/libs-snapshot-local&quot; }\r\n        maven { url &quot;https://repository.jsweet.org/artifactory/plugins-release-local&quot; }\r\n        maven { url &quot;https://repository.jsweet.org/artifactory/plugins-snapshot-local&quot; }\r\n    }\r\n    dependencies {\r\n        classpath(&#39;org.jsweet:jsweet-gradle-plugin:3.1.0&#39;) {\r\n            transitive = true\r\n        }\r\n        classpath(&quot;com.github.node-gradle:gradle-node-plugin:5.0.0&quot;)\r\n    }\r\n}\r\n\r\nplugins{\r\n    id &quot;com.github.node-gradle.node&quot; version &quot;5.0.0&quot;\r\n}\r\n\r\n\r\napply plugin: &#39;java&#39;\r\napply plugin: &#39;org.jsweet.jsweet-gradle-plugin&#39;\r\napply plugin: &#39;com.github.node-gradle.node&#39;\r\n\r\n//mainClassName = &#39;hello.HelloWorld&#39;\r\n\r\nrepositories {\r\n    mavenLocal()\r\n    mavenCentral()\r\n    maven { url &quot;https://repository.jsweet.org/artifactory/libs-snapshot-local&quot; }\r\n    maven { url &quot;https://repository.jsweet.org/artifactory/libs-release-local&quot; }\r\n}\r\n\r\ncompileJava {\r\n    enabled = false\r\n}\r\n\r\njsweet {\r\n    verbose = true\r\n    encoding = &#39;UTF-8&#39;\r\n    sourceMap = true\r\n    tsOnly = true\r\n    tsOut = project.file(&#39;target/typescript&#39;)\r\n    module = &#39;commonjs&#39;\r\n    moduleResolution = &#39;node&#39;\r\n    outDir = project.file(&#39;target/javascript&#39;)\r\n    workingDir = project.file(&#39;target/workingDir&#39;)\r\n    candiesJsOut = project.file(&#39;target/candies&#39;)\r\n    targetVersion = &#39;ES6&#39;\r\n    includes = [&#39;**/*.java&#39;]\r\n}\r\n\r\n\r\nnode {\r\n    download = true\r\n    version = &quot;12.18.2&quot;\r\n}\r\n\r\nsourceCompatibility = 1.8\r\ntargetCompatibility = 1.8\r\n\r\ndependencies {\r\n    implementation group: &#39;org.jsweet&#39;, name: &#39;jsweet-core&#39;, version: &quot;6.3.0&quot;\r\n    implementation group: &#39;org.jsweet&#39;, name: &#39;j4ts&#39;, version: &#39;2.0.0&#39;\r\n    testImplementation &quot;junit:junit:4.12&quot;\r\n}\r\n\r\n\r\n\r\njar {\r\n    archiveBaseName = &#39;gs-gradle&#39;\r\n    archiveVersion =  &#39;0.1.0&#39;\r\n}\r\n```\r\n\r\n\r\nI tried to further configure jsweet in a way it would be accepting the classes provided by j4ts. The rest was trial and error which didn&#39;t help unfortunately.\r\nThe only thing I noticed was that without the commonjs module the java code is translated as follows:\r\n\r\nFrom\r\n` ArrayList&lt;String&gt; test = new ArrayList&lt;&gt;();` \r\n\r\nInto\r\n`const test: java.util.ArrayList&lt;string&gt; = &lt;any&gt;(new java.util.ArrayList&lt;any&gt;());`\r\n\r\nAnd with the commonjs module into:\r\n`const test: ArrayList&lt;string&gt; = &lt;any&gt;(new ArrayList&lt;any&gt;());`","title":"Using jsweet candies together with the jsweet module &#39;commonjs&#39; doesn&#39;t work: &#39;Cannot find name &#39;ArrayList&#39;.&#39;","body":"<p>I am currently trying to setup a gradle project using jsweet to automatically translate my java classes into typescript classes. I added the candy 'j4ts' so classes like 'ArrayList' for example are translated better in my typescript code. This works so far but now I have to use the 'commonjs' module of jsweet. Now ArrayList is still translated into typescript code but inside the ts file I get the error 'Cannot find name 'ArrayList'.'.\nI am still a beginner in this, so I may have overlooked something important but I couldn't find out the problem by googling etc. I hope you have an idea, thanks!</p>\n<p>To understand better what I mean, here is my build.gradle file:</p>\n<pre><code>buildscript {\n    repositories {\n        mavenLocal()\n        mavenCentral()\n        maven {\n            url = uri(&quot;https://plugins.gradle.org/m2/&quot;)\n        }\n        maven { url &quot;https://repository.jsweet.org/artifactory/libs-release-local&quot; }\n        maven { url &quot;https://repository.jsweet.org/artifactory/libs-snapshot-local&quot; }\n        maven { url &quot;https://repository.jsweet.org/artifactory/plugins-release-local&quot; }\n        maven { url &quot;https://repository.jsweet.org/artifactory/plugins-snapshot-local&quot; }\n    }\n    dependencies {\n        classpath('org.jsweet:jsweet-gradle-plugin:3.1.0') {\n            transitive = true\n        }\n        classpath(&quot;com.github.node-gradle:gradle-node-plugin:5.0.0&quot;)\n    }\n}\n\nplugins{\n    id &quot;com.github.node-gradle.node&quot; version &quot;5.0.0&quot;\n}\n\n\napply plugin: 'java'\napply plugin: 'org.jsweet.jsweet-gradle-plugin'\napply plugin: 'com.github.node-gradle.node'\n\n//mainClassName = 'hello.HelloWorld'\n\nrepositories {\n    mavenLocal()\n    mavenCentral()\n    maven { url &quot;https://repository.jsweet.org/artifactory/libs-snapshot-local&quot; }\n    maven { url &quot;https://repository.jsweet.org/artifactory/libs-release-local&quot; }\n}\n\ncompileJava {\n    enabled = false\n}\n\njsweet {\n    verbose = true\n    encoding = 'UTF-8'\n    sourceMap = true\n    tsOnly = true\n    tsOut = project.file('target/typescript')\n    module = 'commonjs'\n    moduleResolution = 'node'\n    outDir = project.file('target/javascript')\n    workingDir = project.file('target/workingDir')\n    candiesJsOut = project.file('target/candies')\n    targetVersion = 'ES6'\n    includes = ['**/*.java']\n}\n\n\nnode {\n    download = true\n    version = &quot;12.18.2&quot;\n}\n\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n\ndependencies {\n    implementation group: 'org.jsweet', name: 'jsweet-core', version: &quot;6.3.0&quot;\n    implementation group: 'org.jsweet', name: 'j4ts', version: '2.0.0'\n    testImplementation &quot;junit:junit:4.12&quot;\n}\n\n\n\njar {\n    archiveBaseName = 'gs-gradle'\n    archiveVersion =  '0.1.0'\n}\n</code></pre>\n<p>I tried to further configure jsweet in a way it would be accepting the classes provided by j4ts. The rest was trial and error which didn't help unfortunately.\nThe only thing I noticed was that without the commonjs module the java code is translated as follows:</p>\n<p>From\n<code> ArrayList&lt;String&gt; test = new ArrayList&lt;&gt;();</code></p>\n<p>Into\n<code>const test: java.util.ArrayList&lt;string&gt; = &lt;any&gt;(new java.util.ArrayList&lt;any&gt;());</code></p>\n<p>And with the commonjs module into:\n<code>const test: ArrayList&lt;string&gt; = &lt;any&gt;(new ArrayList&lt;any&gt;());</code></p>\n"},{"tags":["java","android","react-native","gradle","error-handling"],"owner":{"account_id":25790224,"reputation":133,"user_id":21109628,"display_name":"Gattu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685089595,"creation_date":1685089595,"question_id":76339003,"body_markdown":"**I&#39;m just creat a project with this cmd**  \r\n`npx react-native@latest init projectone`\r\n\r\n**then direct run project with this cmd**  \r\n`npx react-native run-android`\r\n\r\nbut after this it will give me like this error msg \r\n\r\n**error:**\r\n\r\ninfo JS server already running.\r\ninfo Installing the app...\r\n&gt; Task :app:checkDebugAarMetadata FAILED\r\n9 actionable tasks: 2 executed, 7 up-to-date\r\n\r\nFAILURE: Build completed with 2 failures.\r\n\r\n1: Task failed with an exception.\r\n-----------\r\n* What went wrong:\r\nExecution failed for task &#39;:app:checkDebugAarMetadata&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n   &gt; Failed to transform react-android-0.71.8-debug.aar (com.facebook.react:react-android:0.71.8) to match attributes {artifactType=android-aar-metadata, com.android.build.api.attributes.BuildTypeAttr=debug, org.gradle.category=library, org.gradle.dependency.bundling=external, org.gradle.libraryelements=aar, org.gradle.status=release, org.gradle.usage=java-runtime}.\r\n      &gt; Could not download react-android-0.71.8-debug.aar (com.facebook.react:react-android:0.71.8)\r\n         &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/com/facebook/react/react-android/0.71.8/react-android-0.71.8-debug.aar&#39;.\r\n            &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/com/facebook/react/react-android/0.71.8/react-android-0.71.8-debug.aar&#39;.\r\n               &gt; No such host is known (repo.maven.apache.org)\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace. \r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n==============================================================================\r\n\r\n2: Task failed with an exception.\r\n-----------\r\n* What went wrong:\r\njava.lang.StackOverflowError (no error message)        \r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace. \r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n==============================================================================\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 5s\r\n\r\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\r\nError: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081\r\n\r\nFAILURE: Build completed with 2 failures.\r\n\r\n1: Task failed with an exception.\r\nhe.org)\r\nhe.org)\r\n\r\nhe.org)\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n==============================================================================\r\n\r\n2: Task failed with an exception.\r\n-----------\r\n* What went wrong:\r\njava.lang.StackOverflowError (no error message)\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n==============================================================================\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 5s\r\n\r\n    at makeError (C:\\Users\\sapar\\OneDrive\\Desktop\\Project\\ReactNative\\projectone\\node_modules\\execa\\index.js:174:9)    at C:\\Users\\sapar\\OneDrive\\Desktop\\Project\\ReactNative\\projectone\\node_modules\\execa\\index.js:278:16       at process.processTicksAndRejections (node:internal/process/task_queues:95:5)    at async runOnAllDevices (C:\\Users\\sapar\\OneDrive\\Desktop\\Project\\ReactNative\\projectone\\node_modules\\@react-native-community\\cli-platform-android\\build\\commands\\runAndroid\\runOnAllDevices.js:82:7)    at async Command.handleAction (C:\\Users\\sapar\\OneDrive\\Desktop\\Project\\ReactNative\\projectone\\node_modules\\@react-native-community\\cli\\build\\index.js:108:9)\r\ninfo Run CLI with --verbose flag for more details.\r\nPS C:\\Users\\sapar\\OneDrive\\Desktop\\Project\\ReactNative\\projectone&gt;\r\n\r\n***how to solve this error please help me to solve this error***","title":"when me run my project its give me like this &quot;&gt; Task :app:checkDebugAarMetadata FAILED&quot;","body":"<p><strong>I'm just creat a project with this cmd</strong><br />\n<code>npx react-native@latest init projectone</code></p>\n<p><strong>then direct run project with this cmd</strong><br />\n<code>npx react-native run-android</code></p>\n<p>but after this it will give me like this error msg</p>\n<p><strong>error:</strong></p>\n<p>info JS server already running.\ninfo Installing the app...</p>\n<blockquote>\n<p>Task :app:checkDebugAarMetadata FAILED\n9 actionable tasks: 2 executed, 7 up-to-date</p>\n</blockquote>\n<p>FAILURE: Build completed with 2 failures.</p>\n<h2>1: Task failed with an exception.</h2>\n<ul>\n<li>What went wrong:\nExecution failed for task ':app:checkDebugAarMetadata'.</li>\n</ul>\n<blockquote>\n<p>Could not resolve all files for configuration ':app:debugRuntimeClasspath'.\nFailed to transform react-android-0.71.8-debug.aar (com.facebook.react:react-android:0.71.8) to match attributes {artifactType=android-aar-metadata, com.android.build.api.attributes.BuildTypeAttr=debug, org.gradle.category=library, org.gradle.dependency.bundling=external, org.gradle.libraryelements=aar, org.gradle.status=release, org.gradle.usage=java-runtime}.\n&gt; Could not download react-android-0.71.8-debug.aar (com.facebook.react:react-android:0.71.8)\n&gt; Could not get resource 'https://repo.maven.apache.org/maven2/com/facebook/react/react-android/0.71.8/react-android-0.71.8-debug.aar'.\n&gt; Could not GET 'https://repo.maven.apache.org/maven2/com/facebook/react/react-android/0.71.8/react-android-0.71.8-debug.aar'.\n&gt; No such host is known (repo.maven.apache.org)</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.\n==============================================================================</p>\n</blockquote>\n<h2>2: Task failed with an exception.</h2>\n<ul>\n<li><p>What went wrong:\njava.lang.StackOverflowError (no error message)</p>\n</li>\n<li><p>Try:</p>\n</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.\n==============================================================================</p>\n</blockquote>\n<ul>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></li>\n</ul>\n<p>BUILD FAILED in 5s</p>\n<p>error Failed to install the app. Make sure you have the Android development environment set up: <a href=\"https://reactnative.dev/docs/environment-setup\" rel=\"nofollow noreferrer\">https://reactnative.dev/docs/environment-setup</a>.\nError: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081</p>\n<p>FAILURE: Build completed with 2 failures.</p>\n<p>1: Task failed with an exception.\nhe.org)\nhe.org)</p>\n<p>he.org)</p>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.\n==============================================================================</p>\n</blockquote>\n<h2>2: Task failed with an exception.</h2>\n<ul>\n<li><p>What went wrong:\njava.lang.StackOverflowError (no error message)</p>\n</li>\n<li><p>Try:</p>\n</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.\n==============================================================================</p>\n</blockquote>\n<ul>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></li>\n</ul>\n<p>BUILD FAILED in 5s</p>\n<pre><code>at makeError (C:\\Users\\sapar\\OneDrive\\Desktop\\Project\\ReactNative\\projectone\\node_modules\\execa\\index.js:174:9)    at C:\\Users\\sapar\\OneDrive\\Desktop\\Project\\ReactNative\\projectone\\node_modules\\execa\\index.js:278:16       at process.processTicksAndRejections (node:internal/process/task_queues:95:5)    at async runOnAllDevices (C:\\Users\\sapar\\OneDrive\\Desktop\\Project\\ReactNative\\projectone\\node_modules\\@react-native-community\\cli-platform-android\\build\\commands\\runAndroid\\runOnAllDevices.js:82:7)    at async Command.handleAction (C:\\Users\\sapar\\OneDrive\\Desktop\\Project\\ReactNative\\projectone\\node_modules\\@react-native-community\\cli\\build\\index.js:108:9)\n</code></pre>\n<p>info Run CLI with --verbose flag for more details.\nPS C:\\Users\\sapar\\OneDrive\\Desktop\\Project\\ReactNative\\projectone&gt;</p>\n<p><em><strong>how to solve this error please help me to solve this error</strong></em></p>\n"},{"tags":["java","apache-spark","apache-spark-sql"],"comments":[{"owner":{"account_id":1369786,"reputation":73221,"user_id":1305344,"accept_rate":70,"display_name":"Jacek Laskowski"},"score":0,"creation_date":1684321214,"post_id":76259426,"comment_id":134500399,"body_markdown":"@OneCricketeer Please remove _&quot;1) You should use structured streaming if you want a schema, not RDD&quot;_ from the comment above. It&#39;s incorrect. Schema is for Spark SQL (that Structured Streaming uses under the covers).","body":"@OneCricketeer Please remove <i>&quot;1) You should use structured streaming if you want a schema, not RDD&quot;</i> from the comment above. It&#39;s incorrect. Schema is for Spark SQL (that Structured Streaming uses under the covers)."},{"owner":{"account_id":1369786,"reputation":73221,"user_id":1305344,"accept_rate":70,"display_name":"Jacek Laskowski"},"score":0,"creation_date":1684411487,"post_id":76259426,"comment_id":134515428,"body_markdown":"@OneCricketeer Not anymore &#128521;","body":"@OneCricketeer Not anymore 😉"}],"owner":{"account_id":12533976,"reputation":15,"user_id":9121198,"display_name":"Ajit Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685089467,"creation_date":1684211683,"question_id":76259426,"body_markdown":"I am not able to create schema for below in java\r\n\r\n\r\n```java\r\nJavaRDD&lt;Row&gt; newRdd = dataset.javaRDD().map(new Function&lt;Row, Row&gt;() {\r\n    @Override\r\n    public Row call(Row r) throws Exception {\r\n        String[] startLngLat = r.getString(7).split(&quot;,&quot;);\r\n        String[] endLngLat = r.getString(8).split(&quot;,&quot;);\r\n        \r\n        List&lt;List&lt;Double&gt;&gt; latLng = new ArrayList&lt;List&lt;Double&gt;&gt;();\r\n                \r\n        List&lt;Double&gt; latlon = new ArrayList&lt;Double&gt;();\r\n        latlon.add(Double.parseDouble(startLngLat[0]));\r\n        latlon.add(Double.parseDouble(startLngLat[1]));\r\n        latLng.add(latlon);\r\n        \r\n        List&lt;Double&gt; longlat = new ArrayList&lt;Double&gt;();\r\n        longlat.add(Double.parseDouble(endLngLat[0]));\r\n        longlat.add(Double.parseDouble(endLngLat[1]));\r\n        latLng.add(longlat);                                \r\n                       \r\n        HashMap&lt;String, String&gt; mapObj = new HashMap&lt;String, String&gt;();\r\n        mapObj.put(&quot;type&quot;, &quot;LineString&quot;);\r\n        mapObj.put(&quot;coordinates&quot;, latLng);\r\n        \r\n        Map&lt;String, Object&gt; geoMap = new HashMap&lt;String, Object&gt;();\r\n        geoMap.put(&quot;geom&quot;, mapObj);\r\n                \r\n        Integer cf = r.getInt(9);\r\n        Integer countryCode = r.getInt(10);\r\n        Integer frc = r.getInt(11);\t        \t\r\n        Row row = RowFactory.create(geoMap, cf, frc);\t        \t\r\n        return row;\r\n    }\r\n});\r\nDataset&lt;Row&gt; dataset1 = sparkSession.createDataFrame(newRdd, schema);\r\n```\r\n\r\n\r\n\r\n\r\n","title":"List of List schema in spark Java","body":"<p>I am not able to create schema for below in java</p>\n<pre class=\"lang-java prettyprint-override\"><code>JavaRDD&lt;Row&gt; newRdd = dataset.javaRDD().map(new Function&lt;Row, Row&gt;() {\n    @Override\n    public Row call(Row r) throws Exception {\n        String[] startLngLat = r.getString(7).split(&quot;,&quot;);\n        String[] endLngLat = r.getString(8).split(&quot;,&quot;);\n        \n        List&lt;List&lt;Double&gt;&gt; latLng = new ArrayList&lt;List&lt;Double&gt;&gt;();\n                \n        List&lt;Double&gt; latlon = new ArrayList&lt;Double&gt;();\n        latlon.add(Double.parseDouble(startLngLat[0]));\n        latlon.add(Double.parseDouble(startLngLat[1]));\n        latLng.add(latlon);\n        \n        List&lt;Double&gt; longlat = new ArrayList&lt;Double&gt;();\n        longlat.add(Double.parseDouble(endLngLat[0]));\n        longlat.add(Double.parseDouble(endLngLat[1]));\n        latLng.add(longlat);                                \n                       \n        HashMap&lt;String, String&gt; mapObj = new HashMap&lt;String, String&gt;();\n        mapObj.put(&quot;type&quot;, &quot;LineString&quot;);\n        mapObj.put(&quot;coordinates&quot;, latLng);\n        \n        Map&lt;String, Object&gt; geoMap = new HashMap&lt;String, Object&gt;();\n        geoMap.put(&quot;geom&quot;, mapObj);\n                \n        Integer cf = r.getInt(9);\n        Integer countryCode = r.getInt(10);\n        Integer frc = r.getInt(11);             \n        Row row = RowFactory.create(geoMap, cf, frc);               \n        return row;\n    }\n});\nDataset&lt;Row&gt; dataset1 = sparkSession.createDataFrame(newRdd, schema);\n</code></pre>\n"},{"tags":["java","android","linux","android-mediaplayer","lsof"],"comments":[{"owner":{"account_id":107566,"reputation":11696,"user_id":285951,"accept_rate":84,"display_name":"verdesmarald"},"score":0,"creation_date":1346076760,"post_id":12143646,"comment_id":16245785,"body_markdown":"Well, since you are the one getting the error, perhaps you could tell us what the error is. Maybe then we could help you, no?","body":"Well, since you are the one getting the error, perhaps you could tell us what the error is. Maybe then we could help you, no?"},{"owner":{"account_id":7862,"reputation":14582,"user_id":13824,"accept_rate":83,"display_name":"billjamesdev"},"score":0,"creation_date":1346076842,"post_id":12143646,"comment_id":16245830,"body_markdown":"First guess?  Since you have to put /system/bin in front of the lsof command, maybe try putting the path to grep in there too? i.e. use /system/bin/lsof | /system/bin/grep mediaserver&quot; or whatever the path to grep is.","body":"First guess?  Since you have to put /system/bin in front of the lsof command, maybe try putting the path to grep in there too? i.e. use /system/bin/lsof | /system/bin/grep mediaserver&quot; or whatever the path to grep is."},{"owner":{"account_id":1447729,"reputation":165,"user_id":1365647,"accept_rate":38,"display_name":"chiv"},"score":0,"creation_date":1346077465,"post_id":12143646,"comment_id":16246110,"body_markdown":"i am getting the following error W/System.err(345): java.io.IOException: Error running exec(). Command: [/system/bin/lsof|grep, init] Working Directory: null Environment: null","body":"i am getting the following error W/System.err(345): java.io.IOException: Error running exec(). Command: [/system/bin/lsof|grep, init] Working Directory: null Environment: null"}],"answers":[{"tags":[],"owner":{"account_id":276236,"reputation":18430,"user_id":569558,"accept_rate":93,"display_name":"sdabet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1346076657,"creation_date":1346076657,"answer_id":12143669,"question_id":12143646,"body_markdown":"The grep utility may not be installed on your device.\r\n\r\nYou can check it by trying the following in a console:\r\n\r\n    &gt; adb shell\r\n    $ grep\r\n    grep: not found\r\n\r\nThe last line indicates that this command is not available.","title":"Not able to run grep command","body":"<p>The grep utility may not be installed on your device.</p>\n\n<p>You can check it by trying the following in a console:</p>\n\n<pre><code>&gt; adb shell\n$ grep\ngrep: not found\n</code></pre>\n\n<p>The last line indicates that this command is not available.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1346204370,"creation_date":1346078368,"answer_id":12144173,"question_id":12143646,"body_markdown":"The problem is that `Runtime.getRuntime().exec(...)` does not know how to deal with the shell language.  On a Linux / Unix platform you would so something like this:\r\n\r\n    Process p = Runtime.getRuntime().exec(new String[]{\r\n        &quot;/bin/sh&quot;, &quot;-c&quot;, &quot;/system/bin/lsof | grep mediaserver&quot;});\r\n\r\nHowever, (apparently) Android doesn&#39;t have a command shell / command prompt by default.  So either you need to identify and install a suitable shell on your device, or construct the pipeline &quot;by hand&quot;; i.e. by creating a &quot;pipe&quot; file descriptor, and execing the two commands so that `lsof` writes to the pipe and `grep` reads from it.\r\n\r\nMaybe the answer is to run it like this ...\r\n\r\n    Process p = Runtime.getRuntime().exec(\r\n            &quot;adb shell /system/bin/lsof | grep mediaserver&quot;);\r\n\r\n(Try running the &quot;shell ....&quot; part from adb interactively before doing it from Java.)","title":"Not able to run grep command","body":"<p>The problem is that <code>Runtime.getRuntime().exec(...)</code> does not know how to deal with the shell language.  On a Linux / Unix platform you would so something like this:</p>\n\n<pre><code>Process p = Runtime.getRuntime().exec(new String[]{\n    \"/bin/sh\", \"-c\", \"/system/bin/lsof | grep mediaserver\"});\n</code></pre>\n\n<p>However, (apparently) Android doesn't have a command shell / command prompt by default.  So either you need to identify and install a suitable shell on your device, or construct the pipeline \"by hand\"; i.e. by creating a \"pipe\" file descriptor, and execing the two commands so that <code>lsof</code> writes to the pipe and <code>grep</code> reads from it.</p>\n\n<p>Maybe the answer is to run it like this ...</p>\n\n<pre><code>Process p = Runtime.getRuntime().exec(\n        \"adb shell /system/bin/lsof | grep mediaserver\");\n</code></pre>\n\n<p>(Try running the \"shell ....\" part from adb interactively before doing it from Java.)</p>\n"}],"owner":{"account_id":1447729,"reputation":165,"user_id":1365647,"accept_rate":38,"display_name":"chiv"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4878,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685089390,"creation_date":1346076597,"question_id":12143646,"body_markdown":"I was trying to run the following instruction in Android (Java):\r\n\r\n     Process p = Runtime.getRuntime().exec(&quot;/system/bin/lsof|grep mediaserver&quot;);\r\nbut I am getting an error if I run the following instruction:\r\n\r\n     Process p = Runtime.getRuntime().exec(&quot;/system/bin/lsof &quot;);\r\nthe file is successfully saved. Can anyone tell what is the error? Actually I want to list and check if media server service is being running or not.\r\n","title":"Not able to run grep command","body":"<p>I was trying to run the following instruction in Android (Java):</p>\n<pre><code> Process p = Runtime.getRuntime().exec(&quot;/system/bin/lsof|grep mediaserver&quot;);\n</code></pre>\n<p>but I am getting an error if I run the following instruction:</p>\n<pre><code> Process p = Runtime.getRuntime().exec(&quot;/system/bin/lsof &quot;);\n</code></pre>\n<p>the file is successfully saved. Can anyone tell what is the error? Actually I want to list and check if media server service is being running or not.</p>\n"},{"tags":["java","sorting","collections"],"answers":[{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1503135143,"creation_date":1503135143,"answer_id":45769941,"question_id":45769908,"body_markdown":"You are on the right path, but your `compare` method is incomplete.\r\n\r\nSince `compare` is called to decide which item in each pair is to go before the other, it must include all comparison logic, not only the tie-breaking one. Your code sorts on the age alone, ignoring the name completely.\r\n\r\nThe logic should go like this:\r\n\r\n- Compare names using `t.getFname().compareTo(t1.getFname())`\r\n- If names are *not* the same, return the result of comparison\r\n- Otherwise, return the result of comparing ages.\r\n\r\nProper way of comparing integers is with the static [`Integer.compare`][1] method, i.e. `Integer.compare(t.getAge(), t1.getAge())`.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#compare(int,%20int)","title":"How to sort the name along with age in java","body":"<p>You are on the right path, but your <code>compare</code> method is incomplete.</p>\n\n<p>Since <code>compare</code> is called to decide which item in each pair is to go before the other, it must include all comparison logic, not only the tie-breaking one. Your code sorts on the age alone, ignoring the name completely.</p>\n\n<p>The logic should go like this:</p>\n\n<ul>\n<li>Compare names using <code>t.getFname().compareTo(t1.getFname())</code></li>\n<li>If names are <em>not</em> the same, return the result of comparison</li>\n<li>Otherwise, return the result of comparing ages.</li>\n</ul>\n\n<p>Proper way of comparing integers is with the static <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#compare(int,%20int)\" rel=\"nofollow noreferrer\"><code>Integer.compare</code></a> method, i.e. <code>Integer.compare(t.getAge(), t1.getAge())</code>.</p>\n"},{"tags":[],"owner":{"account_id":5860066,"reputation":13475,"user_id":4616087,"display_name":"Marvin"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1503135712,"creation_date":1503135459,"answer_id":45769990,"question_id":45769908,"body_markdown":"Currently you are a) only comparing by one attribute and b) not really making use of Java 8&#39;s new features.\r\n\r\nWith Java 8 you can use [method references][1] and chained comparators, like this:\r\n\r\n    Collections.sort(persons, Comparator.comparing(Person::getFname)\r\n        .thenComparingInt(Person::getAge));\r\n\r\nThis will compare two `Person` instances first by their `fname` and - if that is equal - by their `age` (with a slight optimization to [`thenComparingInt`][2] to avoid boxing).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#thenComparingInt-java.util.function.ToIntFunction-","title":"How to sort the name along with age in java","body":"<p>Currently you are a) only comparing by one attribute and b) not really making use of Java 8's new features.</p>\n\n<p>With Java 8 you can use <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"noreferrer\">method references</a> and chained comparators, like this:</p>\n\n<pre><code>Collections.sort(persons, Comparator.comparing(Person::getFname)\n    .thenComparingInt(Person::getAge));\n</code></pre>\n\n<p>This will compare two <code>Person</code> instances first by their <code>fname</code> and - if that is equal - by their <code>age</code> (with a slight optimization to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#thenComparingInt-java.util.function.ToIntFunction-\" rel=\"noreferrer\"><code>thenComparingInt</code></a> to avoid boxing).</p>\n"},{"tags":[],"owner":{"account_id":379230,"reputation":9463,"user_id":732454,"accept_rate":73,"display_name":"stefan bachert"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1503136247,"creation_date":1503135848,"answer_id":45770036,"question_id":45769908,"body_markdown":"You need to compare for names first. \r\nIf the names are the same, then and only then the result depends on comparing the age\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Person&gt; persons = new ArrayList&lt;&gt;();\r\n        persons.add(new Person(&quot;tarun&quot;, 28));\r\n        persons.add(new Person(&quot;arun&quot;, 29));\r\n        persons.add(new Person(&quot;varun&quot;, 12));\r\n        persons.add(new Person(&quot;arun&quot;, 22));\r\n\r\n        Collections.sort(persons, new Comparator&lt;Person&gt;() {\r\n\r\n            public int compare(Person t, Person t1) {\r\n                int comp = t.getFname().compareTo(t1.getFname());\r\n                if (comp != 0) {    // names are different\r\n                \treturn comp;\r\n                }\r\n            \treturn t.getAge() - t1.getAge();\r\n            }\r\n        });\r\n        System.out.println(persons);\r\n\r\n    }}\r\n\r\nif you want to change from ascending to descending, just change the sign. e.g.\r\n\r\n     return -comp;\r\n\r\nor swap the person\r\n\r\nname\r\n\r\n     int comp = t1.getFname().compareTo(t.getFname());\r\n\r\nage\r\n\r\n     return t1.getAge() - t.getAge();","title":"How to sort the name along with age in java","body":"<p>You need to compare for names first. \nIf the names are the same, then and only then the result depends on comparing the age</p>\n\n<pre><code>public static void main(String[] args) {\n    List&lt;Person&gt; persons = new ArrayList&lt;&gt;();\n    persons.add(new Person(\"tarun\", 28));\n    persons.add(new Person(\"arun\", 29));\n    persons.add(new Person(\"varun\", 12));\n    persons.add(new Person(\"arun\", 22));\n\n    Collections.sort(persons, new Comparator&lt;Person&gt;() {\n\n        public int compare(Person t, Person t1) {\n            int comp = t.getFname().compareTo(t1.getFname());\n            if (comp != 0) {    // names are different\n                return comp;\n            }\n            return t.getAge() - t1.getAge();\n        }\n    });\n    System.out.println(persons);\n\n}}\n</code></pre>\n\n<p>if you want to change from ascending to descending, just change the sign. e.g.</p>\n\n<pre><code> return -comp;\n</code></pre>\n\n<p>or swap the person</p>\n\n<p>name</p>\n\n<pre><code> int comp = t1.getFname().compareTo(t.getFname());\n</code></pre>\n\n<p>age</p>\n\n<pre><code> return t1.getAge() - t.getAge();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9127082,"reputation":2954,"user_id":6790326,"display_name":"Dorian Gray"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503137442,"creation_date":1503136474,"answer_id":45770119,"question_id":45769908,"body_markdown":"Your `Comparator` is only sorting by age, not by name.\r\n\r\nYou could try it like that:\r\n\r\n    new Comparator&lt;Person&gt;() {\r\n        @Override\r\n        public int compare(Person t, Person t1) {\r\n            int ret = t.getFname().compareTo(t1.getFname());\r\n            if (ret == 0) {\r\n               ret = Integer.compare(t.getAge(), t1.getAge()); \r\n            }\r\n            return ret;\r\n        }\r\n    }\r\n    \r\nYou could also think about implementing `Comparable&lt;Person&gt;` in the `Person` class itself:\r\n\r\n    class Person implements Comparable&lt;Person&gt; {\r\n        @Override\r\n        public int compareTo(Person p) {\r\n            int ret = fname.compareTo(p.fname);\r\n            if (ret == 0) {\r\n               ret = Integer.compare(age, p.getAge()); \r\n            }\r\n            return ret;\r\n\r\n        }\r\n    }","title":"How to sort the name along with age in java","body":"<p>Your <code>Comparator</code> is only sorting by age, not by name.</p>\n\n<p>You could try it like that:</p>\n\n<pre><code>new Comparator&lt;Person&gt;() {\n    @Override\n    public int compare(Person t, Person t1) {\n        int ret = t.getFname().compareTo(t1.getFname());\n        if (ret == 0) {\n           ret = Integer.compare(t.getAge(), t1.getAge()); \n        }\n        return ret;\n    }\n}\n</code></pre>\n\n<p>You could also think about implementing <code>Comparable&lt;Person&gt;</code> in the <code>Person</code> class itself:</p>\n\n<pre><code>class Person implements Comparable&lt;Person&gt; {\n    @Override\n    public int compareTo(Person p) {\n        int ret = fname.compareTo(p.fname);\n        if (ret == 0) {\n           ret = Integer.compare(age, p.getAge()); \n        }\n        return ret;\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10063010,"reputation":5822,"user_id":7438973,"accept_rate":44,"display_name":"nagendra547"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503660421,"creation_date":1503660421,"answer_id":45880347,"question_id":45769908,"body_markdown":"This is simple **one liner** comparison using ternary operator for sorting the objects. **No need to write so many if/else block**.\r\n\r\n    Collections.sort(persons, new Comparator&lt;Person&gt;() {\r\n\r\n        @Override\r\n        public int compare(Person t1, Person t2) {\r\n\r\n            return t1.getFname().equals(t2.getFname()) ? t1.getAge()-t2.getAge() : t1.getFname().compareTo(t2.getFname());\r\n\r\n        }\r\n    });","title":"How to sort the name along with age in java","body":"<p>This is simple <strong>one liner</strong> comparison using ternary operator for sorting the objects. <strong>No need to write so many if/else block</strong>.</p>\n\n<pre><code>Collections.sort(persons, new Comparator&lt;Person&gt;() {\n\n    @Override\n    public int compare(Person t1, Person t2) {\n\n        return t1.getFname().equals(t2.getFname()) ? t1.getAge()-t2.getAge() : t1.getFname().compareTo(t2.getFname());\n\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548654609,"creation_date":1548654609,"answer_id":54396193,"question_id":45769908,"body_markdown":" You can use [`Comparator.comparing`][1] method, introduced in Java 8, returns a Comparator object that will use the specified field as the sort key. \r\n\r\n  \r\n\r\n    final Function&lt;Person, Integer&gt; byAge = person -&gt; person.getAge();   \r\n    final Function&lt;Person, String&gt; byTheirName = person -&gt; person.getFname();\r\n    System.out.println(&quot;Sorted in ascending order by age and name: &quot;);\r\n\t\t\tList&lt;Person&gt; sortedlist =\tpeople.stream()\r\n\t\t\t\t.sorted(Comparator.comparing(byAge).thenComparing(byTheirName))\r\n\t\t\t\t.collect(Collectors.toList());\r\n\t\t\tsortedlist.forEach(System.out::println);\r\n\t\r\n\r\nWe first created **two lambda expressions**, one to return the age of a given person and the other to return that person’s name. We then combined these two **lambda expressions** in the call to the `sorted()` method to compare on both properties. The `comparing()` method created and returned a Comparator to compare based on age. On the returned Comparator we invoked the `thenComparing()` method to create a composite `comparator` that compares based on both age and name\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-8-comparator-comparing","title":"How to sort the name along with age in java","body":"<p>You can use <a href=\"https://www.baeldung.com/java-8-comparator-comparing\" rel=\"nofollow noreferrer\"><code>Comparator.comparing</code></a> method, introduced in Java 8, returns a Comparator object that will use the specified field as the sort key. </p>\n\n<pre><code>final Function&lt;Person, Integer&gt; byAge = person -&gt; person.getAge();   \nfinal Function&lt;Person, String&gt; byTheirName = person -&gt; person.getFname();\nSystem.out.println(\"Sorted in ascending order by age and name: \");\n        List&lt;Person&gt; sortedlist =   people.stream()\n            .sorted(Comparator.comparing(byAge).thenComparing(byTheirName))\n            .collect(Collectors.toList());\n        sortedlist.forEach(System.out::println);\n</code></pre>\n\n<p>We first created <strong>two lambda expressions</strong>, one to return the age of a given person and the other to return that person’s name. We then combined these two <strong>lambda expressions</strong> in the call to the <code>sorted()</code> method to compare on both properties. The <code>comparing()</code> method created and returned a Comparator to compare based on age. On the returned Comparator we invoked the <code>thenComparing()</code> method to create a composite <code>comparator</code> that compares based on both age and name</p>\n"},{"tags":[],"owner":{"account_id":17190898,"reputation":31,"user_id":12444679,"display_name":"soumya mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574864096,"creation_date":1574849061,"answer_id":59067610,"question_id":45769908,"body_markdown":"// Sort Without using Comparator\r\n\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class SortByNameThenAge {\r\n\r\n\tstatic class Student {\r\n\t\tString name;\r\n\t\tint age;\r\n\r\n\t\tpublic Student(String name, int age) {\r\n\t\t\tsuper();\r\n\t\t\tthis.name = name;\r\n\t\t\tthis.age = age;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tList&lt;Student&gt; olist = new ArrayList&lt;&gt;();\r\n\t\tolist.add(new Student(&quot;Sam&quot;, 26));\r\n\t\tolist.add(new Student(&quot;Sam&quot;, 22));\r\n\t\tolist.add(new Student(&quot;Abc&quot;, 25));\r\n\t\tolist.add(new Student(&quot;Abc&quot;, 22));\r\n\t\tolist.add(new Student(&quot;Abc&quot;, 23));\r\n\t\tolist.add(new Student(&quot;Sam&quot;, 24));\r\n\t\tolist.add(new Student(&quot;Sam2&quot;, 21));\r\n\t\tolist.add(new Student(&quot;Sam2&quot;, 19));\r\n\t\t// Order By name\r\n\t\tfor (int i = 0; i &lt; olist.size(); i++) {\r\n\t\t\tfor (int j = olist.size() - 1; j &gt; i; j--) {\r\n\t\t\t\tif (olist.get(i).name.compareTo(olist.get(j).name) &gt; 0) {\r\n\t\t\t\t\tStudent temp = olist.get(i);\r\n\t\t\t\t\tolist.set(i, olist.get(j));\r\n\t\t\t\t\tolist.set(j, temp);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (Student s : olist) {\r\n\t\t\tSystem.out.println(s.name + &quot; : &quot; + s.age);\r\n\t\t}\r\n\r\n\t\t// Order by name then age\r\n\t\tfor (int i = 0; i &lt; olist.size(); i++) {\r\n\t\t\tfor (int j = i+1; j &lt; olist.size(); j++) {\r\n\t\t\t\tif (olist.get(i).name.compareTo(olist.get(j).name) == 0) {\r\n\t\t\t\t\tif (olist.get(i).age &gt; olist.get(i + 1).age) {\r\n\t\t\t\t\t\tStudent temp = olist.get(i);\r\n\t\t\t\t\t\tolist.set(i, olist.get(i + 1));\r\n\t\t\t\t\t\tolist.set(i + 1, temp);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;\\nSorting by age keeping name as it is&quot;);\r\n\r\n\t\tfor (Student s : olist) {\r\n\t\t\tSystem.out.println(s.name + &quot; : &quot; + s.age);\r\n\t\t}\r\n\t}\r\n}\r\n","title":"How to sort the name along with age in java","body":"<p>// Sort Without using Comparator</p>\n\n<p>import java.util.ArrayList;\nimport java.util.List;</p>\n\n<p>public class SortByNameThenAge {</p>\n\n<pre><code>static class Student {\n    String name;\n    int age;\n\n    public Student(String name, int age) {\n        super();\n        this.name = name;\n        this.age = age;\n    }\n\n}\n\npublic static void main(String[] args) {\n    List&lt;Student&gt; olist = new ArrayList&lt;&gt;();\n    olist.add(new Student(\"Sam\", 26));\n    olist.add(new Student(\"Sam\", 22));\n    olist.add(new Student(\"Abc\", 25));\n    olist.add(new Student(\"Abc\", 22));\n    olist.add(new Student(\"Abc\", 23));\n    olist.add(new Student(\"Sam\", 24));\n    olist.add(new Student(\"Sam2\", 21));\n    olist.add(new Student(\"Sam2\", 19));\n    // Order By name\n    for (int i = 0; i &lt; olist.size(); i++) {\n        for (int j = olist.size() - 1; j &gt; i; j--) {\n            if (olist.get(i).name.compareTo(olist.get(j).name) &gt; 0) {\n                Student temp = olist.get(i);\n                olist.set(i, olist.get(j));\n                olist.set(j, temp);\n            }\n        }\n    }\n\n    for (Student s : olist) {\n        System.out.println(s.name + \" : \" + s.age);\n    }\n\n    // Order by name then age\n    for (int i = 0; i &lt; olist.size(); i++) {\n        for (int j = i+1; j &lt; olist.size(); j++) {\n            if (olist.get(i).name.compareTo(olist.get(j).name) == 0) {\n                if (olist.get(i).age &gt; olist.get(i + 1).age) {\n                    Student temp = olist.get(i);\n                    olist.set(i, olist.get(i + 1));\n                    olist.set(i + 1, temp);\n                }\n            }\n        }\n    }\n    System.out.println(\"\\nSorting by age keeping name as it is\");\n\n    for (Student s : olist) {\n        System.out.println(s.name + \" : \" + s.age);\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":15035938,"reputation":310,"user_id":10852356,"display_name":"garima garg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685089364,"creation_date":1604853060,"answer_id":64740441,"question_id":45769908,"body_markdown":"You can simply use the stream sorted method with static reference of getName and getAge methods.\r\n        \r\n    List&lt;Person&gt; list=new ArrayList&lt;Person&gt;();\r\n    list.stream().sorted(Comparator.comparing(Person::getName).thenComparing(Person::getAge)).collect(Collectors.toList()).forEach(System.out::println);","title":"How to sort the name along with age in java","body":"<p>You can simply use the stream sorted method with static reference of getName and getAge methods.</p>\n<pre><code>List&lt;Person&gt; list=new ArrayList&lt;Person&gt;();\nlist.stream().sorted(Comparator.comparing(Person::getName).thenComparing(Person::getAge)).collect(Collectors.toList()).forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":8284971,"reputation":412,"user_id":6228349,"accept_rate":75,"display_name":"Pavan Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40585,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":45769990,"answer_count":8,"score":10,"last_activity_date":1685089364,"creation_date":1503134886,"question_id":45769908,"body_markdown":"I am new to Java 8. I just want to sort by the name. But the condition is: if there are duplicate names then it should be sorted according to age.\r\n\r\nFor example my input is\r\n\r\n    tarun  28\r\n    arun   29\r\n    varun  12\r\n    arun   22\r\n\r\nand the output should be\r\n\r\n    arun   22\r\n    arun   29\r\n    tarun  28\r\n    varun  12\r\n\r\nBut I get something like\r\n\r\n    varun  12\r\n    arun   22\r\n    tarun  28\r\n    arun   29\r\n\r\nMeans it&#39;s sorted either only by ages or names.\r\n\r\nThis is the code which is implemented:\r\n\r\nPOJO class:\r\n\r\n    class Person {\r\n    \r\n        String fname;\r\n       \r\n        int age;\r\n    \r\n        public Person() {\r\n        }\r\n    \r\n        public int getAge() {\r\n            return age;\r\n        }\r\n    \r\n        public void setAge(int age) {\r\n            this.age = age;\r\n        }\r\n    \r\n        public String getFname() {\r\n            return fname;\r\n        }\r\n    \r\n        public void setFname(String fname) {\r\n            this.fname = fname;\r\n        }\r\n    \r\n        public Person(String fname,  int age) {\r\n            this.fname = fname;\r\n         \r\n            this.age = age;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return fname  + age;\r\n        }\r\n    }\r\n\r\nTest class:\r\n\r\n    public class Test {\r\n    \r\n        public static void main(String[] args) {\r\n            List&lt;Person&gt; persons = new ArrayList&lt;&gt;();\r\n            persons.add(new Person(&quot;tarun&quot;, 28));\r\n            persons.add(new Person(&quot;arun&quot;, 29));\r\n            persons.add(new Person(&quot;varun&quot;, 12));\r\n            persons.add(new Person(&quot;arun&quot;, 22));\r\n            \r\n            Collections.sort(persons, new Comparator&lt;Person&gt;() {\r\n    \r\n                @Override\r\n                public int compare(Person t, Person t1) {\r\n                    return t.getAge() - t1.getAge();\r\n                }\r\n            });\r\n            System.out.println(persons);\r\n    \r\n        }\r\n    }\r\n\r\n","title":"How to sort the name along with age in java","body":"<p>I am new to Java 8. I just want to sort by the name. But the condition is: if there are duplicate names then it should be sorted according to age.</p>\n\n<p>For example my input is</p>\n\n<pre><code>tarun  28\narun   29\nvarun  12\narun   22\n</code></pre>\n\n<p>and the output should be</p>\n\n<pre><code>arun   22\narun   29\ntarun  28\nvarun  12\n</code></pre>\n\n<p>But I get something like</p>\n\n<pre><code>varun  12\narun   22\ntarun  28\narun   29\n</code></pre>\n\n<p>Means it's sorted either only by ages or names.</p>\n\n<p>This is the code which is implemented:</p>\n\n<p>POJO class:</p>\n\n<pre><code>class Person {\n\n    String fname;\n\n    int age;\n\n    public Person() {\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    public String getFname() {\n        return fname;\n    }\n\n    public void setFname(String fname) {\n        this.fname = fname;\n    }\n\n    public Person(String fname,  int age) {\n        this.fname = fname;\n\n        this.age = age;\n    }\n\n    @Override\n    public String toString() {\n        return fname  + age;\n    }\n}\n</code></pre>\n\n<p>Test class:</p>\n\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n        List&lt;Person&gt; persons = new ArrayList&lt;&gt;();\n        persons.add(new Person(\"tarun\", 28));\n        persons.add(new Person(\"arun\", 29));\n        persons.add(new Person(\"varun\", 12));\n        persons.add(new Person(\"arun\", 22));\n\n        Collections.sort(persons, new Comparator&lt;Person&gt;() {\n\n            @Override\n            public int compare(Person t, Person t1) {\n                return t.getAge() - t1.getAge();\n            }\n        });\n        System.out.println(persons);\n\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9584,"page":408,"page_size":100}
