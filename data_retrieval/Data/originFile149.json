{"items":[{"tags":["java","docker-networking","testcontainers"],"comments":[{"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"score":0,"creation_date":1664815282,"post_id":73938102,"comment_id":130552372,"body_markdown":"Normally when connected to a vpn can not access docker registry. Check whether docker image ryuk in machine?","body":"Normally when connected to a vpn can not access docker registry. Check whether docker image ryuk in machine?"},{"owner":{"account_id":8131647,"reputation":646,"user_id":6124708,"accept_rate":75,"display_name":"Quentin Lerebours"},"score":0,"creation_date":1664834970,"post_id":73938102,"comment_id":130557607,"body_markdown":"Yes ryuk is already pulled and a docker ps shows it running","body":"Yes ryuk is already pulled and a docker ps shows it running"},{"owner":{"account_id":1488715,"reputation":1432,"user_id":1396362,"display_name":"Kevin Wittek"},"score":0,"creation_date":1664883188,"post_id":73938102,"comment_id":130567356,"body_markdown":"On which OS are you and what version of Docker are you using? Where did you set `TESTCONTAINERS_HOST_OVERRIDE`? It needs to be an environment variable for the process of executing the tests. In case you are on native Linux, I am not sure if Docker transparently supports VPN, seems to be a Docker Desktop feature: https://docs.docker.com/desktop/networking/","body":"On which OS are you and what version of Docker are you using? Where did you set <code>TESTCONTAINERS_HOST_OVERRIDE</code>? It needs to be an environment variable for the process of executing the tests. In case you are on native Linux, I am not sure if Docker transparently supports VPN, seems to be a Docker Desktop feature: <a href=\"https://docs.docker.com/desktop/networking/\" rel=\"nofollow noreferrer\">docs.docker.com/desktop/networking</a>"},{"owner":{"account_id":8131647,"reputation":646,"user_id":6124708,"accept_rate":75,"display_name":"Quentin Lerebours"},"score":0,"creation_date":1664888189,"post_id":73938102,"comment_id":130569014,"body_markdown":"I&#39;m using Linux (Ubuntu) and I&#39;m using Docker version 20.10.16, build aa7e414. I was trying to set it from .bashrc but now that I&#39;m setting this in my IDE, which runs the test for me, it&#39;s taken into account. However, setting it to localhost, 127.0.0.1, 0.0.0.0, or even 172.17.0.4 (which is the container&#39;s hostname) isn&#39;t working. I&#39;m checking the doc you sent, thanks","body":"I&#39;m using Linux (Ubuntu) and I&#39;m using Docker version 20.10.16, build aa7e414. I was trying to set it from .bashrc but now that I&#39;m setting this in my IDE, which runs the test for me, it&#39;s taken into account. However, setting it to localhost, 127.0.0.1, 0.0.0.0, or even 172.17.0.4 (which is the container&#39;s hostname) isn&#39;t working. I&#39;m checking the doc you sent, thanks"}],"answers":[{"comments":[{"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"score":0,"creation_date":1696237138,"post_id":73949950,"comment_id":136122718,"body_markdown":"How can I find out what IP range is affected? I followed the instructions of the article&#39;s author but still have the error. My /etc/docker/daemon.json looks so\n\n`{\n  &quot;dns&quot;: [&quot;8.8.8.8&quot;],\n  &quot;bip&quot;: &quot;172.26.0.1/16&quot;\n}`\n\nand I rebooted the PC...","body":"How can I find out what IP range is affected? I followed the instructions of the article&#39;s author but still have the error. My /etc/docker/daemon.json looks so  <code>{   &quot;dns&quot;: [&quot;8.8.8.8&quot;],   &quot;bip&quot;: &quot;172.26.0.1&#47;16&quot; }</code>  and I rebooted the PC..."},{"owner":{"account_id":8131647,"reputation":646,"user_id":6124708,"accept_rate":75,"display_name":"Quentin Lerebours"},"score":0,"creation_date":1696518024,"post_id":73949950,"comment_id":136166100,"body_markdown":"To check which IP range is used by docker, you can `docker inspect` one of your containers, and to find out which IP is used by the external program, maybe you can check the logs, or use nmap? My VPN had logs which was displaying the IP used","body":"To check which IP range is used by docker, you can <code>docker inspect</code> one of your containers, and to find out which IP is used by the external program, maybe you can check the logs, or use nmap? My VPN had logs which was displaying the IP used"}],"tags":[],"owner":{"account_id":8131647,"reputation":646,"user_id":6124708,"accept_rate":75,"display_name":"Quentin Lerebours"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1664896002,"creation_date":1664896002,"answer_id":73949950,"question_id":73938102,"body_markdown":"Problem solved:\r\nThe VPN was using the same IP range as Docker, which implied collisions.\r\nI solved by changing Docker&#39;s base IP range by creating a /etc/docker/daemon.json file with another range in it and restarting docker (you can check here: https://medium.com/codebrace/understanding-docker-networks-and-resolving-conflict-with-docker-subnet-ip-range-bfaad092a7ea)","title":"Testcontainer with VPN on: Can not connect to Ryuk at localhost:49198","body":"<p>Problem solved:\nThe VPN was using the same IP range as Docker, which implied collisions.\nI solved by changing Docker's base IP range by creating a /etc/docker/daemon.json file with another range in it and restarting docker (you can check here: <a href=\"https://medium.com/codebrace/understanding-docker-networks-and-resolving-conflict-with-docker-subnet-ip-range-bfaad092a7ea\" rel=\"noreferrer\">https://medium.com/codebrace/understanding-docker-networks-and-resolving-conflict-with-docker-subnet-ip-range-bfaad092a7ea</a>)</p>\n"},{"tags":[],"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696314058,"creation_date":1696242667,"answer_id":77214898,"question_id":73938102,"body_markdown":"I&#39;m using Ubuntu as well but the accepted solution didn&#39;t help me.\r\nSo I want to share an existing solution that was helpful. After I changed my `/etc/docker/daemon.json` according to the answer https://serverfault.com/a/942176\r\n**testcontainers** started working while Cisco Anyconnect was active too.\r\n\r\nI&#39;ll duplicate the contents of the file from that answer below:\r\n\r\n    {\r\n      &quot;bip&quot;: &quot;10.200.0.1/24&quot;,\r\n      &quot;default-address-pools&quot;:[\r\n        {&quot;base&quot;:&quot;10.201.0.0/16&quot;,&quot;size&quot;:24},\r\n        {&quot;base&quot;:&quot;10.202.0.0/16&quot;,&quot;size&quot;:24}\r\n      ]\r\n    }\r\n\r\n","title":"Testcontainer with VPN on: Can not connect to Ryuk at localhost:49198","body":"<p>I'm using Ubuntu as well but the accepted solution didn't help me.\nSo I want to share an existing solution that was helpful. After I changed my <code>/etc/docker/daemon.json</code> according to the answer <a href=\"https://serverfault.com/a/942176\">https://serverfault.com/a/942176</a>\n<strong>testcontainers</strong> started working while Cisco Anyconnect was active too.</p>\n<p>I'll duplicate the contents of the file from that answer below:</p>\n<pre><code>{\n  &quot;bip&quot;: &quot;10.200.0.1/24&quot;,\n  &quot;default-address-pools&quot;:[\n    {&quot;base&quot;:&quot;10.201.0.0/16&quot;,&quot;size&quot;:24},\n    {&quot;base&quot;:&quot;10.202.0.0/16&quot;,&quot;size&quot;:24}\n  ]\n}\n</code></pre>\n"}],"owner":{"account_id":8131647,"reputation":646,"user_id":6124708,"accept_rate":75,"display_name":"Quentin Lerebours"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1929,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73949950,"answer_count":2,"score":3,"last_activity_date":1696314058,"creation_date":1664813561,"question_id":73938102,"body_markdown":"I&#39;m using Testcontainer on Unit and Integration test in a Java/maven project. Tests are working as expected, until I run the VPN I&#39;m using to work.\r\nWith the VPN, I can see the error message &quot;Can not connect to Ryuk at localhost:49198&quot;\r\n\r\nHere are the complete logs:\r\n```\r\nConnected to the target VM, address: &#39;127.0.0.1:50813&#39;, transport: &#39;socket&#39;\r\n2022-10-03 18:01:49.728  INFO   --- [           main] o.t.d.DockerClientProviderStrategy       : Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first\r\n2022-10-03 18:01:50.280  INFO   --- [           main] o.t.d.DockerClientProviderStrategy       : Found Docker environment with local Unix socket (unix:///var/run/docker.sock)\r\n2022-10-03 18:01:50.282  INFO   --- [           main] org.testcontainers.DockerClientFactory   : Docker host IP address is localhost\r\n2022-10-03 18:01:50.308  INFO   --- [           main] org.testcontainers.DockerClientFactory   : Connected to docker: \r\n  Server Version: 20.10.16\r\n  API Version: 1.41\r\n  Operating System: Ubuntu 20.04.3 LTS\r\n  Total Memory: 15716 MB\r\n2022-10-03 18:01:50.311  INFO   --- [           main] o.t.utility.ImageNameSubstitutor         : Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of &#39;ConfigurationFileImageNameSubstitutor&#39; and &#39;PrefixingImageNameSubstitutor&#39;)\r\n2022-10-03 18:01:50.926  WARN   --- [containers-ryuk] o.testcontainers.utility.ResourceReaper  : Can not connect to Ryuk at localhost:49198\r\n\r\njava.net.SocketException: Connection reset\r\n\tat java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:323)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\r\n\tat java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\r\n\tat java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)\r\n\tat java.base/sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:270)\r\n\tat java.base/sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:313)\r\n\tat java.base/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:188)\r\n\tat java.base/java.io.InputStreamReader.read(InputStreamReader.java:177)\r\n\tat java.base/java.io.BufferedReader.fill(BufferedReader.java:162)\r\n\tat java.base/java.io.BufferedReader.readLine(BufferedReader.java:329)\r\n\tat java.base/java.io.BufferedReader.readLine(BufferedReader.java:396)\r\n\tat org.testcontainers.utility.ResourceReaper$FilterRegistry.waitForAcknowledgment(ResourceReaper.java:489)\r\n\tat org.testcontainers.utility.ResourceReaper$FilterRegistry.register(ResourceReaper.java:485)\r\n\tat org.testcontainers.utility.ResourceReaper.lambda$null$1(ResourceReaper.java:203)\r\n\tat org.rnorth.ducttape.ratelimits.RateLimiter.doWhenReady(RateLimiter.java:27)\r\n\tat org.testcontainers.utility.ResourceReaper.lambda$start$2(ResourceReaper.java:185)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nI tried multiple things like setting `TESTCONTAINERS_HOST_OVERRIDE` to localhost but it didn&#39;t work. (I&#39;m not sure if it was taken into account, where should I set this variable?)\r\n\r\nI inspected the docker container of testcontainers, with or without VPN and I don&#39;t see any difference.\r\n\r\nAny idea?\r\nThanks","title":"Testcontainer with VPN on: Can not connect to Ryuk at localhost:49198","body":"<p>I'm using Testcontainer on Unit and Integration test in a Java/maven project. Tests are working as expected, until I run the VPN I'm using to work.\nWith the VPN, I can see the error message &quot;Can not connect to Ryuk at localhost:49198&quot;</p>\n<p>Here are the complete logs:</p>\n<pre><code>Connected to the target VM, address: '127.0.0.1:50813', transport: 'socket'\n2022-10-03 18:01:49.728  INFO   --- [           main] o.t.d.DockerClientProviderStrategy       : Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first\n2022-10-03 18:01:50.280  INFO   --- [           main] o.t.d.DockerClientProviderStrategy       : Found Docker environment with local Unix socket (unix:///var/run/docker.sock)\n2022-10-03 18:01:50.282  INFO   --- [           main] org.testcontainers.DockerClientFactory   : Docker host IP address is localhost\n2022-10-03 18:01:50.308  INFO   --- [           main] org.testcontainers.DockerClientFactory   : Connected to docker: \n  Server Version: 20.10.16\n  API Version: 1.41\n  Operating System: Ubuntu 20.04.3 LTS\n  Total Memory: 15716 MB\n2022-10-03 18:01:50.311  INFO   --- [           main] o.t.utility.ImageNameSubstitutor         : Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')\n2022-10-03 18:01:50.926  WARN   --- [containers-ryuk] o.testcontainers.utility.ResourceReaper  : Can not connect to Ryuk at localhost:49198\n\njava.net.SocketException: Connection reset\n    at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:323)\n    at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\n    at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\n    at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)\n    at java.base/sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:270)\n    at java.base/sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:313)\n    at java.base/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:188)\n    at java.base/java.io.InputStreamReader.read(InputStreamReader.java:177)\n    at java.base/java.io.BufferedReader.fill(BufferedReader.java:162)\n    at java.base/java.io.BufferedReader.readLine(BufferedReader.java:329)\n    at java.base/java.io.BufferedReader.readLine(BufferedReader.java:396)\n    at org.testcontainers.utility.ResourceReaper$FilterRegistry.waitForAcknowledgment(ResourceReaper.java:489)\n    at org.testcontainers.utility.ResourceReaper$FilterRegistry.register(ResourceReaper.java:485)\n    at org.testcontainers.utility.ResourceReaper.lambda$null$1(ResourceReaper.java:203)\n    at org.rnorth.ducttape.ratelimits.RateLimiter.doWhenReady(RateLimiter.java:27)\n    at org.testcontainers.utility.ResourceReaper.lambda$start$2(ResourceReaper.java:185)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>I tried multiple things like setting <code>TESTCONTAINERS_HOST_OVERRIDE</code> to localhost but it didn't work. (I'm not sure if it was taken into account, where should I set this variable?)</p>\n<p>I inspected the docker container of testcontainers, with or without VPN and I don't see any difference.</p>\n<p>Any idea?\nThanks</p>\n"},{"tags":["java","android","android-studio","maven"],"answers":[{"tags":[],"owner":{"account_id":6989591,"reputation":3250,"user_id":5359340,"display_name":"FGH"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1654916433,"creation_date":1652417049,"answer_id":72224561,"question_id":72217388,"body_markdown":"In the latest Android Studio Bumblebee(2021.1.1) version, if you see it in `build.gradle(Project)` the **new structure** looks like this\r\n\r\n&gt; `build.gradle(Project)`\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;7.1.0&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;7.1.0&#39; apply false\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\nIn order to use the other libraries like `maven`, you have to go to the `settings.gradle` and you have to the maven link like below\r\n\r\n&gt; `settings.gradle`\r\n\r\n    pluginManagement {\r\n        repositories {\r\n            gradlePluginPortal()\r\n            google()\r\n            mavenCentral()\r\n            maven { url &#39;https://jitpack.io&#39; } // add like this\r\n        }\r\n    }\r\n    dependencyResolutionManagement {\r\n        repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n            maven { url &#39;https://jitpack.io&#39; } // add like this\r\n        }\r\n    }\r\n    rootProject.name = &quot;your project name here&quot;\r\n    include &#39;:app&#39;\r\n\r\n[![setting.gradle][1]][1]\r\n\r\n\r\n&gt;  finally add the library in to your `Build.gradle(module)`\r\n\r\n    dependencies {\r\n        implementation &#39;com.github.PhilJay:MPAndroidChart:v3.1.0&#39;\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LFEZ2.png","title":"How to add Repository maven in new Android Studio Project setup(2022)?","body":"<p>In the latest Android Studio Bumblebee(2021.1.1) version, if you see it in <code>build.gradle(Project)</code> the <strong>new structure</strong> looks like this</p>\n<blockquote>\n<p><code>build.gradle(Project)</code></p>\n</blockquote>\n<pre><code>plugins {\n    id 'com.android.application' version '7.1.0' apply false\n    id 'com.android.library' version '7.1.0' apply false\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>In order to use the other libraries like <code>maven</code>, you have to go to the <code>settings.gradle</code> and you have to the maven link like below</p>\n<blockquote>\n<p><code>settings.gradle</code></p>\n</blockquote>\n<pre><code>pluginManagement {\n    repositories {\n        gradlePluginPortal()\n        google()\n        mavenCentral()\n        maven { url 'https://jitpack.io' } // add like this\n    }\n}\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n        maven { url 'https://jitpack.io' } // add like this\n    }\n}\nrootProject.name = &quot;your project name here&quot;\ninclude ':app'\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/LFEZ2.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LFEZ2.png\" alt=\"setting.gradle\" /></a></p>\n<blockquote>\n<p>finally add the library in to your <code>Build.gradle(module)</code></p>\n</blockquote>\n<pre><code>dependencies {\n    implementation 'com.github.PhilJay:MPAndroidChart:v3.1.0'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20143588,"reputation":71,"user_id":14772673,"display_name":"Osv Dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663790637,"creation_date":1663790637,"answer_id":73806354,"question_id":72217388,"body_markdown":"I recently had a lot of confusion with this, but I was able to solve it this way, I just added Maven in Settings.graddle, when I added twice this caused me conflicts, but when I tried just adding once then it worked correctly.\r\n\r\nI am using Android Studio Dolphin 2021.3.1.\r\n\r\n[![how to add Maven Jitpack.io on Android 2022][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NGPjz.jpg","title":"How to add Repository maven in new Android Studio Project setup(2022)?","body":"<p>I recently had a lot of confusion with this, but I was able to solve it this way, I just added Maven in Settings.graddle, when I added twice this caused me conflicts, but when I tried just adding once then it worked correctly.</p>\n<p>I am using Android Studio Dolphin 2021.3.1.</p>\n<p><a href=\"https://i.stack.imgur.com/NGPjz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NGPjz.jpg\" alt=\"how to add Maven Jitpack.io on Android 2022\" /></a></p>\n"},{"tags":[],"owner":{"account_id":18858502,"reputation":325,"user_id":13755907,"display_name":"basileus"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1680247441,"creation_date":1680247441,"answer_id":75895866,"question_id":72217388,"body_markdown":"Referring to [answer from Prasath][1], I would simplify the answer.\r\nIn old gradle structure you have a line in Project build.gradle:\r\n\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        maven { url &#39;https://jitpack.io&#39; } // this is your line\r\n    }\r\n\r\nIn new gradle structure you have to add a line in setting.gradle like this:\r\n\r\n    dependencyResolutionManagement {\r\n        repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n            maven { url &#39;https://jitpack.io&#39; } //  // this is your line\r\n        }\r\n    }\r\nYou do not have to add the line in pluginManagement{} section in settings.gradle.\r\n\r\n  [1]: https://stackoverflow.com/a/72224561/13755907","title":"How to add Repository maven in new Android Studio Project setup(2022)?","body":"<p>Referring to <a href=\"https://stackoverflow.com/a/72224561/13755907\">answer from Prasath</a>, I would simplify the answer.\nIn old gradle structure you have a line in Project build.gradle:</p>\n<pre><code>repositories {\n    google()\n    mavenCentral()\n    maven { url 'https://jitpack.io' } // this is your line\n}\n</code></pre>\n<p>In new gradle structure you have to add a line in setting.gradle like this:</p>\n<pre><code>dependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n        maven { url 'https://jitpack.io' } //  // this is your line\n    }\n}\n</code></pre>\n<p>You do not have to add the line in pluginManagement{} section in settings.gradle.</p>\n"},{"tags":[],"owner":{"account_id":28614715,"reputation":31,"user_id":21908983,"display_name":"Khusinov Shakhriyor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696313994,"creation_date":1696313994,"answer_id":77220058,"question_id":72217388,"body_markdown":"If you want to add the maven url to settings.gradle.kt file\r\nAdd like this: \r\n\r\n  **maven {url = uri(&quot;https://www.jitpack.io&quot; ) }**\r\n\r\nThis line worked for me on 3. October. 2023","title":"How to add Repository maven in new Android Studio Project setup(2022)?","body":"<p>If you want to add the maven url to settings.gradle.kt file\nAdd like this:</p>\n<p><strong>maven {url = uri(&quot;https://www.jitpack.io&quot; ) }</strong></p>\n<p>This line worked for me on 3. October. 2023</p>\n"}],"owner":{"account_id":6989591,"reputation":3250,"user_id":5359340,"display_name":"FGH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6440,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":72224561,"answer_count":4,"score":6,"last_activity_date":1696313994,"creation_date":1652365488,"question_id":72217388,"body_markdown":"I want to use the [maven library][1] in the android studio project. in the library documentation, they mention adding like this,\r\n\r\n    repositories {\r\n        maven { url &#39;https://jitpack.io&#39; }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;com.github.PhilJay:MPAndroidChart:v3.1.0&#39;\r\n    } \r\n\r\nBut in the new android studio `build.gradle` file looks like this \r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;7.1.0&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;7.1.0&#39; apply false\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\nSo, how do I want to add this library repository, Thank you\r\n\r\n  [1]: https://github.com/PhilJay/MPAndroidChart","title":"How to add Repository maven in new Android Studio Project setup(2022)?","body":"<p>I want to use the <a href=\"https://github.com/PhilJay/MPAndroidChart\" rel=\"noreferrer\">maven library</a> in the android studio project. in the library documentation, they mention adding like this,</p>\n<pre><code>repositories {\n    maven { url 'https://jitpack.io' }\n}\n\ndependencies {\n    implementation 'com.github.PhilJay:MPAndroidChart:v3.1.0'\n} \n</code></pre>\n<p>But in the new android studio <code>build.gradle</code> file looks like this</p>\n<pre><code>plugins {\n    id 'com.android.application' version '7.1.0' apply false\n    id 'com.android.library' version '7.1.0' apply false\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>So, how do I want to add this library repository, Thank you</p>\n"},{"tags":["java","android","kotlin","bluetooth-lowenergy","esp32"],"comments":[{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1696312818,"post_id":77201224,"comment_id":136133283,"body_markdown":"Your question does not contain helpful information about the problem. Please visit [How do I ask a good question](https://stackoverflow.com/help/how-to-ask) page and update your question accordingly.","body":"Your question does not contain helpful information about the problem. Please visit <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question</a> page and update your question accordingly."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696313835,"post_id":77201224,"comment_id":136133392,"body_markdown":"@Kozmotronik Use code formatting for computer output. You can see for yourself that it&#39;s much more readable.","body":"@Kozmotronik Use code formatting for computer output. You can see for yourself that it&#39;s much more readable."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1696340694,"post_id":77201224,"comment_id":136138202,"body_markdown":"Yes @user207421, you are right. I will consider it from now on, thank you.","body":"Yes @user207421, you are right. I will consider it from now on, thank you."}],"owner":{"account_id":25577581,"reputation":15,"user_id":19356725,"display_name":"Javed Quantum"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696313778,"creation_date":1695983509,"question_id":77201224,"body_markdown":"here i paste my logs data please help me , i am newbie to Android ble\r\n \r\n\r\n    488 set: Unset optional value from type SMPTE2086\r\n    2023-09-29 15:40:39.867 19329-19358 IMGMapper               com.eapro.myproject                  E  set:488 set: Unset optional value from type CTA861_3\r\n    2023-09-29 15:40:39.890 19329-19358 IMGMapper               com.eapro.myproject                  E  set:488 set: Unset optional value from type SMPTE2086\r\n    2023-09-29 15:40:39.890 19329-19358 IMGMapper               com.eapro.myproject                  E  set:488 set: Unset optional value from type CTA861_3\r\n    2023-09-29 15:40:39.900 19329-19358 IMGMapper               com.eapro.myproject                  E  set:488 set: Unset optional value from type SMPTE2086\r\n    2023-09-29 15:40:39.900 19329-19358 IMGMapper               com.eapro.myproject                  E  set:488 set: Unset optional value from type CTA861_3\r\n    2023-09-29 15:40:39.914 19329-19358 IMGMapper               com.eapro.myproject                  E  set:488 set: Unset optional value from type SMPTE2086\r\n    2023-09-29 15:40:39.914 19329-19358 IMGMapper               com.eapro.myproject                  E  set:488 set: Unset optional value from type CTA861_3\r\n    2023-09-29 15:40:39.929 19329-19329 ViewRootIm...[Connects] com.eapro.myproject                  I  MSG_WINDOW_FOCUS_CHANGED 0 0\r\n    2023-09-29 15:40:39.976 19329-19329 DecorView               com.eapro.myproject                  I  [INFO] isPopOver=false config=true\r\n    2023-09-29 15:40:39.976 19329-19329 DecorView               com.eapro.myproject                  I  updateCaptionType: isFloating=false isApplication=true hasWindowDecorCaption=false this=DecorView@5b3e97b[]\r\n    2023-09-29 15:40:39.976 19329-19329 DecorView               com.eapro.myproject                  D  setCaptionType = 0, this = DecorView@5b3e97b[]\r\n    2023-09-29 15:40:39.981 19329-19329 DecorView               com.eapro.myproject                  I  getCurrentDensityDpi: from real metrics. densityDpi=300 msg=resources_loaded\r\n    2023-09-29 15:40:39.982 19329-19329 DecorView               com.eapro.myproject                  I  setWindowBackground: isPopOver=false color=ffffffff d=android.graphics.drawable.ColorDrawable@af0d7f1\r\n    2023-09-29 15:40:40.144 19329-19339 InputTransport          com.eapro.myproject                  D  Input channel destroyed: &#39;ClientS&#39;, fd=172\r\n    2023-09-29 15:40:40.144 19329-19339 InputTransport          com.eapro.myproject                  D  Input channel destroyed: &#39;ClientS&#39;, fd=119\r\n    2023-09-29 15:40:40.187 19329-19337 eapro.myproject         com.eapro.myproject                  I  Compiler allocated 4177KB to compile void android.widget.TextView.&lt;init&gt;(android.content.Context, android.util.AttributeSet, int, int)\r\n    2023-09-29 15:40:40.196 19329-19329 &lt;no-tag&gt;                com.eapro.myproject                  D  javedesp32\r\n    2023-09-29 15:40:40.199 19329-19329 &lt;no-tag&gt;                com.eapro.myproject                  D  oldhaiesp32\r\n    2023-09-29 15:40:41.225 19329-19329 DetailBlewrite fail     com.eapro.myproject                  D  BleException { code=102, description=&#39;gatt writeCharacteristic fail&#39;}\r\n    2023-09-29 15:40:41.225 19329-19329 Tag                     com.eapro.myproject                  D  msg0\r\n    2023-09-29 15:40:41.230 19329-19329 DetailBlewrite fail     com.eapro.myproject                  D  BleException { code=102, description=&#39;gatt writeCharacteristic fail&#39;}\r\n    2023-09-29 15:40:41.230 19329-19329 Tag                     com.eapro.myproject                  D  msg0\r\n    2023-09-29 15:40:41.736 19329-19329 BluetoothGatt           com.eapro.myproject                  D  setCharacteristicNotification() - uuid: beb5483e-36e1-4688-b7f5-ea07361b26a8 enable: true\r\n    2023-09-29 15:40:42.748 19329-19329 BluetoothGatt           com.eapro.myproject                  D  configureMTU() - device: D4D4DA_2 mtu: 200\r\n    2023-09-29 15:40:42.750 19329-19329 DetailBleonCreate       com.eapro.myproject                  D  Device id not connected\r\n    2023-09-29 15:40:42.754 19329-19329 DetailBle               com.eapro.myproject                  D  Connected\r\n\r\nI want to show data on my ui from esp32 server.in android Application \r\ni am working on ble Android Application and other person on esp32 module \r\n\r\n","title":"I am Working on Ble Android Application. while receiving data from esp32 server my app got crash showing Input channel destroyed: &#39;ClientS&#39;, fd=172","body":"<p>here i paste my logs data please help me , i am newbie to Android ble</p>\n<pre><code>488 set: Unset optional value from type SMPTE2086\n2023-09-29 15:40:39.867 19329-19358 IMGMapper               com.eapro.myproject                  E  set:488 set: Unset optional value from type CTA861_3\n2023-09-29 15:40:39.890 19329-19358 IMGMapper               com.eapro.myproject                  E  set:488 set: Unset optional value from type SMPTE2086\n2023-09-29 15:40:39.890 19329-19358 IMGMapper               com.eapro.myproject                  E  set:488 set: Unset optional value from type CTA861_3\n2023-09-29 15:40:39.900 19329-19358 IMGMapper               com.eapro.myproject                  E  set:488 set: Unset optional value from type SMPTE2086\n2023-09-29 15:40:39.900 19329-19358 IMGMapper               com.eapro.myproject                  E  set:488 set: Unset optional value from type CTA861_3\n2023-09-29 15:40:39.914 19329-19358 IMGMapper               com.eapro.myproject                  E  set:488 set: Unset optional value from type SMPTE2086\n2023-09-29 15:40:39.914 19329-19358 IMGMapper               com.eapro.myproject                  E  set:488 set: Unset optional value from type CTA861_3\n2023-09-29 15:40:39.929 19329-19329 ViewRootIm...[Connects] com.eapro.myproject                  I  MSG_WINDOW_FOCUS_CHANGED 0 0\n2023-09-29 15:40:39.976 19329-19329 DecorView               com.eapro.myproject                  I  [INFO] isPopOver=false config=true\n2023-09-29 15:40:39.976 19329-19329 DecorView               com.eapro.myproject                  I  updateCaptionType: isFloating=false isApplication=true hasWindowDecorCaption=false this=DecorView@5b3e97b[]\n2023-09-29 15:40:39.976 19329-19329 DecorView               com.eapro.myproject                  D  setCaptionType = 0, this = DecorView@5b3e97b[]\n2023-09-29 15:40:39.981 19329-19329 DecorView               com.eapro.myproject                  I  getCurrentDensityDpi: from real metrics. densityDpi=300 msg=resources_loaded\n2023-09-29 15:40:39.982 19329-19329 DecorView               com.eapro.myproject                  I  setWindowBackground: isPopOver=false color=ffffffff d=android.graphics.drawable.ColorDrawable@af0d7f1\n2023-09-29 15:40:40.144 19329-19339 InputTransport          com.eapro.myproject                  D  Input channel destroyed: 'ClientS', fd=172\n2023-09-29 15:40:40.144 19329-19339 InputTransport          com.eapro.myproject                  D  Input channel destroyed: 'ClientS', fd=119\n2023-09-29 15:40:40.187 19329-19337 eapro.myproject         com.eapro.myproject                  I  Compiler allocated 4177KB to compile void android.widget.TextView.&lt;init&gt;(android.content.Context, android.util.AttributeSet, int, int)\n2023-09-29 15:40:40.196 19329-19329 &lt;no-tag&gt;                com.eapro.myproject                  D  javedesp32\n2023-09-29 15:40:40.199 19329-19329 &lt;no-tag&gt;                com.eapro.myproject                  D  oldhaiesp32\n2023-09-29 15:40:41.225 19329-19329 DetailBlewrite fail     com.eapro.myproject                  D  BleException { code=102, description='gatt writeCharacteristic fail'}\n2023-09-29 15:40:41.225 19329-19329 Tag                     com.eapro.myproject                  D  msg0\n2023-09-29 15:40:41.230 19329-19329 DetailBlewrite fail     com.eapro.myproject                  D  BleException { code=102, description='gatt writeCharacteristic fail'}\n2023-09-29 15:40:41.230 19329-19329 Tag                     com.eapro.myproject                  D  msg0\n2023-09-29 15:40:41.736 19329-19329 BluetoothGatt           com.eapro.myproject                  D  setCharacteristicNotification() - uuid: beb5483e-36e1-4688-b7f5-ea07361b26a8 enable: true\n2023-09-29 15:40:42.748 19329-19329 BluetoothGatt           com.eapro.myproject                  D  configureMTU() - device: D4D4DA_2 mtu: 200\n2023-09-29 15:40:42.750 19329-19329 DetailBleonCreate       com.eapro.myproject                  D  Device id not connected\n2023-09-29 15:40:42.754 19329-19329 DetailBle               com.eapro.myproject                  D  Connected\n</code></pre>\n<p>I want to show data on my ui from esp32 server.in android Application\ni am working on ble Android Application and other person on esp32 module</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1696312937,"post_id":77219954,"comment_id":136133296,"body_markdown":"Not sure what JsonPath implementation you are using. Does `$.cliffs[*].[Record, Mark]` work?","body":"Not sure what JsonPath implementation you are using. Does <code>$.cliffs[*].[Record, Mark]</code> work?"}],"owner":{"account_id":4229906,"reputation":55,"user_id":3462451,"accept_rate":100,"display_name":"user3462451"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696313669,"creation_date":1696312527,"question_id":77219954,"body_markdown":"This is a Json which I am trying to read. \r\n\r\n```json\r\n{\r\n    &quot;total&quot;: 100,\r\n    &quot;withdrawal&quot;: true,\r\n    &quot;cliffs&quot;: [\r\n        {\r\n            &quot;settings&quot;: {\r\n                &quot;type&quot;: &quot;Tools&quot;,\r\n                &quot;url&quot;: &quot;/se/da/v/IAF&quot;\r\n            },\r\n            &quot;Record&quot;: &quot;IIAA1245785&quot;,\r\n            &quot;Mark&quot;: &quot;U909033&quot;\r\n        },\r\n        {\r\n            &quot;settings&quot;: {\r\n                &quot;type&quot;: &quot;Tools&quot;,\r\n                &quot;url&quot;: &quot;/se/da/v/IAF3&quot;\r\n            },\r\n             &quot;Record&quot;: &quot;IIAA12467865&quot;,\r\n            &quot;Mark&quot;: &quot;U7898678&quot;\r\n        },\r\n        {\r\n            &quot;settings&quot;: {\r\n                &quot;type&quot;: &quot;Tools&quot;,\r\n                &quot;url&quot;: &quot;/se/da/v/IAF6675F&quot;\r\n            },\r\n            &quot;Record&quot;: &quot;IIAA19887&quot;,\r\n            &quot;Mark&quot;: &quot;U687687678&quot;\r\n        }\r\n\t]\r\n}\r\n```\r\n\r\n\r\nI need to get the Record and Mark details only within the cliffs.\r\n\r\n\r\n\r\nI am currently doing this\r\n\r\n\r\n```\r\nString response = getrecords();\r\nList&lt;String&gt; expectedRecord = JsonPath.read(response, &quot;$.cliffs[*].Record&quot;);\r\nList&lt;String&gt; expectedMark  = JsonPath.read(response, &quot;$.cliffs[*].Mark&quot;);\r\n\r\n```\r\n\r\nIs there other way of getting Record and Mark alone within cliffs avoiding the settings block? \r\n\r\nWhen I try the following:\r\n\r\n```\r\nList&lt;String&gt; expectedRecord = JsonPath.read(response, &quot;$.cliffs[*]&quot;);\r\n```\r\nI get the settings block as well with the response which I don&#39;t need. \r\n\r\n\r\n```json\r\n{\r\n            &quot;settings&quot;: {\r\n                &quot;type&quot;: &quot;Tools&quot;,\r\n                &quot;url&quot;: &quot;/se/da/v/IAF&quot;\r\n            },\r\n            &quot;Record&quot;: &quot;IIAA1245785&quot;,\r\n            &quot;Mark&quot;: &quot;U909033&quot;\r\n        },\r\n        {\r\n            &quot;settings&quot;: {\r\n                &quot;type&quot;: &quot;Tools&quot;,\r\n                &quot;url&quot;: &quot;/se/da/v/IAF3&quot;\r\n            },\r\n             &quot;Record&quot;: &quot;IIAA12467865&quot;,\r\n            &quot;Mark&quot;: &quot;U7898678&quot;\r\n        },\r\n        {\r\n            &quot;settings&quot;: {\r\n                &quot;type&quot;: &quot;Tools&quot;,\r\n                &quot;url&quot;: &quot;/se/da/v/IAF6675F&quot;\r\n            },\r\n            &quot;Record&quot;: &quot;IIAA19887&quot;,\r\n            &quot;Mark&quot;: &quot;U687687678&quot;\r\n        }\r\n```\r\n","title":"How to parse through a Json avoiding few elements","body":"<p>This is a Json which I am trying to read.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;total&quot;: 100,\n    &quot;withdrawal&quot;: true,\n    &quot;cliffs&quot;: [\n        {\n            &quot;settings&quot;: {\n                &quot;type&quot;: &quot;Tools&quot;,\n                &quot;url&quot;: &quot;/se/da/v/IAF&quot;\n            },\n            &quot;Record&quot;: &quot;IIAA1245785&quot;,\n            &quot;Mark&quot;: &quot;U909033&quot;\n        },\n        {\n            &quot;settings&quot;: {\n                &quot;type&quot;: &quot;Tools&quot;,\n                &quot;url&quot;: &quot;/se/da/v/IAF3&quot;\n            },\n             &quot;Record&quot;: &quot;IIAA12467865&quot;,\n            &quot;Mark&quot;: &quot;U7898678&quot;\n        },\n        {\n            &quot;settings&quot;: {\n                &quot;type&quot;: &quot;Tools&quot;,\n                &quot;url&quot;: &quot;/se/da/v/IAF6675F&quot;\n            },\n            &quot;Record&quot;: &quot;IIAA19887&quot;,\n            &quot;Mark&quot;: &quot;U687687678&quot;\n        }\n    ]\n}\n</code></pre>\n<p>I need to get the Record and Mark details only within the cliffs.</p>\n<p>I am currently doing this</p>\n<pre><code>String response = getrecords();\nList&lt;String&gt; expectedRecord = JsonPath.read(response, &quot;$.cliffs[*].Record&quot;);\nList&lt;String&gt; expectedMark  = JsonPath.read(response, &quot;$.cliffs[*].Mark&quot;);\n\n</code></pre>\n<p>Is there other way of getting Record and Mark alone within cliffs avoiding the settings block?</p>\n<p>When I try the following:</p>\n<pre><code>List&lt;String&gt; expectedRecord = JsonPath.read(response, &quot;$.cliffs[*]&quot;);\n</code></pre>\n<p>I get the settings block as well with the response which I don't need.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n            &quot;settings&quot;: {\n                &quot;type&quot;: &quot;Tools&quot;,\n                &quot;url&quot;: &quot;/se/da/v/IAF&quot;\n            },\n            &quot;Record&quot;: &quot;IIAA1245785&quot;,\n            &quot;Mark&quot;: &quot;U909033&quot;\n        },\n        {\n            &quot;settings&quot;: {\n                &quot;type&quot;: &quot;Tools&quot;,\n                &quot;url&quot;: &quot;/se/da/v/IAF3&quot;\n            },\n             &quot;Record&quot;: &quot;IIAA12467865&quot;,\n            &quot;Mark&quot;: &quot;U7898678&quot;\n        },\n        {\n            &quot;settings&quot;: {\n                &quot;type&quot;: &quot;Tools&quot;,\n                &quot;url&quot;: &quot;/se/da/v/IAF6675F&quot;\n            },\n            &quot;Record&quot;: &quot;IIAA19887&quot;,\n            &quot;Mark&quot;: &quot;U687687678&quot;\n        }\n</code></pre>\n"},{"tags":["java","visual-studio-code","formatting"],"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1696019896,"post_id":77199827,"comment_id":136105402,"body_markdown":"Does this answer your question? [Visual Studio Code java format document braces new line](https://stackoverflow.com/questions/44823701/visual-studio-code-java-format-document-braces-new-line)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/44823701/visual-studio-code-java-format-document-braces-new-line\">Visual Studio Code java format document braces new line</a>"}],"answers":[{"tags":[],"owner":{"account_id":3306892,"reputation":403,"user_id":2781431,"accept_rate":6,"display_name":"Shailesh"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695968888,"creation_date":1695968888,"answer_id":77199850,"question_id":77199827,"body_markdown":"IDE Eclipse has template for Java code format there on e can change for desired style. Similarly for VS code also it should have template and changing template should give required effect ","title":"Formatting vscode to handle java code with braces on separate lines","body":"<p>IDE Eclipse has template for Java code format there on e can change for desired style. Similarly for VS code also it should have template and changing template should give required effect</p>\n"},{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696313529,"creation_date":1696313529,"answer_id":77220022,"question_id":77199827,"body_markdown":"You can use the `Java: Open Java Formatter Settings with Preview.` command to open the format settings preview window for modification.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMore detailed settings can be read [here][2].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8MFT0.png\r\n  [2]: https://code.visualstudio.com/docs/java/java-linting#_editing-formatter-settings","title":"Formatting vscode to handle java code with braces on separate lines","body":"<p>You can use the <code>Java: Open Java Formatter Settings with Preview.</code> command to open the format settings preview window for modification.</p>\n<p><a href=\"https://i.stack.imgur.com/8MFT0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8MFT0.png\" alt=\"enter image description here\" /></a></p>\n<p>More detailed settings can be read <a href=\"https://code.visualstudio.com/docs/java/java-linting#_editing-formatter-settings\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":1270404,"reputation":3896,"user_id":1226843,"accept_rate":58,"display_name":"Matthew"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1696313529,"creation_date":1695968580,"question_id":77199827,"body_markdown":"I am looking for a way so that vscode will format my java code such that curly braces are on separate lines. For example...\r\n\r\n```\r\nif(x)\r\n{\r\n  dosomething();\r\n}\r\nelse\r\n{\r\n  dosomethingelse();\r\n}\r\n```\r\nI&#39;ve tried installing Java prettier format and Language Support for Java Red Hat, and neither of those seem to help. ","title":"Formatting vscode to handle java code with braces on separate lines","body":"<p>I am looking for a way so that vscode will format my java code such that curly braces are on separate lines. For example...</p>\n<pre><code>if(x)\n{\n  dosomething();\n}\nelse\n{\n  dosomethingelse();\n}\n</code></pre>\n<p>I've tried installing Java prettier format and Language Support for Java Red Hat, and neither of those seem to help.</p>\n"},{"tags":["java","sql","oracle","date","jdbc"],"comments":[{"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":2,"creation_date":1696314058,"post_id":77219971,"comment_id":136133434,"body_markdown":"Cannot replicate the problem in Oracle [fiddle](https://dbfiddle.uk/MnKQnXgp). Please [edit] the question and include a complete [MRE] with: the `CREATE TABLE` statement for the `personne` table; details of any triggers on the table (or fast-refresh materialized views); and the `NLS_DATE_FORMAT` that your session is using.","body":"Cannot replicate the problem in Oracle <a href=\"https://dbfiddle.uk/MnKQnXgp\" rel=\"nofollow noreferrer\">fiddle</a>. Please <a href=\"https://stackoverflow.com/posts/77219971/edit\">edit</a> the question and include a complete <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with: the <code>CREATE TABLE</code> statement for the <code>personne</code> table; details of any triggers on the table (or fast-refresh materialized views); and the <code>NLS_DATE_FORMAT</code> that your session is using."},{"owner":{"account_id":20552862,"reputation":355,"user_id":15085168,"display_name":"Luis Angel Urena Lopez"},"score":1,"creation_date":1696315020,"post_id":77219971,"comment_id":136133561,"body_markdown":"@BasilBourque it&#39;s of type Date and the version is `12.2.0.1.0` enterprise edition","body":"@BasilBourque it&#39;s of type Date and the version is <code>12.2.0.1.0</code> enterprise edition"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1696319737,"post_id":77219971,"comment_id":136134310,"body_markdown":"Post such details as edits to your Question rather than as Comments.","body":"Post such details as edits to your Question rather than as Comments."}],"owner":{"account_id":20552862,"reputation":355,"user_id":15085168,"display_name":"Luis Angel Urena Lopez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696313507,"creation_date":1696312829,"question_id":77219971,"body_markdown":"I&#39;m inserting data into my oracle sql database and one of the values is a date from 1980 february 29th. When I&#39;m adding this value, I&#39;m getting this error\r\n\r\n```\r\njava.sql.BatchUpdateException: ORA-01839: date not valid for month specified\r\n\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.generateBatchUpdateException(OraclePreparedStatement.java:10891)\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.executeBatchWithoutQueue(OraclePreparedStatement.java:10311)\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.executeLargeBatch(OraclePreparedStatement.java:10016)\r\n\tat oracle.jdbc.driver.OracleStatement.executeBatch(OracleStatement.java:5420)\r\n\tat oracle.jdbc.driver.OracleStatementWrapper.executeBatch(OracleStatementWrapper.java:289)\r\n```\r\n\r\nThe solution I&#39;ve seen is using `add_months` but I couldn&#39;t apply it with the PreparedStatements from jdbc. How can I do it? This is the code I&#39;m using with prepared statements\r\n\r\n      String personneString = &quot;INSERT INTO personne (idPersonne, datedenaissance) VALUES (?, ?)&quot;;\r\n\r\n      Date annivDate = (anniv == null) ? null : Date.valueOf(anniv);\r\n\r\n      try (PreparedStatement statementPersonne = connection.prepareStatement(personneString)) {\r\n         statementPersonne.setInt(1, idPersonne);\r\n         statementPersonne.setDate(2,  annivDate);\r\n         statementPersonne.addBatch();\r\n         statementPersonne.executeBatch();\r\n      } catch (SQLException e) {\r\n         System.out.println(&quot;date = &quot; + annivDate);\r\n         e.printStackTrace();\r\n      }\r\n\r\nWhich prints `date = 1980-02-29`","title":"ORA-01839: date not valid for month specified on a leap year with PreparedStatement","body":"<p>I'm inserting data into my oracle sql database and one of the values is a date from 1980 february 29th. When I'm adding this value, I'm getting this error</p>\n<pre><code>java.sql.BatchUpdateException: ORA-01839: date not valid for month specified\n\n    at oracle.jdbc.driver.OraclePreparedStatement.generateBatchUpdateException(OraclePreparedStatement.java:10891)\n    at oracle.jdbc.driver.OraclePreparedStatement.executeBatchWithoutQueue(OraclePreparedStatement.java:10311)\n    at oracle.jdbc.driver.OraclePreparedStatement.executeLargeBatch(OraclePreparedStatement.java:10016)\n    at oracle.jdbc.driver.OracleStatement.executeBatch(OracleStatement.java:5420)\n    at oracle.jdbc.driver.OracleStatementWrapper.executeBatch(OracleStatementWrapper.java:289)\n</code></pre>\n<p>The solution I've seen is using <code>add_months</code> but I couldn't apply it with the PreparedStatements from jdbc. How can I do it? This is the code I'm using with prepared statements</p>\n<pre><code>  String personneString = &quot;INSERT INTO personne (idPersonne, datedenaissance) VALUES (?, ?)&quot;;\n\n  Date annivDate = (anniv == null) ? null : Date.valueOf(anniv);\n\n  try (PreparedStatement statementPersonne = connection.prepareStatement(personneString)) {\n     statementPersonne.setInt(1, idPersonne);\n     statementPersonne.setDate(2,  annivDate);\n     statementPersonne.addBatch();\n     statementPersonne.executeBatch();\n  } catch (SQLException e) {\n     System.out.println(&quot;date = &quot; + annivDate);\n     e.printStackTrace();\n  }\n</code></pre>\n<p>Which prints <code>date = 1980-02-29</code></p>\n"},{"tags":["java","spring-boot","docker","amazon-ecs","aws-cli"],"comments":[{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1695124179,"post_id":77132618,"comment_id":135979400,"body_markdown":"There&#39;s a difference between an ECS Task Role: https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task-iam-roles.html and an ECS Task Execution Role: https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task_execution_IAM_role.html Your question is unclear as to if you actually have a Task Role since you mention &quot;Task Execution Role&quot; once. Please ensure you are assigning a Task Role that you want the software running in your container to use.","body":"There&#39;s a difference between an ECS Task Role: <a href=\"https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task-iam-roles.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AmazonECS/latest/developerguide/&hellip;</a> and an ECS Task Execution Role: <a href=\"https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task_execution_IAM_role.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AmazonECS/latest/developerguide/&hellip;</a> Your question is unclear as to if you actually have a Task Role since you mention &quot;Task Execution Role&quot; once. Please ensure you are assigning a Task Role that you want the software running in your container to use."},{"owner":{"account_id":1013705,"reputation":53,"user_id":1025760,"accept_rate":83,"display_name":"meletis"},"score":0,"creation_date":1696313498,"post_id":77132618,"comment_id":136133350,"body_markdown":"Thank you, @MarkB, but I&#39;m aware of the difference. But you were right that my description was misleading, so I edited it now to be more clear.","body":"Thank you, @MarkB, but I&#39;m aware of the difference. But you were right that my description was misleading, so I edited it now to be more clear."}],"owner":{"account_id":1013705,"reputation":53,"user_id":1025760,"accept_rate":83,"display_name":"meletis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696313443,"creation_date":1695109924,"question_id":77132618,"body_markdown":"I have the following setup:\r\n\r\n - A docker image on which Java 17 and AWS CLI v2 are installed.\r\n - The docker image also contains:\r\n   - A Spring Boot app\r\n   - A ```/test-identity.sh``` script that executes only ```aws sts get-caller-identity``` inside.\r\n - The image is deployed in AWS ECS and there is a task role and an EC2 instance role defined in IAM for the task and the service.\r\n\r\n**When I use the AWS SDK for Java within the Java code, then that is using the credentials of the task role, as expected.**\r\n\r\nI perform the following two tests:\r\n\r\n1. I SSH into the ECS node and I execute the following:\r\n\r\n&gt; docker exec -it e15f498e4ca0 /bin/bash\r\n&gt;\r\n&gt; /test-identity.sh\r\n\r\n2. I add some Java code in the Spring Boot like the following:\r\n\r\n&gt; Runtime.getRuntime().exec(&quot;/bin/bash&quot;, &quot;-lc&quot;, &quot;/test-identity.sh&quot;)\r\n\r\nThe result of test #1 is different than #2. The output of test #1 gives me the service&#39;s task role (as exepcted) while the output of #2 gives me the EC2 instance role (not expected).\r\n\r\nMy goal is to make #2 output the task role too, since I want that script to use the same credentials as the Java code (when run via Java code).\r\n\r\nIs this possible?","title":"Different AWS CLI identity when running script via Java&#39;s Runtime.getRuntime() inside AWS ECS node that runs a Spring Boot app","body":"<p>I have the following setup:</p>\n<ul>\n<li>A docker image on which Java 17 and AWS CLI v2 are installed.</li>\n<li>The docker image also contains:\n<ul>\n<li>A Spring Boot app</li>\n<li>A <code>/test-identity.sh</code> script that executes only <code>aws sts get-caller-identity</code> inside.</li>\n</ul>\n</li>\n<li>The image is deployed in AWS ECS and there is a task role and an EC2 instance role defined in IAM for the task and the service.</li>\n</ul>\n<p><strong>When I use the AWS SDK for Java within the Java code, then that is using the credentials of the task role, as expected.</strong></p>\n<p>I perform the following two tests:</p>\n<ol>\n<li>I SSH into the ECS node and I execute the following:</li>\n</ol>\n<blockquote>\n<p>docker exec -it e15f498e4ca0 /bin/bash</p>\n<p>/test-identity.sh</p>\n</blockquote>\n<ol start=\"2\">\n<li>I add some Java code in the Spring Boot like the following:</li>\n</ol>\n<blockquote>\n<p>Runtime.getRuntime().exec(&quot;/bin/bash&quot;, &quot;-lc&quot;, &quot;/test-identity.sh&quot;)</p>\n</blockquote>\n<p>The result of test #1 is different than #2. The output of test #1 gives me the service's task role (as exepcted) while the output of #2 gives me the EC2 instance role (not expected).</p>\n<p>My goal is to make #2 output the task role too, since I want that script to use the same credentials as the Java code (when run via Java code).</p>\n<p>Is this possible?</p>\n"},{"tags":["java","android","sqlite","android-sqlite"],"comments":[{"owner":{"account_id":15778273,"reputation":236,"user_id":11385462,"display_name":"JacquesBauer"},"score":0,"creation_date":1576179857,"post_id":59311624,"comment_id":104825374,"body_markdown":"Just a suggestion, but you might have an easier time using Room https://developer.android.com/topic/libraries/architecture/room","body":"Just a suggestion, but you might have an easier time using Room <a href=\"https://developer.android.com/topic/libraries/architecture/room\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/architecture/room</a>"},{"owner":{"account_id":6476838,"reputation":12880,"user_id":5015207,"accept_rate":83,"display_name":"B&#246; macht Blau"},"score":0,"creation_date":1576182605,"post_id":59311624,"comment_id":104826423,"body_markdown":"You could add another column (for the chapter) to your table. Then your Activity or Fragment can retrieve all questions for the current chapter. In this case the Cursor in your database would be reusable. The query would contain non null values for *selection* (the column for the chapter) and *selectionArgs* (the current chapter)","body":"You could add another column (for the chapter) to your table. Then your Activity or Fragment can retrieve all questions for the current chapter. In this case the Cursor in your database would be reusable. The query would contain non null values for <i>selection</i> (the column for the chapter) and <i>selectionArgs</i> (the current chapter)"},{"owner":{"account_id":10805772,"reputation":1669,"user_id":7948109,"display_name":"Rahul Gaur"},"score":0,"creation_date":1576211607,"post_id":59311624,"comment_id":104833497,"body_markdown":"Suggestion to use Room instead of SQLite [Take a look at this](https://www.youtube.com/watch?v=JOinUZLs3l8) , its a youtube video showing how to use Room + Retrofit + Livedata + ViewModel to create **Quiz App**","body":"Suggestion to use Room instead of SQLite <a href=\"https://www.youtube.com/watch?v=JOinUZLs3l8\" rel=\"nofollow noreferrer\">Take a look at this</a> , its a youtube video showing how to use Room + Retrofit + Livedata + ViewModel to create <b>Quiz App</b>"}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576223973,"creation_date":1576210791,"answer_id":59316084,"question_id":59311624,"body_markdown":"&gt; Do I have to create separate cursor for each activity?\n\nYes; BUT, with the code you have the Activity doesn&#39;t use the Cursor it uses a List of Question objects *( `List&lt;Question&gt;`)* derived from a Cursor which is closed and this disposed of.\n\n&gt; How to proceed?\n\nWith you current view of how things are going to work, based upon the code. You would create a near identical method specifically for another subject BUT you would likely find things easier in the long run by reconsidering the database design (schema).\n\nDo really really need a table per subject? You already appear to be flummexed by chapters I guess you don&#39;t really want to have a table per chapter per subject i.e 25 tables.\n\nI&#39;d propose using a table per concrete element/entity/thing. That is, you mention **Subjects**, **Chapters**, **Questions** and **Answers** which are all related in a hierarchy. \n\n- A **subject** will be concrete as it will have the same properties primarilly a name.\n- A **Chapter** will have a name (or something that distinguishes it from other chapters), it will also be related to a one and only one of the **subjects**.\n- A **Question** will primarilly be the question that the user is confronted with, it will be related to a **chapter** and thus implicitly realted to a **subject**.\n- An **Answer** will be related to a question, it will have data that will be presented to the user it will be either the correct answer for the related question or it will not be the answer.\n\nNote that in the above no mention has been made of quantities other than the above has a hierarchy in which with the expect of a subject the other entities relate to a single entity above. These are 1 to Many relationships. As such the data could be structured without imposing restrictions other than the pretty obvious hiearchy.\n\n\nI&#39;d suggest considering a table for each entity as above. That is :-\n\nA **subject** table with\n\n- A column for the Subject\n- A column for a numeric identifier\n  - an alias of the **rowid** very much suits i.e a column defined using  INTEGER PRIMARY KEY (without AUTOINCREMENT as that is inefficient and not needed)\n\nA **chapter** table with\n\n- A column for the chapter name(distinguisher) presented to the user (e.g. Chapter 1 (stroing 1 could be sufficient))\n- A column to store the subject to which the chapter relates (belongs to) i.e. the subject&#39;s numeric identifier.\n- A column for the chapter&#39;s numeric identifier.\n\nA **question** table for ALL questions with\n\n- A column for the question itself.\n- A column for the chapter to which the question realtes\n- A column for the question&#39;s numeric identifier\n\nAn **answer** table for ALL of the answers with\n\n- A column for the answer.\n- A column for indicating if this is the correct or incorrect answer\n- A column for the question to which the answer relates.\n- Optionaly, a column for the answer&#39;s numeric identifier.\n\nSo the strutcture could be :-\n\n    CREATE TABLE IF NOT EXISTS subject (_id INTEGER PRIMARY KEY, subject TEXT UNIQUE);\n    CREATE TABLE IF NOT EXISTS chapter (_id INTEGER PRIMARY KEY, subject_reference, chapter TEXT UNIQUE);\n    CREATE TABLE IF NOT EXISTS question (_id INTEGER PRIMARY KEY, chapter_reference INTEGER, question TEXT UNIQUE);\n    CREATE TABLE IF NOT EXISTS answer (_id INTEGER PRIMARY KEY, question_reference, answer TEXT, correct_flag INTEGER DEFAULT 0);\n\nIf Foreign Keys were to be utilised then the above could be :-\n\n    CREATE TABLE IF NOT EXISTS subject (_id INTEGER PRIMARY KEY, subject TEXT UNIQUE);\n    \n    CREATE TABLE IF NOT EXISTS chapter (\n        _id INTEGER PRIMARY KEY, \n        subject_reference INTEGER NOT NULL REFERENCES subject(_id) ON DELETE CASCADE ON UPDATE CASCADE, \n        chapter TEXT UNIQUE\n    );\n    \n    CREATE TABLE IF NOT EXISTS question (\n        _id INTEGER PRIMARY KEY, \n        chapter_reference INTEGER NOT NULL REFERENCES chapter(_id) ON DELETE CASCADE ON UPDATE CASCADE, \n        question TEXT UNIQUE\n    );\n    \n    CREATE TABLE IF NOT EXISTS answer (\n        _id INTEGER PRIMARY KEY, \n        question_reference INTEGER NOT NULL REFERENCES question(_id) ON DELETE CASCADE ON UPDATE CASCADE, \n        answer TEXT, \n        correct_flag INTEGER DEFAULT 0 /*&lt;&lt;&lt;&lt; deafult to not the correct answer */\n    );\n\nNot only would the structure cater for chapter, it would be very simple to add/remove subjects and chapters it allows far more flexibility as there would be no fixed chapters per subject questions per chapter or answers per question.\n\nAs an example consider the following data (limited) added (inserted)\n\n    INSERT INTO subject VALUES(1,&#39;Current Affairs&#39;),(2,&#39;Islamic Studies&#39;),(3,&#39;Historical&#39;),(4,&#39;Future&#39;),(5,&#39;and so on&#39;);\n    INSERT INTO subject (subject) VALUES (&#39;another subject with id auto generated&#39;),(&#39;yet another subject with id auto generated&#39;);\n    INSERT INTO chapter VALUES\n        (1,1,&#39;CA Chapter1&#39;),(2,1,&#39;CA Chapter2&#39;),(3,1,&#39;CA Chapter3&#39;),(4,1,&#39;CA Chapter4&#39;),(5,1,&#39;CA Chapter5&#39;)\n        ,(11,2,&#39;IS Chapter1&#39;),(12,2,&#39;IS Chapter2&#39;),(13,2,&#39;IS Chapter3&#39;),(14,2,&#39;IS Chapter4&#39;),(15,2,&#39;IS Chapter5&#39;)\n        ,(21,3,&#39;Hist Chapter1&#39;),(22,3,&#39;Hist Chapter2&#39;),(23,3,&#39;Hist Chapter3&#39;),(24,3,&#39;Hist Chapter4&#39;),(25,3,&#39;Hist Chapter5&#39;)\n        ,(31,4,&#39;Fut Chapter1&#39;),(32,4,&#39;Fut Chapter2&#39;),(33,4,&#39;Fut Chapter3&#39;),(34,4,&#39;Fut Chapter4&#39;),(35,4,&#39;Fut Chapter5&#39;)\n    ;\n    INSERT INTO chapter (subject_reference, chapter) VALUES\n        (5,&#39;ASO Chapter1&#39;),(5,&#39;ASO Chapter2&#39;)\n    ;\n    WITH cte_subject AS (SELECT _id FROM subject WHERE subject LIKE &#39;and so on&#39;)\n    INSERT INTO chapter (subject_reference, chapter) VALUES((SELECT * FROM cte_subject),&#39;Chapter3&#39;),((SELECT * FROM cte_subject),&#39;Chapter4&#39;),((SELECT * FROM cte_subject),&#39;Chapter5&#39;)\n    ;\n    \n    INSERT INTO question VALUES \n      /* Chapter 1 */\n        (1,1,&#39;The worlds oldest international human rights organization is?&#39;)\n        ,(2,1,&#39;CA CHP1 Q2&#39;),(3,1,&#39;CA CHP1 Q3&#39;),(4,1,&#39;CA CHP1 Q4&#39;),(5,1,&#39;CA CHP1 Q5&#39;),(6,1,&#39;CA CHP1 Q6&#39;)\n        ,(7,1,&#39;CA CHP1 Q7&#39;),(8,1,&#39;CA CHP1 Q8&#39;) /* etc */\n        /* Chapter 2 */\n        ,(101,2,&#39;The constitution of European union has not been ratified by?&#39;)\n        ,(102,2,&#39;CA CHP2 Q2&#39;),(103,2,&#39;CA CHP2 Q3&#39;),(104,2,&#39;CA CHP2 Q4&#39;),(105,2,&#39;CA CHP2 Q5&#39;),(106,2,&#39;CA CHP2 Q6&#39;)\n        ,(107,2,&#39;CA CHP2 Q7&#39;),(108,2,&#39;CA CHP2 Q8&#39;) /* etc */\n    ;\n    INSERT INTO answer (question_reference,answer,correct_flag) VALUES\n        (1,&#39;amnesty international&#39;,null),(1,&#39;freedom house&#39;,null),(1,&#39;anti slavery&#39;,1),(1,&#39;non of these&#39;,0)\n        ,(2,&#39;amnesty international&#39;,1),(2,&#39;freedom house&#39;,null),(2,&#39;anti slavery&#39;,0),(2,&#39;non of these&#39;,0)\n        ,(3,&#39;amnesty international&#39;,1),(3,&#39;freedom house&#39;,null),(3,&#39;anti slavery&#39;,0),(3,&#39;non of these&#39;,0)\n        ,(4,&#39;amnesty international&#39;,1),(4,&#39;freedom house&#39;,null),(4,&#39;anti slavery&#39;,0),(4,&#39;non of these&#39;,0)\n        ,(5,&#39;amnesty international&#39;,1),(5,&#39;freedom house&#39;,null),(5,&#39;anti slavery&#39;,0),(5,&#39;non of these&#39;,0)\n        ,(6,&#39;amnesty international&#39;,1),(6,&#39;freedom house&#39;,null),(6,&#39;anti slavery&#39;,0),(6,&#39;non of these&#39;,0)\n        \n        ,(101,&#39;amnesty international&#39;,null),(101,&#39;freedom house&#39;,null),(101,&#39;anti slavery&#39;,1),(101,&#39;non of these&#39;,0),(101,&#39;A Fifth answer&#39;,0)\n        ,(102,&#39;first answer&#39;,1),(102,&#39;second answer&#39;,null),(102,&#39;third answer&#39;,0)\n        ,(103,&#39;amnesty international&#39;,1),(103,&#39;freedom house&#39;,null),(103,&#39;anti slavery&#39;,0),(103,&#39;non of these&#39;,0)\n        ,(104,&#39;amnesty international&#39;,1),(104,&#39;freedom house&#39;,null)\n        ,(105,&#39;amnesty international&#39;,1),(105,&#39;freedom house&#39;,null),(105,&#39;anti slavery&#39;,0),(105,&#39;non of these&#39;,0)\n        ,(106,&#39;amnesty international&#39;,1),(106,&#39;freedom house&#39;,null),(106,&#39;anti slavery&#39;,0),(106,&#39;non of these&#39;,0)\n    ;\n\n- Note for convenience much of the data has been repeated.\n\nUsing the above data assume that you want to get the questions and answers to be displayed for a chapter within a subject then you could have a query based upon (as one a numerous possibilities) :-\n\n    SELECT subject, chapter, question, group_concat(answer,&#39;    &#39;) AS answers \n    FROM chapter \n        JOIN subject ON subject._id = chapter.subject_reference\n        JOIN question ON question.chapter_reference = chapter._id\n        JOIN answer ON answer.question_reference = question._id\n    WHERE \n        subject LIKE &#39;Current%&#39; /*&lt;&lt;&lt;&lt;&lt; value passed to the query */\n        AND chapter LIKE &#39;%Chapter2%&#39;/*&lt;&lt;&lt;&lt;&lt; value passed to the query */\n    GROUP BY question._id\n    ORDER BY chapter._id,question._id\n    ;\n\nThis would result in :-\n\n[![enter image description here][1]][1]\n\nA similar query but this time based upon subject and chapter **id**&#39;s but this time for the first subject and the first chapter (**id**&#39;s would typically be easier and more efficient to work with) :-\n\n    SELECT subject, chapter, question, group_concat(answer,&#39;    &#39;) AS answers \n    FROM chapter \n        JOIN subject ON subject._id = chapter.subject_reference\n        JOIN question ON question.chapter_reference = chapter._id\n        JOIN answer ON answer.question_reference = question._id\n    WHERE \n        subject._id = 1 /*&lt;&lt;&lt;&lt;&lt; value passed to the query */\n        AND chapter._id = 1 /*&lt;&lt;&lt;&lt;&lt; value passed to the query */\n    GROUP BY question._id\n    ORDER BY chapter._id,question._id\n    ;\n\nwould result in :-\n\n[![enter image description here][2]][2]\n\nYou could easily have just the one activity that allows selection of the subject/chapter (e.g. selecting the subject from a spinner which then drives a second spinner that allows the chapter to be selected) that then provides the user with the relevant set of questions answers.\n\n# Working Example\n\nA working example can be found at [SO59311624Quiz](https://github.com/Mike-j-t-laptop/SO59311624Quiz)\n\nAs a taster when first run :-\n\n[![enter image description here][3]][3]\n\nSelect Chapter2 results in :-\n\n[![enter image description here][4]][4]\n\nSelecting the Subject Other stuff results in :-\n\n[![enter image description here][5]][5]\n\n\n  [1]: https://i.stack.imgur.com/U6EZ8.png\n  [2]: https://i.stack.imgur.com/VvLiX.png\n  [3]: https://i.stack.imgur.com/5te0z.png\n  [4]: https://i.stack.imgur.com/UIGIm.png\n  [5]: https://i.stack.imgur.com/vbl2f.png","title":"How to make android quiz application using sqlite?","body":"<blockquote>\n<p>Do I have to create separate cursor for each activity?</p>\n</blockquote>\n<p>Yes; BUT, with the code you have the Activity doesn't use the Cursor it uses a List of Question objects <em>( <code>List&lt;Question&gt;</code>)</em> derived from a Cursor which is closed and this disposed of.</p>\n<blockquote>\n<p>How to proceed?</p>\n</blockquote>\n<p>With you current view of how things are going to work, based upon the code. You would create a near identical method specifically for another subject BUT you would likely find things easier in the long run by reconsidering the database design (schema).</p>\n<p>Do really really need a table per subject? You already appear to be flummexed by chapters I guess you don't really want to have a table per chapter per subject i.e 25 tables.</p>\n<p>I'd propose using a table per concrete element/entity/thing. That is, you mention <strong>Subjects</strong>, <strong>Chapters</strong>, <strong>Questions</strong> and <strong>Answers</strong> which are all related in a hierarchy.</p>\n<ul>\n<li>A <strong>subject</strong> will be concrete as it will have the same properties primarilly a name.</li>\n<li>A <strong>Chapter</strong> will have a name (or something that distinguishes it from other chapters), it will also be related to a one and only one of the <strong>subjects</strong>.</li>\n<li>A <strong>Question</strong> will primarilly be the question that the user is confronted with, it will be related to a <strong>chapter</strong> and thus implicitly realted to a <strong>subject</strong>.</li>\n<li>An <strong>Answer</strong> will be related to a question, it will have data that will be presented to the user it will be either the correct answer for the related question or it will not be the answer.</li>\n</ul>\n<p>Note that in the above no mention has been made of quantities other than the above has a hierarchy in which with the expect of a subject the other entities relate to a single entity above. These are 1 to Many relationships. As such the data could be structured without imposing restrictions other than the pretty obvious hiearchy.</p>\n<p>I'd suggest considering a table for each entity as above. That is :-</p>\n<p>A <strong>subject</strong> table with</p>\n<ul>\n<li>A column for the Subject</li>\n<li>A column for a numeric identifier\n<ul>\n<li>an alias of the <strong>rowid</strong> very much suits i.e a column defined using  INTEGER PRIMARY KEY (without AUTOINCREMENT as that is inefficient and not needed)</li>\n</ul>\n</li>\n</ul>\n<p>A <strong>chapter</strong> table with</p>\n<ul>\n<li>A column for the chapter name(distinguisher) presented to the user (e.g. Chapter 1 (stroing 1 could be sufficient))</li>\n<li>A column to store the subject to which the chapter relates (belongs to) i.e. the subject's numeric identifier.</li>\n<li>A column for the chapter's numeric identifier.</li>\n</ul>\n<p>A <strong>question</strong> table for ALL questions with</p>\n<ul>\n<li>A column for the question itself.</li>\n<li>A column for the chapter to which the question realtes</li>\n<li>A column for the question's numeric identifier</li>\n</ul>\n<p>An <strong>answer</strong> table for ALL of the answers with</p>\n<ul>\n<li>A column for the answer.</li>\n<li>A column for indicating if this is the correct or incorrect answer</li>\n<li>A column for the question to which the answer relates.</li>\n<li>Optionaly, a column for the answer's numeric identifier.</li>\n</ul>\n<p>So the strutcture could be :-</p>\n<pre><code>CREATE TABLE IF NOT EXISTS subject (_id INTEGER PRIMARY KEY, subject TEXT UNIQUE);\nCREATE TABLE IF NOT EXISTS chapter (_id INTEGER PRIMARY KEY, subject_reference, chapter TEXT UNIQUE);\nCREATE TABLE IF NOT EXISTS question (_id INTEGER PRIMARY KEY, chapter_reference INTEGER, question TEXT UNIQUE);\nCREATE TABLE IF NOT EXISTS answer (_id INTEGER PRIMARY KEY, question_reference, answer TEXT, correct_flag INTEGER DEFAULT 0);\n</code></pre>\n<p>If Foreign Keys were to be utilised then the above could be :-</p>\n<pre><code>CREATE TABLE IF NOT EXISTS subject (_id INTEGER PRIMARY KEY, subject TEXT UNIQUE);\n\nCREATE TABLE IF NOT EXISTS chapter (\n    _id INTEGER PRIMARY KEY, \n    subject_reference INTEGER NOT NULL REFERENCES subject(_id) ON DELETE CASCADE ON UPDATE CASCADE, \n    chapter TEXT UNIQUE\n);\n\nCREATE TABLE IF NOT EXISTS question (\n    _id INTEGER PRIMARY KEY, \n    chapter_reference INTEGER NOT NULL REFERENCES chapter(_id) ON DELETE CASCADE ON UPDATE CASCADE, \n    question TEXT UNIQUE\n);\n\nCREATE TABLE IF NOT EXISTS answer (\n    _id INTEGER PRIMARY KEY, \n    question_reference INTEGER NOT NULL REFERENCES question(_id) ON DELETE CASCADE ON UPDATE CASCADE, \n    answer TEXT, \n    correct_flag INTEGER DEFAULT 0 /*&lt;&lt;&lt;&lt; deafult to not the correct answer */\n);\n</code></pre>\n<p>Not only would the structure cater for chapter, it would be very simple to add/remove subjects and chapters it allows far more flexibility as there would be no fixed chapters per subject questions per chapter or answers per question.</p>\n<p>As an example consider the following data (limited) added (inserted)</p>\n<pre><code>INSERT INTO subject VALUES(1,'Current Affairs'),(2,'Islamic Studies'),(3,'Historical'),(4,'Future'),(5,'and so on');\nINSERT INTO subject (subject) VALUES ('another subject with id auto generated'),('yet another subject with id auto generated');\nINSERT INTO chapter VALUES\n    (1,1,'CA Chapter1'),(2,1,'CA Chapter2'),(3,1,'CA Chapter3'),(4,1,'CA Chapter4'),(5,1,'CA Chapter5')\n    ,(11,2,'IS Chapter1'),(12,2,'IS Chapter2'),(13,2,'IS Chapter3'),(14,2,'IS Chapter4'),(15,2,'IS Chapter5')\n    ,(21,3,'Hist Chapter1'),(22,3,'Hist Chapter2'),(23,3,'Hist Chapter3'),(24,3,'Hist Chapter4'),(25,3,'Hist Chapter5')\n    ,(31,4,'Fut Chapter1'),(32,4,'Fut Chapter2'),(33,4,'Fut Chapter3'),(34,4,'Fut Chapter4'),(35,4,'Fut Chapter5')\n;\nINSERT INTO chapter (subject_reference, chapter) VALUES\n    (5,'ASO Chapter1'),(5,'ASO Chapter2')\n;\nWITH cte_subject AS (SELECT _id FROM subject WHERE subject LIKE 'and so on')\nINSERT INTO chapter (subject_reference, chapter) VALUES((SELECT * FROM cte_subject),'Chapter3'),((SELECT * FROM cte_subject),'Chapter4'),((SELECT * FROM cte_subject),'Chapter5')\n;\n\nINSERT INTO question VALUES \n  /* Chapter 1 */\n    (1,1,'The worlds oldest international human rights organization is?')\n    ,(2,1,'CA CHP1 Q2'),(3,1,'CA CHP1 Q3'),(4,1,'CA CHP1 Q4'),(5,1,'CA CHP1 Q5'),(6,1,'CA CHP1 Q6')\n    ,(7,1,'CA CHP1 Q7'),(8,1,'CA CHP1 Q8') /* etc */\n    /* Chapter 2 */\n    ,(101,2,'The constitution of European union has not been ratified by?')\n    ,(102,2,'CA CHP2 Q2'),(103,2,'CA CHP2 Q3'),(104,2,'CA CHP2 Q4'),(105,2,'CA CHP2 Q5'),(106,2,'CA CHP2 Q6')\n    ,(107,2,'CA CHP2 Q7'),(108,2,'CA CHP2 Q8') /* etc */\n;\nINSERT INTO answer (question_reference,answer,correct_flag) VALUES\n    (1,'amnesty international',null),(1,'freedom house',null),(1,'anti slavery',1),(1,'non of these',0)\n    ,(2,'amnesty international',1),(2,'freedom house',null),(2,'anti slavery',0),(2,'non of these',0)\n    ,(3,'amnesty international',1),(3,'freedom house',null),(3,'anti slavery',0),(3,'non of these',0)\n    ,(4,'amnesty international',1),(4,'freedom house',null),(4,'anti slavery',0),(4,'non of these',0)\n    ,(5,'amnesty international',1),(5,'freedom house',null),(5,'anti slavery',0),(5,'non of these',0)\n    ,(6,'amnesty international',1),(6,'freedom house',null),(6,'anti slavery',0),(6,'non of these',0)\n    \n    ,(101,'amnesty international',null),(101,'freedom house',null),(101,'anti slavery',1),(101,'non of these',0),(101,'A Fifth answer',0)\n    ,(102,'first answer',1),(102,'second answer',null),(102,'third answer',0)\n    ,(103,'amnesty international',1),(103,'freedom house',null),(103,'anti slavery',0),(103,'non of these',0)\n    ,(104,'amnesty international',1),(104,'freedom house',null)\n    ,(105,'amnesty international',1),(105,'freedom house',null),(105,'anti slavery',0),(105,'non of these',0)\n    ,(106,'amnesty international',1),(106,'freedom house',null),(106,'anti slavery',0),(106,'non of these',0)\n;\n</code></pre>\n<ul>\n<li>Note for convenience much of the data has been repeated.</li>\n</ul>\n<p>Using the above data assume that you want to get the questions and answers to be displayed for a chapter within a subject then you could have a query based upon (as one a numerous possibilities) :-</p>\n<pre><code>SELECT subject, chapter, question, group_concat(answer,'    ') AS answers \nFROM chapter \n    JOIN subject ON subject._id = chapter.subject_reference\n    JOIN question ON question.chapter_reference = chapter._id\n    JOIN answer ON answer.question_reference = question._id\nWHERE \n    subject LIKE 'Current%' /*&lt;&lt;&lt;&lt;&lt; value passed to the query */\n    AND chapter LIKE '%Chapter2%'/*&lt;&lt;&lt;&lt;&lt; value passed to the query */\nGROUP BY question._id\nORDER BY chapter._id,question._id\n;\n</code></pre>\n<p>This would result in :-</p>\n<p><a href=\"https://i.stack.imgur.com/U6EZ8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U6EZ8.png\" alt=\"enter image description here\" /></a></p>\n<p>A similar query but this time based upon subject and chapter <strong>id</strong>'s but this time for the first subject and the first chapter (<strong>id</strong>'s would typically be easier and more efficient to work with) :-</p>\n<pre><code>SELECT subject, chapter, question, group_concat(answer,'    ') AS answers \nFROM chapter \n    JOIN subject ON subject._id = chapter.subject_reference\n    JOIN question ON question.chapter_reference = chapter._id\n    JOIN answer ON answer.question_reference = question._id\nWHERE \n    subject._id = 1 /*&lt;&lt;&lt;&lt;&lt; value passed to the query */\n    AND chapter._id = 1 /*&lt;&lt;&lt;&lt;&lt; value passed to the query */\nGROUP BY question._id\nORDER BY chapter._id,question._id\n;\n</code></pre>\n<p>would result in :-</p>\n<p><a href=\"https://i.stack.imgur.com/VvLiX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VvLiX.png\" alt=\"enter image description here\" /></a></p>\n<p>You could easily have just the one activity that allows selection of the subject/chapter (e.g. selecting the subject from a spinner which then drives a second spinner that allows the chapter to be selected) that then provides the user with the relevant set of questions answers.</p>\n<h1>Working Example</h1>\n<p>A working example can be found at <a href=\"https://github.com/Mike-j-t-laptop/SO59311624Quiz\" rel=\"nofollow noreferrer\">SO59311624Quiz</a></p>\n<p>As a taster when first run :-</p>\n<p><a href=\"https://i.stack.imgur.com/5te0z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5te0z.png\" alt=\"enter image description here\" /></a></p>\n<p>Select Chapter2 results in :-</p>\n<p><a href=\"https://i.stack.imgur.com/UIGIm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UIGIm.png\" alt=\"enter image description here\" /></a></p>\n<p>Selecting the Subject Other stuff results in :-</p>\n<p><a href=\"https://i.stack.imgur.com/vbl2f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vbl2f.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":17296281,"reputation":1,"user_id":12526873,"display_name":"Salman Rattar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1612,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696312856,"creation_date":1576179442,"question_id":59311624,"body_markdown":"I am working on android quiz application. My goal is to make quiz app which consists of multiple choice questions of 5 subjects. \r\n\r\nEach subjects has 5 chapters and each chapter has 20 multiple choice questions. \r\n\r\nSo far I have been able to make android application which starts quiz of multiple choice questions of all chapters of a subject. I did it by making a table in sqlite. \r\n\r\nThe multiple choice questions of all chapters are being displayed in one activity. I wanted my app to start quiz for each chapter separately. Do I have to create separate cursor for each activity? How to proceed?\r\n\r\nmy code\r\n    \r\n    public class QuizDbHelper extends SQLiteOpenHelper {\r\n    \r\n        private static final String DATABASE_NAME = &quot;MyAwesomeQuiz.db&quot;;\r\n        private static final int DATABASE_VERSION = 2;    \r\n        private SQLiteDatabase db;\r\n    \r\n        public QuizDbHelper(@Nullable Context context) {\r\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);    \r\n        }\r\n\r\n        @Override    \r\n        public void onCreate(SQLiteDatabase db) {\r\n            this.db = db;\r\n    \r\n            final String SQL_CREATE_Current_Affairs_TABLE = &quot;CREATE TABLE &quot; +\r\n                    QuizContract.Questions_CurrentAffairs.TABLE_NAME + &quot; ( &quot; +\r\n                    QuizContract.Questions_CurrentAffairs._ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\r\n                    QuizContract.Questions_CurrentAffairs.COLUMN_QUESTION + &quot; TEXT, &quot; +\r\n                    QuizContract.Questions_CurrentAffairs.COLUMN_OPTIONA1 + &quot; TEXT, &quot; +\r\n                    QuizContract.Questions_CurrentAffairs.COLUMN_OPTIONB1 + &quot; TEXT, &quot; +\r\n                    QuizContract.Questions_CurrentAffairs.COLUMN_OPTIONC1 + &quot; TEXT, &quot; +\r\n                    QuizContract.Questions_CurrentAffairs.COLUMN_OPTIOND1 + &quot; TEXT, &quot; +\r\n                    QuizContract.Questions_CurrentAffairs.COLUMN_ANSWER_NR + &quot; INTEGER&quot; +\r\n                    &quot;)&quot;;\r\n    \r\n            db.execSQL(SQL_CREATE_Current_Affairs_TABLE);\r\n            CurrentAffairs_Questions();\r\n    \r\n            final String SQL_CREATE_Islamic_Studies_TABLE = &quot;CREATE TABLE &quot; +\r\n                    QuizContract.Questions_IslamicStudies.TABLE_NAME + &quot; ( &quot; +\r\n                    QuizContract.Questions_IslamicStudies._ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\r\n                    QuizContract.Questions_IslamicStudies.COLUMN_QUESTION + &quot; TEXT, &quot; +\r\n                    QuizContract.Questions_IslamicStudies.COLUMN_OPTIONA2 + &quot; TEXT, &quot; +\r\n                    QuizContract.Questions_IslamicStudies.COLUMN_OPTIONB2 + &quot; TEXT, &quot; +\r\n                    QuizContract.Questions_IslamicStudies.COLUMN_OPTIONC2 + &quot; TEXT, &quot; +\r\n                    QuizContract.Questions_IslamicStudies.COLUMN_OPTIOND2 + &quot; TEXT, &quot; +\r\n                    QuizContract.Questions_IslamicStudies.COLUMN_ANSWER_NR + &quot; INTEGER&quot; +\r\n                    &quot;)&quot;;\r\n    \r\n            db.execSQL(SQL_CREATE_Islamic_Studies_TABLE);    \r\n        }\r\n       \r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\r\n            db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + QuizContract.Questions_CurrentAffairs.TABLE_NAME);\r\n            onCreate(db);\r\n             db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + QuizContract.Questions_IslamicStudies.TABLE_NAME);\r\n            onCreate(db);   \r\n        }\r\n\r\n        private void CurrentAffairs_Questions() {\r\n            Question q1 = new Question(&quot;The worlds oldest international human rights organization is?&quot;,&quot; amnesty international &quot;, &quot; freedom house &quot;, &quot; anti slavery &quot;,&quot;non of these &quot;, 3);\r\n            addQuestion(q1);\r\n    \r\n            Question q2 = new Question(&quot;The constitution of European union has not been ratified by?&quot;,&quot; Italy &quot;, &quot;Netherlands &quot;, &quot; France &quot;,&quot;non of these &quot;,3);\r\n                    addQuestion(q2);\r\n    \r\n            Question q3 = new Question(&quot;After united states, the largest contributor in the united nations budget is? &quot;,&quot; Germany &quot;,&quot; France &quot;, &quot; UK &quot;,&quot; none of these&quot;,3);\r\n            addQuestion(q3);\r\n    \r\n            Question q4 = new Question(&quot;Ariana is an airlines of ?&quot;, &quot;Australia &quot;, &quot; Egypt &quot;, &quot;Iran &quot;,&quot;non of these &quot;,4);\r\n            addQuestion(q4);\r\n    \r\n            Question q5 = new Question(&quot;What percentage Pakistan produces electricity from thermal source ?&quot;,&quot; 30% &quot;, &quot; 50% &quot;, &quot; 70% &quot;,&quot; non of these &quot;,3);\r\n            addQuestion(q5);\r\n    \r\n            Question q6 = new Question(&quot;Chinas fastest growing economy is facing a major challenge of ?&quot;,\r\n                    &quot; population explosion &quot;, &quot; shortage of electricity &quot;, &quot;challenges of WTO regime &quot;,&quot;non of these &quot;,1);\r\n            addQuestion(q6);\r\n    \r\n            Question q7 = new Question(&quot;US president George bush has created ‘millennium challenge Account’ to ?&quot;, &quot; improve national security &quot;, &quot; provide aid to iraq and afghanistan &quot;, &quot; help poor countries pursuing democratic ideals &quot;,&quot;non of these &quot;,1);\r\n            addQuestion(q7);\r\n    \r\n            Question q8 = new Question(&quot;38th parallel is a boundary line between ?&quot;, &quot; Canada and America &quot;, &quot; north and south Vietnam &quot;, &quot; greek and turkish port of Cyprus &quot;,&quot;  non of these &quot;,2);\r\n            addQuestion(q8);\r\n    \r\n            Question q9 = new Question(&quot;In which month does the un general assembly usually meet every year ?&quot;, &quot; January &quot;, &quot; march &quot;, &quot; September &quot;,&quot;non of these &quot;,3);\r\n            addQuestion(q9);\r\n    \r\n            Question q10= new Question(&quot;Pakistan has recently been given observer status in ?&quot;, &quot;OECD &quot;, &quot; gulf cooperation council (gcc) &quot;, &quot; shanghai cooperation organization(sco) &quot;,&quot; non of these &quot;,3);\r\n            addQuestion(q10);\r\n    \r\n            // Year 2005\r\n    \r\n            Question q11 = new Question(&quot;The project to reduce water logging and salinity area in Pakistan has been financially supported by?&quot;, &quot; world bank &quot;, &quot; IMF &quot;, &quot; Asian Development Bank &quot;,&quot; non of these &quot;,1);\r\n            addQuestion(q11);\r\n    \r\n            Question q12 = new Question(&quot;Pakistan and US navies recently conducted joint exercises in the Arabian Sea by the name of?&quot;, &quot; Optimum Impact &quot;, &quot; Divers Move &quot;, &quot; Inspired Union &quot;,&quot;non of these &quot;,3);\r\n            addQuestion(q12);\r\n    \r\n            Question q13 = new Question(&quot;Which of the following internet search engine will introduce the worlds biggest digital library?&quot;, &quot;yahoo &quot;, &quot; google &quot;, &quot; giga blast &quot;,&quot; non of these &quot;,2);\r\n            addQuestion(q13);\r\n    \r\n            Question q14 = new Question(&quot;The recently appointed United nations high commissioner for refugees Antonio guterres is the former prime minister of?&quot;,&quot; denmark &quot;, &quot; Romania &quot;, &quot; Canada &quot;,&quot; non of these &quot;,4);\r\n            addQuestion(q14);\r\n    \r\n            Question q15 = new Question(&quot;When a country grants another country MFN (most favored nation) status in mutual trade, it implies?&quot;, &quot; providing same trade concessions as are being given to other countries &quot;, &quot; trade will be through exchange of commodities rather than foreign exchange &quot;, &quot; imports and exports payments will be in local currencies only &quot;,&quot; non of these &quot;,1);\r\n            addQuestion(q15);\r\n    \r\n            Question q16 = new Question(&quot;The programme ‘united nations millennium development goals’ is focusing on?&quot;, &quot; eradicate extreme poverty and hunger &quot;, &quot;achieve universal primary education &quot;, &quot; promote gender equality and empower women &quot;,&quot; all of the above &quot;,4);\r\n            addQuestion(q16);\r\n    \r\n            Question q17 = new Question(&quot;The largest agency of FATA (federally administered tribal areas) by area is?&quot;, &quot; north waziristan &quot;, &quot; south waziristan &quot;, &quot; Khyber agency &quot;,&quot; non of these &quot;,2);\r\n            addQuestion(q17);\r\n    \r\n            Question q18 = new Question(&quot;Reuter is the news agency of?&quot;, &quot; USA &quot;, &quot; Germany &quot;, &quot; UK &quot;,&quot; non of these &quot;,3);\r\n            addQuestion(q18);\r\n    \r\n            Question q19 = new Question(&quot;SAARC human resource development centre is located at?&quot;, &quot; Delhi &quot;, &quot; Colombo &quot;, &quot; Karachi &quot;,&quot; non of these &quot;,4);\r\n            addQuestion(q19);\r\n    \r\n            Question q20= new Question(&quot;Under Vision 2025 WAPDA will construct SATPARA Dam on Indus Rive in?&quot;, &quot; Balochistan &quot;, &quot; NWFP &quot;, &quot; Northern Areas &quot;,&quot; non of these &quot;,3);\r\n            addQuestion(q20);\r\n    \r\n            Question q21 = new Question(&quot;How many medals were won by Pakistan in the 18th Commonwealth games? &quot;, &quot; 3 &quot;, &quot; 5 &quot;, &quot; 7 &quot;,&quot; None of these &quot;,2);\r\n            addQuestion(q21);\r\n    \r\n            Question q22 = new Question(&quot;The Currency of China is:?&quot;, &quot;Rouble &quot;, &quot;Yen &quot;, &quot;Yuan &quot;,&quot;None of these &quot;,3);\r\n            addQuestion(q22);\r\n    \r\n            Question q23 = new Question(&quot;In the absence of President, who becomes the acting President of Pakistan? &quot;, &quot;Speaker of the NA &quot;, &quot;Chairman Senate &quot;, &quot;Chief Justice of pakistan &quot;,&quot;None of these &quot;,2);\r\n            addQuestion(q23);\r\n    \r\n            Question q24 = new Question(&quot;Han Myung has become the First Woman Prime Minister of:?&quot;, &quot;South Korea &quot;, &quot;North Korea &quot;, &quot;Vietnam &quot;,&quot;None of these &quot;,1);\r\n            addQuestion(q4);\r\n    \r\n            Question q25 = new Question(&quot;Zalmay Khalil is the US Ambassador to:?&quot;, &quot;Iraq &quot;, &quot;Syria &quot;, &quot;Lebanon &quot;,&quot;None of these &quot;,1);\r\n            addQuestion(q25);\r\n    \r\n            Question q26 = new Question(&quot;H3N1 is the name of a:?&quot;, &quot; Medicine &quot;, &quot;Vaccine &quot;, &quot;Virus &quot;,&quot;None of these &quot;,3);\r\n            addQuestion(q26);\r\n    \r\n            Question q27 = new Question(&quot;Biman is the AirLine of:?&quot;, &quot; Sri Lanka &quot;, &quot;Nepal &quot;, &quot;Bangladesh &quot;,&quot;None of these &quot;,3);\r\n            addQuestion(q27);\r\n    \r\n    //        Question q28 = new Question(&quot; Which country border with Pakistan is called Durand line:&quot; ,&quot;Iran&quot;,&quot; Afghanistan &quot;, &quot;Pakistan &quot;, &quot;Iran &quot;,&quot;None of these&quot;,2);\r\n    //        addQuestion(q28);\r\n    \r\n            Question q29 = new Question(&quot;Xinhua is the news agency of:?&quot;, &quot;China &quot;, &quot;Russia &quot;, &quot;North Korea &quot;,&quot;None of these &quot;,1);\r\n            addQuestion(q29);\r\n    \r\n            Question q30= new Question(&quot;The headquarters of the UN Security Council is located at:?&quot;, &quot;Washington&quot;, &quot;Paris &quot;, &quot;New York &quot;,&quot;None of these &quot;,3);\r\n            addQuestion(q30);\r\n    \r\n            // Year 2006\r\n    \r\n            Question q31 = new Question(&quot;Who is the Governor of the State Bank of Pakistan? ?&quot;, &quot;Dr. Shamshad Akhtar &quot;, &quot;Dr. Ishrat Hussain &quot;, &quot; Sulman Shah &quot;,&quot;None of these &quot;,1);\r\n            addQuestion(q31);\r\n    \r\n            Question q32 = new Question(&quot;Nobel Peace Prize for the year 2005 was awarded to M. Elbardei together with: ?&quot;, &quot;United Nations Educational Scientific and Cultural Organization (UNESCO) &quot;, &quot; International Atomic Energy Agency (IAEA) &quot;, &quot;World Health Organization (WHO) &quot;,&quot;None of these &quot;,2);\r\n            addQuestion(q32);\r\n    \r\n            Question q33 = new Question(&quot;Who is the US Assistant Secretary of state for South Asian and Central Asian affairs? &quot;, &quot;Riyan C. Crocker &quot;, &quot;Nancy Powell &quot;, &quot;Richard A. Boucher &quot;,&quot;none of these. &quot;,3);\r\n            addQuestion(q33);\r\n    \r\n            Question q34 = new Question(&quot;What was the magnitude of the Earthquake that shook northern Pakistan and Azad Kashmir on October, 8, 2005 ?&quot;, &quot;5.7 &quot;, &quot;7.5 &quot;, &quot;7.7 &quot;,&quot;None of these. &quot;,4);\r\n            addQuestion(q4);\r\n    \r\n            Question q35 = new Question(&quot;Rafiq Bahauddin al Harriri had been the Prime Minister of :?&quot;, &quot;Libya  &quot;, &quot;Lebanon &quot;, &quot;Syria &quot;,&quot;None of these.&quot;,2);\r\n            addQuestion(q35);\r\n    \r\n            Question q36 = new Question(&quot;Angela Mekel is the?&quot;, &quot; President of France&quot;, &quot;First lady of Britain&quot;, &quot;Chancellor of Germany&quot;,&quot;none of these &quot;,3);\r\n            addQuestion(q36);\r\n    \r\n            Question q37 = new Question(&quot;Fourth Estate applied to:?&quot;, &quot; Executive &quot;, &quot;Secret Agency &quot;, &quot;Press &quot;,&quot;None of these &quot;,3);\r\n            addQuestion(q37);\r\n    \r\n            Question q38 = new Question(&quot;The Spirit of Islam author is: ?&quot;, &quot;Sir Syed Ahmad Khan &quot;, &quot;Syed Amir Ali &quot;, &quot;Allama Iqbal &quot;,&quot;none of these &quot;,2);\r\n            addQuestion(q38);\r\n    \r\n            Question q39 = new Question(&quot;The South Asian Associan for regional cooperation (SAARC) Standing Committee had agreed in principle to grant an observer status to:?&quot;, &quot;China and japan &quot;, &quot;Britain and France &quot;, &quot;US and Korea &quot;,&quot;None of these &quot;,3);\r\n            addQuestion(q39);\r\n    \r\n            Question q40= new Question(&quot;George Washington was the first President of USA. Who is the incumbent Vice President of America? &quot;, &quot; George Bush &quot;, &quot;Gerald Ford &quot;, &quot;Dick Cheney &quot;,&quot;None of these &quot;,4);\r\n            addQuestion(q40);\r\n    \r\n            Question q41 = new Question(&quot;Patronas towers are located in:&quot;, &quot;Singapore &quot;, &quot; Chicago &quot;, &quot;Kaula Lumpur &quot;,&quot;None of these &quot;,3);\r\n            addQuestion(q41);\r\n    \r\n            Question q42 = new Question(&quot;Name of the present Un secretary general is :?&quot;, &quot;Kofi Annan &quot;, &quot;Bon ki Moon &quot;, &quot;Batrus Ghali &quot;,&quot;None of these &quot;,2);\r\n            addQuestion(q42);\r\n    \r\n            Question q43 = new Question(&quot;The length of common border between India and Pakistan is:?&quot;, &quot;900 miles &quot;, &quot;1000 miles &quot;, &quot;1100 miles &quot;,&quot;None of these &quot;,4);\r\n            addQuestion(q43);\r\n    \r\n            Question q44 = new Question(&quot;Last SAARC conference was held in 2004 at: ?&quot;, &quot;Islamabad &quot;, &quot;Kathmandu &quot;, &quot;Colombo &quot;,&quot;None of these &quot;,1);\r\n            addQuestion(q44);\r\n    \r\n            Question q45 = new Question(&quot;China became the member of the World Trade Organization in ?&quot;, &quot;1998 &quot;, &quot;2002 &quot;, &quot;2004&quot;,&quot;None of these &quot;,4);\r\n            addQuestion(q45);\r\n    \r\n            Question q46 = new Question(&quot;The number of players in each team of basketball game is:?&quot;, &quot;5 &quot;, &quot;7 &quot;, &quot;9 &quot;,&quot;None of these &quot;,1);\r\n            addQuestion(q46);\r\n    \r\n            Question q47 = new Question(&quot;Which is the largest Surah of Holy Quran: ?&quot;, &quot;Surah Al-Imran &quot;, &quot;Sura Al-Baqarah &quot;, &quot;Surah Yaseen &quot;,&quot;None of these &quot;,2);\r\n            addQuestion(q47);\r\n    \r\n            Question q48 = new Question(&quot;The Olympic games in 2004 were held in: ?&quot;, &quot;Athens &quot;, &quot;Sydney &quot;, &quot;California &quot;,&quot;None of these &quot;,1);\r\n            addQuestion(q48);\r\n    \r\n            Question q49 = new Question(&quot;How many members the National Security Council (Pakistan ) has:?&quot;, &quot;11 &quot;, &quot;13 &quot;, &quot;15 &quot;,&quot;None of these &quot;,4);\r\n            addQuestion(q49);\r\n            Question q50= new Question(&quot;Nobel peace Prize for the year 2006 was awarede to:?&quot;, &quot;Dr. Mahatir Mohammad &quot;, &quot; Dr Mohammad Yunus &quot;, &quot;Dr Abdul Kalam &quot;,&quot;None of these &quot;,2);\r\n            addQuestion(q50);\r\n    \r\n            // Year 2007\r\n    \r\n            Question q51 = new Question(&quot;Denzil Washington is renowned as:?&quot;, &quot;USA army general&quot;, &quot;British Naval Commander &quot;, &quot;Hollywood actor &quot;,&quot;None of these &quot;,3);\r\n            addQuestion(q51);\r\n    \r\n            Question q52 = new Question(&quot;The number of OIC member states is: ?&quot;, &quot;55 &quot;, &quot;57 &quot;, &quot;59 &quot;,&quot;None of these &quot;,2);\r\n            addQuestion(q52);\r\n    \r\n            Question q53 = new Question(&quot;Mahbub-ul-Haq Human Development Center is locates at:?&quot;, &quot;Karachi &quot;, &quot;Lahore &quot;, &quot;Islamabad &quot;,&quot;None of these &quot;,3);\r\n            addQuestion(q53);\r\n    \r\n            Question q54 = new Question(&quot;Hugo Chavez is the president of:?&quot;, &quot;Venezuela &quot;, &quot;Brazil &quot;, &quot;Bolivia &quot;,&quot;None of these &quot;,1);\r\n            addQuestion(q54);\r\n    \r\n            Question q55 = new Question(&quot;what is the name of the only Pakistani whi won the Nobel Prize:?&quot;, &quot;Dr Ashfaq Ahmed &quot;, &quot;Dr. abdus- Salam &quot;, &quot;Dr. Abdul Qadeer &quot;,&quot;None of these &quot;,2);\r\n            addQuestion(q55);\r\n    \r\n            Question q56 = new Question(&quot;Maple leaf is the National emblem of:?&quot;, &quot;Germany &quot;, &quot;China &quot;, &quot;Canada &quot;,&quot;None of these &quot;,3);\r\n            addQuestion(q56);\r\n    \r\n            Question q57 = new Question(&quot;Name of Bangladesh parliament is:?&quot;, &quot;People National Assembbly &quot;, &quot;Majilis-I-Shoora &quot;, &quot;Jatia Sangsad &quot;,&quot;None of these &quot;,3);\r\n            addQuestion(q57);\r\n    \r\n            Question q58 = new Question(&quot;India has constructed “Baglihar Dam” in occupied Kashmir`s district of:?&quot;, &quot;Udhumpur &quot;,&quot;Doda &quot;, &quot;Jammu &quot;,&quot;None of these &quot;,2);\r\n            addQuestion(q58);\r\n    \r\n            Question q59 = new Question(&quot;“Hamas” was founded in 1987 by: ?&quot;, &quot;Yasser Arfat &quot;, &quot;Ismail Haniye &quot;, &quot;Khalid Meshaal &quot;,&quot;None of these &quot;,4);\r\n                    addQuestion(q59) ;\r\n    \r\n            Question q60= new Question(&quot;which of the following regions of Balochistan will be irrigated through Kachi cannal project:?&quot;, &quot;quetta &quot;, &quot;Zhob &quot;, &quot;Nasirabad &quot;,&quot; None of these&quot;,3);\r\n            addQuestion(q60);\r\n    \r\n            // Pakistan Affairs 2008\r\n    \r\n    \r\n            Question q61 = new Question(&quot;Transparency International is based in:?&quot;, &quot;New York &quot;,&quot;London &quot;, &quot;Berlin &quot;,&quot;None of these &quot;,3);\r\n            addQuestion(q61);\r\n    \r\n            Question q62 = new Question(&quot;The largest source of electricity generation in Pakistan comes through:?&quot;,&quot;Thermal &quot;, &quot;Hydel &quot;, &quot;Coal &quot;,&quot;None of these &quot;,1);\r\n            addQuestion(q62);\r\n    \r\n            Question q63 = new Question(&quot;Pakistan’s largest export partner is:?&quot;,&quot;Saudi Arabia &quot;, &quot;America &quot;, &quot;Japan &quot;,&quot;None of these &quot;,2);\r\n            addQuestion(q63);\r\n    \r\n            Question q64 = new Question(&quot;India is constructing Kishanganga Dam in:?&quot;, &quot;Jammu &quot;, &quot;Sri nagar &quot;, &quot;Baramula &quot;,&quot;None of these &quot;,1);\r\n            addQuestion(q64);\r\n    \r\n            Question q65 = new Question(&quot;WAFA is the news agency of:?&quot;, &quot; Syria &quot;, &quot;Jordan &quot;, &quot;Egypt &quot;,&quot;None of these &quot;,4);\r\n            addQuestion(q65);\r\n    \r\n            Question q66 = new Question(&quot;Former US Vice-President Al Gore has won Noble Peace Prize 2007 for his campaign against:?&quot;, &quot;Child Labour &quot;, &quot;Human Rights Violations &quot;, &quot;Global Warming &quot;,&quot;None of these &quot;,3);\r\n            addQuestion(q66);\r\n    \r\n            Question q67 = new Question(&quot;May 3, each year is Internationally observed as:?&quot;,&quot;World Environment Day &quot;, &quot;Human Rights Day &quot;, &quot;Press Freedom Day &quot;,&quot;None of these &quot;,3);\r\n            addQuestion(q67);\r\n    \r\n            Question q68 = new Question(&quot;The World’s largest producer of Uranium is: ?&quot;, &quot;Australia &quot;, &quot;Canada &quot;, &quot;South Africa &quot;,&quot;None of these &quot;,4);\r\n            addQuestion(q68);\r\n    \r\n            Question q69 = new Question(&quot;The district of the country having lowest population density is:?&quot;, &quot;Khuzdar &quot;, &quot;Kalat &quot;, &quot;Kharan &quot;,&quot;None of these &quot;,2);\r\n            addQuestion(q69);\r\n    \r\n            Question q70= new Question(&quot;Qantas is an airline of:?&quot;,\r\n                    &quot;USA &quot;, &quot;Australia &quot;, &quot;Singapore &quot;,&quot;None of these &quot;,2);\r\n            addQuestion(q70);\r\n    \r\n    \r\n            // Year 2008\r\n    \r\n            Question q71 = new Question(&quot;The first Muslim Nobel Laureate was:?&quot;, &quot;Anwar Saadat of Egypt &quot;, &quot;Yasser Arafat of Palestine &quot;, &quot;Abdus Salam of Pakistan &quot;,&quot;None of these &quot;,3);\r\n            addQuestion(q71);\r\n    \r\n            Question q72 = new Question(&quot;Darfur conflict is in:?&quot;, &quot; Somalia &quot;, &quot;Sudan &quot;, &quot;Liberia &quot;,&quot;None of these &quot;,2);\r\n            addQuestion(q72);\r\n    \r\n            Question q73 = new Question(&quot;Parachinar is the main town of: ?&quot;, &quot;Khyber Agency &quot;, &quot;North Waziristan &quot;, &quot;South Waziristan &quot;,&quot;None of these &quot;,1);\r\n            addQuestion(q73);\r\n    \r\n            Question q74 = new Question(&quot;One US Barrel oil is equal to:&quot;, &quot;20 litres &quot;, &quot;30 litres &quot;, &quot;50 litres &quot;,&quot;None of these &quot;,4);\r\n                    addQuestion(q74);\r\n    \r\n            Question q75 = new Question(&quot;Ringgit is the currency unit of: ?&quot;, &quot;Singapore &quot;, &quot;Philippines &quot;, &quot;Malaysia &quot;,&quot;None of these &quot;,3);\r\n            addQuestion(q75);\r\n    \r\n            Question q76 = new Question(&quot;Pakistan is the Chairman of:?&quot;, &quot;Non-Aligned Movement &quot;, &quot;SAARC &quot;, &quot;Group of 77&quot;,&quot;None of these &quot;,2);\r\n            addQuestion(q76);\r\n    \r\n            Question q77 = new Question(&quot;The First President of America who made an official visit to Pakistan was?&quot;, &quot;Richard Nixon &quot;, &quot;Dwight D. Eishenhower &quot;, &quot;Lyndon B Johnson &quot;,&quot;None of these &quot;,2);\r\n            addQuestion(q77);\r\n    \r\n            Question q78 = new Question(&quot;The ‘Aid to Pakistan Consortium” meet every year in: ?&quot;, &quot;London &quot;, &quot;New York &quot;, &quot;Paris &quot;,&quot;None of these &quot;,3);\r\n            addQuestion(q78);\r\n    \r\n            Question q79 = new Question(&quot;General Michael Hayden is the: ?&quot;, &quot;President of Chile &quot;, &quot;Defense Secretary of United States &quot;,&quot; Commander NATO’s force in Afghanistan &quot;,&quot;None of these &quot;,4);\r\n            addQuestion(q79);\r\n    \r\n            Question q80= new Question(&quot;Which of the following International Organizations has no formal structure and Secretariat?&quot;, &quot; Green Peace &quot;, &quot;D-8 &quot;, &quot;G-8 &quot;,&quot;None of these &quot;,3);\r\n            addQuestion(q80);\r\n            // Current Affairs 2009\r\n    \r\n    \r\n            Question q81 = new Question(&quot;Who is Nicolas Sarkozy? &quot;, &quot;German Chancellor &quot;, &quot;Canadian President&quot;, &quot;French President&quot;, &quot;President of Georgia &quot;,3);\r\n            addQuestion(q81);\r\n    \r\n            Question q82 = new Question(&quot;What position Hu Jintao holds in China:?&quot;, &quot;General Secretary of Communist Party &quot;, &quot;President of the country   &quot;, &quot;Both ‘a’ &amp; ‘b’ &quot;,&quot;Prime Minister of the country &quot;,3);\r\n            addQuestion(q82);\r\n    \r\n            Question q83 = new Question(&quot;Who is the president of World Bank? &quot;, &quot;Robert Brace Zorllick &quot;, &quot;Robert Bruce Gate &quot;, &quot;Robert Bruce Lohaf&quot;,&quot; Bill Gates   &quot;,1);\r\n            addQuestion(q83);\r\n    \r\n            Question q84 = new Question(&quot;Where is the Headquarter of the Amnesty International located? &quot;, &quot;Geneva&quot;, &quot;London&quot;, &quot;Paris&quot;,&quot;New York &quot;,2);\r\n            addQuestion(q84);\r\n    \r\n            Question q85 = new Question(&quot;Asian Development Bank (ADB) was established in?&quot;, &quot;1964&quot;, &quot;196&quot;, &quot;1968&quot;,&quot;None of these &quot;,2);\r\n            addQuestion(q85);\r\n    \r\n            Question q86 = new Question(&quot;Who were the three statesmen who formulated Non-Aligned Movement (NAM)? &quot;, &quot;Gandhi, Nasser, Tito&quot;, &quot; Nehru, Nasser, Tito&quot;, &quot;Chou-en-Lai, Bhutto, Nehru&quot;,&quot;Soe Karno, Nasser, Tito &quot;,2);\r\n            addQuestion(q86);\r\n    \r\n            Question q87 = new Question(&quot;The Permanent Secretariat of SAARC is established at:?&quot;, &quot;Kathmandu&quot;, &quot;Dhaka&quot;, &quot;Dehli&quot;,&quot;Islamabad &quot;,1);\r\n            addQuestion(q87);\r\n    \r\n            Question q88 = new Question(&quot;Who was the founder of HAMAS in 1987:?&quot;, &quot;Sheikh Ahmed Yassin&quot;, &quot;Yasser Arafat&quot;, &quot;Abu Nidal&quot;,&quot;None of these &quot;,1);\r\n            addQuestion(q88);\r\n    \r\n            Question q89 = new Question(&quot;How many official working languages are recognized by UNO? &quot;, &quot;8&quot;, &quot;6&quot;, &quot;4&quot;,&quot;None of these &quot;,2);\r\n            addQuestion(q89);\r\n    \r\n            Question q90= new Question(&quot;In which month does the UN General Assembly usually meet every year? &quot;, &quot;August&quot;, &quot;September&quot;,&quot;   October&quot;,&quot;November &quot;,2);\r\n            addQuestion(q90);\r\n    \r\n            // Year 2009\r\n    \r\n            Question q91 = new Question(&quot;Which of the following countries have the power of veto in the General Assembly of UNO? &quot;, &quot;USA&quot;, &quot;Russia   &quot;, &quot;China&quot;,&quot;All of these &quot;,2);\r\n            addQuestion(q91);\r\n    \r\n            Question q92 = new Question(&quot;The term of office of a judge of the International Court of Justice is? &quot;, &quot;5 years&quot;, &quot;7 years &quot;,&quot;9 years     &quot;,&quot;None of these &quot;,4);\r\n            addQuestion(q92);\r\n    \r\n            Question q93 = new Question(&quot;Alliance among India, Germany, Japan and Brazil to support each other’s bid for permanent seat on UN Security Council is called:?&quot;,&quot;Alliance 4&quot;, &quot;G 4 &quot;, &quot;Big 4 &quot;,&quot;None of these &quot;,3);\r\n            addQuestion(q93);\r\n    \r\n            Question q94 = new Question(&quot;The Iran – Pakistan – India gas pipeline is also known as:?&quot;, &quot;Friendly pipeline &quot;, &quot;Peace pipeline&quot;, &quot;Great pipeline&quot;, &quot;None of these&quot;,2);\r\n            addQuestion(q94);\r\n    \r\n            Question q95 = new Question(&quot;The first parliamentary elections in Afghanistan were held in:?&quot;, &quot;2004&quot;, &quot;2005&quot;, &quot;2006      &quot;,&quot;None of these &quot;,2);\r\n            addQuestion(q95);\r\n    \r\n            Question q96 = new Question(&quot;Which is the National Flower of Pakistan? &quot;, &quot;Tulip &quot;, &quot;Rose&quot;, &quot;Jasmine&quot;,&quot;None of these &quot;,3);\r\n            addQuestion(q96);\r\n    \r\n            Question q97 = new Question(&quot;After ‘Pushtuns’ the largest-ethnic group in Afghanistan is:?&quot;, &quot;Uzbeks&quot;, &quot;Hazaras&quot;, &quot;Tajiks      &quot;,&quot;None of these &quot;,3);\r\n            addQuestion(q97);\r\n    \r\n            Question q98 = new Question(&quot;The Capital of Argentina is:?&quot;, &quot;Columbia&quot;, &quot;Barcelona&quot;, &quot;Buenos Aires&quot;,&quot;Peru &quot;,3);\r\n            addQuestion(q98);\r\n    \r\n            Question q99 = new Question(&quot;Which is the largest country in Africa:?&quot;, &quot;Sudan&quot;, &quot;Nigeria&quot;, &quot;Libya&quot;,&quot;None of these &quot;,1);\r\n                    addQuestion(q99);\r\n    \r\n            Question q100= new Question(&quot;Name the currency of Sri Lanka? &quot;, &quot;Rupiyah &quot;, &quot; Lek&quot;, &quot;Ringgit&quot;,&quot;None of these &quot;,1);\r\n            addQuestion(q100);   \r\n        }\r\n\r\n        // Method to insert data\r\n        private void addQuestion(Question question) {\r\n            ContentValues cv = new ContentValues();\r\n            cv.put(QuizContract.Questions_CurrentAffairs.COLUMN_QUESTION, question.getQuestion());\r\n            cv.put(QuizContract.Questions_CurrentAffairs.COLUMN_OPTIONA1, question.getOption1());\r\n            cv.put(QuizContract.Questions_CurrentAffairs.COLUMN_OPTIONB1, question.getOption2());\r\n            cv.put(QuizContract.Questions_CurrentAffairs.COLUMN_OPTIONC1, question.getOption3());\r\n            cv.put(QuizContract.Questions_CurrentAffairs.COLUMN_OPTIOND1, question.getOption4());\r\n            cv.put(QuizContract.Questions_CurrentAffairs.COLUMN_ANSWER_NR, question.getAnswerNr());\r\n            db.insert(QuizContract.Questions_CurrentAffairs.TABLE_NAME, null, cv);\r\n        }\r\n        \r\n    //      Gets all questions.   \r\n    //      Method to Retrieve multiple data from database;\r\n        public List&lt;Question&gt; getAllQuestions() {\r\n            List&lt;Question&gt; questionList = new ArrayList&lt;&gt;();\r\n            db = getReadableDatabase();\r\n            //Cursor c = db.rawQuery(&quot;SELECT * FROM &quot; + QuizContract.QuestionsTable.TABLE_NAME, null);\r\n            String table=QuizContract.Questions_CurrentAffairs.TABLE_NAME;\r\n            String[] columns = null;\r\n            String selection = null;\r\n            String[] selectionArgs = null;\r\n            String groupBy = null ;\r\n            String having = null ;\r\n            String orderBy = null ;\r\n    //        String limit= &quot;0,20&quot;;\r\n            String limit= null;   \r\n            Cursor c = db.query(table,columns,selection,selectionArgs,groupBy,having,orderBy,limit);\r\n    \r\n            if (c.moveToFirst()) {\r\n                do {\r\n                    Question question = new Question();\r\n                    question.setQuestion(c.getString(c.getColumnIndex(QuizContract.Questions_CurrentAffairs.COLUMN_QUESTION)));\r\n                    question.setOption1(c.getString(c.getColumnIndex(QuizContract.Questions_CurrentAffairs.COLUMN_OPTIONA1)));\r\n                    question.setOption2(c.getString(c.getColumnIndex(QuizContract.Questions_CurrentAffairs.COLUMN_OPTIONB1)));\r\n                    question.setOption3(c.getString(c.getColumnIndex(QuizContract.Questions_CurrentAffairs.COLUMN_OPTIONC1)));\r\n                    question.setOption4(c.getString(c.getColumnIndex(QuizContract.Questions_CurrentAffairs.COLUMN_OPTIOND1)));\r\n                    question.setAnswerNr(c.getInt(c.getColumnIndex(QuizContract.Questions_CurrentAffairs.COLUMN_ANSWER_NR)));\r\n                    questionList.add(question);\r\n                } while (c.moveToNext());\r\n            }   \r\n            c.close();\r\n            return questionList;\r\n        }    \r\n    }\r\n\r\n\r\n","title":"How to make android quiz application using sqlite?","body":"<p>I am working on android quiz application. My goal is to make quiz app which consists of multiple choice questions of 5 subjects. </p>\n\n<p>Each subjects has 5 chapters and each chapter has 20 multiple choice questions. </p>\n\n<p>So far I have been able to make android application which starts quiz of multiple choice questions of all chapters of a subject. I did it by making a table in sqlite. </p>\n\n<p>The multiple choice questions of all chapters are being displayed in one activity. I wanted my app to start quiz for each chapter separately. Do I have to create separate cursor for each activity? How to proceed?</p>\n\n<p>my code</p>\n\n<pre><code>public class QuizDbHelper extends SQLiteOpenHelper {\n\n    private static final String DATABASE_NAME = \"MyAwesomeQuiz.db\";\n    private static final int DATABASE_VERSION = 2;    \n    private SQLiteDatabase db;\n\n    public QuizDbHelper(@Nullable Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);    \n    }\n\n    @Override    \n    public void onCreate(SQLiteDatabase db) {\n        this.db = db;\n\n        final String SQL_CREATE_Current_Affairs_TABLE = \"CREATE TABLE \" +\n                QuizContract.Questions_CurrentAffairs.TABLE_NAME + \" ( \" +\n                QuizContract.Questions_CurrentAffairs._ID + \" INTEGER PRIMARY KEY AUTOINCREMENT, \" +\n                QuizContract.Questions_CurrentAffairs.COLUMN_QUESTION + \" TEXT, \" +\n                QuizContract.Questions_CurrentAffairs.COLUMN_OPTIONA1 + \" TEXT, \" +\n                QuizContract.Questions_CurrentAffairs.COLUMN_OPTIONB1 + \" TEXT, \" +\n                QuizContract.Questions_CurrentAffairs.COLUMN_OPTIONC1 + \" TEXT, \" +\n                QuizContract.Questions_CurrentAffairs.COLUMN_OPTIOND1 + \" TEXT, \" +\n                QuizContract.Questions_CurrentAffairs.COLUMN_ANSWER_NR + \" INTEGER\" +\n                \")\";\n\n        db.execSQL(SQL_CREATE_Current_Affairs_TABLE);\n        CurrentAffairs_Questions();\n\n        final String SQL_CREATE_Islamic_Studies_TABLE = \"CREATE TABLE \" +\n                QuizContract.Questions_IslamicStudies.TABLE_NAME + \" ( \" +\n                QuizContract.Questions_IslamicStudies._ID + \" INTEGER PRIMARY KEY AUTOINCREMENT, \" +\n                QuizContract.Questions_IslamicStudies.COLUMN_QUESTION + \" TEXT, \" +\n                QuizContract.Questions_IslamicStudies.COLUMN_OPTIONA2 + \" TEXT, \" +\n                QuizContract.Questions_IslamicStudies.COLUMN_OPTIONB2 + \" TEXT, \" +\n                QuizContract.Questions_IslamicStudies.COLUMN_OPTIONC2 + \" TEXT, \" +\n                QuizContract.Questions_IslamicStudies.COLUMN_OPTIOND2 + \" TEXT, \" +\n                QuizContract.Questions_IslamicStudies.COLUMN_ANSWER_NR + \" INTEGER\" +\n                \")\";\n\n        db.execSQL(SQL_CREATE_Islamic_Studies_TABLE);    \n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\n        db.execSQL(\"DROP TABLE IF EXISTS \" + QuizContract.Questions_CurrentAffairs.TABLE_NAME);\n        onCreate(db);\n         db.execSQL(\"DROP TABLE IF EXISTS \" + QuizContract.Questions_IslamicStudies.TABLE_NAME);\n        onCreate(db);   \n    }\n\n    private void CurrentAffairs_Questions() {\n        Question q1 = new Question(\"The worlds oldest international human rights organization is?\",\" amnesty international \", \" freedom house \", \" anti slavery \",\"non of these \", 3);\n        addQuestion(q1);\n\n        Question q2 = new Question(\"The constitution of European union has not been ratified by?\",\" Italy \", \"Netherlands \", \" France \",\"non of these \",3);\n                addQuestion(q2);\n\n        Question q3 = new Question(\"After united states, the largest contributor in the united nations budget is? \",\" Germany \",\" France \", \" UK \",\" none of these\",3);\n        addQuestion(q3);\n\n        Question q4 = new Question(\"Ariana is an airlines of ?\", \"Australia \", \" Egypt \", \"Iran \",\"non of these \",4);\n        addQuestion(q4);\n\n        Question q5 = new Question(\"What percentage Pakistan produces electricity from thermal source ?\",\" 30% \", \" 50% \", \" 70% \",\" non of these \",3);\n        addQuestion(q5);\n\n        Question q6 = new Question(\"Chinas fastest growing economy is facing a major challenge of ?\",\n                \" population explosion \", \" shortage of electricity \", \"challenges of WTO regime \",\"non of these \",1);\n        addQuestion(q6);\n\n        Question q7 = new Question(\"US president George bush has created ‘millennium challenge Account’ to ?\", \" improve national security \", \" provide aid to iraq and afghanistan \", \" help poor countries pursuing democratic ideals \",\"non of these \",1);\n        addQuestion(q7);\n\n        Question q8 = new Question(\"38th parallel is a boundary line between ?\", \" Canada and America \", \" north and south Vietnam \", \" greek and turkish port of Cyprus \",\"  non of these \",2);\n        addQuestion(q8);\n\n        Question q9 = new Question(\"In which month does the un general assembly usually meet every year ?\", \" January \", \" march \", \" September \",\"non of these \",3);\n        addQuestion(q9);\n\n        Question q10= new Question(\"Pakistan has recently been given observer status in ?\", \"OECD \", \" gulf cooperation council (gcc) \", \" shanghai cooperation organization(sco) \",\" non of these \",3);\n        addQuestion(q10);\n\n        // Year 2005\n\n        Question q11 = new Question(\"The project to reduce water logging and salinity area in Pakistan has been financially supported by?\", \" world bank \", \" IMF \", \" Asian Development Bank \",\" non of these \",1);\n        addQuestion(q11);\n\n        Question q12 = new Question(\"Pakistan and US navies recently conducted joint exercises in the Arabian Sea by the name of?\", \" Optimum Impact \", \" Divers Move \", \" Inspired Union \",\"non of these \",3);\n        addQuestion(q12);\n\n        Question q13 = new Question(\"Which of the following internet search engine will introduce the worlds biggest digital library?\", \"yahoo \", \" google \", \" giga blast \",\" non of these \",2);\n        addQuestion(q13);\n\n        Question q14 = new Question(\"The recently appointed United nations high commissioner for refugees Antonio guterres is the former prime minister of?\",\" denmark \", \" Romania \", \" Canada \",\" non of these \",4);\n        addQuestion(q14);\n\n        Question q15 = new Question(\"When a country grants another country MFN (most favored nation) status in mutual trade, it implies?\", \" providing same trade concessions as are being given to other countries \", \" trade will be through exchange of commodities rather than foreign exchange \", \" imports and exports payments will be in local currencies only \",\" non of these \",1);\n        addQuestion(q15);\n\n        Question q16 = new Question(\"The programme ‘united nations millennium development goals’ is focusing on?\", \" eradicate extreme poverty and hunger \", \"achieve universal primary education \", \" promote gender equality and empower women \",\" all of the above \",4);\n        addQuestion(q16);\n\n        Question q17 = new Question(\"The largest agency of FATA (federally administered tribal areas) by area is?\", \" north waziristan \", \" south waziristan \", \" Khyber agency \",\" non of these \",2);\n        addQuestion(q17);\n\n        Question q18 = new Question(\"Reuter is the news agency of?\", \" USA \", \" Germany \", \" UK \",\" non of these \",3);\n        addQuestion(q18);\n\n        Question q19 = new Question(\"SAARC human resource development centre is located at?\", \" Delhi \", \" Colombo \", \" Karachi \",\" non of these \",4);\n        addQuestion(q19);\n\n        Question q20= new Question(\"Under Vision 2025 WAPDA will construct SATPARA Dam on Indus Rive in?\", \" Balochistan \", \" NWFP \", \" Northern Areas \",\" non of these \",3);\n        addQuestion(q20);\n\n        Question q21 = new Question(\"How many medals were won by Pakistan in the 18th Commonwealth games? \", \" 3 \", \" 5 \", \" 7 \",\" None of these \",2);\n        addQuestion(q21);\n\n        Question q22 = new Question(\"The Currency of China is:?\", \"Rouble \", \"Yen \", \"Yuan \",\"None of these \",3);\n        addQuestion(q22);\n\n        Question q23 = new Question(\"In the absence of President, who becomes the acting President of Pakistan? \", \"Speaker of the NA \", \"Chairman Senate \", \"Chief Justice of pakistan \",\"None of these \",2);\n        addQuestion(q23);\n\n        Question q24 = new Question(\"Han Myung has become the First Woman Prime Minister of:?\", \"South Korea \", \"North Korea \", \"Vietnam \",\"None of these \",1);\n        addQuestion(q4);\n\n        Question q25 = new Question(\"Zalmay Khalil is the US Ambassador to:?\", \"Iraq \", \"Syria \", \"Lebanon \",\"None of these \",1);\n        addQuestion(q25);\n\n        Question q26 = new Question(\"H3N1 is the name of a:?\", \" Medicine \", \"Vaccine \", \"Virus \",\"None of these \",3);\n        addQuestion(q26);\n\n        Question q27 = new Question(\"Biman is the AirLine of:?\", \" Sri Lanka \", \"Nepal \", \"Bangladesh \",\"None of these \",3);\n        addQuestion(q27);\n\n//        Question q28 = new Question(\" Which country border with Pakistan is called Durand line:\" ,\"Iran\",\" Afghanistan \", \"Pakistan \", \"Iran \",\"None of these\",2);\n//        addQuestion(q28);\n\n        Question q29 = new Question(\"Xinhua is the news agency of:?\", \"China \", \"Russia \", \"North Korea \",\"None of these \",1);\n        addQuestion(q29);\n\n        Question q30= new Question(\"The headquarters of the UN Security Council is located at:?\", \"Washington\", \"Paris \", \"New York \",\"None of these \",3);\n        addQuestion(q30);\n\n        // Year 2006\n\n        Question q31 = new Question(\"Who is the Governor of the State Bank of Pakistan? ?\", \"Dr. Shamshad Akhtar \", \"Dr. Ishrat Hussain \", \" Sulman Shah \",\"None of these \",1);\n        addQuestion(q31);\n\n        Question q32 = new Question(\"Nobel Peace Prize for the year 2005 was awarded to M. Elbardei together with: ?\", \"United Nations Educational Scientific and Cultural Organization (UNESCO) \", \" International Atomic Energy Agency (IAEA) \", \"World Health Organization (WHO) \",\"None of these \",2);\n        addQuestion(q32);\n\n        Question q33 = new Question(\"Who is the US Assistant Secretary of state for South Asian and Central Asian affairs? \", \"Riyan C. Crocker \", \"Nancy Powell \", \"Richard A. Boucher \",\"none of these. \",3);\n        addQuestion(q33);\n\n        Question q34 = new Question(\"What was the magnitude of the Earthquake that shook northern Pakistan and Azad Kashmir on October, 8, 2005 ?\", \"5.7 \", \"7.5 \", \"7.7 \",\"None of these. \",4);\n        addQuestion(q4);\n\n        Question q35 = new Question(\"Rafiq Bahauddin al Harriri had been the Prime Minister of :?\", \"Libya  \", \"Lebanon \", \"Syria \",\"None of these.\",2);\n        addQuestion(q35);\n\n        Question q36 = new Question(\"Angela Mekel is the?\", \" President of France\", \"First lady of Britain\", \"Chancellor of Germany\",\"none of these \",3);\n        addQuestion(q36);\n\n        Question q37 = new Question(\"Fourth Estate applied to:?\", \" Executive \", \"Secret Agency \", \"Press \",\"None of these \",3);\n        addQuestion(q37);\n\n        Question q38 = new Question(\"The Spirit of Islam author is: ?\", \"Sir Syed Ahmad Khan \", \"Syed Amir Ali \", \"Allama Iqbal \",\"none of these \",2);\n        addQuestion(q38);\n\n        Question q39 = new Question(\"The South Asian Associan for regional cooperation (SAARC) Standing Committee had agreed in principle to grant an observer status to:?\", \"China and japan \", \"Britain and France \", \"US and Korea \",\"None of these \",3);\n        addQuestion(q39);\n\n        Question q40= new Question(\"George Washington was the first President of USA. Who is the incumbent Vice President of America? \", \" George Bush \", \"Gerald Ford \", \"Dick Cheney \",\"None of these \",4);\n        addQuestion(q40);\n\n        Question q41 = new Question(\"Patronas towers are located in:\", \"Singapore \", \" Chicago \", \"Kaula Lumpur \",\"None of these \",3);\n        addQuestion(q41);\n\n        Question q42 = new Question(\"Name of the present Un secretary general is :?\", \"Kofi Annan \", \"Bon ki Moon \", \"Batrus Ghali \",\"None of these \",2);\n        addQuestion(q42);\n\n        Question q43 = new Question(\"The length of common border between India and Pakistan is:?\", \"900 miles \", \"1000 miles \", \"1100 miles \",\"None of these \",4);\n        addQuestion(q43);\n\n        Question q44 = new Question(\"Last SAARC conference was held in 2004 at: ?\", \"Islamabad \", \"Kathmandu \", \"Colombo \",\"None of these \",1);\n        addQuestion(q44);\n\n        Question q45 = new Question(\"China became the member of the World Trade Organization in ?\", \"1998 \", \"2002 \", \"2004\",\"None of these \",4);\n        addQuestion(q45);\n\n        Question q46 = new Question(\"The number of players in each team of basketball game is:?\", \"5 \", \"7 \", \"9 \",\"None of these \",1);\n        addQuestion(q46);\n\n        Question q47 = new Question(\"Which is the largest Surah of Holy Quran: ?\", \"Surah Al-Imran \", \"Sura Al-Baqarah \", \"Surah Yaseen \",\"None of these \",2);\n        addQuestion(q47);\n\n        Question q48 = new Question(\"The Olympic games in 2004 were held in: ?\", \"Athens \", \"Sydney \", \"California \",\"None of these \",1);\n        addQuestion(q48);\n\n        Question q49 = new Question(\"How many members the National Security Council (Pakistan ) has:?\", \"11 \", \"13 \", \"15 \",\"None of these \",4);\n        addQuestion(q49);\n        Question q50= new Question(\"Nobel peace Prize for the year 2006 was awarede to:?\", \"Dr. Mahatir Mohammad \", \" Dr Mohammad Yunus \", \"Dr Abdul Kalam \",\"None of these \",2);\n        addQuestion(q50);\n\n        // Year 2007\n\n        Question q51 = new Question(\"Denzil Washington is renowned as:?\", \"USA army general\", \"British Naval Commander \", \"Hollywood actor \",\"None of these \",3);\n        addQuestion(q51);\n\n        Question q52 = new Question(\"The number of OIC member states is: ?\", \"55 \", \"57 \", \"59 \",\"None of these \",2);\n        addQuestion(q52);\n\n        Question q53 = new Question(\"Mahbub-ul-Haq Human Development Center is locates at:?\", \"Karachi \", \"Lahore \", \"Islamabad \",\"None of these \",3);\n        addQuestion(q53);\n\n        Question q54 = new Question(\"Hugo Chavez is the president of:?\", \"Venezuela \", \"Brazil \", \"Bolivia \",\"None of these \",1);\n        addQuestion(q54);\n\n        Question q55 = new Question(\"what is the name of the only Pakistani whi won the Nobel Prize:?\", \"Dr Ashfaq Ahmed \", \"Dr. abdus- Salam \", \"Dr. Abdul Qadeer \",\"None of these \",2);\n        addQuestion(q55);\n\n        Question q56 = new Question(\"Maple leaf is the National emblem of:?\", \"Germany \", \"China \", \"Canada \",\"None of these \",3);\n        addQuestion(q56);\n\n        Question q57 = new Question(\"Name of Bangladesh parliament is:?\", \"People National Assembbly \", \"Majilis-I-Shoora \", \"Jatia Sangsad \",\"None of these \",3);\n        addQuestion(q57);\n\n        Question q58 = new Question(\"India has constructed “Baglihar Dam” in occupied Kashmir`s district of:?\", \"Udhumpur \",\"Doda \", \"Jammu \",\"None of these \",2);\n        addQuestion(q58);\n\n        Question q59 = new Question(\"“Hamas” was founded in 1987 by: ?\", \"Yasser Arfat \", \"Ismail Haniye \", \"Khalid Meshaal \",\"None of these \",4);\n                addQuestion(q59) ;\n\n        Question q60= new Question(\"which of the following regions of Balochistan will be irrigated through Kachi cannal project:?\", \"quetta \", \"Zhob \", \"Nasirabad \",\" None of these\",3);\n        addQuestion(q60);\n\n        // Pakistan Affairs 2008\n\n\n        Question q61 = new Question(\"Transparency International is based in:?\", \"New York \",\"London \", \"Berlin \",\"None of these \",3);\n        addQuestion(q61);\n\n        Question q62 = new Question(\"The largest source of electricity generation in Pakistan comes through:?\",\"Thermal \", \"Hydel \", \"Coal \",\"None of these \",1);\n        addQuestion(q62);\n\n        Question q63 = new Question(\"Pakistan’s largest export partner is:?\",\"Saudi Arabia \", \"America \", \"Japan \",\"None of these \",2);\n        addQuestion(q63);\n\n        Question q64 = new Question(\"India is constructing Kishanganga Dam in:?\", \"Jammu \", \"Sri nagar \", \"Baramula \",\"None of these \",1);\n        addQuestion(q64);\n\n        Question q65 = new Question(\"WAFA is the news agency of:?\", \" Syria \", \"Jordan \", \"Egypt \",\"None of these \",4);\n        addQuestion(q65);\n\n        Question q66 = new Question(\"Former US Vice-President Al Gore has won Noble Peace Prize 2007 for his campaign against:?\", \"Child Labour \", \"Human Rights Violations \", \"Global Warming \",\"None of these \",3);\n        addQuestion(q66);\n\n        Question q67 = new Question(\"May 3, each year is Internationally observed as:?\",\"World Environment Day \", \"Human Rights Day \", \"Press Freedom Day \",\"None of these \",3);\n        addQuestion(q67);\n\n        Question q68 = new Question(\"The World’s largest producer of Uranium is: ?\", \"Australia \", \"Canada \", \"South Africa \",\"None of these \",4);\n        addQuestion(q68);\n\n        Question q69 = new Question(\"The district of the country having lowest population density is:?\", \"Khuzdar \", \"Kalat \", \"Kharan \",\"None of these \",2);\n        addQuestion(q69);\n\n        Question q70= new Question(\"Qantas is an airline of:?\",\n                \"USA \", \"Australia \", \"Singapore \",\"None of these \",2);\n        addQuestion(q70);\n\n\n        // Year 2008\n\n        Question q71 = new Question(\"The first Muslim Nobel Laureate was:?\", \"Anwar Saadat of Egypt \", \"Yasser Arafat of Palestine \", \"Abdus Salam of Pakistan \",\"None of these \",3);\n        addQuestion(q71);\n\n        Question q72 = new Question(\"Darfur conflict is in:?\", \" Somalia \", \"Sudan \", \"Liberia \",\"None of these \",2);\n        addQuestion(q72);\n\n        Question q73 = new Question(\"Parachinar is the main town of: ?\", \"Khyber Agency \", \"North Waziristan \", \"South Waziristan \",\"None of these \",1);\n        addQuestion(q73);\n\n        Question q74 = new Question(\"One US Barrel oil is equal to:\", \"20 litres \", \"30 litres \", \"50 litres \",\"None of these \",4);\n                addQuestion(q74);\n\n        Question q75 = new Question(\"Ringgit is the currency unit of: ?\", \"Singapore \", \"Philippines \", \"Malaysia \",\"None of these \",3);\n        addQuestion(q75);\n\n        Question q76 = new Question(\"Pakistan is the Chairman of:?\", \"Non-Aligned Movement \", \"SAARC \", \"Group of 77\",\"None of these \",2);\n        addQuestion(q76);\n\n        Question q77 = new Question(\"The First President of America who made an official visit to Pakistan was?\", \"Richard Nixon \", \"Dwight D. Eishenhower \", \"Lyndon B Johnson \",\"None of these \",2);\n        addQuestion(q77);\n\n        Question q78 = new Question(\"The ‘Aid to Pakistan Consortium” meet every year in: ?\", \"London \", \"New York \", \"Paris \",\"None of these \",3);\n        addQuestion(q78);\n\n        Question q79 = new Question(\"General Michael Hayden is the: ?\", \"President of Chile \", \"Defense Secretary of United States \",\" Commander NATO’s force in Afghanistan \",\"None of these \",4);\n        addQuestion(q79);\n\n        Question q80= new Question(\"Which of the following International Organizations has no formal structure and Secretariat?\", \" Green Peace \", \"D-8 \", \"G-8 \",\"None of these \",3);\n        addQuestion(q80);\n        // Current Affairs 2009\n\n\n        Question q81 = new Question(\"Who is Nicolas Sarkozy? \", \"German Chancellor \", \"Canadian President\", \"French President\", \"President of Georgia \",3);\n        addQuestion(q81);\n\n        Question q82 = new Question(\"What position Hu Jintao holds in China:?\", \"General Secretary of Communist Party \", \"President of the country   \", \"Both ‘a’ &amp; ‘b’ \",\"Prime Minister of the country \",3);\n        addQuestion(q82);\n\n        Question q83 = new Question(\"Who is the president of World Bank? \", \"Robert Brace Zorllick \", \"Robert Bruce Gate \", \"Robert Bruce Lohaf\",\" Bill Gates   \",1);\n        addQuestion(q83);\n\n        Question q84 = new Question(\"Where is the Headquarter of the Amnesty International located? \", \"Geneva\", \"London\", \"Paris\",\"New York \",2);\n        addQuestion(q84);\n\n        Question q85 = new Question(\"Asian Development Bank (ADB) was established in?\", \"1964\", \"196\", \"1968\",\"None of these \",2);\n        addQuestion(q85);\n\n        Question q86 = new Question(\"Who were the three statesmen who formulated Non-Aligned Movement (NAM)? \", \"Gandhi, Nasser, Tito\", \" Nehru, Nasser, Tito\", \"Chou-en-Lai, Bhutto, Nehru\",\"Soe Karno, Nasser, Tito \",2);\n        addQuestion(q86);\n\n        Question q87 = new Question(\"The Permanent Secretariat of SAARC is established at:?\", \"Kathmandu\", \"Dhaka\", \"Dehli\",\"Islamabad \",1);\n        addQuestion(q87);\n\n        Question q88 = new Question(\"Who was the founder of HAMAS in 1987:?\", \"Sheikh Ahmed Yassin\", \"Yasser Arafat\", \"Abu Nidal\",\"None of these \",1);\n        addQuestion(q88);\n\n        Question q89 = new Question(\"How many official working languages are recognized by UNO? \", \"8\", \"6\", \"4\",\"None of these \",2);\n        addQuestion(q89);\n\n        Question q90= new Question(\"In which month does the UN General Assembly usually meet every year? \", \"August\", \"September\",\"   October\",\"November \",2);\n        addQuestion(q90);\n\n        // Year 2009\n\n        Question q91 = new Question(\"Which of the following countries have the power of veto in the General Assembly of UNO? \", \"USA\", \"Russia   \", \"China\",\"All of these \",2);\n        addQuestion(q91);\n\n        Question q92 = new Question(\"The term of office of a judge of the International Court of Justice is? \", \"5 years\", \"7 years \",\"9 years     \",\"None of these \",4);\n        addQuestion(q92);\n\n        Question q93 = new Question(\"Alliance among India, Germany, Japan and Brazil to support each other’s bid for permanent seat on UN Security Council is called:?\",\"Alliance 4\", \"G 4 \", \"Big 4 \",\"None of these \",3);\n        addQuestion(q93);\n\n        Question q94 = new Question(\"The Iran – Pakistan – India gas pipeline is also known as:?\", \"Friendly pipeline \", \"Peace pipeline\", \"Great pipeline\", \"None of these\",2);\n        addQuestion(q94);\n\n        Question q95 = new Question(\"The first parliamentary elections in Afghanistan were held in:?\", \"2004\", \"2005\", \"2006      \",\"None of these \",2);\n        addQuestion(q95);\n\n        Question q96 = new Question(\"Which is the National Flower of Pakistan? \", \"Tulip \", \"Rose\", \"Jasmine\",\"None of these \",3);\n        addQuestion(q96);\n\n        Question q97 = new Question(\"After ‘Pushtuns’ the largest-ethnic group in Afghanistan is:?\", \"Uzbeks\", \"Hazaras\", \"Tajiks      \",\"None of these \",3);\n        addQuestion(q97);\n\n        Question q98 = new Question(\"The Capital of Argentina is:?\", \"Columbia\", \"Barcelona\", \"Buenos Aires\",\"Peru \",3);\n        addQuestion(q98);\n\n        Question q99 = new Question(\"Which is the largest country in Africa:?\", \"Sudan\", \"Nigeria\", \"Libya\",\"None of these \",1);\n                addQuestion(q99);\n\n        Question q100= new Question(\"Name the currency of Sri Lanka? \", \"Rupiyah \", \" Lek\", \"Ringgit\",\"None of these \",1);\n        addQuestion(q100);   \n    }\n\n    // Method to insert data\n    private void addQuestion(Question question) {\n        ContentValues cv = new ContentValues();\n        cv.put(QuizContract.Questions_CurrentAffairs.COLUMN_QUESTION, question.getQuestion());\n        cv.put(QuizContract.Questions_CurrentAffairs.COLUMN_OPTIONA1, question.getOption1());\n        cv.put(QuizContract.Questions_CurrentAffairs.COLUMN_OPTIONB1, question.getOption2());\n        cv.put(QuizContract.Questions_CurrentAffairs.COLUMN_OPTIONC1, question.getOption3());\n        cv.put(QuizContract.Questions_CurrentAffairs.COLUMN_OPTIOND1, question.getOption4());\n        cv.put(QuizContract.Questions_CurrentAffairs.COLUMN_ANSWER_NR, question.getAnswerNr());\n        db.insert(QuizContract.Questions_CurrentAffairs.TABLE_NAME, null, cv);\n    }\n\n//      Gets all questions.   \n//      Method to Retrieve multiple data from database;\n    public List&lt;Question&gt; getAllQuestions() {\n        List&lt;Question&gt; questionList = new ArrayList&lt;&gt;();\n        db = getReadableDatabase();\n        //Cursor c = db.rawQuery(\"SELECT * FROM \" + QuizContract.QuestionsTable.TABLE_NAME, null);\n        String table=QuizContract.Questions_CurrentAffairs.TABLE_NAME;\n        String[] columns = null;\n        String selection = null;\n        String[] selectionArgs = null;\n        String groupBy = null ;\n        String having = null ;\n        String orderBy = null ;\n//        String limit= \"0,20\";\n        String limit= null;   \n        Cursor c = db.query(table,columns,selection,selectionArgs,groupBy,having,orderBy,limit);\n\n        if (c.moveToFirst()) {\n            do {\n                Question question = new Question();\n                question.setQuestion(c.getString(c.getColumnIndex(QuizContract.Questions_CurrentAffairs.COLUMN_QUESTION)));\n                question.setOption1(c.getString(c.getColumnIndex(QuizContract.Questions_CurrentAffairs.COLUMN_OPTIONA1)));\n                question.setOption2(c.getString(c.getColumnIndex(QuizContract.Questions_CurrentAffairs.COLUMN_OPTIONB1)));\n                question.setOption3(c.getString(c.getColumnIndex(QuizContract.Questions_CurrentAffairs.COLUMN_OPTIONC1)));\n                question.setOption4(c.getString(c.getColumnIndex(QuizContract.Questions_CurrentAffairs.COLUMN_OPTIOND1)));\n                question.setAnswerNr(c.getInt(c.getColumnIndex(QuizContract.Questions_CurrentAffairs.COLUMN_ANSWER_NR)));\n                questionList.add(question);\n            } while (c.moveToNext());\n        }   \n        c.close();\n        return questionList;\n    }    \n}\n</code></pre>\n"},{"tags":["java","java-21"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1696257304,"post_id":77213221,"comment_id":136126438,"body_markdown":"The question to ask yourself and go a level deeper is, how are you compiling the code and what is the difference?","body":"The question to ask yourself and go a level deeper is, how are you compiling the code and what is the difference?"}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1696498503,"post_id":77213226,"comment_id":136161794,"body_markdown":"Or just `java --source 21 --enable-preview MyFile.java` to compile and run.","body":"Or just <code>java --source 21 --enable-preview MyFile.java</code> to compile and run."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1696312760,"creation_date":1696220761,"answer_id":77213226,"question_id":77213221,"body_markdown":"[*Unnamed classes*][1] is a [preview feature][2], which means it doesn&#39;t exist unless you opt in: It&#39;s not meant for production code and is likely to break in a future release, hence why you must opt in:\r\n\r\n```\r\njavac --release 21 --enable-preview MyFile.java\r\njava --enable-preview myFile\r\n```\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/445\r\n  [2]: https://openjdk.org/jeps/12","title":"Unable to compile java 21","body":"<p><a href=\"https://openjdk.org/jeps/445\" rel=\"nofollow noreferrer\"><em>Unnamed classes</em></a> is a <a href=\"https://openjdk.org/jeps/12\" rel=\"nofollow noreferrer\">preview feature</a>, which means it doesn't exist unless you opt in: It's not meant for production code and is likely to break in a future release, hence why you must opt in:</p>\n<pre><code>javac --release 21 --enable-preview MyFile.java\njava --enable-preview myFile\n</code></pre>\n"}],"owner":{"account_id":28934725,"reputation":21,"user_id":22162553,"display_name":"Dipesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696312760,"creation_date":1696220615,"question_id":77213221,"body_markdown":"I saw in java 21 , you don&#39;t need to write public static in you main method and you can just write\r\n\r\n```\r\npublic class Main{\r\n    void main(String[] args){\r\n        System.out.println(&quot;Hi&quot;);\r\n    }\r\n}\r\n```\r\n \r\nI uninstalled java 17 and installed java 21 , added it to the environment variables but when I am running this code , I am getting this error.\r\n\r\n```\r\nError: Main method not found in class Main, please define the main method as:\r\n   public static void main(String[] args)\r\nor a JavaFX application class must extend javafx.application.Application \r\n]\r\n```\r\n\r\n\r\nWhen I am writing java --version in cmd , I am getting the version of my java as 21 but still the code is not compiling","title":"Unable to compile java 21","body":"<p>I saw in java 21 , you don't need to write public static in you main method and you can just write</p>\n<pre><code>public class Main{\n    void main(String[] args){\n        System.out.println(&quot;Hi&quot;);\n    }\n}\n</code></pre>\n<p>I uninstalled java 17 and installed java 21 , added it to the environment variables but when I am running this code , I am getting this error.</p>\n<pre><code>Error: Main method not found in class Main, please define the main method as:\n   public static void main(String[] args)\nor a JavaFX application class must extend javafx.application.Application \n]\n</code></pre>\n<p>When I am writing java --version in cmd , I am getting the version of my java as 21 but still the code is not compiling</p>\n"},{"tags":["java","lambda","functional-interface"],"answers":[{"tags":[],"owner":{"account_id":22513336,"reputation":66,"user_id":16707945,"display_name":"Kamil Krzywański"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696273451,"creation_date":1696273451,"answer_id":77217900,"question_id":77217877,"body_markdown":"Becouse you used another implementation with lambda, where implementation of another method is &quot;some method&quot;. You can create interfaces with lambda. On this case you do\r\n\r\n`MyInterface a = new Test(); \r\nSystem.out.println(a.anotherMethod());`\r\n\r\nor :\r\n\r\n        MyInterface a = () -&gt; 1;\r\n        System.out.println(a.anotherMethod());","title":"Why do I get the value of the default method and not the overridden one?","body":"<p>Becouse you used another implementation with lambda, where implementation of another method is &quot;some method&quot;. You can create interfaces with lambda. On this case you do</p>\n<p><code>MyInterface a = new Test();  System.out.println(a.anotherMethod());</code></p>\n<p>or :</p>\n<pre><code>    MyInterface a = () -&gt; 1;\n    System.out.println(a.anotherMethod());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1696311978,"creation_date":1696273549,"answer_id":77217905,"question_id":77217877,"body_markdown":"The statement `MyInterface a = () -&gt; someMethod();` is more or less equivalent to the following code:\r\n\r\n```\r\nMyInterface a = new MyInterface() {\r\n  @Override int anotherMethod() {\r\n    return someMethod();\r\n  }\r\n};\r\n```\r\n\r\n`someMethod()` is not overridden anywhere in your example, so the default implementation is used. The default implementation of `return 0`. So calling `a.anotherMethod()` is expected to return `0`.\r\n\r\nThe overridden `Test#anotherMethod` is never called by your code. If you want to execute this method, you must call `this.anotherMethod()` (or assign `MyInterface a = this;`).","title":"Why do I get the value of the default method and not the overridden one?","body":"<p>The statement <code>MyInterface a = () -&gt; someMethod();</code> is more or less equivalent to the following code:</p>\n<pre><code>MyInterface a = new MyInterface() {\n  @Override int anotherMethod() {\n    return someMethod();\n  }\n};\n</code></pre>\n<p><code>someMethod()</code> is not overridden anywhere in your example, so the default implementation is used. The default implementation of <code>return 0</code>. So calling <code>a.anotherMethod()</code> is expected to return <code>0</code>.</p>\n<p>The overridden <code>Test#anotherMethod</code> is never called by your code. If you want to execute this method, you must call <code>this.anotherMethod()</code> (or assign <code>MyInterface a = this;</code>).</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696276538,"creation_date":1696275214,"answer_id":77218069,"question_id":77217877,"body_markdown":"Because you didn&#39;t call the overridden method.\r\n```\r\nMyInterface a = () -&gt; someMethod();\r\nSystem.out.println(a.anotherMethod());\r\n``` \r\n`a` has nothing to do with the `Test` instance in which it is called. \r\n\r\n","title":"Why do I get the value of the default method and not the overridden one?","body":"<p>Because you didn't call the overridden method.</p>\n<pre><code>MyInterface a = () -&gt; someMethod();\nSystem.out.println(a.anotherMethod());\n</code></pre>\n<p><code>a</code> has nothing to do with the <code>Test</code> instance in which it is called.</p>\n"}],"owner":{"account_id":22949207,"reputation":13,"user_id":22672510,"display_name":"Nikita"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77217900,"answer_count":3,"score":1,"last_activity_date":1696311978,"creation_date":1696273119,"question_id":77217877,"body_markdown":"```\r\ninterface MyInterface {\r\n    default int someMethod() {\r\n        return 0;\r\n    }\r\n\r\n    int anotherMethod();\r\n}\r\n\r\nclass Test implements MyInterface {\r\n    public static void main(String[] args) {\r\n        Test q = new Test();\r\n        q.run();\r\n    }\r\n\r\n    @Override\r\n    public int anotherMethod() {\r\n        return 1;\r\n    }\r\n    \r\n    void run() {\r\n        MyInterface a = () -&gt; someMethod();\r\n        System.out.println(a.anotherMethod());\r\n    }\r\n}\r\n```\r\n\r\nThe execution result will be 0, although I expected 1. I don&#39;t understand why the result of the overridden method is not returned, but the result of the default method is returned.","title":"Why do I get the value of the default method and not the overridden one?","body":"<pre><code>interface MyInterface {\n    default int someMethod() {\n        return 0;\n    }\n\n    int anotherMethod();\n}\n\nclass Test implements MyInterface {\n    public static void main(String[] args) {\n        Test q = new Test();\n        q.run();\n    }\n\n    @Override\n    public int anotherMethod() {\n        return 1;\n    }\n    \n    void run() {\n        MyInterface a = () -&gt; someMethod();\n        System.out.println(a.anotherMethod());\n    }\n}\n</code></pre>\n<p>The execution result will be 0, although I expected 1. I don't understand why the result of the overridden method is not returned, but the result of the default method is returned.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1696312945,"post_id":77219898,"comment_id":136133298,"body_markdown":"There is insufficient information in your question, but it *looks like* you are using the deprecated / obsolete itextpdf 5 APIs.  For improved security, you should probably update your codebase to itext7.   See https://github.com/itext/itextpdf#readme","body":"There is insufficient information in your question, but it <i>looks like</i> you are using the deprecated / obsolete itextpdf 5 APIs.  For improved security, you should probably update your codebase to itext7.   See <a href=\"https://github.com/itext/itextpdf#readme\" rel=\"nofollow noreferrer\">github.com/itext/itextpdf#readme</a>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1696313476,"post_id":77219898,"comment_id":136133347,"body_markdown":"You may also be able to get itext 5 to use a more secure digest algorithm.  But that will depend on where and how you application is using the SHA-1 and MD5 algorithms in itext&#39;s checksum and message digests; i.e. what is triggering the warnings.  (Looking at the itext 5 codebase, it is clear that it does support more secure algorithms ...)  Also, understanding how your application code is triggering the warnings can help us / you to understand whether the warnings are significant ... or not.","body":"You may also be able to get itext 5 to use a more secure digest algorithm.  But that will depend on where and how you application is using the SHA-1 and MD5 algorithms in itext&#39;s checksum and message digests; i.e. what is triggering the warnings.  (Looking at the itext 5 codebase, it is clear that it does support more secure algorithms ...)  Also, understanding how your application code is triggering the warnings can help us / you to understand whether the warnings are significant ... or not."},{"owner":{"account_id":29585783,"reputation":1,"user_id":22674457,"display_name":"Akshit Kumar"},"score":0,"creation_date":1696318661,"post_id":77219898,"comment_id":136134124,"body_markdown":"Hi @StephenC I am just using itext version to merge images into pdf","body":"Hi @StephenC I am just using itext version to merge images into pdf"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1696318929,"post_id":77219898,"comment_id":136134158,"body_markdown":"So ... how is the strength / weakness  (security) of checksums even relevant to that?","body":"So ... how is the strength / weakness  (security) of checksums even relevant to that?"},{"owner":{"account_id":29585783,"reputation":1,"user_id":22674457,"display_name":"Akshit Kumar"},"score":0,"creation_date":1696319056,"post_id":77219898,"comment_id":136134181,"body_markdown":"Hi @StephenC   High Security risk I am getting after testing... Insecure hashing algorithm SHA-1 used......  com.itextpdf.text.pdf.PdfReader\nLine 1031 in com/itextpdf/text/pdf/PdfReader.java\ncom.itextpdf:itextpdf","body":"Hi @StephenC   High Security risk I am getting after testing... Insecure hashing algorithm SHA-1 used......  com.itextpdf.text.pdf.PdfReader Line 1031 in com/itextpdf/text/pdf/PdfReader.java com.itextpdf:itextpdf"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1696319404,"post_id":77219898,"comment_id":136134247,"body_markdown":"So ... your application is **reading** a document that uses an SHA-1 checksum.  The &quot;security problem&quot; is apparently in the document that you are reading.  It has a weak checksum.  Is that really a problem?  How?  Why?  And is it problem in your application, or in whatever it was that is providing you with the document you are merging?","body":"So ... your application is <b>reading</b> a document that uses an SHA-1 checksum.  The &quot;security problem&quot; is apparently in the document that you are reading.  It has a weak checksum.  Is that really a problem?  How?  Why?  And is it problem in your application, or in whatever it was that is providing you with the document you are merging?"},{"owner":{"account_id":29585783,"reputation":1,"user_id":22674457,"display_name":"Akshit Kumar"},"score":0,"creation_date":1696319483,"post_id":77219898,"comment_id":136134267,"body_markdown":"@StephenC I am creating a pdf by adding images only. There is no document I am using there","body":"@StephenC I am creating a pdf by adding images only. There is no document I am using there"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1696319539,"post_id":77219898,"comment_id":136134282,"body_markdown":"The code line says that you are READING the document!   That&#39;s what PdfReader does.   So maybe that is not the relevant line of code.  Look for the place in your code that generates the document that you are reading at that point ... and figure out why &gt;that&lt; is using a weak checksum.  (Common man .... use your code reading and problem solving skills!)","body":"The code line says that you are READING the document!   That&#39;s what PdfReader does.   So maybe that is not the relevant line of code.  Look for the place in your code that generates the document that you are reading at that point ... and figure out why &gt;that&lt; is using a weak checksum.  (Common man .... use your code reading and problem solving skills!)"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1696319862,"post_id":77219898,"comment_id":136134333,"body_markdown":"FWIW - based on what you have shown so far, this is not going to be solved by messing around with code versions.  The vulnerability appears to be in your application ... not in the version if `itext` you are using.","body":"FWIW - based on what you have shown so far, this is not going to be solved by messing around with code versions.  The vulnerability appears to be in your application ... not in the version if <code>itext</code> you are using."}],"owner":{"account_id":29585783,"reputation":1,"user_id":22674457,"display_name":"Akshit Kumar"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696311723,"creation_date":1696311723,"question_id":77219898,"body_markdown":"I am using this dependency com.itextpdf:itextpdf:5.5.13.3 version and getting SHA-1 and MD5 insecure algorithm errors during testing.\r\n\r\nI tried with multiple versions of itext dependency but I am still getting these algo errors","title":"How to fix insecure SHA-1 and MD5 algorithm issues in com.itextpdf:itextpdf:5.5.13.3?","body":"<p>I am using this dependency com.itextpdf:itextpdf:5.5.13.3 version and getting SHA-1 and MD5 insecure algorithm errors during testing.</p>\n<p>I tried with multiple versions of itext dependency but I am still getting these algo errors</p>\n"},{"tags":["java","android","kotlin","wear-os","android-virtual-device"],"owner":{"account_id":5677356,"reputation":91,"user_id":4490043,"display_name":"Carlos Catalan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696311539,"creation_date":1696236782,"question_id":77214295,"body_markdown":"i&#39;m trying to figure out how to test the **flick wrist out** and **flick wrist in** gestures in android studio&#39;s avd.\r\n\r\nCurrently these simulated real world actions are supported on the emulator:\r\n\r\n\r\n[![avd emulator controls][1]][1]\r\n\r\nAnd from [android&#39;s training guide on wearables][2], it appears that the **flick wrist out** and **flick wrist in** gestures are mapped to key events:\r\n[![flick wrist mapped to key events in android][3]][3]\r\n\r\nMy question is, is it possible to map those key events (KEYCODE_NAVIGATE_NEXT and KEYCODE_NAVIGATE_PREVIOUS) to the button actions on the avd emulator controls from the first image (button 1 and 2) and just test my code for the flick gestures from there if it works correctly?\r\n\r\nWould be open to other suggestions on how to approach this as well. Thank you!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5aNnd.png\r\n  [2]: https://developer.android.com/training/wearables/user-input/wrist-gestures\r\n  [3]: https://i.stack.imgur.com/gLFL7.png","title":"Android/Wear OS - testing wrist flick gestures on android studio avd emulator","body":"<p>i'm trying to figure out how to test the <strong>flick wrist out</strong> and <strong>flick wrist in</strong> gestures in android studio's avd.</p>\n<p>Currently these simulated real world actions are supported on the emulator:</p>\n<p><a href=\"https://i.stack.imgur.com/5aNnd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5aNnd.png\" alt=\"avd emulator controls\" /></a></p>\n<p>And from <a href=\"https://developer.android.com/training/wearables/user-input/wrist-gestures\" rel=\"nofollow noreferrer\">android's training guide on wearables</a>, it appears that the <strong>flick wrist out</strong> and <strong>flick wrist in</strong> gestures are mapped to key events:\n<a href=\"https://i.stack.imgur.com/gLFL7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gLFL7.png\" alt=\"flick wrist mapped to key events in android\" /></a></p>\n<p>My question is, is it possible to map those key events (KEYCODE_NAVIGATE_NEXT and KEYCODE_NAVIGATE_PREVIOUS) to the button actions on the avd emulator controls from the first image (button 1 and 2) and just test my code for the flick gestures from there if it works correctly?</p>\n<p>Would be open to other suggestions on how to approach this as well. Thank you!</p>\n"},{"tags":["java","spring","date","datetime","time"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1696278265,"post_id":77218234,"comment_id":136130248,"body_markdown":"I&#39;ve read this a few times but still can&#39;t understand what&#39;s being asked, not a knock, I just don&#39;t understand.  I&#39;m confused as to why the timezone should even be considered, September begins at 00:00:00 on the 1st in every timezone.","body":"I&#39;ve read this a few times but still can&#39;t understand what&#39;s being asked, not a knock, I just don&#39;t understand.  I&#39;m confused as to why the timezone should even be considered, September begins at 00:00:00 on the 1st in every timezone."},{"owner":{"account_id":317896,"reputation":233694,"user_id":634824,"accept_rate":87,"display_name":"Matt Johnson-Pint"},"score":0,"creation_date":1696279063,"post_id":77218234,"comment_id":136130355,"body_markdown":"@lane.maxwell - They&#39;re calculating a timestamp corresponding to the first instant of a month and the last instant of a month.  Those timestamps are UTC-based, but the date and time are local to a given time zone.","body":"@lane.maxwell - They&#39;re calculating a timestamp corresponding to the first instant of a month and the last instant of a month.  Those timestamps are UTC-based, but the date and time are local to a given time zone."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1696303798,"post_id":77218234,"comment_id":136132626,"body_markdown":"@lane.maxwell Time zone matters because days, and therefore months, start earlier in the east than in the west. When a new day arrives in Tokyo Japan, it is still ”yesterday” in Toulouse France. Likewise, upon a new day in Toulouse, it is still “yesterday” in Toledo Ohio US.","body":"@lane.maxwell Time zone matters because days, and therefore months, start earlier in the east than in the west. When a new day arrives in Tokyo Japan, it is still ”yesterday” in Toulouse France. Likewise, upon a new day in Toulouse, it is still “yesterday” in Toledo Ohio US."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1696304023,"post_id":77218234,"comment_id":136132643,"body_markdown":"@lane.maxwell Another thing about time zone: Days do not always start at 00:00. Some dates in some time zones start at other times such as 01:00.","body":"@lane.maxwell Another thing about time zone: Days do not always start at 00:00. Some dates in some time zones start at other times such as 01:00."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1696307614,"post_id":77218234,"comment_id":136132855,"body_markdown":"Avoid the hacky and long outdated `Timestamp` class. In its day it was also only meant for timestamps to and from SQL databases. Instead convert via `Instant`. Your issue is caused by your call to `toLocalDateTime()`.  The *local* in some java.time class names means *without time zone*, so in this call you are throwing the time zone, Asia/Kolkata, away.","body":"Avoid the hacky and long outdated <code>Timestamp</code> class. In its day it was also only meant for timestamps to and from SQL databases. Instead convert via <code>Instant</code>. Your issue is caused by your call to <code>toLocalDateTime()</code>.  The <i>local</i> in some java.time class names means <i>without time zone</i>, so in this call you are throwing the time zone, Asia/Kolkata, away."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1696307628,"post_id":77218234,"comment_id":136132856,"body_markdown":"A detail, since you have got a `Year` object (nice), for me the elegant conversion to `LocalDate` would be `year.atMonth(month).tDay(1)`.","body":"A detail, since you have got a <code>Year</code> object (nice), for me the elegant conversion to <code>LocalDate</code> would be <code>year.atMonth(month).tDay(1)</code>."}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1696307980,"post_id":77218362,"comment_id":136132884,"body_markdown":"A very nicely explained answer. Since an old-fashioned `java.sql.Timestamp` is not the end goal, I unconditionally agree in skipping that hack of a class.","body":"A very nicely explained answer. Since an old-fashioned <code>java.sql.Timestamp</code> is not the end goal, I unconditionally agree in skipping that hack of a class."}],"tags":[],"owner":{"account_id":317896,"reputation":233694,"user_id":634824,"accept_rate":87,"display_name":"Matt Johnson-Pint"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1696279280,"creation_date":1696278864,"answer_id":77218362,"question_id":77218234,"body_markdown":"The local time zone is being introduced when you convert from `ZonedDateTime` to a `Timestamp`:\r\n\r\n    return Timestamp.valueOf(istDateTime.toLocalDateTime()).getTime();\r\n\r\nSince you&#39;re going through a `LocalDateTime`, the `Timestamp.valueOf` method will presume the local time zone.\r\n\r\nFrom [the docs][1]:\r\n\r\n&gt; `public static Timestamp valueOf(LocalDateTime dateTime)`\r\n&gt;\r\n&gt; Obtains an\r\n&gt; instance of `Timestamp` from a `LocalDateTime` object, with the same year, month, day of month, hours, minutes, seconds and nanos date-time value as the provided `LocalDateTime`.\r\n&gt;\r\n&gt; ***The provided `LocalDateTime` is interpreted as the local date-time in the local time zone.***\r\n\r\nInstead, you can create the `Timestamp` from an `Instant`:\r\n\r\n    return Timestamp.from(istDateTime.toInstant()).getTime();\r\n\r\nThough, since you appear to be after a `long` in terms of _milliseconds_, you could just skip the `Timestamp` type entirely:\r\n\r\n    return istDateTime.toInstant().toEpochMilli();\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html#valueOf-java.time.LocalDateTime-","title":"Get month&#39;s start time and end time in non UTC timezone in java","body":"<p>The local time zone is being introduced when you convert from <code>ZonedDateTime</code> to a <code>Timestamp</code>:</p>\n<pre><code>return Timestamp.valueOf(istDateTime.toLocalDateTime()).getTime();\n</code></pre>\n<p>Since you're going through a <code>LocalDateTime</code>, the <code>Timestamp.valueOf</code> method will presume the local time zone.</p>\n<p>From <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html#valueOf-java.time.LocalDateTime-\" rel=\"noreferrer\">the docs</a>:</p>\n<blockquote>\n<p><code>public static Timestamp valueOf(LocalDateTime dateTime)</code></p>\n<p>Obtains an\ninstance of <code>Timestamp</code> from a <code>LocalDateTime</code> object, with the same year, month, day of month, hours, minutes, seconds and nanos date-time value as the provided <code>LocalDateTime</code>.</p>\n<p><em><strong>The provided <code>LocalDateTime</code> is interpreted as the local date-time in the local time zone.</strong></em></p>\n</blockquote>\n<p>Instead, you can create the <code>Timestamp</code> from an <code>Instant</code>:</p>\n<pre><code>return Timestamp.from(istDateTime.toInstant()).getTime();\n</code></pre>\n<p>Though, since you appear to be after a <code>long</code> in terms of <em>milliseconds</em>, you could just skip the <code>Timestamp</code> type entirely:</p>\n<pre><code>return istDateTime.toInstant().toEpochMilli();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8169046,"reputation":265,"user_id":6150230,"accept_rate":100,"display_name":"Sanjay Prajapat"},"score":0,"creation_date":1696280345,"post_id":77218402,"comment_id":136130554,"body_markdown":"Thanks for `YearMonth` . Didn&#39;t know about this, this can make implementation clearer. But I don&#39;t understand why do you want to include next day&#39;s 00:00:00 sec in last day. I want to keep it till 23:59:59, since that&#39;s when the day ends.","body":"Thanks for <code>YearMonth</code> . Didn&#39;t know about this, this can make implementation clearer. But I don&#39;t understand why do you want to include next day&#39;s 00:00:00 sec in last day. I want to keep it till 23:59:59, since that&#39;s when the day ends."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1696280645,"post_id":77218402,"comment_id":136130599,"body_markdown":"@SanjayPrajapat No, the day ends at the first moment of the next day. There is an infinity of split seconds between second 59 and the first moment of the next day. If you timestamp database queries, you will never retrieve the rows stored with values having a time of 23:59:59.001, 23:59:59.333, 23:59:59.789, etc.","body":"@SanjayPrajapat No, the day ends at the first moment of the next day. There is an infinity of split seconds between second 59 and the first moment of the next day. If you timestamp database queries, you will never retrieve the rows stored with values having a time of 23:59:59.001, 23:59:59.333, 23:59:59.789, etc."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1696280851,"post_id":77218402,"comment_id":136130625,"body_markdown":"@SanjayPrajapat A series of your incorrectly defined months will result in a series of gaps, missing a thousand milliseconds between every month.","body":"@SanjayPrajapat A series of your incorrectly defined months will result in a series of gaps, missing a thousand milliseconds between every month."},{"owner":{"account_id":8169046,"reputation":265,"user_id":6150230,"accept_rate":100,"display_name":"Sanjay Prajapat"},"score":1,"creation_date":1696280852,"post_id":77218402,"comment_id":136130626,"body_markdown":"@user85421 Thanks, now this makes sense. Thanks @Basil Bourque for pointing out this.\n\nMy implementation returns `1696098599999` as end timestamp which is `30 September 2023 23:59:59.999 GMT+05:30` which does include `23:59:59.1` but yes, keeping it to next second and making condition exclusive is a better idea.","body":"@user85421 Thanks, now this makes sense. Thanks @Basil Bourque for pointing out this.  My implementation returns <code>1696098599999</code> as end timestamp which is <code>30 September 2023 23:59:59.999 GMT+05:30</code> which does include <code>23:59:59.1</code> but yes, keeping it to next second and making condition exclusive is a better idea."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700686474,"post_id":77218402,"comment_id":136686487,"body_markdown":"@SanjayPrajapat Not to run this point into the ground, but to further the explanation: Your end timestamp of `30 September 2023 23:59:59.999 GMT+05:30` will miss values in a database like Postgres that uses microseconds. So your query will not find rows like `…  23:59:59.999001`, `…  23:59:59.999002`, `…  23:59:59.999003`,  etc. And queries among *java.time* objects resolving to nanoseconds will miss values such as `…  23:59:59.999000001`, `…  23:59:59.999000002`, `…  23:59:59.999000003`, etc. Using Half-Open approach neatly solves the entire problem.","body":"@SanjayPrajapat Not to run this point into the ground, but to further the explanation: Your end timestamp of <code>30 September 2023 23:59:59.999 GMT+05:30</code> will miss values in a database like Postgres that uses microseconds. So your query will not find rows like <code>…  23:59:59.999001</code>, <code>…  23:59:59.999002</code>, <code>…  23:59:59.999003</code>,  etc. And queries among <i>java.time</i> objects resolving to nanoseconds will miss values such as <code>…  23:59:59.999000001</code>, <code>…  23:59:59.999000002</code>, <code>…  23:59:59.999000003</code>, etc. Using Half-Open approach neatly solves the entire problem."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1696311250,"creation_date":1696279649,"answer_id":77218402,"question_id":77218234,"body_markdown":"# tl;dr\r\n\r\n    YearMonth\r\n    .of( 2023 , Month.NOVEMBER )\r\n    .atDay( 1 ) \r\n    .atStartOfDay( ZoneId.of( &quot;Asia/Kolkata&quot; ) ) \r\n    .toInstant()\r\n    .toEpochMilli()\r\n\r\n… and:\r\n\r\n    YearMonth\r\n    .of( 2023 , Month.NOVEMBER )\r\n    .plusMonths( 1 )\r\n    .atDay( 1 ) \r\n    .atStartOfDay( ZoneId.of( &quot;Asia/Kolkata&quot; ) ) \r\n    .toInstant()\r\n    .toEpochMilli()\r\n\r\n# Details\r\n\r\n&gt; September 2023\r\n\r\nUse [`java.time.YearMonth`][1] class to represent a month.\r\n\r\n    YearMonth ym = YearMonth.of( 2023 , Month.NOVEMBER ) ;\r\n\r\n&gt; start and end times of a specific month in a particular timezone, specifically &quot;Asia/Kolkata&quot; (UTC+05:30).\r\n\r\nGet the dates first.\r\n\r\n```java\r\nLocalDate startDate = ym.atDay ( 1 );\r\nLocalDate endDate = ym.atEndOfMonth ( );\r\n```\r\n\r\nGet the first moment of the first day. Doing so requires a time zone. Do not assume the day starts at 00:00, as some dates in some zones may start at an another time such as 01:00. Let *java.time* determine the first moment of the day.\r\n\r\n```java\r\nZoneId z = ZoneId.of ( &quot;Asia/Kolkata&quot; );\r\nZonedDateTime startZdt = startDate.atStartOfDay ( z );\r\n```\r\n\r\n&gt;End Time: 2023-09-30 23:59:59\r\n\r\nYour example is incorrect. If you abut your monthly periods, you will be missing the last second of that last day. \r\n\r\nBetter to define your spans of time as Half-Open, where the beginning is *inclusive* while the ending is *exclusive*. So a month starts at the first moment of the first day, and runs up to, but does not include, the first moment of the *following* month. Using this arrangement, you&#39;ll not lose that last second. \r\n\r\n    ZonedDateTime endZdt = endDate.plusDays ( 1 ).atStartOfDay ( z );\r\n\r\nApparently you want to represent these two moments as a count of milliseconds since the epoch reference of  first moment of 1970 as seen in UTC, 1970-01-01T00:00Z. \r\n\r\nYour attempt at getting that count…\r\n\r\n    Timestamp.valueOf(istDateTime.toLocalDateTime()).getTime();\r\n\r\n… is incorrect in two ways:\r\n\r\n - You called `toLocalDateTime` which loses any notion of time zone or offset-from-UTC. Do not use `LocalDateTime` objects when working with moments. For more explanation, see correct [Answer by Johnson-Pint][2]. \r\n - You use a terribly flawed legacy class `Timestamp` which was years ago supplanted by the modern *java.time* classes defined in JSR 310. Avoid the legacy classes, and use only *java.time* classes.\r\n\r\nTo adjust our two moments into an offset of zero hours-minutes-seconds from the temporal meridian of UTC, extract `Instant` objects.\r\n\r\n```java\r\nInstant startInstant = startZdt.toInstant ( );\r\nInstant endInstant = endZdt.toInstant ( );\r\n```\r\n\r\nFrom there you can get your count of milliseconds. \r\n\r\n```java\r\nlong start = startInstant.toEpochMilli ( );\r\nlong end = endInstant.toEpochMilli ( );\r\n```\r\n\r\nI do not recommend you represent moments in this fashion. A count of milliseconds is ambiguous, as it is just an integer with no context, and this creates ambiguity. 1970-01-01T00:00Z is only one of dozens of [common epoch references][3]. Furthermore, a count from epoch cannot by deciphered by humans. This means errors may easily escape notice. \r\n\r\nI recommend you communicate date-time values textually, using standard [ISO 8601][4] formats. For a moment as seen in UTC, an example would be `2023-10-02T20:53:59Z`. The `T` separates the date portion from the time portion. The `Z` is an abbreviation for `+00:00`, an offset of zero.\r\n\r\n\r\nHere is a complete code example.\r\n\r\n```java\r\npackage work.basil.example;\r\n\r\nimport java.time.*;\r\n\r\npublic class MonthMoments\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        YearMonth ym = YearMonth.of ( 2023 , Month.NOVEMBER );\r\n        LocalDate startDate = ym.atDay ( 1 );\r\n        LocalDate endDate = ym.atEndOfMonth ( );\r\n\r\n        ZoneId z = ZoneId.of ( &quot;Asia/Kolkata&quot; );\r\n        ZonedDateTime startZdt = startDate.atStartOfDay ( z );\r\n        ZonedDateTime endZdt = endDate.plusDays ( 1 ).atStartOfDay ( z );\r\n\r\n        Instant startInstant = startZdt.toInstant ( );\r\n        Instant endInstant = endZdt.toInstant ( );\r\n\r\n        long start = startInstant.toEpochMilli ( );\r\n        long end = endInstant.toEpochMilli ( );\r\n\r\n        System.out.println ( &quot;startZdt = &quot; + startZdt );\r\n        System.out.println ( &quot;endZdt = &quot; + endZdt );\r\n\r\n        System.out.println ( &quot;startInstant = &quot; + startInstant );\r\n        System.out.println ( &quot;endInstant = &quot; + endInstant );\r\n\r\n        System.out.println ( &quot;start = &quot; + start );\r\n        System.out.println ( &quot;end = &quot; + end );\r\n    }\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\nstartZdt = 2023-11-01T00:00+05:30[Asia/Kolkata]\r\nendZdt = 2023-12-01T00:00+05:30[Asia/Kolkata]\r\nstartInstant = 2023-10-31T18:30:00Z\r\nendInstant = 2023-11-30T18:30:00Z\r\nstart = 1698777000000\r\nend = 1701369000000\r\n```\r\n\r\nTo work with pairs of moments, I suggest adding the [*ThreeTen-Extra*][5] library to your project. That library includes the [`Interval`][6] class, to represent a span of time as a pair of `Instant` objects. That class offers several handy methods such as `contains`, `abuts`, and `intersection`. And that class parses/generates text in standard ISO 8601 format with two moments separate by a slash.\r\n\r\n    Interval monthInterval = Interval.of( startInstant , endInstant ) ;\r\n\r\n\r\n    \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/YearMonth.html\r\n  [2]: https://stackoverflow.com/a/77218362/642706\r\n  [3]: https://en.wikipedia.org/wiki/Epoch_(computing)#Notable_epoch_dates_in_computing\r\n  [4]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [5]: https://www.threeten.org/threeten-extra/\r\n  [6]: https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/Interval.html","title":"Get month&#39;s start time and end time in non UTC timezone in java","body":"<h1>tl;dr</h1>\n<pre><code>YearMonth\n.of( 2023 , Month.NOVEMBER )\n.atDay( 1 ) \n.atStartOfDay( ZoneId.of( &quot;Asia/Kolkata&quot; ) ) \n.toInstant()\n.toEpochMilli()\n</code></pre>\n<p>… and:</p>\n<pre><code>YearMonth\n.of( 2023 , Month.NOVEMBER )\n.plusMonths( 1 )\n.atDay( 1 ) \n.atStartOfDay( ZoneId.of( &quot;Asia/Kolkata&quot; ) ) \n.toInstant()\n.toEpochMilli()\n</code></pre>\n<h1>Details</h1>\n<blockquote>\n<p>September 2023</p>\n</blockquote>\n<p>Use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/YearMonth.html\" rel=\"nofollow noreferrer\"><code>java.time.YearMonth</code></a> class to represent a month.</p>\n<pre><code>YearMonth ym = YearMonth.of( 2023 , Month.NOVEMBER ) ;\n</code></pre>\n<blockquote>\n<p>start and end times of a specific month in a particular timezone, specifically &quot;Asia/Kolkata&quot; (UTC+05:30).</p>\n</blockquote>\n<p>Get the dates first.</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate startDate = ym.atDay ( 1 );\nLocalDate endDate = ym.atEndOfMonth ( );\n</code></pre>\n<p>Get the first moment of the first day. Doing so requires a time zone. Do not assume the day starts at 00:00, as some dates in some zones may start at an another time such as 01:00. Let <em>java.time</em> determine the first moment of the day.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZoneId z = ZoneId.of ( &quot;Asia/Kolkata&quot; );\nZonedDateTime startZdt = startDate.atStartOfDay ( z );\n</code></pre>\n<blockquote>\n<p>End Time: 2023-09-30 23:59:59</p>\n</blockquote>\n<p>Your example is incorrect. If you abut your monthly periods, you will be missing the last second of that last day.</p>\n<p>Better to define your spans of time as Half-Open, where the beginning is <em>inclusive</em> while the ending is <em>exclusive</em>. So a month starts at the first moment of the first day, and runs up to, but does not include, the first moment of the <em>following</em> month. Using this arrangement, you'll not lose that last second.</p>\n<pre><code>ZonedDateTime endZdt = endDate.plusDays ( 1 ).atStartOfDay ( z );\n</code></pre>\n<p>Apparently you want to represent these two moments as a count of milliseconds since the epoch reference of  first moment of 1970 as seen in UTC, 1970-01-01T00:00Z.</p>\n<p>Your attempt at getting that count…</p>\n<pre><code>Timestamp.valueOf(istDateTime.toLocalDateTime()).getTime();\n</code></pre>\n<p>… is incorrect in two ways:</p>\n<ul>\n<li>You called <code>toLocalDateTime</code> which loses any notion of time zone or offset-from-UTC. Do not use <code>LocalDateTime</code> objects when working with moments. For more explanation, see correct <a href=\"https://stackoverflow.com/a/77218362/642706\">Answer by Johnson-Pint</a>.</li>\n<li>You use a terribly flawed legacy class <code>Timestamp</code> which was years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310. Avoid the legacy classes, and use only <em>java.time</em> classes.</li>\n</ul>\n<p>To adjust our two moments into an offset of zero hours-minutes-seconds from the temporal meridian of UTC, extract <code>Instant</code> objects.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Instant startInstant = startZdt.toInstant ( );\nInstant endInstant = endZdt.toInstant ( );\n</code></pre>\n<p>From there you can get your count of milliseconds.</p>\n<pre class=\"lang-java prettyprint-override\"><code>long start = startInstant.toEpochMilli ( );\nlong end = endInstant.toEpochMilli ( );\n</code></pre>\n<p>I do not recommend you represent moments in this fashion. A count of milliseconds is ambiguous, as it is just an integer with no context, and this creates ambiguity. 1970-01-01T00:00Z is only one of dozens of <a href=\"https://en.wikipedia.org/wiki/Epoch_(computing)#Notable_epoch_dates_in_computing\" rel=\"nofollow noreferrer\">common epoch references</a>. Furthermore, a count from epoch cannot by deciphered by humans. This means errors may easily escape notice.</p>\n<p>I recommend you communicate date-time values textually, using standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> formats. For a moment as seen in UTC, an example would be <code>2023-10-02T20:53:59Z</code>. The <code>T</code> separates the date portion from the time portion. The <code>Z</code> is an abbreviation for <code>+00:00</code>, an offset of zero.</p>\n<p>Here is a complete code example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example;\n\nimport java.time.*;\n\npublic class MonthMoments\n{\n    public static void main ( String[] args )\n    {\n        YearMonth ym = YearMonth.of ( 2023 , Month.NOVEMBER );\n        LocalDate startDate = ym.atDay ( 1 );\n        LocalDate endDate = ym.atEndOfMonth ( );\n\n        ZoneId z = ZoneId.of ( &quot;Asia/Kolkata&quot; );\n        ZonedDateTime startZdt = startDate.atStartOfDay ( z );\n        ZonedDateTime endZdt = endDate.plusDays ( 1 ).atStartOfDay ( z );\n\n        Instant startInstant = startZdt.toInstant ( );\n        Instant endInstant = endZdt.toInstant ( );\n\n        long start = startInstant.toEpochMilli ( );\n        long end = endInstant.toEpochMilli ( );\n\n        System.out.println ( &quot;startZdt = &quot; + startZdt );\n        System.out.println ( &quot;endZdt = &quot; + endZdt );\n\n        System.out.println ( &quot;startInstant = &quot; + startInstant );\n        System.out.println ( &quot;endInstant = &quot; + endInstant );\n\n        System.out.println ( &quot;start = &quot; + start );\n        System.out.println ( &quot;end = &quot; + end );\n    }\n}\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>startZdt = 2023-11-01T00:00+05:30[Asia/Kolkata]\nendZdt = 2023-12-01T00:00+05:30[Asia/Kolkata]\nstartInstant = 2023-10-31T18:30:00Z\nendInstant = 2023-11-30T18:30:00Z\nstart = 1698777000000\nend = 1701369000000\n</code></pre>\n<p>To work with pairs of moments, I suggest adding the <a href=\"https://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><em>ThreeTen-Extra</em></a> library to your project. That library includes the <a href=\"https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a> class, to represent a span of time as a pair of <code>Instant</code> objects. That class offers several handy methods such as <code>contains</code>, <code>abuts</code>, and <code>intersection</code>. And that class parses/generates text in standard ISO 8601 format with two moments separate by a slash.</p>\n<pre><code>Interval monthInterval = Interval.of( startInstant , endInstant ) ;\n</code></pre>\n"}],"owner":{"account_id":8169046,"reputation":265,"user_id":6150230,"accept_rate":100,"display_name":"Sanjay Prajapat"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77218402,"answer_count":2,"score":1,"last_activity_date":1696311250,"creation_date":1696277164,"question_id":77218234,"body_markdown":"I&#39;m trying to obtain the start and end times of a specific month in a particular timezone, specifically &quot;Asia/Kolkata&quot; (UTC+05:30). \r\n\r\nFor instance, below are start and end times for September 2023.\r\n\r\nStart Time: 2023-09-01 00:00:00\r\n\r\nEnd Time: 2023-09-30 23:59:59\r\n\r\nI&#39;ve implemented the following functions in Java:\r\n\r\n```java\r\npublic static Long getStartTimeStampOfMonth(Month month, Year year) {\r\n    LocalDate startDate = LocalDate.of(year.getValue(), month, 1);\r\n    LocalDateTime startDateTime = LocalDateTime.of(startDate, LocalTime.MIN);\r\n    ZonedDateTime istDateTime = startDateTime.atZone(ZoneId.of(&quot;Asia/Kolkata&quot;));\r\n    return Timestamp.valueOf(istDateTime.toLocalDateTime()).getTime();\r\n}\r\n\r\npublic static Long getEndTimeStampOfMonth(Month month, Year year) {\r\n    LocalDate startDate = LocalDate.of(year.getValue(), month, 1);\r\n    LocalDate endDate = startDate.withDayOfMonth(startDate.lengthOfMonth());\r\n    LocalDateTime endDateTime = LocalDateTime.of(endDate, LocalTime.MAX);\r\n    ZonedDateTime istDateTime = endDateTime.atZone(ZoneId.of(&quot;Asia/Kolkata&quot;));\r\n    return Timestamp.valueOf(istDateTime.toLocalDateTime()).getTime();\r\n}\r\n```\r\n\r\nHowever, I&#39;ve noticed that the above code returns the start and end times based on the timezone configured on the machine. Even though I&#39;ve explicitly specified ZoneId.of(&quot;Asia/Kolkata&quot;), it doesn&#39;t produce the desired results.\r\n\r\nWhen I tested the code for SEPTEMBER 2023 on a machine set to the UTC timezone, I got the following output:\r\n\r\nStart Time: 1693526400000\r\n\r\nEnd Time: 1696118399999\r\n\r\nHowever, I want the output to be consistent, regardless of the machine&#39;s timezone:\r\n\r\nStart Time: 1693506600000\r\n\r\nEnd Time: 1696098599999\r\n\r\nPlease help me identify what I might be missing or suggest an alternative approach.","title":"Get month&#39;s start time and end time in non UTC timezone in java","body":"<p>I'm trying to obtain the start and end times of a specific month in a particular timezone, specifically &quot;Asia/Kolkata&quot; (UTC+05:30).</p>\n<p>For instance, below are start and end times for September 2023.</p>\n<p>Start Time: 2023-09-01 00:00:00</p>\n<p>End Time: 2023-09-30 23:59:59</p>\n<p>I've implemented the following functions in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Long getStartTimeStampOfMonth(Month month, Year year) {\n    LocalDate startDate = LocalDate.of(year.getValue(), month, 1);\n    LocalDateTime startDateTime = LocalDateTime.of(startDate, LocalTime.MIN);\n    ZonedDateTime istDateTime = startDateTime.atZone(ZoneId.of(&quot;Asia/Kolkata&quot;));\n    return Timestamp.valueOf(istDateTime.toLocalDateTime()).getTime();\n}\n\npublic static Long getEndTimeStampOfMonth(Month month, Year year) {\n    LocalDate startDate = LocalDate.of(year.getValue(), month, 1);\n    LocalDate endDate = startDate.withDayOfMonth(startDate.lengthOfMonth());\n    LocalDateTime endDateTime = LocalDateTime.of(endDate, LocalTime.MAX);\n    ZonedDateTime istDateTime = endDateTime.atZone(ZoneId.of(&quot;Asia/Kolkata&quot;));\n    return Timestamp.valueOf(istDateTime.toLocalDateTime()).getTime();\n}\n</code></pre>\n<p>However, I've noticed that the above code returns the start and end times based on the timezone configured on the machine. Even though I've explicitly specified ZoneId.of(&quot;Asia/Kolkata&quot;), it doesn't produce the desired results.</p>\n<p>When I tested the code for SEPTEMBER 2023 on a machine set to the UTC timezone, I got the following output:</p>\n<p>Start Time: 1693526400000</p>\n<p>End Time: 1696118399999</p>\n<p>However, I want the output to be consistent, regardless of the machine's timezone:</p>\n<p>Start Time: 1693506600000</p>\n<p>End Time: 1696098599999</p>\n<p>Please help me identify what I might be missing or suggest an alternative approach.</p>\n"},{"tags":["java","gradle","shadowjar"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691103622,"post_id":76831918,"comment_id":135450468,"body_markdown":"What about `javac --version`?","body":"What about <code>javac --version</code>?"},{"owner":{"account_id":4610629,"reputation":1007,"user_id":3738857,"accept_rate":50,"display_name":"divide_by_zero"},"score":0,"creation_date":1691104499,"post_id":76831918,"comment_id":135450550,"body_markdown":"`javac --version` is 11.0.18, same as the others","body":"<code>javac --version</code> is 11.0.18, same as the others"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691104811,"post_id":76831918,"comment_id":135450579,"body_markdown":"Are any of the dependencies that you&#39;re trying to fat jar compiled with Java 19?","body":"Are any of the dependencies that you&#39;re trying to fat jar compiled with Java 19?"},{"owner":{"account_id":4610629,"reputation":1007,"user_id":3738857,"accept_rate":50,"display_name":"divide_by_zero"},"score":0,"creation_date":1691116665,"post_id":76831918,"comment_id":135451508,"body_markdown":"I&#39;m not quite sure, the list of dependencies is quite large, how would I check that?  Even if that was the case, shadow 6.1.0 says it should work with 8+","body":"I&#39;m not quite sure, the list of dependencies is quite large, how would I check that?  Even if that was the case, shadow 6.1.0 says it should work with 8+"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691135971,"post_id":76831918,"comment_id":135453709,"body_markdown":"Let me think. What OS are you using?","body":"Let me think. What OS are you using?"},{"owner":{"account_id":4610629,"reputation":1007,"user_id":3738857,"accept_rate":50,"display_name":"divide_by_zero"},"score":0,"creation_date":1691176907,"post_id":76831918,"comment_id":135461857,"body_markdown":"This is on macOS","body":"This is on macOS"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691178436,"post_id":76831918,"comment_id":135462102,"body_markdown":"My theory could be wrong but I knocked up an app to test jars for their class version. Shall post link in a minute or two. [Here we are](https://technojeeves.com/tech/util-1.0-SNAPSHOT.jar). Just point that at a directory or jar or class file. `java -jar util-1.0-SNAPSHOT.jar x.jar`. Is in any case interesting to know what versions you&#39;re dealing with","body":"My theory could be wrong but I knocked up an app to test jars for their class version. Shall post link in a minute or two. <a href=\"https://technojeeves.com/tech/util-1.0-SNAPSHOT.jar\" rel=\"nofollow noreferrer\">Here we are</a>. Just point that at a directory or jar or class file. <code>java -jar util-1.0-SNAPSHOT.jar x.jar</code>. Is in any case interesting to know what versions you&#39;re dealing with"},{"owner":{"account_id":4610629,"reputation":1007,"user_id":3738857,"accept_rate":50,"display_name":"divide_by_zero"},"score":0,"creation_date":1691178615,"post_id":76831918,"comment_id":135462133,"body_markdown":"I think this is potentially a gradle issue, from the gradle 7.6.1 notes:\n\n`- Added support for Java 19.`","body":"I think this is potentially a gradle issue, from the gradle 7.6.1 notes:  <code>- Added support for Java 19.</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691178747,"post_id":76831918,"comment_id":135462154,"body_markdown":"Well you said that there&#39;s nothing at 19 present, so it shouldn&#39;t *need* to support it","body":"Well you said that there&#39;s nothing at 19 present, so it shouldn&#39;t <i>need</i> to support it"},{"owner":{"account_id":4610629,"reputation":1007,"user_id":3738857,"accept_rate":50,"display_name":"divide_by_zero"},"score":0,"creation_date":1691179428,"post_id":76831918,"comment_id":135462272,"body_markdown":"I was trying a few different combinations of dependency versions and one of my dependencies is solr.  With solr 9.3 I&#39;m getting these issues but it&#39;s working for solr 8.x.  Unfortunately, I do specifically need solr 9.x.","body":"I was trying a few different combinations of dependency versions and one of my dependencies is solr.  With solr 9.3 I&#39;m getting these issues but it&#39;s working for solr 8.x.  Unfortunately, I do specifically need solr 9.x."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1691180091,"post_id":76831918,"comment_id":135462353,"body_markdown":"If you point that app at the Solr directory it will find all the jars and tell you what version they&#39;ve been compiled to","body":"If you point that app at the Solr directory it will find all the jars and tell you what version they&#39;ve been compiled to"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1691185874,"post_id":76831918,"comment_id":135463116,"body_markdown":"According to my app, Solr 9.3 is Java 11","body":"According to my app, Solr 9.3 is Java 11"}],"answers":[{"tags":[],"owner":{"account_id":19778321,"reputation":41,"user_id":14483834,"display_name":"hilmialf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696310442,"creation_date":1696310099,"answer_id":77219812,"question_id":76831918,"body_markdown":"I had similar problem recently. For me the culprit was Jackson version 2.15.1.\r\nSwitching down to 2.14.2 solves the problem.\r\n\r\nsolr seems to use jackson version 2.15.2 (https://github.com/apache/solr/blob/de234cb9a30d28dd46f3c1eb96732a0bd0f08b8d/versions.props#L8C1-L8C41) so you might want to exclude from shadow and use lower version instead.","title":"Java version issue: gradlew build shadowJar: java.lang.IllegalArgumentException: Unsupported class file major version 63, (using compatible versions)","body":"<p>I had similar problem recently. For me the culprit was Jackson version 2.15.1.\nSwitching down to 2.14.2 solves the problem.</p>\n<p>solr seems to use jackson version 2.15.2 (<a href=\"https://github.com/apache/solr/blob/de234cb9a30d28dd46f3c1eb96732a0bd0f08b8d/versions.props#L8C1-L8C41\" rel=\"nofollow noreferrer\">https://github.com/apache/solr/blob/de234cb9a30d28dd46f3c1eb96732a0bd0f08b8d/versions.props#L8C1-L8C41</a>) so you might want to exclude from shadow and use lower version instead.</p>\n"}],"owner":{"account_id":4610629,"reputation":1007,"user_id":3738857,"accept_rate":50,"display_name":"divide_by_zero"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696310442,"creation_date":1691101324,"question_id":76831918,"body_markdown":"    &gt; ./gradlew --version\r\n    ------------------------------------------------------------\r\n    Gradle 6.1.1\r\n    ------------------------------------------------------------\r\n    Kotlin:       1.3.61\r\n    Groovy:       2.5.8\r\n    Ant:          Apache Ant(TM) version 1.10.7 compiled on September 1 2019\r\n    JVM:          11.0.18\r\n\r\n    //inside build.gradle\r\n    dependencies {\r\n    ...\r\n    classpath &quot;com.github.jengelman.gradle.plugins:shadow:6.1.0&quot;\r\n    ...\r\n    }\r\n\r\nAccording to the compatibility table here: https://github.com/johnrengelman/shadow, gradle 6.1.1 with shadow 6.1.0 and Java 11 should be compatible.  However when I try to build using `./gradlew build shadowJar` I get an error about:\r\n\r\n```\r\n2023-08-03T14:54:20.719-0700 [ERROR] [com.github.jengelman.gradle.plugins.shadow.tasks.ShadowCopyAction] ex\r\njava.lang.IllegalArgumentException: Unsupported class file major version 63\r\n```\r\n\r\nAccording to [here][1], version 63 is Java 19.  Both `./gradlew` and `java --version` are telling me I&#39;m using 11.0.18 so where does this error about major version 63 come from?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9170832/list-of-java-class-file-format-major-version-numbers","title":"Java version issue: gradlew build shadowJar: java.lang.IllegalArgumentException: Unsupported class file major version 63, (using compatible versions)","body":"<pre><code>&gt; ./gradlew --version\n------------------------------------------------------------\nGradle 6.1.1\n------------------------------------------------------------\nKotlin:       1.3.61\nGroovy:       2.5.8\nAnt:          Apache Ant(TM) version 1.10.7 compiled on September 1 2019\nJVM:          11.0.18\n\n//inside build.gradle\ndependencies {\n...\nclasspath &quot;com.github.jengelman.gradle.plugins:shadow:6.1.0&quot;\n...\n}\n</code></pre>\n<p>According to the compatibility table here: <a href=\"https://github.com/johnrengelman/shadow\" rel=\"nofollow noreferrer\">https://github.com/johnrengelman/shadow</a>, gradle 6.1.1 with shadow 6.1.0 and Java 11 should be compatible.  However when I try to build using <code>./gradlew build shadowJar</code> I get an error about:</p>\n<pre><code>2023-08-03T14:54:20.719-0700 [ERROR] [com.github.jengelman.gradle.plugins.shadow.tasks.ShadowCopyAction] ex\njava.lang.IllegalArgumentException: Unsupported class file major version 63\n</code></pre>\n<p>According to <a href=\"https://stackoverflow.com/questions/9170832/list-of-java-class-file-format-major-version-numbers\">here</a>, version 63 is Java 19.  Both <code>./gradlew</code> and <code>java --version</code> are telling me I'm using 11.0.18 so where does this error about major version 63 come from?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":3,"creation_date":1513514623,"post_id":47854882,"comment_id":82674500,"body_markdown":"You don&#39;t need to worry about `pumpEvents`, worry about the cause of the exception, i.e. `NPE` at `OrderApplication.java:198`.","body":"You don&#39;t need to worry about <code>pumpEvents</code>, worry about the cause of the exception, i.e. <code>NPE</code> at <code>OrderApplication.java:198</code>."}],"answers":[{"tags":[],"owner":{"account_id":3164885,"reputation":1580,"user_id":2675129,"display_name":"zyexal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1513513065,"creation_date":1513513065,"answer_id":47855032,"question_id":47854882,"body_markdown":"Use messed up with variable scopes and the used field `private JTextArea message` was not initialized.\r\n\r\nThe created **local** scoped one `JTextArea message = new JTextArea()` was never assigned to the **field** `message`.","title":"what does java.awt.EventDispatchThread.pumpEvents mean?","body":"<p>Use messed up with variable scopes and the used field <code>private JTextArea message</code> was not initialized.</p>\n\n<p>The created <strong>local</strong> scoped one <code>JTextArea message = new JTextArea()</code> was never assigned to the <strong>field</strong> <code>message</code>.</p>\n"}],"owner":{"account_id":12516732,"reputation":1,"user_id":9109618,"display_name":"Evelina Strauss"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8427,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696310347,"answer_count":1,"score":0,"last_activity_date":1696309661,"creation_date":1513511950,"question_id":47854882,"body_markdown":"we have a problem with our GUI code. When we run it several errors occurs and we have no idea what they mean. We are creating an ordersystem from a model and then we have to include an interface that we build in Window builder. Very new to java programming so we need all help we can get:D thanks. \r\n\r\nGUI code:\r\n\r\n    package ISprojekt3;\r\n    \r\n    import java.awt.EventQueue;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.JButton;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.ActionEvent;\r\n    import javax.swing.JTextArea;\r\n    \r\n    public class OrderApplication {\r\n    \r\n    \tController1 controller = new Controller1();\r\n    \tprivate JFrame frame;\r\n    \tprivate JTextField name;\r\n    \tprivate JTextField customerNumber;\r\n    \tprivate JTextField address;\r\n    \tprivate JTextField deliveryDate;\r\n    \tprivate JTextField orderID;\r\n    \tprivate JTextField number;\r\n    \tprivate JTextField quantity;\r\n    \tprivate JTextField nameProduct;\r\n    \tprivate JTextField category;\r\n    \tprivate JTextField price;\r\n    \tprivate JTextField serialNumber;\r\n    \tprivate JTextArea message;\r\n    \r\n    \t/**\r\n    \t * Launch the application.\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\tEventQueue.invokeLater(new Runnable() {\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tOrderApplication window = new OrderApplication();\r\n    \t\t\t\t\twindow.frame.setVisible(true);\r\n    \t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Create the application.\r\n    \t */\r\n    \tpublic OrderApplication() {\r\n    \t\tinitialize();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Initialize the contents of the frame.\r\n    \t */\r\n    \tprivate void initialize() {\r\n    \t\tframe = new JFrame();\r\n    \t\tframe.setBounds(100, 100, 672, 482);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.getContentPane().setLayout(null);\r\n    \t\t\r\n    \t\tJLabel lblName = new JLabel(&quot;Namn:&quot;);\r\n    \t\tlblName.setBounds(23, 45, 61, 16);\r\n    \t\tframe.getContentPane().add(lblName);\r\n    \t\t\r\n    \t\tJLabel lblCustomerNumber = new JLabel(&quot;Kundnummer:&quot;);\r\n    \t\tlblCustomerNumber.setBounds(23, 73, 106, 16);\r\n    \t\tframe.getContentPane().add(lblCustomerNumber);\r\n    \t\t\r\n    \t\tJLabel lblAddress = new JLabel(&quot;Adress:&quot;);\r\n    \t\tlblAddress.setBounds(23, 103, 61, 16);\r\n    \t\tframe.getContentPane().add(lblAddress);\r\n    \t\t\r\n    \t\tJLabel lblCustomer = new JLabel(&quot;Kund&quot;);\r\n    \t\tlblCustomer.setBounds(23, 17, 61, 16);\r\n    \t\tframe.getContentPane().add(lblCustomer);\r\n    \t\t\r\n    \t\tname = new JTextField();\r\n    \t\tname.setBounds(125, 40, 130, 26);\r\n    \t\tframe.getContentPane().add(name);\r\n    \t\tname.setColumns(10);\r\n    \t\t\r\n    \t\tcustomerNumber = new JTextField();\r\n    \t\tcustomerNumber.setBounds(125, 68, 130, 26);\r\n    \t\tframe.getContentPane().add(customerNumber);\r\n    \t\tcustomerNumber.setColumns(10);\r\n    \t\t\r\n    \t\taddress = new JTextField();\r\n    \t\taddress.setBounds(125, 98, 130, 26);\r\n    \t\tframe.getContentPane().add(address);\r\n    \t\taddress.setColumns(10);\r\n    \t\t\r\n    \t\tJLabel lblOrder = new JLabel(&quot;Order&quot;);\r\n    \t\tlblOrder.setBounds(313, 17, 61, 16);\r\n    \t\tframe.getContentPane().add(lblOrder);\r\n    \t\t\r\n    \t\tJLabel lblOrderID = new JLabel(&quot;OrderID:&quot;);\r\n    \t\tlblOrderID.setBounds(313, 45, 61, 16);\r\n    \t\tframe.getContentPane().add(lblOrderID);\r\n    \t\t\r\n    \t\tJLabel lblDeliveryDate = new JLabel(&quot;Leveransdatum:&quot;);\r\n    \t\tlblDeliveryDate.setBounds(313, 73, 106, 16);\r\n    \t\tframe.getContentPane().add(lblDeliveryDate);\r\n    \t\t\r\n    \t\tdeliveryDate = new JTextField();\r\n    \t\tdeliveryDate.setBounds(412, 68, 130, 26);\r\n    \t\tframe.getContentPane().add(deliveryDate);\r\n    \t\tdeliveryDate.setColumns(10);\r\n    \t\t\r\n    \t\torderID = new JTextField();\r\n    \t\torderID.setBounds(412, 40, 130, 26);\r\n    \t\tframe.getContentPane().add(orderID);\r\n    \t\torderID.setColumns(10);\r\n    \t\t\r\n    \t\tJLabel lblOrderLine = new JLabel(&quot;Orderrad&quot;);\r\n    \t\tlblOrderLine.setBounds(313, 159, 61, 16);\r\n    \t\tframe.getContentPane().add(lblOrderLine);\r\n    \t\t\r\n    \t\tJLabel lblNumber = new JLabel(&quot;Nummer:&quot;);\r\n    \t\tlblNumber.setBounds(313, 187, 61, 16);\r\n    \t\tframe.getContentPane().add(lblNumber);\r\n    \t\t\r\n    \t\tJLabel lblQuantity = new JLabel(&quot;Antal produkter:&quot;);\r\n    \t\tlblQuantity.setBounds(313, 215, 106, 16);\r\n    \t\tframe.getContentPane().add(lblQuantity);\r\n    \t\t\r\n    \t\tnumber = new JTextField();\r\n    \t\tnumber.setBounds(412, 182, 130, 26);\r\n    \t\tframe.getContentPane().add(number);\r\n    \t\tnumber.setColumns(10);\r\n    \t\t\r\n    \t\tquantity = new JTextField();\r\n    \t\tquantity.setBounds(412, 210, 130, 26);\r\n    \t\tframe.getContentPane().add(quantity);\r\n    \t\tquantity.setColumns(10);\r\n    \t\t\r\n    \t\tJLabel lblProduct = new JLabel(&quot;Produkt&quot;);\r\n    \t\tlblProduct.setBounds(23, 159, 61, 16);\r\n    \t\tframe.getContentPane().add(lblProduct);\r\n    \t\t\r\n    \t\tJLabel lblName_2 = new JLabel(&quot;Namn:&quot;);\r\n    \t\tlblName_2.setBounds(23, 187, 61, 16);\r\n    \t\tframe.getContentPane().add(lblName_2);\r\n    \t\t\r\n    \t\tJLabel lblCategory = new JLabel(&quot;Kategori:&quot;);\r\n    \t\tlblCategory.setBounds(23, 215, 61, 16);\r\n    \t\tframe.getContentPane().add(lblCategory);\r\n    \t\t\r\n    \t\tnameProduct = new JTextField();\r\n    \t\tnameProduct.setBounds(125, 187, 130, 26);\r\n    \t\tframe.getContentPane().add(nameProduct);\r\n    \t\tnameProduct.setColumns(10);\r\n    \t\t\r\n    \t\tcategory = new JTextField();\r\n    \t\tcategory.setBounds(125, 215, 130, 26);\r\n    \t\tframe.getContentPane().add(category);\r\n    \t\tcategory.setColumns(10);\r\n    \t\t\r\n    \t\tprice = new JTextField();\r\n    \t\tprice.setBounds(125, 238, 130, 26);\r\n    \t\tframe.getContentPane().add(price);\r\n    \t\tprice.setColumns(10);\r\n    \t\t\r\n    \t\tJLabel lblPrice = new JLabel(&quot;Pris:&quot;);\r\n    \t\tlblPrice.setBounds(23, 243, 61, 16);\r\n    \t\tframe.getContentPane().add(lblPrice);\r\n    \t\t\r\n    \t\tJLabel lblCopy = new JLabel(&quot;Exemplar&quot;);\r\n    \t\tlblCopy.setBounds(23, 297, 69, 16);\r\n    \t\tframe.getContentPane().add(lblCopy);\r\n    \t\t\r\n    \t\tJLabel lblSerialNumber = new JLabel(&quot;Serienummer:&quot;);\r\n    \t\tlblSerialNumber.setBounds(23, 325, 106, 16);\r\n    \t\tframe.getContentPane().add(lblSerialNumber);\r\n    \t\t\r\n    \t\tserialNumber = new JTextField();\r\n    \t\tserialNumber.setBounds(125, 320, 130, 26);\r\n    \t\tframe.getContentPane().add(serialNumber);\r\n    \t\tserialNumber.setColumns(10);\r\n    \t\t\r\n    \t\tJButton btnSearch = new JButton(&quot;S&#246;k&quot;);\r\n    \t\tbtnSearch.addActionListener(new ActionListener() {\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tbtnSearch.setBounds(409, 263, 117, 29);\r\n    \t\tframe.getContentPane().add(btnSearch);\r\n    \t\t\r\n    \t\tJButton btnAdd = new JButton(&quot;L&#228;gg till&quot;);\r\n    \t\tbtnAdd.addActionListener(new ActionListener() {\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\tString customerName = name.getText();\r\n    \t\t\t\tString customerNumber = number.getText();\r\n    \t\t\t\tString customerAddress = address.getText();\r\n    \t\t\t\t\r\n    \t\t\t\tif((customerName.length() &lt; 1) || (customerNumber.length() &lt; 1) || (customerAddress.length() &lt; 1)) {\r\n    \t\t\t\t\tmessage.setText(&quot;Till&#228;ggning misslyckades&quot;);\t\r\n    \t\t\t\t}\r\n    \t\t\t\telse {\r\n    \t\t\t\t\tcontroller.addCustomer(customerNumber, customerName, customerAddress);\r\n    \t\t\t\t\tmessage.setText(&quot;Kunden &#228;r tillagd&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tString order = orderID.getText();\r\n    \t\t\t\tString dDate = deliveryDate.getText();\r\n    \t\t\t\t\r\n    \t\t\t\tif((order.length() &lt; 1 ) || (dDate.length() &lt; 1)) {\r\n    \t\t\t\t\tmessage.setText(&quot;Till&#228;ggning misslyckades&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\telse {\r\n    \t\t\t\t\tcontroller.addOrder(order, dDate, customerNumber);\r\n    \t\t\t\t\tmessage.setText(&quot;Ordern &#228;r tillagd till kund &quot; + controller.findCustomer(customerNumber).getCustomerNumber());\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tString productName = nameProduct.getText();\r\n    \t\t\t\tString productCategory = category.getText();\r\n    \t\t\t\tString productPrice = price.getText();\r\n    \t\t\t\t\r\n    \t\t\t\tif((productName.length() &lt; 1 ) || (productCategory.length() &lt; 1 ) || (productPrice.length() &lt; 1 )) {\r\n    \t\t\t\t\tmessage.setText(&quot;Till&#228;ggning misslyckades&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\telse {\r\n    \t\t\t\t\tcontroller.addProduct(productName, productCategory, productPrice);\r\n    \t\t\t\t\tmessage.setText(&quot;Produkten &#228;r tillagd&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tString orderLineNumber = number.getText();\r\n    \t\t\t\tString orderLineQuantity = quantity.getText();\r\n    \t\t\t\t\r\n    \t\t\t\tif((orderLineNumber.length() &lt; 1 ) || (orderLineQuantity.length() &lt; 1)) {\r\n    \t\t\t\t\tmessage.setText(&quot;Till&#228;ggning misslyckades&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\telse {\r\n    \t\t\t\t\tcontroller.addOrderLine(orderLineNumber, orderLineQuantity, order);\r\n    \t\t\t\t\tmessage.setText(&quot;Orderraden &#228;r tillagd i order&quot; + controller.findOrder(order).getOrderID());\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tString serialNumberCopy = serialNumber.getText();\r\n    \t\t\t\t\r\n    \t\t\t\tif((serialNumberCopy.length() &lt; 1)) {\r\n    \t\t\t\t\tmessage.setText(&quot;Till&#228;ggningen misslyckades&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\telse {\r\n    \t\t\t\t\tcontroller.addCopy(serialNumberCopy, productName);\r\n    \t\t\t\t\tmessage.setText(&quot;Exemplaret &#228;r tillagd i produkt &quot; + controller.findProduct(productName).getName());\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tbtnAdd.setBounds(409, 292, 117, 29);\r\n    \t\tframe.getContentPane().add(btnAdd);\r\n    \t\t\r\n    \t\tJButton btnRemove = new JButton(&quot;Ta bort&quot;);\r\n    \t\tbtnRemove.setBounds(409, 370, 117, 29);\r\n    \t\tframe.getContentPane().add(btnRemove);\r\n    \t\t\r\n    \t\tJButton btnChange = new JButton(&quot;&#196;ndra&quot;);\r\n    \t\tbtnChange.setBounds(409, 345, 117, 29);\r\n    \t\tframe.getContentPane().add(btnChange);\r\n    \t\t\r\n    \t\tJTextArea message = new JTextArea();\r\n    \t\tmessage.setBounds(23, 375, 231, 50);\r\n    \t\tframe.getContentPane().add(message);\r\n    \t}\r\n    }\r\n\r\nAnd here are the errors:\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\r\n    \tat ISprojekt3.OrderApplication$3.actionPerformed(OrderApplication.java:198)\r\n    \tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\r\n    \tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)\r\n    \tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\r\n    \tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\r\n    \tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\r\n    \tat java.awt.Component.processMouseEvent(Component.java:6533)\r\n    \tat javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\r\n    \tat java.awt.Component.processEvent(Component.java:6298)\r\n    \tat java.awt.Container.processEvent(Container.java:2236)\r\n    \tat java.awt.Component.dispatchEventImpl(Component.java:4889)\r\n    \tat java.awt.Container.dispatchEventImpl(Container.java:2294)\r\n    \tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n    \tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4888)\r\n    \tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4525)\r\n    \tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4466)\r\n    \tat java.awt.Container.dispatchEventImpl(Container.java:2280)\r\n    \tat java.awt.Window.dispatchEventImpl(Window.java:2746)\r\n    \tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n    \tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)\r\n    \tat java.awt.EventQueue.access$500(EventQueue.java:97)\r\n    \tat java.awt.EventQueue$3.run(EventQueue.java:709)\r\n    \tat java.awt.EventQueue$3.run(EventQueue.java:703)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)\r\n    \tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:90)\r\n    \tat java.awt.EventQueue$4.run(EventQueue.java:731)\r\n    \tat java.awt.EventQueue$4.run(EventQueue.java:729)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)\r\n    \tat java.awt.EventQueue.dispatchEvent(EventQueue.java:728)\r\n    \tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\r\n    \tat java.awt.EventDispatchThread.run(EventDispatchThread.java:82)","title":"what does java.awt.EventDispatchThread.pumpEvents mean?","body":"<p>we have a problem with our GUI code. When we run it several errors occurs and we have no idea what they mean. We are creating an ordersystem from a model and then we have to include an interface that we build in Window builder. Very new to java programming so we need all help we can get:D thanks. </p>\n\n<p>GUI code:</p>\n\n<pre><code>package ISprojekt3;\n\nimport java.awt.EventQueue;\n\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JTextField;\nimport javax.swing.JButton;\nimport java.awt.event.ActionListener;\nimport java.awt.event.ActionEvent;\nimport javax.swing.JTextArea;\n\npublic class OrderApplication {\n\n    Controller1 controller = new Controller1();\n    private JFrame frame;\n    private JTextField name;\n    private JTextField customerNumber;\n    private JTextField address;\n    private JTextField deliveryDate;\n    private JTextField orderID;\n    private JTextField number;\n    private JTextField quantity;\n    private JTextField nameProduct;\n    private JTextField category;\n    private JTextField price;\n    private JTextField serialNumber;\n    private JTextArea message;\n\n    /**\n     * Launch the application.\n     */\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    OrderApplication window = new OrderApplication();\n                    window.frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    /**\n     * Create the application.\n     */\n    public OrderApplication() {\n        initialize();\n    }\n\n    /**\n     * Initialize the contents of the frame.\n     */\n    private void initialize() {\n        frame = new JFrame();\n        frame.setBounds(100, 100, 672, 482);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().setLayout(null);\n\n        JLabel lblName = new JLabel(\"Namn:\");\n        lblName.setBounds(23, 45, 61, 16);\n        frame.getContentPane().add(lblName);\n\n        JLabel lblCustomerNumber = new JLabel(\"Kundnummer:\");\n        lblCustomerNumber.setBounds(23, 73, 106, 16);\n        frame.getContentPane().add(lblCustomerNumber);\n\n        JLabel lblAddress = new JLabel(\"Adress:\");\n        lblAddress.setBounds(23, 103, 61, 16);\n        frame.getContentPane().add(lblAddress);\n\n        JLabel lblCustomer = new JLabel(\"Kund\");\n        lblCustomer.setBounds(23, 17, 61, 16);\n        frame.getContentPane().add(lblCustomer);\n\n        name = new JTextField();\n        name.setBounds(125, 40, 130, 26);\n        frame.getContentPane().add(name);\n        name.setColumns(10);\n\n        customerNumber = new JTextField();\n        customerNumber.setBounds(125, 68, 130, 26);\n        frame.getContentPane().add(customerNumber);\n        customerNumber.setColumns(10);\n\n        address = new JTextField();\n        address.setBounds(125, 98, 130, 26);\n        frame.getContentPane().add(address);\n        address.setColumns(10);\n\n        JLabel lblOrder = new JLabel(\"Order\");\n        lblOrder.setBounds(313, 17, 61, 16);\n        frame.getContentPane().add(lblOrder);\n\n        JLabel lblOrderID = new JLabel(\"OrderID:\");\n        lblOrderID.setBounds(313, 45, 61, 16);\n        frame.getContentPane().add(lblOrderID);\n\n        JLabel lblDeliveryDate = new JLabel(\"Leveransdatum:\");\n        lblDeliveryDate.setBounds(313, 73, 106, 16);\n        frame.getContentPane().add(lblDeliveryDate);\n\n        deliveryDate = new JTextField();\n        deliveryDate.setBounds(412, 68, 130, 26);\n        frame.getContentPane().add(deliveryDate);\n        deliveryDate.setColumns(10);\n\n        orderID = new JTextField();\n        orderID.setBounds(412, 40, 130, 26);\n        frame.getContentPane().add(orderID);\n        orderID.setColumns(10);\n\n        JLabel lblOrderLine = new JLabel(\"Orderrad\");\n        lblOrderLine.setBounds(313, 159, 61, 16);\n        frame.getContentPane().add(lblOrderLine);\n\n        JLabel lblNumber = new JLabel(\"Nummer:\");\n        lblNumber.setBounds(313, 187, 61, 16);\n        frame.getContentPane().add(lblNumber);\n\n        JLabel lblQuantity = new JLabel(\"Antal produkter:\");\n        lblQuantity.setBounds(313, 215, 106, 16);\n        frame.getContentPane().add(lblQuantity);\n\n        number = new JTextField();\n        number.setBounds(412, 182, 130, 26);\n        frame.getContentPane().add(number);\n        number.setColumns(10);\n\n        quantity = new JTextField();\n        quantity.setBounds(412, 210, 130, 26);\n        frame.getContentPane().add(quantity);\n        quantity.setColumns(10);\n\n        JLabel lblProduct = new JLabel(\"Produkt\");\n        lblProduct.setBounds(23, 159, 61, 16);\n        frame.getContentPane().add(lblProduct);\n\n        JLabel lblName_2 = new JLabel(\"Namn:\");\n        lblName_2.setBounds(23, 187, 61, 16);\n        frame.getContentPane().add(lblName_2);\n\n        JLabel lblCategory = new JLabel(\"Kategori:\");\n        lblCategory.setBounds(23, 215, 61, 16);\n        frame.getContentPane().add(lblCategory);\n\n        nameProduct = new JTextField();\n        nameProduct.setBounds(125, 187, 130, 26);\n        frame.getContentPane().add(nameProduct);\n        nameProduct.setColumns(10);\n\n        category = new JTextField();\n        category.setBounds(125, 215, 130, 26);\n        frame.getContentPane().add(category);\n        category.setColumns(10);\n\n        price = new JTextField();\n        price.setBounds(125, 238, 130, 26);\n        frame.getContentPane().add(price);\n        price.setColumns(10);\n\n        JLabel lblPrice = new JLabel(\"Pris:\");\n        lblPrice.setBounds(23, 243, 61, 16);\n        frame.getContentPane().add(lblPrice);\n\n        JLabel lblCopy = new JLabel(\"Exemplar\");\n        lblCopy.setBounds(23, 297, 69, 16);\n        frame.getContentPane().add(lblCopy);\n\n        JLabel lblSerialNumber = new JLabel(\"Serienummer:\");\n        lblSerialNumber.setBounds(23, 325, 106, 16);\n        frame.getContentPane().add(lblSerialNumber);\n\n        serialNumber = new JTextField();\n        serialNumber.setBounds(125, 320, 130, 26);\n        frame.getContentPane().add(serialNumber);\n        serialNumber.setColumns(10);\n\n        JButton btnSearch = new JButton(\"Sök\");\n        btnSearch.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n\n            }\n        });\n        btnSearch.setBounds(409, 263, 117, 29);\n        frame.getContentPane().add(btnSearch);\n\n        JButton btnAdd = new JButton(\"Lägg till\");\n        btnAdd.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                String customerName = name.getText();\n                String customerNumber = number.getText();\n                String customerAddress = address.getText();\n\n                if((customerName.length() &lt; 1) || (customerNumber.length() &lt; 1) || (customerAddress.length() &lt; 1)) {\n                    message.setText(\"Tilläggning misslyckades\");    \n                }\n                else {\n                    controller.addCustomer(customerNumber, customerName, customerAddress);\n                    message.setText(\"Kunden är tillagd\");\n                }\n\n                String order = orderID.getText();\n                String dDate = deliveryDate.getText();\n\n                if((order.length() &lt; 1 ) || (dDate.length() &lt; 1)) {\n                    message.setText(\"Tilläggning misslyckades\");\n                }\n                else {\n                    controller.addOrder(order, dDate, customerNumber);\n                    message.setText(\"Ordern är tillagd till kund \" + controller.findCustomer(customerNumber).getCustomerNumber());\n                }\n\n                String productName = nameProduct.getText();\n                String productCategory = category.getText();\n                String productPrice = price.getText();\n\n                if((productName.length() &lt; 1 ) || (productCategory.length() &lt; 1 ) || (productPrice.length() &lt; 1 )) {\n                    message.setText(\"Tilläggning misslyckades\");\n                }\n                else {\n                    controller.addProduct(productName, productCategory, productPrice);\n                    message.setText(\"Produkten är tillagd\");\n                }\n\n                String orderLineNumber = number.getText();\n                String orderLineQuantity = quantity.getText();\n\n                if((orderLineNumber.length() &lt; 1 ) || (orderLineQuantity.length() &lt; 1)) {\n                    message.setText(\"Tilläggning misslyckades\");\n                }\n                else {\n                    controller.addOrderLine(orderLineNumber, orderLineQuantity, order);\n                    message.setText(\"Orderraden är tillagd i order\" + controller.findOrder(order).getOrderID());\n                }\n\n                String serialNumberCopy = serialNumber.getText();\n\n                if((serialNumberCopy.length() &lt; 1)) {\n                    message.setText(\"Tilläggningen misslyckades\");\n                }\n                else {\n                    controller.addCopy(serialNumberCopy, productName);\n                    message.setText(\"Exemplaret är tillagd i produkt \" + controller.findProduct(productName).getName());\n                }\n            }\n        });\n        btnAdd.setBounds(409, 292, 117, 29);\n        frame.getContentPane().add(btnAdd);\n\n        JButton btnRemove = new JButton(\"Ta bort\");\n        btnRemove.setBounds(409, 370, 117, 29);\n        frame.getContentPane().add(btnRemove);\n\n        JButton btnChange = new JButton(\"Ändra\");\n        btnChange.setBounds(409, 345, 117, 29);\n        frame.getContentPane().add(btnChange);\n\n        JTextArea message = new JTextArea();\n        message.setBounds(23, 375, 231, 50);\n        frame.getContentPane().add(message);\n    }\n}\n</code></pre>\n\n<p>And here are the errors:</p>\n\n<pre><code>Exception in thread \"AWT-EventQueue-0\" java.lang.NullPointerException\n    at ISprojekt3.OrderApplication$3.actionPerformed(OrderApplication.java:198)\n    at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\n    at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)\n    at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\n    at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\n    at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\n    at java.awt.Component.processMouseEvent(Component.java:6533)\n    at javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\n    at java.awt.Component.processEvent(Component.java:6298)\n    at java.awt.Container.processEvent(Container.java:2236)\n    at java.awt.Component.dispatchEventImpl(Component.java:4889)\n    at java.awt.Container.dispatchEventImpl(Container.java:2294)\n    at java.awt.Component.dispatchEvent(Component.java:4711)\n    at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4888)\n    at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4525)\n    at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4466)\n    at java.awt.Container.dispatchEventImpl(Container.java:2280)\n    at java.awt.Window.dispatchEventImpl(Window.java:2746)\n    at java.awt.Component.dispatchEvent(Component.java:4711)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)\n    at java.awt.EventQueue.access$500(EventQueue.java:97)\n    at java.awt.EventQueue$3.run(EventQueue.java:709)\n    at java.awt.EventQueue$3.run(EventQueue.java:703)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:90)\n    at java.awt.EventQueue$4.run(EventQueue.java:731)\n    at java.awt.EventQueue$4.run(EventQueue.java:729)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:728)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\n</code></pre>\n"},{"tags":["java","eclipse","maven","pom.xml","parent-pom"],"comments":[{"owner":{"account_id":9464807,"reputation":132,"user_id":7037530,"display_name":"Anton Serdyuchenko"},"score":0,"creation_date":1643998180,"post_id":28364693,"comment_id":125496892,"body_markdown":"Can you give link on GitHub to this project? So we can import this project to our local.","body":"Can you give link on GitHub to this project? So we can import this project to our local."}],"answers":[{"comments":[{"owner":{"account_id":5728848,"reputation":137,"user_id":4525016,"accept_rate":36,"display_name":"Anna"},"score":0,"creation_date":1423222925,"post_id":28364732,"comment_id":45071240,"body_markdown":"Hi thanks for ur anwser, but I already have it, isn&#39;t it:  `&lt;parent&gt;\n        &lt;groupId&gt;eu.ohim&lt;/groupId&gt;\n        &lt;artifactId&gt;esearch-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.8.0-RC2.1&lt;/version&gt;\n        &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\n    &lt;/parent&gt;`?","body":"Hi thanks for ur anwser, but I already have it, isn&#39;t it:  <code>&lt;parent&gt;         &lt;groupId&gt;eu.ohim&lt;&#47;groupId&gt;         &lt;artifactId&gt;esearch-parent&lt;&#47;artifactId&gt;         &lt;version&gt;1.8.0-RC2.1&lt;&#47;version&gt;         &lt;relativePath&gt;..&#47;pom.xml&lt;&#47;relativePath&gt;     &lt;&#47;parent&gt;</code>?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1423223083,"post_id":28364732,"comment_id":45071333,"body_markdown":"and the pom is on the path:  ../pom.xml","body":"and the pom is on the path:  ../pom.xml"}],"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423221986,"creation_date":1423221986,"answer_id":28364732,"question_id":28364693,"body_markdown":"I think you need the parent artifact also:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;eu.ohim&lt;/groupId&gt;\r\n        &lt;artifactId&gt;esearch-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.8.0-RC2.1&lt;/version&gt;\r\n        &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\r\n    &lt;/parent&gt;\r\n","title":"Project build error: Non-resolvable parent POM","body":"<p>I think you need the parent artifact also:</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;eu.ohim&lt;/groupId&gt;\n    &lt;artifactId&gt;esearch-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.8.0-RC2.1&lt;/version&gt;\n    &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\n&lt;/parent&gt;\n</code></pre>\n"}],"owner":{"account_id":5728848,"reputation":137,"user_id":4525016,"accept_rate":36,"display_name":"Anna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8054,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696309661,"creation_date":1423221874,"question_id":28364693,"body_markdown":"I just import this project to my local eclipse and I get this error message: \r\n\r\n&gt; Project build error: Non-resolvable parent POM: Failure to transfer\r\n&gt; eu.ohim:esearch-parent:pom:1.8.0-RC2.1 from\r\n&gt; http://f5dmzprodf03.oami.europa.eu/nexus/content/groups/public/ was\r\n&gt; cached in the local repository, resolution will not be reattempted\r\n&gt; until the update interval of nexus-releases has elapsed or updates are\r\n&gt; forced. Original error: Could not transfer artifact\r\n&gt; eu.ohim:esearch-parent:pom:1.8.0-RC2.1 from/to nexus-releases\r\n&gt; (http://f5dmzprodf03.oami.europa.eu/nexus/content/groups/public/):\r\n&gt; Connection   reset and &#39;parent.relativePath&#39; points at wrong local POM\r\n\r\nThis is my POM:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;eu.ohim.copla&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;copla-selenium&lt;/artifactId&gt;\r\n    \t&lt;name&gt;copla-selenium&lt;/name&gt;\r\n    \t&lt;version&gt;1.0.0&lt;/version&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;eu.ohim&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;esearch-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.8.0-RC2.1&lt;/version&gt;\r\n    \t\t&lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t&lt;jboss.version&gt;7.1.1.Final&lt;/jboss.version&gt;\r\n      &lt;/properties&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n     \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.16&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;integration-test&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;verify&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt; \r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n    \t\t\t\t\t&lt;nonFilteredFileExtensions&gt;\r\n    \t\t\t\t\t\t&lt;nonFilteredFileExtension&gt;zip&lt;/nonFilteredFileExtension&gt;\r\n    \t\t\t\t\t\t&lt;nonFilteredFileExtension&gt;mp3&lt;/nonFilteredFileExtension&gt;\r\n    \t\t\t\t\t\t&lt;nonFilteredFileExtension&gt;jpg&lt;/nonFilteredFileExtension&gt;\r\n    \t\t\t\t\t\t&lt;nonFilteredFileExtension&gt;png&lt;/nonFilteredFileExtension&gt;\r\n    \t\t\t\t\t&lt;/nonFilteredFileExtensions&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;descriptors&gt;\r\n    \t\t\t\t\t\t&lt;descriptor&gt;src/main/assembly/shade.xml&lt;/descriptor&gt;\r\n    \t\t\t\t\t\t&lt;descriptor&gt;src/main/assembly/delivery-test.xml&lt;/descriptor&gt;\r\n    \t\t\t\t\t&lt;/descriptors&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;make-assembly&lt;/id&gt; \r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt; \r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\t\t\t\t\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t\r\n    \t        &lt;plugin&gt;\r\n    \t            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t            &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n    \t            &lt;executions&gt;\r\n    \t                &lt;execution&gt;\r\n    \t                    &lt;id&gt;default-clean&lt;/id&gt;\r\n    \t                    &lt;configuration&gt;\r\n    \t                    \t&lt;excludeDefaultDirectories&gt;true&lt;/excludeDefaultDirectories&gt;\r\n    \t                        &lt;filesets&gt;\r\n    \t                            &lt;fileset&gt;\r\n    \t                                &lt;directory&gt;target&lt;/directory&gt;\r\n    \t                                &lt;excludes&gt;\r\n    \t                                    &lt;exclude&gt;failsafe-reports/**/*.*&lt;/exclude&gt;\r\n    \t                                &lt;/excludes&gt;\r\n    \t                                &lt;followSymlinks&gt;false&lt;/followSymlinks&gt;\r\n    \t                            &lt;/fileset&gt;\r\n    \t                        &lt;/filesets&gt;\r\n    \t                    &lt;/configuration&gt;\r\n    \t                &lt;/execution&gt;\r\n    \t            &lt;/executions&gt;\r\n    \t        &lt;/plugin&gt;\t\t\t\r\n    \r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n      \r\n      &lt;dependencies&gt;\r\n      \r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;eu.ohim.fsp.ext&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;FspDomain&lt;/artifactId&gt;\r\n      \t\t&lt;version&gt;2.1.1-SNAPSHOT&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.41.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;   \r\n        \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\t\r\n    \t\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;4.1.4.RELEASE&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\t\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.6.4&lt;/version&gt; \r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.9.0&lt;/version&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;exclusions&gt;\r\n    \t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;/exclusion&gt;\r\n    \t\t&lt;/exclusions&gt;\r\n    \t&lt;/dependency&gt;\t\r\n    \t\r\n     \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;hamcrest-integration&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.3&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\t\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;6.8.5&lt;/version&gt;\r\n          \t&lt;scope&gt;test&lt;/scope&gt;\t\r\n          \t&lt;exclusions&gt;\r\n          \t\t&lt;exclusion&gt;\r\n       \t\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          \t\t&lt;/exclusion&gt;\r\n          \t&lt;/exclusions&gt;\t\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;commons-beanutils-core&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.8.3&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;commons-dbutils&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;commons-dbutils&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    \t&lt;dependency&gt;\r\n    \t  &lt;groupId&gt;com.nitorcreations&lt;/groupId&gt;\r\n    \t  &lt;artifactId&gt;matchers&lt;/artifactId&gt;\r\n    \t  &lt;version&gt;1.3&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;commons-jxpath&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;commons-jxpath&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.3&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    \t&lt;dependency&gt;\r\n    \t  &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t  &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n    \t  &lt;version&gt;2.2.7&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.freemarker&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;freemarker&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.18&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\t\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;commons-cli&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;commons-cli&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.2&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \t\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.ibm.informix&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;ifxjdbc_10&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;10&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n     \t&lt;dependency&gt;\r\n    \t\t&lt;artifactId&gt;solr-solrj&lt;/artifactId&gt;\r\n    \t\t&lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\r\n    \t\t&lt;version&gt;1.4.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n      &lt;/dependencies&gt;\r\n    \r\n    \t&lt;profiles&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;!-- needed for Bamboo --&gt;\r\n    \t\t\t&lt;id&gt;integration-test&lt;/id&gt;\r\n    \t\t\t&lt;build&gt;\r\n    \t\t\t\t&lt;plugins&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;${surefirePluginVersion}&lt;/version&gt;\r\n                            &lt;configuration&gt;\r\n                            \t&lt;suiteXmlFiles&gt;\r\n                \t\t\t\t\t&lt;suiteXmlFile&gt;src/test/resources/bin/testng-qc-sanity-regression.xml&lt;/suiteXmlFile&gt;\r\n              \t\t\t\t\t&lt;/suiteXmlFiles&gt;\r\n                        \t&lt;/configuration&gt;  \r\n                        &lt;/plugin&gt;  \t\t\t\t\t\r\n    \t\t\t\t&lt;/plugins&gt;\r\n    \t\t\t&lt;/build&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;!-- needed for Bamboo --&gt;\t\t\r\n    \t\t\t&lt;id&gt;deploy-tomcat&lt;/id&gt;\r\n    \t\t&lt;/profile&gt;\t\r\n    \t\t\r\n    \t&lt;/profiles&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nAny idea of what I am missing? Thanks\r\n","title":"Project build error: Non-resolvable parent POM","body":"<p>I just import this project to my local eclipse and I get this error message: </p>\n\n<blockquote>\n  <p>Project build error: Non-resolvable parent POM: Failure to transfer\n  eu.ohim:esearch-parent:pom:1.8.0-RC2.1 from\n  <a href=\"http://f5dmzprodf03.oami.europa.eu/nexus/content/groups/public/\" rel=\"nofollow\">http://f5dmzprodf03.oami.europa.eu/nexus/content/groups/public/</a> was\n  cached in the local repository, resolution will not be reattempted\n  until the update interval of nexus-releases has elapsed or updates are\n  forced. Original error: Could not transfer artifact\n  eu.ohim:esearch-parent:pom:1.8.0-RC2.1 from/to nexus-releases\n  (<a href=\"http://f5dmzprodf03.oami.europa.eu/nexus/content/groups/public/\" rel=\"nofollow\">http://f5dmzprodf03.oami.europa.eu/nexus/content/groups/public/</a>):\n  Connection   reset and 'parent.relativePath' points at wrong local POM</p>\n</blockquote>\n\n<p>This is my POM:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;eu.ohim.copla&lt;/groupId&gt;\n    &lt;artifactId&gt;copla-selenium&lt;/artifactId&gt;\n    &lt;name&gt;copla-selenium&lt;/name&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;eu.ohim&lt;/groupId&gt;\n        &lt;artifactId&gt;esearch-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.8.0-RC2.1&lt;/version&gt;\n        &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\n    &lt;/parent&gt;\n\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;jboss.version&gt;7.1.1.Final&lt;/jboss.version&gt;\n  &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.16&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\n                            &lt;goal&gt;verify&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt; \n\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                    &lt;nonFilteredFileExtensions&gt;\n                        &lt;nonFilteredFileExtension&gt;zip&lt;/nonFilteredFileExtension&gt;\n                        &lt;nonFilteredFileExtension&gt;mp3&lt;/nonFilteredFileExtension&gt;\n                        &lt;nonFilteredFileExtension&gt;jpg&lt;/nonFilteredFileExtension&gt;\n                        &lt;nonFilteredFileExtension&gt;png&lt;/nonFilteredFileExtension&gt;\n                    &lt;/nonFilteredFileExtensions&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;descriptors&gt;\n                        &lt;descriptor&gt;src/main/assembly/shade.xml&lt;/descriptor&gt;\n                        &lt;descriptor&gt;src/main/assembly/delivery-test.xml&lt;/descriptor&gt;\n                    &lt;/descriptors&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt; \n                        &lt;phase&gt;package&lt;/phase&gt; \n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;               \n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-clean&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;excludeDefaultDirectories&gt;true&lt;/excludeDefaultDirectories&gt;\n                            &lt;filesets&gt;\n                                &lt;fileset&gt;\n                                    &lt;directory&gt;target&lt;/directory&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;failsafe-reports/**/*.*&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                    &lt;followSymlinks&gt;false&lt;/followSymlinks&gt;\n                                &lt;/fileset&gt;\n                            &lt;/filesets&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;           \n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n  &lt;dependencies&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;eu.ohim.fsp.ext&lt;/groupId&gt;\n        &lt;artifactId&gt;FspDomain&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;2.41.0&lt;/version&gt;\n    &lt;/dependency&gt;   \n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n    &lt;/dependency&gt;   \n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n        &lt;version&gt;4.1.4.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n    &lt;/dependency&gt;   \n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;1.6.4&lt;/version&gt; \n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n        &lt;version&gt;1.9.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n                &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;   \n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n        &lt;artifactId&gt;hamcrest-integration&lt;/artifactId&gt;\n        &lt;version&gt;1.3&lt;/version&gt;\n    &lt;/dependency&gt;   \n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;6.8.5&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt; \n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;junit&lt;/groupId&gt;\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;   \n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-beanutils-core&lt;/artifactId&gt;\n        &lt;version&gt;1.8.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-dbutils&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-dbutils&lt;/artifactId&gt;\n        &lt;version&gt;1.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.nitorcreations&lt;/groupId&gt;\n      &lt;artifactId&gt;matchers&lt;/artifactId&gt;\n      &lt;version&gt;1.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-jxpath&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-jxpath&lt;/artifactId&gt;\n        &lt;version&gt;1.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n      &lt;version&gt;2.2.7&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.freemarker&lt;/groupId&gt;\n        &lt;artifactId&gt;freemarker&lt;/artifactId&gt;\n        &lt;version&gt;2.3.18&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-cli&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-cli&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.ibm.informix&lt;/groupId&gt;\n        &lt;artifactId&gt;ifxjdbc_10&lt;/artifactId&gt;\n        &lt;version&gt;10&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;artifactId&gt;solr-solrj&lt;/artifactId&gt;\n        &lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\n        &lt;version&gt;1.4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;!-- needed for Bamboo --&gt;\n            &lt;id&gt;integration-test&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${surefirePluginVersion}&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;suiteXmlFiles&gt;\n                                &lt;suiteXmlFile&gt;src/test/resources/bin/testng-qc-sanity-regression.xml&lt;/suiteXmlFile&gt;\n                            &lt;/suiteXmlFiles&gt;\n                        &lt;/configuration&gt;  \n                    &lt;/plugin&gt;                   \n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n\n        &lt;profile&gt;\n            &lt;!-- needed for Bamboo --&gt;      \n            &lt;id&gt;deploy-tomcat&lt;/id&gt;\n        &lt;/profile&gt;  \n\n    &lt;/profiles&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>Any idea of what I am missing? Thanks</p>\n"},{"tags":["java","eclipse","data-driven-tests"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1696310794,"post_id":77219769,"comment_id":136133092,"body_markdown":"The error is pretty clear. `ExcelWSheet` is null. That occurs if a sheet named `sheetName` does not exist in workbook. See [XSSFWorkbook.getSheet](https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFWorkbook.html#getSheet-java.lang.String-): Returns: XSSFSheet with the name provided or **null** if it does not exist","body":"The error is pretty clear. <code>ExcelWSheet</code> is null. That occurs if a sheet named <code>sheetName</code> does not exist in workbook. See <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFWorkbook.html#getSheet-java.lang.String-\" rel=\"nofollow noreferrer\">XSSFWorkbook.getSheet</a>: Returns: XSSFSheet with the name provided or <b>null</b> if it does not exist"}],"owner":{"account_id":13167259,"reputation":1,"user_id":9510938,"display_name":"Karen RF"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696312250,"answer_count":0,"score":0,"last_activity_date":1696309451,"creation_date":1696309173,"question_id":77219769,"body_markdown":"```\r\nERROR:  Cannot invoke &quot;org.apache.poi.xssf.usermodel.XSSFSheet.iterator()&quot; because &quot;utilities.ExcelUtility.ExcelWSheet&quot; is null\r\n\tat utilities.ExcelUtility.findCells(ExcelUtility.java:70)\r\n```\r\n\r\nThe code:\r\n```\r\npackage utilities;\r\n\r\npublic class ExcelUtility {\r\n\r\n\tprivate static XSSFWorkbook ExcelWBook;\r\n\tprivate static XSSFSheet ExcelWSheet;\r\n\r\n\t/*\r\n\t * Set the File path, open Excel file\r\n\t * @params - Excel Path and Sheet Name\r\n\t */\r\n\tpublic static void setExcelFile(String path, String sheetName) throws Exception {\r\n\t\ttry {\r\n\t\t\t// Open the Excel file\r\n\t\t\tFileInputStream ExcelFile = new FileInputStream(path);\r\n\r\n\t\t\t// Access the excel data sheet\r\n\t\t\tExcelWBook = new XSSFWorkbook(ExcelFile);\r\n\t\t\tExcelWSheet = ExcelWBook.getSheet(sheetName);\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow (e);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static String[][] getTestData(String tableName) {\r\n\t\tString[][] testData = null;\r\n\r\n\t\ttry {\r\n\t\t\t// Handle numbers and strings\r\n\t\t\tDataFormatter formatter = new DataFormatter();\r\n\t\t\tXSSFCell[] boundaryCells = findCells(tableName);\r\n\t\t\tXSSFCell startCell = boundaryCells[0];\r\n\t\t\t\r\n\t\t\tXSSFCell endCell = boundaryCells[1];\r\n\t\t\t\r\n\t\t\tint startRow = startCell.getRowIndex() + 1;\r\n\t\t\tint endRow = endCell.getRowIndex() - 1;\r\n\t\t\tint startCol = startCell.getColumnIndex() + 1;\r\n\t\t\tint endCol = endCell.getColumnIndex() - 1;\r\n\r\n\t\t\ttestData = new String[endRow - startRow + 1][endCol - startCol + 1];\r\n\r\n\t\t\tfor (int i=startRow+1; i&lt;endRow; i++) {\r\n\t\t\t\tfor (int j=startCol+1; j&lt;endCol; j++) {\r\n\t\t\t\t\t// testData[i-startRow][j-startCol] = ExcelWSheet.getRow(i).getCell(j).getStringCellValue();\r\n\t\t\t\t\tCell cell = ExcelWSheet.getRow(i).getCell(j);\r\n\t\t\t\t\ttestData[i - startRow][j - startCol] = formatter.formatCellValue(cell);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn testData;\r\n\t}\r\n\r\n\tpublic static XSSFCell[] findCells(String tableName) {\r\n\t\tDataFormatter formatter = new DataFormatter();\r\n\t\tString pos = &quot;begin&quot;;\r\n\t\tXSSFCell[] cells = new XSSFCell[2];\r\n\r\n\t\tfor (Row row : ExcelWSheet) {\r\n\t\t\tfor (Cell cell : row) {\r\n\t\t\t\t// if (tableName.equals(cell.getStringCellValue())) {\r\n\t\t\t\tif (tableName.equals(formatter.formatCellValue(cell))) {\r\n\t\t\t\t\tif (pos.equalsIgnoreCase(&quot;begin&quot;)) {\r\n\t\t\t\t\t\tcells[0] = (XSSFCell) cell;\r\n\t\t\t\t\t\tpos = &quot;end&quot;;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcells[1] = (XSSFCell) cell;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn cells;\r\n\t}\r\n}\r\n```\r\n\r\nI wanted to use the variables to test username a password from my excel file but seems I cant even open it. I checked the file is in the correct path and the code but I cant seem to find the issue please help","title":"Cannot invoke excel in eclipse","body":"<pre><code>ERROR:  Cannot invoke &quot;org.apache.poi.xssf.usermodel.XSSFSheet.iterator()&quot; because &quot;utilities.ExcelUtility.ExcelWSheet&quot; is null\n    at utilities.ExcelUtility.findCells(ExcelUtility.java:70)\n</code></pre>\n<p>The code:</p>\n<pre><code>package utilities;\n\npublic class ExcelUtility {\n\n    private static XSSFWorkbook ExcelWBook;\n    private static XSSFSheet ExcelWSheet;\n\n    /*\n     * Set the File path, open Excel file\n     * @params - Excel Path and Sheet Name\n     */\n    public static void setExcelFile(String path, String sheetName) throws Exception {\n        try {\n            // Open the Excel file\n            FileInputStream ExcelFile = new FileInputStream(path);\n\n            // Access the excel data sheet\n            ExcelWBook = new XSSFWorkbook(ExcelFile);\n            ExcelWSheet = ExcelWBook.getSheet(sheetName);\n        } catch (Exception e) {\n            throw (e);\n        }\n    }\n\n    public static String[][] getTestData(String tableName) {\n        String[][] testData = null;\n\n        try {\n            // Handle numbers and strings\n            DataFormatter formatter = new DataFormatter();\n            XSSFCell[] boundaryCells = findCells(tableName);\n            XSSFCell startCell = boundaryCells[0];\n            \n            XSSFCell endCell = boundaryCells[1];\n            \n            int startRow = startCell.getRowIndex() + 1;\n            int endRow = endCell.getRowIndex() - 1;\n            int startCol = startCell.getColumnIndex() + 1;\n            int endCol = endCell.getColumnIndex() - 1;\n\n            testData = new String[endRow - startRow + 1][endCol - startCol + 1];\n\n            for (int i=startRow+1; i&lt;endRow; i++) {\n                for (int j=startCol+1; j&lt;endCol; j++) {\n                    // testData[i-startRow][j-startCol] = ExcelWSheet.getRow(i).getCell(j).getStringCellValue();\n                    Cell cell = ExcelWSheet.getRow(i).getCell(j);\n                    testData[i - startRow][j - startCol] = formatter.formatCellValue(cell);\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return testData;\n    }\n\n    public static XSSFCell[] findCells(String tableName) {\n        DataFormatter formatter = new DataFormatter();\n        String pos = &quot;begin&quot;;\n        XSSFCell[] cells = new XSSFCell[2];\n\n        for (Row row : ExcelWSheet) {\n            for (Cell cell : row) {\n                // if (tableName.equals(cell.getStringCellValue())) {\n                if (tableName.equals(formatter.formatCellValue(cell))) {\n                    if (pos.equalsIgnoreCase(&quot;begin&quot;)) {\n                        cells[0] = (XSSFCell) cell;\n                        pos = &quot;end&quot;;\n                    } else {\n                        cells[1] = (XSSFCell) cell;\n                    }\n                }\n            }\n        }\n        return cells;\n    }\n}\n</code></pre>\n<p>I wanted to use the variables to test username a password from my excel file but seems I cant even open it. I checked the file is in the correct path and the code but I cant seem to find the issue please help</p>\n"},{"tags":["java","mapstruct","java-17","java-record"],"answers":[{"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1696247871,"post_id":77215196,"comment_id":136124617,"body_markdown":"Did you use the `-parameters` compiler flag? Because if not then I wonder how MapStruct will map `name` to `name`, and not `name` to `crkSpaltenname`. And perhaps Andreas is missing the `-parameters` flag, and that is the actual solution to his issue.","body":"Did you use the <code>-parameters</code> compiler flag? Because if not then I wonder how MapStruct will map <code>name</code> to <code>name</code>, and not <code>name</code> to <code>crkSpaltenname</code>. And perhaps Andreas is missing the <code>-parameters</code> flag, and that is the actual solution to his issue."},{"owner":{"account_id":14131214,"reputation":53,"user_id":10209180,"display_name":"Andreas Schouten"},"score":0,"creation_date":1696251326,"post_id":77215196,"comment_id":136125205,"body_markdown":"Nikolas sorry, the three package names was a fault while editing the question. I yust want to remove our company name from package name.\nThank You to investigate and show me that it&#39;s posible to get this working!\n\nRob You are right. I was missing the -parametes flag!","body":"Nikolas sorry, the three package names was a fault while editing the question. I yust want to remove our company name from package name. Thank You to investigate and show me that it&#39;s posible to get this working!  Rob You are right. I was missing the -parametes flag!"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1696318839,"post_id":77215196,"comment_id":136134148,"body_markdown":"@AndreasSchouten glad to be of help","body":"@AndreasSchouten glad to be of help"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1696597943,"post_id":77215196,"comment_id":136177426,"body_markdown":"@RobSpoor you don’t need to specify `-parameters` for the canonical constructor of a record type. Compare with [this answer](https://stackoverflow.com/a/67048729/2711488)","body":"@RobSpoor you don’t need to specify <code>-parameters</code> for the canonical constructor of a record type. Compare with <a href=\"https://stackoverflow.com/a/67048729/2711488\">this answer</a>"}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696307644,"creation_date":1696245797,"answer_id":77215196,"question_id":77215049,"body_markdown":"You mix-up the package names, I have noticed you use more than 2 `Kriterium` classes:\r\n- `de.persistence.model.nontransactional.Kriterium`\r\n- `de.persistence.model.Kriterium`\r\n- `de.Kriterium`\r\n\r\nYou want to double-check that the classes from the correct packages are used in the `KriteriumMapper`.\r\n\r\nDon&#39;t forget to compile with the [`-parameters`][1] flag to enable generating metadata for reflection on method parameters (thanks to [Rob Spoor](https://stackoverflow.com/users/1180351/rob-spoor)).\r\n\r\nHere is a minimum working sample of record-to-record mapping:\r\n\r\n```java\r\n@Mapper\r\npublic interface KriteriumMapper {\r\n\r\n    Kriterium2 fromPersistenceRecord(Kriterium k);\r\n}\r\n\r\npublic record Kriterium(String name, String crkSpaltenname) {}\r\n\r\npublic record Kriterium2(String name, String crkSpaltenname) {}\r\n```\r\n\r\nHere is the generated implementation of `KriteriumMapperImpl` after compilation :\r\n\r\n```\r\n@Generated(\r\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\r\n    date = &quot;2023-10-02T18:18:30+0700&quot;,\r\n    comments = &quot;version: 1.5.5.Final, compiler: javac, environment: Java 17.0.1 (Oracle Corporation)&quot;\r\n)\r\npublic class KriteriumMapperImpl implementsKriteriumMapper {\r\n\r\n    @Override\r\n    public Kriterium2 fromPersistenceRecord(Kriterium k) {\r\n        if ( k == null ) {\r\n            return null;\r\n        }\r\n\r\n        String name = null;\r\n        String crkSpaltenname = null;\r\n\r\n        name = k.name();\r\n        crkSpaltenname = k.crkSpaltenname();\r\n\r\n        Kriterium2 kriterium2 = new Kriterium2( name, crkSpaltenname );\r\n\r\n        return kriterium2;\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/specs/man/javac.html","title":"MapStruct record to record mapping does not work","body":"<p>You mix-up the package names, I have noticed you use more than 2 <code>Kriterium</code> classes:</p>\n<ul>\n<li><code>de.persistence.model.nontransactional.Kriterium</code></li>\n<li><code>de.persistence.model.Kriterium</code></li>\n<li><code>de.Kriterium</code></li>\n</ul>\n<p>You want to double-check that the classes from the correct packages are used in the <code>KriteriumMapper</code>.</p>\n<p>Don't forget to compile with the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/javac.html\" rel=\"nofollow noreferrer\"><code>-parameters</code></a> flag to enable generating metadata for reflection on method parameters (thanks to <a href=\"https://stackoverflow.com/users/1180351/rob-spoor\">Rob Spoor</a>).</p>\n<p>Here is a minimum working sample of record-to-record mapping:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface KriteriumMapper {\n\n    Kriterium2 fromPersistenceRecord(Kriterium k);\n}\n\npublic record Kriterium(String name, String crkSpaltenname) {}\n\npublic record Kriterium2(String name, String crkSpaltenname) {}\n</code></pre>\n<p>Here is the generated implementation of <code>KriteriumMapperImpl</code> after compilation :</p>\n<pre><code>@Generated(\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\n    date = &quot;2023-10-02T18:18:30+0700&quot;,\n    comments = &quot;version: 1.5.5.Final, compiler: javac, environment: Java 17.0.1 (Oracle Corporation)&quot;\n)\npublic class KriteriumMapperImpl implementsKriteriumMapper {\n\n    @Override\n    public Kriterium2 fromPersistenceRecord(Kriterium k) {\n        if ( k == null ) {\n            return null;\n        }\n\n        String name = null;\n        String crkSpaltenname = null;\n\n        name = k.name();\n        crkSpaltenname = k.crkSpaltenname();\n\n        Kriterium2 kriterium2 = new Kriterium2( name, crkSpaltenname );\n\n        return kriterium2;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14131214,"reputation":53,"user_id":10209180,"display_name":"Andreas Schouten"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77215196,"answer_count":1,"score":2,"last_activity_date":1696307644,"creation_date":1696244188,"question_id":77215049,"body_markdown":"I try to convert a Java record from one package to another.\r\n\r\n```java\r\n@Mapper\r\npublic interface KriteriumMapper {\r\n\r\n\tKriteriumMapper INSTANCE = Mappers.getMapper(KriteriumMapper.class);\r\n\tde.model.Kriterium fromPersistenceRecord(Kriterium k);\r\n}\r\n```\r\n```java\r\npackage de.persistence.model.nontransactional;\r\n\r\npublic record Kriterium(String name, String crkSpaltenname) {}\r\n```\r\nTo \r\n```java\r\npackage de.model;\r\n\r\npublic record Kriterium(String name, String crkSpaltenname) {}\r\n```\r\n\r\nBut Mapstruct creates a mapper with an empty constructor for the new record, which is obviously not possible:\r\n\r\n```java\r\n@Override\r\npublic de.Kriterium fromPersistenceRecord(de.persistence.model.Kriterium k) {\r\n    if ( k == null ) {\r\n        return null;\r\n    }\r\n    \r\n    de.model.Kriterium kriterium = new de.Kriterium();\r\n    \r\n    return kriterium;\r\n}\r\n```\r\n\r\nThe Mapstruct version is `1.5.5.Final`.\r\n\r\nHow to handle Java record-to-record mapping?\r\n\r\n\r\n\r\nI&#39;m expecting a mapper implementation with uses the regular all args constructor of a jave record.","title":"MapStruct record to record mapping does not work","body":"<p>I try to convert a Java record from one package to another.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface KriteriumMapper {\n\n    KriteriumMapper INSTANCE = Mappers.getMapper(KriteriumMapper.class);\n    de.model.Kriterium fromPersistenceRecord(Kriterium k);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.persistence.model.nontransactional;\n\npublic record Kriterium(String name, String crkSpaltenname) {}\n</code></pre>\n<p>To</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.model;\n\npublic record Kriterium(String name, String crkSpaltenname) {}\n</code></pre>\n<p>But Mapstruct creates a mapper with an empty constructor for the new record, which is obviously not possible:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic de.Kriterium fromPersistenceRecord(de.persistence.model.Kriterium k) {\n    if ( k == null ) {\n        return null;\n    }\n    \n    de.model.Kriterium kriterium = new de.Kriterium();\n    \n    return kriterium;\n}\n</code></pre>\n<p>The Mapstruct version is <code>1.5.5.Final</code>.</p>\n<p>How to handle Java record-to-record mapping?</p>\n<p>I'm expecting a mapper implementation with uses the regular all args constructor of a jave record.</p>\n"},{"tags":["java","mysql","spring","hikaricp"],"comments":[{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1696315521,"post_id":77219660,"comment_id":136133635,"body_markdown":"I have seen this error when from the server side (MySQL), the connection is closed, and that connection is still there in the free pool and tried to be used. Have you tried setting &quot;test-on-borrow&quot; flag to true? So that a connection from the free pool is tested before returning to the thread for usage? If found invalid, then removed from the free pool and if all are invalid, then a new connection will be opened and returned.","body":"I have seen this error when from the server side (MySQL), the connection is closed, and that connection is still there in the free pool and tried to be used. Have you tried setting &quot;test-on-borrow&quot; flag to true? So that a connection from the free pool is tested before returning to the thread for usage? If found invalid, then removed from the free pool and if all are invalid, then a new connection will be opened and returned."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1696315732,"post_id":77219660,"comment_id":136133656,"body_markdown":"In this case, the operation would only fail if all the connections have been invalidated, and the new connections to the DB server are also not opening.","body":"In this case, the operation would only fail if all the connections have been invalidated, and the new connections to the DB server are also not opening."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1696315926,"post_id":77219660,"comment_id":136133688,"body_markdown":"That 20-30 minutes of processing - does that actively use the same DB connection? Is it possible that you are neither releasing the connection back to the free pool nor actively using it for a long period?","body":"That 20-30 minutes of processing - does that actively use the same DB connection? Is it possible that you are neither releasing the connection back to the free pool nor actively using it for a long period?"},{"owner":{"account_id":1738584,"reputation":2241,"user_id":1590594,"accept_rate":21,"display_name":"JDev"},"score":0,"creation_date":1696337161,"post_id":77219660,"comment_id":136137423,"body_markdown":"@Ishan Thanks for the answer and suggestion. No, I do not test with &quot;test-on-borrow&quot;. Do HikariCP has such config? I did not find it.","body":"@Ishan Thanks for the answer and suggestion. No, I do not test with &quot;test-on-borrow&quot;. Do HikariCP has such config? I did not find it."},{"owner":{"account_id":1738584,"reputation":2241,"user_id":1590594,"accept_rate":21,"display_name":"JDev"},"score":0,"creation_date":1696337332,"post_id":77219660,"comment_id":136137464,"body_markdown":"@Ishan Thanks again. \nI think the same connection is being used. This is visible in debug mode.\nAnd as I wrote, I do not perform any operations on the database. Only at the end of execution.","body":"@Ishan Thanks again.  I think the same connection is being used. This is visible in debug mode. And as I wrote, I do not perform any operations on the database. Only at the end of execution."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1696341910,"post_id":77219660,"comment_id":136138489,"body_markdown":"&quot;That is, at startup there is a connection to the database, then the logic works, and then I need to save the results in the database. It&#39;s simple case.&quot; - so on start-up just a DB Pool is created, or you are also borrowing a connection from Hikari? And keeping it idle for 20-30 minutes without using it, and then just using it at the end? Can you just create the pool but not get a connection from it? Just borrow a connection at the end when the process needs it. If you also need one connection at the beginning, then just give it back to the pool and get again at the end.","body":"&quot;That is, at startup there is a connection to the database, then the logic works, and then I need to save the results in the database. It&#39;s simple case.&quot; - so on start-up just a DB Pool is created, or you are also borrowing a connection from Hikari? And keeping it idle for 20-30 minutes without using it, and then just using it at the end? Can you just create the pool but not get a connection from it? Just borrow a connection at the end when the process needs it. If you also need one connection at the beginning, then just give it back to the pool and get again at the end."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1696341962,"post_id":77219660,"comment_id":136138500,"body_markdown":"https://stackoverflow.com/questions/53870473/hikari-and-test-on-borrow-option - And yes, test-on-borrow flag is not needed now. It is part of Hikari by default when you borrow a connection. But after borrowing if it remains with your own thread for a long long time, then Hikari cannot do anything. So, borrow and return frequently as soon as work is done. Rather than borrowing and keeping for a long long time.","body":"<a href=\"https://stackoverflow.com/questions/53870473/hikari-and-test-on-borrow-option\" title=\"hikari and test on borrow option\">stackoverflow.com/questions/53870473/&hellip;</a> - And yes, test-on-borrow flag is not needed now. It is part of Hikari by default when you borrow a connection. But after borrowing if it remains with your own thread for a long long time, then Hikari cannot do anything. So, borrow and return frequently as soon as work is done. Rather than borrowing and keeping for a long long time."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1696342183,"post_id":77219660,"comment_id":136138554,"body_markdown":"Maybe have 2 separate `@Transactional` methods in the beginning and at the end, and one non-transactional in the middle to do the 20-30 minutes of the process without any borrowed DB connection from Hikari.","body":"Maybe have 2 separate <code>@Transactional</code> methods in the beginning and at the end, and one non-transactional in the middle to do the 20-30 minutes of the process without any borrowed DB connection from Hikari."},{"owner":{"account_id":1738584,"reputation":2241,"user_id":1590594,"accept_rate":21,"display_name":"JDev"},"score":0,"creation_date":1696345584,"post_id":77219660,"comment_id":136139283,"body_markdown":"Thank you for such detailed answers.\nI roughly understand what you are talking about.\nI just don’t understand a little how I can manage all this.\nThe main idea of Spring autoconfiguration is that you enter the settings and it works. This case works for me with another application, there has never been anything similar there.","body":"Thank you for such detailed answers. I roughly understand what you are talking about. I just don’t understand a little how I can manage all this. The main idea of Spring autoconfiguration is that you enter the settings and it works. This case works for me with another application, there has never been anything similar there."},{"owner":{"account_id":1738584,"reputation":2241,"user_id":1590594,"accept_rate":21,"display_name":"JDev"},"score":0,"creation_date":1696345636,"post_id":77219660,"comment_id":136139294,"body_markdown":"At startup, a connection is created. Relatively speaking, I save the start time in the database and then launch the process itself. Yes, after the start there is 1 request to the database.","body":"At startup, a connection is created. Relatively speaking, I save the start time in the database and then launch the process itself. Yes, after the start there is 1 request to the database."},{"owner":{"account_id":1738584,"reputation":2241,"user_id":1590594,"accept_rate":21,"display_name":"JDev"},"score":0,"creation_date":1696345703,"post_id":77219660,"comment_id":136139302,"body_markdown":"If we look at this case in detail, it turns out that this connection (which was executed at startup) hangs in the pool. But it is already closed for the database. Why doesn&#39;t HickariCP close this connection itself? Ok, no problem for me to close it. Only hibernate/Spring Data JPA does all this. I haven’t seen any examples anywhere that something needs to be done in this direction. Or maybe this is my case? https://stackoverflow.com/a/64682207/1590594","body":"If we look at this case in detail, it turns out that this connection (which was executed at startup) hangs in the pool. But it is already closed for the database. Why doesn&#39;t HickariCP close this connection itself? Ok, no problem for me to close it. Only hibernate/Spring Data JPA does all this. I haven’t seen any examples anywhere that something needs to be done in this direction. Or maybe this is my case? <a href=\"https://stackoverflow.com/a/64682207/1590594\">stackoverflow.com/a/64682207/1590594</a>"},{"owner":{"account_id":1738584,"reputation":2241,"user_id":1590594,"accept_rate":21,"display_name":"JDev"},"score":0,"creation_date":1696345724,"post_id":77219660,"comment_id":136139304,"body_markdown":"@Ishan &quot;So, borrow and return frequently as soon as work is done. Rather than borrowing and keeping for a long long time.&quot; How?","body":"@Ishan &quot;So, borrow and return frequently as soon as work is done. Rather than borrowing and keeping for a long long time.&quot; How?"},{"owner":{"account_id":1738584,"reputation":2241,"user_id":1590594,"accept_rate":21,"display_name":"JDev"},"score":0,"creation_date":1696345819,"post_id":77219660,"comment_id":136139323,"body_markdown":"&quot;Maybe have 2 separate @Transactional methods in the beginning and at the end, and one non-transactional in the middle to do the 20-30 minutes of the process without any borrowed DB connection from Hikari.&quot; I didn&#39;t understand you a bit. On every database Query-method I have  &quot;@Transactional(propagation = Propagation.REQUIRES_NEW)&quot;. Maybe this is a problem?","body":"&quot;Maybe have 2 separate @Transactional methods in the beginning and at the end, and one non-transactional in the middle to do the 20-30 minutes of the process without any borrowed DB connection from Hikari.&quot; I didn&#39;t understand you a bit. On every database Query-method I have  &quot;@Transactional(propagation = Propagation.REQUIRES_NEW)&quot;. Maybe this is a problem?"},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1696398774,"post_id":77219660,"comment_id":136145813,"body_markdown":"&quot;But it is already closed for the database. Why doesn&#39;t HickariCP close this connection itself? &quot; - That&#39;s the main motto of using Connection Pool. Connections are NOT to be physically closed and to be kept open in a &#39;free&#39; pool, so that another thread that needs to work with DB can get it and no time is wasted for physically opening a new connection to the DB. If you directly physically close the connection from your end, the Pool won&#39;t know about it. So from your end, you should only release to the pool, and not close it. If it is closed on the DB side, it means something is wrong.","body":"&quot;But it is already closed for the database. Why doesn&#39;t HickariCP close this connection itself? &quot; - That&#39;s the main motto of using Connection Pool. Connections are NOT to be physically closed and to be kept open in a &#39;free&#39; pool, so that another thread that needs to work with DB can get it and no time is wasted for physically opening a new connection to the DB. If you directly physically close the connection from your end, the Pool won&#39;t know about it. So from your end, you should only release to the pool, and not close it. If it is closed on the DB side, it means something is wrong."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1696400412,"post_id":77219660,"comment_id":136146058,"body_markdown":"&quot;On every database Query-method I have &quot;@Transactional(propagation = Propagation.REQUIRES_NEW)&quot;. Maybe this is a problem?&quot; - It may or may not be. Check this https://www.baeldung.com/spring-transactional-propagation-isolation for behavior of different propagations. REQUIRES_NEW will suspend any existing transaction (if any) and create a new one. But if there is an outer method that also has @Transactional and that method calls these other methods that have REQUIRES_NEW - outer method would have already opened a transaction.","body":"&quot;On every database Query-method I have &quot;@Transactional(propagation = Propagation.REQUIRES_NEW)&quot;. Maybe this is a problem?&quot; - It may or may not be. Check this <a href=\"https://www.baeldung.com/spring-transactional-propagation-isolation\" rel=\"nofollow noreferrer\">baeldung.com/spring-transactional-propagation-isolation</a> for behavior of different propagations. REQUIRES_NEW will suspend any existing transaction (if any) and create a new one. But if there is an outer method that also has @Transactional and that method calls these other methods that have REQUIRES_NEW - outer method would have already opened a transaction."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1696400605,"post_id":77219660,"comment_id":136146106,"body_markdown":"Make sure that the 20-30 minutes of processing that does not need any DB activity is NEITHER marked as `@Transactional` itself NOR called from any @Transactional methods. This will make sure that at least for those 20-30 minutes no connection is kept allocated, but unused.","body":"Make sure that the 20-30 minutes of processing that does not need any DB activity is NEITHER marked as <code>@Transactional</code> itself NOR called from any @Transactional methods. This will make sure that at least for those 20-30 minutes no connection is kept allocated, but unused."},{"owner":{"account_id":1738584,"reputation":2241,"user_id":1590594,"accept_rate":21,"display_name":"JDev"},"score":0,"creation_date":1696418596,"post_id":77219660,"comment_id":136149691,"body_markdown":"@Ishan I have already removed all transaction annotations. No more anywhere.\nThe situation is the same, nothing helps.\nI understand all the logic why it doesn’t work and so on..\nBut where to look? What to look for? I have set all kinds of parameters that should be set in the database and showed all the settings that are in the database in the screenshots.\nWhat else should I check? The strangest thing is that another application works with the same parameters without problems.","body":"@Ishan I have already removed all transaction annotations. No more anywhere. The situation is the same, nothing helps. I understand all the logic why it doesn’t work and so on.. But where to look? What to look for? I have set all kinds of parameters that should be set in the database and showed all the settings that are in the database in the screenshots. What else should I check? The strangest thing is that another application works with the same parameters without problems."},{"owner":{"account_id":1738584,"reputation":2241,"user_id":1590594,"accept_rate":21,"display_name":"JDev"},"score":1,"creation_date":1696443853,"post_id":77219660,"comment_id":136155087,"body_markdown":"Hi @Ishan thanks a lot for your explanations and support. I solved it. Found the key. It is of course not a DB or Hikari. It is Spring. ))) The key is &quot;spring.jpa.open-in-view=false&quot; and Wrap methods with Transacionals and everything is working as should and as expected.","body":"Hi @Ishan thanks a lot for your explanations and support. I solved it. Found the key. It is of course not a DB or Hikari. It is Spring. ))) The key is &quot;spring.jpa.open-in-view=false&quot; and Wrap methods with Transacionals and everything is working as should and as expected."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1696485589,"post_id":77219660,"comment_id":136159405,"body_markdown":"Welcome. I wasn&#39;t much of a help though. Good catch.","body":"Welcome. I wasn&#39;t much of a help though. Good catch."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1696486327,"post_id":77219660,"comment_id":136159496,"body_markdown":"And reading about &quot;spring.jpa.open-in-view&quot; - it opens a transaction in the view layer. So, even if you are not having `@Transactional` that session is open for your entire process - including those 20-30 minutes of processing, and for that entire period of time, the DB connection is allocated and unused, and I think, not being checked for being &#39;alive&#39; every few seconds.","body":"And reading about &quot;spring.jpa.open-in-view&quot; - it opens a transaction in the view layer. So, even if you are not having <code>@Transactional</code> that session is open for your entire process - including those 20-30 minutes of processing, and for that entire period of time, the DB connection is allocated and unused, and I think, not being checked for being &#39;alive&#39; every few seconds."},{"owner":{"account_id":1738584,"reputation":2241,"user_id":1590594,"accept_rate":21,"display_name":"JDev"},"score":0,"creation_date":1696504429,"post_id":77219660,"comment_id":136162882,"body_markdown":"It&#39;s a little difficult to explain. If you think alone, then after a while you start to run out of ideas, but if you think with someone, then you can constantly think about the case from the discussion context. Thank you!","body":"It&#39;s a little difficult to explain. If you think alone, then after a while you start to run out of ideas, but if you think with someone, then you can constantly think about the case from the discussion context. Thank you!"}],"owner":{"account_id":1738584,"reputation":2241,"user_id":1590594,"accept_rate":21,"display_name":"JDev"},"comment_count":21,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696307046,"creation_date":1696307046,"question_id":77219660,"body_markdown":"Help me to understand and solve this error. I&#39;ve been trying to figure out different options for days/weeks now.\r\nI probably read everything that is on the Internet and tried all kinds of options and combinations. HikariCP refuses to work as expected.\r\n\r\nSo, I have HikariCP-5.0.1 and MySQL 8.1\r\n\r\nPods are located in Kubernetes in different namespaces. There are no proxies, firewalls or service meshes between them. And they are on the one single node.\r\nI run a task that runs 20-30 minutes. That is, at startup there is a connection to the database, then the logic works, and then I need to save the results in the database. It&#39;s simple case.\r\n\r\nIn the debug output I can see that Hikari pings the database every 30 seconds and says that everything is ok.\r\n------------------------\r\n```shell\r\n06:35:52.890 [HikariPool-1 housekeeper] DEBUG [       com.zaxxer.hikari.pool.HikariPool:414.logPoolState()] - HikariPool-1 - Pool stats (total=10, active=1, idle=9, waiting=0) \r\n06:35:52.890 [HikariPool-1 housekeeper] DEBUG [       com.zaxxer.hikari.pool.HikariPool:521.fillPool()] - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0). \r\n```\r\n\r\nHere are the HIkariCP settings in Spring Autoconfiguration:\r\n------------------------\r\n```properties\r\nspring.datasource.hikari.jdbc-url=jdbc:mysql://mysql.mysql:3306/dev\r\nspring.datasource.type=com.zaxxer.hikari.HikariDataSource\r\nspring.datasource.hikari.username=${DB_USER}\r\nspring.datasource.hikari.password=${DB_PASSWORD}\r\nspring.datasource.hikari.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.datasource.hikari.data-source-properties.maxAllowedPacket=534773760\r\nspring.datasource.hikari.data-source-properties.allowPublicKeyRetrieval=YES\r\nspring.datasource.hikari.data-source-properties.useSSL=NO\r\nspring.datasource.hikari.connection-test-query=SELECT 1\r\n\r\n#This is my experiments, which i set in different combinations and values. Но данный пример я описываю со значениями, которые активны. Здесь только закомментированный пример.\r\n#To hold connection\r\n#spring.datasource.hikari.max-lifetime=120000\r\n#spring.datasource.hikari.validation-timeout=864000000\r\n#spring.datasource.hikari.data-source-properties.autoReconnect=true\r\n#Keep connection for 10 days\r\n#spring.datasource.hikari.keepalive-time=864000000\r\n#spring.datasource.hikari.idle-timeout=864000000\r\n#spring.datasource.hikari.validation-timeout=864000000\r\n```\r\n\r\nHere are the HikariCP settings in debug mode:\r\n------------------------\r\n```shell\r\n06:33:21.946 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:968.attemptFromContextLoader()] - Driver class org.hsqldb.jdbc.JDBCDriver found in Thread context class loader org.springframework.boot.loader.LaunchedURLClassLoader@7291c18f \r\n06:33:21.961 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:968.attemptFromContextLoader()] - Driver class com.mysql.cj.jdbc.Driver found in Thread context class loader org.springframework.boot.loader.LaunchedURLClassLoader@7291c18f \r\n06:33:22.070 [main] INFO  [rg.hibernate.jpa.internal.util.LogHelper:31.logPersistenceUnitInformation()] - HHH000204: Processing PersistenceUnitInfo [name: default] \r\nWaiting for starting Guardius Owasp Worker Agent...\r\n06:33:22.132 [main] INFO  [                   org.hibernate.Version:44.logVersion()] - HHH000412: Hibernate ORM core version 6.1.5.Final \r\n06:33:22.491 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1100.logConfiguration()] - HikariPool-1 - configuration: \r\n06:33:22.493 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - allowPoolSuspension.............false \r\n06:33:22.493 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - autoCommit......................true \r\n06:33:22.493 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - catalog.........................none \r\n06:33:22.493 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - connectionInitSql...............none \r\n06:33:22.494 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - connectionTestQuery.............&quot;SELECT 1&quot; \r\n06:33:22.494 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - connectionTimeout...............30000 \r\n06:33:22.494 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - dataSource......................none \r\n06:33:22.494 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - dataSourceClassName.............none \r\n06:33:22.495 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - dataSourceJNDI..................none \r\n06:33:22.495 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - dataSourceProperties............{maxAllowedPacket=534773760, password=&lt;masked&gt;, allowPublicKeyRetrieval=YES, useSSL=NO} \r\n06:33:22.495 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - driverClassName.................&quot;com.mysql.cj.jdbc.Driver&quot; \r\n06:33:22.495 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - exceptionOverrideClassName......none \r\n06:33:22.496 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - healthCheckProperties...........{} \r\n06:33:22.496 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - healthCheckRegistry.............none \r\n06:33:22.496 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - idleTimeout.....................600000 \r\n06:33:22.496 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - initializationFailTimeout.......1 \r\n06:33:22.497 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - isolateInternalQueries..........false \r\n06:33:22.497 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - jdbcUrl.........................jdbc:mysql://mysql.mysql:3306/dev \r\n06:33:22.497 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - keepaliveTime...................0 \r\n06:33:22.497 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - leakDetectionThreshold..........0 \r\n06:33:22.497 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - maxLifetime.....................1800000 \r\n06:33:22.498 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - maximumPoolSize.................10 \r\n06:33:22.498 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - metricRegistry..................none \r\n06:33:22.498 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - metricsTrackerFactory...........none \r\n06:33:22.498 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - minimumIdle.....................10 \r\n06:33:22.498 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - password........................&lt;masked&gt; \r\n06:33:22.498 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - poolName........................&quot;HikariPool-1&quot; \r\n06:33:22.498 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - readOnly........................false \r\n06:33:22.499 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - registerMbeans..................false \r\n06:33:22.499 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - scheduledExecutor...............none \r\n06:33:22.499 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - schema..........................none \r\n06:33:22.499 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - threadFactory...................internal \r\n06:33:22.499 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - transactionIsolation............default \r\n06:33:22.500 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - username........................&quot;dev&quot; \r\n06:33:22.500 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - validationTimeout...............5000 \r\n06:33:22.500 [main] INFO  [      com.zaxxer.hikari.HikariDataSource:110.getConnection()] - HikariPool-1 - Starting... \r\n06:33:22.720 [main] INFO  [       com.zaxxer.hikari.pool.HikariPool:565.checkFailFast()] - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@61e7bf2f \r\n06:33:22.722 [main] INFO  [      com.zaxxer.hikari.HikariDataSource:123.getConnection()] - HikariPool-1 - Start completed. \r\n06:33:22.744 [main] INFO  [                             SQL dialect:66.logSelectedDialect()] - HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect \r\n06:33:22.822 [HikariPool-1 housekeeper] DEBUG [       com.zaxxer.hikari.pool.HikariPool:414.logPoolState()] - HikariPool-1 - Pool stats (total=1, active=0, idle=1, waiting=0) \r\n.....\r\n06:33:22.939 [HikariPool-1 connection adder] DEBUG [       com.zaxxer.hikari.pool.HikariPool:414.logPoolState()] - HikariPool-1 - After adding stats (total=10, active=0, idle=10, waiting=0) \r\n```\r\n\r\nHere is my my.cnf:\r\n------------------------\r\n```ini\r\n[mysqld]\r\ndefault_authentication_plugin=mysql_native_password\r\nskip-name-resolve\r\nexplicit_defaults_for_timestamp\r\nbasedir=/opt/bitnami/mysql\r\nplugin_dir=/opt/bitnami/mysql/lib/plugin\r\nport=3306\r\nsocket=/opt/bitnami/mysql/tmp/mysql.sock\r\ndatadir=/bitnami/mysql/data\r\ntmpdir=/opt/bitnami/mysql/tmp\r\nmax_allowed_packet=512M\r\nbind-address=*\r\npid-file=/opt/bitnami/mysql/tmp/mysqld.pid\r\nlog-error=/opt/bitnami/mysql/logs/mysqld.log\r\ncharacter-set-server=UTF8\r\ncollation-server=utf8_general_ci\r\nslow_query_log=0\r\nslow_query_log_file=/opt/bitnami/mysql/logs/mysqld.log\r\nlong_query_time=10.0\r\ndefault-time-zone = &#39;+02:00&#39;\r\nwait_timeout=2592000\r\ninteractive_timeout=2592000\r\n\r\n[client]\r\nport=3306\r\nsocket=/opt/bitnami/mysql/tmp/mysql.sock\r\ndefault-character-set=UTF8\r\nplugin_dir=/opt/bitnami/mysql/lib/plugin\r\n\r\n[manager]\r\nport=3306\r\nsocket=/opt/bitnami/mysql/tmp/mysql.sock\r\npid-file=/opt/bitnami/mysql/tmp/mysqld.pid\r\n```\r\n\r\nHere are the results of the database queries:\r\n------------------------\r\n**show global variables LIKE &quot;%timeout%&quot;;**\r\n![image](https://github.com/brettwooldridge/HikariCP/assets/1653372/ebe56b22-d73d-4c61-bac1-ee298947eeb5)\r\n\r\n\r\n**show global variables LIKE &quot;%wait%&quot;;**\r\n![image](https://github.com/brettwooldridge/HikariCP/assets/1653372/206e6023-58f1-41db-8bbc-55e5b64bd0c0)\r\n\r\n\r\n**show global variables LIKE &quot;%conn%&quot;;**\r\n![image](https://github.com/brettwooldridge/HikariCP/assets/1653372/43ef98c1-1db3-45e5-bcf8-e0a11f465ce5)\r\n\r\nHere is the complete Stacktrace::\r\n------------------------\r\n```shell\r\n06:53:46.114 [http-nio-0.0.0.0-9999-exec-2] WARN  [  com.zaxxer.hikari.pool.ProxyConnection:177.checkException()] - HikariPool-1 - Connection com.mysql.cj.jdbc.ConnectionImpl@61e7bf2f marked as broken because of SQLSTATE(08S01), ErrorCode(0) \r\n\r\ncom.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n\r\nThe last packet successfully received from the server was 1,214,276 milliseconds ago. The last packet sent successfully to the server was 1,214,276 milliseconds ago.\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2050)\r\n\tat com.zaxxer.hikari.pool.ProxyConnection.setAutoCommit(ProxyConnection.java:401)\r\n\tat com.zaxxer.hikari.pool.HikariProxyConnection.setAutoCommit(HikariProxyConnection.java)\r\n\tat org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.begin(AbstractLogicalConnectionImplementor.java:72)\r\n\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:276)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:246)\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:164)\r\n\tat org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:421)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\r\n\tat org.springframework.retry.interceptor.RetryOperationsInterceptor$1.doWithRetry(RetryOperationsInterceptor.java:102)\r\n\tat org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:329)\r\n\tat org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:209)\r\n\tat org.springframework.retry.interceptor.RetryOperationsInterceptor.invoke(RetryOperationsInterceptor.java:135)\r\n\tat org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:160)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\r\n\tat io.my.services.StorageService$$SpringCGLIB$$0.saveReport(&lt;generated&gt;)\r\n\tat io.my.services.ReportService.persistsReports(ReportService.java:110)\r\n\tat io.my.services.MyActiveScanService.activeScan(MyActiveScanService.java:219)\r\n\tat io.my.controllers.MyController.activeAttack(MyController.java:35)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:895)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:705)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:741)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589)\r\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\n\r\nThe last packet successfully received from the server was 1,214,276 milliseconds ago. The last packet sent successfully to the server was 1,214,276 milliseconds ago.\r\n\tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)\r\n\tat com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:581)\r\n\tat com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:761)\r\n\tat com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:700)\r\n\tat com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:1051)\r\n\tat com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:997)\r\n\tat com.mysql.cj.NativeSession.execSQL(NativeSession.java:663)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2033)\r\n\t... 80 common frames omitted\r\nCaused by: java.net.SocketException: Connection reset\r\n\tat java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:313)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:340)\r\n\tat java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:789)\r\n\tat java.base/java.net.Socket$SocketInputStream.read(Socket.java:1025)\r\n\tat com.mysql.cj.protocol.ReadAheadInputStream.fill(ReadAheadInputStream.java:107)\r\n\tat com.mysql.cj.protocol.ReadAheadInputStream.readFromUnderlyingStreamIfNecessary(ReadAheadInputStream.java:150)\r\n\tat com.mysql.cj.protocol.ReadAheadInputStream.read(ReadAheadInputStream.java:180)\r\n\tat java.base/java.io.FilterInputStream.read(FilterInputStream.java:119)\r\n\tat com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64)\r\n\tat com.mysql.cj.protocol.a.SimplePacketReader.readHeaderLocal(SimplePacketReader.java:81)\r\n\tat com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)\r\n\tat com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)\r\n\tat com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52)\r\n\tat com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41)\r\n\tat com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54)\r\n\tat com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44)\r\n\tat com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:575)\r\n\t... 86 common frames omitted\r\n06:53:46.116 [HikariPool-1 connection closer] DEBUG [         com.zaxxer.hikari.pool.PoolBase:132.quietlyCloseConnection()] - HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@61e7bf2f: (connection is broken) \r\n06:53:46.167 [HikariPool-1 connection adder] DEBUG [       com.zaxxer.hikari.pool.HikariPool:738.call()] - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@28017506 \r\n06:53:50.118 [http-nio-0.0.0.0-9999-exec-2] ERROR [my.services.MyActiveScanService:226.activeScan()] - =#= Execution Error. RunId=53. Error=Could not open JPA EntityManager for transaction \r\norg.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction\r\n\tat org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\r\n\tat org.springframework.retry.interceptor.RetryOperationsInterceptor$1.doWithRetry(RetryOperationsInterceptor.java:102)\r\n\tat org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:329)\r\n\tat org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:209)\r\n\tat org.springframework.retry.interceptor.RetryOperationsInterceptor.invoke(RetryOperationsInterceptor.java:135)\r\n\tat org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:160)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\r\n\tat io.my.services.StorageService$$SpringCGLIB$$0.saveReport(&lt;generated&gt;)\r\n\tat io.my.services.ReportService.persistsReports(ReportService.java:110)\r\n\tat io.my.services.MyActiveScanService.activeScan(MyActiveScanService.java:219)\r\n\tat io.my.controllers.MyController.activeAttack(MyController.java:35)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:895)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:705)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat \r\n\r\n....\r\n\r\norg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589)\r\nCaused by: org.hibernate.TransactionException: JDBC begin transaction failed: \r\n\tat org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.begin(AbstractLogicalConnectionImplementor.java:78)\r\n\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:276)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:246)\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:164)\r\n\tat org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:421)\r\n\t... 72 common frames omitted\r\nCaused by: java.sql.SQLException: Connection is closed\r\n\tat com.zaxxer.hikari.pool.ProxyConnection$ClosedConnection.lambda$getClosedConnection$0(ProxyConnection.java:502)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy127.setAutoCommit(Unknown Source)\r\n\tat com.zaxxer.hikari.pool.ProxyConnection.setAutoCommit(ProxyConnection.java:401)\r\n\tat com.zaxxer.hikari.pool.HikariProxyConnection.setAutoCommit(HikariProxyConnection.java)\r\n\tat org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.begin(AbstractLogicalConnectionImplementor.java:72)\r\n\t... 77 common frames omitted\r\n\r\n```\r\nHere is the application start and its end time.\r\n------------------------------\r\n```\r\nstartedAt: &#39;2023-10-02T04:33:05Z&#39;\r\nfinishedAt: &#39;2023-10-02T04:53:52Z&#39;\r\n```\r\n\r\nAlmost 21 minutes in total.\r\n\r\nAs you can see from the stacktrace message, the last successful connection to the database was **1,214,276 milliseconds ago**, which is equivalent to **20.2379 minutes**.\r\n\r\nAnd I think that this is some kind of incomprehensible bug, because I have a running application for clients and it works great, there are no glitches. With the same settings and versions.\r\n\r\nI would be grateful for your help. I have already seen many similar topics on the Internet and here, but not a single proposed solution helped.\r\n\r\nThanks!\r\n","title":"HikariCP: Connection com.mysql.cj.jdbc.ConnectionImpl marked as broken because of SQLSTATE(08S01), ErrorCode(0) =&gt; Communications link failure","body":"<p>Help me to understand and solve this error. I've been trying to figure out different options for days/weeks now.\nI probably read everything that is on the Internet and tried all kinds of options and combinations. HikariCP refuses to work as expected.</p>\n<p>So, I have HikariCP-5.0.1 and MySQL 8.1</p>\n<p>Pods are located in Kubernetes in different namespaces. There are no proxies, firewalls or service meshes between them. And they are on the one single node.\nI run a task that runs 20-30 minutes. That is, at startup there is a connection to the database, then the logic works, and then I need to save the results in the database. It's simple case.</p>\n<h2>In the debug output I can see that Hikari pings the database every 30 seconds and says that everything is ok.</h2>\n<pre class=\"lang-bash prettyprint-override\"><code>06:35:52.890 [HikariPool-1 housekeeper] DEBUG [       com.zaxxer.hikari.pool.HikariPool:414.logPoolState()] - HikariPool-1 - Pool stats (total=10, active=1, idle=9, waiting=0) \n06:35:52.890 [HikariPool-1 housekeeper] DEBUG [       com.zaxxer.hikari.pool.HikariPool:521.fillPool()] - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0). \n</code></pre>\n<h2>Here are the HIkariCP settings in Spring Autoconfiguration:</h2>\n<pre><code>spring.datasource.hikari.jdbc-url=jdbc:mysql://mysql.mysql:3306/dev\nspring.datasource.type=com.zaxxer.hikari.HikariDataSource\nspring.datasource.hikari.username=${DB_USER}\nspring.datasource.hikari.password=${DB_PASSWORD}\nspring.datasource.hikari.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.hikari.data-source-properties.maxAllowedPacket=534773760\nspring.datasource.hikari.data-source-properties.allowPublicKeyRetrieval=YES\nspring.datasource.hikari.data-source-properties.useSSL=NO\nspring.datasource.hikari.connection-test-query=SELECT 1\n\n#This is my experiments, which i set in different combinations and values. Но данный пример я описываю со значениями, которые активны. Здесь только закомментированный пример.\n#To hold connection\n#spring.datasource.hikari.max-lifetime=120000\n#spring.datasource.hikari.validation-timeout=864000000\n#spring.datasource.hikari.data-source-properties.autoReconnect=true\n#Keep connection for 10 days\n#spring.datasource.hikari.keepalive-time=864000000\n#spring.datasource.hikari.idle-timeout=864000000\n#spring.datasource.hikari.validation-timeout=864000000\n</code></pre>\n<h2>Here are the HikariCP settings in debug mode:</h2>\n<pre class=\"lang-bash prettyprint-override\"><code>06:33:21.946 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:968.attemptFromContextLoader()] - Driver class org.hsqldb.jdbc.JDBCDriver found in Thread context class loader org.springframework.boot.loader.LaunchedURLClassLoader@7291c18f \n06:33:21.961 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:968.attemptFromContextLoader()] - Driver class com.mysql.cj.jdbc.Driver found in Thread context class loader org.springframework.boot.loader.LaunchedURLClassLoader@7291c18f \n06:33:22.070 [main] INFO  [rg.hibernate.jpa.internal.util.LogHelper:31.logPersistenceUnitInformation()] - HHH000204: Processing PersistenceUnitInfo [name: default] \nWaiting for starting Guardius Owasp Worker Agent...\n06:33:22.132 [main] INFO  [                   org.hibernate.Version:44.logVersion()] - HHH000412: Hibernate ORM core version 6.1.5.Final \n06:33:22.491 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1100.logConfiguration()] - HikariPool-1 - configuration: \n06:33:22.493 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - allowPoolSuspension.............false \n06:33:22.493 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - autoCommit......................true \n06:33:22.493 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - catalog.........................none \n06:33:22.493 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - connectionInitSql...............none \n06:33:22.494 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - connectionTestQuery.............&quot;SELECT 1&quot; \n06:33:22.494 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - connectionTimeout...............30000 \n06:33:22.494 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - dataSource......................none \n06:33:22.494 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - dataSourceClassName.............none \n06:33:22.495 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - dataSourceJNDI..................none \n06:33:22.495 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - dataSourceProperties............{maxAllowedPacket=534773760, password=&lt;masked&gt;, allowPublicKeyRetrieval=YES, useSSL=NO} \n06:33:22.495 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - driverClassName.................&quot;com.mysql.cj.jdbc.Driver&quot; \n06:33:22.495 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - exceptionOverrideClassName......none \n06:33:22.496 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - healthCheckProperties...........{} \n06:33:22.496 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - healthCheckRegistry.............none \n06:33:22.496 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - idleTimeout.....................600000 \n06:33:22.496 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - initializationFailTimeout.......1 \n06:33:22.497 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - isolateInternalQueries..........false \n06:33:22.497 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - jdbcUrl.........................jdbc:mysql://mysql.mysql:3306/dev \n06:33:22.497 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - keepaliveTime...................0 \n06:33:22.497 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - leakDetectionThreshold..........0 \n06:33:22.497 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - maxLifetime.....................1800000 \n06:33:22.498 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - maximumPoolSize.................10 \n06:33:22.498 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - metricRegistry..................none \n06:33:22.498 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - metricsTrackerFactory...........none \n06:33:22.498 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - minimumIdle.....................10 \n06:33:22.498 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - password........................&lt;masked&gt; \n06:33:22.498 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - poolName........................&quot;HikariPool-1&quot; \n06:33:22.498 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - readOnly........................false \n06:33:22.499 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - registerMbeans..................false \n06:33:22.499 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - scheduledExecutor...............none \n06:33:22.499 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - schema..........................none \n06:33:22.499 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - threadFactory...................internal \n06:33:22.499 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - transactionIsolation............default \n06:33:22.500 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - username........................&quot;dev&quot; \n06:33:22.500 [main] DEBUG [          com.zaxxer.hikari.HikariConfig:1132.logConfiguration()] - validationTimeout...............5000 \n06:33:22.500 [main] INFO  [      com.zaxxer.hikari.HikariDataSource:110.getConnection()] - HikariPool-1 - Starting... \n06:33:22.720 [main] INFO  [       com.zaxxer.hikari.pool.HikariPool:565.checkFailFast()] - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@61e7bf2f \n06:33:22.722 [main] INFO  [      com.zaxxer.hikari.HikariDataSource:123.getConnection()] - HikariPool-1 - Start completed. \n06:33:22.744 [main] INFO  [                             SQL dialect:66.logSelectedDialect()] - HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect \n06:33:22.822 [HikariPool-1 housekeeper] DEBUG [       com.zaxxer.hikari.pool.HikariPool:414.logPoolState()] - HikariPool-1 - Pool stats (total=1, active=0, idle=1, waiting=0) \n.....\n06:33:22.939 [HikariPool-1 connection adder] DEBUG [       com.zaxxer.hikari.pool.HikariPool:414.logPoolState()] - HikariPool-1 - After adding stats (total=10, active=0, idle=10, waiting=0) \n</code></pre>\n<h2>Here is my my.cnf:</h2>\n<pre class=\"lang-ini prettyprint-override\"><code>[mysqld]\ndefault_authentication_plugin=mysql_native_password\nskip-name-resolve\nexplicit_defaults_for_timestamp\nbasedir=/opt/bitnami/mysql\nplugin_dir=/opt/bitnami/mysql/lib/plugin\nport=3306\nsocket=/opt/bitnami/mysql/tmp/mysql.sock\ndatadir=/bitnami/mysql/data\ntmpdir=/opt/bitnami/mysql/tmp\nmax_allowed_packet=512M\nbind-address=*\npid-file=/opt/bitnami/mysql/tmp/mysqld.pid\nlog-error=/opt/bitnami/mysql/logs/mysqld.log\ncharacter-set-server=UTF8\ncollation-server=utf8_general_ci\nslow_query_log=0\nslow_query_log_file=/opt/bitnami/mysql/logs/mysqld.log\nlong_query_time=10.0\ndefault-time-zone = '+02:00'\nwait_timeout=2592000\ninteractive_timeout=2592000\n\n[client]\nport=3306\nsocket=/opt/bitnami/mysql/tmp/mysql.sock\ndefault-character-set=UTF8\nplugin_dir=/opt/bitnami/mysql/lib/plugin\n\n[manager]\nport=3306\nsocket=/opt/bitnami/mysql/tmp/mysql.sock\npid-file=/opt/bitnami/mysql/tmp/mysqld.pid\n</code></pre>\n<h2>Here are the results of the database queries:</h2>\n<p><strong>show global variables LIKE &quot;%timeout%&quot;;</strong>\n<img src=\"https://github.com/brettwooldridge/HikariCP/assets/1653372/ebe56b22-d73d-4c61-bac1-ee298947eeb5\" alt=\"image\" /></p>\n<p><strong>show global variables LIKE &quot;%wait%&quot;;</strong>\n<img src=\"https://github.com/brettwooldridge/HikariCP/assets/1653372/206e6023-58f1-41db-8bbc-55e5b64bd0c0\" alt=\"image\" /></p>\n<p><strong>show global variables LIKE &quot;%conn%&quot;;</strong>\n<img src=\"https://github.com/brettwooldridge/HikariCP/assets/1653372/43ef98c1-1db3-45e5-bcf8-e0a11f465ce5\" alt=\"image\" /></p>\n<h2>Here is the complete Stacktrace::</h2>\n<pre class=\"lang-bash prettyprint-override\"><code>06:53:46.114 [http-nio-0.0.0.0-9999-exec-2] WARN  [  com.zaxxer.hikari.pool.ProxyConnection:177.checkException()] - HikariPool-1 - Connection com.mysql.cj.jdbc.ConnectionImpl@61e7bf2f marked as broken because of SQLSTATE(08S01), ErrorCode(0) \n\ncom.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n\nThe last packet successfully received from the server was 1,214,276 milliseconds ago. The last packet sent successfully to the server was 1,214,276 milliseconds ago.\n    at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)\n    at com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2050)\n    at com.zaxxer.hikari.pool.ProxyConnection.setAutoCommit(ProxyConnection.java:401)\n    at com.zaxxer.hikari.pool.HikariProxyConnection.setAutoCommit(HikariProxyConnection.java)\n    at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.begin(AbstractLogicalConnectionImplementor.java:72)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:276)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:246)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:164)\n    at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:421)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\n    at org.springframework.retry.interceptor.RetryOperationsInterceptor$1.doWithRetry(RetryOperationsInterceptor.java:102)\n    at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:329)\n    at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:209)\n    at org.springframework.retry.interceptor.RetryOperationsInterceptor.invoke(RetryOperationsInterceptor.java:135)\n    at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:160)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n    at io.my.services.StorageService$$SpringCGLIB$$0.saveReport(&lt;generated&gt;)\n    at io.my.services.ReportService.persistsReports(ReportService.java:110)\n    at io.my.services.MyActiveScanService.activeScan(MyActiveScanService.java:219)\n    at io.my.controllers.MyController.activeAttack(MyController.java:35)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:895)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:705)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:741)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\n\nThe last packet successfully received from the server was 1,214,276 milliseconds ago. The last packet sent successfully to the server was 1,214,276 milliseconds ago.\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)\n    at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)\n    at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:581)\n    at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:761)\n    at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:700)\n    at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:1051)\n    at com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:997)\n    at com.mysql.cj.NativeSession.execSQL(NativeSession.java:663)\n    at com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2033)\n    ... 80 common frames omitted\nCaused by: java.net.SocketException: Connection reset\n    at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:313)\n    at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:340)\n    at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:789)\n    at java.base/java.net.Socket$SocketInputStream.read(Socket.java:1025)\n    at com.mysql.cj.protocol.ReadAheadInputStream.fill(ReadAheadInputStream.java:107)\n    at com.mysql.cj.protocol.ReadAheadInputStream.readFromUnderlyingStreamIfNecessary(ReadAheadInputStream.java:150)\n    at com.mysql.cj.protocol.ReadAheadInputStream.read(ReadAheadInputStream.java:180)\n    at java.base/java.io.FilterInputStream.read(FilterInputStream.java:119)\n    at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64)\n    at com.mysql.cj.protocol.a.SimplePacketReader.readHeaderLocal(SimplePacketReader.java:81)\n    at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)\n    at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)\n    at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52)\n    at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41)\n    at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54)\n    at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44)\n    at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:575)\n    ... 86 common frames omitted\n06:53:46.116 [HikariPool-1 connection closer] DEBUG [         com.zaxxer.hikari.pool.PoolBase:132.quietlyCloseConnection()] - HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@61e7bf2f: (connection is broken) \n06:53:46.167 [HikariPool-1 connection adder] DEBUG [       com.zaxxer.hikari.pool.HikariPool:738.call()] - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@28017506 \n06:53:50.118 [http-nio-0.0.0.0-9999-exec-2] ERROR [my.services.MyActiveScanService:226.activeScan()] - =#= Execution Error. RunId=53. Error=Could not open JPA EntityManager for transaction \norg.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction\n    at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\n    at org.springframework.retry.interceptor.RetryOperationsInterceptor$1.doWithRetry(RetryOperationsInterceptor.java:102)\n    at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:329)\n    at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:209)\n    at org.springframework.retry.interceptor.RetryOperationsInterceptor.invoke(RetryOperationsInterceptor.java:135)\n    at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:160)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n    at io.my.services.StorageService$$SpringCGLIB$$0.saveReport(&lt;generated&gt;)\n    at io.my.services.ReportService.persistsReports(ReportService.java:110)\n    at io.my.services.MyActiveScanService.activeScan(MyActiveScanService.java:219)\n    at io.my.controllers.MyController.activeAttack(MyController.java:35)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:895)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:705)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at \n\n....\n\norg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\nCaused by: org.hibernate.TransactionException: JDBC begin transaction failed: \n    at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.begin(AbstractLogicalConnectionImplementor.java:78)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:276)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:246)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:164)\n    at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:421)\n    ... 72 common frames omitted\nCaused by: java.sql.SQLException: Connection is closed\n    at com.zaxxer.hikari.pool.ProxyConnection$ClosedConnection.lambda$getClosedConnection$0(ProxyConnection.java:502)\n    at jdk.proxy3/jdk.proxy3.$Proxy127.setAutoCommit(Unknown Source)\n    at com.zaxxer.hikari.pool.ProxyConnection.setAutoCommit(ProxyConnection.java:401)\n    at com.zaxxer.hikari.pool.HikariProxyConnection.setAutoCommit(HikariProxyConnection.java)\n    at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.begin(AbstractLogicalConnectionImplementor.java:72)\n    ... 77 common frames omitted\n\n</code></pre>\n<h2>Here is the application start and its end time.</h2>\n<pre><code>startedAt: '2023-10-02T04:33:05Z'\nfinishedAt: '2023-10-02T04:53:52Z'\n</code></pre>\n<p>Almost 21 minutes in total.</p>\n<p>As you can see from the stacktrace message, the last successful connection to the database was <strong>1,214,276 milliseconds ago</strong>, which is equivalent to <strong>20.2379 minutes</strong>.</p>\n<p>And I think that this is some kind of incomprehensible bug, because I have a running application for clients and it works great, there are no glitches. With the same settings and versions.</p>\n<p>I would be grateful for your help. I have already seen many similar topics on the Internet and here, but not a single proposed solution helped.</p>\n<p>Thanks!</p>\n"},{"tags":["java","jquery","ajax","spring-mvc"],"comments":[{"owner":{"account_id":375036,"reputation":3318,"user_id":725619,"accept_rate":53,"display_name":"RKodakandla"},"score":1,"creation_date":1425598769,"post_id":28889074,"comment_id":46040781,"body_markdown":"Are you seeing this `*****&lt;id&gt;`  in the console when you make the ajax request? I think your requests are not reaching the controller.","body":"Are you seeing this <code>*****&lt;id&gt;</code>  in the console when you make the ajax request? I think your requests are not reaching the controller."},{"owner":{"account_id":2200566,"reputation":209,"user_id":1945064,"accept_rate":67,"display_name":"user1945064"},"score":0,"creation_date":1425615879,"post_id":28889074,"comment_id":46045260,"body_markdown":"yes id is getting printed...its going inside the controller but not returning from there.... if i change the return type as string instead of list it returns success but when i am trying to retrieve list from controller method as response, it&#39;s not workin","body":"yes id is getting printed...its going inside the controller but not returning from there.... if i change the return type as string instead of list it returns success but when i am trying to retrieve list from controller method as response, it&#39;s not workin"},{"owner":{"account_id":375036,"reputation":3318,"user_id":725619,"accept_rate":53,"display_name":"RKodakandla"},"score":0,"creation_date":1425616609,"post_id":28889074,"comment_id":46045426,"body_markdown":"Do you see anything in the console? Are there any errors for message conversion, unsupported media etc? Did you register jackson message converters in your Spring config file? Post the Config file here.","body":"Do you see anything in the console? Are there any errors for message conversion, unsupported media etc? Did you register jackson message converters in your Spring config file? Post the Config file here."},{"owner":{"account_id":2200566,"reputation":209,"user_id":1945064,"accept_rate":67,"display_name":"user1945064"},"score":0,"creation_date":1425619763,"post_id":28889074,"comment_id":46046155,"body_markdown":"yes i have added jackson mapper in the dispatcher-servlet:","body":"yes i have added jackson mapper in the dispatcher-servlet:"},{"owner":{"account_id":2200566,"reputation":209,"user_id":1945064,"accept_rate":67,"display_name":"user1945064"},"score":0,"creation_date":1425619777,"post_id":28889074,"comment_id":46046160,"body_markdown":"&lt;mvc:annotation-driven ignore-default-model-on-redirect=&quot;true&quot;&gt;\n    &lt;mvc:message-converters&gt;\n        &lt;bean class=&quot;org.springframework.http.converter.ResourceHttpMessageConverter&quot;/&gt;\n        &lt;bean class=&quot;org.springframework.http.converter.xml.Jaxb2RootElementHttpMessageConverter&quot;/&gt;\n        &lt;bean class=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;/&gt;\n    &lt;/mvc:message-converters&gt;\n&lt;/mvc:annotation-driven&gt;","body":"&lt;mvc:annotation-driven ignore-default-model-on-redirect=&quot;true&quot;&gt;     &lt;mvc:message-converters&gt;         &lt;bean class=&quot;org.springframework.http.converter.ResourceHttpMessag&zwnj;&#8203;eConverter&quot;/&gt;         &lt;bean class=&quot;org.springframework.http.converter.xml.Jaxb2RootEleme&zwnj;&#8203;ntHttpMessageConvert&zwnj;&#8203;er&quot;/&gt;         &lt;bean class=&quot;org.springframework.http.converter.json.MappingJackso&zwnj;&#8203;n2HttpMessageConvert&zwnj;&#8203;er&quot;/&gt;     &lt;/mvc:message-converters&gt; &lt;/mvc:annotation-driven&gt;"},{"owner":{"account_id":2200566,"reputation":209,"user_id":1945064,"accept_rate":67,"display_name":"user1945064"},"score":0,"creation_date":1425619794,"post_id":28889074,"comment_id":46046163,"body_markdown":"the error i am getting is &quot;Not Acceptable&quot;","body":"the error i am getting is &quot;Not Acceptable&quot;"},{"owner":{"account_id":375036,"reputation":3318,"user_id":725619,"accept_rate":53,"display_name":"RKodakandla"},"score":0,"creation_date":1425647186,"post_id":28889074,"comment_id":46057973,"body_markdown":"Can you post the entire stack trace...from the moment the request is sent from the browser?","body":"Can you post the entire stack trace...from the moment the request is sent from the browser?"},{"owner":{"account_id":375036,"reputation":3318,"user_id":725619,"accept_rate":53,"display_name":"RKodakandla"},"score":0,"creation_date":1425647400,"post_id":28889074,"comment_id":46058084,"body_markdown":"Also, try setting contentType in the ajax request. `$.ajax({\n    type : &quot;GET&quot;,\n    url : &#39;abc.html&#39;,\n    contentType: &quot;application/json; charset=utf-8&quot;,\n    dataType: &quot;json&quot;,\n   ...........................});`","body":"Also, try setting contentType in the ajax request. <code>$.ajax({     type : &quot;GET&quot;,     url : &#39;abc.html&#39;,     contentType: &quot;application&#47;json; charset=utf-8&quot;,     dataType: &quot;json&quot;,    ...........................});</code>"}],"answers":[{"comments":[{"owner":{"account_id":2793421,"reputation":82,"user_id":2403185,"display_name":"Bouhanef"},"score":0,"creation_date":1425595729,"post_id":28889241,"comment_id":46039600,"body_markdown":"And in the debug browser, what is the result?","body":"And in the debug browser, what is the result?"},{"owner":{"account_id":2200566,"reputation":209,"user_id":1945064,"accept_rate":67,"display_name":"user1945064"},"score":0,"creation_date":1425596557,"post_id":28889241,"comment_id":46039967,"body_markdown":"i checked adding error, it returns error, is there anyway to check the reason?","body":"i checked adding error, it returns error, is there anyway to check the reason?"}],"tags":[],"owner":{"account_id":2793421,"reputation":82,"user_id":2403185,"display_name":"Bouhanef"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425595326,"creation_date":1425595326,"answer_id":28889241,"question_id":28889074,"body_markdown":"Your method should return directly the list, as a json, no need to put it in the model and return the model. Also check if you have an error in your callback ajax. ","title":"Returning model object from Controller to Ajax jquery not working in Spring mvc","body":"<p>Your method should return directly the list, as a json, no need to put it in the model and return the model. Also check if you have an error in your callback ajax. </p>\n"},{"tags":[],"owner":{"account_id":3481337,"reputation":3254,"user_id":2913306,"accept_rate":100,"display_name":"wahwahwah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425662986,"creation_date":1425662678,"answer_id":28904216,"question_id":28889074,"body_markdown":"You are specifying `dataType: &#39;JSON&#39;` in your ajax call, but you are not converting your response object (model) to json in your controller.\r\n\r\nFrom the jQuery [ajax documentation][1] for `dataType` setting:\r\n\r\n&gt; The type of data that you&#39;re expecting back from the server. If none is specified, jQuery will try to infer it based on the MIME type of the response (an XML MIME type will yield XML, in 1.4 JSON will yield a JavaScript object, in 1.4 script will execute the script, and anything else will be returned as a string)\r\n\r\nYou&#39;ll probably want to reference a json serializer (unless you want to write your own) - but the important part is serializing your `model` to json in your response. For example (using [json-io][2]):\r\n\r\n    String jsonModel = JsonWriter.objectToJson(model);\r\n    return jsonModel;\r\n\r\nYou can then access the string array contained in your json response object in the following way:\r\n\r\n\r\n    success : function(data) {\r\n         for (i = 0; i &lt; data.list1.length; i++){\r\n              alert(data.list1[i]);\r\n         }\r\n    }\r\n\r\n\r\nAnd a fiddle example for [reading json objects][3]\r\n\r\n\r\n\r\n  [1]: http://api.jquery.com/jquery.ajax/\r\n  [2]: https://github.com/jdereg/json-io\r\n  [3]: http://jsfiddle.net/86cwvw9f/3/","title":"Returning model object from Controller to Ajax jquery not working in Spring mvc","body":"<p>You are specifying <code>dataType: 'JSON'</code> in your ajax call, but you are not converting your response object (model) to json in your controller.</p>\n\n<p>From the jQuery <a href=\"http://api.jquery.com/jquery.ajax/\" rel=\"nofollow\">ajax documentation</a> for <code>dataType</code> setting:</p>\n\n<blockquote>\n  <p>The type of data that you're expecting back from the server. If none is specified, jQuery will try to infer it based on the MIME type of the response (an XML MIME type will yield XML, in 1.4 JSON will yield a JavaScript object, in 1.4 script will execute the script, and anything else will be returned as a string)</p>\n</blockquote>\n\n<p>You'll probably want to reference a json serializer (unless you want to write your own) - but the important part is serializing your <code>model</code> to json in your response. For example (using <a href=\"https://github.com/jdereg/json-io\" rel=\"nofollow\">json-io</a>):</p>\n\n<pre><code>String jsonModel = JsonWriter.objectToJson(model);\nreturn jsonModel;\n</code></pre>\n\n<p>You can then access the string array contained in your json response object in the following way:</p>\n\n<pre><code>success : function(data) {\n     for (i = 0; i &lt; data.list1.length; i++){\n          alert(data.list1[i]);\n     }\n}\n</code></pre>\n\n<p>And a fiddle example for <a href=\"http://jsfiddle.net/86cwvw9f/3/\" rel=\"nofollow\">reading json objects</a></p>\n"},{"tags":[],"owner":{"account_id":11187716,"reputation":31,"user_id":8209389,"display_name":"Mark.zxx"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544905735,"creation_date":1544894561,"answer_id":53795512,"question_id":28889074,"body_markdown":"I met this problem and it took me several hours to find out the problem.  \r\nJust remove &quot;Model model&quot; from your parameter.  \r\nUse a `Map&lt;String, String&gt;` or `Map&lt;String, Object&gt;` instead. ","title":"Returning model object from Controller to Ajax jquery not working in Spring mvc","body":"<p>I met this problem and it took me several hours to find out the problem.<br>\nJust remove \"Model model\" from your parameter.<br>\nUse a <code>Map&lt;String, String&gt;</code> or <code>Map&lt;String, Object&gt;</code> instead. </p>\n"},{"tags":[],"owner":{"account_id":5548613,"reputation":186,"user_id":4402505,"display_name":"Prem Kurian Philip"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599671995,"creation_date":1599671995,"answer_id":63816553,"question_id":28889074,"body_markdown":"Try adding the `produces = MediaType.APPLICATION_JSON` to the RequestMapping annotation\r\n\r\n\r\n    @RequestMapping(method=RequestMethod.GET, value=&quot;/abc&quot;, produces = MediaType.APPLICATION_JSON)\r\n\r\nAlso, you may not need the Model paramater in the method.","title":"Returning model object from Controller to Ajax jquery not working in Spring mvc","body":"<p>Try adding the <code>produces = MediaType.APPLICATION_JSON</code> to the RequestMapping annotation</p>\n<pre><code>@RequestMapping(method=RequestMethod.GET, value=&quot;/abc&quot;, produces = MediaType.APPLICATION_JSON)\n</code></pre>\n<p>Also, you may not need the Model paramater in the method.</p>\n"}],"owner":{"account_id":2200566,"reputation":209,"user_id":1945064,"accept_rate":67,"display_name":"user1945064"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12407,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1696306061,"creation_date":1425594640,"question_id":28889074,"body_markdown":"I am trying to return a model object from spring mvc controller back to jquery ajax method but it is returning blank as the response\r\n\r\njsp:\r\n\r\n    $( &quot;#dialog-link10&quot; ).click(function( event ) {\r\n\tvar appname= $(&quot;#dialog-link10&quot;).text();\r\n\talert(appname);\r\n\tif(appname == &#39;RS Applications&#39;) {\r\n\t$.ajax({\r\n\t\ttype : &quot;GET&quot;,\r\n        url : &#39;abc.html&#39;,\r\n        dataType: &#39;JSON&#39; ,\r\n        data: \r\n            {&quot;id&quot; : $(&quot;#dialog-link10&quot;).text()}\r\n        ,\r\n        success : function(data) {\r\n            alert(&#39;success&#39;)\r\n            alert(&#39;data&#39;)\r\n            \r\n        }\r\n    });}\r\n\r\ncontroller:\r\n\r\n    @RequestMapping(method=RequestMethod.GET, value=&quot;/abc&quot;)\r\n\t@ResponseBody\r\n\tpublic  Model helloWorld2( @RequestParam(&quot;id&quot;) String id, Model model) {\r\n\t\t\r\n\t\tSystem.out.println(&quot;*****&quot;+id);\r\n\t\t\r\n\t\tList &lt;String&gt; list1=new ArrayList&lt;String&gt;();\r\n\t\tList &lt;String&gt; list2=new ArrayList&lt;String&gt;();\r\n\t\t\t\t\r\n\t\t\tSystem.out.println(&quot;here&quot;);\r\n\t\t\r\n\t\t\tlist1.add(&quot;abc&quot;);\r\n\t\t\tlist1.add(&quot;abc2&quot;);\r\n\t\t\tlist1.add(&quot;abc3&quot;);\r\n\t\t\tlist1.add(&quot;abc4&quot;);\r\n\t\r\n\t\t\tmodel.addAttribute(&quot;list1&quot;, list1);\r\n\t\t\t\r\n\t\t\treturn model;\r\n\t\t\t}\r\n\t\r\nThis is not generating success alert as well.\r\nPlease suggest","title":"Returning model object from Controller to Ajax jquery not working in Spring mvc","body":"<p>I am trying to return a model object from spring mvc controller back to jquery ajax method but it is returning blank as the response</p>\n\n<p>jsp:</p>\n\n<pre><code>$( \"#dialog-link10\" ).click(function( event ) {\nvar appname= $(\"#dialog-link10\").text();\nalert(appname);\nif(appname == 'RS Applications') {\n$.ajax({\n    type : \"GET\",\n    url : 'abc.html',\n    dataType: 'JSON' ,\n    data: \n        {\"id\" : $(\"#dialog-link10\").text()}\n    ,\n    success : function(data) {\n        alert('success')\n        alert('data')\n\n    }\n});}\n</code></pre>\n\n<p>controller:</p>\n\n<pre><code>@RequestMapping(method=RequestMethod.GET, value=\"/abc\")\n@ResponseBody\npublic  Model helloWorld2( @RequestParam(\"id\") String id, Model model) {\n\n    System.out.println(\"*****\"+id);\n\n    List &lt;String&gt; list1=new ArrayList&lt;String&gt;();\n    List &lt;String&gt; list2=new ArrayList&lt;String&gt;();\n\n        System.out.println(\"here\");\n\n        list1.add(\"abc\");\n        list1.add(\"abc2\");\n        list1.add(\"abc3\");\n        list1.add(\"abc4\");\n\n        model.addAttribute(\"list1\", list1);\n\n        return model;\n        }\n</code></pre>\n\n<p>This is not generating success alert as well.\nPlease suggest</p>\n"},{"tags":["java","sudoku","nested-for-loop"],"comments":[{"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"score":2,"creation_date":1696283016,"post_id":77218604,"comment_id":136130941,"body_markdown":"My guess is that there may be an issue with how the number of iterations is being counted causing multiple calls to be added together.","body":"My guess is that there may be an issue with how the number of iterations is being counted causing multiple calls to be added together."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1696283069,"post_id":77218604,"comment_id":136130946,"body_markdown":"@Locke: ah, my bad. Thank you.","body":"@Locke: ah, my bad. Thank you."},{"owner":{"account_id":9685245,"reputation":9531,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"score":2,"creation_date":1696283195,"post_id":77218604,"comment_id":136130962,"body_markdown":"The logic behind `grid[row + i][col + j] == grid[row + k][col + l] &amp;&amp; i != k &amp;&amp; j != l` seems incorrect. The box is invalid if a number appears twice. For that you don&#39;t need *both* `i != k` *and* `j != l`, you need `i != k` *or* `i != l`, so I think this should be `grid[row + i][col + j] == grid[row + k][col + l] &amp;&amp; (i != k || j != l)`, otherwise having the same number in the same row / column will be permitted (though arguably if you have another function that checks rows and columns, this doesn&#39;t matter).","body":"The logic behind <code>grid[row + i][col + j] == grid[row + k][col + l] &amp;&amp; i != k &amp;&amp; j != l</code> seems incorrect. The box is invalid if a number appears twice. For that you don&#39;t need <i>both</i> <code>i != k</code> <i>and</i> <code>j != l</code>, you need <code>i != k</code> <i>or</i> <code>i != l</code>, so I think this should be <code>grid[row + i][col + j] == grid[row + k][col + l] &amp;&amp; (i != k || j != l)</code>, otherwise having the same number in the same row / column will be permitted (though arguably if you have another function that checks rows and columns, this doesn&#39;t matter)."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696285858,"post_id":77218604,"comment_id":136131211,"body_markdown":"It is running 81 times. No two ways about it. If you believe otherwise please present your evidence or reasoning.","body":"It is running 81 times. No two ways about it. If you believe otherwise please present your evidence or reasoning."}],"answers":[{"tags":[],"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696284531,"creation_date":1696284531,"answer_id":77218708,"question_id":77218604,"body_markdown":"It looks like the code you have does not have any issues other than the logical problem pointed out by @Luatic. It seems likely that the code you use to measure the number of iterations may be to blame for the issue you are seeing.\r\n\r\nIf you are worried about the number of iterations and general performance, there are other options you can try though. For example, you could switch to an implementation that does not repeat comparisons such as this one which only performs 36 iterations. Fair warning though, I did not perform any benchmarks.\r\n```java\r\nboolean isValidBox(int row, int col) {\r\n    for (int i = 0; i &lt; 8; i++) {\r\n        int iRow = (i / 3) + row;\r\n        int iCol = (i % 3) + col;\r\n\r\n        for (int j = i + 1; j &lt; 9; j++) {\r\n            int jRow = (j / 3) + row;\r\n            int jCol = (j % 3) + col;\r\n\r\n            if (grid[iRow][iCol] == grid[jRow][jCol]) {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n\r\n    return true;\r\n}\r\n```\r\nAn even better solution is to only check for duplicates when updating a cell so you only need to do a single pass to search for the cell&#39;s new value.","title":"Why is the &#39;i&#39; variable incrementing weirdly?","body":"<p>It looks like the code you have does not have any issues other than the logical problem pointed out by @Luatic. It seems likely that the code you use to measure the number of iterations may be to blame for the issue you are seeing.</p>\n<p>If you are worried about the number of iterations and general performance, there are other options you can try though. For example, you could switch to an implementation that does not repeat comparisons such as this one which only performs 36 iterations. Fair warning though, I did not perform any benchmarks.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean isValidBox(int row, int col) {\n    for (int i = 0; i &lt; 8; i++) {\n        int iRow = (i / 3) + row;\n        int iCol = (i % 3) + col;\n\n        for (int j = i + 1; j &lt; 9; j++) {\n            int jRow = (j / 3) + row;\n            int jCol = (j % 3) + col;\n\n            if (grid[iRow][iCol] == grid[jRow][jCol]) {\n                return false;\n            }\n        }\n    }\n\n    return true;\n}\n</code></pre>\n<p>An even better solution is to only check for duplicates when updating a cell so you only need to do a single pass to search for the cell's new value.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696305302,"creation_date":1696296820,"answer_id":77219221,"question_id":77218604,"body_markdown":"&gt; _&quot;... I am trying to code a method that validates (in other words, checking for duplicates or out of range values) in the Sudoku &#39;box&#39; (which in this case would be 3x3 and inside of the entire Sudoku puzzle). ...&quot;_\r\n\r\nFor reference, the following question has some good answers to this problem.\\\r\n_[StackOverflow &amp;ndash; Java Sudoku Squares 3x3 Checking Validity](https://stackoverflow.com/questions/22746985/java-sudoku-squares-3x3-checking-validity)_\r\n\r\n&gt; _&quot;... I notice ... that the &#39;i&#39; variable is incrementing in a weird way. &#39;i&#39; is 0 when the for loop is first invoked, and then the next increment &#39;i&#39; is also 0, and the last increment &#39;i&#39; is 2. Not sure why it is going like that. Please let me know what I&#39;m doing wrong ...&quot;_\r\n\r\nView the _Sudoku_ grid as follows.\r\n\r\n```none\r\n0 0 0 1 1 1 2 2 2\r\n0 0 0 1 1 1 2 2 2\r\n0 0 0 1 1 1 2 2 2\r\n3 3 3 4 4 4 5 5 5\r\n3 3 3 4 4 4 5 5 5\r\n3 3 3 4 4 4 5 5 5\r\n6 6 6 7 7 7 8 8 8\r\n6 6 6 7 7 7 8 8 8\r\n6 6 6 7 7 7 8 8 8\r\n```\r\n\r\nTranslate the _row_ and _column_ to the upper-left index of the enclosing _&quot;box&quot;_.\\\r\nIn which, you can then iterate for 3 steps, 3 times, to evaluate _value_.\r\n\r\n```java\r\nboolean valid(int r, int c, int value) {\r\n    Function&lt;Integer, Integer&gt; f\r\n        = x -&gt; switch (x) {\r\n            case 0, 1, 2 -&gt; 0;\r\n            case 3, 4, 5 -&gt; (x / 3) + 2;\r\n            case 6, 7, 8 -&gt; (x / 3) + 4;\r\n            default -&gt; -1;\r\n        };\r\n    r = f.apply(r);\r\n    c = f.apply(c);\r\n    for(int i = r, j; i &lt; r + 3; i++)\r\n        for(j = c; j &lt; c + 3; j++)\r\n            if(grid[i][j] == value) return false;\r\n    return true;\r\n}\r\n```\r\n\r\nHere is an example, using a grid from _[Wikipedia](https://en.wikipedia.org/wiki/Sudoku)_.\r\n\r\n```java\r\ndouble[][] grid = {\r\n    { 5, 3, 0, 0, 7, 0, 0, 0, 0 },\r\n    { 6, 0, 0, 1, 9, 5, 0, 0, 0 },\r\n    { 0, 9, 8, 0, 0, 0, 0, 6, 0 },\r\n    { 8, 0, 0, 0, 6, 0, 0, 0, 3 },\r\n    { 4, 0, 0, 8, 0, 3, 0, 0, 1 },\r\n    { 7, 0, 0, 0, 2, 0, 0, 0, 6 },\r\n    { 0, 6, 0, 0, 0, 0, 2, 8, 0 },\r\n    { 0, 0, 0, 4, 1, 9, 0, 0, 5 },\r\n    { 0, 0, 0, 0, 8, 0, 0, 7, 9 }\r\n};\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nvalid(0, 2, 4) = true\r\nvalid(0, 2, 5) = false\r\n```","title":"Why is the &#39;i&#39; variable incrementing weirdly?","body":"<blockquote>\n<p><em>&quot;... I am trying to code a method that validates (in other words, checking for duplicates or out of range values) in the Sudoku 'box' (which in this case would be 3x3 and inside of the entire Sudoku puzzle). ...&quot;</em></p>\n</blockquote>\n<p>For reference, the following question has some good answers to this problem.<br />\n<em><a href=\"https://stackoverflow.com/questions/22746985/java-sudoku-squares-3x3-checking-validity\">StackOverflow – Java Sudoku Squares 3x3 Checking Validity</a></em></p>\n<blockquote>\n<p><em>&quot;... I notice ... that the 'i' variable is incrementing in a weird way. 'i' is 0 when the for loop is first invoked, and then the next increment 'i' is also 0, and the last increment 'i' is 2. Not sure why it is going like that. Please let me know what I'm doing wrong ...&quot;</em></p>\n</blockquote>\n<p>View the <em>Sudoku</em> grid as follows.</p>\n<pre class=\"lang-none prettyprint-override\"><code>0 0 0 1 1 1 2 2 2\n0 0 0 1 1 1 2 2 2\n0 0 0 1 1 1 2 2 2\n3 3 3 4 4 4 5 5 5\n3 3 3 4 4 4 5 5 5\n3 3 3 4 4 4 5 5 5\n6 6 6 7 7 7 8 8 8\n6 6 6 7 7 7 8 8 8\n6 6 6 7 7 7 8 8 8\n</code></pre>\n<p>Translate the <em>row</em> and <em>column</em> to the upper-left index of the enclosing <em>&quot;box&quot;</em>.<br />\nIn which, you can then iterate for 3 steps, 3 times, to evaluate <em>value</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean valid(int r, int c, int value) {\n    Function&lt;Integer, Integer&gt; f\n        = x -&gt; switch (x) {\n            case 0, 1, 2 -&gt; 0;\n            case 3, 4, 5 -&gt; (x / 3) + 2;\n            case 6, 7, 8 -&gt; (x / 3) + 4;\n            default -&gt; -1;\n        };\n    r = f.apply(r);\n    c = f.apply(c);\n    for(int i = r, j; i &lt; r + 3; i++)\n        for(j = c; j &lt; c + 3; j++)\n            if(grid[i][j] == value) return false;\n    return true;\n}\n</code></pre>\n<p>Here is an example, using a grid from <em><a href=\"https://en.wikipedia.org/wiki/Sudoku\" rel=\"nofollow noreferrer\">Wikipedia</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>double[][] grid = {\n    { 5, 3, 0, 0, 7, 0, 0, 0, 0 },\n    { 6, 0, 0, 1, 9, 5, 0, 0, 0 },\n    { 0, 9, 8, 0, 0, 0, 0, 6, 0 },\n    { 8, 0, 0, 0, 6, 0, 0, 0, 3 },\n    { 4, 0, 0, 8, 0, 3, 0, 0, 1 },\n    { 7, 0, 0, 0, 2, 0, 0, 0, 6 },\n    { 0, 6, 0, 0, 0, 0, 2, 8, 0 },\n    { 0, 0, 0, 4, 1, 9, 0, 0, 5 },\n    { 0, 0, 0, 0, 8, 0, 0, 7, 9 }\n};\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>valid(0, 2, 4) = true\nvalid(0, 2, 5) = false\n</code></pre>\n"}],"owner":{"account_id":29583937,"reputation":13,"user_id":22673070,"display_name":"yanasf"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1696304714,"accepted_answer_id":77218708,"answer_count":2,"score":-3,"last_activity_date":1696305302,"creation_date":1696282736,"question_id":77218604,"body_markdown":"Given a 9x9 Sudoku grid with a valid solution. \r\n\r\nI am trying to code a method that validates (in other words, checking for duplicates or out of range values) in the Sudoku &#39;box&#39; (which in this case would be 3x3 and inside of the entire Sudoku puzzle). I want each index inside the 3x3 grid to check with other values and see if the values are equal, if they are then the 3x3 would be invalid. However, I notice (if I am not wrong) that the &#39;i&#39; variable is incrementing in a weird way. &#39;i&#39; is 0 when the for loop is first invoked, and then the next increment &#39;i&#39; is also 0, and the last increment &#39;i&#39; is 2. Not sure why it is going like that. Please let me know what I&#39;m doing wrong \r\n\r\n\r\n```\t\r\npublic boolean isValidBox(int row, int col) {\r\n\t\t for (int i = 0; i &lt; 3; i++) {\r\n\t\t\t for (int j = 0; j &lt; 3; j++) {\r\n\t\t\t\t for (int k = 0; k &lt; 3; k++) {\r\n\t\t\t\t\t for (int l = 0; l &lt; 3; l++) {\r\n\t\t\t\t\t\t if (grid[row + i][col + j] == grid[row + k][col + l] &amp;&amp; i != k &amp;&amp; j != l) {\r\n\t\t\t\t\t\t\t return false;\r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t }\r\n\t\t\t\t }\r\n\t\t\t }\r\n\t\t }\r\n\t\t  return true;\r\n\t}\r\n```\r\n\r\nI&#39;m expecting the code to make 81 checks, in other words, I am expecting the code in this line \r\n\r\n```\r\nif (grid[row + i][col + j] == grid[row + k][col + l] &amp;&amp; i != k &amp;&amp; j != l)\r\n```\r\nto run 81 times, but it&#39;s not doing that and I think it&#39;s running 243; 81*3 more times. \r\n\r\nThank you so much.\r\n\r\n\r\n","title":"Why is the &#39;i&#39; variable incrementing weirdly?","body":"<p>Given a 9x9 Sudoku grid with a valid solution.</p>\n<p>I am trying to code a method that validates (in other words, checking for duplicates or out of range values) in the Sudoku 'box' (which in this case would be 3x3 and inside of the entire Sudoku puzzle). I want each index inside the 3x3 grid to check with other values and see if the values are equal, if they are then the 3x3 would be invalid. However, I notice (if I am not wrong) that the 'i' variable is incrementing in a weird way. 'i' is 0 when the for loop is first invoked, and then the next increment 'i' is also 0, and the last increment 'i' is 2. Not sure why it is going like that. Please let me know what I'm doing wrong</p>\n<pre><code>public boolean isValidBox(int row, int col) {\n         for (int i = 0; i &lt; 3; i++) {\n             for (int j = 0; j &lt; 3; j++) {\n                 for (int k = 0; k &lt; 3; k++) {\n                     for (int l = 0; l &lt; 3; l++) {\n                         if (grid[row + i][col + j] == grid[row + k][col + l] &amp;&amp; i != k &amp;&amp; j != l) {\n                             return false;\n                         }\n                     }\n                 }\n             }\n         }\n          return true;\n    }\n</code></pre>\n<p>I'm expecting the code to make 81 checks, in other words, I am expecting the code in this line</p>\n<pre><code>if (grid[row + i][col + j] == grid[row + k][col + l] &amp;&amp; i != k &amp;&amp; j != l)\n</code></pre>\n<p>to run 81 times, but it's not doing that and I think it's running 243; 81*3 more times.</p>\n<p>Thank you so much.</p>\n"},{"tags":["java","jms","wildfly","apollo"],"answers":[{"tags":[],"owner":{"account_id":2229471,"reputation":249,"user_id":1967453,"accept_rate":75,"display_name":"John Dalton"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459854061,"creation_date":1459854061,"answer_id":36424556,"question_id":36125891,"body_markdown":"Is this post any help?\r\nhttps://docs.jboss.org/author/display/WFLY10/Connect+a+pooled-connection-factory+to+a+Remote+Artemis+Server\r\n\r\nI was able to use an external artermis broker (not the Wildfly container) following the above example.","title":"How to add external messaging broker to Wildfly?","body":"<p>Is this post any help?\n<a href=\"https://docs.jboss.org/author/display/WFLY10/Connect+a+pooled-connection-factory+to+a+Remote+Artemis+Server\" rel=\"nofollow\">https://docs.jboss.org/author/display/WFLY10/Connect+a+pooled-connection-factory+to+a+Remote+Artemis+Server</a></p>\n\n<p>I was able to use an external artermis broker (not the Wildfly container) following the above example.</p>\n"}],"owner":{"account_id":2020818,"reputation":207,"user_id":2044546,"accept_rate":92,"display_name":"Ismail Sensei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":816,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696304015,"creation_date":1458547991,"question_id":36125891,"body_markdown":"I&#39;m using WildFly to deploy an EJB war that use an external messaging broker (i.e. Apollo) not the the one that come with WildFly (i.e. ActiveMQ Artemis).\r\n\r\nWhat must I do to setup a JNDI configuration in `standalone-full.xml` file? There isn&#39;t any helpful tutorial to do this, and I don&#39;t know what exactly I need to change in the configuration to make this happen?\r\n\r\n","title":"How to add external messaging broker to Wildfly?","body":"<p>I'm using WildFly to deploy an EJB war that use an external messaging broker (i.e. Apollo) not the the one that come with WildFly (i.e. ActiveMQ Artemis).</p>\n<p>What must I do to setup a JNDI configuration in <code>standalone-full.xml</code> file? There isn't any helpful tutorial to do this, and I don't know what exactly I need to change in the configuration to make this happen?</p>\n"},{"tags":["java","spring-boot","apache-camel","activemq","apache-zookeeper"],"comments":[{"owner":{"account_id":157630,"reputation":17688,"user_id":375722,"display_name":"Tim Bish"},"score":1,"creation_date":1569590003,"post_id":58130933,"comment_id":102657275,"body_markdown":"LevelDB in ActiveMQ is deprecated and not supported, I would not consider using it in a production environment.","body":"LevelDB in ActiveMQ is deprecated and not supported, I would not consider using it in a production environment."},{"owner":{"account_id":1027254,"reputation":188,"user_id":1036299,"accept_rate":100,"display_name":"ehmkey"},"score":0,"creation_date":1569623191,"post_id":58130933,"comment_id":102669909,"body_markdown":"@Tim Bish, thank you for you hint. I&#39;ll try to configure with KahaDB.","body":"@Tim Bish, thank you for you hint. I&#39;ll try to configure with KahaDB."}],"answers":[{"comments":[{"owner":{"account_id":1027254,"reputation":188,"user_id":1036299,"accept_rate":100,"display_name":"ehmkey"},"score":0,"creation_date":1569623409,"post_id":58137924,"comment_id":102669957,"body_markdown":"Thank you to Share your experience. Network of brokers  sounds interesting but I&#39;ll try with Broker XML configuration first.","body":"Thank you to Share your experience. Network of brokers  sounds interesting but I&#39;ll try with Broker XML configuration first."}],"tags":[],"owner":{"account_id":10933061,"reputation":6811,"user_id":8035582,"accept_rate":100,"display_name":"burki"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1569599880,"creation_date":1569599880,"answer_id":58137924,"question_id":58130933,"body_markdown":"Uh oh, as mentioned in the comments, **take care with the Level DB stuff** since it is **deprecated**. Only use it if you have tested it thoroughly! In our tests, it was running quite nice. But when the level DB was, for whatever reason, corrupted, the data was lost. **We were never able to restore a Level DB**. Not very nice for production.\r\n\r\nAnd **don&#39;t even think about NFS based solutions**. NFS is really not suited for this, we had a lot of issues in our tests. We often managed it for example to have multiple masters or no masters at all. So we gave it up. \r\n\r\nIn the end we are using a **plain single broker** because the complexity of solving issues in master/slave or replication setups can be quite high. And we had almost never any unplanned downtimes despite our &quot;single point of failure&quot;. \r\n\r\nHowever, a bunch of people told me that a **network of brokers** works quite well to have a redundant setup. At least one of them was talking about a really big environment.\r\n\r\nWell, this is **not really an answer to your question**, isn&#39;t it?\r\n\r\nYou can put **Camel routes beside the broker XML configuration** and these routes then run inside the ActiveMQ process. [See here for an example][1]. \r\n\r\nIf you want to build a SpringBoot app to run the Broker, you simply need to make the **Camel context available in Spring** and it should be picked up. \r\n\r\n  [1]: https://activemq.apache.org/sample-camel-routes","title":"How to use Apache Camel in Clustered Environment with Zookeeper and ActiveMQ","body":"<p>Uh oh, as mentioned in the comments, <strong>take care with the Level DB stuff</strong> since it is <strong>deprecated</strong>. Only use it if you have tested it thoroughly! In our tests, it was running quite nice. But when the level DB was, for whatever reason, corrupted, the data was lost. <strong>We were never able to restore a Level DB</strong>. Not very nice for production.</p>\n\n<p>And <strong>don't even think about NFS based solutions</strong>. NFS is really not suited for this, we had a lot of issues in our tests. We often managed it for example to have multiple masters or no masters at all. So we gave it up. </p>\n\n<p>In the end we are using a <strong>plain single broker</strong> because the complexity of solving issues in master/slave or replication setups can be quite high. And we had almost never any unplanned downtimes despite our \"single point of failure\". </p>\n\n<p>However, a bunch of people told me that a <strong>network of brokers</strong> works quite well to have a redundant setup. At least one of them was talking about a really big environment.</p>\n\n<p>Well, this is <strong>not really an answer to your question</strong>, isn't it?</p>\n\n<p>You can put <strong>Camel routes beside the broker XML configuration</strong> and these routes then run inside the ActiveMQ process. <a href=\"https://activemq.apache.org/sample-camel-routes\" rel=\"nofollow noreferrer\">See here for an example</a>. </p>\n\n<p>If you want to build a SpringBoot app to run the Broker, you simply need to make the <strong>Camel context available in Spring</strong> and it should be picked up. </p>\n"}],"owner":{"account_id":1027254,"reputation":188,"user_id":1036299,"accept_rate":100,"display_name":"ehmkey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1060,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58137924,"answer_count":1,"score":1,"last_activity_date":1696303491,"creation_date":1569573864,"question_id":58130933,"body_markdown":"I have 3 Servers (1 Master, 2 Slaves). Each of it have installed Zookeeper (latest version) and ActiveMQ &quot;Classic&quot;.\r\nActiveMQ &quot;Classic&quot; is configured as Replicated Level-DB based on Zookeepers nodes.\r\n\r\nNow I want to use Apache Camel for message routing.\r\n\r\nWhere should the Camel Route be located? I wrote a [Spring Boot App](https://github.com/apache/camel/tree/master/examples/camel-example-spring-boot-activemq) but I want to have a failover like for ActiveMQ.\r\n\r\nSo I read about to put the jar into the ActiveMQ lib directory and setup an XML config [Enterprise Integration Patterns](http://activemq.apache.org/enterprise-integration-patterns.html)\r\n\r\nAnother way is to use the Camel Components \r\n\r\n - [Zookeeper Master Component](https://camel.apache.org/components/latest/zookeeper-master-component.html)\r\n - [Zookeeper Component](https://camel.apache.org/components/latest/zookeeper-component.html)\r\n\r\n\r\nHas anyone ever come across this problem before and want to share the solution?","title":"How to use Apache Camel in Clustered Environment with Zookeeper and ActiveMQ","body":"<p>I have 3 Servers (1 Master, 2 Slaves). Each of it have installed Zookeeper (latest version) and ActiveMQ &quot;Classic&quot;.\nActiveMQ &quot;Classic&quot; is configured as Replicated Level-DB based on Zookeepers nodes.</p>\n<p>Now I want to use Apache Camel for message routing.</p>\n<p>Where should the Camel Route be located? I wrote a <a href=\"https://github.com/apache/camel/tree/master/examples/camel-example-spring-boot-activemq\" rel=\"nofollow noreferrer\">Spring Boot App</a> but I want to have a failover like for ActiveMQ.</p>\n<p>So I read about to put the jar into the ActiveMQ lib directory and setup an XML config <a href=\"http://activemq.apache.org/enterprise-integration-patterns.html\" rel=\"nofollow noreferrer\">Enterprise Integration Patterns</a></p>\n<p>Another way is to use the Camel Components</p>\n<ul>\n<li><a href=\"https://camel.apache.org/components/latest/zookeeper-master-component.html\" rel=\"nofollow noreferrer\">Zookeeper Master Component</a></li>\n<li><a href=\"https://camel.apache.org/components/latest/zookeeper-component.html\" rel=\"nofollow noreferrer\">Zookeeper Component</a></li>\n</ul>\n<p>Has anyone ever come across this problem before and want to share the solution?</p>\n"},{"tags":["java","windowbuilder","eclipse-oxygen"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1695546589,"post_id":77166201,"comment_id":136036712,"body_markdown":"I don&#39;t know where you downloaded Eclipse IDE or _WindowBuilder_, but I recommend going to [eclipse.org](https://www.eclipse.org). From there you can download both the latest version of the IDE (which, at time of writing, is named 2023-09, version number is 4.29) and the latest version of _WindowBuilder_. For your information, Eclipse Oxygen is version 4.7 and was released in 2017. Nowadays, a new IDE is released every three months, i.e. in March, in June, in September and in December.","body":"I don&#39;t know where you downloaded Eclipse IDE or <i>WindowBuilder</i>, but I recommend going to <a href=\"https://www.eclipse.org\" rel=\"nofollow noreferrer\">eclipse.org</a>. From there you can download both the latest version of the IDE (which, at time of writing, is named 2023-09, version number is 4.29) and the latest version of <i>WindowBuilder</i>. For your information, Eclipse Oxygen is version 4.7 and was released in 2017. Nowadays, a new IDE is released every three months, i.e. in March, in June, in September and in December."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695545177,"creation_date":1695545177,"answer_id":77166337,"question_id":77166201,"body_markdown":"According to the Eclipse Marketplace entry for WindowBuilder it is available for Eclipse versions 4.15 and later.  Eclipse Oxygen is 4.7.  \r\n\r\nIf you want to use WindowBuilder you will need to upgrade your Eclipse installation to a newer version.","title":"Windowbuilder is not working on Eclipse Oxygen","body":"<p>According to the Eclipse Marketplace entry for WindowBuilder it is available for Eclipse versions 4.15 and later.  Eclipse Oxygen is 4.7.</p>\n<p>If you want to use WindowBuilder you will need to upgrade your Eclipse installation to a newer version.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696582375,"post_id":77219487,"comment_id":136174465,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77219487/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29585242,"reputation":1,"user_id":22674047,"display_name":"BKirec"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696303465,"creation_date":1696303465,"answer_id":77219487,"question_id":77166201,"body_markdown":"When you create the SWT/JFace Java Project, select JavaSE-1.8 as execution environment JRE.","title":"Windowbuilder is not working on Eclipse Oxygen","body":"<p>When you create the SWT/JFace Java Project, select JavaSE-1.8 as execution environment JRE.</p>\n"}],"owner":{"account_id":29520956,"reputation":3,"user_id":22623756,"display_name":"Jacob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77166337,"answer_count":2,"score":0,"last_activity_date":1696303465,"creation_date":1695542554,"question_id":77166201,"body_markdown":"I installed Windowbuilder from this website: [https://download.eclipse.org/windowbuilder/1.9.1/](https://download.eclipse.org/windowbuilder/1.9.1/), but it doesn&#39;t work on eclipse oxygen.\r\n_____________________________________________________________________________________________________\r\nI have no idea how to fix it.\r\nCan someone help me?\r\nI need it fast because of an chalenge with my friend.\r\n\r\nI tryed to install it over the marketplace, but there it doesn&#39;t exists.","title":"Windowbuilder is not working on Eclipse Oxygen","body":"<p>I installed Windowbuilder from this website: <a href=\"https://download.eclipse.org/windowbuilder/1.9.1/\" rel=\"nofollow noreferrer\">https://download.eclipse.org/windowbuilder/1.9.1/</a>, but it doesn't work on eclipse oxygen.</p>\n<hr />\n<p>I have no idea how to fix it.\nCan someone help me?\nI need it fast because of an chalenge with my friend.</p>\n<p>I tryed to install it over the marketplace, but there it doesn't exists.</p>\n"},{"tags":["java","android","codenameone"],"comments":[{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1696302932,"post_id":77219444,"comment_id":136132556,"body_markdown":"Since your previous question, have you kept `protobuf-javalite` (but not `protobuf-java`) in your POM? They&#39;re distinct runtimes, and you probably want `protobuf-javalite` based on the ExtensionRegistryLite in your error message. Posting your most recent pom.xml will help.","body":"Since your previous question, have you kept <code>protobuf-javalite</code> (but not <code>protobuf-java</code>) in your POM? They&#39;re distinct runtimes, and you probably want <code>protobuf-javalite</code> based on the ExtensionRegistryLite in your error message. Posting your most recent pom.xml will help."},{"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":0,"creation_date":1696387841,"post_id":77219444,"comment_id":136144992,"body_markdown":"Also, did you add the dependency in the android pom? Notice that there are native poms that are distinct from the main pom.","body":"Also, did you add the dependency in the android pom? Notice that there are native poms that are distinct from the main pom."},{"owner":{"account_id":16601979,"reputation":83,"user_id":12697141,"display_name":"stylsy"},"score":1,"creation_date":1696403197,"post_id":77219444,"comment_id":136146506,"body_markdown":"@ShaiAlmog and Jeff Bowman, thanks for your replies. Yes, I have removed the dependency for protobuf-java and retained the one for protobuf-javalite. To be clear, this is in the javase project. I had no dependencies in the android project. So, yes, I can see how that will cause my problem. When I add the dependencies (protobuf-javalite and protobuf-java-util, also required) to the android project and request a build on the build server, my jar size increases from 601Kb to 6801Kb and is rejected. Please see next comment.","body":"@ShaiAlmog and Jeff Bowman, thanks for your replies. Yes, I have removed the dependency for protobuf-java and retained the one for protobuf-javalite. To be clear, this is in the javase project. I had no dependencies in the android project. So, yes, I can see how that will cause my problem. When I add the dependencies (protobuf-javalite and protobuf-java-util, also required) to the android project and request a build on the build server, my jar size increases from 601Kb to 6801Kb and is rejected. Please see next comment."},{"owner":{"account_id":16601979,"reputation":83,"user_id":12697141,"display_name":"stylsy"},"score":0,"creation_date":1696403334,"post_id":77219444,"comment_id":136146527,"body_markdown":"@ShaiAlomg The build error is: android-device: Jar size limit reached for free accounts. I&#39;m unsure why the jar increases by so much (seems to be com.goole.common related) and also thought the maximum size for a jar for a free account was  8.5Mb. Any help would be appreciated. Thanks.","body":"@ShaiAlomg The build error is: android-device: Jar size limit reached for free accounts. I&#39;m unsure why the jar increases by so much (seems to be com.goole.common related) and also thought the maximum size for a jar for a free account was  8.5Mb. Any help would be appreciated. Thanks."},{"owner":{"account_id":16601979,"reputation":83,"user_id":12697141,"display_name":"stylsy"},"score":0,"creation_date":1696468474,"post_id":77219444,"comment_id":136158133,"body_markdown":"Edit above: com.goole.common should read com.google.common","body":"Edit above: com.goole.common should read com.google.common"},{"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":1,"creation_date":1696471120,"post_id":77219444,"comment_id":136158311,"body_markdown":"That&#39;s a limit on the free account to prevent abuse to our servers. You can still do local builds which are a bit more work though.","body":"That&#39;s a limit on the free account to prevent abuse to our servers. You can still do local builds which are a bit more work though."},{"owner":{"account_id":16601979,"reputation":83,"user_id":12697141,"display_name":"stylsy"},"score":0,"creation_date":1696473142,"post_id":77219444,"comment_id":136158447,"body_markdown":"@ShaiAlmog, thanks. I&#39;ll give that a try.","body":"@ShaiAlmog, thanks. I&#39;ll give that a try."}],"owner":{"account_id":16601979,"reputation":83,"user_id":12697141,"display_name":"stylsy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696302370,"creation_date":1696302370,"question_id":77219444,"body_markdown":"Further to https://stackoverflow.com/questions/77154700/codename-one-proguard-duplicate-jar-entry. I&#39;ve created the native interface and can build and run the code in NetBeans and the Simulator. I&#39;ve now created similar code under the android project. When I send a build to the builder server, I receive the following error (and more):\r\n\r\n&lt;code&gt;Compiling with JDK Java compiler API.\r\n/tmp/build1143954818015752843xxx/HHT/src/main/java/com/google/transit/realtime/GtfsRealtime.java:11: error: package com.google.protobuf does not exist\r\n            com.google.protobuf.ExtensionRegistryLite registry) {\r\n                               ^&lt;/code&gt;\r\n\r\nGtfsRealtime.java was generated using a supplied *.proto file and protoc via command-line. It uses protobuf. If I understand correctly, I catered for protobuf in the Simulator by adding dependencies to the javese pom.xml. How do I do the same for the android code?\r\n","title":"Codename One - error: package com.google.protobuf does not exist","body":"<p>Further to <a href=\"https://stackoverflow.com/questions/77154700/codename-one-proguard-duplicate-jar-entry\">Codename One - ProGuard - Duplicate jar entry</a>. I've created the native interface and can build and run the code in NetBeans and the Simulator. I've now created similar code under the android project. When I send a build to the builder server, I receive the following error (and more):</p>\n<p><code>Compiling with JDK Java compiler API.\n/tmp/build1143954818015752843xxx/HHT/src/main/java/com/google/transit/realtime/GtfsRealtime.java:11: error: package com.google.protobuf does not exist\ncom.google.protobuf.ExtensionRegistryLite registry) {\n^</code></p>\n<p>GtfsRealtime.java was generated using a supplied *.proto file and protoc via command-line. It uses protobuf. If I understand correctly, I catered for protobuf in the Simulator by adding dependencies to the javese pom.xml. How do I do the same for the android code?</p>\n"},{"tags":["java","javafx","mouse-cursor"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1696281713,"post_id":77217736,"comment_id":136130753,"body_markdown":"This question is about the mouse cursor for the text area.  Just to avoid confusion for future readers that happen upon this question, there is a separate concept called a caret.  If, unlike this question, you really wanted to change the caret rather than the cursor, then see the answer to [Hide input caret of TextField in JavaFX8](https://stackoverflow.com/questions/27315861/hide-input-caret-of-textfield-in-javafx8)","body":"This question is about the mouse cursor for the text area.  Just to avoid confusion for future readers that happen upon this question, there is a separate concept called a caret.  If, unlike this question, you really wanted to change the caret rather than the cursor, then see the answer to <a href=\"https://stackoverflow.com/questions/27315861/hide-input-caret-of-textfield-in-javafx8\">Hide input caret of TextField in JavaFX8</a>"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1696475361,"post_id":77217736,"comment_id":136158604,"body_markdown":"Just to manage expectations about the caret mentioned by @jewelsea : JavaFX provides very little built-in customization for carets. You cannot control the caret animation with the _default_ skins of the text input controls. You also can&#39;t control the caret shape; at the lowest level, carets are &quot;created&quot; via `Text` or `TextFlow` (the former has a `caretShape` property, both have a `caretShape(int,boolean)` method), but that will always give you a thin vertical bar. Maybe one day they&#39;ll implement https://bugs.openjdk.org/browse/JDK-8256179.","body":"Just to manage expectations about the caret mentioned by @jewelsea : JavaFX provides very little built-in customization for carets. You cannot control the caret animation with the <i>default</i> skins of the text input controls. You also can&#39;t control the caret shape; at the lowest level, carets are &quot;created&quot; via <code>Text</code> or <code>TextFlow</code> (the former has a <code>caretShape</code> property, both have a <code>caretShape(int,boolean)</code> method), but that will always give you a thin vertical bar. Maybe one day they&#39;ll implement <a href=\"https://bugs.openjdk.org/browse/JDK-8256179\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-8256179</a>."}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1696275701,"creation_date":1696274467,"answer_id":77217999,"question_id":77217736,"body_markdown":"The default skin of `TextArea` includes a &quot;content area&quot;, which [is documented][1] as a `Region`. It&#39;s this content area that has its cursor set to `Cursor.TEXT` (by the [default user agent stylesheet][2]). And since the mouse is hovering over the content area, not the text area directly, you see the cursor of the content area instead of the text area.\r\n\r\nThe likely easiest way to change the cursor is to use CSS.\r\n\r\n```css\r\n.text-area .content {\r\n    -fx-cursor: disappear;\r\n}\r\n```\r\n&#160;\r\nThen add the stylesheet to the scene (or the text area, or an ancestor layout). For example:\r\n\r\n```java\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.TextArea;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Main extends Application {\r\n\r\n    private static final String CSS = &quot;&quot;&quot;\r\n            .text-area .content {\r\n                -fx-cursor: hand;\r\n            }\r\n            &quot;&quot;&quot;.stripIndent();\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        Scene scene = new Scene(new TextArea(), 500, 300);\r\n        scene.getStylesheets().add(&quot;data:text/css,&quot; + CSS);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }\r\n}\r\n```\r\n\r\n&lt;sup&gt;**Note:** The above adds the stylehseet to the scene via a [data URL][3]. This requires JavaFX 17+.&lt;/sup&gt;\r\n\r\n\r\nThe example uses `Cursor.HAND` because `Cursor.DISAPPEAR` just gave me the default cursor on Windows 10 with Java/JavaFX 20.0.1. Not sure if that&#39;s a bug.\r\n\r\nNote you can use `null` or `inherit` for `-fx-cursor` in the CSS, and then set the text area&#39;s cursor in code (like you&#39;re currently trying to do).\r\n\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/doc-files/cssref.html#text-area\r\n  [2]: https://github.com/openjdk/jfx/blob/25862787d2e1b6c4da17089a1d5695c4e4b9fd6e/modules/javafx.controls/src/main/resources/com/sun/javafx/scene/control/skin/modena/modena.css#L1330\r\n  [3]: https://en.wikipedia.org/wiki/Data_URI_scheme","title":"How to change mouse cursor when I hover over javafx TextArea?","body":"<p>The default skin of <code>TextArea</code> includes a &quot;content area&quot;, which <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/doc-files/cssref.html#text-area\" rel=\"nofollow noreferrer\">is documented</a> as a <code>Region</code>. It's this content area that has its cursor set to <code>Cursor.TEXT</code> (by the <a href=\"https://github.com/openjdk/jfx/blob/25862787d2e1b6c4da17089a1d5695c4e4b9fd6e/modules/javafx.controls/src/main/resources/com/sun/javafx/scene/control/skin/modena/modena.css#L1330\" rel=\"nofollow noreferrer\">default user agent stylesheet</a>). And since the mouse is hovering over the content area, not the text area directly, you see the cursor of the content area instead of the text area.</p>\n<p>The likely easiest way to change the cursor is to use CSS.</p>\n<pre class=\"lang-css prettyprint-override\"><code>.text-area .content {\n    -fx-cursor: disappear;\n}\n</code></pre>\n<p> \nThen add the stylesheet to the scene (or the text area, or an ancestor layout). For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.TextArea;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    private static final String CSS = &quot;&quot;&quot;\n            .text-area .content {\n                -fx-cursor: hand;\n            }\n            &quot;&quot;&quot;.stripIndent();\n\n    @Override\n    public void start(Stage primaryStage) {\n        Scene scene = new Scene(new TextArea(), 500, 300);\n        scene.getStylesheets().add(&quot;data:text/css,&quot; + CSS);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n}\n</code></pre>\n<p><sup><strong>Note:</strong> The above adds the stylehseet to the scene via a <a href=\"https://en.wikipedia.org/wiki/Data_URI_scheme\" rel=\"nofollow noreferrer\">data URL</a>. This requires JavaFX 17+.</sup></p>\n<p>The example uses <code>Cursor.HAND</code> because <code>Cursor.DISAPPEAR</code> just gave me the default cursor on Windows 10 with Java/JavaFX 20.0.1. Not sure if that's a bug.</p>\n<p>Note you can use <code>null</code> or <code>inherit</code> for <code>-fx-cursor</code> in the CSS, and then set the text area's cursor in code (like you're currently trying to do).</p>\n"}],"owner":{"account_id":28016694,"reputation":69,"user_id":21398331,"display_name":"BaRiboD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77217999,"answer_count":1,"score":3,"last_activity_date":1696300781,"creation_date":1696271460,"question_id":77217736,"body_markdown":"I want to change the TextArea cursor, but nothing happens when I use this:\r\n\r\n```\r\nnumTextArea.setCursor(Cursor.DISAPPEAR);\r\n```","title":"How to change mouse cursor when I hover over javafx TextArea?","body":"<p>I want to change the TextArea cursor, but nothing happens when I use this:</p>\n<pre><code>numTextArea.setCursor(Cursor.DISAPPEAR);\n</code></pre>\n"},{"tags":["java","arrays","game-development"],"owner":{"account_id":29346892,"reputation":19,"user_id":22485016,"display_name":"Pipopi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696300101,"creation_date":1696300101,"question_id":77219347,"body_markdown":"I am tyring to create a simple game of OMOK. I have a 2D array that as players populate, has the chance to have 5 of the same character in a row. It can be either diagonally, horizonatally or vertically. I want to check the surrounding elements once a player set a piece to not check the entire board every time a piece is set, but if this is not possible, checking the enire thing isn&#39;t \r\ntoo bad. \r\nThe following is different ideas of how I thing something like this would work. \r\n\r\n\r\n\r\n```\r\npublic static boolean areFiveConnected(String [][] tablero, int x, int y){\r\n        return hasFiveInARowVertical(tablero,x,y) || northeastDiagonal(tablero,x,y) || southwestDiagonal(tablero, x, y) || hasFiveInARowHorizontal(tablero, x, y);\r\n\r\n    }\r\n    private static boolean hasFiveInARowVertical(String[][] array, int row, int col) {\r\n        // Check if the current element and the next 4 elements in the row are all the same symbol.\r\n        for (String [] line: array){\r\n            System.out.println(Arrays.toString(line));\r\n            for (int i = 0; i &lt; line.length - 4; i++) {\r\n                System.out.println(!line[i].equals(&quot;.&quot;)+line[i]+&quot;here&quot;);\r\n                if (!line[i].equals(&quot;.&quot;) || line[i].equals(line[i + 1]) &amp;&amp; line[i + 1].equals(line[i + 2]) &amp;&amp; line[i + 2].equals(line[i + 3]) &amp;&amp;line[i + 3].equals(line[i + 4])) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n\r\n        // If we reach here, there are 5 of the same symbols in a row horizontally.\r\n        return false;\r\n    }\r\n    private static boolean hasFiveInARowHorizontal(String[][] array, int row, int col) {\r\n        // Check if the current element and the next 4 elements in the column are all the same symbol.\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            if (row + i &gt;= array.length || !array[row + i][col].equals(array[row][col]) || array[row][col].equals(&quot;.&quot;)) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        // If we reach here, there are 5 of the same symbols in a row vertically.\r\n        return true;\r\n    }\r\n    private static boolean northeastDiagonal(String[][] tablero, int row, int col) {\r\n        // ascendingDiagonalCheck\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            // Check northeast diagonal.\r\n            if (row + i &gt;= tablero.length || col + i &gt;= tablero[row].length || !tablero[row + i][col + i].equals(tablero[row][col]) || tablero[row][col].equals(&quot;.&quot;)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    private static boolean southwestDiagonal(String[][] tablero, int row, int col) {\r\n        // ascendingDiagonalCheck\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            // Check northeast diagonal.\r\n            if (row - i &lt; 0 || col + i &gt;= tablero[row].length || !tablero[row - i][col + i].equals(tablero[row][col]) || tablero[row][col].equals(&quot;.&quot;)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n```\r\n\r\n\r\n\r\nAny of the following &quot;strings&quot; would result in a &quot;true&quot; output. &quot;X&quot; is for one player and &quot;O&quot; if for the opponent. \r\n\r\n\r\n```\r\n    a   b   c   d   e   f   g   h   i   j   k   l   m   n   o\r\n0  [X] [.] [.] [.] [.] [.] [X] [.] [.] [.] [.] [.] [.] [.] [.] \r\n1  [X] [.] [.] [.] [.] [.] [.] [X] [.] [.] [.] [.] [.] [.] [.] \r\n2  [X] [.] [.] [.] [.] [.] [.] [.] [X] [.] [.] [.] [.] [.] [.] \r\n3  [X] [.] [.] [.] [.] [.] [.] [.] [.] [X] [.] [.] [.] [.] [.] \r\n4  [X] [.] [.] [.] [.] [.] [.] [.] [.] [.] [X] [.] [.] [.] [.] \r\n5  [.] [O] [O] [O] [O] [O] [.] [.] [.] [.] [.] [.] [.] [.] [.] \r\n6  [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] \r\n7  [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] \r\n8  [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] \r\n9  [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] \r\n10 [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] \r\n11 [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] \r\n12 [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] \r\n13 [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] \r\n14 [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] \r\n```\r\n\r\nI have tried to read every line, which in theory works but code isn&#39;t doing that right now. I would prefere for a solution where as the players set pieces, the code can check if that piece created a string of 5 in a row pieces. \r\n\r\nI have also tried to read the next 4 character neighboring the piece that has most recently been set but that only check for the edges and not the middle of the string that would result in a true output. ","title":"How to check if there are 5 of the same character in a row in any direction?","body":"<p>I am tyring to create a simple game of OMOK. I have a 2D array that as players populate, has the chance to have 5 of the same character in a row. It can be either diagonally, horizonatally or vertically. I want to check the surrounding elements once a player set a piece to not check the entire board every time a piece is set, but if this is not possible, checking the enire thing isn't\ntoo bad.\nThe following is different ideas of how I thing something like this would work.</p>\n<pre><code>public static boolean areFiveConnected(String [][] tablero, int x, int y){\n        return hasFiveInARowVertical(tablero,x,y) || northeastDiagonal(tablero,x,y) || southwestDiagonal(tablero, x, y) || hasFiveInARowHorizontal(tablero, x, y);\n\n    }\n    private static boolean hasFiveInARowVertical(String[][] array, int row, int col) {\n        // Check if the current element and the next 4 elements in the row are all the same symbol.\n        for (String [] line: array){\n            System.out.println(Arrays.toString(line));\n            for (int i = 0; i &lt; line.length - 4; i++) {\n                System.out.println(!line[i].equals(&quot;.&quot;)+line[i]+&quot;here&quot;);\n                if (!line[i].equals(&quot;.&quot;) || line[i].equals(line[i + 1]) &amp;&amp; line[i + 1].equals(line[i + 2]) &amp;&amp; line[i + 2].equals(line[i + 3]) &amp;&amp;line[i + 3].equals(line[i + 4])) {\n                    return true;\n                }\n            }\n        }\n\n        // If we reach here, there are 5 of the same symbols in a row horizontally.\n        return false;\n    }\n    private static boolean hasFiveInARowHorizontal(String[][] array, int row, int col) {\n        // Check if the current element and the next 4 elements in the column are all the same symbol.\n        for (int i = 0; i &lt; 5; i++) {\n            if (row + i &gt;= array.length || !array[row + i][col].equals(array[row][col]) || array[row][col].equals(&quot;.&quot;)) {\n                return false;\n            }\n        }\n\n        // If we reach here, there are 5 of the same symbols in a row vertically.\n        return true;\n    }\n    private static boolean northeastDiagonal(String[][] tablero, int row, int col) {\n        // ascendingDiagonalCheck\n        for (int i = 0; i &lt; 5; i++) {\n            // Check northeast diagonal.\n            if (row + i &gt;= tablero.length || col + i &gt;= tablero[row].length || !tablero[row + i][col + i].equals(tablero[row][col]) || tablero[row][col].equals(&quot;.&quot;)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    private static boolean southwestDiagonal(String[][] tablero, int row, int col) {\n        // ascendingDiagonalCheck\n        for (int i = 0; i &lt; 5; i++) {\n            // Check northeast diagonal.\n            if (row - i &lt; 0 || col + i &gt;= tablero[row].length || !tablero[row - i][col + i].equals(tablero[row][col]) || tablero[row][col].equals(&quot;.&quot;)) {\n                return false;\n            }\n        }\n        return true;\n    }\n</code></pre>\n<p>Any of the following &quot;strings&quot; would result in a &quot;true&quot; output. &quot;X&quot; is for one player and &quot;O&quot; if for the opponent.</p>\n<pre><code>    a   b   c   d   e   f   g   h   i   j   k   l   m   n   o\n0  [X] [.] [.] [.] [.] [.] [X] [.] [.] [.] [.] [.] [.] [.] [.] \n1  [X] [.] [.] [.] [.] [.] [.] [X] [.] [.] [.] [.] [.] [.] [.] \n2  [X] [.] [.] [.] [.] [.] [.] [.] [X] [.] [.] [.] [.] [.] [.] \n3  [X] [.] [.] [.] [.] [.] [.] [.] [.] [X] [.] [.] [.] [.] [.] \n4  [X] [.] [.] [.] [.] [.] [.] [.] [.] [.] [X] [.] [.] [.] [.] \n5  [.] [O] [O] [O] [O] [O] [.] [.] [.] [.] [.] [.] [.] [.] [.] \n6  [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] \n7  [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] \n8  [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] \n9  [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] \n10 [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] \n11 [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] \n12 [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] \n13 [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] \n14 [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] [.] \n</code></pre>\n<p>I have tried to read every line, which in theory works but code isn't doing that right now. I would prefere for a solution where as the players set pieces, the code can check if that piece created a string of 5 in a row pieces.</p>\n<p>I have also tried to read the next 4 character neighboring the piece that has most recently been set but that only check for the edges and not the middle of the string that would result in a true output.</p>\n"},{"tags":["java","json","jackson","jackson-databind"],"comments":[{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1696322665,"post_id":77219317,"comment_id":136134783,"body_markdown":"Does this answer your question? [How to convert Object to Json String but with @JsonProperty instead of field names?](https://stackoverflow.com/questions/75142951/how-to-convert-object-to-json-string-but-with-jsonproperty-instead-of-field-nam)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75142951/how-to-convert-object-to-json-string-but-with-jsonproperty-instead-of-field-nam\">How to convert Object to Json String but with @JsonProperty instead of field names?</a>"},{"owner":{"account_id":10552529,"reputation":1,"user_id":7774779,"display_name":"Kavya "},"score":0,"creation_date":1696429445,"post_id":77219317,"comment_id":136152058,"body_markdown":"No, I only use jackson and I am following the same. Somehow it doesn&#39;t work :(","body":"No, I only use jackson and I am following the same. Somehow it doesn&#39;t work :("}],"owner":{"account_id":10552529,"reputation":1,"user_id":7774779,"display_name":"Kavya "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696299382,"creation_date":1696299382,"question_id":77219317,"body_markdown":"I have a model class:\r\n```\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Item {\r\n    @JsonProperty(&quot;@context&quot;)\r\n    String context;\r\n    String type;\r\n    String dateModified;\r\n}\r\n```\r\n\r\nand I am setting the values for Item in service like:\r\n\r\n```\r\nItem exportItem = new Item();\r\n        exportItem.setContext(exportConfig.getContext());\r\n        LocalDateTime localDateTime = LocalDateTime.now(ZoneOffset.UTC);\r\n        DateTimeFormatter customFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;);\r\n        String formattedDate = customFormatter.format(localDateTime);\r\n        exportItem.setDateModified(formattedDate);\r\n        exportItem.setType(exportConfig.getType());\r\n```\r\n\r\nBut when I see the JSON string:\r\n\r\n                   \r\n```\r\n ObjectMapper mapper = new ObjectMapper();\r\n                    mapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n                    Item bean = exportService.generate();\r\n                    String result = mapper.writeValueAsString(bean);\r\n```\r\n\r\n\r\nthe Json field for context, doesn&#39;t get renamed to @context. \r\n\r\nHow do I fix this issue?\r\n\r\nTried using @JsonProperty and expecting to see @context:value instead of context:value in my resulting json string","title":"Changing a field name in JSON using jackson","body":"<p>I have a model class:</p>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Item {\n    @JsonProperty(&quot;@context&quot;)\n    String context;\n    String type;\n    String dateModified;\n}\n</code></pre>\n<p>and I am setting the values for Item in service like:</p>\n<pre><code>Item exportItem = new Item();\n        exportItem.setContext(exportConfig.getContext());\n        LocalDateTime localDateTime = LocalDateTime.now(ZoneOffset.UTC);\n        DateTimeFormatter customFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;);\n        String formattedDate = customFormatter.format(localDateTime);\n        exportItem.setDateModified(formattedDate);\n        exportItem.setType(exportConfig.getType());\n</code></pre>\n<p>But when I see the JSON string:</p>\n<pre><code> ObjectMapper mapper = new ObjectMapper();\n                    mapper.enable(SerializationFeature.INDENT_OUTPUT);\n                    Item bean = exportService.generate();\n                    String result = mapper.writeValueAsString(bean);\n</code></pre>\n<p>the Json field for context, doesn't get renamed to @context.</p>\n<p>How do I fix this issue?</p>\n<p>Tried using @JsonProperty and expecting to see @context:value instead of context:value in my resulting json string</p>\n"},{"tags":["java","spring-boot","maven","heroku"],"answers":[{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685048119,"creation_date":1685045752,"answer_id":76335974,"question_id":76335828,"body_markdown":"The workaround solution of using the heroku maven plugin worked by firstly specifying [war deployment][1] by adding `&lt;package&gt;war&lt;/package&gt;` to the `pom.xml` (under the `&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;` tag) and the plugin definition of\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;com.heroku.sdk&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;heroku-maven-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.0.7&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n\r\ninto the `plugins` tag and running the command `mvn clean heroku:deploy-war`.\r\n\r\nHowever, with this my application still doesn&#39;t run successfully when I execute `heroku open`. `HTTP Status 404 – Not Found` shows up. This may be a candidate for a follow-up question then ([link][2]).\r\n\r\n\r\n  [1]: https://www.codejava.net/heroku/deploy-war-file\r\n  [2]: https://stackoverflow.com/questions/76336212","title":"Deploying Spring Boot App to Heroku fails with &quot;invalid flag: --release -&gt; [Help 1]&quot;","body":"<p>The workaround solution of using the heroku maven plugin worked by firstly specifying <a href=\"https://www.codejava.net/heroku/deploy-war-file\" rel=\"nofollow noreferrer\">war deployment</a> by adding <code>&lt;package&gt;war&lt;/package&gt;</code> to the <code>pom.xml</code> (under the <code>&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;</code> tag) and the plugin definition of</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.heroku.sdk&lt;/groupId&gt;\n    &lt;artifactId&gt;heroku-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.7&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>into the <code>plugins</code> tag and running the command <code>mvn clean heroku:deploy-war</code>.</p>\n<p>However, with this my application still doesn't run successfully when I execute <code>heroku open</code>. <code>HTTP Status 404 – Not Found</code> shows up. This may be a candidate for a follow-up question then (<a href=\"https://stackoverflow.com/questions/76336212\">link</a>).</p>\n"}],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":537,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76335974,"answer_count":1,"score":2,"last_activity_date":1696298222,"creation_date":1685044298,"question_id":76335828,"body_markdown":"When I try to deploy my code to Heroku (via `git push heroku master`), I&#39;m getting a Maven error:\r\n\r\n    remote:        [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project heroku-demo: Fatal error compiling: invalid flag: --release -&gt; [Help 1]\r\n    remote:        [ERROR]\r\n    remote:        [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    remote:        [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    remote:        [ERROR]\r\n    remote:        [ERROR] For more information about the errors and possible solutions, please read the following articles\r\n    remote:        [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n    remote:\r\n    remote:  !     ERROR: Failed to build app with Maven\r\n    remote:        We&#39;re sorry this build is failing! If you can&#39;t find the issue in application code,\r\n    remote:        please submit a ticket so we can help: https://help.heroku.com/\r\n    remote:\r\n    remote:  !     Push rejected, failed to compile Java app.\r\n    remote:\r\n    remote:  !     Push failed\r\n    remote:  !\r\n    remote:  ! ## Warning - The same version of this code has already been built: 7057f2d04a587002166d4d36c0306e793c15d775\r\n    remote:  !\r\n    remote:  ! We have detected that you have triggered a build from source code with version 7057f2d04a587002166d4d36c0306e793c15d775\r\n    remote:  ! at least twice. One common cause of this behavior is attempting to deploy code from a different branch.\r\n    remote:  !\r\n    remote:  ! If you are developing on a branch and deploying via git you must run:\r\n    remote:  !\r\n    remote:  !     git push heroku &lt;branchname&gt;:main\r\n    remote:  !\r\n    remote:  ! This article goes into details on the behavior:\r\n    remote:  !   https://devcenter.heroku.com/articles/duplicate-build-version\r\n\r\nMy `pom.xml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;heroku-demo&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;demo&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nChanging Java to version 8 in the `pom.xml` also did not work.\r\n\r\nRunning `mvn clean package` locally works fine.\r\n\r\nThis build error obviously seems to be related to my Java version possibly being Java 8 or generally too old to support the `--release` flag. I verified it by running `mvn -v`, the output is: \r\n\r\n    Apache Maven 3.9.2 (c9616018c7a021c1c39be70fb2843d6f5f9b8a1c)\r\n    Maven home: C:\\maven\r\n    Java version: 19.0.1, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk-19\r\n    Default locale: en_GB, platform encoding: UTF-8\r\n    OS name: &quot;windows 11&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n\r\n`javac`:\r\n\r\n    &gt;javac -version\r\n    javac 19.0.1\r\n\r\n`javac -help`:\r\n\r\n    --release &lt;release&gt;\r\n            Compile for the specified Java SE release. Supported releases: 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19\r\n\r\nJava is modern and Maven is the latest. How else could this issue be fixed? By the way, I followed [this][1] tutorial.\r\n\r\n  [1]: https://devcenter.heroku.com/articles/deploying-spring-boot-apps-to-heroku","title":"Deploying Spring Boot App to Heroku fails with &quot;invalid flag: --release -&gt; [Help 1]&quot;","body":"<p>When I try to deploy my code to Heroku (via <code>git push heroku master</code>), I'm getting a Maven error:</p>\n<pre><code>remote:        [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project heroku-demo: Fatal error compiling: invalid flag: --release -&gt; [Help 1]\nremote:        [ERROR]\nremote:        [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\nremote:        [ERROR] Re-run Maven using the -X switch to enable full debug logging.\nremote:        [ERROR]\nremote:        [ERROR] For more information about the errors and possible solutions, please read the following articles\nremote:        [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\nremote:\nremote:  !     ERROR: Failed to build app with Maven\nremote:        We're sorry this build is failing! If you can't find the issue in application code,\nremote:        please submit a ticket so we can help: https://help.heroku.com/\nremote:\nremote:  !     Push rejected, failed to compile Java app.\nremote:\nremote:  !     Push failed\nremote:  !\nremote:  ! ## Warning - The same version of this code has already been built: 7057f2d04a587002166d4d36c0306e793c15d775\nremote:  !\nremote:  ! We have detected that you have triggered a build from source code with version 7057f2d04a587002166d4d36c0306e793c15d775\nremote:  ! at least twice. One common cause of this behavior is attempting to deploy code from a different branch.\nremote:  !\nremote:  ! If you are developing on a branch and deploying via git you must run:\nremote:  !\nremote:  !     git push heroku &lt;branchname&gt;:main\nremote:  !\nremote:  ! This article goes into details on the behavior:\nremote:  !   https://devcenter.heroku.com/articles/duplicate-build-version\n</code></pre>\n<p>My <code>pom.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;heroku-demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Changing Java to version 8 in the <code>pom.xml</code> also did not work.</p>\n<p>Running <code>mvn clean package</code> locally works fine.</p>\n<p>This build error obviously seems to be related to my Java version possibly being Java 8 or generally too old to support the <code>--release</code> flag. I verified it by running <code>mvn -v</code>, the output is:</p>\n<pre><code>Apache Maven 3.9.2 (c9616018c7a021c1c39be70fb2843d6f5f9b8a1c)\nMaven home: C:\\maven\nJava version: 19.0.1, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk-19\nDefault locale: en_GB, platform encoding: UTF-8\nOS name: &quot;windows 11&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n</code></pre>\n<p><code>javac</code>:</p>\n<pre><code>&gt;javac -version\njavac 19.0.1\n</code></pre>\n<p><code>javac -help</code>:</p>\n<pre><code>--release &lt;release&gt;\n        Compile for the specified Java SE release. Supported releases: 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19\n</code></pre>\n<p>Java is modern and Maven is the latest. How else could this issue be fixed? By the way, I followed <a href=\"https://devcenter.heroku.com/articles/deploying-spring-boot-apps-to-heroku\" rel=\"nofollow noreferrer\">this</a> tutorial.</p>\n"},{"tags":["java","c#","equivalent","null-coalescing-operator"],"comments":[{"owner":{"account_id":83924,"reputation":12824,"user_id":234954,"accept_rate":71,"display_name":"jmoreno"},"score":9,"creation_date":1437174124,"post_id":5223044,"comment_id":50936415,"body_markdown":"Voting to reopen as not a duplicate. This question is &quot;Does x exist&quot; the other question is &quot;Since x doesn&#39;t exist how do I get y&quot;.","body":"Voting to reopen as not a duplicate. This question is &quot;Does x exist&quot; the other question is &quot;Since x doesn&#39;t exist how do I get y&quot;."},{"owner":{"account_id":3228827,"reputation":1569,"user_id":2724543,"display_name":"kikea"},"score":7,"creation_date":1552506388,"post_id":5223044,"comment_id":97040519,"body_markdown":"On Java8+ has Optional class in jdk. Example of usage Optional.ofNullable(x).orElse(-1). Other good usage of usage Optional is method map. Let say there object a which is equivalent of json object: &quot;a&quot;: {&quot;b&quot;:{&quot;c&quot;:1}}. To read c value can be such construction like: Optional.ofNullable(a).map(a-&gt;a.b).map(b-&gt;b.c).orElse(-1). Is much ugly literal syntax than C#, but it is better option that using cascading operator ?:","body":"On Java8+ has Optional class in jdk. Example of usage Optional.ofNullable(x).orElse(-1). Other good usage of usage Optional is method map. Let say there object a which is equivalent of json object: &quot;a&quot;: {&quot;b&quot;:{&quot;c&quot;:1}}. To read c value can be such construction like: Optional.ofNullable(a).map(a-&gt;a.b).map(b-&gt;b.c).orElse(-1). Is much ugly literal syntax than C#, but it is better option that using cascading operator ?:"},{"owner":{"account_id":4438528,"reputation":2896,"user_id":3613702,"accept_rate":14,"display_name":"Code Name Jack"},"score":0,"creation_date":1602534271,"post_id":5223044,"comment_id":113745784,"body_markdown":"This works in C# only if x is a nullable int. either `Nullable&lt;int&gt; x;`  or `int? x`.  if x is just int, its a compilation failure.","body":"This works in C# only if x is a nullable int. either <code>Nullable&lt;int&gt; x;</code>  or <code>int? x</code>.  if x is just int, its a compilation failure."},{"owner":{"account_id":156734,"reputation":26707,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"score":1,"creation_date":1643563794,"post_id":5223044,"comment_id":125368308,"body_markdown":"Another one for my C# vs. Java list. Can&#39;t believe there&#39;s not even an `Objects.coalesce(...)` or equivalent.","body":"Another one for my C# vs. Java list. Can&#39;t believe there&#39;s not even an <code>Objects.coalesce(...)</code> or equivalent."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":2,"creation_date":1649238926,"post_id":5223044,"comment_id":126823364,"body_markdown":"@JoshM. There is indeed a coalesce equivalent from Java 9 onwards. [Objects.requireNonNullElse](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Objects.html#requireNonNullElse(T,T)) and if you want short-circuiting behaviour there&#39;s [Objects.requireNonNullElseGet](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Objects.html#requireNonNullElseGet(T,java.util.function.Supplier))","body":"@JoshM. There is indeed a coalesce equivalent from Java 9 onwards. <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Objects.html#requireNonNullElse(T,T)\" rel=\"nofollow noreferrer\">Objects.requireNonNullElse</a> and if you want short-circuiting behaviour there&#39;s <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Objects.html#requireNonNullElseGet(T,java.util.function.Supplier)\" rel=\"nofollow noreferrer\">Objects.requireNonNullElseGet</a>"},{"owner":{"account_id":156734,"reputation":26707,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"score":1,"creation_date":1651949767,"post_id":5223044,"comment_id":127489489,"body_markdown":"@k314159 thank you. I looked at the API quickly and am sad to see that the `defaultObj` must be non-null. Also sad that it&#39;s named `require...` because it makes it sound like it&#39;s going to throw if the parameter is null, in reality it just returns the default object passed in. Poor naming. Should have been `coalesce` or similar.","body":"@k314159 thank you. I looked at the API quickly and am sad to see that the <code>defaultObj</code> must be non-null. Also sad that it&#39;s named <code>require...</code> because it makes it sound like it&#39;s going to throw if the parameter is null, in reality it just returns the default object passed in. Poor naming. Should have been <code>coalesce</code> or similar."},{"owner":{"account_id":93118,"reputation":7297,"user_id":254882,"accept_rate":89,"display_name":"g t"},"score":1,"creation_date":1669628462,"post_id":5223044,"comment_id":131677081,"body_markdown":"@JoshM. Note that it *does* throw if the parameter is null and the default object/object supplier is also null.","body":"@JoshM. Note that it <i>does</i> throw if the parameter is null and the default object/object supplier is also null."},{"owner":{"account_id":156734,"reputation":26707,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"score":1,"creation_date":1669725105,"post_id":5223044,"comment_id":131703461,"body_markdown":"@gt sure, just another example of Java&#39;s overzealous null handling. Really annoying.","body":"@gt sure, just another example of Java&#39;s overzealous null handling. Really annoying."}],"answers":[{"comments":[{"owner":{"account_id":63571,"reputation":14881,"user_id":188107,"accept_rate":63,"display_name":"musiKk"},"score":58,"creation_date":1299519498,"post_id":5223065,"comment_id":5876049,"body_markdown":"Which of course only works if x is an `Integer` because an `int` cannot be compared to `null`.","body":"Which of course only works if x is an <code>Integer</code> because an <code>int</code> cannot be compared to <code>null</code>."},{"owner":{"account_id":83924,"reputation":12824,"user_id":234954,"accept_rate":71,"display_name":"jmoreno"},"score":4,"creation_date":1437174524,"post_id":5223065,"comment_id":50936512,"body_markdown":"@musiKk: and the C# equivalent would only work on int? (or rather any reference type or nullable)","body":"@musiKk: and the C# equivalent would only work on int? (or rather any reference type or nullable)"},{"owner":{"account_id":63571,"reputation":14881,"user_id":188107,"accept_rate":63,"display_name":"musiKk"},"score":1,"creation_date":1437210099,"post_id":5223065,"comment_id":50943041,"body_markdown":"@jmoreno I am no C# developer so I have no idea.","body":"@jmoreno I am no C# developer so I have no idea."},{"owner":{"account_id":83924,"reputation":12824,"user_id":234954,"accept_rate":71,"display_name":"jmoreno"},"score":2,"creation_date":1437232621,"post_id":5223065,"comment_id":50948558,"body_markdown":"@musiKk: type? is how you declare a variable of a nullable type.  The c# null coalescing operator only works on nullable or reference types.  If the above example was C#,  x would be of type int? -- but better written using the null coalescing operator as y=x?? -1;","body":"@musiKk: type? is how you declare a variable of a nullable type.  The c# null coalescing operator only works on nullable or reference types.  If the above example was C#,  x would be of type int? -- but better written using the null coalescing operator as y=x?? -1;"},{"owner":{"account_id":63571,"reputation":14881,"user_id":188107,"accept_rate":63,"display_name":"musiKk"},"score":12,"creation_date":1437232729,"post_id":5223065,"comment_id":50948585,"body_markdown":"@jmoreno Oh, I thought that was a question......","body":"@jmoreno Oh, I thought that was a question......"},{"owner":{"account_id":23089,"reputation":49201,"user_id":57611,"accept_rate":82,"display_name":"ErikE"},"score":20,"creation_date":1537063796,"post_id":5223065,"comment_id":91646088,"body_markdown":"That&#39;s what `code blocks` are for so you can tell that `int?` is a data type, not a question. :)","body":"That&#39;s what <code>code blocks</code> are for so you can tell that <code>int?</code> is a data type, not a question. :)"},{"owner":{"account_id":2939982,"reputation":791,"user_id":2518101,"accept_rate":75,"display_name":"ReaperSoon"},"score":0,"creation_date":1634572152,"post_id":5223065,"comment_id":123055306,"body_markdown":"But x is evaluated twice (one for condition and one for assignation). When using null coalescing operator `int y = x ?? -1`, x is evaluated once.","body":"But x is evaluated twice (one for condition and one for assignation). When using null coalescing operator <code>int y = x ?? -1</code>, x is evaluated once."}],"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"comment_count":7,"down_vote_count":1,"up_vote_count":197,"is_accepted":true,"score":196,"last_activity_date":1299519415,"creation_date":1299519415,"answer_id":5223065,"question_id":5223044,"body_markdown":"Sadly - no.  The closest you can do is:\r\n\r\n    int y = (x != null) ? x : -1;\r\n\r\nOf course, you can wrap this up in library methods if you feel the need to (it&#39;s unlikely to cut down on length much), but at the syntax level there isn&#39;t anything more succinct available.","title":"is there a Java equivalent to null coalescing operator (??) in C#?","body":"<p>Sadly - no.  The closest you can do is:</p>\n\n<pre><code>int y = (x != null) ? x : -1;\n</code></pre>\n\n<p>Of course, you can wrap this up in library methods if you feel the need to (it's unlikely to cut down on length much), but at the syntax level there isn't anything more succinct available.</p>\n"},{"comments":[{"owner":{"account_id":960053,"reputation":838,"user_id":984618,"accept_rate":82,"display_name":"Stefan"},"score":11,"creation_date":1390672836,"post_id":5223216,"comment_id":32196765,"body_markdown":"Unfortunately this will throw a NullPointerException if all values are null. While coalesce can return null.","body":"Unfortunately this will throw a NullPointerException if all values are null. While coalesce can return null."},{"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"score":1,"creation_date":1390847857,"post_id":5223216,"comment_id":32259467,"body_markdown":"@Stefan: True, though I did say it was &quot;similar&quot; not exactly the same.  And this sort of thing is by far the most useful for (and the most used for) cases where you want a fixed, non-null default if something is null. Given that, `firstNonNull` fails if the second argument is null to help programmer errors be caught faster.","body":"@Stefan: True, though I did say it was &quot;similar&quot; not exactly the same.  And this sort of thing is by far the most useful for (and the most used for) cases where you want a fixed, non-null default if something is null. Given that, <code>firstNonNull</code> fails if the second argument is null to help programmer errors be caught faster."},{"owner":{"account_id":106999,"reputation":1557,"user_id":284718,"display_name":"Andrew Coonce"},"score":26,"creation_date":1414431047,"post_id":5223216,"comment_id":41801380,"body_markdown":"The real issue with a solution like this is that it sacrifices the null coalesces lazy evaluation. Since all of the values have to be passed to `Objects.firstNonNull`, any functions you have passed will be evaluated. This makes it potentially far more computationally expensive than C#&#39;s `??`.","body":"The real issue with a solution like this is that it sacrifices the null coalesces lazy evaluation. Since all of the values have to be passed to <code>Objects.firstNonNull</code>, any functions you have passed will be evaluated. This makes it potentially far more computationally expensive than C#&#39;s <code>??</code>."},{"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"score":1,"creation_date":1414431547,"post_id":5223216,"comment_id":41801666,"body_markdown":"@AndrewCoonce: Sure, but there are a lot of use cases (like this example) where you just want a default or something that isn&#39;t expensive to compute. And when the alternative is expensive to compute, there&#39;s always the ternary.","body":"@AndrewCoonce: Sure, but there are a lot of use cases (like this example) where you just want a default or something that isn&#39;t expensive to compute. And when the alternative is expensive to compute, there&#39;s always the ternary."}],"tags":[],"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"comment_count":4,"down_vote_count":1,"up_vote_count":69,"is_accepted":false,"score":68,"last_activity_date":1691702118,"creation_date":1299520211,"answer_id":5223216,"question_id":5223044,"body_markdown":"The [Guava][1] library has a method that does something similar called [MoreObjects.firstNonNull(T,T)][2].\r\n\r\n```java\r\nInteger x = ...\r\nint y = MoreObjects.firstNonNull(x, -1);\r\n```\r\n\r\nThis is more helpful when you have something like\r\n\r\n```java\r\nint y = firstNonNull(calculateNullableValue(), -1);\r\n```\r\n\r\nsince it saves you from either calling the potentially expensive method twice or declaring a local variable in your code to reference twice.\r\n\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: https://github.com/google/guava/blob/85461bd3a1f2ccab17293650ad7660a481ddee25/guava/src/com/google/common/base/MoreObjects.java#L57","title":"is there a Java equivalent to null coalescing operator (??) in C#?","body":"<p>The <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">Guava</a> library has a method that does something similar called <a href=\"https://github.com/google/guava/blob/85461bd3a1f2ccab17293650ad7660a481ddee25/guava/src/com/google/common/base/MoreObjects.java#L57\" rel=\"nofollow noreferrer\">MoreObjects.firstNonNull(T,T)</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer x = ...\nint y = MoreObjects.firstNonNull(x, -1);\n</code></pre>\n<p>This is more helpful when you have something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>int y = firstNonNull(calculateNullableValue(), -1);\n</code></pre>\n<p>since it saves you from either calling the potentially expensive method twice or declaring a local variable in your code to reference twice.</p>\n"},{"comments":[{"owner":{"account_id":5852406,"reputation":2984,"user_id":5493465,"display_name":"Nace"},"score":2,"creation_date":1536661365,"post_id":31587776,"comment_id":91494777,"body_markdown":"Please note that Guava&#39;s method throws exception if both parameters are null!","body":"Please note that Guava&#39;s method throws exception if both parameters are null!"},{"owner":{"account_id":6278253,"reputation":1573,"user_id":4880243,"display_name":"AgainPsychoX"},"score":0,"creation_date":1684053932,"post_id":31587776,"comment_id":134458027,"body_markdown":"I get `Possible heap pollution from parameterized vararg type ` warning when using the second one.","body":"I get <code>Possible heap pollution from parameterized vararg type </code> warning when using the second one."}],"tags":[],"owner":{"account_id":216151,"reputation":26327,"user_id":471213,"accept_rate":82,"display_name":"usr-local-ΕΨΗΕΛΩΝ"},"comment_count":2,"down_vote_count":1,"up_vote_count":51,"is_accepted":false,"score":50,"last_activity_date":1448524662,"creation_date":1437655468,"answer_id":31587776,"question_id":5223044,"body_markdown":"Short answer: **no**\r\n\r\nThe best you can do is to create a static utility method (so that it can be imported using `import static` syntax)\r\n\r\n    public static &lt;T&gt; T coalesce(T one, T two)\r\n    {\r\n        return one != null ? one : two;\r\n    }\r\n\r\nThe above is equivalent to Guava&#39;s method `firstNonNull` by @ColinD, but that can be extended more in general\r\n\r\n    public static &lt;T&gt; T coalesce(T... params)\r\n    {\r\n        for (T param : params)\r\n            if (param != null)\r\n                return param;\r\n        return null;\r\n    }","title":"is there a Java equivalent to null coalescing operator (??) in C#?","body":"<p>Short answer: <strong>no</strong></p>\n\n<p>The best you can do is to create a static utility method (so that it can be imported using <code>import static</code> syntax)</p>\n\n<pre><code>public static &lt;T&gt; T coalesce(T one, T two)\n{\n    return one != null ? one : two;\n}\n</code></pre>\n\n<p>The above is equivalent to Guava's method <code>firstNonNull</code> by @ColinD, but that can be extended more in general</p>\n\n<pre><code>public static &lt;T&gt; T coalesce(T... params)\n{\n    for (T param : params)\n        if (param != null)\n            return param;\n    return null;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"score":0,"creation_date":1630986793,"post_id":32237909,"comment_id":122094935,"body_markdown":"this answer should be upvoted, as its most up to date","body":"this answer should be upvoted, as its most up to date"},{"owner":{"account_id":1547050,"reputation":490,"user_id":2899121,"display_name":"baohouse"},"score":1,"creation_date":1633806141,"post_id":32237909,"comment_id":122860840,"body_markdown":"I love this! It cleans up so much of my code with annoying nested ternaries or drawn out if-else statements for assignments!","body":"I love this! It cleans up so much of my code with annoying nested ternaries or drawn out if-else statements for assignments!"}],"tags":[],"owner":{"account_id":210377,"reputation":10220,"user_id":461958,"accept_rate":96,"display_name":"mateuscb"},"comment_count":2,"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1696296963,"creation_date":1440629108,"answer_id":32237909,"question_id":5223044,"body_markdown":"[`ObjectUtils.firstNonNull(T...)`][1] from Apache Commons Lang 3 is another option. I prefer this because, unlike Guava, this method does not throw an `Exception`. It will simply return `null`.\r\n\r\n\r\n[1]: https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/ObjectUtils.html#firstNonNull%28T...%29","title":"is there a Java equivalent to null coalescing operator (??) in C#?","body":"<p><a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/ObjectUtils.html#firstNonNull%28T...%29\" rel=\"nofollow noreferrer\"><code>ObjectUtils.firstNonNull(T...)</code></a> from Apache Commons Lang 3 is another option. I prefer this because, unlike Guava, this method does not throw an <code>Exception</code>. It will simply return <code>null</code>.</p>\n"},{"tags":[],"owner":{"account_id":6965366,"reputation":447,"user_id":5343587,"display_name":"AkariAkaori"},"comment_count":0,"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1442426766,"creation_date":1442426766,"answer_id":32615651,"question_id":5223044,"body_markdown":"No, and be aware that workaround functions are not exactly the same, a true null coalescing operator short circuits like &amp;&amp; and || do, meaning it will only attempt to evaluate the second expression if the first is null.","title":"is there a Java equivalent to null coalescing operator (??) in C#?","body":"<p>No, and be aware that workaround functions are not exactly the same, a true null coalescing operator short circuits like &amp;&amp; and || do, meaning it will only attempt to evaluate the second expression if the first is null.</p>\n"}],"owner":{"account_id":17791,"reputation":6973,"user_id":40185,"accept_rate":43,"display_name":"Nikita Ignatov"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158511,"favorite_count":0,"down_vote_count":2,"up_vote_count":257,"closed_date":1503782949,"accepted_answer_id":5223065,"answer_count":5,"score":255,"last_activity_date":1696296963,"creation_date":1299519314,"question_id":5223044,"body_markdown":"Is it possible to do something similar to the following code in Java\r\n\r\n    int y = x ?? -1;\r\n\r\n\r\n[More about `??`][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/446839","title":"is there a Java equivalent to null coalescing operator (??) in C#?","body":"<p>Is it possible to do something similar to the following code in Java</p>\n\n<pre><code>int y = x ?? -1;\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/446839\">More about <code>??</code></a></p>\n"},{"tags":["java","security","activemq"],"owner":{"account_id":8236294,"reputation":45,"user_id":6195371,"display_name":"kendzikq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1696296217,"creation_date":1656446128,"question_id":72792440,"body_markdown":"I use `spring-boot-starter-activemq` with the lastest version of springboot (2.7.1). Our company&#39;s dependency tracker marks `activemq-broker` which is part of the starter as vulnerable because of CVE-2015-3208 (XML external entity - XXE). We use ActiveMQ &quot;Classic&quot; instead of ActiveMQ Artemis for integration with a legacy system. Is there a way to fix it or is this just a false positive? I see that that there are updates in Maven repository quite frequently ([link][1]) hence I can&#39;t believe that the vulnerability published in 2017 is not solved yet.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.activemq/activemq-broker","title":"Dependency tracker marks activemq-broker as vulnerable","body":"<p>I use <code>spring-boot-starter-activemq</code> with the lastest version of springboot (2.7.1). Our company's dependency tracker marks <code>activemq-broker</code> which is part of the starter as vulnerable because of CVE-2015-3208 (XML external entity - XXE). We use ActiveMQ &quot;Classic&quot; instead of ActiveMQ Artemis for integration with a legacy system. Is there a way to fix it or is this just a false positive? I see that that there are updates in Maven repository quite frequently (<a href=\"https://mvnrepository.com/artifact/org.apache.activemq/activemq-broker\" rel=\"nofollow noreferrer\">link</a>) hence I can't believe that the vulnerability published in 2017 is not solved yet.</p>\n"},{"tags":["java","activemq","file-transfer","activemq-artemis"],"comments":[{"owner":{"account_id":11481923,"reputation":8281,"user_id":8415703,"accept_rate":83,"display_name":"Dovmo"},"score":0,"creation_date":1518076671,"post_id":48645631,"comment_id":84357665,"body_markdown":"Have you tried sending your large message to artemis [the recommended way in the examples](https://github.com/apache/activemq-artemis/blob/master/examples/features/standard/large-message/src/main/java/org/apache/activemq/artemis/jms/example/LargeMessageExample.java)? There, you&#39;ll find a `BytesMessage` is used (not a `BlobMessage`), which is what was probably used to back the 8GB/50MB [statement in the docs](https://activemq.apache.org/artemis/docs/latest/large-messages.html).","body":"Have you tried sending your large message to artemis <a href=\"https://github.com/apache/activemq-artemis/blob/master/examples/features/standard/large-message/src/main/java/org/apache/activemq/artemis/jms/example/LargeMessageExample.java\" rel=\"nofollow noreferrer\">the recommended way in the examples</a>? There, you&#39;ll find a <code>BytesMessage</code> is used (not a <code>BlobMessage</code>), which is what was probably used to back the 8GB/50MB <a href=\"https://activemq.apache.org/artemis/docs/latest/large-messages.html\" rel=\"nofollow noreferrer\">statement in the docs</a>."},{"owner":{"account_id":12890408,"reputation":11,"user_id":9322596,"display_name":"Ayeyebraso"},"score":0,"creation_date":1518081333,"post_id":48645631,"comment_id":84360390,"body_markdown":"I&#39;ve seen that but we don&#39;t use Artemis, we are using activemq 5.15.2","body":"I&#39;ve seen that but we don&#39;t use Artemis, we are using activemq 5.15.2"},{"owner":{"account_id":11481923,"reputation":8281,"user_id":8415703,"accept_rate":83,"display_name":"Dovmo"},"score":0,"creation_date":1518081880,"post_id":48645631,"comment_id":84360739,"body_markdown":"Ah, OK. The question is flagged as Artemis and I only saw your quote about 8/50 on the Artemis site. Did you see it anywhere  in relation to AMQ5? Keep in mind these are two entirely different implementations of two different JMS specs.","body":"Ah, OK. The question is flagged as Artemis and I only saw your quote about 8/50 on the Artemis site. Did you see it anywhere  in relation to AMQ5? Keep in mind these are two entirely different implementations of two different JMS specs."},{"owner":{"account_id":12890408,"reputation":11,"user_id":9322596,"display_name":"Ayeyebraso"},"score":0,"creation_date":1518089534,"post_id":48645631,"comment_id":84366038,"body_markdown":"My bad, don&#39;t know why i put artemis in there or if it did it by itself. What do you mean by &quot;in relation to AMQ&quot;?","body":"My bad, don&#39;t know why i put artemis in there or if it did it by itself. What do you mean by &quot;in relation to AMQ&quot;?"},{"owner":{"account_id":11481923,"reputation":8281,"user_id":8415703,"accept_rate":83,"display_name":"Dovmo"},"score":0,"creation_date":1518104348,"post_id":48645631,"comment_id":84376533,"body_markdown":"That is, when I googled about the benchmark of sending 8GB using 50MB of RAM, I saw that in the Artemis documentation (mentioned above), but not in the ActiveMQ5 documentation anywhere","body":"That is, when I googled about the benchmark of sending 8GB using 50MB of RAM, I saw that in the Artemis documentation (mentioned above), but not in the ActiveMQ5 documentation anywhere"},{"owner":{"account_id":12890408,"reputation":11,"user_id":9322596,"display_name":"Ayeyebraso"},"score":0,"creation_date":1518104941,"post_id":48645631,"comment_id":84376967,"body_markdown":"yes it&#39;s mentioned only on the artemis documantation","body":"yes it&#39;s mentioned only on the artemis documantation"}],"owner":{"account_id":12890408,"reputation":11,"user_id":9322596,"display_name":"Ayeyebraso"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4362,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696295571,"creation_date":1517928301,"question_id":48645631,"body_markdown":"All I could find is that there isn&#39;t a specific limit to message size, but it&#39;s dictated by the heap memory allocated to the JVM. Anyway smaller messages are better. I&#39;m trying to send a 1Gb file with ActiveMQ &quot;Classic&quot; without running into out-of-memory errors. I&#39;ve read that the guys using ActiveMQ Artemis managed to do 8Gb using 50Mb of ram, but it takes me at least 4Gb to send 1Gb (using the &quot;blob&quot; message from ActiveMQ &quot;Classic&quot;). Anyone has any idea why?","title":"Is there a max size to JMS message size in ActiveMQ &quot;Classic&quot;?","body":"<p>All I could find is that there isn't a specific limit to message size, but it's dictated by the heap memory allocated to the JVM. Anyway smaller messages are better. I'm trying to send a 1Gb file with ActiveMQ &quot;Classic&quot; without running into out-of-memory errors. I've read that the guys using ActiveMQ Artemis managed to do 8Gb using 50Mb of ram, but it takes me at least 4Gb to send 1Gb (using the &quot;blob&quot; message from ActiveMQ &quot;Classic&quot;). Anyone has any idea why?</p>\n"},{"tags":["java","spring-integration","mqtt","paho"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1517582134,"creation_date":1517582134,"answer_id":48584922,"question_id":48581710,"body_markdown":"I found this [article][1] with some recommendations like:\r\n\r\n&gt; setting max in-flight to 65535 is not recommended – some space for IDs should be left for those service packets to avoid same “Internal error, caused by no new message IDs being available” exception.\r\n\r\nBut then above the author says:\r\n\r\n&gt; Still, setting max in-flight to 65000 or so (or even 32768, half of possible IDs space) will give one much more space for queued to be published QoS 1/2 messages than default limit of 10\r\n\r\n\r\nThe &quot;fallback to QoS 0&quot; is a good choice as well.\r\n\r\nWe can expose `maxInflight` option on the `DefaultMqttPahoClientFactory` though for convenience. Fell free to raise a [JIRA][2] on the matter.\r\n\r\n\r\n  [1]: https://mvmn.wordpress.com/2016/07/23/paho-mqtt-client-max-in-flight-messages-for-qos-0/\r\n  [2]: https://jira.spring.io/browse/INT","title":"Is there any downside in increasing max in-flight on Paho MQTT java client?","body":"<p>I found this <a href=\"https://mvmn.wordpress.com/2016/07/23/paho-mqtt-client-max-in-flight-messages-for-qos-0/\" rel=\"noreferrer\">article</a> with some recommendations like:</p>\n\n<blockquote>\n  <p>setting max in-flight to 65535 is not recommended – some space for IDs should be left for those service packets to avoid same “Internal error, caused by no new message IDs being available” exception.</p>\n</blockquote>\n\n<p>But then above the author says:</p>\n\n<blockquote>\n  <p>Still, setting max in-flight to 65000 or so (or even 32768, half of possible IDs space) will give one much more space for queued to be published QoS 1/2 messages than default limit of 10</p>\n</blockquote>\n\n<p>The \"fallback to QoS 0\" is a good choice as well.</p>\n\n<p>We can expose <code>maxInflight</code> option on the <code>DefaultMqttPahoClientFactory</code> though for convenience. Fell free to raise a <a href=\"https://jira.spring.io/browse/INT\" rel=\"noreferrer\">JIRA</a> on the matter.</p>\n"}],"owner":{"account_id":183037,"reputation":1967,"user_id":418170,"display_name":"Wim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2527,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":48584922,"answer_count":1,"score":4,"last_activity_date":1696294970,"creation_date":1517570825,"question_id":48581710,"body_markdown":"I am using Spring Integration MQTT which is using Eclipse Paho client to send MQTT messages to an ActiveMQ Artemis server. When running a performance test on my application I receive an &#39;Too many publishes in progress&#39; error. I know that I can fix this by setting the maxInflight property on the connection options to an higher number (max. 65535).\r\n\r\nDoes anyone know why the default maxInflight is only 10 and if there is any downside to increasing the maxInflight?\r\n ","title":"Is there any downside in increasing max in-flight on Paho MQTT java client?","body":"<p>I am using Spring Integration MQTT which is using Eclipse Paho client to send MQTT messages to an ActiveMQ Artemis server. When running a performance test on my application I receive an 'Too many publishes in progress' error. I know that I can fix this by setting the maxInflight property on the connection options to an higher number (max. 65535).</p>\n<p>Does anyone know why the default maxInflight is only 10 and if there is any downside to increasing the maxInflight?</p>\n"},{"tags":["java","activemq-artemis","jgroups"],"owner":{"account_id":23937954,"reputation":117,"user_id":17931470,"display_name":"Subhidh Agarwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696294854,"creation_date":1689889747,"question_id":76733921,"body_markdown":"I am running ActiveMQ Artemis 2.29.0 on AKS. There are 2 pods running on cluster mode. I have configured cluster using JGroup `KUBE_PING`. The clusters are formed, and working as expected. But I am getting some error at random time of day.\r\n```\r\njava.lang.IllegalStateException: BaseServer.NioConnection.readPeerAddress(): cookie read by 10.1.3.51:7900 does not match own cookie; terminating connection\r\n\tat org.jgroups.blocks.cs.NioConnection.readPeerAddress(NioConnection.java:387) ~[jgroups-5.2.0.Final.jar:5.2.0.Final]\r\n\tat org.jgroups.blocks.cs.NioConnection._receive(NioConnection.java:242) ~[jgroups-5.2.0.Final.jar:5.2.0.Final]\r\n\tat org.jgroups.blocks.cs.NioConnection$Reader._run(NioConnection.java:495) [jgroups-5.2.0.Final.jar:5.2.0.Final]\r\n\tat org.jgroups.blocks.cs.NioConnection$Reader.run(NioConnection.java:483) [jgroups-5.2.0.Final.jar:5.2.0.Final]\r\n\tat java.lang.Thread.run(Thread.java:833) [?:?]\r\n2023-07-19 14:52:55,852 WARN  [org.jgroups.blocks.cs.NioServer] failed handling message\r\njava.lang.IllegalStateException: BaseServer.NioConnection.readPeerAddress(): cookie read by 10.1.3.51:7900 does not match own cookie; terminating connection\r\n\tat org.jgroups.blocks.cs.NioConnection.readPeerAddress(NioConnection.java:387) ~[jgroups-5.2.0.Final.jar:5.2.0.Final]\r\n\tat org.jgroups.blocks.cs.NioConnection._receive(NioConnection.java:242) ~[jgroups-5.2.0.Final.jar:5.2.0.Final]\r\n\tat org.jgroups.blocks.cs.NioConnection$Reader._run(NioConnection.java:495) [jgroups-5.2.0.Final.jar:5.2.0.Final]\r\n\tat org.jgroups.blocks.cs.NioConnection$Reader.run(NioConnection.java:483) [jgroups-5.2.0.Final.jar:5.2.0.Final]\r\n\tat java.lang.Thread.run(Thread.java:833) [?:?]\r\n2023-07-19 14:52:55,853 WARN  [org.jgroups.protocols.TCP] JGRP000006: failed accepting connection from peer Socket[addr=/10.1.2.237,port=57314,localport=7800]: java.net.SocketException: 10.1.3.51:7800: BaseServer.TcpConnection.readPeerAddress(): cookie sent by /10.1.2.237:57314 does not match own cookie; terminating connection\r\njava.net.SocketException: 10.1.3.51:7800: BaseServer.TcpConnection.readPeerAddress(): cookie sent by /10.1.2.237:57314 does not match own cookie; terminating connection\r\n\tat org.jgroups.blocks.cs.TcpConnection.readPeerAddress(TcpConnection.java:254) ~[jgroups-5.2.0.Final.jar:5.2.0.Final]\r\n\tat org.jgroups.blocks.cs.TcpConnection.&lt;init&gt;(TcpConnection.java:55) ~[jgroups-5.2.0.Final.jar:5.2.0.Final]\r\n\tat org.jgroups.blocks.cs.TcpServer$Acceptor.handleAccept(TcpServer.java:115) ~[jgroups-5.2.0.Final.jar:5.2.0.Final]\r\n\tat org.jgroups.blocks.cs.TcpServer$Acceptor.run(TcpServer.java:99) [jgroups-5.2.0.Final.jar:5.2.0.Final]\r\n\tat java.lang.Thread.run(Thread.java:833) [?:?]\r\n2023-07-19 14:52:55,867 WARN  [org.jgroups.protocols.TCP] JGRP000006: failed accepting connection from peer Socket[addr=/10.1.2.237,port=57328,localport=7800]: java.net.SocketException: 10.1.3.51:7800: BaseServer.TcpConnection.readPeerAddress(): cookie sent by /10.1.2.237:57328 does not match own cookie; terminating connection\r\njava.net.SocketException: 10.1.3.51:7800: BaseServer.TcpConnection.readPeerAddress(): cookie sent by /10.1.2.237:57328 does not match own cookie; terminating connection\r\n\tat org.jgroups.blocks.cs.TcpConnection.readPeerAddress(TcpConnection.java:254) ~[jgroups-5.2.0.Final.jar:5.2.0.Final]\r\n\tat org.jgroups.blocks.cs.TcpConnection.&lt;init&gt;(TcpConnection.java:55) ~[jgroups-5.2.0.Final.jar:5.2.0.Final]\r\n\tat org.jgroups.blocks.cs.TcpServer$Acceptor.handleAccept(TcpServer.java:115) ~[jgroups-5.2.0.Final.jar:5.2.0.Final]\r\n\tat org.jgroups.blocks.cs.TcpServer$Acceptor.run(TcpServer.java:99) [jgroups-5.2.0.Final.jar:5.2.0.Final]\r\n\tat java.lang.Thread.run(Thread.java:833) [?:?]\r\n```\r\nJgroup.xml\r\n```xml\r\n&lt;config xmlns=&quot;urn:org:jgroups&quot;\r\n xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n xsi:schemaLocation=&quot;urn:org:jgroups http://www.jgroups.org/schema/jgroups.xsd&quot;&gt;\r\n &lt;TCP\r\n external_addr=&quot;${JGROUPS_EXTERNAL_ADDR:match-interface:eth0}&quot;\r\n bind_addr=&quot;site_local,match-interface:eth0&quot;\r\n bind_port=&quot;${TCP_PORT:7800}&quot;\r\n recv_buf_size=&quot;5M&quot;\r\n send_buf_size=&quot;1M&quot;\r\n thread_naming_pattern=&quot;cl&quot;\r\n thread_pool.min_threads=&quot;2&quot;\r\n thread_pool.max_threads=&quot;500&quot;\r\n thread_pool.keep_alive_time=&quot;30000&quot; /&gt;\r\n &lt;RED/&gt;\r\n\r\n &lt;org.jgroups.protocols.kubernetes.KUBE_PING namespace=&quot;${KUBERNETES_NAMESPACE:activemq}&quot;\r\n labels=&quot;app=activemq-active-active&quot; masterHost=&quot;kubernetes.default.svc&quot; masterPort=&quot;443&quot; masterProtocol=&quot;https&quot;\r\n caCertFile=&quot;/var/run/secrets/kubernetes.io/serviceaccount/ca.crt&quot;\r\n saTokenFile=&quot;/var/run/secrets/kubernetes.io/serviceaccount/token&quot;\r\n /&gt;\r\n\r\n &lt;MERGE3 max_interval=&quot;30000&quot;\r\n\r\n min_interval=&quot;10000&quot;/&gt;\r\n &lt;FD_SOCK external_addr=&quot;${JGROUPS_EXTERNAL_ADDR}&quot;\r\n start_port=&quot;${FD_SOCK_PORT:9000}&quot;/&gt;\r\n &lt;FD_ALL timeout=&quot;30000&quot; interval=&quot;5000&quot;/&gt;\r\n &lt;VERIFY_SUSPECT timeout=&quot;1500&quot; /&gt;\r\n &lt;BARRIER /&gt;\r\n &lt;pbcast.NAKACK2 xmit_interval=&quot;500&quot;\r\n xmit_table_num_rows=&quot;100&quot;\r\n xmit_table_msgs_per_row=&quot;2000&quot;\r\n xmit_table_max_compaction_time=&quot;30000&quot;\r\n use_mcast_xmit=&quot;false&quot;\r\n discard_delivered_msgs=&quot;true&quot; /&gt;\r\n &lt;UNICAST3\r\n xmit_table_num_rows=&quot;100&quot;\r\n xmit_table_msgs_per_row=&quot;1000&quot;\r\n xmit_table_max_compaction_time=&quot;30000&quot;/&gt;\r\n &lt;pbcast.STABLE desired_avg_gossip=&quot;50000&quot;\r\n max_bytes=&quot;8m&quot;/&gt;\r\n &lt;pbcast.GMS print_local_addr=&quot;true&quot; join_timeout=&quot;3000&quot;/&gt;\r\n &lt;MFC max_credits=&quot;2M&quot;\r\n min_threshold=&quot;0.4&quot;/&gt;\r\n &lt;FRAG2 frag_size=&quot;60K&quot; /&gt;\r\n &lt;pbcast.STATE_TRANSFER /&gt;\r\n &lt;CENTRAL_LOCK /&gt;\r\n &lt;COUNTER/&gt;\r\n&lt;/config&gt;\r\n```\r\n\r\n\r\nI tried searching for it, but could not understand.\r\nThis same error is also coming when using FILE_PING with shared storage.\r\n\r\nCan someone help me with this? Any suggestions would be appreciated.","title":"JGRP000006: failed accepting connection from peer Socket","body":"<p>I am running ActiveMQ Artemis 2.29.0 on AKS. There are 2 pods running on cluster mode. I have configured cluster using JGroup <code>KUBE_PING</code>. The clusters are formed, and working as expected. But I am getting some error at random time of day.</p>\n<pre><code>java.lang.IllegalStateException: BaseServer.NioConnection.readPeerAddress(): cookie read by 10.1.3.51:7900 does not match own cookie; terminating connection\n    at org.jgroups.blocks.cs.NioConnection.readPeerAddress(NioConnection.java:387) ~[jgroups-5.2.0.Final.jar:5.2.0.Final]\n    at org.jgroups.blocks.cs.NioConnection._receive(NioConnection.java:242) ~[jgroups-5.2.0.Final.jar:5.2.0.Final]\n    at org.jgroups.blocks.cs.NioConnection$Reader._run(NioConnection.java:495) [jgroups-5.2.0.Final.jar:5.2.0.Final]\n    at org.jgroups.blocks.cs.NioConnection$Reader.run(NioConnection.java:483) [jgroups-5.2.0.Final.jar:5.2.0.Final]\n    at java.lang.Thread.run(Thread.java:833) [?:?]\n2023-07-19 14:52:55,852 WARN  [org.jgroups.blocks.cs.NioServer] failed handling message\njava.lang.IllegalStateException: BaseServer.NioConnection.readPeerAddress(): cookie read by 10.1.3.51:7900 does not match own cookie; terminating connection\n    at org.jgroups.blocks.cs.NioConnection.readPeerAddress(NioConnection.java:387) ~[jgroups-5.2.0.Final.jar:5.2.0.Final]\n    at org.jgroups.blocks.cs.NioConnection._receive(NioConnection.java:242) ~[jgroups-5.2.0.Final.jar:5.2.0.Final]\n    at org.jgroups.blocks.cs.NioConnection$Reader._run(NioConnection.java:495) [jgroups-5.2.0.Final.jar:5.2.0.Final]\n    at org.jgroups.blocks.cs.NioConnection$Reader.run(NioConnection.java:483) [jgroups-5.2.0.Final.jar:5.2.0.Final]\n    at java.lang.Thread.run(Thread.java:833) [?:?]\n2023-07-19 14:52:55,853 WARN  [org.jgroups.protocols.TCP] JGRP000006: failed accepting connection from peer Socket[addr=/10.1.2.237,port=57314,localport=7800]: java.net.SocketException: 10.1.3.51:7800: BaseServer.TcpConnection.readPeerAddress(): cookie sent by /10.1.2.237:57314 does not match own cookie; terminating connection\njava.net.SocketException: 10.1.3.51:7800: BaseServer.TcpConnection.readPeerAddress(): cookie sent by /10.1.2.237:57314 does not match own cookie; terminating connection\n    at org.jgroups.blocks.cs.TcpConnection.readPeerAddress(TcpConnection.java:254) ~[jgroups-5.2.0.Final.jar:5.2.0.Final]\n    at org.jgroups.blocks.cs.TcpConnection.&lt;init&gt;(TcpConnection.java:55) ~[jgroups-5.2.0.Final.jar:5.2.0.Final]\n    at org.jgroups.blocks.cs.TcpServer$Acceptor.handleAccept(TcpServer.java:115) ~[jgroups-5.2.0.Final.jar:5.2.0.Final]\n    at org.jgroups.blocks.cs.TcpServer$Acceptor.run(TcpServer.java:99) [jgroups-5.2.0.Final.jar:5.2.0.Final]\n    at java.lang.Thread.run(Thread.java:833) [?:?]\n2023-07-19 14:52:55,867 WARN  [org.jgroups.protocols.TCP] JGRP000006: failed accepting connection from peer Socket[addr=/10.1.2.237,port=57328,localport=7800]: java.net.SocketException: 10.1.3.51:7800: BaseServer.TcpConnection.readPeerAddress(): cookie sent by /10.1.2.237:57328 does not match own cookie; terminating connection\njava.net.SocketException: 10.1.3.51:7800: BaseServer.TcpConnection.readPeerAddress(): cookie sent by /10.1.2.237:57328 does not match own cookie; terminating connection\n    at org.jgroups.blocks.cs.TcpConnection.readPeerAddress(TcpConnection.java:254) ~[jgroups-5.2.0.Final.jar:5.2.0.Final]\n    at org.jgroups.blocks.cs.TcpConnection.&lt;init&gt;(TcpConnection.java:55) ~[jgroups-5.2.0.Final.jar:5.2.0.Final]\n    at org.jgroups.blocks.cs.TcpServer$Acceptor.handleAccept(TcpServer.java:115) ~[jgroups-5.2.0.Final.jar:5.2.0.Final]\n    at org.jgroups.blocks.cs.TcpServer$Acceptor.run(TcpServer.java:99) [jgroups-5.2.0.Final.jar:5.2.0.Final]\n    at java.lang.Thread.run(Thread.java:833) [?:?]\n</code></pre>\n<p>Jgroup.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;config xmlns=&quot;urn:org:jgroups&quot;\n xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n xsi:schemaLocation=&quot;urn:org:jgroups http://www.jgroups.org/schema/jgroups.xsd&quot;&gt;\n &lt;TCP\n external_addr=&quot;${JGROUPS_EXTERNAL_ADDR:match-interface:eth0}&quot;\n bind_addr=&quot;site_local,match-interface:eth0&quot;\n bind_port=&quot;${TCP_PORT:7800}&quot;\n recv_buf_size=&quot;5M&quot;\n send_buf_size=&quot;1M&quot;\n thread_naming_pattern=&quot;cl&quot;\n thread_pool.min_threads=&quot;2&quot;\n thread_pool.max_threads=&quot;500&quot;\n thread_pool.keep_alive_time=&quot;30000&quot; /&gt;\n &lt;RED/&gt;\n\n &lt;org.jgroups.protocols.kubernetes.KUBE_PING namespace=&quot;${KUBERNETES_NAMESPACE:activemq}&quot;\n labels=&quot;app=activemq-active-active&quot; masterHost=&quot;kubernetes.default.svc&quot; masterPort=&quot;443&quot; masterProtocol=&quot;https&quot;\n caCertFile=&quot;/var/run/secrets/kubernetes.io/serviceaccount/ca.crt&quot;\n saTokenFile=&quot;/var/run/secrets/kubernetes.io/serviceaccount/token&quot;\n /&gt;\n\n &lt;MERGE3 max_interval=&quot;30000&quot;\n\n min_interval=&quot;10000&quot;/&gt;\n &lt;FD_SOCK external_addr=&quot;${JGROUPS_EXTERNAL_ADDR}&quot;\n start_port=&quot;${FD_SOCK_PORT:9000}&quot;/&gt;\n &lt;FD_ALL timeout=&quot;30000&quot; interval=&quot;5000&quot;/&gt;\n &lt;VERIFY_SUSPECT timeout=&quot;1500&quot; /&gt;\n &lt;BARRIER /&gt;\n &lt;pbcast.NAKACK2 xmit_interval=&quot;500&quot;\n xmit_table_num_rows=&quot;100&quot;\n xmit_table_msgs_per_row=&quot;2000&quot;\n xmit_table_max_compaction_time=&quot;30000&quot;\n use_mcast_xmit=&quot;false&quot;\n discard_delivered_msgs=&quot;true&quot; /&gt;\n &lt;UNICAST3\n xmit_table_num_rows=&quot;100&quot;\n xmit_table_msgs_per_row=&quot;1000&quot;\n xmit_table_max_compaction_time=&quot;30000&quot;/&gt;\n &lt;pbcast.STABLE desired_avg_gossip=&quot;50000&quot;\n max_bytes=&quot;8m&quot;/&gt;\n &lt;pbcast.GMS print_local_addr=&quot;true&quot; join_timeout=&quot;3000&quot;/&gt;\n &lt;MFC max_credits=&quot;2M&quot;\n min_threshold=&quot;0.4&quot;/&gt;\n &lt;FRAG2 frag_size=&quot;60K&quot; /&gt;\n &lt;pbcast.STATE_TRANSFER /&gt;\n &lt;CENTRAL_LOCK /&gt;\n &lt;COUNTER/&gt;\n&lt;/config&gt;\n</code></pre>\n<p>I tried searching for it, but could not understand.\nThis same error is also coming when using FILE_PING with shared storage.</p>\n<p>Can someone help me with this? Any suggestions would be appreciated.</p>\n"},{"tags":["java","eclipse","activemq"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1536665495,"post_id":52274591,"comment_id":91497142,"body_markdown":"You have to run it as _Eclipse Application_ (part of [PDE](https://www.eclipse.org/pde/)), not as _Java Application_. Also, a target platform must be specified. Alternatively, you could debug it remotely.","body":"You have to run it as <i>Eclipse Application</i> (part of <a href=\"https://www.eclipse.org/pde/\" rel=\"nofollow noreferrer\">PDE</a>), not as <i>Java Application</i>. Also, a target platform must be specified. Alternatively, you could debug it remotely."}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536702604,"creation_date":1536702604,"answer_id":52284667,"question_id":52274591,"body_markdown":"I would suggest using remote debugging which can be used by any modern Java IDE (e.g. Eclipse, IDEA, etc.). Follow these steps:\r\n\r\n 1. Grab the ActiveMQ [source code][1] which corresponds to the version of the broker you&#39;re running.\r\n 2. Open the `env` file in the `bin` directory of your ActiveMQ instance and uncomment the line defining `ACTIVEMQ_DEBUG_OPTS`.\r\n 3. Set a break-point with your IDE in the ActiveMQ code.\r\n 4. Start the broker.\r\n 5. Attach the debugger.\r\n 6. Reproduce your problem and debug the code from the break-point you set.\r\n\r\n\r\n  [1]: https://github.com/apache/activemq/releases","title":"How to go about debugging big plugin-oriented Java projects e.g. ActiveMQ(non-Artemis) in Eclipse?","body":"<p>I would suggest using remote debugging which can be used by any modern Java IDE (e.g. Eclipse, IDEA, etc.). Follow these steps:</p>\n\n<ol>\n<li>Grab the ActiveMQ <a href=\"https://github.com/apache/activemq/releases\" rel=\"nofollow noreferrer\">source code</a> which corresponds to the version of the broker you're running.</li>\n<li>Open the <code>env</code> file in the <code>bin</code> directory of your ActiveMQ instance and uncomment the line defining <code>ACTIVEMQ_DEBUG_OPTS</code>.</li>\n<li>Set a break-point with your IDE in the ActiveMQ code.</li>\n<li>Start the broker.</li>\n<li>Attach the debugger.</li>\n<li>Reproduce your problem and debug the code from the break-point you set.</li>\n</ol>\n"}],"owner":{"account_id":30334,"reputation":9457,"user_id":82673,"accept_rate":71,"display_name":"AndreasT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696294012,"creation_date":1536664360,"question_id":52274591,"body_markdown":"I usually got by with elaborate logging configurations. But now I want to debug parts of the ActiveMQ &quot;Classic&quot; 5.15.5 broker component in Eclipse (Photon). After downloading, building and running `mvn eclipse:eclipse` I now have a workspace full of component projects with no associated run configurations. For some reason `mvn install` generates an executable in `activemq-assembly/src/release/bin` but that seems to be limited and it is not obvious, what it is that I have to tell Eclipse to run.\r\n\r\nI have had similar problems before.\r\nIn general: Do I just guess a `Main` (there are a&#39;plenty) and search with trial-and-error? Or is there a structured approach that you can take towards debugging such loosely coupled applications?","title":"How to go about debugging big plugin-oriented Java projects e.g. ActiveMQ(non-Artemis) in Eclipse?","body":"<p>I usually got by with elaborate logging configurations. But now I want to debug parts of the ActiveMQ &quot;Classic&quot; 5.15.5 broker component in Eclipse (Photon). After downloading, building and running <code>mvn eclipse:eclipse</code> I now have a workspace full of component projects with no associated run configurations. For some reason <code>mvn install</code> generates an executable in <code>activemq-assembly/src/release/bin</code> but that seems to be limited and it is not obvious, what it is that I have to tell Eclipse to run.</p>\n<p>I have had similar problems before.\nIn general: Do I just guess a <code>Main</code> (there are a'plenty) and search with trial-and-error? Or is there a structured approach that you can take towards debugging such loosely coupled applications?</p>\n"},{"tags":["java","activemq"],"answers":[{"tags":[],"owner":{"account_id":157630,"reputation":17688,"user_id":375722,"display_name":"Tim Bish"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1558288314,"creation_date":1558288314,"answer_id":56210493,"question_id":56209982,"body_markdown":"JMS 1.1 does support durable subscriptions, you simply need to look at the [API docs][1] to find out how, here&#39;s one [method][2] that would create a durable Topic subscriber.\r\n\r\nI&#39;ve answered the what is the right JMS dependency before on SO, see [here][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/6/api/javax/jms/Session.html\r\n  [2]: https://docs.oracle.com/javaee/6/api/javax/jms/Session.html#createDurableSubscriber(javax.jms.Topic,%20java.lang.String,%20java.lang.String,%20boolean)\r\n  [3]: https://stackoverflow.com/questions/6334323/what-is-the-right-maven-dependency-for-javax-jms-classes","title":"ActiveMQ &quot;Classic&quot; 5.x and DurableConsumer","body":"<p>JMS 1.1 does support durable subscriptions, you simply need to look at the <a href=\"https://docs.oracle.com/javaee/6/api/javax/jms/Session.html\" rel=\"nofollow noreferrer\">API docs</a> to find out how, here's one <a href=\"https://docs.oracle.com/javaee/6/api/javax/jms/Session.html#createDurableSubscriber(javax.jms.Topic,%20java.lang.String,%20java.lang.String,%20boolean)\" rel=\"nofollow noreferrer\">method</a> that would create a durable Topic subscriber.</p>\n\n<p>I've answered the what is the right JMS dependency before on SO, see <a href=\"https://stackoverflow.com/questions/6334323/what-is-the-right-maven-dependency-for-javax-jms-classes\">here</a>.</p>\n"}],"owner":{"account_id":2802595,"reputation":3065,"user_id":2410547,"accept_rate":37,"display_name":"Ronaldo Lanhellas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696292466,"creation_date":1558284459,"question_id":56209982,"body_markdown":"I&#39;m trying to create a durable consumer using ActiveMQ &quot;Classic&quot; 5.x so I have the following:\r\n```java\r\nprivate static void consumeFromTopic() throws JMSException, NamingException {\r\n    javax.naming.Context ctx = new InitialContext();\r\n\r\n    ConnectionFactory factory = (ConnectionFactory) ctx.lookup(&quot;ConnectionFactory&quot;);\r\n    Connection connection = factory.createConnection();\r\n    Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n    Topic topic = session.createTopic(&quot;topic-queue&quot;);\r\n    MessageConsumer consumer = session.createDurableConsumer(topic, &quot;lanhellas-durable-consumer&quot;);\r\n    consumer.setMessageListener(new MyListener());\r\n\r\n    connection.start();\r\n}\r\n```\r\nWhen i try to start my consumer i got the following:\r\n```\r\nException in thread &quot;main&quot; java.lang.AbstractMethodError: org.apache.activemq.ActiveMQSession.createDurableConsumer(Ljavax/jms/Topic;Ljava/lang/String;)Ljavax/jms/MessageConsumer;\r\n```\r\nThis is my `pom.xml`:\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;javax.jms-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;activemq-core&lt;/artifactId&gt;\r\n\t&lt;version&gt;5.7.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nSo, reading more about ActiveMQ &quot;Classic&quot; 5.x I discovered that only support JMS 1.x and this method is not supported in this version, so i will need to change to Apache Artemis that support JMS 2.0, but i have some doubts about it:\r\n\r\n 1. What is the correct `javax.jms-api` version to work with ActiveMQ &quot;Classic&quot; 5.x library ?\r\n 2. Why ActiveMQ &quot;Classic&quot; 5.x broker (console management) have support to durable consumer if this is not supported in JMS 1.x ?\r\n 3. What is the correct versions and dependencies to work with Apache Artemis ?\r\n\r\n","title":"ActiveMQ &quot;Classic&quot; 5.x and DurableConsumer","body":"<p>I'm trying to create a durable consumer using ActiveMQ &quot;Classic&quot; 5.x so I have the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void consumeFromTopic() throws JMSException, NamingException {\n    javax.naming.Context ctx = new InitialContext();\n\n    ConnectionFactory factory = (ConnectionFactory) ctx.lookup(&quot;ConnectionFactory&quot;);\n    Connection connection = factory.createConnection();\n    Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n    Topic topic = session.createTopic(&quot;topic-queue&quot;);\n    MessageConsumer consumer = session.createDurableConsumer(topic, &quot;lanhellas-durable-consumer&quot;);\n    consumer.setMessageListener(new MyListener());\n\n    connection.start();\n}\n</code></pre>\n<p>When i try to start my consumer i got the following:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.AbstractMethodError: org.apache.activemq.ActiveMQSession.createDurableConsumer(Ljavax/jms/Topic;Ljava/lang/String;)Ljavax/jms/MessageConsumer;\n</code></pre>\n<p>This is my <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.jms-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n    &lt;artifactId&gt;activemq-core&lt;/artifactId&gt;\n    &lt;version&gt;5.7.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>So, reading more about ActiveMQ &quot;Classic&quot; 5.x I discovered that only support JMS 1.x and this method is not supported in this version, so i will need to change to Apache Artemis that support JMS 2.0, but i have some doubts about it:</p>\n<ol>\n<li>What is the correct <code>javax.jms-api</code> version to work with ActiveMQ &quot;Classic&quot; 5.x library ?</li>\n<li>Why ActiveMQ &quot;Classic&quot; 5.x broker (console management) have support to durable consumer if this is not supported in JMS 1.x ?</li>\n<li>What is the correct versions and dependencies to work with Apache Artemis ?</li>\n</ol>\n"},{"tags":["java","spring","hibernate","amazon-ec2","tomcat7"],"comments":[{"owner":{"account_id":249119,"reputation":13921,"user_id":524946,"display_name":"jpkroehling"},"score":1,"creation_date":1386931029,"post_id":20564070,"comment_id":30757293,"body_markdown":"There are so many things that might have gone wrong here... What the exception is telling you is that the particular jar couldn&#39;t be opened. I&#39;d bet that the jar file was corrupt at the time of the reading by Tomcat. So, the first thing to try is to unzip the jar into a temporary location (/tmp, for instance). If it unzips fine, then try to just restart Tomcat. If the problem persists, then try to deploy the exact same webapp into a local Tomcat instance. Really, there&#39;s not much that can be done with this level of information...","body":"There are so many things that might have gone wrong here... What the exception is telling you is that the particular jar couldn&#39;t be opened. I&#39;d bet that the jar file was corrupt at the time of the reading by Tomcat. So, the first thing to try is to unzip the jar into a temporary location (/tmp, for instance). If it unzips fine, then try to just restart Tomcat. If the problem persists, then try to deploy the exact same webapp into a local Tomcat instance. Really, there&#39;s not much that can be done with this level of information..."},{"owner":{"account_id":999669,"reputation":7922,"user_id":1014830,"accept_rate":57,"display_name":"dharam"},"score":0,"creation_date":1386935872,"post_id":20564070,"comment_id":30759870,"body_markdown":"Yeah you are right... this level of information is seriously not helping.. but unfortunately, I do not see anything more relevant to furnish.. Will try with local tomcat though","body":"Yeah you are right... this level of information is seriously not helping.. but unfortunately, I do not see anything more relevant to furnish.. Will try with local tomcat though"}],"answers":[{"comments":[{"owner":{"account_id":2329584,"reputation":381,"user_id":2043330,"accept_rate":33,"display_name":"madhu kotagiri"},"score":0,"creation_date":1430296764,"post_id":27151816,"comment_id":47998150,"body_markdown":"how to increase momery ?","body":"how to increase momery ?"}],"tags":[],"owner":{"account_id":139529,"reputation":257,"user_id":345181,"accept_rate":75,"display_name":"Martin Potthast"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417012649,"creation_date":1417012649,"answer_id":27151816,"question_id":20564070,"body_markdown":"I experienced a similar problem right now, and the solution was also to increase the memory given to Tomcat.\r\n\r\nFor the record, the error I got was this:\r\n\r\n    INFO: Deploying web application archive /var/lib/tomcat7/webapps/mywar.war\r\n    Nov 26, 2014 2:52:09 PM org.apache.catalina.loader.WebappClassLoader validateJarFile\r\n    INFO: validateJarFile(/var/lib/tomcat7/webapps/mywar/WEB-INF/lib/javax.servlet-3.0.jar) - jar not loaded. See Servlet Spec 2.3, section 9.7.2. Offending class: javax/servlet/Servlet.class\r\n    Nov 26, 2014 2:52:09 PM org.apache.tomcat.util.scan.StandardJarScanner scan\r\n    WARNING: Failed to scan [file:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/ext/pulse-java.jar] from classloader hierarchy\r\n    java.io.FileNotFoundException: /usr/lib/jvm/java-7-openjdk-amd64/jre/lib/ext/pulse-java.jar (No such file or directory)\r\n            at java.util.zip.ZipFile.open(Native Method)\r\n            at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:215)\r\n            at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:145)\r\n            at java.util.jar.JarFile.&lt;init&gt;(JarFile.java:154)\r\n            at java.util.jar.JarFile.&lt;init&gt;(JarFile.java:91)\r\n            at sun.net.www.protocol.jar.URLJarFile.&lt;init&gt;(URLJarFile.java:93)\r\n            at sun.net.www.protocol.jar.URLJarFile.getJarFile(URLJarFile.java:69)\r\n            at sun.net.www.protocol.jar.JarFileFactory.get(JarFileFactory.java:99)\r\n            at sun.net.www.protocol.jar.JarURLConnection.connect(JarURLConnection.java:122)\r\n            at sun.net.www.protocol.jar.JarURLConnection.getJarFile(JarURLConnection.java:89)\r\n            at org.apache.tomcat.util.scan.FileUrlJar.&lt;init&gt;(FileUrlJar.java:40)\r\n            at org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:34)\r\n            at org.apache.catalina.startup.ContextConfig$FragmentJarScannerCallback.scan(ContextConfig.java:2566)\r\n            at org.apache.tomcat.util.scan.StandardJarScanner.process(StandardJarScanner.java:241)\r\n            at org.apache.tomcat.util.scan.StandardJarScanner.scan(StandardJarScanner.java:204)\r\n            at org.apache.catalina.startup.ContextConfig.processJarsForWebFragments(ContextConfig.java:1864)\r\n            at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1211)\r\n            at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:855)\r\n            at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:345)\r\n            at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\r\n            at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)\r\n            at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5161)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n            at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:895)\r\n            at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:871)\r\n            at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:615)\r\n            at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:958)\r\n            at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1599)\r\n            at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\r\n            at java.util.concurrent.FutureTask.run(FutureTask.java:262)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n            at java.lang.Thread.run(Thread.java:745)\r\n    \r\n    Nov 26, 2014 2:52:09 PM org.apache.catalina.startup.ContextConfig processServletContainerInitializers\r\n    SEVERE: Failed to process JAR found at URL [jar:file:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/ext/pulse-java.jar!/] for ServletContainerInitializers for context with name [/mywar]\r\n    Nov 26, 2014 2:52:09 PM org.apache.catalina.startup.ContextConfig configureStart\r\n    SEVERE: Marking this application unavailable due to previous error(s)\r\n    Nov 26, 2014 2:52:09 PM org.apache.catalina.startup.TldConfig tldScanJar\r\n    WARNING: Failed to process JAR [jar:file:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/ext/pulse-java.jar!/] for TLD files\r\n    java.io.FileNotFoundException: /usr/lib/jvm/java-7-openjdk-amd64/jre/lib/ext/pulse-java.jar (No such file or directory)\r\n            at java.util.zip.ZipFile.open(Native Method)\r\n            at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:215)\r\n            at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:145)\r\n            at java.util.jar.JarFile.&lt;init&gt;(JarFile.java:154)\r\n            at java.util.jar.JarFile.&lt;init&gt;(JarFile.java:91)\r\n            at sun.net.www.protocol.jar.URLJarFile.&lt;init&gt;(URLJarFile.java:93)\r\n            at sun.net.www.protocol.jar.URLJarFile.getJarFile(URLJarFile.java:69)\r\n            at sun.net.www.protocol.jar.JarFileFactory.get(JarFileFactory.java:99)\r\n            at sun.net.www.protocol.jar.JarURLConnection.connect(JarURLConnection.java:122)\r\n            at sun.net.www.protocol.jar.JarURLConnection.getJarFile(JarURLConnection.java:89)\r\n            at org.apache.tomcat.util.scan.FileUrlJar.&lt;init&gt;(FileUrlJar.java:40)\r\n            at org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:34)\r\n            at org.apache.catalina.startup.TldConfig.tldScanJar(TldConfig.java:460)\r\n            at org.apache.catalina.startup.TldConfig.access$100(TldConfig.java:58)\r\n            at org.apache.catalina.startup.TldConfig$TldJarScannerCallback.scan(TldConfig.java:276)\r\n            at org.apache.tomcat.util.scan.StandardJarScanner.process(StandardJarScanner.java:241)\r\n            at org.apache.tomcat.util.scan.StandardJarScanner.scan(StandardJarScanner.java:204)\r\n            at org.apache.catalina.startup.TldConfig.execute(TldConfig.java:250)\r\n            at org.apache.catalina.startup.TldConfig.lifecycleEvent(TldConfig.java:540)\r\n            at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\r\n            at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)\r\n            at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5161)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n            at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:895)\r\n            at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:871)\r\n            at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:615)\r\n            at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:958)\r\n            at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1599)\r\n            at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\r\n            at java.util.concurrent.FutureTask.run(FutureTask.java:262)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n            at java.lang.Thread.run(Thread.java:745)\r\n    \r\n    Nov 26, 2014 2:52:09 PM org.apache.catalina.core.StandardContext startInternal\r\n    SEVERE: Error getConfigured\r\n    Nov 26, 2014 2:52:09 PM org.apache.catalina.core.StandardContext startInternal\r\n    SEVERE: Context [/mywar] startup failed due to previous errors\r\n\r\n\r\nThe pulse-java.jar is not present on my system (never has been). Increasing the memory given to Tomact solved the problem.","title":"Failed to process JAR found at URL [jar:file:bcprov-jdk15-1.46.jar!/] for ServletContainerInitializers for context","body":"<p>I experienced a similar problem right now, and the solution was also to increase the memory given to Tomcat.</p>\n\n<p>For the record, the error I got was this:</p>\n\n<pre><code>INFO: Deploying web application archive /var/lib/tomcat7/webapps/mywar.war\nNov 26, 2014 2:52:09 PM org.apache.catalina.loader.WebappClassLoader validateJarFile\nINFO: validateJarFile(/var/lib/tomcat7/webapps/mywar/WEB-INF/lib/javax.servlet-3.0.jar) - jar not loaded. See Servlet Spec 2.3, section 9.7.2. Offending class: javax/servlet/Servlet.class\nNov 26, 2014 2:52:09 PM org.apache.tomcat.util.scan.StandardJarScanner scan\nWARNING: Failed to scan [file:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/ext/pulse-java.jar] from classloader hierarchy\njava.io.FileNotFoundException: /usr/lib/jvm/java-7-openjdk-amd64/jre/lib/ext/pulse-java.jar (No such file or directory)\n        at java.util.zip.ZipFile.open(Native Method)\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:215)\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:145)\n        at java.util.jar.JarFile.&lt;init&gt;(JarFile.java:154)\n        at java.util.jar.JarFile.&lt;init&gt;(JarFile.java:91)\n        at sun.net.www.protocol.jar.URLJarFile.&lt;init&gt;(URLJarFile.java:93)\n        at sun.net.www.protocol.jar.URLJarFile.getJarFile(URLJarFile.java:69)\n        at sun.net.www.protocol.jar.JarFileFactory.get(JarFileFactory.java:99)\n        at sun.net.www.protocol.jar.JarURLConnection.connect(JarURLConnection.java:122)\n        at sun.net.www.protocol.jar.JarURLConnection.getJarFile(JarURLConnection.java:89)\n        at org.apache.tomcat.util.scan.FileUrlJar.&lt;init&gt;(FileUrlJar.java:40)\n        at org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:34)\n        at org.apache.catalina.startup.ContextConfig$FragmentJarScannerCallback.scan(ContextConfig.java:2566)\n        at org.apache.tomcat.util.scan.StandardJarScanner.process(StandardJarScanner.java:241)\n        at org.apache.tomcat.util.scan.StandardJarScanner.scan(StandardJarScanner.java:204)\n        at org.apache.catalina.startup.ContextConfig.processJarsForWebFragments(ContextConfig.java:1864)\n        at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1211)\n        at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:855)\n        at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:345)\n        at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5161)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:895)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:871)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:615)\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:958)\n        at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1599)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:262)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n        at java.lang.Thread.run(Thread.java:745)\n\nNov 26, 2014 2:52:09 PM org.apache.catalina.startup.ContextConfig processServletContainerInitializers\nSEVERE: Failed to process JAR found at URL [jar:file:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/ext/pulse-java.jar!/] for ServletContainerInitializers for context with name [/mywar]\nNov 26, 2014 2:52:09 PM org.apache.catalina.startup.ContextConfig configureStart\nSEVERE: Marking this application unavailable due to previous error(s)\nNov 26, 2014 2:52:09 PM org.apache.catalina.startup.TldConfig tldScanJar\nWARNING: Failed to process JAR [jar:file:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/ext/pulse-java.jar!/] for TLD files\njava.io.FileNotFoundException: /usr/lib/jvm/java-7-openjdk-amd64/jre/lib/ext/pulse-java.jar (No such file or directory)\n        at java.util.zip.ZipFile.open(Native Method)\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:215)\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:145)\n        at java.util.jar.JarFile.&lt;init&gt;(JarFile.java:154)\n        at java.util.jar.JarFile.&lt;init&gt;(JarFile.java:91)\n        at sun.net.www.protocol.jar.URLJarFile.&lt;init&gt;(URLJarFile.java:93)\n        at sun.net.www.protocol.jar.URLJarFile.getJarFile(URLJarFile.java:69)\n        at sun.net.www.protocol.jar.JarFileFactory.get(JarFileFactory.java:99)\n        at sun.net.www.protocol.jar.JarURLConnection.connect(JarURLConnection.java:122)\n        at sun.net.www.protocol.jar.JarURLConnection.getJarFile(JarURLConnection.java:89)\n        at org.apache.tomcat.util.scan.FileUrlJar.&lt;init&gt;(FileUrlJar.java:40)\n        at org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:34)\n        at org.apache.catalina.startup.TldConfig.tldScanJar(TldConfig.java:460)\n        at org.apache.catalina.startup.TldConfig.access$100(TldConfig.java:58)\n        at org.apache.catalina.startup.TldConfig$TldJarScannerCallback.scan(TldConfig.java:276)\n        at org.apache.tomcat.util.scan.StandardJarScanner.process(StandardJarScanner.java:241)\n        at org.apache.tomcat.util.scan.StandardJarScanner.scan(StandardJarScanner.java:204)\n        at org.apache.catalina.startup.TldConfig.execute(TldConfig.java:250)\n        at org.apache.catalina.startup.TldConfig.lifecycleEvent(TldConfig.java:540)\n        at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5161)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:895)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:871)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:615)\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:958)\n        at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1599)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:262)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n        at java.lang.Thread.run(Thread.java:745)\n\nNov 26, 2014 2:52:09 PM org.apache.catalina.core.StandardContext startInternal\nSEVERE: Error getConfigured\nNov 26, 2014 2:52:09 PM org.apache.catalina.core.StandardContext startInternal\nSEVERE: Context [/mywar] startup failed due to previous errors\n</code></pre>\n\n<p>The pulse-java.jar is not present on my system (never has been). Increasing the memory given to Tomact solved the problem.</p>\n"}],"owner":{"account_id":999669,"reputation":7922,"user_id":1014830,"accept_rate":57,"display_name":"dharam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8206,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696291565,"creation_date":1386930217,"question_id":20564070,"body_markdown":"I have a seven web applications developed in Spring 3.2, all annotation based. I am using Hibernate 4.2 as my ORM framework. \r\n\r\nI create a tomcat image with all the seven wars packed inside and use the same for deployment on Amazon EC2.\r\n\r\nFor last couple of days I have been encountering the below error message almost at every deployment:\r\n\r\n    WARNING: Failed to scan JAR [file:/opt/progress/CloudServices/server/webapps/cs-    \r\n    account/WEB-INF/lib/bcprov-jdk15-1.46.jar] from WEB-INF/lib\r\n    java.util.zip.ZipException: error in opening zip file\r\n    at java.util.zip.ZipFile.open(Native Method)\r\n    at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:127)\r\n    at java.util.jar.JarFile.&lt;init&gt;(JarFile.java:135)\r\n    at java.util.jar.JarFile.&lt;init&gt;(JarFile.java:72)\r\n    at sun.net.www.protocol.jar.URLJarFile.&lt;init&gt;(URLJarFile.java:72)\r\n    at sun.net.www.protocol.jar.URLJarFile.getJarFile(URLJarFile.java:48)\r\n    at sun.net.www.protocol.jar.JarFileFactory.get(JarFileFactory.java:70)\r\n    at sun.net.www.protocol.jar.JarURLConnection.connect(JarURLConnection.java:104)\r\n    at sun.net.www.protocol.jar.JarURLConnection.getJarFile(JarURLConnection.java:71)\r\n    at org.apache.tomcat.util.scan.FileUrlJar.&lt;init&gt;(FileUrlJar.java:41)\r\n    at org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:34)\r\n    at org.apache.catalina.startup.ContextConfig$FragmentJarScannerCallback.scan(ContextConfig.java:2566)\r\n    at org.apache.tomcat.util.scan.StandardJarScanner.process(StandardJarScanner.java:241)\r\n    at org.apache.tomcat.util.scan.StandardJarScanner.scan(StandardJarScanner.java:166)\r\n    at org.apache.catalina.startup.ContextConfig.processJarsForWebFragments(ContextConfig.java:1864)\r\n    at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1211)\r\n    at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:855)\r\n    at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:345)\r\n    at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\r\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)\r\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5161)\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:895)\r\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:871)\r\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:615)\r\n    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:962)\r\n    at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1603)\r\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)\r\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\r\n    at java.util.concurrent.FutureTask.run(FutureTask.java:138)\r\n    at    \r\n    java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n    at java.lang.Thread.run(Thread.java:662)\r\n\r\n**Note** This was working fine earlier, the current code base might have added on or two more classes.\r\n\r\nNot able to understand the exact problem. Any help would be really appreciated.\r\n\r\n**Update**\r\n\r\nWhen I increase the memory allocated to the JVM, this works fine every time.\r\nAlso, if I delete the exploded war of the project which failed to deploy and re-copy the war at the webapps directory of tomcat, it works well.","title":"Failed to process JAR found at URL [jar:file:bcprov-jdk15-1.46.jar!/] for ServletContainerInitializers for context","body":"<p>I have a seven web applications developed in Spring 3.2, all annotation based. I am using Hibernate 4.2 as my ORM framework. </p>\n\n<p>I create a tomcat image with all the seven wars packed inside and use the same for deployment on Amazon EC2.</p>\n\n<p>For last couple of days I have been encountering the below error message almost at every deployment:</p>\n\n<pre><code>WARNING: Failed to scan JAR [file:/opt/progress/CloudServices/server/webapps/cs-    \naccount/WEB-INF/lib/bcprov-jdk15-1.46.jar] from WEB-INF/lib\njava.util.zip.ZipException: error in opening zip file\nat java.util.zip.ZipFile.open(Native Method)\nat java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:127)\nat java.util.jar.JarFile.&lt;init&gt;(JarFile.java:135)\nat java.util.jar.JarFile.&lt;init&gt;(JarFile.java:72)\nat sun.net.www.protocol.jar.URLJarFile.&lt;init&gt;(URLJarFile.java:72)\nat sun.net.www.protocol.jar.URLJarFile.getJarFile(URLJarFile.java:48)\nat sun.net.www.protocol.jar.JarFileFactory.get(JarFileFactory.java:70)\nat sun.net.www.protocol.jar.JarURLConnection.connect(JarURLConnection.java:104)\nat sun.net.www.protocol.jar.JarURLConnection.getJarFile(JarURLConnection.java:71)\nat org.apache.tomcat.util.scan.FileUrlJar.&lt;init&gt;(FileUrlJar.java:41)\nat org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:34)\nat org.apache.catalina.startup.ContextConfig$FragmentJarScannerCallback.scan(ContextConfig.java:2566)\nat org.apache.tomcat.util.scan.StandardJarScanner.process(StandardJarScanner.java:241)\nat org.apache.tomcat.util.scan.StandardJarScanner.scan(StandardJarScanner.java:166)\nat org.apache.catalina.startup.ContextConfig.processJarsForWebFragments(ContextConfig.java:1864)\nat org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1211)\nat org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:855)\nat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:345)\nat org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\nat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5161)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\nat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:895)\nat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:871)\nat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:615)\nat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:962)\nat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1603)\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)\nat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\nat java.util.concurrent.FutureTask.run(FutureTask.java:138)\nat    \njava.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\nat java.lang.Thread.run(Thread.java:662)\n</code></pre>\n\n<p><strong>Note</strong> This was working fine earlier, the current code base might have added on or two more classes.</p>\n\n<p>Not able to understand the exact problem. Any help would be really appreciated.</p>\n\n<p><strong>Update</strong></p>\n\n<p>When I increase the memory allocated to the JVM, this works fine every time.\nAlso, if I delete the exploded war of the project which failed to deploy and re-copy the war at the webapps directory of tomcat, it works well.</p>\n"},{"tags":["java","android","database","android-permissions"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1678541786,"post_id":75705240,"comment_id":133554590,"body_markdown":"You shouldn&#39;t request `WRITE_EXTERNAL_STORAGE` for Android 10+; it has no effect. Give that a try","body":"You shouldn&#39;t request <code>WRITE_EXTERNAL_STORAGE</code> for Android 10+; it has no effect. Give that a try"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1678543166,"post_id":75705240,"comment_id":133554820,"body_markdown":"You cannot write to arbitrary locations on external storage on Android 11+. Also, having  live SQLite database in user-accessible storage is very risky -- if they try manipulating those files at the same time that your app does, you might run into data corruption. I recommend keeping your database in the default location and offering backup/restore or import/export features in your app.","body":"You cannot write to arbitrary locations on external storage on Android 11+. Also, having  live SQLite database in user-accessible storage is very risky -- if they try manipulating those files at the same time that your app does, you might run into data corruption. I recommend keeping your database in the default location and offering backup/restore or import/export features in your app."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1678543389,"post_id":75705240,"comment_id":133554865,"body_markdown":"if (!file.exists()) \n     if(! file.mkdirs()) return;","body":"if (!file.exists())       if(! file.mkdirs()) return;"}],"answers":[{"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1678543451,"post_id":75705340,"comment_id":133554876,"body_markdown":"It has effect and is needed on all Android devices with Android version below 13. So yes it should be requested then. Throw away that doc.","body":"It has effect and is needed on all Android devices with Android version below 13. So yes it should be requested then. Throw away that doc."},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1678544129,"post_id":75705340,"comment_id":133554994,"body_markdown":"@blackapps Do you have any reference for that? I have an app up and running without requesting that permission API 10+; the callback of the permission dialog didn&#39;t even get triggered","body":"@blackapps Do you have any reference for that? I have an app up and running without requesting that permission API 10+; the callback of the permission dialog didn&#39;t even get triggered"},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1678641629,"post_id":75705340,"comment_id":133568863,"body_markdown":"Make sure to handle the `context` association to the `SDCARD`","body":"Make sure to handle the <code>context</code> association to the <code>SDCARD</code>"}],"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696291257,"creation_date":1678542047,"answer_id":75705340,"question_id":75705240,"body_markdown":"You shouldn&#39;t request `WRITE_EXTERNAL_STORAGE` for Android 10+; it has no effect. \r\n\r\n[In documentation:][1]\r\n&gt; Note: If your app targets Build.VERSION_CODES.R or higher, this permission has no effect. \r\n\r\nSo, you need to go ahead without requesting the permission for Android 10+\r\n\r\n```\r\nprivate void askUserForPermission() {\r\n\tif (SDK_INT &lt; Build.VERSION_CODES.Q)\r\n\t\tActivityCompat.requestPermissions(this, new String[]\r\n                                    {Manifest.permission.WRITE_EXTERNAL_STORAGE}, 100);\r\n\telse\r\n\t\tcreateAppDir();\r\n}\r\n```\r\n\r\nNotice that you are requesting permission with a deprecated API, check [this question][2] for the alternative API\r\n\r\nAlso, consider the worthy [comment][3] pointed out by CommonsWare\r\n\r\n**Update:**\r\n\r\n\r\n\r\n&gt;```\r\n&gt; Caused by: android.database.sqlite.SQLiteCantOpenDatabaseException: unknown error\r\n&gt; (code 14 SQLITE_CANTOPEN): Could not open database at\r\n&gt; android.database.sqlite.SQLiteConnection.nativeOpen(Native Method)\r\n&gt;```\r\n\r\n\r\nAs CommonsWare pointed out in [this comment][3], developers are not allowed to write on arbitrary locations on external storage on Android 11+. And this exception is raised because of that.\r\n\r\n**To solve this, it requires the developer either:**\r\n\r\n 1. To allow the user to select a particular folder by navigating through the external/SD card using [`ACTION_CREATE_DOCUMENT intent`][4] [Check here][5] for further detail.\r\n\r\n 2. Or to use the space allocated to the app.\r\n\r\nIf you want to consider the second option, instead of the shared `Environment.getExternalStorageDirectory().getAbsolutePath()` directory, you can either write on:\r\n - The internal device storage with `getFilesDir()`: Default database location in the internal/local storage (under \\databases subdirectory) which is allocated to your app, and no other app can access it.\r\n - The device external storage `getExternalFilesDir()`, the shared storage, or removable (SD card) storage; but that is risky and not recommended as that is accessible by the user and can get your files corrupted or even share them to other apps.\r\n\r\nSo, you have to change the following code:\r\n\r\n\r\n&gt; ``` \r\n&gt; public static String SDCARD = Environment\r\n&gt;                         .getExternalStorageDirectory().getAbsolutePath(); \r\n&gt;```\r\n\r\nTo something like:\r\n```\r\npublic static String SDCARD = context.getFilesDir().getAbsolutePath(); \r\n\r\n// or\r\n\r\npublic static String SDCARD = context.getExternalFilesDir(null).getAbsolutePath(); \r\n```\r\n\r\nI kept `SDCARD` as-is; but this doesn&#39;t indicate that it&#39;s the SD shared storage.\r\n\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/Manifest.permission#WRITE_EXTERNAL_STORAGE\r\n  [2]: https://stackoverflow.com/questions/66551781/android-onrequestpermissionsresult-is-deprecated-are-there-any-alternatives\r\n  [3]: https://stackoverflow.com/questions/75705240/cant-create-database-on-android-11-in-external-storage/75705340?noredirect=1#comment133554820_75705240\r\n  [4]: https://developer.android.com/reference/android/content/Intent#ACTION_CREATE_DOCUMENT\r\n  [5]: https://developer.android.com/training/data-storage/shared/documents-files","title":"can&#39;t create database on android 11+ in external storage","body":"<p>You shouldn't request <code>WRITE_EXTERNAL_STORAGE</code> for Android 10+; it has no effect.</p>\n<p><a href=\"https://developer.android.com/reference/android/Manifest.permission#WRITE_EXTERNAL_STORAGE\" rel=\"nofollow noreferrer\">In documentation:</a></p>\n<blockquote>\n<p>Note: If your app targets Build.VERSION_CODES.R or higher, this permission has no effect.</p>\n</blockquote>\n<p>So, you need to go ahead without requesting the permission for Android 10+</p>\n<pre><code>private void askUserForPermission() {\n    if (SDK_INT &lt; Build.VERSION_CODES.Q)\n        ActivityCompat.requestPermissions(this, new String[]\n                                    {Manifest.permission.WRITE_EXTERNAL_STORAGE}, 100);\n    else\n        createAppDir();\n}\n</code></pre>\n<p>Notice that you are requesting permission with a deprecated API, check <a href=\"https://stackoverflow.com/questions/66551781/android-onrequestpermissionsresult-is-deprecated-are-there-any-alternatives\">this question</a> for the alternative API</p>\n<p>Also, consider the worthy <a href=\"https://stackoverflow.com/questions/75705240/cant-create-database-on-android-11-in-external-storage/75705340?noredirect=1#comment133554820_75705240\">comment</a> pointed out by CommonsWare</p>\n<p><strong>Update:</strong></p>\n<blockquote>\n<pre><code>Caused by: android.database.sqlite.SQLiteCantOpenDatabaseException: unknown error\n(code 14 SQLITE_CANTOPEN): Could not open database at\nandroid.database.sqlite.SQLiteConnection.nativeOpen(Native Method)\n</code></pre>\n</blockquote>\n<p>As CommonsWare pointed out in <a href=\"https://stackoverflow.com/questions/75705240/cant-create-database-on-android-11-in-external-storage/75705340?noredirect=1#comment133554820_75705240\">this comment</a>, developers are not allowed to write on arbitrary locations on external storage on Android 11+. And this exception is raised because of that.</p>\n<p><strong>To solve this, it requires the developer either:</strong></p>\n<ol>\n<li><p>To allow the user to select a particular folder by navigating through the external/SD card using <a href=\"https://developer.android.com/reference/android/content/Intent#ACTION_CREATE_DOCUMENT\" rel=\"nofollow noreferrer\"><code>ACTION_CREATE_DOCUMENT intent</code></a> <a href=\"https://developer.android.com/training/data-storage/shared/documents-files\" rel=\"nofollow noreferrer\">Check here</a> for further detail.</p>\n</li>\n<li><p>Or to use the space allocated to the app.</p>\n</li>\n</ol>\n<p>If you want to consider the second option, instead of the shared <code>Environment.getExternalStorageDirectory().getAbsolutePath()</code> directory, you can either write on:</p>\n<ul>\n<li>The internal device storage with <code>getFilesDir()</code>: Default database location in the internal/local storage (under \\databases subdirectory) which is allocated to your app, and no other app can access it.</li>\n<li>The device external storage <code>getExternalFilesDir()</code>, the shared storage, or removable (SD card) storage; but that is risky and not recommended as that is accessible by the user and can get your files corrupted or even share them to other apps.</li>\n</ul>\n<p>So, you have to change the following code:</p>\n<blockquote>\n<pre><code>public static String SDCARD = Environment\n                        .getExternalStorageDirectory().getAbsolutePath(); \n</code></pre>\n</blockquote>\n<p>To something like:</p>\n<pre><code>public static String SDCARD = context.getFilesDir().getAbsolutePath(); \n\n// or\n\npublic static String SDCARD = context.getExternalFilesDir(null).getAbsolutePath(); \n</code></pre>\n<p>I kept <code>SDCARD</code> as-is; but this doesn't indicate that it's the SD shared storage.</p>\n"}],"owner":{"account_id":24603658,"reputation":85,"user_id":18506174,"display_name":"Amirhussein"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75705340,"answer_count":1,"score":1,"last_activity_date":1696291257,"creation_date":1678541035,"question_id":75705240,"body_markdown":"I want to create a database in my app. I used this code and it works properly on Android 9 and lower, but on Android 10+ I got a crash, and not only is the database not created but also no file directory is created in external storage. \r\n\r\n**AndroidManifest.xml:**\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.example.miplan&quot;&gt;\r\n\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\r\n    tools:ignore=&quot;ScopedStorage&quot;&gt;\r\n    \r\n&lt;/uses-permission&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.MiPlan&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.SplashActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.LogoActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n```\r\nAnd this is **MyDatabaseHelper**: \r\n\r\n```\r\npackage com.example.miplan;\r\n\r\nimport android.content.Context;\r\nimport android.database.sqlite.SQLiteDatabase;\r\nimport android.database.sqlite.SQLiteOpenHelper;\r\n\r\nimport androidx.annotation.Nullable;\r\n\r\npublic class MyDatabaseHelper extends SQLiteOpenHelper {\r\n\r\n  private static final String DB_NAME = &quot;myDatabase.SqLite&quot;;\r\n  private static final int DB_VERSION = 1;\r\n\r\n  public MyDatabaseHelper(@Nullable Context context) {\r\n    super(context, SplashActivity.DB_DIR + &quot;/&quot; + DB_NAME, null, DB_VERSION);\r\n  }\r\n\r\n  @Override\r\n  public void onCreate(SQLiteDatabase db) {\r\n    String query = &quot; CREATE TABLE &#39;person&#39; (&quot; +\r\n      &quot;&#39;personId&#39; INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL , &quot; +\r\n      &quot;&#39;firstName&#39; TEXT, &quot; +\r\n      &quot;&#39;lastName&#39; TEXT, &quot; +\r\n      &quot;&#39;gender&#39; INTEGER, &quot; +\r\n      &quot;&#39;email&#39; TEXT UNIQUE, &quot; +\r\n      &quot;&#39;phoneNumber&#39; TEXT UNIQUE)&quot;;\r\n    // db.execSQL(query);\r\n  }\r\n\r\n  @Override\r\n  public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n  }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n**SplashActivity**: \r\n\r\n\r\n```\r\npackage com.example.miplan;\r\n\r\nimport android.Manifest;\r\nimport android.annotation.SuppressLint;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.database.sqlite.SQLiteDatabase;\r\nimport android.os.Bundle;\r\nimport android.os.Environment;\r\nimport android.util.Log;\r\n\r\nimport java.io.File;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\n\r\n@SuppressLint(&quot;CustomSplashScreen&quot;)\r\npublic class SplashActivity extends AppCompatActivity {\r\n  public static String SDCARD = Environment.getExternalStorageDirectory().getAbsolutePath();\r\n  public static String BRAND = SDCARD + &quot;/Self-learn&quot;;\r\n  public static String APP_DIR = BRAND + &quot;/MiPlan&quot;;\r\n  public static String DB_DIR = APP_DIR + &quot;/db&quot;;\r\n  public static SQLiteDatabase database;\r\n\r\n  @Override\r\n  protected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_begin);\r\n    int grantResult = ActivityCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE);\r\n\r\n    if (grantResult == PackageManager.PERMISSION_GRANTED) {\r\n      createAppDir();\r\n    } else {\r\n      askUserForPermission();\r\n    }\r\n  }\r\n\r\n  private void askUserForPermission() {\r\n    ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 100);\r\n  }\r\n\r\n  @Override\r\n  public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    switch (requestCode) {\r\n      case 100:\r\n        if (grantResults[0] == PackageManager.PERMISSION_DENIED) {\r\n\r\n          AlertDialog.Builder dialog = new AlertDialog.Builder(this);\r\n          dialog.setTitle(&quot;Error&quot;).setMessage(&quot;Write on External Storage is needed for this app&quot;).setPositiveButton(&quot;ask again&quot;, new DialogInterface.OnClickListener() {\r\n            @Override\r\n            public void onClick(DialogInterface dialogInterface, int i) {\r\n              askUserForPermission();\r\n            }\r\n          }).setCancelable(false).create().show();\r\n\r\n        } else {\r\n          createAppDir();\r\n        }\r\n        break;\r\n    }\r\n  }\r\n\r\n  private void createAppDir() {\r\n    File file = new File(DB_DIR);\r\n    if (!file.exists()) {\r\n      file.mkdirs();\r\n      createDatabase();\r\n    }\r\n    createDatabase();\r\n\r\n  }\r\n\r\n  public void createDatabase() {\r\n    MyDatabaseHelper dbHelper = new MyDatabaseHelper(SplashActivity.this);\r\n    database = dbHelper.getWritableDatabase();\r\n    Log.i(&quot;testtt&quot;, &quot;this line is working well...&quot;);\r\n    openWelcomeActivity();\r\n  }\r\n\r\n  private void openWelcomeActivity() {\r\n\r\n    Intent intent = new Intent(this, LogoActivity.class);\r\n    startActivity(intent);\r\n    this.finish();\r\n  }\r\n\r\n```\r\n\r\n\r\n\r\nAnd this is the Logcat error:\r\n\r\n&gt; Caused by: android.database.sqlite.SQLiteCantOpenDatabaseException:\r\n&gt; unknown error (code 14 SQLITE_CANTOPEN): Could not open database\r\n&gt;         at android.database.sqlite.SQLiteConnection.nativeOpen(Native Method)\r\n\r\nIs there any changes in creating a database or writing in external storage in Android 10+? ","title":"can&#39;t create database on android 11+ in external storage","body":"<p>I want to create a database in my app. I used this code and it works properly on Android 9 and lower, but on Android 10+ I got a crash, and not only is the database not created but also no file directory is created in external storage.</p>\n<p><strong>AndroidManifest.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.example.miplan&quot;&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\n    tools:ignore=&quot;ScopedStorage&quot;&gt;\n    \n&lt;/uses-permission&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.MiPlan&quot;&gt;\n        &lt;activity\n            android:name=&quot;.SplashActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.LogoActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n\n</code></pre>\n<p>And this is <strong>MyDatabaseHelper</strong>:</p>\n<pre><code>package com.example.miplan;\n\nimport android.content.Context;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\n\nimport androidx.annotation.Nullable;\n\npublic class MyDatabaseHelper extends SQLiteOpenHelper {\n\n  private static final String DB_NAME = &quot;myDatabase.SqLite&quot;;\n  private static final int DB_VERSION = 1;\n\n  public MyDatabaseHelper(@Nullable Context context) {\n    super(context, SplashActivity.DB_DIR + &quot;/&quot; + DB_NAME, null, DB_VERSION);\n  }\n\n  @Override\n  public void onCreate(SQLiteDatabase db) {\n    String query = &quot; CREATE TABLE 'person' (&quot; +\n      &quot;'personId' INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL , &quot; +\n      &quot;'firstName' TEXT, &quot; +\n      &quot;'lastName' TEXT, &quot; +\n      &quot;'gender' INTEGER, &quot; +\n      &quot;'email' TEXT UNIQUE, &quot; +\n      &quot;'phoneNumber' TEXT UNIQUE)&quot;;\n    // db.execSQL(query);\n  }\n\n  @Override\n  public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n  }\n\n\n}\n\n</code></pre>\n<p><strong>SplashActivity</strong>:</p>\n<pre><code>package com.example.miplan;\n\nimport android.Manifest;\nimport android.annotation.SuppressLint;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.util.Log;\n\nimport java.io.File;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\n\n@SuppressLint(&quot;CustomSplashScreen&quot;)\npublic class SplashActivity extends AppCompatActivity {\n  public static String SDCARD = Environment.getExternalStorageDirectory().getAbsolutePath();\n  public static String BRAND = SDCARD + &quot;/Self-learn&quot;;\n  public static String APP_DIR = BRAND + &quot;/MiPlan&quot;;\n  public static String DB_DIR = APP_DIR + &quot;/db&quot;;\n  public static SQLiteDatabase database;\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_begin);\n    int grantResult = ActivityCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE);\n\n    if (grantResult == PackageManager.PERMISSION_GRANTED) {\n      createAppDir();\n    } else {\n      askUserForPermission();\n    }\n  }\n\n  private void askUserForPermission() {\n    ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 100);\n  }\n\n  @Override\n  public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    switch (requestCode) {\n      case 100:\n        if (grantResults[0] == PackageManager.PERMISSION_DENIED) {\n\n          AlertDialog.Builder dialog = new AlertDialog.Builder(this);\n          dialog.setTitle(&quot;Error&quot;).setMessage(&quot;Write on External Storage is needed for this app&quot;).setPositiveButton(&quot;ask again&quot;, new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialogInterface, int i) {\n              askUserForPermission();\n            }\n          }).setCancelable(false).create().show();\n\n        } else {\n          createAppDir();\n        }\n        break;\n    }\n  }\n\n  private void createAppDir() {\n    File file = new File(DB_DIR);\n    if (!file.exists()) {\n      file.mkdirs();\n      createDatabase();\n    }\n    createDatabase();\n\n  }\n\n  public void createDatabase() {\n    MyDatabaseHelper dbHelper = new MyDatabaseHelper(SplashActivity.this);\n    database = dbHelper.getWritableDatabase();\n    Log.i(&quot;testtt&quot;, &quot;this line is working well...&quot;);\n    openWelcomeActivity();\n  }\n\n  private void openWelcomeActivity() {\n\n    Intent intent = new Intent(this, LogoActivity.class);\n    startActivity(intent);\n    this.finish();\n  }\n\n</code></pre>\n<p>And this is the Logcat error:</p>\n<blockquote>\n<p>Caused by: android.database.sqlite.SQLiteCantOpenDatabaseException:\nunknown error (code 14 SQLITE_CANTOPEN): Could not open database\nat android.database.sqlite.SQLiteConnection.nativeOpen(Native Method)</p>\n</blockquote>\n<p>Is there any changes in creating a database or writing in external storage in Android 10+?</p>\n"},{"tags":["java","swing","jpanel","jcomponent"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1696280223,"post_id":77218381,"comment_id":136130532,"body_markdown":"Your code is breaking Swing threading rules. Start everything on the EDT, the event dispatch thread, and use a Swing Timer as your game loop, instead of the `while (true)` and the dreaded `Thread.sleep(...)`, and this should fix a lot of your problems.","body":"Your code is breaking Swing threading rules. Start everything on the EDT, the event dispatch thread, and use a Swing Timer as your game loop, instead of the <code>while (true)</code> and the dreaded <code>Thread.sleep(...)</code>, and this should fix a lot of your problems."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1696280330,"post_id":77218381,"comment_id":136130551,"body_markdown":"Also, read: [Lesson: Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) as well as the [Swing Timer Tutorial](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html)","body":"Also, read: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Lesson: Concurrency in Swing</a> as well as the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">Swing Timer Tutorial</a>"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1696280493,"post_id":77218381,"comment_id":136130576,"body_markdown":"_Declaration_ is when you define a _data-type_ and _variable name_,  the assignment is optional.  What you&#39;re referring to is just _&quot;assignment&quot;_ or I guess more accurately, the _&quot;initial assignment&quot;_.  And, you&#39;re saying if you assign the values outside of the _constructor method_, they don&#39;t appear on the screen, or am I misunderstanding the question?","body":"<i>Declaration</i> is when you define a <i>data-type</i> and <i>variable name</i>,  the assignment is optional.  What you&#39;re referring to is just <i>&quot;assignment&quot;</i> or I guess more accurately, the <i>&quot;initial assignment&quot;</i>.  And, you&#39;re saying if you assign the values outside of the <i>constructor method</i>, they don&#39;t appear on the screen, or am I misunderstanding the question?"},{"owner":{"account_id":16727693,"reputation":1,"user_id":12090912,"display_name":"Zapp"},"score":0,"creation_date":1696285079,"post_id":77218381,"comment_id":136131151,"body_markdown":"@user85421 - See my updated version of Main.java. That is what I had it looking like but the problem still exists. In my `startGame()` method in BrickBreaker.java I tried using `validate()` and even `revalidate()` plus `repaint()` but nothing worked.","body":"@user85421 - See my updated version of Main.java. That is what I had it looking like but the problem still exists. In my <code>startGame()</code> method in BrickBreaker.java I tried using <code>validate()</code> and even <code>revalidate()</code> plus <code>repaint()</code> but nothing worked."},{"owner":{"account_id":16727693,"reputation":1,"user_id":12090912,"display_name":"Zapp"},"score":0,"creation_date":1696285790,"post_id":77218381,"comment_id":136131205,"body_markdown":"@HovercraftFullOfEels - Same comment that I mentioned above. Take a look at my updated copy of Main.java and let me know if I&#39;m still doing something wrong. It&#39;s what I had previously at one point. I also added a proper Swing Timer to determine when to end the game, so thank you! Ball is still invisible unfortunately (not that a timer would likely fix it)","body":"@HovercraftFullOfEels - Same comment that I mentioned above. Take a look at my updated copy of Main.java and let me know if I&#39;m still doing something wrong. It&#39;s what I had previously at one point. I also added a proper Swing Timer to determine when to end the game, so thank you! Ball is still invisible unfortunately (not that a timer would likely fix it)"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1696285852,"post_id":77218381,"comment_id":136131210,"body_markdown":"You&#39;re violating the layout manager constraints; `panel = new JPanel(new BorderLayout());` but then trying to provide your own bounds, this is just going to end up in a mess.  Personally, I think trying to use components this way is a bad idea and instead, you&#39;d be better of following a pure custom painting route","body":"You&#39;re violating the layout manager constraints; <code>panel = new JPanel(new BorderLayout());</code> but then trying to provide your own bounds, this is just going to end up in a mess.  Personally, I think trying to use components this way is a bad idea and instead, you&#39;d be better of following a pure custom painting route"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1696285957,"post_id":77218381,"comment_id":136131220,"body_markdown":"I would &quot;suggest&quot; that the `Ball` is invisible for at least two reasons, one, it probably doesn&#39;t define a preferred size, so it&#39;s default size will be `0x0` and two, the `BorderLayout` will only manage the last component added it it - again, this approach is all wrong","body":"I would &quot;suggest&quot; that the <code>Ball</code> is invisible for at least two reasons, one, it probably doesn&#39;t define a preferred size, so it&#39;s default size will be <code>0x0</code> and two, the <code>BorderLayout</code> will only manage the last component added it it - again, this approach is all wrong"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1696286029,"post_id":77218381,"comment_id":136131225,"body_markdown":"Stop calling `setBounds` and overriding `getBounds`, you&#39;re fighting the layout management system - again, component&#39;s are complicated, I think your current approach to using them in this way is wrong. Your `Brick` implementation is, again, all over the place and is making incorrect assumptions about how the component origins and painting works","body":"Stop calling <code>setBounds</code> and overriding <code>getBounds</code>, you&#39;re fighting the layout management system - again, component&#39;s are complicated, I think your current approach to using them in this way is wrong. Your <code>Brick</code> implementation is, again, all over the place and is making incorrect assumptions about how the component origins and painting works"},{"owner":{"account_id":16727693,"reputation":1,"user_id":12090912,"display_name":"Zapp"},"score":0,"creation_date":1696286088,"post_id":77218381,"comment_id":136131231,"body_markdown":"@Reilas - Sorry for the confusion, but yes. My components (the Slider, Ball, and Bricks) are declared at the top within the BrickBreaker class but are currently being assigned within the constructor. If I try to assign them elsewhere outside of the constructor they no longer appear in-game. Hope that answers your question.","body":"@Reilas - Sorry for the confusion, but yes. My components (the Slider, Ball, and Bricks) are declared at the top within the BrickBreaker class but are currently being assigned within the constructor. If I try to assign them elsewhere outside of the constructor they no longer appear in-game. Hope that answers your question."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1696287285,"post_id":77218381,"comment_id":136131339,"body_markdown":"Don&#39;t use `g.dispose()`. You didn&#39;t create the Graphics object so you don&#39;t need to dispose it.","body":"Don&#39;t use <code>g.dispose()</code>. You didn&#39;t create the Graphics object so you don&#39;t need to dispose it."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696290758,"creation_date":1696290758,"answer_id":77219015,"question_id":77218381,"body_markdown":"&gt; _&quot;...  none of my Jcomponents are visible unless they are created in the constructor. ... are only visible if I run `setVisible()` immediately after adding it to the panel. How can I be able to add them later via methods (e.g. within `startGame()`)? ...&quot;_\r\n\r\nModularize the data.\\\r\nCreate a _method_ or _class_, for each task.\r\n\r\nI recommend encapsulating the _GUI_ related data.\\\r\nAdditionally, since _Ball_ is accessing _this_, _frameBoundX_, and _frameBoundY_, just _nest_ it within that class.\r\n\r\nHere is an example.\r\n\r\n```java\r\nclass BrickBreaker {\r\n\r\n    GUI gui;\r\n    boolean gameOver = false;\r\n\r\n    static class GUI extends JFrame {\r\n        int frameBoundX, frameBoundY;\r\n        JPanel panel;\r\n        Ball ball;\r\n        Slider slider;\r\n        ArrayList&lt;Brick&gt; brickList;\r\n\r\n        GUI() {\r\n            initialize();\r\n            // Add new panel\r\n            add(panel);\r\n            // Add slider\r\n            panel.add(slider);\r\n            // Add ball\r\n            panel.add(ball);\r\n            // Add Bricks\r\n            for (Brick b : brickList) panel.add(b);\r\n            // Add background\r\n            URL backgroundUrl = BrickBreaker.class.getResource(&quot;background.jpg&quot;);\r\n            ImageIcon backgroundIcon = new ImageIcon(backgroundUrl);\r\n            JLabel backgroundLabel = new JLabel(backgroundIcon);\r\n            backgroundLabel.setBounds(0, 0, backgroundIcon.getIconWidth(),\r\n                backgroundIcon.getIconHeight());\r\n            panel.add(backgroundLabel);\r\n            panel.setVisible(true);\r\n            setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n            setSize(frameBoundX, frameBoundY);\r\n            setLocationRelativeTo(null);\r\n            setResizable(false);\r\n            setVisible(true);\r\n        }\r\n\r\n        void initialize() {\r\n            frameBoundX = 500;\r\n            frameBoundY = 600;\r\n            panel = new JPanel(new BorderLayout());\r\n            ball = new Ball();\r\n            slider = new Slider(200, frameBoundY - 100, 100, 30);\r\n            generateBricks();\r\n        }\r\n\r\n        public void generateBricks() { ... }\r\n\r\n        private class Ball extends JComponent {\r\n        }\r\n\r\n        private class Slider extends JComponent {\r\n            public Slider(int x, int y, int w, int h) {\r\n            }\r\n        }\r\n    }\r\n\r\n    public void startGame() { ... }\r\n\r\n    public void endGame() { ... }\r\n\r\n    public boolean isGameOver() { ... }\r\n}\r\n```\r\n\r\n```java\r\nSwingUtilities.invokeLater(() -&gt; {\r\n    BrickBreaker gameInstance = new BrickBreaker();\r\n    gameInstance.gui = new BrickBreaker.GUI();\r\n    gameInstance.startGame();\r\n    while (!gameInstance.isGameOver()) {\r\n        try {\r\n            Thread.sleep(200);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    gameInstance.endGame();\r\n});\r\n```","title":"Java Swing - Components Not Visible Unless in Constructor?","body":"<blockquote>\n<p><em>&quot;...  none of my Jcomponents are visible unless they are created in the constructor. ... are only visible if I run <code>setVisible()</code> immediately after adding it to the panel. How can I be able to add them later via methods (e.g. within <code>startGame()</code>)? ...&quot;</em></p>\n</blockquote>\n<p>Modularize the data.<br />\nCreate a <em>method</em> or <em>class</em>, for each task.</p>\n<p>I recommend encapsulating the <em>GUI</em> related data.<br />\nAdditionally, since <em>Ball</em> is accessing <em>this</em>, <em>frameBoundX</em>, and <em>frameBoundY</em>, just <em>nest</em> it within that class.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class BrickBreaker {\n\n    GUI gui;\n    boolean gameOver = false;\n\n    static class GUI extends JFrame {\n        int frameBoundX, frameBoundY;\n        JPanel panel;\n        Ball ball;\n        Slider slider;\n        ArrayList&lt;Brick&gt; brickList;\n\n        GUI() {\n            initialize();\n            // Add new panel\n            add(panel);\n            // Add slider\n            panel.add(slider);\n            // Add ball\n            panel.add(ball);\n            // Add Bricks\n            for (Brick b : brickList) panel.add(b);\n            // Add background\n            URL backgroundUrl = BrickBreaker.class.getResource(&quot;background.jpg&quot;);\n            ImageIcon backgroundIcon = new ImageIcon(backgroundUrl);\n            JLabel backgroundLabel = new JLabel(backgroundIcon);\n            backgroundLabel.setBounds(0, 0, backgroundIcon.getIconWidth(),\n                backgroundIcon.getIconHeight());\n            panel.add(backgroundLabel);\n            panel.setVisible(true);\n            setDefaultCloseOperation(EXIT_ON_CLOSE);\n            setSize(frameBoundX, frameBoundY);\n            setLocationRelativeTo(null);\n            setResizable(false);\n            setVisible(true);\n        }\n\n        void initialize() {\n            frameBoundX = 500;\n            frameBoundY = 600;\n            panel = new JPanel(new BorderLayout());\n            ball = new Ball();\n            slider = new Slider(200, frameBoundY - 100, 100, 30);\n            generateBricks();\n        }\n\n        public void generateBricks() { ... }\n\n        private class Ball extends JComponent {\n        }\n\n        private class Slider extends JComponent {\n            public Slider(int x, int y, int w, int h) {\n            }\n        }\n    }\n\n    public void startGame() { ... }\n\n    public void endGame() { ... }\n\n    public boolean isGameOver() { ... }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>SwingUtilities.invokeLater(() -&gt; {\n    BrickBreaker gameInstance = new BrickBreaker();\n    gameInstance.gui = new BrickBreaker.GUI();\n    gameInstance.startGame();\n    while (!gameInstance.isGameOver()) {\n        try {\n            Thread.sleep(200);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n    gameInstance.endGame();\n});\n</code></pre>\n"}],"owner":{"account_id":16727693,"reputation":1,"user_id":12090912,"display_name":"Zapp"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696290758,"creation_date":1696279249,"question_id":77218381,"body_markdown":"I&#39;m making a Brick Breaker type game in Java using Swing, but none of my Jcomponents are visible unless they are created in the constructor. Another weird note is my current components are only visible if I run `setVisible()` immediately after adding it to the panel. How can I be able to add them later via methods (e.g. within `startGame()`)?\r\n\r\n**Main.java**\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        javax.swing.SwingUtilities.invokeLater(new Runnable() {\r\n            public void run() {\r\n                BrickBreaker gameInstance = new BrickBreaker();\r\n                gameInstance.startGame();\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n**BrickBreaker.java**\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.net.URL;\r\nimport java.util.ArrayList;\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\n\r\npublic class BrickBreaker {\r\n\r\n    boolean gameOver = false;\r\n    int frameBoundX = 500;\r\n    int frameBoundY = 600;\r\n    JFrame frame;\r\n    JPanel panel;\r\n    Ball ball;\r\n    Slider slider;\r\n    ArrayList&lt;Brick&gt; brickList = new ArrayList&lt;Brick&gt;();\r\n\r\n    public BrickBreaker() {\r\n        frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(frameBoundX, frameBoundY);\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setResizable(false);\r\n\r\n        // Add new panel\r\n        panel = new JPanel(new BorderLayout());\r\n        frame.setContentPane(panel);\r\n\r\n        // Add slider\r\n        slider = new Slider(200, frameBoundY - 100, 100, 30);\r\n        panel.add(slider);\r\n        frame.setVisible(true);\r\n\r\n        // Add ball\r\n        ball = new Ball(this, frameBoundX, frameBoundY);\r\n        panel.add(ball);\r\n        frame.setVisible(true);\r\n\r\n        // Add Bricks\r\n        generateBricks();\r\n        for (Brick brick : brickList) {\r\n            panel.add(brick);\r\n            frame.setVisible(true);\r\n        }\r\n\r\n        // Add background\r\n        URL backgroundUrl = BrickBreaker.class.getResource(&quot;background.jpg&quot;);\r\n        ImageIcon backgroundIcon = new ImageIcon(backgroundUrl);\r\n        JLabel backgroundLabel = new JLabel(backgroundIcon);\r\n        backgroundLabel.setBounds(0, 0, backgroundIcon.getIconWidth(),\r\n                backgroundIcon.getIconHeight());\r\n        panel.add(backgroundLabel);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    public void startGame() {\r\n        // Add ball\r\n        // ball = new Ball(this, frameBoundX, frameBoundY);\r\n        // panel.add(ball);\r\n        // setVisible(true);\r\n        // panel.repaint();\r\n        // panel.revalidate();\r\n\r\n        slider.start();\r\n        ball.start();\r\n    }\r\n\r\n    public void endGame() {\r\n        System.out.println(&quot;GAME OVER&quot;);\r\n        // JLabel endSign = new JLabel(&quot;MY TEXT HERE&quot;);\r\n        // endSign.setText(&quot;GAME OVER&quot;);\r\n        // endSign.setBounds(frameBoundX/2, frameBoundY/2, 200, 200);\r\n        // endSign.setForeground(Color.white);\r\n        // endSign.setVisible(true);\r\n        // panel.add(endSign);\r\n        // panel.setVisible(true);\r\n        // // Repaint the panel\r\n        // panel.revalidate();\r\n        // panel.repaint();\r\n        slider.end();\r\n    }\r\n\r\n    public boolean isGameOver() {\r\n        return gameOver;\r\n    }\r\n\r\n    public void generateBricks() {\r\n        // Unique starting and iterating numbers are due to the window size\r\n        // while also spacing out the bricks evenly\r\n        for (int row = 10; row &lt;= 85; row += 35) {\r\n            for (int b = 5; b &lt; frameBoundX; b += 99) {\r\n                System.out.println(&quot;Generating brick #&quot; + b);\r\n                Brick brick = new Brick(b, row);\r\n                brickList.add(brick);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Brick.java** (to see how components are implemented)\r\n```java\r\nimport javax.swing.JComponent;\r\nimport java.awt.Rectangle;\r\nimport java.awt.Color;\r\nimport java.awt.Graphics;\r\n\r\npublic class Brick extends JComponent {\r\n\r\n    private int x;\r\n    private int y;\r\n    private int width = 94;\r\n    private int height = 30;\r\n    private int health = 1;\r\n\r\n    public Brick(int startingX, int startingY) {\r\n        this.x = startingX;\r\n        this.y = startingY;\r\n    }\r\n\r\n    @Override\r\n    public void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        g.setColor(Color.MAGENTA);\r\n        g.fillRect(x, y, width, height);\r\n        g.dispose();\r\n    }\r\n\r\n    public Rectangle getBounds() {\r\n        return new Rectangle(x, y, width, height);\r\n    }\r\n\r\n    public int reduceHealth(){\r\n        this.health--;\r\n        if (this.health &lt; 1){\r\n            System.out.println(&quot;Brick has zero health! Disappearing!&quot;);\r\n            setVisible(false);\r\n        }\r\n        return this.health;\r\n    }\r\n\r\n}\r\n```\r\n\r\nIf I try to declare the Slider, Ball, or Bricks anywhere else outside of the constructor they won&#39;t appear on screen. Originally, I also had the Main java file utilizing EDT by calling `invokeLater()` but I removed that thinking that might&#39;ve been an issue, but it&#39;s still happening.\r\n\r\n","title":"Java Swing - Components Not Visible Unless in Constructor?","body":"<p>I'm making a Brick Breaker type game in Java using Swing, but none of my Jcomponents are visible unless they are created in the constructor. Another weird note is my current components are only visible if I run <code>setVisible()</code> immediately after adding it to the panel. How can I be able to add them later via methods (e.g. within <code>startGame()</code>)?</p>\n<p><strong>Main.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        javax.swing.SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                BrickBreaker gameInstance = new BrickBreaker();\n                gameInstance.startGame();\n            }\n        });\n    }\n}\n</code></pre>\n<p><strong>BrickBreaker.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.net.URL;\nimport java.util.ArrayList;\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\n\npublic class BrickBreaker {\n\n    boolean gameOver = false;\n    int frameBoundX = 500;\n    int frameBoundY = 600;\n    JFrame frame;\n    JPanel panel;\n    Ball ball;\n    Slider slider;\n    ArrayList&lt;Brick&gt; brickList = new ArrayList&lt;Brick&gt;();\n\n    public BrickBreaker() {\n        frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(frameBoundX, frameBoundY);\n        frame.setLocationRelativeTo(null);\n        frame.setResizable(false);\n\n        // Add new panel\n        panel = new JPanel(new BorderLayout());\n        frame.setContentPane(panel);\n\n        // Add slider\n        slider = new Slider(200, frameBoundY - 100, 100, 30);\n        panel.add(slider);\n        frame.setVisible(true);\n\n        // Add ball\n        ball = new Ball(this, frameBoundX, frameBoundY);\n        panel.add(ball);\n        frame.setVisible(true);\n\n        // Add Bricks\n        generateBricks();\n        for (Brick brick : brickList) {\n            panel.add(brick);\n            frame.setVisible(true);\n        }\n\n        // Add background\n        URL backgroundUrl = BrickBreaker.class.getResource(&quot;background.jpg&quot;);\n        ImageIcon backgroundIcon = new ImageIcon(backgroundUrl);\n        JLabel backgroundLabel = new JLabel(backgroundIcon);\n        backgroundLabel.setBounds(0, 0, backgroundIcon.getIconWidth(),\n                backgroundIcon.getIconHeight());\n        panel.add(backgroundLabel);\n        frame.setVisible(true);\n    }\n\n    public void startGame() {\n        // Add ball\n        // ball = new Ball(this, frameBoundX, frameBoundY);\n        // panel.add(ball);\n        // setVisible(true);\n        // panel.repaint();\n        // panel.revalidate();\n\n        slider.start();\n        ball.start();\n    }\n\n    public void endGame() {\n        System.out.println(&quot;GAME OVER&quot;);\n        // JLabel endSign = new JLabel(&quot;MY TEXT HERE&quot;);\n        // endSign.setText(&quot;GAME OVER&quot;);\n        // endSign.setBounds(frameBoundX/2, frameBoundY/2, 200, 200);\n        // endSign.setForeground(Color.white);\n        // endSign.setVisible(true);\n        // panel.add(endSign);\n        // panel.setVisible(true);\n        // // Repaint the panel\n        // panel.revalidate();\n        // panel.repaint();\n        slider.end();\n    }\n\n    public boolean isGameOver() {\n        return gameOver;\n    }\n\n    public void generateBricks() {\n        // Unique starting and iterating numbers are due to the window size\n        // while also spacing out the bricks evenly\n        for (int row = 10; row &lt;= 85; row += 35) {\n            for (int b = 5; b &lt; frameBoundX; b += 99) {\n                System.out.println(&quot;Generating brick #&quot; + b);\n                Brick brick = new Brick(b, row);\n                brickList.add(brick);\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>Brick.java</strong> (to see how components are implemented)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.JComponent;\nimport java.awt.Rectangle;\nimport java.awt.Color;\nimport java.awt.Graphics;\n\npublic class Brick extends JComponent {\n\n    private int x;\n    private int y;\n    private int width = 94;\n    private int height = 30;\n    private int health = 1;\n\n    public Brick(int startingX, int startingY) {\n        this.x = startingX;\n        this.y = startingY;\n    }\n\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        g.setColor(Color.MAGENTA);\n        g.fillRect(x, y, width, height);\n        g.dispose();\n    }\n\n    public Rectangle getBounds() {\n        return new Rectangle(x, y, width, height);\n    }\n\n    public int reduceHealth(){\n        this.health--;\n        if (this.health &lt; 1){\n            System.out.println(&quot;Brick has zero health! Disappearing!&quot;);\n            setVisible(false);\n        }\n        return this.health;\n    }\n\n}\n</code></pre>\n<p>If I try to declare the Slider, Ball, or Bricks anywhere else outside of the constructor they won't appear on screen. Originally, I also had the Main java file utilizing EDT by calling <code>invokeLater()</code> but I removed that thinking that might've been an issue, but it's still happening.</p>\n"},{"tags":["java","android","arraylist"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1696287304,"post_id":77218863,"comment_id":136131346,"body_markdown":"`add` doesn&#39;t create some kind of copy. Your first approach is simply adding the same list object over and over again.","body":"<code>add</code> doesn&#39;t create some kind of copy. Your first approach is simply adding the same list object over and over again."},{"owner":{"account_id":19174752,"reputation":62,"user_id":14007693,"display_name":"alireza"},"score":0,"creation_date":1696287418,"post_id":77218863,"comment_id":136131360,"body_markdown":"you mean little_list won&#39;t get added to list and then get cleared ?","body":"you mean little_list won&#39;t get added to list and then get cleared ?"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1696288140,"post_id":77218863,"comment_id":136131424,"body_markdown":"You are clearing the list you added before","body":"You are clearing the list you added before"},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":1,"creation_date":1696288150,"post_id":77218863,"comment_id":136131425,"body_markdown":"In your first code, you&#39;re always using the same `little_list`. You add it to `list` multiple times. And you add &quot;Hello&quot; to the `little_list`, but by calling `.clear()` you remove it again. So `list` ends up having 3 references to `little_list`, which after the loop will always be empty. In your second piece of code, you&#39;re creating a new instance of `ArrayList` in each loop, add one element to it. So here you&#39;ll end up having 3 instances of `ArrayList` inside `list`, and each of those 3 `ArrayList`s contain &quot;Hello&quot; (or rather, the same reference to the String constant).","body":"In your first code, you&#39;re always using the same <code>little_list</code>. You add it to <code>list</code> multiple times. And you add &quot;Hello&quot; to the <code>little_list</code>, but by calling <code>.clear()</code> you remove it again. So <code>list</code> ends up having 3 references to <code>little_list</code>, which after the loop will always be empty. In your second piece of code, you&#39;re creating a new instance of <code>ArrayList</code> in each loop, add one element to it. So here you&#39;ll end up having 3 instances of <code>ArrayList</code> inside <code>list</code>, and each of those 3 <code>ArrayList</code>s contain &quot;Hello&quot; (or rather, the same reference to the String constant)."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1696288160,"post_id":77218863,"comment_id":136131427,"body_markdown":"&quot;_you mean little_list won&#39;t get added to list and then get cleared ?_&quot;  – It does get added to the list. And then it&#39;s cleared. That&#39;s exactly the problem. The list in `list` and the list referenced by `little_list` **are the same list** (in your first approach).","body":"&quot;<i>you mean little_list won&#39;t get added to list and then get cleared ?</i>&quot;  – It does get added to the list. And then it&#39;s cleared. That&#39;s exactly the problem. The list in <code>list</code> and the list referenced by <code>little_list</code> <b>are the same list</b> (in your first approach)."},{"owner":{"account_id":19174752,"reputation":62,"user_id":14007693,"display_name":"alireza"},"score":0,"creation_date":1696288387,"post_id":77218863,"comment_id":136131444,"body_markdown":"I think that answered my question.Thanks &lt;3","body":"I think that answered my question.Thanks &lt;3"}],"owner":{"account_id":19174752,"reputation":62,"user_id":14007693,"display_name":"alireza"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696289406,"answer_count":0,"score":0,"last_activity_date":1696289517,"creation_date":1696287222,"question_id":77218863,"body_markdown":"The problem is that the `clear()` method for `List&lt;String&gt; little_list` clears all elements from the said list.\r\n\r\nI know it&#39;s not the best way to write the code, but I just wanted to try something new.\r\nThe code is used for Java Android app in Android Studio.\r\nI monitored it via the debug tool, and it seems like the `list` gets empty after the end of the loop.\r\n\r\n```java\r\nList&lt;List&lt;String&gt;&gt; list = new ArrayList&lt;&gt;();;\r\nList&lt;String&gt; little_list = new ArrayList&lt;&gt;();\r\nfor(int i = 0 ; i &lt; 3 ; i++){\r\n    little_list.add(&quot;Hello&quot;);\r\n    list.add(little_list);\r\n    little_list.clear();\r\n}\r\n```\r\n\r\nIf I do something like this, it works just fine:\r\n\r\n```java\r\nList&lt;List&lt;String&gt;&gt; list = new ArrayList&lt;&gt;();;\r\nList&lt;String&gt; little_list;\r\nfor(int i = 0 ; i &lt; 3 ; i++){\r\n    little_list = new ArrayList&lt;&gt;();\r\n    little_list.add(&quot;Hello&quot;);\r\n    list.add(little_list );\r\n}\r\n```\r\n\r\nI have googled about it a bit but couldn&#39;t find anything useful.\r\n\r\nAll helps are appreciated, Thank You.","title":"Strange behavior from List.clear() method in java","body":"<p>The problem is that the <code>clear()</code> method for <code>List&lt;String&gt; little_list</code> clears all elements from the said list.</p>\n<p>I know it's not the best way to write the code, but I just wanted to try something new.\nThe code is used for Java Android app in Android Studio.\nI monitored it via the debug tool, and it seems like the <code>list</code> gets empty after the end of the loop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;List&lt;String&gt;&gt; list = new ArrayList&lt;&gt;();;\nList&lt;String&gt; little_list = new ArrayList&lt;&gt;();\nfor(int i = 0 ; i &lt; 3 ; i++){\n    little_list.add(&quot;Hello&quot;);\n    list.add(little_list);\n    little_list.clear();\n}\n</code></pre>\n<p>If I do something like this, it works just fine:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;List&lt;String&gt;&gt; list = new ArrayList&lt;&gt;();;\nList&lt;String&gt; little_list;\nfor(int i = 0 ; i &lt; 3 ; i++){\n    little_list = new ArrayList&lt;&gt;();\n    little_list.add(&quot;Hello&quot;);\n    list.add(little_list );\n}\n</code></pre>\n<p>I have googled about it a bit but couldn't find anything useful.</p>\n<p>All helps are appreciated, Thank You.</p>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":18882550,"reputation":146,"user_id":13774637,"display_name":"Ethan Yin"},"score":0,"creation_date":1690354779,"post_id":76760591,"comment_id":135339961,"body_markdown":"How do you set the system environment in the WSL? It can simply print some persisted env like &quot;PATH&quot;.","body":"How do you set the system environment in the WSL? It can simply print some persisted env like &quot;PATH&quot;."}],"owner":{"account_id":14370996,"reputation":900,"user_id":10380766,"display_name":"Hofbr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696287833,"creation_date":1690272038,"question_id":76760591,"body_markdown":"I&#39;m experiencing an issue with IntelliJ IDEA where it&#39;s not recognizing my environment variables related to Artifactory in my `build.gradle` file. The variables are API keys that get refreshed frequently via the CLI, so they need to be dynamic.\r\n\r\nIn my `build.gradle`, I&#39;m attempting to set these variables like so:\r\n\r\n```groovy\r\nrepositories {\r\n    jcenter()\r\n    maven { \r\n        url System.getenv()[&#39;ARTIFACTORY_URL&#39;] + &#39;/artifactory/libs-release&#39;\r\n        credentials {\r\n            username System.getenv()[&#39;ARTIFACTORY_SVC_ACCT&#39;]\r\n            password System.getenv()[&#39;ARTIFACTORY_SVC_ACCT_PWD&#39;]\r\n        } \r\n    }\r\n}\r\n```\r\n\r\nI see that this issue has been similarily logged here: https://youtrack.jetbrains.com/issue/IDEA-265114/Gradle-is-not-picking-up-environment-variables-in-WSL2\r\n\r\nThis setup works perfectly fine when I build from the command line, but the environment variables are not being populated within IntelliJ IDEA.\r\n\r\nI can see this by printing out one of my environment variables from my build.gradle. From my CLI I can see:\r\n\r\n```\r\n&gt; Configure project :\r\n\r\nArtifactory URL https://my.tcc.li\r\n\r\nArtifactory URL https://my.tcc.li\r\n\r\nArtifactory URL https://my.tcc.li\r\n```\r\n\r\nFrom Intellij&#39;s build tools I get null values:\r\n\r\n```\r\n&gt; Configure project :\r\n\r\nArtifactory URL null\r\n\r\nArtifactory URL null\r\n\r\nArtifactory URL null\r\n```\r\n\r\n## Workaround\r\nWorkaround:\r\n\r\nI have found a temporary workaround for this issue. When I encounter this problem in IntelliJ, I perform the following steps:\r\n\r\n- Run `gradlew --stop` in a separate terminal.\r\n- Close IntelliJ.\r\n- Reopen IntelliJ.\r\n\r\nDoes anybody understand why this works?\r\n\r\n## Additional Context:\r\n\r\nI&#39;ve noticed that some of my teammates who have a similar setup to mine, which includes using `SDKman` for managing the Java environment, are experiencing this issue as well. However, those who are using a base Java environment without an environment manager seem to fare better.\r\n\r\n**Current version of Intellij**:\r\n\r\n```\r\nIntelliJ IDEA 2023.1.1 (Ultimate Edition)\r\nBuild #IU-231.8770.65, built on April 27, 2023\r\nRuntime version: 17.0.6+10-b829.9 aarch64\r\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\r\nmacOS 12.6.3\r\nGC: G1 Young Generation, G1 Old Generation\r\nMemory: 2048M\r\nCores: 8\r\nMetal Rendering is ON\r\nKotlin: 231-1.8.21-IJ8770.65\r\n```","title":"IntelliJ not Recognizing Environment Variables for Artifactory in Gradle","body":"<p>I'm experiencing an issue with IntelliJ IDEA where it's not recognizing my environment variables related to Artifactory in my <code>build.gradle</code> file. The variables are API keys that get refreshed frequently via the CLI, so they need to be dynamic.</p>\n<p>In my <code>build.gradle</code>, I'm attempting to set these variables like so:</p>\n<pre><code>repositories {\n    jcenter()\n    maven { \n        url System.getenv()['ARTIFACTORY_URL'] + '/artifactory/libs-release'\n        credentials {\n            username System.getenv()['ARTIFACTORY_SVC_ACCT']\n            password System.getenv()['ARTIFACTORY_SVC_ACCT_PWD']\n        } \n    }\n}\n</code></pre>\n<p>I see that this issue has been similarily logged here: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-265114/Gradle-is-not-picking-up-environment-variables-in-WSL2\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-265114/Gradle-is-not-picking-up-environment-variables-in-WSL2</a></p>\n<p>This setup works perfectly fine when I build from the command line, but the environment variables are not being populated within IntelliJ IDEA.</p>\n<p>I can see this by printing out one of my environment variables from my build.gradle. From my CLI I can see:</p>\n<pre><code>&gt; Configure project :\n\nArtifactory URL https://my.tcc.li\n\nArtifactory URL https://my.tcc.li\n\nArtifactory URL https://my.tcc.li\n</code></pre>\n<p>From Intellij's build tools I get null values:</p>\n<pre><code>&gt; Configure project :\n\nArtifactory URL null\n\nArtifactory URL null\n\nArtifactory URL null\n</code></pre>\n<h2>Workaround</h2>\n<p>Workaround:</p>\n<p>I have found a temporary workaround for this issue. When I encounter this problem in IntelliJ, I perform the following steps:</p>\n<ul>\n<li>Run <code>gradlew --stop</code> in a separate terminal.</li>\n<li>Close IntelliJ.</li>\n<li>Reopen IntelliJ.</li>\n</ul>\n<p>Does anybody understand why this works?</p>\n<h2>Additional Context:</h2>\n<p>I've noticed that some of my teammates who have a similar setup to mine, which includes using <code>SDKman</code> for managing the Java environment, are experiencing this issue as well. However, those who are using a base Java environment without an environment manager seem to fare better.</p>\n<p><strong>Current version of Intellij</strong>:</p>\n<pre><code>IntelliJ IDEA 2023.1.1 (Ultimate Edition)\nBuild #IU-231.8770.65, built on April 27, 2023\nRuntime version: 17.0.6+10-b829.9 aarch64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\nmacOS 12.6.3\nGC: G1 Young Generation, G1 Old Generation\nMemory: 2048M\nCores: 8\nMetal Rendering is ON\nKotlin: 231-1.8.21-IJ8770.65\n</code></pre>\n"},{"tags":["java","jdbc","db2"],"comments":[{"owner":{"display_name":"user330315"},"score":1,"creation_date":1424156933,"post_id":28556425,"comment_id":45425000,"body_markdown":"Sharing a connection over different threads doesn&#39;t make sense as you can only run a single statement at a given point in time on one connection (so all your statements are serialized on the connection). Closing the connection in the first thread will apparently make all other threads defunct as well.","body":"Sharing a connection over different threads doesn&#39;t make sense as you can only run a single statement at a given point in time on one connection (so all your statements are serialized on the connection). Closing the connection in the first thread will apparently make all other threads defunct as well."},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1424157035,"post_id":28556425,"comment_id":45425038,"body_markdown":"&quot;*Is it required to make an explicit commit for a DROP*&quot; - this depends on the DBMS. Some support transactional DDL (e.g. Postgres) some don&#39;t (e.g. Oracle)","body":"&quot;<i>Is it required to make an explicit commit for a DROP</i>&quot; - this depends on the DBMS. Some support transactional DDL (e.g. Postgres) some don&#39;t (e.g. Oracle)"},{"owner":{"account_id":2339515,"reputation":3576,"user_id":2051126,"accept_rate":71,"display_name":"Somnath Musib"},"score":0,"creation_date":1424157256,"post_id":28556425,"comment_id":45425130,"body_markdown":"@a_horse_with_no_name: No, I am not doing the way you imagined. I am passing the same connection to all the threads and then my main thread is in wait for completion of all newly spawned threads (future.get()). Once all threads are done, then my main thread is going ahead for deleting the first table and closing the connection.","body":"@a_horse_with_no_name: No, I am not doing the way you imagined. I am passing the same connection to all the threads and then my main thread is in wait for completion of all newly spawned threads (future.get()). Once all threads are done, then my main thread is going ahead for deleting the first table and closing the connection."},{"owner":{"display_name":"user330315"},"score":1,"creation_date":1424157607,"post_id":28556425,"comment_id":45425266,"body_markdown":"Ah, OK. But still: you don&#39;t parallelize the database access this way. You can&#39;t have concurrent statements on the same connection. Neither `java.sql.Statement` nor `java.sql.Connection` is thread safe. I wouldn&#39;t be surprised if that is causing the problems you have.","body":"Ah, OK. But still: you don&#39;t parallelize the database access this way. You can&#39;t have concurrent statements on the same connection. Neither <code>java.sql.Statement</code> nor <code>java.sql.Connection</code> is thread safe. I wouldn&#39;t be surprised if that is causing the problems you have."},{"owner":{"account_id":2339515,"reputation":3576,"user_id":2051126,"accept_rate":71,"display_name":"Somnath Musib"},"score":0,"creation_date":1424158020,"post_id":28556425,"comment_id":45425429,"body_markdown":"@a_horse_with_no_name Yes, your point is correct. Instead of passing the same connection to all thread, I should take  a new connection for each thread. Thanks.","body":"@a_horse_with_no_name Yes, your point is correct. Instead of passing the same connection to all thread, I should take  a new connection for each thread. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":13243439,"reputation":1,"user_id":9563242,"display_name":"Vinay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646039840,"creation_date":1646039840,"answer_id":71292751,"question_id":28556425,"body_markdown":"In Db2, you need to commit the transaction with COMMIT or ROLLBACK before closing the DB connection. COMMIT and ROLLBACK are done only when you make changes to the DB data such as ʻINSERTandDELETE, and COMMITandROLLBACK are used for SELECTthat only refers to the data. I&#39;m sure there are many people who don&#39;t pay attention to-, but at least in Db2, you need to be aware of transactions even in the case ofSELECT`.\r\n\r\nIn the source code above, autocommit was turned off (con.setAutoCommit (false)). If auto-commit = true, the jdbc driver will automatically commit when you call Connection :: close, but if auto-commit = false, the programmer will explicitly Connection :: commit or . If you do not call Connection :: rollback, the transaction will not be committed. In other words, in the source code above, we turned off autocommit, so we tried to close the connection without confirming the transaction, resulting in ʻERRORCODE = -4471`.\r\n\r\n","title":"Failed to close database connection","body":"<p>In Db2, you need to commit the transaction with COMMIT or ROLLBACK before closing the DB connection. COMMIT and ROLLBACK are done only when you make changes to the DB data such as ʻINSERTandDELETE, and COMMITandROLLBACK are used for SELECTthat only refers to the data. I'm sure there are many people who don't pay attention to-, but at least in Db2, you need to be aware of transactions even in the case ofSELECT`.</p>\n<p>In the source code above, autocommit was turned off (con.setAutoCommit (false)). If auto-commit = true, the jdbc driver will automatically commit when you call Connection :: close, but if auto-commit = false, the programmer will explicitly Connection :: commit or . If you do not call Connection :: rollback, the transaction will not be committed. In other words, in the source code above, we turned off autocommit, so we tried to close the connection without confirming the transaction, resulting in ʻERRORCODE = -4471`.</p>\n"}],"owner":{"account_id":2339515,"reputation":3576,"user_id":2051126,"accept_rate":71,"display_name":"Somnath Musib"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8168,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696287785,"creation_date":1424156623,"question_id":28556425,"body_markdown":"I am working on a Java based utility that migrates some column values from one table to another table. My first table contains a ID column, whose values are of fixed type (e.g. Some enum type in Java that were inserted earlier in first table) \r\n\r\nBelow are the summarized steps that I am following:\r\n\r\n1. Getting a new database connection and setting autocommit as false.\r\n2. Selecting the unique type of ids from first table.\r\n3. Creating a thread pool for each uniqueu id. While submitting the migration job, I am passing the same database connection to each thread obtained previously.\r\n4. Each thread is migrating the values from first table to second table and at the end each are performing a database commit.\r\n5. Till this time my main thread is waiting on future.get().\r\n6. Once all threads are done, with my main thread I am dropping the first table (and doing an explicit commit) and closing the connection.\r\n\r\nThis utility is supported for Oracle, UDB and ZOS databases and working fine for Oracle and UDB. However, for ZOS databases while closing the database connection, I am getting below exception:\r\n\r\n    com.ibm.db2.jcc.a.SqlException: [jcc][t4][10251][10308][3.52.90] java.sql.Connection.close() requested while a transaction is in progress on the connection.\r\n    The transaction remains active, and the connection cannot be closed.\r\n\tERRORCODE=-4471, SQLSTATE=null\r\n\r\n1. Here, in my main thread I am first dropping the table and then closing the connection, thus doing these in a sequential manner. Then why I am getting the above exception? What I am doing wrong? \r\n\r\n2. Is it required to make an explicit commit for a DROP as I am setting autocommit as false?\r\n","title":"Failed to close database connection","body":"<p>I am working on a Java based utility that migrates some column values from one table to another table. My first table contains a ID column, whose values are of fixed type (e.g. Some enum type in Java that were inserted earlier in first table) </p>\n\n<p>Below are the summarized steps that I am following:</p>\n\n<ol>\n<li>Getting a new database connection and setting autocommit as false.</li>\n<li>Selecting the unique type of ids from first table.</li>\n<li>Creating a thread pool for each uniqueu id. While submitting the migration job, I am passing the same database connection to each thread obtained previously.</li>\n<li>Each thread is migrating the values from first table to second table and at the end each are performing a database commit.</li>\n<li>Till this time my main thread is waiting on future.get().</li>\n<li>Once all threads are done, with my main thread I am dropping the first table (and doing an explicit commit) and closing the connection.</li>\n</ol>\n\n<p>This utility is supported for Oracle, UDB and ZOS databases and working fine for Oracle and UDB. However, for ZOS databases while closing the database connection, I am getting below exception:</p>\n\n<pre><code>com.ibm.db2.jcc.a.SqlException: [jcc][t4][10251][10308][3.52.90] java.sql.Connection.close() requested while a transaction is in progress on the connection.\nThe transaction remains active, and the connection cannot be closed.\nERRORCODE=-4471, SQLSTATE=null\n</code></pre>\n\n<ol>\n<li><p>Here, in my main thread I am first dropping the table and then closing the connection, thus doing these in a sequential manner. Then why I am getting the above exception? What I am doing wrong? </p></li>\n<li><p>Is it required to make an explicit commit for a DROP as I am setting autocommit as false?</p></li>\n</ol>\n"},{"tags":["java","eclipse","testing","code-coverage"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1696275137,"post_id":77217933,"comment_id":136129702,"body_markdown":"Are you sure eclipse is not executing some earlier version of the tests when some of them were missing? If that&#39;s not it, seems like a bug in eclipse, the tests cover all branches. Ran it with intellij just to be sure and got 100% coverage.","body":"Are you sure eclipse is not executing some earlier version of the tests when some of them were missing? If that&#39;s not it, seems like a bug in eclipse, the tests cover all branches. Ran it with intellij just to be sure and got 100% coverage."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1696280607,"post_id":77217933,"comment_id":136130593,"body_markdown":"Each _if_ statement has 2x2=4 branches because it contain of two conditions which are combined with `&amp;&amp;`. Some of the combinations can never be satisfied because they are caught in an previous if statement: `else if (o1 == null &amp;&amp; o2 != null)` can be simplified to `else if (o1 == null)` (`o2` cannot here `null` because of the first _if_) and `else if (o1 != null &amp;&amp; o2 != null)` can be simplified to `else`. Consider to use nested _if_ statements without `&amp;&amp;` instead.","body":"Each <i>if</i> statement has 2x2=4 branches because it contain of two conditions which are combined with <code>&amp;&amp;</code>. Some of the combinations can never be satisfied because they are caught in an previous if statement: <code>else if (o1 == null &amp;&amp; o2 != null)</code> can be simplified to <code>else if (o1 == null)</code> (<code>o2</code> cannot here <code>null</code> because of the first <i>if</i>) and <code>else if (o1 != null &amp;&amp; o2 != null)</code> can be simplified to <code>else</code>. Consider to use nested <i>if</i> statements without <code>&amp;&amp;</code> instead."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1696280969,"post_id":77217933,"comment_id":136130651,"body_markdown":"@Chaosfire It&#39;s about branch(!) coverage. Do not trust any IDE, especially not IntelliJ.","body":"@Chaosfire It&#39;s about branch(!) coverage. Do not trust any IDE, especially not IntelliJ."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1696310742,"post_id":77217933,"comment_id":136133081,"body_markdown":"@howlger Do you mean the conditions that are always true, in the last 2 `else-if`s? It&#39;s useless code, but those conditions can be satisfied.","body":"@howlger Do you mean the conditions that are always true, in the last 2 <code>else-if</code>s? It&#39;s useless code, but those conditions can be satisfied."}],"answers":[{"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1696311187,"post_id":77218671,"comment_id":136133131,"body_markdown":"Some clarification needed, for me at least. Those conditions are unnecessary, but can be satisfied, the corresponding code in the blocks gets executes. Are the conditions optimized (removed) by the compiler?","body":"Some clarification needed, for me at least. Those conditions are unnecessary, but can be satisfied, the corresponding code in the blocks gets executes. Are the conditions optimized (removed) by the compiler?"},{"owner":{"account_id":4360770,"reputation":539,"user_id":3557939,"accept_rate":75,"display_name":"sdorof"},"score":0,"creation_date":1696333933,"post_id":77218671,"comment_id":136136781,"body_markdown":"Yes, I also don’t understand why the &quot;if&quot; statement is not considered as a whole, but as separate &quot;else if&quot; branches.","body":"Yes, I also don’t understand why the &quot;if&quot; statement is not considered as a whole, but as separate &quot;else if&quot; branches."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1696405891,"post_id":77218671,"comment_id":136147018,"body_markdown":"@Chaosfire Yes, these conditions are unnecessary because they are always `true`, so the cases where these conditions are `false` are not covered. No, neither `javac` nor ecj removes them. Such an optimization would require checking whether there are side effects and all permutations would have to be checked, which is exponential in effort (which is probably why no compiler does this optimization). Use the _Bytecode_ view if you want to dig into the bytecode yourself.","body":"@Chaosfire Yes, these conditions are unnecessary because they are always <code>true</code>, so the cases where these conditions are <code>false</code> are not covered. No, neither <code>javac</code> nor ecj removes them. Such an optimization would require checking whether there are side effects and all permutations would have to be checked, which is exponential in effort (which is probably why no compiler does this optimization). Use the <i>Bytecode</i> view if you want to dig into the bytecode yourself."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1696406226,"post_id":77218671,"comment_id":136147089,"body_markdown":"@sdorof The bytecode will be executed, not the source code. And in the bytecode `if (&lt;cond1&gt; &amp;&amp; &lt;cond2&gt;)` becomes two nested _if_ statements, in your case each `&lt;param&gt;==null`/`&lt;param&gt;!=null` condition becomes [`ifnonnull`/`ifnull`](https://docs.oracle.com/javase/specs/jvms/se21/html/jvms-4.html#jvms-4.10.1.9.ifnonnull).","body":"@sdorof The bytecode will be executed, not the source code. And in the bytecode <code>if (&lt;cond1&gt; &amp;&amp; &lt;cond2&gt;)</code> becomes two nested <i>if</i> statements, in your case each <code>&lt;param&gt;==null</code>/<code>&lt;param&gt;!=null</code> condition becomes <a href=\"https://docs.oracle.com/javase/specs/jvms/se21/html/jvms-4.html#jvms-4.10.1.9.ifnonnull\" rel=\"nofollow noreferrer\"><code>ifnonnull</code>/<code>ifnull</code></a>."}],"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696286886,"creation_date":1696283810,"answer_id":77218671,"question_id":77217933,"body_markdown":"The missed branches are dead code.\r\n\r\nEach of the *if* conditions consists of two Boolean conditions, resulting in four branches. But only in the first two *if* conditions all combinations of the Boolean conditions are covered by the test. The **last two *if* statements contain unnecessary conditions** that are already **handled in previous *if* statements**:\r\n\r\n\tpublic void function(Object o1, Object o2) {\r\n\t\tif (o1 == null &amp;&amp; o2 == null) {\r\n\t\t\tSystem.out.println(o1 + &quot; &quot; + o2);\r\n\t\t} else if (o1 != null &amp;&amp; o2 == null) {\r\n\t\t\tSystem.out.println(o1 + &quot; &quot; + o2);\r\n\t\t} else if (o1 == null) { // o2 != null (o2 == null is already caught in first if-statement)\r\n\t\t\tSystem.out.println(o1 + &quot; &quot; + o2);\r\n\t\t} else { // o1 != null and o2 != null (everything else is caught in previous if-statements)\r\n\t\t\tSystem.out.println(o1 + &quot; &quot; + o2);\r\n\t\t}\r\n\t}\r\n\r\nOr simplified even further:\r\n\r\n\tpublic void function(Object o1, Object o2) {\r\n\t\tif (o1 == null) {\r\n\t\t\tif (o2 == null) {\r\n\t\t\t\tSystem.out.println(o1 + &quot; &quot; + o2);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(o1 + &quot; &quot; + o2);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (o2 == null) {\r\n\t\t\t\tSystem.out.println(o1 + &quot; &quot; + o2);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(o1 + &quot; &quot; + o2);\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Eclipse coverage reports that branches missed but why?","body":"<p>The missed branches are dead code.</p>\n<p>Each of the <em>if</em> conditions consists of two Boolean conditions, resulting in four branches. But only in the first two <em>if</em> conditions all combinations of the Boolean conditions are covered by the test. The <strong>last two <em>if</em> statements contain unnecessary conditions</strong> that are already <strong>handled in previous <em>if</em> statements</strong>:</p>\n<pre><code>public void function(Object o1, Object o2) {\n    if (o1 == null &amp;&amp; o2 == null) {\n        System.out.println(o1 + &quot; &quot; + o2);\n    } else if (o1 != null &amp;&amp; o2 == null) {\n        System.out.println(o1 + &quot; &quot; + o2);\n    } else if (o1 == null) { // o2 != null (o2 == null is already caught in first if-statement)\n        System.out.println(o1 + &quot; &quot; + o2);\n    } else { // o1 != null and o2 != null (everything else is caught in previous if-statements)\n        System.out.println(o1 + &quot; &quot; + o2);\n    }\n}\n</code></pre>\n<p>Or simplified even further:</p>\n<pre><code>public void function(Object o1, Object o2) {\n    if (o1 == null) {\n        if (o2 == null) {\n            System.out.println(o1 + &quot; &quot; + o2);\n        } else {\n            System.out.println(o1 + &quot; &quot; + o2);\n        }\n    } else {\n        if (o2 == null) {\n            System.out.println(o1 + &quot; &quot; + o2);\n        } else {\n            System.out.println(o1 + &quot; &quot; + o2);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4360770,"reputation":539,"user_id":3557939,"accept_rate":75,"display_name":"sdorof"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77218671,"answer_count":1,"score":0,"last_activity_date":1696286886,"creation_date":1696273835,"question_id":77217933,"body_markdown":"I want to coverage all of if branches. I create a dumb class with multiple if...else, and test it with all branches conditions to test coverage. The Eclipse reports abount 1 of 4 branches missed and 2 of 4 branches missed. But why it happens? Where are the missed branches?\r\n\r\nThe class with if...else conditions:\r\n```\r\npublic class Coverage {\r\n\r\n  public void function(Object o1, Object o2) {\r\n\r\n    if (o1 == null &amp;&amp; o2 == null) {\r\n\r\n      System.out.println(o1 + &quot; &quot; + o2);\r\n\r\n    } else if (o1 != null &amp;&amp; o2 == null) {\r\n\r\n      System.out.println(o1 + &quot; &quot; + o2);\r\n\r\n    } else if (o1 == null &amp;&amp; o2 != null) {\r\n\r\n      System.out.println(o1 + &quot; &quot; + o2);\r\n\r\n    } else if (o1 != null &amp;&amp; o2 != null) {\r\n\r\n      System.out.println(o1 + &quot; &quot; + o2);\r\n\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThe test:\r\n```\r\npublic class CoverageTest {\r\n\r\n  Coverage c;\r\n\r\n  @BeforeEach\r\n  public void beforeEach() {\r\n    c = new Coverage();\r\n  }\r\n\r\n  @Test\r\n  public void testFunction_null_null() {\r\n    c.function(null, null);\r\n  }\r\n\r\n  @Test\r\n  public void testFunction_object_null() {\r\n    c.function(new Object(), null);\r\n  }\r\n\r\n  @Test\r\n  public void testFunction_null_object() {\r\n    c.function(null, new Object());\r\n  }\r\n\r\n  @Test\r\n  public void testFunction_object_object() {\r\n    c.function(new Object(), new Object());\r\n  }\r\n\r\n}\r\n```\r\n\r\nThe Eclipse coverage report:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/atsaH.png","title":"Eclipse coverage reports that branches missed but why?","body":"<p>I want to coverage all of if branches. I create a dumb class with multiple if...else, and test it with all branches conditions to test coverage. The Eclipse reports abount 1 of 4 branches missed and 2 of 4 branches missed. But why it happens? Where are the missed branches?</p>\n<p>The class with if...else conditions:</p>\n<pre><code>public class Coverage {\n\n  public void function(Object o1, Object o2) {\n\n    if (o1 == null &amp;&amp; o2 == null) {\n\n      System.out.println(o1 + &quot; &quot; + o2);\n\n    } else if (o1 != null &amp;&amp; o2 == null) {\n\n      System.out.println(o1 + &quot; &quot; + o2);\n\n    } else if (o1 == null &amp;&amp; o2 != null) {\n\n      System.out.println(o1 + &quot; &quot; + o2);\n\n    } else if (o1 != null &amp;&amp; o2 != null) {\n\n      System.out.println(o1 + &quot; &quot; + o2);\n\n    }\n  }\n}\n</code></pre>\n<p>The test:</p>\n<pre><code>public class CoverageTest {\n\n  Coverage c;\n\n  @BeforeEach\n  public void beforeEach() {\n    c = new Coverage();\n  }\n\n  @Test\n  public void testFunction_null_null() {\n    c.function(null, null);\n  }\n\n  @Test\n  public void testFunction_object_null() {\n    c.function(new Object(), null);\n  }\n\n  @Test\n  public void testFunction_null_object() {\n    c.function(null, new Object());\n  }\n\n  @Test\n  public void testFunction_object_object() {\n    c.function(new Object(), new Object());\n  }\n\n}\n</code></pre>\n<p>The Eclipse coverage report:</p>\n<p><a href=\"https://i.stack.imgur.com/atsaH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/atsaH.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven"],"answers":[{"comments":[{"owner":{"account_id":11794849,"reputation":71,"user_id":8629791,"display_name":"Kirk B"},"score":1,"creation_date":1638864513,"post_id":43816490,"comment_id":124194606,"body_markdown":"I was able to get mvn install to be my default by adding &quot;&lt;defaultGoal&gt;install&lt;/defaultGoal&gt;&quot; to my build section. just running mvn now does install.","body":"I was able to get mvn install to be my default by adding &quot;&lt;defaultGoal&gt;install&lt;/defaultGoal&gt;&quot; to my build section. just running mvn now does install."},{"owner":{"account_id":15210721,"reputation":161,"user_id":10975638,"display_name":"Tes"},"score":0,"creation_date":1642310586,"post_id":43816490,"comment_id":125034769,"body_markdown":"I found this worked for me. In the &quot;Edit Configuration&quot; dialogue window, select spring-boot:run for the &quot;Command Line&quot;, click Apply and OK. then you should be good to go.","body":"I found this worked for me. In the &quot;Edit Configuration&quot; dialogue window, select spring-boot:run for the &quot;Command Line&quot;, click Apply and OK. then you should be good to go."}],"tags":[],"owner":{"account_id":7294009,"reputation":985,"user_id":5559512,"accept_rate":73,"display_name":"EyfI"},"comment_count":2,"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1494087369,"creation_date":1494042146,"answer_id":43816490,"question_id":43816009,"body_markdown":"The goal can be specified in the build-plugins-plugin section of your `pom.xml`, depending on what you want to happen with the application.\r\n\r\nE.g. if you want to execute it, you can follow the steps described on the question  [How do I execute a program using Maven?][1].\r\n\r\nI don&#39;t think you can do it with just `mvn`, but you need to specify what happens (like `mvn package` or `mvn install`)\r\n\r\nYou can read more about goals and phases on [Introduction to the Build Lifecycle][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2472376/how-do-i-execute-a-program-using-maven\r\n  [2]: https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html","title":"How to fix this no goals have been specified for this build on maven?","body":"<p>The goal can be specified in the build-plugins-plugin section of your <code>pom.xml</code>, depending on what you want to happen with the application.</p>\n\n<p>E.g. if you want to execute it, you can follow the steps described on the question  <a href=\"https://stackoverflow.com/questions/2472376/how-do-i-execute-a-program-using-maven\">How do I execute a program using Maven?</a>.</p>\n\n<p>I don't think you can do it with just <code>mvn</code>, but you need to specify what happens (like <code>mvn package</code> or <code>mvn install</code>)</p>\n\n<p>You can read more about goals and phases on <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\" rel=\"noreferrer\">Introduction to the Build Lifecycle</a>.</p>\n"},{"tags":[],"owner":{"account_id":6358143,"reputation":8730,"user_id":4934640,"accept_rate":88,"display_name":"Evandro Coan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595541838,"creation_date":1594941353,"answer_id":62944847,"question_id":43816009,"body_markdown":"To have a clear example, you can run you application with **`mvn package exec:java`** by using the **`exec-maven-plugin`**\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.1&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;java&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n    &lt;configuration&gt;\r\n        &lt;mainClass&gt;com.path.to.MainFile&lt;/mainClass&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n1. The **`com.path.to.MainFile`** file would be located on **`/src/main/java/com/path/to/MainFile.java`**","title":"How to fix this no goals have been specified for this build on maven?","body":"<p>To have a clear example, you can run you application with <strong><code>mvn package exec:java</code></strong> by using the <strong><code>exec-maven-plugin</code></strong></p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.2.1&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;java&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;mainClass&gt;com.path.to.MainFile&lt;/mainClass&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<ol>\n<li>The <strong><code>com.path.to.MainFile</code></strong> file would be located on <strong><code>/src/main/java/com/path/to/MainFile.java</code></strong></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":272843,"reputation":4000,"user_id":564145,"display_name":"Nicolas Bousquet"},"score":0,"creation_date":1595538158,"post_id":63061003,"comment_id":111518512,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/low-quality-posts/26763729)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/low-quality-posts/26763729\">From Review</a>"},{"owner":{"account_id":16353407,"reputation":12404,"user_id":11811255,"display_name":"jizhihaoSAMA"},"score":5,"creation_date":1595555775,"post_id":63061003,"comment_id":111522765,"body_markdown":"@NicolasBousquet He has provided an solution to this question.","body":"@NicolasBousquet He has provided an solution to this question."}],"tags":[],"owner":{"account_id":16199277,"reputation":51,"user_id":11696046,"display_name":"Vidya KS"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1595529504,"creation_date":1595529504,"answer_id":63061003,"question_id":43816009,"body_markdown":"For me below solution worked.\r\n Go to terminal and run &quot;mvn clean install&quot;\r\n","title":"How to fix this no goals have been specified for this build on maven?","body":"<p>For me below solution worked.\nGo to terminal and run &quot;mvn clean install&quot;</p>\n"},{"tags":[],"owner":{"account_id":18725813,"reputation":79,"user_id":13652534,"display_name":"Phanindra Nath"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1597060447,"creation_date":1596374457,"answer_id":63216492,"question_id":43816009,"body_markdown":"Run the following command in cmd:\r\n`mvn clean` ","title":"How to fix this no goals have been specified for this build on maven?","body":"<p>Run the following command in cmd:\n<code>mvn clean</code></p>\n"},{"comments":[{"owner":{"account_id":6003126,"reputation":678,"user_id":5384988,"accept_rate":67,"display_name":"Meric Ozcan"},"score":0,"creation_date":1662642271,"post_id":63936677,"comment_id":130056474,"body_markdown":"What does this do? Could you please add explanation?","body":"What does this do? Could you please add explanation?"}],"tags":[],"owner":{"account_id":2616296,"reputation":1942,"user_id":2265283,"accept_rate":7,"display_name":"Eyal Sooliman"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600340637,"creation_date":1600340637,"answer_id":63936677,"question_id":43816009,"body_markdown":"If you are working with Jenkins + maven go to job-&gt;build-&gt; and add Goals and option: \r\n\r\n    clean install -Denvironment=&quot;$&quot;environment\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YiFJr.png","title":"How to fix this no goals have been specified for this build on maven?","body":"<p>If you are working with Jenkins + maven go to job-&gt;build-&gt; and add Goals and option:</p>\n<pre><code>clean install -Denvironment=&quot;$&quot;environment\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/YiFJr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YiFJr.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":4734504,"reputation":269,"user_id":3829269,"display_name":"Kartik"},"score":2,"creation_date":1616177818,"post_id":65610300,"comment_id":117930722,"body_markdown":"Thanks Buddy it worked like  charm, I was frustrated.","body":"Thanks Buddy it worked like  charm, I was frustrated."}],"tags":[],"owner":{"account_id":9321584,"reputation":1230,"user_id":6920169,"accept_rate":75,"display_name":"Loki"},"comment_count":1,"down_vote_count":1,"up_vote_count":39,"is_accepted":false,"score":38,"last_activity_date":1610014060,"creation_date":1610014060,"answer_id":65610300,"question_id":43816009,"body_markdown":"Enter the required life cycle event in *Command line* field in **run/debug configurations**.\r\nFor me, I want to run the project so, I used **spring-boot:run**\r\n\r\nIt worked for me\r\n\r\n[Maven life cycle references][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Lifecycle_Reference\r\n  [2]: https://i.stack.imgur.com/vHf5k.png","title":"How to fix this no goals have been specified for this build on maven?","body":"<p>Enter the required life cycle event in <em>Command line</em> field in <strong>run/debug configurations</strong>.\nFor me, I want to run the project so, I used <strong>spring-boot:run</strong></p>\n<p>It worked for me</p>\n<p><a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Lifecycle_Reference\" rel=\"noreferrer\">Maven life cycle references</a></p>\n<p><a href=\"https://i.stack.imgur.com/vHf5k.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vHf5k.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":6358143,"reputation":8730,"user_id":4934640,"accept_rate":88,"display_name":"Evandro Coan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197185,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":43816490,"answer_count":6,"score":46,"last_activity_date":1696286311,"creation_date":1494037039,"question_id":43816009,"body_markdown":"I am trying to build this maven project:\r\n\r\n1. https://github.com/jottinger/owlapi-tutorial\r\n\r\nWithin this maven:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n        &lt;groupId&gt;com.autumncode&lt;/groupId&gt;\r\n        &lt;artifactId&gt;owlapi-tutorial&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;net.sourceforge.owlapi&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;owlapi-distribution&lt;/artifactId&gt;\r\n                    &lt;version&gt;[4.0.2,)&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;net.sourceforge.owlapi&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;owlapi-rio&lt;/artifactId&gt;\r\n                    &lt;version&gt;[4.0.2,)&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;net.sourceforge.owlapi&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jfact&lt;/artifactId&gt;\r\n                    &lt;version&gt;4.0.2&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.7.7&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n                    &lt;version&gt;[6.9.8,)&lt;/version&gt;\r\n                    &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.sourceforge.owlapi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;owlapi-distribution&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.sourceforge.owlapi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;owlapi-rio&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n                &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.sourceforge.owlapi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jfact&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nI found some questions about it as:\r\n\r\n1. https://stackoverflow.com/questions/41261750/no-goals-have-been-specified-for-this-build\r\n1. https://stackoverflow.com/questions/35851452/maven-j2objc-no-goals-have-been-specified-for-this-build\r\n1. https://stackoverflow.com/questions/21332109/no-goals-have-been-specified-for-this-build\r\n1. https://stackoverflow.com/questions/43804301/maven-how-to-find-out-what-settings-xml-is-used-ubuntu\r\n1. https://stackoverflow.com/questions/24772764/how-to-fix-this-build-path-error\r\n1. https://stackoverflow.com/questions/37489985/how-to-fix-this-maven-warning-on-eclipse-there-is-no-schema-defined-for-this-p\r\n\r\nThey are saying I need to set a goal as:\r\n\r\n      &lt;goals&gt;\r\n        &lt;goal&gt;exploded&lt;/goal&gt;\r\n      &lt;/goals&gt;\r\n\r\nBut I do not know how to put it in the configuration file above. This is the full log output when running the initial `pom.xml`:\r\n\r\n    mvn -e -X\r\n    Apache Maven 3.5.0 (ff8f5e7444045639af65f6095c62210b5713f426; 2017-04-03T16:39:06-03:00)\r\n    Maven home: D:\\User\\Documents\\apache_marven\\maven\r\n    Java version: 1.8.0_131, vendor: Oracle Corporation\r\n    Java home: C:\\Program Files\\Java\\jdk1.8.0_65\\jre\r\n    Default locale: en_US, platform encoding: Cp1252\r\n    OS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;x86&quot;, family: &quot;windows&quot;\r\n    [DEBUG] Created new class realm maven.api\r\n    [DEBUG] Importing foreign packages into class realm maven.api\r\n    [DEBUG]   Imported: javax.enterprise.inject.* &lt; plexus.core\r\n    [DEBUG]   Imported: javax.enterprise.util.* &lt; plexus.core\r\n    [DEBUG]   Imported: javax.inject.* &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.* &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.artifact &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.classrealm &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.cli &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.configuration &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.exception &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.execution &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.execution.scope &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.lifecycle &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.model &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.monitor &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.plugin &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.profiles &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.project &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.reporting &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.repository &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.rtinfo &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.settings &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.toolchain &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.usability &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.wagon.* &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.wagon.authentication &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.wagon.authorization &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.wagon.events &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.wagon.observers &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.wagon.proxy &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.wagon.repository &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.wagon.resource &lt; plexus.core\r\n    [DEBUG]   Imported: org.codehaus.classworlds &lt; plexus.core\r\n    [DEBUG]   Imported: org.codehaus.plexus.* &lt; plexus.core\r\n    [DEBUG]   Imported: org.codehaus.plexus.classworlds &lt; plexus.core\r\n    [DEBUG]   Imported: org.codehaus.plexus.component &lt; plexus.core\r\n    [DEBUG]   Imported: org.codehaus.plexus.configuration &lt; plexus.core\r\n    [DEBUG]   Imported: org.codehaus.plexus.container &lt; plexus.core\r\n    [DEBUG]   Imported: org.codehaus.plexus.context &lt; plexus.core\r\n    [DEBUG]   Imported: org.codehaus.plexus.lifecycle &lt; plexus.core\r\n    [DEBUG]   Imported: org.codehaus.plexus.logging &lt; plexus.core\r\n    [DEBUG]   Imported: org.codehaus.plexus.personality &lt; plexus.core\r\n    [DEBUG]   Imported: org.codehaus.plexus.util.xml.Xpp3Dom &lt; plexus.core\r\n    [DEBUG]   Imported: org.codehaus.plexus.util.xml.pull.XmlPullParser &lt; plexus.core\r\n    [DEBUG]   Imported: org.codehaus.plexus.util.xml.pull.XmlPullParserException &lt; plexus.core\r\n    [DEBUG]   Imported: org.codehaus.plexus.util.xml.pull.XmlSerializer &lt; plexus.core\r\n    [DEBUG]   Imported: org.eclipse.aether.* &lt; plexus.core\r\n    [DEBUG]   Imported: org.eclipse.aether.artifact &lt; plexus.core\r\n    [DEBUG]   Imported: org.eclipse.aether.collection &lt; plexus.core\r\n    [DEBUG]   Imported: org.eclipse.aether.deployment &lt; plexus.core\r\n    [DEBUG]   Imported: org.eclipse.aether.graph &lt; plexus.core\r\n    [DEBUG]   Imported: org.eclipse.aether.impl &lt; plexus.core\r\n    [DEBUG]   Imported: org.eclipse.aether.installation &lt; plexus.core\r\n    [DEBUG]   Imported: org.eclipse.aether.internal.impl &lt; plexus.core\r\n    [DEBUG]   Imported: org.eclipse.aether.metadata &lt; plexus.core\r\n    [DEBUG]   Imported: org.eclipse.aether.repository &lt; plexus.core\r\n    [DEBUG]   Imported: org.eclipse.aether.resolution &lt; plexus.core\r\n    [DEBUG]   Imported: org.eclipse.aether.spi &lt; plexus.core\r\n    [DEBUG]   Imported: org.eclipse.aether.transfer &lt; plexus.core\r\n    [DEBUG]   Imported: org.eclipse.aether.version &lt; plexus.core\r\n    [DEBUG]   Imported: org.fusesource.jansi.* &lt; plexus.core\r\n    [DEBUG]   Imported: org.slf4j.* &lt; plexus.core\r\n    [DEBUG]   Imported: org.slf4j.helpers.* &lt; plexus.core\r\n    [DEBUG]   Imported: org.slf4j.spi.* &lt; plexus.core\r\n    [DEBUG] Populating class realm maven.api\r\n    [INFO] Error stacktraces are turned on.\r\n    [DEBUG] Message scheme: color\r\n    [DEBUG] Message styles: debug info warning error success failure strong mojo project\r\n    [DEBUG] Reading global settings from D:\\User\\Documents\\apache_marven\\maven\\conf\\settings.xml\r\n    [DEBUG] Reading user settings from C:\\Users\\Professional\\.m2\\settings.xml\r\n    [DEBUG] Reading global toolchains from D:\\User\\Documents\\apache_marven\\maven\\conf\\toolchains.xml\r\n    [DEBUG] Reading user toolchains from C:\\Users\\Professional\\.m2\\toolchains.xml\r\n    [DEBUG] Using local repository at C:\\Users\\Professional\\.m2\\repository\r\n    [DEBUG] Using manager EnhancedLocalRepositoryManager with priority 10.0 for C:\\Users\\Professional\\.m2\\repository\r\n    [INFO] Scanning for projects...\r\n    [DEBUG] Extension realms for project com.mycompany.app:my-app:jar:1.0-SNAPSHOT: (none)\r\n    [DEBUG] Looking up lifecycle mappings for packaging jar from ClassRealm[plexus.core, parent: null]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 0.445 s\r\n    [INFO] Finished at: 2017-05-05T23:05:24-03:00\r\n    [INFO] Final Memory: 4M/15M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] No goals have been specified for this build. You must specify a valid lifecycle phase or a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or &lt;plugin-group-id&gt;:&lt;plugin-artifact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;. Available lifecycle phases are: validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-clean, clean, post-clean, pre-site, site, post-site, site-deploy. -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.NoGoalSpecifiedException: No goals have been specified for this build. You must specify a valid lifecycle phase or a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or &lt;plugin-group-id&gt;:&lt;plugin-artifact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;. Available lifecycle phases are: validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-clean, clean, post-clean, pre-site, site, post-site, site-deploy.\r\n            at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:94)\r\n            at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:309)\r\n            at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:194)\r\n            at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:107)\r\n            at org.apache.maven.cli.MavenCli.execute(MavenCli.java:993)\r\n            at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:345)\r\n            at org.apache.maven.cli.MavenCli.main(MavenCli.java:191)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n    [ERROR]\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/NoGoalSpecifiedException\r\n\r\n\r\nI would not like to run it from eclipse. I would prefer just to call on the command line `mvn`, as I am currently doing.","title":"How to fix this no goals have been specified for this build on maven?","body":"<p>I am trying to build this maven project:</p>\n\n<ol>\n<li><a href=\"https://github.com/jottinger/owlapi-tutorial\" rel=\"noreferrer\">https://github.com/jottinger/owlapi-tutorial</a></li>\n</ol>\n\n<p>Within this maven:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.autumncode&lt;/groupId&gt;\n    &lt;artifactId&gt;owlapi-tutorial&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;net.sourceforge.owlapi&lt;/groupId&gt;\n                &lt;artifactId&gt;owlapi-distribution&lt;/artifactId&gt;\n                &lt;version&gt;[4.0.2,)&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;net.sourceforge.owlapi&lt;/groupId&gt;\n                &lt;artifactId&gt;owlapi-rio&lt;/artifactId&gt;\n                &lt;version&gt;[4.0.2,)&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;net.sourceforge.owlapi&lt;/groupId&gt;\n                &lt;artifactId&gt;jfact&lt;/artifactId&gt;\n                &lt;version&gt;4.0.2&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n                &lt;version&gt;1.7.7&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.testng&lt;/groupId&gt;\n                &lt;artifactId&gt;testng&lt;/artifactId&gt;\n                &lt;version&gt;[6.9.8,)&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sourceforge.owlapi&lt;/groupId&gt;\n            &lt;artifactId&gt;owlapi-distribution&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sourceforge.owlapi&lt;/groupId&gt;\n            &lt;artifactId&gt;owlapi-rio&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sourceforge.owlapi&lt;/groupId&gt;\n            &lt;artifactId&gt;jfact&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>I found some questions about it as:</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/41261750/no-goals-have-been-specified-for-this-build\">No goals have been specified for this build.</a></li>\n<li><a href=\"https://stackoverflow.com/questions/35851452/maven-j2objc-no-goals-have-been-specified-for-this-build\">maven - j2objc - No goals have been specified for this build</a></li>\n<li><a href=\"https://stackoverflow.com/questions/21332109/no-goals-have-been-specified-for-this-build\">No goals have been specified for this build</a></li>\n<li><a href=\"https://stackoverflow.com/questions/43804301/maven-how-to-find-out-what-settings-xml-is-used-ubuntu\">Maven how to find out what settings.xml is used (Ubuntu)</a></li>\n<li><a href=\"https://stackoverflow.com/questions/24772764/how-to-fix-this-build-path-error\">How to fix this Build Path Error?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/37489985/how-to-fix-this-maven-warning-on-eclipse-there-is-no-schema-defined-for-this-p\">How to fix this maven warning on Eclipse: &quot;There is no schema defined for this pom.xml&quot;</a></li>\n</ol>\n\n<p>They are saying I need to set a goal as:</p>\n\n<pre><code>  &lt;goals&gt;\n    &lt;goal&gt;exploded&lt;/goal&gt;\n  &lt;/goals&gt;\n</code></pre>\n\n<p>But I do not know how to put it in the configuration file above. This is the full log output when running the initial <code>pom.xml</code>:</p>\n\n<pre><code>mvn -e -X\nApache Maven 3.5.0 (ff8f5e7444045639af65f6095c62210b5713f426; 2017-04-03T16:39:06-03:00)\nMaven home: D:\\User\\Documents\\apache_marven\\maven\nJava version: 1.8.0_131, vendor: Oracle Corporation\nJava home: C:\\Program Files\\Java\\jdk1.8.0_65\\jre\nDefault locale: en_US, platform encoding: Cp1252\nOS name: \"windows 10\", version: \"10.0\", arch: \"x86\", family: \"windows\"\n[DEBUG] Created new class realm maven.api\n[DEBUG] Importing foreign packages into class realm maven.api\n[DEBUG]   Imported: javax.enterprise.inject.* &lt; plexus.core\n[DEBUG]   Imported: javax.enterprise.util.* &lt; plexus.core\n[DEBUG]   Imported: javax.inject.* &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.* &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.artifact &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.classrealm &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.cli &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.configuration &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.exception &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.execution &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.execution.scope &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.lifecycle &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.model &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.monitor &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.plugin &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.profiles &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.project &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.reporting &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.repository &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.rtinfo &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.settings &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.toolchain &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.usability &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.wagon.* &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.wagon.authentication &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.wagon.authorization &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.wagon.events &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.wagon.observers &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.wagon.proxy &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.wagon.repository &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.wagon.resource &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.classworlds &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.* &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.classworlds &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.component &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.configuration &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.container &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.context &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.lifecycle &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.logging &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.personality &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.util.xml.Xpp3Dom &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.util.xml.pull.XmlPullParser &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.util.xml.pull.XmlPullParserException &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.util.xml.pull.XmlSerializer &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.* &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.artifact &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.collection &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.deployment &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.graph &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.impl &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.installation &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.internal.impl &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.metadata &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.repository &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.resolution &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.spi &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.transfer &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.version &lt; plexus.core\n[DEBUG]   Imported: org.fusesource.jansi.* &lt; plexus.core\n[DEBUG]   Imported: org.slf4j.* &lt; plexus.core\n[DEBUG]   Imported: org.slf4j.helpers.* &lt; plexus.core\n[DEBUG]   Imported: org.slf4j.spi.* &lt; plexus.core\n[DEBUG] Populating class realm maven.api\n[INFO] Error stacktraces are turned on.\n[DEBUG] Message scheme: color\n[DEBUG] Message styles: debug info warning error success failure strong mojo project\n[DEBUG] Reading global settings from D:\\User\\Documents\\apache_marven\\maven\\conf\\settings.xml\n[DEBUG] Reading user settings from C:\\Users\\Professional\\.m2\\settings.xml\n[DEBUG] Reading global toolchains from D:\\User\\Documents\\apache_marven\\maven\\conf\\toolchains.xml\n[DEBUG] Reading user toolchains from C:\\Users\\Professional\\.m2\\toolchains.xml\n[DEBUG] Using local repository at C:\\Users\\Professional\\.m2\\repository\n[DEBUG] Using manager EnhancedLocalRepositoryManager with priority 10.0 for C:\\Users\\Professional\\.m2\\repository\n[INFO] Scanning for projects...\n[DEBUG] Extension realms for project com.mycompany.app:my-app:jar:1.0-SNAPSHOT: (none)\n[DEBUG] Looking up lifecycle mappings for packaging jar from ClassRealm[plexus.core, parent: null]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 0.445 s\n[INFO] Finished at: 2017-05-05T23:05:24-03:00\n[INFO] Final Memory: 4M/15M\n[INFO] ------------------------------------------------------------------------\n[ERROR] No goals have been specified for this build. You must specify a valid lifecycle phase or a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or &lt;plugin-group-id&gt;:&lt;plugin-artifact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;. Available lifecycle phases are: validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-clean, clean, post-clean, pre-site, site, post-site, site-deploy. -&gt; [Help 1]\norg.apache.maven.lifecycle.NoGoalSpecifiedException: No goals have been specified for this build. You must specify a valid lifecycle phase or a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or &lt;plugin-group-id&gt;:&lt;plugin-artifact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;. Available lifecycle phases are: validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-clean, clean, post-clean, pre-site, site, post-site, site-deploy.\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:94)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:309)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:194)\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:107)\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:993)\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:345)\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:191)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\n[ERROR]\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/NoGoalSpecifiedException\n</code></pre>\n\n<p>I would not like to run it from eclipse. I would prefer just to call on the command line <code>mvn</code>, as I am currently doing.</p>\n"},{"tags":["java","spring","spring-boot","activemq-artemis","spring-autoconfiguration"],"answers":[{"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1693481622,"post_id":77015408,"comment_id":135768438,"body_markdown":"This won&#39;t help because `ConditionalOnBean` is evaluated during bean registration and hence before bean creation. I also actually have an explicit `@DependsOn` because the mentioned bean methods with `@ConditionOnBean(ConnectionFactory.class)` also use the connection factory as a parameter. But if I start the application with jms disabled I only want these beans not to be created instead of the application failing to start because of the missing connection factory.","body":"This won&#39;t help because <code>ConditionalOnBean</code> is evaluated during bean registration and hence before bean creation. I also actually have an explicit <code>@DependsOn</code> because the mentioned bean methods with <code>@ConditionOnBean(ConnectionFactory.class)</code> also use the connection factory as a parameter. But if I start the application with jms disabled I only want these beans not to be created instead of the application failing to start because of the missing connection factory."},{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1693482829,"post_id":77015408,"comment_id":135768706,"body_markdown":"Than you can create different profiles and for a particular profile have some beans not registered. I think the profiles is your option","body":"Than you can create different profiles and for a particular profile have some beans not registered. I think the profiles is your option"}],"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693481352,"creation_date":1693481352,"answer_id":77015408,"question_id":77015279,"body_markdown":"I am not familiar with `@ConditionalOnBean`, but you also can control creation beans order with `@Order` and `@DependsOn`. I used `@DependsOn` and it works well. Here are two articles that may help: \r\n\r\n 1. [@Order in Spring][1], \r\n 2. [Controlling Bean Creation Order with\r\n        @DependsOn Annotation][2]\r\n\r\n  [1]: https://www.baeldung.com/spring-order\r\n  [2]: https://www.baeldung.com/spring-depends-on","title":"What determines spring boots bean registration order for auto configurations?","body":"<p>I am not familiar with <code>@ConditionalOnBean</code>, but you also can control creation beans order with <code>@Order</code> and <code>@DependsOn</code>. I used <code>@DependsOn</code> and it works well. Here are two articles that may help:</p>\n<ol>\n<li><a href=\"https://www.baeldung.com/spring-order\" rel=\"nofollow noreferrer\">@Order in Spring</a>,</li>\n<li><a href=\"https://www.baeldung.com/spring-depends-on\" rel=\"nofollow noreferrer\">Controlling Bean Creation Order with\n@DependsOn Annotation</a></li>\n</ol>\n"}],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696284055,"creation_date":1693480379,"question_id":77015279,"body_markdown":"I have a multi-subproject Spring Boot 3.0 application built by gradle. In modules `A` and `B` I have beans with the annotations\r\n```\r\n@Bean\r\n@ConditionalOnBean(jakarta.jms.ConnectionFactory.class)\r\n```\r\ndeclared.\r\n\r\nThe actual `app` subproject containing the runnable boot application depends on both of these modules. Also module `B` depends on `A`. And `app` also has a `runtimeOnly` dependency on ActiveMQ Artemis to let Spring Boot&#39;s `ArtemisAutoConfiguration` do the configuration of the JMS connection factory via `ArtemisAutoConfiguration`.\r\n\r\nHowever, when I look at the condition evaluation report after the application started I see that the condition did not match for the bean defined in subproject `A` but it did match for the bean defined in subproject `B`. Since `ConditionalOnBean` is evaluated during bean registration phase I suppose the bean definition for artemis is registered only after the bean in subproject `A` is registered but before the one in subproject `B`.\r\n\r\nCan anyone explain what determines this order?\r\n\r\nI already had a look at `BOOT-INF/classpath.idx` in the spring boot jar. But this shows `A` and `B` before any artemis and spring-boot-autoconfiguration entries. So I suppose it&#39;s not that.\r\n\r\nNOTE: yes, using `@AutoConfigureAfter(ArtemisAutoConfiguration.class)` on the auto configuration of subproject `A` fixes this. I&#39;m just curious to know why this was actually necessary to apply. ","title":"What determines spring boots bean registration order for auto configurations?","body":"<p>I have a multi-subproject Spring Boot 3.0 application built by gradle. In modules <code>A</code> and <code>B</code> I have beans with the annotations</p>\n<pre><code>@Bean\n@ConditionalOnBean(jakarta.jms.ConnectionFactory.class)\n</code></pre>\n<p>declared.</p>\n<p>The actual <code>app</code> subproject containing the runnable boot application depends on both of these modules. Also module <code>B</code> depends on <code>A</code>. And <code>app</code> also has a <code>runtimeOnly</code> dependency on ActiveMQ Artemis to let Spring Boot's <code>ArtemisAutoConfiguration</code> do the configuration of the JMS connection factory via <code>ArtemisAutoConfiguration</code>.</p>\n<p>However, when I look at the condition evaluation report after the application started I see that the condition did not match for the bean defined in subproject <code>A</code> but it did match for the bean defined in subproject <code>B</code>. Since <code>ConditionalOnBean</code> is evaluated during bean registration phase I suppose the bean definition for artemis is registered only after the bean in subproject <code>A</code> is registered but before the one in subproject <code>B</code>.</p>\n<p>Can anyone explain what determines this order?</p>\n<p>I already had a look at <code>BOOT-INF/classpath.idx</code> in the spring boot jar. But this shows <code>A</code> and <code>B</code> before any artemis and spring-boot-autoconfiguration entries. So I suppose it's not that.</p>\n<p>NOTE: yes, using <code>@AutoConfigureAfter(ArtemisAutoConfiguration.class)</code> on the auto configuration of subproject <code>A</code> fixes this. I'm just curious to know why this was actually necessary to apply.</p>\n"},{"tags":["java","dependency-injection","apache-karaf","activemq-artemis","fuse"],"answers":[{"tags":[],"owner":{"account_id":91170,"reputation":6162,"user_id":250517,"accept_rate":75,"display_name":"Grzegorz Grzybek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696283572,"creation_date":1672649389,"answer_id":74980452,"question_id":74901811,"body_markdown":"The actual exception you get when calling `context.lookup()` is:\r\n\r\n```\r\njavax.naming.NoInitialContextException: \\\r\n    Need to specify class name in environment or system property, \\\r\n    or as an applet parameter, or in an application resource file:  \\\r\n    java.naming.factory.initial\r\n```\r\n\r\nThat&#39;s how JNDI works and you need special preparation to use it in OSGi (and Fuse Karaf is OSGi runtime based on Apache Karaf).\r\n\r\nYou have to install `jndi` feature first. Then your exception will be:\r\n```\r\njavax.naming.NotContextException: jms/artemis\r\n```\r\n\r\nHowever it&#39;s almost everything you need. `jndi` feature gives you several commands, like this one:\r\n```\r\nkaraf@root()&gt; jndi:names\r\nJNDI Name                │ Class Name\r\n─────────────────────────┼─────────────────────────────────────────────────────────────────\r\nosgi:service/jms/artemis │ org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory\r\nosgi:service/jndi        │ org.apache.karaf.jndi.internal.JndiServiceImpl\r\n```\r\n\r\nIf you now use `osgi:service/jms/artemis` instead of just `jms/artemis`, you get proper connection factory. I got this in logs:\r\n```\r\n2023-01-02 09:45:53,412 INFO  {XNIO-2 task-1} [grgr.test.Activator7$1.doGet()] \\\r\n(Activator7.java:65) : connectionFactory=ActiveMQConnectionFactory [serverLocator=ServerLocatorImpl \\\r\n[initialConnectors=[TransportConfiguration(name=null, factory=org-apache-activemq-artemis-core-remoting-impl-netty-NettyConnectorFactory) \\\r\n?port=61616&amp;host=localhost], discoveryGroupConfiguration=null], \\\r\nclientID=null, consumerWindowSize = 1048576, \\\r\ndupsOKBatchSize=1048576, transactionBatchSize=1048576, readOnly=falseEnableSharedClientID=false]\r\n```\r\n\r\nYou can find more examples of persistence usage in Fuse Karaf [here][1].\r\n\r\nA developer documentation is [here][2].\r\n\r\n\r\n  [1]: https://github.com/jboss-fuse/karaf-quickstarts\r\n  [2]: https://github.com/jboss-fuse/karaf-quickstarts/tree/7.x.redhat-7-11-x/persistence/manual/src/main/asciidoc","title":"Redhat Fuse-Karaf refusing to inject jms ConnectionFactory","body":"<p>The actual exception you get when calling <code>context.lookup()</code> is:</p>\n<pre><code>javax.naming.NoInitialContextException: \\\n    Need to specify class name in environment or system property, \\\n    or as an applet parameter, or in an application resource file:  \\\n    java.naming.factory.initial\n</code></pre>\n<p>That's how JNDI works and you need special preparation to use it in OSGi (and Fuse Karaf is OSGi runtime based on Apache Karaf).</p>\n<p>You have to install <code>jndi</code> feature first. Then your exception will be:</p>\n<pre><code>javax.naming.NotContextException: jms/artemis\n</code></pre>\n<p>However it's almost everything you need. <code>jndi</code> feature gives you several commands, like this one:</p>\n<pre><code>karaf@root()&gt; jndi:names\nJNDI Name                │ Class Name\n─────────────────────────┼─────────────────────────────────────────────────────────────────\nosgi:service/jms/artemis │ org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory\nosgi:service/jndi        │ org.apache.karaf.jndi.internal.JndiServiceImpl\n</code></pre>\n<p>If you now use <code>osgi:service/jms/artemis</code> instead of just <code>jms/artemis</code>, you get proper connection factory. I got this in logs:</p>\n<pre><code>2023-01-02 09:45:53,412 INFO  {XNIO-2 task-1} [grgr.test.Activator7$1.doGet()] \\\n(Activator7.java:65) : connectionFactory=ActiveMQConnectionFactory [serverLocator=ServerLocatorImpl \\\n[initialConnectors=[TransportConfiguration(name=null, factory=org-apache-activemq-artemis-core-remoting-impl-netty-NettyConnectorFactory) \\\n?port=61616&amp;host=localhost], discoveryGroupConfiguration=null], \\\nclientID=null, consumerWindowSize = 1048576, \\\ndupsOKBatchSize=1048576, transactionBatchSize=1048576, readOnly=falseEnableSharedClientID=false]\n</code></pre>\n<p>You can find more examples of persistence usage in Fuse Karaf <a href=\"https://github.com/jboss-fuse/karaf-quickstarts\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>A developer documentation is <a href=\"https://github.com/jboss-fuse/karaf-quickstarts/tree/7.x.redhat-7-11-x/persistence/manual/src/main/asciidoc\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":27336958,"reputation":1,"user_id":20848247,"display_name":"Camilo Vasquez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696283572,"creation_date":1671812476,"question_id":74901811,"body_markdown":"Fuse karaf fuse-karaf-7.11.1.fuse-7_11_1-00013-redhat-00003.\r\n\r\nI am creating a simple bridge from servlet to ActiveMQ &quot;Classic&quot; 5.9 using the AMQP protocol. I managed to configure a JMS `ConectionFactory` and tested OK with the `jms:send` command. I wrote a JMS service which is responding to the POST from the servlet side, but is failing to create the Connection factory.\r\n```\r\nadmin@root()&gt; jms:connectionFactories\r\nJMS Connection Factory\r\n----------------------\r\njms/artemis\r\n```\r\nThe Jms service code is:\r\n```java\r\npackage com.mycompany.jms;\r\n\r\nimport javax.inject.Inject;\r\nimport javax.inject.Named;\r\nimport javax.inject.Singleton;\r\nimport javax.jms.Connection;\r\nimport javax.jms.ConnectionFactory;\r\nimport javax.jms.Destination;\r\nimport javax.jms.JMSException;\r\nimport javax.jms.MessageConsumer;\r\nimport javax.jms.MessageProducer;\r\nimport javax.jms.Session;\r\nimport javax.jms.TemporaryQueue;\r\nimport javax.jms.TextMessage;\r\nimport javax.naming.*;\r\n\r\nimport org.apache.aries.blueprint.annotation.service.Reference;\r\nimport org.apache.aries.blueprint.annotation.service.Service;\r\nimport org.apache.aries.blueprint.annotation.service.ServiceProperty;\r\n\r\nimport com.mycompany.JmsService;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\n@Service(classes = JmsService.class, properties = {\r\n// Only necessary for Remote Services\r\n@ServiceProperty(name = &quot;service.exported.interfaces&quot;, values = &quot;*&quot;) })\r\n@Singleton\r\npublic class JmsService4Reals implements JmsService {\r\nprivate static final Logger LOG = LoggerFactory.getLogger(JmsService4Reals.class);\r\n\r\n\r\n@Reference\r\nConnectionFactory connectionFactory;\r\n\r\n@Override\r\npublic String sendMessage(String opeCod, String message) {\r\nLOG.info(String.format(&quot;received: opeCod=%s, msg=%s&quot;, opeCod, message));\r\ntry {\r\n    if(connectionFactory== null)\r\n        return &quot;Reference: no connectionFactory found&quot;;\r\n    Connection connection = null;\r\n    try {\r\n        connection = connectionFactory.createConnection();\r\n        LOG.info(&quot;JMS Connection created=%s&quot;, connection);\r\n        connection.start();\r\n\r\n\r\n    } catch (JMSException e) {\r\n        if (connection != null)\r\n            connection.stop();\r\n        return prepareErrorResponse(e.getMessage());\r\n    }\r\n} catch (JMSException e) {\r\n    return prepareErrorResponse(e.getMessage());\r\n}\r\n}\r\n\r\nprivate String prepareErrorResponse(String msg) {\r\nreturn msg;\r\n}\r\n\r\n}\r\n\r\n```\r\nThe servlet always reponds with \r\n```\r\nReference: no connectionFactory found\r\n```\r\n\r\nI also tried with the JNDI lookup method with the same result.\r\n\r\n```java\r\ntry {\r\n    Context context = new InitialContext();\r\n\tLOG.info(&quot;context=%s&quot;, context);\r\n    connectionFactory = (ConnectionFactory) context.lookup(&quot;jms/artemis&quot;);\r\n\tLOG.info(&quot;connectionFactory=%s&quot;, connectionFactory);\r\n\t}catch(Exception e) {\r\n\t\te.printStackTrace();\r\n\t\treturn &quot;no connectionFactory found on JNDI&quot;;\r\n\t}\r\n```\r\n\r\n\r\nI expect the jms/artem`your text`is to be injected on my `ConnectionFactory`, but never occurs.","title":"Redhat Fuse-Karaf refusing to inject jms ConnectionFactory","body":"<p>Fuse karaf fuse-karaf-7.11.1.fuse-7_11_1-00013-redhat-00003.</p>\n<p>I am creating a simple bridge from servlet to ActiveMQ &quot;Classic&quot; 5.9 using the AMQP protocol. I managed to configure a JMS <code>ConectionFactory</code> and tested OK with the <code>jms:send</code> command. I wrote a JMS service which is responding to the POST from the servlet side, but is failing to create the Connection factory.</p>\n<pre><code>admin@root()&gt; jms:connectionFactories\nJMS Connection Factory\n----------------------\njms/artemis\n</code></pre>\n<p>The Jms service code is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.mycompany.jms;\n\nimport javax.inject.Inject;\nimport javax.inject.Named;\nimport javax.inject.Singleton;\nimport javax.jms.Connection;\nimport javax.jms.ConnectionFactory;\nimport javax.jms.Destination;\nimport javax.jms.JMSException;\nimport javax.jms.MessageConsumer;\nimport javax.jms.MessageProducer;\nimport javax.jms.Session;\nimport javax.jms.TemporaryQueue;\nimport javax.jms.TextMessage;\nimport javax.naming.*;\n\nimport org.apache.aries.blueprint.annotation.service.Reference;\nimport org.apache.aries.blueprint.annotation.service.Service;\nimport org.apache.aries.blueprint.annotation.service.ServiceProperty;\n\nimport com.mycompany.JmsService;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\n@Service(classes = JmsService.class, properties = {\n// Only necessary for Remote Services\n@ServiceProperty(name = &quot;service.exported.interfaces&quot;, values = &quot;*&quot;) })\n@Singleton\npublic class JmsService4Reals implements JmsService {\nprivate static final Logger LOG = LoggerFactory.getLogger(JmsService4Reals.class);\n\n\n@Reference\nConnectionFactory connectionFactory;\n\n@Override\npublic String sendMessage(String opeCod, String message) {\nLOG.info(String.format(&quot;received: opeCod=%s, msg=%s&quot;, opeCod, message));\ntry {\n    if(connectionFactory== null)\n        return &quot;Reference: no connectionFactory found&quot;;\n    Connection connection = null;\n    try {\n        connection = connectionFactory.createConnection();\n        LOG.info(&quot;JMS Connection created=%s&quot;, connection);\n        connection.start();\n\n\n    } catch (JMSException e) {\n        if (connection != null)\n            connection.stop();\n        return prepareErrorResponse(e.getMessage());\n    }\n} catch (JMSException e) {\n    return prepareErrorResponse(e.getMessage());\n}\n}\n\nprivate String prepareErrorResponse(String msg) {\nreturn msg;\n}\n\n}\n\n</code></pre>\n<p>The servlet always reponds with</p>\n<pre><code>Reference: no connectionFactory found\n</code></pre>\n<p>I also tried with the JNDI lookup method with the same result.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    Context context = new InitialContext();\n    LOG.info(&quot;context=%s&quot;, context);\n    connectionFactory = (ConnectionFactory) context.lookup(&quot;jms/artemis&quot;);\n    LOG.info(&quot;connectionFactory=%s&quot;, connectionFactory);\n    }catch(Exception e) {\n        e.printStackTrace();\n        return &quot;no connectionFactory found on JNDI&quot;;\n    }\n</code></pre>\n<p>I expect the jms/artem<code>your text</code>is to be injected on my <code>ConnectionFactory</code>, but never occurs.</p>\n"},{"tags":["java","ssl","jmeter","activemq-artemis"],"answers":[{"comments":[{"owner":{"account_id":14975066,"reputation":359,"user_id":10810743,"display_name":"Galadriel"},"score":0,"creation_date":1605002622,"post_id":64766387,"comment_id":114513290,"body_markdown":"Thank you for youR hint, I will try this and report afterwards. The reason for version 3.3 was, that the git project needs this to work.","body":"Thank you for youR hint, I will try this and report afterwards. The reason for version 3.3 was, that the git project needs this to work."},{"owner":{"account_id":14975066,"reputation":359,"user_id":10810743,"display_name":"Galadriel"},"score":0,"creation_date":1605008536,"post_id":64766387,"comment_id":114515996,"body_markdown":"Now I am getting the &quot;Error: Java version is too low to run JMeter. Needs at least Java &gt;= 1.8.0.&quot; But when I typ java -version, I get: openjdk version &quot;11.0.9&quot; 2020-10-20\nOpenJDK Runtime Environment (build 11.0.9+11-Ubuntu-0ubuntu1.18.04.1)\nOpenJDK 64-Bit Server VM (build 11.0.9+11-Ubuntu-0ubuntu1.18.04.1, mixed mode, sharing). Should it not be enough?","body":"Now I am getting the &quot;Error: Java version is too low to run JMeter. Needs at least Java &gt;= 1.8.0.&quot; But when I typ java -version, I get: openjdk version &quot;11.0.9&quot; 2020-10-20 OpenJDK Runtime Environment (build 11.0.9+11-Ubuntu-0ubuntu1.18.04.1) OpenJDK 64-Bit Server VM (build 11.0.9+11-Ubuntu-0ubuntu1.18.04.1, mixed mode, sharing). Should it not be enough?"},{"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"score":0,"creation_date":1605009304,"post_id":64766387,"comment_id":114516357,"body_markdown":"It might be a JMeter bug, run it as `java -jar ApacheJMeter.jar`, it will bypass shell scripts checking for Java version, at the time of JMeter 3.3 Java 11 wasn&#39;t available. More information: [How Do I Run JMeter in Non-GUI Mode?](https://www.blazemeter.com/blog/dear-abby-blazemeter-how-do-i-run-jmeter-non-gui-mode)","body":"It might be a JMeter bug, run it as <code>java -jar ApacheJMeter.jar</code>, it will bypass shell scripts checking for Java version, at the time of JMeter 3.3 Java 11 wasn&#39;t available. More information: <a href=\"https://www.blazemeter.com/blog/dear-abby-blazemeter-how-do-i-run-jmeter-non-gui-mode\" rel=\"nofollow noreferrer\">How Do I Run JMeter in Non-GUI Mode?</a>"}],"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1605001439,"creation_date":1605001439,"answer_id":64766387,"question_id":64758128,"body_markdown":"According to the log file you&#39;re running JMeter 2.13, not JMeter 3.3:\r\n\r\n&gt;version             : 2.13.20170723    -------------------------------\r\n&gt;                      ^^^^\r\n\r\nAnd [Random Variable][1] element is available **since JMeter 2.3.3** so you need to upgrade your JMeter to at least 2.3.3 or higher in order to be able to use this config element. \r\n\r\n[Ubuntu has JMeter 2.13][2] in its repositories which is kind of old so you need to download whatever version you need from [JMeter Downloads][3] page and install it manually \r\n\r\nMore information: [How to Get Started With JMeter: Installation &amp; Test Plans][4]\r\n\r\nIn general according to [JMeter Best Practrices][5] you should always be using the latest version of JMeter so consider upgrading to [JMeter 5.3][6] instead of 3.3 which is kind of old as well.  \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/component_reference.html#Random_Variable\r\n  [2]: https://packages.ubuntu.com/search?keywords=jmeter\r\n  [3]: https://jmeter.apache.org/download_jmeter.cgi\r\n  [4]: https://www.blazemeter.com/blog/how-get-started-jmeter-installation-test-plans\r\n  [5]: https://jmeter.apache.org/usermanual/best-practices.html#use_latest_version\r\n  [6]: http://www.jmeter-archive.org/ANNOUNCE-Apache-JMeter-5-3-released-td5728863.html","title":"Run JMeter test on AWS ec2 instance (ubuntu)","body":"<p>According to the log file you're running JMeter 2.13, not JMeter 3.3:</p>\n<blockquote>\n<p>version             : 2.13.20170723    -------------------------------\n^^^^</p>\n</blockquote>\n<p>And <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#Random_Variable\" rel=\"nofollow noreferrer\">Random Variable</a> element is available <strong>since JMeter 2.3.3</strong> so you need to upgrade your JMeter to at least 2.3.3 or higher in order to be able to use this config element.</p>\n<p><a href=\"https://packages.ubuntu.com/search?keywords=jmeter\" rel=\"nofollow noreferrer\">Ubuntu has JMeter 2.13</a> in its repositories which is kind of old so you need to download whatever version you need from <a href=\"https://jmeter.apache.org/download_jmeter.cgi\" rel=\"nofollow noreferrer\">JMeter Downloads</a> page and install it manually</p>\n<p>More information: <a href=\"https://www.blazemeter.com/blog/how-get-started-jmeter-installation-test-plans\" rel=\"nofollow noreferrer\">How to Get Started With JMeter: Installation &amp; Test Plans</a></p>\n<p>In general according to <a href=\"https://jmeter.apache.org/usermanual/best-practices.html#use_latest_version\" rel=\"nofollow noreferrer\">JMeter Best Practrices</a> you should always be using the latest version of JMeter so consider upgrading to <a href=\"http://www.jmeter-archive.org/ANNOUNCE-Apache-JMeter-5-3-released-td5728863.html\" rel=\"nofollow noreferrer\">JMeter 5.3</a> instead of 3.3 which is kind of old as well.</p>\n"}],"owner":{"account_id":14975066,"reputation":359,"user_id":10810743,"display_name":"Galadriel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2802,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64766387,"answer_count":1,"score":1,"last_activity_date":1696282813,"creation_date":1604950375,"question_id":64758128,"body_markdown":"I am trying to set up JMeter tests in AWS on an EC2 (t2.micro) instance to run them on cmd.\r\nTherefore I wanted to use this git project: https://github.com/r4dx/terraform-aws-jmeter.\r\n\r\nAs I am new to terraform and have just basic knowledge of aws, I went step by step. So for first attempts I let the autoscaling group away and want to reach, that I can run one test against another ec2 instance, where there is the artemis broker and some applications running as a cluster.\r\n\r\nThe ec2 instance is running and has JMeter 3.3 installed. So far I added the test itself as well as the truststore.jks to /bin and a driver for artemis to the /lib folder (artemis-jms-client-all-2.15.0.jar). \r\n\r\nWhen I execute &quot;jmeter -n -t Artemis_AWS.jmx -j jmeterlogfile&quot; I am getting following error:\r\n\r\n```\r\nWARNING: An illegal reflective access operation has occurred \r\nWARNING: Illegal reflective access by com.thoughtworks.xstream.core.util.Fields file:/usr/share/java/xstream.jar) to field java.util.TreeMap.comparator \r\nWARNING: Please consider reporting this to the maintainers of com.thoughtworks.xstream.core.util.Fields    \r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations \r\nWARNING: All illegal access operations will be denied in a future release Security framework of XStream not initialized, XStream is probably vulnerable. \r\nError in NonGUIDriver java.lang.IllegalArgumentException: Problem loading XML from:&#39;/jmeter-master/apache-jmeter-3.3/bin/Artemis_AWS.jmx&#39;, conversion error com.thoughtworks.xstream.converters.ConversionException: \r\n---- Debugging information ---- \r\ncause-exception : com.thoughtworks.xstream.converters.ConversionException \r\ncause-message : \r\nfirst-jmeter-class  : org.apache.jmeter.save.converters.HashTreeConverter.unmarshal(HashTreeConverter.java:67)    \r\nclass               : org.apache.jmeter.save.ScriptWrapper    \r\nrequired-type       : org.apache.jmeter.save.ScriptWrapper    \r\nconverter-type      : org.apache.jmeter.save.ScriptWrapperConverter    \r\npath                :   jmeterTestPlan/hashTree/hashTree/hashTree[2]/PublisherSampler \r\nline number         : 140 \r\nversion             : 2.13.20170723    -------------------------------\r\n```\r\n\r\nThis is what is in line 140 of the jmx file:\r\n```\r\n&lt;RandomVariableConfig guiclass=&quot;TestBeanGUI&quot; testclass=&quot;RandomVariableConfig&quot; \r\n  testname=&quot;tableNumber-100&quot; enabled=&quot;true&quot;&gt;\r\n  &lt;stringProp name=&quot;variableName&quot;&gt;tableNumber&lt;/stringProp&gt;\r\n  &lt;stringProp name=&quot;outputFormat&quot;&gt;000&lt;/stringProp&gt;\r\n  &lt;stringProp name=&quot;minimumValue&quot;&gt;100&lt;/stringProp&gt;\r\n  &lt;stringProp name=&quot;maximumValue&quot;&gt;200&lt;/stringProp&gt;\r\n  &lt;stringProp name=&quot;randomSeed&quot;&gt;100&lt;/stringProp&gt;\r\n  &lt;boolProp name=&quot;perThread&quot;&gt;false&lt;/boolProp&gt;\r\n&lt;/RandomVariableConfig&gt;                             &lt;------ line 140\r\n&lt;hashTree/&gt;\r\n```","title":"Run JMeter test on AWS ec2 instance (ubuntu)","body":"<p>I am trying to set up JMeter tests in AWS on an EC2 (t2.micro) instance to run them on cmd.\nTherefore I wanted to use this git project: <a href=\"https://github.com/r4dx/terraform-aws-jmeter\" rel=\"nofollow noreferrer\">https://github.com/r4dx/terraform-aws-jmeter</a>.</p>\n<p>As I am new to terraform and have just basic knowledge of aws, I went step by step. So for first attempts I let the autoscaling group away and want to reach, that I can run one test against another ec2 instance, where there is the artemis broker and some applications running as a cluster.</p>\n<p>The ec2 instance is running and has JMeter 3.3 installed. So far I added the test itself as well as the truststore.jks to /bin and a driver for artemis to the /lib folder (artemis-jms-client-all-2.15.0.jar).</p>\n<p>When I execute &quot;jmeter -n -t Artemis_AWS.jmx -j jmeterlogfile&quot; I am getting following error:</p>\n<pre><code>WARNING: An illegal reflective access operation has occurred \nWARNING: Illegal reflective access by com.thoughtworks.xstream.core.util.Fields file:/usr/share/java/xstream.jar) to field java.util.TreeMap.comparator \nWARNING: Please consider reporting this to the maintainers of com.thoughtworks.xstream.core.util.Fields    \nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations \nWARNING: All illegal access operations will be denied in a future release Security framework of XStream not initialized, XStream is probably vulnerable. \nError in NonGUIDriver java.lang.IllegalArgumentException: Problem loading XML from:'/jmeter-master/apache-jmeter-3.3/bin/Artemis_AWS.jmx', conversion error com.thoughtworks.xstream.converters.ConversionException: \n---- Debugging information ---- \ncause-exception : com.thoughtworks.xstream.converters.ConversionException \ncause-message : \nfirst-jmeter-class  : org.apache.jmeter.save.converters.HashTreeConverter.unmarshal(HashTreeConverter.java:67)    \nclass               : org.apache.jmeter.save.ScriptWrapper    \nrequired-type       : org.apache.jmeter.save.ScriptWrapper    \nconverter-type      : org.apache.jmeter.save.ScriptWrapperConverter    \npath                :   jmeterTestPlan/hashTree/hashTree/hashTree[2]/PublisherSampler \nline number         : 140 \nversion             : 2.13.20170723    -------------------------------\n</code></pre>\n<p>This is what is in line 140 of the jmx file:</p>\n<pre><code>&lt;RandomVariableConfig guiclass=&quot;TestBeanGUI&quot; testclass=&quot;RandomVariableConfig&quot; \n  testname=&quot;tableNumber-100&quot; enabled=&quot;true&quot;&gt;\n  &lt;stringProp name=&quot;variableName&quot;&gt;tableNumber&lt;/stringProp&gt;\n  &lt;stringProp name=&quot;outputFormat&quot;&gt;000&lt;/stringProp&gt;\n  &lt;stringProp name=&quot;minimumValue&quot;&gt;100&lt;/stringProp&gt;\n  &lt;stringProp name=&quot;maximumValue&quot;&gt;200&lt;/stringProp&gt;\n  &lt;stringProp name=&quot;randomSeed&quot;&gt;100&lt;/stringProp&gt;\n  &lt;boolProp name=&quot;perThread&quot;&gt;false&lt;/boolProp&gt;\n&lt;/RandomVariableConfig&gt;                             &lt;------ line 140\n&lt;hashTree/&gt;\n</code></pre>\n"},{"tags":["java","maven","gradle","dependencies","activemq-artemis"],"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1569089448,"post_id":58041020,"comment_id":102486009,"body_markdown":"It&#39;s worth noting that a newer version the ActiveMQ Artemis client is not necessarily incompatible with an older version of the broker. They should be compatible *assuming they are connecting over the network*. However, it appears to me that you actually have a newer client and an older broker running in the same JVM without any kind of classloader isolation which, as you&#39;ve seen, often won&#39;t work out too well.","body":"It&#39;s worth noting that a newer version the ActiveMQ Artemis client is not necessarily incompatible with an older version of the broker. They should be compatible <i>assuming they are connecting over the network</i>. However, it appears to me that you actually have a newer client and an older broker running in the same JVM without any kind of classloader isolation which, as you&#39;ve seen, often won&#39;t work out too well."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1569089620,"post_id":58041020,"comment_id":102486049,"body_markdown":"I can&#39;t really address the Gradle stuff as I&#39;m not all that familiar with it, but in any case there are just too many distinct questions in your question. You should focus your question down to a single issue so the correct answer is easy to identify. If you have more than one distinct question then you should actually create multiple questions rather than bundling them together into a single post.","body":"I can&#39;t really address the Gradle stuff as I&#39;m not all that familiar with it, but in any case there are just too many distinct questions in your question. You should focus your question down to a single issue so the correct answer is easy to identify. If you have more than one distinct question then you should actually create multiple questions rather than bundling them together into a single post."},{"owner":{"account_id":2705724,"reputation":2702,"user_id":5264558,"display_name":"Daniele"},"score":0,"creation_date":1569094549,"post_id":58041020,"comment_id":102487245,"body_markdown":"For point 2, you can use `gradle -q dependencyInsight --dependency artemis-server --configuration compile`.","body":"For point 2, you can use <code>gradle -q dependencyInsight --dependency artemis-server --configuration compile</code>."},{"owner":{"account_id":2705724,"reputation":2702,"user_id":5264558,"display_name":"Daniele"},"score":0,"creation_date":1569094692,"post_id":58041020,"comment_id":102487276,"body_markdown":"For point 2- usually Gradle resolves to the higher version (2.10) in case of conflict. Here its using 2.4, there should be an obvious reason (but you should share the whole build.gradle files)","body":"For point 2- usually Gradle resolves to the higher version (2.10) in case of conflict. Here its using 2.4, there should be an obvious reason (but you should share the whole build.gradle files)"},{"owner":{"account_id":2544458,"reputation":244,"user_id":2209562,"display_name":"user2209562"},"score":0,"creation_date":1569257995,"post_id":58041020,"comment_id":102530124,"body_markdown":"The gradle statement seems helpful, but this only gives the maven module (which contains other dependencies) as usage not the root cause.","body":"The gradle statement seems helpful, but this only gives the maven module (which contains other dependencies) as usage not the root cause."}],"answers":[{"tags":[],"owner":{"account_id":9949,"reputation":13854,"user_id":18591,"display_name":"Louis Jacomet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569255699,"creation_date":1569255699,"answer_id":58066479,"question_id":58041020,"body_markdown":" 1. Downgrade of versions in Gradle, before 6.0, is only possible through `force`, a configuration level `force` or a substitution rule. There is something in your build that uses one of these techniques to force down the version.\r\n 2. To investigate a specific library&#39;s version, use the `dependencyInsight` task to get a more detailed report about why the specific version of a module was selected.\r\nSomething like `./gradlew dependencyInsight --configuration &lt;relevantConfiguration&gt; --dependency artemis-server` where `&lt;relevantConfiguration&gt;` can be `compileClasspath` or `runtimeClasspath` or something more specific to your project.\r\n 3. Once you figure out why `2.10.0` was downgraded to `2.4.0` you may be able to use a different solution than `force` to obtain the version you expect.","title":"How to handle the runtime error: java.lang.NoSuchMethodError","body":"<ol>\n<li>Downgrade of versions in Gradle, before 6.0, is only possible through <code>force</code>, a configuration level <code>force</code> or a substitution rule. There is something in your build that uses one of these techniques to force down the version.</li>\n<li>To investigate a specific library's version, use the <code>dependencyInsight</code> task to get a more detailed report about why the specific version of a module was selected.\nSomething like <code>./gradlew dependencyInsight --configuration &lt;relevantConfiguration&gt; --dependency artemis-server</code> where <code>&lt;relevantConfiguration&gt;</code> can be <code>compileClasspath</code> or <code>runtimeClasspath</code> or something more specific to your project.</li>\n<li>Once you figure out why <code>2.10.0</code> was downgraded to <code>2.4.0</code> you may be able to use a different solution than <code>force</code> to obtain the version you expect.</li>\n</ol>\n"}],"owner":{"account_id":2544458,"reputation":244,"user_id":2209562,"display_name":"user2209562"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2240,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696282580,"creation_date":1569074537,"question_id":58041020,"body_markdown":"I have an application with a lot of dependencies. One dependency is on ActiveMQ Artemis. In the pom.xml of a Maven module I updated the version from 2.4.0 to 2.10.0\r\n\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n   &lt;artifactId&gt;artemis-server&lt;/artifactId&gt;\r\n   &lt;version&gt;2.10.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n   &lt;artifactId&gt;artemis-commons&lt;/artifactId&gt;\r\n   &lt;version&gt;2.10.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n   &lt;artifactId&gt;artemis-jms-client-all&lt;/artifactId&gt;\r\n   &lt;version&gt;2.10.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThe code I&#39;m using to start an Artemis broker is as follows:\r\n\r\n```\r\nEmbeddedActiveMQ broker = new EmbeddedActiveMQ();\r\nString fileConfig = &quot;file:///&quot; + brokerFile.getAbsolutePath();\r\nbroker.setConfigResourcePath(fileConfig);\r\n```\r\n\r\nA broker client is connected through sjms component from Camel:\r\n\r\n```\r\norg.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory cf = new ActiveMQJMSConnectionFactory(url);\r\nSjmsComponent component = new SjmsComponent();\r\ncomponent.setConnectionFactory(cf);\r\ncontext.addComponent(&quot;sjms&quot;, component);\r\n```\r\n\r\nI use this Maven module in another application which is build/compiled with Gradle 5.6.2. This application also contains libraries for Apache Camel 2.24.2 and Apache ActiveMQ 5.5.10.\r\n\r\nThe application compiles normal, but in runtime I get a &quot;NoSuchMethodError&quot;:\r\n\r\n\r\n```\r\nHandler dispatch failed; nested exception is java.lang.NoSuchMethodError: org.apache.activemq.artemis.utils.ClassloadingUtil.loadProperty(Ljava/lang/ClassLoader;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;\r\n```\r\n\r\nFrom the logging:\r\n\r\n```\r\n2019-09-21 03:03:00.883 WARN 4984 --- [ XNIO-2 task-14] .m.m.a.ExceptionHandlerExceptionResolver : Resolved exception caused by handler execution: org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: org.apache.activemq.artemis.utils.ClassloadingUtil.loadProperty(Ljava/lang/ClassLoader;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;\r\njava.lang.NullPointerException\r\n   at org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.finalize(ActiveMQConnectionFactory.java:961)\r\n   at java.lang.System$2.invokeFinalize(System.java:1270)\r\n   at java.lang.ref.Finalizer.runFinalizer(Finalizer.java:102)\r\n   at java.lang.ref.Finalizer.access$100(Finalizer.java:34)\r\n   at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:217)\r\n```\r\n\r\n\r\n\r\nBased on the article [3 Steps to Fix NoSuchMethodErrors and NoSuchMethodExceptions](https://reflectoring.io/nosuchmethod/) I ran &quot;gradlew dependencies&quot;.\r\n\r\n```\r\n|    +--- org.apache.activemq:artemis-server:2.10.0 -&gt; 2.4.0\r\n|    |    +--- org.jboss.logging:jboss-logging:3.3.0.Final -&gt; 3.3.2.Final\r\n|    |    +--- org.apache.activemq:artemis-commons:2.4.0\r\n|    |    |    +--- org.jboss.logging:jboss-logging:3.3.0.Final -&gt; 3.3.2.Final\r\n|    |    |    +--- io.netty:netty-buffer:4.1.16.Final -&gt; 4.1.31.Final (*)\r\n|    |    |    +--- io.netty:netty-transport:4.1.16.Final -&gt; 4.1.31.Final (*)\r\n|    |    |    +--- io.netty:netty-handler:4.1.16.Final -&gt; 4.1.31.Final (*)\r\n|    |    |    +--- commons-beanutils:commons-beanutils:1.9.3\r\n|    |    |    |    +--- commons-logging:commons-logging:1.2\r\n|    |    |    |    \\--- commons-collections:commons-collections:3.2.2\r\n|    |    |    \\--- com.google.guava:guava:19.0 -&gt; 25.1-jre (*)\r\n|    |    +--- org.apache.activemq:artemis-selector:2.4.0\r\n|    |    +--- org.apache.activemq:artemis-journal:2.4.0\r\n|    |    |    +--- org.jboss.logging:jboss-logging:3.3.0.Final -&gt; 3.3.2.Final\r\n|    |    |    +--- org.apache.activemq:artemis-commons:2.4.0 (*)\r\n|    |    |    \\--- org.apache.activemq:artemis-native:2.4.0\r\n|    |    |         \\--- org.jboss.logging:jboss-logging:3.3.0.Final -&gt; 3.3.2.Final\r\n|    |    +--- org.apache.activemq:artemis-jdbc-store:2.4.0\r\n|    |    |    +--- org.jboss.logging:jboss-logging:3.3.0.Final -&gt; 3.3.2.Final\r\n|    |    |    +--- org.apache.activemq:artemis-journal:2.4.0 (*)\r\n|    |    |    \\--- org.apache.activemq:artemis-core-client:2.4.0\r\n|    |    |         +--- org.jgroups:jgroups:3.6.13.Final -&gt; 3.6.7.Final\r\n|    |    |         +--- org.apache.activemq:artemis-commons:2.4.0 (*)\r\n|    |    |         +--- org.apache.johnzon:johnzon-core:0.9.5 -&gt; 1.1.10\r\n|    |    |         +--- io.netty:netty-transport-native-epoll:4.1.16.Final -&gt; 4.1.31.Final (*)\r\n|    |    |         +--- io.netty:netty-transport-native-kqueue:4.1.16.Final -&gt; 4.1.31.Final (*)\r\n|    |    |         \\--- io.netty:netty-codec-http:4.1.16.Final -&gt; 4.1.31.Final (*)\r\n|    |    +--- org.apache.activemq:artemis-core-client:2.4.0 (*)\r\n|    |    \\--- io.netty:netty-all:4.1.16.Final -&gt; 4.1.9.Final\r\n|    +--- org.apache.activemq:artemis-commons:2.10.0 -&gt; 2.4.0 (*)\r\n|    +--- org.apache.activemq:artemis-jms-client-all:2.10.0\r\n```\r\n\r\nSo the Artemis broker is actually running under 2.4.0 version, while the client runs under 2.10.0 (Making them incompatible). \r\n\r\nI the article it states:\r\n\r\n&quot;Finally, we need to decide which of the two versions we actually need to satisfy both dependencies. Usually, this is the newer version since most frameworks are backwards compatible to some point. However, it can be the other way around or we might even not be able to resolve the conflict at all.&quot;\r\n\r\nTo force both running on 2.10.0 I explicitly state in the build.gradle file:\r\n\r\n```\r\nconfigurations.all {\r\n  resolutionStrategy {  \r\n    force &#39;org.apache.activemq:artemis-core-client:2.10.0&#39;, &#39;org.apache.activemq:artemis-broker:2.10.0&#39;,&#39;org.apache.activemq:artemis-commons:2.10.0&#39;,&#39;org.apache.activemq:artemis-selector:2.10.0&#39;,&#39;org.apache.activemq:artemis-journal:2.10.0&#39;\r\n  }\r\n}\r\n\r\ncompile group: &#39;org.apache.activemq&#39;, name: &#39;artemis-core-client&#39;, version: &#39;2.10.0&#39;\r\ncompile group: &#39;org.apache.activemq&#39;, name: &#39;artemis-commons&#39;, version: &#39;2.10.0&#39;\r\ncompile group: &#39;org.apache.activemq&#39;, name: &#39;artemis-server&#39;, version: &#39;2.10.0&#39;\r\ncompile group: &#39;org.apache.activemq&#39;, name: &#39;artemis-selector&#39;, version: &#39;2.10.0&#39;\r\ncompile group: &#39;org.apache.activemq&#39;, name: &#39;artemis-journal&#39;, version: &#39;2.10.0&#39;\r\n```\r\n\r\nAfter this &quot;gradlew dependencies&quot;:\r\n\r\n```\r\n|    +--- org.apache.activemq:artemis-server:2.10.0\r\n|    |    +--- org.jboss.logging:jboss-logging:3.4.0.Final -&gt; 3.3.2.Final\r\n|    |    +--- org.jboss.logmanager:jboss-logmanager:2.1.10.Final\r\n|    |    |    \\--- org.wildfly.common:wildfly-common:1.5.1.Final\r\n|    |    +--- org.apache.activemq:artemis-commons:2.10.0\r\n|    |    |    +--- org.jboss.logging:jboss-logging:3.4.0.Final -&gt; 3.3.2.Final\r\n|    |    |    +--- io.netty:netty-buffer:4.1.34.Final -&gt; 4.1.31.Final (*)\r\n|    |    |    +--- io.netty:netty-transport:4.1.34.Final -&gt; 4.1.31.Final (*)\r\n|    |    |    +--- io.netty:netty-handler:4.1.34.Final -&gt; 4.1.31.Final (*)\r\n|    |    |    \\--- commons-beanutils:commons-beanutils:1.9.3\r\n|    |    |         +--- commons-logging:commons-logging:1.2\r\n|    |    |         \\--- commons-collections:commons-collections:3.2.2\r\n|    |    +--- org.apache.activemq:artemis-selector:2.10.0\r\n|    |    |    \\--- org.apache.activemq:artemis-commons:2.10.0 (*)\r\n|    |    +--- org.apache.activemq:artemis-journal:2.10.0\r\n|    |    |    +--- org.jboss.logging:jboss-logging:3.4.0.Final -&gt; 3.3.2.Final\r\n|    |    |    +--- org.apache.activemq:artemis-commons:2.10.0 (*)\r\n|    |    |    +--- org.apache.activemq:activemq-artemis-native:1.0.0\r\n|    |    |    |    +--- org.jboss.logging:jboss-logging:3.3.1.Final -&gt; 3.3.2.Final\r\n|    |    |    |    \\--- org.jboss.logmanager:jboss-logmanager:2.0.3.Final -&gt; 2.1.10.Final (*)\r\n|    |    |    +--- io.netty:netty-buffer:4.1.34.Final -&gt; 4.1.31.Final (*)\r\n|    |    |    \\--- io.netty:netty-common:4.1.34.Final -&gt; 4.1.31.Final\r\n|    |    +--- org.apache.activemq:artemis-jdbc-store:2.10.0\r\n|    |    |    +--- org.jboss.logging:jboss-logging:3.4.0.Final -&gt; 3.3.2.Final\r\n|    |    |    +--- org.apache.activemq:artemis-commons:2.10.0 (*)\r\n|    |    |    +--- org.apache.activemq:artemis-journal:2.10.0 (*)\r\n|    |    |    \\--- org.apache.activemq:artemis-core-client:2.10.0\r\n|    |    |         +--- org.jgroups:jgroups:3.6.13.Final -&gt; 3.6.7.Final\r\n|    |    |         +--- org.apache.activemq:artemis-commons:2.10.0 (*)\r\n|    |    |         +--- org.apache.johnzon:johnzon-core:0.9.5 -&gt; 1.1.10\r\n|    |    |         +--- io.netty:netty-transport-native-epoll:4.1.34.Final -&gt; 4.1.31.Final (*)\r\n|    |    |         +--- io.netty:netty-transport-native-kqueue:4.1.34.Final -&gt; 4.1.31.Final (*)\r\n|    |    |         +--- io.netty:netty-codec-http:4.1.34.Final -&gt; 4.1.31.Final (*)\r\n|    |    |         +--- io.netty:netty-buffer:4.1.34.Final -&gt; 4.1.31.Final (*)\r\n|    |    |         +--- io.netty:netty-transport:4.1.34.Final -&gt; 4.1.31.Final (*)\r\n|    |    |         +--- io.netty:netty-handler:4.1.34.Final -&gt; 4.1.31.Final (*)\r\n|    |    |         +--- io.netty:netty-codec:4.1.34.Final -&gt; 4.1.31.Final (*)\r\n|    |    |         \\--- io.netty:netty-common:4.1.34.Final -&gt; 4.1.31.Final\r\n|    |    +--- org.apache.activemq:artemis-core-client:2.10.0 (*)\r\n|    |    +--- org.apache.activemq:activemq-artemis-native:1.0.0 (*)\r\n```\r\n\r\n&lt;b&gt;Questions&lt;/b&gt;\r\n\r\nBoth the broker and client libraries are on the same version and the application seems to work normal. It leaves me however uneasy:\r\n\r\n1. How is it possible with automatically dependency resolving to write in the release notes of the application that the libraries are updated while in fact a two year old version is used? How should I know as a developer that this is really not the case?\r\n2. How to read the gradlew dependencies output? What is really the root cause libary that forces to use the old &#39;2.4.0&#39; version.\r\n3. Is forcing to use the new version really a good solution or are there expected issues when overriding automatically dependency resolving?","title":"How to handle the runtime error: java.lang.NoSuchMethodError","body":"<p>I have an application with a lot of dependencies. One dependency is on ActiveMQ Artemis. In the pom.xml of a Maven module I updated the version from 2.4.0 to 2.10.0</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n   &lt;artifactId&gt;artemis-server&lt;/artifactId&gt;\n   &lt;version&gt;2.10.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n   &lt;artifactId&gt;artemis-commons&lt;/artifactId&gt;\n   &lt;version&gt;2.10.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n   &lt;artifactId&gt;artemis-jms-client-all&lt;/artifactId&gt;\n   &lt;version&gt;2.10.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>The code I'm using to start an Artemis broker is as follows:</p>\n\n<pre><code>EmbeddedActiveMQ broker = new EmbeddedActiveMQ();\nString fileConfig = \"file:///\" + brokerFile.getAbsolutePath();\nbroker.setConfigResourcePath(fileConfig);\n</code></pre>\n\n<p>A broker client is connected through sjms component from Camel:</p>\n\n<pre><code>org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory cf = new ActiveMQJMSConnectionFactory(url);\nSjmsComponent component = new SjmsComponent();\ncomponent.setConnectionFactory(cf);\ncontext.addComponent(\"sjms\", component);\n</code></pre>\n\n<p>I use this Maven module in another application which is build/compiled with Gradle 5.6.2. This application also contains libraries for Apache Camel 2.24.2 and Apache ActiveMQ 5.5.10.</p>\n\n<p>The application compiles normal, but in runtime I get a \"NoSuchMethodError\":</p>\n\n<pre><code>Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: org.apache.activemq.artemis.utils.ClassloadingUtil.loadProperty(Ljava/lang/ClassLoader;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;\n</code></pre>\n\n<p>From the logging:</p>\n\n<pre><code>2019-09-21 03:03:00.883 WARN 4984 --- [ XNIO-2 task-14] .m.m.a.ExceptionHandlerExceptionResolver : Resolved exception caused by handler execution: org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: org.apache.activemq.artemis.utils.ClassloadingUtil.loadProperty(Ljava/lang/ClassLoader;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;\njava.lang.NullPointerException\n   at org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.finalize(ActiveMQConnectionFactory.java:961)\n   at java.lang.System$2.invokeFinalize(System.java:1270)\n   at java.lang.ref.Finalizer.runFinalizer(Finalizer.java:102)\n   at java.lang.ref.Finalizer.access$100(Finalizer.java:34)\n   at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:217)\n</code></pre>\n\n<p>Based on the article <a href=\"https://reflectoring.io/nosuchmethod/\" rel=\"nofollow noreferrer\">3 Steps to Fix NoSuchMethodErrors and NoSuchMethodExceptions</a> I ran \"gradlew dependencies\".</p>\n\n<pre><code>|    +--- org.apache.activemq:artemis-server:2.10.0 -&gt; 2.4.0\n|    |    +--- org.jboss.logging:jboss-logging:3.3.0.Final -&gt; 3.3.2.Final\n|    |    +--- org.apache.activemq:artemis-commons:2.4.0\n|    |    |    +--- org.jboss.logging:jboss-logging:3.3.0.Final -&gt; 3.3.2.Final\n|    |    |    +--- io.netty:netty-buffer:4.1.16.Final -&gt; 4.1.31.Final (*)\n|    |    |    +--- io.netty:netty-transport:4.1.16.Final -&gt; 4.1.31.Final (*)\n|    |    |    +--- io.netty:netty-handler:4.1.16.Final -&gt; 4.1.31.Final (*)\n|    |    |    +--- commons-beanutils:commons-beanutils:1.9.3\n|    |    |    |    +--- commons-logging:commons-logging:1.2\n|    |    |    |    \\--- commons-collections:commons-collections:3.2.2\n|    |    |    \\--- com.google.guava:guava:19.0 -&gt; 25.1-jre (*)\n|    |    +--- org.apache.activemq:artemis-selector:2.4.0\n|    |    +--- org.apache.activemq:artemis-journal:2.4.0\n|    |    |    +--- org.jboss.logging:jboss-logging:3.3.0.Final -&gt; 3.3.2.Final\n|    |    |    +--- org.apache.activemq:artemis-commons:2.4.0 (*)\n|    |    |    \\--- org.apache.activemq:artemis-native:2.4.0\n|    |    |         \\--- org.jboss.logging:jboss-logging:3.3.0.Final -&gt; 3.3.2.Final\n|    |    +--- org.apache.activemq:artemis-jdbc-store:2.4.0\n|    |    |    +--- org.jboss.logging:jboss-logging:3.3.0.Final -&gt; 3.3.2.Final\n|    |    |    +--- org.apache.activemq:artemis-journal:2.4.0 (*)\n|    |    |    \\--- org.apache.activemq:artemis-core-client:2.4.0\n|    |    |         +--- org.jgroups:jgroups:3.6.13.Final -&gt; 3.6.7.Final\n|    |    |         +--- org.apache.activemq:artemis-commons:2.4.0 (*)\n|    |    |         +--- org.apache.johnzon:johnzon-core:0.9.5 -&gt; 1.1.10\n|    |    |         +--- io.netty:netty-transport-native-epoll:4.1.16.Final -&gt; 4.1.31.Final (*)\n|    |    |         +--- io.netty:netty-transport-native-kqueue:4.1.16.Final -&gt; 4.1.31.Final (*)\n|    |    |         \\--- io.netty:netty-codec-http:4.1.16.Final -&gt; 4.1.31.Final (*)\n|    |    +--- org.apache.activemq:artemis-core-client:2.4.0 (*)\n|    |    \\--- io.netty:netty-all:4.1.16.Final -&gt; 4.1.9.Final\n|    +--- org.apache.activemq:artemis-commons:2.10.0 -&gt; 2.4.0 (*)\n|    +--- org.apache.activemq:artemis-jms-client-all:2.10.0\n</code></pre>\n\n<p>So the Artemis broker is actually running under 2.4.0 version, while the client runs under 2.10.0 (Making them incompatible). </p>\n\n<p>I the article it states:</p>\n\n<p>\"Finally, we need to decide which of the two versions we actually need to satisfy both dependencies. Usually, this is the newer version since most frameworks are backwards compatible to some point. However, it can be the other way around or we might even not be able to resolve the conflict at all.\"</p>\n\n<p>To force both running on 2.10.0 I explicitly state in the build.gradle file:</p>\n\n<pre><code>configurations.all {\n  resolutionStrategy {  \n    force 'org.apache.activemq:artemis-core-client:2.10.0', 'org.apache.activemq:artemis-broker:2.10.0','org.apache.activemq:artemis-commons:2.10.0','org.apache.activemq:artemis-selector:2.10.0','org.apache.activemq:artemis-journal:2.10.0'\n  }\n}\n\ncompile group: 'org.apache.activemq', name: 'artemis-core-client', version: '2.10.0'\ncompile group: 'org.apache.activemq', name: 'artemis-commons', version: '2.10.0'\ncompile group: 'org.apache.activemq', name: 'artemis-server', version: '2.10.0'\ncompile group: 'org.apache.activemq', name: 'artemis-selector', version: '2.10.0'\ncompile group: 'org.apache.activemq', name: 'artemis-journal', version: '2.10.0'\n</code></pre>\n\n<p>After this \"gradlew dependencies\":</p>\n\n<pre><code>|    +--- org.apache.activemq:artemis-server:2.10.0\n|    |    +--- org.jboss.logging:jboss-logging:3.4.0.Final -&gt; 3.3.2.Final\n|    |    +--- org.jboss.logmanager:jboss-logmanager:2.1.10.Final\n|    |    |    \\--- org.wildfly.common:wildfly-common:1.5.1.Final\n|    |    +--- org.apache.activemq:artemis-commons:2.10.0\n|    |    |    +--- org.jboss.logging:jboss-logging:3.4.0.Final -&gt; 3.3.2.Final\n|    |    |    +--- io.netty:netty-buffer:4.1.34.Final -&gt; 4.1.31.Final (*)\n|    |    |    +--- io.netty:netty-transport:4.1.34.Final -&gt; 4.1.31.Final (*)\n|    |    |    +--- io.netty:netty-handler:4.1.34.Final -&gt; 4.1.31.Final (*)\n|    |    |    \\--- commons-beanutils:commons-beanutils:1.9.3\n|    |    |         +--- commons-logging:commons-logging:1.2\n|    |    |         \\--- commons-collections:commons-collections:3.2.2\n|    |    +--- org.apache.activemq:artemis-selector:2.10.0\n|    |    |    \\--- org.apache.activemq:artemis-commons:2.10.0 (*)\n|    |    +--- org.apache.activemq:artemis-journal:2.10.0\n|    |    |    +--- org.jboss.logging:jboss-logging:3.4.0.Final -&gt; 3.3.2.Final\n|    |    |    +--- org.apache.activemq:artemis-commons:2.10.0 (*)\n|    |    |    +--- org.apache.activemq:activemq-artemis-native:1.0.0\n|    |    |    |    +--- org.jboss.logging:jboss-logging:3.3.1.Final -&gt; 3.3.2.Final\n|    |    |    |    \\--- org.jboss.logmanager:jboss-logmanager:2.0.3.Final -&gt; 2.1.10.Final (*)\n|    |    |    +--- io.netty:netty-buffer:4.1.34.Final -&gt; 4.1.31.Final (*)\n|    |    |    \\--- io.netty:netty-common:4.1.34.Final -&gt; 4.1.31.Final\n|    |    +--- org.apache.activemq:artemis-jdbc-store:2.10.0\n|    |    |    +--- org.jboss.logging:jboss-logging:3.4.0.Final -&gt; 3.3.2.Final\n|    |    |    +--- org.apache.activemq:artemis-commons:2.10.0 (*)\n|    |    |    +--- org.apache.activemq:artemis-journal:2.10.0 (*)\n|    |    |    \\--- org.apache.activemq:artemis-core-client:2.10.0\n|    |    |         +--- org.jgroups:jgroups:3.6.13.Final -&gt; 3.6.7.Final\n|    |    |         +--- org.apache.activemq:artemis-commons:2.10.0 (*)\n|    |    |         +--- org.apache.johnzon:johnzon-core:0.9.5 -&gt; 1.1.10\n|    |    |         +--- io.netty:netty-transport-native-epoll:4.1.34.Final -&gt; 4.1.31.Final (*)\n|    |    |         +--- io.netty:netty-transport-native-kqueue:4.1.34.Final -&gt; 4.1.31.Final (*)\n|    |    |         +--- io.netty:netty-codec-http:4.1.34.Final -&gt; 4.1.31.Final (*)\n|    |    |         +--- io.netty:netty-buffer:4.1.34.Final -&gt; 4.1.31.Final (*)\n|    |    |         +--- io.netty:netty-transport:4.1.34.Final -&gt; 4.1.31.Final (*)\n|    |    |         +--- io.netty:netty-handler:4.1.34.Final -&gt; 4.1.31.Final (*)\n|    |    |         +--- io.netty:netty-codec:4.1.34.Final -&gt; 4.1.31.Final (*)\n|    |    |         \\--- io.netty:netty-common:4.1.34.Final -&gt; 4.1.31.Final\n|    |    +--- org.apache.activemq:artemis-core-client:2.10.0 (*)\n|    |    +--- org.apache.activemq:activemq-artemis-native:1.0.0 (*)\n</code></pre>\n\n<p><b>Questions</b></p>\n\n<p>Both the broker and client libraries are on the same version and the application seems to work normal. It leaves me however uneasy:</p>\n\n<ol>\n<li>How is it possible with automatically dependency resolving to write in the release notes of the application that the libraries are updated while in fact a two year old version is used? How should I know as a developer that this is really not the case?</li>\n<li>How to read the gradlew dependencies output? What is really the root cause libary that forces to use the old '2.4.0' version.</li>\n<li>Is forcing to use the new version really a good solution or are there expected issues when overriding automatically dependency resolving?</li>\n</ol>\n"},{"tags":["java","spring-boot","gradle","activemq-artemis","apache-commons-daemon"],"comments":[{"owner":{"account_id":12834977,"reputation":55,"user_id":9284926,"display_name":"l_mcqueen"},"score":0,"creation_date":1518613463,"post_id":48770730,"comment_id":84577419,"body_markdown":"I found a solution to force Spring Dependency manager to load artemis 2.4.0 using the idea described [here](https://docs.spring.io/spring-boot/docs/2.0.0.BUILD-SNAPSHOT/gradle-plugin/reference/html/)\nI added the following line to my build.gradle file:\n`ext[&#39;artemis.version&#39;] = &#39;2.4.0&#39;`\nwhich makes it possible to use Spring Boot Gradle Plugin&#39;s 1.5.10 in my project (because I can use the proper artemis version, which won&#39;t be downgraded to 1.5.5). That means, I can simply use springBoot&#39;s layoutFactory setting as well.","body":"I found a solution to force Spring Dependency manager to load artemis 2.4.0 using the idea described <a href=\"https://docs.spring.io/spring-boot/docs/2.0.0.BUILD-SNAPSHOT/gradle-plugin/reference/html/\" rel=\"nofollow noreferrer\">here</a> I added the following line to my build.gradle file: <code>ext[&#39;artemis.version&#39;] = &#39;2.4.0&#39;</code> which makes it possible to use Spring Boot Gradle Plugin&#39;s 1.5.10 in my project (because I can use the proper artemis version, which won&#39;t be downgraded to 1.5.5). That means, I can simply use springBoot&#39;s layoutFactory setting as well."}],"answers":[{"comments":[{"owner":{"account_id":12834977,"reputation":55,"user_id":9284926,"display_name":"l_mcqueen"},"score":0,"creation_date":1518600189,"post_id":48772353,"comment_id":84568537,"body_markdown":"Hi @luboskrnac, thanks for your answer. Artemis Server actually works (I have an different starter for that), that isn&#39;t my problem. The question is how to embed my launcher into the project, which should start (and later stop) the whole Spring Boot Application.","body":"Hi @luboskrnac, thanks for your answer. Artemis Server actually works (I have an different starter for that), that isn&#39;t my problem. The question is how to embed my launcher into the project, which should start (and later stop) the whole Spring Boot Application."}],"tags":[],"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518542654,"creation_date":1518542654,"answer_id":48772353,"question_id":48770730,"body_markdown":"I would suggest to look into using Spring Boot starter for Artemis [`spring-boot-starter-artemis`][1]. It should spin up embedded server without any friction.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-starters/spring-boot-starter-artemis/pom.xml","title":"Spring Boot Gradle Plugin 2.x how to use custom launcher layout factory","body":"<p>I would suggest to look into using Spring Boot starter for Artemis <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-starters/spring-boot-starter-artemis/pom.xml\" rel=\"nofollow noreferrer\"><code>spring-boot-starter-artemis</code></a>. It should spin up embedded server without any friction.</p>\n"}],"owner":{"account_id":12834977,"reputation":55,"user_id":9284926,"display_name":"l_mcqueen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":574,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696282319,"creation_date":1518537387,"question_id":48770730,"body_markdown":"In my project I&#39;m using activeMQ artemis and Spring Boot. The application should be executed as an Apache Commons Daemon service. I&#39;d like to use my custom launcher in this project.\r\n\r\nThe project has the following Gradle configuration:\r\n\r\n    buildscript {\r\n\r\n        repositories {\r\n            maven { url &quot;https://plugins.gradle.org/m2/&quot; }\r\n            maven { url &#39;https://repo.spring.io/libs-snapshot&#39; }\r\n        }\r\n\r\n        dependencies {\r\n            classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:2.0.0.M7&quot;)\r\n        }\r\n    }\r\n\r\n    plugins {\r\n      id &quot;org.sonarqube&quot; version &quot;2.6.1&quot;\r\n    }\r\n\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse&#39;\r\n    apply plugin: &#39;idea&#39;\r\n    apply plugin: &#39;maven-publish&#39;\r\n    apply plugin: &#39;org.springframework.boot&#39;\r\n\r\n    ext {    \r\n        commonsDaemonVersion = &#39;1.1.0&#39;\r\n\t    artemis = &#39;2.4.0&#39;\r\n    }\r\n\r\n    dependencies {\r\n\t   \r\n\t    compile(&quot;org.apache.activemq:artemis-server:${artemis}&quot;)\r\n\t    compile(&quot;org.apache.activemq:artemis-core-client:${artemis}&quot;)\r\n    \r\n        compile(&quot;commons-daemon:commons-daemon:${commonsDaemonVersion}&quot;)\r\n    }\r\n\r\n    task wrapper(type: Wrapper) {\r\n        gradleVersion = &#39;4.4&#39;\r\n    }\r\n\r\nBecause I&#39;m using activeMQ artemis, I can&#39;t use the Spring Boot Plugin&#39;s 1.5.x version, because its dependency management module downgrades apache activeMQ automatically to version 1.5.5.\r\nBecause this project has to be executed as an Apache Commons Daemon Service, I have to use my custom Spring Boot launcher, which makes it possible to have a static launcher and classloader. These two help me to stop the already running service.\r\n\r\nI tried the following setup to add my custom launcher to the generated jar-file with the following setup. However, that isn&#39;t the right way to do it, because I have to add my launcher&#39;s class name manually to the manifest file.\r\n\r\n    buildscript {\r\n\r\n        repositories {\r\n            maven { url &quot;https://plugins.gradle.org/m2/&quot; }\r\n            maven { url &#39;https://repo.spring.io/libs-snapshot&#39; }\r\n        }\r\n\r\n        dependencies {\r\n            classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:2.0.0.M7&quot;)\r\n        }\r\n    }\r\n\r\n\r\n    plugins {\r\n      id &quot;org.sonarqube&quot; version &quot;2.6.1&quot;\r\n    }\r\n\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse&#39;\r\n    apply plugin: &#39;idea&#39;\r\n    apply plugin: &#39;maven-publish&#39;\r\n    apply plugin: &#39;org.springframework.boot&#39;\r\n\r\n    ext {\r\n        commonsDaemonVersion = &#39;1.1.0&#39;\r\n\t    artemis = &#39;2.4.0&#39;\r\n    }\r\n    \r\n    configurations {\r\n        launcher\r\n    }\r\n\r\n    dependencies {\r\n\t   \r\n\t    compile(&quot;org.apache.activemq:artemis-server:${artemis}&quot;)\r\n\t    compile(&quot;org.apache.activemq:artemis-core-client:${artemis}&quot;)\r\n\t   \r\n\t    compile(&quot;commons-daemon:commons-daemon:${commonsDaemonVersion}&quot;)\r\n    \r\n\t    launcher(&quot;com.mycompany.springboot.launcher:my-custom-launcher:0.1.0-RELEASE&quot;)\r\n    }\t\r\n\r\n    bootJar {\r\n\t    \r\n\t    from project.configurations.launcher.each {\r\n            from(zipTree(it))\r\n        }\r\n\t    \r\n        \r\n\t    manifest {\r\n\t        attributes &#39;Main-Class&#39;: &#39;com.mycompany.springboot.launcher.CustomLauncher&#39;\r\n\t    }\r\n\t   \r\n    }\r\n\r\n    task wrapper(type: Wrapper) {\r\n        gradleVersion = &#39;4.4&#39;\r\n    }\r\n\r\nIn version 1.5.x I could just use the following option to add my launcher configuration:\r\n\r\n    springBoot  {\r\n        layoutFactory = new com.mycompany.springboot.launcher.CustomLauncherFactory()\r\n    }\r\n\r\nIs there any setup, which I could use to add my custom Launcher with Spring Boot Gradle Plugin 2.x or do I have to use any workarounds here? ","title":"Spring Boot Gradle Plugin 2.x how to use custom launcher layout factory","body":"<p>In my project I'm using activeMQ artemis and Spring Boot. The application should be executed as an Apache Commons Daemon service. I'd like to use my custom launcher in this project.</p>\n\n<p>The project has the following Gradle configuration:</p>\n\n<pre><code>buildscript {\n\n    repositories {\n        maven { url \"https://plugins.gradle.org/m2/\" }\n        maven { url 'https://repo.spring.io/libs-snapshot' }\n    }\n\n    dependencies {\n        classpath(\"org.springframework.boot:spring-boot-gradle-plugin:2.0.0.M7\")\n    }\n}\n\nplugins {\n  id \"org.sonarqube\" version \"2.6.1\"\n}\n\napply plugin: 'java'\napply plugin: 'eclipse'\napply plugin: 'idea'\napply plugin: 'maven-publish'\napply plugin: 'org.springframework.boot'\n\next {    \n    commonsDaemonVersion = '1.1.0'\n    artemis = '2.4.0'\n}\n\ndependencies {\n\n    compile(\"org.apache.activemq:artemis-server:${artemis}\")\n    compile(\"org.apache.activemq:artemis-core-client:${artemis}\")\n\n    compile(\"commons-daemon:commons-daemon:${commonsDaemonVersion}\")\n}\n\ntask wrapper(type: Wrapper) {\n    gradleVersion = '4.4'\n}\n</code></pre>\n\n<p>Because I'm using activeMQ artemis, I can't use the Spring Boot Plugin's 1.5.x version, because its dependency management module downgrades apache activeMQ automatically to version 1.5.5.\nBecause this project has to be executed as an Apache Commons Daemon Service, I have to use my custom Spring Boot launcher, which makes it possible to have a static launcher and classloader. These two help me to stop the already running service.</p>\n\n<p>I tried the following setup to add my custom launcher to the generated jar-file with the following setup. However, that isn't the right way to do it, because I have to add my launcher's class name manually to the manifest file.</p>\n\n<pre><code>buildscript {\n\n    repositories {\n        maven { url \"https://plugins.gradle.org/m2/\" }\n        maven { url 'https://repo.spring.io/libs-snapshot' }\n    }\n\n    dependencies {\n        classpath(\"org.springframework.boot:spring-boot-gradle-plugin:2.0.0.M7\")\n    }\n}\n\n\nplugins {\n  id \"org.sonarqube\" version \"2.6.1\"\n}\n\napply plugin: 'java'\napply plugin: 'eclipse'\napply plugin: 'idea'\napply plugin: 'maven-publish'\napply plugin: 'org.springframework.boot'\n\next {\n    commonsDaemonVersion = '1.1.0'\n    artemis = '2.4.0'\n}\n\nconfigurations {\n    launcher\n}\n\ndependencies {\n\n    compile(\"org.apache.activemq:artemis-server:${artemis}\")\n    compile(\"org.apache.activemq:artemis-core-client:${artemis}\")\n\n    compile(\"commons-daemon:commons-daemon:${commonsDaemonVersion}\")\n\n    launcher(\"com.mycompany.springboot.launcher:my-custom-launcher:0.1.0-RELEASE\")\n}   \n\nbootJar {\n\n    from project.configurations.launcher.each {\n        from(zipTree(it))\n    }\n\n\n    manifest {\n        attributes 'Main-Class': 'com.mycompany.springboot.launcher.CustomLauncher'\n    }\n\n}\n\ntask wrapper(type: Wrapper) {\n    gradleVersion = '4.4'\n}\n</code></pre>\n\n<p>In version 1.5.x I could just use the following option to add my launcher configuration:</p>\n\n<pre><code>springBoot  {\n    layoutFactory = new com.mycompany.springboot.launcher.CustomLauncherFactory()\n}\n</code></pre>\n\n<p>Is there any setup, which I could use to add my custom Launcher with Spring Boot Gradle Plugin 2.x or do I have to use any workarounds here? </p>\n"},{"tags":["java","spring","jboss","ibm-mq","activemq-artemis"],"comments":[{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1593419244,"post_id":62632702,"comment_id":110763852,"body_markdown":"Have you reviewed https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform/5/html/administration_and_configuration_guide/deploy_the_websphere_mq_resource_adapter ?","body":"Have you reviewed <a href=\"https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform/5/html/administration_and_configuration_guide/deploy_the_websphere_mq_resource_adapter\" rel=\"nofollow noreferrer\">access.redhat.com/documentation/en-us/&hellip;</a> ?"},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1593420241,"post_id":62632702,"comment_id":110764283,"body_markdown":"Here is another (Doug posts here so maybe he can help more): https://developer.jboss.org/thread/243515.  Can you show how you reference the jndi?","body":"Here is another (Doug posts here so maybe he can help more): <a href=\"https://developer.jboss.org/thread/243515\" rel=\"nofollow noreferrer\">developer.jboss.org/thread/243515</a>.  Can you show how you reference the jndi?"},{"owner":{"account_id":11763790,"reputation":89,"user_id":8609055,"accept_rate":50,"display_name":"Luca"},"score":0,"creation_date":1593424011,"post_id":62632702,"comment_id":110766282,"body_markdown":"I&#39;ve added jndi part","body":"I&#39;ve added jndi part"},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1593425973,"post_id":62632702,"comment_id":110767223,"body_markdown":"Should that be `java:jboss` instead of just `jboss` in the jndi reference?","body":"Should that be <code>java:jboss</code> instead of just <code>jboss</code> in the jndi reference?"},{"owner":{"account_id":11763790,"reputation":89,"user_id":8609055,"accept_rate":50,"display_name":"Luca"},"score":0,"creation_date":1593429202,"post_id":62632702,"comment_id":110768705,"body_markdown":"It makes no difference","body":"It makes no difference"}],"answers":[{"tags":[],"owner":{"account_id":11763790,"reputation":89,"user_id":8609055,"accept_rate":50,"display_name":"Luca"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593517918,"creation_date":1593517918,"answer_id":62656824,"question_id":62632702,"body_markdown":"Okay I got what was wrong, I was using another jms template object that was using default Artemis Mq client instead of the one I accessed by jndi.","title":"Not an ActiveMQ Artemis Destination exception4","body":"<p>Okay I got what was wrong, I was using another jms template object that was using default Artemis Mq client instead of the one I accessed by jndi.</p>\n"}],"owner":{"account_id":11763790,"reputation":89,"user_id":8609055,"accept_rate":50,"display_name":"Luca"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":863,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696281176,"creation_date":1593413584,"question_id":62632702,"body_markdown":"I have Java application with Spring that runs on Jboss server 7.0 . I&#39;m trying to integrate it with IBM mq adapter I&#39;ve deployed wmq.jmsra.rar adapter and configured it as follows:\r\n\r\n```\r\n&lt;subsystem xmlns=&quot;urn:jboss:domain:resource-adapters:5.0&quot;&gt;\r\n            &lt;resource-adapters&gt;\r\n                &lt;resource-adapter id=&quot;wmq.jmsra.rar&quot;&gt;\r\n                    &lt;archive&gt;\r\n                        wmq.jmsra.rar\r\n                    &lt;/archive&gt;\r\n                    &lt;transaction-support&gt;NoTransaction&lt;/transaction-support&gt;\r\n                    &lt;connection-definitions&gt;\r\n                        &lt;connection-definition class-name=&quot;com.ibm.mq.connector.outbound.ManagedConnectionFactoryImpl&quot; jndi-name=&quot;java:jboss/exported/jms/MQConnectionFactory&quot; tracking=&quot;false&quot; pool-name=&quot;mq-my-app&quot;&gt;\r\n                            &lt;config-property name=&quot;hostName&quot;&gt;127.0.0.1&lt;/config-property&gt;\r\n                            &lt;config-property name=&quot;port&quot;&gt;1414&lt;/config-property&gt;\r\n                            &lt;config-property name=&quot;channel&quot;&gt;SYSTEM.ADMIN.SVRCONN&lt;/config-property&gt;\r\n                            &lt;config-property name=&quot;transportType&quot;&gt;CLIENT&lt;/config-property&gt;\r\n                            &lt;config-property name=&quot;queueManager&quot;&gt;MQ1&lt;/config-property&gt;\r\n                            &lt;config-property name=&quot;username&quot;&gt;admin&lt;/config-property&gt;\r\n                            &lt;config-property name=&quot;password&quot;&gt;passw0rd&lt;/config-property&gt;\r\n                        &lt;/connection-definition&gt;\r\n                    &lt;/connection-definitions&gt;\r\n                    &lt;admin-objects&gt;\r\n                        &lt;admin-object class-name=&quot;com.ibm.mq.connector.outbound.MQQueueProxy&quot; jndi-name=&quot;java:jboss/exported/jms/MQRequestQueue&quot; pool-name=&quot;queue-req&quot;&gt;\r\n                            &lt;config-property name=&quot;baseQueueManagerName&quot;&gt;MQ1&lt;/config-property&gt;\r\n                            &lt;config-property name=&quot;baseQueueName&quot;&gt;DEV.QUEUE.1&lt;/config-property&gt;\r\n                        &lt;/admin-object&gt;\r\n                        &lt;admin-object class-name=&quot;com.ibm.mq.connector.outbound.MQQueueProxy&quot; jndi-name=&quot;java:jboss/exported/jms/MQResponseQueue&quot; pool-name=&quot;queue-res&quot;&gt;\r\n                            &lt;config-property name=&quot;baseQueueManagerName&quot;&gt;MQ1&lt;/config-property&gt;\r\n                            &lt;config-property name=&quot;baseQueueName&quot;&gt;DEV.QUEUE.2&lt;/config-property&gt;\r\n                        &lt;/admin-object&gt;\r\n                    &lt;/admin-objects&gt;\r\n                &lt;/resource-adapter&gt;\r\n            &lt;/resource-adapters&gt;\r\n        &lt;/subsystem&gt;\r\n```\r\n\r\nMy IBM Server runs on docker and is acessed by localhost address.\r\n\r\nIn my java app with Spring context I&#39;m accessing mq queues by jndi on app startup and when I&#39;m trying to send message I get following error:\r\n\r\n```\r\n&quot;java.lang.RuntimeException: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;bankAdapterImpl&#39;: Invocation of init method failed; nested exception is org.springframework.jms.InvalidDestinationException: Not an ActiveMQ Artemis Destination:com.ibm.mq.connector.outbound.MQQueueProxy@4d1be475; nested exception is javax.jms.InvalidDestinationException: Not an ActiveMQ Artemis Destination:com.ibm.mq.connector.outbound.MQQueueProxy@4d1be475\r\n```\r\n\r\nEdit: \r\nThe way I&#39;m accessing with jndi\r\n```\r\n public static final String CONNECTION_FACTORY_NAME = &quot;jboss/exported/jms/MQConnectionFactory&quot;;\r\n\r\n public static final String REQUEST_QUEUE_NAME = &quot;jboss/exported/jms/MQRequestQueue&quot;;\r\n\r\n...\r\nContext jndiContext = new InitialContext();\r\n        return (Destination) jndiContext.lookup(REQUEST_QUEUE_NAME);\r\n...\r\n```\r\n","title":"Not an ActiveMQ Artemis Destination exception4","body":"<p>I have Java application with Spring that runs on Jboss server 7.0 . I'm trying to integrate it with IBM mq adapter I've deployed wmq.jmsra.rar adapter and configured it as follows:</p>\n<pre><code>&lt;subsystem xmlns=&quot;urn:jboss:domain:resource-adapters:5.0&quot;&gt;\n            &lt;resource-adapters&gt;\n                &lt;resource-adapter id=&quot;wmq.jmsra.rar&quot;&gt;\n                    &lt;archive&gt;\n                        wmq.jmsra.rar\n                    &lt;/archive&gt;\n                    &lt;transaction-support&gt;NoTransaction&lt;/transaction-support&gt;\n                    &lt;connection-definitions&gt;\n                        &lt;connection-definition class-name=&quot;com.ibm.mq.connector.outbound.ManagedConnectionFactoryImpl&quot; jndi-name=&quot;java:jboss/exported/jms/MQConnectionFactory&quot; tracking=&quot;false&quot; pool-name=&quot;mq-my-app&quot;&gt;\n                            &lt;config-property name=&quot;hostName&quot;&gt;127.0.0.1&lt;/config-property&gt;\n                            &lt;config-property name=&quot;port&quot;&gt;1414&lt;/config-property&gt;\n                            &lt;config-property name=&quot;channel&quot;&gt;SYSTEM.ADMIN.SVRCONN&lt;/config-property&gt;\n                            &lt;config-property name=&quot;transportType&quot;&gt;CLIENT&lt;/config-property&gt;\n                            &lt;config-property name=&quot;queueManager&quot;&gt;MQ1&lt;/config-property&gt;\n                            &lt;config-property name=&quot;username&quot;&gt;admin&lt;/config-property&gt;\n                            &lt;config-property name=&quot;password&quot;&gt;passw0rd&lt;/config-property&gt;\n                        &lt;/connection-definition&gt;\n                    &lt;/connection-definitions&gt;\n                    &lt;admin-objects&gt;\n                        &lt;admin-object class-name=&quot;com.ibm.mq.connector.outbound.MQQueueProxy&quot; jndi-name=&quot;java:jboss/exported/jms/MQRequestQueue&quot; pool-name=&quot;queue-req&quot;&gt;\n                            &lt;config-property name=&quot;baseQueueManagerName&quot;&gt;MQ1&lt;/config-property&gt;\n                            &lt;config-property name=&quot;baseQueueName&quot;&gt;DEV.QUEUE.1&lt;/config-property&gt;\n                        &lt;/admin-object&gt;\n                        &lt;admin-object class-name=&quot;com.ibm.mq.connector.outbound.MQQueueProxy&quot; jndi-name=&quot;java:jboss/exported/jms/MQResponseQueue&quot; pool-name=&quot;queue-res&quot;&gt;\n                            &lt;config-property name=&quot;baseQueueManagerName&quot;&gt;MQ1&lt;/config-property&gt;\n                            &lt;config-property name=&quot;baseQueueName&quot;&gt;DEV.QUEUE.2&lt;/config-property&gt;\n                        &lt;/admin-object&gt;\n                    &lt;/admin-objects&gt;\n                &lt;/resource-adapter&gt;\n            &lt;/resource-adapters&gt;\n        &lt;/subsystem&gt;\n</code></pre>\n<p>My IBM Server runs on docker and is acessed by localhost address.</p>\n<p>In my java app with Spring context I'm accessing mq queues by jndi on app startup and when I'm trying to send message I get following error:</p>\n<pre><code>&quot;java.lang.RuntimeException: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'bankAdapterImpl': Invocation of init method failed; nested exception is org.springframework.jms.InvalidDestinationException: Not an ActiveMQ Artemis Destination:com.ibm.mq.connector.outbound.MQQueueProxy@4d1be475; nested exception is javax.jms.InvalidDestinationException: Not an ActiveMQ Artemis Destination:com.ibm.mq.connector.outbound.MQQueueProxy@4d1be475\n</code></pre>\n<p>Edit:\nThe way I'm accessing with jndi</p>\n<pre><code> public static final String CONNECTION_FACTORY_NAME = &quot;jboss/exported/jms/MQConnectionFactory&quot;;\n\n public static final String REQUEST_QUEUE_NAME = &quot;jboss/exported/jms/MQRequestQueue&quot;;\n\n...\nContext jndiContext = new InitialContext();\n        return (Destination) jndiContext.lookup(REQUEST_QUEUE_NAME);\n...\n</code></pre>\n"},{"tags":["java","spring","jboss","activemq-artemis","jboss-eap-7"],"answers":[{"tags":[],"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572352574,"creation_date":1572352574,"answer_id":58607612,"question_id":58597414,"body_markdown":"It looks like a mismatch between EAP 7.1 (on Apache Artemis 1.x) and your client code (on Apache Artemis 2.10).","title":"Spring JMS can&#39;t connect to JBoss EAP 7.1 ActiveMq Artemis","body":"<p>It looks like a mismatch between EAP 7.1 (on Apache Artemis 1.x) and your client code (on Apache Artemis 2.10).</p>\n"}],"owner":{"account_id":4228770,"reputation":972,"user_id":3461670,"accept_rate":43,"display_name":"Nadarian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1058,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696281155,"creation_date":1572291756,"question_id":58597414,"body_markdown":"I am trying to connect to ActiveMq Artemis on EAP 7.1 which has legacy config (remote:4447). I can connect using JMSToolBox using port 5445 but when I want reach the server using the remote://xxx:4447 from my Spring Boot application I get this warning\r\n\r\n&gt; Setup of JMS message listener invoker failed for destination &#39;java:/queue/party&#39; - trying to recover. Cause: org.apache.activemq.artemis.core.protocol.core.impl.wireformat.SessionQueueQueryResponseMessage_V2 cannot be cast to org.apache.activemq.artemis.core.protocol.core.impl.wireformat.SessionQueueQueryResponseMessage_V3\r\n\r\n\r\nAnd a lot of this warnings.\r\n\r\n&gt; AMQ212052: Packet PACKET(SessionQueueQueryResponseMessage_V2)[type=-7, channelID=13, packetObject=SessionQueueQueryResponseMessage_V2, address=null, name=null, consumerCount=0, filterString=null, durable=false, exists=false, temporary=false, messageCount=0, autoCreationEnabled=false] was answered out of sequence due to a previous server timeout and it&#39;s being ignored\r\n\r\nI don&#39;t have the access to the JBoss server but I am told that the config is fine. This is my configuration.\r\n\r\n    @Bean\r\n    public ConnectionFactory connectionFactory() {\r\n        final Hashtable&lt;String, Object&gt; env = new Hashtable&lt;&gt;();\r\n        env.put(Context.INITIAL_CONTEXT_FACTORY, contextFactory);\r\n        env.put(Context.PROVIDER_URL, providerUrl);\r\n        env.put(&quot;jboss.naming.client.ejb.context&quot;, true);\r\n        env.put(Context.URL_PKG_PREFIXES, &quot;org.jboss.ejb.client.naming&quot;);\r\n\r\n        try {\r\n            final Context ctx = new InitialContext(env);\r\n            final String cfLookupName = &quot;jms/RemoteConnectionFactory&quot;;\r\n\r\n            final ConnectionFactory factory = (ConnectionFactory) ctx.lookup(cfLookupName);\r\n            ctx.close();\r\n            return factory;\r\n        }\r\n        catch (final NamingException e) {\r\n            LOGGER.error(String.format(&quot;Error while connecting to JMS. %s&quot;, e));\r\n        }\r\n        return null;\r\n    }\r\n\r\n    @Bean\r\n    public JmsListenerContainerFactory&lt;?&gt; jmsConnectionFactory(\r\n            final ConnectionFactory connectionFactory,\r\n            final DefaultJmsListenerContainerFactoryConfigurer configurer) {\r\n        final DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n        configurer.configure(factory, connectionFactory);\r\n        return factory;\r\n    }\r\n\r\n\r\napplication.yml\r\n\r\n    jms:\r\n      context-factory: org.wildfly.naming.client.WildFlyInitialContextFactory\r\n      provider-url: remote://&lt;hostname&gt;:4447\r\n\r\nI am not sure it is relevant, but I am using this dependency in Maven:\r\n\r\n        &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\r\n        &lt;artifactId&gt;wildfly-jms-client-bom&lt;/artifactId&gt;\r\n        &lt;version&gt;18.0.0.Final&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;","title":"Spring JMS can&#39;t connect to JBoss EAP 7.1 ActiveMq Artemis","body":"<p>I am trying to connect to ActiveMq Artemis on EAP 7.1 which has legacy config (remote:4447). I can connect using JMSToolBox using port 5445 but when I want reach the server using the remote://xxx:4447 from my Spring Boot application I get this warning</p>\n\n<blockquote>\n  <p>Setup of JMS message listener invoker failed for destination 'java:/queue/party' - trying to recover. Cause: org.apache.activemq.artemis.core.protocol.core.impl.wireformat.SessionQueueQueryResponseMessage_V2 cannot be cast to org.apache.activemq.artemis.core.protocol.core.impl.wireformat.SessionQueueQueryResponseMessage_V3</p>\n</blockquote>\n\n<p>And a lot of this warnings.</p>\n\n<blockquote>\n  <p>AMQ212052: Packet PACKET(SessionQueueQueryResponseMessage_V2)[type=-7, channelID=13, packetObject=SessionQueueQueryResponseMessage_V2, address=null, name=null, consumerCount=0, filterString=null, durable=false, exists=false, temporary=false, messageCount=0, autoCreationEnabled=false] was answered out of sequence due to a previous server timeout and it's being ignored</p>\n</blockquote>\n\n<p>I don't have the access to the JBoss server but I am told that the config is fine. This is my configuration.</p>\n\n<pre><code>@Bean\npublic ConnectionFactory connectionFactory() {\n    final Hashtable&lt;String, Object&gt; env = new Hashtable&lt;&gt;();\n    env.put(Context.INITIAL_CONTEXT_FACTORY, contextFactory);\n    env.put(Context.PROVIDER_URL, providerUrl);\n    env.put(\"jboss.naming.client.ejb.context\", true);\n    env.put(Context.URL_PKG_PREFIXES, \"org.jboss.ejb.client.naming\");\n\n    try {\n        final Context ctx = new InitialContext(env);\n        final String cfLookupName = \"jms/RemoteConnectionFactory\";\n\n        final ConnectionFactory factory = (ConnectionFactory) ctx.lookup(cfLookupName);\n        ctx.close();\n        return factory;\n    }\n    catch (final NamingException e) {\n        LOGGER.error(String.format(\"Error while connecting to JMS. %s\", e));\n    }\n    return null;\n}\n\n@Bean\npublic JmsListenerContainerFactory&lt;?&gt; jmsConnectionFactory(\n        final ConnectionFactory connectionFactory,\n        final DefaultJmsListenerContainerFactoryConfigurer configurer) {\n    final DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n    configurer.configure(factory, connectionFactory);\n    return factory;\n}\n</code></pre>\n\n<p>application.yml</p>\n\n<pre><code>jms:\n  context-factory: org.wildfly.naming.client.WildFlyInitialContextFactory\n  provider-url: remote://&lt;hostname&gt;:4447\n</code></pre>\n\n<p>I am not sure it is relevant, but I am using this dependency in Maven:</p>\n\n<pre><code>    &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\n    &lt;artifactId&gt;wildfly-jms-client-bom&lt;/artifactId&gt;\n    &lt;version&gt;18.0.0.Final&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":6384814,"reputation":60273,"user_id":4953079,"display_name":"Matthias J. Sax"},"score":2,"creation_date":1564695603,"post_id":46365884,"comment_id":101126083,"body_markdown":"A standard implementation for ListSerde is WIP and should be included in 2.4 release making custom List Serde obsolete: https://issues.apache.org/jira/browse/KAFKA-8326","body":"A standard implementation for ListSerde is WIP and should be included in 2.4 release making custom List Serde obsolete: <a href=\"https://issues.apache.org/jira/browse/KAFKA-8326\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/KAFKA-8326</a>"},{"owner":{"account_id":5837851,"reputation":652,"user_id":4600313,"accept_rate":80,"display_name":"joachim"},"score":0,"creation_date":1613570023,"post_id":46365884,"comment_id":117114670,"body_markdown":"Would u care to share a fully working example of this?","body":"Would u care to share a fully working example of this?"},{"owner":{"account_id":4529062,"reputation":13799,"user_id":3680098,"accept_rate":91,"display_name":"Evaldas Buinauskas"},"score":0,"creation_date":1613571059,"post_id":46365884,"comment_id":117115234,"body_markdown":"@joachim unfortunately no, this was a throwaway code at a company I no longer work for.","body":"@joachim unfortunately no, this was a throwaway code at a company I no longer work for."}],"answers":[{"comments":[{"owner":{"account_id":6384814,"reputation":60273,"user_id":4953079,"display_name":"Matthias J. Sax"},"score":0,"creation_date":1577904857,"post_id":46369790,"comment_id":105278995,"body_markdown":"The feature slipped for 2.4 release -- updated my answer. Hopefully it will make it into 2.5.","body":"The feature slipped for 2.4 release -- updated my answer. Hopefully it will make it into 2.5."},{"owner":{"account_id":4084989,"reputation":157,"user_id":3354476,"accept_rate":25,"display_name":"pixelr"},"score":0,"creation_date":1598860362,"post_id":46369790,"comment_id":112583363,"body_markdown":"the PR is still not merged yet","body":"the PR is still not merged yet"},{"owner":{"account_id":6384814,"reputation":60273,"user_id":4953079,"display_name":"Matthias J. Sax"},"score":0,"creation_date":1598886737,"post_id":46369790,"comment_id":112595679,"body_markdown":"Thanks, I updated the answer to 2.7... Let&#39;s see if we can get it in :) Feel free to help reviewing the PR :)","body":"Thanks, I updated the answer to 2.7... Let&#39;s see if we can get it in :) Feel free to help reviewing the PR :)"},{"owner":{"account_id":11179514,"reputation":124,"user_id":8203961,"display_name":"Omkar Rahane"},"score":0,"creation_date":1632162192,"post_id":46369790,"comment_id":122413976,"body_markdown":"@MatthiasJ.Sax, which release was this PR a part of, was it 3.0? I&#39;m currently using 2.7 and not able to see this API.","body":"@MatthiasJ.Sax, which release was this PR a part of, was it 3.0? I&#39;m currently using 2.7 and not able to see this API."},{"owner":{"account_id":6384814,"reputation":60273,"user_id":4953079,"display_name":"Matthias J. Sax"},"score":0,"creation_date":1632203114,"post_id":46369790,"comment_id":122422273,"body_markdown":"As indicated on the ticket, ListSerdes will ship with 3.0 release.","body":"As indicated on the ticket, ListSerdes will ship with 3.0 release."}],"tags":[],"owner":{"account_id":6384814,"reputation":60273,"user_id":4953079,"display_name":"Matthias J. Sax"},"comment_count":5,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1616427069,"creation_date":1506099749,"answer_id":46369790,"question_id":46365884,"body_markdown":"As the error indicates, all `Serde`s need to have a non-argument constructor:\r\n\r\n&gt; Caused by: org.apache.kafka.common.KafkaException: Could not instantiate class utils.ArrayListSerde Does it have a public no-argument constructor?\r\n\r\nYou class `ArrayListSerde` does only have constructor:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public ArrayListSerde(Serde&lt;T&gt; serde) { ... }\r\n\r\nThus, we get this error.\r\n\r\nCompare `ArrayListSerializer`:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Default constructor needed by Kafka\r\n    public ArrayListSerializer() {}\r\n\r\n**Update:**\r\n\r\nA standard implementation for `ListSerde` is WIP and should be included in a future release making custom List Serde obsolete: https://issues.apache.org/jira/browse/KAFKA-8326","title":"Issue with ArrayList Serde in Kafka Streams API","body":"<p>As the error indicates, all <code>Serde</code>s need to have a non-argument constructor:</p>\n<blockquote>\n<p>Caused by: org.apache.kafka.common.KafkaException: Could not instantiate class utils.ArrayListSerde Does it have a public no-argument constructor?</p>\n</blockquote>\n<p>You class <code>ArrayListSerde</code> does only have constructor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ArrayListSerde(Serde&lt;T&gt; serde) { ... }\n</code></pre>\n<p>Thus, we get this error.</p>\n<p>Compare <code>ArrayListSerializer</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Default constructor needed by Kafka\npublic ArrayListSerializer() {}\n</code></pre>\n<p><strong>Update:</strong></p>\n<p>A standard implementation for <code>ListSerde</code> is WIP and should be included in a future release making custom List Serde obsolete: <a href=\"https://issues.apache.org/jira/browse/KAFKA-8326\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/KAFKA-8326</a></p>\n"}],"owner":{"account_id":4529062,"reputation":13799,"user_id":3680098,"accept_rate":91,"display_name":"Evaldas Buinauskas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7322,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":46369790,"answer_count":1,"score":4,"last_activity_date":1696281017,"creation_date":1506086638,"question_id":46365884,"body_markdown":"Based on my previous [question][1], I am still trying to figure out what&#39;s the issue with my code.\r\n\r\nI&#39;ve got a most basic topic possible: keys and values are a type of `Long` and this is my producer code:\r\n\r\n    public class DemoProducer {\r\n      public static void main(String... args) {\r\n        Producer&lt;Long, Long&gt; producer = new KafkaProducer&lt;&gt;(createProperties());\r\n    \r\n        LongStream.range(1, 100)\r\n            .forEach(\r\n                i -&gt;\r\n                    LongStream.range(100, 115)\r\n                        .forEach(j -&gt; producer.send(new ProducerRecord&lt;&gt;(&quot;test&quot;, i, j))));\r\n    \r\n        producer.close();\r\n      }\r\n    \r\n      private static final Properties createProperties() {\r\n        final Properties props = new Properties();\r\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;broker:9092&quot;);\r\n        props.put(ProducerConfig.ACKS_CONFIG, &quot;all&quot;);\r\n        props.put(ProducerConfig.RETRIES_CONFIG, 0);\r\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, LongSerializer.class.getName());\r\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, LongSerializer.class.getName());\r\n    \r\n        return props;\r\n      }\r\n    }\r\n\r\nI&#39;d like to group things up using key and put values in a ArrayList using Kafka Streams API.\r\n\r\nThis is my Stream app that&#39;s supposed to do the transformation and put things to new topic - `test-aggregated`:\r\n\r\n    public class DemoStreams {\r\n      public static void main(String... args) {\r\n        final Serde&lt;Long&gt; longSerde = Serdes.Long();\r\n    \r\n        KStreamBuilder builder = new KStreamBuilder();\r\n    \r\n        builder\r\n            .stream(longSerde, longSerde, &quot;test&quot;)\r\n            .groupByKey(longSerde, longSerde)\r\n            .aggregate(\r\n                ArrayList::new,\r\n                (subscriberId, reportId, queue) -&gt; {\r\n                  queue.add(reportId);\r\n                  return queue;\r\n                },\r\n                new ArrayListSerde&lt;&gt;(longSerde))\r\n            .to(longSerde, new ArrayListSerde&lt;&gt;(longSerde), &quot;test-aggregated&quot;);\r\n    \r\n        final KafkaStreams streams = new KafkaStreams(builder, createProperties());\r\n    \r\n        streams.cleanUp();\r\n        streams.start();\r\n    \r\n        Runtime.getRuntime().addShutdownHook(new Thread(streams::close));\r\n      }\r\n    \r\n      private static Properties createProperties() {\r\n        final Properties properties = new Properties();\r\n        String longSerdes = Serdes.Long().getClass().getName();\r\n        properties.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;aggregation-app&quot;);\r\n        properties.put(StreamsConfig.CLIENT_ID_CONFIG, &quot;aggregation-app-client&quot;);\r\n        properties.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;broker:9092&quot;);\r\n        properties.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, longSerdes);\r\n        properties.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, ArrayListSerde.class);\r\n        properties.put(StreamsConfig.COMMIT_INTERVAL_MS_CONFIG, 10 * 1000);\r\n        properties.put(StreamsConfig.CACHE_MAX_BYTES_BUFFERING_CONFIG, 0);\r\n    \r\n        return properties;\r\n      }\r\n    }\r\n\r\nI have implemented my Serde as follows:\r\n###ArrayListSerde\r\n\r\n    public class ArrayListSerde&lt;T&gt; implements Serde&lt;ArrayList&lt;T&gt;&gt; {\r\n    \r\n      private final Serde&lt;ArrayList&lt;T&gt;&gt; inner;\r\n    \r\n      public ArrayListSerde(Serde&lt;T&gt; serde) {\r\n        inner =\r\n            Serdes.serdeFrom(\r\n                new ArrayListSerializer&lt;&gt;(serde.serializer()),\r\n                new ArrayListDeserializer&lt;&gt;(serde.deserializer()));\r\n      }\r\n    \r\n      @Override\r\n      public Serializer&lt;ArrayList&lt;T&gt;&gt; serializer() {\r\n        return inner.serializer();\r\n      }\r\n    \r\n      @Override\r\n      public Deserializer&lt;ArrayList&lt;T&gt;&gt; deserializer() {\r\n        return inner.deserializer();\r\n      }\r\n    \r\n      @Override\r\n      public void configure(Map&lt;String, ?&gt; configs, boolean isKey) {\r\n        inner.serializer().configure(configs, isKey);\r\n        inner.deserializer().configure(configs, isKey);\r\n      }\r\n    \r\n      @Override\r\n      public void close() {\r\n        inner.serializer().close();\r\n        inner.deserializer().close();\r\n      }\r\n    }\r\n\r\n###ArrayListSerializer\r\n\r\n    public class ArrayListSerializer&lt;T&gt; implements Serializer&lt;ArrayList&lt;T&gt;&gt; {\r\n    \r\n      private Serializer&lt;T&gt; inner;\r\n    \r\n      public ArrayListSerializer(Serializer&lt;T&gt; inner) {\r\n        this.inner = inner;\r\n      }\r\n    \r\n      // Default constructor needed by Kafka\r\n      public ArrayListSerializer() {}\r\n    \r\n      @Override\r\n      public void configure(Map&lt;String, ?&gt; configs, boolean isKey) {\r\n        // do nothing\r\n      }\r\n    \r\n      @Override\r\n      public byte[] serialize(String topic, ArrayList&lt;T&gt; queue) {\r\n        final int size = queue.size();\r\n        final ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        final DataOutputStream dos = new DataOutputStream(baos);\r\n        final Iterator&lt;T&gt; iterator = queue.iterator();\r\n        try {\r\n          dos.writeInt(size);\r\n          while (iterator.hasNext()) {\r\n            final byte[] bytes = inner.serialize(topic, iterator.next());\r\n            dos.writeInt(bytes.length);\r\n            dos.write(bytes);\r\n          }\r\n        } catch (IOException e) {\r\n          throw new RuntimeException(&quot;Unable to serialize ArrayList&quot;, e);\r\n        }\r\n        return baos.toByteArray();\r\n      }\r\n    \r\n      @Override\r\n      public void close() {\r\n        inner.close();\r\n      }\r\n    }\r\n\r\n###ArrayListDeserializer\r\n\r\n    public class ArrayListDeserializer&lt;T&gt; implements Deserializer&lt;ArrayList&lt;T&gt;&gt; {\r\n      private final Deserializer&lt;T&gt; valueDeserializer;\r\n    \r\n      public ArrayListDeserializer(final Deserializer&lt;T&gt; valueDeserializer) {\r\n        this.valueDeserializer = valueDeserializer;\r\n      }\r\n    \r\n      @Override\r\n      public void configure(Map&lt;String, ?&gt; configs, boolean isKey) {\r\n        // do nothing\r\n      }\r\n    \r\n      @Override\r\n      public ArrayList&lt;T&gt; deserialize(String topic, byte[] bytes) {\r\n        if (bytes == null || bytes.length == 0) {\r\n          return null;\r\n        }\r\n    \r\n        final ArrayList&lt;T&gt; arrayList = new ArrayList&lt;&gt;();\r\n        final DataInputStream dataInputStream = new DataInputStream(new ByteArrayInputStream(bytes));\r\n    \r\n        try {\r\n          final int records = dataInputStream.readInt();\r\n          for (int i = 0; i &lt; records; i++) {\r\n            final byte[] valueBytes = new byte[dataInputStream.readInt()];\r\n            dataInputStream.read(valueBytes);\r\n            arrayList.add(valueDeserializer.deserialize(topic, valueBytes));\r\n          }\r\n        } catch (IOException e) {\r\n          throw new RuntimeException(&quot;Unable to deserialize ArrayList&quot;, e);\r\n        }\r\n    \r\n        return arrayList;\r\n      }\r\n    \r\n      @Override\r\n      public void close() {\r\n        // do nothing\r\n      }\r\n    }\r\n\r\nHowever I end up getting this Exception: \r\n\r\n    Exception in thread &quot;permission-agg4-client-StreamThread-1&quot; org.apache.kafka.streams.errors.StreamsException: stream-thread [aggregation-app-client-StreamThread-1] Failed to rebalance.\r\n    \tat org.apache.kafka.streams.processor.internals.StreamThread.pollRequests(StreamThread.java:543)\r\n    \tat org.apache.kafka.streams.processor.internals.StreamThread.runOnce(StreamThread.java:490)\r\n    \tat org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:480)\r\n    \tat org.apache.kafka.streams.processor.internals.StreamThread.run(StreamThread.java:457)\r\n    Caused by: org.apache.kafka.streams.errors.StreamsException: Failed to configure value serde class utils.ArrayListSerde\r\n    \tat org.apache.kafka.streams.StreamsConfig.defaultValueSerde(StreamsConfig.java:770)\r\n    \tat org.apache.kafka.streams.processor.internals.AbstractProcessorContext.&lt;init&gt;(AbstractProcessorContext.java:59)\r\n    \tat org.apache.kafka.streams.processor.internals.ProcessorContextImpl.&lt;init&gt;(ProcessorContextImpl.java:40)\r\n    \tat org.apache.kafka.streams.processor.internals.StreamTask.&lt;init&gt;(StreamTask.java:138)\r\n    \tat org.apache.kafka.streams.processor.internals.StreamThread.createStreamTask(StreamThread.java:1078)\r\n    \tat org.apache.kafka.streams.processor.internals.StreamThread$TaskCreator.createTask(StreamThread.java:255)\r\n    \tat org.apache.kafka.streams.processor.internals.StreamThread$AbstractTaskCreator.createTasks(StreamThread.java:245)\r\n    \tat org.apache.kafka.streams.processor.internals.StreamThread.addStreamTasks(StreamThread.java:1147)\r\n    \tat org.apache.kafka.streams.processor.internals.StreamThread.access$800(StreamThread.java:68)\r\n    \tat org.apache.kafka.streams.processor.internals.StreamThread$RebalanceListener.onPartitionsAssigned(StreamThread.java:184)\r\n    \tat org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.onJoinComplete(ConsumerCoordinator.java:265)\r\n    \tat org.apache.kafka.clients.consumer.internals.AbstractCoordinator.joinGroupIfNeeded(AbstractCoordinator.java:367)\r\n    \tat org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureActiveGroup(AbstractCoordinator.java:316)\r\n    \tat org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:297)\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.pollOnce(KafkaConsumer.java:1078)\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1043)\r\n    \tat org.apache.kafka.streams.processor.internals.StreamThread.pollRequests(StreamThread.java:536)\r\n    \t... 3 more\r\n    Caused by: org.apache.kafka.common.KafkaException: Could not instantiate class utils.ArrayListSerde Does it have a public no-argument constructor?\r\n    \tat org.apache.kafka.common.utils.Utils.newInstance(Utils.java:286)\r\n    \tat org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:246)\r\n    \tat org.apache.kafka.streams.StreamsConfig.defaultValueSerde(StreamsConfig.java:764)\r\n    \t... 19 more\r\n    Caused by: java.lang.InstantiationException: utils.ArrayListSerde\r\n    \tat java.lang.Class.newInstance(Class.java:427)\r\n    \tat org.apache.kafka.common.utils.Utils.newInstance(Utils.java:282)\r\n    \t... 21 more\r\n    Caused by: java.lang.NoSuchMethodException: utils.ArrayListSerde.&lt;init&gt;()\r\n    \tat java.lang.Class.getConstructor0(Class.java:3082)\r\n    \tat java.lang.Class.newInstance(Class.java:412)\r\n    \t... 22 more\r\n\r\nI was trying to implement Serde based on `PriorityQueue` example found in Confluent&#39;s GitHub page: https://github.com/confluentinc/kafka-streams-examples/tree/3.3.0-post/src/main/java/io/confluent/examples/streams/utils\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/46303973/kafka-streams-table-transformations/46305811#46305811","title":"Issue with ArrayList Serde in Kafka Streams API","body":"<p>Based on my previous <a href=\"https://stackoverflow.com/questions/46303973/kafka-streams-table-transformations/46305811#46305811\">question</a>, I am still trying to figure out what's the issue with my code.</p>\n\n<p>I've got a most basic topic possible: keys and values are a type of <code>Long</code> and this is my producer code:</p>\n\n<pre><code>public class DemoProducer {\n  public static void main(String... args) {\n    Producer&lt;Long, Long&gt; producer = new KafkaProducer&lt;&gt;(createProperties());\n\n    LongStream.range(1, 100)\n        .forEach(\n            i -&gt;\n                LongStream.range(100, 115)\n                    .forEach(j -&gt; producer.send(new ProducerRecord&lt;&gt;(\"test\", i, j))));\n\n    producer.close();\n  }\n\n  private static final Properties createProperties() {\n    final Properties props = new Properties();\n    props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, \"broker:9092\");\n    props.put(ProducerConfig.ACKS_CONFIG, \"all\");\n    props.put(ProducerConfig.RETRIES_CONFIG, 0);\n    props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, LongSerializer.class.getName());\n    props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, LongSerializer.class.getName());\n\n    return props;\n  }\n}\n</code></pre>\n\n<p>I'd like to group things up using key and put values in a ArrayList using Kafka Streams API.</p>\n\n<p>This is my Stream app that's supposed to do the transformation and put things to new topic - <code>test-aggregated</code>:</p>\n\n<pre><code>public class DemoStreams {\n  public static void main(String... args) {\n    final Serde&lt;Long&gt; longSerde = Serdes.Long();\n\n    KStreamBuilder builder = new KStreamBuilder();\n\n    builder\n        .stream(longSerde, longSerde, \"test\")\n        .groupByKey(longSerde, longSerde)\n        .aggregate(\n            ArrayList::new,\n            (subscriberId, reportId, queue) -&gt; {\n              queue.add(reportId);\n              return queue;\n            },\n            new ArrayListSerde&lt;&gt;(longSerde))\n        .to(longSerde, new ArrayListSerde&lt;&gt;(longSerde), \"test-aggregated\");\n\n    final KafkaStreams streams = new KafkaStreams(builder, createProperties());\n\n    streams.cleanUp();\n    streams.start();\n\n    Runtime.getRuntime().addShutdownHook(new Thread(streams::close));\n  }\n\n  private static Properties createProperties() {\n    final Properties properties = new Properties();\n    String longSerdes = Serdes.Long().getClass().getName();\n    properties.put(StreamsConfig.APPLICATION_ID_CONFIG, \"aggregation-app\");\n    properties.put(StreamsConfig.CLIENT_ID_CONFIG, \"aggregation-app-client\");\n    properties.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, \"broker:9092\");\n    properties.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, longSerdes);\n    properties.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, ArrayListSerde.class);\n    properties.put(StreamsConfig.COMMIT_INTERVAL_MS_CONFIG, 10 * 1000);\n    properties.put(StreamsConfig.CACHE_MAX_BYTES_BUFFERING_CONFIG, 0);\n\n    return properties;\n  }\n}\n</code></pre>\n\n<p>I have implemented my Serde as follows:</p>\n\n<h3>ArrayListSerde</h3>\n\n<pre><code>public class ArrayListSerde&lt;T&gt; implements Serde&lt;ArrayList&lt;T&gt;&gt; {\n\n  private final Serde&lt;ArrayList&lt;T&gt;&gt; inner;\n\n  public ArrayListSerde(Serde&lt;T&gt; serde) {\n    inner =\n        Serdes.serdeFrom(\n            new ArrayListSerializer&lt;&gt;(serde.serializer()),\n            new ArrayListDeserializer&lt;&gt;(serde.deserializer()));\n  }\n\n  @Override\n  public Serializer&lt;ArrayList&lt;T&gt;&gt; serializer() {\n    return inner.serializer();\n  }\n\n  @Override\n  public Deserializer&lt;ArrayList&lt;T&gt;&gt; deserializer() {\n    return inner.deserializer();\n  }\n\n  @Override\n  public void configure(Map&lt;String, ?&gt; configs, boolean isKey) {\n    inner.serializer().configure(configs, isKey);\n    inner.deserializer().configure(configs, isKey);\n  }\n\n  @Override\n  public void close() {\n    inner.serializer().close();\n    inner.deserializer().close();\n  }\n}\n</code></pre>\n\n<h3>ArrayListSerializer</h3>\n\n<pre><code>public class ArrayListSerializer&lt;T&gt; implements Serializer&lt;ArrayList&lt;T&gt;&gt; {\n\n  private Serializer&lt;T&gt; inner;\n\n  public ArrayListSerializer(Serializer&lt;T&gt; inner) {\n    this.inner = inner;\n  }\n\n  // Default constructor needed by Kafka\n  public ArrayListSerializer() {}\n\n  @Override\n  public void configure(Map&lt;String, ?&gt; configs, boolean isKey) {\n    // do nothing\n  }\n\n  @Override\n  public byte[] serialize(String topic, ArrayList&lt;T&gt; queue) {\n    final int size = queue.size();\n    final ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    final DataOutputStream dos = new DataOutputStream(baos);\n    final Iterator&lt;T&gt; iterator = queue.iterator();\n    try {\n      dos.writeInt(size);\n      while (iterator.hasNext()) {\n        final byte[] bytes = inner.serialize(topic, iterator.next());\n        dos.writeInt(bytes.length);\n        dos.write(bytes);\n      }\n    } catch (IOException e) {\n      throw new RuntimeException(\"Unable to serialize ArrayList\", e);\n    }\n    return baos.toByteArray();\n  }\n\n  @Override\n  public void close() {\n    inner.close();\n  }\n}\n</code></pre>\n\n<h3>ArrayListDeserializer</h3>\n\n<pre><code>public class ArrayListDeserializer&lt;T&gt; implements Deserializer&lt;ArrayList&lt;T&gt;&gt; {\n  private final Deserializer&lt;T&gt; valueDeserializer;\n\n  public ArrayListDeserializer(final Deserializer&lt;T&gt; valueDeserializer) {\n    this.valueDeserializer = valueDeserializer;\n  }\n\n  @Override\n  public void configure(Map&lt;String, ?&gt; configs, boolean isKey) {\n    // do nothing\n  }\n\n  @Override\n  public ArrayList&lt;T&gt; deserialize(String topic, byte[] bytes) {\n    if (bytes == null || bytes.length == 0) {\n      return null;\n    }\n\n    final ArrayList&lt;T&gt; arrayList = new ArrayList&lt;&gt;();\n    final DataInputStream dataInputStream = new DataInputStream(new ByteArrayInputStream(bytes));\n\n    try {\n      final int records = dataInputStream.readInt();\n      for (int i = 0; i &lt; records; i++) {\n        final byte[] valueBytes = new byte[dataInputStream.readInt()];\n        dataInputStream.read(valueBytes);\n        arrayList.add(valueDeserializer.deserialize(topic, valueBytes));\n      }\n    } catch (IOException e) {\n      throw new RuntimeException(\"Unable to deserialize ArrayList\", e);\n    }\n\n    return arrayList;\n  }\n\n  @Override\n  public void close() {\n    // do nothing\n  }\n}\n</code></pre>\n\n<p>However I end up getting this Exception: </p>\n\n<pre><code>Exception in thread \"permission-agg4-client-StreamThread-1\" org.apache.kafka.streams.errors.StreamsException: stream-thread [aggregation-app-client-StreamThread-1] Failed to rebalance.\n    at org.apache.kafka.streams.processor.internals.StreamThread.pollRequests(StreamThread.java:543)\n    at org.apache.kafka.streams.processor.internals.StreamThread.runOnce(StreamThread.java:490)\n    at org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:480)\n    at org.apache.kafka.streams.processor.internals.StreamThread.run(StreamThread.java:457)\nCaused by: org.apache.kafka.streams.errors.StreamsException: Failed to configure value serde class utils.ArrayListSerde\n    at org.apache.kafka.streams.StreamsConfig.defaultValueSerde(StreamsConfig.java:770)\n    at org.apache.kafka.streams.processor.internals.AbstractProcessorContext.&lt;init&gt;(AbstractProcessorContext.java:59)\n    at org.apache.kafka.streams.processor.internals.ProcessorContextImpl.&lt;init&gt;(ProcessorContextImpl.java:40)\n    at org.apache.kafka.streams.processor.internals.StreamTask.&lt;init&gt;(StreamTask.java:138)\n    at org.apache.kafka.streams.processor.internals.StreamThread.createStreamTask(StreamThread.java:1078)\n    at org.apache.kafka.streams.processor.internals.StreamThread$TaskCreator.createTask(StreamThread.java:255)\n    at org.apache.kafka.streams.processor.internals.StreamThread$AbstractTaskCreator.createTasks(StreamThread.java:245)\n    at org.apache.kafka.streams.processor.internals.StreamThread.addStreamTasks(StreamThread.java:1147)\n    at org.apache.kafka.streams.processor.internals.StreamThread.access$800(StreamThread.java:68)\n    at org.apache.kafka.streams.processor.internals.StreamThread$RebalanceListener.onPartitionsAssigned(StreamThread.java:184)\n    at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.onJoinComplete(ConsumerCoordinator.java:265)\n    at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.joinGroupIfNeeded(AbstractCoordinator.java:367)\n    at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureActiveGroup(AbstractCoordinator.java:316)\n    at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:297)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.pollOnce(KafkaConsumer.java:1078)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1043)\n    at org.apache.kafka.streams.processor.internals.StreamThread.pollRequests(StreamThread.java:536)\n    ... 3 more\nCaused by: org.apache.kafka.common.KafkaException: Could not instantiate class utils.ArrayListSerde Does it have a public no-argument constructor?\n    at org.apache.kafka.common.utils.Utils.newInstance(Utils.java:286)\n    at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:246)\n    at org.apache.kafka.streams.StreamsConfig.defaultValueSerde(StreamsConfig.java:764)\n    ... 19 more\nCaused by: java.lang.InstantiationException: utils.ArrayListSerde\n    at java.lang.Class.newInstance(Class.java:427)\n    at org.apache.kafka.common.utils.Utils.newInstance(Utils.java:282)\n    ... 21 more\nCaused by: java.lang.NoSuchMethodException: utils.ArrayListSerde.&lt;init&gt;()\n    at java.lang.Class.getConstructor0(Class.java:3082)\n    at java.lang.Class.newInstance(Class.java:412)\n    ... 22 more\n</code></pre>\n\n<p>I was trying to implement Serde based on <code>PriorityQueue</code> example found in Confluent's GitHub page: <a href=\"https://github.com/confluentinc/kafka-streams-examples/tree/3.3.0-post/src/main/java/io/confluent/examples/streams/utils\" rel=\"nofollow noreferrer\">https://github.com/confluentinc/kafka-streams-examples/tree/3.3.0-post/src/main/java/io/confluent/examples/streams/utils</a></p>\n"},{"tags":["java","spring","ssl","java-8","handshake"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1696240437,"post_id":77214391,"comment_id":136123341,"body_markdown":"Make sure any manual additions to your certs made in the older runtime are ported to the new runtime","body":"Make sure any manual additions to your certs made in the older runtime are ported to the new runtime"}],"owner":{"account_id":20232932,"reputation":1,"user_id":14838993,"display_name":"Regev avital"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696280720,"creation_date":1696238022,"question_id":77214391,"body_markdown":"Getting this error after upgrading the JDK from `JDK1.8_131` to `JDK1.8_291` this error pop up when trying to log in.\r\n\r\n[Error when trying to log in](https://i.stack.imgur.com/iokc1.png)\r\n\r\nOn the logs I get this Error:\r\n```\r\n&lt;Oct 1, 2023 11:35:29,499 AM IDT&gt; &lt;Debug&gt; &lt;SecuritySSL&gt; &lt;BEA-000000&gt; &lt;[Thread[ExecuteThread: &#39;2&#39; for queue: &#39;weblogic.socket.Muxer&#39;,5,Thread Group for Queue: &#39;weblogic.socket.Muxer&#39;]]weblogic.security.SSL.jsseadapter: SSLENGINE: Exception occurred during SSLEngine.wrap(ByteBuffer,ByteBuffer).\r\njava.lang.NullPointerException\r\n\tat org.bouncycastle.crypto.signers.PSSSigner.generateSignature(Unknown Source)\r\n\tat org.bouncycastle.jcajce.provider.asymmetric.rsa.PSSSignatureSpi.engineSign(Unknown Source)\r\n\tat java.security.Signature$Delegate.engineSign(Signature.java:1382)\r\n\tat java.security.Signature.sign(Signature.java:698)\r\n\tat sun.security.ssl.CertificateVerify$T13CertificateVerifyMessage.&lt;init&gt;(CertificateVerify.java:931)\r\n\tat sun.security.ssl.CertificateVerify$T13CertificateVerifyProducer.onProduceCertificateVerify(CertificateVerify.java:1105)\r\n\tat sun.security.ssl.CertificateVerify$T13CertificateVerifyProducer.produce(CertificateVerify.java:1098)\r\n\tat sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:420)\r\n\tat sun.security.ssl.ClientHello$T13ClientHelloConsumer.goServerHello(ClientHello.java:1096)\r\n\tat sun.security.ssl.ClientHello$T13ClientHelloConsumer.consume(ClientHello.java:1032)\r\n\tat sun.security.ssl.ClientHello$ClientHelloConsumer.onClientHello(ClientHello.java:716)\r\n\tat sun.security.ssl.ClientHello$ClientHelloConsumer.consume(ClientHello.java:683)\r\n\tat sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:376)\r\n\tat sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:479)\r\n\tat sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:990)\r\n\tat sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:977)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat sun.security.ssl.SSLEngineImpl$DelegatedTask.run(SSLEngineImpl.java:924)\r\n\tat weblogic.socket.JSSEFilterImpl.doTasks(JSSEFilterImpl.java:223)\r\n\tat weblogic.socket.JSSEFilterImpl.doHandshake(JSSEFilterImpl.java:123)\r\n\tat weblogic.socket.JSSEFilterImpl.isMessageComplete(JSSEFilterImpl.java:354)\r\n\tat weblogic.socket.SocketMuxer.readReadySocketOnce(SocketMuxer.java:989)\r\n\tat weblogic.socket.SocketMuxer.readReadySocket(SocketMuxer.java:930)\r\n\tat weblogic.socket.NIOSocketMuxer.process(NIOSocketMuxer.java:599)\r\n\tat weblogic.socket.NIOSocketMuxer.processSockets(NIOSocketMuxer.java:563)\r\n\tat weblogic.socket.SocketReaderRequest.run(SocketReaderRequest.java:30)\r\n\tat weblogic.socket.SocketReaderRequest.execute(SocketReaderRequest.java:43)\r\n\tat weblogic.kernel.ExecuteThread.execute(ExecuteThread.java:147)\r\n\tat weblogic.kernel.ExecuteThread.run(ExecuteThread.java:119)\r\n```\r\n\r\nI tried to replace the JDK with a higher version to work with TLS1.3 and then got this error.","title":"remote host terminated the handshake","body":"<p>Getting this error after upgrading the JDK from <code>JDK1.8_131</code> to <code>JDK1.8_291</code> this error pop up when trying to log in.</p>\n<p><a href=\"https://i.stack.imgur.com/iokc1.png\" rel=\"nofollow noreferrer\">Error when trying to log in</a></p>\n<p>On the logs I get this Error:</p>\n<pre><code>&lt;Oct 1, 2023 11:35:29,499 AM IDT&gt; &lt;Debug&gt; &lt;SecuritySSL&gt; &lt;BEA-000000&gt; &lt;[Thread[ExecuteThread: '2' for queue: 'weblogic.socket.Muxer',5,Thread Group for Queue: 'weblogic.socket.Muxer']]weblogic.security.SSL.jsseadapter: SSLENGINE: Exception occurred during SSLEngine.wrap(ByteBuffer,ByteBuffer).\njava.lang.NullPointerException\n    at org.bouncycastle.crypto.signers.PSSSigner.generateSignature(Unknown Source)\n    at org.bouncycastle.jcajce.provider.asymmetric.rsa.PSSSignatureSpi.engineSign(Unknown Source)\n    at java.security.Signature$Delegate.engineSign(Signature.java:1382)\n    at java.security.Signature.sign(Signature.java:698)\n    at sun.security.ssl.CertificateVerify$T13CertificateVerifyMessage.&lt;init&gt;(CertificateVerify.java:931)\n    at sun.security.ssl.CertificateVerify$T13CertificateVerifyProducer.onProduceCertificateVerify(CertificateVerify.java:1105)\n    at sun.security.ssl.CertificateVerify$T13CertificateVerifyProducer.produce(CertificateVerify.java:1098)\n    at sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:420)\n    at sun.security.ssl.ClientHello$T13ClientHelloConsumer.goServerHello(ClientHello.java:1096)\n    at sun.security.ssl.ClientHello$T13ClientHelloConsumer.consume(ClientHello.java:1032)\n    at sun.security.ssl.ClientHello$ClientHelloConsumer.onClientHello(ClientHello.java:716)\n    at sun.security.ssl.ClientHello$ClientHelloConsumer.consume(ClientHello.java:683)\n    at sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:376)\n    at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:479)\n    at sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:990)\n    at sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:977)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.security.ssl.SSLEngineImpl$DelegatedTask.run(SSLEngineImpl.java:924)\n    at weblogic.socket.JSSEFilterImpl.doTasks(JSSEFilterImpl.java:223)\n    at weblogic.socket.JSSEFilterImpl.doHandshake(JSSEFilterImpl.java:123)\n    at weblogic.socket.JSSEFilterImpl.isMessageComplete(JSSEFilterImpl.java:354)\n    at weblogic.socket.SocketMuxer.readReadySocketOnce(SocketMuxer.java:989)\n    at weblogic.socket.SocketMuxer.readReadySocket(SocketMuxer.java:930)\n    at weblogic.socket.NIOSocketMuxer.process(NIOSocketMuxer.java:599)\n    at weblogic.socket.NIOSocketMuxer.processSockets(NIOSocketMuxer.java:563)\n    at weblogic.socket.SocketReaderRequest.run(SocketReaderRequest.java:30)\n    at weblogic.socket.SocketReaderRequest.execute(SocketReaderRequest.java:43)\n    at weblogic.kernel.ExecuteThread.execute(ExecuteThread.java:147)\n    at weblogic.kernel.ExecuteThread.run(ExecuteThread.java:119)\n</code></pre>\n<p>I tried to replace the JDK with a higher version to work with TLS1.3 and then got this error.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1696280853,"post_id":77218477,"comment_id":136130627,"body_markdown":"declaring a dependency on Project A does not do anything involving compilation.  all that means is that Project B will use the Project A jar when compiling Project B.","body":"declaring a dependency on Project A does not do anything involving compilation.  all that means is that Project B will use the Project A jar when compiling Project B."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1696281075,"post_id":77218477,"comment_id":136130671,"body_markdown":"adding to @jtahlborn answer, the classes in the jar dependency are expected to be compiled. If you want to compile something it should be in your project, not in dependencies.","body":"adding to @jtahlborn answer, the classes in the jar dependency are expected to be compiled. If you want to compile something it should be in your project, not in dependencies."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":2,"creation_date":1696284705,"post_id":77218477,"comment_id":136131108,"body_markdown":"If what you really mean is that you want the application you deliver to only include the needed classes from the dependency, look at [ProGuard](https://www.guardsquare.com/proguard)","body":"If what you really mean is that you want the application you deliver to only include the needed classes from the dependency, look at <a href=\"https://www.guardsquare.com/proguard\" rel=\"nofollow noreferrer\">ProGuard</a>"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1696315373,"post_id":77218477,"comment_id":136133610,"body_markdown":"The Maven shade plugin also allows you to minimize the executable JAR.","body":"The Maven shade plugin also allows you to minimize the executable JAR."},{"owner":{"account_id":29583868,"reputation":19,"user_id":22673015,"display_name":"Alexander"},"score":0,"creation_date":1696336944,"post_id":77218477,"comment_id":136137371,"body_markdown":"@TimMoore can you explain more on that? I tried using ProGuard, but I did not have any luck.","body":"@TimMoore can you explain more on that? I tried using ProGuard, but I did not have any luck."},{"owner":{"account_id":29583868,"reputation":19,"user_id":22673015,"display_name":"Alexander"},"score":0,"creation_date":1696337004,"post_id":77218477,"comment_id":136137387,"body_markdown":"@JFabianMeier I did not know you could do that with shade, how would I do that?","body":"@JFabianMeier I did not know you could do that with shade, how would I do that?"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1696338390,"post_id":77218477,"comment_id":136137676,"body_markdown":"@Alexander https://stackoverflow.com/q/8817257/927493","body":"@Alexander <a href=\"https://stackoverflow.com/q/8817257/927493\">stackoverflow.com/q/8817257/927493</a>"},{"owner":{"account_id":29583868,"reputation":19,"user_id":22673015,"display_name":"Alexander"},"score":0,"creation_date":1696356018,"post_id":77218477,"comment_id":136141363,"body_markdown":"Awesome, thank you :)","body":"Awesome, thank you :)"}],"owner":{"account_id":29583868,"reputation":19,"user_id":22673015,"display_name":"Alexander"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1696280678,"creation_date":1696280678,"question_id":77218477,"body_markdown":"**Hey there!**\r\nI know this question has probably been asked countless times, but I have been looking online for quite a while and I could not find a real solution.\r\n&lt;br&gt;\r\nI am working on a **project B**, that uses a **project A** as **dependency** like this:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ProjectA&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t&lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nNow, **project A** has quite a lot of classes and I would like to **compile only the ones project B actually uses**, not the whole bunch.\r\n&lt;br&gt;\r\nIs there a way of doing that? If so, can you point me in the right direction? Thanks in advance.\r\n&lt;br&gt;\r\nI should also mention that I **do not** want to **manually insert** every class used: I am searching for a more **automatic solution**.","title":"Maven - How to compile only used classes?","body":"<p><strong>Hey there!</strong>\nI know this question has probably been asked countless times, but I have been looking online for quite a while and I could not find a real solution.\n<br>\nI am working on a <strong>project B</strong>, that uses a <strong>project A</strong> as <strong>dependency</strong> like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;ProjectA&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Now, <strong>project A</strong> has quite a lot of classes and I would like to <strong>compile only the ones project B actually uses</strong>, not the whole bunch.\n<br>\nIs there a way of doing that? If so, can you point me in the right direction? Thanks in advance.\n<br>\nI should also mention that I <strong>do not</strong> want to <strong>manually insert</strong> every class used: I am searching for a more <strong>automatic solution</strong>.</p>\n"},{"tags":["java","json","serialization","gson"],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696279930,"creation_date":1696279930,"answer_id":77218420,"question_id":77215611,"body_markdown":"&gt; But if i specify the execution strategy in class B it does not apply when calling `A.toString()`. But if I move the execution strategy to the `toString` method of class A it does work and field d is omitted.\r\n&gt; \r\n&gt; Why is this so?\r\n\r\nBecause when you call `A.toString()` which calls Gson, it uses reflection to serialize the fields of `A` and then `B`. Due to this `B.toString()` is never called and therefore your exclusion strategy specified there has no effect.\r\n\r\n&gt; I also tried @Exclude on the other fields of class B\r\n\r\nGson has no `@Exclude` annotation, it only has [`@Expose`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/annotations/Expose.html). That `@Exclude` annotation might come from a different library, but Gson will just ignore it.\r\n\r\nThe easiest solution would be to use the `transient` field modifier. If you don&#39;t want to do that, then you could instead create a single Gson instance configured with your custom exclusion strategy which is then used by all of the `toString()` methods. You could also make the exclusion strategy more general by creating your own `@Exclude` annotation or similar and having the exclusion strategy check for that.\r\n\r\nHowever, since your concern seems to be the length of the byte array `byte[] d`, you could alternatively use Gson&#39;s [`@JsonAdapter`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/annotations/JsonAdapter.html) annotation on that field to specify a custom adapter which creates a more concise JSON representation of the array.","title":"Execution strategy in GsonBuilder is not applied","body":"<blockquote>\n<p>But if i specify the execution strategy in class B it does not apply when calling <code>A.toString()</code>. But if I move the execution strategy to the <code>toString</code> method of class A it does work and field d is omitted.</p>\n<p>Why is this so?</p>\n</blockquote>\n<p>Because when you call <code>A.toString()</code> which calls Gson, it uses reflection to serialize the fields of <code>A</code> and then <code>B</code>. Due to this <code>B.toString()</code> is never called and therefore your exclusion strategy specified there has no effect.</p>\n<blockquote>\n<p>I also tried @Exclude on the other fields of class B</p>\n</blockquote>\n<p>Gson has no <code>@Exclude</code> annotation, it only has <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/annotations/Expose.html\" rel=\"nofollow noreferrer\"><code>@Expose</code></a>. That <code>@Exclude</code> annotation might come from a different library, but Gson will just ignore it.</p>\n<p>The easiest solution would be to use the <code>transient</code> field modifier. If you don't want to do that, then you could instead create a single Gson instance configured with your custom exclusion strategy which is then used by all of the <code>toString()</code> methods. You could also make the exclusion strategy more general by creating your own <code>@Exclude</code> annotation or similar and having the exclusion strategy check for that.</p>\n<p>However, since your concern seems to be the length of the byte array <code>byte[] d</code>, you could alternatively use Gson's <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/annotations/JsonAdapter.html\" rel=\"nofollow noreferrer\"><code>@JsonAdapter</code></a> annotation on that field to specify a custom adapter which creates a more concise JSON representation of the array.</p>\n"}],"owner":{"account_id":29565636,"reputation":57,"user_id":22659125,"display_name":"iuhztr tzhjzuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77218420,"answer_count":1,"score":0,"last_activity_date":1696279930,"creation_date":1696250177,"question_id":77215611,"body_markdown":"I have the following example:\r\n\r\n```\r\npublic class A implements Serializable {\r\n    int a;\r\n    B b;\r\n    ...\r\n\r\n    @Override\r\n    public String toString() {\r\n        Gson gson = new Gson();\r\n        return gson.toJson(this);\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\npublic class B implements Serializable {\r\n    int c;\r\n    byte[] d;\r\n    ...\r\n\r\n    @Override\r\n    public String toString() {\r\n        Gson gson = new GsonBuilder().setExclusionStrategies(new BExclusionStrategy()).create();\r\n        return gson.toJson(this);\r\n    }\r\n\r\n    public class BExclusionStrategy implements ExclusionStrategy {\r\n\t@Override\r\n\tpublic boolean shouldSkipClass(Class&lt;?&gt; arg0) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean shouldSkipField(FieldAttributes attr) {\r\n\t\treturn attr.getName().equals(&quot;d&quot;) &amp;&amp; attr.getDeclaringClass() == B.class;\r\n\t}\r\n    }\r\n}\r\n```\r\n\r\n\r\nI want to exclude filed d when calling the `toString` method of class A, because the byte array is extremely long. But if i specify the execution strategy in class B it does not apply when calling `A.toString()`. But if I move the execution strategy to the `toString` method of class A it does work and field d is omitted.\r\n\r\nWhy is this so? Also class B is used in multiple different classes, and I want to omit printing d for all of them.\r\n\r\n\r\nWhy is this so? Also class B is used in multiple different classes, and I want to omit printing d for all of them.\r\n\r\nNote: I don&#39;t want to use `transient byte[] d`, this would solve the printing issue though. I also tried @Exclude on the other fileds of class B and `excludeFieldsWithoutExposeAnnotation()` but it also did not work.","title":"Execution strategy in GsonBuilder is not applied","body":"<p>I have the following example:</p>\n<pre><code>public class A implements Serializable {\n    int a;\n    B b;\n    ...\n\n    @Override\n    public String toString() {\n        Gson gson = new Gson();\n        return gson.toJson(this);\n    }\n\n}\n</code></pre>\n<pre><code>public class B implements Serializable {\n    int c;\n    byte[] d;\n    ...\n\n    @Override\n    public String toString() {\n        Gson gson = new GsonBuilder().setExclusionStrategies(new BExclusionStrategy()).create();\n        return gson.toJson(this);\n    }\n\n    public class BExclusionStrategy implements ExclusionStrategy {\n    @Override\n    public boolean shouldSkipClass(Class&lt;?&gt; arg0) {\n        return false;\n    }\n\n    @Override\n    public boolean shouldSkipField(FieldAttributes attr) {\n        return attr.getName().equals(&quot;d&quot;) &amp;&amp; attr.getDeclaringClass() == B.class;\n    }\n    }\n}\n</code></pre>\n<p>I want to exclude filed d when calling the <code>toString</code> method of class A, because the byte array is extremely long. But if i specify the execution strategy in class B it does not apply when calling <code>A.toString()</code>. But if I move the execution strategy to the <code>toString</code> method of class A it does work and field d is omitted.</p>\n<p>Why is this so? Also class B is used in multiple different classes, and I want to omit printing d for all of them.</p>\n<p>Why is this so? Also class B is used in multiple different classes, and I want to omit printing d for all of them.</p>\n<p>Note: I don't want to use <code>transient byte[] d</code>, this would solve the printing issue though. I also tried @Exclude on the other fileds of class B and <code>excludeFieldsWithoutExposeAnnotation()</code> but it also did not work.</p>\n"},{"tags":["java","text-to-speech","freetts"],"comments":[{"owner":{"account_id":8664592,"reputation":9965,"user_id":6485651,"accept_rate":65,"display_name":"Zephyr"},"score":0,"creation_date":1552361901,"post_id":55113140,"comment_id":96969693,"body_markdown":"So you want a female voice from a library that only provides a male voice? Do you also demand that your car be able to fly?","body":"So you want a female voice from a library that only provides a male voice? Do you also demand that your car be able to fly?"},{"owner":{"account_id":13013050,"reputation":37,"user_id":9405338,"display_name":"Shifali"},"score":0,"creation_date":1552370694,"post_id":55113140,"comment_id":96971845,"body_markdown":"Can you suggest any other way or any other library which can provide both voices","body":"Can you suggest any other way or any other library which can provide both voices"},{"owner":{"account_id":16120,"reputation":1,"user_id":34806,"accept_rate":92,"display_name":"Dexygen"},"score":0,"creation_date":1696279595,"post_id":55113140,"comment_id":136130443,"body_markdown":"Maybe run the output through a voice feminizer.  But when you ask for another library, even in comments, it&#39;s kind of a close reason","body":"Maybe run the output through a voice feminizer.  But when you ask for another library, even in comments, it&#39;s kind of a close reason"}],"answers":[{"tags":[],"owner":{"account_id":2985164,"reputation":5188,"user_id":2534191,"accept_rate":25,"display_name":"Yuriy N."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696279312,"creation_date":1696279312,"answer_id":77218385,"question_id":55113140,"body_markdown":"Use cloud providers: Amazon, Asure, Google, IBM. They all have text to speech services with tutorials and examples available.\r\n\r\nBelow example of using Asure: \r\n\r\n    import com.javaghost.scrapperutil.ReadWriteUtil;\r\n    import com.microsoft.cognitiveservices.speech.CancellationReason;\r\n    import com.microsoft.cognitiveservices.speech.ResultReason;\r\n    import com.microsoft.cognitiveservices.speech.SpeechConfig;\r\n    import com.microsoft.cognitiveservices.speech.SpeechSynthesisCancellationDetails;\r\n    import com.microsoft.cognitiveservices.speech.SpeechSynthesisOutputFormat;\r\n    import com.microsoft.cognitiveservices.speech.SpeechSynthesisResult;\r\n    import com.microsoft.cognitiveservices.speech.SpeechSynthesizer;\r\n    import com.microsoft.cognitiveservices.speech.audio.AudioConfig;\r\n    import java.io.File;\r\n    \r\n    /**\r\n     *\r\n     */\r\n    public class AsureTts {\r\n    \r\n        private static String speechKey = &quot;&quot;;\r\n        private static String speechRegion = &quot;&quot;;\r\n    \r\n    \r\n        public static void generateAudio(String ssml,\r\n                boolean isMp3, String pathToOutputFile) throws Exception {\r\n    \r\n            SpeechConfig speechConfig = SpeechConfig.fromSubscription(speechKey, speechRegion);\r\n            if (isMp3) {\r\n                speechConfig.setSpeechSynthesisOutputFormat(SpeechSynthesisOutputFormat.Audio48Khz192KBitRateMonoMp3);\r\n            }\r\n    \r\n            AudioConfig fileOutput = AudioConfig.fromWavFileOutput(pathToOutputFile);\r\n    \r\n            SpeechSynthesizer speechSynthesizer = new SpeechSynthesizer(speechConfig, fileOutput);\r\n    \r\n            SpeechSynthesisResult speechSynthesisResult = speechSynthesizer.SpeakSsmlAsync(ssml).get();\r\n    \r\n            if (speechSynthesisResult.getReason() == ResultReason.SynthesizingAudioCompleted) {\r\n                System.out.println(&quot;Speech synthesis completed!&quot;);\r\n            } else if (speechSynthesisResult.getReason() == ResultReason.Canceled) {\r\n                SpeechSynthesisCancellationDetails cancellation = SpeechSynthesisCancellationDetails.fromResult(speechSynthesisResult);\r\n                System.out.println(&quot;CANCELED: Reason=&quot; + cancellation.getReason());\r\n    \r\n                if (cancellation.getReason() == CancellationReason.Error) {\r\n                    System.out.println(&quot;CANCELED: ErrorCode=&quot; + cancellation.getErrorCode());\r\n                    System.out.println(&quot;CANCELED: ErrorDetails=&quot; + cancellation.getErrorDetails());\r\n                    System.out.println(&quot;CANCELED: Did you set the speech resource key and region values?&quot;);\r\n                }\r\n            }\r\n    \r\n        }\r\n    }","title":"Java code for Text to speech in female voice","body":"<p>Use cloud providers: Amazon, Asure, Google, IBM. They all have text to speech services with tutorials and examples available.</p>\n<p>Below example of using Asure:</p>\n<pre><code>import com.javaghost.scrapperutil.ReadWriteUtil;\nimport com.microsoft.cognitiveservices.speech.CancellationReason;\nimport com.microsoft.cognitiveservices.speech.ResultReason;\nimport com.microsoft.cognitiveservices.speech.SpeechConfig;\nimport com.microsoft.cognitiveservices.speech.SpeechSynthesisCancellationDetails;\nimport com.microsoft.cognitiveservices.speech.SpeechSynthesisOutputFormat;\nimport com.microsoft.cognitiveservices.speech.SpeechSynthesisResult;\nimport com.microsoft.cognitiveservices.speech.SpeechSynthesizer;\nimport com.microsoft.cognitiveservices.speech.audio.AudioConfig;\nimport java.io.File;\n\n/**\n *\n */\npublic class AsureTts {\n\n    private static String speechKey = &quot;&quot;;\n    private static String speechRegion = &quot;&quot;;\n\n\n    public static void generateAudio(String ssml,\n            boolean isMp3, String pathToOutputFile) throws Exception {\n\n        SpeechConfig speechConfig = SpeechConfig.fromSubscription(speechKey, speechRegion);\n        if (isMp3) {\n            speechConfig.setSpeechSynthesisOutputFormat(SpeechSynthesisOutputFormat.Audio48Khz192KBitRateMonoMp3);\n        }\n\n        AudioConfig fileOutput = AudioConfig.fromWavFileOutput(pathToOutputFile);\n\n        SpeechSynthesizer speechSynthesizer = new SpeechSynthesizer(speechConfig, fileOutput);\n\n        SpeechSynthesisResult speechSynthesisResult = speechSynthesizer.SpeakSsmlAsync(ssml).get();\n\n        if (speechSynthesisResult.getReason() == ResultReason.SynthesizingAudioCompleted) {\n            System.out.println(&quot;Speech synthesis completed!&quot;);\n        } else if (speechSynthesisResult.getReason() == ResultReason.Canceled) {\n            SpeechSynthesisCancellationDetails cancellation = SpeechSynthesisCancellationDetails.fromResult(speechSynthesisResult);\n            System.out.println(&quot;CANCELED: Reason=&quot; + cancellation.getReason());\n\n            if (cancellation.getReason() == CancellationReason.Error) {\n                System.out.println(&quot;CANCELED: ErrorCode=&quot; + cancellation.getErrorCode());\n                System.out.println(&quot;CANCELED: ErrorDetails=&quot; + cancellation.getErrorDetails());\n                System.out.println(&quot;CANCELED: Did you set the speech resource key and region values?&quot;);\n            }\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13013050,"reputation":37,"user_id":9405338,"display_name":"Shifali"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":787,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1696279312,"creation_date":1552357064,"question_id":55113140,"body_markdown":"I want java code for text to speech in both male and female voice and after that I want to save that audio to wav file. I tried using this code but its only giving male voice.\r\nPlease suggest me a way to get female voice without downloading a jar file (just by adding maven dependency or so).\r\n\r\nCurrently using this code - \r\n\r\n\r\n         try\r\n\t\t\r\n\t\t {\r\n\t\t // set property as Kevin Dictionary\r\n\t\t System.setProperty(&quot;freetts.voices&quot;,\r\n\t\t &quot;com.sun.speech.freetts.en.us.cmu_us_kal.KevinVoiceDirectory&quot;);\r\n\t\t\r\n\t\t // Register Engine\r\n\t\t Central.registerEngineCentral(&quot;com.sun.speech.freetts.jsapi.FreeTTSEngineCentral&quot;);\r\n\t\t\r\n\t\t // Create a Synthesizer\r\n\t\t Synthesizer synthesizer = Central.createSynthesizer(new\r\n\t\t SynthesizerModeDesc(Locale.US));\r\n\t\t\r\n\t\t // Allocate synthesizer\r\n\t\t synthesizer.allocate();\r\n\t\t\r\n\t\t // Resume Synthesizer\r\n\t\t synthesizer.resume();\r\n\t\t\r\n\t\t // speaks the given text until queue is empty.\r\n\t\t synthesizer.speakPlainText(&quot;Hi, this is me. Fine.&quot;, null);\r\n\t\t synthesizer.waitEngineState(Synthesizer.QUEUE_EMPTY);\r\n\t\t\r\n\t\t // Deallocate the Synthesizer.\r\n\t\t synthesizer.deallocate();\r\n\t\t }\r\n\t\t\r\n\t\t catch (Exception e) {\r\n\t\t e.printStackTrace();\r\n\t\t }\r\n\r\nand this code - \r\n\r\n      try {\r\n\t\t\tSystem.setProperty(&quot;FreeTTSSynthEngineCentral&quot;, &quot;com.sun.speech.freetts.jsapi.FreeTTSEngineCentral&quot;);\r\n\t\t\tSystem.setProperty(&quot;freetts.voices&quot;, &quot;com.sun.speech.freetts.en.us.cmu_us_kal.KevinVoiceDirectory&quot;);\r\n\t\t\tCentral.registerEngineCentral(&quot;com.sun.speech.freetts.jsapi.FreeTTSEngineCentral&quot;);\r\n\r\n\t\t\tSynthesizerModeDesc desc = new SynthesizerModeDesc(null, &quot;general&quot;, Locale.US, null, null);\r\n\r\n\t\t\tSynthesizer synth = Central.createSynthesizer(desc);\r\n\t\t\tsynth.allocate();\r\n\t\t\tdesc = (SynthesizerModeDesc) synth.getEngineModeDesc();\r\n\t\t\tVoice voice = new Voice();\r\n\t\t\t// &quot;business&quot;, &quot;casual&quot;, &quot;robotic&quot;, &quot;breathy&quot;\r\n\t\t\tvoice.setAge(Voice.AGE_TEENAGER);\r\n\t\t\tvoice.setGender(Voice.GENDER_FEMALE);\r\n\t\t\tvoice.setStyle(&quot;breathy&quot;);\r\n\t\t\tsynth.getSynthesizerProperties().setVoice(voice);\r\n\t\t\tsynth.resume();\r\n\t\t\tsynth.speakPlainText(&quot;Hi, this is me. Fine.&quot;, null);\r\n\t\t\tsynth.waitEngineState(Synthesizer.QUEUE_EMPTY);\r\n\t\t\tsynth.deallocate();\r\n\t\t} catch (Exception ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\r\n\r\nbut both are giving male voices (And there isn&#39;t any female voice available in KevinVoiceDirectory).","title":"Java code for Text to speech in female voice","body":"<p>I want java code for text to speech in both male and female voice and after that I want to save that audio to wav file. I tried using this code but its only giving male voice.\nPlease suggest me a way to get female voice without downloading a jar file (just by adding maven dependency or so).</p>\n\n<p>Currently using this code - </p>\n\n<pre><code>     try\n\n     {\n     // set property as Kevin Dictionary\n     System.setProperty(\"freetts.voices\",\n     \"com.sun.speech.freetts.en.us.cmu_us_kal.KevinVoiceDirectory\");\n\n     // Register Engine\n     Central.registerEngineCentral(\"com.sun.speech.freetts.jsapi.FreeTTSEngineCentral\");\n\n     // Create a Synthesizer\n     Synthesizer synthesizer = Central.createSynthesizer(new\n     SynthesizerModeDesc(Locale.US));\n\n     // Allocate synthesizer\n     synthesizer.allocate();\n\n     // Resume Synthesizer\n     synthesizer.resume();\n\n     // speaks the given text until queue is empty.\n     synthesizer.speakPlainText(\"Hi, this is me. Fine.\", null);\n     synthesizer.waitEngineState(Synthesizer.QUEUE_EMPTY);\n\n     // Deallocate the Synthesizer.\n     synthesizer.deallocate();\n     }\n\n     catch (Exception e) {\n     e.printStackTrace();\n     }\n</code></pre>\n\n<p>and this code - </p>\n\n<pre><code>  try {\n        System.setProperty(\"FreeTTSSynthEngineCentral\", \"com.sun.speech.freetts.jsapi.FreeTTSEngineCentral\");\n        System.setProperty(\"freetts.voices\", \"com.sun.speech.freetts.en.us.cmu_us_kal.KevinVoiceDirectory\");\n        Central.registerEngineCentral(\"com.sun.speech.freetts.jsapi.FreeTTSEngineCentral\");\n\n        SynthesizerModeDesc desc = new SynthesizerModeDesc(null, \"general\", Locale.US, null, null);\n\n        Synthesizer synth = Central.createSynthesizer(desc);\n        synth.allocate();\n        desc = (SynthesizerModeDesc) synth.getEngineModeDesc();\n        Voice voice = new Voice();\n        // \"business\", \"casual\", \"robotic\", \"breathy\"\n        voice.setAge(Voice.AGE_TEENAGER);\n        voice.setGender(Voice.GENDER_FEMALE);\n        voice.setStyle(\"breathy\");\n        synth.getSynthesizerProperties().setVoice(voice);\n        synth.resume();\n        synth.speakPlainText(\"Hi, this is me. Fine.\", null);\n        synth.waitEngineState(Synthesizer.QUEUE_EMPTY);\n        synth.deallocate();\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n</code></pre>\n\n<p>but both are giving male voices (And there isn't any female voice available in KevinVoiceDirectory).</p>\n"},{"tags":["java","amazon-web-services"],"answers":[{"comments":[{"owner":{"account_id":1032327,"reputation":34533,"user_id":1574489,"accept_rate":56,"display_name":"Matt Houser"},"score":0,"creation_date":1466794759,"post_id":38020322,"comment_id":63482537,"body_markdown":"`ec2:DescribeRegions` does not return a region&#39;s &quot;friendly name&quot;, which is what the OP is asking.","body":"<code>ec2:DescribeRegions</code> does not return a region&#39;s &quot;friendly name&quot;, which is what the OP is asking."}],"tags":[],"owner":{"account_id":5449795,"reputation":2687,"user_id":6352160,"accept_rate":75,"display_name":"Shankar"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1466794511,"creation_date":1466794511,"answer_id":38020322,"question_id":38020106,"body_markdown":"Check this sample CLI command &quot;aws ec2 describe-regions --filters &quot;Name=endpoint,Values=*us*&quot;&quot;. You need to use JQ or --query option to extract the Region name alone.\r\n\r\nMore details here - http://docs.aws.amazon.com/cli/latest/reference/ec2/describe-regions.html","title":"How should i get aws region names using regions","body":"<p>Check this sample CLI command \"aws ec2 describe-regions --filters \"Name=endpoint,Values=<em>us</em>\"\". You need to use JQ or --query option to extract the Region name alone.</p>\n\n<p>More details here - <a href=\"http://docs.aws.amazon.com/cli/latest/reference/ec2/describe-regions.html\" rel=\"nofollow\">http://docs.aws.amazon.com/cli/latest/reference/ec2/describe-regions.html</a></p>\n"},{"comments":[{"owner":{"account_id":542551,"reputation":10395,"user_id":911419,"accept_rate":79,"display_name":"Suncatcher"},"score":0,"creation_date":1502957649,"post_id":38020474,"comment_id":78417228,"body_markdown":"Still no way to get friendly names except C#?","body":"Still no way to get friendly names except C#?"},{"owner":{"account_id":1703652,"reputation":1043,"user_id":1563172,"accept_rate":50,"display_name":"STiLeTT"},"score":1,"creation_date":1535449001,"post_id":38020474,"comment_id":91059422,"body_markdown":"Please be aware that SDK&#39;s `DisplayName` is different from one used in AWS. For example, it&#39;s `US East (Virginia)` in SDK, but `US East (N. Virginia)` everywhere else.","body":"Please be aware that SDK&#39;s <code>DisplayName</code> is different from one used in AWS. For example, it&#39;s <code>US East (Virginia)</code> in SDK, but <code>US East (N. Virginia)</code> everywhere else."}],"tags":[],"owner":{"account_id":1032327,"reputation":34533,"user_id":1574489,"accept_rate":56,"display_name":"Matt Houser"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1466795194,"creation_date":1466795194,"answer_id":38020474,"question_id":38020106,"body_markdown":"There isn&#39;t an AWS API method to call to get this information.\r\n\r\nSome SDKs, such as the AWS SDK for .NET has this information baked into the SDK. For example, in C#:\r\n\r\n    var regions = Amazon.RegionEndpoint.EnumerableAllRegions;\r\n    foreach (var r in regions)\r\n    {\r\n      Console.WriteLine(&quot;{0} -&gt; {1}&quot;, r.SystemName, r.DisplayName);\r\n    }\r\n\r\nLooking through the docs for the [AWS SDK for Java][1], I am not finding an equivalent. If it were there, I would think it should be on the `com.amazonaws.regions.Region` class.\r\n\r\nYou may have to create your own mapping.\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/","title":"How should i get aws region names using regions","body":"<p>There isn't an AWS API method to call to get this information.</p>\n\n<p>Some SDKs, such as the AWS SDK for .NET has this information baked into the SDK. For example, in C#:</p>\n\n<pre><code>var regions = Amazon.RegionEndpoint.EnumerableAllRegions;\nforeach (var r in regions)\n{\n  Console.WriteLine(\"{0} -&gt; {1}\", r.SystemName, r.DisplayName);\n}\n</code></pre>\n\n<p>Looking through the docs for the <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/\" rel=\"noreferrer\">AWS SDK for Java</a>, I am not finding an equivalent. If it were there, I would think it should be on the <code>com.amazonaws.regions.Region</code> class.</p>\n\n<p>You may have to create your own mapping.</p>\n"},{"comments":[{"owner":{"account_id":390181,"reputation":2622,"user_id":750074,"accept_rate":85,"display_name":"chriscatfr"},"score":0,"creation_date":1523181933,"post_id":48396623,"comment_id":86446410,"body_markdown":"`aws lightsail get-regions` is returning an incomplete list of regions","body":"<code>aws lightsail get-regions</code> is returning an incomplete list of regions"},{"owner":{"account_id":6070986,"reputation":197,"user_id":4739826,"display_name":"dko"},"score":0,"creation_date":1637538193,"post_id":48396623,"comment_id":123846201,"body_markdown":"@chriscatfr just an fyi for future viewers, you need to hit enter for the rest of the information to display","body":"@chriscatfr just an fyi for future viewers, you need to hit enter for the rest of the information to display"},{"owner":{"account_id":390181,"reputation":2622,"user_id":750074,"accept_rate":85,"display_name":"chriscatfr"},"score":0,"creation_date":1637948142,"post_id":48396623,"comment_id":123966819,"body_markdown":"thanks @dko . if you use aws cli v2 there&#39;s still the option `--no-cli-pager` I think","body":"thanks @dko . if you use aws cli v2 there&#39;s still the option <code>--no-cli-pager</code> I think"},{"owner":{"account_id":366927,"reputation":24862,"user_id":712765,"accept_rate":42,"display_name":"Old Pro"},"score":0,"creation_date":1664158578,"post_id":48396623,"comment_id":130399807,"body_markdown":"@dko It&#39;s not about pagination `aws lightsail get-regions --no-paginate | jq &#39;.regions | length&#39;` returns `14`. There&#39;s not even an entry for `us-west-1`. This is because Lightsail is not available in all regions.","body":"@dko It&#39;s not about pagination <code>aws lightsail get-regions --no-paginate | jq &#39;.regions | length&#39;</code> returns <code>14</code>. There&#39;s not even an entry for <code>us-west-1</code>. This is because Lightsail is not available in all regions."}],"tags":[],"owner":{"account_id":12790965,"reputation":31,"user_id":9255505,"display_name":"Bent Terp"},"comment_count":4,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1516693779,"creation_date":1516693779,"answer_id":48396623,"question_id":38020106,"body_markdown":"Turns out that this is actually provided via LightSail - makes sense to include information for the less experienced in a service catering mainly to new-arrivals.\r\n\r\n    aws lightsail get-regions\r\n    {\r\n      &quot;regions&quot;: [\r\n        {\r\n            &quot;continentCode&quot;: &quot;NA&quot;,\r\n            &quot;description&quot;: &quot;This region is recommended to serve users in the eastern United States and eastern Canada&quot;,\r\n            &quot;displayName&quot;: &quot;Virginia&quot;,\r\n            &quot;name&quot;: &quot;us-east-1&quot;,\r\n            &quot;availabilityZones&quot;: []\r\n        },\r\n    ....\r\n\r\nOP probably isn&#39;t looking for the answer anymore, but in case somebody&#39;s googling.\r\n","title":"How should i get aws region names using regions","body":"<p>Turns out that this is actually provided via LightSail - makes sense to include information for the less experienced in a service catering mainly to new-arrivals.</p>\n\n<pre><code>aws lightsail get-regions\n{\n  \"regions\": [\n    {\n        \"continentCode\": \"NA\",\n        \"description\": \"This region is recommended to serve users in the eastern United States and eastern Canada\",\n        \"displayName\": \"Virginia\",\n        \"name\": \"us-east-1\",\n        \"availabilityZones\": []\n    },\n....\n</code></pre>\n\n<p>OP probably isn't looking for the answer anymore, but in case somebody's googling.</p>\n"},{"tags":[],"owner":{"account_id":4516016,"reputation":781,"user_id":3670815,"display_name":"GregG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564637075,"creation_date":1564637075,"answer_id":57302297,"question_id":38020106,"body_markdown":"The java AWS client has a Regions class that will give this information, for example:\r\n\r\n    for(Regions region : Regions.getEnumConstants()) {\r\n       System.out.println( String.sprintf(&quot;%-15s %s&quot;, region.getName(), (Regions.fromName(region.getName())).getDescription()))\r\n    }\r\n\r\nOutputs:\r\n```\r\nus-gov-west-1   AWS GovCloud (US)\r\nus-gov-east-1   AWS GovCloud (US-East)\r\nus-east-1       US East (N. Virginia)\r\nus-east-2       US East (Ohio)\r\nus-west-1       US West (N. California)\r\nus-west-2       US West (Oregon)\r\neu-west-1       EU (Ireland)\r\neu-west-2       EU (London)\r\neu-west-3       EU (Paris)\r\neu-central-1    EU (Frankfurt)\r\neu-north-1      EU (Stockholm)\r\nap-south-1      Asia Pacific (Mumbai)\r\nap-southeast-1  Asia Pacific (Singapore)\r\nap-southeast-2  Asia Pacific (Sydney)\r\nap-northeast-1  Asia Pacific (Tokyo)\r\nap-northeast-2  Asia Pacific (Seoul)\r\nsa-east-1       South America (Sao Paulo)\r\ncn-north-1      China (Beijing)\r\ncn-northwest-1  China (Ningxia)\r\nca-central-1    Canada (Central)\r\n```\r\nFor my aws sdk client, I&#39;m using\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\r\n    &lt;version&gt;1.11.537&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n  \r\n","title":"How should i get aws region names using regions","body":"<p>The java AWS client has a Regions class that will give this information, for example:</p>\n\n<pre><code>for(Regions region : Regions.getEnumConstants()) {\n   System.out.println( String.sprintf(\"%-15s %s\", region.getName(), (Regions.fromName(region.getName())).getDescription()))\n}\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>us-gov-west-1   AWS GovCloud (US)\nus-gov-east-1   AWS GovCloud (US-East)\nus-east-1       US East (N. Virginia)\nus-east-2       US East (Ohio)\nus-west-1       US West (N. California)\nus-west-2       US West (Oregon)\neu-west-1       EU (Ireland)\neu-west-2       EU (London)\neu-west-3       EU (Paris)\neu-central-1    EU (Frankfurt)\neu-north-1      EU (Stockholm)\nap-south-1      Asia Pacific (Mumbai)\nap-southeast-1  Asia Pacific (Singapore)\nap-southeast-2  Asia Pacific (Sydney)\nap-northeast-1  Asia Pacific (Tokyo)\nap-northeast-2  Asia Pacific (Seoul)\nsa-east-1       South America (Sao Paulo)\ncn-north-1      China (Beijing)\ncn-northwest-1  China (Ningxia)\nca-central-1    Canada (Central)\n</code></pre>\n\n<p>For my aws sdk client, I'm using</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n    &lt;version&gt;1.11.537&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1531322,"reputation":1744,"user_id":1428454,"accept_rate":57,"display_name":"toske"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586740622,"creation_date":1586740622,"answer_id":61180273,"question_id":38020106,"body_markdown":"For language independent implementation, here is (hopefully) up to date JSON with all the regions (at least ones available for my own account in early 2020). As other answers agree there is no programmatic way to achieve this, so only way to go is manually building a map of region names and respective friendly names. \r\n\r\n```json\r\n{\r\n  &quot;ap-northeast-1&quot;: &quot;Asia Pacific (Tokyo)&quot;,\r\n  &quot;ap-northeast-2&quot;: &quot;Asia Pacific (Seoul)&quot;,\r\n  &quot;ap-southeast-1&quot;: &quot;Asia Pacific (Singapore)&quot;,\r\n  &quot;ap-southeast-2&quot;: &quot;Asia Pacific (Sydney)&quot;,\r\n  &quot;ap-south-1&quot;: &quot;Asia Pacific (Mumbai)&quot;,\r\n  &quot;eu-central-1&quot;: &quot;EU (Frankfurt)&quot;,\r\n  &quot;eu-north-1&quot;: &quot;Europe (Stockholm)&quot;,\r\n  &quot;eu-west-1&quot;: &quot;EU (Ireland)&quot;,\r\n  &quot;eu-west-2&quot;: &quot;Europe (London)&quot;,\r\n  &quot;eu-west-3&quot;: &quot;Europe (Paris)&quot;,\r\n  &quot;us-east-1&quot;: &quot;US East (N. Virginia)&quot;,\r\n  &quot;us-east-2&quot;: &quot;US East (Ohio)&quot;,\r\n  &quot;us-west-1&quot;: &quot;US West (N. California)&quot;,\r\n  &quot;us-west-2&quot;: &quot;US West (Oregon)&quot;,\r\n  &quot;sa-east-1&quot;: &quot;South America (Sao Paulo)&quot;,\r\n  &quot;ca-central-1&quot;: &quot;Canada (Central)&quot;\r\n}\r\n```\r\n\r\nFor instance, ruby implementation would look like \r\n\r\n```ruby \r\nrequire &#39;json&#39;\r\nrequire &#39;aws-sdk-ec2&#39;\r\ndata = JSON.load File.read &#39;regions.json&#39;\r\nall_regions = Aws::EC2::Client.new.describe_regions.regions\r\nall_regions.each { |r| puts &quot;#{data[r.region_name]} - #{r.region_name}&quot; }\r\n```\r\n\r\n\r\n\r\n","title":"How should i get aws region names using regions","body":"<p>For language independent implementation, here is (hopefully) up to date JSON with all the regions (at least ones available for my own account in early 2020). As other answers agree there is no programmatic way to achieve this, so only way to go is manually building a map of region names and respective friendly names. </p>\n\n<pre><code>{\n  \"ap-northeast-1\": \"Asia Pacific (Tokyo)\",\n  \"ap-northeast-2\": \"Asia Pacific (Seoul)\",\n  \"ap-southeast-1\": \"Asia Pacific (Singapore)\",\n  \"ap-southeast-2\": \"Asia Pacific (Sydney)\",\n  \"ap-south-1\": \"Asia Pacific (Mumbai)\",\n  \"eu-central-1\": \"EU (Frankfurt)\",\n  \"eu-north-1\": \"Europe (Stockholm)\",\n  \"eu-west-1\": \"EU (Ireland)\",\n  \"eu-west-2\": \"Europe (London)\",\n  \"eu-west-3\": \"Europe (Paris)\",\n  \"us-east-1\": \"US East (N. Virginia)\",\n  \"us-east-2\": \"US East (Ohio)\",\n  \"us-west-1\": \"US West (N. California)\",\n  \"us-west-2\": \"US West (Oregon)\",\n  \"sa-east-1\": \"South America (Sao Paulo)\",\n  \"ca-central-1\": \"Canada (Central)\"\n}\n</code></pre>\n\n<p>For instance, ruby implementation would look like </p>\n\n<pre class=\"lang-rb prettyprint-override\"><code>require 'json'\nrequire 'aws-sdk-ec2'\ndata = JSON.load File.read 'regions.json'\nall_regions = Aws::EC2::Client.new.describe_regions.regions\nall_regions.each { |r| puts \"#{data[r.region_name]} - #{r.region_name}\" }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7865794,"reputation":396,"user_id":5944650,"accept_rate":50,"display_name":"Arjun A J"},"score":0,"creation_date":1660915306,"post_id":71818675,"comment_id":129653011,"body_markdown":"It doesn&#39;t cater to the requirement","body":"It doesn&#39;t cater to the requirement"}],"tags":[],"owner":{"account_id":13619312,"reputation":579,"user_id":10000566,"display_name":"linux.cnf"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1649609293,"creation_date":1649609293,"answer_id":71818675,"question_id":38020106,"body_markdown":"Kindly run below command to list AWS regions with Endpoint URL.\r\n\r\n    aws ec2 describe-regions --region us-east-1","title":"How should i get aws region names using regions","body":"<p>Kindly run below command to list AWS regions with Endpoint URL.</p>\n<pre><code>aws ec2 describe-regions --region us-east-1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":411786,"reputation":504,"user_id":784478,"display_name":"AnthonyFoiani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692933511,"creation_date":1692933511,"answer_id":76974060,"question_id":38020106,"body_markdown":"Found a way to get the (complete?) list programmatically, although it took me a few commands. This should work with `bash` or `zsh`, should be easy to adapt elsewhere.\r\n\r\nIt&#39;s unfortunately quite slow; parallelizing the call to `aws pricing` would help. Finding the magic product that has exactly one SKU in every region would be even better, but I have no idea what that SKU might be.\r\n\r\n[Also, I&#39;m on a Mac, so (1) these are probably the BSD-ish versions of things like `sed`; and (2) I&#39;m stuck on Bash3, so I&#39;m being pretty basic in my usage.]\r\n\r\n```bash\r\n# Get list of regions codes.\r\nall_regions=( $( aws pricing get-attribute-values \\\r\n                     --region us-east-1           \\\r\n                     --service-code AmazonEC2     \\\r\n                     --attribute-name regionCode  \\\r\n                     --output text                \\\r\n                     --query AttributeValues ) )\r\n\r\n# Fetch one product from each, grab out the human-friendly location.\r\n# This is a bit slow (took about 90s here).\r\ntypeset -a all_regions_and_names\r\nall_regions_and_names=()\r\nfor region in &quot;${all_regions[@]}&quot;\r\ndo\r\n  region_and_name=$(                                                     \\\r\n    aws pricing get-products                                             \\\r\n        --region        us-east-1                                        \\\r\n        --service-code  AmazonEC2                                        \\\r\n        --filters       &quot;Type=TERM_MATCH,Field=regionCode,Value=$region&quot; \\\r\n        --max-items     1                                                \\\r\n    | jq -rc &#39;.PriceList[]&#39;                                              \\\r\n    | jq -r &#39;.product.attributes | &quot;\\(.regionCode)=\\(.location)&quot;&#39;\r\n  )\r\n  all_regions_and_names+=( $region_and_name )\r\ndone\r\n```\r\n\r\nOnce you have that (array) variable, it&#39;s easy to turn it into a text table:\r\n\r\n```bash\r\n( echo &quot;region=name&quot;\r\n  echo &quot;----------------------=------------------------------&quot;\r\n  IFS=$&#39;\\n&#39;\r\n  echo &quot;${all_regions_and_names[*]}&quot; | sort | uniq\r\n) \\\r\n| column -s = -t\r\n```\r\n\r\nSample output:\r\n\r\n```\r\nregion                   name\r\n----------------------   ------------------------------\r\naf-south-1-los-1         Nigeria (Lagos)\r\naf-south-1               Africa (Cape Town)\r\nap-east-1                Asia Pacific (Hong Kong)\r\n...\r\n```\r\n\r\nOr into JSON:\r\n\r\n```bash\r\necho &#39;{&#39;\r\n(\r\n  IFS=$&#39;\\n&#39;\r\n  echo &quot;${all_regions_and_names[*]}&quot; | sort | uniq\r\n) \\\r\n| sed -E -e &#39;s/^(.*)=(.*)$/  &quot;\\1&quot;:=&quot;\\2&quot;,/&#39; \\\r\n         -e &#39;$,$ s/,$//&#39; \\\r\n| column -t -s =\r\necho &#39;}&#39;\r\n```\r\n\r\nSample output:\r\n\r\n```json\r\n{\r\n  &quot;af-south-1-los-1&quot;:         &quot;Nigeria (Lagos)&quot;,\r\n  &quot;af-south-1&quot;:               &quot;Africa (Cape Town)&quot;,\r\n  &quot;ap-east-1&quot;:                &quot;Asia Pacific (Hong Kong)&quot;,\r\n  ...\r\n}\r\n```\r\n\r\nNote that [the `pricing` API is only available in `us-east-1` and `ap-south-1`](https://awscli.amazonaws.com/v2/documentation/api/latest/reference/pricing/index.html#cli-aws-pricing) hence the `--region` option above (which only controls the AWS API endpoint used; it does not narrow the query itself at all.)\r\n\r\n(It could be done in a single command if someone knows of a single product that is available in every region and local zone. Alternately, you could ask it to list everything available under a particular `serviceCode`, but that gets huge fast -- hence my simple `--max-items 1` workaround above.)\r\n\r\nEven this might not be complete, if there are zones which don&#39;t offer EC2 instances at all. Hopefully you&#39;re ultimately trying to answer the question &quot;where can I get an X and what do I have to call the region I&#39;m trying to get one&quot;, so you can just adjust the `serviceCode`.\r\n\r\nHat tip to https://stackoverflow.com/questions/42572542/how-to-get-ec2-instance-details-with-price-details-using-aws-cli/59886123#59886123 which got me started down this path.","title":"How should i get aws region names using regions","body":"<p>Found a way to get the (complete?) list programmatically, although it took me a few commands. This should work with <code>bash</code> or <code>zsh</code>, should be easy to adapt elsewhere.</p>\n<p>It's unfortunately quite slow; parallelizing the call to <code>aws pricing</code> would help. Finding the magic product that has exactly one SKU in every region would be even better, but I have no idea what that SKU might be.</p>\n<p>[Also, I'm on a Mac, so (1) these are probably the BSD-ish versions of things like <code>sed</code>; and (2) I'm stuck on Bash3, so I'm being pretty basic in my usage.]</p>\n<pre class=\"lang-bash prettyprint-override\"><code># Get list of regions codes.\nall_regions=( $( aws pricing get-attribute-values \\\n                     --region us-east-1           \\\n                     --service-code AmazonEC2     \\\n                     --attribute-name regionCode  \\\n                     --output text                \\\n                     --query AttributeValues ) )\n\n# Fetch one product from each, grab out the human-friendly location.\n# This is a bit slow (took about 90s here).\ntypeset -a all_regions_and_names\nall_regions_and_names=()\nfor region in &quot;${all_regions[@]}&quot;\ndo\n  region_and_name=$(                                                     \\\n    aws pricing get-products                                             \\\n        --region        us-east-1                                        \\\n        --service-code  AmazonEC2                                        \\\n        --filters       &quot;Type=TERM_MATCH,Field=regionCode,Value=$region&quot; \\\n        --max-items     1                                                \\\n    | jq -rc '.PriceList[]'                                              \\\n    | jq -r '.product.attributes | &quot;\\(.regionCode)=\\(.location)&quot;'\n  )\n  all_regions_and_names+=( $region_and_name )\ndone\n</code></pre>\n<p>Once you have that (array) variable, it's easy to turn it into a text table:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>( echo &quot;region=name&quot;\n  echo &quot;----------------------=------------------------------&quot;\n  IFS=$'\\n'\n  echo &quot;${all_regions_and_names[*]}&quot; | sort | uniq\n) \\\n| column -s = -t\n</code></pre>\n<p>Sample output:</p>\n<pre><code>region                   name\n----------------------   ------------------------------\naf-south-1-los-1         Nigeria (Lagos)\naf-south-1               Africa (Cape Town)\nap-east-1                Asia Pacific (Hong Kong)\n...\n</code></pre>\n<p>Or into JSON:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>echo '{'\n(\n  IFS=$'\\n'\n  echo &quot;${all_regions_and_names[*]}&quot; | sort | uniq\n) \\\n| sed -E -e 's/^(.*)=(.*)$/  &quot;\\1&quot;:=&quot;\\2&quot;,/' \\\n         -e '$,$ s/,$//' \\\n| column -t -s =\necho '}'\n</code></pre>\n<p>Sample output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;af-south-1-los-1&quot;:         &quot;Nigeria (Lagos)&quot;,\n  &quot;af-south-1&quot;:               &quot;Africa (Cape Town)&quot;,\n  &quot;ap-east-1&quot;:                &quot;Asia Pacific (Hong Kong)&quot;,\n  ...\n}\n</code></pre>\n<p>Note that <a href=\"https://awscli.amazonaws.com/v2/documentation/api/latest/reference/pricing/index.html#cli-aws-pricing\" rel=\"nofollow noreferrer\">the <code>pricing</code> API is only available in <code>us-east-1</code> and <code>ap-south-1</code></a> hence the <code>--region</code> option above (which only controls the AWS API endpoint used; it does not narrow the query itself at all.)</p>\n<p>(It could be done in a single command if someone knows of a single product that is available in every region and local zone. Alternately, you could ask it to list everything available under a particular <code>serviceCode</code>, but that gets huge fast -- hence my simple <code>--max-items 1</code> workaround above.)</p>\n<p>Even this might not be complete, if there are zones which don't offer EC2 instances at all. Hopefully you're ultimately trying to answer the question &quot;where can I get an X and what do I have to call the region I'm trying to get one&quot;, so you can just adjust the <code>serviceCode</code>.</p>\n<p>Hat tip to <a href=\"https://stackoverflow.com/questions/42572542/how-to-get-ec2-instance-details-with-price-details-using-aws-cli/59886123#59886123\">How to get ec2 instance details with price details using aws cli</a> which got me started down this path.</p>\n"},{"tags":[],"owner":{"account_id":2098307,"reputation":1356,"user_id":1866596,"display_name":"BrianV"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696278092,"creation_date":1696278092,"answer_id":77218301,"question_id":38020106,"body_markdown":"[This is the way.][1]\r\n\r\n**AWS CLI**\r\n```shell\r\naws ssm get-parameter --name /aws/service/global-infrastructure/regions/us-west-2/longName\r\n```\r\n```json\r\n{\r\n    &quot;Parameter&quot;: {\r\n        &quot;Name&quot;: &quot;/aws/service/global-infrastructure/regions/us-west-2/longName&quot;,\r\n        &quot;Type&quot;: &quot;String&quot;,\r\n        &quot;Value&quot;: &quot;US West (Oregon)&quot;,\r\n        &quot;Version&quot;: 1,\r\n        &quot;LastModifiedDate&quot;: &quot;2019-04-17T21:06:53.683000-05:00&quot;,\r\n        &quot;ARN&quot;: &quot;arn:aws:ssm:us-west-2::parameter/aws/service/global-infrastructure/regions/us-west-2/longName&quot;\r\n    }\r\n}\r\n```\r\n**Java SDK**\r\n```\r\nString name = &quot;/aws/service/global-infrastructure/regions/us-west-2/longName&quot;;\r\nRegion region = Region.US_WEST_2;\r\nSsmClient ssmClient = SsmClient.builder().region(region).build();\r\n\r\nGetParameterRequest request = GetParameterRequest.builder().name(name).build();\r\n\r\nGetParameterResponse response = ssmClient.getParameter(request);\r\nSystem.out.println(&quot;The region name is &quot; + response.parameter().value());\r\n```\r\n\r\n\r\n  [1]: https://aws.amazon.com/blogs/aws/new-query-for-aws-regions-endpoints-and-more-using-aws-systems-manager-parameter-store/","title":"How should i get aws region names using regions","body":"<p><a href=\"https://aws.amazon.com/blogs/aws/new-query-for-aws-regions-endpoints-and-more-using-aws-systems-manager-parameter-store/\" rel=\"nofollow noreferrer\">This is the way.</a></p>\n<p><strong>AWS CLI</strong></p>\n<pre class=\"lang-bash prettyprint-override\"><code>aws ssm get-parameter --name /aws/service/global-infrastructure/regions/us-west-2/longName\n</code></pre>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;Parameter&quot;: {\n        &quot;Name&quot;: &quot;/aws/service/global-infrastructure/regions/us-west-2/longName&quot;,\n        &quot;Type&quot;: &quot;String&quot;,\n        &quot;Value&quot;: &quot;US West (Oregon)&quot;,\n        &quot;Version&quot;: 1,\n        &quot;LastModifiedDate&quot;: &quot;2019-04-17T21:06:53.683000-05:00&quot;,\n        &quot;ARN&quot;: &quot;arn:aws:ssm:us-west-2::parameter/aws/service/global-infrastructure/regions/us-west-2/longName&quot;\n    }\n}\n</code></pre>\n<p><strong>Java SDK</strong></p>\n<pre><code>String name = &quot;/aws/service/global-infrastructure/regions/us-west-2/longName&quot;;\nRegion region = Region.US_WEST_2;\nSsmClient ssmClient = SsmClient.builder().region(region).build();\n\nGetParameterRequest request = GetParameterRequest.builder().name(name).build();\n\nGetParameterResponse response = ssmClient.getParameter(request);\nSystem.out.println(&quot;The region name is &quot; + response.parameter().value());\n</code></pre>\n"}],"owner":{"account_id":6974521,"reputation":309,"user_id":5349679,"accept_rate":25,"display_name":"Sanjay Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4788,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":38020474,"answer_count":8,"score":9,"last_activity_date":1696278092,"creation_date":1466793676,"question_id":38020106,"body_markdown":"Hi I want to get the amazon web services(aws) region names using regions means \r\n\r\n       region is &quot;us-east-1&quot; region name is &quot;US East (N. Virginia)&quot;\r\n       region is &quot;us-west-2&quot; region name is &quot;US West (Oregon)&quot;\r\nusing us-east-1 region i want to display region name &quot;US East (N. Virginia)&quot; dynamically.\r\n\r\nThanks\r\nSanjay\r\n  \r\n","title":"How should i get aws region names using regions","body":"<p>Hi I want to get the amazon web services(aws) region names using regions means </p>\n\n<pre><code>   region is \"us-east-1\" region name is \"US East (N. Virginia)\"\n   region is \"us-west-2\" region name is \"US West (Oregon)\"\n</code></pre>\n\n<p>using us-east-1 region i want to display region name \"US East (N. Virginia)\" dynamically.</p>\n\n<p>Thanks\nSanjay</p>\n"},{"tags":["java","spring","spring-boot","amazon-sqs","sqslistener"],"comments":[{"owner":{"account_id":6460291,"reputation":860,"user_id":5004359,"display_name":"dsbajna"},"score":1,"creation_date":1672143784,"post_id":74825473,"comment_id":132228256,"body_markdown":"Have you found a fix for this? I am running into the same issue.","body":"Have you found a fix for this? I am running into the same issue."}],"answers":[{"comments":[{"owner":{"account_id":15845590,"reputation":331,"user_id":11432986,"display_name":"brando f"},"score":0,"creation_date":1678372992,"post_id":74961376,"comment_id":133522872,"body_markdown":"This worked for me, I actually didn&#39;t have this dependency on either version, but adding it helped. Thanks kekhuay","body":"This worked for me, I actually didn&#39;t have this dependency on either version, but adding it helped. Thanks kekhuay"}],"tags":[],"owner":{"account_id":4840380,"reputation":405,"user_id":3905564,"display_name":"kekhuai"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1672402130,"creation_date":1672402130,"answer_id":74961376,"question_id":74825473,"body_markdown":"Try downgrade the `spring-messaging` to version `5.3.24` as a workaround\r\n```\r\nimplementation &#39;org.springframework:spring-messaging:5.3.24&#39;\r\n```","title":"Spring Boot 3.0.0, SQS: java.lang.ClassNotFoundException: org.springframework.messaging.handler.annotation.support.PayloadArgumentResolver","body":"<p>Try downgrade the <code>spring-messaging</code> to version <code>5.3.24</code> as a workaround</p>\n<pre><code>implementation 'org.springframework:spring-messaging:5.3.24'\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14661536,"reputation":89,"user_id":10588571,"display_name":"Erick Jhorman Romero"},"score":0,"creation_date":1696273606,"post_id":75888378,"comment_id":136129429,"body_markdown":"I also got the same issue and i updatd to awspring but i&#39;m getting this error\nCaused by: java.lang.ClassNotFoundException: io.awspring.cloud.core.env.ResourceIdResolver\n\nAny help?","body":"I also got the same issue and i updatd to awspring but i&#39;m getting this error Caused by: java.lang.ClassNotFoundException: io.awspring.cloud.core.env.ResourceIdResolver  Any help?"},{"owner":{"account_id":3572865,"reputation":2148,"user_id":2982798,"display_name":"heroin"},"score":0,"creation_date":1697547025,"post_id":75888378,"comment_id":136291295,"body_markdown":"I don&#39;t use ResourceIdResolver, so could not advice here","body":"I don&#39;t use ResourceIdResolver, so could not advice here"}],"tags":[],"owner":{"account_id":3572865,"reputation":2148,"user_id":2982798,"display_name":"heroin"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680180337,"creation_date":1680179907,"answer_id":75888378,"question_id":74825473,"body_markdown":"Version 2.x of Spring Cloud AWS does not support Spring Boot 3. Have a look here https://github.com/awspring/spring-cloud-aws. Spring Boot 3 is supported from version 3.x of Spring Cloud AWS, which is at the moment at RC2 stage.","title":"Spring Boot 3.0.0, SQS: java.lang.ClassNotFoundException: org.springframework.messaging.handler.annotation.support.PayloadArgumentResolver","body":"<p>Version 2.x of Spring Cloud AWS does not support Spring Boot 3. Have a look here <a href=\"https://github.com/awspring/spring-cloud-aws\" rel=\"nofollow noreferrer\">https://github.com/awspring/spring-cloud-aws</a>. Spring Boot 3 is supported from version 3.x of Spring Cloud AWS, which is at the moment at RC2 stage.</p>\n"},{"tags":[],"owner":{"account_id":14661536,"reputation":89,"user_id":10588571,"display_name":"Erick Jhorman Romero"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696277974,"creation_date":1696277974,"answer_id":77218292,"question_id":74825473,"body_markdown":"Yeah, in my case I had to use PayloadMethodArgumentResolver and it worked.\r\n\r\n\r\n\r\n     implementation(&#39;io.awspring.cloud:spring-cloud-aws-core:3.0.2&#39;) \r\n     implementation(&#39;io.awspring.cloud:spring-cloud-aws-messaging:2.4.4&#39;) \r\n     implementation(&#39;io.awspring.cloud:spring-cloud-starter-aws:2.4.4&#39;)\r\n\r\n\r\n\r\n\r\n```\r\n\r\n @Bean \tpublic QueueMessageHandler queueMessageHandler () {\r\n \t\tQueueMessageHandlerFactory queueMsgHandlerFactory = new\r\n QueueMessageHandlerFactory();\r\n \t\tqueueMsgHandlerFactory.setAmazonSqs(amazonSQSAsync());\r\n \t\tQueueMessageHandler queueMessageHandler =\r\n queueMsgHandlerFactory.createQueueMessageHandler();\r\n \t\tList&lt;HandlerMethodArgumentResolver&gt; list = new ArrayList&lt;&gt;();\r\n\t\tHandlerMethodArgumentResolver resolver = new\r\n PayloadMethodArgumentResolver(new MappingJackson2MessageConverter());\r\n \t\tlist.add(resolver);\r\n \t\tqueueMessageHandler.setArgumentResolvers(list);\r\n \r\n \t\treturn queueMessageHandler; \t}\r\n```\r\n\t\r\n\r\n","title":"Spring Boot 3.0.0, SQS: java.lang.ClassNotFoundException: org.springframework.messaging.handler.annotation.support.PayloadArgumentResolver","body":"<p>Yeah, in my case I had to use PayloadMethodArgumentResolver and it worked.</p>\n<pre><code> implementation('io.awspring.cloud:spring-cloud-aws-core:3.0.2') \n implementation('io.awspring.cloud:spring-cloud-aws-messaging:2.4.4') \n implementation('io.awspring.cloud:spring-cloud-starter-aws:2.4.4')\n</code></pre>\n<pre><code>\n @Bean  public QueueMessageHandler queueMessageHandler () {\n        QueueMessageHandlerFactory queueMsgHandlerFactory = new\n QueueMessageHandlerFactory();\n        queueMsgHandlerFactory.setAmazonSqs(amazonSQSAsync());\n        QueueMessageHandler queueMessageHandler =\n queueMsgHandlerFactory.createQueueMessageHandler();\n        List&lt;HandlerMethodArgumentResolver&gt; list = new ArrayList&lt;&gt;();\n        HandlerMethodArgumentResolver resolver = new\n PayloadMethodArgumentResolver(new MappingJackson2MessageConverter());\n        list.add(resolver);\n        queueMessageHandler.setArgumentResolvers(list);\n \n        return queueMessageHandler;     }\n</code></pre>\n"}],"owner":{"account_id":1709457,"reputation":956,"user_id":1567785,"accept_rate":62,"display_name":"Don_Quijote"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3810,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1696277974,"creation_date":1671199243,"question_id":74825473,"body_markdown":"I am trying to setup `@SqsListener` working but I&#39;m gettin this exception:\r\n\r\n   \r\n\r\n     org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;simpleMessageListenerContainer&#39; defined in org.springframework.cloud.aws.messaging.config.annotation.SqsConfiguration: Failed to instantiate [org.springframework.cloud.aws.messaging.listener.SimpleMessageListenerContainer]: Factory method &#39;simpleMessageListenerContainer&#39; threw exception with message: Error creating bean with name &#39;queueMessageHandler&#39; defined in org.springframework.cloud.aws.messaging.config.annotation.SqsConfiguration: org/springframework/messaging/handler/annotation/support/PayloadArgumentResolver\r\n    ........\r\n    ........\r\n        Caused by: java.lang.ClassNotFoundException: org.springframework.messaging.handler.annotation.support.PayloadArgumentResolver\r\n        \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n        \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n        \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n        \t... 44 common frames omitted\r\n\r\nFrom my build.gradle:\r\n\r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n    \tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    \timplementation &#39;org.springframework.cloud:spring-cloud-aws-messaging:2.2.6.RELEASE&#39;\r\n    \timplementation &#39;org.springframework.cloud:spring-cloud-starter-aws:2.2.6.RELEASE&#39;\r\n    \timplementation &#39;org.springframework:spring-messaging:6.0.2&#39;\r\n    \r\n    \timplementation &#39;io.awspring.cloud:spring-cloud-starter-aws-messaging:2.4.2&#39;\r\n    \timplementation &#39;io.awspring.cloud:spring-cloud-aws-dependencies:2.4.2&#39;\r\n    \timplementation &#39;software.amazon.awssdk:sqs:2.18.38&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n\r\nI tried different project setups but it all ending with: Caused by: `java.lang.ClassNotFoundException: org.springframework.messaging.handler.annotation.support.PayloadArgumentResolver`\r\n\r\nI think `PayloadArgumentResolver` was deprecated as of Spring 5.2 in favor of `PayloadMethodArgumentResolver`.\r\n\r\nIs it a bug or a dependencies issue?\r\n\r\n\r\n","title":"Spring Boot 3.0.0, SQS: java.lang.ClassNotFoundException: org.springframework.messaging.handler.annotation.support.PayloadArgumentResolver","body":"<p>I am trying to setup <code>@SqsListener</code> working but I'm gettin this exception:</p>\n<pre><code> org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'simpleMessageListenerContainer' defined in org.springframework.cloud.aws.messaging.config.annotation.SqsConfiguration: Failed to instantiate [org.springframework.cloud.aws.messaging.listener.SimpleMessageListenerContainer]: Factory method 'simpleMessageListenerContainer' threw exception with message: Error creating bean with name 'queueMessageHandler' defined in org.springframework.cloud.aws.messaging.config.annotation.SqsConfiguration: org/springframework/messaging/handler/annotation/support/PayloadArgumentResolver\n........\n........\n    Caused by: java.lang.ClassNotFoundException: org.springframework.messaging.handler.annotation.support.PayloadArgumentResolver\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n        ... 44 common frames omitted\n</code></pre>\n<p>From my build.gradle:</p>\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    implementation 'org.springframework.cloud:spring-cloud-aws-messaging:2.2.6.RELEASE'\n    implementation 'org.springframework.cloud:spring-cloud-starter-aws:2.2.6.RELEASE'\n    implementation 'org.springframework:spring-messaging:6.0.2'\n\n    implementation 'io.awspring.cloud:spring-cloud-starter-aws-messaging:2.4.2'\n    implementation 'io.awspring.cloud:spring-cloud-aws-dependencies:2.4.2'\n    implementation 'software.amazon.awssdk:sqs:2.18.38'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n</code></pre>\n<p>I tried different project setups but it all ending with: Caused by: <code>java.lang.ClassNotFoundException: org.springframework.messaging.handler.annotation.support.PayloadArgumentResolver</code></p>\n<p>I think <code>PayloadArgumentResolver</code> was deprecated as of Spring 5.2 in favor of <code>PayloadMethodArgumentResolver</code>.</p>\n<p>Is it a bug or a dependencies issue?</p>\n"},{"tags":["java","android","kotlin","android-studio","gradle"],"comments":[{"owner":{"account_id":9115426,"reputation":25155,"user_id":6782707,"accept_rate":100,"display_name":"Edric"},"score":0,"creation_date":1695959037,"post_id":77198711,"comment_id":136095679,"body_markdown":"Could you please share your `app/build.gradle.kts` file, as well as the Gradle wrapper version used?","body":"Could you please share your <code>app&#47;build.gradle.kts</code> file, as well as the Gradle wrapper version used?"},{"owner":{"account_id":1991882,"reputation":3129,"user_id":1785730,"accept_rate":70,"display_name":"user1785730"},"score":0,"creation_date":1696017919,"post_id":77198711,"comment_id":136105137,"body_markdown":"@Edric: That file doesn&#39;t exist. No .kts suffix. I&#39;ve updated gradle to version 8.0.1 I think. No sure where to click to confirm that.","body":"@Edric: That file doesn&#39;t exist. No .kts suffix. I&#39;ve updated gradle to version 8.0.1 I think. No sure where to click to confirm that."},{"owner":{"account_id":9115426,"reputation":25155,"user_id":6782707,"accept_rate":100,"display_name":"Edric"},"score":0,"creation_date":1696144780,"post_id":77198711,"comment_id":136114145,"body_markdown":"Either one of `build.gradle`/`build.gradle.kts` rather","body":"Either one of <code>build.gradle</code>/<code>build.gradle.kts</code> rather"},{"owner":{"account_id":1991882,"reputation":3129,"user_id":1785730,"accept_rate":70,"display_name":"user1785730"},"score":0,"creation_date":1696277827,"post_id":77198711,"comment_id":136130184,"body_markdown":"@Edric: I&#39;ve added `app/build.gradle` to my question.","body":"@Edric: I&#39;ve added <code>app&#47;build.gradle</code> to my question."},{"owner":{"account_id":12144799,"reputation":108,"user_id":8867524,"display_name":"Petr Nymsa"},"score":0,"creation_date":1700483633,"post_id":77198711,"comment_id":136656248,"body_markdown":"Hi did you manage to solve it?","body":"Hi did you manage to solve it?"}],"owner":{"account_id":1991882,"reputation":3129,"user_id":1785730,"accept_rate":70,"display_name":"user1785730"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696277778,"creation_date":1695942425,"question_id":77198711,"body_markdown":"I&#39;m getting this error:\r\n\r\n&gt; org.gradle.api.GradleException: &#39;compileDebugJavaWithJavac&#39; task (current target is 1.8) and &#39;kaptGenerateStubsDebugKotlin&#39; task (current target is 17) jvm target compatibility should be set to the same Java version.\r\n\r\nand I just don&#39;t get it. What exactly is it that has incompatible Java versions? Where can I find out the different Java versions for \\&lt;whatever\\&gt;?\r\n\r\nI have never made a conscious decision about any Java versions and would prefer not to be bothered with it. Anyhow, why is there now some Java version incompatibility? What did I screw up to end up with this? How to fix it?\r\n\r\nFor context: I&#39;m in the process of updating an old app I haven&#39;t touched in over three years. Maybe the update of the gradle plugin introduced this incompatibility?\r\n\r\nActually, I have updated some kotlin version in the projects gradle file. From \r\n\r\n    ext.kotlin_version = &#39;1.3.61&#39;\r\n\r\nto\r\n\r\n    ext.kotlin_version = &#39;1.8.21&#39;\r\n\r\nMaybe this could be another clue.\r\n\r\nAlso, I found a [similar question](https://stackoverflow.com/questions/76777020/i-am-getting-this-error-when-build-the-apps-execution-failed-for-task-appkapt). I tried what was suggested in the answer and added a `kotlinOptions` block in the modules gradle file, experimenting with values `17` and `1.8`, but to no awail. I didn&#39;t witness any effect.\r\n\r\nThis is my `app/build.gradle`:\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    apply plugin: &#39;kotlin-android&#39;\r\n    apply plugin: &#39;kotlin-kapt&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 33\r\n        defaultConfig {\r\n            applicationId &quot;cyberdynesoftware.tech_tree&quot;\r\n            minSdkVersion 19\r\n            targetSdkVersion 33\r\n            versionCode 8\r\n            versionName &quot;1.0&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled true\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        kotlinOptions {\r\n            jvmTarget = &#39;17&#39;\r\n        }\r\n        namespace &#39;cyberdynesoftware.tech_tree&#39;\r\n    }\r\n    \r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\r\n        implementation &#39;com.android.support:appcompat-v7:33.0.0&#39;\r\n        implementation &#39;com.android.support.constraint:constraint-layout:2.0.4&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\r\n        androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.2&#39;\r\n        implementation &#39;com.android.support:recyclerview-v7:33.0.0&#39;\r\n        implementation &#39;com.android.support:cardview-v7:33.0.0&#39;\r\n        implementation &#39;androidx.room:room-runtime:2.5.2&#39;\r\n        kapt &#39;androidx.room:room-compiler:2.5.2&#39;\r\n        implementation &#39;com.google.android.gms:play-services-ads:22.4.0&#39;\r\n        implementation &#39;com.github.QuadFlask:colorpicker:0.0.15&#39;\r\n    }","title":"jvm target compatibility should be set to the same Java version","body":"<p>I'm getting this error:</p>\n<blockquote>\n<p>org.gradle.api.GradleException: 'compileDebugJavaWithJavac' task (current target is 1.8) and 'kaptGenerateStubsDebugKotlin' task (current target is 17) jvm target compatibility should be set to the same Java version.</p>\n</blockquote>\n<p>and I just don't get it. What exactly is it that has incompatible Java versions? Where can I find out the different Java versions for &lt;whatever&gt;?</p>\n<p>I have never made a conscious decision about any Java versions and would prefer not to be bothered with it. Anyhow, why is there now some Java version incompatibility? What did I screw up to end up with this? How to fix it?</p>\n<p>For context: I'm in the process of updating an old app I haven't touched in over three years. Maybe the update of the gradle plugin introduced this incompatibility?</p>\n<p>Actually, I have updated some kotlin version in the projects gradle file. From</p>\n<pre><code>ext.kotlin_version = '1.3.61'\n</code></pre>\n<p>to</p>\n<pre><code>ext.kotlin_version = '1.8.21'\n</code></pre>\n<p>Maybe this could be another clue.</p>\n<p>Also, I found a <a href=\"https://stackoverflow.com/questions/76777020/i-am-getting-this-error-when-build-the-apps-execution-failed-for-task-appkapt\">similar question</a>. I tried what was suggested in the answer and added a <code>kotlinOptions</code> block in the modules gradle file, experimenting with values <code>17</code> and <code>1.8</code>, but to no awail. I didn't witness any effect.</p>\n<p>This is my <code>app/build.gradle</code>:</p>\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\n\nandroid {\n    compileSdkVersion 33\n    defaultConfig {\n        applicationId &quot;cyberdynesoftware.tech_tree&quot;\n        minSdkVersion 19\n        targetSdkVersion 33\n        versionCode 8\n        versionName &quot;1.0&quot;\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\n    }\n    buildTypes {\n        release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    kotlinOptions {\n        jvmTarget = '17'\n    }\n    namespace 'cyberdynesoftware.tech_tree'\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n    implementation 'com.android.support:appcompat-v7:33.0.0'\n    implementation 'com.android.support.constraint:constraint-layout:2.0.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n    implementation 'com.android.support:recyclerview-v7:33.0.0'\n    implementation 'com.android.support:cardview-v7:33.0.0'\n    implementation 'androidx.room:room-runtime:2.5.2'\n    kapt 'androidx.room:room-compiler:2.5.2'\n    implementation 'com.google.android.gms:play-services-ads:22.4.0'\n    implementation 'com.github.QuadFlask:colorpicker:0.0.15'\n}\n</code></pre>\n"},{"tags":["java","xsd","jaxb","jsonschema"],"owner":{"account_id":20902952,"reputation":1,"user_id":15355646,"display_name":"Nicearthes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696277674,"creation_date":1685540153,"question_id":76374120,"body_markdown":"in the JDK we can use `xjc *.xsd` command to generate POJO. The generated classes will have XML annotations, for example `jakarta.xml.bind.annotation.XmlType`.\r\n\r\nBut I&#39;m interested in POJOs with Jackson annotations, for example `com.fasterxml.jackson.annotation.JsonProperty`. I&#39;m wondering if it is feasible to accomplish this task. If it is, please provide guidance on the necessary steps (algorithm) to take.\r\n\r\nResources:  \r\nYou could download it: https://hl7.org/fhir/hl7.fhir.r5.core.tgz\r\n\r\n1) Fhir JSON schema is located in the `hl7.fhir.r5.core.tgz\\package\\openapi\\fhir.schema.json`\r\n2) Fhir XML schema (.xsd) is located in the `hl7.fhir.r5.core.tgz\\package\\xml\\**`\r\n\r\nI tried different approaches, for instance:\r\n\r\n1) Convert .xsd to JSON schema using the plugin https://plugins.jetbrains.com/plugin/19024-xsd-to-json-schema\r\n\r\n2) Generate Pojo with JSON schema using the library https://github.com/joelittlejohn/jsonschema2pojo\r\n\r\n3) As a result, classes were generated, but not correctly and not in the amount that would have been generated with `xjc`\r\n\r\nThere were other attempts, but they were pointless. Therefore, I see no point in describing them.","title":"Is it possible to generate POJO classes with Jackson annotations from Fhir XML schema (.xsd) or Fhir JSON schema?","body":"<p>in the JDK we can use <code>xjc *.xsd</code> command to generate POJO. The generated classes will have XML annotations, for example <code>jakarta.xml.bind.annotation.XmlType</code>.</p>\n<p>But I'm interested in POJOs with Jackson annotations, for example <code>com.fasterxml.jackson.annotation.JsonProperty</code>. I'm wondering if it is feasible to accomplish this task. If it is, please provide guidance on the necessary steps (algorithm) to take.</p>\n<p>Resources:<br />\nYou could download it: <a href=\"https://hl7.org/fhir/hl7.fhir.r5.core.tgz\" rel=\"nofollow noreferrer\">https://hl7.org/fhir/hl7.fhir.r5.core.tgz</a></p>\n<ol>\n<li>Fhir JSON schema is located in the <code>hl7.fhir.r5.core.tgz\\package\\openapi\\fhir.schema.json</code></li>\n<li>Fhir XML schema (.xsd) is located in the <code>hl7.fhir.r5.core.tgz\\package\\xml\\**</code></li>\n</ol>\n<p>I tried different approaches, for instance:</p>\n<ol>\n<li><p>Convert .xsd to JSON schema using the plugin <a href=\"https://plugins.jetbrains.com/plugin/19024-xsd-to-json-schema\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/19024-xsd-to-json-schema</a></p>\n</li>\n<li><p>Generate Pojo with JSON schema using the library <a href=\"https://github.com/joelittlejohn/jsonschema2pojo\" rel=\"nofollow noreferrer\">https://github.com/joelittlejohn/jsonschema2pojo</a></p>\n</li>\n<li><p>As a result, classes were generated, but not correctly and not in the amount that would have been generated with <code>xjc</code></p>\n</li>\n</ol>\n<p>There were other attempts, but they were pointless. Therefore, I see no point in describing them.</p>\n"},{"tags":["java","android","jaxb","jackson","jackson-modules"],"comments":[{"owner":{"account_id":901730,"reputation":11596,"user_id":937715,"accept_rate":90,"display_name":"Sean Barbeau"},"score":0,"creation_date":1436824577,"post_id":31360025,"comment_id":50764602,"body_markdown":"FYI - I added a few edits to my first answer.  I&#39;ve been troubleshooting the same (?) problem on another question - http://stackoverflow.com/questions/30968735/using-com-bea-xml-stream-package-on-android/31139616#31139616.","body":"FYI - I added a few edits to my first answer.  I&#39;ve been troubleshooting the same (?) problem on another question - <a href=\"http://stackoverflow.com/questions/30968735/using-com-bea-xml-stream-package-on-android/31139616#31139616\" title=\"using com bea xml stream package on android\">stackoverflow.com/questions/30968735/&hellip;</a>."}],"answers":[{"comments":[{"owner":{"account_id":3865233,"reputation":302,"user_id":3201926,"display_name":"Dogcat"},"score":0,"creation_date":1451029476,"post_id":31393015,"comment_id":56663988,"body_markdown":"Dude, you&#39;re amazing. Thanks.","body":"Dude, you&#39;re amazing. Thanks."},{"owner":{"account_id":1185423,"reputation":3523,"user_id":1159507,"accept_rate":65,"display_name":"anber"},"score":0,"creation_date":1459930683,"post_id":31393015,"comment_id":60503936,"body_markdown":"Any updates on this question since this time? I tried this steps, but it doesn&#39;t help to fix an issue","body":"Any updates on this question since this time? I tried this steps, but it doesn&#39;t help to fix an issue"},{"owner":{"account_id":901730,"reputation":11596,"user_id":937715,"accept_rate":90,"display_name":"Sean Barbeau"},"score":0,"creation_date":1459953612,"post_id":31393015,"comment_id":60521413,"body_markdown":"@anber Are you getting the exact same stack trace as in this question?","body":"@anber Are you getting the exact same stack trace as in this question?"},{"owner":{"account_id":1185423,"reputation":3523,"user_id":1159507,"accept_rate":65,"display_name":"anber"},"score":1,"creation_date":1460012080,"post_id":31393015,"comment_id":60548457,"body_markdown":"Yes, the exact same stack trace. Maybe something like this can help - https://github.com/jamesagnew/hapi-fhir/issues/199 ?","body":"Yes, the exact same stack trace. Maybe something like this can help - <a href=\"https://github.com/jamesagnew/hapi-fhir/issues/199\" rel=\"nofollow noreferrer\">github.com/jamesagnew/hapi-fhir/issues/199</a> ?"},{"owner":{"account_id":901730,"reputation":11596,"user_id":937715,"accept_rate":90,"display_name":"Sean Barbeau"},"score":0,"creation_date":1460038473,"post_id":31393015,"comment_id":60567752,"body_markdown":"This AOSP issue is still open - https://code.google.com/p/android/issues/detail?id=158630.  I think that&#39;s the problem - please star it.  After that is fixed, it may work correctly.","body":"This AOSP issue is still open - <a href=\"https://code.google.com/p/android/issues/detail?id=158630\" rel=\"nofollow noreferrer\">code.google.com/p/android/issues/detail?id=158630</a>.  I think that&#39;s the problem - please star it.  After that is fixed, it may work correctly."},{"owner":{"account_id":1057595,"reputation":5076,"user_id":1059969,"display_name":"Agent_L"},"score":0,"creation_date":1542707202,"post_id":31393015,"comment_id":93655856,"body_markdown":"@SeanBarbeau Your dropbox file is no longer accessible. Could you describe what was in that file and how you&#39;ve created it? I&#39;ve tried plain java source to no avail, should it be a .class file?","body":"@SeanBarbeau Your dropbox file is no longer accessible. Could you describe what was in that file and how you&#39;ve created it? I&#39;ve tried plain java source to no avail, should it be a .class file?"},{"owner":{"account_id":901730,"reputation":11596,"user_id":937715,"accept_rate":90,"display_name":"Sean Barbeau"},"score":0,"creation_date":1542758871,"post_id":31393015,"comment_id":93682060,"body_markdown":"@Agent_L whoops! Try https://www.dropbox.com/s/3w694gqqwilbh4k/javax.xml.stream.XMLInputFactory?dl=0, that should work. I&#39;m on mobile now but will try to update post with content inline later.","body":"@Agent_L whoops! Try <a href=\"https://www.dropbox.com/s/3w694gqqwilbh4k/javax.xml.stream.XMLInputFactory?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/3w694gqqwilbh4k/&hellip;</a>, that should work. I&#39;m on mobile now but will try to update post with content inline later."},{"owner":{"account_id":901730,"reputation":11596,"user_id":937715,"accept_rate":90,"display_name":"Sean Barbeau"},"score":0,"creation_date":1543286265,"post_id":31393015,"comment_id":93853889,"body_markdown":"@Agent_L I just updated the answer with the file name and contents in-line.","body":"@Agent_L I just updated the answer with the file name and contents in-line."}],"tags":[],"owner":{"account_id":901730,"reputation":11596,"user_id":937715,"accept_rate":90,"display_name":"Sean Barbeau"},"comment_count":8,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1543286218,"creation_date":1436819985,"answer_id":31393015,"question_id":31360025,"body_markdown":"Number 2 is the correct approach (Android doesn&#39;t like it when you include classes in the official Java package namespace - but then again, I wrote the original answer so I&#39;m biased ;) ).\r\n\r\nI believe the `FactoryConfigurationError: Provider com.bea.xml.stream.MXParserFactory not found` error is due to [a bug in the Android build tools](https://code.google.com/p/android/issues/detail?id=59658#c10).  In previous versions of ADT for Eclipse and Gradle plugin &lt; 0.7.0 the `/META-INF/*` files are stripped from the JARs during the build process.  It seems like &gt;= v0.7.0 shouldn&#39;t have the problem according to Google, but from others&#39; reports it sounds like it still may be problematic, and could potentially remove the `META-INF/services/javax.xml.stream.XMLInputFactory` file, which is required for the platform to register Aalto.\r\n\r\nTry the workaround mentioned in [AOSP issue 59658 comment 22](https://code.google.com/p/android/issues/detail?id=59658#c22):\r\n\r\n&gt;1. right click on &lt;project_name&gt;/src/main (where you have /java and /res folders), \r\n2. select New &gt; Folder &gt; Java Resources Folder,\r\n3. click Finish (do not change Folder Location), \r\n4. right click on new /resources folder,\r\n5. select New &gt; Directory\r\n6. enter &quot;META-INF&quot; (without quotes),\r\n7. right click on `/resources/META-INF` folder,\r\n8. select New &gt; Directory\r\n9. enter &quot;services&quot; (without quotes)\r\n10. copy any file you need into `/resources/META-INF/services`\r\n\r\nFor you, in step 10 above you&#39;d need to copy [this file](https://www.dropbox.com/s/3w694gqqwilbh4k/javax.xml.stream.XMLInputFactory?dl=0) into `/resources/META-INF/services`.  In case the file link is broken in the future, the name of the file is `javax.xml.stream.XMLInputFactory` and it consists of a single line:\r\n\r\n```com.fasterxml.aalto.stax.InputFactoryImpl```\r\n\r\n**EDIT**\r\n\r\nIf you get a &quot;Error:duplicate files during packaging of APK... Path in archive: META-INF/services/javax.xml.stream.XMLInputFactory&quot;, you can try telling Gradle to keep the first occurrence with:\r\n\r\n    android {\r\n      packagingOptions {\r\n        pickFirst &#39;META-INF/services/javax.xml.stream.XMLInputFactory&#39;\r\n      }\r\n    }\r\n\r\n**EDIT 2**\r\n\r\n[This bug](http://code.google.com/p/android/issues/detail?id=158630) may be affecting &quot;pickFirst&quot;. Please make sure you&#39;re running the latest version of Android Studio, and update your local tools and Android Gradle plugin to make sure you&#39;re running the most recent version of the tools. This may be fixed in [Android Studio 1.3 RC1](http://tools.android.com/download/studio/canary/latest).","title":"Using jackson-dataformat-xml on android","body":"<p>Number 2 is the correct approach (Android doesn't like it when you include classes in the official Java package namespace - but then again, I wrote the original answer so I'm biased ;) ).</p>\n\n<p>I believe the <code>FactoryConfigurationError: Provider com.bea.xml.stream.MXParserFactory not found</code> error is due to <a href=\"https://code.google.com/p/android/issues/detail?id=59658#c10\" rel=\"nofollow noreferrer\">a bug in the Android build tools</a>.  In previous versions of ADT for Eclipse and Gradle plugin &lt; 0.7.0 the <code>/META-INF/*</code> files are stripped from the JARs during the build process.  It seems like >= v0.7.0 shouldn't have the problem according to Google, but from others' reports it sounds like it still may be problematic, and could potentially remove the <code>META-INF/services/javax.xml.stream.XMLInputFactory</code> file, which is required for the platform to register Aalto.</p>\n\n<p>Try the workaround mentioned in <a href=\"https://code.google.com/p/android/issues/detail?id=59658#c22\" rel=\"nofollow noreferrer\">AOSP issue 59658 comment 22</a>:</p>\n\n<blockquote>\n  <ol>\n  <li>right click on /src/main (where you have /java and /res folders), </li>\n  <li>select New > Folder > Java Resources Folder,</li>\n  <li>click Finish (do not change Folder Location), </li>\n  <li>right click on new /resources folder,</li>\n  <li>select New > Directory</li>\n  <li>enter \"META-INF\" (without quotes),</li>\n  <li>right click on <code>/resources/META-INF</code> folder,</li>\n  <li>select New > Directory</li>\n  <li>enter \"services\" (without quotes)</li>\n  <li>copy any file you need into <code>/resources/META-INF/services</code></li>\n  </ol>\n</blockquote>\n\n<p>For you, in step 10 above you'd need to copy <a href=\"https://www.dropbox.com/s/3w694gqqwilbh4k/javax.xml.stream.XMLInputFactory?dl=0\" rel=\"nofollow noreferrer\">this file</a> into <code>/resources/META-INF/services</code>.  In case the file link is broken in the future, the name of the file is <code>javax.xml.stream.XMLInputFactory</code> and it consists of a single line:</p>\n\n<p><code>com.fasterxml.aalto.stax.InputFactoryImpl</code></p>\n\n<p><strong>EDIT</strong></p>\n\n<p>If you get a \"Error:duplicate files during packaging of APK... Path in archive: META-INF/services/javax.xml.stream.XMLInputFactory\", you can try telling Gradle to keep the first occurrence with:</p>\n\n<pre><code>android {\n  packagingOptions {\n    pickFirst 'META-INF/services/javax.xml.stream.XMLInputFactory'\n  }\n}\n</code></pre>\n\n<p><strong>EDIT 2</strong></p>\n\n<p><a href=\"http://code.google.com/p/android/issues/detail?id=158630\" rel=\"nofollow noreferrer\">This bug</a> may be affecting \"pickFirst\". Please make sure you're running the latest version of Android Studio, and update your local tools and Android Gradle plugin to make sure you're running the most recent version of the tools. This may be fixed in <a href=\"http://tools.android.com/download/studio/canary/latest\" rel=\"nofollow noreferrer\">Android Studio 1.3 RC1</a>.</p>\n"},{"tags":[],"owner":{"account_id":5824285,"reputation":41,"user_id":4591254,"display_name":"praveenp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549865861,"creation_date":1549865861,"answer_id":54624893,"question_id":31360025,"body_markdown":"I have attempted to add XmlPull support to jackson xml. Find the forked project here:\r\n\r\nhttps://github.com/finvu/jackson-dataformat-xml\r\n\r\nCurrently, only supported for version 2.9.6. (clone the branch jackson-dataformat-xml-2.9.6-XmlPull)\r\n\r\nSorry, I am not able to provide detailed documentation due to time constraints. If you have knowledge of git and maven to pull a specific branch and build the jar, then it should be relatively easy.","title":"Using jackson-dataformat-xml on android","body":"<p>I have attempted to add XmlPull support to jackson xml. Find the forked project here:</p>\n\n<p><a href=\"https://github.com/finvu/jackson-dataformat-xml\" rel=\"nofollow noreferrer\">https://github.com/finvu/jackson-dataformat-xml</a></p>\n\n<p>Currently, only supported for version 2.9.6. (clone the branch jackson-dataformat-xml-2.9.6-XmlPull)</p>\n\n<p>Sorry, I am not able to provide detailed documentation due to time constraints. If you have knowledge of git and maven to pull a specific branch and build the jar, then it should be relatively easy.</p>\n"},{"tags":[],"owner":{"account_id":3069538,"reputation":147,"user_id":2600530,"accept_rate":40,"display_name":"Victor"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1550330824,"creation_date":1550324852,"answer_id":54723739,"question_id":31360025,"body_markdown":"To those who will be in need of this in the future:\r\n first integrate Jitpack in Your Android app, following their instructions:\r\nhttps://jitpack.io/ \r\n\r\nThen paste teh GitHub url of jackson-dataformat-xml on Jitpack sites&#39; corresponding text box. GitHub url is:\r\nhttps://github.com/FasterXML/jackson-dataformat-xml.\r\nThat&#39;s it! Enjoy the result. :) ","title":"Using jackson-dataformat-xml on android","body":"<p>To those who will be in need of this in the future:\n first integrate Jitpack in Your Android app, following their instructions:\n<a href=\"https://jitpack.io/\" rel=\"nofollow noreferrer\">https://jitpack.io/</a> </p>\n\n<p>Then paste teh GitHub url of jackson-dataformat-xml on Jitpack sites' corresponding text box. GitHub url is:\n<a href=\"https://github.com/FasterXML/jackson-dataformat-xml\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-dataformat-xml</a>.\nThat's it! Enjoy the result. :) </p>\n"},{"tags":[],"owner":{"account_id":1866734,"reputation":4569,"user_id":1690108,"accept_rate":99,"display_name":"whitfin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696277604,"creation_date":1696277604,"answer_id":77218266,"question_id":31360025,"body_markdown":"I hit this myself, just wanted to drop an update based on [this thread][1]. To get it working now, I had to add these dependencies:\r\n\r\n    \r\n    implementation &#39;com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.15.2&#39;\r\n    implementation &#39;com.fasterxml.woodstox:woodstox-core:6.5.1&#39;\r\n    implementation &#39;javax.xml.stream:stax-api:1.0-2&#39;\r\n\r\nI didn&#39;t have to do anything with the `resources` directory, just adding these dependencies got it working. I believe this is only available as of version 2.15 of the Jackson XML lib. \r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-dataformat-xml/issues/533","title":"Using jackson-dataformat-xml on android","body":"<p>I hit this myself, just wanted to drop an update based on <a href=\"https://github.com/FasterXML/jackson-dataformat-xml/issues/533\" rel=\"nofollow noreferrer\">this thread</a>. To get it working now, I had to add these dependencies:</p>\n<pre><code>implementation 'com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.15.2'\nimplementation 'com.fasterxml.woodstox:woodstox-core:6.5.1'\nimplementation 'javax.xml.stream:stax-api:1.0-2'\n</code></pre>\n<p>I didn't have to do anything with the <code>resources</code> directory, just adding these dependencies got it working. I believe this is only available as of version 2.15 of the Jackson XML lib.</p>\n"}],"owner":{"account_id":1518185,"reputation":11427,"user_id":1418643,"accept_rate":75,"display_name":"Aksel Willgert"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9846,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":4,"score":9,"last_activity_date":1696277604,"creation_date":1436636723,"question_id":31360025,"body_markdown":"I&#39;m strugling with using jackson-dataformat-xml on android\r\n\r\nI have some very basic code that works fine on oracle jre\r\n\r\n    JacksonXmlModule module = new JacksonXmlModule();\r\n    module.setDefaultUseWrapper(false);\r\n    XmlMapper xmlMapper = new XmlMapper(module);\r\n\r\n\r\n**First I tried [official documentation][1] adapted for gradle** (by me, not sure if done correctly):\r\n\r\n    compile &#39;com.fasterxml.jackson.core:jackson-core:2.5.4&#39;\r\n    compile &#39;com.fasterxml.jackson.core:jackson-annotations:2.5.4&#39;\r\n    compile &#39;com.fasterxml.jackson.core:jackson-databind:2.5.4&#39;\r\n    compile &#39;com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.5.4&#39;\r\n\r\n    compile &#39;org.codehaus.woodstox:woodstox-core-asl:4.4.1&#39;\r\n    compile &#39;javax.xml.stream:stax-api:1.0-2&#39;\r\n\r\nResult: gradle fails build time about bundling corelibraries into an application\r\n\r\n    ...\r\n    :app:preDexDebug\r\n    trouble processing &quot;javax/xml/stream/EventFilter.class&quot;:\r\n    Ill-advised or mistaken usage of a core class (java.* or javax.*)\r\n    when not building a core library.\r\n    ...\r\n\r\n**2nd attempt trying to follow Sean&#39;s [answer][2]**\r\n(Basicly he repackages corelibs with prefix names and rebuilds jackson-dataformat-xml to use the prefixed names)\r\n\r\n    compile &#39;com.fasterxml.jackson.core:jackson-core:2.1.2&#39;\r\n    compile &#39;com.fasterxml.jackson.core:jackson-annotations:2.1.2&#39;\r\n    compile &#39;com.fasterxml.jackson.core:jackson-databind:2.1.2&#39;\r\n    // Repackaged XML-specific libraries\r\n    compile &#39;edu.usf.cutr.android.xml:jackson-dataformat-xml-android:2.1.2&#39;\r\n    compile &#39;edu.usf.cutr.android.xml:stax2-api-android:3.1.1&#39;\r\n    compile &#39;edu.usf.cutr.android.xml:stax-api-android:1.0-2&#39;\r\n    compile &#39;edu.usf.cutr.android.xml:aalto-xml-android:0.9.8&#39;\r\n\r\nAnd build time failed on duplicates \r\n\r\n    Duplicate files copied in APK META-INF/services/com.fasterxml.jackson.core.ObjectCodec\r\n\r\nso added:\r\n\r\n    packagingOptions {\r\n        ...\r\n        exclude &#39;META-INF/services/com.fasterxml.jackson.core.JsonFactory&#39;\r\n        exclude &#39;META-INF/services/com.fasterxml.jackson.core.ObjectCodec&#39;\r\n    }\r\n\r\nWhen adding the exclusions it builds and deploys, but fails runtime on below stackdump (AFAIK it cant find the SAX provider, even tho it is added to the classpath to my understanding)\r\n\r\n    edu.usf.cutr.javax.xml.stream.FactoryConfigurationError: Provider com.bea.xml.stream.MXParserFactory not found\r\n                at edu.usf.cutr.javax.xml.stream.FactoryFinder.newInstance(FactoryFinder.java:72)\r\n                at edu.usf.cutr.javax.xml.stream.FactoryFinder.find(FactoryFinder.java:176)\r\n                at edu.usf.cutr.javax.xml.stream.FactoryFinder.find(FactoryFinder.java:92)\r\n                at edu.usf.cutr.javax.xml.stream.XMLInputFactory.newInstance(XMLInputFactory.java:136)\r\n                at com.fasterxml.jackson.dataformat.xml.XmlFactory.&lt;init&gt;(XmlFactory.java:97)\r\n                at com.fasterxml.jackson.dataformat.xml.XmlFactory.&lt;init&gt;(XmlFactory.java:85)\r\n                at com.fasterxml.jackson.dataformat.xml.XmlFactory.&lt;init&gt;(XmlFactory.java:82)\r\n                at com.fasterxml.jackson.dataformat.xml.XmlMapper.&lt;init&gt;(XmlMapper.java:46)\r\n    \r\n\r\nWhat is the proper way to move forward on either #1 or #2?\r\n\r\n  [1]: https://github.com/FasterXML/jackson-dataformat-xml\r\n  [2]: https://stackoverflow.com/questions/5461127/using-jaxb-with-google-android\r\n","title":"Using jackson-dataformat-xml on android","body":"<p>I'm strugling with using jackson-dataformat-xml on android</p>\n\n<p>I have some very basic code that works fine on oracle jre</p>\n\n<pre><code>JacksonXmlModule module = new JacksonXmlModule();\nmodule.setDefaultUseWrapper(false);\nXmlMapper xmlMapper = new XmlMapper(module);\n</code></pre>\n\n<p><strong>First I tried <a href=\"https://github.com/FasterXML/jackson-dataformat-xml\" rel=\"noreferrer\">official documentation</a> adapted for gradle</strong> (by me, not sure if done correctly):</p>\n\n<pre><code>compile 'com.fasterxml.jackson.core:jackson-core:2.5.4'\ncompile 'com.fasterxml.jackson.core:jackson-annotations:2.5.4'\ncompile 'com.fasterxml.jackson.core:jackson-databind:2.5.4'\ncompile 'com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.5.4'\n\ncompile 'org.codehaus.woodstox:woodstox-core-asl:4.4.1'\ncompile 'javax.xml.stream:stax-api:1.0-2'\n</code></pre>\n\n<p>Result: gradle fails build time about bundling corelibraries into an application</p>\n\n<pre><code>...\n:app:preDexDebug\ntrouble processing \"javax/xml/stream/EventFilter.class\":\nIll-advised or mistaken usage of a core class (java.* or javax.*)\nwhen not building a core library.\n...\n</code></pre>\n\n<p><strong>2nd attempt trying to follow Sean's <a href=\"https://stackoverflow.com/questions/5461127/using-jaxb-with-google-android\">answer</a></strong>\n(Basicly he repackages corelibs with prefix names and rebuilds jackson-dataformat-xml to use the prefixed names)</p>\n\n<pre><code>compile 'com.fasterxml.jackson.core:jackson-core:2.1.2'\ncompile 'com.fasterxml.jackson.core:jackson-annotations:2.1.2'\ncompile 'com.fasterxml.jackson.core:jackson-databind:2.1.2'\n// Repackaged XML-specific libraries\ncompile 'edu.usf.cutr.android.xml:jackson-dataformat-xml-android:2.1.2'\ncompile 'edu.usf.cutr.android.xml:stax2-api-android:3.1.1'\ncompile 'edu.usf.cutr.android.xml:stax-api-android:1.0-2'\ncompile 'edu.usf.cutr.android.xml:aalto-xml-android:0.9.8'\n</code></pre>\n\n<p>And build time failed on duplicates </p>\n\n<pre><code>Duplicate files copied in APK META-INF/services/com.fasterxml.jackson.core.ObjectCodec\n</code></pre>\n\n<p>so added:</p>\n\n<pre><code>packagingOptions {\n    ...\n    exclude 'META-INF/services/com.fasterxml.jackson.core.JsonFactory'\n    exclude 'META-INF/services/com.fasterxml.jackson.core.ObjectCodec'\n}\n</code></pre>\n\n<p>When adding the exclusions it builds and deploys, but fails runtime on below stackdump (AFAIK it cant find the SAX provider, even tho it is added to the classpath to my understanding)</p>\n\n<pre><code>edu.usf.cutr.javax.xml.stream.FactoryConfigurationError: Provider com.bea.xml.stream.MXParserFactory not found\n            at edu.usf.cutr.javax.xml.stream.FactoryFinder.newInstance(FactoryFinder.java:72)\n            at edu.usf.cutr.javax.xml.stream.FactoryFinder.find(FactoryFinder.java:176)\n            at edu.usf.cutr.javax.xml.stream.FactoryFinder.find(FactoryFinder.java:92)\n            at edu.usf.cutr.javax.xml.stream.XMLInputFactory.newInstance(XMLInputFactory.java:136)\n            at com.fasterxml.jackson.dataformat.xml.XmlFactory.&lt;init&gt;(XmlFactory.java:97)\n            at com.fasterxml.jackson.dataformat.xml.XmlFactory.&lt;init&gt;(XmlFactory.java:85)\n            at com.fasterxml.jackson.dataformat.xml.XmlFactory.&lt;init&gt;(XmlFactory.java:82)\n            at com.fasterxml.jackson.dataformat.xml.XmlMapper.&lt;init&gt;(XmlMapper.java:46)\n</code></pre>\n\n<p>What is the proper way to move forward on either #1 or #2?</p>\n"},{"tags":["java","spring-boot","hibernate-validator"],"answers":[{"comments":[{"owner":{"account_id":7011102,"reputation":610,"user_id":5373971,"display_name":"bramdc"},"score":0,"creation_date":1683739310,"post_id":76204989,"comment_id":134414356,"body_markdown":"It doesn&#39;t work sadly than I get an error, edited post to reflect error","body":"It doesn&#39;t work sadly than I get an error, edited post to reflect error"}],"tags":[],"owner":{"account_id":22633544,"reputation":588,"user_id":16810646,"display_name":"Ananta"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683588383,"creation_date":1683588383,"answer_id":76204989,"question_id":76204512,"body_markdown":"You can try @AllArgsConstructor to inject CarBrandService instead of @Autowire. Using this way, the bean container will have to make sure your CarBrandService is existed before creating UniqueCarBrandNameValidator, otherwise, it will break in starup.\r\n```\r\n@Component\r\n@AllArgsConstructor // Add this\r\npublic class UniqueCarBrandNameValidator implements ConstraintValidator&lt;UniqueCarBrandName, String&gt; {\r\n\r\n    // @Autowired =&gt; Remove this\r\n    private CarBrandService carBrandService;\r\n    ...\r\n}\r\n```","title":"Custom bean validator does not autowire service","body":"<p>You can try @AllArgsConstructor to inject CarBrandService instead of @Autowire. Using this way, the bean container will have to make sure your CarBrandService is existed before creating UniqueCarBrandNameValidator, otherwise, it will break in starup.</p>\n<pre><code>@Component\n@AllArgsConstructor // Add this\npublic class UniqueCarBrandNameValidator implements ConstraintValidator&lt;UniqueCarBrandName, String&gt; {\n\n    // @Autowired =&gt; Remove this\n    private CarBrandService carBrandService;\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7011102,"reputation":610,"user_id":5373971,"display_name":"bramdc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683740462,"creation_date":1683740462,"answer_id":76221239,"question_id":76204512,"body_markdown":"I think I found a possible solution, while trying things out. It works, if you use an alternative method by validating your entity in an service by using the injected Validator by Jakarta and then see that your entity doesn&#39;t validate while submitting it to the JPA repository:\r\n\r\n```\r\n\r\n@AllArgsConstructor\r\n@Component\r\npublic class CarBrandService {\r\n\r\n    private final CarBrandRepository carBrandRepository;\r\n    private final Validator validator;\r\n...\r\n    private void validate(CarBrand carBrand) {\r\n        // This works!!\r\n        Set&lt;ConstraintViolation&lt;CarBrand&gt;&gt; constraintViolations = validator.validate(carBrand);\r\n        if (!customConstraintVoilations.isEmpty() || !constraintViolations.isEmpty()) {\r\n            throw new CustomConstraintViolationException(customConstraintVoilations, constraintViolations);\r\n        }\r\n    }\r\n... \r\n\r\n```\r\n\r\nOnly problem now is that on save it again will get validated and in this case it will again throw the NPE error. You can solve this by doing validation on another object than the entity.\r\n","title":"Custom bean validator does not autowire service","body":"<p>I think I found a possible solution, while trying things out. It works, if you use an alternative method by validating your entity in an service by using the injected Validator by Jakarta and then see that your entity doesn't validate while submitting it to the JPA repository:</p>\n<pre><code>\n@AllArgsConstructor\n@Component\npublic class CarBrandService {\n\n    private final CarBrandRepository carBrandRepository;\n    private final Validator validator;\n...\n    private void validate(CarBrand carBrand) {\n        // This works!!\n        Set&lt;ConstraintViolation&lt;CarBrand&gt;&gt; constraintViolations = validator.validate(carBrand);\n        if (!customConstraintVoilations.isEmpty() || !constraintViolations.isEmpty()) {\n            throw new CustomConstraintViolationException(customConstraintVoilations, constraintViolations);\n        }\n    }\n... \n\n</code></pre>\n<p>Only problem now is that on save it again will get validated and in this case it will again throw the NPE error. You can solve this by doing validation on another object than the entity.</p>\n"},{"tags":[],"owner":{"account_id":29583405,"reputation":1,"user_id":22672653,"display_name":"Ruruly"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696277484,"creation_date":1696277484,"answer_id":77218256,"question_id":76204512,"body_markdown":"I also encountered the same issue and found the solution [here](https://stackoverflow.com/a/62650045/22672653).\r\n\r\nYou can resolve it by adding the following property to your application.properties file:\r\n```\r\nspring.jpa.properties.javax.persistence.validation.mode = none\r\n```\r\n\r\nIt worked for me, and I hope it will work for you too.","title":"Custom bean validator does not autowire service","body":"<p>I also encountered the same issue and found the solution <a href=\"https://stackoverflow.com/a/62650045/22672653\">here</a>.</p>\n<p>You can resolve it by adding the following property to your application.properties file:</p>\n<pre><code>spring.jpa.properties.javax.persistence.validation.mode = none\n</code></pre>\n<p>It worked for me, and I hope it will work for you too.</p>\n"}],"owner":{"account_id":7011102,"reputation":610,"user_id":5373971,"display_name":"bramdc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1696277484,"creation_date":1683581663,"question_id":76204512,"body_markdown":"I&#39;m a little bit at a loss what I&#39;m missing, I have following custom bean validator code:\r\n```\r\nimport jakarta.validation.Payload;\r\n\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@Constraint(validatedBy=UniqueCarBrandNameValidator.class)\r\n@Target(ElementType.FIELD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface UniqueCarBrandName {\r\n    String message() default &quot;Email address is already registered&quot;;\r\n    Class&lt;?&gt;[] groups() default { };\r\n    Class&lt;? extends Payload&gt;[] payload() default { };\r\n}\r\n```\r\n\r\n```\r\nimport icodeit.carfleetmanager.service.CarBrandService;\r\nimport jakarta.validation.ConstraintValidator;\r\nimport jakarta.validation.ConstraintValidatorContext;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class UniqueCarBrandNameValidator implements ConstraintValidator&lt;UniqueCarBrandName, String&gt; {\r\n\r\n    @Autowired\r\n    private CarBrandService carBrandService;\r\n\r\n    @Override\r\n    public boolean isValid(String name, ConstraintValidatorContext constraintValidatorContext) {\r\n        return carBrandService.fetchOneByName(name).isEmpty();\r\n    }\r\n}\r\n```\r\n\r\nIn short I need a service to see if my CarBrandName is unique or not and I tried to implement this in a custom validator annotation. Problem is auto-wiring does not work in the custom validator, the service is null, giving me an NPE but the service works just fine auto-wired in my controller. Following the [documentation](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#validation-beanvalidation-spring) I have included following configuration:\r\n\r\n```\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.validation.Validator;\r\nimport org.springframework.validation.beanvalidation.LocalValidatorFactoryBean;\r\nimport org.springframework.validation.beanvalidation.MethodValidationPostProcessor;\r\n\r\n@Configuration\r\npublic class AppConfig {\r\n\r\n    // Used for auto wiring beans in validation classes\r\n    @Bean\r\n    public Validator validator() {\r\n        return new LocalValidatorFactoryBean();\r\n    }\r\n\r\n    @Bean\r\n    public MethodValidationPostProcessor validationPostProcessor() {\r\n        return new MethodValidationPostProcessor();\r\n    }\r\n}\r\n\r\n```\r\nSo that the Spring context is also available in the custom validator. But to no avail. I also tried the proposed solutions in this [stackoverflow thread](https://stackoverflow.com/questions/37958145/autowired-gives-null-value-in-custom-constraint-validator) but none worked.\r\n\r\nI&#39;m using following maven config:\r\n```\r\n?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;icodeit&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;service&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;service&lt;/name&gt;\r\n\t&lt;description&gt;backend service&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;jackson-hibernate.version&gt;2.15.0-rc2&lt;/jackson-hibernate.version&gt;\r\n\t\t&lt;org.mapstruct.version&gt;1.5.4.Final&lt;/org.mapstruct.version&gt;\r\n\t\t&lt;lombok-mapstruct-binding.version&gt;0.2.0&lt;/lombok-mapstruct-binding.version&gt;\r\n\t\t&lt;lombok.version&gt;1.18.24&lt;/lombok.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${lombok-mapstruct-binding.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${lombok.version}&lt;/version&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nRelevant error message: \r\n\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;icodeit.carfleetmanager.service.CarBrandService.fetchOneByName(String)&quot; because &quot;this.carBrandService&quot; is null\r\n\tat icodeit.carfleetmanager.validation.carbrand.UniqueCarBrandNameValidator.isValid(UniqueCarBrandNameValidator.java:17) ~[classes/:na]\r\n\tat icodeit.carfleetmanager.validation.carbrand.UniqueCarBrandNameValidator.isValid(UniqueCarBrandNameValidator.java:9) ~[classes/:na]\r\n\tat org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateSingleConstraint(ConstraintTree.java:180) ~[hibernate-validator-8.0.0.Final.jar:8.0.0.Final]\r\n\tat org.hibernate.validator.internal.engine.constraintvalidation.SimpleConstraintTree.validateConstraints(SimpleConstraintTree.java:66) ~[hibernate-validator-8.0.0.Final.jar:8.0.0.Final]\r\n\tat org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:75) ~[hibernate-validator-8.0.0.Final.jar:8.0.0.Final]\r\n\tat org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:130) ~[hibernate-validator-8.0.0.Final.jar:8.0.0.Final]\r\n\tat org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:123) ~[hibernate-validator-8.0.0.Final.jar:8.0.0.Final]\r\n\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:555) ~[hibernate-validator-8.0.0.Final.jar:8.0.0.Final]\r\n\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForSingleDefaultGroupElement(ValidatorImpl.java:518) ~[hibernate-validator-8.0.0.Final.jar:8.0.0.Final]\r\n\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForDefaultGroup(ValidatorImpl.java:488) ~[hibernate-validator-8.0.0.Final.jar:8.0.0.Final]\r\n\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:450) ~[hibernate-validator-8.0.0.Final.jar:8.0.0.Final]\r\n\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:400) ~[hibernate-validator-8.0.0.Final.jar:8.0.0.Final]\r\n\tat org.hibernate.validator.internal.engine.ValidatorImpl.validate(ValidatorImpl.java:172) ~[hibernate-validator-8.0.0.Final.jar:8.0.0.Final]\r\n\tat org.hibernate.cfg.beanvalidation.BeanValidationEventListener.validate(BeanValidationEventListener.java:125) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.cfg.beanvalidation.BeanValidationEventListener.onPreInsert(BeanValidationEventListener.java:80) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.action.internal.EntityIdentityInsertAction.preInsert(EntityIdentityInsertAction.java:184) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:74) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:653) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:283) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:264) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:340) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:286) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:192) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:122) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:184) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:129) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:53) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:737) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:721) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\r\n```\r\n\r\nEdit:\r\nI have tried by using injecting via the constructor as advised in an answer by ananta, but sadly I get following error:\r\n```\r\njava.lang.NoSuchMethodException: icodeit.carfleetmanager.validation.carbrand.UniqueCarBrandNameValidator.&lt;init&gt;()\r\n\tat java.base/java.lang.Class.getConstructor0(Class.java:3585) ~[na:na]\r\n\tat java.base/java.lang.Class.getConstructor(Class.java:2271) ~[na:na]\r\n```\r\n","title":"Custom bean validator does not autowire service","body":"<p>I'm a little bit at a loss what I'm missing, I have following custom bean validator code:</p>\n<pre><code>import jakarta.validation.Payload;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Constraint(validatedBy=UniqueCarBrandNameValidator.class)\n@Target(ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface UniqueCarBrandName {\n    String message() default &quot;Email address is already registered&quot;;\n    Class&lt;?&gt;[] groups() default { };\n    Class&lt;? extends Payload&gt;[] payload() default { };\n}\n</code></pre>\n<pre><code>import icodeit.carfleetmanager.service.CarBrandService;\nimport jakarta.validation.ConstraintValidator;\nimport jakarta.validation.ConstraintValidatorContext;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class UniqueCarBrandNameValidator implements ConstraintValidator&lt;UniqueCarBrandName, String&gt; {\n\n    @Autowired\n    private CarBrandService carBrandService;\n\n    @Override\n    public boolean isValid(String name, ConstraintValidatorContext constraintValidatorContext) {\n        return carBrandService.fetchOneByName(name).isEmpty();\n    }\n}\n</code></pre>\n<p>In short I need a service to see if my CarBrandName is unique or not and I tried to implement this in a custom validator annotation. Problem is auto-wiring does not work in the custom validator, the service is null, giving me an NPE but the service works just fine auto-wired in my controller. Following the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#validation-beanvalidation-spring\" rel=\"nofollow noreferrer\">documentation</a> I have included following configuration:</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.validation.Validator;\nimport org.springframework.validation.beanvalidation.LocalValidatorFactoryBean;\nimport org.springframework.validation.beanvalidation.MethodValidationPostProcessor;\n\n@Configuration\npublic class AppConfig {\n\n    // Used for auto wiring beans in validation classes\n    @Bean\n    public Validator validator() {\n        return new LocalValidatorFactoryBean();\n    }\n\n    @Bean\n    public MethodValidationPostProcessor validationPostProcessor() {\n        return new MethodValidationPostProcessor();\n    }\n}\n\n</code></pre>\n<p>So that the Spring context is also available in the custom validator. But to no avail. I also tried the proposed solutions in this <a href=\"https://stackoverflow.com/questions/37958145/autowired-gives-null-value-in-custom-constraint-validator\">stackoverflow thread</a> but none worked.</p>\n<p>I'm using following maven config:</p>\n<pre><code>?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;icodeit&lt;/groupId&gt;\n    &lt;artifactId&gt;service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;service&lt;/name&gt;\n    &lt;description&gt;backend service&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;jackson-hibernate.version&gt;2.15.0-rc2&lt;/jackson-hibernate.version&gt;\n        &lt;org.mapstruct.version&gt;1.5.4.Final&lt;/org.mapstruct.version&gt;\n        &lt;lombok-mapstruct-binding.version&gt;0.2.0&lt;/lombok-mapstruct-binding.version&gt;\n        &lt;lombok.version&gt;1.18.24&lt;/lombok.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n            &lt;version&gt;${lombok-mapstruct-binding.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Relevant error message:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;icodeit.carfleetmanager.service.CarBrandService.fetchOneByName(String)&quot; because &quot;this.carBrandService&quot; is null\n    at icodeit.carfleetmanager.validation.carbrand.UniqueCarBrandNameValidator.isValid(UniqueCarBrandNameValidator.java:17) ~[classes/:na]\n    at icodeit.carfleetmanager.validation.carbrand.UniqueCarBrandNameValidator.isValid(UniqueCarBrandNameValidator.java:9) ~[classes/:na]\n    at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateSingleConstraint(ConstraintTree.java:180) ~[hibernate-validator-8.0.0.Final.jar:8.0.0.Final]\n    at org.hibernate.validator.internal.engine.constraintvalidation.SimpleConstraintTree.validateConstraints(SimpleConstraintTree.java:66) ~[hibernate-validator-8.0.0.Final.jar:8.0.0.Final]\n    at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:75) ~[hibernate-validator-8.0.0.Final.jar:8.0.0.Final]\n    at org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:130) ~[hibernate-validator-8.0.0.Final.jar:8.0.0.Final]\n    at org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:123) ~[hibernate-validator-8.0.0.Final.jar:8.0.0.Final]\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:555) ~[hibernate-validator-8.0.0.Final.jar:8.0.0.Final]\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForSingleDefaultGroupElement(ValidatorImpl.java:518) ~[hibernate-validator-8.0.0.Final.jar:8.0.0.Final]\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForDefaultGroup(ValidatorImpl.java:488) ~[hibernate-validator-8.0.0.Final.jar:8.0.0.Final]\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:450) ~[hibernate-validator-8.0.0.Final.jar:8.0.0.Final]\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:400) ~[hibernate-validator-8.0.0.Final.jar:8.0.0.Final]\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validate(ValidatorImpl.java:172) ~[hibernate-validator-8.0.0.Final.jar:8.0.0.Final]\n    at org.hibernate.cfg.beanvalidation.BeanValidationEventListener.validate(BeanValidationEventListener.java:125) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.cfg.beanvalidation.BeanValidationEventListener.onPreInsert(BeanValidationEventListener.java:80) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.action.internal.EntityIdentityInsertAction.preInsert(EntityIdentityInsertAction.java:184) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:74) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:653) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:283) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:264) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:340) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:286) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:192) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:122) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:184) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:129) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:53) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:737) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:721) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n\n</code></pre>\n<p>Edit:\nI have tried by using injecting via the constructor as advised in an answer by ananta, but sadly I get following error:</p>\n<pre><code>java.lang.NoSuchMethodException: icodeit.carfleetmanager.validation.carbrand.UniqueCarBrandNameValidator.&lt;init&gt;()\n    at java.base/java.lang.Class.getConstructor0(Class.java:3585) ~[na:na]\n    at java.base/java.lang.Class.getConstructor(Class.java:2271) ~[na:na]\n</code></pre>\n"},{"tags":["java","spring-boot","autowired"],"comments":[{"owner":{"account_id":6152363,"reputation":146,"user_id":4796435,"display_name":"Rohit"},"score":0,"creation_date":1560784213,"post_id":56634081,"comment_id":99839938,"body_markdown":"Are you using Intelli J ?","body":"Are you using Intelli J ?"},{"owner":{"account_id":9057739,"reputation":645,"user_id":6745399,"display_name":"ROOTKILL"},"score":0,"creation_date":1560784367,"post_id":56634081,"comment_id":99840015,"body_markdown":"no, I&#39;m using eclipse. I pasted my gradle build file content too just in case it&#39;s some known issue with one of the plugins like the eclipse plugin or something else.","body":"no, I&#39;m using eclipse. I pasted my gradle build file content too just in case it&#39;s some known issue with one of the plugins like the eclipse plugin or something else."},{"owner":{"account_id":3065469,"reputation":1555,"user_id":2597267,"display_name":"Borislav Markov"},"score":0,"creation_date":1560785936,"post_id":56634081,"comment_id":99840790,"body_markdown":"Which version of JDK are you running your spring-boot application ?","body":"Which version of JDK are you running your spring-boot application ?"},{"owner":{"account_id":3065469,"reputation":1555,"user_id":2597267,"display_name":"Borislav Markov"},"score":0,"creation_date":1560786043,"post_id":56634081,"comment_id":99840843,"body_markdown":"Do you have any of those defined in your project: &#39;@SpringBootApplication&#39; or &#39;@EnableAutoConfiguration&#39; ?","body":"Do you have any of those defined in your project: &#39;@SpringBootApplication&#39; or &#39;@EnableAutoConfiguration&#39; ?"},{"owner":{"account_id":3065469,"reputation":1555,"user_id":2597267,"display_name":"Borislav Markov"},"score":0,"creation_date":1560786238,"post_id":56634081,"comment_id":99840939,"body_markdown":"Can you also please put the content of build-info.properties in the question, please ?","body":"Can you also please put the content of build-info.properties in the question, please ?"},{"owner":{"account_id":9057739,"reputation":645,"user_id":6745399,"display_name":"ROOTKILL"},"score":0,"creation_date":1560786791,"post_id":56634081,"comment_id":99841241,"body_markdown":"@BorislavMarkov openJDK 12, I have &quot;@SpringBootApplication&quot; on my main class and the resulting build-info.properties is:\n\n    #Properties\n    #Mon Jun 17 10:52:04 EDT 2019\n    build.version=0.0.1\n    build.group=com\n    build.name=app\n    build.artifact=app\n    build.time=2019-06-17T14\\:52\\:04.829909200Z","body":"@BorislavMarkov openJDK 12, I have &quot;@SpringBootApplication&quot; on my main class and the resulting build-info.properties is:      #Properties     #Mon Jun 17 10:52:04 EDT 2019     build.version=0.0.1     build.group=com     build.name=app     build.artifact=app     build.time=2019-06-17T14\\:52\\:04.829909200Z"},{"owner":{"account_id":3065469,"reputation":1555,"user_id":2597267,"display_name":"Borislav Markov"},"score":0,"creation_date":1560786891,"post_id":56634081,"comment_id":99841286,"body_markdown":"Can you also mention how you start the process, is it from command line or from eclipse? Do you have the same failure when you start with java -jar &lt;jarname&gt;?","body":"Can you also mention how you start the process, is it from command line or from eclipse? Do you have the same failure when you start with java -jar &lt;jarname&gt;?"},{"owner":{"account_id":9057739,"reputation":645,"user_id":6745399,"display_name":"ROOTKILL"},"score":0,"creation_date":1560787107,"post_id":56634081,"comment_id":99841395,"body_markdown":"I start it using the spring boot plugin on eclipse, &quot;right click the project&quot; -&gt; &quot;run as&quot; or &quot;debug as&quot; -&gt; Spring Boot App. I have not tried running it from the command line, I&#39;ll post the results shortly. Thanks","body":"I start it using the spring boot plugin on eclipse, &quot;right click the project&quot; -&gt; &quot;run as&quot; or &quot;debug as&quot; -&gt; Spring Boot App. I have not tried running it from the command line, I&#39;ll post the results shortly. Thanks"}],"answers":[{"comments":[{"owner":{"account_id":9057739,"reputation":645,"user_id":6745399,"display_name":"ROOTKILL"},"score":0,"creation_date":1560795408,"post_id":56635035,"comment_id":99844642,"body_markdown":"I ran the application in the command line with both JDK 8 and JDK 12 and they seem to be running fine via command line. It appears to be related to the spring boot plugin for eclipse. Thanks for the help!!!","body":"I ran the application in the command line with both JDK 8 and JDK 12 and they seem to be running fine via command line. It appears to be related to the spring boot plugin for eclipse. Thanks for the help!!!"}],"tags":[],"owner":{"account_id":3065469,"reputation":1555,"user_id":2597267,"display_name":"Borislav Markov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560787775,"creation_date":1560787399,"answer_id":56635035,"question_id":56634081,"body_markdown":"I would suggest to try running under JDK 8 and to run from the command line with \r\n`java -jar &lt;your jar name&gt;` just to be sure you get the build properties correctly.\r\n\r\nMaybe Jdk 12 is not suitable for spring-boot yet. I think you might have other problems as well. Many Java frameworks are not 100% certified that they will work with JDK 12.\r\n\r\nI think the plan is to officially support Java 12 as of Spring Boot 2.2","title":"Failed Autowired of BuildProperties Spring Boot 2.1.5 &amp; eclipse","body":"<p>I would suggest to try running under JDK 8 and to run from the command line with \n<code>java -jar &lt;your jar name&gt;</code> just to be sure you get the build properties correctly.</p>\n\n<p>Maybe Jdk 12 is not suitable for spring-boot yet. I think you might have other problems as well. Many Java frameworks are not 100% certified that they will work with JDK 12.</p>\n\n<p>I think the plan is to officially support Java 12 as of Spring Boot 2.2</p>\n"},{"comments":[{"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"score":12,"creation_date":1576579926,"post_id":56636849,"comment_id":104937964,"body_markdown":"For my case I am using Intellij I did the following: settings &gt; build &gt; gradle &gt; runner &gt; check delegate IDE build/run actions to gradle","body":"For my case I am using Intellij I did the following: settings &gt; build &gt; gradle &gt; runner &gt; check delegate IDE build/run actions to gradle"},{"owner":{"account_id":5054942,"reputation":133,"user_id":4058449,"display_name":"Jelle Blaauw"},"score":2,"creation_date":1581005545,"post_id":56636849,"comment_id":106293355,"body_markdown":"@user666 This is now under settings &gt; build, execution, deployment &gt; build tools &gt; Gradle and then a feature called &quot;Build and run using&quot;.","body":"@user666 This is now under settings &gt; build, execution, deployment &gt; build tools &gt; Gradle and then a feature called &quot;Build and run using&quot;."},{"owner":{"account_id":6779571,"reputation":302,"user_id":5220351,"display_name":"Vishwas Upadhyay"},"score":0,"creation_date":1677848623,"post_id":56636849,"comment_id":133422930,"body_markdown":"I faced this issue with maven and IDEA.  The &quot;Generate Sources and update folder for all projects&quot; option of maven worked for me.","body":"I faced this issue with maven and IDEA.  The &quot;Generate Sources and update folder for all projects&quot; option of maven worked for me."}],"tags":[],"owner":{"account_id":9057739,"reputation":645,"user_id":6745399,"display_name":"ROOTKILL"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1560795600,"creation_date":1560795600,"answer_id":56636849,"question_id":56634081,"body_markdown":"As @Borislav Markov suggested I tried running it via command line and it seems to work perfectly regardless if I use JDK 12 or JDK 8. I think the issue has to do with the eclipse plugin I am using to run the application via the IDE.","title":"Failed Autowired of BuildProperties Spring Boot 2.1.5 &amp; eclipse","body":"<p>As @Borislav Markov suggested I tried running it via command line and it seems to work perfectly regardless if I use JDK 12 or JDK 8. I think the issue has to do with the eclipse plugin I am using to run the application via the IDE.</p>\n"},{"tags":[],"owner":{"account_id":5080299,"reputation":3548,"user_id":4076606,"display_name":"Mateusz Stefek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560797733,"creation_date":1560797733,"answer_id":56637301,"question_id":56634081,"body_markdown":"I think your IDE is confused by the fact that the &quot;fat jar&quot; overwrites the normal jar. The IDE understands the classpath of the normal jar + generated resource of `build-info.properties.\r\n\r\nI always build the jars under different names, so I can avoid this kind of issues with partial builds.\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/html/#packaging-executable-and-normal\r\n\r\n&gt; To avoid the executable archive and the normal archive from being written to the same location, one or the other should be configured to use a different location. One way to do so is by configuring a classifier:\r\n\r\n    \r\n    bootJar {\r\n\t    classifier = &#39;boot&#39;\r\n    }","title":"Failed Autowired of BuildProperties Spring Boot 2.1.5 &amp; eclipse","body":"<p>I think your IDE is confused by the fact that the \"fat jar\" overwrites the normal jar. The IDE understands the classpath of the normal jar + generated resource of `build-info.properties.</p>\n\n<p>I always build the jars under different names, so I can avoid this kind of issues with partial builds.</p>\n\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/html/#packaging-executable-and-normal\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/html/#packaging-executable-and-normal</a></p>\n\n<blockquote>\n  <p>To avoid the executable archive and the normal archive from being written to the same location, one or the other should be configured to use a different location. One way to do so is by configuring a classifier:</p>\n</blockquote>\n\n<pre><code>bootJar {\n    classifier = 'boot'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4621849,"reputation":530,"user_id":3746704,"display_name":"Andr&#233; Schonrock"},"comment_count":0,"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1569331465,"creation_date":1569331465,"answer_id":58081353,"question_id":56634081,"body_markdown":"Add/Modify at the end of pom.xml:\r\n\r\n```\r\n&lt;build&gt;\r\n\t\t&lt;finalName&gt;{NAME_YOUR_PROJECT}&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;build-info&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n```","title":"Failed Autowired of BuildProperties Spring Boot 2.1.5 &amp; eclipse","body":"<p>Add/Modify at the end of pom.xml:</p>\n\n<pre><code>&lt;build&gt;\n        &lt;finalName&gt;{NAME_YOUR_PROJECT}&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build-info&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1927748,"reputation":3317,"user_id":1737813,"display_name":"Bosko Mijin"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1579644242,"creation_date":1579644242,"answer_id":59849835,"question_id":56634081,"body_markdown":"**In short:** This problem is IDE related (I&#39;m checked on Eclipse and Idea), and this is not affecting running/debugging spring boot application in startup scripts over the gradle build system.\r\n\r\nAlso, premise that boot plugin for eclipse and JDK are producing this problem is not entirely correct.\r\n\r\n**Root of this problem:** Different location of build artifacts which are compiled with different compilers and missing `build-info.properties`.\r\n\r\n**Explanation:**\r\n\r\nWhen gradle performs the build, it ussually uses JDK compiler to produce Java artifacts and output is placed into build directory.\r\n\r\nOn the other side, when eclipse performs the build, it produces arifacts with Eclipse JDT and output is placed into bin directory.\r\n\r\nNote that mixing those two could lead to unexpected behaviours. This &#39;feature&#39; is already analyzed by eclipse team and it is rejected (closed as invalid). More information [here][1]. \r\n\r\nAccording to fact that gradle task `buildInfo` is ran by gradle, that is explaining the fact that `build-info.properties` file exists in gradle&#39;s default output folder (by default it has to be located here: `build/resources/main/META-INF/`).\r\n\r\nFrom @ROOTKILL&#39;s question, visible is that he is tried to obtain information from BuildProperties class. Under the hood, when Spring detects there is build-info.properties file on the classpath, it creates BuildProperties bean unless it is explicitly declared.\r\nUseful information is [here][2].\r\n\r\nPlease, take a look at this method:\r\n\r\n    @ConditionalOnResource(resources = &quot;${spring.info.build.location:classpath:META-INF/build-info.properties}&quot;)\r\n    @ConditionalOnMissingBean\r\n    @Bean\r\n    public BuildProperties buildProperties() throws Exception {\r\n    \treturn new BuildProperties(\r\n    \t\t\tloadFrom(this.properties.getBuild().getLocation(), &quot;build&quot;));\r\n    }\r\n\r\nAccording to the fact that IDE is using different output dir, there is missing build-info.properties file and this produces displayed error (`Bean method &#39;buildProperties&#39; in &#39;ProjectInfoAutoConfiguration&#39; not loaded because @ConditionalOnResource did not find resource &#39;${spring.info.build.location:classpath:META-INF/build-info.properties}&#39;`).\r\nAnd on other side, this explains why everything is runnable with gradle.\r\n\r\n**Solution:**\r\n\r\nAccording to those facts, solution is clear: Both eclipse and IntelliJ Idea IDE&#39;s must use gradle&#39;s tasks instead of it&#39;s own for running/debugging.\r\n\r\n - For the **Eclipse IDE**: Application can be started over the gradle task (bootRun from gradle tasks view).\r\n - For the **Idea IDE**: There can be added setting that delegates IDE build/run actions to gradle, which is @user666 already pointed before.\r\n\r\nSince this solution uses gradle, `build-info.properties` file will be used from `build/resources/main/META-INF/` location (gradle&#39;s default), and off course it will be visible. As a consequence, bean BuildProperties will be created and will be usable.\r\n\r\n\r\n  [1]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=472100\r\n  [2]: https://github.com/spring-projects/spring-boot/blob/968a637e50a67c4aa2ab2ecf70519851b9cd79b7/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/info/ProjectInfoAutoConfiguration.java#L66\r\n","title":"Failed Autowired of BuildProperties Spring Boot 2.1.5 &amp; eclipse","body":"<p><strong>In short:</strong> This problem is IDE related (I'm checked on Eclipse and Idea), and this is not affecting running/debugging spring boot application in startup scripts over the gradle build system.</p>\n\n<p>Also, premise that boot plugin for eclipse and JDK are producing this problem is not entirely correct.</p>\n\n<p><strong>Root of this problem:</strong> Different location of build artifacts which are compiled with different compilers and missing <code>build-info.properties</code>.</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>When gradle performs the build, it ussually uses JDK compiler to produce Java artifacts and output is placed into build directory.</p>\n\n<p>On the other side, when eclipse performs the build, it produces arifacts with Eclipse JDT and output is placed into bin directory.</p>\n\n<p>Note that mixing those two could lead to unexpected behaviours. This 'feature' is already analyzed by eclipse team and it is rejected (closed as invalid). More information <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=472100\" rel=\"noreferrer\">here</a>. </p>\n\n<p>According to fact that gradle task <code>buildInfo</code> is ran by gradle, that is explaining the fact that <code>build-info.properties</code> file exists in gradle's default output folder (by default it has to be located here: <code>build/resources/main/META-INF/</code>).</p>\n\n<p>From @ROOTKILL's question, visible is that he is tried to obtain information from BuildProperties class. Under the hood, when Spring detects there is build-info.properties file on the classpath, it creates BuildProperties bean unless it is explicitly declared.\nUseful information is <a href=\"https://github.com/spring-projects/spring-boot/blob/968a637e50a67c4aa2ab2ecf70519851b9cd79b7/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/info/ProjectInfoAutoConfiguration.java#L66\" rel=\"noreferrer\">here</a>.</p>\n\n<p>Please, take a look at this method:</p>\n\n<pre><code>@ConditionalOnResource(resources = \"${spring.info.build.location:classpath:META-INF/build-info.properties}\")\n@ConditionalOnMissingBean\n@Bean\npublic BuildProperties buildProperties() throws Exception {\n    return new BuildProperties(\n            loadFrom(this.properties.getBuild().getLocation(), \"build\"));\n}\n</code></pre>\n\n<p>According to the fact that IDE is using different output dir, there is missing build-info.properties file and this produces displayed error (<code>Bean method 'buildProperties' in 'ProjectInfoAutoConfiguration' not loaded because @ConditionalOnResource did not find resource '${spring.info.build.location:classpath:META-INF/build-info.properties}'</code>).\nAnd on other side, this explains why everything is runnable with gradle.</p>\n\n<p><strong>Solution:</strong></p>\n\n<p>According to those facts, solution is clear: Both eclipse and IntelliJ Idea IDE's must use gradle's tasks instead of it's own for running/debugging.</p>\n\n<ul>\n<li>For the <strong>Eclipse IDE</strong>: Application can be started over the gradle task (bootRun from gradle tasks view).</li>\n<li>For the <strong>Idea IDE</strong>: There can be added setting that delegates IDE build/run actions to gradle, which is @user666 already pointed before.</li>\n</ul>\n\n<p>Since this solution uses gradle, <code>build-info.properties</code> file will be used from <code>build/resources/main/META-INF/</code> location (gradle's default), and off course it will be visible. As a consequence, bean BuildProperties will be created and will be usable.</p>\n"},{"comments":[{"owner":{"account_id":1675353,"reputation":1542,"user_id":1541042,"accept_rate":100,"display_name":"Lucas"},"score":3,"creation_date":1634920433,"post_id":61269914,"comment_id":123165348,"body_markdown":"Works, thank you! `mvn clean package`.","body":"Works, thank you! <code>mvn clean package</code>."},{"owner":{"account_id":38962,"reputation":1600,"user_id":112175,"display_name":"James Hackett"},"score":8,"creation_date":1644930809,"post_id":61269914,"comment_id":125731045,"body_markdown":"This worked for me. Does anyone know why?","body":"This worked for me. Does anyone know why?"},{"owner":{"account_id":1883765,"reputation":78,"user_id":1703398,"display_name":"Papa Cheikh Cisse"},"score":4,"creation_date":1647613995,"post_id":61269914,"comment_id":126421689,"body_markdown":"@JamesHackett This file (build-info.properties) is read by Spring from your classpath META-INF/ folder. By doing this it is built there by your build tool (maven, gradle, etc.)","body":"@JamesHackett This file (build-info.properties) is read by Spring from your classpath META-INF/ folder. By doing this it is built there by your build tool (maven, gradle, etc.)"},{"owner":{"account_id":6256892,"reputation":310,"user_id":4865140,"display_name":"Roque Orts"},"score":1,"creation_date":1664538224,"post_id":61269914,"comment_id":130500442,"body_markdown":"It works! I had the same problem using @Configuration file. It happened after launch other project.","body":"It works! I had the same problem using @Configuration file. It happened after launch other project."},{"owner":{"account_id":8690774,"reputation":771,"user_id":6503727,"display_name":"burakozgul"},"score":0,"creation_date":1670934526,"post_id":61269914,"comment_id":131983541,"body_markdown":"&quot;mvn -U clean install&quot; also works.","body":"&quot;mvn -U clean install&quot; also works."},{"owner":{"account_id":2815794,"reputation":645,"user_id":2420909,"accept_rate":80,"display_name":"SGuru"},"score":0,"creation_date":1675872247,"post_id":61269914,"comment_id":133022256,"body_markdown":"works in 2023 also!","body":"works in 2023 also!"},{"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"score":0,"creation_date":1678809811,"post_id":61269914,"comment_id":133603700,"body_markdown":"Still works in March of 2023","body":"Still works in March of 2023"},{"owner":{"account_id":3391952,"reputation":131,"user_id":2846596,"display_name":"McQuade"},"score":0,"creation_date":1692818600,"post_id":61269914,"comment_id":135677487,"body_markdown":"Great!! Thank you! Still Work in Aug/2023.","body":"Great!! Thank you! Still Work in Aug/2023."}],"tags":[],"owner":{"account_id":3778227,"reputation":1494,"user_id":3138391,"display_name":"Anant"},"comment_count":8,"down_vote_count":2,"up_vote_count":98,"is_accepted":false,"score":96,"last_activity_date":1635354142,"creation_date":1587120927,"answer_id":61269914,"question_id":56634081,"body_markdown":"Just run a `mvn clean package` and then restart the spring boot application from either Eclipse/IntelliJ.","title":"Failed Autowired of BuildProperties Spring Boot 2.1.5 &amp; eclipse","body":"<p>Just run a <code>mvn clean package</code> and then restart the spring boot application from either Eclipse/IntelliJ.</p>\n"},{"comments":[{"owner":{"account_id":286820,"reputation":81,"user_id":586295,"display_name":"dobrosi"},"score":2,"creation_date":1633940812,"post_id":64034087,"comment_id":122884511,"body_markdown":"This is a wrong solution, when you want to use original build-info.properties. This method override default Spring conditional mechanism always.","body":"This is a wrong solution, when you want to use original build-info.properties. This method override default Spring conditional mechanism always."},{"owner":{"account_id":20675307,"reputation":348,"user_id":15180061,"display_name":"arun"},"score":0,"creation_date":1645659784,"post_id":64034087,"comment_id":125934701,"body_markdown":"This is not the right way to do it. Ideally, the properties should be auto-loaded from the build-info.properties or should come from pom.xml or build.gradle and injected in.","body":"This is not the right way to do it. Ideally, the properties should be auto-loaded from the build-info.properties or should come from pom.xml or build.gradle and injected in."},{"owner":{"account_id":2276745,"reputation":1429,"user_id":2002804,"accept_rate":40,"display_name":"Jaykishan"},"score":0,"creation_date":1665157670,"post_id":64034087,"comment_id":130641533,"body_markdown":"It&#39;s a fix, not solution of the problem.","body":"It&#39;s a fix, not solution of the problem."}],"tags":[],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"comment_count":3,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1600885299,"creation_date":1600885299,"answer_id":64034087,"question_id":56634081,"body_markdown":"My Spring Boot service has a Maven  build-info section in the maven-spring-boot plugin and so I get this error `BuildProperties cannot be found` when I try to run the service when it is not from a .jar archive.   So, to run my service as a regular Spring Boot run configuration, I had to add this condition bean and now everything works , both as a .jar  release  and also it runs as a debug non-release:\r\n\r\n    @ConditionalOnMissingBean\r\n    @Bean\r\n    public BuildProperties buildProperties() {\r\n        Properties properties = new Properties();\r\n        properties.put(&quot;group&quot;, &quot;com.example&quot;);\r\n        properties.put(&quot;artifact&quot;, &quot;demo&quot;);\r\n        properties.put(&quot;version&quot;, &quot;not-jarred&quot;);\r\n        return new BuildProperties(properties);\r\n    }","title":"Failed Autowired of BuildProperties Spring Boot 2.1.5 &amp; eclipse","body":"<p>My Spring Boot service has a Maven  build-info section in the maven-spring-boot plugin and so I get this error <code>BuildProperties cannot be found</code> when I try to run the service when it is not from a .jar archive.   So, to run my service as a regular Spring Boot run configuration, I had to add this condition bean and now everything works , both as a .jar  release  and also it runs as a debug non-release:</p>\n<pre><code>@ConditionalOnMissingBean\n@Bean\npublic BuildProperties buildProperties() {\n    Properties properties = new Properties();\n    properties.put(&quot;group&quot;, &quot;com.example&quot;);\n    properties.put(&quot;artifact&quot;, &quot;demo&quot;);\n    properties.put(&quot;version&quot;, &quot;not-jarred&quot;);\n    return new BuildProperties(properties);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":111226,"reputation":1631,"user_id":293956,"accept_rate":50,"display_name":"BoomShaka"},"score":0,"creation_date":1653145811,"post_id":64797472,"comment_id":127782291,"body_markdown":"Thanks man. I&#39;m persevering with vscode for java dev, so this helped a lot. Do you happen to know if this is a bug in vscode itself? Or presumably the java extension?","body":"Thanks man. I&#39;m persevering with vscode for java dev, so this helped a lot. Do you happen to know if this is a bug in vscode itself? Or presumably the java extension?"}],"tags":[],"owner":{"account_id":163723,"reputation":361,"user_id":2077277,"display_name":"Mike Burnham"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605151687,"creation_date":1605151687,"answer_id":64797472,"question_id":56634081,"body_markdown":"As other answers have made clear, this is due to the IDE not creating the file. For vscode, I solved it by defining a task to copy the **build-info.properties** file from Gradle&#39;s **build/resources/main/META-INF** directory into vscode&#39;s **bin/main/META-INF** so that it would be where the build expects to find it. \r\n\r\nNormally I have run a Gradle build recently, and that slightly stale version of build-info.properties is good enough for my debugging run in vscode.\r\n\r\nCreate a **.vscode/tasks.json** similar to this:\r\n\r\n    {\r\n        &quot;version&quot;: &quot;2.0.0&quot;,\r\n        &quot;tasks&quot;: [\r\n            {\r\n                // This task keeps vscode from failing when using BuildProperties\r\n                &quot;label&quot;: &quot;Copy build-info from Gradle&quot;,\r\n                &quot;type&quot;: &quot;shell&quot;,\r\n                &quot;command&quot;: &quot;mkdir -p ./bin/main/META-INF/ &amp;&amp; cp ./build/resources/main/META-INF/build-info.properties ./bin/main/META-INF/build-info.properties&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\nThen add the task as a **preLaunchTask** in your **.vscode/launch.json**:\r\n\r\n    {\r\n        &quot;configurations&quot;: [\r\n            {\r\n                &quot;type&quot;: &quot;java&quot;,\r\n                &quot;name&quot;: &quot;Spring Boot-Application&lt;example&gt;&quot;,\r\n                &quot;request&quot;: &quot;launch&quot;,\r\n                &quot;cwd&quot;: &quot;${workspaceFolder}&quot;,\r\n                &quot;console&quot;: &quot;internalConsole&quot;,\r\n                &quot;mainClass&quot;: &quot;com.example.Application&quot;,\r\n                &quot;projectName&quot;: &quot;example&quot;,\r\n                &quot;args&quot;: &quot;&quot;,\r\n                &quot;preLaunchTask&quot;: &quot;Copy build-info from Gradle&quot;\r\n            }\r\n        ]\r\n    }","title":"Failed Autowired of BuildProperties Spring Boot 2.1.5 &amp; eclipse","body":"<p>As other answers have made clear, this is due to the IDE not creating the file. For vscode, I solved it by defining a task to copy the <strong>build-info.properties</strong> file from Gradle's <strong>build/resources/main/META-INF</strong> directory into vscode's <strong>bin/main/META-INF</strong> so that it would be where the build expects to find it.</p>\n<p>Normally I have run a Gradle build recently, and that slightly stale version of build-info.properties is good enough for my debugging run in vscode.</p>\n<p>Create a <strong>.vscode/tasks.json</strong> similar to this:</p>\n<pre><code>{\n    &quot;version&quot;: &quot;2.0.0&quot;,\n    &quot;tasks&quot;: [\n        {\n            // This task keeps vscode from failing when using BuildProperties\n            &quot;label&quot;: &quot;Copy build-info from Gradle&quot;,\n            &quot;type&quot;: &quot;shell&quot;,\n            &quot;command&quot;: &quot;mkdir -p ./bin/main/META-INF/ &amp;&amp; cp ./build/resources/main/META-INF/build-info.properties ./bin/main/META-INF/build-info.properties&quot;\n        }\n    ]\n}\n</code></pre>\n<p>Then add the task as a <strong>preLaunchTask</strong> in your <strong>.vscode/launch.json</strong>:</p>\n<pre><code>{\n    &quot;configurations&quot;: [\n        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;name&quot;: &quot;Spring Boot-Application&lt;example&gt;&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;cwd&quot;: &quot;${workspaceFolder}&quot;,\n            &quot;console&quot;: &quot;internalConsole&quot;,\n            &quot;mainClass&quot;: &quot;com.example.Application&quot;,\n            &quot;projectName&quot;: &quot;example&quot;,\n            &quot;args&quot;: &quot;&quot;,\n            &quot;preLaunchTask&quot;: &quot;Copy build-info from Gradle&quot;\n        }\n    ]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4777729,"reputation":161,"user_id":4117071,"display_name":"Sergey K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606813172,"creation_date":1606812557,"answer_id":65087266,"question_id":56634081,"body_markdown":"I tried [ProjectInfoAutoConfiguration][1] solution and thought it was better to use `@ConditionalOnMissingBean (BuildProperties.class)` instead\r\n`@ConditionalOnResource (resources = &quot;$ {spring.info.build.location: classpath: META-INF / build-info.properties}&quot;)`.\r\n\r\nBecause I can control the way `BuildProperties` are created:\r\n\r\n\r\n        @ConditionalOnMissingBean(BuildProperties.class)\r\n        @Bean\r\n        public BuildProperties buildProperties() throws IOException {\r\n                Resource r = this.properties.getBuild().getLocation();\r\n                if (r.exists())\r\n                    // build-info.properties exists in my jar\r\n\t\t\t\t\treturn new BuildProperties(\r\n\t\t\t\t\t\tloadFrom(r, &quot;build&quot;)); // see ProjectInfoAutoConfiguration code\r\n                else {\r\n\t\t\t\t\t// No, we running via IDE. So let&#39;s build a stub:\r\n\t\t\t\t\tProperties properties = new Properties();\r\n\t\t\t\t\tproperties.put(&quot;group&quot;, &quot;com.example&quot;);\r\n\t\t\t\t\tproperties.put(&quot;artifact&quot;, &quot;demo&quot;);\r\n\t\t\t\t\tproperties.put(&quot;version&quot;, &quot;not-jarred&quot;);\r\n\t\t\t\t\treturn new BuildProperties(properties);\r\n\t\t\t\t}\r\n        }\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/blob/968a637e50a67c4aa2ab2ecf70519851b9cd79b7/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/info/ProjectInfoAutoConfiguration.java#L66","title":"Failed Autowired of BuildProperties Spring Boot 2.1.5 &amp; eclipse","body":"<p>I tried <a href=\"https://github.com/spring-projects/spring-boot/blob/968a637e50a67c4aa2ab2ecf70519851b9cd79b7/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/info/ProjectInfoAutoConfiguration.java#L66\" rel=\"nofollow noreferrer\">ProjectInfoAutoConfiguration</a> solution and thought it was better to use <code>@ConditionalOnMissingBean (BuildProperties.class)</code> instead\n<code>@ConditionalOnResource (resources = &quot;$ {spring.info.build.location: classpath: META-INF / build-info.properties}&quot;)</code>.</p>\n<p>Because I can control the way <code>BuildProperties</code> are created:</p>\n<pre><code>    @ConditionalOnMissingBean(BuildProperties.class)\n    @Bean\n    public BuildProperties buildProperties() throws IOException {\n            Resource r = this.properties.getBuild().getLocation();\n            if (r.exists())\n                // build-info.properties exists in my jar\n                return new BuildProperties(\n                    loadFrom(r, &quot;build&quot;)); // see ProjectInfoAutoConfiguration code\n            else {\n                // No, we running via IDE. So let's build a stub:\n                Properties properties = new Properties();\n                properties.put(&quot;group&quot;, &quot;com.example&quot;);\n                properties.put(&quot;artifact&quot;, &quot;demo&quot;);\n                properties.put(&quot;version&quot;, &quot;not-jarred&quot;);\n                return new BuildProperties(properties);\n            }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1771933,"reputation":143,"user_id":1616546,"display_name":"randhir singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1622285394,"creation_date":1622285394,"answer_id":67750471,"question_id":56634081,"body_markdown":"If you are using lombok, make sure to exclude it configuration for spring-boot-maven-plugin, e.g.,\r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;excludes&gt;\r\n                    &lt;exclude&gt;\r\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                    &lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;build-info&lt;/id&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;build-info&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n\r\n","title":"Failed Autowired of BuildProperties Spring Boot 2.1.5 &amp; eclipse","body":"<p>If you are using lombok, make sure to exclude it configuration for spring-boot-maven-plugin, e.g.,</p>\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;excludes&gt;\n                &lt;exclude&gt;\n                    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;/exclude&gt;\n            &lt;/excludes&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;build-info&lt;/id&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;build-info&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2276745,"reputation":1429,"user_id":2002804,"accept_rate":40,"display_name":"Jaykishan"},"score":1,"creation_date":1665157809,"post_id":68686686,"comment_id":130641584,"body_markdown":"Alternative solution mentioned above is a fix, it&#39;s not leading to a solution.\nYou may end up, breaking business requirement with that.","body":"Alternative solution mentioned above is a fix, it&#39;s not leading to a solution. You may end up, breaking business requirement with that."}],"tags":[],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"comment_count":1,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1628281635,"creation_date":1628278223,"answer_id":68686686,"question_id":56634081,"body_markdown":"As correctly mentioned by [@Andr&#233; Schonrock][1], the cause of issue is [here][2]:\r\n\r\n&gt; Both the Maven plugin and the Gradle plugin allow generating build\r\n&gt; information containing the coordinates, name, and version of the\r\n&gt; project. The plugins can also be configured to add additional\r\n&gt; properties through configuration. When such a file is present, Spring\r\n&gt; Boot auto-configures a BuildProperties bean.\r\n\r\nSo you need either to add for `spring-boot-maven-plugin` in `POM`:\r\n\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n        \t&lt;goals&gt;\r\n        \t\t&lt;goal&gt;build-info&lt;/goal&gt;\r\n        \t&lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt; \r\n\r\nor to add in `build.gradle`:\r\n\r\n    springBoot {\r\n    \tbuildInfo()\r\n    }\r\n\r\nAs alternative way can be explicitly added `Bean` in a shorter form than was shown by [@djangofan][3]:\r\n\r\n    @Bean @ConditionalOnMissingBean(BuildProperties.class)\r\n    BuildProperties buildProperties() {\r\n        return new BuildProperties(new Properties());\r\n    }\r\n\r\nin configuration file.\r\n\r\n**Notice:** if you updated `POM` or `build.gradle`, but the error still appears, try to use (e.g. for `Maven`) lifecycle commands `clean` and then `install`  and run again the project.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/58081353/8370915\r\n  [2]: https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/howto-build.html#howto-build-info\r\n  [3]: https://stackoverflow.com/a/64034087/8370915","title":"Failed Autowired of BuildProperties Spring Boot 2.1.5 &amp; eclipse","body":"<p>As correctly mentioned by <a href=\"https://stackoverflow.com/a/58081353/8370915\">@André Schonrock</a>, the cause of issue is <a href=\"https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/howto-build.html#howto-build-info\" rel=\"noreferrer\">here</a>:</p>\n<blockquote>\n<p>Both the Maven plugin and the Gradle plugin allow generating build\ninformation containing the coordinates, name, and version of the\nproject. The plugins can also be configured to add additional\nproperties through configuration. When such a file is present, Spring\nBoot auto-configures a BuildProperties bean.</p>\n</blockquote>\n<p>So you need either to add for <code>spring-boot-maven-plugin</code> in <code>POM</code>:</p>\n<pre><code>&lt;executions&gt;\n    &lt;execution&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;build-info&lt;/goal&gt;\n        &lt;/goals&gt;\n    &lt;/execution&gt;\n&lt;/executions&gt; \n</code></pre>\n<p>or to add in <code>build.gradle</code>:</p>\n<pre><code>springBoot {\n    buildInfo()\n}\n</code></pre>\n<p>As alternative way can be explicitly added <code>Bean</code> in a shorter form than was shown by <a href=\"https://stackoverflow.com/a/64034087/8370915\">@djangofan</a>:</p>\n<pre><code>@Bean @ConditionalOnMissingBean(BuildProperties.class)\nBuildProperties buildProperties() {\n    return new BuildProperties(new Properties());\n}\n</code></pre>\n<p>in configuration file.</p>\n<p><strong>Notice:</strong> if you updated <code>POM</code> or <code>build.gradle</code>, but the error still appears, try to use (e.g. for <code>Maven</code>) lifecycle commands <code>clean</code> and then <code>install</code>  and run again the project.</p>\n"},{"comments":[{"owner":{"account_id":3832252,"reputation":938,"user_id":3177532,"accept_rate":91,"display_name":"solujic"},"score":1,"creation_date":1666797387,"post_id":69486487,"comment_id":131021880,"body_markdown":"This did the trick for me... good tip","body":"This did the trick for me... good tip"},{"owner":{"account_id":1234435,"reputation":477,"user_id":1198341,"display_name":"rodrix"},"score":0,"creation_date":1691022708,"post_id":69486487,"comment_id":135435913,"body_markdown":"Solved here! Thanks!","body":"Solved here! Thanks!"}],"tags":[],"owner":{"account_id":3397610,"reputation":1553,"user_id":2850801,"accept_rate":39,"display_name":"Venu"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1633633114,"creation_date":1633633114,"answer_id":69486487,"question_id":56634081,"body_markdown":"If using Intelli and maven, here is screenshot on how to change the runner and use maven runner. Ideally this is best suggested, as we can run exactly how maven runs in the ide also.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wv29t.png","title":"Failed Autowired of BuildProperties Spring Boot 2.1.5 &amp; eclipse","body":"<p>If using Intelli and maven, here is screenshot on how to change the runner and use maven runner. Ideally this is best suggested, as we can run exactly how maven runs in the ide also.</p>\n<p><a href=\"https://i.stack.imgur.com/wv29t.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wv29t.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":3066131,"reputation":1764,"user_id":2597775,"accept_rate":58,"display_name":"sebasira"},"score":0,"creation_date":1639934474,"post_id":70180170,"comment_id":124469511,"body_markdown":"Hi! If I&#39;d like to have a field named `build.version` that has the value of `version` in my build.gradle, how would I access that?","body":"Hi! If I&#39;d like to have a field named <code>build.version</code> that has the value of <code>version</code> in my build.gradle, how would I access that?"}],"tags":[],"owner":{"account_id":11465333,"reputation":4830,"user_id":8403689,"display_name":"Imranmadbar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638341839,"creation_date":1638341839,"answer_id":70180170,"question_id":56634081,"body_markdown":"For Gradle Project: add this on **build.gradle** file\r\n\r\n\r\n\r\n\r\n\t\tspringBoot {\r\n\t\t\tbuildInfo {\r\n\t\t\t\tproperties {\r\n\t\t\t\t\tname = PROJECT_NAME\r\n\t\t\t\t\tadditional = [\r\n\t\t\t\t\t\t\t&#39;yourCustomInfo&#39;: &#39;someInfo&#39;\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n","title":"Failed Autowired of BuildProperties Spring Boot 2.1.5 &amp; eclipse","body":"<p>For Gradle Project: add this on <strong>build.gradle</strong> file</p>\n<pre><code>    springBoot {\n        buildInfo {\n            properties {\n                name = PROJECT_NAME\n                additional = [\n                        'yourCustomInfo': 'someInfo'\n                ]\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1056586,"reputation":11,"user_id":1296799,"display_name":"user1296799"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642102897,"creation_date":1642102897,"answer_id":70702203,"question_id":56634081,"body_markdown":"The issue is STS and Intellij doesn&#39;t run the buildinfo task while running the application as a Spring Boot Application. Since most developers run the app through this mechanism rather than using gradle / maven build need to have a solution that works for both. I followed Sergey K&#39;s answer and it worked for IDE based Spring boot run. But for gradle run it failed because the BuildProperties was getting autowired from the Configuration file instead of the generated build-info.properties file.\r\n\r\nI was able to overcome this by having the following Component and autowiring it\r\n\r\n    \r\n\r\n    @Component\r\n    public BuildValues{\r\n       @Autowired(required = false)\r\n       private buildProperties;\r\n       \r\n       public getBuildProperties(){\r\n           if(buildProperties==null) {\r\n    \t      ResourceLoader resourceLoader = new DefaultResourceLoader();\r\n    \t      Resource r = resourceLoader.getResource(&quot;classpath:META-INF/build- \r\n            info.properties&quot;);\r\n    \tif (r.exists()) {\r\n    \t\t// build-info.properties exists in my jar\r\n    \t\tProperties prop = PropertiesLoaderUtils.loadProperties(r);\r\n    \t\tbuildProperties =  new BuildProperties(prop);\r\n        }else {\r\n        // No, we running via IDE. So let&#39;s build a stub:\r\n    \t\tProperties properties = new Properties();\r\n    \t\tproperties.put(&quot;buildTime&quot;, &quot;2022-01-13T14:38:06.567Z&quot;);\r\n    \t    buildProperties = new BuildProperties(properties);\r\n    \t}\r\n        }\r\n        return buildProperties;\r\n       }\r\n    \r\n    } \r\n\r\n\r\n\r\n","title":"Failed Autowired of BuildProperties Spring Boot 2.1.5 &amp; eclipse","body":"<p>The issue is STS and Intellij doesn't run the buildinfo task while running the application as a Spring Boot Application. Since most developers run the app through this mechanism rather than using gradle / maven build need to have a solution that works for both. I followed Sergey K's answer and it worked for IDE based Spring boot run. But for gradle run it failed because the BuildProperties was getting autowired from the Configuration file instead of the generated build-info.properties file.</p>\n<p>I was able to overcome this by having the following Component and autowiring it</p>\n<pre><code>@Component\npublic BuildValues{\n   @Autowired(required = false)\n   private buildProperties;\n   \n   public getBuildProperties(){\n       if(buildProperties==null) {\n          ResourceLoader resourceLoader = new DefaultResourceLoader();\n          Resource r = resourceLoader.getResource(&quot;classpath:META-INF/build- \n        info.properties&quot;);\n    if (r.exists()) {\n        // build-info.properties exists in my jar\n        Properties prop = PropertiesLoaderUtils.loadProperties(r);\n        buildProperties =  new BuildProperties(prop);\n    }else {\n    // No, we running via IDE. So let's build a stub:\n        Properties properties = new Properties();\n        properties.put(&quot;buildTime&quot;, &quot;2022-01-13T14:38:06.567Z&quot;);\n        buildProperties = new BuildProperties(properties);\n    }\n    }\n    return buildProperties;\n   }\n\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1785480,"reputation":73,"user_id":1627034,"display_name":"Prabakaran Selvaraj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696277133,"creation_date":1696277133,"answer_id":77218232,"question_id":56634081,"body_markdown":"As others rightly pointed, the problem is with the IDE. For IntelliJ, the alternative solution is modifying the spring-boot:build-info to &quot;Execute After Rebuild&quot; as shown below.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TNXYt.png","title":"Failed Autowired of BuildProperties Spring Boot 2.1.5 &amp; eclipse","body":"<p>As others rightly pointed, the problem is with the IDE. For IntelliJ, the alternative solution is modifying the spring-boot:build-info to &quot;Execute After Rebuild&quot; as shown below.\n<a href=\"https://i.stack.imgur.com/TNXYt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TNXYt.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":9057739,"reputation":645,"user_id":6745399,"display_name":"ROOTKILL"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76830,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":56636849,"answer_count":15,"score":55,"last_activity_date":1696277133,"creation_date":1560784014,"question_id":56634081,"body_markdown":"I&#39;m creating a very simple application with a few REST API&#39;s and it&#39;s currently working correctly until I try to use the BuildProperties on my health check API. While starting my application I get the following error:\r\n\r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2019-06-17 09:54:29.210 ERROR 10796 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Field buildProperties in com.controller.HealthCheck required a bean of type &#39;org.springframework.boot.info.BuildProperties&#39; that could not be found.\r\n    \r\n    The injection point has the following annotations:\r\n    \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    \r\n    The following candidates were found but could not be injected:\r\n    \t- Bean method &#39;buildProperties&#39; in &#39;ProjectInfoAutoConfiguration&#39; not loaded because @ConditionalOnResource did not find resource &#39;${spring.info.build.location:classpath:META-INF/build-info.properties}&#39;\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider revisiting the entries above or defining a bean of type &#39;org.springframework.boot.info.BuildProperties&#39; in your configuration.\r\n\r\n\r\n\r\nI went to the build file and I also looked in the jar file created by the build and I see the build-info.properties is in fact there. In the jar file the path to the file is &quot;BOOT-INF\\classes\\META-INF\\&quot;. I also have other &quot;Autowired&quot; elements that are not having issues.\r\n\r\nWhere my code fails:\r\n\r\n    @RestController\r\n    public class HealthCheck {\r\n    \t\r\n    \t@Autowired\r\n    \tEnvironment environment;\r\n    \t\r\n    \t@Autowired \r\n        BuildProperties buildProperties;\r\n    \r\n    \t\r\n    \t@GetMapping(&quot;/health&quot;)\r\n    \tpublic HealthCheckResponse healthCheck() {\r\n    \t\treturn getHealthCheckResponse();\r\n    \t}\r\n    \r\n    \tprivate HealthCheckResponse getHealthCheckResponse(){\r\n    \t\tHealthCheckResponse healthResponse = new HealthCheckResponse();\r\n    \t\tString[] profiles = environment.getActiveProfiles();\r\n    \t\t\r\n    \t\thealthResponse.setServerTime(new Date());\r\n    \t\thealthResponse.setVersion(buildProperties.getVersion());\r\n    \t\thealthResponse.setEnvironment(profiles[0]);\r\n    \t\t\r\n    \t\treturn healthResponse;\r\n    \t}\r\n\r\n\r\n\r\nMy gradle build file:\r\n\r\n    plugins {\r\n    \tid &#39;org.asciidoctor.convert&#39; version &#39;1.5.3&#39;\r\n    \tid &#39;org.springframework.boot&#39; version &#39;2.1.5.RELEASE&#39;\r\n    \tid &#39;java&#39;\r\n    }\r\n    \r\n    apply plugin: &#39;io.spring.dependency-management&#39;\r\n    apply plugin: &#39;eclipse&#39;\r\n    apply plugin: &#39;java&#39;\r\n    \r\n    group = &#39;com&#39;\r\n    version = &#39;0.0.1&#39;\r\n    sourceCompatibility = &#39;12&#39;\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    ext {\r\n    \tset(&#39;snippetsDir&#39;, file(&quot;build/generated-snippets&quot;))\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-jersey&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \timplementation &#39;com.github.ulisesbocchio:jasypt-spring-boot-starter:2.1.1&#39;\r\n    \truntimeOnly &#39;mysql:mysql-connector-java&#39;\r\n    \tannotationProcessor &#39;org.springframework.boot:spring-boot-configuration-processor&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    \ttestImplementation &#39;org.springframework.restdocs:spring-restdocs-webtestclient&#39;\r\n    \ttestImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n    }\r\n    \r\n    test {\r\n    \toutputs.dir snippetsDir\r\n    }\r\n    \r\n    asciidoctor {\r\n    \tinputs.dir snippetsDir\r\n    \tdependsOn test\r\n    }\r\n    \r\n    springBoot {\r\n        buildInfo()\r\n    }\r\n\r\nbuild-info.properties:\r\n\r\n    #Properties\r\n    #Mon Jun 17 10:52:04 EDT 2019\r\n    build.version=0.0.1\r\n    build.group=com\r\n    build.name=app\r\n    build.artifact=app\r\n    build.time=2019-06-17T14\\:52\\:04.829909200Z","title":"Failed Autowired of BuildProperties Spring Boot 2.1.5 &amp; eclipse","body":"<p>I'm creating a very simple application with a few REST API's and it's currently working correctly until I try to use the BuildProperties on my health check API. While starting my application I get the following error:</p>\n\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2019-06-17 09:54:29.210 ERROR 10796 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField buildProperties in com.controller.HealthCheck required a bean of type 'org.springframework.boot.info.BuildProperties' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\nThe following candidates were found but could not be injected:\n    - Bean method 'buildProperties' in 'ProjectInfoAutoConfiguration' not loaded because @ConditionalOnResource did not find resource '${spring.info.build.location:classpath:META-INF/build-info.properties}'\n\n\nAction:\n\nConsider revisiting the entries above or defining a bean of type 'org.springframework.boot.info.BuildProperties' in your configuration.\n</code></pre>\n\n<p>I went to the build file and I also looked in the jar file created by the build and I see the build-info.properties is in fact there. In the jar file the path to the file is \"BOOT-INF\\classes\\META-INF\\\". I also have other \"Autowired\" elements that are not having issues.</p>\n\n<p>Where my code fails:</p>\n\n<pre><code>@RestController\npublic class HealthCheck {\n\n    @Autowired\n    Environment environment;\n\n    @Autowired \n    BuildProperties buildProperties;\n\n\n    @GetMapping(\"/health\")\n    public HealthCheckResponse healthCheck() {\n        return getHealthCheckResponse();\n    }\n\n    private HealthCheckResponse getHealthCheckResponse(){\n        HealthCheckResponse healthResponse = new HealthCheckResponse();\n        String[] profiles = environment.getActiveProfiles();\n\n        healthResponse.setServerTime(new Date());\n        healthResponse.setVersion(buildProperties.getVersion());\n        healthResponse.setEnvironment(profiles[0]);\n\n        return healthResponse;\n    }\n</code></pre>\n\n<p>My gradle build file:</p>\n\n<pre><code>plugins {\n    id 'org.asciidoctor.convert' version '1.5.3'\n    id 'org.springframework.boot' version '2.1.5.RELEASE'\n    id 'java'\n}\n\napply plugin: 'io.spring.dependency-management'\napply plugin: 'eclipse'\napply plugin: 'java'\n\ngroup = 'com'\nversion = '0.0.1'\nsourceCompatibility = '12'\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    set('snippetsDir', file(\"build/generated-snippets\"))\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-jersey'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'com.github.ulisesbocchio:jasypt-spring-boot-starter:2.1.1'\n    runtimeOnly 'mysql:mysql-connector-java'\n    annotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.springframework.restdocs:spring-restdocs-webtestclient'\n    testImplementation 'org.springframework.security:spring-security-test'\n}\n\ntest {\n    outputs.dir snippetsDir\n}\n\nasciidoctor {\n    inputs.dir snippetsDir\n    dependsOn test\n}\n\nspringBoot {\n    buildInfo()\n}\n</code></pre>\n\n<p>build-info.properties:</p>\n\n<pre><code>#Properties\n#Mon Jun 17 10:52:04 EDT 2019\nbuild.version=0.0.1\nbuild.group=com\nbuild.name=app\nbuild.artifact=app\nbuild.time=2019-06-17T14\\:52\\:04.829909200Z\n</code></pre>\n"},{"tags":["java","magnolia","commercetools"],"answers":[{"tags":[],"owner":{"account_id":5612501,"reputation":154,"user_id":4444822,"display_name":"Alberto Soto"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1696277124,"creation_date":1693999475,"answer_id":77051435,"question_id":77050425,"body_markdown":"I am from the team of Magnolia. Let me point on your comment and reply each different aspect.\r\n\r\n\r\n&gt; I&#39;m looking for information about the connector or plugin that comes\r\n&gt; integrated with Magnolia and that allows working with CommerceTools\r\n&gt; microservices, but I can&#39;t find anything.\r\n\r\nThe commerce connector pack has un updated documentation that can be reached here https://docs.magnolia-cms.com/product-docs/6.2/Connector-Packs/Commerce-Connector-Pack.html\r\n\r\nThis module is part of the enterprise version, and also part of our connector pack.\r\n\r\nI have checked it, and there is an updated version, as I will detail bellow.\r\nYou can find information about templating, definitions, and key setting to retrieve the information in the previous link. Please, let us know if you miss anything there.\r\n\r\n&gt; What worries us most is that the current version we have installed of\r\n&gt; this connector is 1.2, which uses version 1.51.0 of the CommerceTools\r\n&gt; SDK v1.\r\n\r\nAs pointed in here https://docs.magnolia-cms.com/product-docs/6.2/Connector-Packs/Commerce-Connector-Pack/E-commerce-module.html the last version is 1.3.4 and, as you can see in our open source repo for it, the api connector that is\r\n\r\n       &lt;commercetoolsSDKVersion&gt;7.6.0&lt;/commercetoolsSDKVersion&gt;\r\n\r\n    &lt;!-- commercetools SDK Version 2 --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.commercetools.sdk&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commercetools-okhttp-client3&lt;/artifactId&gt;\r\n        &lt;version&gt;${commercetoolsSDKVersion}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.commercetools.sdk&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commercetools-sdk-java-api&lt;/artifactId&gt;\r\n        &lt;version&gt;${commercetoolsSDKVersion}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.commercetools.sdk&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commercetools-sdk-java-ml&lt;/artifactId&gt;\r\n        &lt;version&gt;${commercetoolsSDKVersion}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.commercetools.sdk&lt;/groupId&gt;\r\n        &lt;artifactId&gt;rmf-java-base&lt;/artifactId&gt;\r\n        &lt;version&gt;${commercetoolsSDKVersion}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\nIt brings a new API for commercetools in the api should be compatible. \r\n\r\n&gt; As we all know, on January 1, 2024, this SDK v1 will no longer work\r\n&gt; and it is necessary to migrate all the code to the SDK v2.\r\n\r\nAs suggested, just upgrade your plugin.\r\nThere are some minimal concerns, related to the templating, I saw that there are a retro compatibility templating system which will allow you to use any templating functions you have, and notice that is deprecated.\r\n\r\nI made some research related to the package version and differences as we had a similar question recently:\r\n\r\n- In the module by itself, there are no major changes than API, and packages seem to be different.\r\n- According to dependencies, it removes netty dependencies, which are not needed anymore\r\n- EcommerceConnectionProvider just includes more functionality\r\n- Category &amp; Product are compatible for the upgrade. \r\n- Templating seems to be improved as there are deprectaed dialogs which are equivalent to 1.2 and new versions, under v3 which are different. Follow the provided ones\r\n\r\nFor instance, you have the following definition for categoryList:\r\n\r\ncategory-list-v3.ftl\t\r\ncategory-list-v3.yaml\t\r\ncategory-list.ftl\t\r\ncategory-list.yaml\r\n\r\nThe same pattern happens for the following definitions/components, that you may know if you are using the previous version: \r\n \r\ncategory-list, product-detail, product-list, product-teaser\r\n\r\nKeep in mind that you may need to decorate them or overwrite to fit your current product, but it should work. https://docs.magnolia-cms.com/product-docs/6.2/Developing/Definition-decoration.html\r\n\r\n&gt; What we don&#39;t know is if there is a new version of the connector, or\r\n&gt; if there will be a way to update the mentioned connector 1.2 to be\r\n&gt; compatible with the CTP-SDK v2.\r\n\r\nYou can check the resolution long time ago from https://jira.magnolia-cms.com/browse/ECOMMERCE-491 \r\n\r\n&gt; Can anyone help us find information about this issue?\r\n\r\nAs a minor upgrade version following our https://docs.magnolia-cms.com/product-docs/6.2/Support/Deprecation-policy.html it should be compatible.\r\n","title":"I&#39;m looking for information about connector between CommerceTools and Magnolia","body":"<p>I am from the team of Magnolia. Let me point on your comment and reply each different aspect.</p>\n<blockquote>\n<p>I'm looking for information about the connector or plugin that comes\nintegrated with Magnolia and that allows working with CommerceTools\nmicroservices, but I can't find anything.</p>\n</blockquote>\n<p>The commerce connector pack has un updated documentation that can be reached here <a href=\"https://docs.magnolia-cms.com/product-docs/6.2/Connector-Packs/Commerce-Connector-Pack.html\" rel=\"nofollow noreferrer\">https://docs.magnolia-cms.com/product-docs/6.2/Connector-Packs/Commerce-Connector-Pack.html</a></p>\n<p>This module is part of the enterprise version, and also part of our connector pack.</p>\n<p>I have checked it, and there is an updated version, as I will detail bellow.\nYou can find information about templating, definitions, and key setting to retrieve the information in the previous link. Please, let us know if you miss anything there.</p>\n<blockquote>\n<p>What worries us most is that the current version we have installed of\nthis connector is 1.2, which uses version 1.51.0 of the CommerceTools\nSDK v1.</p>\n</blockquote>\n<p>As pointed in here <a href=\"https://docs.magnolia-cms.com/product-docs/6.2/Connector-Packs/Commerce-Connector-Pack/E-commerce-module.html\" rel=\"nofollow noreferrer\">https://docs.magnolia-cms.com/product-docs/6.2/Connector-Packs/Commerce-Connector-Pack/E-commerce-module.html</a> the last version is 1.3.4 and, as you can see in our open source repo for it, the api connector that is</p>\n<pre><code>   &lt;commercetoolsSDKVersion&gt;7.6.0&lt;/commercetoolsSDKVersion&gt;\n\n&lt;!-- commercetools SDK Version 2 --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.commercetools.sdk&lt;/groupId&gt;\n    &lt;artifactId&gt;commercetools-okhttp-client3&lt;/artifactId&gt;\n    &lt;version&gt;${commercetoolsSDKVersion}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.commercetools.sdk&lt;/groupId&gt;\n    &lt;artifactId&gt;commercetools-sdk-java-api&lt;/artifactId&gt;\n    &lt;version&gt;${commercetoolsSDKVersion}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.commercetools.sdk&lt;/groupId&gt;\n    &lt;artifactId&gt;commercetools-sdk-java-ml&lt;/artifactId&gt;\n    &lt;version&gt;${commercetoolsSDKVersion}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.commercetools.sdk&lt;/groupId&gt;\n    &lt;artifactId&gt;rmf-java-base&lt;/artifactId&gt;\n    &lt;version&gt;${commercetoolsSDKVersion}&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>It brings a new API for commercetools in the api should be compatible.</p>\n<blockquote>\n<p>As we all know, on January 1, 2024, this SDK v1 will no longer work\nand it is necessary to migrate all the code to the SDK v2.</p>\n</blockquote>\n<p>As suggested, just upgrade your plugin.\nThere are some minimal concerns, related to the templating, I saw that there are a retro compatibility templating system which will allow you to use any templating functions you have, and notice that is deprecated.</p>\n<p>I made some research related to the package version and differences as we had a similar question recently:</p>\n<ul>\n<li>In the module by itself, there are no major changes than API, and packages seem to be different.</li>\n<li>According to dependencies, it removes netty dependencies, which are not needed anymore</li>\n<li>EcommerceConnectionProvider just includes more functionality</li>\n<li>Category &amp; Product are compatible for the upgrade.</li>\n<li>Templating seems to be improved as there are deprectaed dialogs which are equivalent to 1.2 and new versions, under v3 which are different. Follow the provided ones</li>\n</ul>\n<p>For instance, you have the following definition for categoryList:</p>\n<p>category-list-v3.ftl<br />\ncategory-list-v3.yaml<br />\ncategory-list.ftl<br />\ncategory-list.yaml</p>\n<p>The same pattern happens for the following definitions/components, that you may know if you are using the previous version:</p>\n<p>category-list, product-detail, product-list, product-teaser</p>\n<p>Keep in mind that you may need to decorate them or overwrite to fit your current product, but it should work. <a href=\"https://docs.magnolia-cms.com/product-docs/6.2/Developing/Definition-decoration.html\" rel=\"nofollow noreferrer\">https://docs.magnolia-cms.com/product-docs/6.2/Developing/Definition-decoration.html</a></p>\n<blockquote>\n<p>What we don't know is if there is a new version of the connector, or\nif there will be a way to update the mentioned connector 1.2 to be\ncompatible with the CTP-SDK v2.</p>\n</blockquote>\n<p>You can check the resolution long time ago from <a href=\"https://jira.magnolia-cms.com/browse/ECOMMERCE-491\" rel=\"nofollow noreferrer\">https://jira.magnolia-cms.com/browse/ECOMMERCE-491</a></p>\n<blockquote>\n<p>Can anyone help us find information about this issue?</p>\n</blockquote>\n<p>As a minor upgrade version following our <a href=\"https://docs.magnolia-cms.com/product-docs/6.2/Support/Deprecation-policy.html\" rel=\"nofollow noreferrer\">https://docs.magnolia-cms.com/product-docs/6.2/Support/Deprecation-policy.html</a> it should be compatible.</p>\n"}],"owner":{"account_id":7095080,"reputation":51,"user_id":5428976,"accept_rate":75,"display_name":"MiguelHoz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694010082,"accepted_answer_id":77051435,"answer_count":1,"score":0,"last_activity_date":1696277124,"creation_date":1693990597,"question_id":77050425,"body_markdown":"I&#39;m looking for information about the connector or plugin that comes integrated with Magnolia and that allows working with CommerceTools microservices, but I can&#39;t find anything.\r\n\r\nWhat worries us most is that the current version we have installed of this connector is 1.2, which uses version 1.51.0 of the CommerceTools SDK v1.\r\n\r\nAs we all know, on January 1, 2024, this SDK v1 will no longer work and it is necessary to migrate all the code to the SDK v2.\r\n\r\nWhat we don&#39;t know is if there is a new version of the connector, or if there will be a way to update the mentioned connector 1.2 to be compatible with the CTP-SDK v2.\r\n\r\nCan anyone help us find information about this issue?\r\n","title":"I&#39;m looking for information about connector between CommerceTools and Magnolia","body":"<p>I'm looking for information about the connector or plugin that comes integrated with Magnolia and that allows working with CommerceTools microservices, but I can't find anything.</p>\n<p>What worries us most is that the current version we have installed of this connector is 1.2, which uses version 1.51.0 of the CommerceTools SDK v1.</p>\n<p>As we all know, on January 1, 2024, this SDK v1 will no longer work and it is necessary to migrate all the code to the SDK v2.</p>\n<p>What we don't know is if there is a new version of the connector, or if there will be a way to update the mentioned connector 1.2 to be compatible with the CTP-SDK v2.</p>\n<p>Can anyone help us find information about this issue?</p>\n"},{"tags":["java","arrays","rest","post","jersey"],"comments":[{"owner":{"account_id":5857206,"reputation":350,"user_id":4633439,"display_name":"Lena"},"score":0,"creation_date":1560673053,"post_id":14893932,"comment_id":99808174,"body_markdown":"Don&#39;t you mean JavaScript instead of Java with the tags?","body":"Don&#39;t you mean JavaScript instead of Java with the tags?"}],"answers":[{"tags":[],"owner":{"account_id":1130089,"reputation":24025,"user_id":1116391,"display_name":"Bogdan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361125177,"creation_date":1361125177,"answer_id":14924403,"question_id":14893932,"body_markdown":"I&#39;m assuming it&#39;s because of the format you send the data in. Shouldn&#39;t the data you post be the entire stringified JSON? (including `value` which normally should be `location`?)\r\n\r\nWhat I mean is that Jersey uses different [JSON notations][1] to serialize/deserialize messages so if for example you use MAPPED notation you should send something like:\r\n\r\n    {&quot;location&quot;:[\r\n    \t{&quot;alt&quot;:1,&quot;lat&quot;:2,&quot;long&quot;:3,&quot;time&quot;:4},\r\n    \t{&quot;alt&quot;:5,&quot;lat&quot;:6,&quot;long&quot;:7,&quot;time&quot;:8}\r\n    ]}\r\n\r\nwhich means code like this with jQuery:\r\n\r\n    $.ajax({\r\n    \tdata : JSON.stringify( \r\n    \t{&quot;location&quot; : [\r\n    \t\t{ alt: 1, lat: 2, long: 3, time: 4 },\r\n    \t\t{ alt: 5, lat: 6, long: 7, time: 8 }\r\n    \t]}),\r\n        ....\r\n\r\nFor a NATURAL notation you should send:\r\n\r\n    [\r\n    \t{&quot;alt&quot;:1,&quot;lat&quot;:2,&quot;long&quot;:3,&quot;time&quot;:4},\r\n    \t{&quot;alt&quot;:5,&quot;lat&quot;:6,&quot;long&quot;:7,&quot;time&quot;:8}\r\n    ]\r\n\r\nwhich means code like:\r\n\r\n    $.ajax({\r\n    \tdata : JSON.stringify( \r\n    \t[\r\n    \t\t{ alt: 1, lat: 2, long: 3, time: 4 },\r\n    \t\t{ alt: 5, lat: 6, long: 7, time: 8 }\r\n    \t]),\r\n        ...\r\n\r\n\r\nA fast way to see the default behaviour is to add this to your service and see what format it returns:\r\n\r\n    @GET\r\n    @Produces({ MediaType.APPLICATION_JSON })\r\n    @Path(&quot;/testNotation&quot;)\r\n    public Location[] getLocations() {\r\n    \treturn new Location[] { new Location(), new Location() };\r\n    }\r\n\r\nSee here for some extra information:\r\n\r\nhttp://jersey.java.net/nonav/documentation/latest/json.html &lt;br/&gt;\r\nhttp://jersey.java.net/nonav/apidocs/1.17/jersey/com/sun/jersey/api/json/JSONConfiguration.html &lt;br/&gt;\r\nhttp://jersey.java.net/nonav/apidocs/1.17/jersey/com/sun/jersey/api/json/JSONConfiguration.Notation.html &lt;br/&gt;\r\nhttp://tugdualgrall.blogspot.ro/2011/09/jax-rs-jersey-and-single-element-arrays.html\r\n\r\n  [1]: http://jersey.java.net/nonav/documentation/latest/json.html#d4e949\r\n\r\n","title":"How send Array to REST-Service (Jersey) with POST","body":"<p>I'm assuming it's because of the format you send the data in. Shouldn't the data you post be the entire stringified JSON? (including <code>value</code> which normally should be <code>location</code>?)</p>\n\n<p>What I mean is that Jersey uses different <a href=\"http://jersey.java.net/nonav/documentation/latest/json.html#d4e949\" rel=\"nofollow\">JSON notations</a> to serialize/deserialize messages so if for example you use MAPPED notation you should send something like:</p>\n\n<pre><code>{\"location\":[\n    {\"alt\":1,\"lat\":2,\"long\":3,\"time\":4},\n    {\"alt\":5,\"lat\":6,\"long\":7,\"time\":8}\n]}\n</code></pre>\n\n<p>which means code like this with jQuery:</p>\n\n<pre><code>$.ajax({\n    data : JSON.stringify( \n    {\"location\" : [\n        { alt: 1, lat: 2, long: 3, time: 4 },\n        { alt: 5, lat: 6, long: 7, time: 8 }\n    ]}),\n    ....\n</code></pre>\n\n<p>For a NATURAL notation you should send:</p>\n\n<pre><code>[\n    {\"alt\":1,\"lat\":2,\"long\":3,\"time\":4},\n    {\"alt\":5,\"lat\":6,\"long\":7,\"time\":8}\n]\n</code></pre>\n\n<p>which means code like:</p>\n\n<pre><code>$.ajax({\n    data : JSON.stringify( \n    [\n        { alt: 1, lat: 2, long: 3, time: 4 },\n        { alt: 5, lat: 6, long: 7, time: 8 }\n    ]),\n    ...\n</code></pre>\n\n<p>A fast way to see the default behaviour is to add this to your service and see what format it returns:</p>\n\n<pre><code>@GET\n@Produces({ MediaType.APPLICATION_JSON })\n@Path(\"/testNotation\")\npublic Location[] getLocations() {\n    return new Location[] { new Location(), new Location() };\n}\n</code></pre>\n\n<p>See here for some extra information:</p>\n\n<p><a href=\"http://jersey.java.net/nonav/documentation/latest/json.html\" rel=\"nofollow\">http://jersey.java.net/nonav/documentation/latest/json.html</a> <br/>\n<a href=\"http://jersey.java.net/nonav/apidocs/1.17/jersey/com/sun/jersey/api/json/JSONConfiguration.html\" rel=\"nofollow\">http://jersey.java.net/nonav/apidocs/1.17/jersey/com/sun/jersey/api/json/JSONConfiguration.html</a> <br/>\n<a href=\"http://jersey.java.net/nonav/apidocs/1.17/jersey/com/sun/jersey/api/json/JSONConfiguration.Notation.html\" rel=\"nofollow\">http://jersey.java.net/nonav/apidocs/1.17/jersey/com/sun/jersey/api/json/JSONConfiguration.Notation.html</a> <br/>\n<a href=\"http://tugdualgrall.blogspot.ro/2011/09/jax-rs-jersey-and-single-element-arrays.html\" rel=\"nofollow\">http://tugdualgrall.blogspot.ro/2011/09/jax-rs-jersey-and-single-element-arrays.html</a></p>\n"}],"owner":{"account_id":1857408,"reputation":643,"user_id":1682698,"accept_rate":36,"display_name":"Tim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7984,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1696276875,"creation_date":1360928395,"question_id":14893932,"body_markdown":"i want to send an array of Locations to an REST-Service with JQuery.\r\n\r\nMy Code\r\n\r\n    var locations = new Array();\r\n    var loc = new Location();\r\n    loc.alt = 0;\r\n    loc.lat = 0;\r\n    loc.long = 0;\r\n    loc.time = 1;\r\n\t\t\r\n    locations.push(loc);\r\n\t\t\r\n\tvar json_data = {value : JSON.stringify(locations)};\r\n\tconsole.log(json_data);\r\n\t\t\r\n\t$.ajax({type: &#39;POST&#39;,\r\n\t        url: rootURL + &#39;/Location/123&#39;,\r\n\t        crossDomain: true,\r\n\t        dataType: &quot;json&quot;, // data type of response\r\n\t        contentType: &quot;application/json; charset=utf-8&quot;,\r\n\t        data: json_data,\r\n\t        success: function(data, textStatus, jqXHR) {\r\n\t        \tconsole.log(&#39;testAddLocations erfolgreich&#39;);\r\n\t        },\r\n\t        error: function(jqXHR, textStatus, errorThrown) {\r\n\t        \tconsole.log(&#39;testAddLocations Fehler&#39;);\r\n\t        }\r\n\t    });\r\n\r\nREST-Service\r\n\r\n    @POST\r\n\t@Produces({ MediaType.APPLICATION_JSON })\r\n\t@Path(&quot;{tripID}&quot;)\r\n\tpublic Response addLocations(@PathParam(&quot;tripID&quot;) final String tripID, Location[] value) {\r\n\r\n\r\nBut i get an HTTP-500 Error. On the Server:\r\n\r\n    SCHWERWIEGEND: The RuntimeException could not be mapped to a response, re-throwing to the HTTP container\r\n    JsonFormatException{text=v, line=1, column=1}\r\n\tat com.sun.jersey.json.impl.reader.JsonLexer.yylex(JsonLexer.java:662)\r\n\tat com.sun.jersey.json.impl.reader.JsonXmlStreamReader.nextToken(JsonXmlStreamReader.java:162)\r\n","title":"How send Array to REST-Service (Jersey) with POST","body":"<p>i want to send an array of Locations to an REST-Service with JQuery.</p>\n\n<p>My Code</p>\n\n<pre><code>var locations = new Array();\nvar loc = new Location();\nloc.alt = 0;\nloc.lat = 0;\nloc.long = 0;\nloc.time = 1;\n\nlocations.push(loc);\n\nvar json_data = {value : JSON.stringify(locations)};\nconsole.log(json_data);\n\n$.ajax({type: 'POST',\n        url: rootURL + '/Location/123',\n        crossDomain: true,\n        dataType: \"json\", // data type of response\n        contentType: \"application/json; charset=utf-8\",\n        data: json_data,\n        success: function(data, textStatus, jqXHR) {\n            console.log('testAddLocations erfolgreich');\n        },\n        error: function(jqXHR, textStatus, errorThrown) {\n            console.log('testAddLocations Fehler');\n        }\n    });\n</code></pre>\n\n<p>REST-Service</p>\n\n<pre><code>@POST\n@Produces({ MediaType.APPLICATION_JSON })\n@Path(\"{tripID}\")\npublic Response addLocations(@PathParam(\"tripID\") final String tripID, Location[] value) {\n</code></pre>\n\n<p>But i get an HTTP-500 Error. On the Server:</p>\n\n<pre><code>SCHWERWIEGEND: The RuntimeException could not be mapped to a response, re-throwing to the HTTP container\nJsonFormatException{text=v, line=1, column=1}\nat com.sun.jersey.json.impl.reader.JsonLexer.yylex(JsonLexer.java:662)\nat com.sun.jersey.json.impl.reader.JsonXmlStreamReader.nextToken(JsonXmlStreamReader.java:162)\n</code></pre>\n"},{"tags":["java","classnotfoundexception","opencsv"],"comments":[{"owner":{"account_id":8148968,"reputation":1793,"user_id":6136697,"display_name":"M. Rizzo"},"score":0,"creation_date":1696274064,"post_id":77217848,"comment_id":136129525,"body_markdown":"Did you check the Run configuration within Eclipse and make sure the opencsv file is appearing in the classpath?  You should check under User Entries on the Classpath tab of the Java Application tun configuration.  Feel free to add an attachment of the run configuration for review.","body":"Did you check the Run configuration within Eclipse and make sure the opencsv file is appearing in the classpath?  You should check under User Entries on the Classpath tab of the Java Application tun configuration.  Feel free to add an attachment of the run configuration for review."},{"owner":{"account_id":28208199,"reputation":1,"user_id":21560913,"display_name":"Kieran Hooks"},"score":0,"creation_date":1696275938,"post_id":77217848,"comment_id":136129855,"body_markdown":"I added opencsv to the Run configuration and come up with a slightly different ClassNotFoundException error for org.apache.commons.collections4.MultiValuedMap.  I will post the run configuration","body":"I added opencsv to the Run configuration and come up with a slightly different ClassNotFoundException error for org.apache.commons.collections4.MultiValuedMap.  I will post the run configuration"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1696277748,"post_id":77217848,"comment_id":136130170,"body_markdown":"You&#39;re missing a dependency of commons collections4 too","body":"You&#39;re missing a dependency of commons collections4 too"},{"owner":{"account_id":28208199,"reputation":1,"user_id":21560913,"display_name":"Kieran Hooks"},"score":0,"creation_date":1696281405,"post_id":77217848,"comment_id":136130712,"body_markdown":"Thank you for your help, I think I am up and running and on to working on the usage and debugging.  The initial resolution was to add the JAR dependencies to the Run Configuration as well as the Build Configuration.  Which then led to the discovery of other dependencies to Apache JAR libraries.","body":"Thank you for your help, I think I am up and running and on to working on the usage and debugging.  The initial resolution was to add the JAR dependencies to the Run Configuration as well as the Build Configuration.  Which then led to the discovery of other dependencies to Apache JAR libraries."}],"owner":{"account_id":28208199,"reputation":1,"user_id":21560913,"display_name":"Kieran Hooks"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696276259,"creation_date":1696272854,"question_id":77217848,"body_markdown":"I am a beginner java developer using Eclipse.  I want to read in a CSV file and want to use opencsv utilities as a reader (and use other opencsv utilities when I get off the ground).  I have downloaded the JAR (ver 5.8) and added it to my Build Configuration.  I have addressed all compiler errors, but at runtime, I am getting a `ClassNotFoundException` for `com.opencsv.bean.CsvToBeanBuilder`.  I have tried a previous opencsv version (5.7.1) but get the same results.  I can see the `com.opencsv.bean.CsvToBeanBuilder.class` when I hunt through the files.  Must be something simple I am missing?  I have downloaded the JAR file only, no source or javadoc.\r\n\r\n\r\n```java\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileReader;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport java.util.List;\r\n\r\nimport com.opencsv.bean.CsvToBeanBuilder;\r\n\r\n\r\npublic class RaceResultsParser_v2 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString inputfile = &quot;inputfile.csv&quot;;\r\n\t\r\n\t\ttry {\r\n\t\t\tList&lt;ClubMembers&gt; memberlist_input = new CsvToBeanBuilder&lt;ClubMembers&gt;(new FileReader(inputfile)).withType(ClubMembers.class).build().parse();\r\n\t\t} catch (FileNotFoundException e) {\r\n\r\n\t\t\tSystem.out.println(&quot;An exception occurred while opening the CSV file [&quot; + inputfile + &quot;]: &quot; + e.getMessage());\r\n\t\t\tSystem.out.println(&quot;File Not Found Exception&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn;\r\n\t\t}\r\n```\r\n\r\n[Project Explorer](https://i.stack.imgur.com/IPkLp.png)\r\n\r\n\r\nI have trolled stack overflow and the internet more broadly but can&#39;t seem to find my solution.\r\n\r\nConsole output from the program run:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/opencsv/bean/CsvToBeanBuilder\r\n\tat RaceResultsParser_v2.main(RaceResultsParser_v2.java:17)\r\nCaused by: java.lang.ClassNotFoundException: com.opencsv.bean.CsvToBeanBuilder\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 1 more\r\n```\r\n\r\nWhen I add opencsv to the Run Configuration, a slightly different console error comes up referencing org.apache.commons.collections4.MultiValueMap:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/commons/collections4/MultiValuedMap\r\n\tat RaceResultsParser_v2.main(RaceResultsParser_v2.java:18)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.collections4.MultiValuedMap\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 1 more\r\n```\r\n\r\n[Run Configuration][1]\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CpXNa.png","title":"ClassNotFoundException error when using opencsv","body":"<p>I am a beginner java developer using Eclipse.  I want to read in a CSV file and want to use opencsv utilities as a reader (and use other opencsv utilities when I get off the ground).  I have downloaded the JAR (ver 5.8) and added it to my Build Configuration.  I have addressed all compiler errors, but at runtime, I am getting a <code>ClassNotFoundException</code> for <code>com.opencsv.bean.CsvToBeanBuilder</code>.  I have tried a previous opencsv version (5.7.1) but get the same results.  I can see the <code>com.opencsv.bean.CsvToBeanBuilder.class</code> when I hunt through the files.  Must be something simple I am missing?  I have downloaded the JAR file only, no source or javadoc.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.util.List;\n\nimport com.opencsv.bean.CsvToBeanBuilder;\n\n\npublic class RaceResultsParser_v2 {\n\n    public static void main(String[] args) {\n\n        String inputfile = &quot;inputfile.csv&quot;;\n    \n        try {\n            List&lt;ClubMembers&gt; memberlist_input = new CsvToBeanBuilder&lt;ClubMembers&gt;(new FileReader(inputfile)).withType(ClubMembers.class).build().parse();\n        } catch (FileNotFoundException e) {\n\n            System.out.println(&quot;An exception occurred while opening the CSV file [&quot; + inputfile + &quot;]: &quot; + e.getMessage());\n            System.out.println(&quot;File Not Found Exception&quot;);\n            e.printStackTrace();\n            return;\n        }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/IPkLp.png\" rel=\"nofollow noreferrer\">Project Explorer</a></p>\n<p>I have trolled stack overflow and the internet more broadly but can't seem to find my solution.</p>\n<p>Console output from the program run:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/opencsv/bean/CsvToBeanBuilder\n    at RaceResultsParser_v2.main(RaceResultsParser_v2.java:17)\nCaused by: java.lang.ClassNotFoundException: com.opencsv.bean.CsvToBeanBuilder\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 1 more\n</code></pre>\n<p>When I add opencsv to the Run Configuration, a slightly different console error comes up referencing org.apache.commons.collections4.MultiValueMap:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/commons/collections4/MultiValuedMap\n    at RaceResultsParser_v2.main(RaceResultsParser_v2.java:18)\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.collections4.MultiValuedMap\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 1 more\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/CpXNa.png\" rel=\"nofollow noreferrer\">Run Configuration</a></p>\n"},{"tags":["java","spring","prometheus","openlayers","micrometer"],"answers":[{"tags":[],"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696275966,"creation_date":1696275966,"answer_id":77218134,"question_id":77184881,"body_markdown":"If this is a Spring-Boot 3 app, you can add an `ObservationFilter` that adds the missing value. You will have access to the request and the `Obesrvation.Context` will also contain a high cardinality key-value called `url` that you can add as a low cardinality key-value.\r\n\r\nThough, I would highly recommend against it since metrics should not have high cardinality tags, see here why: https://develotters.com/posts/high-cardinality/","title":"Change default micrometer metrics tag","body":"<p>If this is a Spring-Boot 3 app, you can add an <code>ObservationFilter</code> that adds the missing value. You will have access to the request and the <code>Obesrvation.Context</code> will also contain a high cardinality key-value called <code>url</code> that you can add as a low cardinality key-value.</p>\n<p>Though, I would highly recommend against it since metrics should not have high cardinality tags, see here why: <a href=\"https://develotters.com/posts/high-cardinality/\" rel=\"nofollow noreferrer\">https://develotters.com/posts/high-cardinality/</a></p>\n"}],"owner":{"account_id":28536266,"reputation":11,"user_id":21842951,"display_name":"edinehi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696275966,"creation_date":1695792905,"question_id":77184881,"body_markdown":"I would like to track http requests to my Spring Java server without creating custom metrics\r\n\r\nLets say I have this default micrometer metric\r\n\r\n```\r\nhttp_server_requests_seconds_sum{error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/TMS/{L}/{Z}/{Y}/{X}&quot;,} 3.5174407\r\n```\r\n\r\nis it possible to change the `{L}` so it matches what was in the url, for example if someone calls `/TMS/OSM/3/4/4` it would be under\r\n\r\n```\r\nhttp_server_requests_seconds_sum{error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/TMS/OSM/{Z}/{Y}/{X}&quot;,} 3.5174407\r\n```","title":"Change default micrometer metrics tag","body":"<p>I would like to track http requests to my Spring Java server without creating custom metrics</p>\n<p>Lets say I have this default micrometer metric</p>\n<pre><code>http_server_requests_seconds_sum{error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/TMS/{L}/{Z}/{Y}/{X}&quot;,} 3.5174407\n</code></pre>\n<p>is it possible to change the <code>{L}</code> so it matches what was in the url, for example if someone calls <code>/TMS/OSM/3/4/4</code> it would be under</p>\n<pre><code>http_server_requests_seconds_sum{error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/TMS/OSM/{Z}/{Y}/{X}&quot;,} 3.5174407\n</code></pre>\n"},{"tags":["java","android","haptic-feedback"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696336097,"post_id":77218129,"comment_id":136137191,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":16892500,"reputation":9,"user_id":12215884,"display_name":"Turksat46"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696275920,"creation_date":1696275920,"question_id":77218129,"body_markdown":"So my task is simple. I have a Pixel 7 and I love how it vibrates to the ringtones accordingly. \r\nI&#39;m an app developer and I want to implement the hapticgenerator to any media currently playing. \r\nI know that there are ways like making my own Mediaplayer or sth like that, but I want it to work like an equalizer.\r\n\r\nI already saw an example on Github like [this](https://github.com/mbaril/AndroidHapticGenerator) and many more but they don&#39;t really do much and I want it so that the haptic motor works like a subwoofer, that always vibrates, no matter what you play on your phone, like the IPhones do(if I know it right).","title":"Is there any way that I can let the HapticGenerator work on any media playing on a device?","body":"<p>So my task is simple. I have a Pixel 7 and I love how it vibrates to the ringtones accordingly.\nI'm an app developer and I want to implement the hapticgenerator to any media currently playing.\nI know that there are ways like making my own Mediaplayer or sth like that, but I want it to work like an equalizer.</p>\n<p>I already saw an example on Github like <a href=\"https://github.com/mbaril/AndroidHapticGenerator\" rel=\"nofollow noreferrer\">this</a> and many more but they don't really do much and I want it so that the haptic motor works like a subwoofer, that always vibrates, no matter what you play on your phone, like the IPhones do(if I know it right).</p>\n"},{"tags":["java","jms","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696275913,"creation_date":1696275913,"answer_id":77218127,"question_id":77218011,"body_markdown":"The JMS API doesn&#39;t really provide a way to get the length of the queue as it&#39;s not something that a consumer should really care about. You can get an approximation of the queue length using a `QueueBrowser`, as you mentioned, but there&#39;s no way to do this with any other JMS API call.\r\n\r\nIf you really want to know the length of the queue then you can use the [management API][1] of ActiveMQ Artemis. There&#39;s a handful of different examples shipped with the broker that demonstrate how to use the management API in different ways.\r\n\r\n\r\n  [1]: https://activemq.apache.org/components/artemis/documentation/latest/management.html#management","title":"How to get queue length in ActiveMQ Artemis?","body":"<p>The JMS API doesn't really provide a way to get the length of the queue as it's not something that a consumer should really care about. You can get an approximation of the queue length using a <code>QueueBrowser</code>, as you mentioned, but there's no way to do this with any other JMS API call.</p>\n<p>If you really want to know the length of the queue then you can use the <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/management.html#management\" rel=\"nofollow noreferrer\">management API</a> of ActiveMQ Artemis. There's a handful of different examples shipped with the broker that demonstrate how to use the management API in different ways.</p>\n"}],"owner":{"account_id":29583352,"reputation":1,"user_id":22672612,"display_name":"PingvinAnbu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696275913,"creation_date":1696274576,"question_id":77218011,"body_markdown":"I have a code where I get the queue length, but on the browse method. How can I get the queue length, but on consumer via JMS? If not via JMS, then maybe via some other class from another package? I&#39;m working with classes that are in the javax.jms package\r\n\r\n\r\n```\r\nQueueSession queueSession = null;\r\nQueueConnectionFactory connectionFactory;\r\nQueueConnection connection;\r\nconnectionFactory = new ActiveMQQueueConnectionFactory(&quot;tcp://&quot; + urlBroker);\r\nconnection = connectionFactory.createQueueConnection(login, password);\r\nqueueSession = connection.createQueueSession(false, Session.AUTO_ACKNOWLEDGE);\r\nQueueSession queueSession = new QueueSession\r\n\r\nQueueBrowser queueBrowser = new QueueBrowser();\r\nQueue queue = (Queue) initialContext.lookup(&quot;dynamicQueues/&quot; + queueName);\r\nqueueBrowser = queueSession.createBrowser(queue);\r\n\r\nEnumeration&lt;Message&gt; messageEnumeration = queueBrowser.getEnumeration();\r\n            while (messageEnumeration.hasMoreElements()) {\r\n                messagesList.add(messageEnumeration.nextElement());\r\n            }\r\nSystem.out.println(messagesList.size());\r\n\r\n```\r\n\r\nIn this case, do not read the messages, but simply put them in an arrayList using the Consume class. Or maybe there is a separate get method for consume to get the queue length\r\n\r\n","title":"How to get queue length in ActiveMQ Artemis?","body":"<p>I have a code where I get the queue length, but on the browse method. How can I get the queue length, but on consumer via JMS? If not via JMS, then maybe via some other class from another package? I'm working with classes that are in the javax.jms package</p>\n<pre><code>QueueSession queueSession = null;\nQueueConnectionFactory connectionFactory;\nQueueConnection connection;\nconnectionFactory = new ActiveMQQueueConnectionFactory(&quot;tcp://&quot; + urlBroker);\nconnection = connectionFactory.createQueueConnection(login, password);\nqueueSession = connection.createQueueSession(false, Session.AUTO_ACKNOWLEDGE);\nQueueSession queueSession = new QueueSession\n\nQueueBrowser queueBrowser = new QueueBrowser();\nQueue queue = (Queue) initialContext.lookup(&quot;dynamicQueues/&quot; + queueName);\nqueueBrowser = queueSession.createBrowser(queue);\n\nEnumeration&lt;Message&gt; messageEnumeration = queueBrowser.getEnumeration();\n            while (messageEnumeration.hasMoreElements()) {\n                messagesList.add(messageEnumeration.nextElement());\n            }\nSystem.out.println(messagesList.size());\n\n</code></pre>\n<p>In this case, do not read the messages, but simply put them in an arrayList using the Consume class. Or maybe there is a separate get method for consume to get the queue length</p>\n"},{"tags":["java","visual-studio-code","javadoc"],"comments":[{"owner":{"account_id":14914321,"reputation":15846,"user_id":10768653,"display_name":"Leo Zhu"},"score":0,"creation_date":1578289216,"post_id":59559269,"comment_id":105378013,"body_markdown":"do you want this extension ?[javadoc-tools](https://marketplace.visualstudio.com/items?itemName=madhavd1.javadoc-tools)","body":"do you want this extension ?<a href=\"https://marketplace.visualstudio.com/items?itemName=madhavd1.javadoc-tools\" rel=\"nofollow noreferrer\">javadoc-tools</a>"},{"owner":{"account_id":10025473,"reputation":321,"user_id":7889427,"display_name":"chronos14"},"score":0,"creation_date":1578463950,"post_id":59559269,"comment_id":105442198,"body_markdown":"@LeoZhu-MSFT is that working and able to generate the document?","body":"@LeoZhu-MSFT is that working and able to generate the document?"}],"answers":[{"tags":[],"owner":{"account_id":8197685,"reputation":136,"user_id":6169943,"accept_rate":100,"display_name":"Chongju Mai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629857051,"creation_date":1629857051,"answer_id":68915912,"question_id":59559269,"body_markdown":"For Javadoc-Generator. In the documentation state &quot;This generator will use the Javadoc located in the JDK referenced in your JAVA_HOME.&quot; Make sure you have `JAVA_HOME` set in your Environment Variables. ","title":"Extension to generate Javadoc file in Visual Code","body":"<p>For Javadoc-Generator. In the documentation state &quot;This generator will use the Javadoc located in the JDK referenced in your JAVA_HOME.&quot; Make sure you have <code>JAVA_HOME</code> set in your Environment Variables.</p>\n"},{"tags":[],"owner":{"account_id":23601708,"reputation":56,"user_id":17638088,"display_name":"NotAnonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1639072614,"creation_date":1639072614,"answer_id":70294561,"question_id":59559269,"body_markdown":"Well firstly thanks for the good question and now i&#39;m going to try to help you with your problem. I searched for an plug in of Javadoc for Visual Studio which is [Javadoc Tools][1] with this plug in you can create coments just selecting where you want to make the comments, also you can export your comments and the best thing it&#39;s free. I tried this for one of my programmes and it works for me. Definitly i recommend you this, try it and i hope i helped you with your problem. \r\n\r\n\r\n[Selecting where i want to create the comments][2]\r\n\r\n\r\n[Final result][3]\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=madhavd1.javadoc-tools\r\n\r\n  [2]: https://i.stack.imgur.com/w2n1c.png\r\n  [3]: https://i.stack.imgur.com/zvebT.png","title":"Extension to generate Javadoc file in Visual Code","body":"<p>Well firstly thanks for the good question and now i'm going to try to help you with your problem. I searched for an plug in of Javadoc for Visual Studio which is <a href=\"https://marketplace.visualstudio.com/items?itemName=madhavd1.javadoc-tools\" rel=\"nofollow noreferrer\">Javadoc Tools</a> with this plug in you can create coments just selecting where you want to make the comments, also you can export your comments and the best thing it's free. I tried this for one of my programmes and it works for me. Definitly i recommend you this, try it and i hope i helped you with your problem.</p>\n<p><a href=\"https://i.stack.imgur.com/w2n1c.png\" rel=\"nofollow noreferrer\">Selecting where i want to create the comments</a></p>\n<p><a href=\"https://i.stack.imgur.com/zvebT.png\" rel=\"nofollow noreferrer\">Final result</a></p>\n"},{"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":1,"creation_date":1696281544,"post_id":77218002,"comment_id":136130732,"body_markdown":"[/help/referencing](/help/referencing)","body":"<a href=\"/help/referencing\">/help/referencing</a>"}],"tags":[],"owner":{"account_id":29583412,"reputation":1,"user_id":22672657,"display_name":"Priyanshi Rai"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696275316,"creation_date":1696274549,"answer_id":77218002,"question_id":59559269,"body_markdown":"\r\n\r\nI had the same issue and this worked for me, an extension [click here][1] for Visual Studio which is Javadoc Tools and it&#39;s free.\r\n\r\nThis extension allows user to generate javadoc comments for all methods within a class. Below commands are available for use -\r\n\r\n**Javadoc Tools: Export Javadoc** - This command allows you to export your Javadoc. The command should be executed in a Workspace(Multi-root workspaces supported as of version 1.6.0\r\n\r\n**Javadoc Tools: Generate Javadoc Comments for Open File**- Only generates Javadoc Comments for the open File in focus\r\n\r\n**Javadoc Tools: Generate Javadoc Comments for Workspace** - Generates Javadoc for all classes within the workspace. The files will be opened in the editor and the javadoc comments will be added. This command will not autosave the modified Files.\r\n\r\n**Generate Javadoc Comments** -  Generates Javadoc Comments for the selected class.\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=madhavd1.javadoc-tools","title":"Extension to generate Javadoc file in Visual Code","body":"<p>I had the same issue and this worked for me, an extension <a href=\"https://marketplace.visualstudio.com/items?itemName=madhavd1.javadoc-tools\" rel=\"nofollow noreferrer\">click here</a> for Visual Studio which is Javadoc Tools and it's free.</p>\n<p>This extension allows user to generate javadoc comments for all methods within a class. Below commands are available for use -</p>\n<p><strong>Javadoc Tools: Export Javadoc</strong> - This command allows you to export your Javadoc. The command should be executed in a Workspace(Multi-root workspaces supported as of version 1.6.0</p>\n<p><strong>Javadoc Tools: Generate Javadoc Comments for Open File</strong>- Only generates Javadoc Comments for the open File in focus</p>\n<p><strong>Javadoc Tools: Generate Javadoc Comments for Workspace</strong> - Generates Javadoc for all classes within the workspace. The files will be opened in the editor and the javadoc comments will be added. This command will not autosave the modified Files.</p>\n<p><strong>Generate Javadoc Comments</strong> -  Generates Javadoc Comments for the selected class.</p>\n"}],"owner":{"account_id":10025473,"reputation":321,"user_id":7889427,"display_name":"chronos14"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18019,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70294561,"answer_count":3,"score":0,"last_activity_date":1696275316,"creation_date":1577947235,"question_id":59559269,"body_markdown":"I want to create a documentation file of my code. I&#39;ve added the Javadoc comment in every public method I have. If I use other IDE, probably there is a menu to generate it, but unfortunately I use Visual Code.\r\n\r\nIs there a way to generate Javadoc file in Visual Code? I only find one extension, with 2 thousands downloads but its not working. The name is [Javadoc-Generator](https://marketplace.visualstudio.com/items?itemName=KeeganBruer.javadoc-generator)\r\n\r\nI have tried to run using javadoc command in terminal, but it is not recognized. Do I need to install additional file?","title":"Extension to generate Javadoc file in Visual Code","body":"<p>I want to create a documentation file of my code. I've added the Javadoc comment in every public method I have. If I use other IDE, probably there is a menu to generate it, but unfortunately I use Visual Code.</p>\n\n<p>Is there a way to generate Javadoc file in Visual Code? I only find one extension, with 2 thousands downloads but its not working. The name is <a href=\"https://marketplace.visualstudio.com/items?itemName=KeeganBruer.javadoc-generator\" rel=\"nofollow noreferrer\">Javadoc-Generator</a></p>\n\n<p>I have tried to run using javadoc command in terminal, but it is not recognized. Do I need to install additional file?</p>\n"},{"tags":["java","netbeans","ant","antlr4","code-generation"],"owner":{"account_id":56880,"reputation":2607,"user_id":170361,"accept_rate":90,"display_name":"Dennis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696275069,"creation_date":1696275069,"question_id":77218054,"body_markdown":"I&#39;m using ANTLR4 to generate a parser and lexer for a project with Netbeans and Ant.  I was able to add a &quot;-pre-compile&quot; target override to my build.xml that executes the ANTLR4 tool to generate Java files for the lexer and parser.\r\n\r\nBut how do I add those automatically generated .java files to my project so that my user code which depends on the generated code will compile?","title":"How do I add source code generated by a tool to my Netbeans Ant project?","body":"<p>I'm using ANTLR4 to generate a parser and lexer for a project with Netbeans and Ant.  I was able to add a &quot;-pre-compile&quot; target override to my build.xml that executes the ANTLR4 tool to generate Java files for the lexer and parser.</p>\n<p>But how do I add those automatically generated .java files to my project so that my user code which depends on the generated code will compile?</p>\n"},{"tags":["java","hibernate","annotations"],"comments":[{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":1,"creation_date":1229550874,"post_id":376093,"comment_id":204118,"body_markdown":"Possible workaournd. If you name it dateofbirth the column in the DB would be named like that, but the attribute name should be the same.","body":"Possible workaournd. If you name it dateofbirth the column in the DB would be named like that, but the attribute name should be the same."},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1229552687,"post_id":376093,"comment_id":204177,"body_markdown":"Let me put it as an answer then :)","body":"Let me put it as an answer then :)"}],"answers":[{"comments":[{"owner":{"account_id":14971,"reputation":6961,"user_id":31172,"accept_rate":86,"display_name":"lucas"},"score":0,"creation_date":1229549929,"post_id":376102,"comment_id":204074,"body_markdown":"I don&#39;t think so? At the very least, I can specify things like length at the instance variable level and they will alter the columns accordingly..","body":"I don&#39;t think so? At the very least, I can specify things like length at the instance variable level and they will alter the columns accordingly.."},{"owner":{"account_id":3020336,"reputation":1584,"user_id":2561541,"display_name":"Nathan"},"score":0,"creation_date":1449313491,"post_id":376102,"comment_id":55959463,"body_markdown":"You can annotate either one, but you must annotate them consistently. If you mix them and annotate some headers and some getters, it will find one and ignore the other.","body":"You can annotate either one, but you must annotate them consistently. If you mix them and annotate some headers and some getters, it will find one and ignore the other."}],"tags":[],"owner":{"account_id":2202,"reputation":24331,"user_id":3029,"accept_rate":63,"display_name":"davetron5000"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1229549565,"creation_date":1229549565,"answer_id":376102,"question_id":376093,"body_markdown":"I&#39;m not 100% sure, but don&#39;t you need to annotate the get method and not the private variable?","title":"hibernate column name issues","body":"<p>I'm not 100% sure, but don't you need to annotate the get method and not the private variable?</p>\n"},{"tags":[],"owner":{"account_id":7636,"reputation":502,"user_id":13308,"display_name":"Ryan Anderson"},"comment_count":0,"down_vote_count":3,"up_vote_count":10,"is_accepted":false,"score":7,"last_activity_date":1229550000,"creation_date":1229550000,"answer_id":376118,"question_id":376093,"body_markdown":"Put the @Column annotation on the getter:\r\n\r\n    @Column(name=&quot;DateOfBirth&quot;)\r\n    public Date getDateOfBirth() {\r\n    ...\r\n    }","title":"hibernate column name issues","body":"<p>Put the @Column annotation on the getter:</p>\n\n<pre><code>@Column(name=\"DateOfBirth\")\npublic Date getDateOfBirth() {\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18282,"reputation":17675,"user_id":41754,"accept_rate":75,"display_name":"cliff.meyers"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1229551337,"creation_date":1229551337,"answer_id":376196,"question_id":376093,"body_markdown":"You can annotate either fields or getter methods, it doesn&#39;t make a difference.  Can you post your full hibernate.cfg.xml or persistence.xml file?","title":"hibernate column name issues","body":"<p>You can annotate either fields or getter methods, it doesn't make a difference.  Can you post your full hibernate.cfg.xml or persistence.xml file?</p>\n"},{"comments":[{"owner":{"account_id":4177,"reputation":32472,"user_id":6198,"accept_rate":86,"display_name":"Matt Solnit"},"score":0,"creation_date":1229552655,"post_id":376231,"comment_id":204175,"body_markdown":"Are you saying that the only change you made was in the capitalization?","body":"Are you saying that the only change you made was in the capitalization?"},{"owner":{"account_id":14971,"reputation":6961,"user_id":31172,"accept_rate":86,"display_name":"lucas"},"score":0,"creation_date":1229619244,"post_id":376231,"comment_id":206174,"body_markdown":"Yeah.  It seems that ImprovedNamingStrategy was the perpetrator, which sees camelcase column names and converts into lowercase+underscores.  Bug or feature, you decide.","body":"Yeah.  It seems that ImprovedNamingStrategy was the perpetrator, which sees camelcase column names and converts into lowercase+underscores.  Bug or feature, you decide."}],"tags":[],"owner":{"account_id":14971,"reputation":6961,"user_id":31172,"accept_rate":86,"display_name":"lucas"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1229552061,"creation_date":1229552061,"answer_id":376231,"question_id":376093,"body_markdown":"The workaround proposed was to use @Column(name=&quot;dateofbirth&quot;), which worked for my purposes.","title":"hibernate column name issues","body":"<p>The workaround proposed was to use @Column(name=\"dateofbirth\"), which worked for my purposes.</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1449257840,"creation_date":1229552814,"answer_id":376275,"question_id":376093,"body_markdown":"Here is a possible workaround: if you name it `dateofbirth` the column in the DB would be named like that, but the attribute name should be the same.\r\n\r\nHibernate takes the camel case format to create/read database columns.\r\n\r\nI&#39;ve had this problem before. I worked with a legacy columns where there was no space in the column names &quot;employeename&quot;, &quot;employeerole&quot;, &quot;departmentlocation&quot;. I hate it because all my beans properties had to be without camel case. \r\n\r\nDatabase columns separated by &quot;_&quot; will be used to properly camelCase as you have just seen.","title":"hibernate column name issues","body":"<p>Here is a possible workaround: if you name it <code>dateofbirth</code> the column in the DB would be named like that, but the attribute name should be the same.</p>\n\n<p>Hibernate takes the camel case format to create/read database columns.</p>\n\n<p>I've had this problem before. I worked with a legacy columns where there was no space in the column names \"employeename\", \"employeerole\", \"departmentlocation\". I hate it because all my beans properties had to be without camel case. </p>\n\n<p>Database columns separated by \"_\" will be used to properly camelCase as you have just seen.</p>\n"},{"comments":[{"owner":{"account_id":94824,"reputation":1439,"user_id":258660,"accept_rate":60,"display_name":"Charles Morin"},"score":0,"creation_date":1411741445,"post_id":376307,"comment_id":40830887,"body_markdown":"That is exactly the cause of this problem. Works like a charm for me.","body":"That is exactly the cause of this problem. Works like a charm for me."},{"owner":{"account_id":5624415,"reputation":507,"user_id":4453282,"display_name":"sajal rajabhoj"},"score":0,"creation_date":1536916217,"post_id":376307,"comment_id":91604016,"body_markdown":"Thanks, it really helped me. Can you suggest any link to see what I will be missing while using DefaultNamingStrategy over Improved one?","body":"Thanks, it really helped me. Can you suggest any link to see what I will be missing while using DefaultNamingStrategy over Improved one?"}],"tags":[],"owner":{"account_id":11356,"reputation":26481,"user_id":21849,"accept_rate":96,"display_name":"Dan Vinton"},"comment_count":2,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1360691919,"creation_date":1229553502,"answer_id":376307,"question_id":376093,"body_markdown":"FYI: The reason for the insertion of underscores is probably because you&#39;re using an [ImprovedNamingStrategy][1]. It&#39;s set on your [Configuration][2] object. See [here][3] for an example...\r\n\r\nIf you don&#39;t want the underscores you can just not set the naming strategy, or set it to the DefaultNamingStrategy you discovered earlier.\r\n\r\n\r\n  [1]: http://www.hibernate.org/hib_docs/v3/api/org/hibernate/cfg/ImprovedNamingStrategy.html\r\n  [2]: http://www.hibernate.org/hib_docs/v3/api/org/hibernate/cfg/Configuration.html#setNamingStrategy(org.hibernate.cfg.NamingStrategy)\r\n  [3]: http://www.javalobby.org/java/forums/t19838.html","title":"hibernate column name issues","body":"<p>FYI: The reason for the insertion of underscores is probably because you're using an <a href=\"http://www.hibernate.org/hib_docs/v3/api/org/hibernate/cfg/ImprovedNamingStrategy.html\" rel=\"noreferrer\">ImprovedNamingStrategy</a>. It's set on your <a href=\"http://www.hibernate.org/hib_docs/v3/api/org/hibernate/cfg/Configuration.html#setNamingStrategy(org.hibernate.cfg.NamingStrategy)\" rel=\"noreferrer\">Configuration</a> object. See <a href=\"http://www.javalobby.org/java/forums/t19838.html\" rel=\"noreferrer\">here</a> for an example...</p>\n\n<p>If you don't want the underscores you can just not set the naming strategy, or set it to the DefaultNamingStrategy you discovered earlier.</p>\n"},{"comments":[{"owner":{"account_id":474656,"reputation":20194,"user_id":884474,"accept_rate":88,"display_name":"mschmoock"},"score":0,"creation_date":1350319263,"post_id":12900050,"comment_id":17472794,"body_markdown":"I would suggest also calling &quot;super(tableName)&quot; on any tablenames you do not need your special convention... maybe","body":"I would suggest also calling &quot;super(tableName)&quot; on any tablenames you do not need your special convention... maybe"}],"tags":[],"owner":{"account_id":1941673,"reputation":51,"user_id":1747750,"display_name":"syedmuneer"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1350319207,"creation_date":1350319000,"answer_id":12900050,"question_id":376093,"body_markdown":"ImprovedNamingStrategy has method addUnderscores() which is called from tableName() and columnName()\r\nyou can implement your own naming strategy class and override these as per your choice\r\n\r\n        public class MyOwnNamingStrategy extends ImprovedNamingStrategy {\r\n    \t    @Override\r\n    \t    public String tableName(String tableName) {\r\n    \t\t//return addUnderscores(columnName); // skip this\r\n    \t\treturn columnName; // if you want column name variable name same\r\n    \t\t//return changeAsYouWant(columnName); // as name sames\r\n    \t   }\r\n       }\r\n\r\n","title":"hibernate column name issues","body":"<p>ImprovedNamingStrategy has method addUnderscores() which is called from tableName() and columnName()\nyou can implement your own naming strategy class and override these as per your choice</p>\n\n<pre><code>    public class MyOwnNamingStrategy extends ImprovedNamingStrategy {\n        @Override\n        public String tableName(String tableName) {\n        //return addUnderscores(columnName); // skip this\n        return columnName; // if you want column name variable name same\n        //return changeAsYouWant(columnName); // as name sames\n       }\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3207438,"reputation":19204,"user_id":2708210,"accept_rate":62,"display_name":"Rahul Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1497374693,"creation_date":1497374693,"answer_id":44527914,"question_id":376093,"body_markdown":"Try putting this in \r\n\r\napplication.properties\r\n\r\n    spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl","title":"hibernate column name issues","body":"<p>Try putting this in </p>\n\n<p>application.properties</p>\n\n<pre><code>spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1632626,"reputation":850,"user_id":1506881,"display_name":"J&#246;rg"},"score":1,"creation_date":1540897695,"post_id":45403414,"comment_id":93024244,"body_markdown":"This used to work but since spring-boot 2 (2.0.4) and hibernate 5.2 (5.2.17) it does not work anymore. I debugged through entire hibernate and the naming strategies actually do not interfere but some other hibernate magic afterwards does the transformation to add underscores to camlCase properties. This really sucks especially that an explicit @Column(name=&quot;nameWithCamlCase&quot;) does not help and hibernate still thinks to be smarter than what the developer wanted. I assume some latest JPA compliance issue is causing this madness.","body":"This used to work but since spring-boot 2 (2.0.4) and hibernate 5.2 (5.2.17) it does not work anymore. I debugged through entire hibernate and the naming strategies actually do not interfere but some other hibernate magic afterwards does the transformation to add underscores to camlCase properties. This really sucks especially that an explicit @Column(name=&quot;nameWithCamlCase&quot;) does not help and hibernate still thinks to be smarter than what the developer wanted. I assume some latest JPA compliance issue is causing this madness."}],"tags":[],"owner":{"account_id":4090990,"reputation":230,"user_id":3358959,"display_name":"ErSyyedS"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1696274479,"creation_date":1501440232,"answer_id":45403414,"question_id":376093,"body_markdown":"add below property in the case of spring boot.\r\n\r\n**spring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\r\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl**","title":"hibernate column name issues","body":"<p>add below property in the case of spring boot.</p>\n<p><strong>spring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl</strong></p>\n"},{"tags":[],"owner":{"account_id":23666848,"reputation":1,"user_id":17694208,"display_name":"Mateusz K."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653300079,"creation_date":1653300079,"answer_id":72346654,"question_id":376093,"body_markdown":"I had a similar problem and adding the following two properties to my application.properties solved my issue: `spring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl` `spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl` .","title":"hibernate column name issues","body":"<p>I had a similar problem and adding the following two properties to my application.properties solved my issue: <code>spring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl</code> <code>spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl</code> .</p>\n"}],"owner":{"account_id":14971,"reputation":6961,"user_id":31172,"accept_rate":86,"display_name":"lucas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62178,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":376275,"answer_count":10,"score":32,"last_activity_date":1696274479,"creation_date":1229549310,"question_id":376093,"body_markdown":"\t@Column(name=&quot;DateOfBirth&quot;)\r\n\tprivate Date dateOfBirth;\r\n\r\nI specifically need the above code to create a column named &quot;DateOfBirth,&quot; instead Hibernate gives me a column named date_of_birth.  How can I change this?  Is there a web.xml property?  I came across DefaultNamingStrategy and ImprovedNamingStrategy, but not sure how to specify one or the other.","title":"hibernate column name issues","body":"<pre><code>@Column(name=\"DateOfBirth\")\nprivate Date dateOfBirth;\n</code></pre>\n\n<p>I specifically need the above code to create a column named \"DateOfBirth,\" instead Hibernate gives me a column named date_of_birth.  How can I change this?  Is there a web.xml property?  I came across DefaultNamingStrategy and ImprovedNamingStrategy, but not sure how to specify one or the other.</p>\n"},{"tags":["java","activemq"],"answers":[{"tags":[],"owner":{"account_id":5530214,"reputation":2694,"user_id":4722577,"accept_rate":0,"display_name":"CAMD_3441"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586538904,"creation_date":1586538904,"answer_id":61145273,"question_id":61145272,"body_markdown":"So looking at similar issues on StackOverflow and other sites, it seems like I need to add JVM arguments to ActiveMQ when its kicked off.\r\n\r\nThe **bin** folder of AMQ contains a script `activemq`, in the same bin folder that script kicks off an `activemq.jar` file.\r\n\r\nI needed to update part of the script file to include those JVM arguments (in your script don&#39;t include the # comments at the end of the line):\r\n\r\n\r\n    &lt;script code above&gt;\r\n           # Execute java binary\r\n           if [ -n &quot;$PIDFILE&quot; ] &amp;&amp; [ &quot;$PIDFILE&quot; != &quot;stop&quot; ];then\r\n        \r\n              $EXEC_OPTION $DOIT_PREFIX &quot;$JAVACMD $ACTIVEMQ_OPTS $ACTIVEMQ_DEBUG_OPTS \\\r\n                      -Dactivemq.classpath=\\&quot;${ACTIVEMQ_CLASSPATH}\\&quot; \\\r\n                      -Dactivemq.home=\\&quot;${ACTIVEMQ_HOME}\\&quot; \\\r\n                      -Dactivemq.base=\\&quot;${ACTIVEMQ_BASE}\\&quot; \\\r\n                      -Dactivemq.conf=\\&quot;${ACTIVEMQ_CONF}\\&quot; \\\r\n                      -Dactivemq.data=\\&quot;${ACTIVEMQ_DATA}\\&quot; \\\r\n                      -Dcom.sun.management.jmxremote \\                    #THIS is added\r\n                      -Dcom.sun.management.jmxremote.port=1099 \\          #THIS is added\r\n                      -Dcom.sun.management.jmxremote.rmi.port=1099 \\      #THIS is added \r\n                      -Dcom.sun.management.jmxremote.authenticate=false \\ #THIS is added\r\n                      -Dcom.sun.management.jmxremote.ssl=false \\          #THIS is added\r\n                      $ACTIVEMQ_CYGWIN \\\r\n                      -jar \\&quot;${ACTIVEMQ_HOME}/bin/activemq.jar\\&quot; $COMMANDLINE_ARGS &gt;/dev/null 2&gt;&amp;1 &amp;\r\n                      RET=\\&quot;\\$?\\&quot;; APID=\\&quot;\\$!\\&quot;;\r\n                      echo \\$APID &gt; $PIDFILE;\r\n                      echo \\&quot;INFO: pidfile created : &#39;$PIDFILE&#39; (pid &#39;\\$APID&#39;)\\&quot;;exit \\$RET&quot; $DOIT_POSTFIX\r\n              RET=&quot;$?&quot;\r\n    &lt;script code below&gt;\r\n\r\n\r\nAfterwards I just start the `./activemq` script, and now I&#39;m able to do the Command Lines as I could do on AMQ running on my machine.","title":"ActiveMQ command lines exception: &quot;Failed to retrieve RMIServer stub&quot;","body":"<p>So looking at similar issues on StackOverflow and other sites, it seems like I need to add JVM arguments to ActiveMQ when its kicked off.</p>\n\n<p>The <strong>bin</strong> folder of AMQ contains a script <code>activemq</code>, in the same bin folder that script kicks off an <code>activemq.jar</code> file.</p>\n\n<p>I needed to update part of the script file to include those JVM arguments (in your script don't include the # comments at the end of the line):</p>\n\n<pre><code>&lt;script code above&gt;\n       # Execute java binary\n       if [ -n \"$PIDFILE\" ] &amp;&amp; [ \"$PIDFILE\" != \"stop\" ];then\n\n          $EXEC_OPTION $DOIT_PREFIX \"$JAVACMD $ACTIVEMQ_OPTS $ACTIVEMQ_DEBUG_OPTS \\\n                  -Dactivemq.classpath=\\\"${ACTIVEMQ_CLASSPATH}\\\" \\\n                  -Dactivemq.home=\\\"${ACTIVEMQ_HOME}\\\" \\\n                  -Dactivemq.base=\\\"${ACTIVEMQ_BASE}\\\" \\\n                  -Dactivemq.conf=\\\"${ACTIVEMQ_CONF}\\\" \\\n                  -Dactivemq.data=\\\"${ACTIVEMQ_DATA}\\\" \\\n                  -Dcom.sun.management.jmxremote \\                    #THIS is added\n                  -Dcom.sun.management.jmxremote.port=1099 \\          #THIS is added\n                  -Dcom.sun.management.jmxremote.rmi.port=1099 \\      #THIS is added \n                  -Dcom.sun.management.jmxremote.authenticate=false \\ #THIS is added\n                  -Dcom.sun.management.jmxremote.ssl=false \\          #THIS is added\n                  $ACTIVEMQ_CYGWIN \\\n                  -jar \\\"${ACTIVEMQ_HOME}/bin/activemq.jar\\\" $COMMANDLINE_ARGS &gt;/dev/null 2&gt;&amp;1 &amp;\n                  RET=\\\"\\$?\\\"; APID=\\\"\\$!\\\";\n                  echo \\$APID &gt; $PIDFILE;\n                  echo \\\"INFO: pidfile created : '$PIDFILE' (pid '\\$APID')\\\";exit \\$RET\" $DOIT_POSTFIX\n          RET=\"$?\"\n&lt;script code below&gt;\n</code></pre>\n\n<p>Afterwards I just start the <code>./activemq</code> script, and now I'm able to do the Command Lines as I could do on AMQ running on my machine.</p>\n"}],"owner":{"account_id":5530214,"reputation":2694,"user_id":4722577,"accept_rate":0,"display_name":"CAMD_3441"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1714,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696274167,"creation_date":1586538904,"question_id":61145272,"body_markdown":"I have ActiveMQ &quot;Classic&quot; 5.10.0 running on a server, and I&#39;m trying to use the command line to extract the information that I&#39;d see in the [web console][1].\r\n\r\nNone of the commands work. In the `bin` folder is the `activemq` script to do run commands, (e.g. `./activemq bstat` or `./activemq list`) but I keep getting this error:\r\n```\r\nConnecting to JMX URL: service:jmx:rmi:///jndi/rmi://localhost:1099/jmxrmi\r\nERROR: java.lang.RuntimeException: Failed to execute list task. Reason: java.io.IOException: Failed to retrieve RMIServer stub: javax.naming.ServiceUnavailableException [Root exception is java.rmi.ConnectException: Connection refused to host: localhost; nested exception is:\r\n        java.net.ConnectException: Connection refused]\r\njava.lang.RuntimeException: Failed to execute list task. Reason: java.io.IOException: Failed to retrieve RMIServer stub: javax.naming.ServiceUnavailableException [Root exception is java.rmi.ConnectException: Connection refused to host: localhost; nested exception is:\r\n```\r\n\r\nOddly enough, when I download and start the same version of the broker on my local pc, the commands work.  This is the output I get when attempting the `list` command:\r\n```\r\n&gt; activemq list\r\nJava Runtime: Oracle Corporation 1.8.0_161 C:\\Program Files\\Java\\jdk1.8.0_161\\jre\r\n  Heap sizes: current=1005056k  free=989327k  max=1005056k\r\n    JVM args: -Dcom.sun.management.jmxremote -Xms1G -Xmx1G -Djava.util.logging.config.file=logging.properties -\r\n...........\r\n&lt;more log data&gt;\r\n...........\r\nuseJmxServiceUrl Found JMS Url: service:jmx:rmi://127.0.0.1/stub/rO0ABXNyAC5qYXZheC5tYW5hZ2VtZW50LnJlbW90ZS5ybWkuUk1JU2VydmVySW1wbF9TdHViAAAAAAAAAAICAAB4cgAaamF2YS5ybWkuc2VydmVyLlJlbW90ZVN0dWLp/tzJi+FlGgIAAHhyABxqYXZhLnJtaS5zZXJ2ZXIuUmVtb3RlT2JqZWN002G0kQxhMx4DAAB4cHc5AAtVbmljYXN0UmVmMgAADjE2OS4yNTQuNjguMjM3AADDoqnwRJwaEyt6UvhZyAAAAXFkS9pNgAEAeA==\r\nConnecting to pid: 3332\r\nbrokerName = localhost\r\n```\r\n\r\nHow do I get the same commands to work that is running on the remote server?\r\n\r\n\r\n  [1]: https://activemq.apache.org/web-console","title":"ActiveMQ command lines exception: &quot;Failed to retrieve RMIServer stub&quot;","body":"<p>I have ActiveMQ &quot;Classic&quot; 5.10.0 running on a server, and I'm trying to use the command line to extract the information that I'd see in the <a href=\"https://activemq.apache.org/web-console\" rel=\"nofollow noreferrer\">web console</a>.</p>\n<p>None of the commands work. In the <code>bin</code> folder is the <code>activemq</code> script to do run commands, (e.g. <code>./activemq bstat</code> or <code>./activemq list</code>) but I keep getting this error:</p>\n<pre><code>Connecting to JMX URL: service:jmx:rmi:///jndi/rmi://localhost:1099/jmxrmi\nERROR: java.lang.RuntimeException: Failed to execute list task. Reason: java.io.IOException: Failed to retrieve RMIServer stub: javax.naming.ServiceUnavailableException [Root exception is java.rmi.ConnectException: Connection refused to host: localhost; nested exception is:\n        java.net.ConnectException: Connection refused]\njava.lang.RuntimeException: Failed to execute list task. Reason: java.io.IOException: Failed to retrieve RMIServer stub: javax.naming.ServiceUnavailableException [Root exception is java.rmi.ConnectException: Connection refused to host: localhost; nested exception is:\n</code></pre>\n<p>Oddly enough, when I download and start the same version of the broker on my local pc, the commands work.  This is the output I get when attempting the <code>list</code> command:</p>\n<pre><code>&gt; activemq list\nJava Runtime: Oracle Corporation 1.8.0_161 C:\\Program Files\\Java\\jdk1.8.0_161\\jre\n  Heap sizes: current=1005056k  free=989327k  max=1005056k\n    JVM args: -Dcom.sun.management.jmxremote -Xms1G -Xmx1G -Djava.util.logging.config.file=logging.properties -\n...........\n&lt;more log data&gt;\n...........\nuseJmxServiceUrl Found JMS Url: service:jmx:rmi://127.0.0.1/stub/rO0ABXNyAC5qYXZheC5tYW5hZ2VtZW50LnJlbW90ZS5ybWkuUk1JU2VydmVySW1wbF9TdHViAAAAAAAAAAICAAB4cgAaamF2YS5ybWkuc2VydmVyLlJlbW90ZVN0dWLp/tzJi+FlGgIAAHhyABxqYXZhLnJtaS5zZXJ2ZXIuUmVtb3RlT2JqZWN002G0kQxhMx4DAAB4cHc5AAtVbmljYXN0UmVmMgAADjE2OS4yNTQuNjguMjM3AADDoqnwRJwaEyt6UvhZyAAAAXFkS9pNgAEAeA==\nConnecting to pid: 3332\nbrokerName = localhost\n</code></pre>\n<p>How do I get the same commands to work that is running on the remote server?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"score":0,"creation_date":1696266312,"post_id":77217191,"comment_id":136128127,"body_markdown":"This isn&#39;t nearly clear enough. Can you submit your `application.yml`? And, a sample of these bodies you&#39;re looking at? If I understand you correctly, the idea is that you get the retry value from the body payload? The server is actually telling you when to retry? And this set is actually a fixed pool of delay values?","body":"This isn&#39;t nearly clear enough. Can you submit your <code>application.yml</code>? And, a sample of these bodies you&#39;re looking at? If I understand you correctly, the idea is that you get the retry value from the body payload? The server is actually telling you when to retry? And this set is actually a fixed pool of delay values?"},{"owner":{"account_id":20316252,"reputation":7,"user_id":14902085,"display_name":"RZF"},"score":0,"creation_date":1696269623,"post_id":77217191,"comment_id":136128690,"body_markdown":"Not this way. I make a rest request and wait for 30 seconds, if the response contains null or the server returned 5... I will put the following value from the config and again make a rest request and wait for 30 seconds. And the call cycle repeats, but with a different time value.","body":"Not this way. I make a rest request and wait for 30 seconds, if the response contains null or the server returned 5... I will put the following value from the config and again make a rest request and wait for 30 seconds. And the call cycle repeats, but with a different time value."},{"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"score":0,"creation_date":1696272678,"post_id":77217191,"comment_id":136129265,"body_markdown":"Ok, this already exists as functionality in `spring-retry` You can roll your own retry logic. And, it uses aspects, so you COULD technically introspect the body payload if that were needed. You still need to update your question to be a lot clearer so people know what you&#39;re dealing with concretely","body":"Ok, this already exists as functionality in <code>spring-retry</code> You can roll your own retry logic. And, it uses aspects, so you COULD technically introspect the body payload if that were needed. You still need to update your question to be a lot clearer so people know what you&#39;re dealing with concretely"},{"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"score":0,"creation_date":1696272851,"post_id":77217191,"comment_id":136129300,"body_markdown":"I&#39;m looking at [Retry.from](https://projectreactor.io/docs/core/release/api/reactor/util/retry/Retry.html#from-java.util.function.Function-) which actually allows you to supply a lambda. I mean, it doesn&#39;t get more flexible than that","body":"I&#39;m looking at <a href=\"https://projectreactor.io/docs/core/release/api/reactor/util/retry/Retry.html#from-java.util.function.Function-\" rel=\"nofollow noreferrer\">Retry.from</a> which actually allows you to supply a lambda. I mean, it doesn&#39;t get more flexible than that"}],"answers":[{"tags":[],"owner":{"account_id":27748670,"reputation":1,"user_id":22671920,"display_name":"ALSED404"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1696274154,"creation_date":1696266434,"answer_id":77217292,"question_id":77217191,"body_markdown":"It seems that you have a challenge in changing the retry delay time in the Retry operation. To change the delay time during runtime, you can use the Retry&#39;s backoff function. You can try the following code to achieve this:\r\n\r\n    WebClient.create()\r\n        .get()\r\n        .uri(GET_STUDENTS_URL)\r\n        .retrieve()\r\n        .bodyToFlux(Student.class)\r\n        .retryWhen(Retry.backoff(4, Duration.ofSeconds(timeDelayInSeconds)));\r\n\r\nIn this code, the value of `timeDelayInSeconds` is converted to the required delay time. You can modify it according to your needs.","title":"Retry with different delay times Spring boot","body":"<p>It seems that you have a challenge in changing the retry delay time in the Retry operation. To change the delay time during runtime, you can use the Retry's backoff function. You can try the following code to achieve this:</p>\n<pre><code>WebClient.create()\n    .get()\n    .uri(GET_STUDENTS_URL)\n    .retrieve()\n    .bodyToFlux(Student.class)\n    .retryWhen(Retry.backoff(4, Duration.ofSeconds(timeDelayInSeconds)));\n</code></pre>\n<p>In this code, the value of <code>timeDelayInSeconds</code> is converted to the required delay time. You can modify it according to your needs.</p>\n"}],"owner":{"account_id":20316252,"reputation":7,"user_id":14902085,"display_name":"RZF"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1696274154,"creation_date":1696265475,"question_id":77217191,"body_markdown":"I have a problem. In my application properties class has different request delay times. The application makes a rest call and waits 30 seconds. If the application gets response == null or == status 5... then the application gets the next delay value, makes a rest call again, and waits 30 seconds. There are different delay values in my `application.yml`. Delay values (second) are 1, 3, 10, 30, 120, 200, 360, 450. How do I solve this problem in Spring? I looked at the documentation in Spring webFlux, but I didn&#39;t find a way to change the delay time in runtime.\r\n\r\nI thought to use `Retry.backoff`, but I don&#39;t how to change the delay time in runtime.\r\n```\r\nWebClient.create()\r\n    .get()\r\n    .uri(GET_STUDENTS_URL)\r\n    .retrieve()\r\n    .bodyToFlux(Student.class)\r\n    .retryWhen(Retry.backoff(4, Duration.ofSeconds(3)));\r\n```","title":"Retry with different delay times Spring boot","body":"<p>I have a problem. In my application properties class has different request delay times. The application makes a rest call and waits 30 seconds. If the application gets response == null or == status 5... then the application gets the next delay value, makes a rest call again, and waits 30 seconds. There are different delay values in my <code>application.yml</code>. Delay values (second) are 1, 3, 10, 30, 120, 200, 360, 450. How do I solve this problem in Spring? I looked at the documentation in Spring webFlux, but I didn't find a way to change the delay time in runtime.</p>\n<p>I thought to use <code>Retry.backoff</code>, but I don't how to change the delay time in runtime.</p>\n<pre><code>WebClient.create()\n    .get()\n    .uri(GET_STUDENTS_URL)\n    .retrieve()\n    .bodyToFlux(Student.class)\n    .retryWhen(Retry.backoff(4, Duration.ofSeconds(3)));\n</code></pre>\n"},{"tags":["java","spring-boot","docker","maven","dockerfile"],"comments":[{"owner":{"account_id":22513336,"reputation":66,"user_id":16707945,"display_name":"Kamil Krzywański"},"score":0,"creation_date":1696274284,"post_id":77217936,"comment_id":136129566,"body_markdown":"Did you tried just remove \nADD /src/main/resources/application.properties /application.properties\nand run:\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\n\nproperties should be included in jar","body":"Did you tried just remove  ADD /src/main/resources/application.properties /application.properties and run: ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]  properties should be included in jar"},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1696274757,"post_id":77217936,"comment_id":136129635,"body_markdown":"I&#39;m curious why you are manually adding the properties file to the docker container and trying to reference it on the command line?  application.properties will be bundled in your jar automatically.  Also, I do believe it is working just fine.  All addresses in the 127/8 network are loopback addresses, some systems will resolve these to localhost.","body":"I&#39;m curious why you are manually adding the properties file to the docker container and trying to reference it on the command line?  application.properties will be bundled in your jar automatically.  Also, I do believe it is working just fine.  All addresses in the 127/8 network are loopback addresses, some systems will resolve these to localhost."},{"owner":{"account_id":29583172,"reputation":1,"user_id":22672476,"display_name":"Tim Misiewicz"},"score":0,"creation_date":1696275121,"post_id":77217936,"comment_id":136129696,"body_markdown":"Removing the add for application properties and the argument in entrypoint results in the exact same problem.","body":"Removing the add for application properties and the argument in entrypoint results in the exact same problem."},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1696275482,"post_id":77217936,"comment_id":136129765,"body_markdown":"A second thing to add is that I&#39;m a little surprised this works anywhere.  I believe the syntax for your URL isn&#39;t correct.  If you specify both a host and a database you&#39;ll need to it needs to follow this pattern, `jdbc:postgresql://host:port/database`. You&#39;re missing the `//`","body":"A second thing to add is that I&#39;m a little surprised this works anywhere.  I believe the syntax for your URL isn&#39;t correct.  If you specify both a host and a database you&#39;ll need to it needs to follow this pattern, <code>jdbc:postgresql:&#47;&#47;host:port&#47;database</code>. You&#39;re missing the <code>&#47;&#47;</code>"},{"owner":{"account_id":22513336,"reputation":66,"user_id":16707945,"display_name":"Kamil Krzywański"},"score":0,"creation_date":1696275532,"post_id":77217936,"comment_id":136129776,"body_markdown":"If you have correct properties in file try:\nFROM xxxx\nADD target/app-0.0.1-SNAPSHOT.jar app.jar\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\nand should work fine","body":"If you have correct properties in file try: FROM xxxx ADD target/app-0.0.1-SNAPSHOT.jar app.jar ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot;] and should work fine"},{"owner":{"account_id":29583172,"reputation":1,"user_id":22672476,"display_name":"Tim Misiewicz"},"score":0,"creation_date":1696275544,"post_id":77217936,"comment_id":136129778,"body_markdown":"@lane.maxwell The manual application.properties was a failed attempt to get it to work. Removing it doesnt affect anything. When running the jar not in docker through the command line, it reads the set data source correctly, but in docker its always localhost. No matter what address i put as datasource, it will always use localhost:5432 in docker, which is exactly my problem.","body":"@lane.maxwell The manual application.properties was a failed attempt to get it to work. Removing it doesnt affect anything. When running the jar not in docker through the command line, it reads the set data source correctly, but in docker its always localhost. No matter what address i put as datasource, it will always use localhost:5432 in docker, which is exactly my problem."},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1696275992,"post_id":77217936,"comment_id":136129865,"body_markdown":"@TimMisiewicz see my follow-up comment.  I&#39;m not sure if this is the culprit, but the syntax of the URL is not correct.  This could be causing it to default to localhost, just a hunch.","body":"@TimMisiewicz see my follow-up comment.  I&#39;m not sure if this is the culprit, but the syntax of the URL is not correct.  This could be causing it to default to localhost, just a hunch."},{"owner":{"account_id":29583172,"reputation":1,"user_id":22672476,"display_name":"Tim Misiewicz"},"score":0,"creation_date":1696276227,"post_id":77217936,"comment_id":136129918,"body_markdown":"@lane.maxwell After reviewing, it seems youre hunch is in fact correct. It seems that postgres data source URLs without the // work on windows (which is what my dev machine is running on) but dont work on linux. Youre a livesaver mate, thanks!","body":"@lane.maxwell After reviewing, it seems youre hunch is in fact correct. It seems that postgres data source URLs without the // work on windows (which is what my dev machine is running on) but dont work on linux. Youre a livesaver mate, thanks!"},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1696276519,"post_id":77217936,"comment_id":136129979,"body_markdown":"@TimMisiewicz Glad that worked for you.  I hate bugs like this, almost impossible to find the cause.","body":"@TimMisiewicz Glad that worked for you.  I hate bugs like this, almost impossible to find the cause."}],"owner":{"account_id":29583172,"reputation":1,"user_id":22672476,"display_name":"Tim Misiewicz"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696273984,"creation_date":1696273868,"question_id":77217936,"body_markdown":"I am running into issues with running my spring boot application from within a docker container. When i run my jar packaged with `mvn package` locally it works normally and the app picks up the configuration in application.properties.\r\n\r\nThe problem occurs when trying to run the jar in a docker container. When running it in a docker container it seems that the values in application.properties(data source etc) are no longer used when running, which makes them go back to default.\r\n\r\nI can tell this by the fact that spring tries to set the data source to localhost:5432, which is not what i have set in application.properties.\r\n\r\nThis is the application.properties i am using. For what is worth, Intellij Community indicates that the properties are unused. This file is located in src/main/resources/application.properties\r\n\r\n```\r\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQL95Dialect\r\n\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\norg.app.jwtSecret= secret\r\norg.app.jwtExpirationMs=86400000\r\n\r\nspring.datasource.url=jdbc:postgresql:127.255.255.255:5432/database\r\nspring.datasource.username=postgres\r\nspring.datasource.password=password\r\n```\r\n\r\nI am using the following pom.xml. The `&lt;build&gt;&lt;plugin&gt;&lt;execution&gt;` tag was added so that application.properties is read properly in the jar, without this application.properties does not work when using `mvn package`. `mvn spring-boot:run` however does work without the execution tag. I have already tried using a `&lt;resources&gt;` tag in my `&lt;build&gt;` and it does not fix my problem.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.7&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t&lt;groupId&gt;com.org&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;project&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;project&lt;/name&gt;\r\n\t&lt;description&gt;project&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;42.3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.9.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.8.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.github.spotbugs&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spotbugs-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;4.7.2.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration combine.self=&quot;append&quot;&gt;\r\n\t\t\t\t\t&lt;includeTests&gt;false&lt;/includeTests&gt;\r\n\t\t\t\t\t&lt;effort&gt;Max&lt;/effort&gt;\r\n\t\t\t\t\t&lt;threshold&gt;High&lt;/threshold&gt;\r\n\t\t\t\t\t&lt;failOnError&gt;true&lt;/failOnError&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nHere is the dockerfile I am using. I have tried manually passing application.properties but it does not seem to work for me. `&quot;-Dspring.config.location=file:/application.properties&quot;` does not seem to affect anything or fix my problem. Using `&quot;--spring.config.location=file:/application.properties&quot;` instead is an unresolved argument and does not do anything either. Removing the manual `spring.config.location` also does not do anything.\r\n\r\n```dockerfile\r\nFROM eclipse-temurin:17-jdk-alpine\r\nVOLUME /tmp\r\nARG DB_USERNAME\r\nARG DB_PASSWORD\r\nARG DB_URL\r\nENV DB_URL=$DB_URL\r\nENV DB_USERNAME=$DB_USERNAME\r\nENV DB_PASSWORD=$DB_PASSWORD\r\nADD /target/*.jar app.jar\r\nADD /src/main/resources/application.properties /application.properties\r\nENTRYPOINT [&quot;java&quot;, &quot;-Dspring.config.location=file:/application.properties&quot;, &quot;-jar&quot;, &quot;/app.jar&quot;]\r\n\r\n```\r\n\r\nThis is the start of the build log for running the application inside the docker container. You can see that spring is trying to connect to localhost:5432 which is not what has been set in application.properties\r\n\r\n```\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v2.6.7)\r\n\r\n2023-10-02 18:01:47.269  INFO 1 --- [           main] com.org.project.projectApplication    : Starting projectApplication v0.0.1-SNAPSHOT using Java 17.0.8.1 on 681bd9eb3734 with PID 1 (/app.jar started by root in /)\r\n2023-10-02 18:01:47.273 DEBUG 1 --- [           main] com.org.project.projectApplication    : Running with Spring Boot v2.6.7, Spring v5.3.19\r\n2023-10-02 18:01:47.275  INFO 1 --- [           main] com.org.project.projectApplication    : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-10-02 18:01:48.585  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-10-02 18:01:48.721  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 119 ms. Found 12 JPA repository interfaces.\r\n2023-10-02 18:01:49.903  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-10-02 18:01:49.920  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-10-02 18:01:49.921  INFO 1 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.62]\r\n2023-10-02 18:01:50.024  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-10-02 18:01:50.025  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2675 ms\r\n2023-10-02 18:01:50.131  WARN 1 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2023-10-02 18:01:50.330  INFO 1 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-10-02 18:01:50.426  INFO 1 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.8.Final\r\n2023-10-02 18:01:50.716  INFO 1 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n2023-10-02 18:01:50.874  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-10-02 18:01:51.935 ERROR 1 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\r\n\r\norg.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\r\n        at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:301) ~[postgresql-42.3.1.jar!/:42.3.1]\r\n        at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-42.3.1.jar!/:42.3.1]\r\n        at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:225) ~[postgresql-42.3.1.jar!/:42.3.1]\r\n        at org.postgresql.Driver.makeConnection(Driver.java:466) ~[postgresql-42.3.1.jar!/:42.3.1]\r\n        at org.postgresql.Driver.connect(Driver.java:265) ~[postgresql-42.3.1.jar!/:42.3.1]\r\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar!/:na]\r\n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar!/:na]\r\n        at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar!/:na]\r\n        at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar!/:na]\r\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar!/:na]\r\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar!/:na]\r\n        at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar!/:na]\r\n        at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\r\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\r\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\r\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\r\n        at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\r\n        at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\r\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\r\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\r\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:233) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1282) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1243) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:494) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:349) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.orm.jpa.EntityManagerFactoryUtils.findEntityManagerFactory(EntityManagerFactoryUtils.java:121) ~[spring-orm-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.orm.jpa.EntityManagerFactoryAccessor.setBeanFactory(EntityManagerFactoryAccessor.java:155) ~[spring-orm-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeAwareMethods(AbstractAutowireCapableBeanFactory.java:1826) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1791) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n```\r\n\r\nFor extra information. This project runs fine locally. Getting it to work in a jar took quite a bit of work and running the jar inside of docker has not worked at all for me. I would really appreciate any insights!","title":"Spring boot in docker does not seem to use application.properties","body":"<p>I am running into issues with running my spring boot application from within a docker container. When i run my jar packaged with <code>mvn package</code> locally it works normally and the app picks up the configuration in application.properties.</p>\n<p>The problem occurs when trying to run the jar in a docker container. When running it in a docker container it seems that the values in application.properties(data source etc) are no longer used when running, which makes them go back to default.</p>\n<p>I can tell this by the fact that spring tries to set the data source to localhost:5432, which is not what i have set in application.properties.</p>\n<p>This is the application.properties i am using. For what is worth, Intellij Community indicates that the properties are unused. This file is located in src/main/resources/application.properties</p>\n<pre><code>spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQL95Dialect\n\nspring.jpa.hibernate.ddl-auto=update\n\norg.app.jwtSecret= secret\norg.app.jwtExpirationMs=86400000\n\nspring.datasource.url=jdbc:postgresql:127.255.255.255:5432/database\nspring.datasource.username=postgres\nspring.datasource.password=password\n</code></pre>\n<p>I am using the following pom.xml. The <code>&lt;build&gt;&lt;plugin&gt;&lt;execution&gt;</code> tag was added so that application.properties is read properly in the jar, without this application.properties does not work when using <code>mvn package</code>. <code>mvn spring-boot:run</code> however does work without the execution tag. I have already tried using a <code>&lt;resources&gt;</code> tag in my <code>&lt;build&gt;</code> and it does not fix my problem.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;groupId&gt;com.org&lt;/groupId&gt;\n    &lt;artifactId&gt;project&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;project&lt;/name&gt;\n    &lt;description&gt;project&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n                    &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.github.spotbugs&lt;/groupId&gt;\n                &lt;artifactId&gt;spotbugs-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;4.7.2.1&lt;/version&gt;\n                &lt;configuration combine.self=&quot;append&quot;&gt;\n                    &lt;includeTests&gt;false&lt;/includeTests&gt;\n                    &lt;effort&gt;Max&lt;/effort&gt;\n                    &lt;threshold&gt;High&lt;/threshold&gt;\n                    &lt;failOnError&gt;true&lt;/failOnError&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Here is the dockerfile I am using. I have tried manually passing application.properties but it does not seem to work for me. <code>&quot;-Dspring.config.location=file:/application.properties&quot;</code> does not seem to affect anything or fix my problem. Using <code>&quot;--spring.config.location=file:/application.properties&quot;</code> instead is an unresolved argument and does not do anything either. Removing the manual <code>spring.config.location</code> also does not do anything.</p>\n<pre><code>FROM eclipse-temurin:17-jdk-alpine\nVOLUME /tmp\nARG DB_USERNAME\nARG DB_PASSWORD\nARG DB_URL\nENV DB_URL=$DB_URL\nENV DB_USERNAME=$DB_USERNAME\nENV DB_PASSWORD=$DB_PASSWORD\nADD /target/*.jar app.jar\nADD /src/main/resources/application.properties /application.properties\nENTRYPOINT [&quot;java&quot;, &quot;-Dspring.config.location=file:/application.properties&quot;, &quot;-jar&quot;, &quot;/app.jar&quot;]\n\n</code></pre>\n<p>This is the start of the build log for running the application inside the docker container. You can see that spring is trying to connect to localhost:5432 which is not what has been set in application.properties</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.6.7)\n\n2023-10-02 18:01:47.269  INFO 1 --- [           main] com.org.project.projectApplication    : Starting projectApplication v0.0.1-SNAPSHOT using Java 17.0.8.1 on 681bd9eb3734 with PID 1 (/app.jar started by root in /)\n2023-10-02 18:01:47.273 DEBUG 1 --- [           main] com.org.project.projectApplication    : Running with Spring Boot v2.6.7, Spring v5.3.19\n2023-10-02 18:01:47.275  INFO 1 --- [           main] com.org.project.projectApplication    : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-10-02 18:01:48.585  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-10-02 18:01:48.721  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 119 ms. Found 12 JPA repository interfaces.\n2023-10-02 18:01:49.903  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-10-02 18:01:49.920  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-10-02 18:01:49.921  INFO 1 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.62]\n2023-10-02 18:01:50.024  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-10-02 18:01:50.025  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2675 ms\n2023-10-02 18:01:50.131  WARN 1 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-10-02 18:01:50.330  INFO 1 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-10-02 18:01:50.426  INFO 1 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.8.Final\n2023-10-02 18:01:50.716  INFO 1 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2023-10-02 18:01:50.874  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-10-02 18:01:51.935 ERROR 1 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\n\norg.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\n        at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:301) ~[postgresql-42.3.1.jar!/:42.3.1]\n        at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-42.3.1.jar!/:42.3.1]\n        at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:225) ~[postgresql-42.3.1.jar!/:42.3.1]\n        at org.postgresql.Driver.makeConnection(Driver.java:466) ~[postgresql-42.3.1.jar!/:42.3.1]\n        at org.postgresql.Driver.connect(Driver.java:265) ~[postgresql-42.3.1.jar!/:42.3.1]\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar!/:na]\n        at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\n        at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\n        at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.19.jar!/:5.3.19]\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.19.jar!/:5.3.19]\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.19.jar!/:5.3.19]\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.19.jar!/:5.3.19]\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:233) ~[spring-beans-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1282) ~[spring-beans-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1243) ~[spring-beans-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:494) ~[spring-beans-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:349) ~[spring-beans-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342) ~[spring-beans-5.3.19.jar!/:5.3.19]\n        at org.springframework.orm.jpa.EntityManagerFactoryUtils.findEntityManagerFactory(EntityManagerFactoryUtils.java:121) ~[spring-orm-5.3.19.jar!/:5.3.19]\n        at org.springframework.orm.jpa.EntityManagerFactoryAccessor.setBeanFactory(EntityManagerFactoryAccessor.java:155) ~[spring-orm-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeAwareMethods(AbstractAutowireCapableBeanFactory.java:1826) ~[spring-beans-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1791) ~[spring-beans-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.19.jar!/:5.3.19]\n</code></pre>\n<p>For extra information. This project runs fine locally. Getting it to work in a jar took quite a bit of work and running the jar inside of docker has not worked at all for me. I would really appreciate any insights!</p>\n"},{"tags":["java","nio","netty"],"answers":[{"comments":[{"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"score":0,"creation_date":1340654284,"post_id":11195426,"comment_id":14696263,"body_markdown":"Which constructor? I haven&#39;t been able to find it in the API&#39;s?","body":"Which constructor? I haven&#39;t been able to find it in the API&#39;s?"},{"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"score":0,"creation_date":1340655020,"post_id":11195426,"comment_id":14696575,"body_markdown":"Just found it. But why doesn&#39;t it do the same for when you leave it blank since it says it puts an estimated length of 512 and then it should automatically grow?","body":"Just found it. But why doesn&#39;t it do the same for when you leave it blank since it says it puts an estimated length of 512 and then it should automatically grow?"},{"owner":{"account_id":22568,"reputation":12271,"user_id":55808,"accept_rate":92,"display_name":"trustin"},"score":0,"creation_date":1340670406,"post_id":11195426,"comment_id":14701082,"body_markdown":"Attacker can send a very large object to saturate your heap (= DoS)","body":"Attacker can send a very large object to saturate your heap (= DoS)"},{"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"score":1,"creation_date":1340733352,"post_id":11195426,"comment_id":14723596,"body_markdown":"So in the API when it says: &quot;If the length of the serialized form exceeds this value, the internal buffer will be expanded automatically at the cost of memory bandwidth.&quot; this is wrong. It doesn&#39;t automatically expand, you have to pre-guess the biggest object size...","body":"So in the API when it says: &quot;If the length of the serialized form exceeds this value, the internal buffer will be expanded automatically at the cost of memory bandwidth.&quot; this is wrong. It doesn&#39;t automatically expand, you have to pre-guess the biggest object size..."},{"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"score":0,"creation_date":1340734180,"post_id":11195426,"comment_id":14723998,"body_markdown":"And is there a way to automatically increase in cases where I don&#39;t know the dataset will be larger than normal?","body":"And is there a way to automatically increase in cases where I don&#39;t know the dataset will be larger than normal?"},{"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"score":1,"creation_date":1340734267,"post_id":11195426,"comment_id":14724043,"body_markdown":"Nevermind, I think I might&#39;ve been confusing ObjectEncoder and ObjectDecoder. You have to set the max for one and the estimate for the other. But what if you don&#39;t know the max?","body":"Nevermind, I think I might&#39;ve been confusing ObjectEncoder and ObjectDecoder. You have to set the max for one and the estimate for the other. But what if you don&#39;t know the max?"},{"owner":{"account_id":22568,"reputation":12271,"user_id":55808,"accept_rate":92,"display_name":"trustin"},"score":0,"creation_date":1340787648,"post_id":11195426,"comment_id":14739067,"body_markdown":"Then you can specify Integer.MAX_VALUE. :-)","body":"Then you can specify Integer.MAX_VALUE. :-)"}],"tags":[],"owner":{"account_id":1075943,"reputation":23262,"user_id":1074097,"display_name":"Norman Maurer"},"comment_count":7,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1340650191,"creation_date":1340650191,"answer_id":11195426,"question_id":11195186,"body_markdown":"You can pass it via the constructor. Just checkout the javadocs.","title":"Netty large POJO transfer error: TooLongFrameException","body":"<p>You can pass it via the constructor. Just checkout the javadocs.</p>\n"},{"tags":[],"owner":{"account_id":7298493,"reputation":304,"user_id":5562284,"display_name":"nouveu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696273474,"creation_date":1696273474,"answer_id":77217901,"question_id":11195186,"body_markdown":"For future readers. This exception is also thrown from `ObjectDecoder` when you send plain HTTP request. If you want to implement regular HTTP server then you should register `HttpServerCodec` instead.\r\n\r\nSee example [implementation][1] and `HttpServerCodec` [docs][2].\r\n\r\n\r\n  [1]: https://www.mastertheboss.com/jboss-frameworks/netty/how-to-create-an-http-server-with-netty/\r\n  [2]: https://netty.io/4.1/api/io/netty/handler/codec/http/HttpServerCodec.html","title":"Netty large POJO transfer error: TooLongFrameException","body":"<p>For future readers. This exception is also thrown from <code>ObjectDecoder</code> when you send plain HTTP request. If you want to implement regular HTTP server then you should register <code>HttpServerCodec</code> instead.</p>\n<p>See example <a href=\"https://www.mastertheboss.com/jboss-frameworks/netty/how-to-create-an-http-server-with-netty/\" rel=\"nofollow noreferrer\">implementation</a> and <code>HttpServerCodec</code> <a href=\"https://netty.io/4.1/api/io/netty/handler/codec/http/HttpServerCodec.html\" rel=\"nofollow noreferrer\">docs</a>.</p>\n"}],"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3202,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":11195426,"answer_count":2,"score":2,"last_activity_date":1696273474,"creation_date":1340649200,"question_id":11195186,"body_markdown":"I have a netty pipeline such as:\r\n\r\n                return Channels.pipeline(\r\n                        new ObjectEncoder(),\r\n                        new ObjectDecoder(),\r\n                        new MyCustomCommandServerHandler());\r\n\r\nFor both the client and server where:\r\n\r\n    MyCustomCommandServerHandler extends SimpleChannelUpstreamHandler\r\n\r\nThe error I&#39;m getting is that the POJO I&#39;m trying to send back from the server to the client is too large and results in the following error:\r\n\r\n**org.jboss.netty.handler.codec.frame.TooLongFrameException: Adjusted frame length exceeds 1048576: 1816357 - discarded**\r\n\r\nHow do I adjust the ObjectEncoder/Decoder to take larger sized POJO objects?","title":"Netty large POJO transfer error: TooLongFrameException","body":"<p>I have a netty pipeline such as:</p>\n\n<pre><code>            return Channels.pipeline(\n                    new ObjectEncoder(),\n                    new ObjectDecoder(),\n                    new MyCustomCommandServerHandler());\n</code></pre>\n\n<p>For both the client and server where:</p>\n\n<pre><code>MyCustomCommandServerHandler extends SimpleChannelUpstreamHandler\n</code></pre>\n\n<p>The error I'm getting is that the POJO I'm trying to send back from the server to the client is too large and results in the following error:</p>\n\n<p><strong>org.jboss.netty.handler.codec.frame.TooLongFrameException: Adjusted frame length exceeds 1048576: 1816357 - discarded</strong></p>\n\n<p>How do I adjust the ObjectEncoder/Decoder to take larger sized POJO objects?</p>\n"},{"tags":["java","testng","qaf"],"answers":[{"comments":[{"owner":{"account_id":12044988,"reputation":17,"user_id":10069320,"display_name":"Renish K.R"},"score":0,"creation_date":1695734757,"post_id":77128483,"comment_id":136061918,"body_markdown":"Can I use getBundle().getPropertyValue(&quot;current.teststep&quot;); inside step definition?","body":"Can I use getBundle().getPropertyValue(&quot;current.teststep&quot;); inside step definition?"},{"owner":{"account_id":460481,"reputation":5813,"user_id":861594,"display_name":"user861594"},"score":0,"creation_date":1695743270,"post_id":77128483,"comment_id":136063979,"body_markdown":"you can, but keep in mind that the value will be step currently under execution or last completed step if no step in execution state.","body":"you can, but keep in mind that the value will be step currently under execution or last completed step if no step in execution state."},{"owner":{"account_id":12044988,"reputation":17,"user_id":10069320,"display_name":"Renish K.R"},"score":0,"creation_date":1695779734,"post_id":77128483,"comment_id":136068884,"body_markdown":"Please check the above edit. I&#39;m getting the output as &quot;current.teststep&quot;, not &quot;Test Step&quot;","body":"Please check the above edit. I&#39;m getting the output as &quot;current.teststep&quot;, not &quot;Test Step&quot;"},{"owner":{"account_id":460481,"reputation":5813,"user_id":861594,"display_name":"user861594"},"score":0,"creation_date":1695829772,"post_id":77128483,"comment_id":136077240,"body_markdown":"try `TestStep step = (TestStep)TestBaseProvider.instance().get().getContext().getProperty(&quot;current.teststep&quot;)`. If it is dryrun mode it may be null. BTW while you are inside step, why you want step object? because inside step you you already know step name, args etc... If purpose is step reporting then it&#39;s bad idea to write reporting code inside step.","body":"try <code>TestStep step = (TestStep)TestBaseProvider.instance().get().getContext().get&zwnj;&#8203;Property(&quot;current.te&zwnj;&#8203;ststep&quot;)</code>. If it is dryrun mode it may be null. BTW while you are inside step, why you want step object? because inside step you you already know step name, args etc... If purpose is step reporting then it&#39;s bad idea to write reporting code inside step."}],"tags":[],"owner":{"account_id":460481,"reputation":5813,"user_id":861594,"display_name":"user861594"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696273409,"creation_date":1695050844,"answer_id":77128483,"question_id":77119974,"body_markdown":"`current.teststep` property will return step currently under execution or last completed one if no step in execution state. You can use [step listener][1].\r\n\r\n\r\nIf you want to create custom reporting, best way is to implement [TestCaseResultUpdator][2] interface. Here you can find few reporting [examples][3] with TestCaseResultUpdator implementation.\r\n\r\n**EDIT:**\r\nsimilar to the example in question, below code works fine for me:\r\n\r\n```\r\n    @MetaData(&quot;{&#39;isSetup&#39;:true}&quot;)\r\n    @QAFTestStep(description = &quot;Test Step-1&quot;)\r\n    public static void step1() {\r\n    \tTestStep step = (TestStep) TestBaseProvider.instance().get().getContext().getProperty(&quot;current.teststep&quot;);\r\n\t\tMap&lt;String, Object&gt; metadata = step.getMetaData();\r\n    \tReporter.log(&quot;metadata: &quot; + metadata);\r\n    }\r\n```\r\nIn example above meta-data is optional, just added to demonstrate additional meta-data feature, available with step. Here is report:\r\n[![step report][4]][4]\r\n\r\nAgain, **this is not right way for reporting**. For reporting either step listener or result listener should be used.\r\n\r\n  [1]: https://qmetry.github.io/qaf/latest/qaf_listeners.html#teststep-listener\r\n  [2]: https://qmetry.github.io/qaf/latest/integration_with_other_tools.html\r\n  [3]: https://github.com/qmetry/qaf/tree/master/src/com/qmetry/qaf/automation/report\r\n  [4]: https://i.stack.imgur.com/SzK1y.png","title":"How to get current BDD step in QAF?","body":"<p><code>current.teststep</code> property will return step currently under execution or last completed one if no step in execution state. You can use <a href=\"https://qmetry.github.io/qaf/latest/qaf_listeners.html#teststep-listener\" rel=\"nofollow noreferrer\">step listener</a>.</p>\n<p>If you want to create custom reporting, best way is to implement <a href=\"https://qmetry.github.io/qaf/latest/integration_with_other_tools.html\" rel=\"nofollow noreferrer\">TestCaseResultUpdator</a> interface. Here you can find few reporting <a href=\"https://github.com/qmetry/qaf/tree/master/src/com/qmetry/qaf/automation/report\" rel=\"nofollow noreferrer\">examples</a> with TestCaseResultUpdator implementation.</p>\n<p><strong>EDIT:</strong>\nsimilar to the example in question, below code works fine for me:</p>\n<pre><code>    @MetaData(&quot;{'isSetup':true}&quot;)\n    @QAFTestStep(description = &quot;Test Step-1&quot;)\n    public static void step1() {\n        TestStep step = (TestStep) TestBaseProvider.instance().get().getContext().getProperty(&quot;current.teststep&quot;);\n        Map&lt;String, Object&gt; metadata = step.getMetaData();\n        Reporter.log(&quot;metadata: &quot; + metadata);\n    }\n</code></pre>\n<p>In example above meta-data is optional, just added to demonstrate additional meta-data feature, available with step. Here is report:\n<a href=\"https://i.stack.imgur.com/SzK1y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SzK1y.png\" alt=\"step report\" /></a></p>\n<p>Again, <strong>this is not right way for reporting</strong>. For reporting either step listener or result listener should be used.</p>\n"}],"owner":{"account_id":12044988,"reputation":17,"user_id":10069320,"display_name":"Renish K.R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696273409,"creation_date":1694907043,"question_id":77119974,"body_markdown":"I&#39;m writing a custom report in QAF and I want to pass the current BDD step with parameters into my custom report. I&#39;m looking to implement both inside StepDefinition code and listener.\r\n\r\nI have tried the below code inside Step Definition.\r\n\r\n```\r\nTestBaseProvider.instance().get().getContext().getProperty(&quot;current.teststep&quot;)\r\n```\r\n\r\n**EDITED:**\r\n```\r\n@QAFTestStep(description = &quot;Test step&quot;)\r\npublic void testStep() {\r\n    System.out.println(&quot;===CURRENT Test Step ===&gt; &quot;+ \r\n    getBundle().getPropertyValue(&quot;current.teststep&quot;));\r\n}\r\n```\r\n\r\nOUTPUT:\r\n```\r\n===CURRENT Test Step ===&gt; current.teststep\r\n```","title":"How to get current BDD step in QAF?","body":"<p>I'm writing a custom report in QAF and I want to pass the current BDD step with parameters into my custom report. I'm looking to implement both inside StepDefinition code and listener.</p>\n<p>I have tried the below code inside Step Definition.</p>\n<pre><code>TestBaseProvider.instance().get().getContext().getProperty(&quot;current.teststep&quot;)\n</code></pre>\n<p><strong>EDITED:</strong></p>\n<pre><code>@QAFTestStep(description = &quot;Test step&quot;)\npublic void testStep() {\n    System.out.println(&quot;===CURRENT Test Step ===&gt; &quot;+ \n    getBundle().getPropertyValue(&quot;current.teststep&quot;));\n}\n</code></pre>\n<p>OUTPUT:</p>\n<pre><code>===CURRENT Test Step ===&gt; current.teststep\n</code></pre>\n"},{"tags":["java","spring","activemq"],"answers":[{"comments":[{"owner":{"account_id":3777782,"reputation":81,"user_id":3138101,"accept_rate":0,"display_name":"user3138101"},"score":0,"creation_date":1586000724,"post_id":61027476,"comment_id":107966578,"body_markdown":"I do have this setting","body":"I do have this setting"},{"owner":{"account_id":2595198,"reputation":3707,"user_id":2255293,"display_name":"Marco Behler"},"score":0,"creation_date":1586000766,"post_id":61027476,"comment_id":107966594,"body_markdown":"Then you&#39;ll need to show your config code, unless we can only guess where the &quot;maximumActive&quot; property comes from.","body":"Then you&#39;ll need to show your config code, unless we can only guess where the &quot;maximumActive&quot; property comes from."}],"tags":[],"owner":{"account_id":2595198,"reputation":3707,"user_id":2255293,"display_name":"Marco Behler"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1586000090,"creation_date":1586000090,"answer_id":61027476,"question_id":61027263,"body_markdown":"Yes, the property is different:\r\n\r\n    maximumActiveSessionPerConnection\r\n\r\nTry that instead in your Spring config.","title":"Invalid property &#39;maximumActive&#39; of bean class","body":"<p>Yes, the property is different:</p>\n\n<pre><code>maximumActiveSessionPerConnection\n</code></pre>\n\n<p>Try that instead in your Spring config.</p>\n"}],"owner":{"account_id":3777782,"reputation":81,"user_id":3138101,"accept_rate":0,"display_name":"user3138101"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":61027476,"answer_count":1,"score":-1,"last_activity_date":1696273336,"creation_date":1585999040,"question_id":61027263,"body_markdown":"I am getting this error when trying to connect to ActiveMQ.\r\n```\r\nConnectException: Invalid property &#39;maximumActive&#39; of bean class [org.apache.activemq.pool.PooledConnectionFactory]: Bean property &#39;maximumActive&#39; is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?\r\n```\r\nI&#39;m not sure what does it mean. Did I miss something in the bean creation? \r\n\r\nI have this setting :\r\n```xml\r\n&lt;bean id=&quot;llmJmsConnectionFactory&quot; class=&quot;org.apache.activemq.pool.PooledConnectionFactory&quot;&gt;\r\n\t&lt;property name=&quot;maximumActiveSessionPerConnection&quot; value=&quot;20&quot; /&gt;\r\n\t&lt;property name=&quot;maxConnections&quot; value=&quot;10&quot; /&gt;\r\n\t&lt;property name=&quot;connectionFactory&quot; ref=&quot;llmJmsConnectionFactoryBase&quot; /&gt;\r\n&lt;/bean&gt;\r\n```","title":"Invalid property &#39;maximumActive&#39; of bean class","body":"<p>I am getting this error when trying to connect to ActiveMQ.</p>\n<pre><code>ConnectException: Invalid property 'maximumActive' of bean class [org.apache.activemq.pool.PooledConnectionFactory]: Bean property 'maximumActive' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?\n</code></pre>\n<p>I'm not sure what does it mean. Did I miss something in the bean creation?</p>\n<p>I have this setting :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=&quot;llmJmsConnectionFactory&quot; class=&quot;org.apache.activemq.pool.PooledConnectionFactory&quot;&gt;\n    &lt;property name=&quot;maximumActiveSessionPerConnection&quot; value=&quot;20&quot; /&gt;\n    &lt;property name=&quot;maxConnections&quot; value=&quot;10&quot; /&gt;\n    &lt;property name=&quot;connectionFactory&quot; ref=&quot;llmJmsConnectionFactoryBase&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":["java","jdbc","oracle12c"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1581316309,"post_id":60145124,"comment_id":106376626,"body_markdown":"so do you have a question?","body":"so do you have a question?"},{"owner":{"account_id":2401744,"reputation":486,"user_id":2127405,"accept_rate":88,"display_name":"User12345"},"score":0,"creation_date":1581316568,"post_id":60145124,"comment_id":106376718,"body_markdown":"@ScaryWombat  Thanks for your valuable time. We need to understand why the error occurs and how we can avoid it.","body":"@ScaryWombat  Thanks for your valuable time. We need to understand why the error occurs and how we can avoid it."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1581316724,"post_id":60145124,"comment_id":106376766,"body_markdown":"well it says *Unknown host specified* so really you need to tell how you are connecting.  Are you connecting remotely? Using DNS? Maybe just have a flakey network","body":"well it says <i>Unknown host specified</i> so really you need to tell how you are connecting.  Are you connecting remotely? Using DNS? Maybe just have a flakey network"},{"owner":{"account_id":2401744,"reputation":486,"user_id":2127405,"accept_rate":88,"display_name":"User12345"},"score":0,"creation_date":1581316906,"post_id":60145124,"comment_id":106376823,"body_markdown":"@ScaryWombat We are using DNS to connect and here is the connection string \njdbc:oracle:thin:@SERVERNAME:1521/test","body":"@ScaryWombat We are using DNS to connect and here is the connection string  jdbc:oracle:thin:@SERVERNAME:1521/test"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1581317069,"post_id":60145124,"comment_id":106376882,"body_markdown":"Maybe use ip address instead ?","body":"Maybe use ip address instead ?"},{"owner":{"account_id":2401744,"reputation":486,"user_id":2127405,"accept_rate":88,"display_name":"User12345"},"score":0,"creation_date":1581317253,"post_id":60145124,"comment_id":106376950,"body_markdown":"@ScaryWombat Thanks for your suggestion. But is there any way to check the cause","body":"@ScaryWombat Thanks for your suggestion. But is there any way to check the cause"}],"answers":[{"comments":[{"owner":{"account_id":2401744,"reputation":486,"user_id":2127405,"accept_rate":88,"display_name":"User12345"},"score":0,"creation_date":1581317380,"post_id":60145318,"comment_id":106376995,"body_markdown":"Thanks for your time. But how it can work again after restarting the applications?","body":"Thanks for your time. But how it can work again after restarting the applications?"},{"owner":{"account_id":17439296,"reputation":637,"user_id":12647099,"display_name":"Maulik Parmar"},"score":0,"creation_date":1581317694,"post_id":60145318,"comment_id":106377072,"body_markdown":"Check updated answer, and if you can give more insights on server configuration, it would be helpful","body":"Check updated answer, and if you can give more insights on server configuration, it would be helpful"},{"owner":{"account_id":2401744,"reputation":486,"user_id":2127405,"accept_rate":88,"display_name":"User12345"},"score":0,"creation_date":1581319912,"post_id":60145318,"comment_id":106377862,"body_markdown":"But if there is multiple failed attempts in database side, We have to unlock the user but here we have only restarted the application.","body":"But if there is multiple failed attempts in database side, We have to unlock the user but here we have only restarted the application."},{"owner":{"account_id":17439296,"reputation":637,"user_id":12647099,"display_name":"Maulik Parmar"},"score":0,"creation_date":1581320832,"post_id":60145318,"comment_id":106378256,"body_markdown":"There shouldn&#39;t be any failed attempts unless someone or some application is trying to access it in unauthorised way. That explains why authentication fails as user is locked. Main issue is application cannot see database when network fails. Rest is just assumption why there are failed attempts in first place.  When network fails, database server and your application is never connected and hance there is no chance of if locking down user unless it&#39;s trying to log on unauthorised network interface. Either way network is causing problems.","body":"There shouldn&#39;t be any failed attempts unless someone or some application is trying to access it in unauthorised way. That explains why authentication fails as user is locked. Main issue is application cannot see database when network fails. Rest is just assumption why there are failed attempts in first place.  When network fails, database server and your application is never connected and hance there is no chance of if locking down user unless it&#39;s trying to log on unauthorised network interface. Either way network is causing problems."}],"tags":[],"owner":{"account_id":17439296,"reputation":637,"user_id":12647099,"display_name":"Maulik Parmar"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581317637,"creation_date":1581317208,"answer_id":60145318,"question_id":60145124,"body_markdown":"It&#39;s more of network issue, check your server configuration and make sure it is listening to right hosts and ports in both dev and production environment. \n\nUnknown host error suggests that it cannot resolve address to right machine IP. If you can use IP addresses it will stop resolving host and also reduce resolving latency at each connection request.\n\nChnaces are, Your DNS server isn&#39;t keeping up with requests made and failing to respond. Best way to fix this is to use static internal IP addresses to your hosts and use them directly. Or fine tune servers so they can handle the requests concurrency.\n\nEdit :\n\nSecond exceptions tells that your DB server is rejecting login credentials, or login process fails. Thus authentication failed exception is thrown.\n\nAs you may have network issues, I&#39;d suggest to check quality of network between two hosts and ensure that your packets are dropped without error.\n\nOtherwise as the error suggests, credentials are not honoured at database and it might have to do with server having multiple network interfaces but server only listening to one network interface and rejecting connections from all other ( assuming standard production server environment )","title":"Database connection problem - Caused by: java.sql.SQLRecoverableException: IO Error: Unknown host specified","body":"<p>It's more of network issue, check your server configuration and make sure it is listening to right hosts and ports in both dev and production environment. </p>\n\n<p>Unknown host error suggests that it cannot resolve address to right machine IP. If you can use IP addresses it will stop resolving host and also reduce resolving latency at each connection request.</p>\n\n<p>Chnaces are, Your DNS server isn't keeping up with requests made and failing to respond. Best way to fix this is to use static internal IP addresses to your hosts and use them directly. Or fine tune servers so they can handle the requests concurrency.</p>\n\n<p>Edit :</p>\n\n<p>Second exceptions tells that your DB server is rejecting login credentials, or login process fails. Thus authentication failed exception is thrown.</p>\n\n<p>As you may have network issues, I'd suggest to check quality of network between two hosts and ensure that your packets are dropped without error.</p>\n\n<p>Otherwise as the error suggests, credentials are not honoured at database and it might have to do with server having multiple network interfaces but server only listening to one network interface and rejecting connections from all other ( assuming standard production server environment )</p>\n"}],"owner":{"account_id":2401744,"reputation":486,"user_id":2127405,"accept_rate":88,"display_name":"User12345"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11345,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696273335,"creation_date":1581316159,"question_id":60145124,"body_markdown":"We have faced database connection issue suddenly in the production instance. After the restart, application working again. \r\n\r\nHere is the stack trace \r\n\r\n    06 Feb 2020 11:11:37,714 [http-nio-6060-exec-21] ERROR IntegrationDAOImpl : authenticate user failed\r\n    org.hibernate.exception.JDBCConnectionException: Cannot open connection\r\n    \tat org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:74)\r\n    \tat org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:43)\r\n    \tat org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:29)\r\n    \tat org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:426)\r\n    \tat org.hibernate.jdbc.ConnectionManager.getConnection(ConnectionManager.java:144)\r\n    \tat org.hibernate.jdbc.AbstractBatcher.prepareQueryStatement(AbstractBatcher.java:139)\r\n    \tat org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1547)\r\n    \tat org.hibernate.loader.Loader.doQuery(Loader.java:673)\r\n    \tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:236)\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2220)\r\n    \tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2104)\r\n    \tat org.hibernate.loader.Loader.list(Loader.java:2099)\r\n    \tat org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:289)\r\n    \tat org.hibernate.impl.SessionImpl.listCustomQuery(SessionImpl.java:1695)\r\n    \tat org.hibernate.impl.AbstractSessionImpl.list(AbstractSessionImpl.java:142)\r\n    \tat org.hibernate.impl.SQLQueryImpl.list(SQLQueryImpl.java:152)\r\n    \tat com.base.action.user.LoginUserAction.loginTouch(LoginUserAction.java:387)\r\n    \tat sun.reflect.GeneratedMethodAccessor1753.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:441)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:280)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:243)\r\n    \tat com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:165)\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:252)\r\n    \tat org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:122)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:195)\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:195)\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:179)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:75)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:94)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:235)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:89)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:130)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:267)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:126)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:138)\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:165)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:179)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:176)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:52)\r\n    \tat org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:488)\r\n    \tat org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:395)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:678)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: java.sql.SQLRecoverableException: IO Error: Unknown host specified \r\n    \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:743)\r\n    \tat oracle.jdbc.driver.PhysicalConnection.connect(PhysicalConnection.java:666)\r\n    \tat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:32)\r\n    \tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:566)\r\n    \tat java.sql.DriverManager.getConnection(Unknown Source)\r\n    \tat java.sql.DriverManager.getConnection(Unknown Source)\r\n    \tat org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:283)\r\n    \tat org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:271)\r\n    \tat org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:255)\r\n    \tat org.springframework.jdbc.datasource.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:236)\r\n    \tat org.springframework.orm.hibernate3.LocalDataSourceConnectionProvider.getConnection(LocalDataSourceConnectionProvider.java:81)\r\n    \tat org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:423)\r\n    \t... 85 more\r\n    Caused by: oracle.net.ns.NetException: Unknown host specified \r\n    \tat oracle.net.resolver.HostnameNamingAdapter.resolve(HostnameNamingAdapter.java:207)\r\n    \tat oracle.net.resolver.NameResolver.resolveName(NameResolver.java:131)\r\n    \tat oracle.net.resolver.AddrResolution.resolveAndExecute(AddrResolution.java:475)\r\n    \tat oracle.net.ns.NSProtocol.establishConnection(NSProtocol.java:595)\r\n    \tat oracle.net.ns.NSProtocol.connect(NSProtocol.java:230)\r\n    \tat oracle.jdbc.driver.T4CConnection.connect(T4CConnection.java:1452)\r\n    \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:496)\r\n    \t... 96 more\r\n\r\n\r\nWe are running another socket application on the same server. We faced the same error that application also. Here is the log of our second application\r\n\r\n    2020-02-06 11:05:18,589 [pool-2-thread-4] \r\n    ERROR DbConnection : Db error\r\n    java.sql.SQLRecoverableException: IO Error: Unknown host specified \r\n    \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:743)\r\n    \tat oracle.jdbc.driver.PhysicalConnection.connect(PhysicalConnection.java:666)\r\n    \tat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:32)\r\n    \tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:566)\r\n    \tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\r\n    \tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\r\n    \tat utils.DbConnection.getConnection(DbConnection.java:25)\r\n    \tat requestValidation.validatePcbEnd(PanaCIMRequestValidation.java:812)\r\n    \tat xmlConvert.ConvertReceivedXMLToObject.extractMaterialReqXmlToObjects(ConvertReceivedXMLToObject.java:73)\r\n    \tat clientapplication.SendResponseToClient.run(SendResponseToClient.java:68)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:835)\r\n    Caused by: oracle.net.ns.NetException: Unknown host specified \r\n    \tat oracle.net.resolver.HostnameNamingAdapter.resolve(HostnameNamingAdapter.java:207)\r\n    \tat oracle.net.resolver.NameResolver.resolveName(NameResolver.java:131)\r\n    \tat oracle.net.resolver.AddrResolution.resolveAndExecute(AddrResolution.java:475)\r\n    \tat oracle.net.ns.NSProtocol.establishConnection(NSProtocol.java:595)\r\n    \tat oracle.net.ns.NSProtocol.connect(NSProtocol.java:230)\r\n    \tat oracle.jdbc.driver.T4CConnection.connect(T4CConnection.java:1452)\r\n    \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:496)\r\n    \t... 12 more\t\r\n\r\n\r\nBut during that time ,we can able to establish connection with the database using Sql developer. \r\n\r\nWhat can be the issue here? How we can avoid it?\r\n\r\nHere is the connection string, \r\n\r\n**jdbc:oracle:thin:@SERVERNAME:1521/test** \r\nJDBC : https://mvnrepository.com/artifact/com.oracle/ojdbc7/12.1.0.2\r\n","title":"Database connection problem - Caused by: java.sql.SQLRecoverableException: IO Error: Unknown host specified","body":"<p>We have faced database connection issue suddenly in the production instance. After the restart, application working again. </p>\n\n<p>Here is the stack trace </p>\n\n<pre><code>06 Feb 2020 11:11:37,714 [http-nio-6060-exec-21] ERROR IntegrationDAOImpl : authenticate user failed\norg.hibernate.exception.JDBCConnectionException: Cannot open connection\n    at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:74)\n    at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:43)\n    at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:29)\n    at org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:426)\n    at org.hibernate.jdbc.ConnectionManager.getConnection(ConnectionManager.java:144)\n    at org.hibernate.jdbc.AbstractBatcher.prepareQueryStatement(AbstractBatcher.java:139)\n    at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1547)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:673)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:236)\n    at org.hibernate.loader.Loader.doList(Loader.java:2220)\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2104)\n    at org.hibernate.loader.Loader.list(Loader.java:2099)\n    at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:289)\n    at org.hibernate.impl.SessionImpl.listCustomQuery(SessionImpl.java:1695)\n    at org.hibernate.impl.AbstractSessionImpl.list(AbstractSessionImpl.java:142)\n    at org.hibernate.impl.SQLQueryImpl.list(SQLQueryImpl.java:152)\n    at com.base.action.user.LoginUserAction.loginTouch(LoginUserAction.java:387)\n    at sun.reflect.GeneratedMethodAccessor1753.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:441)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:280)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:243)\n    at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:165)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:252)\n    at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:122)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:195)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:195)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:179)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:75)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:94)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:235)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:89)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:130)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:267)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:126)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:138)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:165)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:179)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:176)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:52)\n    at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:488)\n    at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:395)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:678)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: java.sql.SQLRecoverableException: IO Error: Unknown host specified \n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:743)\n    at oracle.jdbc.driver.PhysicalConnection.connect(PhysicalConnection.java:666)\n    at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:32)\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:566)\n    at java.sql.DriverManager.getConnection(Unknown Source)\n    at java.sql.DriverManager.getConnection(Unknown Source)\n    at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:283)\n    at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:271)\n    at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:255)\n    at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:236)\n    at org.springframework.orm.hibernate3.LocalDataSourceConnectionProvider.getConnection(LocalDataSourceConnectionProvider.java:81)\n    at org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:423)\n    ... 85 more\nCaused by: oracle.net.ns.NetException: Unknown host specified \n    at oracle.net.resolver.HostnameNamingAdapter.resolve(HostnameNamingAdapter.java:207)\n    at oracle.net.resolver.NameResolver.resolveName(NameResolver.java:131)\n    at oracle.net.resolver.AddrResolution.resolveAndExecute(AddrResolution.java:475)\n    at oracle.net.ns.NSProtocol.establishConnection(NSProtocol.java:595)\n    at oracle.net.ns.NSProtocol.connect(NSProtocol.java:230)\n    at oracle.jdbc.driver.T4CConnection.connect(T4CConnection.java:1452)\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:496)\n    ... 96 more\n</code></pre>\n\n<p>We are running another socket application on the same server. We faced the same error that application also. Here is the log of our second application</p>\n\n<pre><code>2020-02-06 11:05:18,589 [pool-2-thread-4] \nERROR DbConnection : Db error\njava.sql.SQLRecoverableException: IO Error: Unknown host specified \n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:743)\n    at oracle.jdbc.driver.PhysicalConnection.connect(PhysicalConnection.java:666)\n    at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:32)\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:566)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\n    at utils.DbConnection.getConnection(DbConnection.java:25)\n    at requestValidation.validatePcbEnd(PanaCIMRequestValidation.java:812)\n    at xmlConvert.ConvertReceivedXMLToObject.extractMaterialReqXmlToObjects(ConvertReceivedXMLToObject.java:73)\n    at clientapplication.SendResponseToClient.run(SendResponseToClient.java:68)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:835)\nCaused by: oracle.net.ns.NetException: Unknown host specified \n    at oracle.net.resolver.HostnameNamingAdapter.resolve(HostnameNamingAdapter.java:207)\n    at oracle.net.resolver.NameResolver.resolveName(NameResolver.java:131)\n    at oracle.net.resolver.AddrResolution.resolveAndExecute(AddrResolution.java:475)\n    at oracle.net.ns.NSProtocol.establishConnection(NSProtocol.java:595)\n    at oracle.net.ns.NSProtocol.connect(NSProtocol.java:230)\n    at oracle.jdbc.driver.T4CConnection.connect(T4CConnection.java:1452)\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:496)\n    ... 12 more \n</code></pre>\n\n<p>But during that time ,we can able to establish connection with the database using Sql developer. </p>\n\n<p>What can be the issue here? How we can avoid it?</p>\n\n<p>Here is the connection string, </p>\n\n<p><strong>jdbc:oracle:thin:@SERVERNAME:1521/test</strong> \nJDBC : <a href=\"https://mvnrepository.com/artifact/com.oracle/ojdbc7/12.1.0.2\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.oracle/ojdbc7/12.1.0.2</a></p>\n"},{"tags":["java","android","c","kotlin","math"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":4,"creation_date":1696265116,"post_id":77217163,"comment_id":136127942,"body_markdown":"Those are (very nearly) the same number, just displayed differently?","body":"Those are (very nearly) the same number, just displayed differently?"},{"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"score":0,"creation_date":1696265863,"post_id":77217163,"comment_id":136128054,"body_markdown":"Read up on what functions kotlin has available for converting floating point numbers to strings and use one that gives your desired format.","body":"Read up on what functions kotlin has available for converting floating point numbers to strings and use one that gives your desired format."},{"owner":{"account_id":113187,"reputation":201052,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"score":1,"creation_date":1696265881,"post_id":77217163,"comment_id":136128060,"body_markdown":"Re “what I want to do is this `3.08e^(-4*bsix*bsix)`”: That does not make sense; `3.08e` is not a defined literal in C or Java source code. Do you want to compute 3.08e-4 to the power of (bsix*bsix)?","body":"Re “what I want to do is this <code>3.08e^(-4*bsix*bsix)</code>”: That does not make sense; <code>3.08e</code> is not a defined literal in C or Java source code. Do you want to compute 3.08e-4 to the power of (bsix*bsix)?"},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":0,"creation_date":1696265917,"post_id":77217163,"comment_id":136128064,"body_markdown":"Note that the `e` in `3.08e-4` is not [Euler&#39;s number](https://en.wikipedia.org/wiki/E_(mathematical_constant)).  So if what you&#39;re trying to compute is `3.08 * 2.71828 ** (-4 * bsix * bsix)`, then you would need to use the `exp` function in C.","body":"Note that the <code>e</code> in <code>3.08e-4</code> is not <a href=\"https://en.wikipedia.org/wiki/E_(mathematical_constant)\" rel=\"nofollow noreferrer\">Euler&#39;s number</a>.  So if what you&#39;re trying to compute is <code>3.08 * 2.71828 ** (-4 * bsix * bsix)</code>, then you would need to use the <code>exp</code> function in C."},{"owner":{"account_id":8790688,"reputation":1,"user_id":6570619,"display_name":"Prasad Manjula"},"score":0,"creation_date":1696266757,"post_id":77217163,"comment_id":136128198,"body_markdown":"no not the exp.. the code in C language calculate the Planet positions in space. Its widely available C code..im trying to recreate in kotlin for my software","body":"no not the exp.. the code in C language calculate the Planet positions in space. Its widely available C code..im trying to recreate in kotlin for my software"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1696268425,"post_id":77217163,"comment_id":136128457,"body_markdown":"I don&#39;t see how your C code could be giving you expected results. The `e` in your image of the equation is Euler&#39;s number or some other constant, but you are using the E of scientific notation in your C code. But your C and Kotlin *results* are the same, just formatted differently.","body":"I don&#39;t see how your C code could be giving you expected results. The <code>e</code> in your image of the equation is Euler&#39;s number or some other constant, but you are using the E of scientific notation in your C code. But your C and Kotlin <i>results</i> are the same, just formatted differently."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1696269315,"post_id":77217163,"comment_id":136128635,"body_markdown":"You have correctly implemented the same thing in C and Kotlin.  However, that doesn&#39;t match the formula you have specified.","body":"You have correctly implemented the same thing in C and Kotlin.  However, that doesn&#39;t match the formula you have specified."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1696325891,"post_id":77217163,"comment_id":136135400,"body_markdown":"&quot;the code in C language calculate the Planet positions in space. Its widely available C code&quot; - please give us a link to where you found this code.","body":"&quot;the code in C language calculate the Planet positions in space. Its widely available C code&quot; - please give us a link to where you found this code."}],"answers":[{"tags":[],"owner":{"account_id":113187,"reputation":201052,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696269519,"creation_date":1696269519,"answer_id":77217551,"question_id":77217163,"body_markdown":"Given *b*&lt;sub&gt;6&lt;/sub&gt; stored in `bsix`, 3.08•&lt;i&gt;e&lt;/i&gt;&lt;sup&gt;−4•*b*&lt;sub&gt;6&lt;/sub&gt;•*b*&lt;sub&gt;6&lt;/sub&gt;&lt;/sup&gt; may be computed with `3.08*Math.exp(-4*bsix*bsix)`. The result is about 0.010779839926733713.\r\n\r\nThe C source code shown in the question does not compute the value of this expression. It computes 3.08•10&lt;sup&gt;−4&lt;/sup&gt;•*b*&lt;sub&gt;6&lt;/sub&gt;•*b*&lt;sub&gt;6&lt;/sub&gt;.","title":"Can&#39;t do e Calculations in Kotlin Correctly","body":"<p>Given <em>b</em><sub>6</sub> stored in <code>bsix</code>, 3.08•<i>e</i><sup>−4•<em>b</em><sub>6</sub>•<em>b</em><sub>6</sub></sup> may be computed with <code>3.08*Math.exp(-4*bsix*bsix)</code>. The result is about 0.010779839926733713.</p>\n<p>The C source code shown in the question does not compute the value of this expression. It computes 3.08•10<sup>−4</sup>•<em>b</em><sub>6</sub>•<em>b</em><sub>6</sub>.</p>\n"}],"owner":{"account_id":8790688,"reputation":1,"user_id":6570619,"display_name":"Prasad Manjula"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1696311493,"answer_count":1,"score":-2,"last_activity_date":1696273112,"creation_date":1696265031,"question_id":77217163,"body_markdown":"I&#39;m trying to Calculate this in Kotlin but gives not expected results\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBelow is the code in C language and it gives expected result\r\n\r\n```\r\ndouble bsix=1.1890129477526807;\r\nint main() {\r\n    // Write C code here\r\n    printf(&quot;value = %f \\n&quot;,3.08e-4*bsix*bsix);\r\n}\r\n\r\nvalue = 0.000435 \r\n```\r\n\r\nBelow is the code in Kotlin it not give the expected result\r\n\r\n```\r\nval bsix=1.1890129477526807\r\nfun main() {\r\n     println(&quot;value = &quot;+ 3.08e-4*bsix*bsix);\r\n}\r\nvalue = 4.354355512964439E-4\r\n\r\n```\r\nwhat I want to do is this \r\n```\r\n3.08e^(-4*bsix*bsix)\r\n```\r\nis kotlin does calculation like this ?\r\n```\r\n3.08e^(-4)   *bsix*bsix\r\n```\r\nthank you very much\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MwxpU.png","title":"Can&#39;t do e Calculations in Kotlin Correctly","body":"<p>I'm trying to Calculate this in Kotlin but gives not expected results</p>\n<p><a href=\"https://i.stack.imgur.com/MwxpU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MwxpU.png\" alt=\"enter image description here\" /></a></p>\n<p>Below is the code in C language and it gives expected result</p>\n<pre><code>double bsix=1.1890129477526807;\nint main() {\n    // Write C code here\n    printf(&quot;value = %f \\n&quot;,3.08e-4*bsix*bsix);\n}\n\nvalue = 0.000435 \n</code></pre>\n<p>Below is the code in Kotlin it not give the expected result</p>\n<pre><code>val bsix=1.1890129477526807\nfun main() {\n     println(&quot;value = &quot;+ 3.08e-4*bsix*bsix);\n}\nvalue = 4.354355512964439E-4\n\n</code></pre>\n<p>what I want to do is this</p>\n<pre><code>3.08e^(-4*bsix*bsix)\n</code></pre>\n<p>is kotlin does calculation like this ?</p>\n<pre><code>3.08e^(-4)   *bsix*bsix\n</code></pre>\n<p>thank you very much</p>\n"},{"tags":["java","spring-boot","jms","classnotfoundexception"],"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1585761921,"post_id":60976647,"comment_id":107879188,"body_markdown":"Why are you using a JMS `ObjectMessage`? It&#39;s discouraged for multiple reasons.","body":"Why are you using a JMS <code>ObjectMessage</code>? It&#39;s discouraged for multiple reasons."},{"owner":{"account_id":18028082,"reputation":305,"user_id":13103493,"display_name":"sidd"},"score":0,"creation_date":1585791865,"post_id":60976647,"comment_id":107890123,"body_markdown":"@Justin: I understand that its discouraged for mulitple reasons but still I have a requirement to do it and so can&#39;t help it.","body":"@Justin: I understand that its discouraged for mulitple reasons but still I have a requirement to do it and so can&#39;t help it."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1585832926,"post_id":60976647,"comment_id":107905777,"body_markdown":"You have a specific requirement to use `ObjectMessage` even though technically the data could be transferred in other kinds of messages which are safer and don&#39;t suffer from the same limitations? Typically requirements aren&#39;t expressed at the implementation level like that.","body":"You have a specific requirement to use <code>ObjectMessage</code> even though technically the data could be transferred in other kinds of messages which are safer and don&#39;t suffer from the same limitations? Typically requirements aren&#39;t expressed at the implementation level like that."}],"answers":[{"comments":[{"owner":{"account_id":18028082,"reputation":305,"user_id":13103493,"display_name":"sidd"},"score":0,"creation_date":1585800204,"post_id":60976812,"comment_id":107891809,"body_markdown":"I have camel.EquityFeeds in the classpath of my listener application which is written in SpringBoot which is consuming the JMS ObjectMessage. I wonder why JVM can&#39;t find it. I do understand the listener is trying to deserialize the message not the broker. I did those changes to see the object in the broker i.e. ActiveMQ. How do I make SpringBoot understand that camelproject.EquityFeeds is in it&#39;s classpath. How do I resolve this issue.","body":"I have camel.EquityFeeds in the classpath of my listener application which is written in SpringBoot which is consuming the JMS ObjectMessage. I wonder why JVM can&#39;t find it. I do understand the listener is trying to deserialize the message not the broker. I did those changes to see the object in the broker i.e. ActiveMQ. How do I make SpringBoot understand that camelproject.EquityFeeds is in it&#39;s classpath. How do I resolve this issue."},{"owner":{"account_id":18028082,"reputation":305,"user_id":13103493,"display_name":"sidd"},"score":0,"creation_date":1585808935,"post_id":60976812,"comment_id":107894021,"body_markdown":"I just solved this issue. I gave the same package name structure for my POJO class EquityFeeds as in my Spring Boot application. That solved the issue.","body":"I just solved this issue. I gave the same package name structure for my POJO class EquityFeeds as in my Spring Boot application. That solved the issue."}],"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585763375,"creation_date":1585762086,"answer_id":60976812,"question_id":60976647,"body_markdown":"You need `camelproject.EquityFeeds` on the classpath of the application consuming the JMS `ObjectMessage`. Apparently the JVM can&#39;t find it and therefore throws a `java.lang.ClassNotFoundException`.\r\n\r\nAlso, you don&#39;t need those changes to the broker&#39;s `wrapper.conf`. The *listener* is trying to deserialize the message, not the broker.","title":"ClassNotFound Exception Occured while consuming JMS ObjectMessage","body":"<p>You need <code>camelproject.EquityFeeds</code> on the classpath of the application consuming the JMS <code>ObjectMessage</code>. Apparently the JVM can't find it and therefore throws a <code>java.lang.ClassNotFoundException</code>.</p>\n\n<p>Also, you don't need those changes to the broker's <code>wrapper.conf</code>. The <em>listener</em> is trying to deserialize the message, not the broker.</p>\n"}],"owner":{"account_id":18028082,"reputation":305,"user_id":13103493,"display_name":"sidd"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696273108,"creation_date":1585761502,"question_id":60976647,"body_markdown":"I am consuming a JMS `ObjectMessage` through a listener written in Spring Boot. I am sending the `ObjectMessage` through my Camel application to a JMS queue and I am listening to the queue from my listener class in my Spring Boot application. \r\n\r\nCode: \r\n```java\r\nfinal BindyCsvDataFormat bindy = new BindyCsvDataFormat(EquityFeeds.class);\r\nConnectionFactory connectionFactory = new ActiveMQConnectionFactory(&quot;tcp://localhost:61616&quot;);\r\nCamelContext _ctx = new DefaultCamelContext(); \r\n_ctx.addComponent(&quot;jms&quot;, JmsComponent.jmsComponentAutoAcknowledge(connectionFactory));\r\n_ctx.addRoutes(new RouteBuilder() {\r\n\r\n    public void configure() throws Exception {\r\n\t    from(&quot;file:src/main/resources?fileName=data.csv&quot;)\t\t\t\t\r\n   \t\t    .unmarshal(bindy)\r\n            .split(body())\r\n            .streaming().to(&quot;jms:queue:javaobjects.upstream.queue&quot;);\r\n    }\r\n});\r\n```\r\n\r\nHere is my POJO class `EquityFeeds`: \r\n\r\n```java\r\n@CsvRecord(separator = &quot;,&quot;,skipFirstLine = true)\r\npublic class EquityFeeds implements Serializable {\r\n    \t\r\n\tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n\t@DataField(pos = 1)\t\r\n\tprivate String externalTransactionId;\r\n    \t\r\n\t@DataField(pos = 2)\r\n\tprivate String clientId;\r\n    \r\n    // other fields and getters setters\r\n    ...\r\n```\r\n\r\nIn the JMS queue I am receiving the message as: \r\n\r\n```\r\ncamelproject.EquityFeeds@1665425\r\n```\r\n\r\nMy JMS listener in Spring Boot: \r\n\r\n```java\r\n@JmsListener(destination = &quot;javaobjects.upstream.queue&quot;)\r\npublic void capitalIQProcessor(final Message objectMessage) throws JMSException {\r\n    Object messageData = null;\r\n    \r\n    if(objectMessage instanceof ObjectMessage) {\r\n        ObjectMessage objMessage = (ObjectMessage) objectMessage;\r\n        System.out.println(&quot;Starting Object Message.&quot;);\r\n    \r\n        Object object = objMessage.getObject();\r\n    \r\n        EquityFeeds equityFeeds = (EquityFeeds) object;\r\n    \r\n        System.out.println(&quot;Object: &quot;+equityFeeds.toString());\r\n    }    \r\n}\r\n```\r\nI am getting an Exception @ line `Object object = objMessage.getObject();`: \r\n\r\n```\r\ncapitalIQProcessor(javax.jms.Message) throws javax.jms.JMSException&#39; threw exception; nested exception is javax.jms.JMSException: Failed to build body from content. Serializable class not available to broker. Reason: java.lang.ClassNotFoundException: camelproject.EquityFeeds. Caused by: javax.jms.JMSException: Failed to build body from content. Serializable class not available to broker. Reason: java.lang.ClassNotFoundException: camelproject.EquityFeeds. Caused by: java.lang.ClassNotFoundException: camelproject.EquityFeeds\r\n```\r\n\r\nThrough Stack Overflow and other posts on the net I made the following changes: \r\n\r\n 1. I made the changes to `wrapper.conf` (apache-activemq-5.15.11-bin\\apache-activemq-5.15.11\\bin\\win64)\r\n    1. Added then entry: \r\n`wrapper.java.classpath.3=C:\\Users\\sidbharg\\eclipse-workspace\\Sid\\target\\camelproject-0.0.1-SNAPSHOT.jar`\r\nThis is the location of the .jar file where I have my POJO (EquityFeeds).\r\n    2. Also added the entry: \r\n`wrapper.java.additional.13=-Dorg.apache.activemq.SERIALIZABLE_PACKAGES=&quot;*&quot;`\r\n\r\n 2. In My Consumer code I also added `activeMQConnectionFactory.setTrustAllPackages(true);`:\r\n\r\n```java\r\npublic ActiveMQConnectionFactory activeMQConnectionFactory() {\r\n        ActiveMQConnectionFactory activeMQConnectionFactory = new ActiveMQConnectionFactory();\r\n        activeMQConnectionFactory.setBrokerURL(brokerURL);\r\n        activeMQConnectionFactory.setTrustAllPackages(true);\r\n        return activeMQConnectionFactory;\r\n}\r\n```\r\n\r\nNow what is the issue? Why its giving me the exception. Where I am going wrong? Is there anything which I have forgotten and is needed to be added? ","title":"ClassNotFound Exception Occured while consuming JMS ObjectMessage","body":"<p>I am consuming a JMS <code>ObjectMessage</code> through a listener written in Spring Boot. I am sending the <code>ObjectMessage</code> through my Camel application to a JMS queue and I am listening to the queue from my listener class in my Spring Boot application.</p>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final BindyCsvDataFormat bindy = new BindyCsvDataFormat(EquityFeeds.class);\nConnectionFactory connectionFactory = new ActiveMQConnectionFactory(&quot;tcp://localhost:61616&quot;);\nCamelContext _ctx = new DefaultCamelContext(); \n_ctx.addComponent(&quot;jms&quot;, JmsComponent.jmsComponentAutoAcknowledge(connectionFactory));\n_ctx.addRoutes(new RouteBuilder() {\n\n    public void configure() throws Exception {\n        from(&quot;file:src/main/resources?fileName=data.csv&quot;)               \n            .unmarshal(bindy)\n            .split(body())\n            .streaming().to(&quot;jms:queue:javaobjects.upstream.queue&quot;);\n    }\n});\n</code></pre>\n<p>Here is my POJO class <code>EquityFeeds</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@CsvRecord(separator = &quot;,&quot;,skipFirstLine = true)\npublic class EquityFeeds implements Serializable {\n        \n    private static final long serialVersionUID = 1L;\n        \n    @DataField(pos = 1) \n    private String externalTransactionId;\n        \n    @DataField(pos = 2)\n    private String clientId;\n    \n    // other fields and getters setters\n    ...\n</code></pre>\n<p>In the JMS queue I am receiving the message as:</p>\n<pre><code>camelproject.EquityFeeds@1665425\n</code></pre>\n<p>My JMS listener in Spring Boot:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JmsListener(destination = &quot;javaobjects.upstream.queue&quot;)\npublic void capitalIQProcessor(final Message objectMessage) throws JMSException {\n    Object messageData = null;\n    \n    if(objectMessage instanceof ObjectMessage) {\n        ObjectMessage objMessage = (ObjectMessage) objectMessage;\n        System.out.println(&quot;Starting Object Message.&quot;);\n    \n        Object object = objMessage.getObject();\n    \n        EquityFeeds equityFeeds = (EquityFeeds) object;\n    \n        System.out.println(&quot;Object: &quot;+equityFeeds.toString());\n    }    \n}\n</code></pre>\n<p>I am getting an Exception @ line <code>Object object = objMessage.getObject();</code>:</p>\n<pre><code>capitalIQProcessor(javax.jms.Message) throws javax.jms.JMSException' threw exception; nested exception is javax.jms.JMSException: Failed to build body from content. Serializable class not available to broker. Reason: java.lang.ClassNotFoundException: camelproject.EquityFeeds. Caused by: javax.jms.JMSException: Failed to build body from content. Serializable class not available to broker. Reason: java.lang.ClassNotFoundException: camelproject.EquityFeeds. Caused by: java.lang.ClassNotFoundException: camelproject.EquityFeeds\n</code></pre>\n<p>Through Stack Overflow and other posts on the net I made the following changes:</p>\n<ol>\n<li><p>I made the changes to <code>wrapper.conf</code> (apache-activemq-5.15.11-bin\\apache-activemq-5.15.11\\bin\\win64)</p>\n<ol>\n<li>Added then entry:\n<code>wrapper.java.classpath.3=C:\\Users\\sidbharg\\eclipse-workspace\\Sid\\target\\camelproject-0.0.1-SNAPSHOT.jar</code>\nThis is the location of the .jar file where I have my POJO (EquityFeeds).</li>\n<li>Also added the entry:\n<code>wrapper.java.additional.13=-Dorg.apache.activemq.SERIALIZABLE_PACKAGES=&quot;*&quot;</code></li>\n</ol>\n</li>\n<li><p>In My Consumer code I also added <code>activeMQConnectionFactory.setTrustAllPackages(true);</code>:</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public ActiveMQConnectionFactory activeMQConnectionFactory() {\n        ActiveMQConnectionFactory activeMQConnectionFactory = new ActiveMQConnectionFactory();\n        activeMQConnectionFactory.setBrokerURL(brokerURL);\n        activeMQConnectionFactory.setTrustAllPackages(true);\n        return activeMQConnectionFactory;\n}\n</code></pre>\n<p>Now what is the issue? Why its giving me the exception. Where I am going wrong? Is there anything which I have forgotten and is needed to be added?</p>\n"},{"tags":["java","discord","bots"],"comments":[{"owner":{"account_id":12221317,"reputation":569,"user_id":8920328,"display_name":"Melron"},"score":0,"creation_date":1668581694,"post_id":74456070,"comment_id":131437451,"body_markdown":"It sounds like there is something wrong with the format (from discord) and your ide cant show it. Try to use getContentDisplay() which is a formatted text instead of getContentRaw which will return a raw textual content","body":"It sounds like there is something wrong with the format (from discord) and your ide cant show it. Try to use getContentDisplay() which is a formatted text instead of getContentRaw which will return a raw textual content"}],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668595549,"creation_date":1668595549,"answer_id":74459101,"question_id":74456070,"body_markdown":"You are missing the message content intent. This is explained in the [troubleshooting guide](https://jda.wiki/using-jda/troubleshooting/#cannot-get-message-content-attempting-to-access-message-content-without-gatewayintent).","title":"JDA Discord Bot not recognizing user messages properly","body":"<p>You are missing the message content intent. This is explained in the <a href=\"https://jda.wiki/using-jda/troubleshooting/#cannot-get-message-content-attempting-to-access-message-content-without-gatewayintent\" rel=\"nofollow noreferrer\">troubleshooting guide</a>.</p>\n"},{"tags":[],"owner":{"account_id":13412216,"reputation":1,"user_id":12416734,"display_name":"Drilon Aliu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696272673,"creation_date":1696272644,"answer_id":77217827,"question_id":74456070,"body_markdown":"This fixed it for me\r\n \r\n```\r\nJDABuilder builder = JDABuilder.createDefault(&quot;asdfafdas&quot;);\r\nbuilder.enableIntents(GatewayIntent.MESSAGE_CONTENT);\r\n```","title":"JDA Discord Bot not recognizing user messages properly","body":"<p>This fixed it for me</p>\n<pre><code>JDABuilder builder = JDABuilder.createDefault(&quot;asdfafdas&quot;);\nbuilder.enableIntents(GatewayIntent.MESSAGE_CONTENT);\n</code></pre>\n"}],"owner":{"account_id":25534230,"reputation":1,"user_id":19321632,"display_name":"Extrreme"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696272673,"creation_date":1668580289,"question_id":74456070,"body_markdown":"Whenever a user in my discord sends a message, I try to log that message, however it thinks the message length is always zero. The one exception to this is that the bots own messages it detects perfectly fine.\r\n\r\n\r\n\r\n```\r\n@Override\r\npublic void onMessageReceived(@NotNull MessageReceivedEvent event) {\r\n    String message = event.getMessage().getContentRaw();\r\n\r\n    System.out.println(message + &quot; - &quot; + message.length());\r\n    if (!event.getAuthor().isBot()) {\r\n        event.getMessage().reply(&quot;test&quot;).queue();\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe output of the above code in the terminal is as follows when I send a message of &quot;hello&quot;:\r\n\r\n\r\n```\r\n - 0\r\ntest - 4\r\n```\r\n\r\nAs it can be seen, the contents and length of my &quot;hello&quot; message is not being recognized, but my bots reply of &quot;test&quot; is recognized perfectly fine. I am quite puzzled by this issue and any help would be appreciated.\r\n\r\n","title":"JDA Discord Bot not recognizing user messages properly","body":"<p>Whenever a user in my discord sends a message, I try to log that message, however it thinks the message length is always zero. The one exception to this is that the bots own messages it detects perfectly fine.</p>\n<pre><code>@Override\npublic void onMessageReceived(@NotNull MessageReceivedEvent event) {\n    String message = event.getMessage().getContentRaw();\n\n    System.out.println(message + &quot; - &quot; + message.length());\n    if (!event.getAuthor().isBot()) {\n        event.getMessage().reply(&quot;test&quot;).queue();\n    }\n}\n</code></pre>\n<p>The output of the above code in the terminal is as follows when I send a message of &quot;hello&quot;:</p>\n<pre><code> - 0\ntest - 4\n</code></pre>\n<p>As it can be seen, the contents and length of my &quot;hello&quot; message is not being recognized, but my bots reply of &quot;test&quot; is recognized perfectly fine. I am quite puzzled by this issue and any help would be appreciated.</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1696314019,"post_id":77217583,"comment_id":136133426,"body_markdown":"`I have many (about 30 ..` That is not many. That is nothing. 3000 would not even be many.","body":"<code>I have many (about 30 ..</code> That is not many. That is nothing. 3000 would not even be many."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1696314104,"post_id":77217583,"comment_id":136133438,"body_markdown":"Make a noteItem.getNoteDetailsShort(100) that delivers a certain amount of characters.","body":"Make a noteItem.getNoteDetailsShort(100) that delivers a certain amount of characters."}],"answers":[{"comments":[{"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"score":0,"creation_date":1696272433,"post_id":77217688,"comment_id":136129224,"body_markdown":"Thank you for answer. But I was already setting setMaxLines=2 and in fact there was two lines but it was the same laggy","body":"Thank you for answer. But I was already setting setMaxLines=2 and in fact there was two lines but it was the same laggy"}],"tags":[],"owner":{"account_id":10992239,"reputation":472,"user_id":8075762,"display_name":"Amanpreet Kaur"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696270951,"creation_date":1696270951,"answer_id":77217688,"question_id":77217583,"body_markdown":"You can use pagination and fetch data of a particular range. Like if you have total 300 items, get first 10 first, then next 10, continue till you get all the data\r\n\r\nFor items description, show max 2 lines in recycler and complete details can be shown in dialog or fragment. Restrict the lines of description text in layout with maxLines attribute.\r\n","title":"Android very long texts inside recyclerview items very laggy","body":"<p>You can use pagination and fetch data of a particular range. Like if you have total 300 items, get first 10 first, then next 10, continue till you get all the data</p>\n<p>For items description, show max 2 lines in recycler and complete details can be shown in dialog or fragment. Restrict the lines of description text in layout with maxLines attribute.</p>\n"}],"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696272577,"creation_date":1696269871,"question_id":77217583,"body_markdown":"I want to achieve fast scrolling because now it is very laggy when the code reaches this:\r\n\r\n\r\n            holderOneElement.noteTitleText.setText(noteItem.getNoteTitle());\r\n            holderOneElement.noteDetailsText.setText(noteItem.getNoteDetails());\r\n\r\n\r\nThis code is inside `onBindViewHolder()` of recyclerview.\r\n\r\nThe fact is I have many (about 30 recyclerview items, and it still growing up) and those two Strings especially noteItem.getNoteDetails() are very long, with width reaching even more than 60000 when I check width with this code:\r\n\r\n        Rect bounds = new Rect();\r\n        Paint textPaint = holderOneElement.noteDetailsText.getPaint();\r\n        textPaint.getTextBounds(noteItem.getNoteDetails(), 0, noteItem.getNoteDetails().length(), bounds);\r\n        int tvWidthWithText = bounds.width();\r\n\r\n\r\nMy idea is to show only as many `noteItem.getNoteDetails()` text as it can fit in a parent&#39;s view with `noteItem.getNoteDetails().replace(start, end)`. \r\n\r\nIt is Worth mentioning that these two textviews does not need to be showing full strings. If string is longer than text view parent size then it should be as many as it fits. \r\n\r\nMaybe then I will not be laggy... \r\n\r\nHow can I achieve that?","title":"Android very long texts inside recyclerview items very laggy","body":"<p>I want to achieve fast scrolling because now it is very laggy when the code reaches this:</p>\n<pre><code>        holderOneElement.noteTitleText.setText(noteItem.getNoteTitle());\n        holderOneElement.noteDetailsText.setText(noteItem.getNoteDetails());\n</code></pre>\n<p>This code is inside <code>onBindViewHolder()</code> of recyclerview.</p>\n<p>The fact is I have many (about 30 recyclerview items, and it still growing up) and those two Strings especially noteItem.getNoteDetails() are very long, with width reaching even more than 60000 when I check width with this code:</p>\n<pre><code>    Rect bounds = new Rect();\n    Paint textPaint = holderOneElement.noteDetailsText.getPaint();\n    textPaint.getTextBounds(noteItem.getNoteDetails(), 0, noteItem.getNoteDetails().length(), bounds);\n    int tvWidthWithText = bounds.width();\n</code></pre>\n<p>My idea is to show only as many <code>noteItem.getNoteDetails()</code> text as it can fit in a parent's view with <code>noteItem.getNoteDetails().replace(start, end)</code>.</p>\n<p>It is Worth mentioning that these two textviews does not need to be showing full strings. If string is longer than text view parent size then it should be as many as it fits.</p>\n<p>Maybe then I will not be laggy...</p>\n<p>How can I achieve that?</p>\n"},{"tags":["java","spring-boot","docker-compose"],"comments":[{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1696303026,"post_id":77213246,"comment_id":136132564,"body_markdown":"I followed your link: __1)__ I don&#39;t think that a `maven-assembly-plugin` is mandatory, `spring-boot-maven-plugin` is enough to handle things. Try to remove assembly plugin. __2)__ In your `@SpringBootApplication` annotation, it&#39;s not `@ComponentScan(basePackages = {&quot;src.main.java.com.springlearn.learnspringdb&quot;})` but `@ComponentScan(basePackages = {&quot;com.springlearn.learnspringdb&quot;})` that you should mention. Source folder doesn&#39;t count in the path to a class.","body":"I followed your link: <b>1)</b> I don&#39;t think that a <code>maven-assembly-plugin</code> is mandatory, <code>spring-boot-maven-plugin</code> is enough to handle things. Try to remove assembly plugin. <b>2)</b> In your <code>@SpringBootApplication</code> annotation, it&#39;s not <code>@ComponentScan(basePackages = {&quot;src.main.java.com.springlearn.learnspringdb&quot;})</code> but <code>@ComponentScan(basePackages = {&quot;com.springlearn.learnspringdb&quot;})</code> that you should mention. Source folder doesn&#39;t count in the path to a class."}],"answers":[{"comments":[{"owner":{"account_id":27792835,"reputation":21,"user_id":21218950,"display_name":"algouser"},"score":0,"creation_date":1696260782,"post_id":77213587,"comment_id":136127171,"body_markdown":"Thanks for inputs. Yes i had annotation with @Spring boot application also i tried with your solution of executable tag but still facing the same issue","body":"Thanks for inputs. Yes i had annotation with @Spring boot application also i tried with your solution of executable tag but still facing the same issue"},{"owner":{"account_id":27792835,"reputation":21,"user_id":21218950,"display_name":"algouser"},"score":0,"creation_date":1696269453,"post_id":77213587,"comment_id":136128667,"body_markdown":"sharing my complete code https://github.com/algouser/learnspringdb","body":"sharing my complete code <a href=\"https://github.com/algouser/learnspringdb\" rel=\"nofollow noreferrer\">github.com/algouser/learnspringdb</a>"}],"tags":[],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696228259,"creation_date":1696228259,"answer_id":77213587,"question_id":77213246,"body_markdown":"1. Do you have, somewhere, a class annotated `@SpringBootApplication` giving the main method?\r\n\r\n```java\r\n@SpringBootApplication\r\n@ComponentScan(basePackages={&quot;my.packages&quot;})\r\npublic class Application {\r\n   public static void main(String[] args) {\r\n      SpringApplication.run(Application.class, args);\r\n   }\r\n}\r\n```\r\n\r\n2. Also, I don&#39;t know if it makes a difference, but I&#39;m calling the plugin that way, adding an `executable = true` configuration to it:\r\n\r\n```xml\r\n&lt;execution&gt;\r\n\t&lt;id&gt;executable-jar&lt;/id&gt;\r\n\t&lt;phase&gt;install&lt;/phase&gt;\r\n\r\n\t&lt;goals&gt;\r\n\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n\t&lt;/goals&gt;\r\n\r\n    &lt;configuration&gt;\r\n\t   &lt;executable&gt;true&lt;/executable&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/execution&gt;\r\n```\r\n","title":"Getting &quot;no main manifest attribute&quot; for spring boot application when using docker compose","body":"<ol>\n<li>Do you have, somewhere, a class annotated <code>@SpringBootApplication</code> giving the main method?</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@ComponentScan(basePackages={&quot;my.packages&quot;})\npublic class Application {\n   public static void main(String[] args) {\n      SpringApplication.run(Application.class, args);\n   }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Also, I don't know if it makes a difference, but I'm calling the plugin that way, adding an <code>executable = true</code> configuration to it:</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;execution&gt;\n    &lt;id&gt;executable-jar&lt;/id&gt;\n    &lt;phase&gt;install&lt;/phase&gt;\n\n    &lt;goals&gt;\n        &lt;goal&gt;repackage&lt;/goal&gt;\n    &lt;/goals&gt;\n\n    &lt;configuration&gt;\n       &lt;executable&gt;true&lt;/executable&gt;\n    &lt;/configuration&gt;\n&lt;/execution&gt;\n</code></pre>\n"}],"owner":{"account_id":27792835,"reputation":21,"user_id":21218950,"display_name":"algouser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696272257,"creation_date":1696221341,"question_id":77213246,"body_markdown":"I am working on a simple scenario where i am launching a spring boot application and before that spinning off mysql container. I am doing this using docker-compose but i am getting `no main manifest attribute` error. \r\nFollowing is my `pom.xml`\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.springlearn&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;learnspringdb&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;usermanagement&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;start-class&gt;om.springlearn.learnspringdb.UsermanagementApplication&lt;/start-class&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n and below is the docker-compose file.\r\n\r\n```yaml\r\nversion: &#39;3&#39;\r\nservices:\r\n  app:\r\n    container_name: spring_boot_app\r\n    build: ./\r\n    ports:\r\n     - &quot;8080:8080&quot;\r\n    depends_on:\r\n      - mysql\r\n    environment:\r\n      SPRING_DATASOURCE_URL: jdbc:mysql://localhost:3306/user_management\r\n\r\n  mysql:\r\n    image: mysql:8.1.0\r\n    ports:\r\n      - &quot;3307:3036&quot;\r\n    environment:\r\n      MYSQL_ROOT_USER: root\r\n      MYSQL_ROOT_PASSWORD: password\r\n```\r\n\r\n\r\n\r\n\r\nI googled and made adjustments to pom.xml for this issue but still its not working. \r\n\r\nif i launch spring boot application individually then it works fine but giving error in docker-compose only. \r\n\r\nAny thoughts on what is missing here?   \r\n\r\nmy github repo: https://github.com/algouser/learnspringdb","title":"Getting &quot;no main manifest attribute&quot; for spring boot application when using docker compose","body":"<p>I am working on a simple scenario where i am launching a spring boot application and before that spinning off mysql container. I am doing this using docker-compose but i am getting <code>no main manifest attribute</code> error.\nFollowing is my <code>pom.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.springlearn&lt;/groupId&gt;\n    &lt;artifactId&gt;learnspringdb&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;usermanagement&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;start-class&gt;om.springlearn.learnspringdb.UsermanagementApplication&lt;/start-class&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${project.parent.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${project.parent.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>and below is the docker-compose file.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>version: '3'\nservices:\n  app:\n    container_name: spring_boot_app\n    build: ./\n    ports:\n     - &quot;8080:8080&quot;\n    depends_on:\n      - mysql\n    environment:\n      SPRING_DATASOURCE_URL: jdbc:mysql://localhost:3306/user_management\n\n  mysql:\n    image: mysql:8.1.0\n    ports:\n      - &quot;3307:3036&quot;\n    environment:\n      MYSQL_ROOT_USER: root\n      MYSQL_ROOT_PASSWORD: password\n</code></pre>\n<p>I googled and made adjustments to pom.xml for this issue but still its not working.</p>\n<p>if i launch spring boot application individually then it works fine but giving error in docker-compose only.</p>\n<p>Any thoughts on what is missing here?</p>\n<p>my github repo: <a href=\"https://github.com/algouser/learnspringdb\" rel=\"nofollow noreferrer\">https://github.com/algouser/learnspringdb</a></p>\n"},{"tags":["java","maven","tomcat","osx-mavericks","vraptor"],"comments":[{"owner":{"account_id":117248,"reputation":527,"user_id":307133,"accept_rate":53,"display_name":"Carlos Spohr"},"score":0,"creation_date":1391699790,"post_id":21605298,"comment_id":32644656,"body_markdown":"try remove javassist exclusion on vraptor dependency tag.","body":"try remove javassist exclusion on vraptor dependency tag."}],"answers":[{"tags":[],"owner":{"account_id":973510,"reputation":73,"user_id":995509,"accept_rate":50,"display_name":"andregnhoato"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635891189,"creation_date":1391724864,"answer_id":21615228,"question_id":21605298,"body_markdown":"Figured out what was happening with the upgrade process. I&#39;m using the project, a jar that manages instances of EntityManager vraptor-jpa, when I kept the update, it occasioned the error. Compatibility could be:\n \nvraptor in version 3.4.2, use the plugin [vraptor-jpa-4.0.0.jar](https://github.com/caelum/vraptor-jpa)\n\nVraptor in version 3.5.3, the plugin uses [vraptor-jpa-1.0.1.jar](https://mvnrepository.com/artifact/br.com.caelum.vraptor/vraptor-jpa/1.0.1)\n\nThis change was enough to solve the problem.","title":"Upgrade vRaptor to 3.5.3 Java.lang.NoClassDefFoundError: br/com/caelum/vraptor/validator/Validator","body":"<p>Figured out what was happening with the upgrade process. I'm using the project, a jar that manages instances of EntityManager vraptor-jpa, when I kept the update, it occasioned the error. Compatibility could be:</p>\n<p>vraptor in version 3.4.2, use the plugin <a href=\"https://github.com/caelum/vraptor-jpa\" rel=\"nofollow noreferrer\">vraptor-jpa-4.0.0.jar</a></p>\n<p>Vraptor in version 3.5.3, the plugin uses <a href=\"https://mvnrepository.com/artifact/br.com.caelum.vraptor/vraptor-jpa/1.0.1\" rel=\"nofollow noreferrer\">vraptor-jpa-1.0.1.jar</a></p>\n<p>This change was enough to solve the problem.</p>\n"}],"owner":{"account_id":973510,"reputation":73,"user_id":995509,"accept_rate":50,"display_name":"andregnhoato"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":722,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":21615228,"answer_count":1,"score":2,"last_activity_date":1696272048,"creation_date":1391695992,"question_id":21605298,"body_markdown":"I have trouble when update my pom.xml for upgrade some jars, like vraptor and hibernate... My environment is, Web project, maven, tomcat 7, vraptor, jpa, osx mavericks, before update jars, all work&#39;s fine, after the update I got this error on start tomcat:\n\n    SEVERE: Exception starting filter vraptor\n    java.lang.NoClassDefFoundError: br/com/caelum/vraptor/validator/Validator\n\tat java.lang.Class.getDeclaredConstructors0(Native Method)\n\tat java.lang.Class.privateGetDeclaredConstructors(Class.java:2483)\n\tat java.lang.Class.getDeclaredConstructors(Class.java:1891)\n\tat br.com.caelum.vraptor.ioc.guice.GuiceComponentRegistry.getConstructor(GuiceComponentRegistry.java:154)\n\tat br.com.caelum.vraptor.ioc.guice.GuiceComponentRegistry.bindToConstructor(GuiceComponentRegistry.java:140)\n\tat br.com.caelum.vraptor.ioc.guice.GuiceComponentRegistry.register(GuiceComponentRegistry.java:84)\n\tat br.com.caelum.vraptor.ioc.guice.GuiceComponentRegistry.deepRegister(GuiceComponentRegistry.java:101)\n\tat br.com.caelum.vraptor.scan.DynamicWebAppBootstrap.configure(DynamicWebAppBootstrap.java:46)\n\tat br.com.caelum.vraptor.ioc.guice.GuiceProvider$2.configure(GuiceProvider.java:123)\n\tat com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:223)\n\tat com.google.inject.spi.Elements.getElements(Elements.java:101)\n\tat com.google.inject.spi.Elements.getElements(Elements.java:92)\n\tat com.google.inject.util.Modules$RealOverriddenModuleBuilder$1.configure(Modules.java:172)\n\tat com.google.inject.AbstractModule.configure(AbstractModule.java:59)\n\tat com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:223)\n\tat com.google.inject.spi.Elements.getElements(Elements.java:101)\n\tat com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:133)\n\tat com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:103)\n\tat com.google.inject.Guice.createInjector(Guice.java:95)\n\tat com.google.inject.Guice.createInjector(Guice.java:83)\n\tat br.com.caelum.vraptor.ioc.guice.GuiceProvider.start(GuiceProvider.java:97)\n\tat br.com.caelum.vraptor.VRaptor.init(VRaptor.java:119)\n\tat br.com.caelum.vraptor.VRaptor.init(VRaptor.java:113)\n\tat org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:281)\n\tat org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:262)\n\tat org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:107)\n\tat org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4797)\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5473)\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\n\tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:166)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n\tat java.lang.Thread.run(Thread.java:724)\n    Caused by: java.lang.ClassNotFoundException: br.com.caelum.vraptor.validator.Validator\n\tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1702)\n\tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1547)\n\t... 36 more\n\n\nAbout the error I found this interface in other package: br.com.caelum.vraptor.Validator\nhere is my pom.xml:\n\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\t&lt;groupId&gt;br.com.eco&lt;/groupId&gt;\n\t&lt;artifactId&gt;e-co&lt;/artifactId&gt;\n\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\t&lt;packaging&gt;war&lt;/packaging&gt;\n\t&lt;properties&gt;\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n\t\t&lt;project.vraptor.version&gt;3.5.3&lt;/project.vraptor.version&gt;\n\t&lt;/properties&gt;\n\n\t&lt;build&gt;\n\t\t&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n\t\t&lt;finalName&gt;${project.artifactId}-${project.version}&lt;/finalName&gt;\n\t\t&lt;resources&gt;\n\t\t\t&lt;resource&gt;\n\t\t\t\t&lt;directory&gt;src&lt;/directory&gt;\n\t\t\t\t&lt;includes&gt;\n\t\t\t\t\t&lt;include&gt;**/*.properties&lt;/include&gt;\n\t\t\t\t&lt;/includes&gt;\n\t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\n\t\t\t&lt;/resource&gt;\n\t\t&lt;/resources&gt;\n\t\t&lt;plugins&gt;\n\t\t\t&lt;plugin&gt;\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n\t\t\t\t&lt;configuration&gt;\n\t\t\t\t\t&lt;source&gt;1.5&lt;/source&gt;\n\t\t\t\t\t&lt;target&gt;1.5&lt;/target&gt;\n\t\t\t\t&lt;/configuration&gt;\n\t\t\t&lt;/plugin&gt;\n\t\t\t&lt;plugin&gt;\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n\t\t\t\t&lt;version&gt;2.1-beta-1&lt;/version&gt;\n\t\t\t\t&lt;configuration&gt;\n\t\t\t\t\t&lt;webappDirectory&gt;${project.basedir}/WebContent&lt;/webappDirectory&gt;\n\t\t\t\t\t&lt;warSourceDirectory&gt;${project.basedir}/WebContent&lt;/warSourceDirectory&gt;\n\t\t\t\t\t&lt;webXml&gt;${project.basedir}/WebContent/WEB-INF/web.xml&lt;/webXml&gt;\n\t\t\t\t\t&lt;packagingIncludes&gt;**/*.properties,**/*.jsp,**/*.jar,**/*.class,theme/**/*,images/**/*,**/*.xml,**/*.swf,**/*.tld,**/*.txt&lt;/packagingIncludes&gt;\n\t\t\t\t\t&lt;archive&gt;\n\t\t\t\t\t\t&lt;manifest&gt;\n\t\t\t\t\t\t\t&lt;addClasspath&gt;true&lt;/addClasspath&gt;\n\t\t\t\t\t\t&lt;/manifest&gt;\n\t\t\t\t\t&lt;/archive&gt;\n\t\t\t\t&lt;/configuration&gt;\n\t\t\t&lt;/plugin&gt;\n\t\t\t&lt;plugin&gt;\n\t\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n\t\t\t\t&lt;executions&gt;\n\t\t\t\t\t&lt;execution&gt;\n\t\t\t\t\t\t&lt;phase&gt;process-sources&lt;/phase&gt;\n\t\t\t\t\t\t&lt;goals&gt;\n\t\t\t\t\t\t\t&lt;goal&gt;copy-dependencies&lt;/goal&gt;\n\t\t\t\t\t\t&lt;/goals&gt;\n\t\t\t\t\t\t&lt;configuration&gt;\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;WebContent/WEB-INF/lib/&lt;/outputDirectory&gt;\n\t\t\t\t\t\t&lt;/configuration&gt;\n\t\t\t\t\t&lt;/execution&gt;\n\t\t\t\t&lt;/executions&gt;\n\t\t\t&lt;/plugin&gt;\n\t\t&lt;/plugins&gt;\n\t&lt;/build&gt;\n\n\t&lt;dependencies&gt;\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;br.com.caelum&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;vraptor&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;${project.vraptor.version}&lt;/version&gt;\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\n\t\t\t&lt;exclusions&gt;\n\t\t\t\t&lt;exclusion&gt;\n\t\t\t\t\t&lt;groupId&gt;javassist&lt;/groupId&gt;\n\t\t\t\t\t&lt;artifactId&gt;javassist&lt;/artifactId&gt;\n\t\t\t\t&lt;/exclusion&gt;\n\t\t\t&lt;/exclusions&gt;\n\t\t&lt;/dependency&gt;\n\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;br.com.caelum.vraptor&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;vraptor-environment&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;1.1.2&lt;/version&gt;\n\t\t&lt;/dependency&gt;\n\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;1.2.1&lt;/version&gt;\n\t\t&lt;/dependency&gt;\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;1.3.2&lt;/version&gt;\n\t\t&lt;/dependency&gt;\n\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;2.5&lt;/version&gt;\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\n\t\t&lt;/dependency&gt;\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;2.1&lt;/version&gt;\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\n\t\t&lt;/dependency&gt;\n\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;taglibs&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;standard&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;1.1.2&lt;/version&gt;\n\t\t&lt;/dependency&gt;\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\n\t\t&lt;/dependency&gt;\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;4.3.0.Final&lt;/version&gt;\n\t\t&lt;/dependency&gt;\n\t\t&lt;dependency&gt;\n\t        &lt;groupId&gt;br.com.caelum.vraptor&lt;/groupId&gt;\n\t        &lt;artifactId&gt;vraptor-jpa&lt;/artifactId&gt;\n\t        &lt;version&gt;4.0.0&lt;/version&gt; &lt;!-- or the latest version --&gt;\n\t    &lt;/dependency&gt;\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;hibernate-c3p0&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;4.3.0.Final&lt;/version&gt;\n\t\t&lt;/dependency&gt;\n\t&lt;/dependencies&gt;\n    &lt;/project&gt;\n\nI really can&#39;t find any reason for this, if someone have this trouble and can solved please help-me on this situation.","title":"Upgrade vRaptor to 3.5.3 Java.lang.NoClassDefFoundError: br/com/caelum/vraptor/validator/Validator","body":"<p>I have trouble when update my pom.xml for upgrade some jars, like vraptor and hibernate... My environment is, Web project, maven, tomcat 7, vraptor, jpa, osx mavericks, before update jars, all work's fine, after the update I got this error on start tomcat:</p>\n<pre><code>SEVERE: Exception starting filter vraptor\njava.lang.NoClassDefFoundError: br/com/caelum/vraptor/validator/Validator\nat java.lang.Class.getDeclaredConstructors0(Native Method)\nat java.lang.Class.privateGetDeclaredConstructors(Class.java:2483)\nat java.lang.Class.getDeclaredConstructors(Class.java:1891)\nat br.com.caelum.vraptor.ioc.guice.GuiceComponentRegistry.getConstructor(GuiceComponentRegistry.java:154)\nat br.com.caelum.vraptor.ioc.guice.GuiceComponentRegistry.bindToConstructor(GuiceComponentRegistry.java:140)\nat br.com.caelum.vraptor.ioc.guice.GuiceComponentRegistry.register(GuiceComponentRegistry.java:84)\nat br.com.caelum.vraptor.ioc.guice.GuiceComponentRegistry.deepRegister(GuiceComponentRegistry.java:101)\nat br.com.caelum.vraptor.scan.DynamicWebAppBootstrap.configure(DynamicWebAppBootstrap.java:46)\nat br.com.caelum.vraptor.ioc.guice.GuiceProvider$2.configure(GuiceProvider.java:123)\nat com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:223)\nat com.google.inject.spi.Elements.getElements(Elements.java:101)\nat com.google.inject.spi.Elements.getElements(Elements.java:92)\nat com.google.inject.util.Modules$RealOverriddenModuleBuilder$1.configure(Modules.java:172)\nat com.google.inject.AbstractModule.configure(AbstractModule.java:59)\nat com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:223)\nat com.google.inject.spi.Elements.getElements(Elements.java:101)\nat com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:133)\nat com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:103)\nat com.google.inject.Guice.createInjector(Guice.java:95)\nat com.google.inject.Guice.createInjector(Guice.java:83)\nat br.com.caelum.vraptor.ioc.guice.GuiceProvider.start(GuiceProvider.java:97)\nat br.com.caelum.vraptor.VRaptor.init(VRaptor.java:119)\nat br.com.caelum.vraptor.VRaptor.init(VRaptor.java:113)\nat org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:281)\nat org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:262)\nat org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:107)\nat org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4797)\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5473)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\nat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\nat java.util.concurrent.FutureTask.run(FutureTask.java:166)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\nat java.lang.Thread.run(Thread.java:724)\nCaused by: java.lang.ClassNotFoundException: br.com.caelum.vraptor.validator.Validator\nat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1702)\nat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1547)\n... 36 more\n</code></pre>\n<p>About the error I found this interface in other package: br.com.caelum.vraptor.Validator\nhere is my pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;br.com.eco&lt;/groupId&gt;\n&lt;artifactId&gt;e-co&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.vraptor.version&gt;3.5.3&lt;/project.vraptor.version&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n    &lt;finalName&gt;${project.artifactId}-${project.version}&lt;/finalName&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*.properties&lt;/include&gt;\n            &lt;/includes&gt;\n            &lt;filtering&gt;true&lt;/filtering&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.5&lt;/source&gt;\n                &lt;target&gt;1.5&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.1-beta-1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;webappDirectory&gt;${project.basedir}/WebContent&lt;/webappDirectory&gt;\n                &lt;warSourceDirectory&gt;${project.basedir}/WebContent&lt;/warSourceDirectory&gt;\n                &lt;webXml&gt;${project.basedir}/WebContent/WEB-INF/web.xml&lt;/webXml&gt;\n                &lt;packagingIncludes&gt;**/*.properties,**/*.jsp,**/*.jar,**/*.class,theme/**/*,images/**/*,**/*.xml,**/*.swf,**/*.tld,**/*.txt&lt;/packagingIncludes&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;process-sources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;WebContent/WEB-INF/lib/&lt;/outputDirectory&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;br.com.caelum&lt;/groupId&gt;\n        &lt;artifactId&gt;vraptor&lt;/artifactId&gt;\n        &lt;version&gt;${project.vraptor.version}&lt;/version&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;javassist&lt;/groupId&gt;\n                &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;br.com.caelum.vraptor&lt;/groupId&gt;\n        &lt;artifactId&gt;vraptor-environment&lt;/artifactId&gt;\n        &lt;version&gt;1.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n        &lt;version&gt;1.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;1.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;2.5&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n        &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n        &lt;version&gt;2.1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;taglibs&lt;/groupId&gt;\n        &lt;artifactId&gt;standard&lt;/artifactId&gt;\n        &lt;version&gt;1.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;4.3.0.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;br.com.caelum.vraptor&lt;/groupId&gt;\n        &lt;artifactId&gt;vraptor-jpa&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0&lt;/version&gt; &lt;!-- or the latest version --&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-c3p0&lt;/artifactId&gt;\n        &lt;version&gt;4.3.0.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I really can't find any reason for this, if someone have this trouble and can solved please help-me on this situation.</p>\n"},{"tags":["java","static","initialization"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696269935,"creation_date":1696269935,"answer_id":77217588,"question_id":77217570,"body_markdown":"Static initialization occurs in order.\r\n\r\nIn your first code snippet, the first action is to create a new instance of `A` for the static field. It needs the static field so that gets initialized to the default value, 0. The constructor then increases it to 1.\r\n\r\nIn your second code snippet, after the initialization of the static field, the value (1) is reset back to 0.","title":"different output for java static initialization","body":"<p>Static initialization occurs in order.</p>\n<p>In your first code snippet, the first action is to create a new instance of <code>A</code> for the static field. It needs the static field so that gets initialized to the default value, 0. The constructor then increases it to 1.</p>\n<p>In your second code snippet, after the initialization of the static field, the value (1) is reset back to 0.</p>\n"},{"tags":[],"owner":{"account_id":9932442,"reputation":25,"user_id":7351886,"display_name":"Robert Rowbax"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696272043,"creation_date":1696271469,"answer_id":77217738,"question_id":77217570,"body_markdown":"thx [@Rob Spoor] - It makes it a bit clearer\r\nI might add this:\r\n\r\n    public class A {\r\n        public static int count=0;\r\n        public static A inst = new A();\r\n        public A() {\r\n            A.inst.count++;\r\n        }\r\n    }\r\n\r\n**output:**\r\ncount: 1 \r\ncount: 1 \r\ncount: 3\r\n\r\n    public class A {\r\n    \r\n        public static A inst = new A();\r\n        public static int count=0;\r\n        public A() {\r\n            A.inst.count++;\r\n        }\r\n    }\r\n\r\n**output:**\r\ncount: 0\r\ncount: 0\r\ncount: 2","title":"different output for java static initialization","body":"<p>thx [@Rob Spoor] - It makes it a bit clearer\nI might add this:</p>\n<pre><code>public class A {\n    public static int count=0;\n    public static A inst = new A();\n    public A() {\n        A.inst.count++;\n    }\n}\n</code></pre>\n<p><strong>output:</strong>\ncount: 1\ncount: 1\ncount: 3</p>\n<pre><code>public class A {\n\n    public static A inst = new A();\n    public static int count=0;\n    public A() {\n        A.inst.count++;\n    }\n}\n</code></pre>\n<p><strong>output:</strong>\ncount: 0\ncount: 0\ncount: 2</p>\n"}],"owner":{"account_id":9932442,"reputation":25,"user_id":7351886,"display_name":"Robert Rowbax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77217588,"answer_count":2,"score":1,"last_activity_date":1696272043,"creation_date":1696269723,"question_id":77217570,"body_markdown":"```\r\npublic class DemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;count: &quot;+A.count);\r\n\t\tSystem.out.println(&quot;count: &quot;+A.count);\r\n\t\tvar a1=new A();\r\n\t\tvar a2=new A();\r\n\t\tSystem.out.println(&quot;count: &quot;+A.count);\r\n\r\n\t}\r\n}\r\n```\r\n\r\n**1)**\r\n```\r\npublic class A {\r\n\r\n    public static A inst = new A();\r\n    public static int count;\r\n\r\n    public A() {\r\n        A.inst.count++;\r\n    }\r\n}\r\n```\r\n**output**:\r\n```\r\ncount: 1\r\ncount: 1\r\ncount: 3\r\n```\r\n\r\n**2)**\r\n```\r\npublic class A {\r\n\r\n    public static A inst = new A();\r\n    public static int count=0;\r\n    public A() {\r\n        A.inst.count++;\r\n    }\r\n}\r\n```\r\n**output**:\r\n```\r\ncount: 0\r\ncount: 0\r\ncount: 2\r\n```\r\n\r\n\r\nThe differences is in\r\n1) public static int count;\r\n2) public static int count=0;\r\n\r\nCan anyone explain this?","title":"different output for java static initialization","body":"<pre><code>public class DemoApplication {\n\n    public static void main(String[] args) {\n        System.out.println(&quot;count: &quot;+A.count);\n        System.out.println(&quot;count: &quot;+A.count);\n        var a1=new A();\n        var a2=new A();\n        System.out.println(&quot;count: &quot;+A.count);\n\n    }\n}\n</code></pre>\n<p><strong>1)</strong></p>\n<pre><code>public class A {\n\n    public static A inst = new A();\n    public static int count;\n\n    public A() {\n        A.inst.count++;\n    }\n}\n</code></pre>\n<p><strong>output</strong>:</p>\n<pre><code>count: 1\ncount: 1\ncount: 3\n</code></pre>\n<p><strong>2)</strong></p>\n<pre><code>public class A {\n\n    public static A inst = new A();\n    public static int count=0;\n    public A() {\n        A.inst.count++;\n    }\n}\n</code></pre>\n<p><strong>output</strong>:</p>\n<pre><code>count: 0\ncount: 0\ncount: 2\n</code></pre>\n<p>The differences is in</p>\n<ol>\n<li>public static int count;</li>\n<li>public static int count=0;</li>\n</ol>\n<p>Can anyone explain this?</p>\n"},{"tags":["java","csv","apache-camel","bindy"],"comments":[{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1585213254,"post_id":60863659,"comment_id":107684157,"body_markdown":"what is `bindy` in this line `.unmarshal(bindy)` also can u give a sample csv","body":"what is <code>bindy</code> in this line <code>.unmarshal(bindy)</code> also can u give a sample csv"},{"owner":{"account_id":18028082,"reputation":305,"user_id":13103493,"display_name":"sidd"},"score":0,"creation_date":1585215723,"post_id":60863659,"comment_id":107685260,"body_markdown":"`final BindyCsvDataFormat bindy=new BindyCsvDataFormat(camelproject.EquityFeeds.class);`                                  sample csv **externalTransactionId,clientId,securityId,transactionType,transactionDate,marketValue,priorityFlag\nSAPEXTXN1,GS,ICICI,BUY,23/11/13,101.9,Y\nSAPEXTXN2,AS,REL,SELL,20/11/13,121.9,N  **","body":"<code>final BindyCsvDataFormat bindy=new BindyCsvDataFormat(camelproject.EquityFeeds.class);</code>                                  sample csv **externalTransactionId,clientId,securityId,transactionType,&zwnj;&#8203;transactionDate,mark&zwnj;&#8203;etValue,priorityFlag SAPEXTXN1,GS,ICICI,BUY,23/11/13,101.9,Y SAPEXTXN2,AS,REL,SELL,20/11/13,121.9,N  **"}],"answers":[{"comments":[{"owner":{"account_id":18028082,"reputation":305,"user_id":13103493,"display_name":"sidd"},"score":0,"creation_date":1585222794,"post_id":60865008,"comment_id":107688691,"body_markdown":"I changed my code as per your answer above to: `public void configure() throws Exception {\n\t\t\t\tfrom(&quot;file:src/main/resources?fileName=data.csv&quot;)\t\t\t\t\n\t\t\t\t.unmarshal(bindy)\n\t\t\t\t.split(body())\n\t\t\t\t.streaming().to(&quot;jms:queue:javaobjects.upstream.queue&quot;);\n\t\t\t}`  All the message came into ActiveMQ but it seems that the csv messages are not correctly unmarshelled to Java Objects as when I am consuming them I am getting NullPointerException. Please kindly advise.","body":"I changed my code as per your answer above to: <code>public void configure() throws Exception { \t\t\t\tfrom(&quot;file:src&#47;main&#47;resources?fileName=data.csv&quot;)\t\t\t\t \t\t\t\t.unmarshal(bindy) \t\t\t\t.split(body()) \t\t\t\t.streaming().to(&quot;jms:queue:javaobjects.upstream.queue&quot;); \t\t\t}</code>  All the message came into ActiveMQ but it seems that the csv messages are not correctly unmarshelled to Java Objects as when I am consuming them I am getting NullPointerException. Please kindly advise."},{"owner":{"account_id":18028082,"reputation":305,"user_id":13103493,"display_name":"sidd"},"score":0,"creation_date":1585223901,"post_id":60865008,"comment_id":107689248,"body_markdown":"sure .. here is the code ...`@JmsListener(destination = &quot;javaobjects.upstream.queue&quot;)\n    public void javaObjectListener(final Message objectMessage) throws JMSException {\n        Object messageData = null;\n        if(objectMessage instanceof ObjectMessage) {\n            ObjectMessage objMessage = (ObjectMessage) objectMessage;\n            messageData = objMessage.getObject();\n        }\n        System.out.println(&quot;Object: &quot;+messageData.toString());\n    }`  I am getting NullPointerException for all the objects. Additionally I just noticed that 2 messages went to the **ActiveMQ.DLQ** .","body":"sure .. here is the code ...<code>@JmsListener(destination = &quot;javaobjects.upstream.queue&quot;)     public void javaObjectListener(final Message objectMessage) throws JMSException {         Object messageData = null;         if(objectMessage instanceof ObjectMessage) {             ObjectMessage objMessage = (ObjectMessage) objectMessage;             messageData = objMessage.getObject();         }         System.out.println(&quot;Object: &quot;+messageData.toString());     }</code>  I am getting NullPointerException for all the objects. Additionally I just noticed that 2 messages went to the <b>ActiveMQ.DLQ</b> ."},{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1585224258,"post_id":60865008,"comment_id":107689421,"body_markdown":"you can edit the question and update the code, instead of commenting. If you are using camel, You do not need `@JmsListener`. Use the exact code I gave for testing. The queue messages will be read and sent to the method mentioned. In the example it is `camelBeanComponent::processRoute`","body":"you can edit the question and update the code, instead of commenting. If you are using camel, You do not need <code>@JmsListener</code>. Use the exact code I gave for testing. The queue messages will be read and sent to the method mentioned. In the example it is <code>camelBeanComponent::processRoute</code>"},{"owner":{"account_id":18028082,"reputation":305,"user_id":13103493,"display_name":"sidd"},"score":0,"creation_date":1585225255,"post_id":60865008,"comment_id":107689912,"body_markdown":"I just edited the question and updated the code. Let me know if any other info is required. Please guide me and help me overcome this issue.","body":"I just edited the question and updated the code. Let me know if any other info is required. Please guide me and help me overcome this issue."},{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1585225300,"post_id":60865008,"comment_id":107689930,"body_markdown":"as i said, get rid of `JmsListener` and create another route as I showed. Also update what are the pom dependecies that u r using for `JmsListener`","body":"as i said, get rid of <code>JmsListener</code> and create another route as I showed. Also update what are the pom dependecies that u r using for <code>JmsListener</code>"},{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1585225632,"post_id":60865008,"comment_id":107690124,"body_markdown":"check this out on how to consume messages using `@JmsListener` https://www.baeldung.com/spring-jms","body":"check this out on how to consume messages using <code>@JmsListener</code> <a href=\"https://www.baeldung.com/spring-jms\" rel=\"nofollow noreferrer\">baeldung.com/spring-jms</a>"},{"owner":{"account_id":18028082,"reputation":305,"user_id":13103493,"display_name":"sidd"},"score":0,"creation_date":1585225815,"post_id":60865008,"comment_id":107690219,"body_markdown":"I don&#39;t want to use Camel for my Consumer. I am using JMS API for my consumer. It&#39;s a SpringBoot Application. Its using spring annotation - **import org.springframework.jms.annotation.JmsListener;**","body":"I don&#39;t want to use Camel for my Consumer. I am using JMS API for my consumer. It&#39;s a SpringBoot Application. Its using spring annotation - <b>import org.springframework.jms.annotation.JmsListener;</b>"},{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":1,"creation_date":1585226118,"post_id":60865008,"comment_id":107690373,"body_markdown":"Okay. fair enough. This question was about &quot;Converting CSV file to Java Objects (POJO) and send it to ActiveMQ queue&quot; . I guess that is achieved(As you can see from my test route) So please accept the question. Checkout the tutorial and see why consuming is an issue. If there is a problem ask another question","body":"Okay. fair enough. This question was about &quot;Converting CSV file to Java Objects (POJO) and send it to ActiveMQ queue&quot; . I guess that is achieved(As you can see from my test route) So please accept the question. Checkout the tutorial and see why consuming is an issue. If there is a problem ask another question"}],"tags":[],"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585218259,"creation_date":1585217848,"answer_id":60865008,"question_id":60863659,"body_markdown":"Try this. This should work\r\n\r\n\r\n            \r\n\r\n    from(&quot;file:src/main/resources?fileName=equityfeeds.csv&quot;)\r\n                        .unmarshal(new BindyCsvDataFormat(EquityFeeds.class))\r\n                        .split(body())\r\n                        .streaming().to(&quot;jms:queue:javaobjects.upstream.queue&quot;);\r\n    // This route is for Testing\r\n    from(&quot;jms:queue:javaobjects.upstream.queue&quot;).to(&quot;bean:camelBeanComponent?method=processRoute&quot;); \r\n\r\nAnd write a consumer component bean\r\n\r\n    @Component\r\n    public class CamelBeanComponent {\r\n        public void processRoute(Exchange exchange) {\r\n            System.out.println(exchange.getIn().getBody());\r\n        }\r\n    }\r\n\r\nThis printed(You need to add `toString()` if you need output like this)\r\n\r\n    EquityFeeds(externalTransactionId=SAPEXTXN1, clientId=GS, securityId=ICICI, transactionType=BUY, transactionDate=Sun Dec 30 00:00:00 CET 2012, marketValue=101.9, priorityFlag=Y)\r\n    EquityFeeds(externalTransactionId=SAPEXTXN2, clientId=AS, securityId=REL, transactionType=SELL, transactionDate=Sun Dec 30 00:00:00 CET 2012, marketValue=121.9, priorityFlag=N)\r\n\r\n\r\nIf you use `.split().tokenize(&quot;,&quot;)` then, each field in each line(not complete line) is converted to EquityFeeds object (with other fields as null) is sent as a message to the queue\r\n\r\n","title":"Converting CSV file to Java Objects (POJO) and send it to ActiveMQ queue","body":"<p>Try this. This should work</p>\n\n<pre><code>from(\"file:src/main/resources?fileName=equityfeeds.csv\")\n                    .unmarshal(new BindyCsvDataFormat(EquityFeeds.class))\n                    .split(body())\n                    .streaming().to(\"jms:queue:javaobjects.upstream.queue\");\n// This route is for Testing\nfrom(\"jms:queue:javaobjects.upstream.queue\").to(\"bean:camelBeanComponent?method=processRoute\"); \n</code></pre>\n\n<p>And write a consumer component bean</p>\n\n<pre><code>@Component\npublic class CamelBeanComponent {\n    public void processRoute(Exchange exchange) {\n        System.out.println(exchange.getIn().getBody());\n    }\n}\n</code></pre>\n\n<p>This printed(You need to add <code>toString()</code> if you need output like this)</p>\n\n<pre><code>EquityFeeds(externalTransactionId=SAPEXTXN1, clientId=GS, securityId=ICICI, transactionType=BUY, transactionDate=Sun Dec 30 00:00:00 CET 2012, marketValue=101.9, priorityFlag=Y)\nEquityFeeds(externalTransactionId=SAPEXTXN2, clientId=AS, securityId=REL, transactionType=SELL, transactionDate=Sun Dec 30 00:00:00 CET 2012, marketValue=121.9, priorityFlag=N)\n</code></pre>\n\n<p>If you use <code>.split().tokenize(\",\")</code> then, each field in each line(not complete line) is converted to EquityFeeds object (with other fields as null) is sent as a message to the queue</p>\n"}],"owner":{"account_id":18028082,"reputation":305,"user_id":13103493,"display_name":"sidd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696271919,"creation_date":1585212661,"question_id":60863659,"body_markdown":"My aim is to read the csv file, convert it to Java Objects (POJO) and send the Java Objects one by one to a JMS queue. Below is the code: \r\n```java\r\npublic void configure() throws Exception {\r\n\tfrom(&quot;file:src/main/resources?fileName=data.csv&quot;)\t\t\t\t\r\n\t.unmarshal(bindy)\r\n\t.split(body())\r\n\t.to(&quot;file:src/main/resources/?fileName=equityfeeds.txt&quot;)\r\n\t.split().tokenize(&quot;,&quot;).streaming().to(&quot;jms:queue:javaobjects.upstream.queue&quot;);\t\t\t\r\n}\r\n```\r\n**Issues:**\r\n1.When I execute the code no file(equityfeeds.txt) gets created and no objects goes to the queue. What&#39;s wrong? I don&#39;t need to do any processing right now. I just need to unmarshal the csv to POJOs and send the Java Objects one by one to the JMS queue. \r\n\r\n**EquityFeeds (POJO)**\r\n```\r\n@CsvRecord(separator = &quot;,&quot;, skipFirstLine = true)\r\npublic class EquityFeeds {\r\n\t\r\n\t@DataField(pos = 1)\t\r\n\tprivate String externalTransactionId;\r\n\t\r\n\t@DataField(pos = 2)\r\n\tprivate String clientId;\r\n\t\r\n\t@DataField(pos = 3)\r\n\tprivate String securityId;\r\n\t\r\n\t@DataField(pos = 4)\r\n\tprivate String transactionType;\r\n\t\r\n\t@DataField(pos = 5, pattern = &quot;dd/MM/YY&quot;)\r\n\tprivate Date transactionDate;\r\n\t\r\n\t@DataField(pos = 6)\r\n\tprivate float marketValue; \r\n\t\r\n\t@DataField(pos = 7)\r\n\tprivate String priorityFlag;\r\n```\r\n\r\nPlease kindly help. Please tell me where I am going wrong. \r\n\r\n@pvpkiran:Below is my Camel Code for producer: \r\n```\r\npublic void configure() throws Exception {\r\n\tfrom(&quot;file:src/main/resources?fileName=data.csv&quot;)\t\t\t\t\r\n\t\t.unmarshal(bindy)\r\n\t\t.split(body())\r\n\t\t.streaming().to(&quot;jms:queue:javaobjects.upstream.queue&quot;);\r\n}\r\n```\r\nBelow is my Consumer Code (Using JMS API):\r\n```\r\n@JmsListener(destination = &quot;javaobjects.upstream.queue&quot;)\r\npublic void javaObjectsListener(final Message objectMessage) throws JMSException {\r\n    Object messageData = null;\r\n    if(objectMessage instanceof ObjectMessage) {\r\n        ObjectMessage objMessage = (ObjectMessage) objectMessage;\r\n        messageData = objMessage.getObject();\r\n    }\r\n    System.out.println(&quot;Object: &quot;+messageData.toString());\r\n}\r\n```\r\nI am not using Camel for consuming the JMS message. In the consumer I am using JMS API for consuming the message (as above). Also I am not testing the code. In the terminal in am getting `NullPointerException`. Also 2 message have gone into the DLQ giving the below Error Message: \r\n```\r\njava.lang.Throwable: Delivery[7] exceeds redelivery policy limit:RedeliveryPolicy {destination = null, collisionAvoidanceFactor = 0.15, maximumRedeliveries = 6, maximumRedeliveryDelay = -1, initialRedeliveryDelay = 1000, useCollisionAvoidance = false, useExponentialBackOff = false, backOffMultiplier = 5.0, redeliveryDelay = 1000, preDispatchCheck = true}, cause:null\r\n```","title":"Converting CSV file to Java Objects (POJO) and send it to ActiveMQ queue","body":"<p>My aim is to read the csv file, convert it to Java Objects (POJO) and send the Java Objects one by one to a JMS queue. Below is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void configure() throws Exception {\n    from(&quot;file:src/main/resources?fileName=data.csv&quot;)               \n    .unmarshal(bindy)\n    .split(body())\n    .to(&quot;file:src/main/resources/?fileName=equityfeeds.txt&quot;)\n    .split().tokenize(&quot;,&quot;).streaming().to(&quot;jms:queue:javaobjects.upstream.queue&quot;);          \n}\n</code></pre>\n<p><strong>Issues:</strong>\n1.When I execute the code no file(equityfeeds.txt) gets created and no objects goes to the queue. What's wrong? I don't need to do any processing right now. I just need to unmarshal the csv to POJOs and send the Java Objects one by one to the JMS queue.</p>\n<p><strong>EquityFeeds (POJO)</strong></p>\n<pre><code>@CsvRecord(separator = &quot;,&quot;, skipFirstLine = true)\npublic class EquityFeeds {\n    \n    @DataField(pos = 1) \n    private String externalTransactionId;\n    \n    @DataField(pos = 2)\n    private String clientId;\n    \n    @DataField(pos = 3)\n    private String securityId;\n    \n    @DataField(pos = 4)\n    private String transactionType;\n    \n    @DataField(pos = 5, pattern = &quot;dd/MM/YY&quot;)\n    private Date transactionDate;\n    \n    @DataField(pos = 6)\n    private float marketValue; \n    \n    @DataField(pos = 7)\n    private String priorityFlag;\n</code></pre>\n<p>Please kindly help. Please tell me where I am going wrong.</p>\n<p>@pvpkiran:Below is my Camel Code for producer:</p>\n<pre><code>public void configure() throws Exception {\n    from(&quot;file:src/main/resources?fileName=data.csv&quot;)               \n        .unmarshal(bindy)\n        .split(body())\n        .streaming().to(&quot;jms:queue:javaobjects.upstream.queue&quot;);\n}\n</code></pre>\n<p>Below is my Consumer Code (Using JMS API):</p>\n<pre><code>@JmsListener(destination = &quot;javaobjects.upstream.queue&quot;)\npublic void javaObjectsListener(final Message objectMessage) throws JMSException {\n    Object messageData = null;\n    if(objectMessage instanceof ObjectMessage) {\n        ObjectMessage objMessage = (ObjectMessage) objectMessage;\n        messageData = objMessage.getObject();\n    }\n    System.out.println(&quot;Object: &quot;+messageData.toString());\n}\n</code></pre>\n<p>I am not using Camel for consuming the JMS message. In the consumer I am using JMS API for consuming the message (as above). Also I am not testing the code. In the terminal in am getting <code>NullPointerException</code>. Also 2 message have gone into the DLQ giving the below Error Message:</p>\n<pre><code>java.lang.Throwable: Delivery[7] exceeds redelivery policy limit:RedeliveryPolicy {destination = null, collisionAvoidanceFactor = 0.15, maximumRedeliveries = 6, maximumRedeliveryDelay = -1, initialRedeliveryDelay = 1000, useCollisionAvoidance = false, useExponentialBackOff = false, backOffMultiplier = 5.0, redeliveryDelay = 1000, preDispatchCheck = true}, cause:null\n</code></pre>\n"},{"tags":["java","docker","ssl","kubernetes"],"answers":[{"comments":[{"owner":{"account_id":5913382,"reputation":696,"user_id":4652875,"accept_rate":20,"display_name":"Neelesh"},"score":0,"creation_date":1618567789,"post_id":67113469,"comment_id":118646130,"body_markdown":"I did install `sudo` in Dockerfile and modified `/etc/sudoers` accordingly. But i still can&#39;t run any command with `sudo` option. Some restriction put by base image may be. ERROR : `effective uid is not 0, is /usr/bin/sudo on a file system with the &#39;nosuid&#39; option set or an NFS file system without root privileges?`","body":"I did install <code>sudo</code> in Dockerfile and modified <code>&#47;etc&#47;sudoers</code> accordingly. But i still can&#39;t run any command with <code>sudo</code> option. Some restriction put by base image may be. ERROR : <code>effective uid is not 0, is &#47;usr&#47;bin&#47;sudo on a file system with the &#39;nosuid&#39; option set or an NFS file system without root privileges?</code>"},{"owner":{"account_id":3838375,"reputation":10942,"user_id":3182188,"accept_rate":75,"display_name":"Raniz"},"score":0,"creation_date":1618591975,"post_id":67113469,"comment_id":118657266,"body_markdown":"Sounds like something is off with your system. Search for the error and see if you can find a solution. [Here&#39;s](https://stackoverflow.com/questions/18607003/sudo-effective-uid-is-not-0-is-sudo-installed-setuid-root) one possible solution.","body":"Sounds like something is off with your system. Search for the error and see if you can find a solution. <a href=\"https://stackoverflow.com/questions/18607003/sudo-effective-uid-is-not-0-is-sudo-installed-setuid-root\">Here&#39;s</a> one possible solution."}],"tags":[],"owner":{"account_id":3838375,"reputation":10942,"user_id":3182188,"accept_rate":75,"display_name":"Raniz"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618508576,"creation_date":1618508576,"answer_id":67113469,"question_id":67112947,"body_markdown":"The easiest way is probably to allow running the `keytool` command using sudo.\r\n\r\nYou may need to install sudo in your Dockerfile and then you can set up `/etc/sudoers` to allow the user running `entrypoint.sh` to run that specific command (without a password). Have a look at [this answer on Unix](https://unix.stackexchange.com/a/215419/110479) for how to do it.\r\n\r\nAll you need to do then is locate the certificate and run\r\n\r\n    sudo keytool -keystore cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias myservicecert -file /home/myuser/.myservice/certs/public.crt\r\n\r\nIn `entrypoint.sh`\r\n\r\nAlternatively you can install a script when building your container that sets up the certificate and installs it and allow _that_ to be run with sudo. That way you don&#39;t open up the possibility to add more certificates if someone gains access to the container","title":"Loading a SSL certificate to container&#39;s JVM","body":"<p>The easiest way is probably to allow running the <code>keytool</code> command using sudo.</p>\n<p>You may need to install sudo in your Dockerfile and then you can set up <code>/etc/sudoers</code> to allow the user running <code>entrypoint.sh</code> to run that specific command (without a password). Have a look at <a href=\"https://unix.stackexchange.com/a/215419/110479\">this answer on Unix</a> for how to do it.</p>\n<p>All you need to do then is locate the certificate and run</p>\n<pre><code>sudo keytool -keystore cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias myservicecert -file /home/myuser/.myservice/certs/public.crt\n</code></pre>\n<p>In <code>entrypoint.sh</code></p>\n<p>Alternatively you can install a script when building your container that sets up the certificate and installs it and allow <em>that</em> to be run with sudo. That way you don't open up the possibility to add more certificates if someone gains access to the container</p>\n"},{"comments":[{"owner":{"account_id":5913382,"reputation":696,"user_id":4652875,"accept_rate":20,"display_name":"Neelesh"},"score":1,"creation_date":1618568030,"post_id":67116871,"comment_id":118646241,"body_markdown":"It will replace the original `cacerts` with the one from `init-container` right ? So any additional certificates added by base image will be lost.","body":"It will replace the original <code>cacerts</code> with the one from <code>init-container</code> right ? So any additional certificates added by base image will be lost."},{"owner":{"account_id":1524788,"reputation":3825,"user_id":1423507,"display_name":"masseyb"},"score":0,"creation_date":1618569255,"post_id":67116871,"comment_id":118646737,"body_markdown":"Yes. Just an example. Can mount and add all the certs you want.","body":"Yes. Just an example. Can mount and add all the certs you want."}],"tags":[],"owner":{"account_id":1524788,"reputation":3825,"user_id":1423507,"display_name":"masseyb"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1618526605,"creation_date":1618526605,"answer_id":67116871,"question_id":67112947,"body_markdown":"## TL;DR\r\n\r\nYou can add the certificate to the keystore in an [`initContainer`](https://kubernetes.io/docs/concepts/workloads/pods/init-containers/). The keystore can be shared between the `initContainer` and the `container` using a [`volume`](https://kubernetes.io/docs/concepts/storage/volumes/).\r\n\r\n---\r\n\r\nIn this example we&#39;re mounting the `tls-secret` to the pod as a Kubernetes [Secret](https://kubernetes.io/docs/concepts/configuration/secret/). The `tls-secret` contains the `tls.crt` which needs to be added to the keystore. We add the certificate to the keystore in the `initContainer` after copying the security files into a `volume` which is mounted to the pod&#39;s `container`.\r\n\r\n```lang-yaml\r\napiVersion: v1\r\nkind: Pod\r\nmetadata:\r\n  name: myapp\r\n  labels:\r\n    app: myapp\r\nspec:\r\n  containers:\r\n  - name: myapp\r\n    image: openjdk:8-jdk-slim-buster\r\n    command:\r\n    - bash\r\n    - -c\r\n    - |\r\n      keytool -list -keystore /usr/local/openjdk-8/jre/lib/security/cacerts -alias local\r\n      sleep infinity\r\n    volumeMounts:\r\n    - mountPath: /usr/local/openjdk-8/jre/lib/security\r\n      name: cacerts\r\n  initContainers:\r\n  - name: init-cacerts\r\n    image: openjdk:8-jdk-slim-buster\r\n    command:\r\n    - bash\r\n    - -c\r\n    - |\r\n      cp -R /usr/local/openjdk-8/jre/lib/security/* /cacerts/\r\n      keytool -import -noprompt -trustcacerts -alias local -file /security/tls.crt -keystore /cacerts/cacerts -storepass changeit\r\n      keytool -list -keystore /cacerts/cacerts -alias local\r\n    volumeMounts:\r\n    - mountPath: /cacerts\r\n      name: cacerts\r\n    - mountPath: /security\r\n      name: tls\r\n  volumes:\r\n  - name: cacerts\r\n    emptyDir: {}\r\n  - name: tls\r\n    secret:\r\n      secretName: tls-secret\r\n      defaultMode: 0400\r\n```\r\n[![shared keystore][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GAEYK.png","title":"Loading a SSL certificate to container&#39;s JVM","body":"<h2>TL;DR</h2>\n<p>You can add the certificate to the keystore in an <a href=\"https://kubernetes.io/docs/concepts/workloads/pods/init-containers/\" rel=\"nofollow noreferrer\"><code>initContainer</code></a>. The keystore can be shared between the <code>initContainer</code> and the <code>container</code> using a <a href=\"https://kubernetes.io/docs/concepts/storage/volumes/\" rel=\"nofollow noreferrer\"><code>volume</code></a>.</p>\n<hr />\n<p>In this example we're mounting the <code>tls-secret</code> to the pod as a Kubernetes <a href=\"https://kubernetes.io/docs/concepts/configuration/secret/\" rel=\"nofollow noreferrer\">Secret</a>. The <code>tls-secret</code> contains the <code>tls.crt</code> which needs to be added to the keystore. We add the certificate to the keystore in the <code>initContainer</code> after copying the security files into a <code>volume</code> which is mounted to the pod's <code>container</code>.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: myapp\n  labels:\n    app: myapp\nspec:\n  containers:\n  - name: myapp\n    image: openjdk:8-jdk-slim-buster\n    command:\n    - bash\n    - -c\n    - |\n      keytool -list -keystore /usr/local/openjdk-8/jre/lib/security/cacerts -alias local\n      sleep infinity\n    volumeMounts:\n    - mountPath: /usr/local/openjdk-8/jre/lib/security\n      name: cacerts\n  initContainers:\n  - name: init-cacerts\n    image: openjdk:8-jdk-slim-buster\n    command:\n    - bash\n    - -c\n    - |\n      cp -R /usr/local/openjdk-8/jre/lib/security/* /cacerts/\n      keytool -import -noprompt -trustcacerts -alias local -file /security/tls.crt -keystore /cacerts/cacerts -storepass changeit\n      keytool -list -keystore /cacerts/cacerts -alias local\n    volumeMounts:\n    - mountPath: /cacerts\n      name: cacerts\n    - mountPath: /security\n      name: tls\n  volumes:\n  - name: cacerts\n    emptyDir: {}\n  - name: tls\n    secret:\n      secretName: tls-secret\n      defaultMode: 0400\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/GAEYK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GAEYK.png\" alt=\"shared keystore\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1160165,"reputation":2166,"user_id":1139847,"display_name":"Gustavo F"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696271192,"creation_date":1696271192,"answer_id":77217710,"question_id":67112947,"body_markdown":"Recently, I faced a problem like that, and my solution was based on @masseyb, but slightly different, I had an Elasticsearch deployment wich cannot update GeoIp internal database without a self signed certificate of my company.\r\n\r\nTo solve this, I configured and init container with the company official image (which includes all certificates inside `/usr/local/share/ca-certificates`, then installed openjdk (this will automatically create a new keystore), and finally, copied only the cacerts file (elasticsearch use other files inside the /usr/share/elasticsearch/jdk/lib/security/cacerts so we have to point a `subPath`)\r\n\r\n    kind: StatefulSet\r\n    apiVersion: apps/v1\r\n    [...]\r\n          containers:\r\n          - name: elasticsearch\r\n            image: docker.elastic.co/elasticsearch/elasticsearch:8.10.1\r\n    [...]\r\n            - name: mount-certificates\r\n              mountPath: /usr/share/elasticsearch/jdk/lib/security/cacerts\r\n              readOnly: false\r\n              subPath: cacerts\r\n    [...]\r\n          - name: fix-certificates\r\n            image: company.registry/ubuntu-customized-image-with-certs:latest\r\n            command:\r\n            - /bin/sh\r\n            - -c\r\n            - |\r\n              apt-get update --yes\r\n              apt-get install openjdk-17-jdk --yes\r\n              cp /etc/ssl/certs/java/cacerts /certificates-ubuntu/\r\n              echo &quot;certificates in java keystore:&quot;\r\n              keytool -list -keystore /etc/ssl/certs/java/cacerts\r\n            volumeMounts:\r\n            - name: mount-certificates\r\n              mountPath: /certificates-ubuntu\r\n              readOnly: false\r\n          volumes:\r\n    [...]\r\n          - name: mount-certificates\r\n            emptyDir: {}\r\n\r\n","title":"Loading a SSL certificate to container&#39;s JVM","body":"<p>Recently, I faced a problem like that, and my solution was based on @masseyb, but slightly different, I had an Elasticsearch deployment wich cannot update GeoIp internal database without a self signed certificate of my company.</p>\n<p>To solve this, I configured and init container with the company official image (which includes all certificates inside <code>/usr/local/share/ca-certificates</code>, then installed openjdk (this will automatically create a new keystore), and finally, copied only the cacerts file (elasticsearch use other files inside the /usr/share/elasticsearch/jdk/lib/security/cacerts so we have to point a <code>subPath</code>)</p>\n<pre><code>kind: StatefulSet\napiVersion: apps/v1\n[...]\n      containers:\n      - name: elasticsearch\n        image: docker.elastic.co/elasticsearch/elasticsearch:8.10.1\n[...]\n        - name: mount-certificates\n          mountPath: /usr/share/elasticsearch/jdk/lib/security/cacerts\n          readOnly: false\n          subPath: cacerts\n[...]\n      - name: fix-certificates\n        image: company.registry/ubuntu-customized-image-with-certs:latest\n        command:\n        - /bin/sh\n        - -c\n        - |\n          apt-get update --yes\n          apt-get install openjdk-17-jdk --yes\n          cp /etc/ssl/certs/java/cacerts /certificates-ubuntu/\n          echo &quot;certificates in java keystore:&quot;\n          keytool -list -keystore /etc/ssl/certs/java/cacerts\n        volumeMounts:\n        - name: mount-certificates\n          mountPath: /certificates-ubuntu\n          readOnly: false\n      volumes:\n[...]\n      - name: mount-certificates\n        emptyDir: {}\n</code></pre>\n"}],"owner":{"account_id":5913382,"reputation":696,"user_id":4652875,"accept_rate":20,"display_name":"Neelesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6142,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1696271192,"creation_date":1618506487,"question_id":67112947,"body_markdown":"I have a Helm Chart. Which on deployment creates the following Kubernetes resources:\r\n\r\n 1. A SSL enabled Service\r\n 1. A Container created with my Docker image which internally runs a Java process that communicates with the above service.\r\n 1. Kubernetes Secrets (SSL certificates and access keys), that are mounted inside the above container.\r\n\r\nThe problem is my Container can not talk to my Service unless I add the SSL certificate to Java certificates. I do this by running the following command **manually** inside my docker with **root** user.\r\n\r\n``` bash\r\ncd ${JAVA_HOME}/jre/lib/security \r\n\r\nkeytool -keystore cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias myservicecert -file /home/myuser/.myservice/certs/public.crt\r\n```\r\n\r\nI want to automate the above steps but facing issues:\r\n\r\n - I can not perform above steps inside the `Dockerfile` since the certificate is not available at that time. Obivious.\r\n - I can not add these steps in `entrypoint.sh` file of the docker because entrypoint file is executed by a different user than the root.\r\n - Another solution that I could think of is that change the permission of path `${JAVA_HOME}/jre/lib/security/cacerts` to `777` so that I can run these commands in `entrypoint.sh` without an issue. But I am not sure if this is the correct way to go due to security reasons. Suggestions on this ?\r\n - I do not want to set a custom location for certificates using `Djavax.net.ssl.trustStore` because then java will not have access to root certificates.\r\n\r\nWhat is correct way to achieve this?\r\n\r\n","title":"Loading a SSL certificate to container&#39;s JVM","body":"<p>I have a Helm Chart. Which on deployment creates the following Kubernetes resources:</p>\n<ol>\n<li>A SSL enabled Service</li>\n<li>A Container created with my Docker image which internally runs a Java process that communicates with the above service.</li>\n<li>Kubernetes Secrets (SSL certificates and access keys), that are mounted inside the above container.</li>\n</ol>\n<p>The problem is my Container can not talk to my Service unless I add the SSL certificate to Java certificates. I do this by running the following command <strong>manually</strong> inside my docker with <strong>root</strong> user.</p>\n<pre class=\"lang-sh prettyprint-override\"><code>cd ${JAVA_HOME}/jre/lib/security \n\nkeytool -keystore cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias myservicecert -file /home/myuser/.myservice/certs/public.crt\n</code></pre>\n<p>I want to automate the above steps but facing issues:</p>\n<ul>\n<li>I can not perform above steps inside the <code>Dockerfile</code> since the certificate is not available at that time. Obivious.</li>\n<li>I can not add these steps in <code>entrypoint.sh</code> file of the docker because entrypoint file is executed by a different user than the root.</li>\n<li>Another solution that I could think of is that change the permission of path <code>${JAVA_HOME}/jre/lib/security/cacerts</code> to <code>777</code> so that I can run these commands in <code>entrypoint.sh</code> without an issue. But I am not sure if this is the correct way to go due to security reasons. Suggestions on this ?</li>\n<li>I do not want to set a custom location for certificates using <code>Djavax.net.ssl.trustStore</code> because then java will not have access to root certificates.</li>\n</ul>\n<p>What is correct way to achieve this?</p>\n"},{"tags":["java","spring","spring-jms"],"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1585059054,"post_id":60831837,"comment_id":107628687,"body_markdown":"You have some mismatched jars- you mention Spring 4.3.20 but your spring-jms jar is 5.1.5. All spring-* jars must be the same version.","body":"You have some mismatched jars- you mention Spring 4.3.20 but your spring-jms jar is 5.1.5. All spring-* jars must be the same version."},{"owner":{"account_id":14547264,"reputation":1,"user_id":10507182,"display_name":"Sandro"},"score":0,"creation_date":1585060762,"post_id":60831837,"comment_id":107629619,"body_markdown":"yeah I literally solved it a few seconds ago and yes, the reason was the mismatch of spring-framework dependency versions.","body":"yeah I literally solved it a few seconds ago and yes, the reason was the mismatch of spring-framework dependency versions."}],"owner":{"account_id":14547264,"reputation":1,"user_id":10507182,"display_name":"Sandro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696270670,"creation_date":1585055794,"question_id":60831837,"body_markdown":"So I am building a project using Spring Framework 4.3.20.RELEASE. It is sending and receiving messages to/from a JMS server (in this case I have it on `localhost`).\r\n\r\nI am able to send message to queue but unable to get it from there. Here is my `consumer` class and `consumerConfig` classes.\r\n\r\nHere are my dependencies in POM\r\n```xml\r\n&lt;!-- JMS --&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\r\n\t&lt;version&gt;5.1.5.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;javax.jms-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;activemq-all&lt;/artifactId&gt;\r\n\t&lt;version&gt;5.10.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\nHere is my `ConsumerConfig` class:\r\n```java\r\n@Configuration\r\n@EnableJms\r\npublic class ReceiverConfig {\r\n\r\n    private String brokerUrl = &quot;tcp://localhost:61616&quot;;\r\n\r\n    @Bean\r\n    public ActiveMQConnectionFactory receiverActiveMQConnectionFactory() {\r\n        ActiveMQConnectionFactory activeMQConnectionFactory = new ActiveMQConnectionFactory();\r\n        activeMQConnectionFactory.setBrokerURL(brokerUrl);\r\n\r\n        return activeMQConnectionFactory;\r\n    }\r\n\r\n    @Bean\r\n    public DefaultJmsListenerContainerFactory jmsListenerContainerFactory() {\r\n        DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n        factory.setConnectionFactory(receiverActiveMQConnectionFactory());\r\n        factory.setConcurrency(&quot;1-1&quot;);\r\n\r\n        return factory;\r\n    }\r\n    \r\n    @Bean\r\n    public Receiver receiver() {\r\n        return new Receiver();\r\n    }\r\n}\r\n```\r\n\r\nand Consumer Class\r\n```java\r\npublic class Receiver {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(Receiver.class);\r\n\r\n    @Autowired\r\n    private Processor processor;\r\n\r\n    @JmsListener(destination = &quot;my.queue&quot;, containerFactory = &quot;jmsListenerContainerFactory&quot;)\r\n    public void receive(String message) {\r\n        logger.info(&quot;We have read message &quot; + message + &quot; from Queue&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAnd the Error I am getting \r\n```\r\n[2020-03-24 04:57:53,405] Artifact {my-project}:war: java.lang.Exception: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.undertow.deployment.default-server.default-host.\\&quot;/{my-project}\\&quot;&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host.\\&quot;/{my-project}\\&quot;: java.lang.AbstractMethodError: org.springframework.jms.config.JmsListenerEndpointRegistry.isAutoStartup()Z\r\n    Caused by: java.lang.AbstractMethodError: org.springframework.jms.config.JmsListenerEndpointRegistry.isAutoStartup()Z&quot;},&quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.undertow.deployment.default-server.default-host.\\&quot;/{my-project}\\&quot;&quot;],&quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; undefined}\r\n```","title":"How to resolve org.springframework.jms.config.JMSListenerEndpointRegister.isAutoStartUp()Z Error?","body":"<p>So I am building a project using Spring Framework 4.3.20.RELEASE. It is sending and receiving messages to/from a JMS server (in this case I have it on <code>localhost</code>).</p>\n<p>I am able to send message to queue but unable to get it from there. Here is my <code>consumer</code> class and <code>consumerConfig</code> classes.</p>\n<p>Here are my dependencies in POM</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- JMS --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\n    &lt;version&gt;5.1.5.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.jms-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n    &lt;artifactId&gt;activemq-all&lt;/artifactId&gt;\n    &lt;version&gt;5.10.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Here is my <code>ConsumerConfig</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableJms\npublic class ReceiverConfig {\n\n    private String brokerUrl = &quot;tcp://localhost:61616&quot;;\n\n    @Bean\n    public ActiveMQConnectionFactory receiverActiveMQConnectionFactory() {\n        ActiveMQConnectionFactory activeMQConnectionFactory = new ActiveMQConnectionFactory();\n        activeMQConnectionFactory.setBrokerURL(brokerUrl);\n\n        return activeMQConnectionFactory;\n    }\n\n    @Bean\n    public DefaultJmsListenerContainerFactory jmsListenerContainerFactory() {\n        DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n        factory.setConnectionFactory(receiverActiveMQConnectionFactory());\n        factory.setConcurrency(&quot;1-1&quot;);\n\n        return factory;\n    }\n    \n    @Bean\n    public Receiver receiver() {\n        return new Receiver();\n    }\n}\n</code></pre>\n<p>and Consumer Class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Receiver {\n\n    private static final Logger logger = LoggerFactory.getLogger(Receiver.class);\n\n    @Autowired\n    private Processor processor;\n\n    @JmsListener(destination = &quot;my.queue&quot;, containerFactory = &quot;jmsListenerContainerFactory&quot;)\n    public void receive(String message) {\n        logger.info(&quot;We have read message &quot; + message + &quot; from Queue&quot;);\n    }\n}\n</code></pre>\n<p>And the Error I am getting</p>\n<pre><code>[2020-03-24 04:57:53,405] Artifact {my-project}:war: java.lang.Exception: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.undertow.deployment.default-server.default-host.\\&quot;/{my-project}\\&quot;&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host.\\&quot;/{my-project}\\&quot;: java.lang.AbstractMethodError: org.springframework.jms.config.JmsListenerEndpointRegistry.isAutoStartup()Z\n    Caused by: java.lang.AbstractMethodError: org.springframework.jms.config.JmsListenerEndpointRegistry.isAutoStartup()Z&quot;},&quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.undertow.deployment.default-server.default-host.\\&quot;/{my-project}\\&quot;&quot;],&quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; undefined}\n</code></pre>\n"},{"tags":["java","mysql","windows","tomcat","jdbc"],"comments":[{"owner":{"account_id":7007079,"reputation":12271,"user_id":5375403,"display_name":"Jiri Tousek"},"score":2,"creation_date":1449057616,"post_id":34042198,"comment_id":55838920,"body_markdown":"We need to see the complete stack trace and the source code it points to.","body":"We need to see the complete stack trace and the source code it points to."},{"owner":{"account_id":5320326,"reputation":19,"user_id":4243959,"display_name":"satish"},"score":0,"creation_date":1449057930,"post_id":34042198,"comment_id":55839141,"body_markdown":"java.sql.SQLException: Unknown type &#39;246 in column 10 of 12 in binary-encoded re\nsult set.\n        at com.mysql.jdbc.MysqlIO.extractNativeEncodedColumn(MysqlIO.java:3710)\n        at com.mysql.jdbc.MysqlIO.unpackBinaryResultSetRow(MysqlIO.java:3620)\n        at com.mysql.jdbc.MysqlIO.nextRow(MysqlIO.java:1282)\n        at com.mysql.jdbc.MysqlIO.readSingleRowSet(MysqlIO.java:2198)\n        at com.mysql.jdbc.MysqlIO.getResultSet(MysqlIO.java:413)","body":"java.sql.SQLException: Unknown type &#39;246 in column 10 of 12 in binary-encoded re sult set.         at com.mysql.jdbc.MysqlIO.extractNativeEncodedColumn(MysqlIO.ja&zwnj;&#8203;va:3710)         at com.mysql.jdbc.MysqlIO.unpackBinaryResultSetRow(MysqlIO.java&zwnj;&#8203;:3620)         at com.mysql.jdbc.MysqlIO.nextRow(MysqlIO.java:1282)         at com.mysql.jdbc.MysqlIO.readSingleRowSet(MysqlIO.java:2198)         at com.mysql.jdbc.MysqlIO.getResultSet(MysqlIO.java:413)"},{"owner":{"account_id":5320326,"reputation":19,"user_id":4243959,"display_name":"satish"},"score":0,"creation_date":1449057942,"post_id":34042198,"comment_id":55839147,"body_markdown":"at com.mysql.jdbc.MysqlIO.readResultsForQueryOrUpdate(MysqlIO.java:1899)\n\n        at com.mysql.jdbc.MysqlIO.readAllResults(MysqlIO.java:1347)\n        at com.mysql.jdbc.ServerPreparedStatement.serverExecute(ServerPreparedSt\natement.java:1393)\n        at com.mysql.jdbc.ServerPreparedStatement.executeInternal(ServerPrepared\nStatement.java:958)\n        at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:\n1705)","body":"at com.mysql.jdbc.MysqlIO.readResultsForQueryOrUpdate(MysqlIO.j&zwnj;&#8203;ava:1899)          at com.mysql.jdbc.MysqlIO.readAllResults(MysqlIO.java:1347)         at com.mysql.jdbc.ServerPreparedStatement.serverExecute(ServerP&zwnj;&#8203;reparedSt atement.java:1393)         at com.mysql.jdbc.ServerPreparedStatement.executeInternal(Serve&zwnj;&#8203;rPrepared Statement.java:958)         at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatem&zwnj;&#8203;ent.java: 1705)"},{"owner":{"account_id":5320326,"reputation":19,"user_id":4243959,"display_name":"satish"},"score":0,"creation_date":1449058266,"post_id":34042198,"comment_id":55839338,"body_markdown":"please find the above complete stacktrace.","body":"please find the above complete stacktrace."},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":1,"creation_date":1449058722,"post_id":34042198,"comment_id":55839627,"body_markdown":"Put it in the question, (properly formatted,) please.","body":"Put it in the question, (properly formatted,) please."},{"owner":{"account_id":135407,"reputation":10653,"user_id":338249,"accept_rate":100,"display_name":"rjdkolb"},"score":0,"creation_date":1449059507,"post_id":34042198,"comment_id":55840129,"body_markdown":"@satish , can you give your MySQL JDBC Driver version please.","body":"@satish , can you give your MySQL JDBC Driver version please."},{"owner":{"account_id":5320326,"reputation":19,"user_id":4243959,"display_name":"satish"},"score":0,"creation_date":1449059838,"post_id":34042198,"comment_id":55840327,"body_markdown":"@rjdkolb please find the MySQL connection version &quot;mysql-connector-java-5.1.21&quot;","body":"@rjdkolb please find the MySQL connection version &quot;mysql-connector-java-5.1.21&quot;"}],"answers":[{"tags":[],"owner":{"account_id":7007079,"reputation":12271,"user_id":5375403,"display_name":"Jiri Tousek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1449058767,"creation_date":1449058767,"answer_id":34042596,"question_id":34042198,"body_markdown":"This may be a known bug: https://bugs.mysql.com/bug.php?id=14609\r\n\r\nAccording to that bug tracker, an attempt to fix it was made for versions 5.0.1 and 3.1.13 *of the JDBC driver* (not on server side), and it might not be a full fix.\r\n\r\nAlso see https://stackoverflow.com/questions/1786654/mysqli-server-returned-unknown-type-246","title":"java.sql.SQLException: Unknown type &#39;246 in column 10 of 12 in binary-encoded re sult set","body":"<p>This may be a known bug: <a href=\"https://bugs.mysql.com/bug.php?id=14609\" rel=\"nofollow noreferrer\">https://bugs.mysql.com/bug.php?id=14609</a></p>\n\n<p>According to that bug tracker, an attempt to fix it was made for versions 5.0.1 and 3.1.13 <em>of the JDBC driver</em> (not on server side), and it might not be a full fix.</p>\n\n<p>Also see <a href=\"https://stackoverflow.com/questions/1786654/mysqli-server-returned-unknown-type-246\">MySQLi - Server returned unknown type 246</a></p>\n"},{"tags":[],"owner":{"account_id":8251642,"reputation":1,"user_id":6575383,"display_name":"Wilson Salazar"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1495304998,"creation_date":1495299191,"answer_id":44088538,"question_id":34042198,"body_markdown":"This happens when your application expects a certain datatype, but you receive another type from the database. E.g. you expect a `double`, but the database gives you an `int`.\r\n\r\nYou should check the type you are expecting.","title":"java.sql.SQLException: Unknown type &#39;246 in column 10 of 12 in binary-encoded re sult set","body":"<p>This happens when your application expects a certain datatype, but you receive another type from the database. E.g. you expect a <code>double</code>, but the database gives you an <code>int</code>.</p>\n\n<p>You should check the type you are expecting.</p>\n"},{"tags":[],"owner":{"account_id":23037409,"reputation":11,"user_id":17155989,"display_name":"Shivam Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696270570,"creation_date":1696270570,"answer_id":77217652,"question_id":34042198,"body_markdown":"I was running into similar kind of issue: `java.sql.SQLException: Unknown type &#39;245 in column 6 of 10 in binary-encoded result set.` I got this when I was making a REST call to a Dao using JDBI to fetch result-set based on some criteria (Query: `SELECT * FROM entity WHERE id = :Id`). Entity had a JSON column and I was using outdated `mysql-connector-java` version. Updating it from `5.1.27` to `8.0.28` resolved the issue. ","title":"java.sql.SQLException: Unknown type &#39;246 in column 10 of 12 in binary-encoded re sult set","body":"<p>I was running into similar kind of issue: <code>java.sql.SQLException: Unknown type '245 in column 6 of 10 in binary-encoded result set.</code> I got this when I was making a REST call to a Dao using JDBI to fetch result-set based on some criteria (Query: <code>SELECT * FROM entity WHERE id = :Id</code>). Entity had a JSON column and I was using outdated <code>mysql-connector-java</code> version. Updating it from <code>5.1.27</code> to <code>8.0.28</code> resolved the issue.</p>\n"}],"owner":{"account_id":5320326,"reputation":19,"user_id":4243959,"display_name":"satish"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2407,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1696270570,"creation_date":1449057538,"question_id":34042198,"body_markdown":"When I start Tomcat on Windows, I receive the following exception:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    java.sql.SQLException: Unknown type &#39;246&#39; in column 10 of 12 in binary-encoded result set.\r\n        at com.mysql.jdbc.MysqlIO.extractNativeEncodedColumn(MysqlIO.ja‌​va:3710)\r\n        at com.mysql.jdbc.MysqlIO.unpackBinaryResultSetRow(MysqlIO.java‌​:3620)\r\n        at com.mysql.jdbc.MysqlIO.nextRow(MysqlIO.java:1282)\r\n        at com.mysql.jdbc.MysqlIO.readSingleRowSet(MysqlIO.java:2198)\r\n        at com.mysql.jdbc.MysqlIO.getResultSet(MysqlIO.java:413)\r\n        at com.mysql.jdbc.MysqlIO.readResultsForQueryOrUpdate(MysqlIO.j‌​ava:1899)\r\n        at com.mysql.jdbc.MysqlIO.readAllResults(MysqlIO.java:1347)\r\n        at com.mysql.jdbc.ServerPreparedStatement.serverExecute(ServerP‌​reparedSt atement.java:1393)\r\n        at com.mysql.jdbc.ServerPreparedStatement.executeInternal(Serve‌​rPrepared Statement.java:958)\r\n        at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatem‌​ent.java:1705)\r\n\r\nI am using the `mysql-connector-java-5.1.21` JDBC driver.\r\n\r\nI have deployed my app in Tomcat as a `war`. I use both normal and prepared statements.","title":"java.sql.SQLException: Unknown type &#39;246 in column 10 of 12 in binary-encoded re sult set","body":"<p>When I start Tomcat on Windows, I receive the following exception:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>java.sql.SQLException: Unknown type '246' in column 10 of 12 in binary-encoded result set.\n    at com.mysql.jdbc.MysqlIO.extractNativeEncodedColumn(MysqlIO.ja‌​va:3710)\n    at com.mysql.jdbc.MysqlIO.unpackBinaryResultSetRow(MysqlIO.java‌​:3620)\n    at com.mysql.jdbc.MysqlIO.nextRow(MysqlIO.java:1282)\n    at com.mysql.jdbc.MysqlIO.readSingleRowSet(MysqlIO.java:2198)\n    at com.mysql.jdbc.MysqlIO.getResultSet(MysqlIO.java:413)\n    at com.mysql.jdbc.MysqlIO.readResultsForQueryOrUpdate(MysqlIO.j‌​ava:1899)\n    at com.mysql.jdbc.MysqlIO.readAllResults(MysqlIO.java:1347)\n    at com.mysql.jdbc.ServerPreparedStatement.serverExecute(ServerP‌​reparedSt atement.java:1393)\n    at com.mysql.jdbc.ServerPreparedStatement.executeInternal(Serve‌​rPrepared Statement.java:958)\n    at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatem‌​ent.java:1705)\n</code></pre>\n\n<p>I am using the <code>mysql-connector-java-5.1.21</code> JDBC driver.</p>\n\n<p>I have deployed my app in Tomcat as a <code>war</code>. I use both normal and prepared statements.</p>\n"},{"tags":["java","jakarta-ee","jboss","jaxb"],"comments":[{"owner":{"account_id":152312,"reputation":4229,"user_id":366749,"display_name":"Patrice M."},"score":1,"creation_date":1333494030,"post_id":10002006,"comment_id":12786446,"body_markdown":"It is probably JAXB implementation dependent to some degree. Fo rinstance, the JAXB RI used to require the use of the JRE &#39;endorsed&#39; mechanism if memory serve. Can you please specify the details of your environment : app server, JDK version, JAXB impl form/to to begin with.","body":"It is probably JAXB implementation dependent to some degree. Fo rinstance, the JAXB RI used to require the use of the JRE &#39;endorsed&#39; mechanism if memory serve. Can you please specify the details of your environment : app server, JDK version, JAXB impl form/to to begin with."},{"owner":{"account_id":438909,"reputation":23723,"user_id":827480,"accept_rate":61,"display_name":"Eric B."},"score":0,"creation_date":1333508556,"post_id":10002006,"comment_id":12789135,"body_markdown":"@PatriceM - sorry; forgot to include that.  Just edited the orig question to add it in.","body":"@PatriceM - sorry; forgot to include that.  Just edited the orig question to add it in."},{"owner":{"account_id":438909,"reputation":23723,"user_id":827480,"accept_rate":61,"display_name":"Eric B."},"score":0,"creation_date":1333550253,"post_id":10002006,"comment_id":12802236,"body_markdown":"I edited the original post to add some additional information to indicate how I get the JAXB implementation being used, as well as a link indicating how overriding the JRE&#39;s default JAXB implementation does not seem to be working.","body":"I edited the original post to add some additional information to indicate how I get the JAXB implementation being used, as well as a link indicating how overriding the JRE&#39;s default JAXB implementation does not seem to be working."}],"answers":[{"comments":[{"owner":{"account_id":438909,"reputation":23723,"user_id":827480,"accept_rate":61,"display_name":"Eric B."},"score":5,"creation_date":1333508664,"post_id":10002848,"comment_id":12789157,"body_markdown":"Thanks for the tip; I think thats what i was trying to remember.  But given the same class in both a JRE and in your war, how do you specify to use the class in the war vs the one in the jre or the providing app server?","body":"Thanks for the tip; I think thats what i was trying to remember.  But given the same class in both a JRE and in your war, how do you specify to use the class in the war vs the one in the jre or the providing app server?"},{"owner":{"account_id":5156422,"reputation":3976,"user_id":4129551,"accept_rate":82,"display_name":"aurelius"},"score":0,"creation_date":1421826739,"post_id":10002848,"comment_id":44505003,"body_markdown":"would this have worked?\n&lt;scope&gt;compile&lt;/scope&gt;\n\nCompile means that you need the JAR for compiling and running the app. For a web application, as an example, the JAR will be placed in the WEB-INF/lib directory.","body":"would this have worked? &lt;scope&gt;compile&lt;/scope&gt;  Compile means that you need the JAR for compiling and running the app. For a web application, as an example, the JAR will be placed in the WEB-INF/lib directory."}],"tags":[],"owner":{"account_id":162425,"reputation":147999,"user_id":383861,"display_name":"bdoughan"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1696270444,"creation_date":1333495160,"answer_id":10002848,"question_id":10002006,"body_markdown":"# *EclipseLink MOXy*\r\n\r\n**Note:**  I&#39;m the [**EclipseLink JAXB (MOXy)**][1] lead and a member of the [**JAXB 2 (JSR-222)**][2] expert group.\r\n\r\nTo specify a JAXB (JSR-222) implementation other than the default you need to include a file called `jaxb.properties` in the same package as your domain classes.  The following is an example of the `jaxb.properties` file used to specify the MOXy implementation of JAXB:\r\n\r\n    javax.xml.bind.context.factory=org.eclipse.persistence.jaxb.JAXBContextFactory\r\n\r\n**For More Information**\r\n\r\n  - http://blog.bdoughan.com/2011/05/specifying-eclipselink-moxy-as-your.html\r\n\r\n\r\n  [1]: https://eclipse.dev/eclipselink/#moxy\r\n  [2]: http://jcp.org/en/jsr/detail?id=222","title":"How to specify a particular JAXB implementation?","body":"<h1><em>EclipseLink MOXy</em></h1>\n<p><strong>Note:</strong>  I'm the <a href=\"https://eclipse.dev/eclipselink/#moxy\" rel=\"nofollow noreferrer\"><strong>EclipseLink JAXB (MOXy)</strong></a> lead and a member of the <a href=\"http://jcp.org/en/jsr/detail?id=222\" rel=\"nofollow noreferrer\"><strong>JAXB 2 (JSR-222)</strong></a> expert group.</p>\n<p>To specify a JAXB (JSR-222) implementation other than the default you need to include a file called <code>jaxb.properties</code> in the same package as your domain classes.  The following is an example of the <code>jaxb.properties</code> file used to specify the MOXy implementation of JAXB:</p>\n<pre><code>javax.xml.bind.context.factory=org.eclipse.persistence.jaxb.JAXBContextFactory\n</code></pre>\n<p><strong>For More Information</strong></p>\n<ul>\n<li><a href=\"http://blog.bdoughan.com/2011/05/specifying-eclipselink-moxy-as-your.html\" rel=\"nofollow noreferrer\">http://blog.bdoughan.com/2011/05/specifying-eclipselink-moxy-as-your.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":165768,"reputation":3642,"user_id":389489,"accept_rate":78,"display_name":"Somu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1374481269,"creation_date":1374481269,"answer_id":17782854,"question_id":10002006,"body_markdown":"It is possible to load JAXB implementation from a specific library using the [Java Endorsed Standards Override Mechanism][1]. This is also suggested in the guide [Using JAXB 2.1/2.2 with JavaSE 6][2].\r\n\r\nAlternatively, in your application server you may modify the class-loader policy for your application to parent last so that classes are first looked up in the libraries bundled with your application before being searched in JRE.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/technotes/guides/standards/\r\n  [2]: https://jaxb.java.net/guide/Migrating_JAXB_2_0_applications_to_JavaSE_6.html","title":"How to specify a particular JAXB implementation?","body":"<p>It is possible to load JAXB implementation from a specific library using the <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/standards/\" rel=\"nofollow\">Java Endorsed Standards Override Mechanism</a>. This is also suggested in the guide <a href=\"https://jaxb.java.net/guide/Migrating_JAXB_2_0_applications_to_JavaSE_6.html\" rel=\"nofollow\">Using JAXB 2.1/2.2 with JavaSE 6</a>.</p>\n\n<p>Alternatively, in your application server you may modify the class-loader policy for your application to parent last so that classes are first looked up in the libraries bundled with your application before being searched in JRE.</p>\n"}],"owner":{"account_id":438909,"reputation":23723,"user_id":827480,"accept_rate":61,"display_name":"Eric B."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29126,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":2,"score":22,"last_activity_date":1696270444,"creation_date":1333490180,"question_id":10002006,"body_markdown":"It seems as though I have already done this once in the past, but I cannot find any reference to what I had done to get it to work.\r\n\r\nI have a web application in which I want to specify a different JAXB implementation than the one provided by my web server/jre.  I downloaded the appropriate artifact from maven, and see that the jar is properly packaged in my war, however, when I start my web app, I see that it is still using the bundled JRE implementation.\r\n\r\nI vaguely remember something about a properties file that I could configure, but cannot find a reference to how it needs to be configured.  Moreover, if the implementation I want to use is the same one (just a newer version), the class names would be the same as though packaged in the JRE.  How can I specify that I want to use the ones bundled in my WAR?\r\n\r\n**EDIT**\r\n\r\nI&#39;m currently running on JBoss 7.0.2, with Oracle JDK 1.6_0_27, JAXB RI that comes with the JRE (I think it is v2.1).  I&#39;m trying to upgrade to JAXB RI 2.2.5 (found on MvnRepository). \r\n\r\n\r\nI&#39;ve done a little more digging this morning, and noticed a strange error message in my logs:\r\n\r\n    09:43:18,325 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-12) Class Path entry jaxb-api.jar in &quot;/C:/servers/jboss-as-7.0.2.Final/standalone/deployments/LendingSimulationServiceEAR.ear/LendingSimulationService.war/WEB-INF/lib/jaxb-impl-2.2.5.jar&quot;  does not point to a valid jar for a Class-Path reference.\r\n    09:43:18,325 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-12) Class Path entry activation.jar in &quot;/C:/servers/jboss-as-7.0.2.Final/standalone/deployments/LendingSimulationServiceEAR.ear/LendingSimulationService.war/WEB-INF/lib/jaxb-impl-2.2.5.jar&quot;  does not point to a valid jar for a Class-Path reference.\r\n    09:43:18,326 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-12) Class Path entry jsr173_1.0_api.jar in &quot;/C:/servers/jboss-as-7.0.2.Final/standalone/deployments/LendingSimulationServiceEAR.ear/LendingSimulationService.war/WEB-INF/lib/jaxb-impl-2.2.5.jar&quot;  does not point to a valid jar for a Class-Path reference.\r\n    09:43:18,326 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-12) Class Path entry jaxb1-impl.jar in &quot;/C:/servers/jboss-as-7.0.2.Final/standalone/deployments/LendingSimulationServiceEAR.ear/LendingSimulationService.war/WEB-INF/lib/jaxb-impl-2.2.5.jar&quot;  does not point to a valid jar for a Class-Path reference.\r\n\r\nWhich I found very strange.  I wasn&#39;t sure where it was finding that information.  A little more research found this line in the MANIFEST.MF:\r\n\r\n    Class-Path: jaxb-api.jar activation.jar jsr173_1.0_api.jar jaxb1-impl.jar\r\n\r\nSo now I&#39;m even more confused than ever.  It would appear that the jaxb implementation depends on the api, activation, jsr and jaxb1 implementation jars.  But they aren&#39;t listed in the jaxb pom.  A little digging online found me [this link][1] which discusses how to use JAXB 2.2 in a Java6SE environment.  Unfortunately, this has not seemed to work either; I still get the above WARN messages.\r\n\r\nI&#39;m using the following snippet to list the JAXB implementation that is running; perhaps this is incorrect?\r\n\r\n\t/**\r\n\t * Print the JAXB Implementation information\r\n\t */\r\n\tpublic static void outputJaxpImplementationInfo() {\r\n\t    logger.debug(getImplementationInfo(&quot;DocumentBuilderFactory&quot;, DocumentBuilderFactory.newInstance().getClass()));\r\n\t    logger.debug(getImplementationInfo(&quot;XPathFactory&quot;, XPathFactory.newInstance().getClass()));\r\n\t    logger.debug(getImplementationInfo(&quot;TransformerFactory&quot;, TransformerFactory.newInstance().getClass()));\r\n\t    logger.debug(getImplementationInfo(&quot;SAXParserFactory&quot;, SAXParserFactory.newInstance().getClass()));\r\n\t}\r\n\r\n\t/**\r\n\t * Get the JAXB implementation information for a particular class\r\n\t * @param componentName\r\n\t * @param componentClass\r\n\t * @return\r\n\t */\r\n\tprivate static String getImplementationInfo(String componentName, Class componentClass) {\r\n\t    CodeSource source = componentClass.getProtectionDomain().getCodeSource();\r\n\t    return MessageFormat.format(\r\n\t            &quot;{0} implementation: {1} loaded from: {2}&quot;,\r\n\t            componentName,\r\n\t            componentClass.getName(),\r\n\t            source == null ? &quot;Java Runtime&quot; : source.getLocation());\r\n\t}\r\n\r\n\r\nThis snippet produces the following log:\r\n\r\n    10:28:27,402 INFO  [stdout] (MSC service thread 1-14) 2012-04-04 10:28:27,402 DEBUG cws.cs.lendingsimulationservice.util.JAXBUtil  - DocumentBuilderFactory implementation: __redirected.__DocumentBuilderFactory loaded from: file:/C:/servers/jboss-as-7.0.2.Final/jboss-modules.jar\r\n    10:28:27,403 INFO  [stdout] (MSC service thread 1-14) 2012-04-04 10:28:27,403 DEBUG cws.cs.lendingsimulationservice.util.JAXBUtil  - XPathFactory implementation: __redirected.__XPathFactory loaded from: file:/C:/servers/jboss-as-7.0.2.Final/jboss-modules.jar\r\n    10:28:27,404 INFO  [stdout] (MSC service thread 1-14) 2012-04-04 10:28:27,404 DEBUG cws.cs.lendingsimulationservice.util.JAXBUtil  - TransformerFactory implementation: __redirected.__TransformerFactory loaded from: file:/C:/servers/jboss-as-7.0.2.Final/jboss-modules.jar\r\n    10:28:27,406 INFO  [stdout] (MSC service thread 1-14) 2012-04-04 10:28:27,406 DEBUG cws.cs.lendingsimulationservice.util.JAXBUtil  - SAXParserFactory implementation: __redirected.__SAXParserFactory loaded from: file:/C:/servers/jboss-as-7.0.2.Final/jboss-modules.jar\r\n\r\n\r\n  [1]: http://jaxb.java.net/guide/Migrating_JAXB_2_0_applications_to_JavaSE_6.html\r\n\r\n","title":"How to specify a particular JAXB implementation?","body":"<p>It seems as though I have already done this once in the past, but I cannot find any reference to what I had done to get it to work.</p>\n\n<p>I have a web application in which I want to specify a different JAXB implementation than the one provided by my web server/jre.  I downloaded the appropriate artifact from maven, and see that the jar is properly packaged in my war, however, when I start my web app, I see that it is still using the bundled JRE implementation.</p>\n\n<p>I vaguely remember something about a properties file that I could configure, but cannot find a reference to how it needs to be configured.  Moreover, if the implementation I want to use is the same one (just a newer version), the class names would be the same as though packaged in the JRE.  How can I specify that I want to use the ones bundled in my WAR?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I'm currently running on JBoss 7.0.2, with Oracle JDK 1.6_0_27, JAXB RI that comes with the JRE (I think it is v2.1).  I'm trying to upgrade to JAXB RI 2.2.5 (found on MvnRepository). </p>\n\n<p>I've done a little more digging this morning, and noticed a strange error message in my logs:</p>\n\n<pre><code>09:43:18,325 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-12) Class Path entry jaxb-api.jar in \"/C:/servers/jboss-as-7.0.2.Final/standalone/deployments/LendingSimulationServiceEAR.ear/LendingSimulationService.war/WEB-INF/lib/jaxb-impl-2.2.5.jar\"  does not point to a valid jar for a Class-Path reference.\n09:43:18,325 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-12) Class Path entry activation.jar in \"/C:/servers/jboss-as-7.0.2.Final/standalone/deployments/LendingSimulationServiceEAR.ear/LendingSimulationService.war/WEB-INF/lib/jaxb-impl-2.2.5.jar\"  does not point to a valid jar for a Class-Path reference.\n09:43:18,326 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-12) Class Path entry jsr173_1.0_api.jar in \"/C:/servers/jboss-as-7.0.2.Final/standalone/deployments/LendingSimulationServiceEAR.ear/LendingSimulationService.war/WEB-INF/lib/jaxb-impl-2.2.5.jar\"  does not point to a valid jar for a Class-Path reference.\n09:43:18,326 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-12) Class Path entry jaxb1-impl.jar in \"/C:/servers/jboss-as-7.0.2.Final/standalone/deployments/LendingSimulationServiceEAR.ear/LendingSimulationService.war/WEB-INF/lib/jaxb-impl-2.2.5.jar\"  does not point to a valid jar for a Class-Path reference.\n</code></pre>\n\n<p>Which I found very strange.  I wasn't sure where it was finding that information.  A little more research found this line in the MANIFEST.MF:</p>\n\n<pre><code>Class-Path: jaxb-api.jar activation.jar jsr173_1.0_api.jar jaxb1-impl.jar\n</code></pre>\n\n<p>So now I'm even more confused than ever.  It would appear that the jaxb implementation depends on the api, activation, jsr and jaxb1 implementation jars.  But they aren't listed in the jaxb pom.  A little digging online found me <a href=\"http://jaxb.java.net/guide/Migrating_JAXB_2_0_applications_to_JavaSE_6.html\" rel=\"noreferrer\">this link</a> which discusses how to use JAXB 2.2 in a Java6SE environment.  Unfortunately, this has not seemed to work either; I still get the above WARN messages.</p>\n\n<p>I'm using the following snippet to list the JAXB implementation that is running; perhaps this is incorrect?</p>\n\n<pre><code>/**\n * Print the JAXB Implementation information\n */\npublic static void outputJaxpImplementationInfo() {\n    logger.debug(getImplementationInfo(\"DocumentBuilderFactory\", DocumentBuilderFactory.newInstance().getClass()));\n    logger.debug(getImplementationInfo(\"XPathFactory\", XPathFactory.newInstance().getClass()));\n    logger.debug(getImplementationInfo(\"TransformerFactory\", TransformerFactory.newInstance().getClass()));\n    logger.debug(getImplementationInfo(\"SAXParserFactory\", SAXParserFactory.newInstance().getClass()));\n}\n\n/**\n * Get the JAXB implementation information for a particular class\n * @param componentName\n * @param componentClass\n * @return\n */\nprivate static String getImplementationInfo(String componentName, Class componentClass) {\n    CodeSource source = componentClass.getProtectionDomain().getCodeSource();\n    return MessageFormat.format(\n            \"{0} implementation: {1} loaded from: {2}\",\n            componentName,\n            componentClass.getName(),\n            source == null ? \"Java Runtime\" : source.getLocation());\n}\n</code></pre>\n\n<p>This snippet produces the following log:</p>\n\n<pre><code>10:28:27,402 INFO  [stdout] (MSC service thread 1-14) 2012-04-04 10:28:27,402 DEBUG cws.cs.lendingsimulationservice.util.JAXBUtil  - DocumentBuilderFactory implementation: __redirected.__DocumentBuilderFactory loaded from: file:/C:/servers/jboss-as-7.0.2.Final/jboss-modules.jar\n10:28:27,403 INFO  [stdout] (MSC service thread 1-14) 2012-04-04 10:28:27,403 DEBUG cws.cs.lendingsimulationservice.util.JAXBUtil  - XPathFactory implementation: __redirected.__XPathFactory loaded from: file:/C:/servers/jboss-as-7.0.2.Final/jboss-modules.jar\n10:28:27,404 INFO  [stdout] (MSC service thread 1-14) 2012-04-04 10:28:27,404 DEBUG cws.cs.lendingsimulationservice.util.JAXBUtil  - TransformerFactory implementation: __redirected.__TransformerFactory loaded from: file:/C:/servers/jboss-as-7.0.2.Final/jboss-modules.jar\n10:28:27,406 INFO  [stdout] (MSC service thread 1-14) 2012-04-04 10:28:27,406 DEBUG cws.cs.lendingsimulationservice.util.JAXBUtil  - SAXParserFactory implementation: __redirected.__SAXParserFactory loaded from: file:/C:/servers/jboss-as-7.0.2.Final/jboss-modules.jar\n</code></pre>\n"},{"tags":["java","jax-rs","interceptor"],"owner":{"account_id":1862192,"reputation":1849,"user_id":1686575,"accept_rate":65,"display_name":"John Manko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696269973,"creation_date":1696259049,"question_id":77216573,"body_markdown":"Payara 5, Jersey 2.37, JAX-RS 2.1\r\n\r\nI&#39;m attempting to create a logging &quot;transaction,&quot;  where a REST endpoint (either sub-resource method or terminal endpoint - I&#39;ll demonstrate both below) is annotated with a custom interceptor.  This works fine when the annotated method is on a root resource class, but fails on a sub-resource method. I understand why, and I&#39;ll walk through the process below, but I can&#39;t figure out how to accomplish what I&#39;m trying to achieve.  \r\n\r\nFirst, here is the interceptor classes:\r\n\r\n```java\r\n@Inherited\r\n@InterceptorBinding\r\n@Retention(RUNTIME)\r\n@Target({METHOD, TYPE})\r\npublic @interface Audited {\r\n\r\n    @Nonbinding\r\n    String description() default &quot;&quot;;\r\n\r\n}\r\n\r\n@Audited\r\n@Interceptor\r\npublic class AuditedInterceptor implements Serializable {\r\n\r\n    @Inject\r\n    private AuditedTransactionBeanLocal trx;\r\n    \r\n    @AroundInvoke\r\n    public Object intercept(InvocationContext context) throws Exception {\r\n        \r\n        Audited audit = getAnnotation(context);\r\n\r\n        trx.beginOrJoin()\r\n\r\n        Object o = context.proceed();\r\n\r\n\t    trx.end();\r\n    \r\n        return o;\r\n\r\n    }\r\n\r\n    private Audited getAnnotation(InvocationContext context) {\r\n        Method m = context.getMethod();\r\n        return (m.isAnnotationPresent(Audited.class)) ? \r\n               m.getAnnotation(Audited.class):\r\n               context.getTarget().getClass().getAnnotation(Audited.class);\r\n    }\r\n}\r\n\r\n```\r\n\r\nHere&#39;s an example endpoint:\r\n\r\n```java\r\n@RequestScoped\r\n@Path(&quot;/foo&quot;)\r\npublic class FooFacade {\r\n\r\n    @Inject\r\n\tprivate BarBeanLocal barBean;\r\n\r\n\t@Path(&quot;/do-something&quot;)\r\n\t@Audited(description = &quot;Foo Do Something (root) - works&quot;)\r\n\tpublic Response barFacade(@QueryParam(&quot;i&quot;) Integer i) {\r\n        \treturn Response.accepted(barBean.doSomething(i)).build();\r\n\t}\r\n\r\n\t@Path(&quot;/bar&quot;)\r\n\t@Audited(description = &quot;Bar Audit (root) - doesn&#39;t wrap returned sub resource&quot;)\r\n\tpublic BarFacade barFacade() {\r\n        \treturn new BarFacade();\r\n\t}\r\n\r\n}\r\n\r\npublic class BarFacade {\r\n\r\n\t@POST\r\n\t@Produces(MediaType.APPLICATION_JSON)\r\n    @Audited(description = &quot;Bar Audit Post (sub resource) - never triggered&quot;)\r\n\tpublic Response post(BarRequest payload) {\r\n\t    BarResponse response = barBean.run(payload);\r\n\t    return Response.accepted(response).build();\r\n\t}\r\n\r\n}\r\n```\r\n\r\nThe EJBs &quot;requests&quot; an audit action during their processing, which is handled by `AuditedTransactionBeanLocal`. I won&#39;t go into detail on that, but assume that audits can be nested, and the audit tree is managed by that bean.  \r\n\r\nHere is an example bean participating in that audit.\r\n\r\n```java\r\n@Local\r\npublic interface FooBarBeanLocal {\r\n   \r\n\tInteger doSomething();\r\n\tBarResponse run(BarRequest request);\r\n}\r\n\r\n@Stateless\r\npublic class FooBarBean implements FooBarBeanLocal, Serializable {\r\n\r\n    @Inject\r\n    private AuditedTransactionBeanLocal trx;\r\n\r\n\t@Override\r\n\tInteger doSomething(Integer i) {\r\n\t\tInteger r = i * 2;\r\n\t\ttrx.audit(String.format(&quot;%02d yielded %02d&quot;, i, r)); \r\n\t\treturn r;\r\n\t}\r\n\r\n\t@Override\r\n\tBarResponse run(BarRequest request) {\r\n\t\ttrx.audit(&quot;Bar run called with these values blah blah blah&quot;);              \r\n        return new BarResponse(&quot;ok&quot;);\r\n\t}\r\n\r\n} \r\n```\r\n\r\n\r\nThe clear problem is that the initial sub resource method interceptor completes it&#39;s transaction before any sub resource methods are called:\r\n\r\n```java\r\n\r\n        Audited audit = getAnnotationFromContext(context);\r\n\r\n        trx.beginOrJoin()\r\n\r\n        // Here, &quot;o&quot; is an instance of BarFacade\r\n        Object o = context.proceed();\r\n\r\n        // END THE CURRENT TRANSACTION BEFORE ANY BarFacade methods are called!!\r\n\t    trx.end();\r\n    \r\n        return o;  // We are no longer being audited\r\n\r\n```\r\n\r\nOf course, I can&#39;t just annotation the sub resource with `Audited` because it&#39;s not a container managed resource and it will just be ignored.\r\n\r\nHow to solve this issue?  I&#39;m going to go back and read the spec, but I thought I saw something about using a `@Provider` filter.  Is that how JAX-RS sniffs out endpoints on sub resources?  Is that filter type only called on JAX-RS endpoints (which will allow me to inspect/manage it like an interceptor)?\r\n\r\n\r\n-----\r\n\r\nAccording to the JAX-RS 2.1 spec, Chapter 4.1 &quot;Lifecycle and Environment&quot;:\r\n\r\n&gt; By default a single instance of each provider class is instantiated\r\n&gt; for each JAX-RS application.\r\n\r\nSo, I&#39;m not sure how a Provider filter could work in the context of request/session scope.\r\n\r\n-----\r\n\r\nMy current thought process on this after reading the spec could be to implement a `@Profider` filter, like such:\r\n\r\n```\r\n@Provider\r\npublic class AuditedFilter implements ContainerRequestFilter,\r\nContainerResponseFilter {\r\n\r\n    @Inject\r\n    private AuditedTransactionBeanLocal trx;\r\n\r\n    @Override\r\n    public void filter(ContainerRequestContext requestContext) throws IOException {\r\n\r\n        trx.beginOrJoin();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void filter(ContainerRequestContext requestContext,\r\nContainerResponseContext responseContext) throws IOException {\r\n\r\n\t    trx.end();\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis presents some complications.  First, since `@Audited` not specifically an endpoint interceptor (remember that I want to allow nested), EJB methods can also be annotated with `@Audited` to nest their sub-process.  In the filter, I could test if the method is `@Audited` and begin the &quot;transaction,&quot; but interceptors on resource methods will also initiate a transaction.  And if I remove the `@Audited` from locator methods and only put them on terminal methods (either root resource or sub class), I have to know which it is so I know if I need to initiate a transaction.\r\n\r\nConfused! :)\r\n\r\n------\r\n\r\nThe following doesn&#39;t work either:\r\n\r\n```\r\n@RequestScoped\r\n@Path(&quot;/foo&quot;)\r\npublic class FooFacade {\r\n\r\n    @Inject\r\n    private BarBeanLocal barBean;\r\n    \r\n    @Context\r\n    private ResourceContext rc;\r\n\r\n    @Path(&quot;/bar&quot;)\r\n    public BarFacade barFacade() {\r\n            return rc.initResource(new BarFacade());\r\n    }\r\n\r\n}\r\n\r\n\r\npublic class BarFacade {\r\n\r\n    @POST\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    @Audited(description = &quot;Bar Audit Post (sub resource) - never triggered&quot;)\r\n    public Response post(BarRequest payload) {\r\n        BarResponse response = barBean.run(payload);\r\n        return Response.accepted(response).build();\r\n    }\r\n\r\n}\r\n\r\n```","title":"Interceptor not wrapping JAX-RS sub-resource endpoint methods","body":"<p>Payara 5, Jersey 2.37, JAX-RS 2.1</p>\n<p>I'm attempting to create a logging &quot;transaction,&quot;  where a REST endpoint (either sub-resource method or terminal endpoint - I'll demonstrate both below) is annotated with a custom interceptor.  This works fine when the annotated method is on a root resource class, but fails on a sub-resource method. I understand why, and I'll walk through the process below, but I can't figure out how to accomplish what I'm trying to achieve.</p>\n<p>First, here is the interceptor classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Inherited\n@InterceptorBinding\n@Retention(RUNTIME)\n@Target({METHOD, TYPE})\npublic @interface Audited {\n\n    @Nonbinding\n    String description() default &quot;&quot;;\n\n}\n\n@Audited\n@Interceptor\npublic class AuditedInterceptor implements Serializable {\n\n    @Inject\n    private AuditedTransactionBeanLocal trx;\n    \n    @AroundInvoke\n    public Object intercept(InvocationContext context) throws Exception {\n        \n        Audited audit = getAnnotation(context);\n\n        trx.beginOrJoin()\n\n        Object o = context.proceed();\n\n        trx.end();\n    \n        return o;\n\n    }\n\n    private Audited getAnnotation(InvocationContext context) {\n        Method m = context.getMethod();\n        return (m.isAnnotationPresent(Audited.class)) ? \n               m.getAnnotation(Audited.class):\n               context.getTarget().getClass().getAnnotation(Audited.class);\n    }\n}\n\n</code></pre>\n<p>Here's an example endpoint:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestScoped\n@Path(&quot;/foo&quot;)\npublic class FooFacade {\n\n    @Inject\n    private BarBeanLocal barBean;\n\n    @Path(&quot;/do-something&quot;)\n    @Audited(description = &quot;Foo Do Something (root) - works&quot;)\n    public Response barFacade(@QueryParam(&quot;i&quot;) Integer i) {\n            return Response.accepted(barBean.doSomething(i)).build();\n    }\n\n    @Path(&quot;/bar&quot;)\n    @Audited(description = &quot;Bar Audit (root) - doesn't wrap returned sub resource&quot;)\n    public BarFacade barFacade() {\n            return new BarFacade();\n    }\n\n}\n\npublic class BarFacade {\n\n    @POST\n    @Produces(MediaType.APPLICATION_JSON)\n    @Audited(description = &quot;Bar Audit Post (sub resource) - never triggered&quot;)\n    public Response post(BarRequest payload) {\n        BarResponse response = barBean.run(payload);\n        return Response.accepted(response).build();\n    }\n\n}\n</code></pre>\n<p>The EJBs &quot;requests&quot; an audit action during their processing, which is handled by <code>AuditedTransactionBeanLocal</code>. I won't go into detail on that, but assume that audits can be nested, and the audit tree is managed by that bean.</p>\n<p>Here is an example bean participating in that audit.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Local\npublic interface FooBarBeanLocal {\n   \n    Integer doSomething();\n    BarResponse run(BarRequest request);\n}\n\n@Stateless\npublic class FooBarBean implements FooBarBeanLocal, Serializable {\n\n    @Inject\n    private AuditedTransactionBeanLocal trx;\n\n    @Override\n    Integer doSomething(Integer i) {\n        Integer r = i * 2;\n        trx.audit(String.format(&quot;%02d yielded %02d&quot;, i, r)); \n        return r;\n    }\n\n    @Override\n    BarResponse run(BarRequest request) {\n        trx.audit(&quot;Bar run called with these values blah blah blah&quot;);              \n        return new BarResponse(&quot;ok&quot;);\n    }\n\n} \n</code></pre>\n<p>The clear problem is that the initial sub resource method interceptor completes it's transaction before any sub resource methods are called:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n        Audited audit = getAnnotationFromContext(context);\n\n        trx.beginOrJoin()\n\n        // Here, &quot;o&quot; is an instance of BarFacade\n        Object o = context.proceed();\n\n        // END THE CURRENT TRANSACTION BEFORE ANY BarFacade methods are called!!\n        trx.end();\n    \n        return o;  // We are no longer being audited\n\n</code></pre>\n<p>Of course, I can't just annotation the sub resource with <code>Audited</code> because it's not a container managed resource and it will just be ignored.</p>\n<p>How to solve this issue?  I'm going to go back and read the spec, but I thought I saw something about using a <code>@Provider</code> filter.  Is that how JAX-RS sniffs out endpoints on sub resources?  Is that filter type only called on JAX-RS endpoints (which will allow me to inspect/manage it like an interceptor)?</p>\n<hr />\n<p>According to the JAX-RS 2.1 spec, Chapter 4.1 &quot;Lifecycle and Environment&quot;:</p>\n<blockquote>\n<p>By default a single instance of each provider class is instantiated\nfor each JAX-RS application.</p>\n</blockquote>\n<p>So, I'm not sure how a Provider filter could work in the context of request/session scope.</p>\n<hr />\n<p>My current thought process on this after reading the spec could be to implement a <code>@Profider</code> filter, like such:</p>\n<pre><code>@Provider\npublic class AuditedFilter implements ContainerRequestFilter,\nContainerResponseFilter {\n\n    @Inject\n    private AuditedTransactionBeanLocal trx;\n\n    @Override\n    public void filter(ContainerRequestContext requestContext) throws IOException {\n\n        trx.beginOrJoin();\n\n    }\n\n    @Override\n    public void filter(ContainerRequestContext requestContext,\nContainerResponseContext responseContext) throws IOException {\n\n        trx.end();\n\n    }\n\n}\n</code></pre>\n<p>This presents some complications.  First, since <code>@Audited</code> not specifically an endpoint interceptor (remember that I want to allow nested), EJB methods can also be annotated with <code>@Audited</code> to nest their sub-process.  In the filter, I could test if the method is <code>@Audited</code> and begin the &quot;transaction,&quot; but interceptors on resource methods will also initiate a transaction.  And if I remove the <code>@Audited</code> from locator methods and only put them on terminal methods (either root resource or sub class), I have to know which it is so I know if I need to initiate a transaction.</p>\n<p>Confused! :)</p>\n<hr />\n<p>The following doesn't work either:</p>\n<pre><code>@RequestScoped\n@Path(&quot;/foo&quot;)\npublic class FooFacade {\n\n    @Inject\n    private BarBeanLocal barBean;\n    \n    @Context\n    private ResourceContext rc;\n\n    @Path(&quot;/bar&quot;)\n    public BarFacade barFacade() {\n            return rc.initResource(new BarFacade());\n    }\n\n}\n\n\npublic class BarFacade {\n\n    @POST\n    @Produces(MediaType.APPLICATION_JSON)\n    @Audited(description = &quot;Bar Audit Post (sub resource) - never triggered&quot;)\n    public Response post(BarRequest payload) {\n        BarResponse response = barBean.run(payload);\n        return Response.accepted(response).build();\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","postgresql","docker","maven","testcontainers"],"answers":[{"tags":[],"owner":{"account_id":2046439,"reputation":2895,"user_id":1826422,"display_name":"bsideup"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1591204047,"creation_date":1591204047,"answer_id":62178604,"question_id":62174634,"body_markdown":"Not really Testcontainers related.\r\n\r\nTestcontainers requires a valid Docker daemon. When you build images, there is no daemon mounted into the image build context.\r\n\r\nYou can easily verify that by doing:\r\n```\r\nRUN curl --unix-socket /var/run/docker.sock http:/_/_ping\r\n```\r\n\r\nMake this command return &quot;OK&quot; (no need to run the Testcontainers code), and your tests will pass as well.","title":"How do I get Java testcontainers to work in Docker Multistage builds?","body":"<p>Not really Testcontainers related.</p>\n\n<p>Testcontainers requires a valid Docker daemon. When you build images, there is no daemon mounted into the image build context.</p>\n\n<p>You can easily verify that by doing:</p>\n\n<pre><code>RUN curl --unix-socket /var/run/docker.sock http:/_/_ping\n</code></pre>\n\n<p>Make this command return \"OK\" (no need to run the Testcontainers code), and your tests will pass as well.</p>\n"},{"tags":[],"owner":{"account_id":21738307,"reputation":51,"user_id":16046019,"display_name":"Adam D"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623331466,"creation_date":1623331466,"answer_id":67922086,"question_id":62174634,"body_markdown":"You can overwrite testcontainers default docker host by adding:\r\n\r\n    ENV DOCKER_HOST=tcp://host.docker.internal:2375\r\n\r\nto your build stage.","title":"How do I get Java testcontainers to work in Docker Multistage builds?","body":"<p>You can overwrite testcontainers default docker host by adding:</p>\n<pre><code>ENV DOCKER_HOST=tcp://host.docker.internal:2375\n</code></pre>\n<p>to your build stage.</p>\n"},{"comments":[{"owner":{"account_id":1764314,"reputation":1197,"user_id":1610539,"accept_rate":100,"display_name":"phil-lavin"},"score":1,"creation_date":1695816935,"post_id":76842771,"comment_id":136074283,"body_markdown":"Same process for Mac except no double / on the -v: `-v /var/run/docker.sock:/var/run/docker.sock`","body":"Same process for Mac except no double / on the -v: <code>-v &#47;var&#47;run&#47;docker.sock:&#47;var&#47;run&#47;docker.sock</code>"},{"owner":{"account_id":25798468,"reputation":74,"user_id":19541281,"display_name":"sbrajchuk"},"score":1,"creation_date":1696235221,"post_id":76842771,"comment_id":136122391,"body_markdown":"It is safer not to expose port 2375 to the LAN and to use -p 127.0.0.1:2375:2375","body":"It is safer not to expose port 2375 to the LAN and to use -p 127.0.0.1:2375:2375"},{"owner":{"account_id":3641890,"reputation":410,"user_id":3035786,"accept_rate":50,"display_name":"Mugeesh Husain"},"score":0,"creation_date":1696604181,"post_id":76842771,"comment_id":136178798,"body_markdown":"this solution worked on mac","body":"this solution worked on mac"}],"tags":[],"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1696269782,"creation_date":1691256264,"answer_id":76842771,"question_id":62174634,"body_markdown":"This is specifically for Docker Desktop for Windows.  First you need to expose the Docker daemon\r\n\r\n```shell\r\ndocker run -p 2375:2375 -v //var/run/docker.sock://var/run/docker.sock alpine/socat tcp-listen:2375,reuseaddr,fork unix-connect:/var/run/docker.sock\r\n\r\n# For extra security\r\n\r\ndocker run -p 127.0.0.1:2375:2375 -v //var/run/docker.sock://var/run/docker.sock alpine/socat tcp-listen:2375,reuseaddr,fork unix-connect:/var/run/docker.sock\r\n\r\n```\r\n\r\nFor Docker Desktop for macOS, same process as Windows.  First you need to expose the Docker daemon (just no `//` since there&#39;s no need to escape anymore)\r\n\r\n```shell\r\ndocker run -p 2375:2375 -v /var/run/docker.sock:/var/run/docker.sock alpine/socat tcp-listen:2375,reuseaddr,fork unix-connect:/var/run/docker.sock\r\n```\r\n\r\nThen in your Dockerfile you have\r\n```Dockerfile\r\nENV DOCKER_HOST=tcp://host.docker.internal:2375 \r\nENV TESTCONTAINERS_HOST_OVERRIDE=host.docker.internal \r\nRUN gradle --no-daemon test\r\n```\r\n\r\nFor Linux which does not have host.docker.internal it can be emulated by adding the host mapping\r\n```sh\r\ndocker build . --add-host host.docker.internal:host-gateway\r\n```","title":"How do I get Java testcontainers to work in Docker Multistage builds?","body":"<p>This is specifically for Docker Desktop for Windows.  First you need to expose the Docker daemon</p>\n<pre class=\"lang-bash prettyprint-override\"><code>docker run -p 2375:2375 -v //var/run/docker.sock://var/run/docker.sock alpine/socat tcp-listen:2375,reuseaddr,fork unix-connect:/var/run/docker.sock\n\n# For extra security\n\ndocker run -p 127.0.0.1:2375:2375 -v //var/run/docker.sock://var/run/docker.sock alpine/socat tcp-listen:2375,reuseaddr,fork unix-connect:/var/run/docker.sock\n\n</code></pre>\n<p>For Docker Desktop for macOS, same process as Windows.  First you need to expose the Docker daemon (just no <code>//</code> since there's no need to escape anymore)</p>\n<pre class=\"lang-bash prettyprint-override\"><code>docker run -p 2375:2375 -v /var/run/docker.sock:/var/run/docker.sock alpine/socat tcp-listen:2375,reuseaddr,fork unix-connect:/var/run/docker.sock\n</code></pre>\n<p>Then in your Dockerfile you have</p>\n<pre><code>ENV DOCKER_HOST=tcp://host.docker.internal:2375 \nENV TESTCONTAINERS_HOST_OVERRIDE=host.docker.internal \nRUN gradle --no-daemon test\n</code></pre>\n<p>For Linux which does not have host.docker.internal it can be emulated by adding the host mapping</p>\n<pre class=\"lang-bash prettyprint-override\"><code>docker build . --add-host host.docker.internal:host-gateway\n</code></pre>\n"}],"owner":{"account_id":4416918,"reputation":406,"user_id":3598229,"display_name":"Raymond"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2620,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1696269782,"creation_date":1591192459,"question_id":62174634,"body_markdown":"I have a problem similar to https://stackoverflow.com/q/59187893/3598229. The difference is that rather than my script running mvn directly it runs a docker multistage build that runs the test inside of the docker image. Unfortunately this doesn&#39;t appear to work for the PostgreSQL Test Container. \r\n\r\n**Dockerfile**\r\n```\r\n#############\r\n### build ###\r\n#############\r\n\r\n# base image\r\nFROM maven:3-jdk-11 as build\r\n\r\n# set working directory\r\nWORKDIR /app\r\n\r\n# add app\r\nCOPY . .\r\n\r\nRUN export MAVEN_OPTS=&quot;-Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=WARN -Dorg.slf4j.simpleLogger.showDateTime=true -Djava.awt.headless=true&quot; &amp;&amp; export MAVEN_CLI_OPTS=&quot;-B -U --batch-mode --errors --fail-at-end --show-version -DinstallAtEnd=true -DdeployAtEnd=true&quot;\r\n\r\nRUN mvn $MAVEN_CLI_OPTS clean install\r\n\r\n############\r\n### prod ###\r\n############\r\n\r\n# Yea this isn&#39;t right, but it crashes before it gets to this point. This is for example purposes only.\r\nFROM openjdk:15-jdk-alpine\r\nCOPY --from=build /app/reproducer-testcontainer/target/reproducer-testcontainer.jar /reproducer-testcontainer.jar\r\nCMD java -jar reproducer-testcontainer.jar\r\n```\r\n\r\nWhen I run ``` mvn clean install ``` it works properly and runs my test using the PostgreSQL Test Container. However, when I run ``` docker build . ``` it fails at the mvn clean install step with the below stack trace.\r\n\r\n**Stack trace:**\r\n```\r\n13:05:01.250 [main] ERROR org.testcontainers.dockerclient.EnvironmentAndSystemPropertyClientProviderStrategy - ping failed with configuration Environment variables, system properties and defaults. Resolved: \r\n     dockerHost=unix:///var/run/docker.sock\r\n     apiVersion=&#39;{UNKNOWN_VERSION}&#39;\r\n     registryUrl=&#39;https://index.docker.io/v1/&#39;\r\n     registryUsername=&#39;root&#39;\r\n     registryPassword=&#39;null&#39;\r\n     registryEmail=&#39;null&#39;\r\n     dockerConfig=&#39;DefaultDockerClientConfig[dockerHost=unix:///var/run/docker.sock,registryUsername=root,registryPassword=&lt;null&gt;,registryEmail=&lt;null&gt;,registryUrl=https://index.docker.io/v1/,dockerConfigPath=/root/.docker,sslConfig=&lt;null&gt;,apiVersion={UNKNOWN_VERSION},dockerConfig=&lt;null&gt;]&#39;\r\n  due to org.rnorth.ducttape.TimeoutException: Timeout waiting for result with exception\r\n org.rnorth.ducttape.TimeoutException: Timeout waiting for result with exception\r\n \tat org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:51)\r\n&lt;snip&gt;\r\n \tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)\r\n Caused by: java.io.IOException: com.sun.jna.LastErrorException: [2] No such file or directory\r\n \tat org.testcontainers.shaded.org.scalasbt.ipcsocket.UnixDomainSocket.&lt;init&gt;(UnixDomainSocket.java:62)\r\n&lt;snip&gt;\r\n \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n Caused by: com.sun.jna.LastErrorException: [2] No such file or directory\r\n \tat org.testcontainers.shaded.org.scalasbt.ipcsocket.UnixDomainSocketLibrary.connect(Native Method)\r\n \tat org.testcontainers.shaded.org.scalasbt.ipcsocket.UnixDomainSocket.&lt;init&gt;(UnixDomainSocket.java:57)\r\n \t... 35 common frames omitted\r\n```\r\n\r\nIn my CI pipeline I&#39;d like to only run ``` docker build . ``` and not worry about having another stage that does the ``` mvn clean install ```. \r\n\r\nHow do I fix the configuration to get the java PostgreSQL Testcontainers to work inside of a Docker build so that I can use it in a multi-stage build?\r\n\r\nFull Code example: https://gitlab.com/raymondcg/reproducer-testcontainer","title":"How do I get Java testcontainers to work in Docker Multistage builds?","body":"<p>I have a problem similar to <a href=\"https://stackoverflow.com/q/59187893/3598229\">Run (Docker) Test Container in gitlab with Maven</a>. The difference is that rather than my script running mvn directly it runs a docker multistage build that runs the test inside of the docker image. Unfortunately this doesn't appear to work for the PostgreSQL Test Container. </p>\n\n<p><strong>Dockerfile</strong></p>\n\n<pre><code>#############\n### build ###\n#############\n\n# base image\nFROM maven:3-jdk-11 as build\n\n# set working directory\nWORKDIR /app\n\n# add app\nCOPY . .\n\nRUN export MAVEN_OPTS=\"-Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=WARN -Dorg.slf4j.simpleLogger.showDateTime=true -Djava.awt.headless=true\" &amp;&amp; export MAVEN_CLI_OPTS=\"-B -U --batch-mode --errors --fail-at-end --show-version -DinstallAtEnd=true -DdeployAtEnd=true\"\n\nRUN mvn $MAVEN_CLI_OPTS clean install\n\n############\n### prod ###\n############\n\n# Yea this isn't right, but it crashes before it gets to this point. This is for example purposes only.\nFROM openjdk:15-jdk-alpine\nCOPY --from=build /app/reproducer-testcontainer/target/reproducer-testcontainer.jar /reproducer-testcontainer.jar\nCMD java -jar reproducer-testcontainer.jar\n</code></pre>\n\n<p>When I run <code>mvn clean install</code> it works properly and runs my test using the PostgreSQL Test Container. However, when I run <code>docker build .</code> it fails at the mvn clean install step with the below stack trace.</p>\n\n<p><strong>Stack trace:</strong></p>\n\n<pre><code>13:05:01.250 [main] ERROR org.testcontainers.dockerclient.EnvironmentAndSystemPropertyClientProviderStrategy - ping failed with configuration Environment variables, system properties and defaults. Resolved: \n     dockerHost=unix:///var/run/docker.sock\n     apiVersion='{UNKNOWN_VERSION}'\n     registryUrl='https://index.docker.io/v1/'\n     registryUsername='root'\n     registryPassword='null'\n     registryEmail='null'\n     dockerConfig='DefaultDockerClientConfig[dockerHost=unix:///var/run/docker.sock,registryUsername=root,registryPassword=&lt;null&gt;,registryEmail=&lt;null&gt;,registryUrl=https://index.docker.io/v1/,dockerConfigPath=/root/.docker,sslConfig=&lt;null&gt;,apiVersion={UNKNOWN_VERSION},dockerConfig=&lt;null&gt;]'\n  due to org.rnorth.ducttape.TimeoutException: Timeout waiting for result with exception\n org.rnorth.ducttape.TimeoutException: Timeout waiting for result with exception\n    at org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:51)\n&lt;snip&gt;\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)\n Caused by: java.io.IOException: com.sun.jna.LastErrorException: [2] No such file or directory\n    at org.testcontainers.shaded.org.scalasbt.ipcsocket.UnixDomainSocket.&lt;init&gt;(UnixDomainSocket.java:62)\n&lt;snip&gt;\n    at java.base/java.lang.Thread.run(Thread.java:834)\n Caused by: com.sun.jna.LastErrorException: [2] No such file or directory\n    at org.testcontainers.shaded.org.scalasbt.ipcsocket.UnixDomainSocketLibrary.connect(Native Method)\n    at org.testcontainers.shaded.org.scalasbt.ipcsocket.UnixDomainSocket.&lt;init&gt;(UnixDomainSocket.java:57)\n    ... 35 common frames omitted\n</code></pre>\n\n<p>In my CI pipeline I'd like to only run <code>docker build .</code> and not worry about having another stage that does the <code>mvn clean install</code>. </p>\n\n<p>How do I fix the configuration to get the java PostgreSQL Testcontainers to work inside of a Docker build so that I can use it in a multi-stage build?</p>\n\n<p>Full Code example: <a href=\"https://gitlab.com/raymondcg/reproducer-testcontainer\" rel=\"nofollow noreferrer\">https://gitlab.com/raymondcg/reproducer-testcontainer</a></p>\n"},{"tags":["java","spring","spring-boot","algorithm","timestamp"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1695365860,"post_id":77155248,"comment_id":136017222,"body_markdown":"On Stack Overflow, your post must focus on a single question. You seem to be asking about how to (a) parse CSV, and (b) make calculations across rows. The first has been addressed many times on existing Questions and Answers. The second should be its own post, and should be more carefully explained.","body":"On Stack Overflow, your post must focus on a single question. You seem to be asking about how to (a) parse CSV, and (b) make calculations across rows. The first has been addressed many times on existing Questions and Answers. The second should be its own post, and should be more carefully explained."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1695370357,"post_id":77155248,"comment_id":136018052,"body_markdown":"What is the expected result for your sample input above? How should the expected result look like?","body":"What is the expected result for your sample input above? How should the expected result look like?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695373069,"post_id":77155248,"comment_id":136018513,"body_markdown":"You need to build a &#39;state machine&#39;, maybe something [like this?](https://www.baeldung.com/java-enum-simple-state-machine)","body":"You need to build a &#39;state machine&#39;, maybe something <a href=\"https://www.baeldung.com/java-enum-simple-state-machine\" rel=\"nofollow noreferrer\">like this?</a>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1695388358,"post_id":77155248,"comment_id":136021610,"body_markdown":"Design a class to represent the information from a line from the CSV. In your class represent the timestamp as `OffsetDateTime` and the state as an enum. Use a library that can read CSV, there are some out there, also some free ones. When your code detects a legal state change, calculate the difference using `ChronoUnit.MILLIS.between()`, for example `ChronoUnit.MILLIS.between(row1.getTimestammp(), row2.getTimestamp())`.","body":"Design a class to represent the information from a line from the CSV. In your class represent the timestamp as <code>OffsetDateTime</code> and the state as an enum. Use a library that can read CSV, there are some out there, also some free ones. When your code detects a legal state change, calculate the difference using <code>ChronoUnit.MILLIS.between()</code>, for example <code>ChronoUnit.MILLIS.between(row1.getTimestammp(), row2.getTimestamp())</code>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1695388706,"post_id":77155248,"comment_id":136021678,"body_markdown":"Is a state change from one line to the next, or from one line to the next line having the same code, or how is it?? And are you asking us to design data structure and algorithm for you??? I am sorry to say, I still find the question both too broad and unclear.","body":"Is a state change from one line to the next, or from one line to the next line having the same code, or how is it?? And are you asking us to design data structure and algorithm for you??? I am sorry to say, I still find the question both too broad and unclear."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695400663,"post_id":77155248,"comment_id":136024223,"body_markdown":"You need to design your state machine first. The time delta aspect is relatively trivial once you&#39;ve done that","body":"You need to design your state machine first. The time delta aspect is relatively trivial once you&#39;ve done that"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1695409001,"post_id":77155248,"comment_id":136025606,"body_markdown":"Your comments are really helpful. Please always add more information *as edits to the original question* so we have everything in one place. I added a couple times for you. Next time it’s your turn. :-)","body":"Your comments are really helpful. Please always add more information <i>as edits to the original question</i> so we have everything in one place. I added a couple times for you. Next time it’s your turn. :-)"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1695409333,"post_id":77155248,"comment_id":136025663,"body_markdown":"One idea is: Once you have designed your Java class, say, `LineInfo` (poor name, find a better one), use a `Map&lt;String, LineInfo&gt;` to hold the last line for each code. For each `LineInfo` read from CSV, check if the code is already in the map, if it is, whether the state change from the last state to the new one is legal, and if it is, calculate the time difference.  Under all circumstances add the new `LineInfo` to the map in place of the old one.","body":"One idea is: Once you have designed your Java class, say, <code>LineInfo</code> (poor name, find a better one), use a <code>Map&lt;String, LineInfo&gt;</code> to hold the last line for each code. For each <code>LineInfo</code> read from CSV, check if the code is already in the map, if it is, whether the state change from the last state to the new one is legal, and if it is, calculate the time difference.  Under all circumstances add the new <code>LineInfo</code> to the map in place of the old one."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695416202,"creation_date":1695364243,"answer_id":77155305,"question_id":77155248,"body_markdown":"CSV files are an easy to read format - in general.\r\nAnd then, due to format insufficiencies they come with a lot of addons or exceptions. Just think of storing strings that shall contain commas and linefeeds as value.\r\n\r\nTo not have to either create another quirky format but use already developed and tested code, you may want to use the [Apache Commons CSV][1] library.\r\n\r\nReading an Excel-compatible CSV may look like this:\r\n\r\n    Reader in = new FileReader(&quot;path/to/file.csv&quot;);\r\n    Iterable&lt;CSVRecord&gt; records = CSVFormat.EXCEL.parse(in);\r\n    for (CSVRecord record : records) {\r\n        String lastName = record.get(&quot;Last Name&quot;);\r\n        String firstName = record.get(&quot;First Name&quot;);\r\n    }\r\n\r\nNext step is to check the time difference between events. For that parse the timestamp into Instant using [Instant.parse()][2].\r\n\r\nOnce you have two Instant&#39;s calculate their difference using [Duration.between()][3].\r\n\r\n  [1]: https://commons.apache.org/proper/commons-csv/\r\n  [2]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/Instant.html#parse(java.lang.CharSequence)\r\n  [3]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/Duration.html#between(java.time.temporal.Temporal,java.time.temporal.Temporal)","title":"How can I manipulate data that comes from a csv file in java?","body":"<p>CSV files are an easy to read format - in general.\nAnd then, due to format insufficiencies they come with a lot of addons or exceptions. Just think of storing strings that shall contain commas and linefeeds as value.</p>\n<p>To not have to either create another quirky format but use already developed and tested code, you may want to use the <a href=\"https://commons.apache.org/proper/commons-csv/\" rel=\"nofollow noreferrer\">Apache Commons CSV</a> library.</p>\n<p>Reading an Excel-compatible CSV may look like this:</p>\n<pre><code>Reader in = new FileReader(&quot;path/to/file.csv&quot;);\nIterable&lt;CSVRecord&gt; records = CSVFormat.EXCEL.parse(in);\nfor (CSVRecord record : records) {\n    String lastName = record.get(&quot;Last Name&quot;);\n    String firstName = record.get(&quot;First Name&quot;);\n}\n</code></pre>\n<p>Next step is to check the time difference between events. For that parse the timestamp into Instant using <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/Instant.html#parse(java.lang.CharSequence)\" rel=\"nofollow noreferrer\">Instant.parse()</a>.</p>\n<p>Once you have two Instant's calculate their difference using <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/Duration.html#between(java.time.temporal.Temporal,java.time.temporal.Temporal)\" rel=\"nofollow noreferrer\">Duration.between()</a>.</p>\n"}],"owner":{"display_name":"user18722819"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696269155,"creation_date":1695363415,"question_id":77155248,"body_markdown":"I am trying to build a program in spring that reads files and does calculations with the data that comes from the files.\r\nWhat interests me more from the file is Timestamp, Code and State. I want to calculate the Timestamp difference between two different states.\r\nTo calculate this difference I have to keep in mind that the state UN should either go to ACK or RTNUN. From ACK/RTNUN it can go to NORM, but not any other form. For example RTNUN to ACK is considered an error and no calculations are done. (The code should be the same for both states).\r\nState UPR can only go to NORM. The rest is considered an error and no calculations are done.\r\n\r\nFile Structure example:\r\n\r\n```none\r\nTimestamp;ISPPE;Sequence;Code;Severity;State;Subsystem;\r\n2023-06-08T13:03:22.653+0200;1223085273;1;FW|110|;E;UN;;\r\n2023-06-08T13:03:28.498+0200;1223091118;1;FW|110|;E;ACK;;\r\n2023-06-08T13:03:28.499+0200;1223091119;1;FW|110|;E;RTNUN;;\r\n2023-06-08T13:03:28.500+0200;1223091120;1;FW|110|;E;NORM;;\r\n2023-06-08T13:04:44.546+0200;1223167018;1;FW|110|;E;UN;;\r\n2023-06-08T13:04:56.750+0200;1223179222;1;FW|110|;E;RTNUN;;\r\n2023-06-08T13:04:56.750+0200;1223179222;2;FW|110|;E;NORM;;\r\n2023-06-08T13:05:33.230+0200;1223215702;1;FW|110|;E;UN;;\r\n2023-06-08T13:05:33.500+0200;1223215972;1;FW|110|;E;RTNUN;;\r\n2023-06-08T13:05:33.500+0200;1223215972;2;FW|110|;E;NORM;;\r\n2023-06-08T13:13:32.562+0200;1223693667;1;FW|110|;E;UN;;\r\n2023-06-08T13:13:32.861+0200;1223693966;1;FW|110|;E;RTNUN;;\r\n2023-06-08T13:13:32.861+0200;1223693966;2;FW|110|;E;NORM;;\r\n2023-06-08T14:33:57.021+0200;1228506046;1;FW|115|;I;UN;Media Input;\r\n2023-06-08T14:35:02.177+0200;1228571031;1;FW|5|;E;UN;Carriage;\r\n2023-06-08T14:35:06.998+0200;1228575852;1;FW|5|;E;RTNUN;Carriage;\r\n2023-06-08T14:35:06.998+0200;1228575852;2;FW|5|;E;NORM;Carriage;\r\n2023-06-21T10:21:28.379+0200;898472;1;FW|2|0.1;F;UPR;E-Module;\r\n2023-06-21T10:21:28.380+0200;898473;1;FW|2|1.0;F;NORM;E-Module;\r\n2023-06-08T14:35:59.566+0200;1228628130;1;FW|110|;E;UN;Media Output Roll;\r\n2023-06-08T14:35:59.634+0200;1228628198;1;FW|115|;I;RTNUN;Media Input Roll;\r\n2023-06-08T14:35:59.634+0200;1228628198;2;FW|115|;I;NORM;Media Input Roll;\r\n2023-06-08T14:35:59.638+0200;1228628202;1;FW|110|;E;RTNUN;Media Output Roll;\r\n2023-06-08T14:35:59.638+0200;1228628202;2;FW|110|;E;NORM;Media Output Roll;\r\n```\r\n\r\nI will take an example of the first two lines code `FW|110|` passes from `UN` state to `ACK` state. So it is an allowed state change. In this moment I need to calculate how long did this state change took. In this case it would the difference between 2023-06-08T13:03:22.653+0200 and 2023-06-08T13:03:28.498+0200. The output can be different as long as time difference is part of it. An output example Sequence -&gt; timeDiff. So key would be 1223085273 and value 5845, which is the difference in millisecond.s The goal is to find how long it took a specific Code to change state (that are allowed).\r\n\r\nThe state changes randomly. It is called a state change when it has the same code and a regular state. For example it can start at the first row with UN state and change state at the last row.\r\n\r\nWhat I am currently doing is reading the file and putting the data in a list of String list, and loop through it, but there are too many edge cases and I feel like it is not the right approach.\r\n\r\nRight now I&#39;m looping through the whole data that I get from the file, but my code is messy due to too many if statements \r\n\r\nI would appreciate if anyone can give me other ideas or approach.","title":"How can I manipulate data that comes from a csv file in java?","body":"<p>I am trying to build a program in spring that reads files and does calculations with the data that comes from the files.\nWhat interests me more from the file is Timestamp, Code and State. I want to calculate the Timestamp difference between two different states.\nTo calculate this difference I have to keep in mind that the state UN should either go to ACK or RTNUN. From ACK/RTNUN it can go to NORM, but not any other form. For example RTNUN to ACK is considered an error and no calculations are done. (The code should be the same for both states).\nState UPR can only go to NORM. The rest is considered an error and no calculations are done.</p>\n<p>File Structure example:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Timestamp;ISPPE;Sequence;Code;Severity;State;Subsystem;\n2023-06-08T13:03:22.653+0200;1223085273;1;FW|110|;E;UN;;\n2023-06-08T13:03:28.498+0200;1223091118;1;FW|110|;E;ACK;;\n2023-06-08T13:03:28.499+0200;1223091119;1;FW|110|;E;RTNUN;;\n2023-06-08T13:03:28.500+0200;1223091120;1;FW|110|;E;NORM;;\n2023-06-08T13:04:44.546+0200;1223167018;1;FW|110|;E;UN;;\n2023-06-08T13:04:56.750+0200;1223179222;1;FW|110|;E;RTNUN;;\n2023-06-08T13:04:56.750+0200;1223179222;2;FW|110|;E;NORM;;\n2023-06-08T13:05:33.230+0200;1223215702;1;FW|110|;E;UN;;\n2023-06-08T13:05:33.500+0200;1223215972;1;FW|110|;E;RTNUN;;\n2023-06-08T13:05:33.500+0200;1223215972;2;FW|110|;E;NORM;;\n2023-06-08T13:13:32.562+0200;1223693667;1;FW|110|;E;UN;;\n2023-06-08T13:13:32.861+0200;1223693966;1;FW|110|;E;RTNUN;;\n2023-06-08T13:13:32.861+0200;1223693966;2;FW|110|;E;NORM;;\n2023-06-08T14:33:57.021+0200;1228506046;1;FW|115|;I;UN;Media Input;\n2023-06-08T14:35:02.177+0200;1228571031;1;FW|5|;E;UN;Carriage;\n2023-06-08T14:35:06.998+0200;1228575852;1;FW|5|;E;RTNUN;Carriage;\n2023-06-08T14:35:06.998+0200;1228575852;2;FW|5|;E;NORM;Carriage;\n2023-06-21T10:21:28.379+0200;898472;1;FW|2|0.1;F;UPR;E-Module;\n2023-06-21T10:21:28.380+0200;898473;1;FW|2|1.0;F;NORM;E-Module;\n2023-06-08T14:35:59.566+0200;1228628130;1;FW|110|;E;UN;Media Output Roll;\n2023-06-08T14:35:59.634+0200;1228628198;1;FW|115|;I;RTNUN;Media Input Roll;\n2023-06-08T14:35:59.634+0200;1228628198;2;FW|115|;I;NORM;Media Input Roll;\n2023-06-08T14:35:59.638+0200;1228628202;1;FW|110|;E;RTNUN;Media Output Roll;\n2023-06-08T14:35:59.638+0200;1228628202;2;FW|110|;E;NORM;Media Output Roll;\n</code></pre>\n<p>I will take an example of the first two lines code <code>FW|110|</code> passes from <code>UN</code> state to <code>ACK</code> state. So it is an allowed state change. In this moment I need to calculate how long did this state change took. In this case it would the difference between 2023-06-08T13:03:22.653+0200 and 2023-06-08T13:03:28.498+0200. The output can be different as long as time difference is part of it. An output example Sequence -&gt; timeDiff. So key would be 1223085273 and value 5845, which is the difference in millisecond.s The goal is to find how long it took a specific Code to change state (that are allowed).</p>\n<p>The state changes randomly. It is called a state change when it has the same code and a regular state. For example it can start at the first row with UN state and change state at the last row.</p>\n<p>What I am currently doing is reading the file and putting the data in a list of String list, and loop through it, but there are too many edge cases and I feel like it is not the right approach.</p>\n<p>Right now I'm looping through the whole data that I get from the file, but my code is messy due to too many if statements</p>\n<p>I would appreciate if anyone can give me other ideas or approach.</p>\n"},{"tags":["java","date","timezone-offset"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":4,"creation_date":1695922084,"post_id":77197039,"comment_id":136091727,"body_markdown":"For your sanity I strongly recommend you use [java.time, the modern Java date and time API,](https://docs.oracle.com/javase/tutorial/datetime/index.html) for your date and time work and avoid `DateFormat`, `SimpleDateFormat` and `Date`. The last three were troublesome and for that reason were supplanted by java.time a decade ago.","body":"For your sanity I strongly recommend you use <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API,</a> for your date and time work and avoid <code>DateFormat</code>, <code>SimpleDateFormat</code> and <code>Date</code>. The last three were troublesome and for that reason were supplanted by java.time a decade ago."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":4,"creation_date":1695922216,"post_id":77197039,"comment_id":136091748,"body_markdown":"You are asking too much. There are many time zones that use UTC offset `-04:00` in November. Don’t expect Java to guess which of them you were thinking of.","body":"You are asking too much. There are many time zones that use UTC offset <code>-04:00</code> in November. Don’t expect Java to guess which of them you were thinking of."},{"owner":{"account_id":9793863,"reputation":181,"user_id":7257604,"display_name":"office.aizaz"},"score":1,"creation_date":1695923505,"post_id":77197039,"comment_id":136091960,"body_markdown":"You need to read this article https://stackoverflow.com/tags/timezone/info","body":"You need to read this article <a href=\"https://stackoverflow.com/tags/timezone/info\">stackoverflow.com/tags/timezone/info</a>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1695926620,"post_id":77197039,"comment_id":136092395,"body_markdown":"Does this answer your question, in whole or in part? [Get timeZone information from date with date with offset value](https://stackoverflow.com/questions/62297550/get-timezone-information-from-date-with-date-with-offset-value)","body":"Does this answer your question, in whole or in part? <a href=\"https://stackoverflow.com/questions/62297550/get-timezone-information-from-date-with-date-with-offset-value\">Get timeZone information from date with date with offset value</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1695927369,"post_id":77197039,"comment_id":136092499,"body_markdown":"43 different timezones have that offset at that date","body":"43 different timezones have that offset at that date"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1695930488,"post_id":77197039,"comment_id":136092992,"body_markdown":"Of the 43 time zones, none is usually abbreviated `EST`. Many time zones use that abbreviation for North or Central American *Eastern Standard Time* , which is at offset -05:00, not -04:00. A few examples are America/Panama, America/Atikokan and America/Montreal.","body":"Of the 43 time zones, none is usually abbreviated <code>EST</code>. Many time zones use that abbreviation for North or Central American <i>Eastern Standard Time</i> , which is at offset -05:00, not -04:00. A few examples are America/Panama, America/Atikokan and America/Montreal."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695930287,"creation_date":1695930287,"answer_id":77197844,"question_id":77197039,"body_markdown":"&gt; _&quot;... This format dd/MMM/yyyy HH:mm aa zzz will default to server timezone but I want the timezone from the date.&quot;_\r\n\r\nDon&#39;t include the _timezone_ within the parse, it&#39;s just a notation.\r\n\r\n```java\r\nDate dateVal = df2.parse(dateStr.substring(0, dateStr.lastIndexOf(&#39;-&#39;)));\r\n```\r\n\r\nAnd, when printing the value, the _JVM_ is going to display the system&#39;s default time-zone, so manually append the time-zone text.\r\n\r\n```java\r\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MMM/yyyy HH:mm aa &quot;);\r\nDate dateVal = df2.parse(dateStr.substring(0, dateStr.lastIndexOf(&#39;-&#39;)));\r\nString formatted = sdf.format(dateVal) + &quot;EST&quot;;\r\n```","title":"Convert ISO date formatted string with appropriate timezone","body":"<blockquote>\n<p><em>&quot;... This format dd/MMM/yyyy HH:mm aa zzz will default to server timezone but I want the timezone from the date.&quot;</em></p>\n</blockquote>\n<p>Don't include the <em>timezone</em> within the parse, it's just a notation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Date dateVal = df2.parse(dateStr.substring(0, dateStr.lastIndexOf('-')));\n</code></pre>\n<p>And, when printing the value, the <em>JVM</em> is going to display the system's default time-zone, so manually append the time-zone text.</p>\n<pre class=\"lang-java prettyprint-override\"><code>SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MMM/yyyy HH:mm aa &quot;);\nDate dateVal = df2.parse(dateStr.substring(0, dateStr.lastIndexOf('-')));\nString formatted = sdf.format(dateVal) + &quot;EST&quot;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695972222,"creation_date":1695932293,"answer_id":77198016,"question_id":77197039,"body_markdown":"# tl;dr\r\n\r\n```java\r\nOffsetDateTime\r\n.parse( &quot;2020-11-22T10:02:13.501-04:00&quot; )\r\n.atZoneSameInstant( \r\n    ZoneId.of( &quot;America/New_York&quot; ) \r\n)\r\n.format( \r\n    DateTimeFormatter\r\n    .ofPattern ( &quot;dd/MMM/uuuu HH:mm a z&quot; )\r\n    .withLocale ( Locale.US )\r\n) \r\n```\r\n\r\nSee this code [run at Ideone][1].\r\n\r\n&gt;22/Nov/2020 09:02 AM EST\r\n\r\nNote the change in hour-of-day, 9 versus 10. On that date, most time zones likely intended by &quot;EST&quot; were using an offset of -05:00 not -04:00. The -04:00 offset is used only in the summer in observance of Daylight Saving Time (DST). So the example shown in the Question is contradictory/incorrect.\r\n\r\nUse real time zone names, not “EST”. \r\n\r\n# Avoid legacy classes\r\n\r\nYou are using terribly flawed date-time classes. These were years ago supplanted by the modern *java.time* classes defined in JSR 310.\r\n\r\n# *java.time*\r\n\r\n## `OffsetDateTime`\r\n\r\nParse your input string as a `OffsetDateTime` because that text includes a date, a time-of-day, and an offset from UTC (a count of hours-minutes-seconds ahead/behind the temporal meridian). \r\n\r\n## ISO 8601\r\n\r\nYour input is in standard [ISO 8601][2] format. So no need to specify a formatting pattern. The *java.time* classes use ISO 8601 formats by default when parsing/generating text.\r\n\r\n    OffsetDateTime odt = OffsetDateTime.parse( &quot;2020-11-22T10:02:13.501-04:00&quot; ) ;\r\n\r\n## `EST` is not a real time zone\r\n\r\nYou want to produce text in a localized format that includes a pseudo time zone such as `EST`. Be aware that such pseudo-zones are not official, are not standardized, and are not even unique(!). \r\n\r\nSo you need to determine what real time zone you intend. [Real time zones][3] are named with a format of `Continent/Region` such as `Europe/Paris` or `Pacific/Auckland`. \r\n\r\n\r\nGiven your example of -04:00 and &quot;EST&quot;, I assume you intend a time zone on the east side of the Americas. Many such time zones may be intended by &quot;EST&quot;. These range from the northern edges of Canada and Greenland, all the way down through the Caribbean to parts of South America. Examples include `America/Detroit`, `America/Grand_Turk`, `America/Indiana/Indianapolis`, `America/New_York`, `America/Port-au-Prince`. \r\n\r\n## Your offset incorrect on that date\r\n\r\nIf you did intend one of these EST-implied time zones, then your offset is wrong. On that date, November 22 of 2020, the time zones implied by EST were using an offset of &quot;-05:00&quot;. \r\n\r\nIf your example data is wrong, is not what you truly intended, I suggest you edit your Question with corrections.\r\n\r\n## Example: `America/New_York`\r\n\r\nI will take a wild guess that you intended `America/New_York`. Apply that zone to our `OffsetDateTime` to get a `ZonedDateTime` object.\r\n\r\n    ZoneId zoneId = ZoneId.of( &quot;America/New_York&quot; ) ;\r\n    ZonedDateTime zdt = odt.atZoneSameInstant( zoneId ) ;\r\n\r\n### Generate standard text\r\n\r\nNow we can generate text. First, let&#39;s generate text in standard ISO 8601 format that has been wisely extended by appending the name of the time zone in square brackets.\r\n\r\n    String output = zdt.toString() ;\r\n\r\n&gt;2020-11-22T09:02:13.501-05:00[America/New_York]\r\n\r\nNotice how the hour has changed from 10 to 9, and the offset from -04:00 to -05:00. This still represents the same moment, the same point on the timeline. But adjustments have been made to suit how that moment was indeed seen by people in the region covered by the time zone of `America/New_York`. \r\n\r\n### Generate localized text\r\n\r\nYou can specify a custom format to be used in generating text. But I would generally recommend you let Java automatically localize while generating text.  \r\n\r\nTo generate localized text, specify [a locale][4].\r\n\r\n```java\r\nLocale locale = Locale.forLanguageTag ( &quot;en-CA&quot; );\r\nDateTimeFormatter formatter =\r\n        DateTimeFormatter\r\n                .ofLocalizedDateTime ( FormatStyle.LONG )\r\n                .withLocale ( locale );\r\nString output = zdt.format ( formatter );\r\n```\r\n\r\nOr build a custom formatter. Again, specify a `Locale` unless you want to implicitly rely upon the JVM’s current default time zone at runtime.\r\n\r\n```java\r\nLocale locale = Locale.US;\r\nDateTimeFormatter formatter =\r\n        DateTimeFormatter\r\n                .ofPattern ( &quot;dd/MMM/uuuu HH:mm a z&quot; )\r\n                .withLocale ( locale );\r\nString output = zdt.format ( formatter );\r\n```\r\n\r\n&gt;22/Nov/2020 09:02 AM EST\r\n\r\n\r\n  [1]: https://ideone.com/EvnDr6\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [3]: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\r\n  [4]: https://www.oracle.com/java/technologies/javase/jdk21-suported-locales.html","title":"Convert ISO date formatted string with appropriate timezone","body":"<h1>tl;dr</h1>\n<pre class=\"lang-java prettyprint-override\"><code>OffsetDateTime\n.parse( &quot;2020-11-22T10:02:13.501-04:00&quot; )\n.atZoneSameInstant( \n    ZoneId.of( &quot;America/New_York&quot; ) \n)\n.format( \n    DateTimeFormatter\n    .ofPattern ( &quot;dd/MMM/uuuu HH:mm a z&quot; )\n    .withLocale ( Locale.US )\n) \n</code></pre>\n<p>See this code <a href=\"https://ideone.com/EvnDr6\" rel=\"nofollow noreferrer\">run at Ideone</a>.</p>\n<blockquote>\n<p>22/Nov/2020 09:02 AM EST</p>\n</blockquote>\n<p>Note the change in hour-of-day, 9 versus 10. On that date, most time zones likely intended by &quot;EST&quot; were using an offset of -05:00 not -04:00. The -04:00 offset is used only in the summer in observance of Daylight Saving Time (DST). So the example shown in the Question is contradictory/incorrect.</p>\n<p>Use real time zone names, not “EST”.</p>\n<h1>Avoid legacy classes</h1>\n<p>You are using terribly flawed date-time classes. These were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<h1><em>java.time</em></h1>\n<h2><code>OffsetDateTime</code></h2>\n<p>Parse your input string as a <code>OffsetDateTime</code> because that text includes a date, a time-of-day, and an offset from UTC (a count of hours-minutes-seconds ahead/behind the temporal meridian).</p>\n<h2>ISO 8601</h2>\n<p>Your input is in standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format. So no need to specify a formatting pattern. The <em>java.time</em> classes use ISO 8601 formats by default when parsing/generating text.</p>\n<pre><code>OffsetDateTime odt = OffsetDateTime.parse( &quot;2020-11-22T10:02:13.501-04:00&quot; ) ;\n</code></pre>\n<h2><code>EST</code> is not a real time zone</h2>\n<p>You want to produce text in a localized format that includes a pseudo time zone such as <code>EST</code>. Be aware that such pseudo-zones are not official, are not standardized, and are not even unique(!).</p>\n<p>So you need to determine what real time zone you intend. <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">Real time zones</a> are named with a format of <code>Continent/Region</code> such as <code>Europe/Paris</code> or <code>Pacific/Auckland</code>.</p>\n<p>Given your example of -04:00 and &quot;EST&quot;, I assume you intend a time zone on the east side of the Americas. Many such time zones may be intended by &quot;EST&quot;. These range from the northern edges of Canada and Greenland, all the way down through the Caribbean to parts of South America. Examples include <code>America/Detroit</code>, <code>America/Grand_Turk</code>, <code>America/Indiana/Indianapolis</code>, <code>America/New_York</code>, <code>America/Port-au-Prince</code>.</p>\n<h2>Your offset incorrect on that date</h2>\n<p>If you did intend one of these EST-implied time zones, then your offset is wrong. On that date, November 22 of 2020, the time zones implied by EST were using an offset of &quot;-05:00&quot;.</p>\n<p>If your example data is wrong, is not what you truly intended, I suggest you edit your Question with corrections.</p>\n<h2>Example: <code>America/New_York</code></h2>\n<p>I will take a wild guess that you intended <code>America/New_York</code>. Apply that zone to our <code>OffsetDateTime</code> to get a <code>ZonedDateTime</code> object.</p>\n<pre><code>ZoneId zoneId = ZoneId.of( &quot;America/New_York&quot; ) ;\nZonedDateTime zdt = odt.atZoneSameInstant( zoneId ) ;\n</code></pre>\n<h3>Generate standard text</h3>\n<p>Now we can generate text. First, let's generate text in standard ISO 8601 format that has been wisely extended by appending the name of the time zone in square brackets.</p>\n<pre><code>String output = zdt.toString() ;\n</code></pre>\n<blockquote>\n<p>2020-11-22T09:02:13.501-05:00[America/New_York]</p>\n</blockquote>\n<p>Notice how the hour has changed from 10 to 9, and the offset from -04:00 to -05:00. This still represents the same moment, the same point on the timeline. But adjustments have been made to suit how that moment was indeed seen by people in the region covered by the time zone of <code>America/New_York</code>.</p>\n<h3>Generate localized text</h3>\n<p>You can specify a custom format to be used in generating text. But I would generally recommend you let Java automatically localize while generating text.</p>\n<p>To generate localized text, specify <a href=\"https://www.oracle.com/java/technologies/javase/jdk21-suported-locales.html\" rel=\"nofollow noreferrer\">a locale</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Locale locale = Locale.forLanguageTag ( &quot;en-CA&quot; );\nDateTimeFormatter formatter =\n        DateTimeFormatter\n                .ofLocalizedDateTime ( FormatStyle.LONG )\n                .withLocale ( locale );\nString output = zdt.format ( formatter );\n</code></pre>\n<p>Or build a custom formatter. Again, specify a <code>Locale</code> unless you want to implicitly rely upon the JVM’s current default time zone at runtime.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Locale locale = Locale.US;\nDateTimeFormatter formatter =\n        DateTimeFormatter\n                .ofPattern ( &quot;dd/MMM/uuuu HH:mm a z&quot; )\n                .withLocale ( locale );\nString output = zdt.format ( formatter );\n</code></pre>\n<blockquote>\n<p>22/Nov/2020 09:02 AM EST</p>\n</blockquote>\n"}],"owner":{"account_id":29557598,"reputation":1,"user_id":22652921,"display_name":"SC1"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696268200,"creation_date":1695921357,"question_id":77197039,"body_markdown":"I am trying to update date value which is in ISO format (with tz) 2020-11-22T10:02:13.501-04:00 to format like 11/Nov/2020 10:02 AM EST. \r\n\r\nI am using the below code but how do we get the timezone as (-04:00) is EST.\r\n\r\n    DateFormat df2 = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;);\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MMM/yyyy HH:mm aa zzz&quot;);\r\n    Date dateVal = df2.parse(dateStr);\r\n    String formatted = sdf.format(dateVal);`\r\n\r\nThis format dd/MMM/yyyy HH:mm aa zzz will default to server timezone but I want the timezone from the date. \r\n","title":"Convert ISO date formatted string with appropriate timezone","body":"<p>I am trying to update date value which is in ISO format (with tz) 2020-11-22T10:02:13.501-04:00 to format like 11/Nov/2020 10:02 AM EST.</p>\n<p>I am using the below code but how do we get the timezone as (-04:00) is EST.</p>\n<pre><code>DateFormat df2 = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSXXX&quot;);\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MMM/yyyy HH:mm aa zzz&quot;);\nDate dateVal = df2.parse(dateStr);\nString formatted = sdf.format(dateVal);`\n</code></pre>\n<p>This format dd/MMM/yyyy HH:mm aa zzz will default to server timezone but I want the timezone from the date.</p>\n"},{"tags":["java","soap","jaxb"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":4,"creation_date":1696261693,"post_id":77216793,"comment_id":136127360,"body_markdown":"what is `xsr`? where is the processing code ?","body":"what is <code>xsr</code>? where is the processing code ?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":1,"creation_date":1696262014,"post_id":77216793,"comment_id":136127423,"body_markdown":"Did you notice that your reference Postman shows JSON, and your expected answer is JSON? Where is the connection to parsing an XML string?","body":"Did you notice that your reference Postman shows JSON, and your expected answer is JSON? Where is the connection to parsing an XML string?"},{"owner":{"account_id":20234279,"reputation":3,"user_id":14839942,"display_name":"JustAnotherCoder"},"score":0,"creation_date":1696263122,"post_id":77216793,"comment_id":136127627,"body_markdown":"@jhamon this is xsr &quot;XMLStreamReader xsr = xif.createXMLStreamReader(xml)&quot; My bad, I didn&#39;t upload it, but it&#39;s just like this https://stackoverflow.com/a/19401316/14839942","body":"@jhamon this is xsr &quot;XMLStreamReader xsr = xif.createXMLStreamReader(xml)&quot; My bad, I didn&#39;t upload it, but it&#39;s just like this <a href=\"https://stackoverflow.com/a/19401316/14839942\">stackoverflow.com/a/19401316/14839942</a>"},{"owner":{"account_id":20234279,"reputation":3,"user_id":14839942,"display_name":"JustAnotherCoder"},"score":0,"creation_date":1696263287,"post_id":77216793,"comment_id":136127661,"body_markdown":"@Queeg That&#39;s in my parsing class, the while statement I mentioned is where I&#39;m trying to traverse through the xml string. My class is similar to this right here - https://stackoverflow.com/a/19401316/14839942","body":"@Queeg That&#39;s in my parsing class, the while statement I mentioned is where I&#39;m trying to traverse through the xml string. My class is similar to this right here - <a href=\"https://stackoverflow.com/a/19401316/14839942\">stackoverflow.com/a/19401316/14839942</a>"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1696263299,"post_id":77216793,"comment_id":136127664,"body_markdown":"And I suppose `xif` is an `XMLInputFactory`? Instead of making us guess, why don&#39;t you show your code?","body":"And I suppose <code>xif</code> is an <code>XMLInputFactory</code>? Instead of making us guess, why don&#39;t you show your code?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1696263429,"post_id":77216793,"comment_id":136127691,"body_markdown":"Your XML doesn&#39;t have any root element. It&#39;s a forest, not a tree. Is that intentional?","body":"Your XML doesn&#39;t have any root element. It&#39;s a forest, not a tree. Is that intentional?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1696263901,"post_id":77216793,"comment_id":136127768,"body_markdown":"`xsr.isStartElement() &amp;&amp; &quot;list&quot;.equals(xsr.getLocalName())` will be `true` as soon as it sees the first `&lt;list&gt;` tag, before it processes any data whatsoever, so that is completely wrong.","body":"<code>xsr.isStartElement() &amp;&amp; &quot;list&quot;.equals(xsr.getLocalName())</code> will be <code>true</code> as soon as it sees the first <code>&lt;list&gt;</code> tag, before it processes any data whatsoever, so that is completely wrong."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1696264491,"post_id":77216793,"comment_id":136127859,"body_markdown":"I changed the code to iterate as long as `xsr.hasNext()` and after Ben_1 it throws: `Exception javax.xml.stream.XMLStreamException: ParseError at [row,col]:[1,54]\nMessage: The markup in the document following the root element must be well-formed.` You need an outer XML tag, like: `&lt;lists&gt;&lt;list&gt;...Ben_1...&lt;/list&gt;&lt;list&gt;...John...&lt;/list&gt;&lt;/lists&gt;`","body":"I changed the code to iterate as long as <code>xsr.hasNext()</code> and after Ben_1 it throws: <code>Exception javax.xml.stream.XMLStreamException: ParseError at [row,col]:[1,54] Message: The markup in the document following the root element must be well-formed.</code> You need an outer XML tag, like: <code>&lt;lists&gt;&lt;list&gt;...Ben_1...&lt;&#47;list&gt;&lt;list&gt;...John...&lt;&#47;list&gt;&lt;&#47;list&zwnj;&#8203;s&gt;</code>"},{"owner":{"account_id":20234279,"reputation":3,"user_id":14839942,"display_name":"JustAnotherCoder"},"score":0,"creation_date":1696264975,"post_id":77216793,"comment_id":136127927,"body_markdown":"@DavidConrad my bad, I&#39;m new to all this so I apologize for not adding all of my code, in my while loop, instead of &#39;break;&#39; I added continue but I was not sure how to make it stop. So if I do add a outer XML tag, will this logic work? if not, please share the code you implemented. Thanks and again I&#39;m sorry for such a poor post.","body":"@DavidConrad my bad, I&#39;m new to all this so I apologize for not adding all of my code, in my while loop, instead of &#39;break;&#39; I added continue but I was not sure how to make it stop. So if I do add a outer XML tag, will this logic work? if not, please share the code you implemented. Thanks and again I&#39;m sorry for such a poor post."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1696266622,"post_id":77216793,"comment_id":136128179,"body_markdown":"I&#39;ve added an answer with the code I used. There is still a problem with your logic in that it breaks as soon as it sees a `&lt;list&gt;` start element.","body":"I&#39;ve added an answer with the code I used. There is still a problem with your logic in that it breaks as soon as it sees a <code>&lt;list&gt;</code> start element."},{"owner":{"account_id":20234279,"reputation":3,"user_id":14839942,"display_name":"JustAnotherCoder"},"score":0,"creation_date":1696275432,"post_id":77216793,"comment_id":136129756,"body_markdown":"@DavidConrad This is what I was looking for!! Thank you! it prints everything and then I&#39;m running into the issue you mentioned.\nWere you referring to this error? \njava.lang.IllegalStateException: reader must be on a START_ELEMENT event, not a 8 event. \nI changed my xml string to &lt;Env&gt;&lt;lists&gt;&lt;list&gt;&lt;name&gt;&lt;assign&gt;&lt;/assign&gt;&lt;/name&gt;&lt;/list&gt;&lt;/lists&gt;&lt;/Env&gt;\nIs there a specific way to stop parsing when at the end of the xml string?","body":"@DavidConrad This is what I was looking for!! Thank you! it prints everything and then I&#39;m running into the issue you mentioned. Were you referring to this error?  java.lang.IllegalStateException: reader must be on a START_ELEMENT event, not a 8 event.  I changed my xml string to &lt;Env&gt;&lt;lists&gt;&lt;list&gt;&lt;name&gt;&lt;assign&gt;&lt;/assign&gt;&lt;/name&gt;&lt;/list&gt;&lt;/lis&zwnj;&#8203;ts&gt;&lt;/Env&gt; Is there a specific way to stop parsing when at the end of the xml string?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1696276817,"post_id":77216793,"comment_id":136130033,"body_markdown":"In my answer I looped `while (xsr.hasNext()) ...` That should stop at the end.","body":"In my answer I looped <code>while (xsr.hasNext()) ...</code> That should stop at the end."}],"answers":[{"comments":[{"owner":{"account_id":20234279,"reputation":3,"user_id":14839942,"display_name":"JustAnotherCoder"},"score":0,"creation_date":1696351737,"post_id":77217303,"comment_id":136140583,"body_markdown":"This fixed my initial problem, now it displays everything in my xml, but when it needs to convert xml, it throws this error -  java.lang.IllegalStateException: reader must be on a START_ELEMENT event, not a 8 event... \nI&#39;ve tried messing with the code but no good, do you know what that error could mean?","body":"This fixed my initial problem, now it displays everything in my xml, but when it needs to convert xml, it throws this error -  java.lang.IllegalStateException: reader must be on a START_ELEMENT event, not a 8 event...  I&#39;ve tried messing with the code but no good, do you know what that error could mean?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1696354770,"post_id":77217303,"comment_id":136141120,"body_markdown":"@JustAnotherCoder I don&#39;t, and without seeing your code, there&#39;s no way to tell. I suggest you ask another question and include the code that produces the exception in it.","body":"@JustAnotherCoder I don&#39;t, and without seeing your code, there&#39;s no way to tell. I suggest you ask another question and include the code that produces the exception in it."},{"owner":{"account_id":20234279,"reputation":3,"user_id":14839942,"display_name":"JustAnotherCoder"},"score":0,"creation_date":1697691659,"post_id":77217303,"comment_id":136312230,"body_markdown":"Do we need a loop for going through the xml or the XMLStreamReader does that part? Also, is there a way to point to start element when it&#39;s gone through the whole xml? What I&#39;m confused on is that whether we need a loop or not when converting to Json","body":"Do we need a loop for going through the xml or the XMLStreamReader does that part? Also, is there a way to point to start element when it&#39;s gone through the whole xml? What I&#39;m confused on is that whether we need a loop or not when converting to Json"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1697742492,"post_id":77217303,"comment_id":136321549,"body_markdown":"We need a loop, but I think your other question was using JAXB, which will loop itself. You can&#39;t make it point back to the start element but you can just create a new XSR off of the same source.","body":"We need a loop, but I think your other question was using JAXB, which will loop itself. You can&#39;t make it point back to the start element but you can just create a new XSR off of the same source."}],"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696266556,"creation_date":1696266556,"answer_id":77217303,"question_id":77216793,"body_markdown":"In this XML there is no one top-level element. There are two `list` elements:\r\n\r\n    &lt;list&gt;\r\n        &lt;name&gt;Ben_1&lt;/name&gt;\r\n        &lt;assign&gt;trac&lt;/name&gt;\r\n    &lt;/list&gt;\r\n    &lt;list&gt;\r\n        &lt;name&gt;John&lt;/name&gt;\r\n        &lt;assign&gt;task&lt;/name&gt;\r\n    &lt;/list&gt;\r\n\r\nIn this XML, there is a single top-level element, `lists`:\r\n\r\n    &lt;lists&gt;\r\n        &lt;list&gt;\r\n            &lt;name&gt;Ben_1&lt;/name&gt;\r\n            &lt;assign&gt;trac&lt;/name&gt;\r\n        &lt;/list&gt;\r\n        &lt;list&gt;\r\n            &lt;name&gt;John&lt;/name&gt;\r\n            &lt;assign&gt;task&lt;/name&gt;\r\n        &lt;/list&gt;\r\n    &lt;/lists&gt;\r\n\r\nIf you were to diagram it in a [tree structure](https://en.wikipedia.org/wiki/Tree_(data_structure)) it would be a single tree, whereas for the previous example, there would be one tree for each `list`: a &quot;forest.&quot; The `XMLStreamReader` requires a tree, not a forest.\r\n\r\n    import java.io.StringReader;\r\n    import javax.xml.stream.XMLInputFactory;\r\n    import javax.xml.stream.XMLStreamReader;\r\n    import javax.xml.transform.stream.StreamSource;\r\n    \r\n    String xml = &quot;&lt;lists&gt;&lt;list&gt;&lt;name&gt;Ben_1&lt;/name&gt;&lt;assign&gt;trac&lt;/assign&gt;&lt;/list&gt;&quot; +\r\n        &quot;&lt;list&gt;&lt;name&gt;John&lt;/name&gt;&lt;assign&gt;task&lt;/assign&gt;&lt;/list&gt;&lt;/lists&gt;&quot;;\r\n    \r\n    var xif = XMLInputFactory.newInstance();\r\n    var xsr = xif.createXMLStreamReader(new StreamSource(new StringReader(xml)));\r\n    \r\n    while (xsr.hasNext()) {\r\n        if (xsr.hasText()) {\r\n            System.out.println(xsr.getText());\r\n        }\r\n        xsr.next();\r\n    }\r\n\r\nGiven the &quot;forest&quot; XML, this code will throw an `XMLStreamException` with the message &quot;The markup in the document following the root element must be well-formed.&quot; when it gets to the second `&lt;list&gt;` tag, but given the &quot;tree&quot; XML it will output:\r\n\r\n    Ben_1\r\n    trac\r\n    John\r\n    task\r\n\r\nI don&#39;t know how you intend to handle this data but this should get you past the point you are currently stuck at.","title":"While loop not looping through whole xml string when unmarshalling","body":"<p>In this XML there is no one top-level element. There are two <code>list</code> elements:</p>\n<pre><code>&lt;list&gt;\n    &lt;name&gt;Ben_1&lt;/name&gt;\n    &lt;assign&gt;trac&lt;/name&gt;\n&lt;/list&gt;\n&lt;list&gt;\n    &lt;name&gt;John&lt;/name&gt;\n    &lt;assign&gt;task&lt;/name&gt;\n&lt;/list&gt;\n</code></pre>\n<p>In this XML, there is a single top-level element, <code>lists</code>:</p>\n<pre><code>&lt;lists&gt;\n    &lt;list&gt;\n        &lt;name&gt;Ben_1&lt;/name&gt;\n        &lt;assign&gt;trac&lt;/name&gt;\n    &lt;/list&gt;\n    &lt;list&gt;\n        &lt;name&gt;John&lt;/name&gt;\n        &lt;assign&gt;task&lt;/name&gt;\n    &lt;/list&gt;\n&lt;/lists&gt;\n</code></pre>\n<p>If you were to diagram it in a <a href=\"https://en.wikipedia.org/wiki/Tree_(data_structure)\" rel=\"nofollow noreferrer\">tree structure</a> it would be a single tree, whereas for the previous example, there would be one tree for each <code>list</code>: a &quot;forest.&quot; The <code>XMLStreamReader</code> requires a tree, not a forest.</p>\n<pre><code>import java.io.StringReader;\nimport javax.xml.stream.XMLInputFactory;\nimport javax.xml.stream.XMLStreamReader;\nimport javax.xml.transform.stream.StreamSource;\n\nString xml = &quot;&lt;lists&gt;&lt;list&gt;&lt;name&gt;Ben_1&lt;/name&gt;&lt;assign&gt;trac&lt;/assign&gt;&lt;/list&gt;&quot; +\n    &quot;&lt;list&gt;&lt;name&gt;John&lt;/name&gt;&lt;assign&gt;task&lt;/assign&gt;&lt;/list&gt;&lt;/lists&gt;&quot;;\n\nvar xif = XMLInputFactory.newInstance();\nvar xsr = xif.createXMLStreamReader(new StreamSource(new StringReader(xml)));\n\nwhile (xsr.hasNext()) {\n    if (xsr.hasText()) {\n        System.out.println(xsr.getText());\n    }\n    xsr.next();\n}\n</code></pre>\n<p>Given the &quot;forest&quot; XML, this code will throw an <code>XMLStreamException</code> with the message &quot;The markup in the document following the root element must be well-formed.&quot; when it gets to the second <code>&lt;list&gt;</code> tag, but given the &quot;tree&quot; XML it will output:</p>\n<pre><code>Ben_1\ntrac\nJohn\ntask\n</code></pre>\n<p>I don't know how you intend to handle this data but this should get you past the point you are currently stuck at.</p>\n"}],"owner":{"account_id":20234279,"reputation":3,"user_id":14839942,"display_name":"JustAnotherCoder"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77217303,"answer_count":1,"score":0,"last_activity_date":1696266556,"creation_date":1696261001,"question_id":77216793,"body_markdown":"I&#39;ve a xml string that I unmarshall but it only returns the first part. I believe my while loop isn&#39;t correct.\r\n\r\n```\r\nwhile(xsr.hasNext()){   \r\n     if(xsr.isStartElement() &amp;&amp; &quot;list&quot;.equals(xsr.getLocalName())) {           \r\n          break;        \r\n     }       \r\n     xsr.next(); \r\n}\r\n```\r\n\r\nMy Xml string is similar to this -\r\n\r\n```\r\n&lt;list&gt;&lt;name&gt;Ben_1&lt;/name&gt;&lt;assign&gt;trac&lt;/assign&gt;&lt;/list&gt;&lt;list&gt;&lt;name&gt;John&lt;/name&gt;&lt;assign&gt;task&lt;/assign&gt;&lt;/list&gt;\r\n```\r\n\r\nWhen I do a get request from postman, it only returns\r\n\r\n```\r\n{\r\n  &quot;list&quot;: {\r\n    &quot;name&quot;: &quot;Ben_1&quot;,\r\n    &quot;assign&quot;: &quot;trac&quot;\r\n  }\r\n}\r\n```\r\n\r\nI tried methods from these(and other) posts - [JAXB unmarshall with namespaces and prefix](https://stackoverflow.com/questions/19395400/jaxb-unmarshall-with-namespaces-and-prefix)\r\n\r\nMy expected answer should be\r\n\r\n```\r\n{\r\n  &quot;list&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;Ben_1&quot;,\r\n      &quot;assign&quot;: &quot;trac&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;John&quot;,\r\n      &quot;assign&quot;: &quot;task&quot;\r\n    }\r\n  ]\r\n}\r\n```","title":"While loop not looping through whole xml string when unmarshalling","body":"<p>I've a xml string that I unmarshall but it only returns the first part. I believe my while loop isn't correct.</p>\n<pre><code>while(xsr.hasNext()){   \n     if(xsr.isStartElement() &amp;&amp; &quot;list&quot;.equals(xsr.getLocalName())) {           \n          break;        \n     }       \n     xsr.next(); \n}\n</code></pre>\n<p>My Xml string is similar to this -</p>\n<pre><code>&lt;list&gt;&lt;name&gt;Ben_1&lt;/name&gt;&lt;assign&gt;trac&lt;/assign&gt;&lt;/list&gt;&lt;list&gt;&lt;name&gt;John&lt;/name&gt;&lt;assign&gt;task&lt;/assign&gt;&lt;/list&gt;\n</code></pre>\n<p>When I do a get request from postman, it only returns</p>\n<pre><code>{\n  &quot;list&quot;: {\n    &quot;name&quot;: &quot;Ben_1&quot;,\n    &quot;assign&quot;: &quot;trac&quot;\n  }\n}\n</code></pre>\n<p>I tried methods from these(and other) posts - <a href=\"https://stackoverflow.com/questions/19395400/jaxb-unmarshall-with-namespaces-and-prefix\">JAXB unmarshall with namespaces and prefix</a></p>\n<p>My expected answer should be</p>\n<pre><code>{\n  &quot;list&quot;: [\n    {\n      &quot;name&quot;: &quot;Ben_1&quot;,\n      &quot;assign&quot;: &quot;trac&quot;\n    },\n    {\n      &quot;name&quot;: &quot;John&quot;,\n      &quot;assign&quot;: &quot;task&quot;\n    }\n  ]\n}\n</code></pre>\n"},{"tags":["java","pdf","digital-signature","bouncycastle","pades"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1696277570,"post_id":77217250,"comment_id":136130140,"body_markdown":"*&quot;Where should we include revocation information?&quot;* - You don&#39;t include them in the signature container. Instead you build specific pdf objects to hold them. Simply take a look at the specifications in question.","body":"<i>&quot;Where should we include revocation information?&quot;</i> - You don&#39;t include them in the signature container. Instead you build specific pdf objects to hold them. Simply take a look at the specifications in question."},{"owner":{"account_id":11079078,"reputation":1,"user_id":8134800,"display_name":"Rajath R Joshi"},"score":0,"creation_date":1696308167,"post_id":77217250,"comment_id":136132900,"body_markdown":"For CAdES-LT we include revocation information in signed attributes.\nThis will make signature LTV enabled in PDF when embedded.\n\nCode: \n\nASN1EncodableVector revocationInfo = new ASN1EncodableVector();\n            revocationInfo.add(new DERTaggedObject(true, 1, new DERSequence(data.getOcsps())));\n            signedAttributes.add(new Attribute(new ASN1ObjectIdentifier(SIGNER_ATTR_ADOBE_REVOCATION_INFO_IDENTIFIER),\n                    new DERSet(new DERSequence(revocationInfo))));","body":"For CAdES-LT we include revocation information in signed attributes. This will make signature LTV enabled in PDF when embedded.  Code:   ASN1EncodableVector revocationInfo = new ASN1EncodableVector();             revocationInfo.add(new DERTaggedObject(true, 1, new DERSequence(data.getOcsps())));             signedAttributes.add(new Attribute(new ASN1ObjectIdentifier(SIGNER_ATTR_ADOBE_REVOCATION_INFO_IDENT&zwnj;&#8203;IFIER),                     new DERSet(new DERSequence(revocationInfo))));"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1696319638,"post_id":77217250,"comment_id":136134299,"body_markdown":"&quot;LTV enabled&quot; is different from &quot;PAdES-LT&quot;. The former (non-standard, Adobe proprietary) profile accepts revocation information in many places. &quot;PAdES-LT&quot; requires them in DSS sections in the PDF.","body":"&quot;LTV enabled&quot; is different from &quot;PAdES-LT&quot;. The former (non-standard, Adobe proprietary) profile accepts revocation information in many places. &quot;PAdES-LT&quot; requires them in DSS sections in the PDF."},{"owner":{"account_id":11079078,"reputation":1,"user_id":8134800,"display_name":"Rajath R Joshi"},"score":0,"creation_date":1696328769,"post_id":77217250,"comment_id":136135850,"body_markdown":"okay noted. \nSo where to include revocation information if I have to make it LTV enabled?\nSince PAdES does not have signed attributes in my case(signerBuilder.setDirectSignature(true)) where shall we include revocation data?","body":"okay noted.  So where to include revocation information if I have to make it LTV enabled? Since PAdES does not have signed attributes in my case(signerBuilder.setDirectSignature(true)) where shall we include revocation data?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1696394769,"post_id":77217250,"comment_id":136145445,"body_markdown":"Which do you want? You mention both &quot;LTV enabled&quot; and &quot;PAdES&quot; while - as said before - they are completely different.","body":"Which do you want? You mention both &quot;LTV enabled&quot; and &quot;PAdES&quot; while - as said before - they are completely different."},{"owner":{"account_id":11079078,"reputation":1,"user_id":8134800,"display_name":"Rajath R Joshi"},"score":0,"creation_date":1696395554,"post_id":77217250,"comment_id":136145505,"body_markdown":"how to make signature in PDF &quot;LTV enabled&quot;?","body":"how to make signature in PDF &quot;LTV enabled&quot;?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1696405089,"post_id":77217250,"comment_id":136146870,"body_markdown":"If you need to add the revocation information in the signature container, use the Adobe `RevocationInfoArchival` signed attribute as specified in the PDF specification. But according to your first comment here you already know that attribute (even though you mention it for CAdES-LT which is wrong of course).","body":"If you need to add the revocation information in the signature container, use the Adobe <code>RevocationInfoArchival</code> signed attribute as specified in the PDF specification. But according to your first comment here you already know that attribute (even though you mention it for CAdES-LT which is wrong of course)."},{"owner":{"account_id":11079078,"reputation":1,"user_id":8134800,"display_name":"Rajath R Joshi"},"score":0,"creation_date":1696414379,"post_id":77217250,"comment_id":136148861,"body_markdown":"I am setting signerBuilder.setDirectSignature(true);. Signed attributes will not be included. \nIn this case where shall we include revocation information to make the signature LTV enabled?","body":"I am setting signerBuilder.setDirectSignature(true);. Signed attributes will not be included.  In this case where shall we include revocation information to make the signature LTV enabled?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1696416466,"post_id":77217250,"comment_id":136149271,"body_markdown":"There are two interoperable options where to put revocation information in a signed PDF, either the `RevocationInfoArchival` signed attribute or the DSS section. I&#39;ve not tested whether Adobe Acrobat supports other locations for revocation information. Even if it does, though, that might be just transiently.","body":"There are two interoperable options where to put revocation information in a signed PDF, either the <code>RevocationInfoArchival</code> signed attribute or the DSS section. I&#39;ve not tested whether Adobe Acrobat supports other locations for revocation information. Even if it does, though, that might be just transiently."},{"owner":{"account_id":11079078,"reputation":1,"user_id":8134800,"display_name":"Rajath R Joshi"},"score":0,"creation_date":1697531270,"post_id":77217250,"comment_id":136288163,"body_markdown":"does adding &#39;PKCSObjectIdentifiers.id_aa_ets_revocationValues&#39; attribute in unsigned attributes make the signature LTV enabled?","body":"does adding &#39;PKCSObjectIdentifiers.id_aa_ets_revocationValues&#39; attribute in unsigned attributes make the signature LTV enabled?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1697545118,"post_id":77217250,"comment_id":136290910,"body_markdown":"Most likely not. That attribute is neither specified or referenced ifor use n the PDF specification nor in the PAdES specification. So if it was supported by Adobe Acrobat, that support would not be backed by any specification.","body":"Most likely not. That attribute is neither specified or referenced ifor use n the PDF specification nor in the PAdES specification. So if it was supported by Adobe Acrobat, that support would not be backed by any specification."}],"owner":{"account_id":11079078,"reputation":1,"user_id":8134800,"display_name":"Rajath R Joshi"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696266030,"creation_date":1696266030,"question_id":77217250,"body_markdown":"I have code which generates PAdES-B CMSSignedData.\r\n\r\nAfter this I am including timestamp in usigned attributes which is making CMSSignedData PAdES-T.\r\n\r\nHow can I make it PAdES-LT? Where should we include revocation information?\r\n\r\nThanks in advance.\r\n\r\nCode to generate PAdES-B CMSSignedData\r\n\r\n```\r\nprivate CMSSignedDataGenerator getCmsSignedDataGenerator(ElectronicSignatureModel signatureModel) {\r\n        CMSSignedDataGenerator signGenerator = new CMSSignedDataGenerator();\r\n        signGenerator.addCertificates(new JcaCertStore(signatureModel.getChain()));\r\n        ContentSigner nonSigner = new ContentSigner() {\r\n\r\n            @Override\r\n            public byte[] getSignature() {\r\n                return signatureModel.getSignature();\r\n            }\r\n\r\n            @Override\r\n            public OutputStream getOutputStream() {\r\n                return new ByteArrayOutputStream();\r\n            }\r\n\r\n            @Override\r\n            public AlgorithmIdentifier getAlgorithmIdentifier() {\r\n                return new DefaultSignatureAlgorithmIdentifierFinder()\r\n                        .find(signatureModel.getSigningAlgorithm().getAlgoName());\r\n            }\r\n        };\r\n\r\n        JcaSignerInfoGeneratorBuilder signerBuilder = new JcaSignerInfoGeneratorBuilder(\r\n                new JcaDigestCalculatorProviderBuilder().build());\r\n        signerBuilder.setDirectSignature(true);\r\n       \r\n        //user certificate\r\n        Certificate userCertHolder = Certificate.getInstance(ASN1Primitive.fromByteArray(\r\n                signatureModel.getChain().get(0).getEncoded()));\r\n        signGenerator.addSignerInfoGenerator(signerBuilder.build(nonSigner, new X509CertificateHolder(userCertHolder)));\r\n        return signGenerator;\r\n    }\r\nCMSSignedDataGenerator signGenerator = getCmsSignedDataGenerator(signatureModel, false);\r\nCMSSignedData cmsSignedData = signGenerator.generate(new CMSProcessableByteArray(signatureModel.getSignature()), false);\r\n```","title":"Generating PAdES-LT signature(CMSSignedData) using bouncy castle without DSS","body":"<p>I have code which generates PAdES-B CMSSignedData.</p>\n<p>After this I am including timestamp in usigned attributes which is making CMSSignedData PAdES-T.</p>\n<p>How can I make it PAdES-LT? Where should we include revocation information?</p>\n<p>Thanks in advance.</p>\n<p>Code to generate PAdES-B CMSSignedData</p>\n<pre><code>private CMSSignedDataGenerator getCmsSignedDataGenerator(ElectronicSignatureModel signatureModel) {\n        CMSSignedDataGenerator signGenerator = new CMSSignedDataGenerator();\n        signGenerator.addCertificates(new JcaCertStore(signatureModel.getChain()));\n        ContentSigner nonSigner = new ContentSigner() {\n\n            @Override\n            public byte[] getSignature() {\n                return signatureModel.getSignature();\n            }\n\n            @Override\n            public OutputStream getOutputStream() {\n                return new ByteArrayOutputStream();\n            }\n\n            @Override\n            public AlgorithmIdentifier getAlgorithmIdentifier() {\n                return new DefaultSignatureAlgorithmIdentifierFinder()\n                        .find(signatureModel.getSigningAlgorithm().getAlgoName());\n            }\n        };\n\n        JcaSignerInfoGeneratorBuilder signerBuilder = new JcaSignerInfoGeneratorBuilder(\n                new JcaDigestCalculatorProviderBuilder().build());\n        signerBuilder.setDirectSignature(true);\n       \n        //user certificate\n        Certificate userCertHolder = Certificate.getInstance(ASN1Primitive.fromByteArray(\n                signatureModel.getChain().get(0).getEncoded()));\n        signGenerator.addSignerInfoGenerator(signerBuilder.build(nonSigner, new X509CertificateHolder(userCertHolder)));\n        return signGenerator;\n    }\nCMSSignedDataGenerator signGenerator = getCmsSignedDataGenerator(signatureModel, false);\nCMSSignedData cmsSignedData = signGenerator.generate(new CMSProcessableByteArray(signatureModel.getSignature()), false);\n</code></pre>\n"},{"tags":["java","spring-data-jpa","flyway","application.properties"],"comments":[{"owner":{"account_id":8115161,"reputation":786,"user_id":6113915,"display_name":"Stian J&#248;rgensrud"},"score":0,"creation_date":1696069475,"post_id":77204911,"comment_id":136108883,"body_markdown":"Have you looked at official documentation and other StackOverflow posts? For example this one https://stackoverflow.com/questions/53173291/flyway-cannot-find-migrations-location-in","body":"Have you looked at official documentation and other StackOverflow posts? For example this one <a href=\"https://stackoverflow.com/questions/53173291/flyway-cannot-find-migrations-location-in\" title=\"flyway cannot find migrations location in\">stackoverflow.com/questions/53173291/&hellip;</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1696070262,"post_id":77204911,"comment_id":136108944,"body_markdown":"You should double-check if your migrations are in `db/migration` (so folder `migration` in folder `db`), not folder `db.migration`. The default rendering of resource folders in IntelliJ may obscure that. Also, double check your Spring Boot config that you didn&#39;t overwrite the `spring.flyway.locations` configuration property (it defaults to `classpath:db/migration`).","body":"You should double-check if your migrations are in <code>db&#47;migration</code> (so folder <code>migration</code> in folder <code>db</code>), not folder <code>db.migration</code>. The default rendering of resource folders in IntelliJ may obscure that. Also, double check your Spring Boot config that you didn&#39;t overwrite the <code>spring.flyway.locations</code> configuration property (it defaults to <code>classpath:db&#47;migration</code>)."},{"owner":{"account_id":26986668,"reputation":1,"user_id":20550220,"display_name":"Camila Alves"},"score":0,"creation_date":1696107722,"post_id":77204911,"comment_id":136112171,"body_markdown":"I&#39;ve changed the application.properties and included the configuration: &quot;spring.flyway.locations=classpath:db/migration&quot;. But I didn&#39;t change the folder &quot;db.migration&quot;. After that, I dropped my database, recreated it, and ran API. It&#39;s working now!","body":"I&#39;ve changed the application.properties and included the configuration: &quot;spring.flyway.locations=classpath:db/migration&quot;. But I didn&#39;t change the folder &quot;db.migration&quot;. After that, I dropped my database, recreated it, and ran API. It&#39;s working now!"}],"answers":[{"tags":[],"owner":{"account_id":26986668,"reputation":1,"user_id":20550220,"display_name":"Camila Alves"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696265914,"creation_date":1696265914,"answer_id":77217234,"question_id":77204911,"body_markdown":"I&#39;ve changed the application.properties and included the configuration: &quot;spring.flyway.locations=classpath:db/migration&quot;. But I didn&#39;t change the folder &quot;db.migration&quot;. After that, I dropped my database, recreated it, and ran API. It&#39;s working now!","title":"How to fix &quot;No migrations found. Are your locations set up correctly?&quot; Flyway migration at MySQL?","body":"<p>I've changed the application.properties and included the configuration: &quot;spring.flyway.locations=classpath:db/migration&quot;. But I didn't change the folder &quot;db.migration&quot;. After that, I dropped my database, recreated it, and ran API. It's working now!</p>\n"}],"owner":{"account_id":26986668,"reputation":1,"user_id":20550220,"display_name":"Camila Alves"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696265914,"creation_date":1696023622,"question_id":77204911,"body_markdown":"I&#39;m creating a project Java with Spring Boot 3, using:\r\n\r\n1) Flyway migration with a file: application.properties:\r\n\r\n```\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/vollmed_api\r\n    spring.datasource.username=admin\r\n    spring.datasource.password=12345\r\n```\r\n\r\n2) resources/db.migration/V1__create-table-doctor.sql\r\n\r\n```\r\n    create table doctors(\r\n    id bigint not null auto_increment,\r\n    name varchar(100) not null,\r\n    email varchar(100) not null unique,\r\n    crm varchar(6) not null unique,\r\n    specialty varchar(100) not null,\r\n    street varchar(100) not null,\r\n    neighborhood varchar(100) not null,\r\n    zipcode varchar(9) not null,\r\n    complement varchar(100),\r\n    number varchar(20),\r\n    state char(2) not null,\r\n    city varchar(100) not null,\r\n\r\n    primary key(id)\r\n\r\n );\r\n```\r\n\r\n3) When I run de api.application, the terminal ALWAYS shows me the message:\r\n[enter image description here](https://i.stack.imgur.com/lUNng.png)\r\n\r\n4) I tried to create too, another file to change the table &quot;resources/db.migration/V2__alter-table-doctor.sql&quot;, but the issue persists, showing the same message at the terminal.\r\n\r\nObservation:\r\n- I&#39;ve tried to change the application.properties from:\r\n```\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/vollmed_api\r\n    spring.datasource.username=admin\r\n    spring.datasource.password=12345\r\n```\r\n\r\nto:\r\n```\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/vollmed_api\r\n    spring.datasource.username=admin\r\n    spring.datasource.password=12345\r\n```\r\n\r\nbut the issue persists too.\r\n\r\n- I&#39;ve tried to open my Workbench, drop and create database manually and it&#39;s working normally!\r\n\r\nPlease, could you help me?\r\n\r\nAnother question, I realized that I didn&#39;t get to run MySQL on my IntelliJ terminal:\r\n[enter image description here](https://i.stack.imgur.com/83hR2.png) I just got &quot;so so&quot; when I installed an extension DB Browser.\r\n\r\nCreate and change tables at MySQL using FLYWAY Migration from Spring Boot 3 (IntelliJ).","title":"How to fix &quot;No migrations found. Are your locations set up correctly?&quot; Flyway migration at MySQL?","body":"<p>I'm creating a project Java with Spring Boot 3, using:</p>\n<ol>\n<li>Flyway migration with a file: application.properties:</li>\n</ol>\n<pre><code>    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n    spring.datasource.url=jdbc:mysql://localhost:3306/vollmed_api\n    spring.datasource.username=admin\n    spring.datasource.password=12345\n</code></pre>\n<ol start=\"2\">\n<li>resources/db.migration/V1__create-table-doctor.sql</li>\n</ol>\n<pre><code>    create table doctors(\n    id bigint not null auto_increment,\n    name varchar(100) not null,\n    email varchar(100) not null unique,\n    crm varchar(6) not null unique,\n    specialty varchar(100) not null,\n    street varchar(100) not null,\n    neighborhood varchar(100) not null,\n    zipcode varchar(9) not null,\n    complement varchar(100),\n    number varchar(20),\n    state char(2) not null,\n    city varchar(100) not null,\n\n    primary key(id)\n\n );\n</code></pre>\n<ol start=\"3\">\n<li><p>When I run de api.application, the terminal ALWAYS shows me the message:\n<a href=\"https://i.stack.imgur.com/lUNng.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n</li>\n<li><p>I tried to create too, another file to change the table &quot;resources/db.migration/V2__alter-table-doctor.sql&quot;, but the issue persists, showing the same message at the terminal.</p>\n</li>\n</ol>\n<p>Observation:</p>\n<ul>\n<li>I've tried to change the application.properties from:</li>\n</ul>\n<pre><code>    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n    spring.datasource.url=jdbc:mysql://localhost:3306/vollmed_api\n    spring.datasource.username=admin\n    spring.datasource.password=12345\n</code></pre>\n<p>to:</p>\n<pre><code>    spring.datasource.url=jdbc:mysql://localhost:3306/vollmed_api\n    spring.datasource.username=admin\n    spring.datasource.password=12345\n</code></pre>\n<p>but the issue persists too.</p>\n<ul>\n<li>I've tried to open my Workbench, drop and create database manually and it's working normally!</li>\n</ul>\n<p>Please, could you help me?</p>\n<p>Another question, I realized that I didn't get to run MySQL on my IntelliJ terminal:\n<a href=\"https://i.stack.imgur.com/83hR2.png\" rel=\"nofollow noreferrer\">enter image description here</a> I just got &quot;so so&quot; when I installed an extension DB Browser.</p>\n<p>Create and change tables at MySQL using FLYWAY Migration from Spring Boot 3 (IntelliJ).</p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1692800231,"post_id":76961660,"comment_id":135673790,"body_markdown":"Jackson version?","body":"Jackson version?"},{"owner":{"account_id":13352626,"reputation":335,"user_id":9637371,"display_name":"Bestows In Constructing"},"score":1,"creation_date":1692800281,"post_id":76961660,"comment_id":135673810,"body_markdown":"@DiegoBorba 2.9.5","body":"@DiegoBorba 2.9.5"}],"answers":[{"comments":[{"owner":{"account_id":13352626,"reputation":335,"user_id":9637371,"display_name":"Bestows In Constructing"},"score":0,"creation_date":1692797166,"post_id":76961698,"comment_id":135672993,"body_markdown":"Thanks, i mean something else in post, update it","body":"Thanks, i mean something else in post, update it"},{"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"score":0,"creation_date":1692799356,"post_id":76961698,"comment_id":135673580,"body_markdown":"@BestowsInConstructing okay, I got your problem, i have updated my code accordingly.","body":"@BestowsInConstructing okay, I got your problem, i have updated my code accordingly."},{"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"score":0,"creation_date":1692800381,"post_id":76961698,"comment_id":135673842,"body_markdown":"@BestowsInConstructing you can try with this approach, No need to add any custom deserialiser here.","body":"@BestowsInConstructing you can try with this approach, No need to add any custom deserialiser here."},{"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"score":0,"creation_date":1692906624,"post_id":76961698,"comment_id":135691847,"body_markdown":"@BestowsInConstructing Have you tried it this way?","body":"@BestowsInConstructing Have you tried it this way?"},{"owner":{"account_id":13352626,"reputation":335,"user_id":9637371,"display_name":"Bestows In Constructing"},"score":0,"creation_date":1696260184,"post_id":76961698,"comment_id":136127066,"body_markdown":"No, writeValueAsString - not what anyone must need here! Cause if you already have quotes in string, it will surround value with additional quotes, for example, if we have `&quot;hello world&quot;` than writeValueAsString will return `&quot;\\&quot;hello world\\&quot;&quot;`. You must check if value already has quotes and than add them","body":"No, writeValueAsString - not what anyone must need here! Cause if you already have quotes in string, it will surround value with additional quotes, for example, if we have <code>&quot;hello world&quot;</code> than writeValueAsString will return <code>&quot;\\&quot;hello world\\&quot;&quot;</code>. You must check if value already has quotes and than add them"}],"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692799801,"creation_date":1692796345,"answer_id":76961698,"question_id":76961660,"body_markdown":"Here, you need to convert your given string using `writeValueAsString` method and pass that string into the `readValue` method as shown below:\r\n\r\n**Code:**\r\n\r\n     public class Abc {\r\n        public static void main(String[] args) throws IOException {\r\n            ObjectMapper mapper2 = new ObjectMapper();\r\n            String json = mapper2.writeValueAsString(&quot;5 ttt&quot;);\r\n            TestClass testClass = mapper2.readValue(json, TestClass.class);\r\n            System.out.println(testClass.field);\r\n        }\r\n    \r\n        public static class TestClass {\r\n\r\n            public String field;\r\n    \r\n            public TestClass(){}\r\n    \r\n            public TestClass(String field) {\r\n                this.field = field;\r\n            }\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    5 ttt\r\n\r\n***Note:*** Incase we are using parameterised constructor, we need to add a default constructor explicitly.","title":"Jackson automatically expect string started by numbers as integer","body":"<p>Here, you need to convert your given string using <code>writeValueAsString</code> method and pass that string into the <code>readValue</code> method as shown below:</p>\n<p><strong>Code:</strong></p>\n<pre><code> public class Abc {\n    public static void main(String[] args) throws IOException {\n        ObjectMapper mapper2 = new ObjectMapper();\n        String json = mapper2.writeValueAsString(&quot;5 ttt&quot;);\n        TestClass testClass = mapper2.readValue(json, TestClass.class);\n        System.out.println(testClass.field);\n    }\n\n    public static class TestClass {\n\n        public String field;\n\n        public TestClass(){}\n\n        public TestClass(String field) {\n            this.field = field;\n        }\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>5 ttt\n</code></pre>\n<p><em><strong>Note:</strong></em> Incase we are using parameterised constructor, we need to add a default constructor explicitly.</p>\n"},{"comments":[{"owner":{"account_id":6441151,"reputation":413,"user_id":4991139,"display_name":"Gunnar"},"score":1,"creation_date":1692796792,"post_id":76961711,"comment_id":135672892,"body_markdown":"Just the public field would be enough but an ugly bean :-)","body":"Just the public field would be enough but an ugly bean :-)"},{"owner":{"account_id":13352626,"reputation":335,"user_id":9637371,"display_name":"Bestows In Constructing"},"score":0,"creation_date":1692797174,"post_id":76961711,"comment_id":135672999,"body_markdown":"Thanks, i mean something else in post, update it","body":"Thanks, i mean something else in post, update it"},{"owner":{"account_id":13352626,"reputation":335,"user_id":9637371,"display_name":"Bestows In Constructing"},"score":0,"creation_date":1692800022,"post_id":76961711,"comment_id":135673739,"body_markdown":"Thanks, i update my question with your suggestion but it does not work...","body":"Thanks, i update my question with your suggestion but it does not work..."}],"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696265362,"creation_date":1692796414,"answer_id":76961711,"question_id":76961660,"body_markdown":"Try this way:\r\n\r\n```java\r\nTestClass testClass = mapper2.readValue(&quot;\\&quot;5 ttt\\&quot;&quot;, TestClass.class);\r\n```\r\n\r\nBy adding double quotes around the input string, like this: `&quot;5 ttt&quot;`, you **explicitly indicate to Jackson that the value should be treated as a string**.\r\n\r\n**NOTE**:\r\n\r\nIf you have any string value and you want it to wrap with quotes, than  you must use `writeValueAsString` ***carefully***.\r\n\r\n```java\r\npublic static void main(String[] args) throws JsonProcessingException {\r\n    String value = &quot;hello&quot;;\r\n\r\n    value = wrap(value);\r\n\r\n    assert &quot;\\&quot;hello\\&quot;&quot;.equals(value);\r\n\r\n    value = &quot;\\&quot;hello test 2 with quotes\\&quot;&quot;;\r\n\r\n    value = wrap(value);\r\n\r\n    assert &quot;\\&quot;hello test 2 with quotes\\&quot;&quot;.equals(value);\r\n}\r\n\r\nprivate static String wrap(final String value) throws JsonProcessingException {\r\n    if (!isQuotedString(value)) {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        return mapper.writeValueAsString(value);\r\n    }\r\n    return value;\r\n}\r\n\r\nprivate static boolean isQuotedString(Object value) {\r\n    if (value instanceof String) {\r\n        String stringValue = (String) value;\r\n        return stringValue.startsWith(&quot;\\&quot;&quot;) &amp;&amp; stringValue.endsWith(&quot;\\&quot;&quot;);\r\n    }\r\n    return false;\r\n}\r\n```\r\n\r\nIf you don&#39;t check if the string already have quotes, it **will result in additional quotes around old quotes**, and that wrong!","title":"Jackson automatically expect string started by numbers as integer","body":"<p>Try this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TestClass testClass = mapper2.readValue(&quot;\\&quot;5 ttt\\&quot;&quot;, TestClass.class);\n</code></pre>\n<p>By adding double quotes around the input string, like this: <code>&quot;5 ttt&quot;</code>, you <strong>explicitly indicate to Jackson that the value should be treated as a string</strong>.</p>\n<p><strong>NOTE</strong>:</p>\n<p>If you have any string value and you want it to wrap with quotes, than  you must use <code>writeValueAsString</code> <em><strong>carefully</strong></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws JsonProcessingException {\n    String value = &quot;hello&quot;;\n\n    value = wrap(value);\n\n    assert &quot;\\&quot;hello\\&quot;&quot;.equals(value);\n\n    value = &quot;\\&quot;hello test 2 with quotes\\&quot;&quot;;\n\n    value = wrap(value);\n\n    assert &quot;\\&quot;hello test 2 with quotes\\&quot;&quot;.equals(value);\n}\n\nprivate static String wrap(final String value) throws JsonProcessingException {\n    if (!isQuotedString(value)) {\n        ObjectMapper mapper = new ObjectMapper();\n        return mapper.writeValueAsString(value);\n    }\n    return value;\n}\n\nprivate static boolean isQuotedString(Object value) {\n    if (value instanceof String) {\n        String stringValue = (String) value;\n        return stringValue.startsWith(&quot;\\&quot;&quot;) &amp;&amp; stringValue.endsWith(&quot;\\&quot;&quot;);\n    }\n    return false;\n}\n</code></pre>\n<p>If you don't check if the string already have quotes, it <strong>will result in additional quotes around old quotes</strong>, and that wrong!</p>\n"}],"owner":{"account_id":13352626,"reputation":335,"user_id":9637371,"display_name":"Bestows In Constructing"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76961711,"answer_count":2,"score":0,"last_activity_date":1696265362,"creation_date":1692796020,"question_id":76961660,"body_markdown":"If you run such a test\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        ObjectMapper mapper2 = new ObjectMapper();\r\n\r\n        SimpleModule module = new SimpleModule();\r\n        module.addDeserializer(TestClass.class, new TestClassDeserializer());\r\n        mapper2.registerModule(module);\r\n\r\n        TestClass testClass = mapper2.readValue(&quot;5 ttt&quot;, TestClass.class);\r\n\r\n        System.out.println(testClass.field);\r\n    }\r\n\r\n    private static class TestClassDeserializer extends JsonDeserializer&lt;TestClass&gt; {\r\n        @Override\r\n        public TestClass deserialize(final JsonParser p, final DeserializationContext ctxt) throws IOException {\r\n            TestClass param = new TestClass();\r\n            param.field = p.getValueAsString();\r\n            return param;\r\n        }\r\n    }\r\n\r\n    public static class TestClass {\r\n        public String field;\r\n\r\n        public TestClass() {\r\n        }\r\n\r\n        public TestClass(final String field) {\r\n            this.field = field;\r\n        }\r\n    }\r\n\r\nYou will get &quot;5&quot; in result:\r\n\r\nI cant understand why jackson think that &quot;5 ttt&quot; is a integer, and is it possible to disable such behavior?\r\n\r\nP.S. (Thanks Diego Borba for idea, but unfortunately it also does not work)\r\n\r\nIf i add deserializer for field, like this \r\n\r\n    public static class TestClass {\r\n        @JsonDeserialize(using = TestClassDeserializerForInsideField.class)\r\n        public String field;\r\n\r\n        public TestClass() {\r\n        }\r\n\r\n        public TestClass(final String field) {\r\n            this.field = field;\r\n        }\r\n    }\r\n\r\nand add deserializer for field:\r\n\r\n    public class TestClassDeserializerForInsideField extends JsonDeserializer {\r\n        @Override\r\n        public Object deserialize(final JsonParser p, final DeserializationContext ctxt) throws IOException, JsonProcessingException {\r\n            final String valueAsString = p.getValueAsString();\r\n            return valueAsString;\r\n        }\r\n    }\r\n\r\nThis will not work. I need to make object `TestClass` from just a string &quot;5 ttt&quot;. So, if i remove module deserializer (`TestClassDeserializer`), than jackson can&#39;t understand how to parse input string (in which object) and throw an exception `MismatchedInputException: Cannot construct instance` but if i add the both deserializers (`TestClassDeserializer` and `TestClassDeserializerForInsideField`): jackson use only one - the first (`TestClassDeserializer`). And field deserializer is just skipped by jackson.\r\n\r\nP.S. \r\nhere is my query for google from browser history (for better search)\r\n`jackson convert any string to int`, `jackson trim string to int`, `JsonDeserializer trim symbols int text whitespace`","title":"Jackson automatically expect string started by numbers as integer","body":"<p>If you run such a test</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    ObjectMapper mapper2 = new ObjectMapper();\n\n    SimpleModule module = new SimpleModule();\n    module.addDeserializer(TestClass.class, new TestClassDeserializer());\n    mapper2.registerModule(module);\n\n    TestClass testClass = mapper2.readValue(&quot;5 ttt&quot;, TestClass.class);\n\n    System.out.println(testClass.field);\n}\n\nprivate static class TestClassDeserializer extends JsonDeserializer&lt;TestClass&gt; {\n    @Override\n    public TestClass deserialize(final JsonParser p, final DeserializationContext ctxt) throws IOException {\n        TestClass param = new TestClass();\n        param.field = p.getValueAsString();\n        return param;\n    }\n}\n\npublic static class TestClass {\n    public String field;\n\n    public TestClass() {\n    }\n\n    public TestClass(final String field) {\n        this.field = field;\n    }\n}\n</code></pre>\n<p>You will get &quot;5&quot; in result:</p>\n<p>I cant understand why jackson think that &quot;5 ttt&quot; is a integer, and is it possible to disable such behavior?</p>\n<p>P.S. (Thanks Diego Borba for idea, but unfortunately it also does not work)</p>\n<p>If i add deserializer for field, like this</p>\n<pre><code>public static class TestClass {\n    @JsonDeserialize(using = TestClassDeserializerForInsideField.class)\n    public String field;\n\n    public TestClass() {\n    }\n\n    public TestClass(final String field) {\n        this.field = field;\n    }\n}\n</code></pre>\n<p>and add deserializer for field:</p>\n<pre><code>public class TestClassDeserializerForInsideField extends JsonDeserializer {\n    @Override\n    public Object deserialize(final JsonParser p, final DeserializationContext ctxt) throws IOException, JsonProcessingException {\n        final String valueAsString = p.getValueAsString();\n        return valueAsString;\n    }\n}\n</code></pre>\n<p>This will not work. I need to make object <code>TestClass</code> from just a string &quot;5 ttt&quot;. So, if i remove module deserializer (<code>TestClassDeserializer</code>), than jackson can't understand how to parse input string (in which object) and throw an exception <code>MismatchedInputException: Cannot construct instance</code> but if i add the both deserializers (<code>TestClassDeserializer</code> and <code>TestClassDeserializerForInsideField</code>): jackson use only one - the first (<code>TestClassDeserializer</code>). And field deserializer is just skipped by jackson.</p>\n<p>P.S.\nhere is my query for google from browser history (for better search)\n<code>jackson convert any string to int</code>, <code>jackson trim string to int</code>, <code>JsonDeserializer trim symbols int text whitespace</code></p>\n"},{"tags":["java","macos","java-17"],"comments":[{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1696266289,"post_id":77216920,"comment_id":136128125,"body_markdown":"maybe its &quot;Full Disk Access&quot; issue: https://stackoverflow.com/questions/65469536/why-does-a-jar-file-have-no-permissions-to-read-from-disk-when-started-via-doubl","body":"maybe its &quot;Full Disk Access&quot; issue: <a href=\"https://stackoverflow.com/questions/65469536/why-does-a-jar-file-have-no-permissions-to-read-from-disk-when-started-via-doubl\" title=\"why does a jar file have no permissions to read from disk when started via doubl\">stackoverflow.com/questions/65469536/&hellip;</a>"}],"owner":{"account_id":15262051,"reputation":9096,"user_id":11011793,"display_name":"MoxxiManagarm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696264946,"creation_date":1696262181,"question_id":77216920,"body_markdown":"I have a java programm which used to work fine using Java 11. Lately we bumbed to Java 17 and Mac users have trouble to list their files of &quot;sensitive&quot; directories like the users Downloads or Documents directories. Other directories work fine. \r\n\r\n    FileSystem fs = FileSystems.getDefault();\r\n    File[] files = FileSystemView.getFileSystemView().getFiles(new File(folder), !showHidden);\r\n    try {\r\n      for (File file : files) {\r\n        // here files is an empty iterable even tho files do exist in those folders\r\n      }\r\n      // ...\r\n    } // no error in its catch\r\n\r\n\r\nWhat we tried:\r\nI am aware, that there are security settings for files and directories having switches for those directories, but I checked and all permissions are granted there.\r\n\r\nWhich further conditions have to be met in ordner to be able to list the file content?\r\n\r\n\r\n\r\nFurther Details:\r\n* The current app version was released around half a year after the previous version --&gt; maybe some security changes took place meanwhile?\r\n* The signing tool was changed from the deprecated altool to notarytool","title":"Get folder content of sensitive folders on mac","body":"<p>I have a java programm which used to work fine using Java 11. Lately we bumbed to Java 17 and Mac users have trouble to list their files of &quot;sensitive&quot; directories like the users Downloads or Documents directories. Other directories work fine.</p>\n<pre><code>FileSystem fs = FileSystems.getDefault();\nFile[] files = FileSystemView.getFileSystemView().getFiles(new File(folder), !showHidden);\ntry {\n  for (File file : files) {\n    // here files is an empty iterable even tho files do exist in those folders\n  }\n  // ...\n} // no error in its catch\n</code></pre>\n<p>What we tried:\nI am aware, that there are security settings for files and directories having switches for those directories, but I checked and all permissions are granted there.</p>\n<p>Which further conditions have to be met in ordner to be able to list the file content?</p>\n<p>Further Details:</p>\n<ul>\n<li>The current app version was released around half a year after the previous version --&gt; maybe some security changes took place meanwhile?</li>\n<li>The signing tool was changed from the deprecated altool to notarytool</li>\n</ul>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9985,"page":149,"page_size":100}
