{"items":[{"tags":["java","android","offline","fm-radio"],"owner":{"account_id":11580296,"reputation":19,"user_id":8582877,"display_name":"Sagar Adhikari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1682645374,"creation_date":1521598580,"question_id":49397073,"body_markdown":"I looked everywhere for Radio examples of android but could not find anywhere.\r\nSince it is added in API level 21 and not much of an use I think its rare in internet.\r\n\r\nI just want to play radio in my app offline.","title":"Example of MediaStore.Audio.Radio","body":"<p>I looked everywhere for Radio examples of android but could not find anywhere.\nSince it is added in API level 21 and not much of an use I think its rare in internet.</p>\n\n<p>I just want to play radio in my app offline.</p>\n"},{"tags":["java","android","android-glide"],"answers":[{"comments":[{"owner":{"account_id":28439512,"reputation":1,"user_id":21759083,"display_name":"Rahul Oak"},"score":0,"creation_date":1682646239,"post_id":76125501,"comment_id":134252274,"body_markdown":"Thanks, Youssef. As I looked more into this, I realized that the good people at Glide have, for whatever reason, hidden a few classes as well as methods within some classes (for instance, it appears that getDecoder() was public in earlier versions of the library, but is now private). I&#39;m loathe to change the library version back, because who knows what state that lib will be in; I guess I&#39;ll just have to find a different way to skin that cat. Thanks for your reply.","body":"Thanks, Youssef. As I looked more into this, I realized that the good people at Glide have, for whatever reason, hidden a few classes as well as methods within some classes (for instance, it appears that getDecoder() was public in earlier versions of the library, but is now private). I&#39;m loathe to change the library version back, because who knows what state that lib will be in; I guess I&#39;ll just have to find a different way to skin that cat. Thanks for your reply."}],"tags":[],"owner":{"account_id":7162415,"reputation":121,"user_id":5472740,"display_name":"Youssef Wagih"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682645048,"creation_date":1682642196,"answer_id":76125501,"question_id":76125065,"body_markdown":"It exists in old version Glide **v3.8.0** as newer version excludes JAR for this module that includes `AnimatedGifEncoder` class as per below code snippet in [Glide library][1]\r\n\r\n    static def getAndroidPathsForJar() {\r\n        [&#39;:library&#39;, &#39;:third_party:disklrucache&#39;, &#39;:third_party:gif_decoder&#39;]\r\n    }\r\n\r\n[https://github.com/bumptech/glide/blob/master/glide/build.gradle][2]\r\n\r\nSo use old version **v3.8.0** instead of this new version **v4.14.2** to be able to find the required class `AnimatedGifEncoder` and try your sample as below\r\n\r\n    implementation &#39;com.github.bumptech.glide:glide:3.8.0&#39;\r\n\r\n\r\n  [1]: https://github.com/bumptech/glide/\r\n  [2]: https://github.com/bumptech/glide/blob/master/glide/build.gradle","title":"Can&#39;t resolve AnimatedGifEncoder in my Android project","body":"<p>It exists in old version Glide <strong>v3.8.0</strong> as newer version excludes JAR for this module that includes <code>AnimatedGifEncoder</code> class as per below code snippet in <a href=\"https://github.com/bumptech/glide/\" rel=\"nofollow noreferrer\">Glide library</a></p>\n<pre><code>static def getAndroidPathsForJar() {\n    [':library', ':third_party:disklrucache', ':third_party:gif_decoder']\n}\n</code></pre>\n<p><a href=\"https://github.com/bumptech/glide/blob/master/glide/build.gradle\" rel=\"nofollow noreferrer\">https://github.com/bumptech/glide/blob/master/glide/build.gradle</a></p>\n<p>So use old version <strong>v3.8.0</strong> instead of this new version <strong>v4.14.2</strong> to be able to find the required class <code>AnimatedGifEncoder</code> and try your sample as below</p>\n<pre><code>implementation 'com.github.bumptech.glide:glide:3.8.0'\n</code></pre>\n"}],"owner":{"account_id":28439512,"reputation":1,"user_id":21759083,"display_name":"Rahul Oak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682645048,"creation_date":1682634417,"question_id":76125065,"body_markdown":"I&#39;ve been trying to develop an App for the past few months and have used the Glide module just fine without any problems. I&#39;m looking to create an aminated gif from an array of bitmaps and found a code sample that uses the [AnimatedGifEncoder](https://bumptech.github.io/glide/javadocs/380/com/bumptech/glide/gifencoder/AnimatedGifEncoder.html#AnimatedGifEncoder()) class that should be part of the glide libraries.\r\n\r\nSomehow, when I try and use the class, my IDE doesn&#39;t seem to be able to find it. I&#39;ve been using Glide to load images just fine, so I&#39;m just totally stumped as to why this one particular class can&#39;t be found. \r\n\r\nMy App level build.gradle:\r\n`implementation &#39;com.github.bumptech.glide:glide:4.14.2&#39;` \r\n\r\nI&#39;ve used the Glide.with() at several places in my code, and it works perfectly. It&#39;s just that every time I try and use AnimatedGifEncoder, it just can&#39;t seem to find it. \r\n\r\nWhat am I missing? ","title":"Can&#39;t resolve AnimatedGifEncoder in my Android project","body":"<p>I've been trying to develop an App for the past few months and have used the Glide module just fine without any problems. I'm looking to create an aminated gif from an array of bitmaps and found a code sample that uses the <a href=\"https://bumptech.github.io/glide/javadocs/380/com/bumptech/glide/gifencoder/AnimatedGifEncoder.html#AnimatedGifEncoder()\" rel=\"nofollow noreferrer\">AnimatedGifEncoder</a> class that should be part of the glide libraries.</p>\n<p>Somehow, when I try and use the class, my IDE doesn't seem to be able to find it. I've been using Glide to load images just fine, so I'm just totally stumped as to why this one particular class can't be found.</p>\n<p>My App level build.gradle:\n<code>implementation 'com.github.bumptech.glide:glide:4.14.2'</code></p>\n<p>I've used the Glide.with() at several places in my code, and it works perfectly. It's just that every time I try and use AnimatedGifEncoder, it just can't seem to find it.</p>\n<p>What am I missing?</p>\n"},{"tags":["java","linux","docker","yum"],"comments":[{"owner":{"account_id":1524788,"reputation":3825,"user_id":1423507,"display_name":"masseyb"},"score":0,"creation_date":1615056500,"post_id":66479002,"comment_id":117575999,"body_markdown":"The error is explicit, the package `java-11-openjdk-devel` is not available, the latest version of the `openjdk` package available through the `yum` repos is `java-1.8.0-openjdk-devel`.","body":"The error is explicit, the package <code>java-11-openjdk-devel</code> is not available, the latest version of the <code>openjdk</code> package available through the <code>yum</code> repos is <code>java-1.8.0-openjdk-devel</code>."},{"owner":{"account_id":15184250,"reputation":1,"user_id":10956740,"display_name":"Napoleon"},"score":0,"creation_date":1626205216,"post_id":66479002,"comment_id":120829887,"body_markdown":"Here is a link to installation for rhel and centos:\nhttps://stackoverflow.com/questions/53378483/installing-open-jdk-11-on-centos-using-yum-commands","body":"Here is a link to installation for rhel and centos: <a href=\"https://stackoverflow.com/questions/53378483/installing-open-jdk-11-on-centos-using-yum-commands\" title=\"installing open jdk 11 on centos using yum commands\">stackoverflow.com/questions/53378483/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":16933329,"reputation":423,"user_id":12247011,"display_name":"ILIASS B."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667070428,"creation_date":1667070428,"answer_id":74248074,"question_id":66479002,"body_markdown":"If you&#39;re using Amazon linux 2, Use this \r\n\r\n    sudo amazon-linux-extras install java-openjdk11","title":"Can&#39;t install openjdk-11 with yum in container","body":"<p>If you're using Amazon linux 2, Use this</p>\n<pre><code>sudo amazon-linux-extras install java-openjdk11\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1613384,"reputation":171,"user_id":1491732,"display_name":"miraboma"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1682643312,"creation_date":1682643312,"answer_id":76125561,"question_id":66479002,"body_markdown":"For &quot;Amazon Linux 2003&quot; AMI, you can use the following command:\r\n\r\n    sudo dnf install java-11-amazon-corretto -y\r\n\r\nFor &quot;Amazon Linux 2&quot; AMI, use\r\n\r\n    sudo amazon-linux-extras install java-openjdk11 -y\r\n","title":"Can&#39;t install openjdk-11 with yum in container","body":"<p>For &quot;Amazon Linux 2003&quot; AMI, you can use the following command:</p>\n<pre><code>sudo dnf install java-11-amazon-corretto -y\n</code></pre>\n<p>For &quot;Amazon Linux 2&quot; AMI, use</p>\n<pre><code>sudo amazon-linux-extras install java-openjdk11 -y\n</code></pre>\n"}],"owner":{"account_id":10300639,"reputation":143,"user_id":7599466,"display_name":"DonJuanEco"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11323,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1682643312,"creation_date":1614874821,"question_id":66479002,"body_markdown":"I am trying to install openjdk-11 inside a container (lambci/lambda:build-python3.6)\r\n\r\nMultiple sources claim you can install openjdk 11 by running:\r\n\r\n    yum update\r\n    \r\n    yum install java-11-openjdk-devel\r\n\r\nHowever all I get is:\r\n\r\n    No package java-11-openjdk-devel available.\r\n\r\nAnd yum search doesn&#39;t return anything for jdk 11. \r\n\r\nAny idea what I&#39;m doing wrong?\r\n\r\n","title":"Can&#39;t install openjdk-11 with yum in container","body":"<p>I am trying to install openjdk-11 inside a container (lambci/lambda:build-python3.6)</p>\n<p>Multiple sources claim you can install openjdk 11 by running:</p>\n<pre><code>yum update\n\nyum install java-11-openjdk-devel\n</code></pre>\n<p>However all I get is:</p>\n<pre><code>No package java-11-openjdk-devel available.\n</code></pre>\n<p>And yum search doesn't return anything for jdk 11.</p>\n<p>Any idea what I'm doing wrong?</p>\n"},{"tags":["java","jpa","generics","spring-data-jpa"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1682545099,"post_id":76115203,"comment_id":134235061,"body_markdown":"Why are you using wildcards?","body":"Why are you using wildcards?"},{"owner":{"account_id":2842013,"reputation":1289,"user_id":2441441,"accept_rate":65,"display_name":"user2441441"},"score":0,"creation_date":1682545229,"post_id":76115203,"comment_id":134235078,"body_markdown":"Good question. So at runtime depending on the request I received I want to save either a list of employees or departments or chairs. I have some common logic like getting data from third party with callbacks before I save this data.  So whatever MyClass  does is common to all these entities","body":"Good question. So at runtime depending on the request I received I want to save either a list of employees or departments or chairs. I have some common logic like getting data from third party with callbacks before I save this data.  So whatever MyClass  does is common to all these entities"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1682545418,"post_id":76115203,"comment_id":134235107,"body_markdown":"Then why is `MyClass` type-specific?","body":"Then why is <code>MyClass</code> type-specific?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1682545647,"post_id":76115203,"comment_id":134235144,"body_markdown":"If you have a separate instance of `MyClass` for each `T`, you should be using that instead of the wildcards.","body":"If you have a separate instance of <code>MyClass</code> for each <code>T</code>, you should be using that instead of the wildcards."},{"owner":{"account_id":2842013,"reputation":1289,"user_id":2441441,"accept_rate":65,"display_name":"user2441441"},"score":0,"creation_date":1682562398,"post_id":76115203,"comment_id":134236789,"body_markdown":"So if I have an instance of MyClass for each request, which can be of any type T, I should be using that for what? I only have one MyClass that gets called for each T.","body":"So if I have an instance of MyClass for each request, which can be of any type T, I should be using that for what? I only have one MyClass that gets called for each T."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1682563666,"post_id":76115203,"comment_id":134236885,"body_markdown":"Just change `? extends BaseEntity` to `T`.","body":"Just change <code>? extends BaseEntity</code> to <code>T</code>."},{"owner":{"account_id":2842013,"reputation":1289,"user_id":2441441,"accept_rate":65,"display_name":"user2441441"},"score":0,"creation_date":1682609063,"post_id":76115203,"comment_id":134246035,"body_markdown":"That did get rid of the error, but I have no idea why the error happened and how changing the &lt;? extends BaseEntity&gt; to T fixed it.  It seems like I don&#39;t really need BaseEntity here, but I&#39;m confused as to when it would have been needed","body":"That did get rid of the error, but I have no idea why the error happened and how changing the &lt;? extends BaseEntity&gt; to T fixed it.  It seems like I don&#39;t really need BaseEntity here, but I&#39;m confused as to when it would have been needed"}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682643092,"creation_date":1682642681,"answer_id":76125525,"question_id":76115203,"body_markdown":"`? extends BaseEntity` means &quot;some specific, unknown subtype of `BaseEntity`&quot;. You can&#39;t pass it to the repository because as far as the compiler is concerned, `repository` might be a `BaseRepository&lt;Employee, Integer&gt;`, while `concreteEntities` might be a `List&lt;Contractor&gt;`. The solution is to use your type parameter `T` instead:\r\n\r\n    public class MyClass&lt;T extends BaseEntity&gt; {\r\n    \r\n        BaseRepository&lt;T, Integer&gt; repository;\r\n        \r\n        public MyClass(BaseRepository&lt;T&gt; repository){\r\n            this.repository = repository;\r\n        }\r\n    \r\n        public void doSomething(List&lt;T&gt; concreteEntities){\r\n            //...does something\r\n            repository.saveAll(concreteEntities);\r\n        }\r\n    }\r\n\r\nThis ensures that no matter which subtype `T` represents, it&#39;s the same type across all uses for this instance.\r\n\r\nSee also:  \r\nhttps://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super  \r\nhttps://stackoverflow.com/questions/22860582/java-generics-wildcard-vs-type-parametere","title":"saveAll() gets error Inferred type &#39;S&#39; for type parameter &#39;S&#39; is not within its bound; should extend &#39;capture&lt;? extends BaseEntity&gt;&#39;","body":"<p><code>? extends BaseEntity</code> means &quot;some specific, unknown subtype of <code>BaseEntity</code>&quot;. You can't pass it to the repository because as far as the compiler is concerned, <code>repository</code> might be a <code>BaseRepository&lt;Employee, Integer&gt;</code>, while <code>concreteEntities</code> might be a <code>List&lt;Contractor&gt;</code>. The solution is to use your type parameter <code>T</code> instead:</p>\n<pre><code>public class MyClass&lt;T extends BaseEntity&gt; {\n\n    BaseRepository&lt;T, Integer&gt; repository;\n    \n    public MyClass(BaseRepository&lt;T&gt; repository){\n        this.repository = repository;\n    }\n\n    public void doSomething(List&lt;T&gt; concreteEntities){\n        //...does something\n        repository.saveAll(concreteEntities);\n    }\n}\n</code></pre>\n<p>This ensures that no matter which subtype <code>T</code> represents, it's the same type across all uses for this instance.</p>\n<p>See also:<br />\n<a href=\"https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super\">What is PECS (Producer Extends Consumer Super)?</a><br />\n<a href=\"https://stackoverflow.com/questions/22860582/java-generics-wildcard-vs-type-parametere\">Java generics: wildcard&lt;?&gt; vs type parameter&lt;E&gt;?</a></p>\n"}],"owner":{"account_id":2842013,"reputation":1289,"user_id":2441441,"accept_rate":65,"display_name":"user2441441"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76125525,"answer_count":1,"score":0,"last_activity_date":1682643092,"creation_date":1682544239,"question_id":76115203,"body_markdown":"Getting a compile time error saying, &quot;Inferred type &#39;S&#39; for type parameter &#39;S&#39; is not within its bound; should extend &#39;capture&lt;? extends BaseEntity&gt;&#39;&quot;\r\n\r\n\r\n    @NoRepositoryBean\r\n    public interface BaseRepository&lt;T, ID&gt; extends JpaRepository&lt;T, ID&gt;{\r\n    } \r\n    \r\n    @Repository\r\n    public interface EmployeeRepository&lt;Employee, Integer&gt; extends BaseRepository&lt;Employee, Integer&gt; {\r\n    \r\n    }\r\n    \r\n    \r\nBaseEntity as:\r\n    \r\n    @MappedSuperclass\r\n    public class BaseEntity {\r\n    ...\r\n    \r\n    }\r\n\r\nEmployee class as:\r\n\r\n     @Entity\r\n     ... \r\n     public class Employee extends BaseEntity {..}\r\n\r\n\r\nIn my class constructor I&#39;m setting BaseRepository&lt;? extends BaseEntity&gt; repository to a concrete implmentation:\r\n\r\n    public class MyClass&lt;T extends BaseEntity&gt; {\r\n    \r\n    BaseRepository&lt;? extends BaseEntity, Integer&gt; repository;\r\n\r\n    public MyClass(BaseRepository&lt;? extends BaseEntity&gt; repository){\r\n           this.repository = repository\r\n    }\r\n    \r\n     public void doSomething(List&lt;? extends BaseEntity&gt; concreteEntities){\r\n        //...does something\r\n       repository.saveAll(concreteEntities); //throws that compile time error\r\n\r\n     }\r\n    \r\n    }\r\n\r\nI&#39;m passing in EmployeeRepository&lt;Employee, Integer&gt; employeeRepository to the above constructor.\r\n\r\nI have looked online and everywhere but I cannot understand why I&#39;m getting this compile time error.\r\n\r\nMy goal is to save a list of Employee, Contractor, Department etc that all extend BaseEntity (but having a common super class is not a requirement), but saving any list type is needed and I though I could use one class to do it.\r\n\r\nI tried replacing T with &lt;? extends BaseEntity&gt; in my BaseRepository definition but no luck.\r\n\r\nAdditional info:\r\nI have a table for every entity T like Employee table, Department table etc.","title":"saveAll() gets error Inferred type &#39;S&#39; for type parameter &#39;S&#39; is not within its bound; should extend &#39;capture&lt;? extends BaseEntity&gt;&#39;","body":"<p>Getting a compile time error saying, &quot;Inferred type 'S' for type parameter 'S' is not within its bound; should extend 'capture&lt;? extends BaseEntity&gt;'&quot;</p>\n<pre><code>@NoRepositoryBean\npublic interface BaseRepository&lt;T, ID&gt; extends JpaRepository&lt;T, ID&gt;{\n} \n\n@Repository\npublic interface EmployeeRepository&lt;Employee, Integer&gt; extends BaseRepository&lt;Employee, Integer&gt; {\n\n}\n</code></pre>\n<p>BaseEntity as:</p>\n<pre><code>@MappedSuperclass\npublic class BaseEntity {\n...\n\n}\n</code></pre>\n<p>Employee class as:</p>\n<pre><code> @Entity\n ... \n public class Employee extends BaseEntity {..}\n</code></pre>\n<p>In my class constructor I'm setting BaseRepository&lt;? extends BaseEntity&gt; repository to a concrete implmentation:</p>\n<pre><code>public class MyClass&lt;T extends BaseEntity&gt; {\n\nBaseRepository&lt;? extends BaseEntity, Integer&gt; repository;\n\npublic MyClass(BaseRepository&lt;? extends BaseEntity&gt; repository){\n       this.repository = repository\n}\n\n public void doSomething(List&lt;? extends BaseEntity&gt; concreteEntities){\n    //...does something\n   repository.saveAll(concreteEntities); //throws that compile time error\n\n }\n\n}\n</code></pre>\n<p>I'm passing in EmployeeRepository&lt;Employee, Integer&gt; employeeRepository to the above constructor.</p>\n<p>I have looked online and everywhere but I cannot understand why I'm getting this compile time error.</p>\n<p>My goal is to save a list of Employee, Contractor, Department etc that all extend BaseEntity (but having a common super class is not a requirement), but saving any list type is needed and I though I could use one class to do it.</p>\n<p>I tried replacing T with &lt;? extends BaseEntity&gt; in my BaseRepository definition but no luck.</p>\n<p>Additional info:\nI have a table for every entity T like Employee table, Department table etc.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19005728,"reputation":620,"user_id":13879370,"display_name":"lier wu"},"score":0,"creation_date":1606938982,"post_id":65115200,"comment_id":115118414,"body_markdown":"What is ```O```(o), the question said the farthest number from ```O```(o), is it just 0(zero)?","body":"What is <code>O</code>(o), the question said the farthest number from <code>O</code>(o), is it just 0(zero)?"},{"owner":{"account_id":6250572,"reputation":736,"user_id":4860775,"display_name":"ASharma7"},"score":1,"creation_date":1606939051,"post_id":65115200,"comment_id":115118444,"body_markdown":"@lierwu yes I think so, since the heading of the question was &quot;farthest from zero&quot;","body":"@lierwu yes I think so, since the heading of the question was &quot;farthest from zero&quot;"},{"owner":{"account_id":19005728,"reputation":620,"user_id":13879370,"display_name":"lier wu"},"score":0,"creation_date":1606939171,"post_id":65115200,"comment_id":115118512,"body_markdown":"why is it ```t.last?```? Do you mean ```ts.last();```?","body":"why is it <code>t.last?</code>? Do you mean <code>ts.last();</code>?"},{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1606939206,"post_id":65115200,"comment_id":115118529,"body_markdown":"I am unfamiliar with this particular coding challenge -- do you know the input they attempted to pass your code? Or is there an indication of why it failed -- eg that you ran out of memory or something? That would&#39;ve been my bet, of course, since you could have just iterated through the array in order, tracking the farthest number found and then returned at the end, instead of trying to build out a tree ...","body":"I am unfamiliar with this particular coding challenge -- do you know the input they attempted to pass your code? Or is there an indication of why it failed -- eg that you ran out of memory or something? That would&#39;ve been my bet, of course, since you could have just iterated through the array in order, tracking the farthest number found and then returned at the end, instead of trying to build out a tree ..."},{"owner":{"account_id":6250572,"reputation":736,"user_id":4860775,"display_name":"ASharma7"},"score":0,"creation_date":1606939307,"post_id":65115200,"comment_id":115118569,"body_markdown":"yes its is ts.last(), updated it","body":"yes its is ts.last(), updated it"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1606939312,"post_id":65115200,"comment_id":115118571,"body_markdown":"@ASharma7 Your code does not work when negative numbers are involved (like `-4 5`)","body":"@ASharma7 Your code does not work when negative numbers are involved (like <code>-4 5</code>)"},{"owner":{"account_id":6250572,"reputation":736,"user_id":4860775,"display_name":"ASharma7"},"score":0,"creation_date":1606939533,"post_id":65115200,"comment_id":115118662,"body_markdown":"@RoddyoftheFrozenPeas the final input was in testcase, input was hidden , so dont know what went wrong. It might be the issue because of  memory","body":"@RoddyoftheFrozenPeas the final input was in testcase, input was hidden , so dont know what went wrong. It might be the issue because of  memory"}],"answers":[{"comments":[{"owner":{"account_id":14262450,"reputation":6108,"user_id":10302746,"display_name":"Lev M."},"score":1,"creation_date":1606939466,"post_id":65115337,"comment_id":115118639,"body_markdown":"@lierwu that&#39;s because you put in the effort to produce actual code! That&#39;s a good thing!","body":"@lierwu that&#39;s because you put in the effort to produce actual code! That&#39;s a good thing!"},{"owner":{"account_id":6250572,"reputation":736,"user_id":4860775,"display_name":"ASharma7"},"score":0,"creation_date":1606939647,"post_id":65115337,"comment_id":115118712,"body_markdown":"thanks to both of you for pointing out this thing, accepting lier wu since he gave code as well","body":"thanks to both of you for pointing out this thing, accepting lier wu since he gave code as well"},{"owner":{"account_id":6250572,"reputation":736,"user_id":4860775,"display_name":"ASharma7"},"score":0,"creation_date":1606940408,"post_id":65115337,"comment_id":115119012,"body_markdown":"@LevM. Plesae have a look at this one -- https://stackoverflow.com/q/65115526/4860775","body":"@LevM. Plesae have a look at this one -- <a href=\"https://stackoverflow.com/q/65115526/4860775\">stackoverflow.com/q/65115526/4860775</a>"}],"tags":[],"owner":{"account_id":14262450,"reputation":6108,"user_id":10302746,"display_name":"Lev M."},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1606939388,"creation_date":1606939325,"answer_id":65115337,"question_id":65115200,"body_markdown":"Your algorithm does not account for negative integers.\r\n\r\nConsider this array:\r\n\r\n`[-10, 7, 5, 1]`\r\n\r\nWhich number is furthest from zero?  \r\nWhich will your algorithm pick?\r\n\r\nAlso note, this requirement:\r\n\r\n&gt; If there are multiple elements, print the number with the least value.\r\n\r\nSo, from an array like this:\r\n\r\n`[-10, 1, 2 ,10]`\r\n\r\nYou need to pick -10, and not 10.","title":"HackerEarth Question solution failing for the input testcase","body":"<p>Your algorithm does not account for negative integers.</p>\n<p>Consider this array:</p>\n<p><code>[-10, 7, 5, 1]</code></p>\n<p>Which number is furthest from zero?<br />\nWhich will your algorithm pick?</p>\n<p>Also note, this requirement:</p>\n<blockquote>\n<p>If there are multiple elements, print the number with the least value.</p>\n</blockquote>\n<p>So, from an array like this:</p>\n<p><code>[-10, 1, 2 ,10]</code></p>\n<p>You need to pick -10, and not 10.</p>\n"},{"comments":[{"owner":{"account_id":14262450,"reputation":6108,"user_id":10302746,"display_name":"Lev M."},"score":0,"creation_date":1606939563,"post_id":65115341,"comment_id":115118675,"body_markdown":"Small hint: you can save 2 lines of code by using `&gt;=`","body":"Small hint: you can save 2 lines of code by using <code>&gt;=</code>"},{"owner":{"account_id":6250572,"reputation":736,"user_id":4860775,"display_name":"ASharma7"},"score":0,"creation_date":1606939898,"post_id":65115341,"comment_id":115118810,"body_markdown":"lierwu I have one more qn from Qn from the test, Please have a look, uploading direct screenshot in another Qn","body":"lierwu I have one more qn from Qn from the test, Please have a look, uploading direct screenshot in another Qn"},{"owner":{"account_id":6250572,"reputation":736,"user_id":4860775,"display_name":"ASharma7"},"score":0,"creation_date":1606940350,"post_id":65115341,"comment_id":115118992,"body_markdown":"@lierwu please have a look at this one as well : https://stackoverflow.com/q/65115526/4860775","body":"@lierwu please have a look at this one as well : <a href=\"https://stackoverflow.com/q/65115526/4860775\">stackoverflow.com/q/65115526/4860775</a>"}],"tags":[],"owner":{"account_id":19005728,"reputation":620,"user_id":13879370,"display_name":"lier wu"},"comment_count":3,"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1606939951,"creation_date":1606939331,"answer_id":65115341,"question_id":65115200,"body_markdown":"That is because the tree set is sorted by the values, the number can be begtive. So... I think it should be this:\r\n```\r\npublic static int farthestfromzero(int N, int [] Arr) {\r\n    TreeSet&lt;Integer&gt; ts = new TreeSet&lt;Integer&gt;();\r\n    for (int i=0; i&lt;N; i++){\r\n          ts.add(Arr[i]);\r\n    } \r\n  int maxV = ts.last();\r\n  int minV = ts.first();\r\n  \r\n  if(Math.abs(minV) &gt;= maxV){\r\n      return minV;\r\n  }\r\n  return maxV;\r\n\r\n}\r\n```\r\nAlso if it&#39;s memory exceed, then try this:\r\n```\r\n\tpublic static int farthestfromzero(int N, int [] Arr) {//You don&#39;t really need to store every elements\r\n\t    int best = 0;\r\n\t    \r\n\t    for(int i = 0;i&lt;N;i++) {\r\n\t    \tif(Math.abs(Arr[i]) &gt; Math.abs(best)) {\r\n\t    \t\tbest = Arr[i];\r\n\t    \t}else if(Math.abs(best) == Math.abs(Arr[i]) &amp;&amp; best &gt; Arr[i]) {\r\n\t    \t\tbest = Arr[i];\r\n\t    \t}\r\n\t    }\r\n\t    return best;\t\r\n\t}\r\n```","title":"HackerEarth Question solution failing for the input testcase","body":"<p>That is because the tree set is sorted by the values, the number can be begtive. So... I think it should be this:</p>\n<pre><code>public static int farthestfromzero(int N, int [] Arr) {\n    TreeSet&lt;Integer&gt; ts = new TreeSet&lt;Integer&gt;();\n    for (int i=0; i&lt;N; i++){\n          ts.add(Arr[i]);\n    } \n  int maxV = ts.last();\n  int minV = ts.first();\n  \n  if(Math.abs(minV) &gt;= maxV){\n      return minV;\n  }\n  return maxV;\n\n}\n</code></pre>\n<p>Also if it's memory exceed, then try this:</p>\n<pre><code>    public static int farthestfromzero(int N, int [] Arr) {//You don't really need to store every elements\n        int best = 0;\n        \n        for(int i = 0;i&lt;N;i++) {\n            if(Math.abs(Arr[i]) &gt; Math.abs(best)) {\n                best = Arr[i];\n            }else if(Math.abs(best) == Math.abs(Arr[i]) &amp;&amp; best &gt; Arr[i]) {\n                best = Arr[i];\n            }\n        }\n        return best;    \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18202960,"reputation":21,"user_id":13246786,"display_name":"jithesh944"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1617532739,"creation_date":1617532739,"answer_id":66940368,"question_id":65115200,"body_markdown":"Here is my answer. I just wrote the core logic. Please add the basic condition check. Also, I did it in Python3.\r\nCommented code the expansion of the below single line code.\r\n\r\n    A1 = sorted(A)\r\n    print(A1[0]) if (abs(A1[0])&gt; abs(A1[-1])) else print(A1[-1]) if (abs(A1[0]) &lt; abs(A1[-1])) else print(A1[0])\r\n    \r\n    # if (abs(A1[0])== abs(A1[-1])): \r\n    #     print(A1[0])\r\n    # else:\r\n    #     if(abs(A1[0]) &gt; abs(A1[-1])):\r\n    #         print(A1[0])\r\n    #     else:\r\n    #         print(A1[-1])\r\n    ","title":"HackerEarth Question solution failing for the input testcase","body":"<p>Here is my answer. I just wrote the core logic. Please add the basic condition check. Also, I did it in Python3.\nCommented code the expansion of the below single line code.</p>\n<pre><code>A1 = sorted(A)\nprint(A1[0]) if (abs(A1[0])&gt; abs(A1[-1])) else print(A1[-1]) if (abs(A1[0]) &lt; abs(A1[-1])) else print(A1[0])\n\n# if (abs(A1[0])== abs(A1[-1])): \n#     print(A1[0])\n# else:\n#     if(abs(A1[0]) &gt; abs(A1[-1])):\n#         print(A1[0])\n#     else:\n#         print(A1[-1])\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12190858,"reputation":1,"user_id":8898407,"display_name":"Ananda G B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629346532,"creation_date":1629294749,"answer_id":68833761,"question_id":65115200,"body_markdown":"Here we need to find the element which is far from 0 considering both +ve and -ve values in an array.\r\n\r\nMy idea is to just push the forthmost element to the last position of an array.\r\n\r\nSample Inputs and Outputs:\r\n\r\nInput: int[] arr = new int[] { -100, 90, -80, 500, -2, 50 };\r\n\r\nOutput: 500\r\n\r\nInput: int[] arr = new int[] { -100, 90, 80, 50, -200, 2 };\r\n\r\nOutput: -200\r\n\r\n    private static int getForthMostWithoutSorting(int[] a) {\r\n    \t\tfor (int i = 0; i &lt; a.length - 1; i++) {\r\n    \t\t\tint curEle = a[i];\r\n    \t\t\tif (curEle &lt; 0) {\r\n    \t\t\t\tcurEle = -a[i];\r\n    \t\t\t}\r\n    \t\t\tint nextEle = a[i + 1];\r\n    \t\t\tif (nextEle &lt; 0) {\r\n    \t\t\t\tnextEle = -a[i + 1];\r\n    \t\t\t}\r\n    \t\t\tif (curEle &gt; nextEle) {\r\n    \t\t\t\tint temporary = a[i];\r\n    \t\t\t\ta[i] = a[i + 1];\r\n    \t\t\t\ta[i + 1] = temporary;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn a[a.length - 1];\r\n    \t}","title":"HackerEarth Question solution failing for the input testcase","body":"<p>Here we need to find the element which is far from 0 considering both +ve and -ve values in an array.</p>\n<p>My idea is to just push the forthmost element to the last position of an array.</p>\n<p>Sample Inputs and Outputs:</p>\n<p>Input: int[] arr = new int[] { -100, 90, -80, 500, -2, 50 };</p>\n<p>Output: 500</p>\n<p>Input: int[] arr = new int[] { -100, 90, 80, 50, -200, 2 };</p>\n<p>Output: -200</p>\n<pre><code>private static int getForthMostWithoutSorting(int[] a) {\n        for (int i = 0; i &lt; a.length - 1; i++) {\n            int curEle = a[i];\n            if (curEle &lt; 0) {\n                curEle = -a[i];\n            }\n            int nextEle = a[i + 1];\n            if (nextEle &lt; 0) {\n                nextEle = -a[i + 1];\n            }\n            if (curEle &gt; nextEle) {\n                int temporary = a[i];\n                a[i] = a[i + 1];\n                a[i + 1] = temporary;\n            }\n        }\n        return a[a.length - 1];\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":414027,"reputation":730,"user_id":788014,"display_name":"Pierre-Luc Bertrand"},"score":0,"creation_date":1631287479,"post_id":69133333,"comment_id":122189592,"body_markdown":"There is a bug in here. Try with [-1, 1, 1, 10]. Also, there is another answer that solves it similarly to how you&#39;ve done it so my take would be that you should comment on the other one if you want to add more details. You&#39;ll need more reputation though to be able to comment.","body":"There is a bug in here. Try with [-1, 1, 1, 10]. Also, there is another answer that solves it similarly to how you&#39;ve done it so my take would be that you should comment on the other one if you want to add more details. You&#39;ll need more reputation though to be able to comment."},{"owner":{"account_id":414027,"reputation":730,"user_id":788014,"display_name":"Pierre-Luc Bertrand"},"score":0,"creation_date":1631287490,"post_id":69133333,"comment_id":122189596,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/29792155)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/29792155\">From Review</a>"}],"tags":[],"owner":{"account_id":22713667,"reputation":1,"user_id":16879280,"display_name":"Bala"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631282584,"creation_date":1631282262,"answer_id":69133333,"question_id":65115200,"body_markdown":"    public class FarthestFromZero {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tint[] input = { 1, 2, 3, 4, 10, 10 };\r\n    \t\tboolean flag = true;\r\n    \t\tTreeSet&lt;Integer&gt; toTreeSet = new TreeSet&lt;Integer&gt;();\r\n    \r\n    \t\tfor (Integer eachVal : input) {\r\n    \r\n    \t\t\tif (!toTreeSet.contains(eachVal)) {\r\n    \t\t\t\t\r\n    \t\t\t\ttoTreeSet.add(eachVal);\r\n    \t\t\t\t\r\n    \t\t\t} else {\r\n    \r\n    \t\t\t\tflag = false;\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \r\n    \t\tif (flag) {\r\n    \t\t\tSystem.out.println(&quot;No duplicate values in array: &quot; + toTreeSet.last());\r\n    \t\t} else {\r\n    \r\n    \t\t\tSystem.out.println(&quot;it has duplicate values in array: &quot; + toTreeSet.first());\r\n    \r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }","title":"HackerEarth Question solution failing for the input testcase","body":"<pre><code>public class FarthestFromZero {\n\n    public static void main(String[] args) {\n\n        int[] input = { 1, 2, 3, 4, 10, 10 };\n        boolean flag = true;\n        TreeSet&lt;Integer&gt; toTreeSet = new TreeSet&lt;Integer&gt;();\n\n        for (Integer eachVal : input) {\n\n            if (!toTreeSet.contains(eachVal)) {\n                \n                toTreeSet.add(eachVal);\n                \n            } else {\n\n                flag = false;\n            }\n\n        }\n\n        if (flag) {\n            System.out.println(&quot;No duplicate values in array: &quot; + toTreeSet.last());\n        } else {\n\n            System.out.println(&quot;it has duplicate values in array: &quot; + toTreeSet.first());\n\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24698798,"reputation":21,"user_id":18590377,"display_name":"vishwanath challal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661844855,"creation_date":1661844855,"answer_id":73538714,"question_id":65115200,"body_markdown":"I have written a function in JAVA that returns lesser maximum value element if there are any duplicates.\r\n\r\n    import java.util.Arrays;\r\n\r\n    public static int farthestFromZero(int[] arr) {\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            arr[i] = Math.abs(arr[i]);\r\n        }\r\n        Arrays.sort(arr);\r\n\r\n        int max = 0;\r\n        for (int i = 0; i &lt; arr.length-1; i++) {\r\n\r\n            if(arr[i] &gt; max &amp;&amp; arr[i] != arr[i+1]){\r\n                max = arr[i];\r\n            }\r\n        }\r\n        return max;\r\n    }\r\n","title":"HackerEarth Question solution failing for the input testcase","body":"<p>I have written a function in JAVA that returns lesser maximum value element if there are any duplicates.</p>\n<pre><code>import java.util.Arrays;\n\npublic static int farthestFromZero(int[] arr) {\n    for (int i = 0; i &lt; arr.length; i++) {\n        arr[i] = Math.abs(arr[i]);\n    }\n    Arrays.sort(arr);\n\n    int max = 0;\n    for (int i = 0; i &lt; arr.length-1; i++) {\n\n        if(arr[i] &gt; max &amp;&amp; arr[i] != arr[i+1]){\n            max = arr[i];\n        }\n    }\n    return max;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14702743,"reputation":127,"user_id":10618364,"display_name":"Yash Modi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664734656,"creation_date":1664524429,"answer_id":73905612,"question_id":65115200,"body_markdown":"The farthest element from 0 can be on the negative side or positive side of a number line.\r\n\r\nYou need to sort it using `Arrays.sort(arr)` This method internally uses the dual-pivot quicksort method which has the time complexity of `O(nlog(n))` and obviously constant space complexity. Then compare the absolute value of first and last element and return the larger one.\r\n\r\n    private static int findFarthest(int[] arr) {\r\n         int N = arr.length;\r\n         Arrays.sort(arr);\r\n         if (Math.abs(arr[0]) &gt; Math.abs(arr[N-1]))\r\n             return arr[0];\r\n         else\r\n             return arr[N-1];\r\n    }\r\n\r\n ","title":"HackerEarth Question solution failing for the input testcase","body":"<p>The farthest element from 0 can be on the negative side or positive side of a number line.</p>\n<p>You need to sort it using <code>Arrays.sort(arr)</code> This method internally uses the dual-pivot quicksort method which has the time complexity of <code>O(nlog(n))</code> and obviously constant space complexity. Then compare the absolute value of first and last element and return the larger one.</p>\n<pre><code>private static int findFarthest(int[] arr) {\n     int N = arr.length;\n     Arrays.sort(arr);\n     if (Math.abs(arr[0]) &gt; Math.abs(arr[N-1]))\n         return arr[0];\n     else\n         return arr[N-1];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3653998,"reputation":5437,"user_id":3045483,"accept_rate":86,"display_name":"rajeev pani.."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682642106,"creation_date":1682642106,"answer_id":76125497,"question_id":65115200,"body_markdown":"    public static void main(String[] args) {\r\n        int[] arr = {-7, -9, 5, 3, 1, 2, 9, 10, 15};\r\n        int farthest = 0;\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            if (Math.abs(arr[i]) &gt;= Math.abs(farthest)){\r\n               if(Math.abs(arr[i]) == Math.abs(farthest)){\r\n                   farthest = arr[i] &lt; farthest ? arr[i]  : farthest ;\r\n               }else {\r\n                   farthest = arr[i];\r\n               }\r\n            }\r\n        }\r\n        System.out.println(farthest);\r\n    }","title":"HackerEarth Question solution failing for the input testcase","body":"<pre><code>public static void main(String[] args) {\n    int[] arr = {-7, -9, 5, 3, 1, 2, 9, 10, 15};\n    int farthest = 0;\n    for (int i = 0; i &lt; arr.length; i++) {\n        if (Math.abs(arr[i]) &gt;= Math.abs(farthest)){\n           if(Math.abs(arr[i]) == Math.abs(farthest)){\n               farthest = arr[i] &lt; farthest ? arr[i]  : farthest ;\n           }else {\n               farthest = arr[i];\n           }\n        }\n    }\n    System.out.println(farthest);\n}\n</code></pre>\n"}],"owner":{"account_id":6250572,"reputation":736,"user_id":4860775,"display_name":"ASharma7"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39315,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":65115341,"answer_count":8,"score":5,"last_activity_date":1682642106,"creation_date":1606938800,"question_id":65115200,"body_markdown":"Below hackerearth qn has been asked in one of coding qns\r\n\r\n**Farthest from zero** \r\n\r\nYou are given an integer array A of size N.\r\n\r\n**Task**\r\nWrite a program to print the farthest element from 0.\r\nIf there are multiple elements, print the number with the least value.\r\n\r\n**Input format**  \r\n\r\n - The first line contains a single integer N denoting the size of the\r\n   array A. \r\n - The next line contains N integers denoting the elements of    the\r\n   array A.\r\n\r\n**Output format**\r\n \r\nPrint the farthest element from 0.\r\n\r\n**Sample input 1**                                    \r\n \r\n 5                \r\n\r\n 1 2 3 4 5\r\n\r\n**Sample Output1**\r\n\r\n 5\r\n\r\n\r\n**Solution prepared by me:**\r\n\r\n    public static farthestfromzero(int N, int [] Arr) {\r\n        TreeSet&lt;Integer&gt; ts = new TreeSet&lt;Integer&gt;();\r\n        for (int i=0; i&lt;N; i++){\r\n              ts.add(Arr[i]);\r\n        } \r\n      return ts.last();\r\n    }\r\n\r\n&gt; **Ask**: This solution worked for me for the initial scenario, but when I\r\n&gt; submitted it , it didn&#39;t worked.","title":"HackerEarth Question solution failing for the input testcase","body":"<p>Below hackerearth qn has been asked in one of coding qns</p>\n<p><strong>Farthest from zero</strong></p>\n<p>You are given an integer array A of size N.</p>\n<p><strong>Task</strong>\nWrite a program to print the farthest element from 0.\nIf there are multiple elements, print the number with the least value.</p>\n<p><strong>Input format</strong></p>\n<ul>\n<li>The first line contains a single integer N denoting the size of the\narray A.</li>\n<li>The next line contains N integers denoting the elements of    the\narray A.</li>\n</ul>\n<p><strong>Output format</strong></p>\n<p>Print the farthest element from 0.</p>\n<p><strong>Sample input 1</strong></p>\n<p>5</p>\n<p>1 2 3 4 5</p>\n<p><strong>Sample Output1</strong></p>\n<p>5</p>\n<p><strong>Solution prepared by me:</strong></p>\n<pre><code>public static farthestfromzero(int N, int [] Arr) {\n    TreeSet&lt;Integer&gt; ts = new TreeSet&lt;Integer&gt;();\n    for (int i=0; i&lt;N; i++){\n          ts.add(Arr[i]);\n    } \n  return ts.last();\n}\n</code></pre>\n<blockquote>\n<p><strong>Ask</strong>: This solution worked for me for the initial scenario, but when I\nsubmitted it , it didn't worked.</p>\n</blockquote>\n"},{"tags":["java","spring","rest","spring-mvc"],"comments":[{"owner":{"account_id":9608425,"reputation":1249,"user_id":7133682,"display_name":"Bogdan Oros"},"score":0,"creation_date":1517253953,"post_id":48508285,"comment_id":84011825,"body_markdown":"Spring is not handling `NullPointerException` by default. If you check `ResponseEntityExceptionHandler`, you will see a list with handled exceptions. You can extend implement `HandlerExceptionResolver` and implement a custom logic (do not forget to map your method with `@ExceptionHandler(NullPointerException.class)`. \nFor example, [Spring Data Rest](https://github.com/spring-projects/spring-data-rest/blob/master/spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/RepositoryRestExceptionHandler.java) has a custom handler, run through.","body":"Spring is not handling <code>NullPointerException</code> by default. If you check <code>ResponseEntityExceptionHandler</code>, you will see a list with handled exceptions. You can extend implement <code>HandlerExceptionResolver</code> and implement a custom logic (do not forget to map your method with <code>@ExceptionHandler(NullPointerException.class)</code>.  For example, <a href=\"https://github.com/spring-projects/spring-data-rest/blob/master/spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/RepositoryRestExceptionHandler.java\" rel=\"nofollow noreferrer\">Spring Data Rest</a> has a custom handler, run through."},{"owner":{"account_id":4078823,"reputation":552,"user_id":3454581,"accept_rate":100,"display_name":"user3454581"},"score":0,"creation_date":1517254247,"post_id":48508285,"comment_id":84011989,"body_markdown":"i dont care if its null exception or not i just like ho work on all kind of exception like Exception class","body":"i dont care if its null exception or not i just like ho work on all kind of exception like Exception class"},{"owner":{"account_id":9608425,"reputation":1249,"user_id":7133682,"display_name":"Bogdan Oros"},"score":1,"creation_date":1517254464,"post_id":48508285,"comment_id":84012104,"body_markdown":"As you can see the spring realizations, just mark your method with `@ExceptionHandler(RuntimeException.class)` - this way is very generic way and it forces you to `instanceof` your exceptions.","body":"As you can see the spring realizations, just mark your method with <code>@ExceptionHandler(RuntimeException.class)</code> - this way is very generic way and it forces you to <code>instanceof</code> your exceptions."},{"owner":{"account_id":4078823,"reputation":552,"user_id":3454581,"accept_rate":100,"display_name":"user3454581"},"score":0,"creation_date":1517254579,"post_id":48508285,"comment_id":84012164,"body_markdown":"can you please show some code snippet. if that works i will accept that answer i am really stuck here.","body":"can you please show some code snippet. if that works i will accept that answer i am really stuck here."},{"owner":{"account_id":3995956,"reputation":179,"user_id":3293515,"display_name":"JPRLCol"},"score":0,"creation_date":1517255980,"post_id":48508285,"comment_id":84012853,"body_markdown":"ControllerAdvice is the way to go","body":"ControllerAdvice is the way to go"}],"answers":[{"comments":[{"owner":{"account_id":4078823,"reputation":552,"user_id":3454581,"accept_rate":100,"display_name":"user3454581"},"score":0,"creation_date":1517256533,"post_id":48509042,"comment_id":84013200,"body_markdown":"can you please help me in one more thing i am also using  public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) when Nullpointer exception is thrown ex is still null.","body":"can you please help me in one more thing i am also using  public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) when Nullpointer exception is thrown ex is still null."},{"owner":{"account_id":9608425,"reputation":1249,"user_id":7133682,"display_name":"Bogdan Oros"},"score":0,"creation_date":1517256797,"post_id":48509042,"comment_id":84013337,"body_markdown":"Because Spring exception handling is not involved on Filter Stage of request processing. The only possible way I saw in practice (a bit crunchy) - is to use a [ExceptionHandlingFilter](https://stackoverflow.com/questions/34595605/how-to-manage-exceptions-thrown-in-filters-in-spring)","body":"Because Spring exception handling is not involved on Filter Stage of request processing. The only possible way I saw in practice (a bit crunchy) - is to use a <a href=\"https://stackoverflow.com/questions/34595605/how-to-manage-exceptions-thrown-in-filters-in-spring\">ExceptionHandlingFilter</a>"}],"tags":[],"owner":{"account_id":9608425,"reputation":1249,"user_id":7133682,"display_name":"Bogdan Oros"},"comment_count":2,"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1517255866,"creation_date":1517255866,"answer_id":48509042,"question_id":48508285,"body_markdown":"    @ControllerAdvice\r\n    public class Handler {\r\n    \r\n        @ExceptionHandler(Exception.class)\r\n        public ResponseEntity&lt;Object&gt; handle(Exception ex, \r\n                    HttpServletRequest request, HttpServletResponse response) {\r\n            if (ex instanceof NullPointerException) {\r\n                return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\r\n            }\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\r\n        }\r\n    }\r\n\r\n[ExceptionHandler](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ExceptionHandler.html) Documenation - here you can find all objects the method signature can operate with.\r\n\r\n`ControllerAdvice` - with no additional properties it will handle all exceptions, so it can provide unexpected behavior. It&#39;s better to provide a package (your package) to `basePackages` property and it will handle only exceptions thrown in specified package.\r\n\r\nAlso it is a good practice to separate Exceptions to custom `@ExceptionHandler` marked methods, it will decouple the handlers logic.","title":"How to handle Internal server error (500) on spring rest API?","body":"<pre><code>@ControllerAdvice\npublic class Handler {\n\n    @ExceptionHandler(Exception.class)\n    public ResponseEntity&lt;Object&gt; handle(Exception ex, \n                HttpServletRequest request, HttpServletResponse response) {\n        if (ex instanceof NullPointerException) {\n            return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\n        }\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\n    }\n}\n</code></pre>\n\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ExceptionHandler.html\" rel=\"noreferrer\">ExceptionHandler</a> Documenation - here you can find all objects the method signature can operate with.</p>\n\n<p><code>ControllerAdvice</code> - with no additional properties it will handle all exceptions, so it can provide unexpected behavior. It's better to provide a package (your package) to <code>basePackages</code> property and it will handle only exceptions thrown in specified package.</p>\n\n<p>Also it is a good practice to separate Exceptions to custom <code>@ExceptionHandler</code> marked methods, it will decouple the handlers logic.</p>\n"}],"owner":{"account_id":4078823,"reputation":552,"user_id":3454581,"accept_rate":100,"display_name":"user3454581"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125142,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":48509042,"answer_count":1,"score":39,"last_activity_date":1682641858,"creation_date":1517252716,"question_id":48508285,"body_markdown":"Good day,\r\n\r\nI am working on spring rest api and i would like to sure everything is working fine. I would like to log abnormal behaviors like nullPointerException or database connection error or any Exception that could raise and not handled or not assumed.\r\n\r\nI would like to catch any unhandled exception and show a beautifull message to user instead of printing stack trace.\r\n\r\nfor this i found a solution on internet that is extend ResponseEntityExceptionHandler and override handleExceptionInternal method.\r\n\r\nI also like to log 404 errors to see if someone trying to attack on my server.\r\n\r\nI have also added this line in properties file : spring.mvc.throw-exception-if-no-handler-found=true\r\n\r\nand here is the code for handleExceptionInternal\r\n\r\n    @Override\r\n    protected ResponseEntity&lt;Object&gt; handleExceptionInternal(Exception ex, Object body, HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n\r\n        GenericResponse response = new GenericResponse();\r\n        response.setMessage(&quot;Internal error occured, &quot; + ex.getStackTrace()[0]);\r\n\r\n        System.out.println(&quot;big exceptions&quot;);\r\n\r\n        return new ResponseEntity(response, headers, status);\r\n\r\n    }\r\n\r\nMy problem is when i am passing incorrect route like /abc this code is running fine, But when i throw null pointer exception from controllers method this method is not catching it.\r\n\r\nthanks.","title":"How to handle Internal server error (500) on spring rest API?","body":"<p>Good day,</p>\n\n<p>I am working on spring rest api and i would like to sure everything is working fine. I would like to log abnormal behaviors like nullPointerException or database connection error or any Exception that could raise and not handled or not assumed.</p>\n\n<p>I would like to catch any unhandled exception and show a beautifull message to user instead of printing stack trace.</p>\n\n<p>for this i found a solution on internet that is extend ResponseEntityExceptionHandler and override handleExceptionInternal method.</p>\n\n<p>I also like to log 404 errors to see if someone trying to attack on my server.</p>\n\n<p>I have also added this line in properties file : spring.mvc.throw-exception-if-no-handler-found=true</p>\n\n<p>and here is the code for handleExceptionInternal</p>\n\n<pre><code>@Override\nprotected ResponseEntity&lt;Object&gt; handleExceptionInternal(Exception ex, Object body, HttpHeaders headers, HttpStatus status, WebRequest request) {\n\n    GenericResponse response = new GenericResponse();\n    response.setMessage(\"Internal error occured, \" + ex.getStackTrace()[0]);\n\n    System.out.println(\"big exceptions\");\n\n    return new ResponseEntity(response, headers, status);\n\n}\n</code></pre>\n\n<p>My problem is when i am passing incorrect route like /abc this code is running fine, But when i throw null pointer exception from controllers method this method is not catching it.</p>\n\n<p>thanks.</p>\n"},{"tags":["java","kotlin","jackson"],"comments":[{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":0,"creation_date":1682639318,"post_id":76124626,"comment_id":134251572,"body_markdown":"In case there&#39;s a better way to meet your needs, please can you explain why you want _all_ properties to be in dynamicFields?","body":"In case there&#39;s a better way to meet your needs, please can you explain why you want <i>all</i> properties to be in dynamicFields?"}],"answers":[{"tags":[],"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682640842,"creation_date":1682640842,"answer_id":76125431,"question_id":76124626,"body_markdown":"One possibility would be to generate the map of all properties on demand. Jackson can convert any Kotlin object to a Map like this:\r\n\r\n```\r\nval map = mapper.convertValue&lt;Map&lt;String, Any?&gt;&gt;(myKotlinObject)\r\n```\r\n\r\nFor that to work, you&#39;d need to annotate your `dynamicFields` property with `@JsonAnyGetter` as well as `@JsonAnySetter`.\r\n\r\nHere&#39;s a complete example:\r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.*\r\nimport com.fasterxml.jackson.module.kotlin.*\r\n\r\ndata class Student(val name: String) {\r\n    @JsonAnySetter\r\n    @JsonAnyGetter\r\n    private val dynamicFields: MutableMap&lt;String, Any?&gt; = mutableMapOf()\r\n}\r\n\r\nval mapper = jsonMapper { addModule(kotlinModule()) }\r\n\r\nfun main() {\r\n    val student = mapper.readValue&lt;Student&gt;(\r\n        &quot;&quot;&quot;{&quot;name&quot;:&quot;Alice&quot;, &quot;surname&quot;:&quot;Smith&quot;}&quot;&quot;&quot;\r\n    )\r\n    val allProperties = mapper.convertValue&lt;Map&lt;String, Any?&gt;&gt;(student)\r\n    println(allProperties)\r\n}\r\n\r\n```\r\n\r\n----\r\n\r\nAlternatively, you could use [delegated properties and store all properties in a map](https://kotlinlang.org/docs/delegated-properties.html#storing-properties-in-a-map). There are some tradeoffs, since you lose the ability to set the properties in via the constructor. Here&#39;s what that might look like:\r\n\r\n```\r\ndata class Student(\r\n    @JsonAnySetter\r\n    @JsonAnyGetter\r\n    internal val map: MutableMap&lt;String, Any?&gt; = mutableMapOf()\r\n) {\r\n    val name: String by map\r\n\r\n    override fun toString(): String {\r\n        return &quot;Student(name=&#39;$name&#39;, dynamicFields=$map)&quot;\r\n    }\r\n}\r\n\r\nval mapper = jsonMapper { addModule(kotlinModule()) }\r\n\r\nfun main() {\r\n    val student = mapper.readValue&lt;Student&gt;(\r\n        &quot;&quot;&quot;{&quot;name&quot;:&quot;Alice&quot;, &quot;surname&quot;:&quot;Smith&quot;}&quot;&quot;&quot;\r\n    )\r\n    println(student.map)\r\n    println(student.name)\r\n}\r\n```\r\n\r\nAnother drawback to that approach is that Jackson won&#39;t complain if required properties are missing; you won&#39;t find out until you try to access the property and get a `NoSuchElementException`.\r\n\r\n","title":"@JsonAnySetter but catch all props, not only dynamic, to map","body":"<p>One possibility would be to generate the map of all properties on demand. Jackson can convert any Kotlin object to a Map like this:</p>\n<pre><code>val map = mapper.convertValue&lt;Map&lt;String, Any?&gt;&gt;(myKotlinObject)\n</code></pre>\n<p>For that to work, you'd need to annotate your <code>dynamicFields</code> property with <code>@JsonAnyGetter</code> as well as <code>@JsonAnySetter</code>.</p>\n<p>Here's a complete example:</p>\n<pre><code>import com.fasterxml.jackson.annotation.*\nimport com.fasterxml.jackson.module.kotlin.*\n\ndata class Student(val name: String) {\n    @JsonAnySetter\n    @JsonAnyGetter\n    private val dynamicFields: MutableMap&lt;String, Any?&gt; = mutableMapOf()\n}\n\nval mapper = jsonMapper { addModule(kotlinModule()) }\n\nfun main() {\n    val student = mapper.readValue&lt;Student&gt;(\n        &quot;&quot;&quot;{&quot;name&quot;:&quot;Alice&quot;, &quot;surname&quot;:&quot;Smith&quot;}&quot;&quot;&quot;\n    )\n    val allProperties = mapper.convertValue&lt;Map&lt;String, Any?&gt;&gt;(student)\n    println(allProperties)\n}\n\n</code></pre>\n<hr />\n<p>Alternatively, you could use <a href=\"https://kotlinlang.org/docs/delegated-properties.html#storing-properties-in-a-map\" rel=\"nofollow noreferrer\">delegated properties and store all properties in a map</a>. There are some tradeoffs, since you lose the ability to set the properties in via the constructor. Here's what that might look like:</p>\n<pre><code>data class Student(\n    @JsonAnySetter\n    @JsonAnyGetter\n    internal val map: MutableMap&lt;String, Any?&gt; = mutableMapOf()\n) {\n    val name: String by map\n\n    override fun toString(): String {\n        return &quot;Student(name='$name', dynamicFields=$map)&quot;\n    }\n}\n\nval mapper = jsonMapper { addModule(kotlinModule()) }\n\nfun main() {\n    val student = mapper.readValue&lt;Student&gt;(\n        &quot;&quot;&quot;{&quot;name&quot;:&quot;Alice&quot;, &quot;surname&quot;:&quot;Smith&quot;}&quot;&quot;&quot;\n    )\n    println(student.map)\n    println(student.name)\n}\n</code></pre>\n<p>Another drawback to that approach is that Jackson won't complain if required properties are missing; you won't find out until you try to access the property and get a <code>NoSuchElementException</code>.</p>\n"}],"owner":{"account_id":1549645,"reputation":1127,"user_id":1442357,"accept_rate":33,"display_name":"wjtk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76125431,"answer_count":1,"score":1,"last_activity_date":1682640842,"creation_date":1682629236,"question_id":76124626,"body_markdown":"I know that I can use @JsonAnySetter to catch dynamic, not mapped field when deserializing json with jackson:\r\n\r\n```\r\ndata class Student(val name: String) {\r\n    @JsonAnySetter\r\n    val dynamicFields: MutableMap&lt;String, Any?&gt; = mutableMapOf()\r\n}\r\n```\r\n\r\nso with such json:\r\n```\r\n{\r\n  &quot;name&quot;: &quot;John&quot;,\r\n  &quot;address&quot;: &quot;Wick&quot;\r\n}\r\n```\r\n\r\nI will get object will get:\r\n```\r\nstudent.name == &quot;John&quot;\r\nstudent.dynamicFields == mapOf(&quot;surname&quot; to &quot;Wick&quot;)\r\n```\r\n\r\n\r\nBut I want to have in dynamicFields ALL properties, even mapped one.\r\n\r\nHow can I achieve this?\r\nFor example in spring endpoint so rather without access to raw objectMapper. So I want to have part of json strongly mapped but still have also all props in map.\r\nIn real case I have nested objects, so I don&#39;t want to map everything as `Map&lt;String, Any?&gt;` and traverse this map.\r\n ","title":"@JsonAnySetter but catch all props, not only dynamic, to map","body":"<p>I know that I can use @JsonAnySetter to catch dynamic, not mapped field when deserializing json with jackson:</p>\n<pre><code>data class Student(val name: String) {\n    @JsonAnySetter\n    val dynamicFields: MutableMap&lt;String, Any?&gt; = mutableMapOf()\n}\n</code></pre>\n<p>so with such json:</p>\n<pre><code>{\n  &quot;name&quot;: &quot;John&quot;,\n  &quot;address&quot;: &quot;Wick&quot;\n}\n</code></pre>\n<p>I will get object will get:</p>\n<pre><code>student.name == &quot;John&quot;\nstudent.dynamicFields == mapOf(&quot;surname&quot; to &quot;Wick&quot;)\n</code></pre>\n<p>But I want to have in dynamicFields ALL properties, even mapped one.</p>\n<p>How can I achieve this?\nFor example in spring endpoint so rather without access to raw objectMapper. So I want to have part of json strongly mapped but still have also all props in map.\nIn real case I have nested objects, so I don't want to map everything as <code>Map&lt;String, Any?&gt;</code> and traverse this map.</p>\n"},{"tags":["java","oop","variables","reference","primitive"],"owner":{"account_id":28053829,"reputation":1,"user_id":21429232,"display_name":"ilmalvagiofiglioperuzzi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682643075,"answer_count":0,"score":0,"last_activity_date":1682640383,"creation_date":1682640383,"question_id":76125413,"body_markdown":"&#39;primitive variables store the actual values, whereas reference variables store the addresses of the objects they refer to&#39; https://stackoverflow.com/a/32049775\r\n\r\nI&#39;m trying to wrap my head around primitive and reference types in Java. Here&#39;s my thinking:\r\n\r\nThe integer i1 has the value 5, and if i1 = i2, that means it&#39;s also 5, but since they&#39;re both distinct variables, their addresses are different. Their value is the same, but saying i1 = i2 doesn&#39;t mean they&#39;re the same.\r\n\r\nThe string s1 = &quot;bread&quot;, and the object &quot;bread&quot; has an address. Let&#39;s say s1 = s2. They have different addresses, yet their value is the same as the address of object &quot;bread&quot;. Is this correct thinking? I can see the differences when I put it like that, but I just want to know what you think and what the best way is to understand these differences. Thank you!","title":"Difference between primitive and reference types","body":"<p>'primitive variables store the actual values, whereas reference variables store the addresses of the objects they refer to' <a href=\"https://stackoverflow.com/a/32049775\">https://stackoverflow.com/a/32049775</a></p>\n<p>I'm trying to wrap my head around primitive and reference types in Java. Here's my thinking:</p>\n<p>The integer i1 has the value 5, and if i1 = i2, that means it's also 5, but since they're both distinct variables, their addresses are different. Their value is the same, but saying i1 = i2 doesn't mean they're the same.</p>\n<p>The string s1 = &quot;bread&quot;, and the object &quot;bread&quot; has an address. Let's say s1 = s2. They have different addresses, yet their value is the same as the address of object &quot;bread&quot;. Is this correct thinking? I can see the differences when I put it like that, but I just want to know what you think and what the best way is to understand these differences. Thank you!</p>\n"},{"tags":["java","synchronized","notify"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678126014,"post_id":75605584,"comment_id":133469278,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75605584/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25037415,"reputation":1,"user_id":18894651,"display_name":"NickH"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1677683470,"creation_date":1677683470,"answer_id":75605584,"question_id":75604758,"body_markdown":"When I updated from java 8 to 11. I had to add extra dependencies and exclude some existing once from the pom. Java 11 has many jars that was&#39;t in java 8. hope this helps :)","title":"There is no problem when I run the following code with jdk1.8, but it will block when I run it with jdk11","body":"<p>When I updated from java 8 to 11. I had to add extra dependencies and exclude some existing once from the pom. Java 11 has many jars that was't in java 8. hope this helps :)</p>\n"},{"tags":[],"owner":{"account_id":785462,"reputation":16343,"user_id":845034,"accept_rate":57,"display_name":"steffen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682639298,"creation_date":1678119185,"answer_id":75653190,"question_id":75604758,"body_markdown":"**Summary of what your code does**\r\n\r\nYou create 3 threads and let them run `static printer()` in parallel. Within a `synchronized` loop, the current thread increments a number if it is responsible for doing so (`%3`). Still inside the loop, you let the JVM select one of the other threads to continue while putting the current thread into the wait state.\r\n\r\n**What happens**\r\n\r\n*notifyAll():*\r\n\r\n&gt; See the notify method for a description of the ways in which a thread can become the owner of a monitor.\r\n\r\n*notify():*\r\n\r\n&gt; If any threads are waiting on this object, one of them is chosen to be awakened. The choice is arbitrary and occurs at the discretion of the implementation.\r\n\r\nWhat happens is that the monitor acquisition toggles between only 2 of the 3 threads, while the third thread, that happens to be responsible for incrementing the current value, does not come to the fore.\r\n\r\nOh, you need to make the variable `volatile` to ensure all threads read the most recent updated value. I think that this could already have been a valid reason for the observed behavior.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notify()","title":"There is no problem when I run the following code with jdk1.8, but it will block when I run it with jdk11","body":"<p><strong>Summary of what your code does</strong></p>\n<p>You create 3 threads and let them run <code>static printer()</code> in parallel. Within a <code>synchronized</code> loop, the current thread increments a number if it is responsible for doing so (<code>%3</code>). Still inside the loop, you let the JVM select one of the other threads to continue while putting the current thread into the wait state.</p>\n<p><strong>What happens</strong></p>\n<p><em>notifyAll():</em></p>\n<blockquote>\n<p>See the notify method for a description of the ways in which a thread can become the owner of a monitor.</p>\n</blockquote>\n<p><em>notify():</em></p>\n<blockquote>\n<p>If any threads are waiting on this object, one of them is chosen to be awakened. The choice is arbitrary and occurs at the discretion of the implementation.</p>\n</blockquote>\n<p>What happens is that the monitor acquisition toggles between only 2 of the 3 threads, while the third thread, that happens to be responsible for incrementing the current value, does not come to the fore.</p>\n<p>Oh, you need to make the variable <code>volatile</code> to ensure all threads read the most recent updated value. I think that this could already have been a valid reason for the observed behavior.</p>\n"}],"owner":{"account_id":27909591,"reputation":9,"user_id":21312082,"display_name":"Mr.Chen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1682639298,"creation_date":1677679463,"question_id":75604758,"body_markdown":"```\r\npublic class Test {\r\n    public static int num = 0;\r\n\r\n    public static void main(String[] args) {\r\n        new Thread(Test::printer, &quot;t0&quot;).start();\r\n        new Thread(Test::printer, &quot;t1&quot;).start();\r\n        new Thread(Test::printer, &quot;t2&quot;).start();\r\n    }\r\n\r\n    public static void printer() {\r\n        synchronized (Test.class) {\r\n            while (num &lt; 100) {\r\n                if (Thread.currentThread().getName().contains(String.valueOf(num % 3))) {\r\n                    System.out.println(Thread.currentThread().getName() + &quot;: &quot; + num++);\r\n\r\n                }\r\n                Test.class.notifyAll();\r\n                try {\r\n                    Test.class.wait();\r\n                } catch (InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n            Test.class.notifyAll();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThere is no problem when I run the following code with jdk1.8.It can output 0 to 99.But when I use jdk11 to run the code,it stop on 2 or 3.I used `jstack` to check the threads state,the result is following:\r\n\r\n```\r\n&quot;Monitor Ctrl-Break&quot; #21 daemon prio=5 os_prio=0 cpu=15.63ms elapsed=10.26s tid=0x000001ccc56cf800 nid=0x5424 runnable  [0x000000a410efe000]\r\n   java.lang.Thread.State: RUNNABLE\r\n        at java.net.SocketInputStream.socketRead0(java.base@11.0.15/Native Method)\r\n        at java.net.SocketInputStream.socketRead(java.base@11.0.15/SocketInputStream.java:115)\r\n        at java.net.SocketInputStream.read(java.base@11.0.15/SocketInputStream.java:168)\r\n        at java.net.SocketInputStream.read(java.base@11.0.15/SocketInputStream.java:140)\r\n        at sun.nio.cs.StreamDecoder.readBytes(java.base@11.0.15/StreamDecoder.java:284)\r\n        at sun.nio.cs.StreamDecoder.implRead(java.base@11.0.15/StreamDecoder.java:326)\r\n        at sun.nio.cs.StreamDecoder.read(java.base@11.0.15/StreamDecoder.java:178)\r\n        - locked &lt;0x00000007181038c8&gt; (a java.io.InputStreamReader)\r\n        at java.io.InputStreamReader.read(java.base@11.0.15/InputStreamReader.java:181)\r\n        at java.io.BufferedReader.fill(java.base@11.0.15/BufferedReader.java:161)\r\n        at java.io.BufferedReader.readLine(java.base@11.0.15/BufferedReader.java:326)\r\n        - locked &lt;0x00000007181038c8&gt; (a java.io.InputStreamReader)\r\n        at java.io.BufferedReader.readLine(java.base@11.0.15/BufferedReader.java:392)\r\n        at com.intellij.rt.execution.application.AppMainV2$1.run(AppMainV2.java:56)\r\n\r\n&quot;t0&quot; #22 prio=5 os_prio=0 cpu=0.00ms elapsed=10.25s tid=0x000001ccc56d0000 nid=0x6560 in Object.wait()  [0x000000a4110fe000]\r\n   java.lang.Thread.State: BLOCKED (on object monitor)\r\n        at java.lang.Object.wait(java.base@11.0.15/Native Method)\r\n        - waiting on &lt;0x0000000718113e10&gt; (a java.lang.Class for com.chen.Test)\r\n        at java.lang.Object.wait(java.base@11.0.15/Object.java:328)\r\n        at com.chen.Test.printer(Test.java:21)\r\n        - waiting to re-lock in wait() &lt;0x0000000718113e10&gt; (a java.lang.Class for com.chen.Test)\r\n        at com.chen.Test$$Lambda$14/0x0000000800066840.run(Unknown Source)\r\n        at java.lang.Thread.run(java.base@11.0.15/Thread.java:834)\r\n\r\n&quot;t1&quot; #23 prio=5 os_prio=0 cpu=3718.75ms elapsed=10.25s tid=0x000001ccc56d1000 nid=0x7b8 in Object.wait()  [0x000000a4111ff000]\r\n   java.lang.Thread.State: BLOCKED (on object monitor)\r\n        at java.lang.Object.wait(java.base@11.0.15/Native Method)\r\n        - waiting on &lt;no object reference available&gt;\r\n        at java.lang.Object.wait(java.base@11.0.15/Object.java:328)\r\n        at com.chen.Test.printer(Test.java:21)\r\n        - waiting to re-lock in wait() &lt;0x0000000718113e10&gt; (a java.lang.Class for com.chen.Test)\r\n        at com.chen.Test$$Lambda$15/0x0000000800066c40.run(Unknown Source)\r\n        at java.lang.Thread.run(java.base@11.0.15/Thread.java:834)\r\n\r\n&quot;t2&quot; #24 prio=5 os_prio=0 cpu=4140.63ms elapsed=10.25s tid=0x000001ccc56d2000 nid=0x6620 in Object.wait()  [0x000000a4112ff000]\r\n   java.lang.Thread.State: WAITING (on object monitor)\r\n        at java.lang.Object.wait(java.base@11.0.15/Native Method)\r\n        - waiting on &lt;no object reference available&gt;\r\n        at java.lang.Object.wait(java.base@11.0.15/Object.java:328)\r\n        at com.chen.Test.printer(Test.java:21)\r\n        - waiting to re-lock in wait() &lt;0x0000000718113e10&gt; (a java.lang.Class for com.chen.Test)\r\n        at com.chen.Test$$Lambda$16/0x0000000800066040.run(Unknown Source)\r\n        at java.lang.Thread.run(java.base@11.0.15/Thread.java:834)\r\n```\r\n\r\nt0 and t1 are both BLOCKED,but then none of them get the cpu, So who can tell me why I got this result?","title":"There is no problem when I run the following code with jdk1.8, but it will block when I run it with jdk11","body":"<pre><code>public class Test {\n    public static int num = 0;\n\n    public static void main(String[] args) {\n        new Thread(Test::printer, &quot;t0&quot;).start();\n        new Thread(Test::printer, &quot;t1&quot;).start();\n        new Thread(Test::printer, &quot;t2&quot;).start();\n    }\n\n    public static void printer() {\n        synchronized (Test.class) {\n            while (num &lt; 100) {\n                if (Thread.currentThread().getName().contains(String.valueOf(num % 3))) {\n                    System.out.println(Thread.currentThread().getName() + &quot;: &quot; + num++);\n\n                }\n                Test.class.notifyAll();\n                try {\n                    Test.class.wait();\n                } catch (InterruptedException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n            Test.class.notifyAll();\n        }\n    }\n}\n</code></pre>\n<p>There is no problem when I run the following code with jdk1.8.It can output 0 to 99.But when I use jdk11 to run the code,it stop on 2 or 3.I used <code>jstack</code> to check the threads state,the result is following:</p>\n<pre><code>&quot;Monitor Ctrl-Break&quot; #21 daemon prio=5 os_prio=0 cpu=15.63ms elapsed=10.26s tid=0x000001ccc56cf800 nid=0x5424 runnable  [0x000000a410efe000]\n   java.lang.Thread.State: RUNNABLE\n        at java.net.SocketInputStream.socketRead0(java.base@11.0.15/Native Method)\n        at java.net.SocketInputStream.socketRead(java.base@11.0.15/SocketInputStream.java:115)\n        at java.net.SocketInputStream.read(java.base@11.0.15/SocketInputStream.java:168)\n        at java.net.SocketInputStream.read(java.base@11.0.15/SocketInputStream.java:140)\n        at sun.nio.cs.StreamDecoder.readBytes(java.base@11.0.15/StreamDecoder.java:284)\n        at sun.nio.cs.StreamDecoder.implRead(java.base@11.0.15/StreamDecoder.java:326)\n        at sun.nio.cs.StreamDecoder.read(java.base@11.0.15/StreamDecoder.java:178)\n        - locked &lt;0x00000007181038c8&gt; (a java.io.InputStreamReader)\n        at java.io.InputStreamReader.read(java.base@11.0.15/InputStreamReader.java:181)\n        at java.io.BufferedReader.fill(java.base@11.0.15/BufferedReader.java:161)\n        at java.io.BufferedReader.readLine(java.base@11.0.15/BufferedReader.java:326)\n        - locked &lt;0x00000007181038c8&gt; (a java.io.InputStreamReader)\n        at java.io.BufferedReader.readLine(java.base@11.0.15/BufferedReader.java:392)\n        at com.intellij.rt.execution.application.AppMainV2$1.run(AppMainV2.java:56)\n\n&quot;t0&quot; #22 prio=5 os_prio=0 cpu=0.00ms elapsed=10.25s tid=0x000001ccc56d0000 nid=0x6560 in Object.wait()  [0x000000a4110fe000]\n   java.lang.Thread.State: BLOCKED (on object monitor)\n        at java.lang.Object.wait(java.base@11.0.15/Native Method)\n        - waiting on &lt;0x0000000718113e10&gt; (a java.lang.Class for com.chen.Test)\n        at java.lang.Object.wait(java.base@11.0.15/Object.java:328)\n        at com.chen.Test.printer(Test.java:21)\n        - waiting to re-lock in wait() &lt;0x0000000718113e10&gt; (a java.lang.Class for com.chen.Test)\n        at com.chen.Test$$Lambda$14/0x0000000800066840.run(Unknown Source)\n        at java.lang.Thread.run(java.base@11.0.15/Thread.java:834)\n\n&quot;t1&quot; #23 prio=5 os_prio=0 cpu=3718.75ms elapsed=10.25s tid=0x000001ccc56d1000 nid=0x7b8 in Object.wait()  [0x000000a4111ff000]\n   java.lang.Thread.State: BLOCKED (on object monitor)\n        at java.lang.Object.wait(java.base@11.0.15/Native Method)\n        - waiting on &lt;no object reference available&gt;\n        at java.lang.Object.wait(java.base@11.0.15/Object.java:328)\n        at com.chen.Test.printer(Test.java:21)\n        - waiting to re-lock in wait() &lt;0x0000000718113e10&gt; (a java.lang.Class for com.chen.Test)\n        at com.chen.Test$$Lambda$15/0x0000000800066c40.run(Unknown Source)\n        at java.lang.Thread.run(java.base@11.0.15/Thread.java:834)\n\n&quot;t2&quot; #24 prio=5 os_prio=0 cpu=4140.63ms elapsed=10.25s tid=0x000001ccc56d2000 nid=0x6620 in Object.wait()  [0x000000a4112ff000]\n   java.lang.Thread.State: WAITING (on object monitor)\n        at java.lang.Object.wait(java.base@11.0.15/Native Method)\n        - waiting on &lt;no object reference available&gt;\n        at java.lang.Object.wait(java.base@11.0.15/Object.java:328)\n        at com.chen.Test.printer(Test.java:21)\n        - waiting to re-lock in wait() &lt;0x0000000718113e10&gt; (a java.lang.Class for com.chen.Test)\n        at com.chen.Test$$Lambda$16/0x0000000800066040.run(Unknown Source)\n        at java.lang.Thread.run(java.base@11.0.15/Thread.java:834)\n</code></pre>\n<p>t0 and t1 are both BLOCKED,but then none of them get the cpu, So who can tell me why I got this result?</p>\n"},{"tags":["java","azure"],"answers":[{"tags":[],"owner":{"account_id":3274061,"reputation":2691,"user_id":2756760,"accept_rate":51,"display_name":"du-it"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682638808,"creation_date":1682638808,"answer_id":76125325,"question_id":76125006,"body_markdown":"I solved it using `BlobParallelUploadOptions` along with `BlobClient.uploadWithResponse()`:\r\n\r\n    for (Map.Entry&lt;Document, byte[]&gt; entry : documents.entrySet()) {\r\n        MediaType mediaType = config.getMimeRepository().detect(new ByteArrayInputStream(entry.getValue()), new Metadata());\r\n        tasks.add(() -&gt; {\r\n            String fileName = entry.getKey().getFileName();\r\n            BlobClient blobClient = blobContainerClient.getBlobClient(fileName);\r\n            BlobParallelUploadOptions bpuo = new BlobParallelUploadOptions(new ByteArrayInputStream(entry.getValue()))\r\n                .setHeaders(new BlobHttpHeaders().setContentType(mediaType.getType()));\r\n            blobClient.uploadWithResponse(bpuo, Context.NONE);\r\n        });\r\n    }\r\n","title":"Why does BlobClient.setHttpHeaders(...) stop further processing?","body":"<p>I solved it using <code>BlobParallelUploadOptions</code> along with <code>BlobClient.uploadWithResponse()</code>:</p>\n<pre><code>for (Map.Entry&lt;Document, byte[]&gt; entry : documents.entrySet()) {\n    MediaType mediaType = config.getMimeRepository().detect(new ByteArrayInputStream(entry.getValue()), new Metadata());\n    tasks.add(() -&gt; {\n        String fileName = entry.getKey().getFileName();\n        BlobClient blobClient = blobContainerClient.getBlobClient(fileName);\n        BlobParallelUploadOptions bpuo = new BlobParallelUploadOptions(new ByteArrayInputStream(entry.getValue()))\n            .setHeaders(new BlobHttpHeaders().setContentType(mediaType.getType()));\n        blobClient.uploadWithResponse(bpuo, Context.NONE);\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":3274061,"reputation":2691,"user_id":2756760,"accept_rate":51,"display_name":"du-it"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682638808,"creation_date":1682633545,"question_id":76125006,"body_markdown":"I try to upload a file as a byte[] to an Azure Storage Account this way:\r\n\r\n        public void uploadFilesInBatch(Map&lt;Document, byte[]&gt; documents) throws InterruptedException, IOException {\r\n    //        int numThreads = Runtime.getRuntime().availableProcessors();\r\n        int numThreads = 6;\r\n\r\n        ExecutorService executorService = Executors.newFixedThreadPool(numThreads);\r\n\r\n        List&lt;Runnable&gt; tasks = new ArrayList&lt;&gt;();\r\n\r\n        TikaConfig config = TikaConfig.getDefaultConfig();\r\n\r\n        for (Map.Entry&lt;Document, byte[]&gt; entry : documents.entrySet()) {\r\n            MediaType mediaType = config.getMimeRepository().detect(new ByteArrayInputStream(entry.getValue()), new Metadata());\r\n            tasks.add(() -&gt; {\r\n                String fileName = entry.getKey().getFileName();\r\n                BlobClient blobClient = blobContainerClient.getBlobClient(fileName);\r\n                // synchronized (blobClient) {\r\n                    blobClient.setHttpHeaders(new BlobHttpHeaders().setContentType(mediaType.getType()));\r\n    //                blobClient.setHttpHeaders(new \r\n    BlobHttpHeaders().setContentType(mediaType.toString()));\r\n                    blobClient.upload(new ByteArrayInputStream(entry.getValue()));\r\n                // }\r\n            });\r\n        }\r\n\r\n        for (Runnable task : tasks) {\r\n            executorService.submit(task);\r\n        }\r\n\r\n        executorService.shutdown();\r\n        executorService.awaitTermination(Long.MAX_VALUE, TimeUnit.SECONDS);\r\n    }\r\n\r\nIt works well inclusively setting the HttpHeaders but the following upload statement is never reached and I don&#39;t understand the reason. \r\nIf I set a breakpoint in the `blobClient.setHttpHeaders()` line and in the `blobClient.upload()` line as well, IntelliJ stops in the `blobClient.setHttpHeaders()` line. Stepping further the next task is added to the `tasks` ArrayList.\r\n\r\nI am using Java 11 and these Azure dependencies:\r\n\r\n    &lt;azure-core.version&gt;1.36.0&lt;/azure-core.version&gt;\r\n    &lt;spring-cloud-azure-starter-keyvault-secrets.version&gt;4.3.0&lt;/spring-cloud-azure-starter-keyvault-secrets.version&gt; &lt;!-- Version 5.0.0 requires Java major version 61 instead of 55 --&gt;\r\n    &lt;azure-storage-blob.version&gt;12.21.0&lt;/azure-storage-blob.version&gt;\r\n    &lt;azure-storage-blob-batch.version&gt;12.18.0&lt;/azure-storage-blob-batch.version&gt;\r\n\r\nAzurite runs in a Docker container: \r\n&quot;mcr.microsoft.com/azure-storage/azurite:3.23.0&quot;\r\n\r\nMaybe it&#39;s of of interest that the mentioned `uploadFilesBatch()` method is called from a method which implements code within \r\n\r\n    public myMethod() {\r\n        return CompletableFuture.supplyAsync(() -&gt; { ... }\r\n    }","title":"Why does BlobClient.setHttpHeaders(...) stop further processing?","body":"<p>I try to upload a file as a byte[] to an Azure Storage Account this way:</p>\n<pre><code>    public void uploadFilesInBatch(Map&lt;Document, byte[]&gt; documents) throws InterruptedException, IOException {\n//        int numThreads = Runtime.getRuntime().availableProcessors();\n    int numThreads = 6;\n\n    ExecutorService executorService = Executors.newFixedThreadPool(numThreads);\n\n    List&lt;Runnable&gt; tasks = new ArrayList&lt;&gt;();\n\n    TikaConfig config = TikaConfig.getDefaultConfig();\n\n    for (Map.Entry&lt;Document, byte[]&gt; entry : documents.entrySet()) {\n        MediaType mediaType = config.getMimeRepository().detect(new ByteArrayInputStream(entry.getValue()), new Metadata());\n        tasks.add(() -&gt; {\n            String fileName = entry.getKey().getFileName();\n            BlobClient blobClient = blobContainerClient.getBlobClient(fileName);\n            // synchronized (blobClient) {\n                blobClient.setHttpHeaders(new BlobHttpHeaders().setContentType(mediaType.getType()));\n//                blobClient.setHttpHeaders(new \nBlobHttpHeaders().setContentType(mediaType.toString()));\n                blobClient.upload(new ByteArrayInputStream(entry.getValue()));\n            // }\n        });\n    }\n\n    for (Runnable task : tasks) {\n        executorService.submit(task);\n    }\n\n    executorService.shutdown();\n    executorService.awaitTermination(Long.MAX_VALUE, TimeUnit.SECONDS);\n}\n</code></pre>\n<p>It works well inclusively setting the HttpHeaders but the following upload statement is never reached and I don't understand the reason.\nIf I set a breakpoint in the <code>blobClient.setHttpHeaders()</code> line and in the <code>blobClient.upload()</code> line as well, IntelliJ stops in the <code>blobClient.setHttpHeaders()</code> line. Stepping further the next task is added to the <code>tasks</code> ArrayList.</p>\n<p>I am using Java 11 and these Azure dependencies:</p>\n<pre><code>&lt;azure-core.version&gt;1.36.0&lt;/azure-core.version&gt;\n&lt;spring-cloud-azure-starter-keyvault-secrets.version&gt;4.3.0&lt;/spring-cloud-azure-starter-keyvault-secrets.version&gt; &lt;!-- Version 5.0.0 requires Java major version 61 instead of 55 --&gt;\n&lt;azure-storage-blob.version&gt;12.21.0&lt;/azure-storage-blob.version&gt;\n&lt;azure-storage-blob-batch.version&gt;12.18.0&lt;/azure-storage-blob-batch.version&gt;\n</code></pre>\n<p>Azurite runs in a Docker container:\n&quot;mcr.microsoft.com/azure-storage/azurite:3.23.0&quot;</p>\n<p>Maybe it's of of interest that the mentioned <code>uploadFilesBatch()</code> method is called from a method which implements code within</p>\n<pre><code>public myMethod() {\n    return CompletableFuture.supplyAsync(() -&gt; { ... }\n}\n</code></pre>\n"},{"tags":["java","azure","azure-blob-storage"],"answers":[{"tags":[],"owner":{"account_id":63568,"reputation":129767,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625574806,"creation_date":1625574806,"answer_id":68270636,"question_id":68270387,"body_markdown":"To set content type of a blob at the time of uploading, you will need to use the following method: [`uploadWithResponse(InputStream data, long length, ParallelTransferOptions parallelTransferOptions, BlobHttpHeaders headers, Map&lt;String,String&gt; metadata, AccessTier tier, BlobRequestConditions requestConditions, Duration timeout, Context context)`][1] instead of `upload` method that you&#39;re using currently.\r\n\r\nYou will be able to define content type using [`BlobHttpHeaders`][2].\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/java/api/com.azure.storage.blob.blobclient.uploadwithresponse?view=azure-java-stable#com_azure_storage_blob_BlobClient_uploadWithResponse_java_io_InputStream_long_com_azure_storage_blob_models_ParallelTransferOptions_com_azure_storage_blob_models_BlobHttpHeaders_java_util_Map_java_lang_String_java_lang_String__com_azure_storage_blob_models_AccessTier_com_azure_storage_blob_models_BlobRequestConditions_java_time_Duration_com_azure_core_util_Context_\r\n  [2]: https://learn.microsoft.com/en-us/java/api/com.azure.storage.blob.models.blobhttpheaders?view=azure-java-stable","title":"Set Content-Type Azure Blob Storage","body":"<p>To set content type of a blob at the time of uploading, you will need to use the following method: <a href=\"https://learn.microsoft.com/en-us/java/api/com.azure.storage.blob.blobclient.uploadwithresponse?view=azure-java-stable#com_azure_storage_blob_BlobClient_uploadWithResponse_java_io_InputStream_long_com_azure_storage_blob_models_ParallelTransferOptions_com_azure_storage_blob_models_BlobHttpHeaders_java_util_Map_java_lang_String_java_lang_String__com_azure_storage_blob_models_AccessTier_com_azure_storage_blob_models_BlobRequestConditions_java_time_Duration_com_azure_core_util_Context_\" rel=\"nofollow noreferrer\"><code>uploadWithResponse(InputStream data, long length, ParallelTransferOptions parallelTransferOptions, BlobHttpHeaders headers, Map&lt;String,String&gt; metadata, AccessTier tier, BlobRequestConditions requestConditions, Duration timeout, Context context)</code></a> instead of <code>upload</code> method that you're using currently.</p>\n<p>You will be able to define content type using <a href=\"https://learn.microsoft.com/en-us/java/api/com.azure.storage.blob.models.blobhttpheaders?view=azure-java-stable\" rel=\"nofollow noreferrer\"><code>BlobHttpHeaders</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":26170312,"reputation":41,"user_id":19855400,"display_name":"Tom D"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1663089134,"creation_date":1663089134,"answer_id":73706886,"question_id":68270387,"body_markdown":"Faced the same issue uploading JSON file, came up with this from stepping through the \r\n`blobClient.upload` method you&#39;re current using:\r\n\r\n            BlobHttpHeaders jsonHeaders = new BlobHttpHeaders()\r\n                .setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n            BinaryData data = BinaryData.fromStream(file.getInputStream(), file.getSize());   \r\n            BlobParallelUploadOptions options = new BlobParallelUploadOptions(data)\r\n                .setRequestConditions(new BlobRequestConditions()).setHeaders(jsonHeaders);\r\n            blobClient.uploadWithResponse(options, null, Context.NONE);\r\n\r\nNote this is using azure-storage-blob v12.19.0","title":"Set Content-Type Azure Blob Storage","body":"<p>Faced the same issue uploading JSON file, came up with this from stepping through the\n<code>blobClient.upload</code> method you're current using:</p>\n<pre><code>        BlobHttpHeaders jsonHeaders = new BlobHttpHeaders()\n            .setContentType(MediaType.APPLICATION_JSON_VALUE);\n        BinaryData data = BinaryData.fromStream(file.getInputStream(), file.getSize());   \n        BlobParallelUploadOptions options = new BlobParallelUploadOptions(data)\n            .setRequestConditions(new BlobRequestConditions()).setHeaders(jsonHeaders);\n        blobClient.uploadWithResponse(options, null, Context.NONE);\n</code></pre>\n<p>Note this is using azure-storage-blob v12.19.0</p>\n"}],"owner":{"account_id":15453514,"reputation":23,"user_id":11148275,"display_name":"Max Torre Schau"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1773,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1682638715,"creation_date":1625573835,"question_id":68270387,"body_markdown":"I am currently writing a backend which takes in one or many image/video-files to be uploaded into Azure Blob Storage. I am however struggling to set the Content-Type of the files. The Content-Type is by default set to be &quot;application/octet-stream&quot;, but I want to dynamically set them by using the file.getContentType() method. \r\n\r\nThe code looks like this:\r\n```\r\n    public void uploadToContainer(BlobClient blobClient, MultipartFile file) {\r\n        try {\r\n            blobClient.upload(file.getInputStream(), file.getSize());\r\n        } catch (Exception e) {\r\n            //TODO:\r\n            // Better error handling\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\nDoes anyone know how I can accomplish this?","title":"Set Content-Type Azure Blob Storage","body":"<p>I am currently writing a backend which takes in one or many image/video-files to be uploaded into Azure Blob Storage. I am however struggling to set the Content-Type of the files. The Content-Type is by default set to be &quot;application/octet-stream&quot;, but I want to dynamically set them by using the file.getContentType() method.</p>\n<p>The code looks like this:</p>\n<pre><code>    public void uploadToContainer(BlobClient blobClient, MultipartFile file) {\n        try {\n            blobClient.upload(file.getInputStream(), file.getSize());\n        } catch (Exception e) {\n            //TODO:\n            // Better error handling\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>Does anyone know how I can accomplish this?</p>\n"},{"tags":["java","elasticsearch"],"comments":[{"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"score":2,"creation_date":1535635489,"post_id":52098217,"comment_id":91146736,"body_markdown":"There&#39;s a problem with your configuration file. Can you show your `elasticsearch.yml` file?","body":"There&#39;s a problem with your configuration file. Can you show your <code>elasticsearch.yml</code> file?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1535637767,"post_id":52098217,"comment_id":91148427,"body_markdown":"Also, are you using Java 8?","body":"Also, are you using Java 8?"},{"owner":{"account_id":12929719,"reputation":2931,"user_id":9349129,"display_name":"Dushmantha"},"score":0,"creation_date":1535637858,"post_id":52098217,"comment_id":91148487,"body_markdown":"can you add your elasticsearch.yml ?","body":"can you add your elasticsearch.yml ?"},{"owner":{"account_id":14086199,"reputation":31,"user_id":10175909,"display_name":"liubindetuimao"},"score":0,"creation_date":1535639867,"post_id":52098217,"comment_id":91149929,"body_markdown":"my elasticsearch.yml 文件","body":"my elasticsearch.yml 文件"},{"owner":{"account_id":14086199,"reputation":31,"user_id":10175909,"display_name":"liubindetuimao"},"score":0,"creation_date":1535640390,"post_id":52098217,"comment_id":91150316,"body_markdown":"Settled, thank you! The reason is that my YML file is configured with two more lines.","body":"Settled, thank you! The reason is that my YML file is configured with two more lines."}],"answers":[{"tags":[],"owner":{"account_id":8553975,"reputation":1,"user_id":6410121,"display_name":"Ian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682638659,"creation_date":1682435042,"answer_id":76102687,"question_id":52098217,"body_markdown":"For anyone looking for the answer as per the link you need to have a space after `:` in your yml file. \r\n\r\nhttps://knowledge.informatica.com/s/article/627923?language=en_US","title":"My Elasticsearch started error how to solve this problem?","body":"<p>For anyone looking for the answer as per the link you need to have a space after <code>:</code> in your yml file.</p>\n<p><a href=\"https://knowledge.informatica.com/s/article/627923?language=en_US\" rel=\"nofollow noreferrer\">https://knowledge.informatica.com/s/article/627923?language=en_US</a></p>\n"}],"owner":{"account_id":14086199,"reputation":31,"user_id":10175909,"display_name":"liubindetuimao"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3982,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1682638659,"creation_date":1535635438,"question_id":52098217,"body_markdown":"macOS 10.13.6  elasticsearch -6.4.0\r\n\r\n\r\n    kennethdeMBP:elasticsearch-6.4.0 kenneth$ ./bin/elasticsearch\r\n    Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.\r\n    Exception in thread &quot;main&quot; 2018-08-30 21:10:05,731 main ERROR No Log4j 2 configuration file found. Using default configuration (logging only errors to the console), or user programmatically provided configurations. Set system property &#39;log4j2.debug&#39; to show Log4j 2 internal initialization logging. See https://logging.apache.org/log4j/2.x/manual/configuration.html for instructions on how to configure Log4j 2\r\n    SettingsException[Failed to load settings from [elasticsearch.yml]]; nested: ParsingException[Failed to parse object: expecting token of type [START_OBJECT] but found [VALUE_STRING]];\r\n    \tat org.elasticsearch.common.settings.Settings$Builder.loadFromStream(Settings.java:1192)\r\n    \tat org.elasticsearch.common.settings.Settings$Builder.loadFromPath(Settings.java:1165)\r\n    \tat org.elasticsearch.node.InternalSettingsPreparer.prepareEnvironment(InternalSettingsPreparer.java:100)\r\n    \tat org.elasticsearch.cli.EnvironmentAwareCommand.createEnv(EnvironmentAwareCommand.java:95)\r\n    \tat org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86)\r\n    \tat org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:124)\r\n    \tat org.elasticsearch.cli.Command.main(Command.java:90)\r\n    \tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:93)\r\n    \tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:86)\r\n    Caused by: ParsingException[Failed to parse object: expecting token of type [START_OBJECT] but found [VALUE_STRING]]\r\n    \tat org.elasticsearch.common.xcontent.XContentParserUtils.ensureExpectedToken(XContentParserUtils.java:78)\r\n    \tat org.elasticsearch.common.settings.Settings.fromXContent(Settings.java:672)\r\n    \tat org.elasticsearch.common.settings.Settings.access$500(Settings.java:84)\r\n    \tat org.elasticsearch.common.settings.Settings$Builder.loadFromStream(Settings.java:1188)\r\n    \t... 8 more\r\n    kennethdeMBP:elasticsearch-6.4.0 kenneth$\r\n\r\n \r\n\r\n\r\n    \r\n","title":"My Elasticsearch started error how to solve this problem?","body":"<p>macOS 10.13.6  elasticsearch -6.4.0</p>\n\n<pre><code>kennethdeMBP:elasticsearch-6.4.0 kenneth$ ./bin/elasticsearch\nJava HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.\nException in thread \"main\" 2018-08-30 21:10:05,731 main ERROR No Log4j 2 configuration file found. Using default configuration (logging only errors to the console), or user programmatically provided configurations. Set system property 'log4j2.debug' to show Log4j 2 internal initialization logging. See https://logging.apache.org/log4j/2.x/manual/configuration.html for instructions on how to configure Log4j 2\nSettingsException[Failed to load settings from [elasticsearch.yml]]; nested: ParsingException[Failed to parse object: expecting token of type [START_OBJECT] but found [VALUE_STRING]];\n    at org.elasticsearch.common.settings.Settings$Builder.loadFromStream(Settings.java:1192)\n    at org.elasticsearch.common.settings.Settings$Builder.loadFromPath(Settings.java:1165)\n    at org.elasticsearch.node.InternalSettingsPreparer.prepareEnvironment(InternalSettingsPreparer.java:100)\n    at org.elasticsearch.cli.EnvironmentAwareCommand.createEnv(EnvironmentAwareCommand.java:95)\n    at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86)\n    at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:124)\n    at org.elasticsearch.cli.Command.main(Command.java:90)\n    at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:93)\n    at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:86)\nCaused by: ParsingException[Failed to parse object: expecting token of type [START_OBJECT] but found [VALUE_STRING]]\n    at org.elasticsearch.common.xcontent.XContentParserUtils.ensureExpectedToken(XContentParserUtils.java:78)\n    at org.elasticsearch.common.settings.Settings.fromXContent(Settings.java:672)\n    at org.elasticsearch.common.settings.Settings.access$500(Settings.java:84)\n    at org.elasticsearch.common.settings.Settings$Builder.loadFromStream(Settings.java:1188)\n    ... 8 more\nkennethdeMBP:elasticsearch-6.4.0 kenneth$\n</code></pre>\n"},{"tags":["javascript","java","html","css","bootstrap-4"],"owner":{"account_id":28430657,"reputation":1,"user_id":21751361,"display_name":"Mohit Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682638489,"creation_date":1682575906,"question_id":76117235,"body_markdown":"I have tried using cssSelector but not increasing the value auto.\r\n\r\n    driver.findElement(By.cssSelector(&quot;div.fixed-units &gt; input[id$=&#39;in&#39;]&quot;)).sendKeys(&quot;5&quot;);\r\n\r\nI want to increase the quantity in the input box but there is not any option for `&quot;+&quot;  &amp; &quot;-&quot;` on the frontend. \r\n\r\nSo only possible for first click on qty input `field&gt;then` increase `value - 1` to `2,3,4 etc&gt;update`\r\n\r\nPlease tell me what is the exact script or solution for this.","title":"How do i write selenium webdriver script for increase item quantity in quantity input field in mini cart section?","body":"<p>I have tried using cssSelector but not increasing the value auto.</p>\n<pre><code>driver.findElement(By.cssSelector(&quot;div.fixed-units &gt; input[id$='in']&quot;)).sendKeys(&quot;5&quot;);\n</code></pre>\n<p>I want to increase the quantity in the input box but there is not any option for <code>&quot;+&quot;  &amp; &quot;-&quot;</code> on the frontend.</p>\n<p>So only possible for first click on qty input <code>field&gt;then</code> increase <code>value - 1</code> to <code>2,3,4 etc&gt;update</code></p>\n<p>Please tell me what is the exact script or solution for this.</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":7559336,"reputation":169,"user_id":5737541,"accept_rate":75,"display_name":"Sriram S"},"score":0,"creation_date":1672146880,"post_id":74929046,"comment_id":132229033,"body_markdown":"Check if xpath/css/any element locators  differs for toggle on and off. If so, use it accordingly","body":"Check if xpath/css/any element locators  differs for toggle on and off. If so, use it accordingly"}],"answers":[{"comments":[{"owner":{"account_id":27261804,"reputation":11,"user_id":20784529,"display_name":"Appas Azlan"},"score":0,"creation_date":1672753610,"post_id":74960325,"comment_id":132342134,"body_markdown":"Hi @max , i tried multiple way , nothing worked check the below structure\n\n\n &lt;label _ngcontent-bpb-c424=&quot;&quot; class=&quot;switch mr-3&quot;&gt;\n                &lt;input _ngcontent-bpb-c424=&quot;&quot; type=&quot;checkbox&quot; autocomplete=&quot;off&quot; maxlength=&quot;500&quot; class=&quot;ng-untouched ng-pristine ng-valid&quot; /&gt;&lt;span _ngcontent-bpb-c424=&quot;&quot; aria-label=&quot;toggle&quot; class=&quot;slider round&quot;&gt;&lt;/span&gt;\n            &lt;/label&gt;","body":"Hi @max , i tried multiple way , nothing worked check the below structure    &lt;label _ngcontent-bpb-c424=&quot;&quot; class=&quot;switch mr-3&quot;&gt;                 &lt;input _ngcontent-bpb-c424=&quot;&quot; type=&quot;checkbox&quot; autocomplete=&quot;off&quot; maxlength=&quot;500&quot; class=&quot;ng-untouched ng-pristine ng-valid&quot; /&gt;&lt;span _ngcontent-bpb-c424=&quot;&quot; aria-label=&quot;toggle&quot; class=&quot;slider round&quot;&gt;&lt;/span&gt;             &lt;/label&gt;"},{"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"score":0,"creation_date":1672819442,"post_id":74960325,"comment_id":132356735,"body_markdown":"Hi @AppasAzlan, from the structure you provided I cannot confirm that checkbox input is hidden, it still can be hidden and unclickable but it&#39;s not clear yet. But I see checkbox contains class `ng-untouched`, I guess it means checkbox is not checked, and when you&#39;ll toggle it, this class will be removed from element. So you can somehow utilize that fact to determine is checkbox checked or not. You might find input element, and invoke `boolean isSelected = !inputElement.getAttribute(&quot;class&quot;).contains(&quot;untouched&quot;);`","body":"Hi @AppasAzlan, from the structure you provided I cannot confirm that checkbox input is hidden, it still can be hidden and unclickable but it&#39;s not clear yet. But I see checkbox contains class <code>ng-untouched</code>, I guess it means checkbox is not checked, and when you&#39;ll toggle it, this class will be removed from element. So you can somehow utilize that fact to determine is checkbox checked or not. You might find input element, and invoke <code>boolean isSelected = !inputElement.getAttribute(&quot;class&quot;).contains(&quot;untouched&quot;);</code>"}],"tags":[],"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672394974,"creation_date":1672394974,"answer_id":74960325,"question_id":74929046,"body_markdown":"You trying to invoke `isSelected()` for [label][1] element (based on xpath you&#39;ve provided).\r\n\r\nBased on official Selenium javadoc\r\nhttps://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebElement.html#isSelected()\r\n\r\n&gt; This operation only applies to input elements such as checkboxes, options in a select and radio buttons.\r\n\r\n\r\nSo `isSelected()` always returns true for non-input elements.\r\n\r\n\r\n**Solution proposed**\r\n\r\nCorrect your xpath to refer corresponding **input** element, not **label**.\r\n\r\nIt can be some `&lt;input type=&quot;checkbox&quot;&gt;` element in page source.\r\n\r\nAlso note that for some modern checkbox implementation those ***input*** elements can be hidden and even not directly clickable, anyway, highly likely you&#39;ll have to invoke `isSelected()` against those elements, but still need to click on ***label*** to toggle.\r\n\r\nSo you&#39;ll need to iterate by element index and get checkbox input and toggle label both.\r\n\r\n```\r\nList&lt;WebElement&gt; checkboxInputs = driver.findElements(By.xpath(&quot;some-xpath-part-you-need-to-determine/input&quot;));\r\n\r\nList&lt;WebElement&gt; allToggle = driver.findElements(By.xpath(&quot;//body//******-******-****authoring//div//table//td//label&quot;));\r\n\r\nint checkboxesCount = allToggle.size();\r\n\r\nfor (int i = 0; i &lt; checkboxesCount; i++;) {\r\n    if (!checkboxInputs.get(i).isSelected()) {\r\n        allToggle.get(i).click();\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.w3schools.com/tags/tag_label.asp","title":"isSelected() method for checkbox always returns true","body":"<p>You trying to invoke <code>isSelected()</code> for <a href=\"https://www.w3schools.com/tags/tag_label.asp\" rel=\"nofollow noreferrer\">label</a> element (based on xpath you've provided).</p>\n<p>Based on official Selenium javadoc\n<a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebElement.html#isSelected()\" rel=\"nofollow noreferrer\">https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebElement.html#isSelected()</a></p>\n<blockquote>\n<p>This operation only applies to input elements such as checkboxes, options in a select and radio buttons.</p>\n</blockquote>\n<p>So <code>isSelected()</code> always returns true for non-input elements.</p>\n<p><strong>Solution proposed</strong></p>\n<p>Correct your xpath to refer corresponding <strong>input</strong> element, not <strong>label</strong>.</p>\n<p>It can be some <code>&lt;input type=&quot;checkbox&quot;&gt;</code> element in page source.</p>\n<p>Also note that for some modern checkbox implementation those <em><strong>input</strong></em> elements can be hidden and even not directly clickable, anyway, highly likely you'll have to invoke <code>isSelected()</code> against those elements, but still need to click on <em><strong>label</strong></em> to toggle.</p>\n<p>So you'll need to iterate by element index and get checkbox input and toggle label both.</p>\n<pre><code>List&lt;WebElement&gt; checkboxInputs = driver.findElements(By.xpath(&quot;some-xpath-part-you-need-to-determine/input&quot;));\n\nList&lt;WebElement&gt; allToggle = driver.findElements(By.xpath(&quot;//body//******-******-****authoring//div//table//td//label&quot;));\n\nint checkboxesCount = allToggle.size();\n\nfor (int i = 0; i &lt; checkboxesCount; i++;) {\n    if (!checkboxInputs.get(i).isSelected()) {\n        allToggle.get(i).click();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27261804,"reputation":11,"user_id":20784529,"display_name":"Appas Azlan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682638387,"creation_date":1682414956,"answer_id":76099619,"question_id":74929046,"body_markdown":"Finally, I did create a solution that worked also. \r\n\r\nThe problem is there are two sections for every checkbox, one is the ```&lt;Input&gt;``` tag and the another one is the ```&lt;Span&gt;```tag. The input tag has the status about that checkbox is checked or not,  ```&amp; but click action``` will not work with input, it only works with Span, so I handled it this way:\r\n\r\n```java\r\nprotected void disableToggle(By Span_Path, By InputPath) {\r\n  if (!driver.findElement(InputPath).isSelected()) {\r\n    System.out.println(&quot; Toggle is Already Disabled &quot;);\r\n\r\n  } else if (driver.findElement(InputPath).isSelected()) {\r\n     click(Span_Path, WaitStrategy.CLICKABLE, &quot;Toggle Button Disabled&quot;);\r\n\r\n  }\r\n}\r\n```","title":"isSelected() method for checkbox always returns true","body":"<p>Finally, I did create a solution that worked also.</p>\n<p>The problem is there are two sections for every checkbox, one is the <code>&lt;Input&gt;</code> tag and the another one is the <code>&lt;Span&gt;</code>tag. The input tag has the status about that checkbox is checked or not,  <code>&amp; but click action</code> will not work with input, it only works with Span, so I handled it this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected void disableToggle(By Span_Path, By InputPath) {\n  if (!driver.findElement(InputPath).isSelected()) {\n    System.out.println(&quot; Toggle is Already Disabled &quot;);\n\n  } else if (driver.findElement(InputPath).isSelected()) {\n     click(Span_Path, WaitStrategy.CLICKABLE, &quot;Toggle Button Disabled&quot;);\n\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":27261804,"reputation":11,"user_id":20784529,"display_name":"Appas Azlan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1682638387,"creation_date":1672142737,"question_id":74929046,"body_markdown":"I want to turn on the toggle button if any toggle button is in disabled state , I wanted to let it be if the toggle button is already in enabled state.\r\n\r\n\r\n```\r\nList&lt;WebElement&gt; allToggle = driver.findElements(By.xpath(&quot;//body//******-******-****authoring//div//table//td//label&quot;));\r\n\r\nfor (WebElement Toggle : allToggle) \r\n{\r\n    if (!Toggle.isSelected()) \r\n    {\r\n        Toggle.click();\r\n    }\r\n}\r\n```\r\n\r\n\r\nI don&#39;t know where I am being wrong.\r\n\r\nNote:- Type of the button is Checkbox ","title":"isSelected() method for checkbox always returns true","body":"<p>I want to turn on the toggle button if any toggle button is in disabled state , I wanted to let it be if the toggle button is already in enabled state.</p>\n<pre><code>List&lt;WebElement&gt; allToggle = driver.findElements(By.xpath(&quot;//body//******-******-****authoring//div//table//td//label&quot;));\n\nfor (WebElement Toggle : allToggle) \n{\n    if (!Toggle.isSelected()) \n    {\n        Toggle.click();\n    }\n}\n</code></pre>\n<p>I don't know where I am being wrong.</p>\n<p>Note:- Type of the button is Checkbox</p>\n"},{"tags":["java","maven","thymeleaf"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1682640828,"post_id":76125115,"comment_id":134251719,"body_markdown":"Don&#39;t set the `templatePrefix` string to a full drive-and-directory path. Set it (in your case) to `/templates/` because when Maven builds the JAR, that directory will be included in the JAR (unzip the JAR to see for yourself).","body":"Don&#39;t set the <code>templatePrefix</code> string to a full drive-and-directory path. Set it (in your case) to <code>&#47;templates&#47;</code> because when Maven builds the JAR, that directory will be included in the JAR (unzip the JAR to see for yourself)."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1682645922,"post_id":76125115,"comment_id":134252241,"body_markdown":"I will leave the above comment (note the leading `/`) but now I think maybe it&#39;s not the right suggestion. In your final bullet point, you mentioned some of the things you tried (I missed them the first time around - sorry about that). Can (a) you clarify what you tried, and format the text, for clarity? Also (b) what is the full stack trace of the error? Can you add that to your question?","body":"I will leave the above comment (note the leading <code>&#47;</code>) but now I think maybe it&#39;s not the right suggestion. In your final bullet point, you mentioned some of the things you tried (I missed them the first time around - sorry about that). Can (a) you clarify what you tried, and format the text, for clarity? Also (b) what is the full stack trace of the error? Can you add that to your question?"}],"owner":{"account_id":26070865,"reputation":1,"user_id":19898204,"display_name":"jasonwardenburg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682635126,"creation_date":1682635126,"question_id":76125115,"body_markdown":"I have a maven project (not spring boot) that I am working on that uses thymeleaf to create some html. \r\nI have everything working in a test environment, but when I tried to run the app off a jar I got an error message. \r\n\r\n    org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;C:\\myapp\\target\\src\\main\\resources\\templates\\secmain_report_template.html&quot;)\r\n\r\nI have my template resolver configured like so:\r\n\r\n\tpublic TemplateEngine getTemplateEngine(String templatePrefix, String templateSuffix) {\r\n\t\t\r\n\t\tFileTemplateResolver templateResolver = new FileTemplateResolver();\r\n\t\ttemplateResolver.setTemplateMode(TemplateMode.HTML);\r\n\t\ttemplateResolver.setPrefix(templatePrefix);\r\n\t\ttemplateResolver.setSuffix(templateSuffix);\r\n\t\ttemplateResolver.setCacheTTLMs(3600000L);\r\n\t\t\r\n\t\tTemplateEngine templateEngine = new TemplateEngine();\r\n\t\ttemplateEngine.setTemplateResolver(templateResolver);\r\n\t\t\r\n\t\treturn templateEngine;\r\n\t}\r\n\r\nwhen I set my template prefix to `src/main/resources/templates/`, everything runs ok in test. but when running the jar I got the error above. \r\n\r\n\r\nLooking at my target dir, I see\r\n&#39;my-app/target/classes/templates` and my template is there. \r\n\r\n`src/main/resources/templates` is the default template location, but when commenting out the setPrefix() line, I got the error \r\n`An error happened during template parsing (template: &quot;C:\\my-app\\secmain_report_template.html&quot;)`\r\n\r\nAny ideas?\r\nthanks!\r\n   \r\n\r\n\r\n\r\nI tried \r\n- commenting out the setPrefix() method\r\n- changing the value to &quot;&quot;, templates/, resources/templates and any other variation I could find. ","title":"problem with thymeleaf template prefix using FileTemplateResolver and maven","body":"<p>I have a maven project (not spring boot) that I am working on that uses thymeleaf to create some html.\nI have everything working in a test environment, but when I tried to run the app off a jar I got an error message.</p>\n<pre><code>org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;C:\\myapp\\target\\src\\main\\resources\\templates\\secmain_report_template.html&quot;)\n</code></pre>\n<p>I have my template resolver configured like so:</p>\n<pre><code>public TemplateEngine getTemplateEngine(String templatePrefix, String templateSuffix) {\n    \n    FileTemplateResolver templateResolver = new FileTemplateResolver();\n    templateResolver.setTemplateMode(TemplateMode.HTML);\n    templateResolver.setPrefix(templatePrefix);\n    templateResolver.setSuffix(templateSuffix);\n    templateResolver.setCacheTTLMs(3600000L);\n    \n    TemplateEngine templateEngine = new TemplateEngine();\n    templateEngine.setTemplateResolver(templateResolver);\n    \n    return templateEngine;\n}\n</code></pre>\n<p>when I set my template prefix to <code>src/main/resources/templates/</code>, everything runs ok in test. but when running the jar I got the error above.</p>\n<p>Looking at my target dir, I see\n'my-app/target/classes/templates` and my template is there.</p>\n<p><code>src/main/resources/templates</code> is the default template location, but when commenting out the setPrefix() line, I got the error\n<code>An error happened during template parsing (template: &quot;C:\\my-app\\secmain_report_template.html&quot;)</code></p>\n<p>Any ideas?\nthanks!</p>\n<p>I tried</p>\n<ul>\n<li>commenting out the setPrefix() method</li>\n<li>changing the value to &quot;&quot;, templates/, resources/templates and any other variation I could find.</li>\n</ul>\n"},{"tags":["java","spring-boot","gmail"],"comments":[{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1679813143,"post_id":75846156,"comment_id":133785542,"body_markdown":"You have to create a App Password in your account then copy generated password from them and paste it in your variable like `final String password = &quot;WPRTY UFNNR 25YRO 44REDF&quot;;`","body":"You have to create a App Password in your account then copy generated password from them and paste it in your variable like <code>final String password = &quot;WPRTY UFNNR 25YRO 44REDF&quot;;</code>"},{"owner":{"account_id":3197891,"reputation":157,"user_id":2700673,"accept_rate":47,"display_name":"The Old County"},"score":0,"creation_date":1679842091,"post_id":75846156,"comment_id":133789225,"body_markdown":"where is the link to this dashboard to create an App password -- so instead of the standard email password - I use this generated app password instead?","body":"where is the link to this dashboard to create an App password -- so instead of the standard email password - I use this generated app password instead?"},{"owner":{"account_id":3197891,"reputation":157,"user_id":2700673,"accept_rate":47,"display_name":"The Old County"},"score":0,"creation_date":1682634966,"post_id":75846156,"comment_id":134251144,"body_markdown":"I followed this - and changed to the app password - should have no spaces they say -- https://www.youtube.com/watch?v=eDELkdvqSz8 -- but this still does not work -- I get a error like this -- javax.mail.MessagingException: Could not convert socket to TLS;\n  nested exception is:\n\tjavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\n\tat com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1907)","body":"I followed this - and changed to the app password - should have no spaces they say -- <a href=\"https://www.youtube.com/watch?v=eDELkdvqSz8\" rel=\"nofollow noreferrer\">youtube.com/watch?v=eDELkdvqSz8</a> -- but this still does not work -- I get a error like this -- javax.mail.MessagingException: Could not convert socket to TLS;   nested exception is: \tjavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate) \tat com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:&zwnj;&#8203;1907)"}],"owner":{"account_id":3197891,"reputation":157,"user_id":2700673,"accept_rate":47,"display_name":"The Old County"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682634918,"creation_date":1679811065,"question_id":75846156,"body_markdown":"I am working on a java springboot application locally - and the email service used to be working about a year ago - but I think because of security processes my codebase is no longer working.\r\n\r\nI am unsure how to get this re-implemented again with my old googlemail test account -- and I am cautious about the issues trying to implement a mail server once I host the site live.\r\n\r\n&quot;I searched the web and primary recommendation was to turn on &quot;Allow less secure applications&quot; on the account, but Google is no longer allows it.&quot; --- this link has similar information.\r\n\r\nhttps://support.google.com/mail/thread/184502839/sending-email-via-java-application?hl=en\r\n\r\nand its recommended to check out - &quot;create&amp;use app passwords&quot;?\r\nhttps://support.google.com/accounts/answer/185833#:~:text=to%2520your%2520data.-,sign%2520in%2520with%2520app%2520passwords,-Tip%253A%2520App%2520Passwords\r\n\r\n-- I have not seen this option on the account - and even if an app/password thing is done -where and how would I implement the app password in the current code?\r\n\r\nresearch\r\n\r\nhttps://forum.katalon.com/t/email-sending-via-gmail-doesnt-work-since-may-30-2022/65957/4\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.freemarker&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;freemarker&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.31&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5.0-b01&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n----------\r\n\r\n\r\n\r\n    package com.rom.service;\r\n    \r\n    import com.mongodb.BasicDBObject;\r\n    import freemarker.cache.ClassTemplateLoader;\r\n    import freemarker.template.TemplateExceptionHandler;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    \r\n    import javax.mail.*;\r\n    import javax.mail.internet.InternetAddress;\r\n    import javax.mail.internet.MimeMessage;\r\n    import java.util.Properties;\r\n    \r\n    \r\n    import org.springframework.ui.freemarker.FreeMarkerTemplateUtils;\r\n    import freemarker.template.Configuration;\r\n    \r\n    \r\n    public class SendEmailSSL {\r\n    \r\n    \tprivate String hostUrl = &quot;http://localhost:9000&quot;;\r\n    \tprivate String emailFrom= &quot;ra*******@gmail.com&quot;;\r\n    \tprivate String emailCompany = &quot;raxxx&quot;;\r\n    \r\n    \t//@Autowired\r\n    \t//private Configuration fmConfiguration;\r\n    \r\n    \tpublic SendEmailSSL() {\r\n    \t}\r\n    \r\n    \tpublic void sendEmail(String template, BasicDBObject model) throws Exception{\r\n    \r\n    \t\tfinal String username = &quot;ra****@gmail.com&quot;;\r\n    \t\tfinal String password = &quot;R*******!&quot;;\r\n    \r\n    \t\tProperties prop = new Properties();\r\n    \t\tprop.put(&quot;mail.host&quot;, &quot;smtp.gmail.com&quot;);\r\n    \t\tprop.put(&quot;mail.port&quot;, &quot;587&quot;);\r\n    \t\tprop.put(&quot;mail.transport.protocol&quot;, &quot;true&quot;);\r\n    \t\tprop.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n    \t\tprop.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n    \t\tprop.put(&quot;mail.smtp.socketFactory.port&quot;, &quot;465&quot;);\r\n    \t\tprop.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n    \r\n    \t\tSession session = Session.getInstance(prop,\r\n    \t\t\t\tnew javax.mail.Authenticator() {\r\n    \t\t\t\t\tprotected PasswordAuthentication getPasswordAuthentication() {\r\n    \t\t\t\t\t\treturn new PasswordAuthentication(username, password);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \r\n    \t\ttry {\r\n    \r\n    \t\t\tString subject = &quot;Welcome&quot;;\r\n    \t\t\tswitch (template) {\r\n    \t\t\t\tcase &quot;register&quot;:\r\n    \t\t\t\t\tsubject = &quot;Welcome to xxx&quot;;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase &quot;forgot&quot;:\r\n    \t\t\t\t\tsubject = &quot;We have reset your password&quot;;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t}\r\n    \r\n    \t\t\tMessage mimeMessage = new MimeMessage(session);\r\n    \t\t\tmimeMessage.setFrom(new InternetAddress(emailFrom, emailCompany));\r\n    \t\t\tmimeMessage.setRecipients(\r\n    \t\t\t\t\tMessage.RecipientType.TO,\r\n    \t\t\t\t\tInternetAddress.parse((String) model.get(&quot;email&quot;))\r\n    \t\t\t);\r\n    \t\t\tmimeMessage.setSubject(subject);\r\n    \r\n    \t\t\t//image path\r\n    \t\t\tmodel.put(&quot;imgPath&quot;, hostUrl + &quot;/emails/_&quot;+template+&quot;/images/&quot;);\r\n    \t\t\tmimeMessage.setContent(geContentFromTemplate(template, model),&quot;text/html&quot;);\r\n    \t\t\tTransport.send(mimeMessage);\r\n    \r\n    \t\t} catch (MessagingException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \tpublic String geContentFromTemplate(String template, BasicDBObject model) {\r\n    \t\tStringBuffer content = new StringBuffer();\r\n    \r\n    \t\tConfiguration fmConfiguration = new Configuration(Configuration.VERSION_2_3_23);\r\n    \t\tClassTemplateLoader loader = new ClassTemplateLoader(\r\n    \t\t\t\tnew Configuration(Configuration.VERSION_2_3_23).getClass(), &quot;/templates&quot;);\r\n    \t\tfmConfiguration.setTemplateLoader(loader);\r\n    \t\tfmConfiguration.setDefaultEncoding(&quot;UTF-8&quot;);\r\n    \t\tfmConfiguration.setTemplateExceptionHandler(TemplateExceptionHandler.RETHROW_HANDLER);\r\n    \t\ttry {\r\n    \t\t\tcontent.append(FreeMarkerTemplateUtils\r\n    \t\t\t\t\t.processTemplateIntoString(fmConfiguration.getTemplate(  template +&quot;-template.html&quot;), model));\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn content.toString();\r\n    \t}\r\n    \r\n    }\r\n\r\n-----------\r\n\r\n27th April 2023\r\n\r\nI am still struggling with this -- I&#39;ve added the gmail account to a two way sign on -- and then app passwords becomes an available option\r\nhttps://www.youtube.com/watch?v=eDELkdvqSz8\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI&#39;ve changed this to the password in my java application - but still get an error\r\n\r\n    javax.mail.MessagingException: Could not convert socket to TLS;\r\n      nested exception is:\r\n    \tjavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n    \tat com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1907)\r\n    \tat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:666)\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oV7gX.png\r\n  [2]: https://i.stack.imgur.com/G7yNP.png","title":"Java Springboot - google mail - no longer working as an email service","body":"<p>I am working on a java springboot application locally - and the email service used to be working about a year ago - but I think because of security processes my codebase is no longer working.</p>\n<p>I am unsure how to get this re-implemented again with my old googlemail test account -- and I am cautious about the issues trying to implement a mail server once I host the site live.</p>\n<p>&quot;I searched the web and primary recommendation was to turn on &quot;Allow less secure applications&quot; on the account, but Google is no longer allows it.&quot; --- this link has similar information.</p>\n<p><a href=\"https://support.google.com/mail/thread/184502839/sending-email-via-java-application?hl=en\" rel=\"nofollow noreferrer\">https://support.google.com/mail/thread/184502839/sending-email-via-java-application?hl=en</a></p>\n<p>and its recommended to check out - &quot;create&amp;use app passwords&quot;?\n<a href=\"https://support.google.com/accounts/answer/185833#:%7E:text=to%2520your%2520data.-,sign%2520in%2520with%2520app%2520passwords,-Tip%253A%2520App%2520Passwords\" rel=\"nofollow noreferrer\">https://support.google.com/accounts/answer/185833#:~:text=to%2520your%2520data.-,sign%2520in%2520with%2520app%2520passwords,-Tip%253A%2520App%2520Passwords</a></p>\n<p>-- I have not seen this option on the account - and even if an app/password thing is done -where and how would I implement the app password in the current code?</p>\n<p>research</p>\n<p><a href=\"https://forum.katalon.com/t/email-sending-via-gmail-doesnt-work-since-may-30-2022/65957/4\" rel=\"nofollow noreferrer\">https://forum.katalon.com/t/email-sending-via-gmail-doesnt-work-since-may-30-2022/65957/4</a></p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.freemarker&lt;/groupId&gt;\n        &lt;artifactId&gt;freemarker&lt;/artifactId&gt;\n        &lt;version&gt;2.3.31&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n        &lt;artifactId&gt;mail&lt;/artifactId&gt;\n        &lt;version&gt;1.5.0-b01&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<hr />\n<pre><code>package com.rom.service;\n\nimport com.mongodb.BasicDBObject;\nimport freemarker.cache.ClassTemplateLoader;\nimport freemarker.template.TemplateExceptionHandler;\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport javax.mail.*;\nimport javax.mail.internet.InternetAddress;\nimport javax.mail.internet.MimeMessage;\nimport java.util.Properties;\n\n\nimport org.springframework.ui.freemarker.FreeMarkerTemplateUtils;\nimport freemarker.template.Configuration;\n\n\npublic class SendEmailSSL {\n\n    private String hostUrl = &quot;http://localhost:9000&quot;;\n    private String emailFrom= &quot;ra*******@gmail.com&quot;;\n    private String emailCompany = &quot;raxxx&quot;;\n\n    //@Autowired\n    //private Configuration fmConfiguration;\n\n    public SendEmailSSL() {\n    }\n\n    public void sendEmail(String template, BasicDBObject model) throws Exception{\n\n        final String username = &quot;ra****@gmail.com&quot;;\n        final String password = &quot;R*******!&quot;;\n\n        Properties prop = new Properties();\n        prop.put(&quot;mail.host&quot;, &quot;smtp.gmail.com&quot;);\n        prop.put(&quot;mail.port&quot;, &quot;587&quot;);\n        prop.put(&quot;mail.transport.protocol&quot;, &quot;true&quot;);\n        prop.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n        prop.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n        prop.put(&quot;mail.smtp.socketFactory.port&quot;, &quot;465&quot;);\n        prop.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\n\n        Session session = Session.getInstance(prop,\n                new javax.mail.Authenticator() {\n                    protected PasswordAuthentication getPasswordAuthentication() {\n                        return new PasswordAuthentication(username, password);\n                    }\n                });\n\n        try {\n\n            String subject = &quot;Welcome&quot;;\n            switch (template) {\n                case &quot;register&quot;:\n                    subject = &quot;Welcome to xxx&quot;;\n                    break;\n                case &quot;forgot&quot;:\n                    subject = &quot;We have reset your password&quot;;\n                    break;\n            }\n\n            Message mimeMessage = new MimeMessage(session);\n            mimeMessage.setFrom(new InternetAddress(emailFrom, emailCompany));\n            mimeMessage.setRecipients(\n                    Message.RecipientType.TO,\n                    InternetAddress.parse((String) model.get(&quot;email&quot;))\n            );\n            mimeMessage.setSubject(subject);\n\n            //image path\n            model.put(&quot;imgPath&quot;, hostUrl + &quot;/emails/_&quot;+template+&quot;/images/&quot;);\n            mimeMessage.setContent(geContentFromTemplate(template, model),&quot;text/html&quot;);\n            Transport.send(mimeMessage);\n\n        } catch (MessagingException e) {\n            e.printStackTrace();\n        }\n    }\n\n\n    public String geContentFromTemplate(String template, BasicDBObject model) {\n        StringBuffer content = new StringBuffer();\n\n        Configuration fmConfiguration = new Configuration(Configuration.VERSION_2_3_23);\n        ClassTemplateLoader loader = new ClassTemplateLoader(\n                new Configuration(Configuration.VERSION_2_3_23).getClass(), &quot;/templates&quot;);\n        fmConfiguration.setTemplateLoader(loader);\n        fmConfiguration.setDefaultEncoding(&quot;UTF-8&quot;);\n        fmConfiguration.setTemplateExceptionHandler(TemplateExceptionHandler.RETHROW_HANDLER);\n        try {\n            content.append(FreeMarkerTemplateUtils\n                    .processTemplateIntoString(fmConfiguration.getTemplate(  template +&quot;-template.html&quot;), model));\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return content.toString();\n    }\n\n}\n</code></pre>\n<hr />\n<p>27th April 2023</p>\n<p>I am still struggling with this -- I've added the gmail account to a two way sign on -- and then app passwords becomes an available option\n<a href=\"https://www.youtube.com/watch?v=eDELkdvqSz8\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=eDELkdvqSz8</a></p>\n<p><a href=\"https://i.stack.imgur.com/oV7gX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oV7gX.png\" alt=\"enter image description here\" /></a></p>\n<p>I've changed this to the password in my java application - but still get an error</p>\n<pre><code>javax.mail.MessagingException: Could not convert socket to TLS;\n  nested exception is:\n    javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\n    at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1907)\n    at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:666)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/G7yNP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G7yNP.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","python-3.x","kivy","kivy-language","buildozer"],"owner":{"account_id":25612534,"reputation":1,"user_id":20323291,"display_name":"JohnnySinus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682634838,"creation_date":1682623504,"question_id":76123974,"body_markdown":"So I&#39;ve been trying to use the *buildozer* tool in order to build my python3 kivy calculator application for mobile platforms. Here is the main python source file and the &#39;calc.kv&#39; file:\r\n\r\n```\r\n#!/usr/bin/env python3\r\nfrom kivy.app import App\r\nfrom kivy.core.window import Window\r\nimport kivy\r\nfrom kivy.uix.boxlayout import BoxLayout\r\n\r\nclass CalcRoot(BoxLayout):\r\n    def __init__(self):\r\n        super(CalcRoot, self).__init__()\r\n\r\n    def calc_symbol(self, symbol):\r\n        self.calc_field.text += symbol\r\n\r\n    def clear(self) -&gt; None:\r\n        self.calc_field.text = &quot;&quot;\r\n\r\n    def get_result(self):\r\n        try:\r\n            self.calc_field.text = str(eval(self.calc_field.text))\r\n        except SyntaxError:\r\n            self.calc_field.text = &quot;Cannot parse expression&quot;\r\n\r\nclass MyCalc(App):\r\n    def build(self):\r\n        return CalcRoot()\r\n\r\ndef main():\r\n    kivy.require(&#39;1.9.0&#39;)\r\n    Window.size = (640, 700)\r\n    mycalc = MyCalc()\r\n    mycalc.run()\r\n\r\nif __name__ == &quot;__main__&quot;:\r\n    main()\r\n```\r\n- The calc.kv file:\r\n```\r\n&lt;CalcRoot&gt;\r\n\r\n    calc_field: calc_field\r\n\r\n    orientation: &#39;vertical&#39;\r\n    TextInput:\r\n        id: calc_field\r\n        height: 200\r\n        size_hint: (1, None)\r\n        readonly: True\r\n        disabled: True\r\n        font_size: 64\r\n\r\n    GridLayout:\r\n        rows: 4\r\n        columns: 4\r\n        padding: 10\r\n        spacing: 10\r\n        height: 400\r\n        size_hint: (1, None)\r\n        Button:\r\n            text: &#39;1&#39;\r\n            font_size: 26\r\n            on_press: root.calc_symbol(&#39;1&#39;)\r\n        Button:\r\n            text: &#39;2&#39;\r\n            font_size: 26\r\n            on_press: root.calc_symbol(&#39;2&#39;)\r\n        Button:\r\n            text: &#39;3&#39;\r\n            font_size: 26\r\n            on_press: root.calc_symbol(&#39;3&#39;)\r\n        Button:\r\n            text: &#39;+&#39;\r\n            font_size: 26\r\n            on_press: root.calc_symbol(&#39;+&#39;)\r\n        Button:\r\n            text: &#39;4&#39;\r\n            font_size: 26\r\n            on_press: root.calc_symbol(&#39;5&#39;)\r\n        Button:\r\n            text: &#39;5&#39;\r\n            font_size: 26\r\n            on_press: root.calc_symbol(&#39;5&#39;)\r\n        Button:\r\n            text: &#39;6&#39;\r\n            font_size: 26\r\n            on_press: root.calc_symbol(&#39;6&#39;)\r\n        Button:\r\n            text: &#39;-&#39;\r\n            font_size: 26\r\n            on_press: root.calc_symbol(&#39;-&#39;)\r\n        Button:\r\n            text: &#39;7&#39;\r\n            font_size: 26\r\n            on_press: root.calc_symbol(&#39;7&#39;)\r\n        Button:\r\n            text: &#39;8&#39;\r\n            font_size: 26\r\n            on_press: root.calc_symbol(&#39;8&#39;)\r\n        Button:\r\n            text: &#39;9&#39;\r\n            font_size: 26\r\n            on_press: root.calc_symbol(&#39;9&#39;)\r\n        Button:\r\n            text: &#39;x&#39;\r\n            font_size: 26\r\n            on_press: root.calc_symbol(&#39;*&#39;)\r\n        Button:\r\n            text: &#39;(&#39;\r\n            font_size: 26\r\n            on_press: root.calc_symbol(&#39;(&#39;)\r\n        Button:\r\n            text: &#39;0&#39;\r\n            font_size: 26\r\n            on_press: root.calc_symbol(&#39;0&#39;)\r\n        Button:\r\n            text: &#39;)&#39;\r\n            font_size: 26\r\n            on_press: root.calc_symbol(&#39;)&#39;)\r\n        Button:\r\n            text: &#39;&#247;&#39;\r\n            font_size: 26\r\n            on_press: root.calc_symbol(&#39;/&#39;)\r\n\r\n    BoxLayout:\r\n        orientation: &#39;horizontal&#39;\r\n        padding: 7\r\n        spacing: 7\r\n        height: 100\r\n        size_hint: (1, None)\r\n        Button:\r\n            text: &#39;.&#39;\r\n            font_size: 26\r\n            on_press: root.calc_symbol(&#39;.&#39;)\r\n        Button:\r\n            text: &#39;C&#39;\r\n            font_size: 26\r\n            on_press: root.clear()\r\n        Button:\r\n            text: &#39;=&#39;\r\n            font_size: 26\r\n            on_press: root.get_result()\r\n```\r\n\r\nEverything was going great up until I actually tried running the `buildozer -v android debug` command. I read in buildozer&#39;s documentation that it will work, and even if I don&#39;t have all the java dependencies installed, it will pull them for me and install them. However, I seem to be getting the following error:\r\n\r\n```\r\n/opt/jdk-20.0.1/bin/java: cannot execute binary file: Exec format error\r\n/home/user/.buildozer/android/platform/android-sdk/tools/bin/sdkmanager: line 172: /opt/jdk-20.0.1/bin/java: Success\r\n# Command failed: [&#39;/home/user/.buildozer/android/platform/android-sdk/tools/bin/sdkmanager&#39;, &#39;--sdk_root=/home/borat/.buildozer/android/platform/android-sdk&#39;, &#39;platform-tools&#39;]\r\n# ENVIRONMENT:\r\n&lt;and then it lists out a bunch of my environment variables&gt;\r\n# Buildozer failed to execute the last command\r\n# The error might be hidden in the log above this error\r\n# Please read the full log, and search for it before\r\n# raising an issue with buildozer itself.\r\n# In case of a bug report, please add a full log with log_level = 2\r\n```\r\nI tried googling the problem, and even tried multiple search engines, but I only find sketchy forums telling me that I need to reinstall java, but that doesn&#39;t solve anything....\r\n","title":"How to properly get buildozer set up?","body":"<p>So I've been trying to use the <em>buildozer</em> tool in order to build my python3 kivy calculator application for mobile platforms. Here is the main python source file and the 'calc.kv' file:</p>\n<pre><code>#!/usr/bin/env python3\nfrom kivy.app import App\nfrom kivy.core.window import Window\nimport kivy\nfrom kivy.uix.boxlayout import BoxLayout\n\nclass CalcRoot(BoxLayout):\n    def __init__(self):\n        super(CalcRoot, self).__init__()\n\n    def calc_symbol(self, symbol):\n        self.calc_field.text += symbol\n\n    def clear(self) -&gt; None:\n        self.calc_field.text = &quot;&quot;\n\n    def get_result(self):\n        try:\n            self.calc_field.text = str(eval(self.calc_field.text))\n        except SyntaxError:\n            self.calc_field.text = &quot;Cannot parse expression&quot;\n\nclass MyCalc(App):\n    def build(self):\n        return CalcRoot()\n\ndef main():\n    kivy.require('1.9.0')\n    Window.size = (640, 700)\n    mycalc = MyCalc()\n    mycalc.run()\n\nif __name__ == &quot;__main__&quot;:\n    main()\n</code></pre>\n<ul>\n<li>The calc.kv file:</li>\n</ul>\n<pre><code>&lt;CalcRoot&gt;\n\n    calc_field: calc_field\n\n    orientation: 'vertical'\n    TextInput:\n        id: calc_field\n        height: 200\n        size_hint: (1, None)\n        readonly: True\n        disabled: True\n        font_size: 64\n\n    GridLayout:\n        rows: 4\n        columns: 4\n        padding: 10\n        spacing: 10\n        height: 400\n        size_hint: (1, None)\n        Button:\n            text: '1'\n            font_size: 26\n            on_press: root.calc_symbol('1')\n        Button:\n            text: '2'\n            font_size: 26\n            on_press: root.calc_symbol('2')\n        Button:\n            text: '3'\n            font_size: 26\n            on_press: root.calc_symbol('3')\n        Button:\n            text: '+'\n            font_size: 26\n            on_press: root.calc_symbol('+')\n        Button:\n            text: '4'\n            font_size: 26\n            on_press: root.calc_symbol('5')\n        Button:\n            text: '5'\n            font_size: 26\n            on_press: root.calc_symbol('5')\n        Button:\n            text: '6'\n            font_size: 26\n            on_press: root.calc_symbol('6')\n        Button:\n            text: '-'\n            font_size: 26\n            on_press: root.calc_symbol('-')\n        Button:\n            text: '7'\n            font_size: 26\n            on_press: root.calc_symbol('7')\n        Button:\n            text: '8'\n            font_size: 26\n            on_press: root.calc_symbol('8')\n        Button:\n            text: '9'\n            font_size: 26\n            on_press: root.calc_symbol('9')\n        Button:\n            text: 'x'\n            font_size: 26\n            on_press: root.calc_symbol('*')\n        Button:\n            text: '('\n            font_size: 26\n            on_press: root.calc_symbol('(')\n        Button:\n            text: '0'\n            font_size: 26\n            on_press: root.calc_symbol('0')\n        Button:\n            text: ')'\n            font_size: 26\n            on_press: root.calc_symbol(')')\n        Button:\n            text: '÷'\n            font_size: 26\n            on_press: root.calc_symbol('/')\n\n    BoxLayout:\n        orientation: 'horizontal'\n        padding: 7\n        spacing: 7\n        height: 100\n        size_hint: (1, None)\n        Button:\n            text: '.'\n            font_size: 26\n            on_press: root.calc_symbol('.')\n        Button:\n            text: 'C'\n            font_size: 26\n            on_press: root.clear()\n        Button:\n            text: '='\n            font_size: 26\n            on_press: root.get_result()\n</code></pre>\n<p>Everything was going great up until I actually tried running the <code>buildozer -v android debug</code> command. I read in buildozer's documentation that it will work, and even if I don't have all the java dependencies installed, it will pull them for me and install them. However, I seem to be getting the following error:</p>\n<pre><code>/opt/jdk-20.0.1/bin/java: cannot execute binary file: Exec format error\n/home/user/.buildozer/android/platform/android-sdk/tools/bin/sdkmanager: line 172: /opt/jdk-20.0.1/bin/java: Success\n# Command failed: ['/home/user/.buildozer/android/platform/android-sdk/tools/bin/sdkmanager', '--sdk_root=/home/borat/.buildozer/android/platform/android-sdk', 'platform-tools']\n# ENVIRONMENT:\n&lt;and then it lists out a bunch of my environment variables&gt;\n# Buildozer failed to execute the last command\n# The error might be hidden in the log above this error\n# Please read the full log, and search for it before\n# raising an issue with buildozer itself.\n# In case of a bug report, please add a full log with log_level = 2\n</code></pre>\n<p>I tried googling the problem, and even tried multiple search engines, but I only find sketchy forums telling me that I need to reinstall java, but that doesn't solve anything....</p>\n"},{"tags":["java","json","rest","android-asynctask","retrofit2"],"owner":{"account_id":17006005,"reputation":1,"user_id":12302194,"display_name":"adika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682634433,"creation_date":1682634433,"question_id":76125068,"body_markdown":"I would like to know how to retrieve name and phone only information of a phone contacts data and send it to server using async task\r\n\r\nMySQL Database columns will look like  \r\n    name       |  phoneNumber\r\ncontactname1        123456","title":"How to retrieve and send phone contacts data to server using REST API","body":"<p>I would like to know how to retrieve name and phone only information of a phone contacts data and send it to server using async task</p>\n<p>MySQL Database columns will look like<br />\nname       |  phoneNumber\ncontactname1        123456</p>\n"},{"tags":["java","spring-boot","rest","swagger-ui"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1682619799,"post_id":76123431,"comment_id":134248633,"body_markdown":"Probably you can do this by customizing the CSS https://springdoc.org/#customizing-swagger-static-resources. Possible duplicate: https://stackoverflow.com/questions/68653453/how-to-remove-explore-form-from-top-navbar-in-swagger-ui-using-docker-compose","body":"Probably you can do this by customizing the CSS <a href=\"https://springdoc.org/#customizing-swagger-static-resources\" rel=\"nofollow noreferrer\">springdoc.org/#customizing-swagger-static-resources</a>. Possible duplicate: <a href=\"https://stackoverflow.com/questions/68653453/how-to-remove-explore-form-from-top-navbar-in-swagger-ui-using-docker-compose\" title=\"how to remove explore form from top navbar in swagger ui using docker compose\">stackoverflow.com/questions/68653453/&hellip;</a>"},{"owner":{"account_id":5878211,"reputation":367,"user_id":4628462,"accept_rate":54,"display_name":"blaiso"},"score":0,"creation_date":1683121634,"post_id":76123431,"comment_id":134318024,"body_markdown":"Thanks PeterMmm for your answer.\n\nFinally, i have been able to hide the Explore Section by adding the following lines to my applicatio.properties file\nspringdoc.swagger-ui.layout=BaseLayout\nspringdoc.swagger-ui.tagsSorter =alpha\nspringdoc.swagger-ui.operationsSorter = alpha","body":"Thanks PeterMmm for your answer.  Finally, i have been able to hide the Explore Section by adding the following lines to my applicatio.properties file springdoc.swagger-ui.layout=BaseLayout springdoc.swagger-ui.tagsSorter =alpha springdoc.swagger-ui.operationsSorter = alpha"},{"owner":{"account_id":8851822,"reputation":63,"user_id":6610813,"display_name":"Manny"},"score":0,"creation_date":1697164550,"post_id":76123431,"comment_id":136248431,"body_markdown":"Just a tiny comment, the BaseLayout alone seems to hide the whole top bar.","body":"Just a tiny comment, the BaseLayout alone seems to hide the whole top bar."}],"owner":{"account_id":5878211,"reputation":367,"user_id":4628462,"accept_rate":54,"display_name":"blaiso"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1682634096,"creation_date":1682618809,"question_id":76123431,"body_markdown":"I&#39;m build a Swagguer UI to expose some Rest API using Spring boot 3.0.2 et springdoc-openapi-starter-webmvc-ui 2.0.2 and maven\r\n\r\nI would like to hide the **Explore** Section as highlighted on the following image. Is there any Springboot configuration to hide that section?\r\n\r\nThanks so much\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Plneu.png","title":"Spring boot springdoc-openapi swagger UI how to hide the Explore section","body":"<p>I'm build a Swagguer UI to expose some Rest API using Spring boot 3.0.2 et springdoc-openapi-starter-webmvc-ui 2.0.2 and maven</p>\n<p>I would like to hide the <strong>Explore</strong> Section as highlighted on the following image. Is there any Springboot configuration to hide that section?</p>\n<p>Thanks so much</p>\n<p><a href=\"https://i.stack.imgur.com/Plneu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Plneu.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1682618207,"post_id":76123344,"comment_id":134248272,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nPlease show your attempts you have tried and the problems/error messages you get from your attempts. You might want to check other questions like https://stackoverflow.com/questions/58549186/is-it-possible-to-print-a-subscript-number-in-cmd-using-java or https://stackoverflow.com/questions/8058768/superscript-in-java-string","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Please show your attempts you have tried and the problems/error messages you get from your attempts. You might want to check other questions like <a href=\"https://stackoverflow.com/questions/58549186/is-it-possible-to-print-a-subscript-number-in-cmd-using-java\" title=\"is it possible to print a subscript number in cmd using java\">stackoverflow.com/questions/58549186/&hellip;</a> or <a href=\"https://stackoverflow.com/questions/8058768/superscript-in-java-string\" title=\"superscript in java string\">stackoverflow.com/questions/8058768/superscript-in-java-stri&zwnj;&#8203;ng</a>"},{"owner":{"account_id":25190184,"reputation":163,"user_id":19030462,"display_name":"Sebastian"},"score":1,"creation_date":1682618274,"post_id":76123344,"comment_id":134248288,"body_markdown":"As far as I know it&#39;s not possible to change the superscript of a char in the terminal, however, if your terminal supports it, you could try using superscript unicode characters\nhttps://rupertshepherd.info/resource_pages/superscript-letters-in-unicode","body":"As far as I know it&#39;s not possible to change the superscript of a char in the terminal, however, if your terminal supports it, you could try using superscript unicode characters <a href=\"https://rupertshepherd.info/resource_pages/superscript-letters-in-unicode\" rel=\"nofollow noreferrer\">rupertshepherd.info/resource_pages/&hellip;</a>"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1682618312,"post_id":76123344,"comment_id":134248296,"body_markdown":"Probably not, or only for characters that are included in the terminal&#39;s  supported character set. Maybe you get a superscript 2 or 3, and that&#39;s it. Keep in mind, it&#39;s just a terminal, not a browser or typesetting environment.","body":"Probably not, or only for characters that are included in the terminal&#39;s  supported character set. Maybe you get a superscript 2 or 3, and that&#39;s it. Keep in mind, it&#39;s just a terminal, not a browser or typesetting environment."},{"owner":{"account_id":22223630,"reputation":73,"user_id":16460888,"display_name":"Super Coder"},"score":0,"creation_date":1682623052,"post_id":76123344,"comment_id":134249232,"body_markdown":"only 2 or 3 using escape sequence ? Can&#39;t we use any package classes for printing any power in superscript ?","body":"only 2 or 3 using escape sequence ? Can&#39;t we use any package classes for printing any power in superscript ?"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1682625050,"post_id":76123344,"comment_id":134249596,"body_markdown":"You have to repeat the proper unicode for each digit. You could easily generate a static map and build the the exponent sequence for the desired number.  That map could be kept in a library.","body":"You have to repeat the proper unicode for each digit. You could easily generate a static map and build the the exponent sequence for the desired number.  That map could be kept in a library."}],"answers":[{"comments":[{"owner":{"account_id":22223630,"reputation":73,"user_id":16460888,"display_name":"Super Coder"},"score":0,"creation_date":1682622861,"post_id":76123605,"comment_id":134249194,"body_markdown":"I&#39;m using BlueJ, so HTML won&#39;t work here. The 1st escape sequence works. But it is only for squares and cubes... I am writing a binomial theorem program where I wanna print any **powers** .  How can I do it ?","body":"I&#39;m using BlueJ, so HTML won&#39;t work here. The 1st escape sequence works. But it is only for squares and cubes... I am writing a binomial theorem program where I wanna print any <b>powers</b> .  How can I do it ?"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1682623113,"post_id":76123605,"comment_id":134249252,"body_markdown":"Did you look at the link? All the other digits are there...","body":"Did you look at the link? All the other digits are there..."},{"owner":{"account_id":22223630,"reputation":73,"user_id":16460888,"display_name":"Super Coder"},"score":0,"creation_date":1682623234,"post_id":76123605,"comment_id":134249271,"body_markdown":"wait checking...","body":"wait checking..."},{"owner":{"account_id":22223630,"reputation":73,"user_id":16460888,"display_name":"Super Coder"},"score":0,"creation_date":1682623286,"post_id":76123605,"comment_id":134249279,"body_markdown":"no how can we use this to print multiple digit powers ?","body":"no how can we use this to print multiple digit powers ?"},{"owner":{"account_id":22223630,"reputation":73,"user_id":16460888,"display_name":"Super Coder"},"score":0,"creation_date":1682623375,"post_id":76123605,"comment_id":134249300,"body_markdown":"It is going to be a problem because the superscript to be printed has to be divided into its constituent digits if multiple escape sequences is the only option available.","body":"It is going to be a problem because the superscript to be printed has to be divided into its constituent digits if multiple escape sequences is the only option available."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1682625303,"post_id":76123605,"comment_id":134249660,"body_markdown":"@SuperCoder You have to repeat the proper unicode for each digit. You could easily generate a static map and build the the exponent sequence for the desired number. That map could be kept in a library.   Perhaps some Apache or other 3rd party library library has a more versatile mechanism.","body":"@SuperCoder You have to repeat the proper unicode for each digit. You could easily generate a static map and build the the exponent sequence for the desired number. That map could be kept in a library.   Perhaps some Apache or other 3rd party library library has a more versatile mechanism."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682634009,"creation_date":1682620247,"answer_id":76123605,"question_id":76123344,"body_markdown":"Yes.  You can do it like this. This is the unicode version for superscript.  There are other codes that let you do letters and other digits.  This is just an example.  Here is a [link](https://www.compart.com/en/unicode/search?q=superscript#characters) for the digits and some special characters.  I do not know how stable this link is.\r\n```\r\nSystem.out.println(&quot;km\\u00B2&quot;);\r\nSystem.out.println(&quot;2\\u00B3&quot;);\r\n```\r\nprints\r\n```\r\nkm&#178;\r\n2&#179;\r\n```\r\nIf the target output device supports it, you can also use html.\r\n```\r\nSystem.out.println(&quot;km&lt;sup&gt;2&lt;/sup&gt;&quot;)\r\nSystem.out.println(&quot;2&lt;sup&gt;3&lt;/sup&gt;&quot;)\r\n```\r\n**Update**\r\n\r\nI have included some code to facilitate multi-digit exponents.\r\n- first, create an array of unicode exponents from 0 to 9 inclusive.\r\n```\r\nString[] uniDigits = new String[10];        \r\nfor(int i = 0; i &lt; 10; i++) {\r\n    uniDigits[i] = switch(i) {\r\n        case 2,3-&gt;Character.toString(0xB0+i);\r\n        case 1 -&gt; Character.toString(0xB9);        \r\n        case 0,4,5,6,7,8,9-&gt;Character.toString(0x2070+i);\r\n        default -&gt; throw new IllegalArgumentException();       \r\n        };\r\n}\r\n```\r\nThen I created a `BiFunction`  which takes the exponent and the digit array as arguments and returns the exponent.\r\n```\r\nBiFunction&lt;Integer, String[], String&gt; exponent = (exp, unis)-&gt; {\r\n    int offset = 0;\r\n    StringBuilder sb = new StringBuilder();\r\n    if (exp &lt; 0) {\r\n        offset = 1;\r\n        exp = -exp;\r\n        sb.append(Character.toString(0x207B)); // minus sign\r\n    }\r\n    int digits = exp == 0 ? 1 : (int)Math.log10(exp)+1;\r\n    while(digits-- &gt; 0) {\r\n        sb.insert(offset, unis[exp%10]);\r\n        exp/=10;\r\n    }\r\n    return sb.toString();\r\n};\r\n    \r\nSystem.out.println(&quot;10%s&quot;.formatted(exponent.apply(213,uniDigits)));\r\nSystem.out.println(&quot;15%s&quot;.formatted(exponent.apply(-38,uniDigits)));\r\n```\r\nprints\r\n```\r\n10&#178;&#185;&#179;\r\n15⁻&#179;⁸\r\n```\r\nInstead of using the `BiFunction` directly, you can also return a `Function` that takes a single argument of exponent and calls the BiFunction with the exponent and the digit array.\r\n```\r\nFunction&lt;Integer, String&gt; expf = exp-&gt; exponent.apply(exp,uniDigits);\r\n```\r\nIt does the same thing, just saves some typing if you have to sprinkle them around in your code.    ","title":"How to print powers in Java?","body":"<p>Yes.  You can do it like this. This is the unicode version for superscript.  There are other codes that let you do letters and other digits.  This is just an example.  Here is a <a href=\"https://www.compart.com/en/unicode/search?q=superscript#characters\" rel=\"nofollow noreferrer\">link</a> for the digits and some special characters.  I do not know how stable this link is.</p>\n<pre><code>System.out.println(&quot;km\\u00B2&quot;);\nSystem.out.println(&quot;2\\u00B3&quot;);\n</code></pre>\n<p>prints</p>\n<pre><code>km²\n2³\n</code></pre>\n<p>If the target output device supports it, you can also use html.</p>\n<pre><code>System.out.println(&quot;km&lt;sup&gt;2&lt;/sup&gt;&quot;)\nSystem.out.println(&quot;2&lt;sup&gt;3&lt;/sup&gt;&quot;)\n</code></pre>\n<p><strong>Update</strong></p>\n<p>I have included some code to facilitate multi-digit exponents.</p>\n<ul>\n<li>first, create an array of unicode exponents from 0 to 9 inclusive.</li>\n</ul>\n<pre><code>String[] uniDigits = new String[10];        \nfor(int i = 0; i &lt; 10; i++) {\n    uniDigits[i] = switch(i) {\n        case 2,3-&gt;Character.toString(0xB0+i);\n        case 1 -&gt; Character.toString(0xB9);        \n        case 0,4,5,6,7,8,9-&gt;Character.toString(0x2070+i);\n        default -&gt; throw new IllegalArgumentException();       \n        };\n}\n</code></pre>\n<p>Then I created a <code>BiFunction</code>  which takes the exponent and the digit array as arguments and returns the exponent.</p>\n<pre><code>BiFunction&lt;Integer, String[], String&gt; exponent = (exp, unis)-&gt; {\n    int offset = 0;\n    StringBuilder sb = new StringBuilder();\n    if (exp &lt; 0) {\n        offset = 1;\n        exp = -exp;\n        sb.append(Character.toString(0x207B)); // minus sign\n    }\n    int digits = exp == 0 ? 1 : (int)Math.log10(exp)+1;\n    while(digits-- &gt; 0) {\n        sb.insert(offset, unis[exp%10]);\n        exp/=10;\n    }\n    return sb.toString();\n};\n    \nSystem.out.println(&quot;10%s&quot;.formatted(exponent.apply(213,uniDigits)));\nSystem.out.println(&quot;15%s&quot;.formatted(exponent.apply(-38,uniDigits)));\n</code></pre>\n<p>prints</p>\n<pre><code>10²¹³\n15⁻³⁸\n</code></pre>\n<p>Instead of using the <code>BiFunction</code> directly, you can also return a <code>Function</code> that takes a single argument of exponent and calls the BiFunction with the exponent and the digit array.</p>\n<pre><code>Function&lt;Integer, String&gt; expf = exp-&gt; exponent.apply(exp,uniDigits);\n</code></pre>\n<p>It does the same thing, just saves some typing if you have to sprinkle them around in your code.</p>\n"}],"owner":{"account_id":22223630,"reputation":73,"user_id":16460888,"display_name":"Super Coder"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1682691534,"accepted_answer_id":76123605,"answer_count":1,"score":0,"last_activity_date":1682634009,"creation_date":1682618009,"question_id":76123344,"body_markdown":"Is there a way to print powers in java ? I am not talking about Math.pow(a, b) . In the terminal window, is it possible to print powers such that `b` is as a superscript ?\r\n\r\nI tried using the `System.out.println(a^b) ;` and it is only possible to write it as `a^b` where `b` is not a superscript.","title":"How to print powers in Java?","body":"<p>Is there a way to print powers in java ? I am not talking about Math.pow(a, b) . In the terminal window, is it possible to print powers such that <code>b</code> is as a superscript ?</p>\n<p>I tried using the <code>System.out.println(a^b) ;</code> and it is only possible to write it as <code>a^b</code> where <code>b</code> is not a superscript.</p>\n"},{"tags":["java","hadoop"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1523585574,"post_id":49808271,"comment_id":86631522,"body_markdown":"Did you install Hadoop 3.0.1? Does `hdfs fs -ls` work?","body":"Did you install Hadoop 3.0.1? Does <code>hdfs fs -ls</code> work?"},{"owner":{"account_id":8535209,"reputation":23,"user_id":6397312,"display_name":"Inferior_G"},"score":0,"creation_date":1523585978,"post_id":49808271,"comment_id":86631612,"body_markdown":"It works,but i didn&#39;t configure the enviroment variable of hadoop,i need to change directory to make it work.","body":"It works,but i didn&#39;t configure the enviroment variable of hadoop,i need to change directory to make it work."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1523617256,"post_id":49808271,"comment_id":86645080,"body_markdown":"Which environment variable? If that command doesn&#39;t work by itself, then you must make yourself a user directory","body":"Which environment variable? If that command doesn&#39;t work by itself, then you must make yourself a user directory"},{"owner":{"account_id":8535209,"reputation":23,"user_id":6397312,"display_name":"Inferior_G"},"score":0,"creation_date":1523694871,"post_id":49808271,"comment_id":86674192,"body_markdown":"The PATH, but I run the code in eclipse and import revelent jars, does  the enviroment variable of hadoop matter?","body":"The PATH, but I run the code in eclipse and import revelent jars, does  the enviroment variable of hadoop matter?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1523714922,"post_id":49808271,"comment_id":86679893,"body_markdown":"It should. Otherwise, only the defaults for HADOOP_CONF_DIR will be used. However, I suspect your JAR files are not the same version as the cluster itself. I also recommend that you use Maven or Gradle instead of manually adding jars yourself","body":"It should. Otherwise, only the defaults for HADOOP_CONF_DIR will be used. However, I suspect your JAR files are not the same version as the cluster itself. I also recommend that you use Maven or Gradle instead of manually adding jars yourself"},{"owner":{"account_id":8535209,"reputation":23,"user_id":6397312,"display_name":"Inferior_G"},"score":1,"creation_date":1523716212,"post_id":49808271,"comment_id":86680234,"body_markdown":"I choose to use hadoop 2.7.5 instead 3.0.1， the problem solved,thank you.","body":"I choose to use hadoop 2.7.5 instead 3.0.1， the problem solved,thank you."},{"owner":{"account_id":1259188,"reputation":184,"user_id":1217987,"display_name":"neel"},"score":0,"creation_date":1531915740,"post_id":49808271,"comment_id":89774017,"body_markdown":"The issue seems to be due to mismatch of Hadoop versions shaded with the JAR and the runtime environment. Removing the `&lt;dependency&gt;` blocks related to `hadoop` from `pom.xml` will enable to select the correct version from the hadoop runtime.","body":"The issue seems to be due to mismatch of Hadoop versions shaded with the JAR and the runtime environment. Removing the <code>&lt;dependency&gt;</code> blocks related to <code>hadoop</code> from <code>pom.xml</code> will enable to select the correct version from the hadoop runtime."}],"answers":[{"tags":[],"owner":{"account_id":11456460,"reputation":33,"user_id":8397300,"display_name":"nasty"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682633681,"creation_date":1682633681,"answer_id":76125017,"question_id":49808271,"body_markdown":"Ran into this when trying to use pyarrow to access hdfs.. make sure you&#39;re using the correct non-deprecated connect method to prevent hadoop version issues\r\n\r\n```\r\nhdfs = fs.HadoopFileSystem(&#39;hostname&#39;, 8020)\r\n```\r\nNOT\r\n```\r\nfs = pa.hdfs.connect(&#39;hostname&#39;)\r\n```","title":"java.lang.ClassCastException: cannot be cast to com.google.protobuf.Message","body":"<p>Ran into this when trying to use pyarrow to access hdfs.. make sure you're using the correct non-deprecated connect method to prevent hadoop version issues</p>\n<pre><code>hdfs = fs.HadoopFileSystem('hostname', 8020)\n</code></pre>\n<p>NOT</p>\n<pre><code>fs = pa.hdfs.connect('hostname')\n</code></pre>\n"}],"owner":{"account_id":8535209,"reputation":23,"user_id":6397312,"display_name":"Inferior_G"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7554,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682633681,"creation_date":1523585284,"question_id":49808271,"body_markdown":"I want to run the below program,using the hadoop-3.0.1. I have imported the \r\n  hadoop-client-api-3.0.1.jar,hadoop-client-runtime-3.0.1.jar\r\nand hadoop-client-minicluster-3.0.1.jar\r\n :\r\n\r\n    import org.apache.hadoop.conf.Configuration;\r\n    import org.apache.hadoop.fs.FileSystem;\r\n    import org.apache.hadoop.fs.Path;\r\n\r\n    public class HDFSFileTest {\r\n\tpublic static void main(String[]args) {\r\n\t\ttry {\r\n\t\t\tString fileName=&quot;test.txt&quot;;\r\n\t\t\tConfiguration conf =new Configuration();\r\n\t\t\tconf.set(&quot;fs.defaultFS&quot;,&quot;hdfs://localhost:9000&quot;);\r\n\t\t\tconf.set(&quot;fs.hdfs.impl&quot;,&quot;org.apache.hadoop.hdfs.DistributedFileSystem&quot;);\r\n\t\t\tFileSystem fs=FileSystem.get(conf);\t\t\r\n\t\t\tif(fs.exists(new Path(fileName))) {\r\n\t\t\t\tSystem.out.println(&quot;File exists!&quot;);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tSystem.out.println(&quot;File not exists!&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(Exception e){\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n    }\r\n\r\nI get the excetpion in eclipse:\r\n\r\n    java.lang.ClassCastException:org.apache.hadoop.hdfs.protocol.proto.ClientNamenodeProtocolProtos$GetFileInfoRequestProto cannot be cast to com.google.protobuf.Message\r\n\tat org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:225)\r\n\tat org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:116)\r\n\tat com.sun.proxy.$Proxy11.getFileInfo(Unknown Source)\r\n\tat org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolTranslatorPB.getFileInfo(ClientNamenodeProtocolTranslatorPB.java:876)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:422)\r\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:165)\r\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:157)\r\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)\r\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:359)\r\n\tat com.sun.proxy.$Proxy12.getFileInfo(Unknown Source)\r\n\tat org.apache.hadoop.hdfs.DFSClient.getFileInfo(DFSClient.java:1619)\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem$29.doCall(DistributedFileSystem.java:1494)\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem$29.doCall(DistributedFileSystem.java:1491)\r\n\tat org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem.getFileStatus(DistributedFileSystem.java:1506)\r\n\tat org.apache.hadoop.fs.FileSystem.exists(FileSystem.java:1668)\r\n\r\n\r\n","title":"java.lang.ClassCastException: cannot be cast to com.google.protobuf.Message","body":"<p>I want to run the below program,using the hadoop-3.0.1. I have imported the \n  hadoop-client-api-3.0.1.jar,hadoop-client-runtime-3.0.1.jar\nand hadoop-client-minicluster-3.0.1.jar\n :</p>\n\n<pre><code>import org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.fs.FileSystem;\nimport org.apache.hadoop.fs.Path;\n\npublic class HDFSFileTest {\npublic static void main(String[]args) {\n    try {\n        String fileName=\"test.txt\";\n        Configuration conf =new Configuration();\n        conf.set(\"fs.defaultFS\",\"hdfs://localhost:9000\");\n        conf.set(\"fs.hdfs.impl\",\"org.apache.hadoop.hdfs.DistributedFileSystem\");\n        FileSystem fs=FileSystem.get(conf);     \n        if(fs.exists(new Path(fileName))) {\n            System.out.println(\"File exists!\");\n        }\n        else {\n            System.out.println(\"File not exists!\");\n        }\n    }\n    catch(Exception e){\n        e.printStackTrace();\n    }\n}\n}\n</code></pre>\n\n<p>I get the excetpion in eclipse:</p>\n\n<pre><code>java.lang.ClassCastException:org.apache.hadoop.hdfs.protocol.proto.ClientNamenodeProtocolProtos$GetFileInfoRequestProto cannot be cast to com.google.protobuf.Message\nat org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:225)\nat org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:116)\nat com.sun.proxy.$Proxy11.getFileInfo(Unknown Source)\nat org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolTranslatorPB.getFileInfo(ClientNamenodeProtocolTranslatorPB.java:876)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:422)\nat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:165)\nat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:157)\nat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)\nat org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:359)\nat com.sun.proxy.$Proxy12.getFileInfo(Unknown Source)\nat org.apache.hadoop.hdfs.DFSClient.getFileInfo(DFSClient.java:1619)\nat org.apache.hadoop.hdfs.DistributedFileSystem$29.doCall(DistributedFileSystem.java:1494)\nat org.apache.hadoop.hdfs.DistributedFileSystem$29.doCall(DistributedFileSystem.java:1491)\nat org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)\nat org.apache.hadoop.hdfs.DistributedFileSystem.getFileStatus(DistributedFileSystem.java:1506)\nat org.apache.hadoop.fs.FileSystem.exists(FileSystem.java:1668)\n</code></pre>\n"},{"tags":["java","swing","jbutton","jlabel","imageicon"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":3,"creation_date":1682624846,"post_id":76123792,"comment_id":134249549,"body_markdown":"Maybe all these [other Stack Overflow questions](https://duckduckgo.com/?q=site%3Astackoverflow.com+java+JButton+transparent+macos&amp;atb=v344-1&amp;ia=web) covering the same topic might help.","body":"Maybe all these <a href=\"https://duckduckgo.com/?q=site%3Astackoverflow.com+java+JButton+transparent+macos&amp;atb=v344-1&amp;ia=web\" rel=\"nofollow noreferrer\">other Stack Overflow questions</a> covering the same topic might help."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1682632697,"post_id":76123792,"comment_id":134250856,"body_markdown":"Don&#39;t do `B.setBackground(new Color(0.0f,0.0f,0.0f,0.0f));` or `B.setPreferredSize(new Dimension(140,196));` and maybe do something more like [this](https://stackoverflow.com/questions/28732022/how-to-create-a-jbutton-with-only-an-image/28732051#28732051)","body":"Don&#39;t do <code>B.setBackground(new Color(0.0f,0.0f,0.0f,0.0f));</code> or <code>B.setPreferredSize(new Dimension(140,196));</code> and maybe do something more like <a href=\"https://stackoverflow.com/questions/28732022/how-to-create-a-jbutton-with-only-an-image/28732051#28732051\">this</a>"}],"owner":{"account_id":28438011,"reputation":1,"user_id":21757816,"display_name":"Mahmoud Elshafeei"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682632611,"creation_date":1682621847,"question_id":76123792,"body_markdown":"I&#39;ve set my JButtons to be transparent and I added pictures with transparent background to them, but they refuse to become transparent. Moreover, it works on Windows but does not work on my MacBook.\r\n\r\nI tried\r\n\r\n\tfor(int i = 0 ; i &lt; champions.size(); i++) { \t\r\n\t\tJButton B = new JButton(); \t\r\n\t\tB.setActionCommand(champions.get(i).getName());\r\n\t\tB.setPreferredSize(new Dimension(140,196));\r\n\t\tB.setBackground(new Color(0.0f,0.0f,0.0f,0.0f));\r\n\t\tB.setOpaque(false);\r\n\t\tB.setContentAreaFilled(false);\r\n\t\tB.setContentAreaFilled(false);\r\n\t\tB.setIcon(new ImageIcon(&quot;Images/&quot;+champions.get(i).getName()+ &quot;.png&quot;));\r\n\t\tB.setRolloverEnabled(false);\r\n\t\tbuttons.add(B);\r\n\t\tpanel2.add(B);\r\n\t}\r\n\r\n\r\nSo basically, I tried every way of setting it to transparency, but nothing worked!!!","title":"Why are my JButtons not transparent after using the setOpaque() function?","body":"<p>I've set my JButtons to be transparent and I added pictures with transparent background to them, but they refuse to become transparent. Moreover, it works on Windows but does not work on my MacBook.</p>\n<p>I tried</p>\n<pre><code>for(int i = 0 ; i &lt; champions.size(); i++) {    \n    JButton B = new JButton();  \n    B.setActionCommand(champions.get(i).getName());\n    B.setPreferredSize(new Dimension(140,196));\n    B.setBackground(new Color(0.0f,0.0f,0.0f,0.0f));\n    B.setOpaque(false);\n    B.setContentAreaFilled(false);\n    B.setContentAreaFilled(false);\n    B.setIcon(new ImageIcon(&quot;Images/&quot;+champions.get(i).getName()+ &quot;.png&quot;));\n    B.setRolloverEnabled(false);\n    buttons.add(B);\n    panel2.add(B);\n}\n</code></pre>\n<p>So basically, I tried every way of setting it to transparency, but nothing worked!!!</p>\n"},{"tags":["java","powershell","jar"],"comments":[{"owner":{"account_id":52885,"reputation":2853,"user_id":158069,"accept_rate":88,"display_name":"thepip3r"},"score":0,"creation_date":1643733509,"post_id":70943748,"comment_id":125415830,"body_markdown":"Why not store the PID and any descriptive information in a log file that can be parsed by your stop script?","body":"Why not store the PID and any descriptive information in a log file that can be parsed by your stop script?"},{"owner":{"account_id":38941,"reputation":7422,"user_id":112104,"accept_rate":70,"display_name":"Posto"},"score":0,"creation_date":1643735297,"post_id":70943748,"comment_id":125416619,"body_markdown":"@thepip3r - that&#39;s one option. probably the last option if nothing comes out.","body":"@thepip3r - that&#39;s one option. probably the last option if nothing comes out."}],"answers":[{"tags":[],"owner":{"account_id":38941,"reputation":7422,"user_id":112104,"accept_rate":70,"display_name":"Posto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643981666,"creation_date":1643981666,"answer_id":70987262,"question_id":70943748,"body_markdown":"Finally I am using [JPS][1] , it&#39;s command \r\n\r\n    &amp; jps -v \r\nreturning all the details like jar name etc. and that result I am using for filtering out the process id.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/technotes/tools/share/jps.html","title":"PowerShell get or stop a particular Java process","body":"<p>Finally I am using <a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/share/jps.html\" rel=\"nofollow noreferrer\">JPS</a> , it's command</p>\n<pre><code>&amp; jps -v \n</code></pre>\n<p>returning all the details like jar name etc. and that result I am using for filtering out the process id.</p>\n"},{"tags":[],"owner":{"account_id":27752638,"reputation":1,"user_id":21186793,"display_name":"RadND"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682631045,"creation_date":1682631045,"answer_id":76124806,"question_id":70943748,"body_markdown":"leave a snippet here\r\n```\r\nGet-Process -Id ((jps) | Select-String -Pattern &#39;([0-9]+)\\s+foo\\.jar&#39;).Matches.Groups[1].Value | Stop-Process\r\n```\r\nif you not sure if this process exist\r\n```\r\n(jps).where({$_ -match &#39;^([0-9]+)\\s+foo\\.jar&#39;})\r\n# add check here\r\nGet-Process -Id $Matches.1 | Stop-Process\r\n```\r\n\r\n\r\n\r\nNote for Windows user : On my computer , `Get-WmiObject -Query ...`([wmic][1] in powershell) sometimes return empty `CommandLine` property. And this jps way works fine. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2643901","title":"PowerShell get or stop a particular Java process","body":"<p>leave a snippet here</p>\n<pre><code>Get-Process -Id ((jps) | Select-String -Pattern '([0-9]+)\\s+foo\\.jar').Matches.Groups[1].Value | Stop-Process\n</code></pre>\n<p>if you not sure if this process exist</p>\n<pre><code>(jps).where({$_ -match '^([0-9]+)\\s+foo\\.jar'})\n# add check here\nGet-Process -Id $Matches.1 | Stop-Process\n</code></pre>\n<p>Note for Windows user : On my computer , <code>Get-WmiObject -Query ...</code>(<a href=\"https://stackoverflow.com/questions/2643901\">wmic</a> in powershell) sometimes return empty <code>CommandLine</code> property. And this jps way works fine.</p>\n"}],"owner":{"account_id":38941,"reputation":7422,"user_id":112104,"accept_rate":70,"display_name":"Posto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":521,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70987262,"answer_count":2,"score":0,"last_activity_date":1682631045,"creation_date":1643731803,"question_id":70943748,"body_markdown":"I am using PowerShell script to start multiple Java application. \r\n\r\n    $app = Start-Process -FilePath java -ArgumentList &quot;-jar $path_to_jar&quot; -PassThru\r\nit&#39;s working as expected. \r\n\r\nBut I also have to search a particular Java process and stope/close it.  \r\n*I cant use process id ($app.ID) as stop script will be a different script.* \r\n\r\n**Can I have some custom name/identifier to these Java process to get a particular process ? like if I can fetch a java process by JAR name etc.** \r\n\r\nNot sure but in Linux environment I have seen use of `-DAPP_INSTANCE_NAME` flag , that might be a custom flag to identify a process.    \r\n   \r\n\r\nAny help is apricated.  ","title":"PowerShell get or stop a particular Java process","body":"<p>I am using PowerShell script to start multiple Java application.</p>\n<pre><code>$app = Start-Process -FilePath java -ArgumentList &quot;-jar $path_to_jar&quot; -PassThru\n</code></pre>\n<p>it's working as expected.</p>\n<p>But I also have to search a particular Java process and stope/close it.<br />\n<em>I cant use process id ($app.ID) as stop script will be a different script.</em></p>\n<p><strong>Can I have some custom name/identifier to these Java process to get a particular process ? like if I can fetch a java process by JAR name etc.</strong></p>\n<p>Not sure but in Linux environment I have seen use of <code>-DAPP_INSTANCE_NAME</code> flag , that might be a custom flag to identify a process.</p>\n<p>Any help is apricated.</p>\n"},{"tags":["java","android","android-glide"],"answers":[{"tags":[],"owner":{"account_id":5703685,"reputation":4432,"user_id":4507927,"accept_rate":82,"display_name":"Yupi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1550254008,"creation_date":1550253103,"answer_id":54714632,"question_id":54713751,"body_markdown":"To use generated API in Glide you need to create a class and extend `AppGlideModule` and use `@GlideModule` annotation, for example:\r\n\r\n    import com.bumptech.glide.annotation.GlideModule;\r\n    import com.bumptech.glide.module.AppGlideModule;\r\n\r\n    @GlideModule\r\n    public final class MyAppGlideModule extends AppGlideModule {\r\n\r\n    }\r\nAfter this rebuild and you should be able to use `GlideApp` for more information visit:\r\nhttp://bumptech.github.io/glide/doc/generatedapi.html ","title":"GlideApp cannot be found","body":"<p>To use generated API in Glide you need to create a class and extend <code>AppGlideModule</code> and use <code>@GlideModule</code> annotation, for example:</p>\n\n<pre><code>import com.bumptech.glide.annotation.GlideModule;\nimport com.bumptech.glide.module.AppGlideModule;\n\n@GlideModule\npublic final class MyAppGlideModule extends AppGlideModule {\n\n}\n</code></pre>\n\n<p>After this rebuild and you should be able to use <code>GlideApp</code> for more information visit:\n<a href=\"http://bumptech.github.io/glide/doc/generatedapi.html\" rel=\"nofollow noreferrer\">http://bumptech.github.io/glide/doc/generatedapi.html</a> </p>\n"},{"tags":[],"owner":{"account_id":15797848,"reputation":111,"user_id":11399216,"display_name":"brady lee"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1647432858,"creation_date":1556016735,"answer_id":55809617,"question_id":54713751,"body_markdown":"If **GlideAPP** can&#39;t be generated \r\n\r\n    annotationProcessor com.github.bumptech.glide:compiler:4.9.0\r\n\r\nMust be with ‘AppGlideModule Implementation class’ In the same module\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/m5Zkl.png&quot; width=&quot;900&quot;/&gt;","title":"GlideApp cannot be found","body":"<p>If <strong>GlideAPP</strong> can't be generated</p>\n<pre><code>annotationProcessor com.github.bumptech.glide:compiler:4.9.0\n</code></pre>\n<p>Must be with ‘AppGlideModule Implementation class’ In the same module</p>\n<img src=\"https://i.stack.imgur.com/m5Zkl.png\" width=\"900\"/>\n"},{"tags":[],"owner":{"account_id":5534553,"reputation":473,"user_id":4393341,"accept_rate":25,"display_name":"Aleksandr Gorshkov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648013152,"creation_date":1648013152,"answer_id":71582206,"question_id":54713751,"body_markdown":"If you use Kotlin, try to use `kapt` instead of `annotationProcessor`.\r\n\r\n    implementation &quot;com.github.bumptech.glide:glide:$glide_version&quot;\r\n    kapt &quot;com.github.bumptech.glide:compiler:$glide_version&quot;","title":"GlideApp cannot be found","body":"<p>If you use Kotlin, try to use <code>kapt</code> instead of <code>annotationProcessor</code>.</p>\n<pre><code>implementation &quot;com.github.bumptech.glide:glide:$glide_version&quot;\nkapt &quot;com.github.bumptech.glide:compiler:$glide_version&quot;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17136787,"reputation":1029,"user_id":12401637,"display_name":"gowtham6672"},"score":0,"creation_date":1652420912,"post_id":71643644,"comment_id":127606385,"body_markdown":"thanks, your optional solution helped me when i use the glide library in an android library","body":"thanks, your optional solution helped me when i use the glide library in an android library"}],"tags":[],"owner":{"account_id":3999204,"reputation":11,"user_id":18605032,"display_name":"Karthikeyan G"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648648961,"creation_date":1648451633,"answer_id":71643644,"question_id":54713751,"body_markdown":"    def glide_version = &quot;4.12.0&quot;\r\n    \r\n    implementation &quot;com.github.bumptech.glide:glide:$glide_version&quot;\r\n    \r\n    kapt &quot;com.github.bumptech.glide:compiler:$glide_version&quot;\r\n\r\n\r\nThen *Sync* it will work.\r\n\r\n[Working Screenshot][1]\r\n\r\n\r\nOptional: You can also do this. `Build -&gt; Make Module`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TCmvf.png","title":"GlideApp cannot be found","body":"<pre><code>def glide_version = &quot;4.12.0&quot;\n\nimplementation &quot;com.github.bumptech.glide:glide:$glide_version&quot;\n\nkapt &quot;com.github.bumptech.glide:compiler:$glide_version&quot;\n</code></pre>\n<p>Then <em>Sync</em> it will work.</p>\n<p><a href=\"https://i.stack.imgur.com/TCmvf.png\" rel=\"nofollow noreferrer\">Working Screenshot</a></p>\n<p>Optional: You can also do this. <code>Build -&gt; Make Module</code></p>\n"},{"tags":[],"owner":{"account_id":5855287,"reputation":723,"user_id":4612755,"accept_rate":75,"display_name":"Ezequiel Adrian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682630461,"creation_date":1682630461,"answer_id":76124760,"question_id":54713751,"body_markdown":"Please manually check your code for errors. Errors in code will cause auto-generated class &quot;GlideApp&quot; to disappear when you try to build.\r\n\r\nAndroid Studio will first check for imports and find that GlideApp does not exist. But it will not show you up in-code (after import) errors unless you open each class one by one.","title":"GlideApp cannot be found","body":"<p>Please manually check your code for errors. Errors in code will cause auto-generated class &quot;GlideApp&quot; to disappear when you try to build.</p>\n<p>Android Studio will first check for imports and find that GlideApp does not exist. But it will not show you up in-code (after import) errors unless you open each class one by one.</p>\n"}],"owner":{"account_id":14653244,"reputation":33,"user_id":10582622,"display_name":"Palash Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7414,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":54714632,"answer_count":5,"score":1,"last_activity_date":1682630461,"creation_date":1550249490,"question_id":54713751,"body_markdown":"&gt; error: cannot find symbol variable GlideApp\r\n\r\nThis is the error I have been getting.\r\nI&#39;m using Android studio 3.3.1 and imported these modules for glide.\r\n\r\n    implementation &#39;com.github.bumptech.glide:glide:4.8.0&#39;\r\n    annotationProcessor &#39;com.github.bumptech.glide:compiler:4.8.0&#39;\r\n\r\n---\r\n\r\n    GlideApp.with(this /* context */)\r\n                .load(storageReference)\r\n                .into(MainImage);\r\n\r\n","title":"GlideApp cannot be found","body":"<blockquote>\n  <p>error: cannot find symbol variable GlideApp</p>\n</blockquote>\n\n<p>This is the error I have been getting.\nI'm using Android studio 3.3.1 and imported these modules for glide.</p>\n\n<pre><code>implementation 'com.github.bumptech.glide:glide:4.8.0'\nannotationProcessor 'com.github.bumptech.glide:compiler:4.8.0'\n</code></pre>\n\n<hr>\n\n<pre><code>GlideApp.with(this /* context */)\n            .load(storageReference)\n            .into(MainImage);\n</code></pre>\n"},{"tags":["java","minecraft","spigot"],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682629649,"creation_date":1682629649,"answer_id":76124681,"question_id":76124680,"body_markdown":"It&#39;s not recommended to use title for checking inventory. Instead, you can use the [`InventoryHolder`](https://hub.spigotmc.org/javadocs/spigot/org/bukkit/inventory/InventoryHolder.html) which is attached on the inventory (each holder is unique).\r\n\r\nTo do this, you should start by creating your inventory holder object. Example:\r\n```java\r\npublic class MyHolder implements InventoryHolder {\r\n\t\r\n\t@Override\r\n\tpublic Inventory getInventory() {\r\n\t\treturn null; // requuired by bukkit\r\n\t}\r\n}\r\n```\r\nThen, to create your inventory, you can simply put it on the main argument of createInventory:\r\n```java\r\nInventory inv = Bukkit.createInventory(new MyHolder(), 9, &quot;Title &quot; + myVar);\r\n// now we have the inventory\r\n```\r\n\r\nFor the event part, you have to check if it&#39;s an instance of:\r\n```java\r\n@EventHandler\r\npublic void onInventoryClick(InventoryClickEvent e) {\r\n\tif (item == null || e.getClickedInventory() == null || !(e.getWhoClicked() instanceof Player))\r\n\t\treturn; // skip if click outside of inventory\r\n\tPlayer p = (Player) e.getWhoClicked();\r\n\tInventoryHolder holder = e.getClickedInventory().getHolder();\r\n\tif(holder instanceof MyHolder) { // our holder!\r\n\t\tMyHolder nh = (MyHolder) holder;\r\n    }\r\n}\r\n```\r\n\r\n### Useful trick: Add content in holder\r\n\r\nIt enable to save all data that you want: list, object, map etc. No need to do json behavior, or having global list. Those variables are locale to the holder, and so for the inventory.\r\n\r\nFor example, you want to list all players you showed on an inventory, you can do:\r\n```java\r\npublic class MySecondHolder implements InventoryHolder {\r\n\t\r\n    // the map that will contains our data\r\n    public HashMap&lt;Integer, Player&gt; playerBySlot = new HashMap&lt;&gt;();\r\n\r\n\t@Override\r\n\tpublic Inventory getInventory() {\r\n\t\treturn null;\r\n\t}\r\n}\r\n```\r\nWhen creating the inventory:\r\n```java\r\nMySecondHolder holder = new MySecondHolder();\r\nInventory inv = Bukkit.createInventory(holder, 9, &quot;Players&quot;);\r\nint slot = 0;\r\nfor(Player p : Bukkit.getOnlinePlayers()) {\r\n   inv.setItem(slot, ItemUtils.createHeadFor(p)); // &#39;createHeadFor&#39; is only for example, it doesn&#39;t exist\r\n   holder.playerBySlot.put(slot, p); // add player into holder\r\n   slot++; // next slot\r\n}\r\nplayer.openInventory(inv);\r\n```\r\nFinally, on click you will be able to do that:\r\n```java\r\nInventoryHolder inventoryHolder = e.getClickedInventory().getHolder();\r\nif(inventoryHolder instanceof MySecondHolder) { // our holder!\r\n\tMySecondHolder holder = (MySecondHolder) inventoryHolder;\r\n    Player cible = holder.get(event.getSlot());\r\n    if(cible == null) {\r\n        // no player on this slot\r\n    } else {\r\n        // you know which player were at this slot!\r\n    }\r\n}\r\n```","title":"How to manage spigot inventory without using the title?","body":"<p>It's not recommended to use title for checking inventory. Instead, you can use the <a href=\"https://hub.spigotmc.org/javadocs/spigot/org/bukkit/inventory/InventoryHolder.html\" rel=\"nofollow noreferrer\"><code>InventoryHolder</code></a> which is attached on the inventory (each holder is unique).</p>\n<p>To do this, you should start by creating your inventory holder object. Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyHolder implements InventoryHolder {\n    \n    @Override\n    public Inventory getInventory() {\n        return null; // requuired by bukkit\n    }\n}\n</code></pre>\n<p>Then, to create your inventory, you can simply put it on the main argument of createInventory:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Inventory inv = Bukkit.createInventory(new MyHolder(), 9, &quot;Title &quot; + myVar);\n// now we have the inventory\n</code></pre>\n<p>For the event part, you have to check if it's an instance of:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EventHandler\npublic void onInventoryClick(InventoryClickEvent e) {\n    if (item == null || e.getClickedInventory() == null || !(e.getWhoClicked() instanceof Player))\n        return; // skip if click outside of inventory\n    Player p = (Player) e.getWhoClicked();\n    InventoryHolder holder = e.getClickedInventory().getHolder();\n    if(holder instanceof MyHolder) { // our holder!\n        MyHolder nh = (MyHolder) holder;\n    }\n}\n</code></pre>\n<h3>Useful trick: Add content in holder</h3>\n<p>It enable to save all data that you want: list, object, map etc. No need to do json behavior, or having global list. Those variables are locale to the holder, and so for the inventory.</p>\n<p>For example, you want to list all players you showed on an inventory, you can do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MySecondHolder implements InventoryHolder {\n    \n    // the map that will contains our data\n    public HashMap&lt;Integer, Player&gt; playerBySlot = new HashMap&lt;&gt;();\n\n    @Override\n    public Inventory getInventory() {\n        return null;\n    }\n}\n</code></pre>\n<p>When creating the inventory:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MySecondHolder holder = new MySecondHolder();\nInventory inv = Bukkit.createInventory(holder, 9, &quot;Players&quot;);\nint slot = 0;\nfor(Player p : Bukkit.getOnlinePlayers()) {\n   inv.setItem(slot, ItemUtils.createHeadFor(p)); // 'createHeadFor' is only for example, it doesn't exist\n   holder.playerBySlot.put(slot, p); // add player into holder\n   slot++; // next slot\n}\nplayer.openInventory(inv);\n</code></pre>\n<p>Finally, on click you will be able to do that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>InventoryHolder inventoryHolder = e.getClickedInventory().getHolder();\nif(inventoryHolder instanceof MySecondHolder) { // our holder!\n    MySecondHolder holder = (MySecondHolder) inventoryHolder;\n    Player cible = holder.get(event.getSlot());\n    if(cible == null) {\n        // no player on this slot\n    } else {\n        // you know which player were at this slot!\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76124681,"answer_count":1,"score":0,"last_activity_date":1682629649,"creation_date":1682629649,"question_id":76124680,"body_markdown":"I want to have an inventory for each players when using spigot. So I&#39;m using this code:\r\n```java\r\nInventory inv = Bukkit.createInventory(null, 9, &quot;Title name&quot;);\r\n\r\nplayer.openInventory(inv);\r\n```\r\nAnd when click on it, I&#39;m using:\r\n```java\r\n@EventHandler\r\npublic void onPlayerClick(InventoryClickEvent event) {\r\n\r\n   if (event.getCurrentItem() == null &amp;&amp; event.getAction() != null) return;\r\n \r\n   Player player = (Player) event.getWhoClicked();\r\n\r\n   if (event.getView().getTitle().equalsIgnoreCase(&quot;Title name&quot;)) {\r\n       // here I can manage the inventory\r\n   }\r\n}\r\n```\r\nBut when I put variable in the title like that:\r\n```java\r\nInventory inv = Bukkit.createInventory(null, 9, &quot;Title &quot; + myVar);\r\n```\r\nIt can break the click event, mostly when the event don&#39;t know the variable.\r\n\r\nHow can I fix it?","title":"How to manage spigot inventory without using the title?","body":"<p>I want to have an inventory for each players when using spigot. So I'm using this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Inventory inv = Bukkit.createInventory(null, 9, &quot;Title name&quot;);\n\nplayer.openInventory(inv);\n</code></pre>\n<p>And when click on it, I'm using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EventHandler\npublic void onPlayerClick(InventoryClickEvent event) {\n\n   if (event.getCurrentItem() == null &amp;&amp; event.getAction() != null) return;\n \n   Player player = (Player) event.getWhoClicked();\n\n   if (event.getView().getTitle().equalsIgnoreCase(&quot;Title name&quot;)) {\n       // here I can manage the inventory\n   }\n}\n</code></pre>\n<p>But when I put variable in the title like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Inventory inv = Bukkit.createInventory(null, 9, &quot;Title &quot; + myVar);\n</code></pre>\n<p>It can break the click event, mostly when the event don't know the variable.</p>\n<p>How can I fix it?</p>\n"},{"tags":["java","maven","nexus"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1682622562,"post_id":76123841,"comment_id":134249130,"body_markdown":"A snapshot is most cases is deleted after a few weeks (often after a few days) in repository managers at latest after creating a release...","body":"A snapshot is most cases is deleted after a few weeks (often after a few days) in repository managers at latest after creating a release..."},{"owner":{"account_id":612195,"reputation":1354,"user_id":338456,"display_name":"Ricardo Saracino"},"score":0,"creation_date":1682623502,"post_id":76123841,"comment_id":134249320,"body_markdown":"it looks like its just been abandoned https://github.com/autentia/wadl-tools/blob/master/spring-wadl-generator/pom.xml","body":"it looks like its just been abandoned <a href=\"https://github.com/autentia/wadl-tools/blob/master/spring-wadl-generator/pom.xml\" rel=\"nofollow noreferrer\">github.com/autentia/wadl-tools/blob/master/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":612195,"reputation":1354,"user_id":338456,"display_name":"Ricardo Saracino"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682629354,"creation_date":1682629354,"answer_id":76124641,"question_id":76123841,"body_markdown":"So what i ended up doing was uploading the dependency to nexus with out the &quot;SNAPSHOT&quot; and just changed the the config accordingly\r\n\r\n[![enter image description here][1]][1]\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.autentia.web.rest&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-wadl-generator&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1&lt;/version&gt;\r\n    &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/nbalk.png","title":"Nexus repository unable to resolve snapshot artifact","body":"<p>So what i ended up doing was uploading the dependency to nexus with out the &quot;SNAPSHOT&quot; and just changed the the config accordingly</p>\n<p><a href=\"https://i.stack.imgur.com/nbalk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nbalk.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.autentia.web.rest&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-wadl-generator&lt;/artifactId&gt;\n    &lt;version&gt;1.1&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":612195,"reputation":1354,"user_id":338456,"display_name":"Ricardo Saracino"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682629354,"creation_date":1682622347,"question_id":76123841,"body_markdown":"I have this old project that i need to run via Jenkins against our nexus repo server. There is however one dependency that i cannot get to sync.\r\n\r\nI did however have managed to get the dependency on my local (i dont even know how i managed to do it)\r\n\r\n[![enter image description here][1]][1]\r\n\r\nwhen i rename those folders and run the below command i get the error\r\n\r\n```\r\n&gt; mvn dependency:resolve -U\r\n\r\nCould not find artifact com.autentia.web.rest:spring-wadl-generator:pom:1.1-SNAPSHOT in aais-build (http://localhost:8081/repository/maven-public/)\r\n```\r\n\r\nthis is the dependency, it was added in 2014 according to the git logs\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.autentia.web.rest&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-wadl-generator&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nthis is my local env\r\n```\r\nApache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)\r\nMaven home: C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.1\\plugins\\maven\\lib\\maven3\r\nJava version: 11.0.18, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk-11\r\nDefault locale: en_US, platform encoding: Cp1252\r\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n```\r\n\r\nAny help is apricated as im not an ops or a java dev :(\r\n\r\n\r\n\r\nEdit .. i have tried to manually add it \r\n\r\n```\r\nmvn deploy:deploy-file -DgroupId=com.autentia.web.rest\r\n    -DartifactId=spring-wadl-generator\r\n    -Dversion=1.1-SNAPSHOT\r\n    -Dpackaging=jar\r\n    -Dfile=spring-wadl-generator-1.1-SNAPSHOT.jar\r\n    -DgeneratePom=true\r\n    -DrepositoryId=myrepo\r\n    -Durl=http://localhost:8081/repository/maven-releases/\r\n```\r\n\r\nsettings.xml\r\n```\r\n  &lt;servers&gt;\r\n    &lt;server&gt;\r\n      &lt;id&gt;myrepo&lt;/id&gt;\r\n      &lt;username&gt;admin&lt;/username&gt;\r\n      &lt;password&gt;350a5609-0147-4c00-b177-0957966cc4c3&lt;/password&gt;\r\n    &lt;/server&gt;\r\n  &lt;/servers&gt;\r\n\r\n```\r\n\r\nbut that resulted in the following error (credentials are good)\r\n\r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.7:deploy-file (default-cli) on project standalone-pom: Cannot deploy artifact from the local repository: C:\\Users\\Ric\\.m2\\repository\\com\\autentia\\web\\rest\\spring-wadl-generator\\1.1-SNAPSHOT\\spring-wadl-generator-1.1-SNAPSHOT.jar -&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.7:deploy-file (default-cli) on project standalone-pom: Cannot deploy artifact from the local repository: C:\\Users\\Ric\\.m2\\repository\\com\\autentia\\web\\rest\\spring-wadl-generator\\1.1-SNAPSHOT\\spring-wadl-generator-1.1-SNAPSHOT.jar\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: org.apache.maven.plugin.MojoFailureException: Cannot deploy artifact from the local repository: C:\\Users\\Ric\\.m2\\repository\\com\\autentia\\web\\rest\\spring-wadl-generator\\1.1-SNAPSHOT\\spring-wadl-generator-1.1-SNAPSHOT.jar\r\n    at org.apache.maven.plugin.deploy.DeployFileMojo.execute (DeployFileMojo.java:283)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n[ERROR]\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/1lKma.png","title":"Nexus repository unable to resolve snapshot artifact","body":"<p>I have this old project that i need to run via Jenkins against our nexus repo server. There is however one dependency that i cannot get to sync.</p>\n<p>I did however have managed to get the dependency on my local (i dont even know how i managed to do it)</p>\n<p><a href=\"https://i.stack.imgur.com/1lKma.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1lKma.png\" alt=\"enter image description here\" /></a></p>\n<p>when i rename those folders and run the below command i get the error</p>\n<pre><code>&gt; mvn dependency:resolve -U\n\nCould not find artifact com.autentia.web.rest:spring-wadl-generator:pom:1.1-SNAPSHOT in aais-build (http://localhost:8081/repository/maven-public/)\n</code></pre>\n<p>this is the dependency, it was added in 2014 according to the git logs</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.autentia.web.rest&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-wadl-generator&lt;/artifactId&gt;\n    &lt;version&gt;1.1-SNAPSHOT&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>this is my local env</p>\n<pre><code>Apache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)\nMaven home: C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.1\\plugins\\maven\\lib\\maven3\nJava version: 11.0.18, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk-11\nDefault locale: en_US, platform encoding: Cp1252\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n</code></pre>\n<p>Any help is apricated as im not an ops or a java dev :(</p>\n<p>Edit .. i have tried to manually add it</p>\n<pre><code>mvn deploy:deploy-file -DgroupId=com.autentia.web.rest\n    -DartifactId=spring-wadl-generator\n    -Dversion=1.1-SNAPSHOT\n    -Dpackaging=jar\n    -Dfile=spring-wadl-generator-1.1-SNAPSHOT.jar\n    -DgeneratePom=true\n    -DrepositoryId=myrepo\n    -Durl=http://localhost:8081/repository/maven-releases/\n</code></pre>\n<p>settings.xml</p>\n<pre><code>  &lt;servers&gt;\n    &lt;server&gt;\n      &lt;id&gt;myrepo&lt;/id&gt;\n      &lt;username&gt;admin&lt;/username&gt;\n      &lt;password&gt;350a5609-0147-4c00-b177-0957966cc4c3&lt;/password&gt;\n    &lt;/server&gt;\n  &lt;/servers&gt;\n\n</code></pre>\n<p>but that resulted in the following error (credentials are good)</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.7:deploy-file (default-cli) on project standalone-pom: Cannot deploy artifact from the local repository: C:\\Users\\Ric\\.m2\\repository\\com\\autentia\\web\\rest\\spring-wadl-generator\\1.1-SNAPSHOT\\spring-wadl-generator-1.1-SNAPSHOT.jar -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.7:deploy-file (default-cli) on project standalone-pom: Cannot deploy artifact from the local repository: C:\\Users\\Ric\\.m2\\repository\\com\\autentia\\web\\rest\\spring-wadl-generator\\1.1-SNAPSHOT\\spring-wadl-generator-1.1-SNAPSHOT.jar\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.plugin.MojoFailureException: Cannot deploy artifact from the local repository: C:\\Users\\Ric\\.m2\\repository\\com\\autentia\\web\\rest\\spring-wadl-generator\\1.1-SNAPSHOT\\spring-wadl-generator-1.1-SNAPSHOT.jar\n    at org.apache.maven.plugin.deploy.DeployFileMojo.execute (DeployFileMojo.java:283)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n[ERROR]\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n\n</code></pre>\n"},{"tags":["java","multithreading","rx-java","deadlock","java-threads"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1682667858,"post_id":76124509,"comment_id":134254880,"body_markdown":"The IO scheduler spawns as many threads as needed, up to the OS limit of a few thousand. To avoid deadlock, don&#39;t block.","body":"The IO scheduler spawns as many threads as needed, up to the OS limit of a few thousand. To avoid deadlock, don&#39;t block."},{"owner":{"account_id":25489422,"reputation":1,"user_id":19365564,"display_name":"Erick Adriel Vaernet"},"score":0,"creation_date":1682774834,"post_id":76124509,"comment_id":134270086,"body_markdown":"But in case where there are more request than the m&#225;ximum number of rhreads and Considering that there is no messaging queue like Kafka, only direct HTTP requests. In this case what happens to the request ?","body":"But in case where there are more request than the m&#225;ximum number of rhreads and Considering that there is no messaging queue like Kafka, only direct HTTP requests. In this case what happens to the request ?"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1682786535,"post_id":76124509,"comment_id":134271484,"body_markdown":"There is a crash and any subsequent request will most likely timeout on the client. Running on an unbounded pool in a server environment is not a good idea. Create a bounded pool and share it via `Schedulers.from`.","body":"There is a crash and any subsequent request will most likely timeout on the client. Running on an unbounded pool in a server environment is not a good idea. Create a bounded pool and share it via <code>Schedulers.from</code>."},{"owner":{"account_id":25489422,"reputation":1,"user_id":19365564,"display_name":"Erick Adriel Vaernet"},"score":0,"creation_date":1683129211,"post_id":76124509,"comment_id":134320058,"body_markdown":"@akarnokd Thanks for your answaer! i&#39;d like to mark your comment as a correct answer, plz post this as an answer instead of a comment","body":"@akarnokd Thanks for your answaer! i&#39;d like to mark your comment as a correct answer, plz post this as an answer instead of a comment"}],"owner":{"account_id":25489422,"reputation":1,"user_id":19365564,"display_name":"Erick Adriel Vaernet"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682628192,"creation_date":1682628192,"question_id":76124509,"body_markdown":"How RxJava avoid deadlock and how it never runs out of I/O threads?\r\nI understood that Rxjava has a limited pool of i/o threads. Why it never runs out of I/O threads? \r\n\r\nHow RxJava avoid deadlock and how it never runs out of I/O threads? ","title":"How RxJava avoid deadlock and how it never runs out of I/O threads?","body":"<p>How RxJava avoid deadlock and how it never runs out of I/O threads?\nI understood that Rxjava has a limited pool of i/o threads. Why it never runs out of I/O threads?</p>\n<p>How RxJava avoid deadlock and how it never runs out of I/O threads?</p>\n"},{"tags":["java","logic"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1682628019,"post_id":76124433,"comment_id":134250106,"body_markdown":"Mainly because `(x-y==0)` is `0 == 0` which is working in an `int` (or `long`, I&#39;m not sure, but it&#39;s not really relevant) context. `x==y`, on the other hand, is comparing two references (both values are `Long`s, i.e. objects, not `long`s, which would work).","body":"Mainly because <code>(x-y==0)</code> is <code>0 == 0</code> which is working in an <code>int</code> (or <code>long</code>, I&#39;m not sure, but it&#39;s not really relevant) context. <code>x==y</code>, on the other hand, is comparing two references (both values are <code>Long</code>s, i.e. objects, not <code>long</code>s, which would work)."},{"owner":{"account_id":19694859,"reputation":75,"user_id":14418938,"display_name":"Anand"},"score":0,"creation_date":1682628351,"post_id":76124433,"comment_id":134250151,"body_markdown":"okay got it. subtracting is using values while == will compare the reference","body":"okay got it. subtracting is using values while == will compare the reference"}],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682628121,"creation_date":1682628121,"answer_id":76124491,"question_id":76124433,"body_markdown":"Your problem is auto boxing.\r\n\r\n    Long x = (long)Math.pow(scn.nextLong(),2);\r\n    Long y = 2*scn.nextLong();\r\n\r\nx and y are Objects of type Long\r\n\r\neither use Object equality test\r\n\r\n    System.out.println(x.equals(y)?&quot;YES&quot;:&quot;NO&quot;);\r\n\r\nor use primitives\r\n\r\n    long x = (long)Math.pow(scn.nextLong(),2);\r\n    long y = 2*scn.nextLong();\r\n    System.out.println((x==y)?&quot;YES&quot;:&quot;NO&quot;);","title":"Why java does not compare accurately large value at its upper range?","body":"<p>Your problem is auto boxing.</p>\n<pre><code>Long x = (long)Math.pow(scn.nextLong(),2);\nLong y = 2*scn.nextLong();\n</code></pre>\n<p>x and y are Objects of type Long</p>\n<p>either use Object equality test</p>\n<pre><code>System.out.println(x.equals(y)?&quot;YES&quot;:&quot;NO&quot;);\n</code></pre>\n<p>or use primitives</p>\n<pre><code>long x = (long)Math.pow(scn.nextLong(),2);\nlong y = 2*scn.nextLong();\nSystem.out.println((x==y)?&quot;YES&quot;:&quot;NO&quot;);\n</code></pre>\n"}],"owner":{"account_id":19694859,"reputation":75,"user_id":14418938,"display_name":"Anand"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76124491,"answer_count":1,"score":0,"last_activity_date":1682628121,"creation_date":1682627586,"question_id":76124433,"body_markdown":"for  input value of x = 200000000 and y = 20000000000000000, x and y lines will hold equal values after input(x^2 will be equal to 2*y), but on comparing these it prints NO i.e. x==y is false.\r\n```\r\npublic static void main (String[] args) throws java.lang.Exception\r\n{\r\n\tScanner scn = new Scanner(System.in);\r\n\tint t = scn.nextInt();\r\n    Long x = (long)Math.pow(scn.nextLong(),2);\r\n    Long y = 2*scn.nextLong();\r\n    System.out.println((x==y)?&quot;YES&quot;:&quot;NO&quot;);\r\n}\r\n```\r\nMeanwhile, if I\r\n```\r\nSystem.out.println((x-y==0)?&quot;YES&quot;:&quot;NO&quot;);\r\n```\r\nIt prints YES.\r\nSo why it is happening?","title":"Why java does not compare accurately large value at its upper range?","body":"<p>for  input value of x = 200000000 and y = 20000000000000000, x and y lines will hold equal values after input(x^2 will be equal to 2*y), but on comparing these it prints NO i.e. x==y is false.</p>\n<pre><code>public static void main (String[] args) throws java.lang.Exception\n{\n    Scanner scn = new Scanner(System.in);\n    int t = scn.nextInt();\n    Long x = (long)Math.pow(scn.nextLong(),2);\n    Long y = 2*scn.nextLong();\n    System.out.println((x==y)?&quot;YES&quot;:&quot;NO&quot;);\n}\n</code></pre>\n<p>Meanwhile, if I</p>\n<pre><code>System.out.println((x-y==0)?&quot;YES&quot;:&quot;NO&quot;);\n</code></pre>\n<p>It prints YES.\nSo why it is happening?</p>\n"},{"tags":["java","spring-boot","yaml"],"answers":[{"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654078197,"creation_date":1654077600,"answer_id":72459917,"question_id":72459339,"body_markdown":"The `spring.profiles.active` VM argument should contain a comma separated list of Spring profiles you want to use. For example, if you want to use a &quot;dev&quot; and &quot;customprofile2&quot; profile, you can pass it like:\r\n\r\n```none\r\n-Dspring.profiles.active=dev,customprofile2\r\n```\r\n\r\nWhat happens then is that Spring will load profile-specific configuration files as mentioned in [the documentation](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files.profile-specific). One location where Spring will look for configuration files is within the `./config/` directory, such as `./config/application-{profile}.yaml`. In my example that would be `./config/application-dev.yml` and `./config/application-customprofile2.yml`.\r\n\r\nNow, in your case you&#39;re using the `spring.profiles.active` VM argument to pass a list of files. By doing so, Spring will look for a file called `./config/application-classpath://properties/xfb.common.properties;classpath://properties/xfb.cm.properties.yaml`. Since this is not a valid file, it throws an error.\r\n\r\nIf you want to load these properties files, you can use the `--spring.config.location` argument. For example:\r\n\r\n```none\r\n--spring.config.location=classpath:/properties/xfb.common.properties,classpath:/properties/xfb.cm.properties\r\n```\r\n\r\nMake sure to use a comma to separate the files, and to replace `classpath://` by `classpath:/`.\r\n\r\nThere are various other ways of loading externalized configuration files. To check out what options there are, check [the documentation](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config).","title":"YAML Error starting API: Location &#39;???&#39; must end with &#39;*/&#39;","body":"<p>The <code>spring.profiles.active</code> VM argument should contain a comma separated list of Spring profiles you want to use. For example, if you want to use a &quot;dev&quot; and &quot;customprofile2&quot; profile, you can pass it like:</p>\n<pre class=\"lang-none prettyprint-override\"><code>-Dspring.profiles.active=dev,customprofile2\n</code></pre>\n<p>What happens then is that Spring will load profile-specific configuration files as mentioned in <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files.profile-specific\" rel=\"nofollow noreferrer\">the documentation</a>. One location where Spring will look for configuration files is within the <code>./config/</code> directory, such as <code>./config/application-{profile}.yaml</code>. In my example that would be <code>./config/application-dev.yml</code> and <code>./config/application-customprofile2.yml</code>.</p>\n<p>Now, in your case you're using the <code>spring.profiles.active</code> VM argument to pass a list of files. By doing so, Spring will look for a file called <code>./config/application-classpath://properties/xfb.common.properties;classpath://properties/xfb.cm.properties.yaml</code>. Since this is not a valid file, it throws an error.</p>\n<p>If you want to load these properties files, you can use the <code>--spring.config.location</code> argument. For example:</p>\n<pre class=\"lang-none prettyprint-override\"><code>--spring.config.location=classpath:/properties/xfb.common.properties,classpath:/properties/xfb.cm.properties\n</code></pre>\n<p>Make sure to use a comma to separate the files, and to replace <code>classpath://</code> by <code>classpath:/</code>.</p>\n<p>There are various other ways of loading externalized configuration files. To check out what options there are, check <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">the documentation</a>.</p>\n"}],"owner":{"account_id":7297111,"reputation":3,"user_id":5561438,"display_name":"Xavi F&#224;bregas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72459917,"answer_count":1,"score":0,"last_activity_date":1682628022,"creation_date":1654075156,"question_id":72459339,"body_markdown":"I&#39;m trying to load configuration files located within the **src/main/resources/properties** folder. This is my project structure:\r\n\r\n![Project structure][1]\r\n\r\nTo load these files, I&#39;m using the following VM arguments:\r\n\r\n```none\r\n-Dconfig=classpath://properties/xfb.common.properties;classpath://properties/cfb.cm.properties\r\n-Dspring.profiles.active=classpath://properties/xfb.common.properties;classpath://properties/cfb.cm.properties\r\n```\r\n\r\nHowever, when I run the application, I get the following error:\r\n\r\n```none\r\n10:54:59.608 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\r\njava.lang.IllegalStateException: Location &#39;file:./config/*/application-classpath://properties/xfb.common.properties;classpath://properties/xfb.cm.properties.yaml&#39; must end with &#39;*/&#39;\r\n\tat org.springframework.util.Assert.state(Assert.java:97)\r\n\tat org.springframework.boot.context.config.LocationResourceLoader.validatePattern(LocationResourceLoader.java:134)\r\n\tat org.springframework.boot.context.config.LocationResourceLoader.getResources(LocationResourceLoader.java:95)\r\n\tat org.springframework.boot.context.config.StandardConfigDataLocationResolver.resolvePattern(StandardConfigDataLocationResolver.java:311)\r\n\tat org.springframework.boot.context.config.StandardConfigDataLocationResolver.resolve(StandardConfigDataLocationResolver.java:297)\r\n\tat org.springframework.boot.context.config.StandardConfigDataLocationResolver.resolve(StandardConfigDataLocationResolver.java:249)\r\n\tat org.springframework.boot.context.config.StandardConfigDataLocationResolver.resolveProfileSpecific(StandardConfigDataLocationResolver.java:148)\r\n\tat org.springframework.boot.context.config.ConfigDataLocationResolvers.lambda$resolve$2(ConfigDataLocationResolvers.java:120)\r\n\tat org.springframework.boot.context.config.ConfigDataLocationResolvers.resolve(ConfigDataLocationResolvers.java:126)\r\n\tat org.springframework.boot.context.config.ConfigDataLocationResolvers.resolve(ConfigDataLocationResolvers.java:119)\r\n\tat org.springframework.boot.context.config.ConfigDataLocationResolvers.resolve(ConfigDataLocationResolvers.java:107)\r\n\tat org.springframework.boot.context.config.ConfigDataImporter.resolve(ConfigDataImporter.java:105)\r\n\tat org.springframework.boot.context.config.ConfigDataImporter.resolve(ConfigDataImporter.java:97)\r\n\tat org.springframework.boot.context.config.ConfigDataImporter.resolveAndLoad(ConfigDataImporter.java:85)\r\n\tat org.springframework.boot.context.config.ConfigDataEnvironmentContributors.withProcessedImports(ConfigDataEnvironmentContributors.java:116)\r\n\tat org.springframework.boot.context.config.ConfigDataEnvironment.processWithProfiles(ConfigDataEnvironment.java:311)\r\n\tat org.springframework.boot.context.config.ConfigDataEnvironment.processAndApply(ConfigDataEnvironment.java:232)\r\n\tat org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:102)\r\n\tat org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:94)\r\n\tat org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:102)\r\n\tat org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:87)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:85)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:66)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:65)\r\n\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:344)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\r\n\tat api_module.ApiModule.main(ApiModule.java:52)\r\n```\r\n\r\nI&#39;m using the following versions:\r\n\r\n- Spring boot: 2.7.0\r\n- Gradle: 7.4.2\r\n- Kotlin: 1.5.3\r\n- Groovy: 3.0.9\r\n- Ant: 1.10.11\r\n- JDK: Oracle JDK 1.8.0_271\r\n- OS: Windows 10.0 amd64\r\n\r\nDo you have any idea why I get this error?\r\n\r\n  [1]: https://i.stack.imgur.com/qPLQW.png\r\n  [2]: https://i.stack.imgur.com/ZEE8V.png","title":"YAML Error starting API: Location &#39;???&#39; must end with &#39;*/&#39;","body":"<p>I'm trying to load configuration files located within the <strong>src/main/resources/properties</strong> folder. This is my project structure:</p>\n<p><img src=\"https://i.stack.imgur.com/qPLQW.png\" alt=\"Project structure\" /></p>\n<p>To load these files, I'm using the following VM arguments:</p>\n<pre class=\"lang-none prettyprint-override\"><code>-Dconfig=classpath://properties/xfb.common.properties;classpath://properties/cfb.cm.properties\n-Dspring.profiles.active=classpath://properties/xfb.common.properties;classpath://properties/cfb.cm.properties\n</code></pre>\n<p>However, when I run the application, I get the following error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>10:54:59.608 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\njava.lang.IllegalStateException: Location 'file:./config/*/application-classpath://properties/xfb.common.properties;classpath://properties/xfb.cm.properties.yaml' must end with '*/'\n    at org.springframework.util.Assert.state(Assert.java:97)\n    at org.springframework.boot.context.config.LocationResourceLoader.validatePattern(LocationResourceLoader.java:134)\n    at org.springframework.boot.context.config.LocationResourceLoader.getResources(LocationResourceLoader.java:95)\n    at org.springframework.boot.context.config.StandardConfigDataLocationResolver.resolvePattern(StandardConfigDataLocationResolver.java:311)\n    at org.springframework.boot.context.config.StandardConfigDataLocationResolver.resolve(StandardConfigDataLocationResolver.java:297)\n    at org.springframework.boot.context.config.StandardConfigDataLocationResolver.resolve(StandardConfigDataLocationResolver.java:249)\n    at org.springframework.boot.context.config.StandardConfigDataLocationResolver.resolveProfileSpecific(StandardConfigDataLocationResolver.java:148)\n    at org.springframework.boot.context.config.ConfigDataLocationResolvers.lambda$resolve$2(ConfigDataLocationResolvers.java:120)\n    at org.springframework.boot.context.config.ConfigDataLocationResolvers.resolve(ConfigDataLocationResolvers.java:126)\n    at org.springframework.boot.context.config.ConfigDataLocationResolvers.resolve(ConfigDataLocationResolvers.java:119)\n    at org.springframework.boot.context.config.ConfigDataLocationResolvers.resolve(ConfigDataLocationResolvers.java:107)\n    at org.springframework.boot.context.config.ConfigDataImporter.resolve(ConfigDataImporter.java:105)\n    at org.springframework.boot.context.config.ConfigDataImporter.resolve(ConfigDataImporter.java:97)\n    at org.springframework.boot.context.config.ConfigDataImporter.resolveAndLoad(ConfigDataImporter.java:85)\n    at org.springframework.boot.context.config.ConfigDataEnvironmentContributors.withProcessedImports(ConfigDataEnvironmentContributors.java:116)\n    at org.springframework.boot.context.config.ConfigDataEnvironment.processWithProfiles(ConfigDataEnvironment.java:311)\n    at org.springframework.boot.context.config.ConfigDataEnvironment.processAndApply(ConfigDataEnvironment.java:232)\n    at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:102)\n    at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:94)\n    at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:102)\n    at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:87)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:85)\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:66)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:65)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:344)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\n    at api_module.ApiModule.main(ApiModule.java:52)\n</code></pre>\n<p>I'm using the following versions:</p>\n<ul>\n<li>Spring boot: 2.7.0</li>\n<li>Gradle: 7.4.2</li>\n<li>Kotlin: 1.5.3</li>\n<li>Groovy: 3.0.9</li>\n<li>Ant: 1.10.11</li>\n<li>JDK: Oracle JDK 1.8.0_271</li>\n<li>OS: Windows 10.0 amd64</li>\n</ul>\n<p>Do you have any idea why I get this error?</p>\n"},{"tags":["java","jmx-exporter"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1682679524,"post_id":76123202,"comment_id":134257286,"body_markdown":"I guess one reports the total number of threads used by the process (including JVM internal native threads that have no Java `java.lang.Thread` instance), and the other reports the number of `java.lang.Thread` instances.","body":"I guess one reports the total number of threads used by the process (including JVM internal native threads that have no Java <code>java.lang.Thread</code> instance), and the other reports the number of <code>java.lang.Thread</code> instances."}],"owner":{"account_id":11919281,"reputation":51,"user_id":8722374,"display_name":"J Jena"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1682696653,"answer_count":0,"score":3,"last_activity_date":1682627566,"creation_date":1682616890,"question_id":76123202,"body_markdown":"I have a simple java program running to display mxbean threads in Centos.  \r\nWhen I do \r\n```\r\ncat /proc/&lt;pid&gt;/status|grep Threads\r\n```\r\nI get 17 threads but the program outputs very less threads. \r\n\r\nCould you help me understand why mxbean returns lesser count?\r\n\r\nNote: Use case is: prometheus jmx exporter uses threadmxbean interface to show thread count (which is lesser) whereas graphite returns the same value from linux command (which is higher). \r\n\r\n    import java.lang.management.*;\r\n    public class threadmxbean {\r\n\r\n    public static void main(String[] args) {\r\n        // Get the ThreadMXBean instance\r\n        ThreadMXBean threadMXBean = ManagementFactory.getThreadMXBean();\r\n       // Print the number of threads currently running\r\n       System.out.println(&quot;Number of threads-getThreadCount(): &quot; + threadMXBean.getThreadCount());\r\n       System.out.println(&quot;Number of threads-getDaemonThreadCount(): &quot; + threadMXBean.getDaemonThreadCount());\r\n       System.out.println(&quot;Number of threads-getTotalStartedThreadCount(): &quot; + threadMXBean.getTotalStartedThreadCount());\r\n    try{Thread.sleep(500000);}catch(InterruptedException e){System.out.println(e);}\r\n    }\r\n    }\r\n\r\n    Output:\r\n    \r\n    Number of threads-getThreadCount(): 5\r\n    Number of threads-getDaemonThreadCount(): 4\r\n    Number of threads-getTotalStartedThreadCount(): 5","title":"Linux java thread count Vs ThreadMxBean.getThreadCount()","body":"<p>I have a simple java program running to display mxbean threads in Centos.<br />\nWhen I do</p>\n<pre><code>cat /proc/&lt;pid&gt;/status|grep Threads\n</code></pre>\n<p>I get 17 threads but the program outputs very less threads.</p>\n<p>Could you help me understand why mxbean returns lesser count?</p>\n<p>Note: Use case is: prometheus jmx exporter uses threadmxbean interface to show thread count (which is lesser) whereas graphite returns the same value from linux command (which is higher).</p>\n<pre><code>import java.lang.management.*;\npublic class threadmxbean {\n\npublic static void main(String[] args) {\n    // Get the ThreadMXBean instance\n    ThreadMXBean threadMXBean = ManagementFactory.getThreadMXBean();\n   // Print the number of threads currently running\n   System.out.println(&quot;Number of threads-getThreadCount(): &quot; + threadMXBean.getThreadCount());\n   System.out.println(&quot;Number of threads-getDaemonThreadCount(): &quot; + threadMXBean.getDaemonThreadCount());\n   System.out.println(&quot;Number of threads-getTotalStartedThreadCount(): &quot; + threadMXBean.getTotalStartedThreadCount());\ntry{Thread.sleep(500000);}catch(InterruptedException e){System.out.println(e);}\n}\n}\n\nOutput:\n\nNumber of threads-getThreadCount(): 5\nNumber of threads-getDaemonThreadCount(): 4\nNumber of threads-getTotalStartedThreadCount(): 5\n</code></pre>\n"},{"tags":["java","c","compression"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1682626943,"post_id":76124185,"comment_id":134249926,"body_markdown":"C and Java are two different languages. The paper has C code. And K&amp;R C at that, not even ANSI C. Java was not even been created when that paper was released. What does Java to do with your questions?","body":"C and Java are two different languages. The paper has C code. And K&amp;R C at that, not even ANSI C. Java was not even been created when that paper was released. What does Java to do with your questions?"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1682627287,"post_id":76124185,"comment_id":134249977,"body_markdown":"Why do you say that  cum_freq[84] does not exist?","body":"Why do you say that  cum_freq[84] does not exist?"},{"owner":{"account_id":27300862,"reputation":9,"user_id":20817673,"display_name":"Pytho"},"score":0,"creation_date":1682627535,"post_id":76124185,"comment_id":134250016,"body_markdown":"@aled  &quot;I am currently implementing Arithmetic Coding algorithm in Java&quot;.","body":"@aled  &quot;I am currently implementing Arithmetic Coding algorithm in Java&quot;."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1682627599,"post_id":76124185,"comment_id":134250034,"body_markdown":"Your question is not about Java or how to implement something in Java. It is about understanding the original C algorithm. The Java tag is not relevant.","body":"Your question is not about Java or how to implement something in Java. It is about understanding the original C algorithm. The Java tag is not relevant."},{"owner":{"account_id":27300862,"reputation":9,"user_id":20817673,"display_name":"Pytho"},"score":0,"creation_date":1682627610,"post_id":76124185,"comment_id":134250038,"body_markdown":"Because the number of elements in cum_freq array is equal to the number of unique characters in the file that needs to be compressed.","body":"Because the number of elements in cum_freq array is equal to the number of unique characters in the file that needs to be compressed."},{"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"score":1,"creation_date":1682634248,"post_id":76124185,"comment_id":134251059,"body_markdown":"First, the number of elements in `cum_freq` is the number of unique symbols _plus two_. One for the end symbol and one for their origin 1 indexing. Second, it is the number of symbols that _could_ be in the file. Not all of those symbols are _required_ to be in the file. You could have a file with just one symbol, that same symbol repeated many times. (Which will compress very well, by the way.) `cum_freq[84]` absolutely exists. It would just be equal to zero.","body":"First, the number of elements in <code>cum_freq</code> is the number of unique symbols <i>plus two</i>. One for the end symbol and one for their origin 1 indexing. Second, it is the number of symbols that <i>could</i> be in the file. Not all of those symbols are <i>required</i> to be in the file. You could have a file with just one symbol, that same symbol repeated many times. (Which will compress very well, by the way.) <code>cum_freq[84]</code> absolutely exists. It would just be equal to zero."},{"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"score":0,"creation_date":1682634462,"post_id":76124185,"comment_id":134251086,"body_markdown":"It says right there in the comment on line 189 that you left out: &quot;Then find symbol.&quot; That `for` loop sets `symbol` equal to the first symbol whose frequency is greater than `cum`.","body":"It says right there in the comment on line 189 that you left out: &quot;Then find symbol.&quot; That <code>for</code> loop sets <code>symbol</code> equal to the first symbol whose frequency is greater than <code>cum</code>."}],"answers":[{"comments":[{"owner":{"account_id":27300862,"reputation":9,"user_id":20817673,"display_name":"Pytho"},"score":0,"creation_date":1682630372,"post_id":76124427,"comment_id":134250519,"body_markdown":"Do you know how the smaller number of elements could be indexed? What if my alphabet is 47 elements long (not 258)?","body":"Do you know how the smaller number of elements could be indexed? What if my alphabet is 47 elements long (not 258)?"},{"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"score":0,"creation_date":1682633943,"post_id":76124427,"comment_id":134251023,"body_markdown":"Just use it as is. The frequencies of the 209 unused symbols will be zero.","body":"Just use it as is. The frequencies of the 209 unused symbols will be zero."},{"owner":{"account_id":27300862,"reputation":9,"user_id":20817673,"display_name":"Pytho"},"score":0,"creation_date":1682635543,"post_id":76124427,"comment_id":134251199,"body_markdown":"Ok, so the use of EOF symbol is excess, if we use the condition of a for loop (for each byte in encoded byte array)?","body":"Ok, so the use of EOF symbol is excess, if we use the condition of a for loop (for each byte in encoded byte array)?"},{"owner":{"account_id":27300862,"reputation":9,"user_id":20817673,"display_name":"Pytho"},"score":0,"creation_date":1682636925,"post_id":76124427,"comment_id":134251338,"body_markdown":"And, by the way, do the frequencies in ``freq[]`` array have to be sorted?","body":"And, by the way, do the frequencies in <code>freq[]</code> array have to be sorted?"}],"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682627544,"creation_date":1682627544,"answer_id":76124427,"question_id":76124185,"body_markdown":"1. `cum_freq` is defined in `model.h` to have 258 elements. Enough for the single byte characters encodings of the &#39;80s. Awful use of &#39;+1&#39; abuse in array definitions.\r\n\r\n```\r\n#define No-of-chars 256 \r\n#define No-of-symbols (No-of-chars+1)\r\n...\r\nint cum_freq[No_of_symbols+1];\r\n```\r\n2. The point seems to find the first index in the array that doesn&#39;t match the condition. Old C programs don&#39;t communicate intention well.","title":"Arithmetic Coding Algorithm C/Java. Cumulative frequencies","body":"<ol>\n<li><code>cum_freq</code> is defined in <code>model.h</code> to have 258 elements. Enough for the single byte characters encodings of the '80s. Awful use of '+1' abuse in array definitions.</li>\n</ol>\n<pre><code>#define No-of-chars 256 \n#define No-of-symbols (No-of-chars+1)\n...\nint cum_freq[No_of_symbols+1];\n</code></pre>\n<ol start=\"2\">\n<li>The point seems to find the first index in the array that doesn't match the condition. Old C programs don't communicate intention well.</li>\n</ol>\n"}],"owner":{"account_id":27300862,"reputation":9,"user_id":20817673,"display_name":"Pytho"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1682627544,"creation_date":1682625526,"question_id":76124185,"body_markdown":"C related question on topic &quot;Arithmetic Coding Algorithm&quot;. I am currently implementing Arithmetic Coding algorithm in Java and have a couple of lines of code that doesn&#39;t make sense to me.\r\n\r\n1) If we have an alphabet that has less characters than unsigned byte can hold, e.g, 47 unique characters, how could cumulative frequencies be indexed (according to this expression):\r\n \r\n``high = low + (range * cum_freq[symbol-1]) / cum_freq[0] - 1;``\r\n\r\nFor example, symbol &quot;U&quot; has a value of 85 in ASCII code, but cum_freq[84] does not exist.\r\n\r\n2) What is the point of a for loop on line 189 in Arithmetic decoding algorithm? Does it simply increment symbol by one?\r\n\r\n``for (symbol = 1; cum_freq[symbol]&gt;cum; symbol++);``\r\n\r\nSource:\r\nArithmetic coding for data compression, Communications of The ACM, 1987\r\nhttps://web.stanford.edu/class/ee398a/handouts/papers/WittenACM87ArithmCoding.pdf","title":"Arithmetic Coding Algorithm C/Java. Cumulative frequencies","body":"<p>C related question on topic &quot;Arithmetic Coding Algorithm&quot;. I am currently implementing Arithmetic Coding algorithm in Java and have a couple of lines of code that doesn't make sense to me.</p>\n<ol>\n<li>If we have an alphabet that has less characters than unsigned byte can hold, e.g, 47 unique characters, how could cumulative frequencies be indexed (according to this expression):</li>\n</ol>\n<p><code>high = low + (range * cum_freq[symbol-1]) / cum_freq[0] - 1;</code></p>\n<p>For example, symbol &quot;U&quot; has a value of 85 in ASCII code, but cum_freq[84] does not exist.</p>\n<ol start=\"2\">\n<li>What is the point of a for loop on line 189 in Arithmetic decoding algorithm? Does it simply increment symbol by one?</li>\n</ol>\n<p><code>for (symbol = 1; cum_freq[symbol]&gt;cum; symbol++);</code></p>\n<p>Source:\nArithmetic coding for data compression, Communications of The ACM, 1987\n<a href=\"https://web.stanford.edu/class/ee398a/handouts/papers/WittenACM87ArithmCoding.pdf\" rel=\"nofollow noreferrer\">https://web.stanford.edu/class/ee398a/handouts/papers/WittenACM87ArithmCoding.pdf</a></p>\n"},{"tags":["java","freemarker"],"comments":[{"owner":{"account_id":38931,"reputation":32526,"user_id":112079,"display_name":"fvu"},"score":1,"creation_date":1472133088,"post_id":39145686,"comment_id":65638055,"body_markdown":"From version 2.3.19 onwards there&#39;s `TemplateClassResolver.SAFER_RESOLVER` that you could use to inhibit Execute entirely, would that be a solution?","body":"From version 2.3.19 onwards there&#39;s <code>TemplateClassResolver.SAFER_RESOLVER</code> that you could use to inhibit Execute entirely, would that be a solution?"},{"owner":{"account_id":3696204,"reputation":670,"user_id":3077485,"accept_rate":0,"display_name":"Gilo"},"score":0,"creation_date":1472137337,"post_id":39145686,"comment_id":65640920,"body_markdown":"That would be great. Do you have an example how to use it?","body":"That would be great. Do you have an example how to use it?"},{"owner":{"account_id":3696204,"reputation":670,"user_id":3077485,"accept_rate":0,"display_name":"Gilo"},"score":0,"creation_date":1472138838,"post_id":39145686,"comment_id":65641860,"body_markdown":"Got it! Thanks! This is how it should be used:\n    Environment env = .....;\n    env.setNewBuiltinClassResolver(TemplateClassResolver.SAFER_RESOLVER);","body":"Got it! Thanks! This is how it should be used:     Environment env = .....;     env.setNewBuiltinClassResolver(TemplateClassResolver.SAFER_R&zwnj;&#8203;ESOLVER);"},{"owner":{"account_id":38931,"reputation":32526,"user_id":112079,"display_name":"fvu"},"score":3,"creation_date":1472162557,"post_id":39145686,"comment_id":65654278,"body_markdown":"don&#39;t hesitate to write up the solution and your code example (maybe not just that line but the complete initialisation) as an answer, **and accept it** so that future visitors can benefit of it. That&#39;s the SO way of doing things.","body":"don&#39;t hesitate to write up the solution and your code example (maybe not just that line but the complete initialisation) as an answer, <b>and accept it</b> so that future visitors can benefit of it. That&#39;s the SO way of doing things."}],"answers":[{"tags":[],"owner":{"account_id":172198,"reputation":5240,"user_id":628006,"accept_rate":90,"display_name":"р&#252;ффп"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682622939,"creation_date":1682622939,"answer_id":76123917,"question_id":39145686,"body_markdown":"In my use case, I was retrieving Freemarker templates and merging the template with Java code like this:\r\n\r\n```java\r\n\tString templateName = &quot;Whatever from any variable&quot;\r\n\tStringTemplateLoader stringLoader = new StringTemplateLoader();\r\n\tstringLoader.putTemplate(templateName, templateContent);\r\n\tConfiguration cfg = new Configuration(Configuration.VERSION_2_3_31);\r\n\tcfg.setTemplateLoader(stringLoader);\r\n\t// Create Template class object &amp; get the Template\r\n\tTemplate template = cfg.getTemplate(templateName);\r\n\t// Render the template into a Writer, here a StringWriter\r\n\tStringWriter writer = new StringWriter();\r\n\t// Merge the model &amp; template\r\n\ttemplate.process(dataModel, writer);\r\n```\r\n\r\nand this was subject to the same attack as the OP.\r\n\r\nMy solution was to set the `SAFER_RESOLVER` as said in the comments but by setting the value in the template instance itself like this:\r\n\r\n```java\r\n\ttemplate.setSetting(&quot;new_builtin_class_resolver&quot;, &quot;safer&quot;);\r\n```\r\n\r\nAfter adding that line in my code (just after the template instanciation) my code was safe.\r\n\r\nIt is very important to know that even you implement this, you will be safer if you also keep the `api_builtin_enabled` to `false` (default value)\r\nlike explained in the [doc][2].\r\n\r\n[This article][1] shows that even with the more strict resolver `ALLOWS_NOTHING_RESOLVER` if the `api_builtin_enabled` is set to true, you can still have the vulnerability.\r\n\r\n[1]: https://ackcent.com/in-depth-freemarker-template-injection/ &quot;Freemarker template injection article&quot;\r\n[2]: https://freemarker.apache.org/docs/ref_builtins_expert.html#ref_buitin_api_and_has_api &quot;Documentation of the builtin Api&quot;\r\n\r\n\r\n \r\n\r\n","title":"Avoid java package &#39;freemarker&#39; to execute commands","body":"<p>In my use case, I was retrieving Freemarker templates and merging the template with Java code like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    String templateName = &quot;Whatever from any variable&quot;\n    StringTemplateLoader stringLoader = new StringTemplateLoader();\n    stringLoader.putTemplate(templateName, templateContent);\n    Configuration cfg = new Configuration(Configuration.VERSION_2_3_31);\n    cfg.setTemplateLoader(stringLoader);\n    // Create Template class object &amp; get the Template\n    Template template = cfg.getTemplate(templateName);\n    // Render the template into a Writer, here a StringWriter\n    StringWriter writer = new StringWriter();\n    // Merge the model &amp; template\n    template.process(dataModel, writer);\n</code></pre>\n<p>and this was subject to the same attack as the OP.</p>\n<p>My solution was to set the <code>SAFER_RESOLVER</code> as said in the comments but by setting the value in the template instance itself like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    template.setSetting(&quot;new_builtin_class_resolver&quot;, &quot;safer&quot;);\n</code></pre>\n<p>After adding that line in my code (just after the template instanciation) my code was safe.</p>\n<p>It is very important to know that even you implement this, you will be safer if you also keep the <code>api_builtin_enabled</code> to <code>false</code> (default value)\nlike explained in the <a href=\"https://freemarker.apache.org/docs/ref_builtins_expert.html#ref_buitin_api_and_has_api\" rel=\"nofollow noreferrer\" title=\"Documentation of the builtin Api\">doc</a>.</p>\n<p><a href=\"https://ackcent.com/in-depth-freemarker-template-injection/\" rel=\"nofollow noreferrer\" title=\"Freemarker template injection article\">This article</a> shows that even with the more strict resolver <code>ALLOWS_NOTHING_RESOLVER</code> if the <code>api_builtin_enabled</code> is set to true, you can still have the vulnerability.</p>\n"}],"owner":{"account_id":3696204,"reputation":670,"user_id":3077485,"accept_rate":0,"display_name":"Gilo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1184,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1682626950,"creation_date":1472129046,"question_id":39145686,"body_markdown":"I am using Apache Freemarker as my template engine.\r\n\r\nI have a security issue with it that I am not sure how to handle:\r\nadmin users are able to modify the templates, but in case they will set an input like:\r\n\r\n    `&lt;#assign ex = &quot;freemarker.template.utility.Execute&quot;?new()&gt;${ ex(&quot;pwd&quot;)}`.\r\n\r\nThen the code will call:\r\n\r\n`freemarker.core.Environment.process()`\r\n\r\nAnd the command &quot;pwd&quot; will be executed. \r\n\r\nHow can I avoid it?\r\n\r\n\r\n","title":"Avoid java package &#39;freemarker&#39; to execute commands","body":"<p>I am using Apache Freemarker as my template engine.</p>\n<p>I have a security issue with it that I am not sure how to handle:\nadmin users are able to modify the templates, but in case they will set an input like:</p>\n<pre><code>`&lt;#assign ex = &quot;freemarker.template.utility.Execute&quot;?new()&gt;${ ex(&quot;pwd&quot;)}`.\n</code></pre>\n<p>Then the code will call:</p>\n<p><code>freemarker.core.Environment.process()</code></p>\n<p>And the command &quot;pwd&quot; will be executed.</p>\n<p>How can I avoid it?</p>\n"},{"tags":["java","intellij-idea","compilation","javac","intellij-13"],"comments":[{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":2,"creation_date":1410900094,"post_id":25878045,"comment_id":40498034,"body_markdown":"What version of Java is installed? What JRE/JDK did you point intellij to, in the IDE settings?","body":"What version of Java is installed? What JRE/JDK did you point intellij to, in the IDE settings?"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":2,"creation_date":1410900205,"post_id":25878045,"comment_id":40498100,"body_markdown":"Probably project settings.  Check the JDK you&#39;re pointing to and the language level you asked for.","body":"Probably project settings.  Check the JDK you&#39;re pointing to and the language level you asked for."},{"owner":{"account_id":1370050,"reputation":19409,"user_id":1305516,"accept_rate":59,"display_name":"David says Reinstate Monica"},"score":1,"creation_date":1410901359,"post_id":25878045,"comment_id":40498701,"body_markdown":"@duffymo you were right, it was pointing to 8. I didnt realize that was a setting.","body":"@duffymo you were right, it was pointing to 8. I didnt realize that was a setting."},{"owner":{"account_id":71901,"reputation":13205,"user_id":207791,"accept_rate":74,"display_name":"Victor Sergienko"},"score":0,"creation_date":1419763136,"post_id":25878045,"comment_id":43765868,"body_markdown":"possible duplicate of [Unable to compile using Java 1.7 in Jetbrains Intellij after moving from 1.6 to 1.7 (maven based project)](http://stackoverflow.com/questions/12745510/unable-to-compile-using-java-1-7-in-jetbrains-intellij-after-moving-from-1-6-to)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/12745510/unable-to-compile-using-java-1-7-in-jetbrains-intellij-after-moving-from-1-6-to\">Unable to compile using Java 1.7 in Jetbrains Intellij after moving from 1.6 to 1.7 (maven based project)</a>"}],"answers":[{"comments":[{"owner":{"account_id":1203983,"reputation":6963,"user_id":1174076,"accept_rate":55,"display_name":"bitoiu"},"score":38,"creation_date":1425380726,"post_id":26009627,"comment_id":45930256,"body_markdown":"the one killing me was this one: `File -&gt; Settings -&gt; Compiler -&gt; Java Compiler -&gt; Target bytecode version` . Thanks.","body":"the one killing me was this one: <code>File -&gt; Settings -&gt; Compiler -&gt; Java Compiler -&gt; Target bytecode version</code> . Thanks."},{"owner":{"account_id":3885543,"reputation":2097,"user_id":3217013,"accept_rate":92,"display_name":"Emil"},"score":40,"creation_date":1439946891,"post_id":26009627,"comment_id":52065929,"body_markdown":"I was running into this issue as well, but none of the above worked. I had to do `IntelliJ IDEA -&gt; Preferences... -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle -&gt; Gradle JVM`, in case anyone is running into this issue whilst using Gradle.","body":"I was running into this issue as well, but none of the above worked. I had to do <code>IntelliJ IDEA -&gt; Preferences... -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle -&gt; Gradle JVM</code>, in case anyone is running into this issue whilst using Gradle."},{"owner":{"account_id":1087816,"reputation":1235,"user_id":1083128,"display_name":"Mia"},"score":2,"creation_date":1450321746,"post_id":26009627,"comment_id":56393820,"body_markdown":"Source: Language Level \nchange to 7 - Diamonds, ARM, multi-catch etc. for IDEA 15","body":"Source: Language Level  change to 7 - Diamonds, ARM, multi-catch etc. for IDEA 15"},{"owner":{"account_id":4856881,"reputation":7986,"user_id":3917580,"accept_rate":50,"display_name":"iusting"},"score":4,"creation_date":1485521287,"post_id":26009627,"comment_id":70970515,"body_markdown":"This should be the accepted answer. As a small heads-up, in IntelliJ IDEA 15, point 4 has moved to `Preferences -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Java Compiler`.","body":"This should be the accepted answer. As a small heads-up, in IntelliJ IDEA 15, point 4 has moved to <code>Preferences -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Java Compiler</code>."},{"owner":{"account_id":439601,"reputation":6406,"user_id":828638,"accept_rate":73,"display_name":"jordanpg"},"score":2,"creation_date":1490631004,"post_id":26009627,"comment_id":73186954,"body_markdown":"There is also a JRE selection in some run/debug configurations.  For example, Tomcat run/debug configs have a &quot;JRE&quot; selector that can cause this error.","body":"There is also a JRE selection in some run/debug configurations.  For example, Tomcat run/debug configs have a &quot;JRE&quot; selector that can cause this error."},{"owner":{"account_id":439601,"reputation":6406,"user_id":828638,"accept_rate":73,"display_name":"jordanpg"},"score":0,"creation_date":1490645672,"post_id":26009627,"comment_id":73195819,"body_markdown":"Also don&#39;t forget the JDK IDEA is running under as well as the JDK used by the underlying OS (for example if you use jenv).  See: https://intellij-support.jetbrains.com/hc/en-us/articles/206544879-Selecting-the-JDK-version-the-IDE-will-run-under","body":"Also don&#39;t forget the JDK IDEA is running under as well as the JDK used by the underlying OS (for example if you use jenv).  See: <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544879-Selecting-the-JDK-version-the-IDE-will-run-under\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/articles/&hellip;</a>"},{"owner":{"account_id":461332,"reputation":3059,"user_id":862962,"accept_rate":44,"display_name":"AnkitSablok"},"score":0,"creation_date":1501193700,"post_id":26009627,"comment_id":77684986,"body_markdown":"I faced the same error and the solution mentioned worked out perfectly fine, the thing is one needs to know what language level was the project compiled in and change the project to use that language level.","body":"I faced the same error and the solution mentioned worked out perfectly fine, the thing is one needs to know what language level was the project compiled in and change the project to use that language level."},{"owner":{"account_id":1320150,"reputation":484,"user_id":1266150,"accept_rate":80,"display_name":"Amar Gajbhiye"},"score":0,"creation_date":1544000799,"post_id":26009627,"comment_id":94116862,"body_markdown":"This really helped. I had changed the version from all the places except Project SDK.","body":"This really helped. I had changed the version from all the places except Project SDK."},{"owner":{"account_id":1600325,"reputation":3347,"user_id":1481475,"accept_rate":52,"display_name":"Michael Coxon"},"score":0,"creation_date":1557179506,"post_id":26009627,"comment_id":98670664,"body_markdown":"I tried all of this in 2018.3.6 and nothing worked - I blew away the .idea directory and re-initialised the project - then it worked.","body":"I tried all of this in 2018.3.6 and nothing worked - I blew away the .idea directory and re-initialised the project - then it worked."},{"owner":{"account_id":3579176,"reputation":4110,"user_id":2987780,"accept_rate":50,"display_name":"Indrajeet Gour"},"score":1,"creation_date":1583437056,"post_id":26009627,"comment_id":107126313,"body_markdown":"One more thing i did apart from the mentioned step, edit configuration -&gt; application -&gt; select the your application and check the JRE drop-down and select which you wanted to have in case it was jdk11.","body":"One more thing i did apart from the mentioned step, edit configuration -&gt; application -&gt; select the your application and check the JRE drop-down and select which you wanted to have in case it was jdk11."},{"owner":{"display_name":"user14039007"},"score":0,"creation_date":1617317936,"post_id":26009627,"comment_id":118278587,"body_markdown":"what a legend tysm","body":"what a legend tysm"},{"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"score":0,"creation_date":1635444448,"post_id":26009627,"comment_id":123307037,"body_markdown":"Ended up having to modify the value of the cloned repo in its root `build.gradle` (the `sourceCompatibility` value).","body":"Ended up having to modify the value of the cloned repo in its root <code>build.gradle</code> (the <code>sourceCompatibility</code> value)."},{"owner":{"account_id":1218248,"reputation":757,"user_id":1185419,"accept_rate":62,"display_name":"The Anh Nguyen"},"score":0,"creation_date":1661221597,"post_id":26009627,"comment_id":129714337,"body_markdown":"For me, *Project Structure &gt; Project Settings &gt; Project &gt; Language level* was set to 18 even though SDK is 1.8, so I set it back to 8 and it solve my problem.","body":"For me, <i>Project Structure &gt; Project Settings &gt; Project &gt; Language level</i> was set to 18 even though SDK is 1.8, so I set it back to 8 and it solve my problem."},{"owner":{"account_id":348277,"reputation":1874,"user_id":1052099,"accept_rate":60,"display_name":"TriCore"},"score":0,"creation_date":1667365482,"post_id":26009627,"comment_id":131147528,"body_markdown":"I think you missed Gradle JVM in Preferences","body":"I think you missed Gradle JVM in Preferences"},{"owner":{"account_id":11729259,"reputation":392,"user_id":8618438,"display_name":"chill appreciator"},"score":0,"creation_date":1678451108,"post_id":26009627,"comment_id":133539459,"body_markdown":"Or you can just manually edit `source` and `target` versions in `pom.xml` in case of Maven project","body":"Or you can just manually edit <code>source</code> and <code>target</code> versions in <code>pom.xml</code> in case of Maven project"},{"owner":{"account_id":15845590,"reputation":331,"user_id":11432986,"display_name":"brando f"},"score":0,"creation_date":1678555996,"post_id":26009627,"comment_id":133557759,"body_markdown":"I had this problem and some reason I couldn&#39;t get gradle to let go of using my old Java 11 sdk. Adding the gradle &#39;--info&#39; flag in the &#39;edit configurations&#39; for the test I was running I was able to see the file location for the java 11 sdk it was using. I just deleted that and then it was able to switch to the Java 17 sdk I had.\n\nThe command in edit configurations then looked like this:\n`:test --tests &quot;com.freedommuskrats.fineengine.MessAroundTest.test_CompositePlan&quot; --info`","body":"I had this problem and some reason I couldn&#39;t get gradle to let go of using my old Java 11 sdk. Adding the gradle &#39;--info&#39; flag in the &#39;edit configurations&#39; for the test I was running I was able to see the file location for the java 11 sdk it was using. I just deleted that and then it was able to switch to the Java 17 sdk I had.  The command in edit configurations then looked like this: <code>:test --tests &quot;com.freedommuskrats.fineengine.MessAroundTest.test_Composit&zwnj;&#8203;ePlan&quot; --info</code>"}],"tags":[],"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"comment_count":16,"down_vote_count":0,"up_vote_count":934,"is_accepted":true,"score":934,"last_activity_date":1682626890,"creation_date":1411538558,"answer_id":26009627,"question_id":25878045,"body_markdown":"I had the same issue when &quot;downgrading&quot; a project from Java 8 to Java 6. The reason was that it was not changed at all places in IntelliJ.\r\n\r\nIn IntelliJ 13.1.4 I had to change Java and SDK version on the following places not to get this error:\r\n\r\n - File -&gt; Project Structure -&gt; Project Settings\r\n - File -&gt;\r\n   Project Structure -&gt; Module Settings -&gt; Tab: Sources: Language Level\r\n - File -&gt; Project\r\n   Structure -&gt; Module Settings -&gt; Tab: Dependencies: Module SDK\r\n - File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Java Compiler -&gt; Target bytecode\r\n   version\r\n\r\n[![screen shot of File &gt; Project Structure &gt; Project][1]][1]\r\n\r\n[![screen shot of File &gt; Project Structure &gt; Modules &gt; Sources][2]][2]\r\n\r\n[![screen shot of File &gt; Project Structure &gt; Modules &gt; Dependencies][3]][3]\r\n\r\n[![screen shot of File &gt; Settings/Preferences &gt; Compiler &gt; Java Compiler][4]][4]\r\n\r\nThe last bullet was the one that was not updated in my case. Once I changed this, the error disappeared.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xanp3.jpg\r\n  [2]: https://i.stack.imgur.com/HvNLY.jpg\r\n  [3]: https://i.stack.imgur.com/dxkJl.jpg\r\n  [4]: https://i.stack.imgur.com/D0KNE.jpg","title":"Error:java: invalid source release: 8 in Intellij. What does it mean?","body":"<p>I had the same issue when &quot;downgrading&quot; a project from Java 8 to Java 6. The reason was that it was not changed at all places in IntelliJ.</p>\n<p>In IntelliJ 13.1.4 I had to change Java and SDK version on the following places not to get this error:</p>\n<ul>\n<li>File -&gt; Project Structure -&gt; Project Settings</li>\n<li>File -&gt;\nProject Structure -&gt; Module Settings -&gt; Tab: Sources: Language Level</li>\n<li>File -&gt; Project\nStructure -&gt; Module Settings -&gt; Tab: Dependencies: Module SDK</li>\n<li>File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Java Compiler -&gt; Target bytecode\nversion</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/xanp3.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xanp3.jpg\" alt=\"screen shot of File &gt; Project Structure &gt; Project\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/HvNLY.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/HvNLY.jpg\" alt=\"screen shot of File &gt; Project Structure &gt; Modules &gt; Sources\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/dxkJl.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/dxkJl.jpg\" alt=\"screen shot of File &gt; Project Structure &gt; Modules &gt; Dependencies\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/D0KNE.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/D0KNE.jpg\" alt=\"screen shot of File &gt; Settings/Preferences &gt; Compiler &gt; Java Compiler\" /></a></p>\n<p>The last bullet was the one that was not updated in my case. Once I changed this, the error disappeared.</p>\n"},{"tags":[],"owner":{"account_id":5733899,"reputation":199,"user_id":4528661,"display_name":"Yash Bajaj"},"comment_count":0,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1436189737,"creation_date":1436185927,"answer_id":31245931,"question_id":25878045,"body_markdown":"Check your `pom.xml` first (if you have one)&lt;br&gt; \r\nCheck your module&#39;s `JDK` dependancy. Make sure that it is **`1.8`**&lt;br&gt;\r\nTo do this,go to **Project Structure -&gt; SDK&#39;s**&lt;br&gt;\r\nAdd the path to where you have stored **1.8** (`jdk1.8.0_45.jdk` in my case)&lt;br&gt;\r\nApply the changes&lt;br&gt;\r\nNow, go to Project **Structure -&gt;Modules**&lt;br&gt;\r\nChange the Module SDK to **`1.8`**&lt;br&gt;\r\nApply the changes&lt;br&gt;\r\n\r\nVoila! You&#39;re done ","title":"Error:java: invalid source release: 8 in Intellij. What does it mean?","body":"<p>Check your <code>pom.xml</code> first (if you have one)<br> \nCheck your module's <code>JDK</code> dependancy. Make sure that it is <strong><code>1.8</code></strong><br>\nTo do this,go to <strong>Project Structure -> SDK's</strong><br>\nAdd the path to where you have stored <strong>1.8</strong> (<code>jdk1.8.0_45.jdk</code> in my case)<br>\nApply the changes<br>\nNow, go to Project <strong>Structure ->Modules</strong><br>\nChange the Module SDK to <strong><code>1.8</code></strong><br>\nApply the changes<br></p>\n\n<p>Voila! You're done </p>\n"},{"comments":[{"owner":{"account_id":2156057,"reputation":113,"user_id":1911273,"display_name":"chazzlabs"},"score":0,"creation_date":1441204209,"post_id":32191315,"comment_id":52584722,"body_markdown":"Thanks! This resolved my issue after the above answers didn&#39;t.","body":"Thanks! This resolved my issue after the above answers didn&#39;t."}],"tags":[],"owner":{"account_id":1298255,"reputation":4231,"user_id":1248725,"accept_rate":58,"display_name":"juliangonzalez"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1440448575,"creation_date":1440448575,"answer_id":32191315,"question_id":25878045,"body_markdown":"If you are using Gradle as a build tool and you get this error when executing a Gradle task i.e TomcatRun take a look to my other answer to the same question\r\n\r\nhttps://stackoverflow.com/questions/24766591/javac-invalid-target-release-1-8/32190543#32190543","title":"Error:java: invalid source release: 8 in Intellij. What does it mean?","body":"<p>If you are using Gradle as a build tool and you get this error when executing a Gradle task i.e TomcatRun take a look to my other answer to the same question</p>\n\n<p><a href=\"https://stackoverflow.com/questions/24766591/javac-invalid-target-release-1-8/32190543#32190543\">javac: invalid target release: 1.8</a></p>\n"},{"tags":[],"owner":{"account_id":1276514,"reputation":151,"user_id":1231655,"accept_rate":25,"display_name":"jilbot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1440773444,"creation_date":1440773444,"answer_id":32273854,"question_id":25878045,"body_markdown":"Andreas Lundgren&#39;s answer worked and I was able to compile and run my app.  \r\n\r\nHowever, when I tried to run the project&#39;s associated JUnit tests I received the same error.  Running \r\n\r\n    gradle -version\r\n\r\nfrom Windows command prompt showed that gradle was still picking up the incorrect jdk.  To fix it I had to set the `JAVA_HOME` environment variable to point to the correct jdk and restart IntelliJ. ","title":"Error:java: invalid source release: 8 in Intellij. What does it mean?","body":"<p>Andreas Lundgren's answer worked and I was able to compile and run my app.  </p>\n\n<p>However, when I tried to run the project's associated JUnit tests I received the same error.  Running </p>\n\n<pre><code>gradle -version\n</code></pre>\n\n<p>from Windows command prompt showed that gradle was still picking up the incorrect jdk.  To fix it I had to set the <code>JAVA_HOME</code> environment variable to point to the correct jdk and restart IntelliJ. </p>\n"},{"tags":[],"owner":{"account_id":7596761,"reputation":81,"user_id":5762715,"display_name":"Aziz Mamoyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1452258226,"creation_date":1452255698,"answer_id":34677051,"question_id":25878045,"body_markdown":"Change in `pom.xml` `1.6` to `1.8`\r\n\r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;1.8&lt;/source&gt;\r\n            &lt;target&gt;1.8&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"Error:java: invalid source release: 8 in Intellij. What does it mean?","body":"<p>Change in <code>pom.xml</code> <code>1.6</code> to <code>1.8</code></p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.8&lt;/source&gt;\n        &lt;target&gt;1.8&lt;/target&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":246003,"reputation":934,"user_id":519859,"accept_rate":64,"display_name":"Java_Waldi"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1459842603,"creation_date":1459842603,"answer_id":36420204,"question_id":25878045,"body_markdown":"For Gradle users having this issues, if nothing above helps this is what solved my problem - apply this declarations in your build.gradle files:\r\n\r\n    targetCompatibility = 1.6 //or 1.7;1.8 and so on\r\n    sourceCompatibility = 1.6 //or 1.7;1.8 and so on\r\n\r\nProblem solved!","title":"Error:java: invalid source release: 8 in Intellij. What does it mean?","body":"<p>For Gradle users having this issues, if nothing above helps this is what solved my problem - apply this declarations in your build.gradle files:</p>\n\n<pre><code>targetCompatibility = 1.6 //or 1.7;1.8 and so on\nsourceCompatibility = 1.6 //or 1.7;1.8 and so on\n</code></pre>\n\n<p>Problem solved!</p>\n"},{"tags":[],"owner":{"account_id":1798484,"reputation":865,"user_id":1650469,"display_name":"B5A7"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475793977,"creation_date":1475793977,"answer_id":39906775,"question_id":25878045,"body_markdown":"For Grails users, apply these declarations in your BuildConfig.groovy file:\r\n\r\n    grails.project.target.level = 1.6 //or 1.7;1.8 and so on\r\n    grails.project.source.level = 1.6 //or 1.7;1.8 and so on\r\n\r\n\r\n\r\n\r\n","title":"Error:java: invalid source release: 8 in Intellij. What does it mean?","body":"<p>For Grails users, apply these declarations in your BuildConfig.groovy file:</p>\n\n<pre><code>grails.project.target.level = 1.6 //or 1.7;1.8 and so on\ngrails.project.source.level = 1.6 //or 1.7;1.8 and so on\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6440480,"reputation":19239,"user_id":4990642,"accept_rate":53,"display_name":"Soner from The Ottoman Empire"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1498827963,"creation_date":1498827963,"answer_id":44847232,"question_id":25878045,"body_markdown":"It can be simply overcome by setting on `Project Structure`. You just need to select the right path for related version of JDK. Select `new` on dependencies tab, and choose the path. It&#39;s done!\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/P84ZS.png","title":"Error:java: invalid source release: 8 in Intellij. What does it mean?","body":"<p>It can be simply overcome by setting on <code>Project Structure</code>. You just need to select the right path for related version of JDK. Select <code>new</code> on dependencies tab, and choose the path. It's done!</p>\n\n<p><a href=\"https://i.stack.imgur.com/P84ZS.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/P84ZS.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":11077428,"reputation":21,"user_id":8133702,"display_name":"Katherine Nicol"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501600230,"creation_date":1501600230,"answer_id":45441525,"question_id":25878045,"body_markdown":"You need to click to the project\r\nOpen Module Settings and change the path of your JDK, if in the file POM you use jdk 1.8, configure jdk 1.8 with correct path.","title":"Error:java: invalid source release: 8 in Intellij. What does it mean?","body":"<p>You need to click to the project\nOpen Module Settings and change the path of your JDK, if in the file POM you use jdk 1.8, configure jdk 1.8 with correct path.</p>\n"},{"tags":[],"owner":{"account_id":4835491,"reputation":4717,"user_id":3902339,"accept_rate":100,"display_name":"ArifMustafa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519303663,"creation_date":1519303663,"answer_id":48927826,"question_id":25878045,"body_markdown":"I checked all above said project version, module version, project bytecode version, target bytecode version settings in `IntelliJ Idea`, but all were the same as I scratched.\r\n\r\nI face this error **`Error:java: invalid source release: 1.8`** in `IntelliJ Idea 2017.2.6` because I upgraded the dependency version `Maven` pom file, which(dependency) were supposed to build for JDK 1.8 application and I were building my application on and with maven compiler source and target JDK 1.7.\r\n\r\nHence I again downgrade the dependency version to earlier one in `Maven` pom, and the error gone after project Rebuild Module &#39;xyz_project&#39;.","title":"Error:java: invalid source release: 8 in Intellij. What does it mean?","body":"<p>I checked all above said project version, module version, project bytecode version, target bytecode version settings in <code>IntelliJ Idea</code>, but all were the same as I scratched.</p>\n\n<p>I face this error <strong><code>Error:java: invalid source release: 1.8</code></strong> in <code>IntelliJ Idea 2017.2.6</code> because I upgraded the dependency version <code>Maven</code> pom file, which(dependency) were supposed to build for JDK 1.8 application and I were building my application on and with maven compiler source and target JDK 1.7.</p>\n\n<p>Hence I again downgrade the dependency version to earlier one in <code>Maven</code> pom, and the error gone after project Rebuild Module 'xyz_project'.</p>\n"},{"tags":[],"owner":{"account_id":5850578,"reputation":1170,"user_id":4609353,"display_name":"Oleg Ushakov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563301526,"creation_date":1563301526,"answer_id":57063367,"question_id":25878045,"body_markdown":"I add one more path unmentioned in this answer https://stackoverflow.com/a/26009627/4609353\r\n\r\nbut very important is Edit Configurations\r\n\r\n[![one more path][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4stEZ.png","title":"Error:java: invalid source release: 8 in Intellij. What does it mean?","body":"<p>I add one more path unmentioned in this answer <a href=\"https://stackoverflow.com/a/26009627/4609353\">https://stackoverflow.com/a/26009627/4609353</a></p>\n\n<p>but very important is Edit Configurations</p>\n\n<p><a href=\"https://i.stack.imgur.com/4stEZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4stEZ.png\" alt=\"one more path\"></a></p>\n"},{"tags":[],"owner":{"account_id":2348623,"reputation":76,"user_id":2058104,"display_name":"cresclux"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590284684,"creation_date":1590284684,"answer_id":61980669,"question_id":25878045,"body_markdown":"I tried out all the steps mentioned in here [https://stackoverflow.com/a/26009627/2058104][1], but the 4th point has now changed. You need to go to **Preferences -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Java Compiler**\r\n\r\nIn there, as shown in below figure, you need to change the &quot;Target bytecode version&quot;. Although, I changed it to 8 (since I needed to downgrade to Java 8), it was giving the same error, over and over. Therefore, **try to remove the existing entry (in this table) and add it again. This worked for me.**\r\n\r\n[![enter image description here][2]][2]\r\n\r\nOn the other hand, clean the project and try to run again.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/26009627/2058104\r\n  [2]: https://i.stack.imgur.com/K0LQR.png","title":"Error:java: invalid source release: 8 in Intellij. What does it mean?","body":"<p>I tried out all the steps mentioned in here <a href=\"https://stackoverflow.com/a/26009627/2058104\">https://stackoverflow.com/a/26009627/2058104</a>, but the 4th point has now changed. You need to go to <strong>Preferences -> Build, Execution, Deployment -> Compiler -> Java Compiler</strong></p>\n\n<p>In there, as shown in below figure, you need to change the \"Target bytecode version\". Although, I changed it to 8 (since I needed to downgrade to Java 8), it was giving the same error, over and over. Therefore, <strong>try to remove the existing entry (in this table) and add it again. This worked for me.</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/K0LQR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K0LQR.png\" alt=\"enter image description here\"></a></p>\n\n<p>On the other hand, clean the project and try to run again.</p>\n"},{"tags":[],"owner":{"account_id":2817888,"reputation":376,"user_id":2422456,"accept_rate":68,"display_name":"Derek MC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598887730,"creation_date":1598887730,"answer_id":63673717,"question_id":25878045,"body_markdown":"I had the same issue the solution for me was to change my java version in the pom.xml file. \r\n\r\nI changed it from 11 to 8. \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/l8CxC.png","title":"Error:java: invalid source release: 8 in Intellij. What does it mean?","body":"<p>I had the same issue the solution for me was to change my java version in the pom.xml file.</p>\n<p>I changed it from 11 to 8.\n<a href=\"https://i.stack.imgur.com/l8CxC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l8CxC.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":3691593,"reputation":1094,"user_id":3074057,"display_name":"Beezer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601915491,"creation_date":1601915491,"answer_id":64212651,"question_id":25878045,"body_markdown":"Lots of good answers. \r\nFor those using the (almost) latest version of Intellij, at the time of writing, what can be said, is that the project JDK can be at a higher level, than that of the module. \r\nIn fact without it, Maven will have to be rolled back to an older version. \r\nTherefore with the following version of Intellij:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MCo16.png\r\n\r\nOne should not change the project level JDK and therefore be able to leverage the Maven or Gradle settings when building, but when running Maven or running Gradle using a more modern version of the JDK.\r\nIf you lower your project level JDK from say JKD8 to JDK6, Maven or Gradle will not run.\r\n\r\nKeeping your module at a lower level JDK-wise will enable you to build it to that version, if you use the Module rebuild or build options; using the menu options for rebuilding the project will complain wit &quot;Invalid source release:8...&quot;.\r\n\r\n","title":"Error:java: invalid source release: 8 in Intellij. What does it mean?","body":"<p>Lots of good answers.\nFor those using the (almost) latest version of Intellij, at the time of writing, what can be said, is that the project JDK can be at a higher level, than that of the module.\nIn fact without it, Maven will have to be rolled back to an older version.\nTherefore with the following version of Intellij:\n<a href=\"https://i.stack.imgur.com/MCo16.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MCo16.png\" alt=\"enter image description here\" /></a></p>\n<p>One should not change the project level JDK and therefore be able to leverage the Maven or Gradle settings when building, but when running Maven or running Gradle using a more modern version of the JDK.\nIf you lower your project level JDK from say JKD8 to JDK6, Maven or Gradle will not run.</p>\n<p>Keeping your module at a lower level JDK-wise will enable you to build it to that version, if you use the Module rebuild or build options; using the menu options for rebuilding the project will complain wit &quot;Invalid source release:8...&quot;.</p>\n"},{"tags":[],"owner":{"account_id":17295469,"reputation":137,"user_id":12526239,"display_name":"Yasin Bekar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602466246,"creation_date":1602463889,"answer_id":64310393,"question_id":25878045,"body_markdown":"As Andreas mentioned all about:\r\n    \r\n    Error:java: invalid source release: 8 in IntelliJ\r\n    Error:java: invalid source release: 13 in IntelliJ\r\n    Error:java: invalid source release: 14 in IntelliJ...\r\n    \r\nOR whatever version you are using in Java...\r\n    \r\nThe problem will exist if you do not have it matching inside the below code:\r\n```xml\r\n&lt;properties&gt;\r\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n&lt;/properties&gt;\r\n```\r\nThis 1.8 in my case, must be matching on your device through MAVEN project library, settings, preferences, project setting and SDK. \r\n\r\n","title":"Error:java: invalid source release: 8 in Intellij. What does it mean?","body":"<p>As Andreas mentioned all about:</p>\n<pre><code>Error:java: invalid source release: 8 in IntelliJ\nError:java: invalid source release: 13 in IntelliJ\nError:java: invalid source release: 14 in IntelliJ...\n</code></pre>\n<p>OR whatever version you are using in Java...</p>\n<p>The problem will exist if you do not have it matching inside the below code:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>This 1.8 in my case, must be matching on your device through MAVEN project library, settings, preferences, project setting and SDK.</p>\n"},{"comments":[{"owner":{"account_id":18824073,"reputation":317,"user_id":13729422,"display_name":"Uzair"},"score":0,"creation_date":1603642413,"post_id":64525877,"comment_id":114094932,"body_markdown":"If you don&#39;t SDK 12. Just add the latest one","body":"If you don&#39;t SDK 12. Just add the latest one"}],"tags":[],"owner":{"account_id":18824073,"reputation":317,"user_id":13729422,"display_name":"Uzair"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603642240,"creation_date":1603642240,"answer_id":64525877,"question_id":25878045,"body_markdown":"I was recently facing the same problem.\r\nThis Error was showing on my screen after running my project main file.\r\n**Error:java: invalid source release: 11**\r\nFollow the steps to resolve this error\r\n 1. File-&gt;Project Structure -&gt; Project\r\n 2. Click New button under Project SDK: Add the latest SDK and Click OK.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**After running You will see error is resolved..**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qRMIE.png\r\n  [2]: https://i.stack.imgur.com/094W1.png","title":"Error:java: invalid source release: 8 in Intellij. What does it mean?","body":"<p>I was recently facing the same problem.\nThis Error was showing on my screen after running my project main file.\n<strong>Error:java: invalid source release: 11</strong>\nFollow the steps to resolve this error</p>\n<ol>\n<li>File-&gt;Project Structure -&gt; Project</li>\n<li>Click New button under Project SDK: Add the latest SDK and Click OK.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/qRMIE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qRMIE.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>After running You will see error is resolved..</strong></p>\n<p><a href=\"https://i.stack.imgur.com/094W1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/094W1.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":17184860,"reputation":61,"user_id":12439656,"display_name":"Raj Kushwaha"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626102201,"creation_date":1626102201,"answer_id":68349666,"question_id":25878045,"body_markdown":"\r\nIf You Get This ERROR: **Error:java: invalid source release: 12**\r\nInformation:java: Errors occurred while compiling module &#39;IdeaProjects&#39;\r\nInformation:javac 1.8.0_211 was used to compile java sources\r\nInformation:Module &quot;IdeaProjects&quot; was fully rebuilt due to project configuration/dependencies changes\r\nInformation:7/12/2021 8:21 PM - Build completed with 1 error and 0 warnings in 6 s 323 ms\r\nError:java: invalid source release: 12\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nTHEN\r\n\r\n\r\n\r\n[![enter image description here][2]][2]\r\nSelect Your Previous Version Project \r\n\r\nIn My side :\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n\r\n**FINISHED**\r\n\r\nIf you Get SOlution of Your IDE then Message Me www.betechnical.tech\r\nor amankushwaha9918@gmaill.com\r\n\r\n  [1]: https://i.stack.imgur.com/AJvN5.png\r\n  [2]: https://i.stack.imgur.com/br7Bx.png\r\n  [3]: https://i.stack.imgur.com/rz99d.png","title":"Error:java: invalid source release: 8 in Intellij. What does it mean?","body":"<p>If You Get This ERROR: <strong>Error:java: invalid source release: 12</strong>\nInformation:java: Errors occurred while compiling module 'IdeaProjects'\nInformation:javac 1.8.0_211 was used to compile java sources\nInformation:Module &quot;IdeaProjects&quot; was fully rebuilt due to project configuration/dependencies changes\nInformation:7/12/2021 8:21 PM - Build completed with 1 error and 0 warnings in 6 s 323 ms\nError:java: invalid source release: 12</p>\n<p><a href=\"https://i.stack.imgur.com/AJvN5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AJvN5.png\" alt=\"enter image description here\" /></a></p>\n<p>THEN</p>\n<p><a href=\"https://i.stack.imgur.com/br7Bx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/br7Bx.png\" alt=\"enter image description here\" /></a>\nSelect Your Previous Version Project</p>\n<p>In My side :</p>\n<p><a href=\"https://i.stack.imgur.com/rz99d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rz99d.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>FINISHED</strong></p>\n<p>If you Get SOlution of Your IDE then Message Me <a href=\"http://www.betechnical.tech\" rel=\"nofollow noreferrer\">www.betechnical.tech</a>\nor amankushwaha9918@gmaill.com</p>\n"},{"tags":[],"owner":{"account_id":2508599,"reputation":374,"user_id":2181576,"display_name":"veritas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642743573,"creation_date":1642743573,"answer_id":70796869,"question_id":25878045,"body_markdown":"In my case the nuance was that I got a invalid source release 11 (instead of OP&#39;s 8). I tried all the solutions above\r\n- gradle jvm version , java compilter bytecode version, module language.\r\n\r\nI set all the above to java 8 (or 1.8) as that is the library I have on my machine.\r\n\r\nThe issue was that the build.gradle file had \r\n\r\n&gt; sourceCompatibility = &#39;11&#39;\r\n\r\nChanged this to 8 and it stopped throwing &#39;compile failed invalid release 11&#39; error\r\n\r\nsolution reference: [github forum][1]\r\n\r\n\r\n  [1]: https://github.com/gradle/gradle/issues/12803","title":"Error:java: invalid source release: 8 in Intellij. What does it mean?","body":"<p>In my case the nuance was that I got a invalid source release 11 (instead of OP's 8). I tried all the solutions above</p>\n<ul>\n<li>gradle jvm version , java compilter bytecode version, module language.</li>\n</ul>\n<p>I set all the above to java 8 (or 1.8) as that is the library I have on my machine.</p>\n<p>The issue was that the build.gradle file had</p>\n<blockquote>\n<p>sourceCompatibility = '11'</p>\n</blockquote>\n<p>Changed this to 8 and it stopped throwing 'compile failed invalid release 11' error</p>\n<p>solution reference: <a href=\"https://github.com/gradle/gradle/issues/12803\" rel=\"nofollow noreferrer\">github forum</a></p>\n"},{"tags":[],"owner":{"account_id":8617529,"reputation":111,"user_id":6453791,"accept_rate":40,"display_name":"N. I. Md. Ashafuddula"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677562333,"creation_date":1677562333,"answer_id":75588193,"question_id":25878045,"body_markdown":"I am using **JDK 1.8.0_131** and for my case the issue was **Error:java: invalid source release: 12**, \r\nI solved this by changing the version code ``&lt;version&gt;2.7.5&lt;/version&gt;`` in **pom.xml** and ``module -&gt; language level 8``.\r\n\r\n```\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.5&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n```","title":"Error:java: invalid source release: 8 in Intellij. What does it mean?","body":"<p>I am using <strong>JDK 1.8.0_131</strong> and for my case the issue was <strong>Error:java: invalid source release: 12</strong>,\nI solved this by changing the version code <code>&lt;version&gt;2.7.5&lt;/version&gt;</code> in <strong>pom.xml</strong> and <code>module -&gt; language level 8</code>.</p>\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n</code></pre>\n"}],"owner":{"account_id":1370050,"reputation":19409,"user_id":1305516,"accept_rate":59,"display_name":"David says Reinstate Monica"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360944,"favorite_count":0,"down_vote_count":1,"up_vote_count":404,"accepted_answer_id":26009627,"answer_count":19,"score":403,"last_activity_date":1682626890,"creation_date":1410900043,"question_id":25878045,"body_markdown":"Im trying to compile some code in I&#39;m using Intellij Ultimate 13.1.4, but I get the following error and I have no idea what it means:\r\n\r\n    Information:Using javac 1.7.0_55 to compile java sources\r\n    Information:java: Errors occurred while compiling module &#39;Example&#39;\r\n    Information:Compilation completed with 1 error and 0 warnings in 3 sec\r\n    Information:1 error\r\n    Information:0 warnings\r\n    Error:java: invalid source release: 8\r\n\r\nMy guess is that its something related to Java 8 vs Java 7, but I have no idea what specifically. I&#39;ve tried to Google around for this message, but they either talk about `javac` or `target release`, so it doesn&#39;t exactly seem to apply.","title":"Error:java: invalid source release: 8 in Intellij. What does it mean?","body":"<p>Im trying to compile some code in I'm using Intellij Ultimate 13.1.4, but I get the following error and I have no idea what it means:</p>\n\n<pre><code>Information:Using javac 1.7.0_55 to compile java sources\nInformation:java: Errors occurred while compiling module 'Example'\nInformation:Compilation completed with 1 error and 0 warnings in 3 sec\nInformation:1 error\nInformation:0 warnings\nError:java: invalid source release: 8\n</code></pre>\n\n<p>My guess is that its something related to Java 8 vs Java 7, but I have no idea what specifically. I've tried to Google around for this message, but they either talk about <code>javac</code> or <code>target release</code>, so it doesn't exactly seem to apply.</p>\n"},{"tags":["java","spring-boot","mockito","spring-boot-test"],"comments":[{"owner":{"account_id":149941,"reputation":2907,"user_id":362792,"display_name":"Hitobat"},"score":3,"creation_date":1635368834,"post_id":69744898,"comment_id":123282884,"body_markdown":"Use constructor autowiring for your service, and then you can pass in mockito mocks directly. Instead of using mockbean.","body":"Use constructor autowiring for your service, and then you can pass in mockito mocks directly. Instead of using mockbean."},{"owner":{"account_id":297276,"reputation":2523,"user_id":4506703,"display_name":"DEWA Kazuyuki - 出羽和之"},"score":3,"creation_date":1635373331,"post_id":69744898,"comment_id":123284038,"body_markdown":"[Offer a way for MockitoTestExecutionListener to enable strict stubbing #19383](https://github.com/spring-projects/spring-boot/issues/19383)","body":"<a href=\"https://github.com/spring-projects/spring-boot/issues/19383\" rel=\"nofollow noreferrer\">Offer a way for MockitoTestExecutionListener to enable strict stubbing #19383</a>"},{"owner":{"account_id":477949,"reputation":5606,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"score":0,"creation_date":1635413068,"post_id":69744898,"comment_id":123293226,"body_markdown":"That&#39;s just another reason not to use @MockBean. The important reason is that MockBean introduces global mocking, and lets you keep any closed design you may have which does not allow injecting dependencies properly. Without MockBean you would need to refactor your design, and MockBean lets bypass the necessary refactoring.","body":"That&#39;s just another reason not to use @MockBean. The important reason is that MockBean introduces global mocking, and lets you keep any closed design you may have which does not allow injecting dependencies properly. Without MockBean you would need to refactor your design, and MockBean lets bypass the necessary refactoring."},{"owner":{"account_id":5477283,"reputation":4713,"user_id":4354956,"accept_rate":38,"display_name":"Joseph K. Strauss"},"score":1,"creation_date":1635426997,"post_id":69744898,"comment_id":123299355,"body_markdown":"Everyone: I WANT the failure, and I need to use MockBean in a SpringBootTest, otherwise the application context does not load. I am looking for a way to make the MockBean mocks strict.","body":"Everyone: I WANT the failure, and I need to use MockBean in a SpringBootTest, otherwise the application context does not load. I am looking for a way to make the MockBean mocks strict."}],"answers":[{"comments":[{"owner":{"account_id":121787,"reputation":11660,"user_id":315129,"accept_rate":93,"display_name":"vbezhenar"},"score":0,"creation_date":1699737301,"post_id":72047339,"comment_id":136569829,"body_markdown":"&quot;just wait for Mockito 4 where the default will be strict mocks&quot;\n\nMockito 5 is pulled as a default dependency of a latest spring boot, yet strict behaviour is not default.","body":"&quot;just wait for Mockito 4 where the default will be strict mocks&quot;  Mockito 5 is pulled as a default dependency of a latest spring boot, yet strict behaviour is not default."}],"tags":[],"owner":{"account_id":477949,"reputation":5606,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682625654,"creation_date":1651163827,"answer_id":72047339,"question_id":69744898,"body_markdown":"Yes there are some workarounds but it is quite involved.\r\nIt may be better to just wait for Mockito 4 where the default will be strict mocks.\r\n\r\nThe first option:\r\n\r\n1. Replace @MockBean with @Autowired with a test configuration with @Primary ( this should give the same effect as @MockBean, inserting it into the application as well as into the test )\r\n\r\n2. Create a default answer that throws an exception for any unstubbed function\r\n\r\nThen override that answer with some stubbing - but you have to use doReturn instead of when thenReturn\r\n\r\n    // this is the component to mock\r\n    @Component\r\n    class ExtService {\r\n    \tint f1(String a) {\r\n    \t\treturn 777;\r\n    \t}\r\n    }\r\n    // this is the test class\r\n    @SpringBootTest\r\n    @RunWith(SpringRunner.class)\r\n    public class ApplicationTests {\r\n    \r\n    \tstatic class RuntimeExceptionAnswer implements Answer&lt;Object&gt; {\r\n    \t\t@Override\r\n    \t\tpublic Object answer(InvocationOnMock invocation) throws Throwable {\r\n    \t\t\tthrow new RuntimeException(\r\n    \t\t\t\t\tinvocation.getMethod().getName() + &quot; was not stubbed with the received arguments&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@TestConfiguration\r\n    \tpublic static class TestConfig {\r\n    \r\n    \t\t@Bean\r\n    \t\t@Primary\r\n    \t\tpublic ExtService mockExtService() {\r\n    \t\t\tExtService std = Mockito.mock(ExtService.class, new RuntimeExceptionAnswer());\r\n    \t\t\treturn std;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \t// @MockBean ExtService extService;\r\n    \t@Autowired\r\n    \tExtService extService; // replace mockBean\r\n    \r\n    \t@Test\r\n    \tpublic void contextLoads() {\r\n    \r\n    \t\tMockito.doReturn(1).when(extService).f1(&quot;abc&quot;); // stubbing has to be in this format\r\n    \t\tSystem.out.println(extService.f1(&quot;abc&quot;)); // returns 1\r\n    \t\tSystem.out.println(extService.f1(&quot;abcd&quot;)); // throws exception\r\n    \t}\r\n    \r\n    }\r\n\r\nAnother possible but far from ideal option: instead of using a default answer is to stub all your function calls first with an any() matcher, then later with the values you actually expect.\r\n\r\nThis will work because the stubbing order matters, and the last match wins.\r\n\r\nBut again: you will have to use the doXXX() family of stubbing calls, and worse you will have to stub every possible function to come close to a strict mock.\r\n\r\n    // this is the service we want to test\r\n    @Component\r\n    class ExtService {\r\n    \tint f1(String a) {\r\n    \t\treturn 777;\r\n    \t}\r\n    }\r\n    // this is the test class\r\n    @SpringBootTest\r\n    @RunWith(SpringRunner.class)\r\n    public class ApplicationTests {\r\n    \r\n    \r\n    \t@MockBean ExtService extService;\r\n    \r\n    \t@Test\r\n    \tpublic void contextLoads() {\r\n    \r\n    \t\tMockito.doThrow(new RuntimeException(&quot;unstubbed call&quot;)).when(extService).f1(Mockito.any()); // stubbing has to be in this format\r\n    \t\tMockito.doReturn(1).when(extService).f1(&quot;abc&quot;); // stubbing has to be in this format\r\n    \t\tSystem.out.println(extService.f1(&quot;abc&quot;)); // returns 1\r\n    \t\tSystem.out.println(extService.f1(&quot;abcd&quot;)); // throws exception\r\n    \t}\r\n    \r\n    }\r\n\r\nYet another option is to wait until after the test finishes using the mock, and then use\r\n\r\n    verifyNoMoreInteractions();\r\n\r\n","title":"Strict @MockBean in a Spring Boot Test","body":"<p>Yes there are some workarounds but it is quite involved.\nIt may be better to just wait for Mockito 4 where the default will be strict mocks.</p>\n<p>The first option:</p>\n<ol>\n<li><p>Replace @MockBean with @Autowired with a test configuration with @Primary ( this should give the same effect as @MockBean, inserting it into the application as well as into the test )</p>\n</li>\n<li><p>Create a default answer that throws an exception for any unstubbed function</p>\n</li>\n</ol>\n<p>Then override that answer with some stubbing - but you have to use doReturn instead of when thenReturn</p>\n<pre><code>// this is the component to mock\n@Component\nclass ExtService {\n    int f1(String a) {\n        return 777;\n    }\n}\n// this is the test class\n@SpringBootTest\n@RunWith(SpringRunner.class)\npublic class ApplicationTests {\n\n    static class RuntimeExceptionAnswer implements Answer&lt;Object&gt; {\n        @Override\n        public Object answer(InvocationOnMock invocation) throws Throwable {\n            throw new RuntimeException(\n                    invocation.getMethod().getName() + &quot; was not stubbed with the received arguments&quot;);\n        }\n    }\n\n    @TestConfiguration\n    public static class TestConfig {\n\n        @Bean\n        @Primary\n        public ExtService mockExtService() {\n            ExtService std = Mockito.mock(ExtService.class, new RuntimeExceptionAnswer());\n            return std;\n        }\n\n    }\n\n    // @MockBean ExtService extService;\n    @Autowired\n    ExtService extService; // replace mockBean\n\n    @Test\n    public void contextLoads() {\n\n        Mockito.doReturn(1).when(extService).f1(&quot;abc&quot;); // stubbing has to be in this format\n        System.out.println(extService.f1(&quot;abc&quot;)); // returns 1\n        System.out.println(extService.f1(&quot;abcd&quot;)); // throws exception\n    }\n\n}\n</code></pre>\n<p>Another possible but far from ideal option: instead of using a default answer is to stub all your function calls first with an any() matcher, then later with the values you actually expect.</p>\n<p>This will work because the stubbing order matters, and the last match wins.</p>\n<p>But again: you will have to use the doXXX() family of stubbing calls, and worse you will have to stub every possible function to come close to a strict mock.</p>\n<pre><code>// this is the service we want to test\n@Component\nclass ExtService {\n    int f1(String a) {\n        return 777;\n    }\n}\n// this is the test class\n@SpringBootTest\n@RunWith(SpringRunner.class)\npublic class ApplicationTests {\n\n\n    @MockBean ExtService extService;\n\n    @Test\n    public void contextLoads() {\n\n        Mockito.doThrow(new RuntimeException(&quot;unstubbed call&quot;)).when(extService).f1(Mockito.any()); // stubbing has to be in this format\n        Mockito.doReturn(1).when(extService).f1(&quot;abc&quot;); // stubbing has to be in this format\n        System.out.println(extService.f1(&quot;abc&quot;)); // returns 1\n        System.out.println(extService.f1(&quot;abcd&quot;)); // throws exception\n    }\n\n}\n</code></pre>\n<p>Yet another option is to wait until after the test finishes using the mock, and then use</p>\n<pre><code>verifyNoMoreInteractions();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27127406,"reputation":11,"user_id":20670189,"display_name":"Bobby Billy Bruder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675900469,"creation_date":1675870055,"answer_id":75388020,"question_id":69744898,"body_markdown":"As mentioned in [this comment](https://stackoverflow.com/questions/69744898/strict-mockbean-in-a-spring-boot-test#comment123284038_69744898), [this GitHub issue in the *spring-boot* project](https://github.com/spring-projects/spring-boot/issues/19383) addresses this same problem and has remained open since 2019, so it&#39;s unlikely that an option for &quot;strict stubs&quot; will be available in `@SpringBootTest` classes anytime soon.\r\n\r\nOne way that Mockito recommends to enable &quot;strict stubs&quot; is to start a `MockitoSession` with `Strictness.STRICT_STUBS` before each test, and close the `MockitoSession` after each test. Mockito mocks for `@MockBean` properties in `@SpringBootTest` classes are generated by Spring Boot&#39;s `MockitoPostProcessor`, so a workaround would need to create the `MockitoSession` before the `MockitoPostProcessor` runs. A custom `TestExecutionListener` can be implemented to handle this, but only its `beforeTestClass` method would run before the `MockitoPostProcessor`. The following is such an implementation:\r\n\r\n```java\r\npublic class MyMockitoTestExecutionListener implements TestExecutionListener, Ordered {\r\n    // Only one MockitoSession can be active per thread, so ensure that multiple instances of this listener on the\r\n    // same thread use the same instance\r\n    private static ThreadLocal&lt;MockitoSession&gt; mockitoSession = ThreadLocal.withInitial { null };\r\n\r\n    // Count the &quot;depth&quot; of processing test classes. A parent class is not done processing until all @Nested inner\r\n    // classes are done processing, so all @Nested inner classes must share the same MockitoSession as the parent class\r\n    private static ThreadLocal&lt;Integer&gt; depth = ThreadLocal.withInitial { 0 };\r\n\r\n    @Override\r\n    public void beforeTestClass(TestContext testContext) {\r\n        depth.set(depth.get() + 1);\r\n        if (depth.get() &gt; 1)\r\n            return; // @Nested classes share the MockitoSession of the parent class\r\n\r\n        mockitoSession.set(\r\n            Mockito.mockitoSession()\r\n                .strictness(Strictness.STRICT_STUBS)\r\n                .startMocking()\r\n        );\r\n    }\r\n\r\n    @Override\r\n    public void afterTestClass(TestContext testContext) {\r\n        depth.set(depth.get() - 1);\r\n        if (depth.get() &gt; 0)\r\n            return; // @Nested classes should let the parent class end the MockitoSession\r\n\r\n        MockitoSession session = mockitoSession.get();\r\n        if (session != null)\r\n            session.finishMocking();\r\n        mockitoSession.remove();\r\n    }\r\n\r\n    @Override\r\n    public int getOrder() {\r\n        return Ordered.LOWEST_PRECEDENCE;\r\n    }\r\n}\r\n```\r\n\r\nThen, `MyMockitoTestExecutionListener` can be added as a listener in test classes:\r\n\r\n```java\r\n@SpringBootTest\r\n@TestExecutionListeners(\r\n    listeners = {MyMockitoTestExecutionListener.class},\r\n    mergeMode = MergeMode.MERGE_WITH_DEFAULTS\r\n)\r\npublic class MySpringBootTests {\r\n    @MockBean\r\n    Foo mockFoo;\r\n\r\n    // Tests using mockFoo...\r\n}\r\n```","title":"Strict @MockBean in a Spring Boot Test","body":"<p>As mentioned in <a href=\"https://stackoverflow.com/questions/69744898/strict-mockbean-in-a-spring-boot-test#comment123284038_69744898\">this comment</a>, <a href=\"https://github.com/spring-projects/spring-boot/issues/19383\" rel=\"nofollow noreferrer\">this GitHub issue in the <em>spring-boot</em> project</a> addresses this same problem and has remained open since 2019, so it's unlikely that an option for &quot;strict stubs&quot; will be available in <code>@SpringBootTest</code> classes anytime soon.</p>\n<p>One way that Mockito recommends to enable &quot;strict stubs&quot; is to start a <code>MockitoSession</code> with <code>Strictness.STRICT_STUBS</code> before each test, and close the <code>MockitoSession</code> after each test. Mockito mocks for <code>@MockBean</code> properties in <code>@SpringBootTest</code> classes are generated by Spring Boot's <code>MockitoPostProcessor</code>, so a workaround would need to create the <code>MockitoSession</code> before the <code>MockitoPostProcessor</code> runs. A custom <code>TestExecutionListener</code> can be implemented to handle this, but only its <code>beforeTestClass</code> method would run before the <code>MockitoPostProcessor</code>. The following is such an implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyMockitoTestExecutionListener implements TestExecutionListener, Ordered {\n    // Only one MockitoSession can be active per thread, so ensure that multiple instances of this listener on the\n    // same thread use the same instance\n    private static ThreadLocal&lt;MockitoSession&gt; mockitoSession = ThreadLocal.withInitial { null };\n\n    // Count the &quot;depth&quot; of processing test classes. A parent class is not done processing until all @Nested inner\n    // classes are done processing, so all @Nested inner classes must share the same MockitoSession as the parent class\n    private static ThreadLocal&lt;Integer&gt; depth = ThreadLocal.withInitial { 0 };\n\n    @Override\n    public void beforeTestClass(TestContext testContext) {\n        depth.set(depth.get() + 1);\n        if (depth.get() &gt; 1)\n            return; // @Nested classes share the MockitoSession of the parent class\n\n        mockitoSession.set(\n            Mockito.mockitoSession()\n                .strictness(Strictness.STRICT_STUBS)\n                .startMocking()\n        );\n    }\n\n    @Override\n    public void afterTestClass(TestContext testContext) {\n        depth.set(depth.get() - 1);\n        if (depth.get() &gt; 0)\n            return; // @Nested classes should let the parent class end the MockitoSession\n\n        MockitoSession session = mockitoSession.get();\n        if (session != null)\n            session.finishMocking();\n        mockitoSession.remove();\n    }\n\n    @Override\n    public int getOrder() {\n        return Ordered.LOWEST_PRECEDENCE;\n    }\n}\n</code></pre>\n<p>Then, <code>MyMockitoTestExecutionListener</code> can be added as a listener in test classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\n@TestExecutionListeners(\n    listeners = {MyMockitoTestExecutionListener.class},\n    mergeMode = MergeMode.MERGE_WITH_DEFAULTS\n)\npublic class MySpringBootTests {\n    @MockBean\n    Foo mockFoo;\n\n    // Tests using mockFoo...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5477283,"reputation":4713,"user_id":4354956,"accept_rate":38,"display_name":"Joseph K. Strauss"},"score":0,"creation_date":1695225828,"post_id":76112878,"comment_id":135997031,"body_markdown":"Interesting. I guess that means I could at least write a JUnit Extension to do this manual work.","body":"Interesting. I guess that means I could at least write a JUnit Extension to do this manual work."}],"tags":[],"owner":{"account_id":366509,"reputation":3373,"user_id":712089,"accept_rate":100,"display_name":"Eric Lilja"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682525147,"creation_date":1682525147,"answer_id":76112878,"question_id":69744898,"body_markdown":"By asking Mockito to print the invocation details for a mock in the @AfterEach-method, you can find unused stubbings. I just tried it on one of my test classes and it did work, it did indeed find a case of unused stubbings. Not a perfect solution since one has to remember to do it for each mock and relying on string searching is brittle, but you can make it work.\r\n\r\n    @AfterEach\r\n    void afterEach() {\r\n        String invocations = Mockito.mockingDetails(authorizationService).printInvocations();\r\n        assertThat(invocations).doesNotContainIgnoringCase(&quot;unused&quot;);\r\n    }","title":"Strict @MockBean in a Spring Boot Test","body":"<p>By asking Mockito to print the invocation details for a mock in the @AfterEach-method, you can find unused stubbings. I just tried it on one of my test classes and it did work, it did indeed find a case of unused stubbings. Not a perfect solution since one has to remember to do it for each mock and relying on string searching is brittle, but you can make it work.</p>\n<pre><code>@AfterEach\nvoid afterEach() {\n    String invocations = Mockito.mockingDetails(authorizationService).printInvocations();\n    assertThat(invocations).doesNotContainIgnoringCase(&quot;unused&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":5477283,"reputation":4713,"user_id":4354956,"accept_rate":38,"display_name":"Joseph K. Strauss"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1446,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1682625654,"creation_date":1635365500,"question_id":69744898,"body_markdown":"I am developing a Spring Boot application. For my regular service class unit tests, I am able to extend my test class with `MockitoExtension`, and the mocks are strict, **which is what I want**.\r\n\r\n    interface MyDependency {\r\n      Integer execute(String param);\r\n    }\r\n\r\n    class MyService {\r\n      @Autowired MyDependency myDependency;\r\n\r\n      Integer execute(String param) {\r\n        return myDependency.execute(param);\r\n      }\r\n    } \r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class MyServiceTest {\r\n      @Mock\r\n      MyDependency myDependency;\r\n\r\n      @InjectMocks\r\n      MyService myService;\r\n\r\n      @Test\r\n      void execute() {\r\n        given(myDependency.execute(&quot;arg0&quot;)).willReturn(4);\r\n        \r\n        myService.execute(&quot;arg1&quot;); //will throw exception\r\n      }\r\n    }\r\n\r\nIn this case, the an exception gets thrown with the following message (redacted):\r\n\r\n    org.mockito.exceptions.misusing.PotentialStubbingProblem: \r\n    Strict stubbing argument mismatch. Please check:\r\n     - this invocation of &#39;execute&#39; method:\r\n        myDependency.execute(arg1);\r\n     - has following stubbing(s) with different arguments:\r\n        1. myDependency.execute(arg0);\r\n\r\nIn addition, if the stubbing was never used there would be the following (redacted):\r\n\r\n    org.mockito.exceptions.misusing.UnnecessaryStubbingException: \r\n    Unnecessary stubbings detected.\r\n    Clean &amp; maintainable test code requires zero unnecessary code.\r\n    Following stubbings are unnecessary (click to navigate to relevant line of code):\r\n      1. -&gt; at MyServiceTest.execute()\r\n\r\nHowever, when I use `@MockBean` in an integration test, then none of the strict behavior is present. Instead, the stubbed method returns null because the stubbing &quot;fails&quot; silently. **This is behavior that I do not want. It is much better to fail immediately when unexpected arguments are used.**\r\n\r\n    @SpringBootTest\r\n    class MyServiceTest {\r\n      @MockBean\r\n      MyDependency myDependency;\r\n\r\n      @Autowired\r\n      MyService myService;\r\n\r\n      @Test\r\n      void execute() {\r\n        given(myDependency.execute(&quot;arg0&quot;)).willReturn(4);\r\n        \r\n        myService.execute(&quot;arg1&quot;); //will return null\r\n      }\r\n    }\r\n\r\nIs there any workaround for this?","title":"Strict @MockBean in a Spring Boot Test","body":"<p>I am developing a Spring Boot application. For my regular service class unit tests, I am able to extend my test class with <code>MockitoExtension</code>, and the mocks are strict, <strong>which is what I want</strong>.</p>\n<pre><code>interface MyDependency {\n  Integer execute(String param);\n}\n\nclass MyService {\n  @Autowired MyDependency myDependency;\n\n  Integer execute(String param) {\n    return myDependency.execute(param);\n  }\n} \n\n@ExtendWith(MockitoExtension.class)\nclass MyServiceTest {\n  @Mock\n  MyDependency myDependency;\n\n  @InjectMocks\n  MyService myService;\n\n  @Test\n  void execute() {\n    given(myDependency.execute(&quot;arg0&quot;)).willReturn(4);\n    \n    myService.execute(&quot;arg1&quot;); //will throw exception\n  }\n}\n</code></pre>\n<p>In this case, the an exception gets thrown with the following message (redacted):</p>\n<pre><code>org.mockito.exceptions.misusing.PotentialStubbingProblem: \nStrict stubbing argument mismatch. Please check:\n - this invocation of 'execute' method:\n    myDependency.execute(arg1);\n - has following stubbing(s) with different arguments:\n    1. myDependency.execute(arg0);\n</code></pre>\n<p>In addition, if the stubbing was never used there would be the following (redacted):</p>\n<pre><code>org.mockito.exceptions.misusing.UnnecessaryStubbingException: \nUnnecessary stubbings detected.\nClean &amp; maintainable test code requires zero unnecessary code.\nFollowing stubbings are unnecessary (click to navigate to relevant line of code):\n  1. -&gt; at MyServiceTest.execute()\n</code></pre>\n<p>However, when I use <code>@MockBean</code> in an integration test, then none of the strict behavior is present. Instead, the stubbed method returns null because the stubbing &quot;fails&quot; silently. <strong>This is behavior that I do not want. It is much better to fail immediately when unexpected arguments are used.</strong></p>\n<pre><code>@SpringBootTest\nclass MyServiceTest {\n  @MockBean\n  MyDependency myDependency;\n\n  @Autowired\n  MyService myService;\n\n  @Test\n  void execute() {\n    given(myDependency.execute(&quot;arg0&quot;)).willReturn(4);\n    \n    myService.execute(&quot;arg1&quot;); //will return null\n  }\n}\n</code></pre>\n<p>Is there any workaround for this?</p>\n"},{"tags":["java","memory-leaks","garbage-collection","jprofiler","memory-profiling"],"answers":[{"comments":[{"owner":{"account_id":1816354,"reputation":617,"user_id":1651361,"display_name":"GreenhouseVeg"},"score":0,"creation_date":1682671271,"post_id":76124190,"comment_id":134255583,"body_markdown":"Many thanks for the quick answer! I know that VisualVM presents this metric (unfortunately, only for local JVMs), do you happen to know how it is calculated there?","body":"Many thanks for the quick answer! I know that VisualVM presents this metric (unfortunately, only for local JVMs), do you happen to know how it is calculated there?"},{"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"score":0,"creation_date":1682685372,"post_id":76124190,"comment_id":134258574,"body_markdown":"The metric is presented in JProfiler as well, it comes from the garbage collector MBean. You can see it under Telemetries-&gt;Memory,  then select the generation in the memory pool drop-down.","body":"The metric is presented in JProfiler as well, it comes from the garbage collector MBean. You can see it under Telemetries-&gt;Memory,  then select the generation in the memory pool drop-down."}],"tags":[],"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682625564,"creation_date":1682625564,"answer_id":76124190,"question_id":76120159,"body_markdown":"It is not possible to ask the JDK which generation an object is in, the tool interface (JVMTI) does not provide information about the garbage collector. The only available information is the statistics that is published by the garbage collector.\r\n\r\nIn JProfiler, you can use the &quot;Mark heap&quot; action that is advertised on the heap walker overview and that is also available in the Profiling menu or as a trigger action. It marks all objects on the heap as &quot;old&quot;. When you take the next heap snapshot, it is now shown how many new objects there are and you can select the old objects with a single click.","title":"JProfiler: how to display surviving generations aka generations count?","body":"<p>It is not possible to ask the JDK which generation an object is in, the tool interface (JVMTI) does not provide information about the garbage collector. The only available information is the statistics that is published by the garbage collector.</p>\n<p>In JProfiler, you can use the &quot;Mark heap&quot; action that is advertised on the heap walker overview and that is also available in the Profiling menu or as a trigger action. It marks all objects on the heap as &quot;old&quot;. When you take the next heap snapshot, it is now shown how many new objects there are and you can select the old objects with a single click.</p>\n"}],"owner":{"account_id":1816354,"reputation":617,"user_id":1651361,"display_name":"GreenhouseVeg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76124190,"answer_count":1,"score":1,"last_activity_date":1682625564,"creation_date":1682596879,"question_id":76120159,"body_markdown":"Some talks on finding Java memory leaks ([one](https://youtu.be/JoQN4xoXY5Y?t=1440), [two](https://youtu.be/E2KYTXKUsT4?t=1204)) suggest using the [surviving generations metric](https://stackoverflow.com/questions/9330931/understanding-the-surviving-generations-metric) to identify the classes whose instances remain live after multiple GC events and thus can constitute a memory leak.\r\n\r\nIs it possible to see this metric in JProfiler when viewing live or recorded objects? \r\n\r\nIn JProfiler 13.0.6 I searched both the All Objects and Recorded Objects views, and their respective Vew Settings dialogues, but couldn&#39;t find any such option.","title":"JProfiler: how to display surviving generations aka generations count?","body":"<p>Some talks on finding Java memory leaks (<a href=\"https://youtu.be/JoQN4xoXY5Y?t=1440\" rel=\"nofollow noreferrer\">one</a>, <a href=\"https://youtu.be/E2KYTXKUsT4?t=1204\" rel=\"nofollow noreferrer\">two</a>) suggest using the <a href=\"https://stackoverflow.com/questions/9330931/understanding-the-surviving-generations-metric\">surviving generations metric</a> to identify the classes whose instances remain live after multiple GC events and thus can constitute a memory leak.</p>\n<p>Is it possible to see this metric in JProfiler when viewing live or recorded objects?</p>\n<p>In JProfiler 13.0.6 I searched both the All Objects and Recorded Objects views, and their respective Vew Settings dialogues, but couldn't find any such option.</p>\n"},{"tags":["java","stack-overflow"],"answers":[{"comments":[{"owner":{"account_id":2088806,"reputation":23,"user_id":1859085,"display_name":"krdroid"},"score":0,"creation_date":1354096101,"post_id":13602024,"comment_id":18646920,"body_markdown":"Memory shouldn&#39;t be problem in my case. Because i have given 5GB for JVM. Below are the options i have passed to JVM.\n\n-XX:ErrorFile=hs_err_pid.log -XX:-HeapDumpOnOutOfMemoryError -Xmx5000m -XX:MaxJavaStackTraceDepth=1000000","body":"Memory shouldn&#39;t be problem in my case. Because i have given 5GB for JVM. Below are the options i have passed to JVM.  -XX:ErrorFile=hs_err_pid.log -XX:-HeapDumpOnOutOfMemoryError -Xmx5000m -XX:MaxJavaStackTraceDepth=1000000"}],"tags":[],"owner":{"account_id":1753724,"reputation":4483,"user_id":1602230,"accept_rate":96,"display_name":"Sathish"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1354095620,"creation_date":1354095620,"answer_id":13602024,"question_id":13601851,"body_markdown":"The simple answer is that your test case is running out of memory. A\r\npossible solution would be to increase the memory of the JVM. I\r\nbelieve the default memory setting for the JVM is 256M or maybe 512M.\r\nThis should be sufficient for your test execution. Short term solution\r\nis to use -Xmx1700m (assuming you have the 1.7 gig of memory to\r\nspare).","title":"Stack Overflow at java.util.Properties.getProperty","body":"<p>The simple answer is that your test case is running out of memory. A\npossible solution would be to increase the memory of the JVM. I\nbelieve the default memory setting for the JVM is 256M or maybe 512M.\nThis should be sufficient for your test execution. Short term solution\nis to use -Xmx1700m (assuming you have the 1.7 gig of memory to\nspare).</p>\n"},{"tags":[],"owner":{"account_id":1905075,"reputation":1039,"user_id":1720112,"accept_rate":78,"display_name":"Danilo Radenovic"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1354096437,"creation_date":1354096437,"answer_id":13602298,"question_id":13601851,"body_markdown":"Don&#39;t mean to state the obvious, but maybe you should check if you are *creating variables inside the loop* that performs these transactions (the 40.000 repetitions one :-)), instead of reusing the same variable. Also, *checking the constraint inside the loop* can create unnecessary load. *String concatenation* can produce massive load, too. So, if you have something like this:\r\n\r\n    for (i=0; i &lt; getNumberOfTransactions(); i++){      // constraint checking inside the loop \r\n    \r\n        int currentValue = myTransaction.getSomeData();  // creating new variable in every \r\n    }\r\n\r\nYou should write something like this instead:\r\n\r\n    int numberOfTransactions = getNumberOfTransactions();\r\n    int currentValue = 0;\r\n    \r\n    for(i=0; i &lt; numberOfTransactions; i++){\r\n        \r\n        currentValue = myTransaction.getSomeData();\r\n    }\r\nAlthough this example uses only 2 integer variables, when multiple variables are created inside the loop (especially string concatenation), this can consume a lot of memory. If you have some string concatenation, use *StringBuilder* class instead.\r\n\r\n","title":"Stack Overflow at java.util.Properties.getProperty","body":"<p>Don't mean to state the obvious, but maybe you should check if you are <em>creating variables inside the loop</em> that performs these transactions (the 40.000 repetitions one :-)), instead of reusing the same variable. Also, <em>checking the constraint inside the loop</em> can create unnecessary load. <em>String concatenation</em> can produce massive load, too. So, if you have something like this:</p>\n\n<pre><code>for (i=0; i &lt; getNumberOfTransactions(); i++){      // constraint checking inside the loop \n\n    int currentValue = myTransaction.getSomeData();  // creating new variable in every \n}\n</code></pre>\n\n<p>You should write something like this instead:</p>\n\n<pre><code>int numberOfTransactions = getNumberOfTransactions();\nint currentValue = 0;\n\nfor(i=0; i &lt; numberOfTransactions; i++){\n\n    currentValue = myTransaction.getSomeData();\n}\n</code></pre>\n\n<p>Although this example uses only 2 integer variables, when multiple variables are created inside the loop (especially string concatenation), this can consume a lot of memory. If you have some string concatenation, use <em>StringBuilder</em> class instead.</p>\n"}],"owner":{"account_id":2088806,"reputation":23,"user_id":1859085,"display_name":"krdroid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1927,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":13602298,"answer_count":2,"score":2,"last_activity_date":1682625524,"creation_date":1354095138,"question_id":13601851,"body_markdown":"When running my application, after 40000 transactions getting stack overflow exception at java.util.Properties.getProperty. \r\n\r\nPlease find below the stack error .. \r\n\r\n        java.lang.StackOverflowError\r\n        at java.util.Hashtable.get(Hashtable.java:334)\r\n        at java.util.Properties.getProperty(Properties.java:932)\r\n        at java.util.Properties.getProperty(Properties.java:934)\r\n        ... 80,0000 times \r\n        at java.util.Properties.getProperty(Properties.java:934)\r\n        at java.lang.System.getProperty(System.java:653)\r\n        at sun.security.action.GetPropertyAction.run(GetPropertyAction.java:67)\r\n        at sun.security.action.GetPropertyAction.run(GetPropertyAction.java:32)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.io.PrintWriter.&lt;init&gt;(PrintWriter.java:78)\r\n        at java.io.PrintWriter.&lt;init&gt;(PrintWriter.java:62)\r\n        at java.util.logging.SimpleFormatter.format(SimpleFormatter.java:71)\r\n        at org.apache.juli.FileHandler.publish(FileHandler.java:133)\r\n        at java.util.logging.Logger.log(Logger.java:481)\r\n        at java.util.logging.Logger.doLog(Logger.java:503)\r\n        at java.util.logging.Logger.logp(Logger.java:703)\r\n        at org.apache.commons.logging.impl.Jdk14Logger.log(Jdk14Logger.java:101)\r\n        at org.apache.commons.logging.impl.Jdk14Logger.error(Jdk14Logger.java:149)\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:253)\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:172)\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108)\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:174)\r\n        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:879)\r\n        at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:665)\r\n        at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528)\r\n        at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:81)\r\n        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:689)\r\n        at java.lang.Thread.run(Thread.java:662)\r\n\r\nI&#39;m not able to trace the from where the stack error is thrown. \r\n","title":"Stack Overflow at java.util.Properties.getProperty","body":"<p>When running my application, after 40000 transactions getting stack overflow exception at java.util.Properties.getProperty. </p>\n\n<p>Please find below the stack error .. </p>\n\n<pre><code>    java.lang.StackOverflowError\n    at java.util.Hashtable.get(Hashtable.java:334)\n    at java.util.Properties.getProperty(Properties.java:932)\n    at java.util.Properties.getProperty(Properties.java:934)\n    ... 80,0000 times \n    at java.util.Properties.getProperty(Properties.java:934)\n    at java.lang.System.getProperty(System.java:653)\n    at sun.security.action.GetPropertyAction.run(GetPropertyAction.java:67)\n    at sun.security.action.GetPropertyAction.run(GetPropertyAction.java:32)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.io.PrintWriter.&lt;init&gt;(PrintWriter.java:78)\n    at java.io.PrintWriter.&lt;init&gt;(PrintWriter.java:62)\n    at java.util.logging.SimpleFormatter.format(SimpleFormatter.java:71)\n    at org.apache.juli.FileHandler.publish(FileHandler.java:133)\n    at java.util.logging.Logger.log(Logger.java:481)\n    at java.util.logging.Logger.doLog(Logger.java:503)\n    at java.util.logging.Logger.logp(Logger.java:703)\n    at org.apache.commons.logging.impl.Jdk14Logger.log(Jdk14Logger.java:101)\n    at org.apache.commons.logging.impl.Jdk14Logger.error(Jdk14Logger.java:149)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:253)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:172)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:174)\n    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:879)\n    at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:665)\n    at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528)\n    at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:81)\n    at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:689)\n    at java.lang.Thread.run(Thread.java:662)\n</code></pre>\n\n<p>I'm not able to trace the from where the stack error is thrown. </p>\n"},{"tags":["java","stack-overflow"],"answers":[{"tags":[],"owner":{"account_id":344884,"reputation":9789,"user_id":677472,"accept_rate":68,"display_name":"Godwin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1326579035,"creation_date":1326579035,"answer_id":8865748,"question_id":8865726,"body_markdown":"You&#39;re getting a stack overflow exception because every time you call `log_in()` you&#39;re adding the function to the stack. This this:\r\n\r\n\r\n\tpublic void log_in ()\r\n\t{\r\n\t\twhile (true) {\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\t//login code\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tcatch\r\n\t\t\t{\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"StackOverFlow Exception, alternatives for my function?","body":"<p>You're getting a stack overflow exception because every time you call <code>log_in()</code> you're adding the function to the stack. This this:</p>\n\n<pre><code>public void log_in ()\n{\n    while (true) {\n        try\n        {\n            //login code\n            return;\n        }\n        catch\n        {\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":927305,"reputation":34168,"user_id":1054140,"accept_rate":100,"display_name":"Sergey Grinev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1326579195,"creation_date":1326579195,"answer_id":8865771,"question_id":8865726,"body_markdown":"what&#39;s because if code can&#39;t login at all it keeps creating new function call each time on the stack. Next code would work:\r\n\r\n    public void log_in ()\r\n    {\r\n        while(true) {\r\n           try {\r\n              //login code\r\n              return;\r\n           }\r\n           catch {\r\n               Thread.Sleep(2000);\r\n           }\r\n        }\r\n    }\r\n\r\n\r\nBut overall you shouldn&#39;t try to login endlessly, after several time report error to user/admin. ","title":"StackOverFlow Exception, alternatives for my function?","body":"<p>what's because if code can't login at all it keeps creating new function call each time on the stack. Next code would work:</p>\n\n<pre><code>public void log_in ()\n{\n    while(true) {\n       try {\n          //login code\n          return;\n       }\n       catch {\n           Thread.Sleep(2000);\n       }\n    }\n}\n</code></pre>\n\n<p>But overall you shouldn't try to login endlessly, after several time report error to user/admin. </p>\n"}],"owner":{"account_id":1173096,"reputation":19,"user_id":1149800,"display_name":"Kees van Rooijen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1682625485,"creation_date":1326578791,"question_id":8865726,"body_markdown":"I&#39;ve created a program that at some point has to log in to some website. If something goes wrong, I want it to wait for some time, say 2 seconds, and then try again. so the function looks something like this:\r\n\r\n    public void log_in ()\r\n    {\r\n        try\r\n        {\r\n            //login code\r\n        }\r\n        catch\r\n        {\r\n            Thread.Sleep(2000);\r\n            log_in();\r\n        }\r\n    }\r\n\r\nBut this code started to give me StackOverFlowExeptions every now and then. Does anyone know how to solve that?\r\n","title":"StackOverFlow Exception, alternatives for my function?","body":"<p>I've created a program that at some point has to log in to some website. If something goes wrong, I want it to wait for some time, say 2 seconds, and then try again. so the function looks something like this:</p>\n\n<pre><code>public void log_in ()\n{\n    try\n    {\n        //login code\n    }\n    catch\n    {\n        Thread.Sleep(2000);\n        log_in();\n    }\n}\n</code></pre>\n\n<p>But this code started to give me StackOverFlowExeptions every now and then. Does anyone know how to solve that?</p>\n"},{"tags":["java","android","button"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1682625143,"post_id":76124084,"comment_id":134249626,"body_markdown":"Why do you need to?  Your state should be driving your UI, not the other way around.  You should be able to tell if they are by comparing their models in your UI state, without actually querying a view.","body":"Why do you need to?  Your state should be driving your UI, not the other way around.  You should be able to tell if they are by comparing their models in your UI state, without actually querying a view."}],"answers":[{"comments":[{"owner":{"account_id":197685,"reputation":4628,"user_id":441907,"accept_rate":100,"display_name":"Nick Russler"},"score":0,"creation_date":1682634958,"post_id":76124169,"comment_id":134251143,"body_markdown":"Can be simplified with Objects.equals","body":"Can be simplified with Objects.equals"}],"tags":[],"owner":{"account_id":9906633,"reputation":1075,"user_id":7334951,"display_name":"Younes Charfaoui"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682625382,"creation_date":1682625382,"answer_id":76124169,"question_id":76124084,"body_markdown":"The drawableState isn&#39;t what you are looking for, I think you can use a method called getBackground.getConstantState  on the ImageButtons you have, and then compare them if they are the same:\r\n\r\nHere is a code maybe will help you:\r\n\r\n```kotlin\r\npublic boolean areBackgroundImagesTheSame(ImageButton button1, ImageButton button2) {\r\n    Drawable drawable1 = button1.getBackground();\r\n    Drawable drawable2 = button2.getBackground();\r\n\r\n    if (drawable1 == null &amp;&amp; drawable2 == null) {\r\n        // both ImageButtons have no background image\r\n        return true;\r\n    } else if (drawable1 == null || drawable2 == null) {\r\n        // only one ImageButton has a background image\r\n        return false;\r\n    } else {\r\n        // both ImageButtons have a background image, compare them\r\n        return drawable1.getConstantState().equals(drawable2.getConstantState());\r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"How to compare if two ImageButtons use the exact same drawable resource in Android Studio?","body":"<p>The drawableState isn't what you are looking for, I think you can use a method called getBackground.getConstantState  on the ImageButtons you have, and then compare them if they are the same:</p>\n<p>Here is a code maybe will help you:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>public boolean areBackgroundImagesTheSame(ImageButton button1, ImageButton button2) {\n    Drawable drawable1 = button1.getBackground();\n    Drawable drawable2 = button2.getBackground();\n\n    if (drawable1 == null &amp;&amp; drawable2 == null) {\n        // both ImageButtons have no background image\n        return true;\n    } else if (drawable1 == null || drawable2 == null) {\n        // only one ImageButton has a background image\n        return false;\n    } else {\n        // both ImageButtons have a background image, compare them\n        return drawable1.getConstantState().equals(drawable2.getConstantState());\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":28438283,"reputation":13,"user_id":21758048,"display_name":"LowFM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76124169,"answer_count":1,"score":1,"last_activity_date":1682625382,"creation_date":1682624563,"question_id":76124084,"body_markdown":"I want to create a method that checks if two ImageButtons use the exact same drawable resource as a background image in Android Studio.\r\n\r\nI tried something similar to this:\r\n\r\n```\r\npublic void isBackgroundImageTheSame() {\r\n        if(findViewById(R.id.btn1).getDrawableState() == findViewById(R.id.btn2).getDrawableState()){\r\n            //Execute some code\r\n        }\r\n```\r\n\r\nHowever this didnt work. Thanks in advance!","title":"How to compare if two ImageButtons use the exact same drawable resource in Android Studio?","body":"<p>I want to create a method that checks if two ImageButtons use the exact same drawable resource as a background image in Android Studio.</p>\n<p>I tried something similar to this:</p>\n<pre><code>public void isBackgroundImageTheSame() {\n        if(findViewById(R.id.btn1).getDrawableState() == findViewById(R.id.btn2).getDrawableState()){\n            //Execute some code\n        }\n</code></pre>\n<p>However this didnt work. Thanks in advance!</p>\n"},{"tags":["java","spring","spring-boot","wildfly","wildfly-18"],"answers":[{"comments":[{"owner":{"account_id":22436368,"reputation":276,"user_id":16641566,"display_name":"Robs"},"score":0,"creation_date":1682493445,"post_id":76094770,"comment_id":134222929,"body_markdown":"can I do the same with wildfly18? I need to store my username and password","body":"can I do the same with wildfly18? I need to store my username and password"},{"owner":{"account_id":25804559,"reputation":161,"user_id":19546298,"display_name":"cam-rod"},"score":0,"creation_date":1682625179,"post_id":76094770,"comment_id":134249634,"body_markdown":"Sorry, the instructions I originally provided only apply to WildFly 23 and up. I&#39;ve corrected it for WildFly 18.","body":"Sorry, the instructions I originally provided only apply to WildFly 23 and up. I&#39;ve corrected it for WildFly 18."},{"owner":{"account_id":22436368,"reputation":276,"user_id":16641566,"display_name":"Robs"},"score":0,"creation_date":1685020749,"post_id":76094770,"comment_id":134604936,"body_markdown":"do you know how can i fetch the password in spring once you saved in the credential store","body":"do you know how can i fetch the password in spring once you saved in the credential store"}],"tags":[],"owner":{"account_id":25804559,"reputation":161,"user_id":19546298,"display_name":"cam-rod"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682625138,"creation_date":1682359019,"answer_id":76094770,"question_id":76071973,"body_markdown":"**The original answer I provided only applies to WildFly 23 or newer. I&#39;ll leave it below the correct answer for reference.**\r\n\r\nYou&#39;ll want to use a [credential store](https://docs.wildfly.org/18/WildFly_Elytron_Security.html#keystorecredentialstore), which encrypts the contents with a Java KeyStore. The linked documentation goes into details, but [this example class](https://github.com/wildfly-security-incubator/elytron-examples/blob/1.x/credential-store/src/main/java/org/wildfly/security/examples/CredentialStoreExample.java) shows how you can retrieve the contents of the credential store.\r\n\r\nTo secure the credential store password itself, you have a few options: \r\n\r\n- Read the password from the output of a shell command ([source code](https://github.com/wildfly-security/wildfly-elytron/blob/2.x/credential/source/impl/src/main/java/org/wildfly/security/credential/source/impl/CommandCredentialSource.java)). **This is the only method I recommend, since the password cannot be stored in the configuration file.** For example, this CLI command would create the credential store using an environment variable as password:\r\n```bash\r\n[standalone@localhost:9990 /] /subsystem=elytron/credential-store=cs:add(location=credstore.cs,relative-to=jboss.server.config.dir,\\\r\ncredential-reference={type=command,clear-text=&quot;echo $SECURE_ENV_VAR&quot;},create=true)\r\n```\r\n- Store the password in plain text. Given the constraints, this isn&#39;t a realistic option.\r\n- Using Elytron Tool, you can create a credential store with a hashed-and-salted password. However, this is a purely compatibility feature, and the algorithm used (`PBEwithMD5andDES`) is now brute-forceable, so I **don&#39;t recommend** it, and won&#39;t include instructions on how to do so.\r\n\r\nIf you&#39;re able to upgrade to WildFly 23 or newer, you&#39;ll have access to a more secure option, as defined below.\r\n\r\n---\r\n\r\n- [Credential store documentation for WildFly 28](https://docs.wildfly.org/28/WildFly_Elytron_Security.html#CredentialStore)\r\n- [Example class for WildFly 28](https://github.com/wildfly-security-incubator/elytron-examples/blob/main/credential-store/src/main/java/org/wildfly/security/examples/CredentialStoreExample.java)\r\n\r\nAs for adding the LDAP credentials (and securing the password for the credential store itself), [this blog post](https://wildfly-security.github.io/wildfly-elytron/blog/wildfly-encrypted-expressions/) explains how to use them with encrypted expressions. This allows you to store an encrypted copy of the credential store&#39;s password in the server configuration.\r\n\r\n_Note: although it may seem like you can use an encrypted expression directly to store the LDAP credentials, it will not be resolved in a non-secure context, and likely won&#39;t work in the Java class._\r\n\r\n","title":"Store username and password on wildfly and fetch with java","body":"<p><strong>The original answer I provided only applies to WildFly 23 or newer. I'll leave it below the correct answer for reference.</strong></p>\n<p>You'll want to use a <a href=\"https://docs.wildfly.org/18/WildFly_Elytron_Security.html#keystorecredentialstore\" rel=\"nofollow noreferrer\">credential store</a>, which encrypts the contents with a Java KeyStore. The linked documentation goes into details, but <a href=\"https://github.com/wildfly-security-incubator/elytron-examples/blob/1.x/credential-store/src/main/java/org/wildfly/security/examples/CredentialStoreExample.java\" rel=\"nofollow noreferrer\">this example class</a> shows how you can retrieve the contents of the credential store.</p>\n<p>To secure the credential store password itself, you have a few options:</p>\n<ul>\n<li>Read the password from the output of a shell command (<a href=\"https://github.com/wildfly-security/wildfly-elytron/blob/2.x/credential/source/impl/src/main/java/org/wildfly/security/credential/source/impl/CommandCredentialSource.java\" rel=\"nofollow noreferrer\">source code</a>). <strong>This is the only method I recommend, since the password cannot be stored in the configuration file.</strong> For example, this CLI command would create the credential store using an environment variable as password:</li>\n</ul>\n<pre class=\"lang-bash prettyprint-override\"><code>[standalone@localhost:9990 /] /subsystem=elytron/credential-store=cs:add(location=credstore.cs,relative-to=jboss.server.config.dir,\\\ncredential-reference={type=command,clear-text=&quot;echo $SECURE_ENV_VAR&quot;},create=true)\n</code></pre>\n<ul>\n<li>Store the password in plain text. Given the constraints, this isn't a realistic option.</li>\n<li>Using Elytron Tool, you can create a credential store with a hashed-and-salted password. However, this is a purely compatibility feature, and the algorithm used (<code>PBEwithMD5andDES</code>) is now brute-forceable, so I <strong>don't recommend</strong> it, and won't include instructions on how to do so.</li>\n</ul>\n<p>If you're able to upgrade to WildFly 23 or newer, you'll have access to a more secure option, as defined below.</p>\n<hr />\n<ul>\n<li><a href=\"https://docs.wildfly.org/28/WildFly_Elytron_Security.html#CredentialStore\" rel=\"nofollow noreferrer\">Credential store documentation for WildFly 28</a></li>\n<li><a href=\"https://github.com/wildfly-security-incubator/elytron-examples/blob/main/credential-store/src/main/java/org/wildfly/security/examples/CredentialStoreExample.java\" rel=\"nofollow noreferrer\">Example class for WildFly 28</a></li>\n</ul>\n<p>As for adding the LDAP credentials (and securing the password for the credential store itself), <a href=\"https://wildfly-security.github.io/wildfly-elytron/blog/wildfly-encrypted-expressions/\" rel=\"nofollow noreferrer\">this blog post</a> explains how to use them with encrypted expressions. This allows you to store an encrypted copy of the credential store's password in the server configuration.</p>\n<p><em>Note: although it may seem like you can use an encrypted expression directly to store the LDAP credentials, it will not be resolved in a non-secure context, and likely won't work in the Java class.</em></p>\n"}],"owner":{"account_id":26186898,"reputation":99,"user_id":19869319,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682625138,"creation_date":1682070545,"question_id":76071973,"body_markdown":"I need to store ldap username and password in wildfly.\r\nI did as follow but my manager said is not safe how I did:\r\n\r\n    String ldapCredentials = System.getProperty(&quot;ldap.user&quot;);\r\n        byte[] credDecoded = Base64.getDecoder().decode(ldapCredentials == null ? &quot;&quot; : ldapCredentials);\r\n        String credentials = new String(credDecoded, StandardCharsets.UTF_8);\r\n        String[] ldapDecoded = credentials.split(&quot;,&quot;);\r\n        ldapSearchUser = ldapDecoded[0];\r\n        ldapSearchPassword = ldapDecoded[1];\r\n\r\nin the standalone:\r\n\r\n    &lt;system-properties&gt;\r\n        &lt;property name=&quot;ldap.user&quot; value=&quot;randomvaluebase64&quot;/&gt;\r\n    &lt;/system-properties&gt;\r\n\r\nHe told me I need to use the security default of wildfly, I found a lot of things about it but i wasn&#39;t able to find how to fetch in java than, any idea?","title":"Store username and password on wildfly and fetch with java","body":"<p>I need to store ldap username and password in wildfly.\nI did as follow but my manager said is not safe how I did:</p>\n<pre><code>String ldapCredentials = System.getProperty(&quot;ldap.user&quot;);\n    byte[] credDecoded = Base64.getDecoder().decode(ldapCredentials == null ? &quot;&quot; : ldapCredentials);\n    String credentials = new String(credDecoded, StandardCharsets.UTF_8);\n    String[] ldapDecoded = credentials.split(&quot;,&quot;);\n    ldapSearchUser = ldapDecoded[0];\n    ldapSearchPassword = ldapDecoded[1];\n</code></pre>\n<p>in the standalone:</p>\n<pre><code>&lt;system-properties&gt;\n    &lt;property name=&quot;ldap.user&quot; value=&quot;randomvaluebase64&quot;/&gt;\n&lt;/system-properties&gt;\n</code></pre>\n<p>He told me I need to use the security default of wildfly, I found a lot of things about it but i wasn't able to find how to fetch in java than, any idea?</p>\n"},{"tags":["java","java-stream"],"answers":[{"comments":[{"owner":{"account_id":523757,"reputation":60391,"user_id":3141234,"accept_rate":76,"display_name":"Alexander"},"score":0,"creation_date":1682629087,"post_id":76124010,"comment_id":134250290,"body_markdown":"@BhawanaKandalkar Also, you can get rid of the `distinct()` call, since you&#39;re writing into a Map, where uniqueness is automatic.","body":"@BhawanaKandalkar Also, you can get rid of the <code>distinct()</code> call, since you&#39;re writing into a Map, where uniqueness is automatic."}],"tags":[],"owner":{"account_id":523757,"reputation":60391,"user_id":3141234,"accept_rate":76,"display_name":"Alexander"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682623834,"creation_date":1682623834,"answer_id":76124010,"question_id":76123970,"body_markdown":"Your `.map(n -&gt; n*n)` step is transforming all of your values across the board. You only want to apply that to your map&#39;s values:\r\n\r\n```diff\r\npublic class Untitled {\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; number = Arrays.asList(289, 452, 533, 656, 744);\r\n\r\n        Map&lt;Integer, Integer&gt; map = number.stream()\r\n            .filter(n -&gt; n%2==0)\r\n         // .map(n -&gt; n*n) // Remove this\r\n            .distinct()\r\n            .collect(Collectors.toMap(n -&gt; n,  n -&gt; n*n)); // Square only your map&#39;s values\r\n\r\n        System.out.println(map);\r\n    }\r\n}\r\n```","title":"Convert List&lt;Integer&gt; into Map&lt;Integer, V&gt; using streams","body":"<p>Your <code>.map(n -&gt; n*n)</code> step is transforming all of your values across the board. You only want to apply that to your map's values:</p>\n<pre><code>public class Untitled {\n    public static void main(String[] args) {\n        List&lt;Integer&gt; number = Arrays.asList(289, 452, 533, 656, 744);\n\n        Map&lt;Integer, Integer&gt; map = number.stream()\n            .filter(n -&gt; n%2==0)\n         // .map(n -&gt; n*n) // Remove this\n            .distinct()\n            .collect(Collectors.toMap(n -&gt; n,  n -&gt; n*n)); // Square only your map's values\n\n        System.out.println(map);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28438274,"reputation":3,"user_id":21758039,"display_name":"Bhawana Kandalkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76124010,"answer_count":1,"score":0,"last_activity_date":1682625043,"creation_date":1682623453,"question_id":76123970,"body_markdown":"I am new to Java 8, I want to print Square of even number from the list and print the result in key value pair, where Key is the even number from the List and value is square of that number. \r\n\r\n```java\r\npublic class SquareNumber {\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; number = Arrays.asList(289, 452, 533, 656, 744);\r\n\r\n        Map&lt;Integer, Integer&gt; map = number.stream()\r\n            .filter(n -&gt; n%2 == 0)\r\n            .map(n -&gt; n*n)\r\n            .distinct()\r\n            .collect(Collectors.toMap(n -&gt; n,  Integer::intValue));\r\n\r\n        System.out.println(map);\r\n    }\r\n}\r\n```","title":"Convert List&lt;Integer&gt; into Map&lt;Integer, V&gt; using streams","body":"<p>I am new to Java 8, I want to print Square of even number from the list and print the result in key value pair, where Key is the even number from the List and value is square of that number.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SquareNumber {\n    public static void main(String[] args) {\n        List&lt;Integer&gt; number = Arrays.asList(289, 452, 533, 656, 744);\n\n        Map&lt;Integer, Integer&gt; map = number.stream()\n            .filter(n -&gt; n%2 == 0)\n            .map(n -&gt; n*n)\n            .distinct()\n            .collect(Collectors.toMap(n -&gt; n,  Integer::intValue));\n\n        System.out.println(map);\n    }\n}\n</code></pre>\n"},{"tags":["java","list","exception","arraylist","unsupportedoperation"],"answers":[{"comments":[{"owner":{"account_id":368266,"reputation":4404,"user_id":714966,"accept_rate":83,"display_name":"FAjir"},"score":1,"creation_date":1303476992,"post_id":5755510,"comment_id":6589196,"body_markdown":"so i have to use the list instance to test if it contain my element and the array instance when i have to add an element? that&#39;s write?","body":"so i have to use the list instance to test if it contain my element and the array instance when i have to add an element? that&#39;s write?"},{"owner":{"account_id":285919,"reputation":43640,"user_id":584862,"accept_rate":93,"display_name":"mre"},"score":110,"creation_date":1303477000,"post_id":5755510,"comment_id":6589200,"body_markdown":"@Florito: This will work though: `List&lt;String&gt; listMembres = new ArrayList&lt;String&gt;(Arrays.asList(tabMembres));` :)","body":"@Florito: This will work though: <code>List&lt;String&gt; listMembres = new ArrayList&lt;String&gt;(Arrays.asList(tabMembres));</code> :)"},{"owner":{"account_id":368266,"reputation":4404,"user_id":714966,"accept_rate":83,"display_name":"FAjir"},"score":0,"creation_date":1303477068,"post_id":5755510,"comment_id":6589219,"body_markdown":"or maybe i have to cast my List object to ArrayList or another?","body":"or maybe i have to cast my List object to ArrayList or another?"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1303477104,"post_id":5755510,"comment_id":6589226,"body_markdown":"No, not really. If you want to add an element to a `List` implementation that doesn&#39;t allow addition, then you&#39;ll have to copy that `List` to an implementation that does (`ArrayList` is a common candidate) and add to that.","body":"No, not really. If you want to add an element to a <code>List</code> implementation that doesn&#39;t allow addition, then you&#39;ll have to copy that <code>List</code> to an implementation that does (<code>ArrayList</code> is a common candidate) and add to that."}],"tags":[],"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":4,"down_vote_count":0,"up_vote_count":569,"is_accepted":true,"score":569,"last_activity_date":1415877456,"creation_date":1303476180,"answer_id":5755510,"question_id":5755477,"body_markdown":"Not every [`List`][1] implementation supports the `add()` method.\r\n\r\nOne common example is the `List` returned by [`Arrays.asList()`][2]: it is documented **not** to support any structural modification (i.e. removing or adding elements) (emphasis mine):\r\n\r\n&gt; Returns a **fixed-size** list backed by the specified array.\r\n\r\nEven if that&#39;s not the specific `List` you&#39;re trying to modify, the answer still applies to other `List` implementations that are either immutable or only allow some selected changes.\r\n\r\nYou can find out about this by reading the documentation of [`UnsupportedOperationException`][3] and [`List.add()`][4], which documents this to be an &quot;(optional operation)&quot;. The precise meaning of this phrase is explained at the top of the `List` documentation.\r\n\r\nAs a workaround you can create a copy of the list to a known-modifiable implementation like `ArrayList`:\r\n\r\n    seeAlso = new ArrayList&lt;&gt;(seeAlso);\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/List.html\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html#asList%28T...%29\r\n  [3]: http://download.oracle.com/javase/6/docs/api/java/lang/UnsupportedOperationException.html\r\n  [4]: http://download.oracle.com/javase/6/docs/api/java/util/List.html#add%28E%29","title":"Java List.add() UnsupportedOperationException","body":"<p>Not every <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/List.html\"><code>List</code></a> implementation supports the <code>add()</code> method.</p>\n\n<p>One common example is the <code>List</code> returned by <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html#asList%28T...%29\"><code>Arrays.asList()</code></a>: it is documented <strong>not</strong> to support any structural modification (i.e. removing or adding elements) (emphasis mine):</p>\n\n<blockquote>\n  <p>Returns a <strong>fixed-size</strong> list backed by the specified array.</p>\n</blockquote>\n\n<p>Even if that's not the specific <code>List</code> you're trying to modify, the answer still applies to other <code>List</code> implementations that are either immutable or only allow some selected changes.</p>\n\n<p>You can find out about this by reading the documentation of <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/UnsupportedOperationException.html\"><code>UnsupportedOperationException</code></a> and <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/List.html#add%28E%29\"><code>List.add()</code></a>, which documents this to be an \"(optional operation)\". The precise meaning of this phrase is explained at the top of the <code>List</code> documentation.</p>\n\n<p>As a workaround you can create a copy of the list to a known-modifiable implementation like <code>ArrayList</code>:</p>\n\n<pre><code>seeAlso = new ArrayList&lt;&gt;(seeAlso);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":369568,"reputation":6016,"user_id":717027,"accept_rate":75,"display_name":"Liv"},"score":1,"creation_date":1303476517,"post_id":5755515,"comment_id":6589092,"body_markdown":"the problem is not due to that but as Joachim pointed out above it is to do with implementations of List that might not support add().","body":"the problem is not due to that but as Joachim pointed out above it is to do with implementations of List that might not support add()."}],"tags":[],"owner":{"account_id":76259,"reputation":17345,"user_id":218454,"accept_rate":75,"display_name":"nfechner"},"comment_count":1,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1303476228,"creation_date":1303476228,"answer_id":5755515,"question_id":5755477,"body_markdown":"You cannot modify a result from a LDAP query. Your problem is in this line:\r\n\r\n    seeAlso.add(groupDn);\r\n\r\nThe seeAlso list is unmodifiable.","title":"Java List.add() UnsupportedOperationException","body":"<p>You cannot modify a result from a LDAP query. Your problem is in this line:</p>\n\n<pre><code>seeAlso.add(groupDn);\n</code></pre>\n\n<p>The seeAlso list is unmodifiable.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1552782672,"post_id":15132042,"comment_id":97142624,"body_markdown":"An uninitialized variable won&#39;t cause `UnsupportedOperationException` in `add()`.  You would get an NPE instead.","body":"An uninitialized variable won&#39;t cause <code>UnsupportedOperationException</code> in <code>add()</code>.  You would get an NPE instead."}],"tags":[],"owner":{"account_id":2427344,"reputation":41,"user_id":2119003,"display_name":"dwayne"},"comment_count":1,"down_vote_count":5,"up_vote_count":5,"is_accepted":false,"score":0,"last_activity_date":1362045390,"creation_date":1362044157,"answer_id":15132042,"question_id":5755477,"body_markdown":"You must initialize your List seeAlso : \r\n\r\n    List&lt;String&gt; seeAlso = new Vector&lt;String&gt;();\r\n                                 \r\nor   \r\n\r\n    List&lt;String&gt; seeAlso = new ArrayList&lt;String&gt;();","title":"Java List.add() UnsupportedOperationException","body":"<p>You must initialize your List seeAlso : </p>\n\n<pre><code>List&lt;String&gt; seeAlso = new Vector&lt;String&gt;();\n</code></pre>\n\n<p>or   </p>\n\n<pre><code>List&lt;String&gt; seeAlso = new ArrayList&lt;String&gt;();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1552782815,"post_id":52941906,"comment_id":97142651,"body_markdown":"It is not an immutable list.  Mutation operations that don&#39;t change the list length are supported / will work.  The key thing is that the list&#39;s length cannot change because the list is backed by an array ... whose length can&#39;t change.","body":"It is not an immutable list.  Mutation operations that don&#39;t change the list length are supported / will work.  The key thing is that the list&#39;s length cannot change because the list is backed by an array ... whose length can&#39;t change."}],"tags":[],"owner":{"account_id":1396957,"reputation":619,"user_id":1326543,"display_name":"Ziv.Ti"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1540273547,"creation_date":1540273547,"answer_id":52941906,"question_id":5755477,"body_markdown":"List&lt;String&gt; membersList = Arrays.asList(membersArray); \r\n\r\nreturns immutable list, what you need to do is \r\n\r\nnew ArrayList&lt;&gt;(Arrays.asList(membersArray)); to make it mutable ","title":"Java List.add() UnsupportedOperationException","body":"<p>List membersList = Arrays.asList(membersArray); </p>\n\n<p>returns immutable list, what you need to do is </p>\n\n<p>new ArrayList&lt;>(Arrays.asList(membersArray)); to make it mutable </p>\n"},{"tags":[],"owner":{"account_id":3127182,"reputation":6869,"user_id":2645833,"accept_rate":54,"display_name":"krmanish007"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1551189457,"creation_date":1542977201,"answer_id":53446999,"question_id":5755477,"body_markdown":"Many of the List implementation support limited support to add/remove, and Arrays.asList(membersArray) is one of that. You need to insert the record in java.util.ArrayList or use the below approach to convert into ArrayList.\r\n\r\nWith the minimal change in your code, you can do below to convert a list to ArrayList. The first solution is having a minimum change in your solution, but the second one is more optimized, I guess.\r\n\r\n        String[] membersArray = request.getParameterValues(&#39;members&#39;);\r\n        ArrayList&lt;String&gt; membersList = new ArrayList&lt;&gt;(Arrays.asList(membersArray));\r\nOR\r\n\r\n        String[] membersArray = request.getParameterValues(&#39;members&#39;);\r\n        ArrayList&lt;String&gt; membersList = Stream.of(membersArray).collect(Collectors.toCollection(ArrayList::new));\r\n","title":"Java List.add() UnsupportedOperationException","body":"<p>Many of the List implementation support limited support to add/remove, and Arrays.asList(membersArray) is one of that. You need to insert the record in java.util.ArrayList or use the below approach to convert into ArrayList.</p>\n\n<p>With the minimal change in your code, you can do below to convert a list to ArrayList. The first solution is having a minimum change in your solution, but the second one is more optimized, I guess.</p>\n\n<pre><code>    String[] membersArray = request.getParameterValues('members');\n    ArrayList&lt;String&gt; membersList = new ArrayList&lt;&gt;(Arrays.asList(membersArray));\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>    String[] membersArray = request.getParameterValues('members');\n    ArrayList&lt;String&gt; membersList = Stream.of(membersArray).collect(Collectors.toCollection(ArrayList::new));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1544605377,"creation_date":1544602806,"answer_id":53738768,"question_id":5755477,"body_markdown":"Form the Inheritance concept, If some perticular method is not available in the current class it will search for that method in super classes. If available it executes.\r\n\r\n&gt; It executes **`AbstractList&lt;E&gt;`** class **`add()`** method which throws [`UnsupportedOperationException`](https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html).\r\n\r\n---\r\n\r\nWhen you are converting from an Array to a Collection Obejct. i.e., array-based to collection-based API then it is going to provide you fixed-size collection object, because Array&#39;s behaviour is of Fixed size.\r\n\r\n&gt; java.util.Arrays.asList( T... a )\r\n\r\nSouce samples for conformation.\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\tpublic class Arrays {\r\n\t\tpublic static &lt;T&gt; List&lt;T&gt; asList(T... a) {\r\n\t\t\treturn new java.util.Arrays.ArrayList.ArrayList&lt;&gt;(a); // Arrays Inner Class ArrayList\r\n\t\t}\r\n\t\t//...\r\n\t\tprivate static class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt; implements RandomAccess, java.io.Serializable {\r\n\t\t\t//...\r\n\t\t}\r\n\t}\r\n\tpublic abstract class AbstractList&lt;E&gt; extends AbstractCollection&lt;E&gt; implements List&lt;E&gt; {\r\n\t\tpublic void add(int index, E element) {\r\n\t\t\tthrow new UnsupportedOperationException();\r\n\t\t}\r\n\t\tpublic E set(int index, E element) {\r\n\t\t\tthrow new UnsupportedOperationException();\r\n\t\t}\r\n\t\tpublic E remove(int index) {\r\n\t\t\tthrow new UnsupportedOperationException();\r\n\t\t}\r\n\t\t\r\n\t\tpublic Iterator&lt;E&gt; iterator() {\r\n\t\t\treturn new Itr();\r\n\t\t}\r\n\t\tprivate class Itr implements Iterator&lt;E&gt; {\r\n\t\t\t//...\r\n\t\t}\r\n\t\t\r\n\t\tpublic ListIterator&lt;E&gt; listIterator() {\r\n\t\t\treturn listIterator(0);\r\n\t\t}\r\n\t\tprivate class ListItr extends Itr implements ListIterator&lt;E&gt; {\r\n\t\t\t//...\r\n\t\t}\r\n\t}\r\n\t\r\n&lt;!-- language: lang-java --&gt;\r\n\r\nForm the above Source you may observe that `java.util.Arrays.ArrayList` class doesn&#39;t `@Override add(index, element), set(index, element), remove(index)`. So, From inheritance it executes super `AbstractList&lt;E&gt;` class `add()` function which throws `UnsupportedOperationException`.\r\n\r\nAs `AbstractList&lt;E&gt;` is an abstract class it provides the implementation to `iterator() and listIterator()`. So, that we can iterate over the list object.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\tList&lt;String&gt; list_of_Arrays = Arrays.asList(new String[] { &quot;a&quot;, &quot;b&quot; ,&quot;c&quot;});\r\n\t\t\t\r\n\ttry {\r\n\t\tlist_of_Arrays.add(&quot;Yashwanth.M&quot;);\r\n\t} catch(java.lang.UnsupportedOperationException e) {\r\n\t\tSystem.out.println(&quot;List Interface executes AbstractList add() fucntion which throws UnsupportedOperationException.&quot;);\r\n\t}\r\n\tSystem.out.println(&quot;Arrays → List : &quot; + list_of_Arrays);\r\n\r\n\tIterator&lt;String&gt; iterator = list_of_Arrays.iterator();\r\n\twhile (iterator.hasNext()) System.out.println(&quot;Iteration : &quot; + iterator.next() );\r\n\r\n\tListIterator&lt;String&gt; listIterator = list_of_Arrays.listIterator();\r\n\twhile (listIterator.hasNext())    System.out.println(&quot;Forward  iteration : &quot; + listIterator.next() );\r\n\twhile(listIterator.hasPrevious()) System.out.println(&quot;Backward iteration : &quot; + listIterator.previous());\r\n\t\r\n&lt;!-- language: lang-java --&gt;\r\n\r\nYou can even create Fixed-Size array form Collections class `Collections.unmodifiableList(list);` \r\n\r\nSample Source:\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\tpublic class Collections {\r\n\t\tpublic static &lt;T&gt; List&lt;T&gt; unmodifiableList(List&lt;? extends T&gt; list) {\r\n\t\t\treturn (list instanceof RandomAccess ?\r\n\t\t\t\t\tnew UnmodifiableRandomAccessList&lt;&gt;(list) :\r\n\t\t\t\t\tnew UnmodifiableList&lt;&gt;(list));\r\n\t\t}\r\n\t}\r\n\t\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n----\r\n\r\nA [`Collection`](https://docs.oracle.com/javase/tutorial/collections/intro/index.html) — sometimes called a container — is simply an object that groups multiple elements into a single unit. Collections are used to store, retrieve, manipulate, and communicate aggregate data.\r\n\r\n@see also\r\n\r\n * [HashMap `vs` HashTable](https://stackoverflow.com/a/48094803/5081877)\r\n * [Object Serialization uses the Serializable and Externalizable interfaces](https://stackoverflow.com/a/48301301/5081877)","title":"Java List.add() UnsupportedOperationException","body":"<p>Form the Inheritance concept, If some perticular method is not available in the current class it will search for that method in super classes. If available it executes.</p>\n\n<blockquote>\n  <p>It executes <strong><code>AbstractList&lt;E&gt;</code></strong> class <strong><code>add()</code></strong> method which throws <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html\" rel=\"noreferrer\"><code>UnsupportedOperationException</code></a>.</p>\n</blockquote>\n\n<hr>\n\n<p>When you are converting from an Array to a Collection Obejct. i.e., array-based to collection-based API then it is going to provide you fixed-size collection object, because Array's behaviour is of Fixed size.</p>\n\n<blockquote>\n  <p>java.util.Arrays.asList( T... a )</p>\n</blockquote>\n\n<p>Souce samples for conformation.\n</p>\n\n<pre><code>public class Arrays {\n    public static &lt;T&gt; List&lt;T&gt; asList(T... a) {\n        return new java.util.Arrays.ArrayList.ArrayList&lt;&gt;(a); // Arrays Inner Class ArrayList\n    }\n    //...\n    private static class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt; implements RandomAccess, java.io.Serializable {\n        //...\n    }\n}\npublic abstract class AbstractList&lt;E&gt; extends AbstractCollection&lt;E&gt; implements List&lt;E&gt; {\n    public void add(int index, E element) {\n        throw new UnsupportedOperationException();\n    }\n    public E set(int index, E element) {\n        throw new UnsupportedOperationException();\n    }\n    public E remove(int index) {\n        throw new UnsupportedOperationException();\n    }\n\n    public Iterator&lt;E&gt; iterator() {\n        return new Itr();\n    }\n    private class Itr implements Iterator&lt;E&gt; {\n        //...\n    }\n\n    public ListIterator&lt;E&gt; listIterator() {\n        return listIterator(0);\n    }\n    private class ListItr extends Itr implements ListIterator&lt;E&gt; {\n        //...\n    }\n}\n</code></pre>\n\n<p>Form the above Source you may observe that <code>java.util.Arrays.ArrayList</code> class doesn't <code>@Override add(index, element), set(index, element), remove(index)</code>. So, From inheritance it executes super <code>AbstractList&lt;E&gt;</code> class <code>add()</code> function which throws <code>UnsupportedOperationException</code>.</p>\n\n<p>As <code>AbstractList&lt;E&gt;</code> is an abstract class it provides the implementation to <code>iterator() and listIterator()</code>. So, that we can iterate over the list object.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; list_of_Arrays = Arrays.asList(new String[] { \"a\", \"b\" ,\"c\"});\n\ntry {\n    list_of_Arrays.add(\"Yashwanth.M\");\n} catch(java.lang.UnsupportedOperationException e) {\n    System.out.println(\"List Interface executes AbstractList add() fucntion which throws UnsupportedOperationException.\");\n}\nSystem.out.println(\"Arrays → List : \" + list_of_Arrays);\n\nIterator&lt;String&gt; iterator = list_of_Arrays.iterator();\nwhile (iterator.hasNext()) System.out.println(\"Iteration : \" + iterator.next() );\n\nListIterator&lt;String&gt; listIterator = list_of_Arrays.listIterator();\nwhile (listIterator.hasNext())    System.out.println(\"Forward  iteration : \" + listIterator.next() );\nwhile(listIterator.hasPrevious()) System.out.println(\"Backward iteration : \" + listIterator.previous());\n</code></pre>\n\n<p>You can even create Fixed-Size array form Collections class <code>Collections.unmodifiableList(list);</code> </p>\n\n<p>Sample Source:\n</p>\n\n<pre><code>public class Collections {\n    public static &lt;T&gt; List&lt;T&gt; unmodifiableList(List&lt;? extends T&gt; list) {\n        return (list instanceof RandomAccess ?\n                new UnmodifiableRandomAccessList&lt;&gt;(list) :\n                new UnmodifiableList&lt;&gt;(list));\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>A <a href=\"https://docs.oracle.com/javase/tutorial/collections/intro/index.html\" rel=\"noreferrer\"><code>Collection</code></a> — sometimes called a container — is simply an object that groups multiple elements into a single unit. Collections are used to store, retrieve, manipulate, and communicate aggregate data.</p>\n\n<p>@see also</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/48094803/5081877\">HashMap <code>vs</code> HashTable</a></li>\n<li><a href=\"https://stackoverflow.com/a/48301301/5081877\">Object Serialization uses the Serializable and Externalizable interfaces</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13907520,"reputation":15,"user_id":10041523,"display_name":"Allen"},"comment_count":0,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1560774700,"creation_date":1560774700,"answer_id":56631384,"question_id":5755477,"body_markdown":"instead of using add() we can use addall()\r\n\r\n    { seeAlso.addall(groupDn); }\r\n\r\nadd adds a single item, while addAll adds each item from the collection one by one. In the end, both methods return true if the collection has been modified. In case of ArrayList this is trivial, because the collection is always modified, but other collections, such as Set, may return false if items being added are already there.","title":"Java List.add() UnsupportedOperationException","body":"<p>instead of using add() we can use addall()</p>\n\n<pre><code>{ seeAlso.addall(groupDn); }\n</code></pre>\n\n<p>add adds a single item, while addAll adds each item from the collection one by one. In the end, both methods return true if the collection has been modified. In case of ArrayList this is trivial, because the collection is always modified, but other collections, such as Set, may return false if items being added are already there.</p>\n"},{"tags":[],"owner":{"account_id":9027978,"reputation":47,"user_id":8485802,"display_name":"Heverton Silva Cruz"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1615859439,"creation_date":1615826917,"answer_id":66642182,"question_id":5755477,"body_markdown":"You will also get this exception if you attempt to `add` to a `List&lt;T&gt;` returned by  [`Collections.singletonList(T o)`](https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#singletonList(T)):\r\n\r\n &gt; Returns an **immutable** list containing only the specified object. The returned list is serializable.\r\n\r\nThe JVM does not implement `add()` for `Collections.singletonList` ","title":"Java List.add() UnsupportedOperationException","body":"<p>You will also get this exception if you attempt to <code>add</code> to a <code>List&lt;T&gt;</code> returned by  <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#singletonList(T)\" rel=\"nofollow noreferrer\"><code>Collections.singletonList(T o)</code></a>:</p>\n<blockquote>\n<p>Returns an <strong>immutable</strong> list containing only the specified object. The returned list is serializable.</p>\n</blockquote>\n<p>The JVM does not implement <code>add()</code> for <code>Collections.singletonList</code></p>\n"},{"tags":[],"owner":{"account_id":21019771,"reputation":21,"user_id":15446395,"display_name":"Daham Mustafa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682624608,"creation_date":1682624608,"answer_id":76124089,"question_id":5755477,"body_markdown":"The reason for the UnsupportedOperationException is because the Arrays.asList() method returns a fixed-size list backed by the original array. This means that you cannot modify the size of the list by adding or removing elements, and attempting to do so will result in an UnsupportedOperationException.\r\n","title":"Java List.add() UnsupportedOperationException","body":"<p>The reason for the UnsupportedOperationException is because the Arrays.asList() method returns a fixed-size list backed by the original array. This means that you cannot modify the size of the list by adding or removing elements, and attempting to do so will result in an UnsupportedOperationException.</p>\n"}],"owner":{"account_id":368266,"reputation":4404,"user_id":714966,"accept_rate":83,"display_name":"FAjir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202757,"favorite_count":0,"down_vote_count":1,"up_vote_count":300,"accepted_answer_id":5755510,"answer_count":9,"score":299,"last_activity_date":1682624608,"creation_date":1303475984,"question_id":5755477,"body_markdown":"I try to add objects to a `List&lt;String&gt;` instance but it throws an `UnsupportedOperationException`.\r\nDoes anyone know why?\r\n\r\nMy Java code:\r\n\t\t\r\n\tString[] membersArray = request.getParameterValues(&#39;members&#39;);\r\n\tList&lt;String&gt; membersList = Arrays.asList(membersArray);\r\n\t\r\n\tfor (String member : membersList) {\r\n\t\tPerson person = Dao.findByName(member);\r\n\t\tList&lt;String&gt; seeAlso;\r\n\t\tseeAlso = person.getSeeAlso();\r\n\t\tif (!seeAlso.contains(groupDn)){\r\n\t\t\tseeAlso.add(groupDn);\r\n\t\t\tperson.setSeeAlso(seeAlso);\r\n\t\t}\r\n\t}\r\n\t\t\r\n\r\nThe error message:\r\n\r\n&lt;pre&gt;\r\njava.lang.UnsupportedOperationException\r\n    java.util.AbstractList.add(Unknown Source)\r\n    java.util.AbstractList.add(Unknown Source)\r\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:641)\r\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\r\n&lt;/pre&gt;\r\n","title":"Java List.add() UnsupportedOperationException","body":"<p>I try to add objects to a <code>List&lt;String&gt;</code> instance but it throws an <code>UnsupportedOperationException</code>.\nDoes anyone know why?</p>\n\n<p>My Java code:</p>\n\n<pre><code>String[] membersArray = request.getParameterValues('members');\nList&lt;String&gt; membersList = Arrays.asList(membersArray);\n\nfor (String member : membersList) {\n    Person person = Dao.findByName(member);\n    List&lt;String&gt; seeAlso;\n    seeAlso = person.getSeeAlso();\n    if (!seeAlso.contains(groupDn)){\n        seeAlso.add(groupDn);\n        person.setSeeAlso(seeAlso);\n    }\n}\n</code></pre>\n\n<p>The error message:</p>\n\n<pre>\njava.lang.UnsupportedOperationException\n    java.util.AbstractList.add(Unknown Source)\n    java.util.AbstractList.add(Unknown Source)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:641)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\n</pre>\n"},{"tags":["java","selenium","selenium-webdriver","testng","assert"],"comments":[{"owner":{"account_id":11064868,"reputation":1269,"user_id":8124980,"display_name":"Ankur Singh"},"score":0,"creation_date":1516800526,"post_id":48423523,"comment_id":83836741,"body_markdown":"Can share error trace ?","body":"Can share error trace ?"}],"answers":[{"tags":[],"owner":{"account_id":9862817,"reputation":5309,"user_id":7305183,"display_name":"Murthi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1516800788,"creation_date":1516800788,"answer_id":48423755,"question_id":48423523,"body_markdown":"please add the below import statement to your code. it may resolve your issue.\r\n\r\n    import org.testng.Assert;\r\n\r\nassertEquals doesn&#39;t return any value.\r\n\r\nYou can&#39;t put inside a if clause. please remove if statement. \r\n\r\njust add only the assert statement.\r\n\r\n    Assert.assertEquals(menu1,&quot;About Us&quot;);","title":"Assert in selenium in not working for me","body":"<p>please add the below import statement to your code. it may resolve your issue.</p>\n\n<pre><code>import org.testng.Assert;\n</code></pre>\n\n<p>assertEquals doesn't return any value.</p>\n\n<p>You can't put inside a if clause. please remove if statement. </p>\n\n<p>just add only the assert statement.</p>\n\n<pre><code>Assert.assertEquals(menu1,\"About Us\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11121655,"reputation":4630,"user_id":8164333,"display_name":"iamsankalp89"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516802211,"creation_date":1516802211,"answer_id":48424225,"question_id":48423523,"body_markdown":"No need to use if with Assert, try it seperately. Also check whether testng is there are not, \r\n\r\nuse \r\n\r\n    import org.testng.*;\r\n\r\nor\r\n\r\n    import org.testng.Assert;\r\n\r\nLike this code:\r\n\r\n    String menu1 = driver.findElement(By.xpath(&quot;value&quot;)).getText();\r\n    System.out.println(menu1);\r\n    Assert.assertEquals(menu1,&quot;About Us&quot;);\r\n\r\n","title":"Assert in selenium in not working for me","body":"<p>No need to use if with Assert, try it seperately. Also check whether testng is there are not, </p>\n\n<p>use </p>\n\n<pre><code>import org.testng.*;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>import org.testng.Assert;\n</code></pre>\n\n<p>Like this code:</p>\n\n<pre><code>String menu1 = driver.findElement(By.xpath(\"value\")).getText();\nSystem.out.println(menu1);\nAssert.assertEquals(menu1,\"About Us\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1516937123,"creation_date":1516804400,"answer_id":48424941,"question_id":48423523,"body_markdown":"The error says it all :\r\n\r\n\t&#39;Assert cannot be resolved&#39;\r\n\t\r\nThe reason for this error and the solution can be either of the following:\r\n\r\n - `import org.testng.Assert;` is missing.\r\n - TestNG jars were not downloaded properly. You may need to download the TestNG jars and reconfigure.\r\n - It is worth mentioning that `Assert.assertEquals()` method returns `void`. So the compiler should be complaining about the following line of code:\r\n\r\n\t\tif(Assert.assertEquals(menu1, &quot;About Us&quot;))\r\n\r\n - If you have a requirement to catch the Pass or Fail status, wrap up the assertion in a `try-catch` block with `Throwable t` as follows:\r\n\r\n        String menu1 = driver.findElement(By.xpath(&quot;value&quot;)).getText();\r\n        System.out.println(menu1);\r\n        try {\r\n            Assert.assertEquals(menu1, &quot;About Us&quot;)\r\n\t\t\tSystem.out.println(&quot;Assertion Successful&quot;);\r\n\t\t} catch (Throwable t) {\r\n\t\t\tSystem.out.println(&quot;Exception raised in Assertion&quot;);\r\n\t\t}\r\n\r\n - Output on success will be:\r\n\r\n    \tAssertion Successful\r\n\r\n - Output on failure will be:\r\n\r\n    \tException raised in Assertion","title":"Assert in selenium in not working for me","body":"<p>The error says it all :</p>\n\n<pre><code>'Assert cannot be resolved'\n</code></pre>\n\n<p>The reason for this error and the solution can be either of the following:</p>\n\n<ul>\n<li><code>import org.testng.Assert;</code> is missing.</li>\n<li>TestNG jars were not downloaded properly. You may need to download the TestNG jars and reconfigure.</li>\n<li><p>It is worth mentioning that <code>Assert.assertEquals()</code> method returns <code>void</code>. So the compiler should be complaining about the following line of code:</p>\n\n<pre><code>if(Assert.assertEquals(menu1, \"About Us\"))\n</code></pre></li>\n<li><p>If you have a requirement to catch the Pass or Fail status, wrap up the assertion in a <code>try-catch</code> block with <code>Throwable t</code> as follows:</p>\n\n<pre><code>String menu1 = driver.findElement(By.xpath(\"value\")).getText();\nSystem.out.println(menu1);\ntry {\n    Assert.assertEquals(menu1, \"About Us\")\n    System.out.println(\"Assertion Successful\");\n} catch (Throwable t) {\n    System.out.println(\"Exception raised in Assertion\");\n}\n</code></pre></li>\n<li><p>Output on success will be:</p>\n\n<pre><code>Assertion Successful\n</code></pre></li>\n<li><p>Output on failure will be:</p>\n\n<pre><code>Exception raised in Assertion\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23622967,"reputation":1,"user_id":17655908,"display_name":"Ranga Prasana"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639285457,"creation_date":1639285457,"answer_id":70321076,"question_id":48423523,"body_markdown":"Just Right Click on the folder which that we need to implement assertion just right click &gt;&gt;&gt; Build Path &gt;&gt;&gt; Add Libraries &gt;&gt;&gt; TestNG","title":"Assert in selenium in not working for me","body":"<p>Just Right Click on the folder which that we need to implement assertion just right click &gt;&gt;&gt; Build Path &gt;&gt;&gt; Add Libraries &gt;&gt;&gt; TestNG</p>\n"},{"tags":[],"owner":{"account_id":28438441,"reputation":1,"user_id":21758178,"display_name":"Umarani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682624316,"creation_date":1682624316,"answer_id":76124055,"question_id":48423523,"body_markdown":"Assert Error: Assert cannot be resolved.\r\n\r\nThe reason for this error is   \r\n\r\nimport org.testng.Assert; is missing.\r\n\r\nand the solution can be either of the following:\r\n\r\nOption1:\r\nGoto the current project working on: Project(right click on it) ---&gt; BuildPath--&gt;Configure Build Path---&gt;Java Build Path---&gt;In the Libraries Section---&gt; Select Class Path---&gt;Add Library---&gt;JUnit---&gt;Next---&gt;JUnit library Version---&gt;Select JUnit 5---&gt;Click Finish\r\n\r\nOption2:\r\nGoto the current project working on: Project(right click on it) ---&gt;Add Libraries---&gt;JUnit---&gt;Next---&gt;JUnit library Version---&gt;Select JUnit 5---&gt;Click Finish\r\n\r\nOption3: \r\nGoto the current project working on: Project(right click on it)---&gt;Properties---&gt;Java Build Path---&gt;In the Libraries Section---&gt; Select Class Path---&gt;Add Library---&gt;JUnit---&gt;Next---&gt;JUnit library Version---&gt;Select JUnit 5---&gt;Click Finish\r\n","title":"Assert in selenium in not working for me","body":"<p>Assert Error: Assert cannot be resolved.</p>\n<p>The reason for this error is</p>\n<p>import org.testng.Assert; is missing.</p>\n<p>and the solution can be either of the following:</p>\n<p>Option1:\nGoto the current project working on: Project(right click on it) ---&gt; BuildPath--&gt;Configure Build Path---&gt;Java Build Path---&gt;In the Libraries Section---&gt; Select Class Path---&gt;Add Library---&gt;JUnit---&gt;Next---&gt;JUnit library Version---&gt;Select JUnit 5---&gt;Click Finish</p>\n<p>Option2:\nGoto the current project working on: Project(right click on it) ---&gt;Add Libraries---&gt;JUnit---&gt;Next---&gt;JUnit library Version---&gt;Select JUnit 5---&gt;Click Finish</p>\n<p>Option3:\nGoto the current project working on: Project(right click on it)---&gt;Properties---&gt;Java Build Path---&gt;In the Libraries Section---&gt; Select Class Path---&gt;Add Library---&gt;JUnit---&gt;Next---&gt;JUnit library Version---&gt;Select JUnit 5---&gt;Click Finish</p>\n"}],"owner":{"account_id":11524871,"reputation":23,"user_id":8445641,"display_name":"sebin john"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5974,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":48423755,"answer_count":5,"score":-1,"last_activity_date":1682624316,"creation_date":1516800100,"question_id":48423523,"body_markdown":"&#39;Assert cannot be resolved&#39; is displayed when i tries to insert an Assert command\r\n\r\n        String menu1 = driver.findElement(By.xpath(&quot;value&quot;)).getText();\r\n\t\tSystem.out.println(menu1);\r\n\t\tif(Assert.assertEquals(menu1,&quot;About Us&quot;))\r\n\t\t{\r\n\t\t\t\r\n\t\t}","title":"Assert in selenium in not working for me","body":"<p>'Assert cannot be resolved' is displayed when i tries to insert an Assert command</p>\n\n<pre><code>    String menu1 = driver.findElement(By.xpath(\"value\")).getText();\n    System.out.println(menu1);\n    if(Assert.assertEquals(menu1,\"About Us\"))\n    {\n\n    }\n</code></pre>\n"},{"tags":["java","android","apk"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1654092769,"post_id":72462461,"comment_id":128009858,"body_markdown":"Well that is a lot i would say.","body":"Well that is a lot i would say."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1654098010,"post_id":72462461,"comment_id":128011968,"body_markdown":"So the file gets downloaded.  DO you get to the point of installing?  What&#39;s the exact error or exception?  If you have it downloaded, did you check to see if the file is an exact match to the original, or if it was corrupted?","body":"So the file gets downloaded.  DO you get to the point of installing?  What&#39;s the exact error or exception?  If you have it downloaded, did you check to see if the file is an exact match to the original, or if it was corrupted?"},{"owner":{"account_id":9542541,"reputation":53,"user_id":8644242,"display_name":"Sahil"},"score":0,"creation_date":1694771408,"post_id":72462461,"comment_id":135938099,"body_markdown":"you are calling startActivity(intent); two times. Remove the second one and put inside else condition. It is giving you parse error because you already installed it, you are starting the install intent again hence showing the error. @JojoGIF2001","body":"you are calling startActivity(intent); two times. Remove the second one and put inside else condition. It is giving you parse error because you already installed it, you are starting the install intent again hence showing the error. @JojoGIF2001"}],"owner":{"account_id":22482014,"reputation":31,"user_id":16680961,"display_name":"JojoGIF2001"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3000,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1682624063,"creation_date":1654089085,"question_id":72462461,"body_markdown":"I&#180;m tying to build an App which is Downloading and Installing an .apk file.\r\n\r\nI am building this with the help of [Download And Install App Programmatically][1]\r\n\r\n\r\n\r\nI have added all permissions and the provider in the AndroidManifest.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_SYNC_SETTINGS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.REQUEST_INSTALL_PACKAGES&quot; /&gt;\r\n\r\n            &lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;${applicationId}.provider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/provider_paths&quot; /&gt;\r\n        &lt;/provider&gt;\r\n\r\nI have also created the provider_paths.xml in the xml folder and the GenericFileProvider.java next to the MainActivity.java\r\n\r\nIn my MainActivity.java i wrote the following code:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    private static final int PERMISSION_REQUEST_CODE = 200;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        Button btn_click = findViewById(R.id.btn_click);\r\n        btn_click.setOnClickListener(new View.OnClickListener() {\r\n            @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN)\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (checkPermission()) {\r\n                    UpdateApp atualizaApp = new UpdateApp();\r\n                    atualizaApp.setContext(MainActivity.this);\r\n                    atualizaApp.execute(&quot;https://example.com/apks/my_apk.apk&quot;);\r\n                } else {\r\n                    requestPermission();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        if (requestCode == PERMISSION_REQUEST_CODE) {\r\n            if (grantResults.length &gt; 0) {\r\n\r\n                boolean locationAccepted = grantResults[0] == PackageManager.PERMISSION_GRANTED;\r\n                boolean cameraAccepted = grantResults[1] == PackageManager.PERMISSION_GRANTED;\r\n                if (locationAccepted &amp;&amp; cameraAccepted) {\r\n                    UpdateApp updateApp = new UpdateApp();\r\n                    updateApp.setContext(MainActivity.this);\r\n                    updateApp.execute(&quot;https://example.com/apks/my_apk.apk&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN)\r\n    private boolean checkPermission() {\r\n        int result = ContextCompat.checkSelfPermission(getApplicationContext(), WRITE_EXTERNAL_STORAGE);\r\n        int result1 = ContextCompat.checkSelfPermission(getApplicationContext(), READ_EXTERNAL_STORAGE);\r\n\r\n        return result == PackageManager.PERMISSION_GRANTED &amp;&amp; result1 == PackageManager.PERMISSION_GRANTED;\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN)\r\n    private void requestPermission() {\r\n        ActivityCompat.requestPermissions(this, new String[]{WRITE_EXTERNAL_STORAGE, READ_EXTERNAL_STORAGE}, PERMISSION_REQUEST_CODE);\r\n    }\r\n\r\n    public class UpdateApp extends AsyncTask&lt;String, Integer, String&gt; {\r\n        private ProgressDialog mPDialog;\r\n        private Context mContext;\r\n\r\n        void setContext(Activity context) {\r\n            mContext = context;\r\n            context.runOnUiThread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    mPDialog = new ProgressDialog(mContext);\r\n                    mPDialog.setMessage(&quot;Please wait...&quot;);\r\n                    mPDialog.setIndeterminate(true);\r\n                    mPDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);\r\n                    mPDialog.setCancelable(false);\r\n                    mPDialog.show();\r\n                }\r\n            });\r\n        }\r\n\r\n        @Override\r\n        protected String doInBackground(String... arg0) {\r\n            try {\r\n\r\n                URL url = new URL(arg0[0]);\r\n                HttpURLConnection c = (HttpURLConnection) url.openConnection();\r\n                c.setRequestMethod(&quot;GET&quot;);\r\n                c.setDoOutput(true);\r\n                c.connect();\r\n                int lenghtOfFile = c.getContentLength();\r\n\r\n                String PATH = Objects.requireNonNull(mContext.getExternalFilesDir(null)).getAbsolutePath();\r\n                File file = new File(PATH);\r\n                boolean isCreate = file.mkdirs();\r\n                File outputFile = new File(file, &quot;my_apk.apk&quot;);\r\n                if (outputFile.exists()) {\r\n                    boolean isDelete = outputFile.delete();\r\n                }\r\n                FileOutputStream fos = new FileOutputStream(outputFile);\r\n\r\n                InputStream is = c.getInputStream();\r\n\r\n                byte[] buffer = new byte[1024];\r\n                int len1;\r\n                long total = 0;\r\n                while ((len1 = is.read(buffer)) != -1) {\r\n                    total += len1;\r\n                    fos.write(buffer, 0, len1);\r\n                    publishProgress((int) ((total * 100) / lenghtOfFile));\r\n                }\r\n                fos.close();\r\n                is.close();\r\n                if (mPDialog != null)\r\n                    mPDialog.dismiss();\r\n                installApk();\r\n            } catch (Exception e) {\r\n                Log.e(&quot;UpdateAPP&quot;, &quot;Update error! &quot; + e.getMessage());\r\n            }\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        protected void onPreExecute() {\r\n            super.onPreExecute();\r\n            if (mPDialog != null)\r\n                mPDialog.show();\r\n\r\n        }\r\n\r\n\r\n        @Override\r\n        protected void onProgressUpdate(Integer... values) {\r\n            super.onProgressUpdate(values);\r\n            if (mPDialog != null) {\r\n                mPDialog.setIndeterminate(false);\r\n                mPDialog.setMax(100);\r\n                mPDialog.setProgress(values[0]);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(String result) {\r\n            if (mPDialog != null)\r\n                mPDialog.dismiss();\r\n            if (result != null)\r\n                Toast.makeText(mContext, &quot;Download error: &quot; + result, Toast.LENGTH_LONG).show();\r\n            else\r\n                Toast.makeText(mContext, &quot;File Downloaded&quot;, Toast.LENGTH_SHORT).show();\r\n                installApk();\r\n        }\r\n\r\n\r\n        private void installApk() {\r\n            try {\r\n                String PATH = Objects.requireNonNull(mContext.getExternalFilesDir(null)).getAbsolutePath();\r\n                File file = new File(PATH + &quot;/my_apk.apk&quot;);\r\n                Intent intent = new Intent(Intent.ACTION_VIEW);\r\n                if (Build.VERSION.SDK_INT &gt;= 24) {\r\n                    Uri downloaded_apk = FileProvider.getUriForFile(mContext, mContext.getApplicationContext().getPackageName() + &quot;.provider&quot;, file);\r\n                    intent.setDataAndType(downloaded_apk, &quot;application/vnd.android.package-archive&quot;);\r\n                    List&lt;ResolveInfo&gt; resInfoList = mContext.getPackageManager().queryIntentActivities(intent, PackageManager.MATCH_DEFAULT_ONLY);\r\n                    for (ResolveInfo resolveInfo : resInfoList) {\r\n                        mContext.grantUriPermission(mContext.getApplicationContext().getPackageName() + &quot;.provider&quot;, downloaded_apk, Intent.FLAG_GRANT_WRITE_URI_PERMISSION | Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n                    }\r\n                    intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_GRANT_WRITE_URI_PERMISSION | Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n                    startActivity(intent);\r\n                } else {\r\n                    intent.setAction(Intent.ACTION_VIEW);\r\n                    intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n                    intent.putExtra(Intent.EXTRA_NOT_UNKNOWN_SOURCE, true);\r\n                    intent.setDataAndType(Uri.fromFile(file), &quot;application/vnd.android.package-archive&quot;);\r\n                    intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                }\r\n                startActivity(intent);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n  \r\n\r\nAt the end i hava created a Button in the layout file with the id btn_click.\r\n\r\n\r\nBut when I run the App and press on Download the only thing thats happens is that the file just gets downloaded and the app shows an parse Error.\r\n\r\n\r\n\r\n\r\n  [1]: http://www.wepstech.com/download-and-install-app-programmatically/","title":"Download and Install APK Programmatically","body":"<p>I´m tying to build an App which is Downloading and Installing an .apk file.</p>\n<p>I am building this with the help of <a href=\"http://www.wepstech.com/download-and-install-app-programmatically/\" rel=\"nofollow noreferrer\">Download And Install App Programmatically</a></p>\n<p>I have added all permissions and the provider in the AndroidManifest.</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_SYNC_SETTINGS&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.REQUEST_INSTALL_PACKAGES&quot; /&gt;\n\n        &lt;provider\n        android:name=&quot;androidx.core.content.FileProvider&quot;\n        android:authorities=&quot;${applicationId}.provider&quot;\n        android:exported=&quot;false&quot;\n        android:grantUriPermissions=&quot;true&quot;&gt;\n        &lt;meta-data\n            android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n            android:resource=&quot;@xml/provider_paths&quot; /&gt;\n    &lt;/provider&gt;\n</code></pre>\n<p>I have also created the provider_paths.xml in the xml folder and the GenericFileProvider.java next to the MainActivity.java</p>\n<p>In my MainActivity.java i wrote the following code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nprivate static final int PERMISSION_REQUEST_CODE = 200;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n\n    Button btn_click = findViewById(R.id.btn_click);\n    btn_click.setOnClickListener(new View.OnClickListener() {\n        @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN)\n        @Override\n        public void onClick(View v) {\n            if (checkPermission()) {\n                UpdateApp atualizaApp = new UpdateApp();\n                atualizaApp.setContext(MainActivity.this);\n                atualizaApp.execute(&quot;https://example.com/apks/my_apk.apk&quot;);\n            } else {\n                requestPermission();\n            }\n        }\n    });\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    if (requestCode == PERMISSION_REQUEST_CODE) {\n        if (grantResults.length &gt; 0) {\n\n            boolean locationAccepted = grantResults[0] == PackageManager.PERMISSION_GRANTED;\n            boolean cameraAccepted = grantResults[1] == PackageManager.PERMISSION_GRANTED;\n            if (locationAccepted &amp;&amp; cameraAccepted) {\n                UpdateApp updateApp = new UpdateApp();\n                updateApp.setContext(MainActivity.this);\n                updateApp.execute(&quot;https://example.com/apks/my_apk.apk&quot;);\n            }\n        }\n    }\n}\n\n@RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN)\nprivate boolean checkPermission() {\n    int result = ContextCompat.checkSelfPermission(getApplicationContext(), WRITE_EXTERNAL_STORAGE);\n    int result1 = ContextCompat.checkSelfPermission(getApplicationContext(), READ_EXTERNAL_STORAGE);\n\n    return result == PackageManager.PERMISSION_GRANTED &amp;&amp; result1 == PackageManager.PERMISSION_GRANTED;\n}\n\n@RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN)\nprivate void requestPermission() {\n    ActivityCompat.requestPermissions(this, new String[]{WRITE_EXTERNAL_STORAGE, READ_EXTERNAL_STORAGE}, PERMISSION_REQUEST_CODE);\n}\n\npublic class UpdateApp extends AsyncTask&lt;String, Integer, String&gt; {\n    private ProgressDialog mPDialog;\n    private Context mContext;\n\n    void setContext(Activity context) {\n        mContext = context;\n        context.runOnUiThread(new Runnable() {\n            @Override\n            public void run() {\n                mPDialog = new ProgressDialog(mContext);\n                mPDialog.setMessage(&quot;Please wait...&quot;);\n                mPDialog.setIndeterminate(true);\n                mPDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);\n                mPDialog.setCancelable(false);\n                mPDialog.show();\n            }\n        });\n    }\n\n    @Override\n    protected String doInBackground(String... arg0) {\n        try {\n\n            URL url = new URL(arg0[0]);\n            HttpURLConnection c = (HttpURLConnection) url.openConnection();\n            c.setRequestMethod(&quot;GET&quot;);\n            c.setDoOutput(true);\n            c.connect();\n            int lenghtOfFile = c.getContentLength();\n\n            String PATH = Objects.requireNonNull(mContext.getExternalFilesDir(null)).getAbsolutePath();\n            File file = new File(PATH);\n            boolean isCreate = file.mkdirs();\n            File outputFile = new File(file, &quot;my_apk.apk&quot;);\n            if (outputFile.exists()) {\n                boolean isDelete = outputFile.delete();\n            }\n            FileOutputStream fos = new FileOutputStream(outputFile);\n\n            InputStream is = c.getInputStream();\n\n            byte[] buffer = new byte[1024];\n            int len1;\n            long total = 0;\n            while ((len1 = is.read(buffer)) != -1) {\n                total += len1;\n                fos.write(buffer, 0, len1);\n                publishProgress((int) ((total * 100) / lenghtOfFile));\n            }\n            fos.close();\n            is.close();\n            if (mPDialog != null)\n                mPDialog.dismiss();\n            installApk();\n        } catch (Exception e) {\n            Log.e(&quot;UpdateAPP&quot;, &quot;Update error! &quot; + e.getMessage());\n        }\n        return null;\n    }\n\n    @Override\n    protected void onPreExecute() {\n        super.onPreExecute();\n        if (mPDialog != null)\n            mPDialog.show();\n\n    }\n\n\n    @Override\n    protected void onProgressUpdate(Integer... values) {\n        super.onProgressUpdate(values);\n        if (mPDialog != null) {\n            mPDialog.setIndeterminate(false);\n            mPDialog.setMax(100);\n            mPDialog.setProgress(values[0]);\n        }\n    }\n\n    @Override\n    protected void onPostExecute(String result) {\n        if (mPDialog != null)\n            mPDialog.dismiss();\n        if (result != null)\n            Toast.makeText(mContext, &quot;Download error: &quot; + result, Toast.LENGTH_LONG).show();\n        else\n            Toast.makeText(mContext, &quot;File Downloaded&quot;, Toast.LENGTH_SHORT).show();\n            installApk();\n    }\n\n\n    private void installApk() {\n        try {\n            String PATH = Objects.requireNonNull(mContext.getExternalFilesDir(null)).getAbsolutePath();\n            File file = new File(PATH + &quot;/my_apk.apk&quot;);\n            Intent intent = new Intent(Intent.ACTION_VIEW);\n            if (Build.VERSION.SDK_INT &gt;= 24) {\n                Uri downloaded_apk = FileProvider.getUriForFile(mContext, mContext.getApplicationContext().getPackageName() + &quot;.provider&quot;, file);\n                intent.setDataAndType(downloaded_apk, &quot;application/vnd.android.package-archive&quot;);\n                List&lt;ResolveInfo&gt; resInfoList = mContext.getPackageManager().queryIntentActivities(intent, PackageManager.MATCH_DEFAULT_ONLY);\n                for (ResolveInfo resolveInfo : resInfoList) {\n                    mContext.grantUriPermission(mContext.getApplicationContext().getPackageName() + &quot;.provider&quot;, downloaded_apk, Intent.FLAG_GRANT_WRITE_URI_PERMISSION | Intent.FLAG_GRANT_READ_URI_PERMISSION);\n                }\n                intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_GRANT_WRITE_URI_PERMISSION | Intent.FLAG_GRANT_READ_URI_PERMISSION);\n                startActivity(intent);\n            } else {\n                intent.setAction(Intent.ACTION_VIEW);\n                intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n                intent.putExtra(Intent.EXTRA_NOT_UNKNOWN_SOURCE, true);\n                intent.setDataAndType(Uri.fromFile(file), &quot;application/vnd.android.package-archive&quot;);\n                intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n            }\n            startActivity(intent);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n<p>At the end i hava created a Button in the layout file with the id btn_click.</p>\n<p>But when I run the App and press on Download the only thing thats happens is that the file just gets downloaded and the app shows an parse Error.</p>\n"},{"tags":["java","android","date","time"],"comments":[{"owner":{"account_id":5018541,"reputation":12090,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":2,"creation_date":1511367562,"post_id":47437547,"comment_id":81833537,"body_markdown":"I tend to agree that this isn&#39;t a duplicate - the other answers I saw seemed to suggest adding the SET_TIME permission, which I see you already tried. I voted to reopen.","body":"I tend to agree that this isn&#39;t a duplicate - the other answers I saw seemed to suggest adding the SET_TIME permission, which I see you already tried. I voted to reopen."},{"owner":{"account_id":4346527,"reputation":93,"user_id":3548328,"display_name":"AlternateView"},"score":0,"creation_date":1511367924,"post_id":47437547,"comment_id":81833804,"body_markdown":"Thank you, if there&#39;s a better way of handling this scenario within SO then I&#39;d appreciate someone actually explaining how to do so rather than just marking it and moving on. I can&#39;t exactly comment with this level of detail on all existing answers - in fact, with my rep level, I can&#39;t comment full stop yet.","body":"Thank you, if there&#39;s a better way of handling this scenario within SO then I&#39;d appreciate someone actually explaining how to do so rather than just marking it and moving on. I can&#39;t exactly comment with this level of detail on all existing answers - in fact, with my rep level, I can&#39;t comment full stop yet."},{"owner":{"account_id":5018541,"reputation":12090,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":1,"creation_date":1511454633,"post_id":47437547,"comment_id":81874369,"body_markdown":"It looks like the question is now (correctly, in my opinion) reopened.","body":"It looks like the question is now (correctly, in my opinion) reopened."},{"owner":{"account_id":3228096,"reputation":8549,"user_id":2723943,"accept_rate":90,"display_name":"Imran Ali Khan"},"score":0,"creation_date":1511784300,"post_id":47437547,"comment_id":81976749,"body_markdown":"Possible duplicate of [How to set mobile system time and date in android?](https://stackoverflow.com/questions/1332269/how-to-set-mobile-system-time-and-date-in-android)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/1332269/how-to-set-mobile-system-time-and-date-in-android\">How to set mobile system time and date in android?</a>"},{"owner":{"account_id":6780,"reputation":40740,"user_id":11527,"accept_rate":40,"display_name":"Ber"},"score":0,"creation_date":1623422531,"post_id":47437547,"comment_id":120082874,"body_markdown":"The approach using `AlarmManager.setTime()` only works for system apps, i.e. those signed with the system key and running as the system user. Usually this is only possible if you build the whole system yourself, e.g. using AOSP. Rooting a device does not help.","body":"The approach using <code>AlarmManager.setTime()</code> only works for system apps, i.e. those signed with the system key and running as the system user. Usually this is only possible if you build the whole system yourself, e.g. using AOSP. Rooting a device does not help."}],"answers":[{"comments":[{"owner":{"account_id":1668398,"reputation":2626,"user_id":1535357,"display_name":"Sabrina"},"score":0,"creation_date":1603980120,"post_id":47473660,"comment_id":114211778,"body_markdown":"Is 4017 a type mistake?","body":"Is 4017 a type mistake?"},{"owner":{"account_id":5556384,"reputation":332,"user_id":4407600,"display_name":"Tahir Rehman"},"score":0,"creation_date":1701250802,"post_id":47473660,"comment_id":136751284,"body_markdown":"you save my day dear !!  Thaaaaaanks alot sharing you solution","body":"you save my day dear !!  Thaaaaaanks alot sharing you solution"},{"owner":{"account_id":5556384,"reputation":332,"user_id":4407600,"display_name":"Tahir Rehman"},"score":0,"creation_date":1701251010,"post_id":47473660,"comment_id":136751329,"body_markdown":"one thing i want to add , the format need to change  from  &quot;MMddhhmmyy&quot; to   &quot;MMddHHmmyy&quot;  for 24hr time","body":"one thing i want to add , the format need to change  from  &quot;MMddhhmmyy&quot; to   &quot;MMddHHmmyy&quot;  for 24hr time"}],"tags":[],"owner":{"account_id":4346527,"reputation":93,"user_id":3548328,"display_name":"AlternateView"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1511527704,"creation_date":1511527704,"answer_id":47473660,"question_id":47437547,"body_markdown":"As it turns out, the answer *did* lie in the referenced question [found here][1]. However, the command is different for Android 7 (and possibly 6, I have not tested) devices. I do not have the reputation to comment over there, so if someone wishes to paste/reference this answer on that question, go right ahead.\r\n\r\nThe date code I used was in the format MMddhhmmyy, rather than yyyyMMdd.hhmmss; this works for me on Android 7. I also removed the appended &#39;-s&#39;. The full working code I used to set the system time is below. Again it should be noted that this requires rooting the device so is only useful in certain scenarios like mine.\r\n\r\n         try {\r\n\r\n            Process process = Runtime.getRuntime().exec(&quot;su&quot;);\r\n            DataOutputStream os = new DataOutputStream(process.getOutputStream());\r\n            String command = &quot;date 1123104017\\n&quot;;\r\n            // Log.e(&quot;command&quot;,command);\r\n            os.writeBytes(command);\r\n            os.flush();\r\n            os.writeBytes(&quot;exit\\n&quot;);\r\n            os.flush();\r\n            process.waitFor();\r\n\r\n        } catch (InterruptedException e) {\r\n            Toast.makeText(getApplicationContext(), e.toString(), Toast.LENGTH_SHORT).show();\r\n        } catch (IOException e) {\r\n            Toast.makeText(getApplicationContext(), e.toString(), Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\nThe date I entered, for clarity, is November 23rd 2017 at 10:40 AM. \r\n\r\n  [1]: https://stackoverflow.com/questions/1332269/how-to-set-mobile-system-time-and-date-in-android","title":"Programmatically set System Time","body":"<p>As it turns out, the answer <em>did</em> lie in the referenced question <a href=\"https://stackoverflow.com/questions/1332269/how-to-set-mobile-system-time-and-date-in-android\">found here</a>. However, the command is different for Android 7 (and possibly 6, I have not tested) devices. I do not have the reputation to comment over there, so if someone wishes to paste/reference this answer on that question, go right ahead.</p>\n\n<p>The date code I used was in the format MMddhhmmyy, rather than yyyyMMdd.hhmmss; this works for me on Android 7. I also removed the appended '-s'. The full working code I used to set the system time is below. Again it should be noted that this requires rooting the device so is only useful in certain scenarios like mine.</p>\n\n<pre><code>     try {\n\n        Process process = Runtime.getRuntime().exec(\"su\");\n        DataOutputStream os = new DataOutputStream(process.getOutputStream());\n        String command = \"date 1123104017\\n\";\n        // Log.e(\"command\",command);\n        os.writeBytes(command);\n        os.flush();\n        os.writeBytes(\"exit\\n\");\n        os.flush();\n        process.waitFor();\n\n    } catch (InterruptedException e) {\n        Toast.makeText(getApplicationContext(), e.toString(), Toast.LENGTH_SHORT).show();\n    } catch (IOException e) {\n        Toast.makeText(getApplicationContext(), e.toString(), Toast.LENGTH_SHORT).show();\n    }\n</code></pre>\n\n<p>The date I entered, for clarity, is November 23rd 2017 at 10:40 AM. </p>\n"},{"tags":[],"owner":{"account_id":10802884,"reputation":131,"user_id":7946147,"display_name":"Ali Elahi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1579520945,"creation_date":1579185438,"answer_id":59771941,"question_id":47437547,"body_markdown":"if you need set second too use this format : MMddhhmmyy.ss\r\n\r\nif you have long value of time use this : \r\n\r\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;MMddhhmmyy.ss&quot;);\r\n    Calendar calendar = Calendar.getInstance();\r\n    calendar.setTimeInMillis(timeValue);\r\n    Date date = calendar.getTime();\r\n\r\n    Process process = Runtime.getRuntime().exec(&quot;su&quot;);\r\n    DataOutputStream os = new DataOutputStream(process.getOutputStream());\r\n\r\n    String command = &quot;date &quot; + dateFormat.format(date)  + &quot;\\n&quot;;\r\n\r\n    os.writeBytes(command);\r\n    os.flush();\r\n    os.writeBytes(&quot;exit\\n&quot;);\r\n    os.flush();\r\n    process.waitFor();\r\n\r\n","title":"Programmatically set System Time","body":"<p>if you need set second too use this format : MMddhhmmyy.ss</p>\n\n<p>if you have long value of time use this : </p>\n\n<pre><code>SimpleDateFormat dateFormat = new SimpleDateFormat(\"MMddhhmmyy.ss\");\nCalendar calendar = Calendar.getInstance();\ncalendar.setTimeInMillis(timeValue);\nDate date = calendar.getTime();\n\nProcess process = Runtime.getRuntime().exec(\"su\");\nDataOutputStream os = new DataOutputStream(process.getOutputStream());\n\nString command = \"date \" + dateFormat.format(date)  + \"\\n\";\n\nos.writeBytes(command);\nos.flush();\nos.writeBytes(\"exit\\n\");\nos.flush();\nprocess.waitFor();\n</code></pre>\n"}],"owner":{"account_id":4346527,"reputation":93,"user_id":3548328,"display_name":"AlternateView"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10079,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":47473660,"answer_count":2,"score":7,"last_activity_date":1682623263,"creation_date":1511362035,"question_id":47437547,"body_markdown":"*I realise this question appears elsewhere on SO, however I&#39;ve tried all solutions that I can find on the site and am still having difficulty. These questions (and their answers) are also several years old, and rather than commenting on old questions, I thought I&#39;d consolidate information here for others and investigate potentially related changes to Android between then and now. Still, if you feel this question qualifies as a duplicate, mark it as such.*\r\n\r\n**Edit: As I stated, other answers on SO have not solved the problem.** I don&#39;t see how commenting on each and every potential fix with &quot;Doesn&#39;t work for me&quot; is conducive to helping myself and others solve the problem, but if that&#39;s the case, so be it. For reference, 3 people have marked the questions as a potential duplicate of [this question][1], so I have added those non-working answers to the list below.\r\n\r\nMy application has some very specific needs, but for the sake of brevity, let&#39;s just assume I need to set the system time and date manually to a fixed value. Below I have detailed some notes about my progress in attempting to get this working.\r\n\r\nThe app has a minimum SDK version of, and is targeting, 24. Others found that they needed to increase the version to this level.\r\n\r\nThe device has been rooted, and the application is being installed to /system/app so that I can change the date/time. \r\n\r\nSome have commented that it is outright impossible for apps to set the time, however looking at apps such as ClockSync, this does not seem to be the case. I&#39;m aware that my app will not be available on the Play store.\r\n\r\nThe app must set the date/time automatically without user input, so using the following code to make a user set it will not help;\r\n\r\n    startActivity(new Intent(android.provider.Settings.ACTION_DATE_SETTINGS));\r\n\r\nI added the set time permission to the manifest in two ways, on their own and then together. I also tried adding the part about removing the maxSDKversion.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.SET_TIME&quot; tools:remove=&quot;android:maxSdkVersion&quot; /&gt;\r\n\r\n    &lt;permission android:name=&quot;android.permission.SET_TIME&quot;\r\n        android:protectionLevel=&quot;signature|system&quot;/&gt;\r\n\r\nI had read that certain permissions required not only a manifest entry, but for the user to accept and allow them. However, SET_TIME is not listed among these. I did try doing it anyway, however my permission request was automatically rejected without showing the confirmation box, probably because it did not actually *require* the permission in the first place.\r\n\r\nThe code I&#39;m using to try and set the time is as follows:\r\n\r\n    try {\r\n            Calendar c = Calendar.getInstance();\r\n            c.set(2017, 11, 21, 12, 32, 30);\r\n            AlarmManager am = (AlarmManager) this.getSystemService(Context.ALARM_SERVICE);\r\n            am.setTime(c.getTimeInMillis());\r\n        } catch (Exception e) {\r\n            Toast.makeText(getApplicationContext(), e.toString(), Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\nThe error I receive in a toast when this fails is:\r\n\r\n    java.lang.securityexception: setTime: neither user 10051 nor current process has android.permission.SET_TIME\r\n\r\nI have tried the two solutions in the question referenced in my above edit, both of which involve running code to set the date as such:\r\n\r\n    Runtime.getRuntime().exec(&quot;su &amp;&amp; date -s 20171122.153720&quot;);}\r\n\r\nBoth of those answers do nothing - the time does not change and no exceptions are thrown. The other answer requires internet access which is outside the scope of my question.\r\n\r\nConsidering all of the above, is there any key step I have missed in making this work, or anything in the code that would indicate a problem? \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1332269/how-to-set-mobile-system-time-and-date-in-android","title":"Programmatically set System Time","body":"<p><em>I realise this question appears elsewhere on SO, however I've tried all solutions that I can find on the site and am still having difficulty. These questions (and their answers) are also several years old, and rather than commenting on old questions, I thought I'd consolidate information here for others and investigate potentially related changes to Android between then and now. Still, if you feel this question qualifies as a duplicate, mark it as such.</em></p>\n\n<p><strong>Edit: As I stated, other answers on SO have not solved the problem.</strong> I don't see how commenting on each and every potential fix with \"Doesn't work for me\" is conducive to helping myself and others solve the problem, but if that's the case, so be it. For reference, 3 people have marked the questions as a potential duplicate of <a href=\"https://stackoverflow.com/questions/1332269/how-to-set-mobile-system-time-and-date-in-android\">this question</a>, so I have added those non-working answers to the list below.</p>\n\n<p>My application has some very specific needs, but for the sake of brevity, let's just assume I need to set the system time and date manually to a fixed value. Below I have detailed some notes about my progress in attempting to get this working.</p>\n\n<p>The app has a minimum SDK version of, and is targeting, 24. Others found that they needed to increase the version to this level.</p>\n\n<p>The device has been rooted, and the application is being installed to /system/app so that I can change the date/time. </p>\n\n<p>Some have commented that it is outright impossible for apps to set the time, however looking at apps such as ClockSync, this does not seem to be the case. I'm aware that my app will not be available on the Play store.</p>\n\n<p>The app must set the date/time automatically without user input, so using the following code to make a user set it will not help;</p>\n\n<pre><code>startActivity(new Intent(android.provider.Settings.ACTION_DATE_SETTINGS));\n</code></pre>\n\n<p>I added the set time permission to the manifest in two ways, on their own and then together. I also tried adding the part about removing the maxSDKversion.</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.SET_TIME\" tools:remove=\"android:maxSdkVersion\" /&gt;\n\n&lt;permission android:name=\"android.permission.SET_TIME\"\n    android:protectionLevel=\"signature|system\"/&gt;\n</code></pre>\n\n<p>I had read that certain permissions required not only a manifest entry, but for the user to accept and allow them. However, SET_TIME is not listed among these. I did try doing it anyway, however my permission request was automatically rejected without showing the confirmation box, probably because it did not actually <em>require</em> the permission in the first place.</p>\n\n<p>The code I'm using to try and set the time is as follows:</p>\n\n<pre><code>try {\n        Calendar c = Calendar.getInstance();\n        c.set(2017, 11, 21, 12, 32, 30);\n        AlarmManager am = (AlarmManager) this.getSystemService(Context.ALARM_SERVICE);\n        am.setTime(c.getTimeInMillis());\n    } catch (Exception e) {\n        Toast.makeText(getApplicationContext(), e.toString(), Toast.LENGTH_SHORT).show();\n    }\n</code></pre>\n\n<p>The error I receive in a toast when this fails is:</p>\n\n<pre><code>java.lang.securityexception: setTime: neither user 10051 nor current process has android.permission.SET_TIME\n</code></pre>\n\n<p>I have tried the two solutions in the question referenced in my above edit, both of which involve running code to set the date as such:</p>\n\n<pre><code>Runtime.getRuntime().exec(\"su &amp;&amp; date -s 20171122.153720\");}\n</code></pre>\n\n<p>Both of those answers do nothing - the time does not change and no exceptions are thrown. The other answer requires internet access which is outside the scope of my question.</p>\n\n<p>Considering all of the above, is there any key step I have missed in making this work, or anything in the code that would indicate a problem? </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1682622232,"post_id":76123818,"comment_id":134249067,"body_markdown":"Why did you make `RequestV1` `abstract` then?","body":"Why did you make <code>RequestV1</code> <code>abstract</code> then?"},{"owner":{"account_id":28438015,"reputation":3,"user_id":21757821,"display_name":"Josh Helman"},"score":0,"creation_date":1682622811,"post_id":76123818,"comment_id":134249183,"body_markdown":"Because without making it abstract I have to implement around 25+ interfaces from `org.apache.xmlbeans.XmlObject`","body":"Because without making it abstract I have to implement around 25+ interfaces from <code>org.apache.xmlbeans.XmlObject</code>"},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1682623184,"post_id":76123818,"comment_id":134249262,"body_markdown":"Seems like you&#39;re mixing up the usecase of the interface `XmlObject` which you might not need to implement.","body":"Seems like you&#39;re mixing up the usecase of the interface <code>XmlObject</code> which you might not need to implement."}],"answers":[{"comments":[{"owner":{"account_id":28438015,"reputation":3,"user_id":21757821,"display_name":"Josh Helman"},"score":0,"creation_date":1682623078,"post_id":76123919,"comment_id":134249242,"body_markdown":"yes, I know. I have to implement around 25+ interfaces from org.apache.xmlbeans.XmlObject. Any alternatives?","body":"yes, I know. I have to implement around 25+ interfaces from org.apache.xmlbeans.XmlObject. Any alternatives?"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1682623611,"post_id":76123919,"comment_id":134249337,"body_markdown":"Why are you trying to implement it?","body":"Why are you trying to implement it?"}],"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682622965,"creation_date":1682622965,"answer_id":76123919,"question_id":76123818,"body_markdown":"You **have to implement** the methods of the interface **your class is implementing**. The only shortcut is if there is an actual implementation of the interface meant for users to extend.","title":"&#39;RequestV1&#39; is abstract; cannot be instantiated","body":"<p>You <strong>have to implement</strong> the methods of the interface <strong>your class is implementing</strong>. The only shortcut is if there is an actual implementation of the interface meant for users to extend.</p>\n"}],"owner":{"account_id":28438015,"reputation":3,"user_id":21757821,"display_name":"Josh Helman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682623113,"creation_date":1682622109,"question_id":76123818,"body_markdown":"I have the following Java code:\r\n\r\n\r\n    RequestV1 request;\r\n    ...\r\n    validateRequest(request);\r\n    ....\r\n    public void validateRequest(final XmlObject request){...} \r\n\r\nI created this Java Object:\r\n\r\n    @Getter\r\n    @Setter\r\n    public class RequestV1 {\r\n    \r\n        public static class Factory {\r\n            public static RequestV1 newInstance() {\r\n                return new RequestV1();\r\n            }\r\n        }\r\n        ......\r\n    }\r\n\r\nI get error at this line`validateRequest(request);`:\r\n\r\n    Required type: XmlObject\r\n    Provided: RequestV1\r\n\r\nI tried to implement abstract class like this:\r\n\r\n    import org.apache.xmlbeans.XmlObject;\r\n\r\n    @Getter\r\n    @Setter\r\n    public abstract class RequestV1 implements XmlObject {\r\n    \r\n        public static class Factory {\r\n            public static RequestV1 newInstance() {\r\n                return new RequestV1();\r\n            }\r\n        }\r\n\r\nBut at this line `return new RequestV1();` I get error: `&#39;RequestV1&#39; is abstract; cannot be instantiated`\r\n\r\nI need this new instance to use it like this: `RequestV1 requestV1 = RequestV1.Factory.newInstance();`  \r\n\r\nDo you know how I can edit `RequestV1` or restructure it so that I can fit all requirements?\r\n\r\n\r\nI tried to implement abstract class like this:\r\n\r\n    import org.apache.xmlbeans.XmlObject;\r\n\r\n    @Getter\r\n    @Setter\r\n    public abstract class RequestV1 implements XmlObject {\r\n    \r\n        public static class Factory {\r\n            public static RequestV1 newInstance() {\r\n                return new RequestV1();\r\n            }\r\n        }","title":"&#39;RequestV1&#39; is abstract; cannot be instantiated","body":"<p>I have the following Java code:</p>\n<pre><code>RequestV1 request;\n...\nvalidateRequest(request);\n....\npublic void validateRequest(final XmlObject request){...} \n</code></pre>\n<p>I created this Java Object:</p>\n<pre><code>@Getter\n@Setter\npublic class RequestV1 {\n\n    public static class Factory {\n        public static RequestV1 newInstance() {\n            return new RequestV1();\n        }\n    }\n    ......\n}\n</code></pre>\n<p>I get error at this line<code>validateRequest(request);</code>:</p>\n<pre><code>Required type: XmlObject\nProvided: RequestV1\n</code></pre>\n<p>I tried to implement abstract class like this:</p>\n<pre><code>import org.apache.xmlbeans.XmlObject;\n\n@Getter\n@Setter\npublic abstract class RequestV1 implements XmlObject {\n\n    public static class Factory {\n        public static RequestV1 newInstance() {\n            return new RequestV1();\n        }\n    }\n</code></pre>\n<p>But at this line <code>return new RequestV1();</code> I get error: <code>'RequestV1' is abstract; cannot be instantiated</code></p>\n<p>I need this new instance to use it like this: <code>RequestV1 requestV1 = RequestV1.Factory.newInstance();</code></p>\n<p>Do you know how I can edit <code>RequestV1</code> or restructure it so that I can fit all requirements?</p>\n<p>I tried to implement abstract class like this:</p>\n<pre><code>import org.apache.xmlbeans.XmlObject;\n\n@Getter\n@Setter\npublic abstract class RequestV1 implements XmlObject {\n\n    public static class Factory {\n        public static RequestV1 newInstance() {\n            return new RequestV1();\n        }\n    }\n</code></pre>\n"},{"tags":["java","sockets","udp"],"owner":{"account_id":28435783,"reputation":1,"user_id":21755884,"display_name":"denvercoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682622837,"creation_date":1682608151,"question_id":76121982,"body_markdown":"What happens when I first bind a datagram channel using wildcard address using a snippet similar to the one below \r\n\r\n```\r\nInetAddress wildCardAddress = InetAddress.getByName(&quot;0.0.0.0&quot;);\r\nInetSocketAddress isa = new InetSocketAddress(wildCardAddress, 8888);\r\nDatagramChannel channel = DatagramChannel.open(StandardProtocolFamily.INET)\r\n                                         .setOption(StandardSocketOptions.SO_REUSEADDR, true)\r\n                                         .bind(isa);\r\n```\r\nand then all network interfaces go down and after some time some of the network interfaces go up. Will this channel still be viable or do I need to create a new one?\r\n\r\nI am having trouble receiving multicast packets after interfaces go down and then go up again.","title":"What happens to a bound datagramchannel when all network interfaces are down?","body":"<p>What happens when I first bind a datagram channel using wildcard address using a snippet similar to the one below</p>\n<pre><code>InetAddress wildCardAddress = InetAddress.getByName(&quot;0.0.0.0&quot;);\nInetSocketAddress isa = new InetSocketAddress(wildCardAddress, 8888);\nDatagramChannel channel = DatagramChannel.open(StandardProtocolFamily.INET)\n                                         .setOption(StandardSocketOptions.SO_REUSEADDR, true)\n                                         .bind(isa);\n</code></pre>\n<p>and then all network interfaces go down and after some time some of the network interfaces go up. Will this channel still be viable or do I need to create a new one?</p>\n<p>I am having trouble receiving multicast packets after interfaces go down and then go up again.</p>\n"},{"tags":["java","spring","dependency-injection"],"comments":[{"owner":{"account_id":1854518,"reputation":771,"user_id":1680403,"display_name":"Rainer"},"score":0,"creation_date":1511957848,"post_id":47552091,"comment_id":82061762,"body_markdown":"I&#180;m not sure but I think this does not work as you want it. You could either duplicate the property line to the child bean or break up the inheritance and use composition instead. Therefore add a &quot;parent&quot; property in the child class.","body":"I&#180;m not sure but I think this does not work as you want it. You could either duplicate the property line to the child bean or break up the inheritance and use composition instead. Therefore add a &quot;parent&quot; property in the child class."},{"owner":{"account_id":1752863,"reputation":763,"user_id":1601564,"accept_rate":67,"display_name":"Adrian Bob"},"score":0,"creation_date":1511958099,"post_id":47552091,"comment_id":82061960,"body_markdown":"I&#39;m pretty sure it should work this way... Only in the need of overriding the property value should be added in the child class. At least this is what i get from Spring&#39;s documentation : https://docs.spring.io/spring/docs/3.0.0.M3/reference/html/ch04s06.html","body":"I&#39;m pretty sure it should work this way... Only in the need of overriding the property value should be added in the child class. At least this is what i get from Spring&#39;s documentation : <a href=\"https://docs.spring.io/spring/docs/3.0.0.M3/reference/html/ch04s06.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/3.0.0.M3/reference/html/ch04s06.h&zwnj;&#8203;tml</a>"},{"owner":{"account_id":1854518,"reputation":771,"user_id":1680403,"display_name":"Rainer"},"score":0,"creation_date":1511971297,"post_id":47552091,"comment_id":82071235,"body_markdown":"Well. 1. The doc you linked is for Spring 3.0. 2. The parent class is defined as abstract in the example. Maybe that is causing your issue. Not sure about the singleton flag - could also lead to problems. You also don&#180;t have the &quot;init-method=&quot;initialize&quot;&quot;. Does the exact example from your link work with your Spring version?","body":"Well. 1. The doc you linked is for Spring 3.0. 2. The parent class is defined as abstract in the example. Maybe that is causing your issue. Not sure about the singleton flag - could also lead to problems. You also don&#180;t have the &quot;init-method=&quot;initialize&quot;&quot;. Does the exact example from your link work with your Spring version?"},{"owner":{"account_id":1752863,"reputation":763,"user_id":1601564,"accept_rate":67,"display_name":"Adrian Bob"},"score":0,"creation_date":1511980575,"post_id":47552091,"comment_id":82076735,"body_markdown":"Maybe it was not the best example to link the documentation for Spring 3 since I&#39;m using Spring 1.X but I think that there aren&#39;t that many changes to the basic usage of how Dipendency Injection works in Spring since the 1st version.\nThis would be the same documentation from the version that I use https://docs.spring.io/spring/docs/1.2.7/spring-reference.pdf  at 3.5. Abstract and child bean definitions","body":"Maybe it was not the best example to link the documentation for Spring 3 since I&#39;m using Spring 1.X but I think that there aren&#39;t that many changes to the basic usage of how Dipendency Injection works in Spring since the 1st version. This would be the same documentation from the version that I use <a href=\"https://docs.spring.io/spring/docs/1.2.7/spring-reference.pdf\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/1.2.7/spring-reference.pdf</a>  at 3.5. Abstract and child bean definitions"},{"owner":{"account_id":1752863,"reputation":763,"user_id":1601564,"accept_rate":67,"display_name":"Adrian Bob"},"score":0,"creation_date":1511980762,"post_id":47552091,"comment_id":82076820,"body_markdown":"It says in the above paragraph that parent beans used as abstract are not instantiated at all. But it doesn&#39;t say that parent beans cannot be abstract. \nAlso tried without the singleton tag and it runs the same. And in my usage context the beans have to not be singleton. \nRegarding the &quot;init-method&quot; from the example it should not be a problem since that is used only if you want to explicitly use a certain method for initialization, in case it&#39;s not provided the default constructor and setters are used to instantiate the bean.","body":"It says in the above paragraph that parent beans used as abstract are not instantiated at all. But it doesn&#39;t say that parent beans cannot be abstract.  Also tried without the singleton tag and it runs the same. And in my usage context the beans have to not be singleton.  Regarding the &quot;init-method&quot; from the example it should not be a problem since that is used only if you want to explicitly use a certain method for initialization, in case it&#39;s not provided the default constructor and setters are used to instantiate the bean."},{"owner":{"account_id":1752863,"reputation":763,"user_id":1601564,"accept_rate":67,"display_name":"Adrian Bob"},"score":0,"creation_date":1511984304,"post_id":47552091,"comment_id":82078697,"body_markdown":"https://www.concretepage.com/spring/spring-bean-definition-inheritance-example-using-annotation-and-xml-configuration-with-parent-and-template-with-abstract-attribute There are a lot of examples online which all follow this pattern .. I can&#39;t understand why I&#39;m having problems with it.","body":"<a href=\"https://www.concretepage.com/spring/spring-bean-definition-inheritance-example-using-annotation-and-xml-configuration-with-parent-and-template-with-abstract-attribute\" rel=\"nofollow noreferrer\">concretepage.com/spring/&hellip;</a> There are a lot of examples online which all follow this pattern .. I can&#39;t understand why I&#39;m having problems with it."},{"owner":{"account_id":1854518,"reputation":771,"user_id":1680403,"display_name":"Rainer"},"score":0,"creation_date":1512032903,"post_id":47552091,"comment_id":82096434,"body_markdown":"Hmmm that&#180;s really strange. Could you maybe create a little github project which I can check with my settings? Unfortunately I don&#180;t have the time right now to setup a little example...","body":"Hmmm that&#180;s really strange. Could you maybe create a little github project which I can check with my settings? Unfortunately I don&#180;t have the time right now to setup a little example..."},{"owner":{"account_id":8698672,"reputation":1814,"user_id":6509292,"display_name":"Johannes von Zmuda"},"score":0,"creation_date":1557305836,"post_id":47552091,"comment_id":98716352,"body_markdown":"I&#39;m having the same problem. However my parent classes are abstract.","body":"I&#39;m having the same problem. However my parent classes are abstract."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1682622635,"post_id":47552091,"comment_id":134249143,"body_markdown":"ChildClass does not extend ParentClass in your code.  I see no relationship between these two classes - no IS-A by inheritance, no HAS-A by composition.  Perhaps that is why Spring doesn&#39;t either.","body":"ChildClass does not extend ParentClass in your code.  I see no relationship between these two classes - no IS-A by inheritance, no HAS-A by composition.  Perhaps that is why Spring doesn&#39;t either."}],"owner":{"account_id":1752863,"reputation":763,"user_id":1601564,"accept_rate":67,"display_name":"Adrian Bob"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1323,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":0,"score":3,"last_activity_date":1682621423,"creation_date":1511956074,"question_id":47552091,"body_markdown":"I have this strange case that an inherited property is null when executing a method from the parent class using super() from the child class.\r\n\r\nHere are the 2 classes:\r\n\r\n    public class ParentClass {\r\n    \r\n        private String property;\r\n        \r\n        public void setProperty(String property) {\r\n            this.property = property;\r\n        }\r\n    \r\n        public String getProperty() {\r\n            return property;\r\n        }\r\n    \r\n        public void execute() {\r\n        // do something with property;\r\n        }\r\n    }\r\n\r\n    public class ChildClass {\r\n\r\n        @Override\r\n        public void execute() {\r\n            super.execute();\r\n\r\n            // do something else with property\r\n        }\r\n    }\r\n\r\nSpring application context:\r\n\r\n    &lt;bean id=&quot;parentClass&quot; class=&quot;com.ParentClass&quot; singleton=&quot;false&quot;&gt;\r\n        &lt;property name=&quot;property&quot; value=&quot;value&quot;/&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;childClass&quot; class=&quot;com.ChildClass&quot; parent=&quot;parentClass&quot; singleton=&quot;false&quot;&gt;\r\n    &lt;/bean&gt;\r\n\r\nWhen the execute method from ParentClass is called directly property has the value set accordingly. \r\n\r\nBut when the ChildClass&#39;s super.execute() calls the base implementation of execute() from ParentClass the property attribute is null and I cannot understand why. \r\n\r\n( It&#39;s a legacy project which is using Spring 1.2.7 but still Dependency Injection should work normally)","title":"Inherited property from parent spring bean has null value","body":"<p>I have this strange case that an inherited property is null when executing a method from the parent class using super() from the child class.</p>\n<p>Here are the 2 classes:</p>\n<pre><code>public class ParentClass {\n\n    private String property;\n    \n    public void setProperty(String property) {\n        this.property = property;\n    }\n\n    public String getProperty() {\n        return property;\n    }\n\n    public void execute() {\n    // do something with property;\n    }\n}\n\npublic class ChildClass {\n\n    @Override\n    public void execute() {\n        super.execute();\n\n        // do something else with property\n    }\n}\n</code></pre>\n<p>Spring application context:</p>\n<pre><code>&lt;bean id=&quot;parentClass&quot; class=&quot;com.ParentClass&quot; singleton=&quot;false&quot;&gt;\n    &lt;property name=&quot;property&quot; value=&quot;value&quot;/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=&quot;childClass&quot; class=&quot;com.ChildClass&quot; parent=&quot;parentClass&quot; singleton=&quot;false&quot;&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>When the execute method from ParentClass is called directly property has the value set accordingly.</p>\n<p>But when the ChildClass's super.execute() calls the base implementation of execute() from ParentClass the property attribute is null and I cannot understand why.</p>\n<p>( It's a legacy project which is using Spring 1.2.7 but still Dependency Injection should work normally)</p>\n"},{"tags":["java","thread-safety","wait","sleep"],"answers":[{"comments":[{"owner":{"account_id":5527385,"reputation":1611,"user_id":4388482,"accept_rate":69,"display_name":"nick"},"score":0,"creation_date":1682532906,"post_id":76113831,"comment_id":134232826,"body_markdown":"Check my edit. `retriesCounter` was initialized to 5 by mistake. `isJobDone` is initialized to `false` out of the method. Still, the issue remains. Using the debugger I noticed it&#39;s not the counter is not incremented properly","body":"Check my edit. <code>retriesCounter</code> was initialized to 5 by mistake. <code>isJobDone</code> is initialized to <code>false</code> out of the method. Still, the issue remains. Using the debugger I noticed it&#39;s not the counter is not incremented properly"},{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":1,"creation_date":1682534364,"post_id":76113831,"comment_id":134233081,"body_markdown":"if you add a print of retriesCounter  after the closing finally bracket you always see 0 ? And with a log inside the finally it doesn&#39;t show up ?","body":"if you add a print of retriesCounter  after the closing finally bracket you always see 0 ? And with a log inside the finally it doesn&#39;t show up ?"},{"owner":{"account_id":5527385,"reputation":1611,"user_id":4388482,"accept_rate":69,"display_name":"nick"},"score":0,"creation_date":1682546105,"post_id":76113831,"comment_id":134235223,"body_markdown":"Yes, exactly. That&#39;s what puzzles me","body":"Yes, exactly. That&#39;s what puzzles me"},{"owner":{"account_id":5527385,"reputation":1611,"user_id":4388482,"accept_rate":69,"display_name":"nick"},"score":0,"creation_date":1682591639,"post_id":76113831,"comment_id":134241560,"body_markdown":"Added some logs, and the counter gets incremented but never reaches 3 which is the threshold.","body":"Added some logs, and the counter gets incremented but never reaches 3 which is the threshold."}],"tags":[],"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682532574,"creation_date":1682532574,"answer_id":76113831,"question_id":76113778,"body_markdown":"You to initialize `isJobDone` to false, and change it to `true` if the job succeeds. Also you need to initialize `retriesCounter = 0` not `5`\r\n\r\n\r\n    public synchronized void initApplicationWithRetry() throws InterruptedException {\r\n        boolean isJobDone = false;\r\n        int retriesCounter = 0;\r\n        while (!isJobDone &amp;&amp; retriesCounter &lt; 3) {\r\n            try {\r\n                doJob();\r\n                isJobDone = true;\r\n            } catch (Exception e) {\r\n                //handle error\r\n            } finally {\r\n                ++retriesCounter; // For some reason it&#39;s not incremented\r\n            }\r\n            if (!isJobDone) {\r\n                wait(3000); //waits for 3 second\r\n            }\r\n        }\r\n        if (!isJobDone) {\r\n            throw new RuntimeException();\r\n        }\r\n    }\r\n","title":"How can I rerun a method until it succeeds?","body":"<p>You to initialize <code>isJobDone</code> to false, and change it to <code>true</code> if the job succeeds. Also you need to initialize <code>retriesCounter = 0</code> not <code>5</code></p>\n<pre><code>public synchronized void initApplicationWithRetry() throws InterruptedException {\n    boolean isJobDone = false;\n    int retriesCounter = 0;\n    while (!isJobDone &amp;&amp; retriesCounter &lt; 3) {\n        try {\n            doJob();\n            isJobDone = true;\n        } catch (Exception e) {\n            //handle error\n        } finally {\n            ++retriesCounter; // For some reason it's not incremented\n        }\n        if (!isJobDone) {\n            wait(3000); //waits for 3 second\n        }\n    }\n    if (!isJobDone) {\n        throw new RuntimeException();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5924321,"reputation":107,"user_id":4660721,"display_name":"Cristian A. Rodr&#237;guez Enr&#237;quez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682536543,"creation_date":1682536543,"answer_id":76114309,"question_id":76113778,"body_markdown":"Instead of use a loop, try with a TimerTask.\r\n\r\nTimerTask repeats executing the &quot;run&quot; method every &quot;waitTime&quot; milliseconds. You can specify when to stop repeating this task by calling &quot;timer.cancel()&quot;\r\n\r\n    public void initApplicationWithRetry() {\r\n        Timer timer = new Timer();\r\n\r\n        timer.schedule(new TimerTask() {\r\n            int counter = 0;\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    doJob();\r\n                    timer.cancel(); // runs when there is no exception\r\n                }\r\n                catch(Exception e) {\r\n                    // Handle error\r\n                }\r\n            }\r\n        }\r\n    }, 0, waitTime);\r\n\r\n**Note:** If you want to know how many retries has be done, just put a counter to the catch or finally block.","title":"How can I rerun a method until it succeeds?","body":"<p>Instead of use a loop, try with a TimerTask.</p>\n<p>TimerTask repeats executing the &quot;run&quot; method every &quot;waitTime&quot; milliseconds. You can specify when to stop repeating this task by calling &quot;timer.cancel()&quot;</p>\n<pre><code>public void initApplicationWithRetry() {\n    Timer timer = new Timer();\n\n    timer.schedule(new TimerTask() {\n        int counter = 0;\n        @Override\n        public void run() {\n            try {\n                doJob();\n                timer.cancel(); // runs when there is no exception\n            }\n            catch(Exception e) {\n                // Handle error\n            }\n        }\n    }\n}, 0, waitTime);\n</code></pre>\n<p><strong>Note:</strong> If you want to know how many retries has be done, just put a counter to the catch or finally block.</p>\n"},{"tags":[],"owner":{"account_id":5527385,"reputation":1611,"user_id":4388482,"accept_rate":69,"display_name":"nick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682617928,"creation_date":1682617928,"answer_id":76123336,"question_id":76113778,"body_markdown":"It appears that the RuntimeException is causing an issue with the loop termination condition.\r\n\r\nWhen the RuntimeException is thrown, it is not caught by the catch block in the loop, and instead propagates up the call stack until it is caught by the nearest catch block that can handle it. If there is no such block, the program terminates with an error.\r\n\r\nIn this case, the RuntimeException is not caught by the loop, and so the loop continues to run indefinitely.","title":"How can I rerun a method until it succeeds?","body":"<p>It appears that the RuntimeException is causing an issue with the loop termination condition.</p>\n<p>When the RuntimeException is thrown, it is not caught by the catch block in the loop, and instead propagates up the call stack until it is caught by the nearest catch block that can handle it. If there is no such block, the program terminates with an error.</p>\n<p>In this case, the RuntimeException is not caught by the loop, and so the loop continues to run indefinitely.</p>\n"}],"owner":{"account_id":5527385,"reputation":1611,"user_id":4388482,"accept_rate":69,"display_name":"nick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1682620964,"creation_date":1682532195,"question_id":76113778,"body_markdown":"I want to rerun a method until it succeeds. I would like to block the application until it succeeds.\r\n\r\nI&#39;m currently using this code\r\n\r\n    public synchronized void initApplicationWithRetry() throws InterruptedException {\r\n        int retriesCounter = 0;\r\n        while (!isJobDone &amp;&amp; retriesCounter &lt; 3) {\r\n            try {\r\n                doJob();\r\n            } catch (DummyException e) {\r\n                //handle error\r\n            } finally {\r\n                ++retriesCounter; // For some reason it&#39;s not incremented\r\n            }\r\n            if (isJobDone) {\r\n                return;\r\n            }\r\n            wait(3000); //waits for 3 second\r\n        }\r\n        if (!isJobDone) {\r\n            throw new RuntimeException();\r\n        }\r\n    }\r\n\r\nMy issue is `retriesCounter` doesn&#39;t seem to get incremented. Which is one of the termination conditions.\r\n\r\nAny suggestions?","title":"How can I rerun a method until it succeeds?","body":"<p>I want to rerun a method until it succeeds. I would like to block the application until it succeeds.</p>\n<p>I'm currently using this code</p>\n<pre><code>public synchronized void initApplicationWithRetry() throws InterruptedException {\n    int retriesCounter = 0;\n    while (!isJobDone &amp;&amp; retriesCounter &lt; 3) {\n        try {\n            doJob();\n        } catch (DummyException e) {\n            //handle error\n        } finally {\n            ++retriesCounter; // For some reason it's not incremented\n        }\n        if (isJobDone) {\n            return;\n        }\n        wait(3000); //waits for 3 second\n    }\n    if (!isJobDone) {\n        throw new RuntimeException();\n    }\n}\n</code></pre>\n<p>My issue is <code>retriesCounter</code> doesn't seem to get incremented. Which is one of the termination conditions.</p>\n<p>Any suggestions?</p>\n"},{"tags":["java","priority-queue"],"answers":[{"comments":[{"owner":{"account_id":17529,"reputation":153981,"user_id":39321,"accept_rate":80,"display_name":"Svish"},"score":10,"creation_date":1238010980,"post_id":683049,"comment_id":496639,"body_markdown":"Hmm... just noticed... priorityQueue.comparator() &quot;Returns the comparator used to order this collection, or null if this collection is sorted according to its elements natural ordering (using Comparable).&quot; Does that mean I could just implement Comparable on my class as well?","body":"Hmm... just noticed... priorityQueue.comparator() &quot;Returns the comparator used to order this collection, or null if this collection is sorted according to its elements natural ordering (using Comparable).&quot; Does that mean I could just implement Comparable on my class as well?"},{"owner":{"account_id":19554,"reputation":4343,"user_id":45912,"accept_rate":82,"display_name":"zpesk"},"score":0,"creation_date":1238012395,"post_id":683049,"comment_id":496741,"body_markdown":"Yes if you implement comparable in your class that would work as well","body":"Yes if you implement comparable in your class that would work as well"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":7,"creation_date":1238012403,"post_id":683049,"comment_id":496743,"body_markdown":"You could, yes. I wouldn&#39;t do so unless there&#39;s a single natural sort order for your class though. If there is, that&#39;s the right thing to do :)","body":"You could, yes. I wouldn&#39;t do so unless there&#39;s a single natural sort order for your class though. If there is, that&#39;s the right thing to do :)"},{"owner":{"account_id":237956,"reputation":2108,"user_id":506517,"accept_rate":94,"display_name":"Trevor Arjeski"},"score":0,"creation_date":1303058659,"post_id":683049,"comment_id":6505937,"body_markdown":"@Jon Skeet My PriorityQueue wont naturally sort when I implement Comparable to the object it contains.  I created a @Override compareTo method but it still refuses to sort when objects are added to it.  Any ideas?","body":"@Jon Skeet My PriorityQueue wont naturally sort when I implement Comparable to the object it contains.  I created a @Override compareTo method but it still refuses to sort when objects are added to it.  Any ideas?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1303059104,"post_id":683049,"comment_id":6506020,"body_markdown":"@Trevor: How are you trying to access the sorted list? Just iterating over the list won&#39;t do it, I believe. Using the code above (repeatedly removing) should work though. If not, please post a new question with a short but complete example.","body":"@Trevor: How are you trying to access the sorted list? Just iterating over the list won&#39;t do it, I believe. Using the code above (repeatedly removing) should work though. If not, please post a new question with a short but complete example."},{"owner":{"account_id":237956,"reputation":2108,"user_id":506517,"accept_rate":94,"display_name":"Trevor Arjeski"},"score":0,"creation_date":1303060324,"post_id":683049,"comment_id":6506184,"body_markdown":"@Jon thanks, here is a link to the question: http://stackoverflow.com/questions/5695017/priorityqueue-not-sorting-on-add","body":"@Jon thanks, here is a link to the question: <a href=\"http://stackoverflow.com/questions/5695017/priorityqueue-not-sorting-on-add\" title=\"priorityqueue not sorting on add\">stackoverflow.com/questions/5695017/&hellip;</a>"},{"owner":{"account_id":1483133,"reputation":3743,"user_id":1416629,"accept_rate":100,"display_name":"pratnala"},"score":0,"creation_date":1393850982,"post_id":683049,"comment_id":33606287,"body_markdown":"@JonSkeet Can we combine the 2 if&#39;s into an else if?","body":"@JonSkeet Can we combine the 2 if&#39;s into an else if?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1393851474,"post_id":683049,"comment_id":33606624,"body_markdown":"@pratnala: Sure, if you want to. Adding an `else` has no effect given that the branches `return` anyway.","body":"@pratnala: Sure, if you want to. Adding an <code>else</code> has no effect given that the branches <code>return</code> anyway."},{"owner":{"account_id":642230,"reputation":2339,"user_id":412549,"accept_rate":50,"display_name":"Franky"},"score":10,"creation_date":1399530292,"post_id":683049,"comment_id":36103297,"body_markdown":"Shouldn&#39;t the `compare` implementation just be `return x.length() - y.length()`? (Avoids branch prediction)","body":"Shouldn&#39;t the <code>compare</code> implementation just be <code>return x.length() - y.length()</code>? (Avoids branch prediction)"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":8,"creation_date":1399550402,"post_id":683049,"comment_id":36115501,"body_markdown":"@Franky: It could be, yes - although I&#39;d say that&#39;s *slightly* harder to understand, and the purpose of the answer is demonstrating how it works. I&#39;ll add a comment though.","body":"@Franky: It could be, yes - although I&#39;d say that&#39;s <i>slightly</i> harder to understand, and the purpose of the answer is demonstrating how it works. I&#39;ll add a comment though."},{"owner":{"account_id":172824,"reputation":429,"user_id":401095,"display_name":"Daddy32"},"score":0,"creation_date":1415716531,"post_id":683049,"comment_id":42293730,"body_markdown":"Also, priorityQueue does not allow null elements, so the comment about robustness in comparator is irrelevant, isn&#39;t it?","body":"Also, priorityQueue does not allow null elements, so the comment about robustness in comparator is irrelevant, isn&#39;t it?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1415716621,"post_id":683049,"comment_id":42293806,"body_markdown":"@Daddy32: Only if you&#39;re creating a comparator *just* for `PriorityQueue`.","body":"@Daddy32: Only if you&#39;re creating a comparator <i>just</i> for <code>PriorityQueue</code>."},{"owner":{"account_id":4641623,"reputation":8841,"user_id":3761297,"accept_rate":94,"display_name":"committedandroider"},"score":0,"creation_date":1425256823,"post_id":683049,"comment_id":45875945,"body_markdown":"Can you guys take a look at my use of a PriorityQueue in http://stackoverflow.com/questions/28800287/how-to-restore-the-priorityqueue-to-its-initial-state-before-the-method-call?noredirect=1#comment45875800_28800287 ?","body":"Can you guys take a look at my use of a PriorityQueue in <a href=\"http://stackoverflow.com/questions/28800287/how-to-restore-the-priorityqueue-to-its-initial-state-before-the-method-call?noredirect=1#comment45875800_28800287\" title=\"how to restore the priorityqueue to its initial state before the method call\">stackoverflow.com/questions/28800287/&hellip;</a> ?"},{"owner":{"account_id":3015230,"reputation":251,"user_id":3527349,"accept_rate":45,"display_name":"python3"},"score":0,"creation_date":1428260207,"post_id":683049,"comment_id":47085755,"body_markdown":"PriorityQueue&lt;String&gt; queue = \n            new PriorityQueue&lt;String&gt;(10, comparator);can you help me explain why we can write like this(10,comparator),what does it mean(10,comparator))?","body":"PriorityQueue&lt;String&gt; queue =              new PriorityQueue&lt;String&gt;(10, comparator);can you help me explain why we can write like this(10,comparator),what does it mean(10,comparator))?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1428262835,"post_id":683049,"comment_id":47086614,"body_markdown":"@tiandiao123: Did you read the documentation to try to find out?","body":"@tiandiao123: Did you read the documentation to try to find out?"},{"owner":{"account_id":2805582,"reputation":5186,"user_id":2412895,"accept_rate":47,"display_name":"KarelG"},"score":0,"creation_date":1428825886,"post_id":683049,"comment_id":47322202,"body_markdown":"@JonSkeet : Your example is useful, but a small remark; you have used `.remove()` method from the superclass to get+remove the element from the queue. However the class `PriorityQueue` offers a [`poll()`](http://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html#poll)-method which doesn&#39;t throw an exception if no element is found (returns with null instead). Should i use `poll()` or `remove()` ? Or does it matter of the implementation ?","body":"@JonSkeet : Your example is useful, but a small remark; you have used <code>.remove()</code> method from the superclass to get+remove the element from the queue. However the class <code>PriorityQueue</code> offers a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html#poll\" rel=\"nofollow noreferrer\"><code>poll()</code></a>-method which doesn&#39;t throw an exception if no element is found (returns with null instead). Should i use <code>poll()</code> or <code>remove()</code> ? Or does it matter of the implementation ?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1428837891,"post_id":683049,"comment_id":47325001,"body_markdown":"@KarelG: I don&#39;t *think* it matters too much, so long as you&#39;re aware of the differences. I think if you&#39;re using `add()` for the adding operation, then `remove()` feels sensible; if I were using `offer()` I&#39;d probably use `poll()`... but that&#39;s just a personal preference.","body":"@KarelG: I don&#39;t <i>think</i> it matters too much, so long as you&#39;re aware of the differences. I think if you&#39;re using <code>add()</code> for the adding operation, then <code>remove()</code> feels sensible; if I were using <code>offer()</code> I&#39;d probably use <code>poll()</code>... but that&#39;s just a personal preference."},{"owner":{"account_id":3358120,"reputation":169,"user_id":2820584,"accept_rate":100,"display_name":"Appalachian Math"},"score":0,"creation_date":1472770041,"post_id":683049,"comment_id":65898330,"body_markdown":"@JonSkeet      Hi, when I tried to implement your class, an error message poped because of the linke of  \n    Comparator&lt;String&gt; comparator = new StringLengthComparator();","body":"@JonSkeet      Hi, when I tried to implement your class, an error message poped because of the linke of       Comparator&lt;String&gt; comparator = new StringLengthComparator();"},{"owner":{"account_id":3358120,"reputation":169,"user_id":2820584,"accept_rate":100,"display_name":"Appalachian Math"},"score":0,"creation_date":1472770107,"post_id":683049,"comment_id":65898354,"body_markdown":"@JonSkeet   the error msg says No enclosing instance of type TestStringCom is accessible. Must qualify the allocation with an enclosing instance of type TestStringCom (e.g. x.new A() where x is an instance of TestStringCom).","body":"@JonSkeet   the error msg says No enclosing instance of type TestStringCom is accessible. Must qualify the allocation with an enclosing instance of type TestStringCom (e.g. x.new A() where x is an instance of TestStringCom)."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1472792837,"post_id":683049,"comment_id":65903482,"body_markdown":"@AppalachianMath: Then you&#39;re trying to use an inner class. My code doesn&#39;t do that.","body":"@AppalachianMath: Then you&#39;re trying to use an inner class. My code doesn&#39;t do that."},{"owner":{"account_id":3358120,"reputation":169,"user_id":2820584,"accept_rate":100,"display_name":"Appalachian Math"},"score":0,"creation_date":1472856734,"post_id":683049,"comment_id":65937188,"body_markdown":"@JonSkeet I found the solution. Your original code was wrong with the static identifier. You cannot compile it if you need to call other class. It works without static.","body":"@JonSkeet I found the solution. Your original code was wrong with the static identifier. You cannot compile it if you need to call other class. It works without static."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1472882658,"post_id":683049,"comment_id":65941140,"body_markdown":"@AppalachianMath: The code in my answer compiles fine as it is. I don&#39;t know what you mean by &quot;with the static identifier&quot; or &quot;you cannot compile it if you need to call other class&quot;, but it&#39;s fine. I&#39;ve just compiled it, just now, with simple copy/paste/compile.","body":"@AppalachianMath: The code in my answer compiles fine as it is. I don&#39;t know what you mean by &quot;with the static identifier&quot; or &quot;you cannot compile it if you need to call other class&quot;, but it&#39;s fine. I&#39;ve just compiled it, just now, with simple copy/paste/compile."},{"owner":{"account_id":2183431,"reputation":3745,"user_id":1932405,"accept_rate":96,"display_name":"Har"},"score":0,"creation_date":1479168801,"post_id":683049,"comment_id":68435545,"body_markdown":"@JonSkeet does the java queue support changing the contents of the queue without having to re-insert them into the queue? i.e. a = q.pop(); b = a.neighbours[0]; b.priority = 100 (where a and b are in the q) -- this is pseudocode not real java","body":"@JonSkeet does the java queue support changing the contents of the queue without having to re-insert them into the queue? i.e. a = q.pop(); b = a.neighbours[0]; b.priority = 100 (where a and b are in the q) -- this is pseudocode not real java"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1479194497,"post_id":683049,"comment_id":68443133,"body_markdown":"@Har: That&#39;s not changing the contents of the queue, because the contents of the queue is just a reference. You can change the data within an object that the contents of the queue refer to, yes. (Assuming the type allows you to, of course.) That&#39;s not queue-specific - that&#39;s just how reference types work.","body":"@Har: That&#39;s not changing the contents of the queue, because the contents of the queue is just a reference. You can change the data within an object that the contents of the queue refer to, yes. (Assuming the type allows you to, of course.) That&#39;s not queue-specific - that&#39;s just how reference types work."},{"owner":{"account_id":2183431,"reputation":3745,"user_id":1932405,"accept_rate":96,"display_name":"Har"},"score":0,"creation_date":1479204939,"post_id":683049,"comment_id":68448999,"body_markdown":"@JonSkeet it does not seem to work, if I change the data which the queue refers to, then the queue does not reorder the elements, is there a way to achieve this without having to remove and add them? i.e. if a with a value of 1 is put in the queue, if I change the value of a to be 90 then a will still be the item which is removed first. p.s. I am not using an integer I am actually using my own made up class with an integer in it.","body":"@JonSkeet it does not seem to work, if I change the data which the queue refers to, then the queue does not reorder the elements, is there a way to achieve this without having to remove and add them? i.e. if a with a value of 1 is put in the queue, if I change the value of a to be 90 then a will still be the item which is removed first. p.s. I am not using an integer I am actually using my own made up class with an integer in it."},{"owner":{"account_id":2183431,"reputation":3745,"user_id":1932405,"accept_rate":96,"display_name":"Har"},"score":0,"creation_date":1479205244,"post_id":683049,"comment_id":68449213,"body_markdown":"Okay I found a related question -- http://stackoverflow.com/questions/6952660/java-priority-queue-reordering-when-editing-elements which gives me an answer","body":"Okay I found a related question -- <a href=\"http://stackoverflow.com/questions/6952660/java-priority-queue-reordering-when-editing-elements\" title=\"java priority queue reordering when editing elements\">stackoverflow.com/questions/6952660/&hellip;</a> which gives me an answer"},{"owner":{"account_id":1827567,"reputation":1054,"user_id":1659875,"display_name":"spandey"},"score":0,"creation_date":1532329499,"post_id":683049,"comment_id":89914606,"body_markdown":"nice way of explanation!!","body":"nice way of explanation!!"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":27,"down_vote_count":0,"up_vote_count":486,"is_accepted":true,"score":486,"last_activity_date":1561346724,"creation_date":1238008848,"answer_id":683049,"question_id":683041,"body_markdown":"Use the constructor overload which takes a `Comparator&lt;? super E&gt; comparator` and pass in a comparator which compares in the appropriate way for your sort order. If you give an example of how you want to sort, we can provide some sample code to implement the comparator if you&#39;re not sure. (It&#39;s pretty straightforward though.)\n\nAs has been said elsewhere: `offer` and `add` are just different interface method implementations. In the JDK source I&#39;ve got, `add` calls `offer`. Although `add` and `offer` have *potentially* different behaviour in general due to the ability for `offer` to indicate that the value can&#39;t be added due to size limitations, this difference is irrelevant in `PriorityQueue` which is unbounded.\n\nHere&#39;s an example of a priority queue sorting by string length:\n\n    // Test.java\n    import java.util.Comparator;\n    import java.util.PriorityQueue;\n    \n    public class Test {\n        public static void main(String[] args) {\n            Comparator&lt;String&gt; comparator = new StringLengthComparator();\n            PriorityQueue&lt;String&gt; queue = new PriorityQueue&lt;String&gt;(10, comparator);\n            queue.add(&quot;short&quot;);\n            queue.add(&quot;very long indeed&quot;);\n            queue.add(&quot;medium&quot;);\n            while (queue.size() != 0) {\n                System.out.println(queue.remove());\n            }\n        }\n    }\n\n    // StringLengthComparator.java\n    import java.util.Comparator;\n    \n    public class StringLengthComparator implements Comparator&lt;String&gt; {\n        @Override\n        public int compare(String x, String y) {\n            // Assume neither string is null. Real code should\n            // probably be more robust\n            // You could also just return x.length() - y.length(),\n            // which would be more efficient.\n            if (x.length() &lt; y.length()) {\n                return -1;\n            }\n            if (x.length() &gt; y.length()) {\n                return 1;\n            }\n            return 0;\n        }\n    }\n\nHere is the output: \n\n&gt;short\n&gt;\n&gt;medium\n&gt;\n&gt;very long indeed\n\n\n","title":"How do I use a PriorityQueue?","body":"<p>Use the constructor overload which takes a <code>Comparator&lt;? super E&gt; comparator</code> and pass in a comparator which compares in the appropriate way for your sort order. If you give an example of how you want to sort, we can provide some sample code to implement the comparator if you're not sure. (It's pretty straightforward though.)</p>\n<p>As has been said elsewhere: <code>offer</code> and <code>add</code> are just different interface method implementations. In the JDK source I've got, <code>add</code> calls <code>offer</code>. Although <code>add</code> and <code>offer</code> have <em>potentially</em> different behaviour in general due to the ability for <code>offer</code> to indicate that the value can't be added due to size limitations, this difference is irrelevant in <code>PriorityQueue</code> which is unbounded.</p>\n<p>Here's an example of a priority queue sorting by string length:</p>\n<pre><code>// Test.java\nimport java.util.Comparator;\nimport java.util.PriorityQueue;\n\npublic class Test {\n    public static void main(String[] args) {\n        Comparator&lt;String&gt; comparator = new StringLengthComparator();\n        PriorityQueue&lt;String&gt; queue = new PriorityQueue&lt;String&gt;(10, comparator);\n        queue.add(&quot;short&quot;);\n        queue.add(&quot;very long indeed&quot;);\n        queue.add(&quot;medium&quot;);\n        while (queue.size() != 0) {\n            System.out.println(queue.remove());\n        }\n    }\n}\n\n// StringLengthComparator.java\nimport java.util.Comparator;\n\npublic class StringLengthComparator implements Comparator&lt;String&gt; {\n    @Override\n    public int compare(String x, String y) {\n        // Assume neither string is null. Real code should\n        // probably be more robust\n        // You could also just return x.length() - y.length(),\n        // which would be more efficient.\n        if (x.length() &lt; y.length()) {\n            return -1;\n        }\n        if (x.length() &gt; y.length()) {\n            return 1;\n        }\n        return 0;\n    }\n}\n</code></pre>\n<p>Here is the output:</p>\n<blockquote>\n<p>short</p>\n<p>medium</p>\n<p>very long indeed</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":18062,"reputation":2058,"user_id":41039,"display_name":"James"},"score":8,"creation_date":1238011130,"post_id":683129,"comment_id":496649,"body_markdown":"Specifically, add() throws an exception if capacity restrictions prevent the item from being added to the queue while offer returns false.  Since PriorityQueues do not have a maximum capacity, the difference is moot.","body":"Specifically, add() throws an exception if capacity restrictions prevent the item from being added to the queue while offer returns false.  Since PriorityQueues do not have a maximum capacity, the difference is moot."},{"owner":{"account_id":446804,"reputation":2381,"user_id":840077,"accept_rate":71,"display_name":"whitehat"},"score":0,"creation_date":1328162896,"post_id":683129,"comment_id":11441556,"body_markdown":"That is very clear distinction between add() and offer().. And add() was needed to be implemented anyway!","body":"That is very clear distinction between add() and offer().. And add() was needed to be implemented anyway!"}],"tags":[],"owner":{"account_id":30124,"reputation":1590,"user_id":81957,"display_name":"dragonfly"},"comment_count":2,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1238010216,"creation_date":1238010216,"answer_id":683129,"question_id":683041,"body_markdown":"Just pass appropriate [`Comparator`][1] to the [constructor][2]:\r\n\r\n    PriorityQueue(int initialCapacity, Comparator&lt;? super E&gt; comparator)\r\n\r\nThe only difference between [`offer`][3] and [`add`][4] is the interface they belong to. `offer` belongs to [`Queue&lt;E&gt;`][5], whereas `add` is originally seen in [`Collection&lt;E&gt;`][6] interface. Apart from that both methods do exactly the same thing - insert the specified element into priority queue.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/util/Comparator.html\r\n  [2]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/PriorityQueue.html#PriorityQueue(int,%20java.util.Comparator)\r\n  [3]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/PriorityQueue.html#offer(E)\r\n  [4]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/PriorityQueue.html#add(E)\r\n  [5]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/Queue.html\r\n  [6]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/Collection.html","title":"How do I use a PriorityQueue?","body":"<p>Just pass appropriate <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/Comparator.html\" rel=\"noreferrer\"><code>Comparator</code></a> to the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/PriorityQueue.html#PriorityQueue(int,%20java.util.Comparator)\" rel=\"noreferrer\">constructor</a>:</p>\n\n<pre><code>PriorityQueue(int initialCapacity, Comparator&lt;? super E&gt; comparator)\n</code></pre>\n\n<p>The only difference between <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/PriorityQueue.html#offer(E)\" rel=\"noreferrer\"><code>offer</code></a> and <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/PriorityQueue.html#add(E)\" rel=\"noreferrer\"><code>add</code></a> is the interface they belong to. <code>offer</code> belongs to <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Queue.html\" rel=\"noreferrer\"><code>Queue&lt;E&gt;</code></a>, whereas <code>add</code> is originally seen in <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Collection.html\" rel=\"noreferrer\"><code>Collection&lt;E&gt;</code></a> interface. Apart from that both methods do exactly the same thing - insert the specified element into priority queue.</p>\n"},{"tags":[],"owner":{"account_id":22197,"reputation":1331,"user_id":54519,"accept_rate":11,"display_name":"d1ck50n"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1291125111,"creation_date":1291125111,"answer_id":4314459,"question_id":683041,"body_markdown":"no different, as declare in javadoc:\r\n\r\n    public boolean add(E e) {\r\n        return offer(e);\r\n    }\r\n","title":"How do I use a PriorityQueue?","body":"<p>no different, as declare in javadoc:</p>\n\n<pre><code>public boolean add(E e) {\n    return offer(e);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13245,"reputation":5748,"user_id":26483,"display_name":"Peter"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1307621646,"creation_date":1294045012,"answer_id":4583178,"question_id":683041,"body_markdown":"from [Queue API][1]:\r\n\r\n&gt;The offer method inserts an element if possible, otherwise returning false. This differs from the Collection.add method, which can fail to add an element only by throwing an unchecked exception. The offer method is designed for use when failure is a normal, rather than exceptional occurrence, for example, in fixed-capacity (or &quot;bounded&quot;) queues. \r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Queue.html","title":"How do I use a PriorityQueue?","body":"<p>from <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Queue.html\" rel=\"noreferrer\">Queue API</a>:</p>\n\n<blockquote>\n  <p>The offer method inserts an element if possible, otherwise returning false. This differs from the Collection.add method, which can fail to add an element only by throwing an unchecked exception. The offer method is designed for use when failure is a normal, rather than exceptional occurrence, for example, in fixed-capacity (or \"bounded\") queues. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":695581,"reputation":31,"user_id":575096,"display_name":"joserey"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1295025819,"creation_date":1294966967,"answer_id":4687076,"question_id":683041,"body_markdown":"I was also wondering about print order.  Consider this case, for example:\r\n\r\nFor a priority queue:\r\n\r\n    PriorityQueue&lt;String&gt; pq3 = new PriorityQueue&lt;String&gt;();\r\n\r\nThis code:\r\n\r\n    pq3.offer(&quot;a&quot;);\r\n    pq3.offer(&quot;A&quot;);\r\n\r\nmay print differently than:\r\n\r\n    String[] sa = {&quot;a&quot;, &quot;A&quot;}; \r\n    for(String s : sa)   \r\n       pq3.offer(s);\r\n\r\nI found the answer from a discussion [on another forum][1], where a user said, &quot;the offer()/add() methods only insert the element into the queue. If you want a predictable order you should use peek/poll which return the head of the queue.&quot;\r\n\r\n\r\n  [1]: http://www.coderanch.com/t/514612/java-programmer-SCJP/certification/add-offer-method-PriorityQueue","title":"How do I use a PriorityQueue?","body":"<p>I was also wondering about print order.  Consider this case, for example:</p>\n\n<p>For a priority queue:</p>\n\n<pre><code>PriorityQueue&lt;String&gt; pq3 = new PriorityQueue&lt;String&gt;();\n</code></pre>\n\n<p>This code:</p>\n\n<pre><code>pq3.offer(\"a\");\npq3.offer(\"A\");\n</code></pre>\n\n<p>may print differently than:</p>\n\n<pre><code>String[] sa = {\"a\", \"A\"}; \nfor(String s : sa)   \n   pq3.offer(s);\n</code></pre>\n\n<p>I found the answer from a discussion <a href=\"http://www.coderanch.com/t/514612/java-programmer-SCJP/certification/add-offer-method-PriorityQueue\" rel=\"nofollow\">on another forum</a>, where a user said, \"the offer()/add() methods only insert the element into the queue. If you want a predictable order you should use peek/poll which return the head of the queue.\"</p>\n"},{"tags":[],"owner":{"account_id":4257011,"reputation":3241,"user_id":3482428,"accept_rate":100,"display_name":"Blueriver"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1397472139,"creation_date":1397472139,"answer_id":23058025,"question_id":683041,"body_markdown":"Just to answer the `add()` vs `offer()` question (since the other one is perfectly answered imo, and this might not be):\r\n\r\nAccording to [JavaDoc on interface Queue](http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html), &quot;The offer method inserts an element if possible, otherwise returning false. This differs from the Collection.add method, which can fail to add an element only by throwing an unchecked exception. The offer method is designed for use when failure is a normal, rather than exceptional occurrence, for example, in fixed-capacity (or &quot;bounded&quot;) queues.&quot;\r\n\r\nThat means if you can add the element (which should always be the case in a PriorityQueue), they work exactly the same. But if you can&#39;t add the element, `offer()` will give you a nice and pretty `false` return, while `add()` throws a nasty unchecked exception that you don&#39;t want in your code. If failure to add means code is working as intended and/or it is something you&#39;ll check normally, use `offer()`. If failure to add means something is broken, use `add()` and handle the resulting exception thrown according to [the Collection interface&#39;s specifications](http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html#add(E)).\r\n\r\nThey are both implemented this way to fullfill the contract on the Queue interface that specifies `offer()` fails by returning a `false` ([method preferred in capacity-restricted queues](http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html#offer(E))) and also maintain the contract on the Collection interface that [specifies `add()` always fails by throwing an exception](http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html#add(E)).\r\n\r\nAnyway, hope that clarifies at least that part of the question.","title":"How do I use a PriorityQueue?","body":"<p>Just to answer the <code>add()</code> vs <code>offer()</code> question (since the other one is perfectly answered imo, and this might not be):</p>\n\n<p>According to <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html\" rel=\"noreferrer\">JavaDoc on interface Queue</a>, \"The offer method inserts an element if possible, otherwise returning false. This differs from the Collection.add method, which can fail to add an element only by throwing an unchecked exception. The offer method is designed for use when failure is a normal, rather than exceptional occurrence, for example, in fixed-capacity (or \"bounded\") queues.\"</p>\n\n<p>That means if you can add the element (which should always be the case in a PriorityQueue), they work exactly the same. But if you can't add the element, <code>offer()</code> will give you a nice and pretty <code>false</code> return, while <code>add()</code> throws a nasty unchecked exception that you don't want in your code. If failure to add means code is working as intended and/or it is something you'll check normally, use <code>offer()</code>. If failure to add means something is broken, use <code>add()</code> and handle the resulting exception thrown according to <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html#add%28E%29\" rel=\"noreferrer\">the Collection interface's specifications</a>.</p>\n\n<p>They are both implemented this way to fullfill the contract on the Queue interface that specifies <code>offer()</code> fails by returning a <code>false</code> (<a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html#offer%28E%29\" rel=\"noreferrer\">method preferred in capacity-restricted queues</a>) and also maintain the contract on the Collection interface that <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html#add%28E%29\" rel=\"noreferrer\">specifies <code>add()</code> always fails by throwing an exception</a>.</p>\n\n<p>Anyway, hope that clarifies at least that part of the question.</p>\n"},{"comments":[{"owner":{"account_id":2928505,"reputation":2489,"user_id":2561119,"accept_rate":89,"display_name":"GabrielBB"},"score":2,"creation_date":1560385113,"post_id":40623276,"comment_id":99722346,"body_markdown":"The 8th version of Java was the best thing that ever happened to the language","body":"The 8th version of Java was the best thing that ever happened to the language"},{"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"score":1,"creation_date":1568367414,"post_id":40623276,"comment_id":102259798,"body_markdown":"Very nice explanation with lucid example.","body":"Very nice explanation with lucid example."}],"tags":[],"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"comment_count":2,"down_vote_count":0,"up_vote_count":102,"is_accepted":false,"score":102,"last_activity_date":1556517030,"creation_date":1479264568,"answer_id":40623276,"question_id":683041,"body_markdown":"Java 8 solution\r\n---------------\r\n\r\nWe can use `lambda expression` or `method reference` introduced in Java 8. In case we have some String values stored in the Priority Queue (having capacity 5) we can provide inline comparator (based on length of String) : \r\n\r\n**Using lambda expression**\r\n\r\n    PriorityQueue&lt;String&gt; pq=\r\n                        new PriorityQueue&lt;String&gt;(5,(a,b) -&gt; a.length() - b.length());\r\n\r\n**Using Method reference**\r\n\r\n    PriorityQueue&lt;String&gt; pq=\r\n                    new PriorityQueue&lt;String&gt;(5, Comparator.comparing(String::length));\r\n\r\nThen we can use any of them as:\r\n\r\n    public static void main(String[] args) {\r\n            PriorityQueue&lt;String&gt; pq=\r\n                    new PriorityQueue&lt;String&gt;(5, (a,b) -&gt; a.length() - b.length());\r\n           // or pq = new PriorityQueue&lt;String&gt;(5, Comparator.comparing(String::length));\r\n            pq.add(&quot;Apple&quot;);\r\n            pq.add(&quot;PineApple&quot;);\r\n            pq.add(&quot;Custard Apple&quot;);\r\n            while (pq.size() != 0)\r\n            {\r\n                System.out.println(pq.remove());\r\n            }\r\n        }\r\n\r\nThis will print:\r\n\r\n    Apple\r\n    PineApple\r\n    Custard Apple\r\n\r\nTo reverse the order (to change it to max-priority queue) simply change the order in inline comparator or use `reversed` as:\r\n\r\n    PriorityQueue&lt;String&gt; pq = new PriorityQueue&lt;String&gt;(5, \r\n                                 Comparator.comparing(String::length).reversed());\r\nWe can also use `Collections.reverseOrder`:\r\n\r\n    PriorityQueue&lt;Integer&gt; pqInt = new PriorityQueue&lt;&gt;(10, Collections.reverseOrder());\r\n    PriorityQueue&lt;String&gt; pq = new PriorityQueue&lt;String&gt;(5, \r\n                    Collections.reverseOrder(Comparator.comparing(String::length))\r\n\r\nSo we can see that `Collections.reverseOrder` is overloaded to take comparator which can be useful for custom objects. The `reversed` actually uses `Collections.reverseOrder`:\r\n\r\n    default Comparator&lt;T&gt; reversed() {\r\n        return Collections.reverseOrder(this);\r\n    }\r\n\r\noffer() vs add()\r\n----------------\r\n\r\nAs per the [doc][1] \r\n\r\n&gt; The offer method inserts an element if possible, otherwise returning\r\n&gt; false. This differs from the Collection.add method, which can fail to\r\n&gt; add an element only by throwing an unchecked exception. The offer\r\n&gt; method is designed for use when failure is a normal, rather than\r\n&gt; exceptional occurrence, for example, in fixed-capacity (or &quot;bounded&quot;)\r\n&gt; queues.\r\n\r\nWhen using a capacity-restricted queue, offer() is generally preferable to add(), which can fail to insert an element only by throwing an exception. And [PriorityQueue][2] is an unbounded priority queue based on a priority heap.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Queue.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/PriorityQueue.html\r\n\r\n\r\n\r\n","title":"How do I use a PriorityQueue?","body":"<h2>Java 8 solution</h2>\n\n<p>We can use <code>lambda expression</code> or <code>method reference</code> introduced in Java 8. In case we have some String values stored in the Priority Queue (having capacity 5) we can provide inline comparator (based on length of String) : </p>\n\n<p><strong>Using lambda expression</strong></p>\n\n<pre><code>PriorityQueue&lt;String&gt; pq=\n                    new PriorityQueue&lt;String&gt;(5,(a,b) -&gt; a.length() - b.length());\n</code></pre>\n\n<p><strong>Using Method reference</strong></p>\n\n<pre><code>PriorityQueue&lt;String&gt; pq=\n                new PriorityQueue&lt;String&gt;(5, Comparator.comparing(String::length));\n</code></pre>\n\n<p>Then we can use any of them as:</p>\n\n<pre><code>public static void main(String[] args) {\n        PriorityQueue&lt;String&gt; pq=\n                new PriorityQueue&lt;String&gt;(5, (a,b) -&gt; a.length() - b.length());\n       // or pq = new PriorityQueue&lt;String&gt;(5, Comparator.comparing(String::length));\n        pq.add(\"Apple\");\n        pq.add(\"PineApple\");\n        pq.add(\"Custard Apple\");\n        while (pq.size() != 0)\n        {\n            System.out.println(pq.remove());\n        }\n    }\n</code></pre>\n\n<p>This will print:</p>\n\n<pre><code>Apple\nPineApple\nCustard Apple\n</code></pre>\n\n<p>To reverse the order (to change it to max-priority queue) simply change the order in inline comparator or use <code>reversed</code> as:</p>\n\n<pre><code>PriorityQueue&lt;String&gt; pq = new PriorityQueue&lt;String&gt;(5, \n                             Comparator.comparing(String::length).reversed());\n</code></pre>\n\n<p>We can also use <code>Collections.reverseOrder</code>:</p>\n\n<pre><code>PriorityQueue&lt;Integer&gt; pqInt = new PriorityQueue&lt;&gt;(10, Collections.reverseOrder());\nPriorityQueue&lt;String&gt; pq = new PriorityQueue&lt;String&gt;(5, \n                Collections.reverseOrder(Comparator.comparing(String::length))\n</code></pre>\n\n<p>So we can see that <code>Collections.reverseOrder</code> is overloaded to take comparator which can be useful for custom objects. The <code>reversed</code> actually uses <code>Collections.reverseOrder</code>:</p>\n\n<pre><code>default Comparator&lt;T&gt; reversed() {\n    return Collections.reverseOrder(this);\n}\n</code></pre>\n\n<h2>offer() vs add()</h2>\n\n<p>As per the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Queue.html\" rel=\"noreferrer\">doc</a> </p>\n\n<blockquote>\n  <p>The offer method inserts an element if possible, otherwise returning\n  false. This differs from the Collection.add method, which can fail to\n  add an element only by throwing an unchecked exception. The offer\n  method is designed for use when failure is a normal, rather than\n  exceptional occurrence, for example, in fixed-capacity (or \"bounded\")\n  queues.</p>\n</blockquote>\n\n<p>When using a capacity-restricted queue, offer() is generally preferable to add(), which can fail to insert an element only by throwing an exception. And <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/PriorityQueue.html\" rel=\"noreferrer\">PriorityQueue</a> is an unbounded priority queue based on a priority heap.</p>\n"},{"tags":[],"owner":{"account_id":8161752,"reputation":5609,"user_id":6145568,"display_name":"devDeejay"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488929828,"creation_date":1488929828,"answer_id":42660390,"question_id":683041,"body_markdown":"*Priority Queue has some priority assigned to each element, The element with Highest priority appears at the Top Of Queue. Now, It depends on you how you want priority assigned to each of the elements. If you don&#39;t, the Java will do it the default way. The element with the least value is assigned the highest priority and thus is removed from the queue first. If there are several elements with the same highest priority, the tie is broken arbitrarily. You can also specify an ordering using Comparator in the constructor* `PriorityQueue(initialCapacity, comparator)`\r\n\r\n**Example Code:**\r\n\r\n\tPriorityQueue&lt;String&gt; queue1 = new PriorityQueue&lt;&gt;();\r\n\tqueue1.offer(&quot;Oklahoma&quot;);\r\n\tqueue1.offer(&quot;Indiana&quot;);\r\n\tqueue1.offer(&quot;Georgia&quot;);\r\n\tqueue1.offer(&quot;Texas&quot;);\r\n\tSystem.out.println(&quot;Priority queue using Comparable:&quot;);\r\n\twhile (queue1.size() &gt; 0) {\r\n\t\tSystem.out.print(queue1.remove() + &quot; &quot;);\r\n\t}\r\n\tPriorityQueue&lt;String&gt; queue2 = new PriorityQueue(4, Collections.reverseOrder());\r\n\tqueue2.offer(&quot;Oklahoma&quot;);\r\n\tqueue2.offer(&quot;Indiana&quot;);\r\n\tqueue2.offer(&quot;Georgia&quot;);\r\n\tqueue2.offer(&quot;Texas&quot;);\r\n\tSystem.out.println(&quot;\\nPriority queue using Comparator:&quot;);\r\n\twhile (queue2.size() &gt; 0) {\r\n\t\tSystem.out.print(queue2.remove() + &quot; &quot;);\r\n\t}\r\n\r\n**Output:**\r\n\r\n    Priority queue using Comparable:\r\n    Georgia Indiana Oklahoma Texas \r\n    Priority queue using Comparator:\r\n    Texas Oklahoma Indiana Georgia \r\n\r\nElse, You can also define Custom Comparator:\r\n\r\n    import java.util.Comparator;\r\n    \r\n    public class StringLengthComparator implements Comparator&lt;String&gt;\r\n    {\r\n        @Override\r\n        public int compare(String x, String y)\r\n        {\r\n        \t//Your Own Logic\r\n        }\r\n    }\r\n\r\n","title":"How do I use a PriorityQueue?","body":"<p><em>Priority Queue has some priority assigned to each element, The element with Highest priority appears at the Top Of Queue. Now, It depends on you how you want priority assigned to each of the elements. If you don't, the Java will do it the default way. The element with the least value is assigned the highest priority and thus is removed from the queue first. If there are several elements with the same highest priority, the tie is broken arbitrarily. You can also specify an ordering using Comparator in the constructor</em> <code>PriorityQueue(initialCapacity, comparator)</code></p>\n\n<p><strong>Example Code:</strong></p>\n\n<pre><code>PriorityQueue&lt;String&gt; queue1 = new PriorityQueue&lt;&gt;();\nqueue1.offer(\"Oklahoma\");\nqueue1.offer(\"Indiana\");\nqueue1.offer(\"Georgia\");\nqueue1.offer(\"Texas\");\nSystem.out.println(\"Priority queue using Comparable:\");\nwhile (queue1.size() &gt; 0) {\n    System.out.print(queue1.remove() + \" \");\n}\nPriorityQueue&lt;String&gt; queue2 = new PriorityQueue(4, Collections.reverseOrder());\nqueue2.offer(\"Oklahoma\");\nqueue2.offer(\"Indiana\");\nqueue2.offer(\"Georgia\");\nqueue2.offer(\"Texas\");\nSystem.out.println(\"\\nPriority queue using Comparator:\");\nwhile (queue2.size() &gt; 0) {\n    System.out.print(queue2.remove() + \" \");\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>Priority queue using Comparable:\nGeorgia Indiana Oklahoma Texas \nPriority queue using Comparator:\nTexas Oklahoma Indiana Georgia \n</code></pre>\n\n<p>Else, You can also define Custom Comparator:</p>\n\n<pre><code>import java.util.Comparator;\n\npublic class StringLengthComparator implements Comparator&lt;String&gt;\n{\n    @Override\n    public int compare(String x, String y)\n    {\n        //Your Own Logic\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":253764,"reputation":7391,"user_id":532685,"accept_rate":92,"display_name":"nycynik"},"score":1,"creation_date":1524359857,"post_id":42983164,"comment_id":86939494,"body_markdown":"what if they are equal.","body":"what if they are equal."}],"tags":[],"owner":{"account_id":9008999,"reputation":3612,"user_id":6714430,"display_name":"rashedcs"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1490291821,"creation_date":1490290598,"answer_id":42983164,"question_id":683041,"body_markdown":" **In here, We can define user defined comparator:**   \n     \n\n&gt;    Below code :\n\n \n    \n     import java.util.*;\n     import java.util.Collections;\n     import java.util.Comparator; \n\n\n     class Checker implements Comparator&lt;String&gt;\n     {\n        public int compare(String str1, String str2)\n        {\n            if (str1.length() &lt; str2.length()) return -1;\n            else                               return 1;\n        }\n     }\n\n\n    class Main\n    {  \n       public static void main(String args[])\n        {  \n          PriorityQueue&lt;String&gt; queue=new PriorityQueue&lt;String&gt;(5, new Checker());  \n          queue.add(&quot;india&quot;);  \n          queue.add(&quot;bangladesh&quot;);  \n          queue.add(&quot;pakistan&quot;);  \n     \n          while (queue.size() != 0)\n          {\n             System.out.printf(&quot;%s\\n&quot;,queue.remove());\n          }\n       }  \n    }  \n\n   \n\n&gt;  **Output :**                          \n&gt;\n&gt;        india                                               \n&gt;        pakistan                                         \n&gt;        bangladesh\n\n\n\n                                \n\n\n  \n\nDifference between the offer and add methods : [link][1]\n\n\n  [1]: http://www.interviewsansar.com/2015/05/22/which-method-will-you-prefer-between-add-and-offer-methods-to-add-elements-in-a-queue-and-why/","title":"How do I use a PriorityQueue?","body":"<p><strong>In here, We can define user defined comparator:</strong></p>\n<blockquote>\n<p>Below code :</p>\n</blockquote>\n<pre><code> import java.util.*;\n import java.util.Collections;\n import java.util.Comparator; \n\n\n class Checker implements Comparator&lt;String&gt;\n {\n    public int compare(String str1, String str2)\n    {\n        if (str1.length() &lt; str2.length()) return -1;\n        else                               return 1;\n    }\n }\n\n\nclass Main\n{  \n   public static void main(String args[])\n    {  \n      PriorityQueue&lt;String&gt; queue=new PriorityQueue&lt;String&gt;(5, new Checker());  \n      queue.add(&quot;india&quot;);  \n      queue.add(&quot;bangladesh&quot;);  \n      queue.add(&quot;pakistan&quot;);  \n \n      while (queue.size() != 0)\n      {\n         System.out.printf(&quot;%s\\n&quot;,queue.remove());\n      }\n   }  \n}  \n</code></pre>\n<blockquote>\n<p><strong>Output :</strong></p>\n<pre><code>   india                                               \n   pakistan                                         \n   bangladesh\n</code></pre>\n</blockquote>\n<p>Difference between the offer and add methods : <a href=\"http://www.interviewsansar.com/2015/05/22/which-method-will-you-prefer-between-add-and-offer-methods-to-add-elements-in-a-queue-and-why/\" rel=\"noreferrer\">link</a></p>\n"},{"tags":[],"owner":{"account_id":4911554,"reputation":13237,"user_id":3956731,"accept_rate":95,"display_name":"KayV"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500294861,"creation_date":1500294861,"answer_id":45144442,"question_id":683041,"body_markdown":"Here is the simple example which you can use for initial learning:\r\n\r\n    \r\n    import java.util.Comparator;\r\n    import java.util.PriorityQueue;\r\n    import java.util.Queue;\r\n    import java.util.Random;\r\n    \r\n    public class PQExample {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t//PriorityQueue with Comparator\r\n    \t\tQueue&lt;Customer&gt; cpq = new PriorityQueue&lt;&gt;(7, idComp);\r\n    \t\taddToQueue(cpq);\r\n    \t\tpollFromQueue(cpq);\r\n    \t}\r\n    \t\r\n    \tpublic static Comparator&lt;Customer&gt; idComp = new Comparator&lt;Customer&gt;(){\r\n    \r\n    \t\t@Override\r\n    \t\tpublic int compare(Customer o1, Customer o2) {\r\n    \t\t\treturn (int) (o1.getId() - o2.getId());\r\n    \t\t}\r\n    \t\t\r\n    \t};\r\n    \t\r\n    \t//utility method to add random data to Queue\r\n    \tprivate static void addToQueue(Queue&lt;Customer&gt; cq){\r\n    \t\tRandom rand = new Random();\r\n    \t\tfor(int i=0;i&lt;7;i++){\r\n    \t\t\tint id = rand.nextInt(100);\r\n    \t\t\tcq.add(new Customer(id, &quot;KV&quot;+id));\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t\r\n    \tprivate static void pollFromQueue(Queue&lt;Customer&gt; cq){\r\n    \t\twhile(true){\r\n    \t\t\tCustomer c = cq.poll();\r\n    \t\t\tif(c == null) break;\r\n    \t\t\tSystem.out.println(&quot;Customer Polled : &quot;+c.getId() + &quot; &quot;+ c.getName());\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How do I use a PriorityQueue?","body":"<p>Here is the simple example which you can use for initial learning:</p>\n\n<pre><code>import java.util.Comparator;\nimport java.util.PriorityQueue;\nimport java.util.Queue;\nimport java.util.Random;\n\npublic class PQExample {\n\n    public static void main(String[] args) {\n        //PriorityQueue with Comparator\n        Queue&lt;Customer&gt; cpq = new PriorityQueue&lt;&gt;(7, idComp);\n        addToQueue(cpq);\n        pollFromQueue(cpq);\n    }\n\n    public static Comparator&lt;Customer&gt; idComp = new Comparator&lt;Customer&gt;(){\n\n        @Override\n        public int compare(Customer o1, Customer o2) {\n            return (int) (o1.getId() - o2.getId());\n        }\n\n    };\n\n    //utility method to add random data to Queue\n    private static void addToQueue(Queue&lt;Customer&gt; cq){\n        Random rand = new Random();\n        for(int i=0;i&lt;7;i++){\n            int id = rand.nextInt(100);\n            cq.add(new Customer(id, \"KV\"+id));\n        }\n    }\n\n\n    private static void pollFromQueue(Queue&lt;Customer&gt; cq){\n        while(true){\n            Customer c = cq.poll();\n            if(c == null) break;\n            System.out.println(\"Customer Polled : \"+c.getId() + \" \"+ c.getName());\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1503517663,"creation_date":1503517663,"answer_id":45848178,"question_id":683041,"body_markdown":"As an alternative to using [`Comparator`](https://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html), you can also have the class you&#39;re using in your `PriorityQueue` **implement [`Comparable`](https://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html)** (and correspondingly override the `compareTo` method).\r\n\r\nNote that it&#39;s generally best to only use `Comparable` instead of `Comparator` if that ordering is the intuitive ordering of the object - if, for example, you have a use case to sort `Person` objects by age, it&#39;s probably best to just use `Comparator` instead.\r\n\r\n    import java.lang.Comparable;\r\n    import java.util.PriorityQueue;\r\n    \r\n    class Test\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            PriorityQueue&lt;MyClass&gt; queue = new PriorityQueue&lt;MyClass&gt;();\r\n            queue.add(new MyClass(2, &quot;short&quot;));\r\n            queue.add(new MyClass(2, &quot;very long indeed&quot;));\r\n            queue.add(new MyClass(1, &quot;medium&quot;));\r\n            queue.add(new MyClass(1, &quot;very long indeed&quot;));\r\n            queue.add(new MyClass(2, &quot;medium&quot;));\r\n            queue.add(new MyClass(1, &quot;short&quot;));\r\n            while (queue.size() != 0)\r\n                System.out.println(queue.remove());\r\n        }\r\n    }\r\n    \r\n&lt;!-- --&gt;\r\n\r\n    class MyClass implements Comparable&lt;MyClass&gt;\r\n    {\r\n        int sortFirst;\r\n        String sortByLength;\r\n    \t\r\n        public MyClass(int sortFirst, String sortByLength)\r\n        {\r\n            this.sortFirst = sortFirst;\r\n            this.sortByLength = sortByLength;\r\n        }\r\n    \t\r\n        @Override\r\n        public int compareTo(MyClass other)\r\n        {\r\n            if (sortFirst != other.sortFirst)\r\n                return Integer.compare(sortFirst, other.sortFirst);\r\n            else\r\n                return Integer.compare(sortByLength.length(), other.sortByLength.length());\r\n        }\r\n       \r\n        public String toString()\r\n        {\r\n            return sortFirst + &quot;, &quot; + sortByLength;\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    1, short\r\n    1, medium\r\n    1, very long indeed\r\n    2, short\r\n    2, medium\r\n    2, very long indeed\r\n","title":"How do I use a PriorityQueue?","body":"<p>As an alternative to using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a>, you can also have the class you're using in your <code>PriorityQueue</code> <strong>implement <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><code>Comparable</code></a></strong> (and correspondingly override the <code>compareTo</code> method).</p>\n\n<p>Note that it's generally best to only use <code>Comparable</code> instead of <code>Comparator</code> if that ordering is the intuitive ordering of the object - if, for example, you have a use case to sort <code>Person</code> objects by age, it's probably best to just use <code>Comparator</code> instead.</p>\n\n<pre><code>import java.lang.Comparable;\nimport java.util.PriorityQueue;\n\nclass Test\n{\n    public static void main(String[] args)\n    {\n        PriorityQueue&lt;MyClass&gt; queue = new PriorityQueue&lt;MyClass&gt;();\n        queue.add(new MyClass(2, \"short\"));\n        queue.add(new MyClass(2, \"very long indeed\"));\n        queue.add(new MyClass(1, \"medium\"));\n        queue.add(new MyClass(1, \"very long indeed\"));\n        queue.add(new MyClass(2, \"medium\"));\n        queue.add(new MyClass(1, \"short\"));\n        while (queue.size() != 0)\n            System.out.println(queue.remove());\n    }\n}\n</code></pre>\n\n\n\n<pre><code>class MyClass implements Comparable&lt;MyClass&gt;\n{\n    int sortFirst;\n    String sortByLength;\n\n    public MyClass(int sortFirst, String sortByLength)\n    {\n        this.sortFirst = sortFirst;\n        this.sortByLength = sortByLength;\n    }\n\n    @Override\n    public int compareTo(MyClass other)\n    {\n        if (sortFirst != other.sortFirst)\n            return Integer.compare(sortFirst, other.sortFirst);\n        else\n            return Integer.compare(sortByLength.length(), other.sortByLength.length());\n    }\n\n    public String toString()\n    {\n        return sortFirst + \", \" + sortByLength;\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>1, short\n1, medium\n1, very long indeed\n2, short\n2, medium\n2, very long indeed\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12090012,"reputation":149,"user_id":8836731,"accept_rate":75,"display_name":"Nicola Amadio"},"score":1,"creation_date":1604787341,"post_id":47419809,"comment_id":114454834,"body_markdown":"I think this is the best answer","body":"I think this is the best answer"}],"tags":[],"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1511888134,"creation_date":1511287555,"answer_id":47419809,"question_id":683041,"body_markdown":"Pass it a `Comparator`. Fill in your desired type in place of `T`\r\n\r\nUsing lambdas (Java 8+):\r\n\r\n    int initialCapacity = 10;\r\n    PriorityQueue&lt;T&gt; pq = new PriorityQueue&lt;&gt;(initialCapacity, (e1, e2) -&gt; { return e1.compareTo(e2); });\r\n\r\nClassic way, using anonymous class:\r\n\r\n    int initialCapacity = 10;\r\n\tPriorityQueue&lt;T&gt; pq = new PriorityQueue&lt;&gt;(initialCapacity, new Comparator&lt;T&gt; () {\r\n\t\r\n\t\t@Override\r\n\t\tpublic int compare(T e1, T e2) {\r\n\t\t\treturn e1.compareTo(e2);\r\n\t\t}\r\n\t\r\n\t});\r\n\r\nTo sort in reverse order, simply swap e1, e2.\r\n","title":"How do I use a PriorityQueue?","body":"<p>Pass it a <code>Comparator</code>. Fill in your desired type in place of <code>T</code></p>\n\n<p>Using lambdas (Java 8+):</p>\n\n<pre><code>int initialCapacity = 10;\nPriorityQueue&lt;T&gt; pq = new PriorityQueue&lt;&gt;(initialCapacity, (e1, e2) -&gt; { return e1.compareTo(e2); });\n</code></pre>\n\n<p>Classic way, using anonymous class:</p>\n\n<pre><code>int initialCapacity = 10;\nPriorityQueue&lt;T&gt; pq = new PriorityQueue&lt;&gt;(initialCapacity, new Comparator&lt;T&gt; () {\n\n    @Override\n    public int compare(T e1, T e2) {\n        return e1.compareTo(e2);\n    }\n\n});\n</code></pre>\n\n<p>To sort in reverse order, simply swap e1, e2.</p>\n"},{"tags":[],"owner":{"account_id":4228050,"reputation":1228,"user_id":3461120,"display_name":"prashant.kr.mod"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682620819,"creation_date":1682620819,"answer_id":76123673,"question_id":683041,"body_markdown":"    public class Graph {\r\n      public Set&lt;Node&gt; nodes = new HashSet&lt;Node&gt;();\r\n    }\r\n\r\n    public class Node {\r\n      \r\n      public String name;\r\n      public List&lt;Node&gt; shortestPath = new ArrayList&lt;Node&gt;();\r\n      Map&lt;Node, Integer&gt; adjMap = new HashMap&lt;Node, Integer&gt;();\r\n      public Integer weight = Integer.MAX_VALUE;\r\n    }\r\n\r\n    PriorityQueue&lt;Node&gt; unQueriedNodes =\r\n            new PriorityQueue&lt;Node&gt;(graph.nodes.size(), Comparator.comparingInt(o -&gt; o.weight));","title":"How do I use a PriorityQueue?","body":"<pre><code>public class Graph {\n  public Set&lt;Node&gt; nodes = new HashSet&lt;Node&gt;();\n}\n\npublic class Node {\n  \n  public String name;\n  public List&lt;Node&gt; shortestPath = new ArrayList&lt;Node&gt;();\n  Map&lt;Node, Integer&gt; adjMap = new HashMap&lt;Node, Integer&gt;();\n  public Integer weight = Integer.MAX_VALUE;\n}\n\nPriorityQueue&lt;Node&gt; unQueriedNodes =\n        new PriorityQueue&lt;Node&gt;(graph.nodes.size(), Comparator.comparingInt(o -&gt; o.weight));\n</code></pre>\n"}],"owner":{"account_id":17529,"reputation":153981,"user_id":39321,"accept_rate":80,"display_name":"Svish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":668314,"favorite_count":0,"down_vote_count":3,"up_vote_count":422,"accepted_answer_id":683049,"answer_count":13,"score":419,"last_activity_date":1682620819,"creation_date":1238008718,"question_id":683041,"body_markdown":"How do I get a [`PriorityQueue`][doc-pq] to sort on what I want it to sort on?\r\n\r\nAlso, is there a difference between the [`offer`][doc-pq-offer] and [`add`][doc-pq-add] methods?\r\n\r\n\r\n  [doc-pq]: https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html\r\n  [doc-pq-add]: https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html#add-E-\r\n  [doc-pq-offer]: https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html#offer-E-","title":"How do I use a PriorityQueue?","body":"<p>How do I get a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html\" rel=\"noreferrer\"><code>PriorityQueue</code></a> to sort on what I want it to sort on?</p>\n\n<p>Also, is there a difference between the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html#offer-E-\" rel=\"noreferrer\"><code>offer</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html#add-E-\" rel=\"noreferrer\"><code>add</code></a> methods?</p>\n"},{"tags":["java","intellij-idea","glassfish"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1682620283,"post_id":76123569,"comment_id":134248726,"body_markdown":"Check the server logs. See if you can start it from the command line. Try a clean server installation. Verify the port is detected correctly. If the server startup freezes, you can use `jstack` to get a thread dump and try to figure out what&#39;s causing the freeze.","body":"Check the server logs. See if you can start it from the command line. Try a clean server installation. Verify the port is detected correctly. If the server startup freezes, you can use <code>jstack</code> to get a thread dump and try to figure out what&#39;s causing the freeze."}],"owner":{"account_id":26686412,"reputation":41,"user_id":20295668,"display_name":"wonka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682619926,"creation_date":1682619926,"question_id":76123569,"body_markdown":"Glassfish seems not running. It stays like in first image below for a long time.\r\n\r\nWhy could this be happening?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1wwkl.png\r\n  [2]: https://i.stack.imgur.com/1esCR.png","title":"Glassfish doesn&#39;t open/debug project in Intellij Idea","body":"<p>Glassfish seems not running. It stays like in first image below for a long time.</p>\n<p>Why could this be happening?</p>\n<p><a href=\"https://i.stack.imgur.com/1wwkl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1wwkl.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/1esCR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1esCR.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","hibernate","jpa","persistent"],"comments":[{"owner":{"account_id":12797889,"reputation":1500,"user_id":9260161,"display_name":"Philip Wrage"},"score":0,"creation_date":1682615973,"post_id":76122995,"comment_id":134247769,"body_markdown":"What does your `Post` model class look like?","body":"What does your <code>Post</code> model class look like?"},{"owner":{"account_id":11081943,"reputation":127,"user_id":8136917,"display_name":"R&#244;mulo Borges"},"score":0,"creation_date":1682619582,"post_id":76122995,"comment_id":134248578,"body_markdown":"Added the class Pessoa to the question","body":"Added the class Pessoa to the question"},{"owner":{"account_id":2871379,"reputation":2214,"user_id":2464657,"accept_rate":100,"display_name":"Adam"},"score":0,"creation_date":1682646923,"post_id":76122995,"comment_id":134252331,"body_markdown":"Can you also post the test you are running? For something like this, its also nice to create [minimum reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Can you also post the test you are running? For something like this, its also nice to create <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimum reproducible example</a>."}],"owner":{"account_id":11081943,"reputation":127,"user_id":8136917,"display_name":"R&#244;mulo Borges"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682619527,"creation_date":1682614951,"question_id":76122995,"body_markdown":"I&#39;m trying to implement some event listeners in order to log the history of some entities in my java EE application. I followed all steps suggested by https://vladmihalcea.com/hibernate-event-listeners/ but couldn&#39;t manage it to work. \r\n\r\n**Update listener:**\r\n```java\r\npublic class HistoryUpdateEventListener implements PostUpdateEventListener {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\tprivate static final Logger LOGGER = LoggerFactory.getLogger( HistoryUpdateEventListener.class );\r\n\t\r\n\tpublic static final HistoryUpdateEventListener INSTANCE = new HistoryUpdateEventListener();\r\n\r\n\t@Override\r\n\tpublic void onPostUpdate( PostUpdateEvent event ) {\r\n\t\t// post update logic\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean requiresPostCommitHanding(EntityPersister persister) {\r\n\t\treturn false;\r\n\t}\r\n\r\n}\r\n```\r\n**Listener integrator:**\r\n```java\r\npublic class HistoryEventListenerIntegrator implements Integrator {\r\n\r\n\t@Override\r\n\tpublic void integrate( Metadata metadata, SessionFactoryImplementor sessionFactory, SessionFactoryServiceRegistry serviceRegistry ) {\r\n\t\tfinal EventListenerRegistry eventListenerRegistry = serviceRegistry.getService(EventListenerRegistry.class);\r\n\t\t\r\n\t\teventListenerRegistry.appendListeners(EventType.POST_UPDATE, HistoryUpdateEventListener.INSTANCE);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void disintegrate( SessionFactoryImplementor sessionFactory, SessionFactoryServiceRegistry serviceRegistry ) {\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\n**Persistence xml**\r\n```xml\r\n&lt;properties&gt;\r\n\t&lt;property name=&quot;hibernate.show_sql&quot; value=&quot;false&quot; /&gt;\r\n\t&lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQLDialect&quot; /&gt;\r\n    &lt;property name=&quot;hibernate.integrator_provider&quot; value=&quot;com.app.HistoryEventListenerIntegrator&quot; /&gt;\r\n    &lt;property name=&quot;hibernate.hbm2dll.extra_physical_table_types&quot; value=&quot;MATERIALIZED VIEW&quot;/&gt;\r\n    &lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;update&quot; /&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\n**Model class:**\r\n```java\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table( name = &quot;PESSOA&quot; )\r\npublic class Pessoa {\r\n\r\n\t@Id\r\n\t@GeneratedValue( strategy = GenerationType.AUTO )\r\n\t@Column( name = &quot;ID_PESSOA&quot; )\r\n\tprivate Long id;\r\n\r\n\t@Column( name = &quot;NOME&quot; )\r\n\tprivate String nome;\r\n\r\n\t@Column( name = &quot;NOME_SOCIAL&quot; )\r\n\tprivate String nomeSocial;\r\n\r\n\t@Column( name = &quot;CPF&quot; )\r\n\tprivate String cpf;\r\n\r\n}\r\n```\r\n\r\nI added several breakpoints and tested my application but the method onPostUpdate is never being called. My question is, am I missing any configuration?","title":"Hibernate PostUpdateEvent never being called","body":"<p>I'm trying to implement some event listeners in order to log the history of some entities in my java EE application. I followed all steps suggested by <a href=\"https://vladmihalcea.com/hibernate-event-listeners/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/hibernate-event-listeners/</a> but couldn't manage it to work.</p>\n<p><strong>Update listener:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HistoryUpdateEventListener implements PostUpdateEventListener {\n\n    private static final long serialVersionUID = 1L;\n\n    private static final Logger LOGGER = LoggerFactory.getLogger( HistoryUpdateEventListener.class );\n    \n    public static final HistoryUpdateEventListener INSTANCE = new HistoryUpdateEventListener();\n\n    @Override\n    public void onPostUpdate( PostUpdateEvent event ) {\n        // post update logic\n    }\n\n    @Override\n    public boolean requiresPostCommitHanding(EntityPersister persister) {\n        return false;\n    }\n\n}\n</code></pre>\n<p><strong>Listener integrator:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HistoryEventListenerIntegrator implements Integrator {\n\n    @Override\n    public void integrate( Metadata metadata, SessionFactoryImplementor sessionFactory, SessionFactoryServiceRegistry serviceRegistry ) {\n        final EventListenerRegistry eventListenerRegistry = serviceRegistry.getService(EventListenerRegistry.class);\n        \n        eventListenerRegistry.appendListeners(EventType.POST_UPDATE, HistoryUpdateEventListener.INSTANCE);\n    }\n\n    @Override\n    public void disintegrate( SessionFactoryImplementor sessionFactory, SessionFactoryServiceRegistry serviceRegistry ) {\n        \n    }\n\n}\n</code></pre>\n<p><strong>Persistence xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;false&quot; /&gt;\n    &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQLDialect&quot; /&gt;\n    &lt;property name=&quot;hibernate.integrator_provider&quot; value=&quot;com.app.HistoryEventListenerIntegrator&quot; /&gt;\n    &lt;property name=&quot;hibernate.hbm2dll.extra_physical_table_types&quot; value=&quot;MATERIALIZED VIEW&quot;/&gt;\n    &lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;update&quot; /&gt;\n&lt;/properties&gt;\n</code></pre>\n<p><strong>Model class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@Entity\n@Table( name = &quot;PESSOA&quot; )\npublic class Pessoa {\n\n    @Id\n    @GeneratedValue( strategy = GenerationType.AUTO )\n    @Column( name = &quot;ID_PESSOA&quot; )\n    private Long id;\n\n    @Column( name = &quot;NOME&quot; )\n    private String nome;\n\n    @Column( name = &quot;NOME_SOCIAL&quot; )\n    private String nomeSocial;\n\n    @Column( name = &quot;CPF&quot; )\n    private String cpf;\n\n}\n</code></pre>\n<p>I added several breakpoints and tested my application but the method onPostUpdate is never being called. My question is, am I missing any configuration?</p>\n"},{"tags":["java","json","arraylist","json-deserialization"],"comments":[{"owner":{"account_id":1022492,"reputation":1055,"user_id":1032484,"display_name":"andy"},"score":0,"creation_date":1682621753,"post_id":76123365,"comment_id":134248971,"body_markdown":"The structure you want to deserialize is placed in an object. So you must also define a class containing a property _private List&lt;Project&gt; projects;_  and deserialize to an object of that class.","body":"The structure you want to deserialize is placed in an object. So you must also define a class containing a property <i>private List&lt;Project&gt; projects;</i>  and deserialize to an object of that class."}],"owner":{"account_id":12556681,"reputation":1,"user_id":9136091,"display_name":"Eliya Harush"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682619499,"creation_date":1682618261,"question_id":76123365,"body_markdown":"I have this json\r\n\r\n```\r\n{\r\n  &quot;offset&quot;: 0,\r\n  &quot;limit&quot;: 250,\r\n  &quot;size&quot;: 1,\r\n  &quot;_links&quot;: {\r\n    &quot;next&quot;: null,\r\n    &quot;prev&quot;: null\r\n  },\r\n  &quot;projects&quot;: [\r\n    {\r\n      &quot;id&quot;: 1,\r\n      &quot;name&quot;: &quot;test&quot;,\r\n      &quot;announcement&quot;: null,\r\n      &quot;show_announcement&quot;: false,\r\n      &quot;is_completed&quot;: false,\r\n      &quot;completed_on&quot;: null,\r\n      &quot;suite_mode&quot;: 1,\r\n      &quot;default_role_id&quot;: null,\r\n      &quot;url&quot;: &quot;https://web.com/index.php?/projects/overview/1&quot;,\r\n      &quot;users&quot;: [],\r\n      &quot;groups&quot;: []\r\n    },\r\n    {\r\n      &quot;id&quot;: 2,\r\n      &quot;name&quot;: &quot;test2&quot;,\r\n      &quot;announcement&quot;: null,\r\n      &quot;show_announcement&quot;: false,\r\n      &quot;is_completed&quot;: false,\r\n      &quot;completed_on&quot;: null,\r\n      &quot;suite_mode&quot;: 1,\r\n      &quot;default_role_id&quot;: null,\r\n      &quot;url&quot;: &quot;https://web.com/index.php?/projects/overview/1&quot;,\r\n      &quot;users&quot;: [],\r\n      &quot;groups&quot;: []\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nThis is the **Project.java** model\r\n\r\n```\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class Project {\r\n\r\n    private int id;\r\n    private String name;\r\n    private String announcement;\r\n    private boolean is_completed;\r\n    private String completed_on;\r\n    private String url;\r\n    private boolean show_announcement;\r\n    private int suite_mode;\r\n    private String default_role_id;\r\n\r\n    public String getDefault_role_id() {\r\n        return default_role_id;\r\n    }\r\n\r\n    public void setDefault_role_id(String default_role_id) {\r\n        this.default_role_id = default_role_id;\r\n    }\r\n\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getAnnouncement() {\r\n        return announcement;\r\n    }\r\n\r\n    public void setAnnouncement(String announcement) {\r\n        this.announcement = announcement;\r\n    }\r\n\r\n    public boolean isIs_completed() {\r\n        return is_completed;\r\n    }\r\n\r\n    public void setIs_completed(boolean is_completed) {\r\n        this.is_completed = is_completed;\r\n    }\r\n\r\n    public String getCompleted_on() {\r\n        return completed_on;\r\n    }\r\n\r\n    public void setCompleted_on(String completed_on) {\r\n        this.completed_on = completed_on;\r\n    }\r\n\r\n    public String getUrl() {\r\n        return url;\r\n    }\r\n\r\n    public void setUrl(String url) {\r\n        this.url = url;\r\n    }\r\n\r\n    public boolean isShow_announcement() {\r\n        return show_announcement;\r\n    }\r\n\r\n    public void setShow_announcement(boolean show_announcement) {\r\n\r\n        this.show_announcement = show_announcement;\r\n    }\r\n\r\n    public int getSuite_mode() {\r\n        return suite_mode;\r\n    }\r\n\r\n    public void setSuite_mode(int suite_mode) {\r\n        this.suite_mode = suite_mode;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI&#39;m trying to deserialize from the given json only the &quot;projects&quot; to ArrayList&lt;Project&gt;\r\nusing this code.\r\n\r\n\r\n```\r\nString json = &quot;{&quot;offset&quot;:0,&quot;limit&quot;:250}&quot;; //for the example this is just part of the full json.\r\nObjectMapper mapper =  JsonUtils.getObjectMapper();\r\nJsonParser parser = factory.createParser(json);\r\nTypeReference&lt;ArrayList&lt;Project&gt;&gt; typeReference = new TypeReference&lt;ArrayList&lt;Project&gt;&gt;() {};\r\nArrayList&lt;Project&gt; projectList = mapper.reader().readValue(parser,typeReference);\r\n\r\n```\r\n\r\ntried also this line:\r\n\r\n```\r\nArrayList&lt;Project&gt; projectList = mapper.reader().forType(typeReference).readValue(json);\r\n```\r\n\r\n\r\n\r\nand getting this exception for both:\r\n\r\n```\r\ncom.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.util.ArrayList&lt;Project&gt;` from Object value (token `JsonToken.START_OBJECT`)\r\n\r\n```\r\n\r\n\r\nanyone can help me with this?\r\nMy goal is to extract only the projects from the root level, without using JsonNode.get(&quot;projects&quot;)\r\n","title":"Can not deserialize instance of java.util.ArrayList&lt;Project&gt; out of START_OBJECT token","body":"<p>I have this json</p>\n<pre><code>{\n  &quot;offset&quot;: 0,\n  &quot;limit&quot;: 250,\n  &quot;size&quot;: 1,\n  &quot;_links&quot;: {\n    &quot;next&quot;: null,\n    &quot;prev&quot;: null\n  },\n  &quot;projects&quot;: [\n    {\n      &quot;id&quot;: 1,\n      &quot;name&quot;: &quot;test&quot;,\n      &quot;announcement&quot;: null,\n      &quot;show_announcement&quot;: false,\n      &quot;is_completed&quot;: false,\n      &quot;completed_on&quot;: null,\n      &quot;suite_mode&quot;: 1,\n      &quot;default_role_id&quot;: null,\n      &quot;url&quot;: &quot;https://web.com/index.php?/projects/overview/1&quot;,\n      &quot;users&quot;: [],\n      &quot;groups&quot;: []\n    },\n    {\n      &quot;id&quot;: 2,\n      &quot;name&quot;: &quot;test2&quot;,\n      &quot;announcement&quot;: null,\n      &quot;show_announcement&quot;: false,\n      &quot;is_completed&quot;: false,\n      &quot;completed_on&quot;: null,\n      &quot;suite_mode&quot;: 1,\n      &quot;default_role_id&quot;: null,\n      &quot;url&quot;: &quot;https://web.com/index.php?/projects/overview/1&quot;,\n      &quot;users&quot;: [],\n      &quot;groups&quot;: []\n    }\n  ]\n}\n</code></pre>\n<p>This is the <strong>Project.java</strong> model</p>\n<pre><code>\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Project {\n\n    private int id;\n    private String name;\n    private String announcement;\n    private boolean is_completed;\n    private String completed_on;\n    private String url;\n    private boolean show_announcement;\n    private int suite_mode;\n    private String default_role_id;\n\n    public String getDefault_role_id() {\n        return default_role_id;\n    }\n\n    public void setDefault_role_id(String default_role_id) {\n        this.default_role_id = default_role_id;\n    }\n\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getAnnouncement() {\n        return announcement;\n    }\n\n    public void setAnnouncement(String announcement) {\n        this.announcement = announcement;\n    }\n\n    public boolean isIs_completed() {\n        return is_completed;\n    }\n\n    public void setIs_completed(boolean is_completed) {\n        this.is_completed = is_completed;\n    }\n\n    public String getCompleted_on() {\n        return completed_on;\n    }\n\n    public void setCompleted_on(String completed_on) {\n        this.completed_on = completed_on;\n    }\n\n    public String getUrl() {\n        return url;\n    }\n\n    public void setUrl(String url) {\n        this.url = url;\n    }\n\n    public boolean isShow_announcement() {\n        return show_announcement;\n    }\n\n    public void setShow_announcement(boolean show_announcement) {\n\n        this.show_announcement = show_announcement;\n    }\n\n    public int getSuite_mode() {\n        return suite_mode;\n    }\n\n    public void setSuite_mode(int suite_mode) {\n        this.suite_mode = suite_mode;\n    }\n}\n</code></pre>\n<p>I'm trying to deserialize from the given json only the &quot;projects&quot; to ArrayList\nusing this code.</p>\n<pre><code>String json = &quot;{&quot;offset&quot;:0,&quot;limit&quot;:250}&quot;; //for the example this is just part of the full json.\nObjectMapper mapper =  JsonUtils.getObjectMapper();\nJsonParser parser = factory.createParser(json);\nTypeReference&lt;ArrayList&lt;Project&gt;&gt; typeReference = new TypeReference&lt;ArrayList&lt;Project&gt;&gt;() {};\nArrayList&lt;Project&gt; projectList = mapper.reader().readValue(parser,typeReference);\n\n</code></pre>\n<p>tried also this line:</p>\n<pre><code>ArrayList&lt;Project&gt; projectList = mapper.reader().forType(typeReference).readValue(json);\n</code></pre>\n<p>and getting this exception for both:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.util.ArrayList&lt;Project&gt;` from Object value (token `JsonToken.START_OBJECT`)\n\n</code></pre>\n<p>anyone can help me with this?\nMy goal is to extract only the projects from the root level, without using JsonNode.get(&quot;projects&quot;)</p>\n"},{"tags":["java","jooq","jsonschema2pojo"],"comments":[{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1682602492,"post_id":76119036,"comment_id":134244250,"body_markdown":"What&#39;s the reason why you&#39;re using the Joda time library, when at the same time you&#39;re also using JSR 310 types?","body":"What&#39;s the reason why you&#39;re using the Joda time library, when at the same time you&#39;re also using JSR 310 types?"},{"owner":{"account_id":2611233,"reputation":53,"user_id":2261302,"display_name":"deniro.wang"},"score":0,"creation_date":1682609555,"post_id":76119036,"comment_id":134246146,"body_markdown":"I took over and maintained a project for a while. It ran very well with jOOQ and DateTime, and we had lots of functions to manipulate DateTime and strings. We received a new request regarding a JSON issue, so I used jsonschema2pojo. When you asked me, I suddenly realized that I had misunderstood and thought jOOQ could only work with DateTime. I changed &quot;&lt;userType&gt;org.joda.time.LocalDate&lt;/userType&gt;&quot; to &quot;&lt;userType&gt;java.time.Instant&lt;/userType&gt;&quot; and it ran smoothly.","body":"I took over and maintained a project for a while. It ran very well with jOOQ and DateTime, and we had lots of functions to manipulate DateTime and strings. We received a new request regarding a JSON issue, so I used jsonschema2pojo. When you asked me, I suddenly realized that I had misunderstood and thought jOOQ could only work with DateTime. I changed &quot;&lt;userType&gt;org.joda.time.LocalDate&lt;/userType&gt;&quot; to &quot;&lt;userType&gt;java.time.Instant&lt;/userType&gt;&quot; and it ran smoothly."},{"owner":{"account_id":2611233,"reputation":53,"user_id":2261302,"display_name":"deniro.wang"},"score":0,"creation_date":1682609991,"post_id":76119036,"comment_id":134246260,"body_markdown":"but, if I change jooq forcedType from DateTime to Instant, our original code must modify lots. so back to my question, can we have other solution?","body":"but, if I change jooq forcedType from DateTime to Instant, our original code must modify lots. so back to my question, can we have other solution?"}],"answers":[{"comments":[{"owner":{"account_id":2611233,"reputation":53,"user_id":2261302,"display_name":"deniro.wang"},"score":0,"creation_date":1682697112,"post_id":76123473,"comment_id":134261481,"body_markdown":"thank you very much, and thanks for very powerful jooq","body":"thank you very much, and thanks for very powerful jooq"}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682619224,"creation_date":1682619224,"answer_id":76123473,"question_id":76119036,"body_markdown":"### Register a global `ConverterProvider`\r\n\r\nFor the particular use-case you have here, you can implement a [`ConverterProvider`][1] that is able to convert between these two data types. `ConverterProvider` is an SPI that allows to override the default data type conversions between two data types, such as `DateTime` and `Instant`, in both directions.\r\n\r\nRoughly:\r\n\r\n```java\r\nclass MyConverterProvider implements ConverterProvider {\r\n    final ConverterProvider delegate = new DefaultConverterProvider();\r\n    \r\n    @Override\r\n    public &lt;T, U&gt; Converter&lt;T, U&gt; provide(Class&lt;T&gt; tType, Class&lt;U&gt; uType) {\r\n        if (tType == DateTime.class &amp;&amp; uType == Instant.class) {\r\n            return Converter.ofNullable(tType, uType,\r\n                t -&gt; (U) dateTimeToInstant((DateTime) t),\r\n                u -&gt; (T) instantToDateTime((Instant) u)\r\n            );\r\n        }\r\n        \r\n        // Delegate all other type pairs to jOOQ&#39;s default\r\n        else\r\n            return delegate.provide(tType, uType);\r\n    }\r\n}\r\n```\r\n\r\nYou then set that to your local or global `Configuration`:\r\n\r\n```java\r\nconfiguration.set(new MyConverterProvider());\r\n```\r\n\r\n### Using a local ad-hoc converter\r\n\r\nYou can always attach a local [ad-hoc converter][2] to a field, effectively chaining converters\r\n\r\n```java\r\nList &lt;JsonConnector&gt; list = ctx.select(\r\n    CONNECTOR.INT1,\r\n    CONNECTOR.STRING1,\r\n    CONNECTOR.STRING2,\r\n    CONNECTOR.STRING3,\r\n    CONNECTOR.STRING4,\r\n    CONNECTOR.JODA_TIME_DATETIME.convertFrom(d -&gt; dateTimeToInstant(d)))\r\n    .from(CONNECTOR)\r\n    .fetchInto(JsonConnector.class);\r\n```\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-execution/fetching/converter-provider/\r\n  [2]: https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/","title":"How can I map Jooq with field joda.time.DateTime to a Pojo with java.time.Instant","body":"<h3>Register a global <code>ConverterProvider</code></h3>\n<p>For the particular use-case you have here, you can implement a <a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/fetching/converter-provider/\" rel=\"nofollow noreferrer\"><code>ConverterProvider</code></a> that is able to convert between these two data types. <code>ConverterProvider</code> is an SPI that allows to override the default data type conversions between two data types, such as <code>DateTime</code> and <code>Instant</code>, in both directions.</p>\n<p>Roughly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyConverterProvider implements ConverterProvider {\n    final ConverterProvider delegate = new DefaultConverterProvider();\n    \n    @Override\n    public &lt;T, U&gt; Converter&lt;T, U&gt; provide(Class&lt;T&gt; tType, Class&lt;U&gt; uType) {\n        if (tType == DateTime.class &amp;&amp; uType == Instant.class) {\n            return Converter.ofNullable(tType, uType,\n                t -&gt; (U) dateTimeToInstant((DateTime) t),\n                u -&gt; (T) instantToDateTime((Instant) u)\n            );\n        }\n        \n        // Delegate all other type pairs to jOOQ's default\n        else\n            return delegate.provide(tType, uType);\n    }\n}\n</code></pre>\n<p>You then set that to your local or global <code>Configuration</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>configuration.set(new MyConverterProvider());\n</code></pre>\n<h3>Using a local ad-hoc converter</h3>\n<p>You can always attach a local <a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/\" rel=\"nofollow noreferrer\">ad-hoc converter</a> to a field, effectively chaining converters</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt;JsonConnector&gt; list = ctx.select(\n    CONNECTOR.INT1,\n    CONNECTOR.STRING1,\n    CONNECTOR.STRING2,\n    CONNECTOR.STRING3,\n    CONNECTOR.STRING4,\n    CONNECTOR.JODA_TIME_DATETIME.convertFrom(d -&gt; dateTimeToInstant(d)))\n    .from(CONNECTOR)\n    .fetchInto(JsonConnector.class);\n</code></pre>\n"}],"owner":{"account_id":2611233,"reputation":53,"user_id":2261302,"display_name":"deniro.wang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76123473,"answer_count":1,"score":2,"last_activity_date":1682619224,"creation_date":1682589062,"question_id":76119036,"body_markdown":"I have **jooq** create TableImpl&lt;Record&gt; POJO name CONNECTOR with variable **joda.time.DateTime**\r\n\r\nand **jsonschema2pojo** create POJO name JsonConnector with variable **java.time.Instant** \r\n\r\nhow to convert jooq select result fetch to jsonschema2pojo create obj \r\n\r\n&lt;!-- language: Java --&gt; \r\n\r\n    List &lt;JsonConnector&gt; list = ctx.select(\r\n        CONNECTOR.INT1,\r\n        CONNECTOR.STRING1,\r\n        CONNECTOR.STRING2,\r\n        CONNECTOR.STRING3,\r\n        CONNECTOR.STRING4,\r\n        CONNECTOR.JODA_TIME_DATETIME))\r\n        .from(CONNECTOR)\r\n        .fetchInto(JsonConnector.class);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**jooq** fetchInto jsonschema2pojo everything simple type convert is ok, but pojo type **org.joda.time.DateTime** to type **java.time.Instant**\r\n\r\nthat will throw exception\r\n*org.jooq.exception.MappingException: An error ocurred when mapping record to class JsonConnector* \r\n\r\n\r\nhow can I write function like \r\n`TableField&lt;ConnectorRecord, Instant&gt; convertDateTimeToInstant(TableField&lt;ConnectorRecord, DateTime&gt; datatimeField)`\r\nor something good method\r\n\r\nThanks","title":"How can I map Jooq with field joda.time.DateTime to a Pojo with java.time.Instant","body":"<p>I have <strong>jooq</strong> create TableImpl POJO name CONNECTOR with variable <strong>joda.time.DateTime</strong></p>\n<p>and <strong>jsonschema2pojo</strong> create POJO name JsonConnector with variable <strong>java.time.Instant</strong></p>\n<p>how to convert jooq select result fetch to jsonschema2pojo create obj</p>\n<pre><code>List &lt;JsonConnector&gt; list = ctx.select(\n    CONNECTOR.INT1,\n    CONNECTOR.STRING1,\n    CONNECTOR.STRING2,\n    CONNECTOR.STRING3,\n    CONNECTOR.STRING4,\n    CONNECTOR.JODA_TIME_DATETIME))\n    .from(CONNECTOR)\n    .fetchInto(JsonConnector.class);\n</code></pre>\n\n<p><strong>jooq</strong> fetchInto jsonschema2pojo everything simple type convert is ok, but pojo type <strong>org.joda.time.DateTime</strong> to type <strong>java.time.Instant</strong></p>\n<p>that will throw exception\n<em>org.jooq.exception.MappingException: An error ocurred when mapping record to class JsonConnector</em></p>\n<p>how can I write function like\n<code>TableField&lt;ConnectorRecord, Instant&gt; convertDateTimeToInstant(TableField&lt;ConnectorRecord, DateTime&gt; datatimeField)</code>\nor something good method</p>\n<p>Thanks</p>\n"},{"tags":["java","android","android-intent","textview","onclicklistener"],"comments":[{"owner":{"account_id":27829354,"reputation":186,"user_id":21248085,"display_name":"Shivrajsinh Sarvaiya"},"score":0,"creation_date":1682747177,"post_id":76119901,"comment_id":134267530,"body_markdown":"Could you show signUp and HomeScreen file.","body":"Could you show signUp and HomeScreen file."}],"owner":{"account_id":28433510,"reputation":1,"user_id":21753896,"display_name":"Ariex17"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682618985,"creation_date":1682595259,"question_id":76119901,"body_markdown":"For a better UI, I thought of using TextView in place of Button. When a TextView is clicked, the next page of the application should appear, in my case, it is the signup page(I want to go from login to signup page). I have defined setOnClickListener() in the Java file and then use the intent to go to another activity by clicking on that textView but, I don&#39;t know why when I click on the textView(Signup here) instead of taking me to the signup page, it goes to home page.\r\n\r\n[Here are the names of the file I am using](https://i.stack.imgur.com/ILPLO.png)\r\n\\*\\*\\* Here is my XML file for login\r\n\r\n***\r\n\r\n[Here is the image of the page I am creating](https://i.stack.imgur.com/bahhE.png)\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n        &lt;androidx.appcompat.widget.AppCompatButton\r\n            android:id=&quot;@+id/btnlg&quot;\r\n            android:layout_width=&quot;365dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:layout_marginTop=&quot;5dp&quot;\r\n            android:layout_marginBottom=&quot;5dp&quot;\r\n            android:background=&quot;@drawable/round_btn&quot;\r\n            android:requiresFadingEdge=&quot;horizontal&quot;\r\n            android:shadowRadius=&quot;@integer/material_motion_duration_short_1&quot;\r\n            android:text=&quot;@string/login&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            tools:ignore=&quot;DuplicateSpeakableTextCheck,TextContrastCheck,TextContrastCheck&quot; /&gt;\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/noAccount&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:gravity=&quot;center_horizontal&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;&gt;\r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;@string/don_t_have_an_account&quot;\r\n                android:textColor=&quot;#606060&quot;\r\n                android:textSize=&quot;18sp&quot;\r\n                android:layout_marginEnd=&quot;10dp&quot;\r\n                android:textAlignment=&quot;center&quot;\r\n                android:textStyle=&quot;bold&quot;/&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/SignUpLn&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;@string/sign_up_here&quot;\r\n                android:clickable=&quot;true&quot;\r\n                android:textColor=&quot;@color/blue&quot;\r\n                android:textSize=&quot;18sp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                tools:ignore=&quot;TextContrastCheck,TextContrastCheck&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/or&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;\r\n            android:textColor=&quot;#606060&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            android:layout_marginEnd=&quot;10dp&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            android:textStyle=&quot;bold&quot;/&gt;\r\n    \r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/image_btn_G&quot;\r\n            android:layout_width=&quot;365dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;10dp&quot;\r\n            android:background=&quot;@drawable/round_btn&quot;\r\n            tools:layout_editor_absoluteX=&quot;9dp&quot;\r\n            tools:layout_editor_absoluteY=&quot;26dp&quot;&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageG&quot;\r\n                android:layout_width=&quot;50dp&quot;\r\n                android:layout_height=&quot;50dp&quot;\r\n                android:layout_alignParentStart=&quot;true&quot;\r\n                android:layout_alignParentTop=&quot;true&quot;\r\n                android:layout_marginStart=&quot;10dp&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:layout_marginEnd=&quot;10dp&quot;\r\n                android:layout_marginBottom=&quot;10dp&quot;\r\n                android:src=&quot;@drawable/glogo&quot;\r\n                tools:ignore=&quot;ImageContrastCheck,ImageContrastCheck&quot;\r\n                android:contentDescription=&quot;@string/todo1&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_centerVertical=&quot;true&quot;\r\n                android:layout_marginStart=&quot;10dp&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:layout_marginEnd=&quot;10dp&quot;\r\n                android:layout_marginBottom=&quot;10dp&quot;\r\n                android:layout_toEndOf=&quot;@+id/imageG&quot;\r\n                android:fontFamily=&quot;sans-serif-smallcaps&quot;\r\n                android:paddingStart=&quot;20dp&quot;\r\n                android:paddingEnd=&quot;20dp&quot;\r\n                android:text=&quot;@string/sign_in_with_the_google&quot;\r\n                android:textAllCaps=&quot;false&quot;\r\n                android:textColor=&quot;#FFF&quot;\r\n                android:textSize=&quot;20sp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                tools:ignore=&quot;TextContrastCheck&quot; /&gt;\r\n    \r\n        &lt;/RelativeLayout&gt;\r\n    \r\n    \r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/image_btn_A&quot;\r\n            android:layout_width=&quot;365dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;10dp&quot;\r\n            android:background=&quot;@drawable/round_btn&quot;\r\n            tools:layout_editor_absoluteX=&quot;9dp&quot;\r\n            tools:layout_editor_absoluteY=&quot;26dp&quot;&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/apple_image&quot;\r\n                android:layout_alignParentStart=&quot;true&quot;\r\n                android:layout_alignParentTop=&quot;true&quot;\r\n                android:layout_width=&quot;50dp&quot;\r\n                android:layout_height=&quot;50dp&quot;\r\n                android:src=&quot;@drawable/applelogo&quot;\r\n                android:contentDescription=&quot;@string/todo3&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_centerVertical=&quot;true&quot;\r\n                android:layout_marginStart=&quot;10dp&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:layout_marginEnd=&quot;10dp&quot;\r\n                android:layout_marginBottom=&quot;10dp&quot;\r\n                android:layout_toEndOf=&quot;@+id/apple_image&quot;\r\n                android:fontFamily=&quot;sans-serif-smallcaps&quot;\r\n                android:paddingStart=&quot;20dp&quot;\r\n                android:paddingEnd=&quot;20dp&quot;\r\n                android:text=&quot;@string/sign_in_with_the_apple&quot;\r\n                android:textAllCaps=&quot;false&quot;\r\n                android:textColor=&quot;#FFF&quot;\r\n                android:textSize=&quot;20sp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                tools:ignore=&quot;TextContrastCheck,TextContrastCheck&quot; /&gt;\r\n        &lt;/RelativeLayout&gt;\r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/fb_image_btn&quot;\r\n            android:layout_width=&quot;365dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;10dp&quot;\r\n            android:background=&quot;@drawable/round_btn&quot;\r\n            tools:layout_editor_absoluteX=&quot;9dp&quot;\r\n            tools:layout_editor_absoluteY=&quot;26dp&quot;&gt;\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/fcimage&quot;\r\n                android:layout_width=&quot;50dp&quot;\r\n                android:layout_height=&quot;50dp&quot;\r\n                android:layout_alignParentStart=&quot;true&quot;\r\n                android:layout_alignParentTop=&quot;true&quot;\r\n                android:src=&quot;@drawable/facebook2&quot;\r\n                tools:ignore=&quot;ImageContrastCheck,ImageContrastCheck&quot;\r\n                android:contentDescription=&quot;@string/todo2&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_centerVertical=&quot;true&quot;\r\n                android:layout_marginStart=&quot;10dp&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:layout_marginEnd=&quot;10dp&quot;\r\n                android:layout_marginBottom=&quot;10dp&quot;\r\n                android:layout_toEndOf=&quot;@+id/fcimage&quot;\r\n                android:fontFamily=&quot;sans-serif-smallcaps&quot;\r\n                android:paddingStart=&quot;20dp&quot;\r\n                android:paddingEnd=&quot;20dp&quot;\r\n                android:text=&quot;@string/sign_in_with_the_facebook&quot;\r\n                android:textAllCaps=&quot;false&quot;\r\n                android:textColor=&quot;#FFF&quot;\r\n                android:textSize=&quot;20sp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                tools:ignore=&quot;TextContrastCheck,TextContrastCheck&quot; /&gt;\r\n        &lt;/RelativeLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n\\*\\*here is the java file for login\r\n\\*\\*\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_log_in);\r\n        SignUpLn = (TextView) findViewById(R.id.SignUpLn);\r\n        SignUpLn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent SignUpLn = new Intent(getApplicationContext(),signUp.class);\r\n                startActivity(SignUpLn);\r\n            }\r\n        });\r\n        btnlg = (Button) findViewById(R.id.btnlg);\r\n        btnlg.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent login = new Intent(getApplicationContext(),HomeScreen.class);\r\n                startActivity(login);\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n\r\n[enter image description here](https://i.stack.imgur.com/YnRPZ.png)","title":"onClickListener() is not working properly for textview","body":"<p>For a better UI, I thought of using TextView in place of Button. When a TextView is clicked, the next page of the application should appear, in my case, it is the signup page(I want to go from login to signup page). I have defined setOnClickListener() in the Java file and then use the intent to go to another activity by clicking on that textView but, I don't know why when I click on the textView(Signup here) instead of taking me to the signup page, it goes to home page.</p>\n<p><a href=\"https://i.stack.imgur.com/ILPLO.png\" rel=\"nofollow noreferrer\">Here are the names of the file I am using</a>\n*** Here is my XML file for login</p>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/bahhE.png\" rel=\"nofollow noreferrer\">Here is the image of the page I am creating</a></p>\n\n<pre><code>    &lt;androidx.appcompat.widget.AppCompatButton\n        android:id=&quot;@+id/btnlg&quot;\n        android:layout_width=&quot;365dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:layout_marginTop=&quot;5dp&quot;\n        android:layout_marginBottom=&quot;5dp&quot;\n        android:background=&quot;@drawable/round_btn&quot;\n        android:requiresFadingEdge=&quot;horizontal&quot;\n        android:shadowRadius=&quot;@integer/material_motion_duration_short_1&quot;\n        android:text=&quot;@string/login&quot;\n        android:textColor=&quot;@color/white&quot;\n        tools:ignore=&quot;DuplicateSpeakableTextCheck,TextContrastCheck,TextContrastCheck&quot; /&gt;\n    &lt;LinearLayout\n        android:id=&quot;@+id/noAccount&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:gravity=&quot;center_horizontal&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:layout_marginBottom=&quot;10dp&quot;&gt;\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/don_t_have_an_account&quot;\n            android:textColor=&quot;#606060&quot;\n            android:textSize=&quot;18sp&quot;\n            android:layout_marginEnd=&quot;10dp&quot;\n            android:textAlignment=&quot;center&quot;\n            android:textStyle=&quot;bold&quot;/&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/SignUpLn&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/sign_up_here&quot;\n            android:clickable=&quot;true&quot;\n            android:textColor=&quot;@color/blue&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textStyle=&quot;bold&quot;\n            tools:ignore=&quot;TextContrastCheck,TextContrastCheck&quot; /&gt;\n    &lt;/LinearLayout&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/or&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:layout_marginBottom=&quot;10dp&quot;\n        android:textColor=&quot;#606060&quot;\n        android:textSize=&quot;18sp&quot;\n        android:layout_marginEnd=&quot;10dp&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textStyle=&quot;bold&quot;/&gt;\n\n    &lt;RelativeLayout\n        android:id=&quot;@+id/image_btn_G&quot;\n        android:layout_width=&quot;365dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;10dp&quot;\n        android:background=&quot;@drawable/round_btn&quot;\n        tools:layout_editor_absoluteX=&quot;9dp&quot;\n        tools:layout_editor_absoluteY=&quot;26dp&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageG&quot;\n            android:layout_width=&quot;50dp&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:layout_alignParentStart=&quot;true&quot;\n            android:layout_alignParentTop=&quot;true&quot;\n            android:layout_marginStart=&quot;10dp&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:layout_marginEnd=&quot;10dp&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            android:src=&quot;@drawable/glogo&quot;\n            tools:ignore=&quot;ImageContrastCheck,ImageContrastCheck&quot;\n            android:contentDescription=&quot;@string/todo1&quot; /&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_centerVertical=&quot;true&quot;\n            android:layout_marginStart=&quot;10dp&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:layout_marginEnd=&quot;10dp&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            android:layout_toEndOf=&quot;@+id/imageG&quot;\n            android:fontFamily=&quot;sans-serif-smallcaps&quot;\n            android:paddingStart=&quot;20dp&quot;\n            android:paddingEnd=&quot;20dp&quot;\n            android:text=&quot;@string/sign_in_with_the_google&quot;\n            android:textAllCaps=&quot;false&quot;\n            android:textColor=&quot;#FFF&quot;\n            android:textSize=&quot;20sp&quot;\n            android:textStyle=&quot;bold&quot;\n            tools:ignore=&quot;TextContrastCheck&quot; /&gt;\n\n    &lt;/RelativeLayout&gt;\n\n\n    &lt;RelativeLayout\n        android:id=&quot;@+id/image_btn_A&quot;\n        android:layout_width=&quot;365dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;10dp&quot;\n        android:background=&quot;@drawable/round_btn&quot;\n        tools:layout_editor_absoluteX=&quot;9dp&quot;\n        tools:layout_editor_absoluteY=&quot;26dp&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/apple_image&quot;\n            android:layout_alignParentStart=&quot;true&quot;\n            android:layout_alignParentTop=&quot;true&quot;\n            android:layout_width=&quot;50dp&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:src=&quot;@drawable/applelogo&quot;\n            android:contentDescription=&quot;@string/todo3&quot; /&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_centerVertical=&quot;true&quot;\n            android:layout_marginStart=&quot;10dp&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:layout_marginEnd=&quot;10dp&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            android:layout_toEndOf=&quot;@+id/apple_image&quot;\n            android:fontFamily=&quot;sans-serif-smallcaps&quot;\n            android:paddingStart=&quot;20dp&quot;\n            android:paddingEnd=&quot;20dp&quot;\n            android:text=&quot;@string/sign_in_with_the_apple&quot;\n            android:textAllCaps=&quot;false&quot;\n            android:textColor=&quot;#FFF&quot;\n            android:textSize=&quot;20sp&quot;\n            android:textStyle=&quot;bold&quot;\n            tools:ignore=&quot;TextContrastCheck,TextContrastCheck&quot; /&gt;\n    &lt;/RelativeLayout&gt;\n    &lt;RelativeLayout\n        android:id=&quot;@+id/fb_image_btn&quot;\n        android:layout_width=&quot;365dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;10dp&quot;\n        android:background=&quot;@drawable/round_btn&quot;\n        tools:layout_editor_absoluteX=&quot;9dp&quot;\n        tools:layout_editor_absoluteY=&quot;26dp&quot;&gt;\n        &lt;ImageView\n            android:id=&quot;@+id/fcimage&quot;\n            android:layout_width=&quot;50dp&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:layout_alignParentStart=&quot;true&quot;\n            android:layout_alignParentTop=&quot;true&quot;\n            android:src=&quot;@drawable/facebook2&quot;\n            tools:ignore=&quot;ImageContrastCheck,ImageContrastCheck&quot;\n            android:contentDescription=&quot;@string/todo2&quot; /&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_centerVertical=&quot;true&quot;\n            android:layout_marginStart=&quot;10dp&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:layout_marginEnd=&quot;10dp&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            android:layout_toEndOf=&quot;@+id/fcimage&quot;\n            android:fontFamily=&quot;sans-serif-smallcaps&quot;\n            android:paddingStart=&quot;20dp&quot;\n            android:paddingEnd=&quot;20dp&quot;\n            android:text=&quot;@string/sign_in_with_the_facebook&quot;\n            android:textAllCaps=&quot;false&quot;\n            android:textColor=&quot;#FFF&quot;\n            android:textSize=&quot;20sp&quot;\n            android:textStyle=&quot;bold&quot;\n            tools:ignore=&quot;TextContrastCheck,TextContrastCheck&quot; /&gt;\n    &lt;/RelativeLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>**here is the java file for login\n**</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_log_in);\n    SignUpLn = (TextView) findViewById(R.id.SignUpLn);\n    SignUpLn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent SignUpLn = new Intent(getApplicationContext(),signUp.class);\n            startActivity(SignUpLn);\n        }\n    });\n    btnlg = (Button) findViewById(R.id.btnlg);\n    btnlg.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent login = new Intent(getApplicationContext(),HomeScreen.class);\n            startActivity(login);\n        }\n    });\n}\n</code></pre>\n<p>}</p>\n<p><a href=\"https://i.stack.imgur.com/YnRPZ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","android-studio","compiler-errors","radiance-flamingo"],"comments":[{"owner":{"account_id":16801616,"reputation":544,"user_id":12936324,"display_name":"Jayesh Dankhara"},"score":0,"creation_date":1682061612,"post_id":76035561,"comment_id":134159440,"body_markdown":"check my answer it is working for me https://stackoverflow.com/a/76070809/12936324","body":"check my answer it is working for me <a href=\"https://stackoverflow.com/a/76070809/12936324\">stackoverflow.com/a/76070809/12936324</a>"},{"owner":{"account_id":16096969,"reputation":73,"user_id":11618882,"display_name":"Seyf"},"score":0,"creation_date":1682349489,"post_id":76035561,"comment_id":134197205,"body_markdown":"Thanks for the answer but I&#39;m getting this error:\nMinimum supported Gradle version is 7.5. Current version is 7.2.","body":"Thanks for the answer but I&#39;m getting this error: Minimum supported Gradle version is 7.5. Current version is 7.2."},{"owner":{"account_id":1538854,"reputation":2034,"user_id":1434047,"display_name":"Bink"},"score":0,"creation_date":1684429204,"post_id":76035561,"comment_id":134519649,"body_markdown":"Does this answer your question? [Android AGP 8 + Gradle 8 + Kotlin 1.8 causes error in Kapt](https://stackoverflow.com/questions/76030538/android-agp-8-gradle-8-kotlin-1-8-causes-error-in-kapt)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/76030538/android-agp-8-gradle-8-kotlin-1-8-causes-error-in-kapt\">Android AGP 8 + Gradle 8 + Kotlin 1.8 causes error in Kapt</a>"}],"answers":[{"comments":[{"owner":{"account_id":16096969,"reputation":73,"user_id":11618882,"display_name":"Seyf"},"score":1,"creation_date":1681829320,"post_id":76045541,"comment_id":134117919,"body_markdown":"First of all thanks for your answer.\n\nGradle JDK:11, I&#39;m sure of it.\n\nFor AGP:\nYesterday I saw that it says we need to use Embedded JDK on its official site and I tried it but it didn&#39;t work.\nAs you said, I downgraded to the previous version as plugin:7.4.2, library:7.5.1, but no solution.\n\nThere&#39;s also this error:\nCaused by: org.gradle.api.InvalidUserDataException: Cannot add a configuration with name &#39;androidJdkImage&#39; as a configuration with that name already exists.","body":"First of all thanks for your answer.  Gradle JDK:11, I&#39;m sure of it.  For AGP: Yesterday I saw that it says we need to use Embedded JDK on its official site and I tried it but it didn&#39;t work. As you said, I downgraded to the previous version as plugin:7.4.2, library:7.5.1, but no solution.  There&#39;s also this error: Caused by: org.gradle.api.InvalidUserDataException: Cannot add a configuration with name &#39;androidJdkImage&#39; as a configuration with that name already exists."}],"tags":[],"owner":{"account_id":1891831,"reputation":543,"user_id":2871521,"display_name":"krs"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1681826470,"creation_date":1681826470,"answer_id":76045541,"question_id":76035561,"body_markdown":"For now the only way how to get your project buildable is to make sure to use Java 11.\r\n\r\n 1. In Android Studio go to `Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle`\r\n 2. `Gradle JDK` - make sure you have selected Java 11\r\n 3. In case it did not help, do not change the setting, rather try &quot;Invalidate Caches...&quot; with option to restart Android Studio and see if that helps.\r\n\r\nAlso I would suggest to downgrade AGP back to 7.4. I know that this does not bring all the features and fixes on board, but as you said, there are few info out there about what we can do, now.\r\nOn the other hand, author of Butterknife [claims][1] that he will manage &quot;critical bug fixes for integration with AGP&quot;:\r\n[![enter image description here][2]][2]\r\n\r\nAlso make sure that you have configure your `build.gradle` file to use Java 11:\r\n\r\n    compileOptions {\r\n        sourceCompatibility = &quot;11&quot;\r\n        targetCompatibility = &quot;11&quot;\r\n    }\r\n\r\n\r\n  [1]: https://github.com/JakeWharton/butterknife\r\n  [2]: https://i.stack.imgur.com/CU1M3.png","title":"&#39;compileDebugJavaWithJavac&#39; error with Android Studio Flamingo","body":"<p>For now the only way how to get your project buildable is to make sure to use Java 11.</p>\n<ol>\n<li>In Android Studio go to <code>Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle</code></li>\n<li><code>Gradle JDK</code> - make sure you have selected Java 11</li>\n<li>In case it did not help, do not change the setting, rather try &quot;Invalidate Caches...&quot; with option to restart Android Studio and see if that helps.</li>\n</ol>\n<p>Also I would suggest to downgrade AGP back to 7.4. I know that this does not bring all the features and fixes on board, but as you said, there are few info out there about what we can do, now.\nOn the other hand, author of Butterknife <a href=\"https://github.com/JakeWharton/butterknife\" rel=\"nofollow noreferrer\">claims</a> that he will manage &quot;critical bug fixes for integration with AGP&quot;:\n<a href=\"https://i.stack.imgur.com/CU1M3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CU1M3.png\" alt=\"enter image description here\" /></a></p>\n<p>Also make sure that you have configure your <code>build.gradle</code> file to use Java 11:</p>\n<pre><code>compileOptions {\n    sourceCompatibility = &quot;11&quot;\n    targetCompatibility = &quot;11&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16096969,"reputation":73,"user_id":11618882,"display_name":"Seyf"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682618783,"creation_date":1682618783,"answer_id":76123430,"question_id":76035561,"body_markdown":"I solved the problem by reverting to the old version as follows.\r\nFirst of all, I downloaded and installed the Electric Eel version. (Official archive site to download old versions: [**CLICK**][1])\r\n\r\nI then changed the content of **gradle-wrapper.properties** to:\r\n\r\n   \r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-8.0.1-bin.zip\r\n    distributionPath=wrapper/dists\r\n    zipStorePath=wrapper/dists\r\n    zipStoreBase=GRADLE_USER_HOME\r\n\r\nThen I set the **Gradle JDK** with the steps &quot;**File &gt; Build, Execution, Deploymend &gt; Gradle**&quot; as follows: **jbr-11** *(Jetbrains Runtime version 11.0.5...)*\r\n\r\nI then followed these steps: &quot;**File &gt; Project Structure**&quot;\r\nAnd\r\nAndroid Gradle Plugin Version: **7.4.2**\r\nGradle Version: **8.0.1**\r\n\r\nRight now at least I&#39;m able to compile and run my project.\r\nThanks to everyone who tried to help.\r\n\r\n\r\n  [1]: https://developer.android.com/studio/archive","title":"&#39;compileDebugJavaWithJavac&#39; error with Android Studio Flamingo","body":"<p>I solved the problem by reverting to the old version as follows.\nFirst of all, I downloaded and installed the Electric Eel version. (Official archive site to download old versions: <a href=\"https://developer.android.com/studio/archive\" rel=\"nofollow noreferrer\"><strong>CLICK</strong></a>)</p>\n<p>I then changed the content of <strong>gradle-wrapper.properties</strong> to:</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-8.0.1-bin.zip\ndistributionPath=wrapper/dists\nzipStorePath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\n</code></pre>\n<p>Then I set the <strong>Gradle JDK</strong> with the steps &quot;<strong>File &gt; Build, Execution, Deploymend &gt; Gradle</strong>&quot; as follows: <strong>jbr-11</strong> <em>(Jetbrains Runtime version 11.0.5...)</em></p>\n<p>I then followed these steps: &quot;<strong>File &gt; Project Structure</strong>&quot;\nAnd\nAndroid Gradle Plugin Version: <strong>7.4.2</strong>\nGradle Version: <strong>8.0.1</strong></p>\n<p>Right now at least I'm able to compile and run my project.\nThanks to everyone who tried to help.</p>\n"}],"owner":{"account_id":16096969,"reputation":73,"user_id":11618882,"display_name":"Seyf"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2648,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76123430,"answer_count":2,"score":2,"last_activity_date":1682618783,"creation_date":1681737195,"question_id":76035561,"body_markdown":"When I updated Android Studio to Flamingo version, Gradle suggested the upgrade and I upgraded with AGP from 7.4 to 8.0. I was never able to debug after this upgrade, and as a result of my research, I could not come to a conclusion. If there is any information I have given missing for the problem, if you specify, I can make additions. I&#39;m sharing my gradle module app codes because I think the problem stems from here.\r\n\r\nMy build.gradle(app):\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;kotlin-android&#39;\r\n    \r\n    android {\r\n        useLibrary &#39;org.apache.http.legacy&#39;\r\n        compileSdkVersion 33\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.packagename&quot;\r\n            multiDexEnabled true\r\n            minSdkVersion 22\r\n            targetSdkVersion 33\r\n            versionCode 15\r\n            versionName &quot;1.4&quot;\r\n    \r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled true\r\n    \r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    \r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_11\r\n            targetCompatibility JavaVersion.VERSION_11\r\n        }\r\n        kotlinOptions {\r\n            jvmTarget = &#39;11&#39;\r\n        }\r\n        namespace &#39;com.example.packagename&#39;\r\n    \r\n    }\r\n\r\n\r\n\r\nError:\r\n\r\n    Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n    &gt; superclass access check failed: class butterknife.compiler.ButterKnifeProcessor$RScanner (in unnamed module @0x1db9193f) cannot access class com.sun.tools.javac.tree.TreeScanner (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.tree to unnamed module @0x1db9193f\r\n    * Exception is:\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:149)\r\n    .\r\n    .\r\n    .\r\n\r\n\r\n\r\nI tried almost all the suggestions mentioned in StackOverFlow for solution but couldn&#39;t reach a solution.\r\n","title":"&#39;compileDebugJavaWithJavac&#39; error with Android Studio Flamingo","body":"<p>When I updated Android Studio to Flamingo version, Gradle suggested the upgrade and I upgraded with AGP from 7.4 to 8.0. I was never able to debug after this upgrade, and as a result of my research, I could not come to a conclusion. If there is any information I have given missing for the problem, if you specify, I can make additions. I'm sharing my gradle module app codes because I think the problem stems from here.</p>\n<p>My build.gradle(app):</p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\n\nandroid {\n    useLibrary 'org.apache.http.legacy'\n    compileSdkVersion 33\n\n    defaultConfig {\n        applicationId &quot;com.example.packagename&quot;\n        multiDexEnabled true\n        minSdkVersion 22\n        targetSdkVersion 33\n        versionCode 15\n        versionName &quot;1.4&quot;\n\n    }\n    buildTypes {\n        release {\n            minifyEnabled true\n\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n    kotlinOptions {\n        jvmTarget = '11'\n    }\n    namespace 'com.example.packagename'\n\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>Execution failed for task ':app:compileDebugJavaWithJavac'.\n&gt; superclass access check failed: class butterknife.compiler.ButterKnifeProcessor$RScanner (in unnamed module @0x1db9193f) cannot access class com.sun.tools.javac.tree.TreeScanner (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.tree to unnamed module @0x1db9193f\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:compileDebugJavaWithJavac'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:149)\n.\n.\n.\n</code></pre>\n<p>I tried almost all the suggestions mentioned in StackOverFlow for solution but couldn't reach a solution.</p>\n"},{"tags":["java","javabeans","jparepository"],"owner":{"account_id":28414001,"reputation":1,"user_id":21737031,"display_name":"Павлюченко Антон"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682618488,"creation_date":1682618488,"question_id":76123391,"body_markdown":"I have this java class which is importing data from the database:\r\n\r\n```\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\nimport javax.persistence.*;\r\nimport java.time.LocalDate;\r\n\r\n@Entity\r\n@Table(name = &quot;my_table&quot;)\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class CashFlowTrainingData {\r\n\r\n    private String id;\r\n\r\n    @Id\r\n    public String getId() {\r\n        return String.format(&quot;{%s:%s:%s:%s}&quot;, recordDate, senderPostOfficeCode, quantity, sum);\r\n    }\r\n\r\n    @Column(name = &quot;RECORD_DATE&quot;)\r\n    private LocalDate date;\r\n\r\n    @Column(name = &quot;SENDER_POSTOFFICECODE&quot;)\r\n    private String senderPostOfficeCode;\r\n\r\n    @Column(name = &quot;QUANTITY&quot;)\r\n    private Integer quantity;\r\n\r\n    @Column(name = &quot;SUM&quot;)\r\n    private Double sum;\r\n}\r\n```\r\nController like this, which is post mapping to &quot;PostMan&quot;:\r\n\r\n\r\n```\r\nimport (defalt path).CashFlowDataCsvConvertorService;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class StartCashFlowProcessController {\r\n    private final CashFlowDataCsvConvertorService cashFlowDataCsvConvertorService;\r\n\r\n    public StartCashFlowProcessController(CashFlowDataCsvConvertorService cashFlowDataCsvConvertorService) {\r\n        this.cashFlowDataCsvConvertorService = cashFlowDataCsvConvertorService;\r\n    }\r\n\r\n    @PostMapping(&quot;/favouriteMainProcess&quot;)\r\n    public void start(){\r\n        cashFlowDataCsvConvertorService.mainProcess();\r\n    }\r\n}\r\n```\r\nAnd client configuration file, in  which there is a \r\n\r\n```\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\n@Configuration\r\npublic class ClientConfiguration {\r\n    @Bean\r\n    public RestTemplate restTemplate() {\r\n        return new RestTemplate();\r\n    }\r\n}\r\n```\r\n\r\n\r\nAnd have an error like this:\r\n\r\n```\r\nError creating bean with name &#39;startCashFlowProcessController&#39; defined in file [(default path)\\controller\\StartCashFlowProcessController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;cashFlowDataCsvConvertorService&#39; defined in file [(default path)\\service\\CashFlowDataCsvConvertorService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;cashFlowTrainingDataRepository&#39; defined in (default path).repositories.CashFlowTrainingDataRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class (default path).models.CashFlowTrainingData\r\n```\r\nI had a problem with a importing data from the database before (helped that I changed jakarta package to javax) and after this have problem with creating these beans. I don&#39;t know why it happens( Help me a little, I am a newbie in this...","title":"Problem with creating my controller bean, when importing a data from the database","body":"<p>I have this java class which is importing data from the database:</p>\n<pre><code>import lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport javax.persistence.*;\nimport java.time.LocalDate;\n\n@Entity\n@Table(name = &quot;my_table&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class CashFlowTrainingData {\n\n    private String id;\n\n    @Id\n    public String getId() {\n        return String.format(&quot;{%s:%s:%s:%s}&quot;, recordDate, senderPostOfficeCode, quantity, sum);\n    }\n\n    @Column(name = &quot;RECORD_DATE&quot;)\n    private LocalDate date;\n\n    @Column(name = &quot;SENDER_POSTOFFICECODE&quot;)\n    private String senderPostOfficeCode;\n\n    @Column(name = &quot;QUANTITY&quot;)\n    private Integer quantity;\n\n    @Column(name = &quot;SUM&quot;)\n    private Double sum;\n}\n</code></pre>\n<p>Controller like this, which is post mapping to &quot;PostMan&quot;:</p>\n<pre><code>import (defalt path).CashFlowDataCsvConvertorService;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class StartCashFlowProcessController {\n    private final CashFlowDataCsvConvertorService cashFlowDataCsvConvertorService;\n\n    public StartCashFlowProcessController(CashFlowDataCsvConvertorService cashFlowDataCsvConvertorService) {\n        this.cashFlowDataCsvConvertorService = cashFlowDataCsvConvertorService;\n    }\n\n    @PostMapping(&quot;/favouriteMainProcess&quot;)\n    public void start(){\n        cashFlowDataCsvConvertorService.mainProcess();\n    }\n}\n</code></pre>\n<p>And client configuration file, in  which there is a</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.client.RestTemplate;\n\n@Configuration\npublic class ClientConfiguration {\n    @Bean\n    public RestTemplate restTemplate() {\n        return new RestTemplate();\n    }\n}\n</code></pre>\n<p>And have an error like this:</p>\n<pre><code>Error creating bean with name 'startCashFlowProcessController' defined in file [(default path)\\controller\\StartCashFlowProcessController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'cashFlowDataCsvConvertorService' defined in file [(default path)\\service\\CashFlowDataCsvConvertorService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'cashFlowTrainingDataRepository' defined in (default path).repositories.CashFlowTrainingDataRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class (default path).models.CashFlowTrainingData\n</code></pre>\n<p>I had a problem with a importing data from the database before (helped that I changed jakarta package to javax) and after this have problem with creating these beans. I don't know why it happens( Help me a little, I am a newbie in this...</p>\n"},{"tags":["java","validation","bean-validation"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1682610414,"post_id":76122276,"comment_id":134246363,"body_markdown":"Do you mean [*Jakarta Bean Validation*](https://jakarta.ee/specifications/bean-validation/)? If so, say so in your question and in your tags.","body":"Do you mean <a href=\"https://jakarta.ee/specifications/bean-validation/\" rel=\"nofollow noreferrer\"><i>Jakarta Bean Validation</i></a>? If so, say so in your question and in your tags."}],"owner":{"account_id":2326454,"reputation":804,"user_id":2040852,"accept_rate":100,"display_name":"Andreas N"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682618481,"creation_date":1682610015,"question_id":76122276,"body_markdown":"My goal is to validate a list of records `Part` using a custom Jakarta validator. Each record has an Enum constant `key` and for every Enum constant, exactly one record with this constant must be available in the list.\r\n\r\nSome classes:\r\n\r\n&lt;!-- language: java --&gt;\r\n```\r\npublic record CarConfig(@EnumComplete(CarPartKey.class) List&lt;CarPart&gt; parts) {}\r\n\r\npublic record CarPart(String name, CarPartKey key) {}\r\n\r\nenum CarPartKey { ENGINE, MIRROR, TYRE }\r\n```\r\n\r\nValid `CarConfig` must have three list items of `Part` instances with the three different Enum constants:\r\n\r\n&lt;!-- language: java --&gt;\r\n```\r\nCarConfig config = new CarConfig(List.of(\r\n    new CarPart(&quot;Engine block&quot;, CarPartKey.ENGINE),\r\n    new CarPart(&quot;Rear mirror&quot;, CarPartKey.MIRROR),\r\n    new CarPart(&quot;Front-left tyre&quot;, CarPartKey.TYRE)\r\n);\r\n```\r\n\r\nNow the difficulty here is, that there are a lot more config and part-key classes, e.g. `BikeConfig` class using `BikePartKey` constants. Creating individual Jakarta-based annotations/validators for every config is one solution. But is there also a way to implement a generic, reusable validator?\r\n\r\nI&#39;ve been experimenting a while in the following direction:\r\n\r\n```\r\n...\r\n@Constraint(validatedBy = { CompleteEnumValidator.class })\r\npublic @interface EnumComplete { ... }\r\n\r\n\r\npublic CompleteEnumValidator&lt;E extends Enum&lt;E&gt;&gt; implements ConstraintValidator&lt;EnumComplete, List&lt;?&gt;&gt; {\r\n    ...\r\n}\r\n\r\n``` \r\n\r\nHowever, this is not accepted by the annotation, because `validatedBy` expects a subclass of ConstraintValidator&lt;?,?&gt; and my own addition of type parameters does not fulfill this requirement.\r\n\r\nSuggestions and help are much appreciated.\r\n","title":"How to validate a list of records to have unique and all enum constants using Jakarta bean validation?","body":"<p>My goal is to validate a list of records <code>Part</code> using a custom Jakarta validator. Each record has an Enum constant <code>key</code> and for every Enum constant, exactly one record with this constant must be available in the list.</p>\n<p>Some classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record CarConfig(@EnumComplete(CarPartKey.class) List&lt;CarPart&gt; parts) {}\n\npublic record CarPart(String name, CarPartKey key) {}\n\nenum CarPartKey { ENGINE, MIRROR, TYRE }\n</code></pre>\n<p>Valid <code>CarConfig</code> must have three list items of <code>Part</code> instances with the three different Enum constants:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CarConfig config = new CarConfig(List.of(\n    new CarPart(&quot;Engine block&quot;, CarPartKey.ENGINE),\n    new CarPart(&quot;Rear mirror&quot;, CarPartKey.MIRROR),\n    new CarPart(&quot;Front-left tyre&quot;, CarPartKey.TYRE)\n);\n</code></pre>\n<p>Now the difficulty here is, that there are a lot more config and part-key classes, e.g. <code>BikeConfig</code> class using <code>BikePartKey</code> constants. Creating individual Jakarta-based annotations/validators for every config is one solution. But is there also a way to implement a generic, reusable validator?</p>\n<p>I've been experimenting a while in the following direction:</p>\n<pre><code>...\n@Constraint(validatedBy = { CompleteEnumValidator.class })\npublic @interface EnumComplete { ... }\n\n\npublic CompleteEnumValidator&lt;E extends Enum&lt;E&gt;&gt; implements ConstraintValidator&lt;EnumComplete, List&lt;?&gt;&gt; {\n    ...\n}\n\n</code></pre>\n<p>However, this is not accepted by the annotation, because <code>validatedBy</code> expects a subclass of ConstraintValidator and my own addition of type parameters does not fulfill this requirement.</p>\n<p>Suggestions and help are much appreciated.</p>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1682653864,"post_id":76123386,"comment_id":134252922,"body_markdown":"It is possible to turn off leniency, but I looked into the source code, it won&#39;t fail for this type of (minor) error. The thread spike is likely to have a different cause.","body":"It is possible to turn off leniency, but I looked into the source code, it won&#39;t fail for this type of (minor) error. The thread spike is likely to have a different cause."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1682657985,"post_id":76123386,"comment_id":134253315,"body_markdown":"*&quot;when trying to upload a document using PdfBox&quot;* - how do you *upload* a document using pdfbox? That being asked, you appear to have a lot of issues loading damaged pdfs. Are you sure the input files already are damaged? Or is it possible that your code retrieving and forwarding it to pdfbox does the damage? In the latter case I&#39;d propose checking that code.","body":"<i>&quot;when trying to upload a document using PdfBox&quot;</i> - how do you <i>upload</i> a document using pdfbox? That being asked, you appear to have a lot of issues loading damaged pdfs. Are you sure the input files already are damaged? Or is it possible that your code retrieving and forwarding it to pdfbox does the damage? In the latter case I&#39;d propose checking that code."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1682688951,"post_id":76123386,"comment_id":134259426,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28427369,"reputation":1,"user_id":21748523,"display_name":"Sebasti&#225;n Duque"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682618420,"creation_date":1682618420,"question_id":76123386,"body_markdown":"I am getting the following warning when trying to upload a document using PdfBox: The end of the stream doesn&#39;t point to the correct offset, using workaround to read the stream, stream start position: 162, length: 1125, expected end position: 1287.\r\n\r\n\r\nIt is being produced in the validateStreamLength() method of class COSParser. Additionally, I see a significant spike in threads. So, is there any way to turn off the workaround to read the stream and throw an exception instead?.\r\n","title":"PdfBox: the end of the stream doesn&#39;t point to the correct offset","body":"<p>I am getting the following warning when trying to upload a document using PdfBox: The end of the stream doesn't point to the correct offset, using workaround to read the stream, stream start position: 162, length: 1125, expected end position: 1287.</p>\n<p>It is being produced in the validateStreamLength() method of class COSParser. Additionally, I see a significant spike in threads. So, is there any way to turn off the workaround to read the stream and throw an exception instead?.</p>\n"},{"tags":["java","spring","spring-boot","openapi"],"owner":{"account_id":22522935,"reputation":13,"user_id":16716180,"display_name":"osiem888"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682618075,"creation_date":1682618075,"question_id":76123351,"body_markdown":"I have a new Spring Boot application.\r\nSpring Boot version 2.7.10\r\nSpringDoc OpenApi version 1.7.0\r\n\r\nWhen initially testing OpenApi it successfully generated documentation so all the dependencies and libraries are in the project.\r\n\r\nThen, I wanted to add a global &quot;envelope&quot; to all data that is being returned from the Rest Services. So I added a class that does this and implements ResponseBodyAdvice:\r\n\r\n```\r\n@Component\r\n@RestControllerAdvice\r\npublic class GlobalRestResponseFilter implements ResponseBodyAdvice&lt;Object&gt; {\r\n\r\n    @Override\r\n    public Object beforeBodyWrite(Object body, MethodParameter returnType, MediaType selectedContentType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; selectedConverterType, ServerHttpRequest request, ServerHttpResponse response) {\r\n        return new ResponseEnvelope(body);\r\n    }\r\n[...]\r\n}\r\n```\r\n\r\nAlthough the responses are correctly being returned in the envelope by the rest controllers, OpenApi UI displays the Swagger Petstore instead of my documentation. Without any errors in the logs.\r\n\r\nWhen accessing api-docs application throws an exception:\r\n```\r\njava.lang.ClassCastException: api.model.ResponseEnvelope cannot be cast to [B\r\n\tat org.springframework.http.converter.ByteArrayHttpMessageConverter.getContentLength(ByteArrayHttpMessageConverter.java:39)\r\n\tat org.springframework.http.converter.AbstractHttpMessageConverter.addDefaultHeaders(AbstractHttpMessageConverter.java:260)\r\n\tat org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:211)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:293)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:183)\r\n\tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:502)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:596)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:492)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\nAt one point the exception said that it cannot be cast to `java.lang.String`.\r\n\r\nAdding @Hidden to ResponseBodyAdvice does not work.\r\nI tried several versions of OpenApi and the issue happened on all of them.\r\n\r\nI want to use ResponseBodyAdvice to modify the response of the Rest Controllers while having Swagger generating documentation. Having it generate the documentation of responses without the envelope would be absolutely acceptable.","title":"OpenAPI with ResponseBodyAdvice is not generating documents","body":"<p>I have a new Spring Boot application.\nSpring Boot version 2.7.10\nSpringDoc OpenApi version 1.7.0</p>\n<p>When initially testing OpenApi it successfully generated documentation so all the dependencies and libraries are in the project.</p>\n<p>Then, I wanted to add a global &quot;envelope&quot; to all data that is being returned from the Rest Services. So I added a class that does this and implements ResponseBodyAdvice:</p>\n<pre><code>@Component\n@RestControllerAdvice\npublic class GlobalRestResponseFilter implements ResponseBodyAdvice&lt;Object&gt; {\n\n    @Override\n    public Object beforeBodyWrite(Object body, MethodParameter returnType, MediaType selectedContentType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; selectedConverterType, ServerHttpRequest request, ServerHttpResponse response) {\n        return new ResponseEnvelope(body);\n    }\n[...]\n}\n</code></pre>\n<p>Although the responses are correctly being returned in the envelope by the rest controllers, OpenApi UI displays the Swagger Petstore instead of my documentation. Without any errors in the logs.</p>\n<p>When accessing api-docs application throws an exception:</p>\n<pre><code>java.lang.ClassCastException: api.model.ResponseEnvelope cannot be cast to [B\n    at org.springframework.http.converter.ByteArrayHttpMessageConverter.getContentLength(ByteArrayHttpMessageConverter.java:39)\n    at org.springframework.http.converter.AbstractHttpMessageConverter.addDefaultHeaders(AbstractHttpMessageConverter.java:260)\n    at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:211)\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:293)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:183)\n    at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:502)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:596)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:492)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>At one point the exception said that it cannot be cast to <code>java.lang.String</code>.</p>\n<p>Adding @Hidden to ResponseBodyAdvice does not work.\nI tried several versions of OpenApi and the issue happened on all of them.</p>\n<p>I want to use ResponseBodyAdvice to modify the response of the Rest Controllers while having Swagger generating documentation. Having it generate the documentation of responses without the envelope would be absolutely acceptable.</p>\n"},{"tags":["java","lombok","builder","mapstruct"],"comments":[{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1682445299,"post_id":76103880,"comment_id":134215928,"body_markdown":"Do you have `lombok-mapstruct-binding` in your list of annotation processors?","body":"Do you have <code>lombok-mapstruct-binding</code> in your list of annotation processors?"},{"owner":{"account_id":20760160,"reputation":31,"user_id":15245554,"display_name":"Davb"},"score":0,"creation_date":1682449193,"post_id":76103880,"comment_id":134216769,"body_markdown":"Yes I have it, version 0.2.0","body":"Yes I have it, version 0.2.0"},{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1682597162,"post_id":76103880,"comment_id":134242786,"body_markdown":"We need the whole code to reproduce your problem. In your description, the sources for `Comment` and `Page` are missing.","body":"We need the whole code to reproduce your problem. In your description, the sources for <code>Comment</code> and <code>Page</code> are missing."},{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1682933393,"post_id":76103880,"comment_id":134285862,"body_markdown":"That looks like a mapstruct bug to me.","body":"That looks like a mapstruct bug to me."},{"owner":{"account_id":20760160,"reputation":31,"user_id":15245554,"display_name":"Davb"},"score":0,"creation_date":1683055470,"post_id":76103880,"comment_id":134307174,"body_markdown":"I will report this issue","body":"I will report this issue"}],"owner":{"account_id":20760160,"reputation":31,"user_id":15245554,"display_name":"Davb"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1682618066,"creation_date":1682443500,"question_id":76103880,"body_markdown":"I have a class that represents a paged response that looks like this (all annotations are from Lombok):\r\n```\r\n@Value\r\n@Builder\r\n@Jacksonized\r\n@FieldNameConstants\r\npublic class PagedResponse&lt;T&gt; {\r\n\r\n    List&lt;T&gt; content;\r\n    int number;\r\n    int totalPages;\r\n    int size;\r\n    int numberOfElements;\r\n    long totalElements;\r\n\r\n}\r\n```\r\nand a dto class:\r\n\r\n```\r\n@Value\r\n@Builder\r\n@Jacksonized\r\n@FieldNameConstants\r\npublic class CommentResponse {\r\n\r\n    UUID uuid;\r\n    String value;\r\n\r\n}\r\n```\r\nI&#39;m using Mapstruct to generate the mapper to map my entity `Comment` to my dto class, here&#39;s the mapper interface:\r\n\r\n```\r\n@Mapper(componentModel = MappingConstants.ComponentModel.SPRING)\r\npublic interface CommentMapper {\r\n\r\n    PagedResponse&lt;CommentResponse&gt; mapToCommentResponses(Page&lt;Comment&gt; comments);\r\n\r\n    CommentResponse mapToCommentResponse(Comment comment);\r\n\r\n}\r\n```\r\nWhile Mapstruct have no problems generating the code for simple entity-dto mapping, it struggle to generate to code for the method `PagedResponse&lt;CommentResponse&gt; mapToCommentResponses(Page&lt;Comment&gt; comments);`\r\n\r\nThe generated code for the mapper:\r\n\r\n```\r\n@Component\r\npublic class CommentMapperImpl implements CommentMapper {\r\n\r\n    @Override\r\n    public PagedResponse&lt;CommentResponse&gt; mapToCommentResponses(Page&lt;Comment&gt; comments) {\r\n        if ( comments == null ) {\r\n            return null;\r\n        }\r\n\r\n        List&lt;CommentResponse&gt; content = null;\r\n        int number = 0;\r\n        int totalPages = 0;\r\n        int size = 0;\r\n        int numberOfElements = 0;\r\n        long totalElements = 0L;\r\n\r\n        if ( comments.hasContent() ) {\r\n            content = commentListToCommentResponseList( comments.getContent() );\r\n        }\r\n        number = comments.getNumber();\r\n        totalPages = comments.getTotalPages();\r\n        size = comments.getSize();\r\n        numberOfElements = comments.getNumberOfElements();\r\n        totalElements = comments.getTotalElements();\r\n\r\n        // next line cause a compile error\r\n        PagedResponse&lt;CommentResponse&gt; pagedResponse = new PagedResponse&lt;CommentResponse&gt;( content, number, totalPages, size, numberOfElements, totalElements );\r\n\r\n        return pagedResponse;\r\n    }\r\n\r\n    @Override\r\n    public CommentResponse mapToCommentResponse(Comment comment) {\r\n        if ( comment == null ) {\r\n            return null;\r\n        }\r\n\r\n        CommentResponse.CommentResponseBuilder commentResponse = CommentResponse.builder();\r\n\r\n        commentResponse.uuid( comment.getUuid() );\r\n        commentResponse.value( comment.getValue() );\r\n\r\n        return commentResponse.build();\r\n    }\r\n\r\n    protected List&lt;CommentResponse&gt; commentListToCommentResponseList(List&lt;Comment&gt; list) {\r\n        if ( list == null ) {\r\n            return null;\r\n        }\r\n\r\n        List&lt;CommentResponse&gt; list1 = new ArrayList&lt;CommentResponse&gt;( list.size() );\r\n        for ( Comment comment: list ) {\r\n            list1.add( mapToCommentResponse( comment ) );\r\n        }\r\n\r\n        return list1;\r\n    }\r\n}\r\n```\r\nHere Mapstruct tries to call the package-private constructor of `PagedResponse` instead of the builder which cause a compile error.\r\n\r\n\r\n\r\nI would expect Mapstruct to call the builder like this: \r\n```\r\nPagedResponse.PagedResponseBuilder builder = PagedResponse.&lt;CommentResponse&gt;builder()\r\n```\r\nor like this\r\n\r\n```\r\nPagedResponse.PagedResponseBuilder builder = PagedResponse.builder();\r\n```\r\nIs it even possible ? And how to achieve this ?\r\n\r\nEdit:\r\n\r\nThe code of my entity `Comment`:\r\n```\r\n@Entity\r\n@EqualsAndHashCode(onlyExplicitlyIncluded = true)\r\n@ToString\r\n@Getter\r\n@Setter\r\n@FieldNameConstants\r\npublic class Comment implements Persistable&lt;Long&gt; {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(insertable = false, updatable = false)\r\n    @EqualsAndHashCode.Include\r\n    private Long id;\r\n\r\n    @Column(updatable = false)\r\n    private UUID uuid;\r\n\r\n    @Version\r\n    private Integer version;\r\n    \r\n    private String value;\r\n\r\n    @Override\r\n    public boolean isNew() {\r\n        return Objects.isNull(id);\r\n    }\r\n\r\n    @PrePersist\r\n    private void generateUuid() {\r\n        uuid = UUID.randomUUID();\r\n    }\r\n\r\n}\r\n```\r\nThe class `Page` is from `org.springframework.data.domain.Page`","title":"Why Mapstruct don&#39;t use Lombok&#39;s builder with generic type?","body":"<p>I have a class that represents a paged response that looks like this (all annotations are from Lombok):</p>\n<pre><code>@Value\n@Builder\n@Jacksonized\n@FieldNameConstants\npublic class PagedResponse&lt;T&gt; {\n\n    List&lt;T&gt; content;\n    int number;\n    int totalPages;\n    int size;\n    int numberOfElements;\n    long totalElements;\n\n}\n</code></pre>\n<p>and a dto class:</p>\n<pre><code>@Value\n@Builder\n@Jacksonized\n@FieldNameConstants\npublic class CommentResponse {\n\n    UUID uuid;\n    String value;\n\n}\n</code></pre>\n<p>I'm using Mapstruct to generate the mapper to map my entity <code>Comment</code> to my dto class, here's the mapper interface:</p>\n<pre><code>@Mapper(componentModel = MappingConstants.ComponentModel.SPRING)\npublic interface CommentMapper {\n\n    PagedResponse&lt;CommentResponse&gt; mapToCommentResponses(Page&lt;Comment&gt; comments);\n\n    CommentResponse mapToCommentResponse(Comment comment);\n\n}\n</code></pre>\n<p>While Mapstruct have no problems generating the code for simple entity-dto mapping, it struggle to generate to code for the method <code>PagedResponse&lt;CommentResponse&gt; mapToCommentResponses(Page&lt;Comment&gt; comments);</code></p>\n<p>The generated code for the mapper:</p>\n<pre><code>@Component\npublic class CommentMapperImpl implements CommentMapper {\n\n    @Override\n    public PagedResponse&lt;CommentResponse&gt; mapToCommentResponses(Page&lt;Comment&gt; comments) {\n        if ( comments == null ) {\n            return null;\n        }\n\n        List&lt;CommentResponse&gt; content = null;\n        int number = 0;\n        int totalPages = 0;\n        int size = 0;\n        int numberOfElements = 0;\n        long totalElements = 0L;\n\n        if ( comments.hasContent() ) {\n            content = commentListToCommentResponseList( comments.getContent() );\n        }\n        number = comments.getNumber();\n        totalPages = comments.getTotalPages();\n        size = comments.getSize();\n        numberOfElements = comments.getNumberOfElements();\n        totalElements = comments.getTotalElements();\n\n        // next line cause a compile error\n        PagedResponse&lt;CommentResponse&gt; pagedResponse = new PagedResponse&lt;CommentResponse&gt;( content, number, totalPages, size, numberOfElements, totalElements );\n\n        return pagedResponse;\n    }\n\n    @Override\n    public CommentResponse mapToCommentResponse(Comment comment) {\n        if ( comment == null ) {\n            return null;\n        }\n\n        CommentResponse.CommentResponseBuilder commentResponse = CommentResponse.builder();\n\n        commentResponse.uuid( comment.getUuid() );\n        commentResponse.value( comment.getValue() );\n\n        return commentResponse.build();\n    }\n\n    protected List&lt;CommentResponse&gt; commentListToCommentResponseList(List&lt;Comment&gt; list) {\n        if ( list == null ) {\n            return null;\n        }\n\n        List&lt;CommentResponse&gt; list1 = new ArrayList&lt;CommentResponse&gt;( list.size() );\n        for ( Comment comment: list ) {\n            list1.add( mapToCommentResponse( comment ) );\n        }\n\n        return list1;\n    }\n}\n</code></pre>\n<p>Here Mapstruct tries to call the package-private constructor of <code>PagedResponse</code> instead of the builder which cause a compile error.</p>\n<p>I would expect Mapstruct to call the builder like this:</p>\n<pre><code>PagedResponse.PagedResponseBuilder builder = PagedResponse.&lt;CommentResponse&gt;builder()\n</code></pre>\n<p>or like this</p>\n<pre><code>PagedResponse.PagedResponseBuilder builder = PagedResponse.builder();\n</code></pre>\n<p>Is it even possible ? And how to achieve this ?</p>\n<p>Edit:</p>\n<p>The code of my entity <code>Comment</code>:</p>\n<pre><code>@Entity\n@EqualsAndHashCode(onlyExplicitlyIncluded = true)\n@ToString\n@Getter\n@Setter\n@FieldNameConstants\npublic class Comment implements Persistable&lt;Long&gt; {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(insertable = false, updatable = false)\n    @EqualsAndHashCode.Include\n    private Long id;\n\n    @Column(updatable = false)\n    private UUID uuid;\n\n    @Version\n    private Integer version;\n    \n    private String value;\n\n    @Override\n    public boolean isNew() {\n        return Objects.isNull(id);\n    }\n\n    @PrePersist\n    private void generateUuid() {\n        uuid = UUID.randomUUID();\n    }\n\n}\n</code></pre>\n<p>The class <code>Page</code> is from <code>org.springframework.data.domain.Page</code></p>\n"},{"tags":["java","google-cloud-storage","apache-tika"],"comments":[{"owner":{"account_id":8363906,"reputation":615,"user_id":6281268,"display_name":"Tim Allison"},"score":0,"creation_date":1683122964,"post_id":76114324,"comment_id":134318408,"body_markdown":"Tika should be resetting the stream after the call to detect.  How are you creating the InputStream that you are sending into Tika for detection?","body":"Tika should be resetting the stream after the call to detect.  How are you creating the InputStream that you are sending into Tika for detection?"},{"owner":{"account_id":1196190,"reputation":1082,"user_id":1167874,"accept_rate":62,"display_name":"Raymond Holguin"},"score":0,"creation_date":1683132011,"post_id":76114324,"comment_id":134320714,"body_markdown":"@TimAllison I was doing something like this `new FileInputStream(new File(&quot;filepath&quot;)`.  I don&#39;t have the exact code anymore, but basically i was passing a `File` object into the `FileInputStream` constructor","body":"@TimAllison I was doing something like this <code>new FileInputStream(new File(&quot;filepath&quot;)</code>.  I don&#39;t have the exact code anymore, but basically i was passing a <code>File</code> object into the <code>FileInputStream</code> constructor"},{"owner":{"account_id":8363906,"reputation":615,"user_id":6281268,"display_name":"Tim Allison"},"score":0,"creation_date":1683140311,"post_id":76114324,"comment_id":134322373,"body_markdown":"Thank you.  I&#39;ll try to reproduce that behavior.  It is unexpected.  Typically, we recommend TikaInputStream.open(File file)...that will be more efficient on zip and ole2 based files (and PDF if you&#39;re parsing, which you aren&#39;t).","body":"Thank you.  I&#39;ll try to reproduce that behavior.  It is unexpected.  Typically, we recommend TikaInputStream.open(File file)...that will be more efficient on zip and ole2 based files (and PDF if you&#39;re parsing, which you aren&#39;t)."}],"answers":[{"tags":[],"owner":{"account_id":1196190,"reputation":1082,"user_id":1167874,"accept_rate":62,"display_name":"Raymond Holguin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682617316,"creation_date":1682617316,"answer_id":76123250,"question_id":76114324,"body_markdown":"Turns out using `Tika` messes with the `InputStream` marker, so once I run `detect` I can&#39;t re-use that `InputStream` to upload.\r\n\r\nSo instead I turn the `InputStream` into a `byte[]` then I can use that for detecting the type as well as saving\r\n\r\n\r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    inputStream.transferTo(baos);\r\n                \r\n    byte[] byteData = baos.toByteArray();\r\n    Tika tika = new Tika();\r\n    tika.detect(byteData);","title":"Uploading a file to Google Cloud Storage is corrupted only when using Tika to get Content-Type","body":"<p>Turns out using <code>Tika</code> messes with the <code>InputStream</code> marker, so once I run <code>detect</code> I can't re-use that <code>InputStream</code> to upload.</p>\n<p>So instead I turn the <code>InputStream</code> into a <code>byte[]</code> then I can use that for detecting the type as well as saving</p>\n<pre><code>ByteArrayOutputStream baos = new ByteArrayOutputStream();\ninputStream.transferTo(baos);\n            \nbyte[] byteData = baos.toByteArray();\nTika tika = new Tika();\ntika.detect(byteData);\n</code></pre>\n"}],"owner":{"account_id":1196190,"reputation":1082,"user_id":1167874,"accept_rate":62,"display_name":"Raymond Holguin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76123250,"answer_count":1,"score":0,"last_activity_date":1682617316,"creation_date":1682536666,"question_id":76114324,"body_markdown":"I am using the Google Cloud Storage Java SDK (`V.2.20.1`) to upload files to my Bucket.  I am trying to set the Content-Type of the file, which I am using Apache Tika to detect.  The issue is that if the use the Content-Type returned by Tika, even though it is correct, when the file is uploaded it is corrupted and I cannot view it.  If I manually set the Content-Type, the same value that Tika returned, then it uploads and I can view the file without issue.\r\n\r\n\r\nThis code does not work, I verify that the content type is exactly matching `applicaiton/pdf` but it is corrupted on upload and I cannot view.\r\n\r\n    Tika tika = new Tika();\r\n    String contentType = tika.detect(inputStream);\r\n    System.out.println(contentType); //&quot;application/pdf&quot;\r\n\r\n    if(&quot;application/pdf&quot;.equals(contentType)) {\r\n         return bucket.create(Utilities.formatDirectoryName(directory) + name, inputStream, contentType);\r\n    } else {\r\n         System.out.println(&quot;INVALID TYPE&quot;);\r\n         return null;\r\n    }\r\n\r\n\r\nThis code does work by manually setting the Content-Type.  The file uploads and I can view it without issue.\r\n\r\n    String contentType = &quot;application/pdf&quot;;\r\n    System.out.println(contentType); //&quot;application/pdf&quot;\r\n    if(&quot;application/pdf&quot;.equals(contentType)) {\r\n         return bucket.create(Utilities.formatDirectoryName(directory) + name, inputStream, contentType);\r\n    } else {\r\n         System.out.println(&quot;INVALID TYPE&quot;);\r\n         return null;\r\n    }\r\n\r\n\r\n\r\nWhen I view the information on the Cloud Storage UI everything shows correctly for both of the methods I listed above.  Content-Type, size, etc.  The difference is when I download the file to view, one does not work (corrupted) and the other one does work (views correctly).\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JeKDx.png\r\n\r\n\r\nI have run this test multiple times to ensure it wasn&#39;t just a weird upload glitch, but its consistent every time.   I have also tried this with different types of files such as Power Points. \r\n Same result of using Tika vs manually setting the Content-Type.  This is driving me crazy, please help!","title":"Uploading a file to Google Cloud Storage is corrupted only when using Tika to get Content-Type","body":"<p>I am using the Google Cloud Storage Java SDK (<code>V.2.20.1</code>) to upload files to my Bucket.  I am trying to set the Content-Type of the file, which I am using Apache Tika to detect.  The issue is that if the use the Content-Type returned by Tika, even though it is correct, when the file is uploaded it is corrupted and I cannot view it.  If I manually set the Content-Type, the same value that Tika returned, then it uploads and I can view the file without issue.</p>\n<p>This code does not work, I verify that the content type is exactly matching <code>applicaiton/pdf</code> but it is corrupted on upload and I cannot view.</p>\n<pre><code>Tika tika = new Tika();\nString contentType = tika.detect(inputStream);\nSystem.out.println(contentType); //&quot;application/pdf&quot;\n\nif(&quot;application/pdf&quot;.equals(contentType)) {\n     return bucket.create(Utilities.formatDirectoryName(directory) + name, inputStream, contentType);\n} else {\n     System.out.println(&quot;INVALID TYPE&quot;);\n     return null;\n}\n</code></pre>\n<p>This code does work by manually setting the Content-Type.  The file uploads and I can view it without issue.</p>\n<pre><code>String contentType = &quot;application/pdf&quot;;\nSystem.out.println(contentType); //&quot;application/pdf&quot;\nif(&quot;application/pdf&quot;.equals(contentType)) {\n     return bucket.create(Utilities.formatDirectoryName(directory) + name, inputStream, contentType);\n} else {\n     System.out.println(&quot;INVALID TYPE&quot;);\n     return null;\n}\n</code></pre>\n<p>When I view the information on the Cloud Storage UI everything shows correctly for both of the methods I listed above.  Content-Type, size, etc.  The difference is when I download the file to view, one does not work (corrupted) and the other one does work (views correctly).</p>\n<p><a href=\"https://i.stack.imgur.com/JeKDx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JeKDx.png\" alt=\"enter image description here\" /></a></p>\n<p>I have run this test multiple times to ensure it wasn't just a weird upload glitch, but its consistent every time.   I have also tried this with different types of files such as Power Points.\nSame result of using Tika vs manually setting the Content-Type.  This is driving me crazy, please help!</p>\n"},{"tags":["java","spring-boot","hibernate","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1682513387,"post_id":76110898,"comment_id":134227558,"body_markdown":"And your question is? This seems more of a rant against graalvm then an actual question.","body":"And your question is? This seems more of a rant against graalvm then an actual question."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1682535560,"post_id":76110898,"comment_id":134233297,"body_markdown":"The title looks like a pretty clear and well formed question @m-deinum","body":"The title looks like a pretty clear and well formed question @m-deinum"},{"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"score":0,"creation_date":1682542709,"post_id":76110898,"comment_id":134234593,"body_markdown":"@xerx593: I used a separate `JDK19` installation, not the one by `GraalVM`. It seems like it doesn&#39;t cause any problems","body":"@xerx593: I used a separate <code>JDK19</code> installation, not the one by <code>GraalVM</code>. It seems like it doesn&#39;t cause any problems"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1682550886,"post_id":76110898,"comment_id":134235784,"body_markdown":"It does not cause any problem because, with `mvn -Pnative spring-boot:build-image`, the native image is built in a docker container which pulls a GraalVM image","body":"It does not cause any problem because, with <code>mvn -Pnative spring-boot:build-image</code>, the native image is built in a docker container which pulls a GraalVM image"}],"answers":[{"comments":[{"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"score":0,"creation_date":1682614983,"post_id":76114026,"comment_id":134247527,"body_markdown":"Yes, both solutions worked, cheers!","body":"Yes, both solutions worked, cheers!"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1682617200,"post_id":76114026,"comment_id":134248047,"body_markdown":"And the linked Spring Boot thread was updated with a 3rd (better, less invasive) solution. I edited my answer to place it first.","body":"And the linked Spring Boot thread was updated with a 3rd (better, less invasive) solution. I edited my answer to place it first."}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682617108,"creation_date":1682534157,"answer_id":76114026,"question_id":76110898,"body_markdown":"I faced the same regression due to missing native hints and found 3 easy workarounds in [a thread][1] linked at the bottom of the one you point to. Here are the options from the less invasive (prefered) to the most:\r\n- downgrade the metadata repository from `0.2.7` to `0.2.6` in `native-maven-plugin` version `0.9.21` (which is the default for Boot `3.0.6`):\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;metadataRepository&gt;\r\n\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n\t\t\t&lt;version&gt;0.2.6&lt;/version&gt;\r\n\t\t&lt;/metadataRepository&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n- use an earlier metadata repository for `hibernate-core` (`6.1.1.Final` instead of `6.1.7.Final` which is the default for Boot `3.0.6`):\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;metadataRepository&gt;\r\n\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;metadataVersion&gt;6.1.1.Final&lt;/metadataVersion&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;/dependencies&gt;\r\n\t\t&lt;/metadataRepository&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n- downgrade `native-maven-plugin` from `0.9.21` to `0.9.20`:\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.9.20&lt;/version&gt;\r\n&lt;/plugin&gt;\r\n```\r\nThe issue is tracked [here][2] for Spring Boot and [there][3] for `native-build-tools`\r\n\r\n## P.S.\r\nFor those working with Gradle rather than maven, there is an equivalent of the first workaround in the [Spring Boot thread][4]\r\n```\r\ngraalvmNative {\r\n    metadataRepository {\r\n        version = &quot;0.2.6&quot;\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/alvessteve/fizzbuzz-rest-api/issues/26\r\n  [2]: https://github.com/spring-projects/spring-boot/issues/35103\r\n  [3]: https://github.com/graalvm/native-build-tools/issues/430\r\n  [4]: https://github.com/spring-projects/spring-boot/issues/35103#issuecomment-1524957350","title":"How to build a Spring Boot 3.0.6 REST API into a working native image?","body":"<p>I faced the same regression due to missing native hints and found 3 easy workarounds in <a href=\"https://github.com/alvessteve/fizzbuzz-rest-api/issues/26\" rel=\"nofollow noreferrer\">a thread</a> linked at the bottom of the one you point to. Here are the options from the less invasive (prefered) to the most:</p>\n<ul>\n<li>downgrade the metadata repository from <code>0.2.7</code> to <code>0.2.6</code> in <code>native-maven-plugin</code> version <code>0.9.21</code> (which is the default for Boot <code>3.0.6</code>):</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\n    &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;metadataRepository&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;version&gt;0.2.6&lt;/version&gt;\n        &lt;/metadataRepository&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<ul>\n<li>use an earlier metadata repository for <code>hibernate-core</code> (<code>6.1.1.Final</code> instead of <code>6.1.7.Final</code> which is the default for Boot <code>3.0.6</code>):</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\n    &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;metadataRepository&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n                    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n                    &lt;metadataVersion&gt;6.1.1.Final&lt;/metadataVersion&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/metadataRepository&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<ul>\n<li>downgrade <code>native-maven-plugin</code> from <code>0.9.21</code> to <code>0.9.20</code>:</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\n    &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.9.20&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>The issue is tracked <a href=\"https://github.com/spring-projects/spring-boot/issues/35103\" rel=\"nofollow noreferrer\">here</a> for Spring Boot and <a href=\"https://github.com/graalvm/native-build-tools/issues/430\" rel=\"nofollow noreferrer\">there</a> for <code>native-build-tools</code></p>\n<h2>P.S.</h2>\n<p>For those working with Gradle rather than maven, there is an equivalent of the first workaround in the <a href=\"https://github.com/spring-projects/spring-boot/issues/35103#issuecomment-1524957350\" rel=\"nofollow noreferrer\">Spring Boot thread</a></p>\n<pre><code>graalvmNative {\n    metadataRepository {\n        version = &quot;0.2.6&quot;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":624,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76114026,"answer_count":1,"score":3,"last_activity_date":1682617108,"creation_date":1682513130,"question_id":76110898,"body_markdown":"I&#39;m on `Windows`, assuming I&#39;m downloading a default `demo` project from [`Spring Initializr`][1] as follows:\r\n\r\n[![][2]][2]\r\n\r\nNow for the project to run I&#39;ll also add default `H2` support to the `application.properties`:\r\n\r\n    spring.datasource.url=jdbc:h2:mem:testdb\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=password\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n\r\nNext, I&#39;ll add a simple `HelloWorldController.java` controller as follows:\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    public class HelloWorldController\r\n    {\r\n    \t@GetMapping(&quot;/&quot;)\r\n    \tpublic String index()\r\n    \t{\r\n    \t\treturn &quot;Greetings from Spring Boot!&quot;;\r\n    \t}\r\n    }\r\n\r\n\r\nI can run the REST API successfully from `IntelliJ IDEA` or compile an executable `JAR` and run that, going to [`http://localhost:8080`][3] in the browser works as expected.\r\n\r\nMy `native-image` version is:\r\n\r\n    &gt;where gu\r\n    C:\\graalvm-ee-java19-windows-amd64-22.3.1\\bin\\gu.cmd\r\n\r\nMy `Java` version is:\r\n\r\n    &gt;java -version\r\n    java version &quot;19.0.1&quot; 2022-10-18\r\n    Java(TM) SE Runtime Environment (build 19.0.1+10-21)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 19.0.1+10-21, mixed mode, sharing)\r\n\r\nAccording to the `HELP.md` I can compile a native image by running `mvnw native:compile -Pnative` (via an administrator `x64 Native Tools Command Prompt for VS 2022`) so I did. The first error I ran into was related to spaces in the file path ([`Exception in thread &quot;main&quot; java.nio.file.InvalidPathException: Illegal char &lt;&gt; at index 3`][4]), I fixed it by moving the whole project into a file path without spaces. (However, that shouldn&#39;t even be a problem these days.)\r\n\r\nNow, after waiting for about 8 minutes, the native compilation was successful. Upon running the `demo.exe`, it failed to start:\r\n\r\n    D:\\Moved\\demo&gt;target\\demo\r\n    \r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::                (v3.0.6)\r\n    \r\n    2023-04-26T00:04:22.787+02:00  INFO 28544 --- [           main] com.example.demo.DemoApplication         : Starting AOT-processed DemoApplication using Java 19.0.2 with PID 28544 (D:\\Moved\\demo\\target\\demo.exe started by BullyWiiPlaza in D:\\Moved\\demo)\r\n    2023-04-26T00:04:22.787+02:00  INFO 28544 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2023-04-26T00:04:23.017+02:00  INFO 28544 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2023-04-26T00:04:23.020+02:00  INFO 28544 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2023-04-26T00:04:23.020+02:00  INFO 28544 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\r\n    2023-04-26T00:04:23.052+02:00  INFO 28544 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2023-04-26T00:04:23.053+02:00  INFO 28544 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 265 ms\r\n    2023-04-26T00:04:23.107+02:00  INFO 28544 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2023-04-26T00:04:23.113+02:00  INFO 28544 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA\r\n    2023-04-26T00:04:23.114+02:00  INFO 28544 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2023-04-26T00:04:23.116+02:00  WARN 28544 --- [           main] w.s.c.ServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39;: Instantiation of supplied bean failed\r\n    2023-04-26T00:04:23.116+02:00  INFO 28544 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n    2023-04-26T00:04:23.121+02:00  INFO 28544 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n    2023-04-26T00:04:23.123+02:00  INFO 28544 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2023-04-26T00:04:23.127+02:00 ERROR 28544 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39;: Instantiation of supplied bean failed\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1220) ~[demo.exe:6.0.8]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1158) ~[demo.exe:6.0.8]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[demo.exe:6.0.8]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[demo.exe:6.0.8]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[demo.exe:6.0.8]\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[demo.exe:6.0.8]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[demo.exe:6.0.8]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[demo.exe:6.0.8]\r\n            at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[demo.exe:6.0.8]\r\n            at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[demo.exe:6.0.8]\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[demo.exe:6.0.8]\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[demo.exe:3.0.6]\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[demo.exe:3.0.6]\r\n            at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[demo.exe:3.0.6]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[demo.exe:3.0.6]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[demo.exe:3.0.6]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[demo.exe:3.0.6]\r\n            at com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[demo.exe:na]\r\n    Caused by: java.lang.IllegalStateException: No available JtaPlatform candidates amongst [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform, org.hibernate.service.jta.platform.internal.NoJtaPlatform]\r\n            at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.getNoJtaPlatformManager(HibernateJpaConfiguration.java:213) ~[demo.exe:na]\r\n            at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.configureJtaPlatform(HibernateJpaConfiguration.java:150) ~[demo.exe:na]\r\n            at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.customizeVendorProperties(HibernateJpaConfiguration.java:139) ~[demo.exe:na]\r\n            at org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.entityManagerFactory(JpaBaseConfiguration.java:132) ~[demo.exe:na]\r\n            at org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration__BeanDefinitions.lambda$getEntityManagerFactoryInstanceSupplier$3(JpaBaseConfiguration__BeanDefinitions.java:84) ~[na:na]\r\n            at org.springframework.util.function.ThrowingBiFunction.apply(ThrowingBiFunction.java:68) ~[demo.exe:6.0.8]\r\n            at org.springframework.util.function.ThrowingBiFunction.apply(ThrowingBiFunction.java:54) ~[demo.exe:6.0.8]\r\n            at org.springframework.beans.factory.aot.BeanInstanceSupplier.lambda$get$2(BeanInstanceSupplier.java:204) ~[na:na]\r\n            at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[demo.exe:6.0.8]\r\n            at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[demo.exe:6.0.8]\r\n            at org.springframework.beans.factory.aot.BeanInstanceSupplier.invokeBeanSupplier(BeanInstanceSupplier.java:216) ~[na:na]\r\n            at org.springframework.beans.factory.aot.BeanInstanceSupplier.get(BeanInstanceSupplier.java:204) ~[na:na]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.obtainInstanceFromSupplier(DefaultListableBeanFactory.java:947) ~[demo.exe:6.0.8]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1214) ~[demo.exe:6.0.8]\r\n            ... 17 common frames omitted\r\n\r\nSo, it isn&#39;t working, why?\r\n\r\nAfter researching more, I found [this][5] issue and related ones. Also, trying `Spring Boot` version `3.0.5` is working fine while `3.0.6` fails.\r\n\r\n  [1]: https://start.spring.io\r\n  [2]: https://i.stack.imgur.com/1E26c.png\r\n  [3]: http://localhost:8080\r\n  [4]: https://github.com/micronaut-projects/micronaut-gradle-plugin/issues/401#issuecomment-1083249485\r\n  [5]: https://github.com/spring-projects/spring-boot/issues/32659","title":"How to build a Spring Boot 3.0.6 REST API into a working native image?","body":"<p>I'm on <code>Windows</code>, assuming I'm downloading a default <code>demo</code> project from <a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\"><code>Spring Initializr</code></a> as follows:</p>\n<p><a href=\"https://i.stack.imgur.com/1E26c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1E26c.png\" alt=\"\" /></a></p>\n<p>Now for the project to run I'll also add default <code>H2</code> support to the <code>application.properties</code>:</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=password\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\n</code></pre>\n<p>Next, I'll add a simple <code>HelloWorldController.java</code> controller as follows:</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class HelloWorldController\n{\n    @GetMapping(&quot;/&quot;)\n    public String index()\n    {\n        return &quot;Greetings from Spring Boot!&quot;;\n    }\n}\n</code></pre>\n<p>I can run the REST API successfully from <code>IntelliJ IDEA</code> or compile an executable <code>JAR</code> and run that, going to <a href=\"http://localhost:8080\" rel=\"nofollow noreferrer\"><code>http://localhost:8080</code></a> in the browser works as expected.</p>\n<p>My <code>native-image</code> version is:</p>\n<pre><code>&gt;where gu\nC:\\graalvm-ee-java19-windows-amd64-22.3.1\\bin\\gu.cmd\n</code></pre>\n<p>My <code>Java</code> version is:</p>\n<pre><code>&gt;java -version\njava version &quot;19.0.1&quot; 2022-10-18\nJava(TM) SE Runtime Environment (build 19.0.1+10-21)\nJava HotSpot(TM) 64-Bit Server VM (build 19.0.1+10-21, mixed mode, sharing)\n</code></pre>\n<p>According to the <code>HELP.md</code> I can compile a native image by running <code>mvnw native:compile -Pnative</code> (via an administrator <code>x64 Native Tools Command Prompt for VS 2022</code>) so I did. The first error I ran into was related to spaces in the file path (<a href=\"https://github.com/micronaut-projects/micronaut-gradle-plugin/issues/401#issuecomment-1083249485\" rel=\"nofollow noreferrer\"><code>Exception in thread &quot;main&quot; java.nio.file.InvalidPathException: Illegal char &lt;&gt; at index 3</code></a>), I fixed it by moving the whole project into a file path without spaces. (However, that shouldn't even be a problem these days.)</p>\n<p>Now, after waiting for about 8 minutes, the native compilation was successful. Upon running the <code>demo.exe</code>, it failed to start:</p>\n<pre><code>D:\\Moved\\demo&gt;target\\demo\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.6)\n\n2023-04-26T00:04:22.787+02:00  INFO 28544 --- [           main] com.example.demo.DemoApplication         : Starting AOT-processed DemoApplication using Java 19.0.2 with PID 28544 (D:\\Moved\\demo\\target\\demo.exe started by BullyWiiPlaza in D:\\Moved\\demo)\n2023-04-26T00:04:22.787+02:00  INFO 28544 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-04-26T00:04:23.017+02:00  INFO 28544 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-04-26T00:04:23.020+02:00  INFO 28544 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-04-26T00:04:23.020+02:00  INFO 28544 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\n2023-04-26T00:04:23.052+02:00  INFO 28544 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-04-26T00:04:23.053+02:00  INFO 28544 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 265 ms\n2023-04-26T00:04:23.107+02:00  INFO 28544 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-04-26T00:04:23.113+02:00  INFO 28544 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA\n2023-04-26T00:04:23.114+02:00  INFO 28544 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-04-26T00:04:23.116+02:00  WARN 28544 --- [           main] w.s.c.ServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory': Instantiation of supplied bean failed\n2023-04-26T00:04:23.116+02:00  INFO 28544 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-04-26T00:04:23.121+02:00  INFO 28544 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2023-04-26T00:04:23.123+02:00  INFO 28544 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-04-26T00:04:23.127+02:00 ERROR 28544 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory': Instantiation of supplied bean failed\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1220) ~[demo.exe:6.0.8]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1158) ~[demo.exe:6.0.8]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[demo.exe:6.0.8]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[demo.exe:6.0.8]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[demo.exe:6.0.8]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[demo.exe:6.0.8]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[demo.exe:6.0.8]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[demo.exe:6.0.8]\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[demo.exe:6.0.8]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[demo.exe:6.0.8]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[demo.exe:6.0.8]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[demo.exe:3.0.6]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[demo.exe:3.0.6]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[demo.exe:3.0.6]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[demo.exe:3.0.6]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[demo.exe:3.0.6]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[demo.exe:3.0.6]\n        at com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[demo.exe:na]\nCaused by: java.lang.IllegalStateException: No available JtaPlatform candidates amongst [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform, org.hibernate.service.jta.platform.internal.NoJtaPlatform]\n        at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.getNoJtaPlatformManager(HibernateJpaConfiguration.java:213) ~[demo.exe:na]\n        at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.configureJtaPlatform(HibernateJpaConfiguration.java:150) ~[demo.exe:na]\n        at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.customizeVendorProperties(HibernateJpaConfiguration.java:139) ~[demo.exe:na]\n        at org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.entityManagerFactory(JpaBaseConfiguration.java:132) ~[demo.exe:na]\n        at org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration__BeanDefinitions.lambda$getEntityManagerFactoryInstanceSupplier$3(JpaBaseConfiguration__BeanDefinitions.java:84) ~[na:na]\n        at org.springframework.util.function.ThrowingBiFunction.apply(ThrowingBiFunction.java:68) ~[demo.exe:6.0.8]\n        at org.springframework.util.function.ThrowingBiFunction.apply(ThrowingBiFunction.java:54) ~[demo.exe:6.0.8]\n        at org.springframework.beans.factory.aot.BeanInstanceSupplier.lambda$get$2(BeanInstanceSupplier.java:204) ~[na:na]\n        at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[demo.exe:6.0.8]\n        at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[demo.exe:6.0.8]\n        at org.springframework.beans.factory.aot.BeanInstanceSupplier.invokeBeanSupplier(BeanInstanceSupplier.java:216) ~[na:na]\n        at org.springframework.beans.factory.aot.BeanInstanceSupplier.get(BeanInstanceSupplier.java:204) ~[na:na]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.obtainInstanceFromSupplier(DefaultListableBeanFactory.java:947) ~[demo.exe:6.0.8]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1214) ~[demo.exe:6.0.8]\n        ... 17 common frames omitted\n</code></pre>\n<p>So, it isn't working, why?</p>\n<p>After researching more, I found <a href=\"https://github.com/spring-projects/spring-boot/issues/32659\" rel=\"nofollow noreferrer\">this</a> issue and related ones. Also, trying <code>Spring Boot</code> version <code>3.0.5</code> is working fine while <code>3.0.6</code> fails.</p>\n"},{"tags":["java","bapi","jco","sapjco3"],"answers":[{"comments":[{"owner":{"account_id":285060,"reputation":4639,"user_id":583513,"accept_rate":71,"display_name":"Philipp"},"score":0,"creation_date":1351068120,"post_id":13045624,"comment_id":17713605,"body_markdown":"So you mean JCoClient has been renamed to JCoDestination in JCo3? Compare the Javadoc? I&#39;d like to, but the javadoc is not published :-(","body":"So you mean JCoClient has been renamed to JCoDestination in JCo3? Compare the Javadoc? I&#39;d like to, but the javadoc is not published :-("},{"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"score":0,"creation_date":1351088781,"post_id":13045624,"comment_id":17722638,"body_markdown":"It&#39;s more than just a renaming - they changed the class structure quite severely. The javadoc is part of the downloadable archive.","body":"It&#39;s more than just a renaming - they changed the class structure quite severely. The javadoc is part of the downloadable archive."},{"owner":{"account_id":1356445,"reputation":1037,"user_id":1294742,"accept_rate":86,"display_name":"gosua"},"score":0,"creation_date":1382698436,"post_id":13045624,"comment_id":29071399,"body_markdown":"u are so damn right! jco3 is absolutely confusing compared to jco2.","body":"u are so damn right! jco3 is absolutely confusing compared to jco2."}],"tags":[],"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1351067993,"creation_date":1351067993,"answer_id":13045624,"question_id":13045096,"body_markdown":"Most of the &quot;stuff&quot; you&#39;ll find will implicitly refer to the old version (2.x) of the Java Connector. You can still grab that version from [SAP][1], and I&#39;d encourage you to do so - not to use it, but to compare the javadoc. You&#39;ll see that the class structure was changed radically between the 2.x and 3.x releases (and to the better, I&#39;d say). However, that means that you have to re-work many of the examples because the class names have changed.\r\n\r\n\r\n  [1]: http://service.sap.com/connectors","title":"SAP JCo: JCoDestination vs. JCoClient","body":"<p>Most of the \"stuff\" you'll find will implicitly refer to the old version (2.x) of the Java Connector. You can still grab that version from <a href=\"http://service.sap.com/connectors\" rel=\"nofollow\">SAP</a>, and I'd encourage you to do so - not to use it, but to compare the javadoc. You'll see that the class structure was changed radically between the 2.x and 3.x releases (and to the better, I'd say). However, that means that you have to re-work many of the examples because the class names have changed.</p>\n"},{"tags":[],"owner":{"account_id":1842981,"reputation":4101,"user_id":1672009,"accept_rate":71,"display_name":"remigio"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1682616932,"creation_date":1351081195,"answer_id":13049097,"question_id":13045096,"body_markdown":"The SAP Java Connector has been completely reworked from 2 to 3 version. The old JCO.Client class has been substituted with JCoDestination, but it&#39;s not just a name change, the library architecture changed completely, so porting code from JCo 2 to JCo 3 is not just a matter of changing class names.\r\nFor example, to connect to a SAP service with Jco 2 one had to write something like this:\r\n\r\n    JCO.Client client = JCO.createClient(...);\r\n    client.connect();\r\n\r\nwhereas with JCo 3 you have:\r\n\r\n    JCoDestination destination = JCoDestinationManager.getDestination(serviceName);\r\n\r\nYou can find information about the two libraries at [SAP JCo Installation][1]. Furthermore, at [SAP JCo Migration 2.x-3.0 (Standalone)][3] there is a detailed guide for migration from 2 to 3. The latter link can also be accessed from the left side index on the former link, from which you can access information about &quot;Client Programming SAP JCo 2.x&quot; and &quot;3.0&quot;.\r\n\r\n\r\n  [1]: http://help.sap.com/saphelp_nwpi711/helpdata/en/48/707c54872c1b5ae10000000a42189c/frameset.htm\r\n  [3]: \r\nhttps://help.sap.com/doc/saphelp_nwpi711/7.1.1/en-US/48/88c6682a763ff6e10000000a42189c/frameset.htm\r\n","title":"SAP JCo: JCoDestination vs. JCoClient","body":"<p>The SAP Java Connector has been completely reworked from 2 to 3 version. The old JCO.Client class has been substituted with JCoDestination, but it's not just a name change, the library architecture changed completely, so porting code from JCo 2 to JCo 3 is not just a matter of changing class names.\nFor example, to connect to a SAP service with Jco 2 one had to write something like this:</p>\n<pre><code>JCO.Client client = JCO.createClient(...);\nclient.connect();\n</code></pre>\n<p>whereas with JCo 3 you have:</p>\n<pre><code>JCoDestination destination = JCoDestinationManager.getDestination(serviceName);\n</code></pre>\n<p>You can find information about the two libraries at <a href=\"http://help.sap.com/saphelp_nwpi711/helpdata/en/48/707c54872c1b5ae10000000a42189c/frameset.htm\" rel=\"nofollow noreferrer\">SAP JCo Installation</a>. Furthermore, at <a href=\"https://help.sap.com/doc/saphelp_nwpi711/7.1.1/en-US/48/88c6682a763ff6e10000000a42189c/frameset.htm\" rel=\"nofollow noreferrer\">SAP JCo Migration 2.x-3.0 (Standalone)</a> there is a detailed guide for migration from 2 to 3. The latter link can also be accessed from the left side index on the former link, from which you can access information about &quot;Client Programming SAP JCo 2.x&quot; and &quot;3.0&quot;.</p>\n"}],"owner":{"account_id":285060,"reputation":4639,"user_id":583513,"accept_rate":71,"display_name":"Philipp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8658,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":13049097,"answer_count":2,"score":7,"last_activity_date":1682616932,"creation_date":1351065851,"question_id":13045096,"body_markdown":"I&#39;m calling a function in SAP system from Java with the JCo library. So far my call works, but when I look for help in the Internet, there is always a `JCoClient` that is being used to get the functions, making commits, etc.\r\n\r\nBut a `JCoClient` class does not exist in JCo 3.\r\n\r\nInstead I use an instance of the `JCoDestination` that I created with a config file. \r\n\r\nWhat is the difference between `JCoClient` and `JCoDestination`? And why is nobody talking about `JCoDestination`, but always `JCoClient`?\r\n","title":"SAP JCo: JCoDestination vs. JCoClient","body":"<p>I'm calling a function in SAP system from Java with the JCo library. So far my call works, but when I look for help in the Internet, there is always a <code>JCoClient</code> that is being used to get the functions, making commits, etc.</p>\n<p>But a <code>JCoClient</code> class does not exist in JCo 3.</p>\n<p>Instead I use an instance of the <code>JCoDestination</code> that I created with a config file.</p>\n<p>What is the difference between <code>JCoClient</code> and <code>JCoDestination</code>? And why is nobody talking about <code>JCoDestination</code>, but always <code>JCoClient</code>?</p>\n"},{"tags":["java","http","spring-webflux","multipartform-data"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1682629463,"post_id":76123211,"comment_id":134250371,"body_markdown":"Strings are text and data isn&#39;t that. You can&#39;t do what you want. With ISO_8859_1 you can kind of hack around it, at best.","body":"Strings are text and data isn&#39;t that. You can&#39;t do what you want. With ISO_8859_1 you can kind of hack around it, at best."}],"owner":{"account_id":26038502,"reputation":95,"user_id":19743660,"display_name":"programmer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682616926,"creation_date":1682616926,"question_id":76123211,"body_markdown":"I have a request body, content-type is multipart/form data, body is like this:\r\n```\r\nContent-Type: multipart/form-data; boundary=xxxx\r\n\r\n--xxxx\r\nContent-Disposition: form-data; name=&quot;image&quot;; filename=&quot;image.jpg&quot;\r\n\r\n&lt;content of file&gt;\r\n--xxxx\r\nContent-Disposition: form-data; name=&quot;text1&quot;\r\n\r\ntext value\r\n...\r\n```\r\nIt comes to my method as ```byte[] body```. I create a String from it: ```new String(body, StandardCharsets.ISO_8859_1)``` divide this String to parts by ```boundary```, modify text content and assemble new request body ```modifiedBody.getBytes(StandardCharsets.ISO_8859_1)``` (it is Spring WebFlux, then I create Mono from this new byte array ```Mono.just(byteArray)```).\r\n\r\nThe problem is body content (images, and maybe other types) may crash.\r\nIs there are a proper way to convert byte[] array into String and back? Maybe something wrong with encoding?","title":"How to convert byte array of multipart/form-data request body into String in Java?","body":"<p>I have a request body, content-type is multipart/form data, body is like this:</p>\n<pre><code>Content-Type: multipart/form-data; boundary=xxxx\n\n--xxxx\nContent-Disposition: form-data; name=&quot;image&quot;; filename=&quot;image.jpg&quot;\n\n&lt;content of file&gt;\n--xxxx\nContent-Disposition: form-data; name=&quot;text1&quot;\n\ntext value\n...\n</code></pre>\n<p>It comes to my method as <code>byte[] body</code>. I create a String from it: <code>new String(body, StandardCharsets.ISO_8859_1)</code> divide this String to parts by <code>boundary</code>, modify text content and assemble new request body <code>modifiedBody.getBytes(StandardCharsets.ISO_8859_1)</code> (it is Spring WebFlux, then I create Mono from this new byte array <code>Mono.just(byteArray)</code>).</p>\n<p>The problem is body content (images, and maybe other types) may crash.\nIs there are a proper way to convert byte[] array into String and back? Maybe something wrong with encoding?</p>\n"},{"tags":["java","concurrency","garbage-collection"],"comments":[{"owner":{"account_id":54046,"reputation":229,"user_id":161661,"display_name":"jpse"},"score":3,"creation_date":1318345332,"post_id":7728102,"comment_id":9402436,"body_markdown":"Because garbage collection is “non deterministic” ie you cannot predict when it will happen, you thus cannot predict exactly when the finalize method will run. You can only make Objects eligible for GC and suggest gc with System.gc() without any guarantee","body":"Because garbage collection is “non deterministic” ie you cannot predict when it will happen, you thus cannot predict exactly when the finalize method will run. You can only make Objects eligible for GC and suggest gc with System.gc() without any guarantee"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1318345445,"post_id":7728102,"comment_id":9402463,"body_markdown":"You should never rely on finalization in order to close or shut down something. As jpse already said, garbage collection is non-deterministic and finalization is not guaranteed to ever run.","body":"You should never rely on finalization in order to close or shut down something. As jpse already said, garbage collection is non-deterministic and finalization is not guaranteed to ever run."},{"owner":{"account_id":46134,"reputation":185,"user_id":136216,"display_name":"Ovidiu Lupas"},"score":1,"creation_date":1318510821,"post_id":7728102,"comment_id":9438620,"body_markdown":"JVM does not exit because worker thread is blocked in workQueue.take();","body":"JVM does not exit because worker thread is blocked in workQueue.take();"}],"answers":[{"comments":[{"owner":{"account_id":22086,"reputation":14236,"user_id":54200,"accept_rate":83,"display_name":"KevinDTimm"},"score":0,"creation_date":1318349718,"post_id":7728210,"comment_id":9403927,"body_markdown":"As easy as that; this is the definition of GC :)","body":"As easy as that; this is the definition of GC :)"},{"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"score":1,"creation_date":1318354525,"post_id":7728210,"comment_id":9405229,"body_markdown":"You can force GC to run by creating a bunch of garbage and it still doesn&#39;t get collected, so it looks like Affe&#39;s answer is the correct reason.","body":"You can force GC to run by creating a bunch of garbage and it still doesn&#39;t get collected, so it looks like Affe&#39;s answer is the correct reason."}],"tags":[],"owner":{"account_id":54046,"reputation":229,"user_id":161661,"display_name":"jpse"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1318345586,"creation_date":1318345586,"answer_id":7728210,"question_id":7728102,"body_markdown":"Because garbage collection is “non deterministic” ie you cannot predict when it will happen, you thus cannot predict exactly when the finalize method will run. You can only make Objects eligible for GC and suggest gc with System.gc() without any guarantee. \r\n\r\nEven worse threads are OS specific handled by the JVM and are hardly predictable...","title":"Why doesn&#39;t this thread pool get garbage collected?","body":"<p>Because garbage collection is “non deterministic” ie you cannot predict when it will happen, you thus cannot predict exactly when the finalize method will run. You can only make Objects eligible for GC and suggest gc with System.gc() without any guarantee. </p>\n\n<p>Even worse threads are OS specific handled by the JVM and are hardly predictable...</p>\n"},{"comments":[{"owner":{"account_id":1980457,"reputation":680,"user_id":1985423,"accept_rate":70,"display_name":"Stefan Bollmann"},"score":1,"creation_date":1682488826,"post_id":7728217,"comment_id":134222013,"body_markdown":"The link is outdated.","body":"The link is outdated."}],"tags":[],"owner":{"account_id":947290,"reputation":1413,"user_id":1686368,"accept_rate":80,"display_name":"nmikhailov"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1682616903,"creation_date":1318345629,"answer_id":7728217,"question_id":7728102,"body_markdown":"Finalizers are too unpredictable. Depending on them is usually bad practice.\r\nYou can read more about it in [&quot;Effective java][1]&quot; by Joshua Bloch (item 1.7)\r\n\r\n\r\n  [1]: https://kea.nu/files/textbooks/new/Effective%20Java%20%282017%2C%20Addison-Wesley%29.pdf","title":"Why doesn&#39;t this thread pool get garbage collected?","body":"<p>Finalizers are too unpredictable. Depending on them is usually bad practice.\nYou can read more about it in <a href=\"https://kea.nu/files/textbooks/new/Effective%20Java%20%282017%2C%20Addison-Wesley%29.pdf\" rel=\"nofollow noreferrer\">&quot;Effective java</a>&quot; by Joshua Bloch (item 1.7)</p>\n"},{"tags":[],"owner":{"account_id":23503,"reputation":28545,"user_id":58956,"accept_rate":91,"display_name":"gustafc"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1318346787,"creation_date":1318346787,"answer_id":7728511,"question_id":7728102,"body_markdown":"&gt; Once executorService is out of scope, it should get collected and finalized.\r\n\r\nNot really - once it is out of scope, it *could* get collected and finalized. There are no guarantees made in the [VM spec][1] about when objects are finalized, or even *if* they are finalized:\r\n\r\n&gt; The Java programming language does not specify how soon a finalizer will be invoked, except to say that it will happen before the storage for the object is reused.\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jvms/second_edition/html/Concepts.doc.html#19147","title":"Why doesn&#39;t this thread pool get garbage collected?","body":"<blockquote>\n  <p>Once executorService is out of scope, it should get collected and finalized.</p>\n</blockquote>\n\n<p>Not really - once it is out of scope, it <em>could</em> get collected and finalized. There are no guarantees made in the <a href=\"http://java.sun.com/docs/books/jvms/second_edition/html/Concepts.doc.html#19147\" rel=\"nofollow\">VM spec</a> about when objects are finalized, or even <em>if</em> they are finalized:</p>\n\n<blockquote>\n  <p>The Java programming language does not specify how soon a finalizer will be invoked, except to say that it will happen before the storage for the object is reused.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"score":0,"creation_date":1318347874,"post_id":7728645,"comment_id":9403293,"body_markdown":"Where is the reference from the Thread in the pool to the pool? I thought that might be the case and looked everywhere and didn&#39;t find any reference.","body":"Where is the reference from the Thread in the pool to the pool? I thought that might be the case and looked everywhere and didn&#39;t find any reference."},{"owner":{"account_id":131213,"reputation":47334,"user_id":331052,"display_name":"Affe"},"score":1,"creation_date":1318348224,"post_id":7728645,"comment_id":9403415,"body_markdown":"Worker is an inner class, the compiler adds it","body":"Worker is an inner class, the compiler adds it"},{"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"score":1,"creation_date":1318350520,"post_id":7728645,"comment_id":9404184,"body_markdown":"You should add the info about Worker to your main answer, I think it&#39;s the crucial detail we were all missing.","body":"You should add the info about Worker to your main answer, I think it&#39;s the crucial detail we were all missing."}],"tags":[],"owner":{"account_id":131213,"reputation":47334,"user_id":331052,"display_name":"Affe"},"comment_count":3,"down_vote_count":0,"up_vote_count":59,"is_accepted":true,"score":59,"last_activity_date":1318357264,"creation_date":1318347292,"answer_id":7728645,"question_id":7728102,"body_markdown":"This doesn&#39;t really have anything to do with GC being non-deterministic, although it doesn&#39;t help!  (That is one cause in your example, but even if we &#39;fixed&#39; it to eat up memory and force a collection, it still wouldn&#39;t finalize)\r\n\r\nThe Worker threads that the executor creates are inner classes that have a reference back to the executor itself.  (They need it to be able to see the queue, runstate, etc!)  Running threads are not garbage collected, so with each Thread in the pool having that reference, they will keep the executor alive until all threads are dead.  If you don&#39;t manually do something to stop the threads, they will keep running forever and your JVM will never shut down.  ","title":"Why doesn&#39;t this thread pool get garbage collected?","body":"<p>This doesn't really have anything to do with GC being non-deterministic, although it doesn't help!  (That is one cause in your example, but even if we 'fixed' it to eat up memory and force a collection, it still wouldn't finalize)</p>\n\n<p>The Worker threads that the executor creates are inner classes that have a reference back to the executor itself.  (They need it to be able to see the queue, runstate, etc!)  Running threads are not garbage collected, so with each Thread in the pool having that reference, they will keep the executor alive until all threads are dead.  If you don't manually do something to stop the threads, they will keep running forever and your JVM will never shut down.  </p>\n"},{"comments":[{"owner":{"account_id":4642777,"reputation":2245,"user_id":3762105,"display_name":"troy"},"score":0,"creation_date":1546071044,"post_id":10395700,"comment_id":94773230,"body_markdown":"I still don&#39;t understand what I need to do, how to set keep-alive time?","body":"I still don&#39;t understand what I need to do, how to set keep-alive time?"}],"tags":[],"owner":{"account_id":1450281,"reputation":431,"user_id":1367431,"display_name":"mjt"},"comment_count":1,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1335863580,"creation_date":1335863580,"answer_id":10395700,"question_id":7728102,"body_markdown":"Affe is correct; the thread pool&#39;s threads will keep it from being garbage collected. When you call Executors.newFixedThreadPool(3) you get a ThreadPoolExecutor constructed like so: \r\n\r\n    ThreadPoolExecutor(3, 3, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;());\r\nAnd if you read the JavaDoc for ThreadPoolExecutor it says:\r\n\r\n&gt; A pool that is no longer referenced in a program AND has no remaining\r\n&gt; threads will be shutdown automatically. If you would like to ensure\r\n&gt; that unreferenced pools are reclaimed even if users forget to call\r\n&gt; shutdown(), then &lt;b&gt;you must arrange that unused threads eventually die,&lt;/b&gt;\r\n&gt; by setting appropriate keep-alive times, using a lower bound of zero\r\n&gt; core threads and/or setting allowCoreThreadTimeOut(boolean).\r\n\r\nIf you want your thread pool to finalize like you&#39;re expecting, you should do one of those things.","title":"Why doesn&#39;t this thread pool get garbage collected?","body":"<p>Affe is correct; the thread pool's threads will keep it from being garbage collected. When you call Executors.newFixedThreadPool(3) you get a ThreadPoolExecutor constructed like so: </p>\n\n<pre><code>ThreadPoolExecutor(3, 3, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;());\n</code></pre>\n\n<p>And if you read the JavaDoc for ThreadPoolExecutor it says:</p>\n\n<blockquote>\n  <p>A pool that is no longer referenced in a program AND has no remaining\n  threads will be shutdown automatically. If you would like to ensure\n  that unreferenced pools are reclaimed even if users forget to call\n  shutdown(), then <b>you must arrange that unused threads eventually die,</b>\n  by setting appropriate keep-alive times, using a lower bound of zero\n  core threads and/or setting allowCoreThreadTimeOut(boolean).</p>\n</blockquote>\n\n<p>If you want your thread pool to finalize like you're expecting, you should do one of those things.</p>\n"},{"tags":[],"owner":{"account_id":2605451,"reputation":389,"user_id":2855231,"accept_rate":75,"display_name":"Rudy Barbieri"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594308535,"creation_date":1594308535,"answer_id":62818412,"question_id":7728102,"body_markdown":"If you want the threads to be finalized when the Executor service is out of scope you should avoid, as mjt suggested, the use of \r\n``` java\r\n    ExecutorService executorService = Executors.newFixedThreadPool(3);`\r\n```\r\nand use for example:\r\n\r\n``` java\r\nExecutorService executorService = new ThreadPoolExecutor(0, 3, 10, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;());\r\n```\r\n\r\n","title":"Why doesn&#39;t this thread pool get garbage collected?","body":"<p>If you want the threads to be finalized when the Executor service is out of scope you should avoid, as mjt suggested, the use of</p>\n<pre class=\"lang-java prettyprint-override\"><code>    ExecutorService executorService = Executors.newFixedThreadPool(3);`\n</code></pre>\n<p>and use for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ExecutorService executorService = new ThreadPoolExecutor(0, 3, 10, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;());\n</code></pre>\n"}],"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14111,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":7728645,"answer_count":6,"score":39,"last_activity_date":1682616903,"creation_date":1318345162,"question_id":7728102,"body_markdown":"In this code example, the ExecutorService is used one and allowed to go out of scope.\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        ExecutorService executorService = Executors.newFixedThreadPool(3);\r\n        executorService.submit(new Runnable()\r\n        {\r\n            public void run()\r\n            {\r\n                System.out.println(&quot;hello&quot;);\r\n            }\r\n        });\r\n    }\r\n\r\nOnce executorService is out of scope, it should get collected and finalized. The finalize() method in ThreadPoolExecutor calls shutdown().\r\n\r\n\r\n    /**\r\n     * Invokes {@code shutdown} when this executor is no longer\r\n     * referenced and it has no threads.\r\n     */\r\n    protected void finalize() {\r\n        shutdown();\r\n    }\r\n\r\nOnce shutdown() is called, the pool threads should terminate and the JVM should be allowed to exit. However the executorSerivce is never getting collected and thus the JVM stays alive. Even calls to System.gc() don&#39;t seem to work. Why isn&#39;t executorService getting collected even after main() terminates?\r\n\r\nNote: I know I should call shutdown() myself and I always do outside of testing. I&#39;m curious why finalization isn&#39;t working as a back-up here.","title":"Why doesn&#39;t this thread pool get garbage collected?","body":"<p>In this code example, the ExecutorService is used one and allowed to go out of scope.</p>\n\n<pre><code>public static void main(String[] args)\n{\n    ExecutorService executorService = Executors.newFixedThreadPool(3);\n    executorService.submit(new Runnable()\n    {\n        public void run()\n        {\n            System.out.println(\"hello\");\n        }\n    });\n}\n</code></pre>\n\n<p>Once executorService is out of scope, it should get collected and finalized. The finalize() method in ThreadPoolExecutor calls shutdown().</p>\n\n<pre><code>/**\n * Invokes {@code shutdown} when this executor is no longer\n * referenced and it has no threads.\n */\nprotected void finalize() {\n    shutdown();\n}\n</code></pre>\n\n<p>Once shutdown() is called, the pool threads should terminate and the JVM should be allowed to exit. However the executorSerivce is never getting collected and thus the JVM stays alive. Even calls to System.gc() don't seem to work. Why isn't executorService getting collected even after main() terminates?</p>\n\n<p>Note: I know I should call shutdown() myself and I always do outside of testing. I'm curious why finalization isn't working as a back-up here.</p>\n"},{"tags":["java","jvx"],"answers":[{"comments":[{"owner":{"account_id":5547891,"reputation":1000,"user_id":4401979,"display_name":"FabioL"},"score":0,"creation_date":1682585240,"post_id":76099690,"comment_id":134240137,"body_markdown":"Use of ChatGPT is currently banned in stackoverflow","body":"Use of ChatGPT is currently banned in stackoverflow"},{"owner":{"account_id":28159708,"reputation":24,"user_id":21519867,"display_name":"we42"},"score":0,"creation_date":1682590767,"post_id":76099690,"comment_id":134241369,"body_markdown":"The script is hand-written but I tried formatting with ChatGPT. I guess this is not forbidden?","body":"The script is hand-written but I tried formatting with ChatGPT. I guess this is not forbidden?"},{"owner":{"account_id":5547891,"reputation":1000,"user_id":4401979,"display_name":"FabioL"},"score":0,"creation_date":1682591945,"post_id":76099690,"comment_id":134241646,"body_markdown":"My comment was just meant to warn you! In general, helping you with chatGPT for answers is not allowed. Check the [policy announcement](https://meta.stackoverflow.com/questions/421831/temporary-policy-chatgpt-is-banned?cb=1) for further details.","body":"My comment was just meant to warn you! In general, helping you with chatGPT for answers is not allowed. Check the <a href=\"https://meta.stackoverflow.com/questions/421831/temporary-policy-chatgpt-is-banned?cb=1\">policy announcement</a> for further details."},{"owner":{"account_id":28159708,"reputation":24,"user_id":21519867,"display_name":"we42"},"score":0,"creation_date":1682592575,"post_id":76099690,"comment_id":134241782,"body_markdown":"Thanks! I will change the answer and re-format the code.","body":"Thanks! I will change the answer and re-format the code."},{"owner":{"account_id":28159708,"reputation":24,"user_id":21519867,"display_name":"we42"},"score":0,"creation_date":1682616772,"post_id":76099690,"comment_id":134247946,"body_markdown":"No more ChatGPT involved!","body":"No more ChatGPT involved!"}],"tags":[],"owner":{"account_id":28159708,"reputation":24,"user_id":21519867,"display_name":"we42"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682616734,"creation_date":1682415425,"answer_id":76099690,"question_id":76099576,"body_markdown":"    &lt;target name=&quot;start.updateReactUI.nightly&quot; description=&quot;Updates reactUI with nightly build&quot;&gt;\r\n      \t\r\n      &lt;tstamp&gt;\r\n        &lt;format property=&quot;datepattern&quot; pattern=&quot;dd_MM_yyyy&quot;/&gt;\r\n        &lt;!-- one day earlier\r\n        &lt;format property=&quot;datepattern&quot; pattern=&quot;dd_MM_yyyy&quot; offset=&quot;-1&quot; unit=&quot;day&quot; /&gt; \r\n         --&gt;\r\n      &lt;/tstamp&gt;\r\n        \r\n      &lt;get src=&quot;https://github.com/sibvisions/reactUI/releases/download/build-${datepattern}/reactBuild_${datepattern}.zip&quot; dest=&quot;${build}/nightly.zip&quot; usetimestamp=&quot;true&quot;/&gt;\r\n      \t\r\n      &lt;delete file=&quot;${build}/nightly&quot; /&gt;\r\n      \t\r\n      &lt;unzip src=&quot;${build}/nightly.zip&quot; dest=&quot;${build}/nightly&quot;&gt;\r\n        &lt;!-- extract only sub directory to dest directory --&gt;\r\n        &lt;patternset&gt;\r\n          &lt;include name=&quot;build/*&quot;/&gt;\r\n        &lt;/patternset&gt;\r\n        &lt;mapper&gt;\r\n          &lt;globmapper from=&quot;build/*&quot; to=&quot;*&quot;/&gt;\r\n        &lt;/mapper&gt;\r\n      &lt;/unzip&gt;\r\n    \r\n      &lt;!-- Delete old files --&gt;\r\n      &lt;delete includeEmptyDirs=&quot;true&quot;&gt;\r\n        &lt;fileset dir=&quot;${basedir}/WebContent/ui&quot;&gt;\r\n          &lt;!-- keep additional project fonts --&gt;\r\n          &lt;exclude name=&quot;*.ttf&quot;/&gt;\r\n          &lt;!-- keep css of project --&gt;\r\n      \t  &lt;exclude name=&quot;*.css&quot;/&gt;\r\n          &lt;!-- keep fav icon of project --&gt;\r\n      \t  &lt;exclude name=&quot;favicon.ico&quot;/&gt;\r\n      \t&lt;/fileset&gt;\r\n      &lt;/delete&gt;\r\n      \t\r\n      &lt;!-- Copy new files --&gt;\r\n      &lt;copy todir=&quot;${basedir}/WebContent/ui&quot;&gt;\r\n        &lt;fileset dir=&quot;${build}/nightly&quot;&gt;\r\n          &lt;!-- ignore css of build --&gt;\r\n          &lt;exclude name=&quot;*.css&quot; /&gt;\r\n          &lt;!-- ignore fav icon of build --&gt;\r\n          &lt;exclude name=&quot;favicon.ico&quot; /&gt;\r\n        &lt;/fileset&gt;\r\n      &lt;/copy&gt;\r\n      \t\r\n    &lt;/target&gt;\r\n\r\nBut be careful, because there are no nightly builds on Saturday or Sunday, but the date is one day ahead! Saturday build is with source code of Friday. No build on Sunday and Monday. The Tuesday build is with source code of Monday. Looks like they build after midnight.\r\n","title":"ANT task for update of reactUI of JVx application","body":"<pre><code>&lt;target name=&quot;start.updateReactUI.nightly&quot; description=&quot;Updates reactUI with nightly build&quot;&gt;\n    \n  &lt;tstamp&gt;\n    &lt;format property=&quot;datepattern&quot; pattern=&quot;dd_MM_yyyy&quot;/&gt;\n    &lt;!-- one day earlier\n    &lt;format property=&quot;datepattern&quot; pattern=&quot;dd_MM_yyyy&quot; offset=&quot;-1&quot; unit=&quot;day&quot; /&gt; \n     --&gt;\n  &lt;/tstamp&gt;\n    \n  &lt;get src=&quot;https://github.com/sibvisions/reactUI/releases/download/build-${datepattern}/reactBuild_${datepattern}.zip&quot; dest=&quot;${build}/nightly.zip&quot; usetimestamp=&quot;true&quot;/&gt;\n    \n  &lt;delete file=&quot;${build}/nightly&quot; /&gt;\n    \n  &lt;unzip src=&quot;${build}/nightly.zip&quot; dest=&quot;${build}/nightly&quot;&gt;\n    &lt;!-- extract only sub directory to dest directory --&gt;\n    &lt;patternset&gt;\n      &lt;include name=&quot;build/*&quot;/&gt;\n    &lt;/patternset&gt;\n    &lt;mapper&gt;\n      &lt;globmapper from=&quot;build/*&quot; to=&quot;*&quot;/&gt;\n    &lt;/mapper&gt;\n  &lt;/unzip&gt;\n\n  &lt;!-- Delete old files --&gt;\n  &lt;delete includeEmptyDirs=&quot;true&quot;&gt;\n    &lt;fileset dir=&quot;${basedir}/WebContent/ui&quot;&gt;\n      &lt;!-- keep additional project fonts --&gt;\n      &lt;exclude name=&quot;*.ttf&quot;/&gt;\n      &lt;!-- keep css of project --&gt;\n      &lt;exclude name=&quot;*.css&quot;/&gt;\n      &lt;!-- keep fav icon of project --&gt;\n      &lt;exclude name=&quot;favicon.ico&quot;/&gt;\n    &lt;/fileset&gt;\n  &lt;/delete&gt;\n    \n  &lt;!-- Copy new files --&gt;\n  &lt;copy todir=&quot;${basedir}/WebContent/ui&quot;&gt;\n    &lt;fileset dir=&quot;${build}/nightly&quot;&gt;\n      &lt;!-- ignore css of build --&gt;\n      &lt;exclude name=&quot;*.css&quot; /&gt;\n      &lt;!-- ignore fav icon of build --&gt;\n      &lt;exclude name=&quot;favicon.ico&quot; /&gt;\n    &lt;/fileset&gt;\n  &lt;/copy&gt;\n    \n&lt;/target&gt;\n</code></pre>\n<p>But be careful, because there are no nightly builds on Saturday or Sunday, but the date is one day ahead! Saturday build is with source code of Friday. No build on Sunday and Monday. The Tuesday build is with source code of Monday. Looks like they build after midnight.</p>\n"}],"owner":{"account_id":28167502,"reputation":90,"user_id":21526498,"display_name":"Robosch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76099690,"answer_count":1,"score":1,"last_activity_date":1682616734,"creation_date":1682414651,"question_id":76099576,"body_markdown":"I configured my JVx application for using [reactUI][1] and saw that there are nightly builds. I want to update my application automatically with latest nightly build. Is there an ant task for this use-case? I&#39;m using ant to build my application.\r\n\r\n\r\n  [1]: https://github.com/sibvisions/reactUI","title":"ANT task for update of reactUI of JVx application","body":"<p>I configured my JVx application for using <a href=\"https://github.com/sibvisions/reactUI\" rel=\"nofollow noreferrer\">reactUI</a> and saw that there are nightly builds. I want to update my application automatically with latest nightly build. Is there an ant task for this use-case? I'm using ant to build my application.</p>\n"},{"tags":["java","kotlin","x509certificate","bouncycastle"],"answers":[{"tags":[],"owner":{"account_id":19609870,"reputation":1,"user_id":14352605,"display_name":"Frank97"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682616616,"creation_date":1682616616,"answer_id":76123170,"question_id":73129591,"body_markdown":"Try bitwise OR instead of AND.","title":"How to provide multiple values for KeyUsage?","body":"<p>Try bitwise OR instead of AND.</p>\n"}],"owner":{"account_id":1936496,"reputation":32813,"user_id":1743843,"accept_rate":77,"display_name":"softshipper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682616616,"creation_date":1658868615,"question_id":73129591,"body_markdown":"I have created a certificate programmatically with https://www.bouncycastle.org/ library. \r\nThe code that I have so far looks as follows:\r\n\r\n    fun generate(\r\n        keyPair: KeyPair,\r\n        hashAlgorithm: String?,\r\n        cn: String,\r\n        days: Long\r\n        ): X509Certificate? {\r\n        val now: Instant = Instant.now()\r\n        val notBefore: Date = Date.from(now)\r\n        val notAfter: Date = Date.from(now.plus(Duration.ofDays(days)))\r\n        val contentSigner: ContentSigner = JcaContentSignerBuilder(hashAlgorithm).build(keyPair.private)\r\n        val x500Name = X500Name(&quot;CN=$cn&quot;)\r\n        val certificateBuilder: X509v3CertificateBuilder = JcaX509v3CertificateBuilder(\r\n            x500Name,\r\n            BigInteger.valueOf(now.toEpochMilli()),\r\n            notBefore,\r\n            notAfter,\r\n            x500Name,\r\n            keyPair.public\r\n        )\r\n            .addExtension(Extension.subjectKeyIdentifier, false, createSubjectKeyId(keyPair.public))\r\n            .addExtension(Extension.authorityKeyIdentifier, false, createAuthorityKeyId(keyPair.public))\r\n            .addExtension(Extension.basicConstraints, false, BasicConstraints(false))\r\n            .addExtension(Extension.keyUsage, true, KeyUsage(KeyUsage.digitalSignature and KeyUsage.keyEncipherment and KeyUsage.nonRepudiation))\r\n\r\n        return JcaX509CertificateConverter()\r\n            .setProvider(BouncyCastleProvider()).getCertificate(certificateBuilder.build(contentSigner))\r\n    }\r\n\r\nIt works as expected but I would like to add multiple values to `KeyUsage` extension, namely `Digital Signature` and `Key Encipherment`. \r\n\r\nRegarding to the documentation on https://www.openssl.org/docs/manmaster/man5/x509v3_config.html:\r\n\r\n&gt; Key usage is a multi-valued extension consisting of a list of names of\r\n&gt; the permitted key usages. The defined values are: digitalSignature,\r\n&gt; nonRepudiation, keyEncipherment, dataEncipherment, keyAgreement,\r\n&gt; keyCertSign, cRLSign, encipherOnly, and decipherOnly. \r\n\r\nit is possible.  \r\n\r\nI tried:\r\n\r\n    .addExtension(Extension.keyUsage, true, KeyUsage(KeyUsage.digitalSignature and KeyUsage.keyEncipherment))  \r\n\r\nit shows only `Digital Signature` but the expectation is `Digital Signature, Key Encipherment`:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhat am I doing wrong?\r\n\r\n  [1]: https://i.stack.imgur.com/eNPwZ.png","title":"How to provide multiple values for KeyUsage?","body":"<p>I have created a certificate programmatically with <a href=\"https://www.bouncycastle.org/\" rel=\"nofollow noreferrer\">https://www.bouncycastle.org/</a> library.\nThe code that I have so far looks as follows:</p>\n<pre><code>fun generate(\n    keyPair: KeyPair,\n    hashAlgorithm: String?,\n    cn: String,\n    days: Long\n    ): X509Certificate? {\n    val now: Instant = Instant.now()\n    val notBefore: Date = Date.from(now)\n    val notAfter: Date = Date.from(now.plus(Duration.ofDays(days)))\n    val contentSigner: ContentSigner = JcaContentSignerBuilder(hashAlgorithm).build(keyPair.private)\n    val x500Name = X500Name(&quot;CN=$cn&quot;)\n    val certificateBuilder: X509v3CertificateBuilder = JcaX509v3CertificateBuilder(\n        x500Name,\n        BigInteger.valueOf(now.toEpochMilli()),\n        notBefore,\n        notAfter,\n        x500Name,\n        keyPair.public\n    )\n        .addExtension(Extension.subjectKeyIdentifier, false, createSubjectKeyId(keyPair.public))\n        .addExtension(Extension.authorityKeyIdentifier, false, createAuthorityKeyId(keyPair.public))\n        .addExtension(Extension.basicConstraints, false, BasicConstraints(false))\n        .addExtension(Extension.keyUsage, true, KeyUsage(KeyUsage.digitalSignature and KeyUsage.keyEncipherment and KeyUsage.nonRepudiation))\n\n    return JcaX509CertificateConverter()\n        .setProvider(BouncyCastleProvider()).getCertificate(certificateBuilder.build(contentSigner))\n}\n</code></pre>\n<p>It works as expected but I would like to add multiple values to <code>KeyUsage</code> extension, namely <code>Digital Signature</code> and <code>Key Encipherment</code>.</p>\n<p>Regarding to the documentation on <a href=\"https://www.openssl.org/docs/manmaster/man5/x509v3_config.html\" rel=\"nofollow noreferrer\">https://www.openssl.org/docs/manmaster/man5/x509v3_config.html</a>:</p>\n<blockquote>\n<p>Key usage is a multi-valued extension consisting of a list of names of\nthe permitted key usages. The defined values are: digitalSignature,\nnonRepudiation, keyEncipherment, dataEncipherment, keyAgreement,\nkeyCertSign, cRLSign, encipherOnly, and decipherOnly.</p>\n</blockquote>\n<p>it is possible.</p>\n<p>I tried:</p>\n<pre><code>.addExtension(Extension.keyUsage, true, KeyUsage(KeyUsage.digitalSignature and KeyUsage.keyEncipherment))  \n</code></pre>\n<p>it shows only <code>Digital Signature</code> but the expectation is <code>Digital Signature, Key Encipherment</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/eNPwZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eNPwZ.png\" alt=\"enter image description here\" /></a></p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":72974,"reputation":10537,"user_id":210421,"accept_rate":60,"display_name":"Mirko N."},"score":1,"creation_date":1262528961,"post_id":1995080,"comment_id":1913084,"body_markdown":"Have you tried enabling show_sql to see what&#39;s going on underneath?","body":"Have you tried enabling show_sql to see what&#39;s going on underneath?"},{"owner":{"account_id":85878,"reputation":44865,"user_id":239168,"accept_rate":87,"display_name":"Eran Medan"},"score":0,"creation_date":1262532295,"post_id":1995080,"comment_id":1913224,"body_markdown":"Please add the OrderTransaction and Order classes code as well.\\","body":"Please add the OrderTransaction and Order classes code as well.\\"}],"answers":[{"comments":[{"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"score":129,"creation_date":1300018370,"post_id":1995244,"comment_id":5962237,"body_markdown":"Even if you do understand the following explanation, you might well complain about this behaviour on the Hibernate forum, because it is flipping stupid behaviour!","body":"Even if you do understand the following explanation, you might well complain about this behaviour on the Hibernate forum, because it is flipping stupid behaviour!"},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":18,"creation_date":1330462321,"post_id":1995244,"comment_id":12012467,"body_markdown":"Quite right Tom, Id forgotten about Gavin Kings arrogant attitude. He also says &#39;Hibernate does not filter out these duplicate references by default. Some people (not you) actually want this&#39; Id be interested when people actually ant this.","body":"Quite right Tom, Id forgotten about Gavin Kings arrogant attitude. He also says &#39;Hibernate does not filter out these duplicate references by default. Some people (not you) actually want this&#39; Id be interested when people actually ant this."},{"owner":{"account_id":2616108,"reputation":2559,"user_id":2265133,"accept_rate":74,"display_name":"Parobay"},"score":17,"creation_date":1390572989,"post_id":1995244,"comment_id":32161993,"body_markdown":"@TomAnderson yes exactly. **why would anyone need those duplicates?** I am asking out of pure curiosity, since I have no idea... You can create duplicates yourself, as many of them as you wish .. ;-)","body":"@TomAnderson yes exactly. <b>why would anyone need those duplicates?</b> I am asking out of pure curiosity, since I have no idea... You can create duplicates yourself, as many of them as you wish .. ;-)"},{"owner":{"account_id":70806,"reputation":3544,"user_id":204984,"accept_rate":85,"display_name":"Roman Zenka"},"score":14,"creation_date":1425404272,"post_id":1995244,"comment_id":45945928,"body_markdown":"Sigh. This is actually Hibernate flaw, IMHO. I want to optimize my queries, so I go from &quot;select&quot; to &quot;join&quot; in my mapping file. Suddenly my code BREAKS all over the place. Then I run around and fix all my DAOs by appending result transformers and whatnot. User experience == very negative. I understand that some people absolutely love having duplicates for bizarre reasons, but why can&#39;t I say &quot;fetch these objects FASTER but do not bug me with duplicates&quot; by specifying fetch=&quot;justworkplease&quot;?","body":"Sigh. This is actually Hibernate flaw, IMHO. I want to optimize my queries, so I go from &quot;select&quot; to &quot;join&quot; in my mapping file. Suddenly my code BREAKS all over the place. Then I run around and fix all my DAOs by appending result transformers and whatnot. User experience == very negative. I understand that some people absolutely love having duplicates for bizarre reasons, but why can&#39;t I say &quot;fetch these objects FASTER but do not bug me with duplicates&quot; by specifying fetch=&quot;justworkplease&quot;?"},{"owner":{"account_id":7826453,"reputation":3061,"user_id":5917837,"accept_rate":29,"display_name":"mantri"},"score":0,"creation_date":1495612484,"post_id":1995244,"comment_id":75321491,"body_markdown":"@Eran : I am facing similar kind of problem. I am not getting duplicate parent objects, but I am getting children in each parent object repeated as many times as there are number of parent objects in the response. Any idea why this problem ?","body":"@Eran : I am facing similar kind of problem. I am not getting duplicate parent objects, but I am getting children in each parent object repeated as many times as there are number of parent objects in the response. Any idea why this problem ?"}],"tags":[],"owner":{"account_id":85878,"reputation":44865,"user_id":239168,"accept_rate":87,"display_name":"Eran Medan"},"comment_count":5,"down_vote_count":2,"up_vote_count":128,"is_accepted":true,"score":126,"last_activity_date":1655894650,"creation_date":1262531754,"answer_id":1995244,"question_id":1995080,"body_markdown":"This is actually the expected behaviour if I understood your configuration correctly.\r\n\r\nYou get the same `Order` instance in any of the results, but since now you are doing a join with the `OrderTransaction`, it has to return the same amount of results a regular sql join will return\r\n\r\nSo actually it *should* apear multiple times. this is explained very well by the author (Gavin King) himself [here][1]: \r\nIt both explains why, and how to still get distinct results\r\n\r\n&lt;hr&gt;\r\nAlso mentioned in the Hibernate [FAQ][2] :\r\n\r\n&gt; **Hibernate does not return distinct results for a query with outer join fetching enabled for a collection** (even if I use the distinct\r\n&gt; keyword)? First, you need to understand SQL and how OUTER JOINs work\r\n&gt; in SQL. If you do not fully understand and comprehend outer joins in\r\n&gt; SQL, do not continue reading this FAQ item but consult a SQL manual or\r\n&gt; tutorial. Otherwise you will not understand the following explanation\r\n&gt; and you will complain about this behavior on the Hibernate forum.\r\n&gt; \r\n&gt; Typical examples that might return duplicate references of the same\r\n&gt; Order object:\r\n&gt; \r\n&gt;     List result = session.createCriteria(Order.class)\r\n&gt;                         .setFetchMode(&quot;lineItems&quot;, FetchMode.JOIN)\r\n&gt;                         .list();\r\n&gt; \r\n&gt; \r\n&gt; ----------\r\n&gt; \r\n&gt; \r\n&gt;     &lt;class name=&quot;Order&quot;&gt;\r\n&gt;         ...\r\n&gt;         &lt;set name=&quot;lineItems&quot; fetch=&quot;join&quot;&gt;\r\n&gt; \r\n&gt; \r\n&gt; ----------\r\n&gt; \r\n&gt; \r\n&gt;     List result = session.createCriteria(Order.class)\r\n&gt;                            .list();\r\n&gt;     List result = session.createQuery(&quot;select o from Order o left join fetch o.lineItems&quot;).list();\r\n&gt; \r\n&gt; All of these examples produce the same SQL statement:\r\n&gt; \r\n&gt;     SELECT o.*, l.* from ORDER o LEFT OUTER JOIN LINE_ITEMS l ON o.ID = l.ORDER_ID\r\n&gt; \r\n&gt; Want to know why the duplicates are there? Look at the SQL resultset,\r\n&gt; Hibernate does not hide these duplicates on the left side of the outer\r\n&gt; joined result but returns all the duplicates of the driving table. If\r\n&gt; you have 5 orders in the database, and each order has 3 line items,\r\n&gt; the resultset will be 15 rows. The Java result list of these queries\r\n&gt; will have 15 elements, all of type Order. Only 5 Order instances will\r\n&gt; be created by Hibernate, but duplicates of the SQL resultset are\r\n&gt; preserved as duplicate references to these 5 instances. If you do not\r\n&gt; understand this last sentence, you need to read up on Java and the\r\n&gt; difference between an instance on the Java heap and a reference to\r\n&gt; such an instance.\r\n&gt; \r\n&gt; (Why a left outer join? If you&#39;d have an additional order with no line\r\n&gt; items, the result set would be 16 rows with NULL filling up the right\r\n&gt; side, where the line item data is for other order. You want orders\r\n&gt; even if they don&#39;t have line items, right? If not, use an inner join\r\n&gt; fetch in your HQL).\r\n&gt; \r\n&gt; Hibernate does not filter out these duplicate references by default.\r\n&gt; Some people (not you) actually want this. How can you filter them out?\r\n&gt; \r\n&gt; Like this:\r\n&gt; \r\n&gt;     Collection result = new LinkedHashSet( session.create*(...).list() );\r\n\r\n\r\n  [1]: https://developer.jboss.org/docs/DOC-15782#jive_content_id_Hibernate_does_not_return_distinct_results_for_a_query_with_outer_join_fetching_enabled_for_a_collection_even_if_I_use_the_distinct_keyword\r\n  [2]: https://developer.jboss.org/docs/DOC-15782#jive_content_id_Hibernate_does_not_return_distinct_results_for_a_query_with_outer_join_fetching_enabled_for_a_collection_even_if_I_use_the_distinct_keyword","title":"Hibernate Criteria returns children multiple times with FetchType.EAGER","body":"<p>This is actually the expected behaviour if I understood your configuration correctly.</p>\n<p>You get the same <code>Order</code> instance in any of the results, but since now you are doing a join with the <code>OrderTransaction</code>, it has to return the same amount of results a regular sql join will return</p>\n<p>So actually it <em>should</em> apear multiple times. this is explained very well by the author (Gavin King) himself <a href=\"https://developer.jboss.org/docs/DOC-15782#jive_content_id_Hibernate_does_not_return_distinct_results_for_a_query_with_outer_join_fetching_enabled_for_a_collection_even_if_I_use_the_distinct_keyword\" rel=\"nofollow noreferrer\">here</a>:\nIt both explains why, and how to still get distinct results</p>\n<hr>\nAlso mentioned in the Hibernate [FAQ][2] :\n<blockquote>\n<p><strong>Hibernate does not return distinct results for a query with outer join fetching enabled for a collection</strong> (even if I use the distinct\nkeyword)? First, you need to understand SQL and how OUTER JOINs work\nin SQL. If you do not fully understand and comprehend outer joins in\nSQL, do not continue reading this FAQ item but consult a SQL manual or\ntutorial. Otherwise you will not understand the following explanation\nand you will complain about this behavior on the Hibernate forum.</p>\n<p>Typical examples that might return duplicate references of the same\nOrder object:</p>\n<pre><code>List result = session.createCriteria(Order.class)\n                    .setFetchMode(&quot;lineItems&quot;, FetchMode.JOIN)\n                    .list();\n</code></pre>\n<hr />\n<pre><code>&lt;class name=&quot;Order&quot;&gt;\n    ...\n    &lt;set name=&quot;lineItems&quot; fetch=&quot;join&quot;&gt;\n</code></pre>\n<hr />\n<pre><code>List result = session.createCriteria(Order.class)\n                       .list();\nList result = session.createQuery(&quot;select o from Order o left join fetch o.lineItems&quot;).list();\n</code></pre>\n<p>All of these examples produce the same SQL statement:</p>\n<pre><code>SELECT o.*, l.* from ORDER o LEFT OUTER JOIN LINE_ITEMS l ON o.ID = l.ORDER_ID\n</code></pre>\n<p>Want to know why the duplicates are there? Look at the SQL resultset,\nHibernate does not hide these duplicates on the left side of the outer\njoined result but returns all the duplicates of the driving table. If\nyou have 5 orders in the database, and each order has 3 line items,\nthe resultset will be 15 rows. The Java result list of these queries\nwill have 15 elements, all of type Order. Only 5 Order instances will\nbe created by Hibernate, but duplicates of the SQL resultset are\npreserved as duplicate references to these 5 instances. If you do not\nunderstand this last sentence, you need to read up on Java and the\ndifference between an instance on the Java heap and a reference to\nsuch an instance.</p>\n<p>(Why a left outer join? If you'd have an additional order with no line\nitems, the result set would be 16 rows with NULL filling up the right\nside, where the line item data is for other order. You want orders\neven if they don't have line items, right? If not, use an inner join\nfetch in your HQL).</p>\n<p>Hibernate does not filter out these duplicate references by default.\nSome people (not you) actually want this. How can you filter them out?</p>\n<p>Like this:</p>\n<pre><code>Collection result = new LinkedHashSet( session.create*(...).list() );\n</code></pre>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":40001,"reputation":606,"user_id":115694,"accept_rate":71,"display_name":"JamesD"},"score":8,"creation_date":1332969968,"post_id":1998782,"comment_id":12654390,"body_markdown":"This will work for most cases....except for when you try to use Criteria to Fetch 2 collections/associations.","body":"This will work for most cases....except for when you try to use Criteria to Fetch 2 collections/associations."}],"tags":[],"owner":{"account_id":71841,"reputation":2413,"user_id":207666,"display_name":"EJB"},"comment_count":1,"down_vote_count":0,"up_vote_count":94,"is_accepted":false,"score":94,"last_activity_date":1336539991,"creation_date":1262602003,"answer_id":1998782,"question_id":1995080,"body_markdown":"In addition to what is mentioned by Eran, another way to get the behavior you want, is to set the result transformer:\r\n\r\n    criteria.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);","title":"Hibernate Criteria returns children multiple times with FetchType.EAGER","body":"<p>In addition to what is mentioned by Eran, another way to get the behavior you want, is to set the result transformer:</p>\n\n<pre><code>criteria.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":461562,"reputation":1584,"user_id":863336,"display_name":"Bipul"},"score":11,"creation_date":1398260232,"post_id":22916223,"comment_id":35568793,"body_markdown":"FetchMode.SELECT increases number of SQL queries fired by Hibernate but ensures only one instance per root entity record. Hibernate will fire a select for every child record in this case. So you should account for it with respect to the performance considerations.","body":"FetchMode.SELECT increases number of SQL queries fired by Hibernate but ensures only one instance per root entity record. Hibernate will fire a select for every child record in this case. So you should account for it with respect to the performance considerations."},{"owner":{"account_id":1229741,"reputation":1137,"user_id":1194578,"accept_rate":0,"display_name":"mathi"},"score":1,"creation_date":1398403241,"post_id":22916223,"comment_id":35640763,"body_markdown":"@BipulKumar yes, but this is the option when we can&#39;t use lazy fetch because we need to maintain a session for lazy fetch for accessing sub objects.","body":"@BipulKumar yes, but this is the option when we can&#39;t use lazy fetch because we need to maintain a session for lazy fetch for accessing sub objects."}],"tags":[],"owner":{"account_id":1229741,"reputation":1137,"user_id":1194578,"accept_rate":0,"display_name":"mathi"},"comment_count":2,"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1396883135,"creation_date":1396883135,"answer_id":22916223,"question_id":1995080,"body_markdown":"try\r\n \r\n    @Fetch (FetchMode.SELECT) \r\n\r\nfor example\r\n\r\n    @OneToMany(targetEntity = OrderTransaction.class, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    @Fetch (FetchMode.SELECT)\r\n    public List&lt;OrderTransaction&gt; getOrderTransactions() {\r\n    return orderTransactions;\r\n}\r\n\r\n","title":"Hibernate Criteria returns children multiple times with FetchType.EAGER","body":"<p>try</p>\n\n<pre><code>@Fetch (FetchMode.SELECT) \n</code></pre>\n\n<p>for example</p>\n\n<pre><code>@OneToMany(targetEntity = OrderTransaction.class, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n@Fetch (FetchMode.SELECT)\npublic List&lt;OrderTransaction&gt; getOrderTransactions() {\nreturn orderTransactions;\n</code></pre>\n\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":81067,"reputation":1102,"user_id":228838,"accept_rate":86,"display_name":"Jacob Zwiers"},"score":2,"creation_date":1412868874,"post_id":24450905,"comment_id":41236497,"body_markdown":"Is this an incidental mention of a Hibernate best practice or relevant to the multi-child retrieve question from the OP?","body":"Is this an incidental mention of a Hibernate best practice or relevant to the multi-child retrieve question from the OP?"},{"owner":{"account_id":1904786,"reputation":4277,"user_id":1719877,"display_name":"agelbess"},"score":1,"creation_date":1412935827,"post_id":24450905,"comment_id":41263019,"body_markdown":"Check this http://java.dzone.com/articles/hibernate-facts-favoring-sets and this https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/4.3/html/Hibernate_Reference_Guide/Persistent_Classes-Implementing_equals_and_hashCode.html","body":"Check this <a href=\"http://java.dzone.com/articles/hibernate-facts-favoring-sets\" rel=\"nofollow noreferrer\">java.dzone.com/articles/hibernate-facts-favoring-sets</a> and this <a href=\"https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/4.3/html/Hibernate_Reference_Guide/Persistent_Classes-Implementing_equals_and_hashCode.html\" rel=\"nofollow noreferrer\">access.redhat.com/documentation/en-US/&hellip;</a>"},{"owner":{"account_id":81067,"reputation":1102,"user_id":228838,"accept_rate":86,"display_name":"Jacob Zwiers"},"score":0,"creation_date":1412967748,"post_id":24450905,"comment_id":41280564,"body_markdown":"Got it. Secondary to the OP&#39;s question.  Though, the dzone article should probably be taken with a grain of salt... based on author&#39;s own admission in comments.","body":"Got it. Secondary to the OP&#39;s question.  Though, the dzone article should probably be taken with a grain of salt... based on author&#39;s own admission in comments."},{"owner":{"account_id":167796,"reputation":1319,"user_id":392831,"accept_rate":92,"display_name":"Mat"},"score":2,"creation_date":1454686663,"post_id":24450905,"comment_id":58170543,"body_markdown":"This is a very good answer IMO. If you don&#39;t want duplicates, it&#39;s highly probable that you&#39;d rather use a Set than a List- Using a Set (and implementing correct equals / hascode methods of course) solved the problem for me. Beware when implementing hashcode / equals, as stated  in the redhat doc, not to use the id field.","body":"This is a very good answer IMO. If you don&#39;t want duplicates, it&#39;s highly probable that you&#39;d rather use a Set than a List- Using a Set (and implementing correct equals / hascode methods of course) solved the problem for me. Beware when implementing hashcode / equals, as stated  in the redhat doc, not to use the id field."},{"owner":{"account_id":1904786,"reputation":4277,"user_id":1719877,"display_name":"agelbess"},"score":1,"creation_date":1454810977,"post_id":24450905,"comment_id":58211485,"body_markdown":"Thanks for your IMO. Moreover, do not get into trouble creating equals() and hashCode() methods. Let your IDE or Lombok generate them for you.","body":"Thanks for your IMO. Moreover, do not get into trouble creating equals() and hashCode() methods. Let your IDE or Lombok generate them for you."},{"owner":{"account_id":7229861,"reputation":980,"user_id":5517121,"display_name":"Mahendran Ayyarsamy Kandiar"},"score":0,"creation_date":1525276698,"post_id":24450905,"comment_id":87296000,"body_markdown":"May 2 2018. I got duplicates on the parent entity. the children were fine. Only adding `@Fetch(FetchMode.SELECT)` to my child set helped me. YMMV","body":"May 2 2018. I got duplicates on the parent entity. the children were fine. Only adding <code>@Fetch(FetchMode.SELECT)</code> to my child set helped me. YMMV"},{"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"score":0,"creation_date":1598958009,"post_id":24450905,"comment_id":112618552,"body_markdown":"https://web.archive.org/web/20131022154531/http://java.dzone.com/articles/hibernate-facts-favoring-sets for the DZone article","body":"<a href=\"https://web.archive.org/web/20131022154531/http://java.dzone.com/articles/hibernate-facts-favoring-sets\" rel=\"nofollow noreferrer\">web.archive.org/web/20131022154531/http://java.dzone.com/&hellip;</a> for the DZone article"}],"tags":[],"owner":{"account_id":1904786,"reputation":4277,"user_id":1719877,"display_name":"agelbess"},"comment_count":7,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1403869080,"creation_date":1403869080,"answer_id":24450905,"question_id":1995080,"body_markdown":"Do not use List and ArrayList but Set and HashSet.\r\n\r\n    @OneToMany(targetEntity = OrderTransaction.class, cascade = CascadeType.ALL)\r\n    public Set&lt;OrderTransaction&gt; getOrderTransactions() {\r\n        return orderTransactions;\r\n    }","title":"Hibernate Criteria returns children multiple times with FetchType.EAGER","body":"<p>Do not use List and ArrayList but Set and HashSet.</p>\n\n<pre><code>@OneToMany(targetEntity = OrderTransaction.class, cascade = CascadeType.ALL)\npublic Set&lt;OrderTransaction&gt; getOrderTransactions() {\n    return orderTransactions;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2777324,"reputation":423,"user_id":2390645,"display_name":"easyScript"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1418903233,"creation_date":1418903233,"answer_id":27545867,"question_id":1995080,"body_markdown":"Using Java 8 and Streams I add in my utility method this return statment:\r\n    \r\n    return results.stream().distinct().collect(Collectors.toList());\r\n\r\nStreams remove duplicate very fast. I use annotation in my Entity class like this:\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;STUDENT_COURSES&quot;)\r\n    private List&lt;Course&gt; courses;\r\n\r\nI think is bether in my app to use session in method where I need data from data base. Closse session when I done. Ofcourse set my Entity class to use leasy fetch type. I go to refactor.","title":"Hibernate Criteria returns children multiple times with FetchType.EAGER","body":"<p>Using Java 8 and Streams I add in my utility method this return statment:</p>\n\n<pre><code>return results.stream().distinct().collect(Collectors.toList());\n</code></pre>\n\n<p>Streams remove duplicate very fast. I use annotation in my Entity class like this:</p>\n\n<pre><code>@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n@JoinTable(name = \"STUDENT_COURSES\")\nprivate List&lt;Course&gt; courses;\n</code></pre>\n\n<p>I think is bether in my app to use session in method where I need data from data base. Closse session when I done. Ofcourse set my Entity class to use leasy fetch type. I go to refactor.</p>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682615898,"creation_date":1504354412,"answer_id":46013654,"question_id":1995080,"body_markdown":"I have the same problem to fetch 2 associated collections: user has 2 roles (Set) and 2 meals (List) and meals are duplicated.\r\n\r\n    @Table(name = &quot;users&quot;)\r\n    public class User extends AbstractNamedEntity {\r\n\r\n       @CollectionTable(name = &quot;user_roles&quot;, joinColumns = @JoinColumn(name = &quot;user_id&quot;))\r\n       @Column(name = &quot;role&quot;)\r\n       @ElementCollection(fetch = FetchType.EAGER)\r\n       @BatchSize(size = 200)\r\n       private Set&lt;Role&gt; roles;\r\n\r\n       @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;)\r\n       @OrderBy(&quot;dateTime DESC&quot;)\r\n       protected List&lt;Meal&gt; meals;\r\n       ...\r\n    }\r\n\r\nDISTINCT doesn&#39;t help (DATA-JPA query):\r\n\r\n    @EntityGraph(attributePaths={&quot;meals&quot;, &quot;roles&quot;})\r\n    @QueryHints({@QueryHint(name= org.hibernate.jpa.QueryHints.HINT_PASS_DISTINCT_THROUGH, value = &quot;false&quot;)}) // remove unnecessary distinct from select\r\n    @Query(&quot;SELECT DISTINCT u FROM User u WHERE u.id=?1&quot;)\r\n    User getWithMeals(int id);\r\n\r\nAt last I&#39;ve found 2 solutions:\r\n\r\n 1. [Change List&lt;Meal&gt; to LinkedHashSet](https://developer.jboss.org/wiki/HibernateFAQ-AdvancedProblems#jive_content_id_Hibernate_does_not_return_distinct_results_for_a_query_with_outer_join_fetching_enabled_for_a_collection_even_if_I_use_the_distinct_keyword)\r\n 2. Use EntityGraph with only field &quot;meal&quot; and type LOAD, which load roles as they declared (EAGER and by BatchSize=200 to prevent N+1 problem):\r\n\r\nFinal solution:\r\n\r\n    @EntityGraph(attributePaths = {&quot;meals&quot;}, type = EntityGraph.EntityGraphType.LOAD)\r\n    @Query(&quot;SELECT u FROM User u WHERE u.id=?1&quot;)\r\n    User getWithMeals(int id);\r\n\r\n\r\nUPDATE: for Spring Boot 3.0 (JPA 3.1) it doen&#39;t works!!\r\n\r\n    @EntityGraph(attributePaths = {&quot;meals&quot;}, type = EntityGraph.EntityGraphType.FETCH/LOAD)\r\n    @Query(&quot;SELECT u FROM User u WHERE u.id=?1&quot;)\r\n    Optional&lt;User&gt; getWithMeals(int id);\r\n\r\nThis work in transactional tests, but `LazyInitializationException` for roles in application.\r\n\r\nFound another 2 solution:\r\n1.\r\n\r\n    @EntityGraph(attributePaths = {&quot;meals&quot;}, type = \r\n    EntityGraph.EntityGraphType.LOAD)\r\n        @Query(&quot;SELECT u FROM User u WHERE u.id=?1&quot;)\r\n        Optional&lt;User&gt; getWithMeals(int id);\r\n\r\nand `@Fetch(FetchMode.SUBSELECT)` for `user.roles`\r\nBut in this case SQL rather odd:\r\n```\r\nselect\r\n        r1_0.user_id,\r\n        r1_0.role \r\n    from\r\n        user_role r1_0 \r\n    where\r\n        r1_0.user_id in(select\r\n            u1_0.id \r\n        from\r\n            users u1_0 \r\n        left join\r\n            meal m1_0 \r\n                on u1_0.id=m1_0.user_id \r\n        where\r\n            u1_0.id=?)\r\n```\r\n\r\n2. Very simple SELECT:\r\n```\r\n@Query(&quot;SELECT u FROM User u LEFT JOIN FETCH u.meals WHERE u.id=?1&quot;)\r\nOptional&lt;User&gt; getWithMeals(int id);\r\n```\r\n\r\nSuppose about this ORM 6.0 migration:\r\n - [forget about DISTINCT](https://vladmihalcea.com/spring-6-migration/#Auto-deduplication)\r\n - [it is no longer necessary to use distinct in JPQL and HQL](https://docs.jboss.org/hibernate/orm/6.0/migration-guide/migration-guide.html#query-sqm-distinct)\r\n","title":"Hibernate Criteria returns children multiple times with FetchType.EAGER","body":"<p>I have the same problem to fetch 2 associated collections: user has 2 roles (Set) and 2 meals (List) and meals are duplicated.</p>\n<pre><code>@Table(name = &quot;users&quot;)\npublic class User extends AbstractNamedEntity {\n\n   @CollectionTable(name = &quot;user_roles&quot;, joinColumns = @JoinColumn(name = &quot;user_id&quot;))\n   @Column(name = &quot;role&quot;)\n   @ElementCollection(fetch = FetchType.EAGER)\n   @BatchSize(size = 200)\n   private Set&lt;Role&gt; roles;\n\n   @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;)\n   @OrderBy(&quot;dateTime DESC&quot;)\n   protected List&lt;Meal&gt; meals;\n   ...\n}\n</code></pre>\n<p>DISTINCT doesn't help (DATA-JPA query):</p>\n<pre><code>@EntityGraph(attributePaths={&quot;meals&quot;, &quot;roles&quot;})\n@QueryHints({@QueryHint(name= org.hibernate.jpa.QueryHints.HINT_PASS_DISTINCT_THROUGH, value = &quot;false&quot;)}) // remove unnecessary distinct from select\n@Query(&quot;SELECT DISTINCT u FROM User u WHERE u.id=?1&quot;)\nUser getWithMeals(int id);\n</code></pre>\n<p>At last I've found 2 solutions:</p>\n<ol>\n<li><a href=\"https://developer.jboss.org/wiki/HibernateFAQ-AdvancedProblems#jive_content_id_Hibernate_does_not_return_distinct_results_for_a_query_with_outer_join_fetching_enabled_for_a_collection_even_if_I_use_the_distinct_keyword\" rel=\"nofollow noreferrer\">Change List to LinkedHashSet</a></li>\n<li>Use EntityGraph with only field &quot;meal&quot; and type LOAD, which load roles as they declared (EAGER and by BatchSize=200 to prevent N+1 problem):</li>\n</ol>\n<p>Final solution:</p>\n<pre><code>@EntityGraph(attributePaths = {&quot;meals&quot;}, type = EntityGraph.EntityGraphType.LOAD)\n@Query(&quot;SELECT u FROM User u WHERE u.id=?1&quot;)\nUser getWithMeals(int id);\n</code></pre>\n<p>UPDATE: for Spring Boot 3.0 (JPA 3.1) it doen't works!!</p>\n<pre><code>@EntityGraph(attributePaths = {&quot;meals&quot;}, type = EntityGraph.EntityGraphType.FETCH/LOAD)\n@Query(&quot;SELECT u FROM User u WHERE u.id=?1&quot;)\nOptional&lt;User&gt; getWithMeals(int id);\n</code></pre>\n<p>This work in transactional tests, but <code>LazyInitializationException</code> for roles in application.</p>\n<p>Found another 2 solution:\n1.</p>\n<pre><code>@EntityGraph(attributePaths = {&quot;meals&quot;}, type = \nEntityGraph.EntityGraphType.LOAD)\n    @Query(&quot;SELECT u FROM User u WHERE u.id=?1&quot;)\n    Optional&lt;User&gt; getWithMeals(int id);\n</code></pre>\n<p>and <code>@Fetch(FetchMode.SUBSELECT)</code> for <code>user.roles</code>\nBut in this case SQL rather odd:</p>\n<pre><code>select\n        r1_0.user_id,\n        r1_0.role \n    from\n        user_role r1_0 \n    where\n        r1_0.user_id in(select\n            u1_0.id \n        from\n            users u1_0 \n        left join\n            meal m1_0 \n                on u1_0.id=m1_0.user_id \n        where\n            u1_0.id=?)\n</code></pre>\n<ol start=\"2\">\n<li>Very simple SELECT:</li>\n</ol>\n<pre><code>@Query(&quot;SELECT u FROM User u LEFT JOIN FETCH u.meals WHERE u.id=?1&quot;)\nOptional&lt;User&gt; getWithMeals(int id);\n</code></pre>\n<p>Suppose about this ORM 6.0 migration:</p>\n<ul>\n<li><a href=\"https://vladmihalcea.com/spring-6-migration/#Auto-deduplication\" rel=\"nofollow noreferrer\">forget about DISTINCT</a></li>\n<li><a href=\"https://docs.jboss.org/hibernate/orm/6.0/migration-guide/migration-guide.html#query-sqm-distinct\" rel=\"nofollow noreferrer\">it is no longer necessary to use distinct in JPQL and HQL</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8088812,"reputation":4423,"user_id":6095444,"display_name":"Pravin Bansal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531429799,"creation_date":1531428490,"answer_id":51314206,"question_id":1995080,"body_markdown":"It doesn&#39;t sounds a great behavior applying an outer join and bring duplicated results. The only solution left is to filter our result using streams. Thanks java8 giving easier way to filter.\r\n\r\n    return results.stream().distinct().collect(Collectors.toList());\r\n","title":"Hibernate Criteria returns children multiple times with FetchType.EAGER","body":"<p>It doesn't sounds a great behavior applying an outer join and bring duplicated results. The only solution left is to filter our result using streams. Thanks java8 giving easier way to filter.</p>\n\n<pre><code>return results.stream().distinct().collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6337092,"reputation":117,"user_id":4920189,"accept_rate":75,"display_name":"Kaustubh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580582871,"creation_date":1580582871,"answer_id":60020096,"question_id":1995080,"body_markdown":"Instead of using hacks like :\r\n\r\n - `Set` instead of `List`\r\n - `criteria.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);`\r\n\r\nwhich don&#39;t modify your sql query , we can use (quoting JPA specs)\r\n\r\n    q.select(emp).distinct(true);\r\n\r\nwhich does modify the resulting sql query,thus having a `DISTINCT` in it. ","title":"Hibernate Criteria returns children multiple times with FetchType.EAGER","body":"<p>Instead of using hacks like :</p>\n\n<ul>\n<li><code>Set</code> instead of <code>List</code></li>\n<li><code>criteria.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);</code></li>\n</ul>\n\n<p>which don't modify your sql query , we can use (quoting JPA specs)</p>\n\n<pre><code>q.select(emp).distinct(true);\n</code></pre>\n\n<p>which does modify the resulting sql query,thus having a <code>DISTINCT</code> in it. </p>\n"}],"owner":{"account_id":45006,"reputation":15366,"user_id":132396,"accept_rate":76,"display_name":"raoulsson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84683,"favorite_count":0,"down_vote_count":1,"up_vote_count":125,"accepted_answer_id":1995244,"answer_count":8,"score":124,"last_activity_date":1682615898,"creation_date":1262527909,"question_id":1995080,"body_markdown":"I have an `Order` class that has a list of `OrderTransactions` and I mapped it with a one-to-many Hibernate mapping like so:\r\n\r\n    @OneToMany(targetEntity = OrderTransaction.class, cascade = CascadeType.ALL)\r\n    public List&lt;OrderTransaction&gt; getOrderTransactions() {\r\n        return orderTransactions;\r\n    }\r\n\r\nThese `Order`s also have a field `orderStatus`, which is used for filtering with the following Criteria: \r\n\r\n    public List&lt;Order&gt; getOrderForProduct(OrderFilter orderFilter) {\r\n        Criteria criteria = getHibernateSession()\r\n                .createCriteria(Order.class)\r\n                .add(Restrictions.in(&quot;orderStatus&quot;, orderFilter.getStatusesToShow()));\r\n        return criteria.list();\r\n    }\r\n\r\nThis works and the result is as expected.\r\n\r\nNow **here is my question**: Why, when I set the fetch type explicitly to `EAGER`, do the `Order`s appear multiple times in the resulting list?\r\n\r\n    @OneToMany(targetEntity = OrderTransaction.class, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    public List&lt;OrderTransaction&gt; getOrderTransactions() {\r\n        return orderTransactions;\r\n    }\r\n\r\nHow would I have to change my Criteria code to reach the same result with the new setting?\r\n","title":"Hibernate Criteria returns children multiple times with FetchType.EAGER","body":"<p>I have an <code>Order</code> class that has a list of <code>OrderTransactions</code> and I mapped it with a one-to-many Hibernate mapping like so:</p>\n\n<pre><code>@OneToMany(targetEntity = OrderTransaction.class, cascade = CascadeType.ALL)\npublic List&lt;OrderTransaction&gt; getOrderTransactions() {\n    return orderTransactions;\n}\n</code></pre>\n\n<p>These <code>Order</code>s also have a field <code>orderStatus</code>, which is used for filtering with the following Criteria: </p>\n\n<pre><code>public List&lt;Order&gt; getOrderForProduct(OrderFilter orderFilter) {\n    Criteria criteria = getHibernateSession()\n            .createCriteria(Order.class)\n            .add(Restrictions.in(\"orderStatus\", orderFilter.getStatusesToShow()));\n    return criteria.list();\n}\n</code></pre>\n\n<p>This works and the result is as expected.</p>\n\n<p>Now <strong>here is my question</strong>: Why, when I set the fetch type explicitly to <code>EAGER</code>, do the <code>Order</code>s appear multiple times in the resulting list?</p>\n\n<pre><code>@OneToMany(targetEntity = OrderTransaction.class, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\npublic List&lt;OrderTransaction&gt; getOrderTransactions() {\n    return orderTransactions;\n}\n</code></pre>\n\n<p>How would I have to change my Criteria code to reach the same result with the new setting?</p>\n"},{"tags":["java","spring","spring-annotations","spring-bean"],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1413757144,"creation_date":1413744797,"answer_id":26454131,"question_id":26453618,"body_markdown":"Field injection is fragile all on its own, and constructor injection should be preferred whenever possible. That&#39;s the clean solution here: Make an abstract (`protected`) constructor on your base class that takes your bean as an argument, and use `@Qualifier` on the subclass constructors. ","title":"autowire distinct beans in abstract class","body":"<p>Field injection is fragile all on its own, and constructor injection should be preferred whenever possible. That's the clean solution here: Make an abstract (<code>protected</code>) constructor on your base class that takes your bean as an argument, and use <code>@Qualifier</code> on the subclass constructors. </p>\n"},{"tags":[],"owner":{"account_id":1316033,"reputation":7855,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489136677,"creation_date":1489136677,"answer_id":42714297,"question_id":26453618,"body_markdown":"An alternative approach that uses Field injection is to not autowire the field in the base class, but instead creating an abstract method to get the SessionFactory and autowire the field in the subclasses.\r\n\r\n    public abstract class AbstractHbmDao implements SomeInterface {\r\n        protected abstract SessionFactory getSessionFactory();\r\n    }\r\n\r\nAnd in subclasses implement this method:\r\n\r\n    public MyDao extends AbstractHbmDao {\r\n        @Autowired\r\n        @Qualifier(&quot;my-qualifier&quot;)  // add qualifier as needed now\r\n        private SessionFactory sessionFactory;\r\n\r\n        protected SessionFactory getSessionFactory() { return sessionFactory; }\r\n    }\r\n    ","title":"autowire distinct beans in abstract class","body":"<p>An alternative approach that uses Field injection is to not autowire the field in the base class, but instead creating an abstract method to get the SessionFactory and autowire the field in the subclasses.</p>\n\n<pre><code>public abstract class AbstractHbmDao implements SomeInterface {\n    protected abstract SessionFactory getSessionFactory();\n}\n</code></pre>\n\n<p>And in subclasses implement this method:</p>\n\n<pre><code>public MyDao extends AbstractHbmDao {\n    @Autowired\n    @Qualifier(\"my-qualifier\")  // add qualifier as needed now\n    private SessionFactory sessionFactory;\n\n    protected SessionFactory getSessionFactory() { return sessionFactory; }\n}\n</code></pre>\n"}],"owner":{"account_id":1469119,"reputation":575,"user_id":1381117,"accept_rate":94,"display_name":"fxe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1990,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":26454131,"answer_count":2,"score":1,"last_activity_date":1682615448,"creation_date":1413741505,"question_id":26453618,"body_markdown":"I have an abstract class:\r\n\r\n    public abstract class AbstractHbmDao implements SomeInterface {\r\n        @Autowired\r\n        protected SessionFactory sessionFactory;\r\n        //getters &amp; setters\r\n\r\n        //interface stuff\r\n    }\r\n\r\nThen several implementations of `SomeInterface` -&gt; `A_Interface`, `B_Interface`, etc. This is ok if I use the same `SessionFactory` for every implementation.\r\n\r\nThe problem is I want to use distinct `SessionFactory` for distinct group of of implementations and I do not want to specify with the `@Qualifier`. This would be less flexible to define these groups since I would need to change the code. Also by putting the `SessionFactory` in the abstract class if would be impossible to specify with the `@Qualifier` annotation.\r\n\r\nIs there a way to do it in the xml bean definition? I tried by declaring two `SessionFactory` beans and for each of then ref the corresponding class, but this would still return `NoUniqueBeanDefinitionException`.","title":"autowire distinct beans in abstract class","body":"<p>I have an abstract class:</p>\n<pre><code>public abstract class AbstractHbmDao implements SomeInterface {\n    @Autowired\n    protected SessionFactory sessionFactory;\n    //getters &amp; setters\n\n    //interface stuff\n}\n</code></pre>\n<p>Then several implementations of <code>SomeInterface</code> -&gt; <code>A_Interface</code>, <code>B_Interface</code>, etc. This is ok if I use the same <code>SessionFactory</code> for every implementation.</p>\n<p>The problem is I want to use distinct <code>SessionFactory</code> for distinct group of of implementations and I do not want to specify with the <code>@Qualifier</code>. This would be less flexible to define these groups since I would need to change the code. Also by putting the <code>SessionFactory</code> in the abstract class if would be impossible to specify with the <code>@Qualifier</code> annotation.</p>\n<p>Is there a way to do it in the xml bean definition? I tried by declaring two <code>SessionFactory</code> beans and for each of then ref the corresponding class, but this would still return <code>NoUniqueBeanDefinitionException</code>.</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":12205661,"reputation":332,"user_id":8908834,"display_name":"Mauricio Buffon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682615307,"creation_date":1682614850,"answer_id":76122984,"question_id":76121701,"body_markdown":"To answer your first question:\r\n===\r\n\r\n&gt; Q1. I am not sure when I should associate entity and when I should not.\r\n\r\nArguments for\r\n---\r\n\r\nThe short answer is always use associations. In the example you provided, it seems obvious that both entities are related to the same domain. \r\n\r\n1. If you use an id in this case, you would lose the constraints the persistence provider (Hibernate) applies to these relationships - i.e. the provider wouldn&#39;t know if the value `Book.authorId` used corresponds to an `Author.id` or not. Sure, you could enforce this constraint in a database level, but, then, the persistence mappings wouldn&#39;t represent your database constraints.\r\n\r\n2. If you consider the entity on the other side of the association too complex to be eagerly retrieved, you can use the `@ManyToOne(fetch = FetchType.LAZY)` hint.\r\n\r\n3. For better and for worse, it enforces - or, at least, it should enforce - one to think carefully about his model. Are all relationships bidirectionals? If not, you should not use associations in that entity.\r\n\r\nArguments against\r\n---\r\n\r\n1. The entities are part of different domains. It depends on your model, but sometimes it doesn&#39;t make sense that a persistence context holds entities from different domains. In this case you are probably better creating a value-object to represent the other domain entity&#39;s id, i.e. `AuthorId` and map it as an `@Embedded`.\r\n\r\nTo answer your second question\r\n===\r\n\r\n&gt; Q2. When using bidirectional association\r\n\r\nIf you consider `Object#equals` and `Object#hashCode` contracts for an entity class, the only properties that should play a part in these methods should be the ones that are part of its id definition.\r\n\r\nTwo books instances with the same `Book.id` (the same entity) should always return the same hash. If you use the `Book.author` or `Book.authorId` to generate the hash this wouldn&#39;t be the case.\r\n\r\nNevertheless, even if you use the `Book.author` property in `Book#hashCode` method, it wouldn&#39;t be a problem if the `Author` entity is lazily retrieved. Once the `Book#hashCode` method is called, the `Author` entity would first the retrieved (and, in sequence, its `Author#hashCode` method would be called).\r\n","title":"To associate entity with other or not in hibernate","body":"<h1>To answer your first question:</h1>\n<blockquote>\n<p>Q1. I am not sure when I should associate entity and when I should not.</p>\n</blockquote>\n<h2>Arguments for</h2>\n<p>The short answer is always use associations. In the example you provided, it seems obvious that both entities are related to the same domain.</p>\n<ol>\n<li><p>If you use an id in this case, you would lose the constraints the persistence provider (Hibernate) applies to these relationships - i.e. the provider wouldn't know if the value <code>Book.authorId</code> used corresponds to an <code>Author.id</code> or not. Sure, you could enforce this constraint in a database level, but, then, the persistence mappings wouldn't represent your database constraints.</p>\n</li>\n<li><p>If you consider the entity on the other side of the association too complex to be eagerly retrieved, you can use the <code>@ManyToOne(fetch = FetchType.LAZY)</code> hint.</p>\n</li>\n<li><p>For better and for worse, it enforces - or, at least, it should enforce - one to think carefully about his model. Are all relationships bidirectionals? If not, you should not use associations in that entity.</p>\n</li>\n</ol>\n<h2>Arguments against</h2>\n<ol>\n<li>The entities are part of different domains. It depends on your model, but sometimes it doesn't make sense that a persistence context holds entities from different domains. In this case you are probably better creating a value-object to represent the other domain entity's id, i.e. <code>AuthorId</code> and map it as an <code>@Embedded</code>.</li>\n</ol>\n<h1>To answer your second question</h1>\n<blockquote>\n<p>Q2. When using bidirectional association</p>\n</blockquote>\n<p>If you consider <code>Object#equals</code> and <code>Object#hashCode</code> contracts for an entity class, the only properties that should play a part in these methods should be the ones that are part of its id definition.</p>\n<p>Two books instances with the same <code>Book.id</code> (the same entity) should always return the same hash. If you use the <code>Book.author</code> or <code>Book.authorId</code> to generate the hash this wouldn't be the case.</p>\n<p>Nevertheless, even if you use the <code>Book.author</code> property in <code>Book#hashCode</code> method, it wouldn't be a problem if the <code>Author</code> entity is lazily retrieved. Once the <code>Book#hashCode</code> method is called, the <code>Author</code> entity would first the retrieved (and, in sequence, its <code>Author#hashCode</code> method would be called).</p>\n"}],"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682615307,"creation_date":1682606574,"question_id":76121701,"body_markdown":"**Q1. I am not sure when I should associate entity and when I should not.**\r\n\r\neg: Hibernate association by collection\r\n```\r\n@Entity\r\npublic class Author {\r\n \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n \r\n    private String firstName;\r\n \r\n    @OneToMany(mappedBy = &quot;author&quot;)\r\n    private Set&lt;Book&gt; books = new HashSet&lt;Book&gt;();\r\n \r\n    ...\r\n}\r\n\r\n\r\n@Entity\r\npublic class Book {\r\n \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n \r\n    private String title;\r\n \r\n    @ManyToOne\r\n    private Author author;\r\n\r\n    ...\r\n}\r\n```\r\n\r\nOR by just ids\r\n\r\n```\r\n@Entity\r\npublic class Author {\r\n \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n \r\n    private String firstName;\r\n\r\n    ...\r\n}\r\n\r\n\r\n@Entity\r\npublic class Book {\r\n \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n \r\n    private String title;\r\n \r\n    private Long authorId;\r\n\r\n    ...\r\n}\r\n```\r\n\r\n**Q2. When using bidirectional association,**\r\n\r\neg: book class\r\n\r\n    @Entity\r\n    public class Book {\r\n     \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n     \r\n        private String title;\r\n     \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;authorId&quot;, unique=true)\r\n        private Author author;\r\n    \r\n        ...\r\n    }\r\n\r\nbook always has author which is unique accross books entity,\r\n\r\nBut since we are lazily fetching, I am not able to use it in hashcode. \r\nI have only `authorId` as unique way to identify record uniquely for equals and hashcode.\r\nHow can I handle in this case.\r\n","title":"To associate entity with other or not in hibernate","body":"<p><strong>Q1. I am not sure when I should associate entity and when I should not.</strong></p>\n<p>eg: Hibernate association by collection</p>\n<pre><code>@Entity\npublic class Author {\n \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n \n    private String firstName;\n \n    @OneToMany(mappedBy = &quot;author&quot;)\n    private Set&lt;Book&gt; books = new HashSet&lt;Book&gt;();\n \n    ...\n}\n\n\n@Entity\npublic class Book {\n \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n \n    private String title;\n \n    @ManyToOne\n    private Author author;\n\n    ...\n}\n</code></pre>\n<p>OR by just ids</p>\n<pre><code>@Entity\npublic class Author {\n \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n \n    private String firstName;\n\n    ...\n}\n\n\n@Entity\npublic class Book {\n \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n \n    private String title;\n \n    private Long authorId;\n\n    ...\n}\n</code></pre>\n<p><strong>Q2. When using bidirectional association,</strong></p>\n<p>eg: book class</p>\n<pre><code>@Entity\npublic class Book {\n \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n \n    private String title;\n \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;authorId&quot;, unique=true)\n    private Author author;\n\n    ...\n}\n</code></pre>\n<p>book always has author which is unique accross books entity,</p>\n<p>But since we are lazily fetching, I am not able to use it in hashcode.\nI have only <code>authorId</code> as unique way to identify record uniquely for equals and hashcode.\nHow can I handle in this case.</p>\n"},{"tags":["java","sql","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":0,"creation_date":1682100004,"post_id":76068361,"comment_id":134167938,"body_markdown":"When I read your Example correct, then an Archytype can be im multiple ArchetypeMatchUps in the firstPlayerArchetype-List. So its ManyToMany and not OneToMany","body":"When I read your Example correct, then an Archytype can be im multiple ArchetypeMatchUps in the firstPlayerArchetype-List. So its ManyToMany and not OneToMany"},{"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"score":0,"creation_date":1682356629,"post_id":76068361,"comment_id":134198895,"body_markdown":"@Turo: Yes, I noticed that seemed to have been it before I checked your comment, thanks for the confirmation","body":"@Turo: Yes, I noticed that seemed to have been it before I checked your comment, thanks for the confirmation"}],"answers":[{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682615077,"creation_date":1682615077,"answer_id":76123014,"question_id":76068361,"body_markdown":"It turns out I was using my entity in a many-to-many context, hence swapping the annotation out to be `@ManyToMany` fixed the issue. Now I can insert and delete as expected.","title":"Getting &quot;duplicate key value violates unique constraint&quot; error when saving entities with Hibernate","body":"<p>It turns out I was using my entity in a many-to-many context, hence swapping the annotation out to be <code>@ManyToMany</code> fixed the issue. Now I can insert and delete as expected.</p>\n"}],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76123014,"answer_count":1,"score":0,"last_activity_date":1682615077,"creation_date":1682025519,"question_id":76068361,"body_markdown":"For my `Spring Boot` REST API I have an entity as follows:\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class ArchetypeMatchUp\r\n    {\r\n    \t@Id\r\n    \t@JsonIgnore\r\n    \t@GeneratedValue(strategy = SEQUENCE, generator = &quot;seq_archetype_match_up_generator&quot;)\r\n    \t@SequenceGenerator(name = &quot;seq_archetype_match_up_generator&quot;, sequenceName = &quot;seq_archetype_match_up&quot;)\r\n    \tprivate Long id;\r\n    \r\n    \t@OneToMany(cascade = CascadeType.MERGE, orphanRemoval = true)\r\n    \tprivate List&lt;Archetype&gt; firstPlayerArchetype;\r\n    \r\n    \t@OneToMany(cascade = CascadeType.MERGE, orphanRemoval = true)\r\n    \t@OrderColumn\r\n    \tprivate List&lt;Archetype&gt; secondPlayerArchetype;\r\n    \r\n        // ...\r\n    }\r\n\r\nWith this, I want to be able to represent arbitrary match-ups between archetypes. Both lists typically have 1 - 2 elements in them. The first archetypes list and second archetypes list may share the same archetype, e.g. `[A, B]` and `[B, C]` or `[A, C]` and `[C, B]`.\r\n\r\nNext, the exception reproduction test case:\r\n\r\n    private void testDuplicateKeyBug()\r\n    {\r\n    \t// Insert the archetypes\r\n    \tvar firstArchetype = Archetype.builder().name(&quot;1st Archetype&quot;).build();\r\n    \tvar secondArchetype = Archetype.builder().name(&quot;2nd Archetype&quot;).build();\r\n    \tvar thirdArchetype = Archetype.builder().name(&quot;3rd Archetype&quot;).build();\r\n    \tfirstArchetype = archetypeRepository.save(firstArchetype);\r\n    \tsecondArchetype = archetypeRepository.save(secondArchetype);\r\n    \tthirdArchetype = archetypeRepository.save(thirdArchetype);\r\n    \r\n    \t// Insert the 1st archetype match-up\r\n    \tval firstArchetypeMatchUp = ArchetypeMatchUp.builder()\r\n    \t\t\t.firstPlayerArchetype(Arrays.asList(firstArchetype, secondArchetype))\r\n    \t\t\t.secondPlayerArchetype(Arrays.asList(secondArchetype, thirdArchetype))\r\n    \t\t\t.build();\r\n    \tarchetypeMatchUpRepository.save(firstArchetypeMatchUp);\r\n    \r\n    \t// Insert the 2nd archetype match-up\r\n    \tval secondArchetypeMatchUp = ArchetypeMatchUp.builder()\r\n    \t\t\t.firstPlayerArchetype(Arrays.asList(firstArchetype, thirdArchetype))\r\n    \t\t\t.secondPlayerArchetype(Arrays.asList(thirdArchetype, secondArchetype))\r\n    \t\t\t.build();\r\n    \tarchetypeMatchUpRepository.save(secondArchetypeMatchUp); // Here, the exception occurs\r\n    }\r\n\r\nAt the 2nd `.save()` statement, the following exception occurs:\r\n\r\n    org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [&quot;PUBLIC.UK_ECYK6EE7KR3CRQAR8TP6N9GSO_INDEX_2 ON PUBLIC.ARCHETYPE_MATCH_UP_FIRST_PLAYER_ARCHETYPE(FIRST_PLAYER_ARCHETYPE_ID NULLS FIRST) VALUES ( /* 1 */ CAST(1 AS BIGINT) )&quot;; SQL statement:\r\n    insert into archetype_match_up_first_player_archetype (archetype_match_up_id, first_player_archetype_id) values (?, ?) [23505-214]]\r\n\r\nI noticed that `Hibernate` apparently created 3 tables:  \r\n[![][1]][1]  \r\n\r\n[![][2]][2]\r\n\r\nHowever, the `first_player_archetype_id` column is declared as unique in my database (wrong) but of course I want to be able to insert the same `archetype` id multiple times for different relations (correct).\r\n\r\nHow can I fix this issue by adjusting my entity declarations or so to make the test case run successfully?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DFVvo.png\r\n  [2]: https://i.stack.imgur.com/8XHmo.png","title":"Getting &quot;duplicate key value violates unique constraint&quot; error when saving entities with Hibernate","body":"<p>For my <code>Spring Boot</code> REST API I have an entity as follows:</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ArchetypeMatchUp\n{\n    @Id\n    @JsonIgnore\n    @GeneratedValue(strategy = SEQUENCE, generator = &quot;seq_archetype_match_up_generator&quot;)\n    @SequenceGenerator(name = &quot;seq_archetype_match_up_generator&quot;, sequenceName = &quot;seq_archetype_match_up&quot;)\n    private Long id;\n\n    @OneToMany(cascade = CascadeType.MERGE, orphanRemoval = true)\n    private List&lt;Archetype&gt; firstPlayerArchetype;\n\n    @OneToMany(cascade = CascadeType.MERGE, orphanRemoval = true)\n    @OrderColumn\n    private List&lt;Archetype&gt; secondPlayerArchetype;\n\n    // ...\n}\n</code></pre>\n<p>With this, I want to be able to represent arbitrary match-ups between archetypes. Both lists typically have 1 - 2 elements in them. The first archetypes list and second archetypes list may share the same archetype, e.g. <code>[A, B]</code> and <code>[B, C]</code> or <code>[A, C]</code> and <code>[C, B]</code>.</p>\n<p>Next, the exception reproduction test case:</p>\n<pre><code>private void testDuplicateKeyBug()\n{\n    // Insert the archetypes\n    var firstArchetype = Archetype.builder().name(&quot;1st Archetype&quot;).build();\n    var secondArchetype = Archetype.builder().name(&quot;2nd Archetype&quot;).build();\n    var thirdArchetype = Archetype.builder().name(&quot;3rd Archetype&quot;).build();\n    firstArchetype = archetypeRepository.save(firstArchetype);\n    secondArchetype = archetypeRepository.save(secondArchetype);\n    thirdArchetype = archetypeRepository.save(thirdArchetype);\n\n    // Insert the 1st archetype match-up\n    val firstArchetypeMatchUp = ArchetypeMatchUp.builder()\n            .firstPlayerArchetype(Arrays.asList(firstArchetype, secondArchetype))\n            .secondPlayerArchetype(Arrays.asList(secondArchetype, thirdArchetype))\n            .build();\n    archetypeMatchUpRepository.save(firstArchetypeMatchUp);\n\n    // Insert the 2nd archetype match-up\n    val secondArchetypeMatchUp = ArchetypeMatchUp.builder()\n            .firstPlayerArchetype(Arrays.asList(firstArchetype, thirdArchetype))\n            .secondPlayerArchetype(Arrays.asList(thirdArchetype, secondArchetype))\n            .build();\n    archetypeMatchUpRepository.save(secondArchetypeMatchUp); // Here, the exception occurs\n}\n</code></pre>\n<p>At the 2nd <code>.save()</code> statement, the following exception occurs:</p>\n<pre><code>org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [&quot;PUBLIC.UK_ECYK6EE7KR3CRQAR8TP6N9GSO_INDEX_2 ON PUBLIC.ARCHETYPE_MATCH_UP_FIRST_PLAYER_ARCHETYPE(FIRST_PLAYER_ARCHETYPE_ID NULLS FIRST) VALUES ( /* 1 */ CAST(1 AS BIGINT) )&quot;; SQL statement:\ninsert into archetype_match_up_first_player_archetype (archetype_match_up_id, first_player_archetype_id) values (?, ?) [23505-214]]\n</code></pre>\n<p>I noticed that <code>Hibernate</code> apparently created 3 tables:<br />\n<a href=\"https://i.stack.imgur.com/DFVvo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DFVvo.png\" alt=\"\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/8XHmo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8XHmo.png\" alt=\"\" /></a></p>\n<p>However, the <code>first_player_archetype_id</code> column is declared as unique in my database (wrong) but of course I want to be able to insert the same <code>archetype</code> id multiple times for different relations (correct).</p>\n<p>How can I fix this issue by adjusting my entity declarations or so to make the test case run successfully?</p>\n"},{"tags":["java","swing","model-view-controller"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1682613969,"post_id":76122544,"comment_id":134247267,"body_markdown":"&quot;*2 of the panels on north*&quot; does not work, [documentation](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/BorderLayout.html) of `BorderLayout`: &quot;* Each region may contain no more than one component*&quot; - eventually add a `JPanel` at `NORTH` and add the two components to it || or use a `GridBagLayout` (`BorderLayout` is indicated if you have a **main** pane (CENTER) with some secondary pane on the sides)","body":"&quot;<i>2 of the panels on north</i>&quot; does not work, <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/BorderLayout.html\" rel=\"nofollow noreferrer\">documentation</a> of <code>BorderLayout</code>: &quot;* Each region may contain no more than one component*&quot; - eventually add a <code>JPanel</code> at <code>NORTH</code> and add the two components to it || or use a <code>GridBagLayout</code> (<code>BorderLayout</code> is indicated if you have a <b>main</b> pane (CENTER) with some secondary pane on the sides)"}],"answers":[{"comments":[{"owner":{"account_id":20173787,"reputation":107,"user_id":14795970,"display_name":"SeveN"},"score":0,"creation_date":1682614413,"post_id":76122759,"comment_id":134247371,"body_markdown":"I will try it when I&#39;m home and I&#39;ll tell you if it&#39;s good or not, thank you!","body":"I will try it when I&#39;m home and I&#39;ll tell you if it&#39;s good or not, thank you!"},{"owner":{"account_id":20173787,"reputation":107,"user_id":14795970,"display_name":"SeveN"},"score":0,"creation_date":1682674578,"post_id":76122759,"comment_id":134256273,"body_markdown":"IT WORKS! oh thank you I was stuck in this problem for about 3 hours, GridBagLayout it&#39;s perfect","body":"IT WORKS! oh thank you I was stuck in this problem for about 3 hours, GridBagLayout it&#39;s perfect"}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682614978,"creation_date":1682613317,"answer_id":76122759,"question_id":76122544,"body_markdown":"You need to use a compound layout (several LayoutManagers). So use BorderLayout and add one JPanel as north and the vendeurs_center as center. Then inside the north panel use e.g. GridLayout and place two components general_north and client_north.\r\n\r\nAs an alternative use GridBagLayout - that is one of the layouts that will achieve everything in one go:\r\n\r\nIn one component configured with GridBagLayout add all three components like this:\r\n\r\n    general_north: Position 1,1\r\n    client_north: Position 2,1\r\n    vendeurs_center: Position 1,2; spanX: 2\r\n\r\nThe advantage is that here you have lots of additional options to play with. Most important in my eyes is the capability to define how the components should grow/shrink when the window gets resized.","title":"Problems with BorderLayout in Java Swing","body":"<p>You need to use a compound layout (several LayoutManagers). So use BorderLayout and add one JPanel as north and the vendeurs_center as center. Then inside the north panel use e.g. GridLayout and place two components general_north and client_north.</p>\n<p>As an alternative use GridBagLayout - that is one of the layouts that will achieve everything in one go:</p>\n<p>In one component configured with GridBagLayout add all three components like this:</p>\n<pre><code>general_north: Position 1,1\nclient_north: Position 2,1\nvendeurs_center: Position 1,2; spanX: 2\n</code></pre>\n<p>The advantage is that here you have lots of additional options to play with. Most important in my eyes is the capability to define how the components should grow/shrink when the window gets resized.</p>\n"}],"owner":{"account_id":20173787,"reputation":107,"user_id":14795970,"display_name":"SeveN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76122759,"answer_count":1,"score":-1,"last_activity_date":1682614978,"creation_date":1682611767,"question_id":76122544,"body_markdown":"I&#39;m making a little program for a project in Java, but I have some problems with the layout. I created 3 Panel and I wanted them to be like this:\r\n\r\n[![My Wish][1]][1]\r\n\r\n\r\nI tried with BorderLayout, setting 2 of the panels on north and 1 on center and it didn&#39;t work, I tried to make them Weast an East and the last in South, but didn&#39;t work.\r\n\r\nNow I tried FlowLayout and it&#39;s not working for the 2 others panel, I have this:\r\n[![my result][2]][2]\r\n\r\nI put the code of my View Package of this interfaces (we are using MVC), if someone could help me I would appreciate it. Thanks guys!\r\n\r\n    package View;\r\n    \r\n    import Model.Client;\r\n    import Model.Magasin;\r\n    \r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.util.Vector;\r\n    \r\n    public class Statistiques extends JFrame {\r\n    \r\n        JLabel article = new JLabel(&quot;Nombre article vendu:&quot;);\r\n        JLabel chifre_affair = new JLabel(&quot;Chifre d&#39;Affair:&quot;);\r\n        JLabel art_plus_vendu = new JLabel(&quot;Article plus vendus:&quot;);\r\n        JLabel nbTArticle = new JLabel(&quot;2&quot;);\r\n        JLabel nbChiffreAffair = new JLabel(&quot;3&quot;);\r\n        JLabel nomArticlePlusVendus = new JLabel(&quot;iPhone12&quot;);\r\n    \r\n        Magasin magasin;\r\n        Vector&lt;Client&gt; listeClients = new Vector&lt;Client&gt;();\r\n    \r\n        JComboBox clients = new JComboBox&lt;&gt;(listeClients);\r\n        JLabel espace = new JLabel();\r\n        JLabel art_plus_achete = new JLabel(&quot;Article plus achete:&quot;);\r\n        JLabel nomArticlePlusAchete = new JLabel();\r\n        JLabel list_label = new JLabel(&quot;liste articles achete: &quot;);\r\n    \r\n    \r\n    \r\n        JComboBox vendeurs = new JComboBox&lt;&gt;();\r\n        JLabel art= new JLabel(&quot;Article plus achete:&quot;);\r\n        JLabel nom = new JLabel();\r\n        JLabel listv_label = new JLabel(&quot;liste articles achete: &quot;);\r\n    \r\n    \r\n        JPanel general_north = new JPanel();\r\n        JPanel client_north = new JPanel();\r\n        JPanel vendeurs_center = new JPanel();\r\n    \r\n    \r\n        public Statistiques(Magasin m){\r\n            this.setTitle(&quot;STATISTIQUES&quot;);\r\n            this.setDefaultCloseOperation(DISPOSE_ON_CLOSE);\r\n            this.setPreferredSize(new Dimension(800,800));\r\n            this.setLayout(new BorderLayout());\r\n            magasin = m;\r\n            listeClients = magasin.listeClient;\r\n    \r\n            general_north.setLayout(new GridLayout(3,2,1,1));\r\n            general_north.setSize(400,200);\r\n            //general_north.setBorder(BorderFactory.createEmptyBorder(100,200,100,200));\r\n    \r\n            client_north.setLayout(new GridLayout(4,1,1,1));\r\n            client_north.setPreferredSize(new Dimension(400,200));\r\n            //client_north.setBorder(BorderFactory.createEmptyBorder(100,200,100,200));\r\n    \r\n            client_north.add(art_plus_achete);\r\n            client_north.add(nomArticlePlusAchete);\r\n    \r\n    \r\n            vendeurs_center.setLayout(new FlowLayout());\r\n            vendeurs_center.setPreferredSize(new Dimension(800,400));\r\n    \r\n            getContentPane().add(general_north);\r\n            getContentPane().add(client_north);\r\n            getContentPane().add(vendeurs_center);\r\n    \r\n            general_north.add(article);\r\n            general_north.add(nbTArticle);\r\n            general_north.add(chifre_affair);\r\n            general_north.add(nbChiffreAffair);\r\n            general_north.add(art_plus_vendu);\r\n            general_north.add(nomArticlePlusVendus);\r\n    \r\n    \r\n            this.pack();\r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Q5Hox.png\r\n  [2]: https://i.stack.imgur.com/MGLCY.png","title":"Problems with BorderLayout in Java Swing","body":"<p>I'm making a little program for a project in Java, but I have some problems with the layout. I created 3 Panel and I wanted them to be like this:</p>\n<p><a href=\"https://i.stack.imgur.com/Q5Hox.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q5Hox.png\" alt=\"My Wish\" /></a></p>\n<p>I tried with BorderLayout, setting 2 of the panels on north and 1 on center and it didn't work, I tried to make them Weast an East and the last in South, but didn't work.</p>\n<p>Now I tried FlowLayout and it's not working for the 2 others panel, I have this:\n<a href=\"https://i.stack.imgur.com/MGLCY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MGLCY.png\" alt=\"my result\" /></a></p>\n<p>I put the code of my View Package of this interfaces (we are using MVC), if someone could help me I would appreciate it. Thanks guys!</p>\n<pre><code>package View;\n\nimport Model.Client;\nimport Model.Magasin;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.util.Vector;\n\npublic class Statistiques extends JFrame {\n\n    JLabel article = new JLabel(&quot;Nombre article vendu:&quot;);\n    JLabel chifre_affair = new JLabel(&quot;Chifre d'Affair:&quot;);\n    JLabel art_plus_vendu = new JLabel(&quot;Article plus vendus:&quot;);\n    JLabel nbTArticle = new JLabel(&quot;2&quot;);\n    JLabel nbChiffreAffair = new JLabel(&quot;3&quot;);\n    JLabel nomArticlePlusVendus = new JLabel(&quot;iPhone12&quot;);\n\n    Magasin magasin;\n    Vector&lt;Client&gt; listeClients = new Vector&lt;Client&gt;();\n\n    JComboBox clients = new JComboBox&lt;&gt;(listeClients);\n    JLabel espace = new JLabel();\n    JLabel art_plus_achete = new JLabel(&quot;Article plus achete:&quot;);\n    JLabel nomArticlePlusAchete = new JLabel();\n    JLabel list_label = new JLabel(&quot;liste articles achete: &quot;);\n\n\n\n    JComboBox vendeurs = new JComboBox&lt;&gt;();\n    JLabel art= new JLabel(&quot;Article plus achete:&quot;);\n    JLabel nom = new JLabel();\n    JLabel listv_label = new JLabel(&quot;liste articles achete: &quot;);\n\n\n    JPanel general_north = new JPanel();\n    JPanel client_north = new JPanel();\n    JPanel vendeurs_center = new JPanel();\n\n\n    public Statistiques(Magasin m){\n        this.setTitle(&quot;STATISTIQUES&quot;);\n        this.setDefaultCloseOperation(DISPOSE_ON_CLOSE);\n        this.setPreferredSize(new Dimension(800,800));\n        this.setLayout(new BorderLayout());\n        magasin = m;\n        listeClients = magasin.listeClient;\n\n        general_north.setLayout(new GridLayout(3,2,1,1));\n        general_north.setSize(400,200);\n        //general_north.setBorder(BorderFactory.createEmptyBorder(100,200,100,200));\n\n        client_north.setLayout(new GridLayout(4,1,1,1));\n        client_north.setPreferredSize(new Dimension(400,200));\n        //client_north.setBorder(BorderFactory.createEmptyBorder(100,200,100,200));\n\n        client_north.add(art_plus_achete);\n        client_north.add(nomArticlePlusAchete);\n\n\n        vendeurs_center.setLayout(new FlowLayout());\n        vendeurs_center.setPreferredSize(new Dimension(800,400));\n\n        getContentPane().add(general_north);\n        getContentPane().add(client_north);\n        getContentPane().add(vendeurs_center);\n\n        general_north.add(article);\n        general_north.add(nbTArticle);\n        general_north.add(chifre_affair);\n        general_north.add(nbChiffreAffair);\n        general_north.add(art_plus_vendu);\n        general_north.add(nomArticlePlusVendus);\n\n\n        this.pack();\n    }\n}\n</code></pre>\n"},{"tags":["java","flyway"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1674814753,"post_id":75256610,"comment_id":132797851,"body_markdown":"How do you know the connection is not closed? The problem is likely not Flyway itself, but the data source being backed by a connection pool.","body":"How do you know the connection is not closed? The problem is likely not Flyway itself, but the data source being backed by a connection pool."},{"owner":{"account_id":5925754,"reputation":145,"user_id":4661650,"display_name":"Martin_0"},"score":0,"creation_date":1674817128,"post_id":75256610,"comment_id":132798557,"body_markdown":"@MarkRotteveel by looking at the current connections in mysql `show processlist;`. There&#39;s still a connection with the flyway-user","body":"@MarkRotteveel by looking at the current connections in mysql <code>show processlist;</code>. There&#39;s still a connection with the flyway-user"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1674821194,"post_id":75256610,"comment_id":132799665,"body_markdown":"Then very likely it is your data-source keeping the connection open in a connection pool. Is this actually a problem, or you were just wondering why?","body":"Then very likely it is your data-source keeping the connection open in a connection pool. Is this actually a problem, or you were just wondering why?"},{"owner":{"account_id":5925754,"reputation":145,"user_id":4661650,"display_name":"Martin_0"},"score":0,"creation_date":1674822767,"post_id":75256610,"comment_id":132800132,"body_markdown":"At the moment its a problem on a test-environment where multiple deployments are running at the same time for different features and bugfixes.","body":"At the moment its a problem on a test-environment where multiple deployments are running at the same time for different features and bugfixes."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1674823304,"post_id":75256610,"comment_id":132800316,"body_markdown":"Then you should either not use a data source, not use a data source backed by a connection pool, or find a way to shutdown or clear this data source (which may or may not be possible, this will depend on what the provider is of that data source).","body":"Then you should either not use a data source, not use a data source backed by a connection pool, or find a way to shutdown or clear this data source (which may or may not be possible, this will depend on what the provider is of that data source)."}],"answers":[{"comments":[{"owner":{"account_id":5925754,"reputation":145,"user_id":4661650,"display_name":"Martin_0"},"score":0,"creation_date":1682577844,"post_id":76114183,"comment_id":134238568,"body_markdown":"Initializing the FluentConfiguration this way, releases the connection after the migrate.\nI&#39;ve adapted the code to Java 11 and Tomcat 9 as it seems to include features from a newer Java version.","body":"Initializing the FluentConfiguration this way, releases the connection after the migrate. I&#39;ve adapted the code to Java 11 and Tomcat 9 as it seems to include features from a newer Java version."}],"tags":[],"owner":{"account_id":28426306,"reputation":26,"user_id":21747635,"display_name":"Othyus"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682614544,"creation_date":1682535432,"answer_id":76114183,"question_id":75256610,"body_markdown":"A database connection can also be assigned to flyway using **username**, **password** and **url**.\r\nWith these parameters the database connection used by flyway will be closed again when all scripts are migrated.\r\n\r\nFrom a DataSource the needed parameters can be read, but that **is different for every implementation of the DataSource** interface which is provided from the environment.\r\n\r\n---\r\n\r\nThe following example assumes that the **DataSource** is from a **Tomcat web server** environment (in Java 17):\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tomcat-dbcp&lt;/artifactId&gt;\r\n    &lt;version&gt;10.0.8&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n```java\r\nimport org.apache.tomcat.dbcp.dbcp2.BasicDataSource;\r\n\r\n[...]\r\n\r\nprivate Flyway configureFlyway() {\r\n    FluentConfiguration config = new FluentConfiguration();\r\n\r\n    if (getDs() instanceof BasicDataSource tomcatBasicDataSource) {\r\n        String username = tomcatBasicDataSource.getUsername();\r\n        String password = tomcatBasicDataSource.getPassword();\r\n        String url = tomcatBasicDataSource.getUrl();\r\n        config.dataSource(url, username, password);\r\n    }\r\n\r\n    config.baselineOnMigrate(true);\r\n    config.cleanDisabled(true);\r\n    config.outOfOrder(true);\r\n    config.validateMigrationNaming(true);\r\n    config.validateOnMigrate(false);\r\n    config.locations(SCRIPTS_PATH);\r\n    config.loggers(LOGGER);\r\n\r\n    return new Flyway(config);\r\n}\r\n```\r\n\r\n---\r\n\r\nFYI Flyway configuration can also be set via builder pattern (which is more compact):\r\n```java\r\nreturn Flyway.configure()\r\n    .dataSource(url, username, password)\r\n    .baselineOnMigrate(true)\r\n    .cleanDisabled(true)\r\n    .outOfOrder(true)\r\n    .validateMigrationNaming(true)\r\n    .validateOnMigrate(false)\r\n    .locations(SCRIPTS_PATH)\r\n    .loggers(LOGGER)\r\n    .load();\r\n```","title":"Flyway won&#39;t close connection after migrate","body":"<p>A database connection can also be assigned to flyway using <strong>username</strong>, <strong>password</strong> and <strong>url</strong>.\nWith these parameters the database connection used by flyway will be closed again when all scripts are migrated.</p>\n<p>From a DataSource the needed parameters can be read, but that <strong>is different for every implementation of the DataSource</strong> interface which is provided from the environment.</p>\n<hr />\n<p>The following example assumes that the <strong>DataSource</strong> is from a <strong>Tomcat web server</strong> environment (in Java 17):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-dbcp&lt;/artifactId&gt;\n    &lt;version&gt;10.0.8&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.tomcat.dbcp.dbcp2.BasicDataSource;\n\n[...]\n\nprivate Flyway configureFlyway() {\n    FluentConfiguration config = new FluentConfiguration();\n\n    if (getDs() instanceof BasicDataSource tomcatBasicDataSource) {\n        String username = tomcatBasicDataSource.getUsername();\n        String password = tomcatBasicDataSource.getPassword();\n        String url = tomcatBasicDataSource.getUrl();\n        config.dataSource(url, username, password);\n    }\n\n    config.baselineOnMigrate(true);\n    config.cleanDisabled(true);\n    config.outOfOrder(true);\n    config.validateMigrationNaming(true);\n    config.validateOnMigrate(false);\n    config.locations(SCRIPTS_PATH);\n    config.loggers(LOGGER);\n\n    return new Flyway(config);\n}\n</code></pre>\n<hr />\n<p>FYI Flyway configuration can also be set via builder pattern (which is more compact):</p>\n<pre class=\"lang-java prettyprint-override\"><code>return Flyway.configure()\n    .dataSource(url, username, password)\n    .baselineOnMigrate(true)\n    .cleanDisabled(true)\n    .outOfOrder(true)\n    .validateMigrationNaming(true)\n    .validateOnMigrate(false)\n    .locations(SCRIPTS_PATH)\n    .loggers(LOGGER)\n    .load();\n</code></pre>\n"}],"owner":{"account_id":5925754,"reputation":145,"user_id":4661650,"display_name":"Martin_0"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76114183,"answer_count":1,"score":0,"last_activity_date":1682614544,"creation_date":1674814113,"question_id":75256610,"body_markdown":"I&#39;m using Flyway in a JSF context with MySQL. Only on startup of the deployment Flyway migrates successfully to the newest version and is never used outside that case. However, the jdbc-connection still persists after the migration.\r\n\r\nI&#39;ve updated Flyway to the currently newest Version 9.12.0 which did not resolve the problem.\r\n\r\n\r\n```java\r\npublic class FlywayMigrateUtil {\r\n    \r\n    private final String SCRIPTS_PATH = &quot;classpath:alter-scripts&quot;;\r\n    private final String LOGGER = &quot;log4j2&quot;;\r\n    DataSource ds;\r\n    Flyway flyway;\r\n    public FlywayMigrateUtil(DataSource ds){\r\n        setDs(ds);\r\n        setFlyway(configureFlyway());\r\n    }\r\n\r\n    public Flyway configureFlyway(){\r\n        FluentConfiguration config = new FluentConfiguration();\r\n        config.dataSource(getDs());\r\n        config.baselineOnMigrate(true);\r\n        config.cleanDisabled(true);\r\n        config.outOfOrder(true);\r\n        config.validateMigrationNaming(true);\r\n        config.validateOnMigrate(false);\r\n        config.locations(SCRIPTS_PATH);\r\n        config.loggers(LOGGER);\r\n        \r\n        return new Flyway(config);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class FlywayMigrationHandler {\r\n    \r\n    private final String DATASOURCE_LOOKUP = &quot;java:comp/env&quot;;\r\n    private final String SWITCH_LOOKUP = &quot;java:comp/env/AllowFlywayMigration&quot;;\r\n    private final String DATA_SOURCE_NAME = &quot;flyway/datasource&quot;;\r\n    private Context initialContext;\r\n    private boolean enableFlywayMigration;\r\n    private Context envContext;\r\n    private DataSource ds;\r\n    private FlywayMigrateUtil flywayMigrateUtil;\r\n    \r\n    public FlywayMigrationHandler() throws NamingException {\r\n        \r\n        setInitialContext(new InitialContext());\r\n        setEnableFlywayMigration((boolean) getInitialContext().lookup(SWITCH_LOOKUP));\r\n        \r\n        if(isEnableFlywayMigration()){\r\n            setEnvContext((Context) getInitialContext().lookup(DATASOURCE_LOOKUP));\r\n            setDs((DataSource) getEnvContext().lookup(DATA_SOURCE_NAME));\r\n            setFlywayMigrateUtil(new FlywayMigrateUtil(getDs()));\r\n        }\r\n        \r\n    }\r\n\r\n    public void makeMigration(){\r\n        if(getDs() != null &amp;&amp; isEnableFlywayMigration()){\r\n            try{\r\n                Flyway flyway = getFlywayMigrateUtil().getFlyway();\r\n                flyway.migrate();\r\n\r\n                //close connection?\r\n\r\n            }catch (FlywayException e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nHow can I tell Flyway to close the connection?\r\n\r\n","title":"Flyway won&#39;t close connection after migrate","body":"<p>I'm using Flyway in a JSF context with MySQL. Only on startup of the deployment Flyway migrates successfully to the newest version and is never used outside that case. However, the jdbc-connection still persists after the migration.</p>\n<p>I've updated Flyway to the currently newest Version 9.12.0 which did not resolve the problem.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FlywayMigrateUtil {\n    \n    private final String SCRIPTS_PATH = &quot;classpath:alter-scripts&quot;;\n    private final String LOGGER = &quot;log4j2&quot;;\n    DataSource ds;\n    Flyway flyway;\n    public FlywayMigrateUtil(DataSource ds){\n        setDs(ds);\n        setFlyway(configureFlyway());\n    }\n\n    public Flyway configureFlyway(){\n        FluentConfiguration config = new FluentConfiguration();\n        config.dataSource(getDs());\n        config.baselineOnMigrate(true);\n        config.cleanDisabled(true);\n        config.outOfOrder(true);\n        config.validateMigrationNaming(true);\n        config.validateOnMigrate(false);\n        config.locations(SCRIPTS_PATH);\n        config.loggers(LOGGER);\n        \n        return new Flyway(config);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class FlywayMigrationHandler {\n    \n    private final String DATASOURCE_LOOKUP = &quot;java:comp/env&quot;;\n    private final String SWITCH_LOOKUP = &quot;java:comp/env/AllowFlywayMigration&quot;;\n    private final String DATA_SOURCE_NAME = &quot;flyway/datasource&quot;;\n    private Context initialContext;\n    private boolean enableFlywayMigration;\n    private Context envContext;\n    private DataSource ds;\n    private FlywayMigrateUtil flywayMigrateUtil;\n    \n    public FlywayMigrationHandler() throws NamingException {\n        \n        setInitialContext(new InitialContext());\n        setEnableFlywayMigration((boolean) getInitialContext().lookup(SWITCH_LOOKUP));\n        \n        if(isEnableFlywayMigration()){\n            setEnvContext((Context) getInitialContext().lookup(DATASOURCE_LOOKUP));\n            setDs((DataSource) getEnvContext().lookup(DATA_SOURCE_NAME));\n            setFlywayMigrateUtil(new FlywayMigrateUtil(getDs()));\n        }\n        \n    }\n\n    public void makeMigration(){\n        if(getDs() != null &amp;&amp; isEnableFlywayMigration()){\n            try{\n                Flyway flyway = getFlywayMigrateUtil().getFlyway();\n                flyway.migrate();\n\n                //close connection?\n\n            }catch (FlywayException e){\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n<p>How can I tell Flyway to close the connection?</p>\n"},{"tags":["java","spring-boot","tomcat","jvm","threadpool"],"owner":{"account_id":153744,"reputation":3590,"user_id":369218,"accept_rate":57,"display_name":"AJJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682677568,"answer_count":0,"score":0,"last_activity_date":1682613686,"creation_date":1682613686,"question_id":76122816,"body_markdown":"I have an async operation in spring boot that uses cached thread pool of spring. When the http request comes in, a thread gets started which is in tomcat. In the same thread an async thread is triggered with newCachedThreadPool(). Now the question, is these two thread (tomcat thread and async thread in cachedThreadPool) are supplied by JVM ? Or JVM has it&#39;s own thread pool and tomcat has it&#39;s own?\r\n\r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    public class ThreadResource {\r\n    \r\n        private final ThreadService threadService;\r\n    \r\n        @GetMapping(&quot;/theards/async&quot;)\r\n        public void verifyThreads() {\r\n            threadService.asyncThread();\r\n        }\r\n    }\r\n    \r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class ThreadService {\r\n    \r\n        private final AsycThreadService asycThreadService;\r\n        public void asyncThread() {\r\n            List&lt;CompletableFuture&lt;Void&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n            System.out.println(Thread.getAllStackTraces().keySet());\r\n            for (var i =0; i&lt; 3; i++) {\r\n                futures.add(asycThreadService.startAsyncThread());\r\n            }\r\n            futures.forEach(CompletableFuture::join);\r\n        }\r\n    }\r\n    \r\n    @Service\r\n    public class AsycThreadService {\r\n    \r\n        @Async(&quot;asyncCachedThreadPool&quot;)\r\n        public CompletableFuture&lt;Void&gt; startAsyncThread() {\r\n            System.out.println(Thread.getAllStackTraces().keySet());\r\n            return CompletableFuture.completedFuture(null);\r\n        }\r\n    }\r\n\r\n","title":"Is JVM threads different from tomcat thread in spring boot?","body":"<p>I have an async operation in spring boot that uses cached thread pool of spring. When the http request comes in, a thread gets started which is in tomcat. In the same thread an async thread is triggered with newCachedThreadPool(). Now the question, is these two thread (tomcat thread and async thread in cachedThreadPool) are supplied by JVM ? Or JVM has it's own thread pool and tomcat has it's own?</p>\n<pre><code>@RestController\n@RequiredArgsConstructor\npublic class ThreadResource {\n\n    private final ThreadService threadService;\n\n    @GetMapping(&quot;/theards/async&quot;)\n    public void verifyThreads() {\n        threadService.asyncThread();\n    }\n}\n\n@Service\n@RequiredArgsConstructor\npublic class ThreadService {\n\n    private final AsycThreadService asycThreadService;\n    public void asyncThread() {\n        List&lt;CompletableFuture&lt;Void&gt;&gt; futures = new ArrayList&lt;&gt;();\n        System.out.println(Thread.getAllStackTraces().keySet());\n        for (var i =0; i&lt; 3; i++) {\n            futures.add(asycThreadService.startAsyncThread());\n        }\n        futures.forEach(CompletableFuture::join);\n    }\n}\n\n@Service\npublic class AsycThreadService {\n\n    @Async(&quot;asyncCachedThreadPool&quot;)\n    public CompletableFuture&lt;Void&gt; startAsyncThread() {\n        System.out.println(Thread.getAllStackTraces().keySet());\n        return CompletableFuture.completedFuture(null);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":18431035,"reputation":582,"user_id":13426164,"display_name":"Kris"},"score":0,"creation_date":1658775136,"post_id":73113799,"comment_id":129130800,"body_markdown":"Hi, have you tried adding @CrossOrigin to the controller method not the class? Also try it without any arguments in brackets first","body":"Hi, have you tried adding @CrossOrigin to the controller method not the class? Also try it without any arguments in brackets first"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1682902035,"post_id":76122806,"comment_id":134283235,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76122806/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":19374892,"reputation":5,"user_id":14167368,"display_name":"D999_X"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682613628,"creation_date":1682613628,"answer_id":76122806,"question_id":73113799,"body_markdown":"    public CorsConfigurationSource configurationSource() {\r\n        CorsConfiguration corsConfiguration = new CorsConfiguration();\r\n        //allow the url\r\n        corsConfiguration.addAllowedOrigin(&quot;http://localhost:4200&quot;);\r\n        //allow the http method\r\n        corsConfiguration.addAllowedMethod(&quot;*&quot;);\r\n        //allow the http heard\r\n        corsConfiguration.addAllowedHeader(&quot;*&quot;);\r\n\r\n        corsConfiguration.setAllowCredentials(true);\r\n\r\n        UrlBasedCorsConfigurationSource urlBasedCorsConfigurationSource = new UrlBasedCorsConfigurationSource();\r\n        //allow all url\r\n        urlBasedCorsConfigurationSource.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);\r\n\r\n        return urlBasedCorsConfigurationSource;\r\n    }\r\nat SecurityFilterChain add\r\n   \r\n\r\n     .and().cors().configurationSource(configurationSource());","title":"origin &#39;http://localhost:4200&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource","body":"<pre><code>public CorsConfigurationSource configurationSource() {\n    CorsConfiguration corsConfiguration = new CorsConfiguration();\n    //allow the url\n    corsConfiguration.addAllowedOrigin(&quot;http://localhost:4200&quot;);\n    //allow the http method\n    corsConfiguration.addAllowedMethod(&quot;*&quot;);\n    //allow the http heard\n    corsConfiguration.addAllowedHeader(&quot;*&quot;);\n\n    corsConfiguration.setAllowCredentials(true);\n\n    UrlBasedCorsConfigurationSource urlBasedCorsConfigurationSource = new UrlBasedCorsConfigurationSource();\n    //allow all url\n    urlBasedCorsConfigurationSource.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);\n\n    return urlBasedCorsConfigurationSource;\n}\n</code></pre>\n<p>at SecurityFilterChain add</p>\n<pre><code> .and().cors().configurationSource(configurationSource());\n</code></pre>\n"}],"owner":{"account_id":19374892,"reputation":5,"user_id":14167368,"display_name":"D999_X"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76122806,"answer_count":1,"score":0,"last_activity_date":1682613628,"creation_date":1658773709,"question_id":73113799,"body_markdown":"My back end is use java springboot\r\n\r\n```\r\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)//allow cross-origin resource sharing (CORS) request\r\n@RestController\r\n@RequestMapping(&quot;/api/school&quot;)\r\npublic class CourseController {\r\n  @PostMapping(&quot;/login&quot;)\r\n  public ResponseEntity&lt;?&gt; loginPage(@RequestBody LoginRequest loginRequest){\r\n\t\t*****\r\n\t\tAuthentication authentication= authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(name, passowrd));\r\n\t\tSecurityContextHolder.getContext().setAuthentication(authentication);\r\n\t\tUserDetails userDetails = (UserDetails)authentication.getPrincipal();\r\n\t\tLoginResponse loginResponse =new LoginResponse();\r\n\t\tloginResponse.setUsername(userDetails.getUsername());\r\n\t\treturn ResponseEntity.ok(loginResponse);\r\n  }\r\n\t@GetMapping(&quot;/apartment/{apartmentName}&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; findTeachers(@PathVariable(&quot;apartmentName&quot;)String apartName){\r\n\t\t******\r\n     return ResponseEntity.ok(list);\r\n\t\t\r\n\t}\r\n}\r\nmy web security config:\r\n@Configuration\r\n@EnableWebSecurity //it&#39;s allow the static resource, image, css, js..\r\n@EnableGlobalMethodSecurity(prePostEnabled = true) //allow the multiple endpoint\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp.cors()\r\n\t\t.and().csrf().disable()\r\n\t\t .authorizeHttpRequests()\r\n\t\t.antMatchers(&quot;/api/school/login&quot;).permitAll() // login do not need to authenticated\r\n\t\t.anyRequest().authenticated()\r\n\t\t.and().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n\t\t.and().httpBasic();\r\n        \r\n\t}\r\n}\r\n```\r\nFrontend angular,\r\n```\r\nexport class CourseService {\r\n  private baseUrl = &#39;http://localhost:9010/api/school&#39;;\r\n  constructor(private _httpClient: HttpClient) {}\r\n\r\n  login(request: LoginRequest): Observable&lt;LoginResponse&gt; {\r\n    return this._httpClient\r\n      .post&lt;LoginResponse&gt;(this.baseUrl + &#39;/login&#39;, request)\r\n      .pipe(catchError(this.errorHandler));\r\n  }\r\n  getAllTeachers(apartmentName: string): Observable&lt;TeachersResponse[]&gt; {\r\n    return this._httpClient\r\n      .get&lt;TeachersResponse[]&gt;(this.baseUrl + &#39;/apartment/&#39; + apartmentName)\r\n      .pipe(catchError(this.errorHandler));\r\n  }\r\n\r\n```\r\nI can access the login page(input username, password) to the course page, but when I enter apartmentName as input, click the button to call the component method.\r\nshows Error origin &#39;http://localhost:4200&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\nMy controller has @CrossOrigin(origins = &quot;*&quot;, maxAge = 3600), I changed @CrossOrigin(origins = &quot;http://localhost:4200&quot;) also not work, and WebSercurty configure has http.cors(). Why do I still have this Error?\r\n```\r\nComponent method call courseService\r\n  loadData(apartmentName: string) {\r\n    console.log(&#39;call courseService&#39;);\r\n    this._courseService.getAllTeachers(apartmentName).subscribe((teachers) =&gt; {\r\n      this.teacherArray = teachers;\r\n      console.log(teachers);\r\n    });\r\n  }\r\n```\r\nHey, I tried adding @CrossOrigin to the controller method, but not work. So I added public CorsConfigurationSource configurationSource() {} at SecurityConfig class, that make works. and comments @CrossOrigin. ","title":"origin &#39;http://localhost:4200&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource","body":"<p>My back end is use java springboot</p>\n<pre><code>@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)//allow cross-origin resource sharing (CORS) request\n@RestController\n@RequestMapping(&quot;/api/school&quot;)\npublic class CourseController {\n  @PostMapping(&quot;/login&quot;)\n  public ResponseEntity&lt;?&gt; loginPage(@RequestBody LoginRequest loginRequest){\n        *****\n        Authentication authentication= authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(name, passowrd));\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n        UserDetails userDetails = (UserDetails)authentication.getPrincipal();\n        LoginResponse loginResponse =new LoginResponse();\n        loginResponse.setUsername(userDetails.getUsername());\n        return ResponseEntity.ok(loginResponse);\n  }\n    @GetMapping(&quot;/apartment/{apartmentName}&quot;)\n    public ResponseEntity&lt;?&gt; findTeachers(@PathVariable(&quot;apartmentName&quot;)String apartName){\n        ******\n     return ResponseEntity.ok(list);\n        \n    }\n}\nmy web security config:\n@Configuration\n@EnableWebSecurity //it's allow the static resource, image, css, js..\n@EnableGlobalMethodSecurity(prePostEnabled = true) //allow the multiple endpoint\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors()\n        .and().csrf().disable()\n         .authorizeHttpRequests()\n        .antMatchers(&quot;/api/school/login&quot;).permitAll() // login do not need to authenticated\n        .anyRequest().authenticated()\n        .and().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and().httpBasic();\n        \n    }\n}\n</code></pre>\n<p>Frontend angular,</p>\n<pre><code>export class CourseService {\n  private baseUrl = 'http://localhost:9010/api/school';\n  constructor(private _httpClient: HttpClient) {}\n\n  login(request: LoginRequest): Observable&lt;LoginResponse&gt; {\n    return this._httpClient\n      .post&lt;LoginResponse&gt;(this.baseUrl + '/login', request)\n      .pipe(catchError(this.errorHandler));\n  }\n  getAllTeachers(apartmentName: string): Observable&lt;TeachersResponse[]&gt; {\n    return this._httpClient\n      .get&lt;TeachersResponse[]&gt;(this.baseUrl + '/apartment/' + apartmentName)\n      .pipe(catchError(this.errorHandler));\n  }\n\n</code></pre>\n<p>I can access the login page(input username, password) to the course page, but when I enter apartmentName as input, click the button to call the component method.\nshows Error origin 'http://localhost:4200' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.\nMy controller has @CrossOrigin(origins = &quot;*&quot;, maxAge = 3600), I changed @CrossOrigin(origins = &quot;http://localhost:4200&quot;) also not work, and WebSercurty configure has http.cors(). Why do I still have this Error?</p>\n<pre><code>Component method call courseService\n  loadData(apartmentName: string) {\n    console.log('call courseService');\n    this._courseService.getAllTeachers(apartmentName).subscribe((teachers) =&gt; {\n      this.teacherArray = teachers;\n      console.log(teachers);\n    });\n  }\n</code></pre>\n<p>Hey, I tried adding @CrossOrigin to the controller method, but not work. So I added public CorsConfigurationSource configurationSource() {} at SecurityConfig class, that make works. and comments @CrossOrigin.</p>\n"},{"tags":["java","spring","mongodb","spring-boot","apache-kafka"],"owner":{"account_id":1042940,"reputation":580,"user_id":1048556,"accept_rate":83,"display_name":"Rafał"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682613538,"creation_date":1682613538,"question_id":76122792,"body_markdown":"I need help with kafka concurrency. I have concurrent listener in my spring boot app:\r\n\r\n```\r\nspring:\r\n  kafka:\r\n    listener:\r\n      concurrency: 2\r\n```\r\nAnd consumer consumes messages for specific client. And now i need to make the messages for single client be handled one after another, because inside i update a single document in mongo, and I get an OptimistickLockingException. Is there a way to achieve this behavious? \r\n\r\nSame thing visualised:\r\n```\r\nevent1 - customer1\r\nevent2 - customer1\r\nevent3 - customer2\r\n```\r\nand the threads are consuming like:\r\n```\r\nthread1 - event1 - customer1\r\nthread2 - event2 - customer1 (OptimistickLockingException)\r\nthread2 - event3 - customer2\r\n```\r\nand I need like that:\r\n```\r\nthread1 - event1 - customer1\r\nthread2 - event3 - customer2\r\nthread1 - event2 - customer1 (or thread2 if it finished first.)\r\n```\r\nso this is an exception in concurrency. Is it possible?\r\n\r\nRegards","title":"Kafka concurrent listener but handling messages containig specific value in single thread (one by one)","body":"<p>I need help with kafka concurrency. I have concurrent listener in my spring boot app:</p>\n<pre><code>spring:\n  kafka:\n    listener:\n      concurrency: 2\n</code></pre>\n<p>And consumer consumes messages for specific client. And now i need to make the messages for single client be handled one after another, because inside i update a single document in mongo, and I get an OptimistickLockingException. Is there a way to achieve this behavious?</p>\n<p>Same thing visualised:</p>\n<pre><code>event1 - customer1\nevent2 - customer1\nevent3 - customer2\n</code></pre>\n<p>and the threads are consuming like:</p>\n<pre><code>thread1 - event1 - customer1\nthread2 - event2 - customer1 (OptimistickLockingException)\nthread2 - event3 - customer2\n</code></pre>\n<p>and I need like that:</p>\n<pre><code>thread1 - event1 - customer1\nthread2 - event3 - customer2\nthread1 - event2 - customer1 (or thread2 if it finished first.)\n</code></pre>\n<p>so this is an exception in concurrency. Is it possible?</p>\n<p>Regards</p>\n"},{"tags":["java","arrays","list"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":4,"creation_date":1682417382,"post_id":76099885,"comment_id":134208273,"body_markdown":"`List.&lt;String[]&gt;of(SOME_COMBINATION)` should work. Otherwise it will infer the desired type of the List to be `String` as suggested by the error message.","body":"<code>List.&lt;String[]&gt;of(SOME_COMBINATION)</code> should work. Otherwise it will infer the desired type of the List to be <code>String</code> as suggested by the error message."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1682603839,"post_id":76099885,"comment_id":134244603,"body_markdown":"To be clear: the signature of `List#of` here is `&lt;R&gt; List&lt;R&gt; of(R... elems) {...}`. The varargs for the passed-in type means it is equivalent to `of(R[] elems)`, so by passing the array it interprets `R` to be `String`. The solution with the type witness [is noted in the javadoc](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#of(E...)).","body":"To be clear: the signature of <code>List#of</code> here is <code>&lt;R&gt; List&lt;R&gt; of(R... elems) {...}</code>. The varargs for the passed-in type means it is equivalent to <code>of(R[] elems)</code>, so by passing the array it interprets <code>R</code> to be <code>String</code>. The solution with the type witness <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#of(E...)\" rel=\"nofollow noreferrer\">is noted in the javadoc</a>."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1682606654,"post_id":76099885,"comment_id":134245386,"body_markdown":"Note that `SOME_COMBINATION` is not a constant; and the elements of `MY_LIST_OF_ARRAYS` are not constants either. You would be better off using `List&lt;List&lt;String&gt;&gt;` directly, using an immutable list to hold immutable lists.","body":"Note that <code>SOME_COMBINATION</code> is not a constant; and the elements of <code>MY_LIST_OF_ARRAYS</code> are not constants either. You would be better off using <code>List&lt;List&lt;String&gt;&gt;</code> directly, using an immutable list to hold immutable lists."}],"answers":[{"tags":[],"owner":{"account_id":15827885,"reputation":9,"user_id":11420191,"display_name":"Supriyo Sarkar"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682603385,"creation_date":1682417785,"answer_id":76100048,"question_id":76099885,"body_markdown":"To make a list of String Arrays, do something like this :\r\n```java\r\nList&lt;String[]&gt; myList = new ArrayList&lt;String[]&gt;();\r\n```\r\nAs per the comment, package for `List` is `java.util.List` and for `ArrayList` it is `java.util.ArrayList`.","title":"How to initialize list of arrays of strings in Java?","body":"<p>To make a list of String Arrays, do something like this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String[]&gt; myList = new ArrayList&lt;String[]&gt;();\n</code></pre>\n<p>As per the comment, package for <code>List</code> is <code>java.util.List</code> and for <code>ArrayList</code> it is <code>java.util.ArrayList</code>.</p>\n"}],"owner":{"account_id":2392816,"reputation":2925,"user_id":2092322,"accept_rate":88,"display_name":"BairDev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682613124,"creation_date":1682416761,"question_id":76099885,"body_markdown":"My code so far:\r\n\r\n```\r\nfinal String[] SOME_COMBINATION = new String[] {\r\n    &quot;strA&quot;,\r\n    // just an example\r\n    (&quot;--(:&quot; + 4 + &quot;--B&quot;)};\r\nfinal List&lt;String[]&gt; MY_LIST_OF_ARRAYS = List.of( // error here\r\n    SOME_COMBINATION\r\n);\r\n```\r\n\r\nI am getting an error (using Eclipse) for the line in which the list is created:\r\n\r\n```\r\n#### Type mismatch: cannot convert from List\\&lt;String\\&gt; to List&lt;String[]&gt;\r\n```\r\n\r\nBut `SOME_COMBINATION` is an array of strings here. What am I doing wrong?\r\n\r\nAre `List`s of Arrays impossible? (It seems like you can, [in general][1].)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/8321984/2092322","title":"How to initialize list of arrays of strings in Java?","body":"<p>My code so far:</p>\n<pre><code>final String[] SOME_COMBINATION = new String[] {\n    &quot;strA&quot;,\n    // just an example\n    (&quot;--(:&quot; + 4 + &quot;--B&quot;)};\nfinal List&lt;String[]&gt; MY_LIST_OF_ARRAYS = List.of( // error here\n    SOME_COMBINATION\n);\n</code></pre>\n<p>I am getting an error (using Eclipse) for the line in which the list is created:</p>\n<pre><code>#### Type mismatch: cannot convert from List\\&lt;String\\&gt; to List&lt;String[]&gt;\n</code></pre>\n<p>But <code>SOME_COMBINATION</code> is an array of strings here. What am I doing wrong?</p>\n<p>Are <code>List</code>s of Arrays impossible? (It seems like you can, <a href=\"https://stackoverflow.com/a/8321984/2092322\">in general</a>.)</p>\n"},{"tags":["java","date","java-time","localdate","java.util.date"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1682570237,"post_id":76116771,"comment_id":134237471,"body_markdown":"The result is not wrong. It&#39;s just that `Date.toString()` produces the wrong output for really old dates.","body":"The result is not wrong. It&#39;s just that <code>Date.toString()</code> produces the wrong output for really old dates."},{"owner":{"account_id":9652520,"reputation":3,"user_id":7163198,"display_name":"Abadellatif Abazine"},"score":0,"creation_date":1682570290,"post_id":76116771,"comment_id":134237474,"body_markdown":"it&#39;s not the same, because at my case i&#39;m loosing some days","body":"it&#39;s not the same, because at my case i&#39;m loosing some days"},{"owner":{"account_id":9652520,"reputation":3,"user_id":7163198,"display_name":"Abadellatif Abazine"},"score":0,"creation_date":1682570349,"post_id":76116771,"comment_id":134237483,"body_markdown":"@Sweeper i need it to have to correct output otherwise it&#39;s considered wrong","body":"@Sweeper i need it to have to correct output otherwise it&#39;s considered wrong"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1682570478,"post_id":76116771,"comment_id":134237501,"body_markdown":"There is nothing to solve. The value in the `Date` is correct. Just give it to whatever API you are using. If you want it to display the correct date as a `String`, convert it back to a `LocalDate`. You can see that it is the same `LocalDate` you had.","body":"There is nothing to solve. The value in the <code>Date</code> is correct. Just give it to whatever API you are using. If you want it to display the correct date as a <code>String</code>, convert it back to a <code>LocalDate</code>. You can see that it is the same <code>LocalDate</code> you had."},{"owner":{"account_id":9652520,"reputation":3,"user_id":7163198,"display_name":"Abadellatif Abazine"},"score":0,"creation_date":1682570639,"post_id":76116771,"comment_id":134237514,"body_markdown":"it has to be persisted with correct value, currently the value in the ERP points to a date that misses 4 days.","body":"it has to be persisted with correct value, currently the value in the ERP points to a date that misses 4 days."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1682570678,"post_id":76116771,"comment_id":134237518,"body_markdown":"I suspect this might be an [XY Problem](http://xyproblem.info/). Is there some bigger problem that you are trying to solve, and you thought making `Date.toString` return the same date as `LocalDate.toString` does would solve the problem? i.e. **Why** does the correct year, month, day has to be persisted? `Date` represents an instant, not a year, month and day.","body":"I suspect this might be an <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a>. Is there some bigger problem that you are trying to solve, and you thought making <code>Date.toString</code> return the same date as <code>LocalDate.toString</code> does would solve the problem? i.e. <b>Why</b> does the correct year, month, day has to be persisted? <code>Date</code> represents an instant, not a year, month and day."},{"owner":{"account_id":9652520,"reputation":3,"user_id":7163198,"display_name":"Abadellatif Abazine"},"score":0,"creation_date":1682571049,"post_id":76116771,"comment_id":134237571,"body_markdown":"Yes it would solve my problem, It has to be persisted with correct value because i consume it from another system  that tokenizes this value with random dates.","body":"Yes it would solve my problem, It has to be persisted with correct value because i consume it from another system  that tokenizes this value with random dates."},{"owner":{"account_id":9652520,"reputation":3,"user_id":7163198,"display_name":"Abadellatif Abazine"},"score":0,"creation_date":1682572558,"post_id":76116771,"comment_id":134237738,"body_markdown":"@Sweeper The ERP uses java.util.Date to persist dates, so when it comes to show the date in the UI, it uses toString of java.util.Date to show it.","body":"@Sweeper The ERP uses java.util.Date to persist dates, so when it comes to show the date in the UI, it uses toString of java.util.Date to show it."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1682584745,"post_id":76116771,"comment_id":134240032,"body_markdown":"What do you need to handle a 1250 years old date for? You need to beware of the difference between the *Julian* calendar in effect back then and the *proleptic Gregorian calendar* that `LocalDate` uses. So both days, 16 July and 20 July, are correct, they are just given in different calendar systems. If you read the date July 20 in a source from back then, then it’s the Julian calendar that you need, that is, `LocalDate` is not the right class to use, sorry. Other than that you are doing the conversion in the correct way.","body":"What do you need to handle a 1250 years old date for? You need to beware of the difference between the <i>Julian</i> calendar in effect back then and the <i>proleptic Gregorian calendar</i> that <code>LocalDate</code> uses. So both days, 16 July and 20 July, are correct, they are just given in different calendar systems. If you read the date July 20 in a source from back then, then it’s the Julian calendar that you need, that is, <code>LocalDate</code> is not the right class to use, sorry. Other than that you are doing the conversion in the correct way."}],"answers":[{"comments":[{"owner":{"account_id":9652520,"reputation":3,"user_id":7163198,"display_name":"Abadellatif Abazine"},"score":0,"creation_date":1682572141,"post_id":76116897,"comment_id":134237679,"body_markdown":"Thanks that solve it, not sure too about the root cause","body":"Thanks that solve it, not sure too about the root cause"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1682601718,"post_id":76116897,"comment_id":134244069,"body_markdown":"The root cause is in my comment under the question: `LocalDate` and `Date` use two different calendar systems, the proleptic Gregorian calendar and the Julian calendar, respectively.","body":"The root cause is in my comment under the question: <code>LocalDate</code> and <code>Date</code> use two different calendar systems, the proleptic Gregorian calendar and the Julian calendar, respectively."}],"tags":[],"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682571733,"creation_date":1682571733,"answer_id":76116897,"question_id":76116771,"body_markdown":"Not sure of the root cause for such difference in the days, but below work around might be helpful in your context:\r\n```\r\n    var localDate = LocalDate.of(775, 7, 20);\r\n    var instant = Calendar.getInstance();\r\n    instant.set(localDate.getYear(), localDate.getMonthValue() - 1 , localDate.getDayOfMonth());\r\n    var date = instant.getTime();\r\n    System.out.println(&quot;date = &quot; + date);\r\n```","title":"Converting LocalDate to java.util.Date","body":"<p>Not sure of the root cause for such difference in the days, but below work around might be helpful in your context:</p>\n<pre><code>    var localDate = LocalDate.of(775, 7, 20);\n    var instant = Calendar.getInstance();\n    instant.set(localDate.getYear(), localDate.getMonthValue() - 1 , localDate.getDayOfMonth());\n    var date = instant.getTime();\n    System.out.println(&quot;date = &quot; + date);\n</code></pre>\n"}],"owner":{"account_id":9652520,"reputation":3,"user_id":7163198,"display_name":"Abadellatif Abazine"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682610363,"accepted_answer_id":76116897,"answer_count":1,"score":0,"last_activity_date":1682613122,"creation_date":1682569923,"question_id":76116771,"body_markdown":"I&#39;m trying to convert a `java.time.LocalDate` to `java.util.Date`, but I lose some days in the process.\r\n\r\nHere the code that shows the issue:\r\n\r\n    public static void main(String[] args) {\r\n        var localDate = LocalDate.of(775, 7, 20);\r\n        var date = Date.from(localDate.atStartOfDay(ZoneId.systemDefault()).toInstant());\r\n        System.out.println(&quot;date = &quot; + date);\r\n    }\r\n\r\nAs you can see, I have a `LocalDate` that&#39;s in year 775, month 7 and day 20.\r\n\r\nBut when I convert it to `Date` it becomes in year 775, month 7 and day 16.\r\n\r\nSo 4 days are missing.\r\n\r\nIs there a way of converting without a loss in days?\r\n\r\nPS: I know that I should not mix legacy Date API with the new Date API but I&#39;m limited by a closed source ERP that uses `java.util.Date`\r\n","title":"Converting LocalDate to java.util.Date","body":"<p>I'm trying to convert a <code>java.time.LocalDate</code> to <code>java.util.Date</code>, but I lose some days in the process.</p>\n<p>Here the code that shows the issue:</p>\n<pre><code>public static void main(String[] args) {\n    var localDate = LocalDate.of(775, 7, 20);\n    var date = Date.from(localDate.atStartOfDay(ZoneId.systemDefault()).toInstant());\n    System.out.println(&quot;date = &quot; + date);\n}\n</code></pre>\n<p>As you can see, I have a <code>LocalDate</code> that's in year 775, month 7 and day 20.</p>\n<p>But when I convert it to <code>Date</code> it becomes in year 775, month 7 and day 16.</p>\n<p>So 4 days are missing.</p>\n<p>Is there a way of converting without a loss in days?</p>\n<p>PS: I know that I should not mix legacy Date API with the new Date API but I'm limited by a closed source ERP that uses <code>java.util.Date</code></p>\n"},{"tags":["java","utc","java-time","java.time.instant","offsetdatetime"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":3,"creation_date":1682409444,"post_id":76098815,"comment_id":134206366,"body_markdown":"Your _date_ is not just a date, it also has time. It is also not a _local_ date/time, it has offset information. You probably intended to parse this text as `OffsetDateTime` or perhaps as `ZonedDateTime`, and then go to `Instant`.","body":"Your <i>date</i> is not just a date, it also has time. It is also not a <i>local</i> date/time, it has offset information. You probably intended to parse this text as <code>OffsetDateTime</code> or perhaps as <code>ZonedDateTime</code>, and then go to <code>Instant</code>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682410333,"post_id":76098815,"comment_id":134206580,"body_markdown":"`BASIC_ISO_DATE` will accept `20191130-0600`. As you can see, this is not the format of your string. Also `LocalDate` hasn’t got a `toInstant` method (last time I checked).","body":"<code>BASIC_ISO_DATE</code> will accept <code>20191130-0600</code>. As you can see, this is not the format of your string. Also <code>LocalDate</code> hasn’t got a <code>toInstant</code> method (last time I checked)."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1682410436,"post_id":76098815,"comment_id":134206608,"body_markdown":"In newer Java versions `Instant.parse()` directly accepts your string. `Instant.parse(date).toString()` yields `2019-11-30T06:01:00Z`.","body":"In newer Java versions <code>Instant.parse()</code> directly accepts your string. <code>Instant.parse(date).toString()</code> yields <code>2019-11-30T06:01:00Z</code>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1682410504,"post_id":76098815,"comment_id":134206622,"body_markdown":"@Zabuzard Very nice edit! Thanks. user_che_ban, may this serve as inspiration for your next Stack Overflow questions?","body":"@Zabuzard Very nice edit! Thanks. user_che_ban, may this serve as inspiration for your next Stack Overflow questions?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1682411055,"post_id":76098815,"comment_id":134206745,"body_markdown":"Do you know for sure that you need the `.000` fraction of second when it is zero? You are asking for [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) format, and in ISO 8601 the fraction is optional when it is zero. So the receiver of your string probably doesn’t care. Asking because the classes of java.time (`Instant` and also `OffsetDateTime`) print ISO 8601 from their `toString` methods but include the fraction of second only if it is non-zero.","body":"Do you know for sure that you need the <code>.000</code> fraction of second when it is zero? You are asking for <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format, and in ISO 8601 the fraction is optional when it is zero. So the receiver of your string probably doesn’t care. Asking because the classes of java.time (<code>Instant</code> and also <code>OffsetDateTime</code>) print ISO 8601 from their <code>toString</code> methods but include the fraction of second only if it is non-zero."},{"owner":{"account_id":3878329,"reputation":605,"user_id":3211648,"accept_rate":76,"display_name":"F0cus"},"score":0,"creation_date":1682411153,"post_id":76098815,"comment_id":134206773,"body_markdown":"in the existing application they are setting the value like that , with `.000` , I am also following the same.","body":"in the existing application they are setting the value like that , with <code>.000</code> , I am also following the same."}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1682411850,"post_id":76098938,"comment_id":134206936,"body_markdown":"Good answer. Thanks for including a good explanation.","body":"Good answer. Thanks for including a good explanation."}],"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1682410496,"creation_date":1682410181,"answer_id":76098938,"question_id":76098815,"body_markdown":"tl;dr\r\n----\r\n\r\n```java\r\nString text = &quot;2019-11-30T00:01:00.000-06:00&quot;;\r\nOffsetDateTime offsetDateTime = OffsetDateTime.parse(text);\r\nInstant instant = offsetDateTime.toInstant();\r\n\r\nSystem.out.println(instant); // 2019-11-30T06:01:00Z\r\n\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;)\r\n  .withZone(ZoneOffset.UTC);\r\nSystem.out.println(formatter.format(instant)); // 2019-11-30T06:01:00.000Z\r\n```\r\n\r\n## Explanation ##\r\n\r\nYour _date_ is not just a date, it also has time. So `LocalDate` would not work. If at all, then `LocalDateTime`.\r\n\r\nBut, it is also not a **local** date/time, it has offset information. You need to use `OffsetDateTime` instead, and then go to `Instant` from there.\r\n\r\nTo actually get the desired output for your `Instant`, you also have to create a proper `DateTimeFormatter`, since the default representation does not include the millis.","title":"Convert timestamp with offset to UTC","body":"<h2>tl;dr</h2>\n<pre class=\"lang-java prettyprint-override\"><code>String text = &quot;2019-11-30T00:01:00.000-06:00&quot;;\nOffsetDateTime offsetDateTime = OffsetDateTime.parse(text);\nInstant instant = offsetDateTime.toInstant();\n\nSystem.out.println(instant); // 2019-11-30T06:01:00Z\n\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;)\n  .withZone(ZoneOffset.UTC);\nSystem.out.println(formatter.format(instant)); // 2019-11-30T06:01:00.000Z\n</code></pre>\n<h2>Explanation</h2>\n<p>Your <em>date</em> is not just a date, it also has time. So <code>LocalDate</code> would not work. If at all, then <code>LocalDateTime</code>.</p>\n<p>But, it is also not a <strong>local</strong> date/time, it has offset information. You need to use <code>OffsetDateTime</code> instead, and then go to <code>Instant</code> from there.</p>\n<p>To actually get the desired output for your <code>Instant</code>, you also have to create a proper <code>DateTimeFormatter</code>, since the default representation does not include the millis.</p>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1682411804,"post_id":76098957,"comment_id":134206926,"body_markdown":"Both the posted answers are very good. I tend to prefer this solution, to me the code is a bit clearer.","body":"Both the posted answers are very good. I tend to prefer this solution, to me the code is a bit clearer."}],"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1682410626,"creation_date":1682410306,"answer_id":76098957,"question_id":76098815,"body_markdown":"Slightly different approach to what Zabuzard posted due to not using an `Instant` explicitly…\r\n\r\nYou will need to \r\n- parse the `String`,\r\n- adjust the offset from `-06:00` to UTC and then\r\n-  get the desired `String` representation by means of a `DateTimeFormatter`\r\n\r\nSo… **tl;dr**:\r\n\r\n```Java\r\npublic static void main(String[] args) {\r\n\t// example input\r\n\tString someDateTime = &quot;2019-11-30T00:01:00.000-06:00&quot;;\r\n\t// parse directly\r\n\tOffsetDateTime odt = OffsetDateTime.parse(someDateTime);\r\n\t// define a DateTimeFormatter for the desired output\r\n\tDateTimeFormatter dtf = DateTimeFormatter\r\n\t\t\t\t\t\t\t\t.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;);\r\n\t// print the parsing result using the DateTimeFormatter\r\n\tSystem.out.println(&quot;Origin: &quot; \r\n\t\t\t+ odt.format(dtf));\r\n\t// adjust the offset from -06:00 to UTC\r\n\tOffsetDateTime utcOdt = odt.withOffsetSameInstant(ZoneOffset.UTC);\r\n\t// print the result —&#160;again using the DateTimeFormatter\r\n\tSystem.out.println(&quot;UTC:    &quot; \r\n\t\t\t+ utcOdt.format(dtf));\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\nOrigin: 2019-11-30T00:01:00.000-06:00\r\nUTC:    2019-11-30T06:01:00.000Z\r\n```","title":"Convert timestamp with offset to UTC","body":"<p>Slightly different approach to what Zabuzard posted due to not using an <code>Instant</code> explicitly…</p>\n<p>You will need to</p>\n<ul>\n<li>parse the <code>String</code>,</li>\n<li>adjust the offset from <code>-06:00</code> to UTC and then</li>\n<li>get the desired <code>String</code> representation by means of a <code>DateTimeFormatter</code></li>\n</ul>\n<p>So… <strong>tl;dr</strong>:</p>\n<pre><code>public static void main(String[] args) {\n    // example input\n    String someDateTime = &quot;2019-11-30T00:01:00.000-06:00&quot;;\n    // parse directly\n    OffsetDateTime odt = OffsetDateTime.parse(someDateTime);\n    // define a DateTimeFormatter for the desired output\n    DateTimeFormatter dtf = DateTimeFormatter\n                                .ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ss.SSSXXX&quot;);\n    // print the parsing result using the DateTimeFormatter\n    System.out.println(&quot;Origin: &quot; \n            + odt.format(dtf));\n    // adjust the offset from -06:00 to UTC\n    OffsetDateTime utcOdt = odt.withOffsetSameInstant(ZoneOffset.UTC);\n    // print the result — again using the DateTimeFormatter\n    System.out.println(&quot;UTC:    &quot; \n            + utcOdt.format(dtf));\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Origin: 2019-11-30T00:01:00.000-06:00\nUTC:    2019-11-30T06:01:00.000Z\n</code></pre>\n"}],"owner":{"account_id":3878329,"reputation":605,"user_id":3211648,"accept_rate":76,"display_name":"F0cus"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":427,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76098938,"answer_count":2,"score":4,"last_activity_date":1682612540,"creation_date":1682409257,"question_id":76098815,"body_markdown":"## Conversion ##\r\n\r\nI have a timestamp with an offset (`-6`) in the following format:\r\n\r\n```java\r\n2019-11-30T00:01:00.000-06:00\r\n```\r\n\r\nand I want to convert it to an UTC timestamp, like:\r\n\r\n```java\r\n2019-11-30T06:01:00.000Z\r\n```\r\n\r\n## Attempt ##\r\n\r\nI tried it the following way:\r\n\r\n```Java\r\nString text = &quot;2019-11-30T00:01:00.000-06:00&quot;;\r\n\r\nLocalDate date = LocalDate.parse(text, DateTimeFormatter.BASIC_ISO_DATE);\r\n\r\nSystem.out.println(date.toInstant());\r\n```\r\n\r\nbut it is not compiling:\r\n\r\n&gt; The method `toInstant()` is undefined for the type `LocalDate`\r\n\r\nHow am I supposed to do this correctly?","title":"Convert timestamp with offset to UTC","body":"<h2>Conversion</h2>\n<p>I have a timestamp with an offset (<code>-6</code>) in the following format:</p>\n<pre class=\"lang-java prettyprint-override\"><code>2019-11-30T00:01:00.000-06:00\n</code></pre>\n<p>and I want to convert it to an UTC timestamp, like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>2019-11-30T06:01:00.000Z\n</code></pre>\n<h2>Attempt</h2>\n<p>I tried it the following way:</p>\n<pre><code>String text = &quot;2019-11-30T00:01:00.000-06:00&quot;;\n\nLocalDate date = LocalDate.parse(text, DateTimeFormatter.BASIC_ISO_DATE);\n\nSystem.out.println(date.toInstant());\n</code></pre>\n<p>but it is not compiling:</p>\n<blockquote>\n<p>The method <code>toInstant()</code> is undefined for the type <code>LocalDate</code></p>\n</blockquote>\n<p>How am I supposed to do this correctly?</p>\n"},{"tags":["java","android","kotlin","user-interface"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1682614962,"post_id":76122647,"comment_id":134247523,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":25519965,"reputation":1,"user_id":19310067,"display_name":"Ruslan Lyaschenko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682612399,"creation_date":1682612399,"question_id":76122647,"body_markdown":"I have a question about how I can correctly implement the adaptation of my interface for multiple user states (Registered and unregistered). I want my bottomNavigationView to open fragments relative to user states, but I don&#39;t know how to do it properly. Do I just need to save the state in sharedPreferences, and just check this state when the application starts, and relative to this already create the bottomNavigationView I need?\r\n\r\nAs I said earlier, the only idea to implement this is to compare the value from sharedPreferences.","title":"BottomNavigationView implementation for multiple users","body":"<p>I have a question about how I can correctly implement the adaptation of my interface for multiple user states (Registered and unregistered). I want my bottomNavigationView to open fragments relative to user states, but I don't know how to do it properly. Do I just need to save the state in sharedPreferences, and just check this state when the application starts, and relative to this already create the bottomNavigationView I need?</p>\n<p>As I said earlier, the only idea to implement this is to compare the value from sharedPreferences.</p>\n"},{"tags":["java","maven","windows-10","wsl-2"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1627146157,"post_id":68512070,"comment_id":121081061,"body_markdown":"Just a vague idea, but do you by any chance have `&lt;fork&gt;true&lt;/fork&gt;` in your pom? If so, try making that `false` and see what happens","body":"Just a vague idea, but do you by any chance have <code>&lt;fork&gt;true&lt;&#47;fork&gt;</code> in your pom? If so, try making that <code>false</code> and see what happens"},{"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"score":0,"creation_date":1627146299,"post_id":68512070,"comment_id":121081099,"body_markdown":"There is no pom, no project. I was just trying to see that Maven would run correctly inside WSL2.","body":"There is no pom, no project. I was just trying to see that Maven would run correctly inside WSL2."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1627146424,"post_id":68512070,"comment_id":121081132,"body_markdown":"That&#39;s that theory out of the window then ;) Are you sure if&#39;s the *same* Maven you&#39;re running in each OS?","body":"That&#39;s that theory out of the window then ;) Are you sure if&#39;s the <i>same</i> Maven you&#39;re running in each OS?"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1627146496,"post_id":68512070,"comment_id":121081150,"body_markdown":"You probably can&#39;t run maven under WSL (in bash) with a Windows JDK. You could try a Linux JDK instead.","body":"You probably can&#39;t run maven under WSL (in bash) with a Windows JDK. You could try a Linux JDK instead."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1627146909,"post_id":68512070,"comment_id":121081250,"body_markdown":"&gt;Maven home: C:\\Maven\\bin\\..&lt; seems a little strange. What happens when you do this? `export MAVEN_HOME=/mnt/c/Maven;mvn -v`","body":"&gt;Maven home: C:\\Maven\\bin\\..&lt; seems a little strange. What happens when you do this? <code>export MAVEN_HOME=&#47;mnt&#47;c&#47;Maven;mvn -v</code>"},{"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"score":0,"creation_date":1627147015,"post_id":68512070,"comment_id":121081273,"body_markdown":"@g00se Still the same error.","body":"@g00se Still the same error."},{"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"score":0,"creation_date":1627147057,"post_id":68512070,"comment_id":121081280,"body_markdown":"@JornVernee if we&#39;re supposed to run the Windows JDK in WSL2, shouldn&#39;t we be running the Windows Maven as well?","body":"@JornVernee if we&#39;re supposed to run the Windows JDK in WSL2, shouldn&#39;t we be running the Windows Maven as well?"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1627147166,"post_id":68512070,"comment_id":121081304,"body_markdown":"If you want to force running maven with the Windows JDK, you can&#39;t invoke `mvn` from `bash`. But you can run from `cmd` with e.g.: `$ cmd.exe /C &quot;mvn --version&quot;`","body":"If you want to force running maven with the Windows JDK, you can&#39;t invoke <code>mvn</code> from <code>bash</code>. But you can run from <code>cmd</code> with e.g.: <code>$ cmd.exe &#47;C &quot;mvn --version&quot;</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1627147665,"post_id":68512070,"comment_id":121081411,"body_markdown":"Maybe try exporting both variables before invoking `mvn` then?","body":"Maybe try exporting both variables before invoking <code>mvn</code> then?"},{"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"score":2,"creation_date":1627147851,"post_id":68512070,"comment_id":121081453,"body_markdown":"I am trying to use Quarkus, which involves using Docker, which involves running code from inside the WSL2 filesystem. Shouldn&#39;t I be running Maven from inside WSL2 as well?","body":"I am trying to use Quarkus, which involves using Docker, which involves running code from inside the WSL2 filesystem. Shouldn&#39;t I be running Maven from inside WSL2 as well?"},{"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"score":0,"creation_date":1627148752,"post_id":68512070,"comment_id":121081672,"body_markdown":"@g00se I tried setting 1st `MAVEN_HOME` &amp; then `M2_HOME`, but neither worked. The values were visible in `wsl`, but Maven still wouldn&#39;t work.","body":"@g00se I tried setting 1st <code>MAVEN_HOME</code> &amp; then <code>M2_HOME</code>, but neither worked. The values were visible in <code>wsl</code>, but Maven still wouldn&#39;t work."},{"owner":{"account_id":17300877,"reputation":388,"user_id":12530613,"display_name":"Auktis"},"score":0,"creation_date":1627203311,"post_id":68512070,"comment_id":121089643,"body_markdown":"Em… Are you sure you installed a JDK and not a JRE? What does `javac -version` tells?","body":"Em… Are you sure you installed a JDK and not a JRE? What does <code>javac -version</code> tells?"},{"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"score":0,"creation_date":1627236742,"post_id":68512070,"comment_id":121097051,"body_markdown":"@Auktis Yes, it&#39;s definitely JDK. `java -version` says `javac 11.0.10`.","body":"@Auktis Yes, it&#39;s definitely JDK. <code>java -version</code> says <code>javac 11.0.10</code>."},{"owner":{"account_id":17300877,"reputation":388,"user_id":12530613,"display_name":"Auktis"},"score":0,"creation_date":1627238889,"post_id":68512070,"comment_id":121097536,"body_markdown":"@markvgti Maybe the best is to install Maven and Java on Ubuntu. That should work like a charm.","body":"@markvgti Maybe the best is to install Maven and Java on Ubuntu. That should work like a charm."}],"answers":[{"tags":[],"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627303720,"creation_date":1627303720,"answer_id":68530160,"question_id":68512070,"body_markdown":"I gave up and simply installed JDK 11 &amp; Maven 3.8.1 inside WSL2 using SDKMAN.\r\n\r\nNot an ideal solution, but didn&#39;t feel like spending more time on this issue.","title":"Maven on WSL2 can&#39;t see JAVA_HOME","body":"<p>I gave up and simply installed JDK 11 &amp; Maven 3.8.1 inside WSL2 using SDKMAN.</p>\n<p>Not an ideal solution, but didn't feel like spending more time on this issue.</p>\n"},{"comments":[{"owner":{"account_id":1092127,"reputation":10061,"user_id":1086540,"accept_rate":86,"display_name":"Hilikus"},"score":0,"creation_date":1664925467,"post_id":68532389,"comment_id":130580121,"body_markdown":"this is not it. i tried using the windows path and i still get the same error","body":"this is not it. i tried using the windows path and i still get the same error"}],"tags":[],"owner":{"account_id":16352934,"reputation":16788,"user_id":11810933,"display_name":"NotTheDr01ds"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627312499,"creation_date":1627312499,"answer_id":68532389,"question_id":68512070,"body_markdown":"I don&#39;t disagree with your solution to use the Linux versions of Java and Maven inside WSL, but I do think I see why your example in the original question was failing.\r\n\r\nThe problem appears to be that you are using the Windows versions of Java/Maven, BUT your JAVA_HOME from inside WSL is using the &quot;Linux form&quot; of the path (`/mnt/c/AdoptOpenJDK/jdk-11-hotspot`).\r\n\r\nMaven is complaining, because since it is running under Windows, it doesn&#39;t understand that path.  It needs to see `C:\\AdoptOpenJDK\\jdk-11-hotspot`.\r\n\r\nI believe this is because the answer you linked to said to use `setx WSLENV &quot;JAVA_HOME/p&quot;`.  The `/p` is forcing the translation from the Windows path to the WSL/Linux mapping, which you *don&#39;t* want in this case.\r\n\r\nAlso, be sure to restart the Terminal from which you launch WSL so that it can pick up the new environment variables.","title":"Maven on WSL2 can&#39;t see JAVA_HOME","body":"<p>I don't disagree with your solution to use the Linux versions of Java and Maven inside WSL, but I do think I see why your example in the original question was failing.</p>\n<p>The problem appears to be that you are using the Windows versions of Java/Maven, BUT your JAVA_HOME from inside WSL is using the &quot;Linux form&quot; of the path (<code>/mnt/c/AdoptOpenJDK/jdk-11-hotspot</code>).</p>\n<p>Maven is complaining, because since it is running under Windows, it doesn't understand that path.  It needs to see <code>C:\\AdoptOpenJDK\\jdk-11-hotspot</code>.</p>\n<p>I believe this is because the answer you linked to said to use <code>setx WSLENV &quot;JAVA_HOME/p&quot;</code>.  The <code>/p</code> is forcing the translation from the Windows path to the WSL/Linux mapping, which you <em>don't</em> want in this case.</p>\n<p>Also, be sure to restart the Terminal from which you launch WSL so that it can pick up the new environment variables.</p>\n"}],"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5133,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1682611837,"creation_date":1627145629,"question_id":68512070,"body_markdown":"I have JDK 11 and Maven 3.8.1 installed on my Windows 10 machine. Took care that install paths don&#39;t have spaces.\r\n\r\nMade the value of `JAVA_HOME` visible inside the Ubuntu shell following the advice [here][1]. Then I restarted the Ubuntu shell.\r\n\r\nHere are the outputs from inside an Ubuntu shell on Windows Terminal:\r\n\r\n    user@computer:/path$ java -version\r\n    openjdk version &quot;11.0.10&quot; 2021-01-19\r\n    OpenJDK Runtime Environment AdoptOpenJDK (build 11.0.10+9)\r\n    OpenJDK 64-Bit Server VM AdoptOpenJDK (build 11.0.10+9, mixed mode)\r\n\r\n    user@computer:/path$ env | grep JAVA\r\n    JAVA_HOME=/mnt/c/AdoptOpenJDK/jdk-11-hotspot\r\n\r\n    user@computer:/path$ mvn -v\r\n    The JAVA_HOME environment variable is not defined correctly\r\n    This environment variable is needed to run this program\r\n    NB: JAVA_HOME should point to a JDK not a JRE\r\n\r\nSo although the value of `JAVA_HOME` is visible inside the Ubuntu shell, somehow `mvn` can&#39;t see it. How do I fix this?\r\n\r\nMaven run from `cmd` gives this output:\r\n\r\n    C:\\path&gt;mvn -v\r\n    Apache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)\r\n    Maven home: C:\\Maven\\bin\\..\r\n    Java version: 11.0.10, vendor: AdoptOpenJDK, runtime: C:\\AdoptOpenJDK\\jdk-11-hotspot\r\n    Default locale: en_IN, platform encoding: Cp1252\r\n    OS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n\r\nVersions:\r\n\r\n  * Windows 10 version 2004 (OS Build 19041.1110)\r\n  * Java 11.0.10\r\n  * Maven 3.8.1\r\n  * WSL2\r\n  * Ubuntu 20.04.2 LTS (via WSL2)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/53574705/91933","title":"Maven on WSL2 can&#39;t see JAVA_HOME","body":"<p>I have JDK 11 and Maven 3.8.1 installed on my Windows 10 machine. Took care that install paths don't have spaces.</p>\n<p>Made the value of <code>JAVA_HOME</code> visible inside the Ubuntu shell following the advice <a href=\"https://stackoverflow.com/a/53574705/91933\">here</a>. Then I restarted the Ubuntu shell.</p>\n<p>Here are the outputs from inside an Ubuntu shell on Windows Terminal:</p>\n<pre><code>user@computer:/path$ java -version\nopenjdk version &quot;11.0.10&quot; 2021-01-19\nOpenJDK Runtime Environment AdoptOpenJDK (build 11.0.10+9)\nOpenJDK 64-Bit Server VM AdoptOpenJDK (build 11.0.10+9, mixed mode)\n\nuser@computer:/path$ env | grep JAVA\nJAVA_HOME=/mnt/c/AdoptOpenJDK/jdk-11-hotspot\n\nuser@computer:/path$ mvn -v\nThe JAVA_HOME environment variable is not defined correctly\nThis environment variable is needed to run this program\nNB: JAVA_HOME should point to a JDK not a JRE\n</code></pre>\n<p>So although the value of <code>JAVA_HOME</code> is visible inside the Ubuntu shell, somehow <code>mvn</code> can't see it. How do I fix this?</p>\n<p>Maven run from <code>cmd</code> gives this output:</p>\n<pre><code>C:\\path&gt;mvn -v\nApache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)\nMaven home: C:\\Maven\\bin\\..\nJava version: 11.0.10, vendor: AdoptOpenJDK, runtime: C:\\AdoptOpenJDK\\jdk-11-hotspot\nDefault locale: en_IN, platform encoding: Cp1252\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n</code></pre>\n<p>Versions:</p>\n<ul>\n<li>Windows 10 version 2004 (OS Build 19041.1110)</li>\n<li>Java 11.0.10</li>\n<li>Maven 3.8.1</li>\n<li>WSL2</li>\n<li>Ubuntu 20.04.2 LTS (via WSL2)</li>\n</ul>\n"},{"tags":["java","file","path"],"answers":[{"comments":[{"owner":{"account_id":27362887,"reputation":13,"user_id":20870221,"display_name":"Ahmed Haitham"},"score":0,"creation_date":1682612120,"post_id":76122553,"comment_id":134246765,"body_markdown":"yes, it will act as a database containing some info that I will retrieve multiple times from the file. so what should I do in this case?","body":"yes, it will act as a database containing some info that I will retrieve multiple times from the file. so what should I do in this case?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1682613930,"post_id":76122553,"comment_id":134247255,"body_markdown":"If it&#39;s data that is as much part of your application as your class files are, this `MyClassWeAreIn.class.getResource(&quot;/images/open_icon.png&quot;)` for example. `getResourceAsStream`, if you need the data itself, just `getResource` if passing it to anything that takes a `URL`.","body":"If it&#39;s data that is as much part of your application as your class files are, this <code>MyClassWeAreIn.class.getResource(&quot;&#47;images&#47;open_icon.png&quot;)</code> for example. <code>getResourceAsStream</code>, if you need the data itself, just <code>getResource</code> if passing it to anything that takes a <code>URL</code>."}],"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682611818,"creation_date":1682611818,"answer_id":76122553,"question_id":76122494,"body_markdown":"The execution directory when the application is running maybe a completely different directory from the source path. Don&#39;t assume it is in the source path. Always pass the absolute directory to open the file. Unless it is a resource inside the application then you could use [ClassLoader.getResource()][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html#getResource-java.lang.String-","title":"Generic path issue","body":"<p>The execution directory when the application is running maybe a completely different directory from the source path. Don't assume it is in the source path. Always pass the absolute directory to open the file. Unless it is a resource inside the application then you could use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html#getResource-java.lang.String-\" rel=\"nofollow noreferrer\">ClassLoader.getResource()</a>.</p>\n"}],"owner":{"account_id":27362887,"reputation":13,"user_id":20870221,"display_name":"Ahmed Haitham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682611818,"creation_date":1682611500,"question_id":76122494,"body_markdown":"[Assume this is my file hierarchy][1]\r\n\r\n[1]: https://i.stack.imgur.com/JSjX4.png\r\n\r\n\r\n     public static ArrayList&lt;String[]&gt; loopCSV() throws DBAppException {\r\n        try {\r\n            String line;\r\n            BufferedReader br = new BufferedReader(new FileReader(&quot;Metadata/Metadata.csv&quot;));\r\n            ArrayList&lt;String[]&gt; TablesName = new ArrayList&lt;&gt;();\r\n            while ((line = br.readLine()) != null) {\r\n                // use comma as separator\r\n                String[] r = line.split(&quot;,&quot;);\r\n                TablesName.add(r);\r\n            }\r\n            return TablesName;\r\n        } catch (Exception e) {\r\n            throw new DBAppException(&quot;can not read the csv file&quot;);\r\n        }\r\n    }\r\n\r\nthe above method Loop on a csv file within my project solution and do whatever it it does.\r\nI get exception regarding the file path  , however when I add the absolute path from my computer it runs normally\r\nI want the path to be as generic as possible, so it runs everywhere.\r\n     \r\n    java.io.FileNotFoundException: Metadata\\Metadata.csv (The system cannot find the path specified)\r\nThanks in advance,\r\n","title":"Generic path issue","body":"<p><a href=\"https://i.stack.imgur.com/JSjX4.png\" rel=\"nofollow noreferrer\">Assume this is my file hierarchy</a></p>\n<pre><code> public static ArrayList&lt;String[]&gt; loopCSV() throws DBAppException {\n    try {\n        String line;\n        BufferedReader br = new BufferedReader(new FileReader(&quot;Metadata/Metadata.csv&quot;));\n        ArrayList&lt;String[]&gt; TablesName = new ArrayList&lt;&gt;();\n        while ((line = br.readLine()) != null) {\n            // use comma as separator\n            String[] r = line.split(&quot;,&quot;);\n            TablesName.add(r);\n        }\n        return TablesName;\n    } catch (Exception e) {\n        throw new DBAppException(&quot;can not read the csv file&quot;);\n    }\n}\n</code></pre>\n<p>the above method Loop on a csv file within my project solution and do whatever it it does.\nI get exception regarding the file path  , however when I add the absolute path from my computer it runs normally\nI want the path to be as generic as possible, so it runs everywhere.</p>\n<pre><code>java.io.FileNotFoundException: Metadata\\Metadata.csv (The system cannot find the path specified)\n</code></pre>\n<p>Thanks in advance,</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1682615916,"post_id":76122513,"comment_id":134247754,"body_markdown":"Didn&#39;t find anything about this on releases notes so looks like a good bug candidate,","body":"Didn&#39;t find anything about this on releases notes so looks like a good bug candidate,"},{"owner":{"account_id":9417072,"reputation":51,"user_id":7004503,"display_name":"john"},"score":0,"creation_date":1682626820,"post_id":76122513,"comment_id":134249904,"body_markdown":"Thank you for the response. I will look into submitting an Eclipse bug report. Not too hopeful since I already did this about 3 weeks ago and have not heard a word from them. The process is not intuitive (to me) but I will try again.","body":"Thank you for the response. I will look into submitting an Eclipse bug report. Not too hopeful since I already did this about 3 weeks ago and have not heard a word from them. The process is not intuitive (to me) but I will try again."},{"owner":{"account_id":9417072,"reputation":51,"user_id":7004503,"display_name":"john"},"score":0,"creation_date":1682628220,"post_id":76122513,"comment_id":134250132,"body_markdown":"Bug reported to Eclipse. Original bug reported is 581788, submitted April 6, 2023. New bug is 581782.","body":"Bug reported to Eclipse. Original bug reported is 581788, submitted April 6, 2023. New bug is 581782."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1682663967,"post_id":76122513,"comment_id":134254077,"body_markdown":"Eclipse JDT problems should be reported here - https://github.com/eclipse-jdt/eclipse.jdt.ui/issues","body":"Eclipse JDT problems should be reported here - <a href=\"https://github.com/eclipse-jdt/eclipse.jdt.ui/issues\" rel=\"nofollow noreferrer\">github.com/eclipse-jdt/eclipse.jdt.ui/issues</a>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1682667089,"post_id":76122513,"comment_id":134254716,"body_markdown":"Simple hit Ctrl+Shift+O (_Organize Imports_). I agree that a quick fix (Ctrl+1) for that would also be nice. Could you provide a pull request for that?","body":"Simple hit Ctrl+Shift+O (<i>Organize Imports</i>). I agree that a quick fix (Ctrl+1) for that would also be nice. Could you provide a pull request for that?"},{"owner":{"account_id":9417072,"reputation":51,"user_id":7004503,"display_name":"john"},"score":0,"creation_date":1682702539,"post_id":76122513,"comment_id":134262617,"body_markdown":"Oops. New bug report is 581872, not 581782. You can see it at https://bugs.eclipse.org/bugs/show_bug.cgi?id=581872","body":"Oops. New bug report is 581872, not 581782. You can see it at <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=581872\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=581872</a>"}],"owner":{"account_id":9417072,"reputation":51,"user_id":7004503,"display_name":"john"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682611598,"creation_date":1682611598,"question_id":76122513,"body_markdown":"Environment:\r\n1. Linux Fedora 37 and MacOS on 2023 MacBook Pro M2.\r\n2. Oracle Java 17 (17.0.7 on Fedora, 17.0.6 on Mac).\r\n3. Eclipse 2023-03 on both Fedora and Mac.\r\n\r\nRecently moved from Eclipse 2022-09 to 2023-03. After doing so, noticed that &quot;code assist&quot; had problems on both Fedora and Mac. What follows is a simple example that illustrates the problem. Start with a brand new empty workspace. Add a new project; uncheck the &quot;Create module-info.java file&quot; box. Add the following code to the default package. Text continues following code.\r\n```\r\npublic class HelloWorld {\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;Hello world!&quot;);\r\n//\t\tSet s1 =\r\n//\t\tSet s2 = new HashSet();\r\n//\t\tHashSet hs1 =\r\n//\t\tHashSet hs2 = new HashSet();\r\n\t}\r\n}\r\n```\r\nClassic &quot;hello world&quot; program. Note the 4 commented lines.\r\n 1. Uncomment the first one. Red squiggly line appears under &quot;Set&quot;.\r\n 2. Hover your mouse on Set. Note the dropdown hints. States that &quot;Set cannot be resolved to a type&quot;. Provides 12 quick fixes, the top one being &quot;Import &#39;Set&#39; (java.util)&quot;. This is the correct fix. DO NOT CHOOSE IT. Instead, re-comment the line. If you did choose the fix, then also delete the added include line.\r\n 3.  Uncomment the second commented line. Red squiggly lines appear under &quot;Set&quot; and &quot;HashSet&quot;. Hover on Set. Note the dropdown hints. States that &quot;Set cannot be resolved to a type&quot;. Provides 6 quick fixes. The correct fix -- &quot;Import &#39;Set&#39; (java.util)&quot; -- is not there!!!??? Same thing when hovering on HashSet. Re-comment the line.\r\n4. Uncomment the third commented line. Similar behavior as in 2. In particular, the correct fix is at the top -- &quot;Import &#39;HashSet&#39; (java.util)&quot;. Re-comment the line.\r\n5. Uncomment the fourth commented line. Similar behavior as in 3. Red squiggly lines on the two HashSet occurrences. Hovering on either does not show the correct fix. Re-comment the line.\r\n\r\nI still have Eclipse 2022-09 so I decided to do the same tests there. Created a new workspace, new project without the module-info.java button checked, and created the same source. This time all steps work correctly. In particular, step 3 shows the correct fixes for Set and HashSet and step 5 shows the correct fixes for both occurrences of HashSet.\r\n\r\nAfter doing the Eclipse 2022-09 test, I repeated the Eclipse 2023-03 test using the 2022-09 workspace. Same problem as described above occurred.\r\n\r\nSummary. The correct code assist hints seem to be available in Eclipse 2023-03 (see 2 and 4), but not displayed in all cases (see 3 and 5). Occurs on both Fedora and Mac. Problem does not occur for Eclipse 2022-09.\r\n\r\nSince this issue seems too easy to reproduce, I assume that I must be doing something wrong. Any ideas what that might be?","title":"Eclipse 2023-03 does not provide accurate code assist hints for lines like &quot;Set set = hew HashSet();&quot;","body":"<p>Environment:</p>\n<ol>\n<li>Linux Fedora 37 and MacOS on 2023 MacBook Pro M2.</li>\n<li>Oracle Java 17 (17.0.7 on Fedora, 17.0.6 on Mac).</li>\n<li>Eclipse 2023-03 on both Fedora and Mac.</li>\n</ol>\n<p>Recently moved from Eclipse 2022-09 to 2023-03. After doing so, noticed that &quot;code assist&quot; had problems on both Fedora and Mac. What follows is a simple example that illustrates the problem. Start with a brand new empty workspace. Add a new project; uncheck the &quot;Create module-info.java file&quot; box. Add the following code to the default package. Text continues following code.</p>\n<pre><code>public class HelloWorld {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello world!&quot;);\n//      Set s1 =\n//      Set s2 = new HashSet();\n//      HashSet hs1 =\n//      HashSet hs2 = new HashSet();\n    }\n}\n</code></pre>\n<p>Classic &quot;hello world&quot; program. Note the 4 commented lines.</p>\n<ol>\n<li>Uncomment the first one. Red squiggly line appears under &quot;Set&quot;.</li>\n<li>Hover your mouse on Set. Note the dropdown hints. States that &quot;Set cannot be resolved to a type&quot;. Provides 12 quick fixes, the top one being &quot;Import 'Set' (java.util)&quot;. This is the correct fix. DO NOT CHOOSE IT. Instead, re-comment the line. If you did choose the fix, then also delete the added include line.</li>\n<li>Uncomment the second commented line. Red squiggly lines appear under &quot;Set&quot; and &quot;HashSet&quot;. Hover on Set. Note the dropdown hints. States that &quot;Set cannot be resolved to a type&quot;. Provides 6 quick fixes. The correct fix -- &quot;Import 'Set' (java.util)&quot; -- is not there!!!??? Same thing when hovering on HashSet. Re-comment the line.</li>\n<li>Uncomment the third commented line. Similar behavior as in 2. In particular, the correct fix is at the top -- &quot;Import 'HashSet' (java.util)&quot;. Re-comment the line.</li>\n<li>Uncomment the fourth commented line. Similar behavior as in 3. Red squiggly lines on the two HashSet occurrences. Hovering on either does not show the correct fix. Re-comment the line.</li>\n</ol>\n<p>I still have Eclipse 2022-09 so I decided to do the same tests there. Created a new workspace, new project without the module-info.java button checked, and created the same source. This time all steps work correctly. In particular, step 3 shows the correct fixes for Set and HashSet and step 5 shows the correct fixes for both occurrences of HashSet.</p>\n<p>After doing the Eclipse 2022-09 test, I repeated the Eclipse 2023-03 test using the 2022-09 workspace. Same problem as described above occurred.</p>\n<p>Summary. The correct code assist hints seem to be available in Eclipse 2023-03 (see 2 and 4), but not displayed in all cases (see 3 and 5). Occurs on both Fedora and Mac. Problem does not occur for Eclipse 2022-09.</p>\n<p>Since this issue seems too easy to reproduce, I assume that I must be doing something wrong. Any ideas what that might be?</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":922912,"reputation":1160,"user_id":954246,"accept_rate":75,"display_name":"newhouse"},"score":0,"creation_date":1682594897,"post_id":76118341,"comment_id":134242276,"body_markdown":"Thanks. And now that I think of, the above COALESCE code I proposed was not totally ok for us (maybe ok for others), so I might check out this JPQL proposal of yours.","body":"Thanks. And now that I think of, the above COALESCE code I proposed was not totally ok for us (maybe ok for others), so I might check out this JPQL proposal of yours."},{"owner":{"account_id":922912,"reputation":1160,"user_id":954246,"accept_rate":75,"display_name":"newhouse"},"score":0,"creation_date":1682602409,"post_id":76118341,"comment_id":134244228,"body_markdown":"And realized, that the COALESCE version yields sql syntax error if you give in the empty array anyways. Your workaround code works well, with a minor change, which failed on the current hibernate version.\n\nusing = instead of is in the left part:\n```\nAND (:#{null eq #accountNames} = true or account.accountName in :accountNames)\n```\n\nI think this answer should be the winner here. I deleted mine since it is misleading then and doesn&#39;t work well in that scenario.","body":"And realized, that the COALESCE version yields sql syntax error if you give in the empty array anyways. Your workaround code works well, with a minor change, which failed on the current hibernate version.  using = instead of is in the left part: ``` AND (:#{null eq #accountNames} = true or account.accountName in :accountNames) ```  I think this answer should be the winner here. I deleted mine since it is misleading then and doesn&#39;t work well in that scenario."},{"owner":{"account_id":5193931,"reputation":419,"user_id":4155906,"accept_rate":31,"display_name":"Thejas"},"score":0,"creation_date":1686814317,"post_id":76118341,"comment_id":134851674,"body_markdown":"@JVDD any other solution worked ?","body":"@JVDD any other solution worked ?"}],"tags":[],"owner":{"account_id":8662850,"reputation":380,"user_id":6484502,"display_name":"Huka"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682611464,"creation_date":1682584239,"answer_id":76118341,"question_id":75663455,"body_markdown":"You can downgrade H2 to the version `1.4.200`\r\n\r\nMy colleague suggest that we can change this condition from:\r\n\r\n`AND (COALESCE(:accountNames) IS NULL OR account.accountName IN :accountNames)`\r\n\r\nto:\r\n\r\n`AND (:#{null eq #accountNames} is true or account.accountName in :accountNames)`\r\n\r\nI&#39;ve tested with Oracle and H2 (Mode Oracle) with Spring Boot 2.7","title":"Exception thrown in jpa query with List parameter after Spring Boot 3 upgrade","body":"<p>You can downgrade H2 to the version <code>1.4.200</code></p>\n<p>My colleague suggest that we can change this condition from:</p>\n<p><code>AND (COALESCE(:accountNames) IS NULL OR account.accountName IN :accountNames)</code></p>\n<p>to:</p>\n<p><code>AND (:#{null eq #accountNames} is true or account.accountName in :accountNames)</code></p>\n<p>I've tested with Oracle and H2 (Mode Oracle) with Spring Boot 2.7</p>\n"}],"owner":{"account_id":27957432,"reputation":61,"user_id":21349983,"display_name":"JVDD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2618,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1682611464,"creation_date":1678200361,"question_id":75663455,"body_markdown":"I have an account entity: \r\n\r\n```\r\n@Entity\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Account {\r\n    @Id\r\n    @GeneratedValue\r\n    @JsonIgnore\r\n    private Long id;\r\n    private String accountName;\r\n    private String supplierName;\r\n    private String customerName;\r\n    private Double amount;\r\n```\r\n\r\nand an account repository with jpa query that should filter accounts by a list of account names or no filter when the list is null:\r\n```\r\n@RepositoryRestResource\r\npublic interface AccountRestResource extends PagingAndSortingRepository&lt;Account, Long&gt;, CrudRepository&lt;Account, Long&gt; {\r\n    @Query(&quot;SELECT DISTINCT account.customerName &quot; +\r\n            &quot;FROM Account account &quot; +\r\n            &quot;WHERE UPPER(account.customerName) LIKE CONCAT(&#39;%&#39;,UPPER(:filter),&#39;%&#39;) &quot; +\r\n            &quot;AND ((:accountNames) IS NULL OR account.accountName IN (:accountNames)) &quot; +\r\n            &quot;ORDER BY account.customerName&quot;)\r\n    Page&lt;String&gt; findDistinctCustomerNames(List&lt;String&gt; accountNames, String filter, Pageable page);\r\n}\r\n```\r\n\r\nAfter upgrading to the latest Spring Boot 3 upgrade this Query fails from time to time with (irregularly... I&#39;d say 1 in 5)\r\n&gt; org.springframework.orm.jpa.JpaSystemException: Unknown wrap conversion requested: java.util.ArrayList to java.lang.String : `org.hibernate.type.descriptor.java.StringJavaType` (java.lang.String)\r\n\r\nPom contains following dependencies: \r\n\r\n```\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.inject&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.inject-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Test--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\nI don&#39;t have problems when the list is NULL but when I try the query with a single item in the list . Reverting to the Spring Boot 2.7.X resolves the issue.\r\n\r\nI have a repo with a test to reproduce the error: https://github.com/Jef-VDD/hibernate-demo","title":"Exception thrown in jpa query with List parameter after Spring Boot 3 upgrade","body":"<p>I have an account entity:</p>\n<pre><code>@Entity\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Account {\n    @Id\n    @GeneratedValue\n    @JsonIgnore\n    private Long id;\n    private String accountName;\n    private String supplierName;\n    private String customerName;\n    private Double amount;\n</code></pre>\n<p>and an account repository with jpa query that should filter accounts by a list of account names or no filter when the list is null:</p>\n<pre><code>@RepositoryRestResource\npublic interface AccountRestResource extends PagingAndSortingRepository&lt;Account, Long&gt;, CrudRepository&lt;Account, Long&gt; {\n    @Query(&quot;SELECT DISTINCT account.customerName &quot; +\n            &quot;FROM Account account &quot; +\n            &quot;WHERE UPPER(account.customerName) LIKE CONCAT('%',UPPER(:filter),'%') &quot; +\n            &quot;AND ((:accountNames) IS NULL OR account.accountName IN (:accountNames)) &quot; +\n            &quot;ORDER BY account.customerName&quot;)\n    Page&lt;String&gt; findDistinctCustomerNames(List&lt;String&gt; accountNames, String filter, Pageable page);\n}\n</code></pre>\n<p>After upgrading to the latest Spring Boot 3 upgrade this Query fails from time to time with (irregularly... I'd say 1 in 5)</p>\n<blockquote>\n<p>org.springframework.orm.jpa.JpaSystemException: Unknown wrap conversion requested: java.util.ArrayList to java.lang.String : <code>org.hibernate.type.descriptor.java.StringJavaType</code> (java.lang.String)</p>\n</blockquote>\n<p>Pom contains following dependencies:</p>\n<pre><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.inject-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Test--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>I don't have problems when the list is NULL but when I try the query with a single item in the list . Reverting to the Spring Boot 2.7.X resolves the issue.</p>\n<p>I have a repo with a test to reproduce the error: <a href=\"https://github.com/Jef-VDD/hibernate-demo\" rel=\"noreferrer\">https://github.com/Jef-VDD/hibernate-demo</a></p>\n"},{"tags":["java","extjs","sencha-cmd"],"comments":[{"owner":{"account_id":2032995,"reputation":2596,"user_id":1816139,"display_name":"hwsw"},"score":0,"creation_date":1599577035,"post_id":63793641,"comment_id":112812881,"body_markdown":"Nope, but I would suggest to give it with java8 a try. Or use latest Cmd version, but I am not sure if Ext5 is still supported. Details here: https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception-in-j","body":"Nope, but I would suggest to give it with java8 a try. Or use latest Cmd version, but I am not sure if Ext5 is still supported. Details here: <a href=\"https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception-in-j\" title=\"how to resolve java lang noclassdeffounderror javax xml bind jaxbexception in j\">stackoverflow.com/questions/43574426/&hellip;</a>"},{"owner":{"account_id":12273987,"reputation":101,"user_id":8958428,"display_name":"Radosław Sakowicz"},"score":0,"creation_date":1599639711,"post_id":63793641,"comment_id":112832051,"body_markdown":"Resolved. I just use sencha cmd 7...","body":"Resolved. I just use sencha cmd 7..."}],"owner":{"account_id":12273987,"reputation":101,"user_id":8958428,"display_name":"Radosław Sakowicz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682610806,"creation_date":1599567043,"question_id":63793641,"body_markdown":"I need to use Sencha Cmd 5 (v5.1.3.61). I am getting an error after `sencha app watch`:\r\n\r\n```\r\nSencha Cmd v5.1.3.61\r\n[WRN] the following remote package repository directories did not initialize properly :\r\n[WRN]    - /home/radoslaw/bin/Sencha/Cmd/5.1.3.61/../repo/pkgs\r\n[WRN]    - /home/radoslaw/bin/Sencha/Cmd/5.1.3.61/../repo/.sencha\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter\r\n        at com.sencha.util.StringUtil.toBase64(StringUtil.java:202)\r\n        at com.sencha.tools.generator.DataStoreImpl.get(DataStoreImpl.java:103)\r\n        at com.sencha.tools.generator.Generator$1.doMerge(Generator.java:461)\r\n        at com.sencha.tools.generator.Generator$Mode$3.dispatch(Generator.java:266)\r\n        at com.sencha.tools.generator.Generator.generateFileToFile(Generator.java:446)\r\n        at com.sencha.tools.generator.Generator.generateFileToDir(Generator.java:438)\r\n        at com.sencha.tools.generator.Generator.generateDirToDir(Generator.java:431)\r\n        at com.sencha.tools.generator.Generator.generateDirToDir(Generator.java:426)\r\n        at com.sencha.tools.generator.Generator.generate(Generator.java:145)\r\n        at com.sencha.tools.pkg.LocalRepository.init(LocalRepository.java:131)\r\n        at com.sencha.tools.pkg.LocalRepository.init(LocalRepository.java:185)\r\n        at com.sencha.command.environment.WorkspaceRepository.getLocalRepository(WorkspaceRepository.java:273)\r\n        at com.sencha.command.environment.WorkspaceRepository.getLocalRepository(WorkspaceRepository.java:286)\r\n        at com.sencha.command.environment.FrameworkEnvironment.loadFrameworkPackage(FrameworkEnvironment.java:207)\r\n        at com.sencha.command.environment.AppOrPackageEnvironment.loadFrameworkConfig(AppOrPackageEnvironment.java:52)\r\n        at com.sencha.command.environment.AppEnvironment.&lt;init&gt;(AppEnvironment.java:50)\r\n        at com.sencha.command.environment.BuildEnvironment.load(BuildEnvironment.java:100)\r\n        at com.sencha.command.environment.BuildEnvironment.load(BuildEnvironment.java:124)\r\n        at com.sencha.command.environment.BuildEnvironment.load(BuildEnvironment.java:70)\r\n        at com.sencha.command.Sencha.loadBuildEnvironment(Sencha.java:426)\r\n        at com.sencha.command.Sencha.main(Sencha.java:128)\r\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.DatatypeConverter\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n        ... 21 more\r\n```\r\n\r\nOperating System: Linux Mint 20 Cinnamon\r\n\r\nLinux Karnel: 5.4.0-26-generic\r\n\r\nJava version:\r\n\r\n```\r\nopenjdk version &quot;11.0.7&quot; 2020-04-14\r\nOpenJDK Runtime Environment (build 11.0.7+10-post-Ubuntu-3ubuntu1)\r\nOpenJDK 64-Bit Server VM (build 11.0.7+10-post-Ubuntu-3ubuntu1, mixed mode, sharing)\r\n```\r\n\r\nI understand that boils down to the Java version. \r\nThe solutions I found did not come down to the same problem.\r\nHas anyone encountered such a problem? What will be the simplest solution?\r\n","title":"Sencha Cmd 5 - java.lang.NoClassDefFoundError","body":"<p>I need to use Sencha Cmd 5 (v5.1.3.61). I am getting an error after <code>sencha app watch</code>:</p>\n<pre><code>Sencha Cmd v5.1.3.61\n[WRN] the following remote package repository directories did not initialize properly :\n[WRN]    - /home/radoslaw/bin/Sencha/Cmd/5.1.3.61/../repo/pkgs\n[WRN]    - /home/radoslaw/bin/Sencha/Cmd/5.1.3.61/../repo/.sencha\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter\n        at com.sencha.util.StringUtil.toBase64(StringUtil.java:202)\n        at com.sencha.tools.generator.DataStoreImpl.get(DataStoreImpl.java:103)\n        at com.sencha.tools.generator.Generator$1.doMerge(Generator.java:461)\n        at com.sencha.tools.generator.Generator$Mode$3.dispatch(Generator.java:266)\n        at com.sencha.tools.generator.Generator.generateFileToFile(Generator.java:446)\n        at com.sencha.tools.generator.Generator.generateFileToDir(Generator.java:438)\n        at com.sencha.tools.generator.Generator.generateDirToDir(Generator.java:431)\n        at com.sencha.tools.generator.Generator.generateDirToDir(Generator.java:426)\n        at com.sencha.tools.generator.Generator.generate(Generator.java:145)\n        at com.sencha.tools.pkg.LocalRepository.init(LocalRepository.java:131)\n        at com.sencha.tools.pkg.LocalRepository.init(LocalRepository.java:185)\n        at com.sencha.command.environment.WorkspaceRepository.getLocalRepository(WorkspaceRepository.java:273)\n        at com.sencha.command.environment.WorkspaceRepository.getLocalRepository(WorkspaceRepository.java:286)\n        at com.sencha.command.environment.FrameworkEnvironment.loadFrameworkPackage(FrameworkEnvironment.java:207)\n        at com.sencha.command.environment.AppOrPackageEnvironment.loadFrameworkConfig(AppOrPackageEnvironment.java:52)\n        at com.sencha.command.environment.AppEnvironment.&lt;init&gt;(AppEnvironment.java:50)\n        at com.sencha.command.environment.BuildEnvironment.load(BuildEnvironment.java:100)\n        at com.sencha.command.environment.BuildEnvironment.load(BuildEnvironment.java:124)\n        at com.sencha.command.environment.BuildEnvironment.load(BuildEnvironment.java:70)\n        at com.sencha.command.Sencha.loadBuildEnvironment(Sencha.java:426)\n        at com.sencha.command.Sencha.main(Sencha.java:128)\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.DatatypeConverter\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n        ... 21 more\n</code></pre>\n<p>Operating System: Linux Mint 20 Cinnamon</p>\n<p>Linux Karnel: 5.4.0-26-generic</p>\n<p>Java version:</p>\n<pre><code>openjdk version &quot;11.0.7&quot; 2020-04-14\nOpenJDK Runtime Environment (build 11.0.7+10-post-Ubuntu-3ubuntu1)\nOpenJDK 64-Bit Server VM (build 11.0.7+10-post-Ubuntu-3ubuntu1, mixed mode, sharing)\n</code></pre>\n<p>I understand that boils down to the Java version.\nThe solutions I found did not come down to the same problem.\nHas anyone encountered such a problem? What will be the simplest solution?</p>\n"},{"tags":["java","spring","jsp"],"comments":[{"owner":{"account_id":4672191,"reputation":641,"user_id":3783718,"display_name":"craigwor"},"score":0,"creation_date":1512053967,"post_id":47576342,"comment_id":82109680,"body_markdown":"Can you provide you controller code please?","body":"Can you provide you controller code please?"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1512054051,"post_id":47576342,"comment_id":82109739,"body_markdown":"[This](https://www.w3schools.com/xml/ajax_intro.asp) might help.","body":"<a href=\"https://www.w3schools.com/xml/ajax_intro.asp\" rel=\"nofollow noreferrer\">This</a> might help."}],"answers":[{"tags":[],"owner":{"account_id":282141,"reputation":5676,"user_id":578855,"accept_rate":30,"display_name":"muasif80"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512053974,"creation_date":1512053974,"answer_id":47576405,"question_id":47576342,"body_markdown":"From a rendered page you only have two options either you do a normal form post or use Ajax if you dont want to open a new url. ","title":"How do I pass an object from jsp to controller with spring","body":"<p>From a rendered page you only have two options either you do a normal form post or use Ajax if you dont want to open a new url. </p>\n"},{"comments":[{"owner":{"account_id":3988115,"reputation":1606,"user_id":3288041,"display_name":"gkatiforis"},"score":0,"creation_date":1512119545,"post_id":47577330,"comment_id":82137055,"body_markdown":"Like this: &lt;input type=&quot;hidden&quot; id=&quot;currentProjectId&quot; value=&quot;${p.getProjectId()}&quot;&gt;. And you get the value: var currentProjectId= $(&#39;#currentProjectId&#39;).val();","body":"Like this: &lt;input type=&quot;hidden&quot; id=&quot;currentProjectId&quot; value=&quot;${p.getProjectId()}&quot;&gt;. And you get the value: var currentProjectId= $(&#39;#currentProjectId&#39;).val();"},{"owner":{"account_id":6145487,"reputation":327,"user_id":4791603,"accept_rate":50,"display_name":"jscholten"},"score":0,"creation_date":1512123068,"post_id":47577330,"comment_id":82139038,"body_markdown":"How can i check if the AJAX script reaches my controller, because i&#39;ve tried your solution but i can&#39;t seem to get it to work.","body":"How can i check if the AJAX script reaches my controller, because i&#39;ve tried your solution but i can&#39;t seem to get it to work."},{"owner":{"account_id":3988115,"reputation":1606,"user_id":3288041,"display_name":"gkatiforis"},"score":0,"creation_date":1512123404,"post_id":47577330,"comment_id":82139256,"body_markdown":"Right click -&gt; inspect elements to see messages from the tab **console**. Also you can see ajax requests from the tab **Network**. See: https://developers.google.com/web/tools/chrome-devtools/console/","body":"Right click -&gt; inspect elements to see messages from the tab <b>console</b>. Also you can see ajax requests from the tab <b>Network</b>. See: <a href=\"https://developers.google.com/web/tools/chrome-devtools/console/\" rel=\"nofollow noreferrer\">developers.google.com/web/tools/chrome-devtools/console</a>"},{"owner":{"account_id":3988115,"reputation":1606,"user_id":3288041,"display_name":"gkatiforis"},"score":0,"creation_date":1512124432,"post_id":47577330,"comment_id":82139898,"body_markdown":"Please send the error. Also make sure you have delete space from **@RequestParam(&quot;userId &quot;)** to **@RequestParam(&quot;userId&quot;)**","body":"Please send the error. Also make sure you have delete space from <b>@RequestParam(&quot;userId &quot;)</b> to <b>@RequestParam(&quot;userId&quot;)</b>"},{"owner":{"account_id":6145487,"reputation":327,"user_id":4791603,"accept_rate":50,"display_name":"jscholten"},"score":0,"creation_date":1512125704,"post_id":47577330,"comment_id":82140696,"body_markdown":"https://gyazo.com/213e39c1b10a54f83ead816d22209154 this is the error im getting right now.","body":"<a href=\"https://gyazo.com/213e39c1b10a54f83ead816d22209154\" rel=\"nofollow noreferrer\">gyazo.com/213e39c1b10a54f83ead816d22209154</a> this is the error im getting right now."},{"owner":{"account_id":3988115,"reputation":1606,"user_id":3288041,"display_name":"gkatiforis"},"score":0,"creation_date":1512126823,"post_id":47577330,"comment_id":82141296,"body_markdown":"That means that /addUserToProject path is not defined. Can you send the complete code? (view and controller). Οtherwise I can not help.","body":"That means that /addUserToProject path is not defined. Can you send the complete code? (view and controller). Οtherwise I can not help."},{"owner":{"account_id":3988115,"reputation":1606,"user_id":3288041,"display_name":"gkatiforis"},"score":0,"creation_date":1512130993,"post_id":47577330,"comment_id":82143651,"body_markdown":"add alert(currentProjectId  + &quot; &quot; + userId); before ajax request to ensure that  you pass correct parameters and convert them into string.  Also open **Network tab** before press the button to check the request.","body":"add alert(currentProjectId  + &quot; &quot; + userId); before ajax request to ensure that  you pass correct parameters and convert them into string.  Also open <b>Network tab</b> before press the button to check the request."},{"owner":{"account_id":6145487,"reputation":327,"user_id":4791603,"accept_rate":50,"display_name":"jscholten"},"score":0,"creation_date":1512132542,"post_id":47577330,"comment_id":82144635,"body_markdown":"The alert works but when i convert them from var to string it doesnt work anymore.","body":"The alert works but when i convert them from var to string it doesnt work anymore."},{"owner":{"account_id":3988115,"reputation":1606,"user_id":3288041,"display_name":"gkatiforis"},"score":0,"creation_date":1512135363,"post_id":47577330,"comment_id":82146413,"body_markdown":"See this example is exactly what you are trying to achive:https://www.mkyong.com/spring-mvc/spring-mvc-refactoring-a-jquery-ajax-post-example/","body":"See this example is exactly what you are trying to achive:<a href=\"https://www.mkyong.com/spring-mvc/spring-mvc-refactoring-a-jquery-ajax-post-example/\" rel=\"nofollow noreferrer\">mkyong.com/spring-mvc/&hellip;</a>"}],"tags":[],"owner":{"account_id":3988115,"reputation":1606,"user_id":3288041,"display_name":"gkatiforis"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1512057223,"creation_date":1512056883,"answer_id":47577330,"question_id":47576342,"body_markdown":"**JSP**\r\n\r\nFirst, make a hidden input with selected project id, so you can get it later:\r\n\r\n    &lt;input type=&quot;hidden&quot; id=&quot;currentProjectId&quot; value=&quot;12&quot;&gt;\r\n\r\n\r\nSecond, set attribute **name** of add buttons equal **userId**:\r\n\r\n    &lt;td&gt;&lt;Button type=&quot;Button&quot; name=&quot;${u.getId()}&quot; class=&quot;btn btn-default&quot;&gt;Add&lt;/button&gt;&lt;/td&gt;\r\n\r\n**Javascript:**\r\n\r\nDefine onclick linstener for each &quot;add button&quot; and get the current user id from the button:\r\n\r\n       $(&quot;.btn&quot;).click(function(event) {\r\n             event.preventDefault();\r\n    \r\n             var currentProjectId= $(&#39;#currentProjectId&#39;).val();\r\n             var userId = $(this).attr(&quot;name&quot;);\r\n    \t\t\r\n    \t\taddUser(currentProjectId, userId);\r\n    \r\n    \t});\r\n\r\nMake **ajax request** and post the ids to controller:\r\n\r\n    function addUser(currentProjectId, selectedUserId) {\r\n    \t\r\n    \t$.ajax({\r\n    \t\ttype : &quot;POST&quot;,\r\n    \t\tcontentType : &quot;application/json&quot;,\r\n    \t\turl : &quot;/addUserToProject&quot;,\r\n    \t\tdata :{ projectId: currentProjectId, userId: selectedUserId}, \r\n    \t\tdataType : &#39;json&#39;,\r\n    \t\ttimeout : 100000,\r\n    \t\tsuccess : function(data) {\r\n    \t\t\tconsole.log(&quot;SUCCESS: &quot;, data);\r\n    \t\t},\r\n    \t\terror : function(e) {\r\n    \t\t\tconsole.log(&quot;ERROR: &quot;, e);\r\n    \t\t\tdisplay(e);\r\n    \t\t},\r\n    \t\tdone : function(e) {\r\n    \t\t\tconsole.log(&quot;DONE&quot;);\r\n    \t\t}\r\n    \t});\r\n    }\r\n\r\n\r\nFinally, controller accepts ids using **@RequestParam:**\r\n\r\n    @RequestMapping(value = &quot;/addUserToProject&quot;, method = RequestMethod.POST,produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public @ResponseBody\r\n    String Submit(@RequestParam(&quot;projectId&quot;) Integer projectId ,@RequestParam(&quot;userId &quot;) Integer userId ) {\r\n        \r\n       //insert user\r\n    \r\n        return &quot;ok&quot;;\r\n    }","title":"How do I pass an object from jsp to controller with spring","body":"<p><strong>JSP</strong></p>\n\n<p>First, make a hidden input with selected project id, so you can get it later:</p>\n\n<pre><code>&lt;input type=\"hidden\" id=\"currentProjectId\" value=\"12\"&gt;\n</code></pre>\n\n<p>Second, set attribute <strong>name</strong> of add buttons equal <strong>userId</strong>:</p>\n\n<pre><code>&lt;td&gt;&lt;Button type=\"Button\" name=\"${u.getId()}\" class=\"btn btn-default\"&gt;Add&lt;/button&gt;&lt;/td&gt;\n</code></pre>\n\n<p><strong>Javascript:</strong></p>\n\n<p>Define onclick linstener for each \"add button\" and get the current user id from the button:</p>\n\n<pre><code>   $(\".btn\").click(function(event) {\n         event.preventDefault();\n\n         var currentProjectId= $('#currentProjectId').val();\n         var userId = $(this).attr(\"name\");\n\n        addUser(currentProjectId, userId);\n\n    });\n</code></pre>\n\n<p>Make <strong>ajax request</strong> and post the ids to controller:</p>\n\n<pre><code>function addUser(currentProjectId, selectedUserId) {\n\n    $.ajax({\n        type : \"POST\",\n        contentType : \"application/json\",\n        url : \"/addUserToProject\",\n        data :{ projectId: currentProjectId, userId: selectedUserId}, \n        dataType : 'json',\n        timeout : 100000,\n        success : function(data) {\n            console.log(\"SUCCESS: \", data);\n        },\n        error : function(e) {\n            console.log(\"ERROR: \", e);\n            display(e);\n        },\n        done : function(e) {\n            console.log(\"DONE\");\n        }\n    });\n}\n</code></pre>\n\n<p>Finally, controller accepts ids using <strong>@RequestParam:</strong></p>\n\n<pre><code>@RequestMapping(value = \"/addUserToProject\", method = RequestMethod.POST,produces = MediaType.APPLICATION_JSON_VALUE)\npublic @ResponseBody\nString Submit(@RequestParam(\"projectId\") Integer projectId ,@RequestParam(\"userId \") Integer userId ) {\n\n   //insert user\n\n    return \"ok\";\n}\n</code></pre>\n"}],"owner":{"account_id":6145487,"reputation":327,"user_id":4791603,"accept_rate":50,"display_name":"jscholten"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1684,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47577330,"answer_count":2,"score":1,"last_activity_date":1682610707,"creation_date":1512053761,"question_id":47576342,"body_markdown":"I have a class User and a class Project which has an arraylist with users.\r\nI have a Project page with a list of all my projects and when I click on one, it takes me to the page of that project by sending the id of that project in the URL.\r\n\r\nOn my detail project page I want to add users that I created.\r\nThe users are displayed on a modal in a table with a button to add them.\r\n\r\n    &lt;div class=&quot;modal fade&quot; id=&quot;myModal&quot; role=&quot;dialog&quot;&gt;\r\n            &lt;div class=&quot;modal-dialog&quot;&gt;\r\n                &lt;!-- Modal content--&gt;\r\n                &lt;div class=&quot;modal-content&quot;&gt;\r\n                    &lt;div class=&quot;modal-header&quot;&gt;\r\n                        &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot;&gt;&amp;times;&lt;/button&gt;\r\n                        &lt;h4 class=&quot;modal-title&quot;&gt;&lt;/h4&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;modal-body&quot;&gt;\r\n                        &lt;h1 class=&quot;text-center&quot;&gt;UserList&lt;/h1&gt;\r\n                        &lt;br&gt;&lt;br&gt;\r\n                        &lt;table class=&quot;table table-hover&quot;&gt;\r\n                            &lt;thead&gt;\r\n                                &lt;tr&gt;\r\n                                    &lt;th&gt;Photo&lt;/th&gt;\r\n                                    &lt;th&gt;Firstname&lt;/th&gt;\r\n                                    &lt;th&gt;Lastname&lt;/th&gt;\r\n                                    &lt;th&gt;Function&lt;/th&gt;\r\n                                    &lt;th&gt;Email&lt;/th&gt;\r\n                                &lt;/tr&gt;\r\n                            &lt;/thead&gt;\r\n                            &lt;tbody&gt;\r\n                                &lt;c:forEach var=&quot;u&quot; items=&quot;${users}&quot;&gt;\r\n                                    &lt;tr&gt;\r\n                                        &lt;td&gt;&lt;img src=&quot;${u.getPhoto()}&quot;\r\n                                                 alt=&quot;Alternate Text&quot; class=&quot;img-responsive&quot; /&gt;&lt;/td&gt;\r\n                                        &lt;td&gt;${u.getFirstname()}&lt;/td&gt;\r\n                                        &lt;td&gt;${u.getLastname()}&lt;/td&gt;\r\n                                        &lt;td&gt;${u.getFunction()}&lt;/td&gt;\r\n                                        &lt;td&gt;${u.getEmail()}&lt;/td&gt;\r\n                                        &lt;td&gt;&lt;Button type=&quot;Button&quot; class=&quot;btn btn-default&quot;&gt;Add&lt;/button&gt;&lt;/td&gt;\r\n                                    &lt;/tr&gt; \r\n                                &lt;/c:forEach&gt;\r\n                            &lt;/tbody&gt;\r\n                        &lt;/table&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\nMy question is how do I send the id of the user and the id of the project I want them to be added to my controller?\r\n\r\nI know I can pass an id with the URL but I don&#39;t want to open a new page.\r\n\r\nI want to send the ID of the user and the project to my controller by clicking on the add button to my controller so I can use those in my method called addUserToProject()\r\n","title":"How do I pass an object from jsp to controller with spring","body":"<p>I have a class User and a class Project which has an arraylist with users.\nI have a Project page with a list of all my projects and when I click on one, it takes me to the page of that project by sending the id of that project in the URL.</p>\n<p>On my detail project page I want to add users that I created.\nThe users are displayed on a modal in a table with a button to add them.</p>\n<pre><code>&lt;div class=&quot;modal fade&quot; id=&quot;myModal&quot; role=&quot;dialog&quot;&gt;\n        &lt;div class=&quot;modal-dialog&quot;&gt;\n            &lt;!-- Modal content--&gt;\n            &lt;div class=&quot;modal-content&quot;&gt;\n                &lt;div class=&quot;modal-header&quot;&gt;\n                    &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot;&gt;&amp;times;&lt;/button&gt;\n                    &lt;h4 class=&quot;modal-title&quot;&gt;&lt;/h4&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;modal-body&quot;&gt;\n                    &lt;h1 class=&quot;text-center&quot;&gt;UserList&lt;/h1&gt;\n                    &lt;br&gt;&lt;br&gt;\n                    &lt;table class=&quot;table table-hover&quot;&gt;\n                        &lt;thead&gt;\n                            &lt;tr&gt;\n                                &lt;th&gt;Photo&lt;/th&gt;\n                                &lt;th&gt;Firstname&lt;/th&gt;\n                                &lt;th&gt;Lastname&lt;/th&gt;\n                                &lt;th&gt;Function&lt;/th&gt;\n                                &lt;th&gt;Email&lt;/th&gt;\n                            &lt;/tr&gt;\n                        &lt;/thead&gt;\n                        &lt;tbody&gt;\n                            &lt;c:forEach var=&quot;u&quot; items=&quot;${users}&quot;&gt;\n                                &lt;tr&gt;\n                                    &lt;td&gt;&lt;img src=&quot;${u.getPhoto()}&quot;\n                                             alt=&quot;Alternate Text&quot; class=&quot;img-responsive&quot; /&gt;&lt;/td&gt;\n                                    &lt;td&gt;${u.getFirstname()}&lt;/td&gt;\n                                    &lt;td&gt;${u.getLastname()}&lt;/td&gt;\n                                    &lt;td&gt;${u.getFunction()}&lt;/td&gt;\n                                    &lt;td&gt;${u.getEmail()}&lt;/td&gt;\n                                    &lt;td&gt;&lt;Button type=&quot;Button&quot; class=&quot;btn btn-default&quot;&gt;Add&lt;/button&gt;&lt;/td&gt;\n                                &lt;/tr&gt; \n                            &lt;/c:forEach&gt;\n                        &lt;/tbody&gt;\n                    &lt;/table&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n<p>My question is how do I send the id of the user and the id of the project I want them to be added to my controller?</p>\n<p>I know I can pass an id with the URL but I don't want to open a new page.</p>\n<p>I want to send the ID of the user and the project to my controller by clicking on the add button to my controller so I can use those in my method called addUserToProject()</p>\n"},{"tags":["java","apache-kafka","confluent-schema-registry","testcontainers"],"answers":[{"comments":[{"owner":{"account_id":7568933,"reputation":695,"user_id":5743485,"display_name":"MelleD"},"score":1,"creation_date":1682608652,"post_id":76121640,"comment_id":134245921,"body_markdown":"Thanks this was the issue changed it to:\n&quot;withEnv( &quot;SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS&quot;, kafkaContainer.getNetworkAliases().get( 0 ) + &quot;:9092&quot; );&quot;","body":"Thanks this was the issue changed it to: &quot;withEnv( &quot;SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS&quot;, kafkaContainer.getNetworkAliases().get( 0 ) + &quot;:9092&quot; );&quot;"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682606179,"creation_date":1682606179,"answer_id":76121640,"question_id":76119369,"body_markdown":"&gt; `Couldn&#39;t resolve server PLAINTEXT://tc-HJrDbND5:9092`\r\n\r\nYou should remove `PLAINTEXT` prefix. \r\n\r\nMake sure the containers are on the same network bridge, which I&#39;ve see you&#39;ve tried by `withNetwork()`. \r\n\r\nOtherwise, modify the listeners of the Kafka container though its own environment variables, otherwise you&#39;ll get Kafka client errors even without Schema Registry (I assume you&#39;ve already tested that?) ","title":"Containers SchemaRegistry can&#39;t connect to Kafka container","body":"<blockquote>\n<p><code>Couldn't resolve server PLAINTEXT://tc-HJrDbND5:9092</code></p>\n</blockquote>\n<p>You should remove <code>PLAINTEXT</code> prefix.</p>\n<p>Make sure the containers are on the same network bridge, which I've see you've tried by <code>withNetwork()</code>.</p>\n<p>Otherwise, modify the listeners of the Kafka container though its own environment variables, otherwise you'll get Kafka client errors even without Schema Registry (I assume you've already tested that?)</p>\n"}],"owner":{"account_id":7568933,"reputation":695,"user_id":5743485,"display_name":"MelleD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76121640,"answer_count":1,"score":0,"last_activity_date":1682610621,"creation_date":1682591339,"question_id":76119369,"body_markdown":"I tried to use this approach to https://stackoverflow.com/questions/75388650/testcontainers-schemaregistry-cant-connect-to-kafka-container to start a schema registry test container, but it don&#39;t work\r\n\r\nFirst try was:\r\n\r\n       public SchemaRegistryContainer withKafka( final KafkaContainer kafkaContainer ) {\r\n          withNetwork( kafkaContainer.getNetwork() );\r\n          withEnv( &quot;SCHEMA_REGISTRY_HOST_NAME&quot;, &quot;kafka-confluent-cp-schema-registry&quot; );\r\n          withEnv( &quot;SCHEMA_REGISTRY_LISTENERS&quot;, &quot;http://0.0.0.0:&quot; + SCHEMA_REGISTRY_PORT );\r\n          withEnv( &quot;SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS&quot;, kafkaContainer.getBootstrapServers() );\r\n          return self();\r\n       }\r\n\r\nError:\r\n\r\n    java.util.concurrent.ExecutionException: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: listNodes\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:165)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; at io.confluent.admin.utils.ClusterStatus.isKafkaReady(ClusterStatus.java:147)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; at io.confluent.admin.utils.cli.KafkaReadyCommand.main(KafkaReadyCommand.java:149)\r\n    Caused by: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: listNodes\r\n\r\n\r\nThen i tried this:\r\n\r\n       public SchemaRegistryContainer withKafka( final KafkaContainer kafkaContainer ) {\r\n          withNetwork( kafkaContainer.getNetwork() );\r\n          withEnv( &quot;SCHEMA_REGISTRY_HOST_NAME&quot;, &quot;schema-registry&quot; );\r\n          withEnv( &quot;SCHEMA_REGISTRY_LISTENERS&quot;, &quot;http://0.0.0.0:&quot; + SCHEMA_REGISTRY_PORT );\r\n          withEnv( &quot;SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS&quot;, &quot;PLAINTEXT://&quot; + kafkaContainer.getNetworkAliases().get( 0 ) + &quot;:9092&quot; );\r\n          return self();\r\n       }\r\n\r\nError\r\n\r\n    2023-04-27 07:46:35,687] WARN Couldn&#39;t resolve server PLAINTEXT://tc-HJrDbND5:9092 from bootstrap.servers as DNS resolution failed for tc-HJrDbND5 (org.apache.kafka.clients.ClientUtils)\r\n    [2023-04-27 07:46:35,687] ERROR Error while running kafka-ready. (io.confluent.admin.utils.cli.KafkaReadyCommand)\r\n    org.apache.kafka.common.KafkaException: Failed to create new KafkaAdminClient\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.kafka.clients.admin.KafkaAdminClient.createInternal(KafkaAdminClient.java:553)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.kafka.clients.admin.Admin.create(Admin.java:144)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.kafka.clients.admin.AdminClient.create(AdminClient.java:49)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; at io.confluent.admin.utils.ClusterStatus.isKafkaReady(ClusterStatus.java:136)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; at io.confluent.admin.utils.cli.KafkaReadyCommand.main(KafkaReadyCommand.java:149)\r\n    Caused by: org.apache.kafka.common.config.ConfigException: No resolvable bootstrap urls given in bootstrap.servers\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.kafka.clients.ClientUtils.parseAndValidateAddresses(ClientUtils.java:89)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.kafka.clients.ClientUtils.parseAndValidateAddresses(ClientUtils.java:48)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.kafka.clients.admin.KafkaAdminClient.createInternal(KafkaAdminClient.java:505)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; ... 4 more\r\n\r\n\r\nAnyone have any ideas what else I can test?","title":"Containers SchemaRegistry can&#39;t connect to Kafka container","body":"<p>I tried to use this approach to <a href=\"https://stackoverflow.com/questions/75388650/testcontainers-schemaregistry-cant-connect-to-kafka-container\">Testcontainers SchemaRegistry can&#39;t connect to Kafka container</a> to start a schema registry test container, but it don't work</p>\n<p>First try was:</p>\n<pre><code>   public SchemaRegistryContainer withKafka( final KafkaContainer kafkaContainer ) {\n      withNetwork( kafkaContainer.getNetwork() );\n      withEnv( &quot;SCHEMA_REGISTRY_HOST_NAME&quot;, &quot;kafka-confluent-cp-schema-registry&quot; );\n      withEnv( &quot;SCHEMA_REGISTRY_LISTENERS&quot;, &quot;http://0.0.0.0:&quot; + SCHEMA_REGISTRY_PORT );\n      withEnv( &quot;SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS&quot;, kafkaContainer.getBootstrapServers() );\n      return self();\n   }\n</code></pre>\n<p>Error:</p>\n<pre><code>java.util.concurrent.ExecutionException: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: listNodes\n        at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)\n        at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)\n        at org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:165)\n        at io.confluent.admin.utils.ClusterStatus.isKafkaReady(ClusterStatus.java:147)\n        at io.confluent.admin.utils.cli.KafkaReadyCommand.main(KafkaReadyCommand.java:149)\nCaused by: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: listNodes\n</code></pre>\n<p>Then i tried this:</p>\n<pre><code>   public SchemaRegistryContainer withKafka( final KafkaContainer kafkaContainer ) {\n      withNetwork( kafkaContainer.getNetwork() );\n      withEnv( &quot;SCHEMA_REGISTRY_HOST_NAME&quot;, &quot;schema-registry&quot; );\n      withEnv( &quot;SCHEMA_REGISTRY_LISTENERS&quot;, &quot;http://0.0.0.0:&quot; + SCHEMA_REGISTRY_PORT );\n      withEnv( &quot;SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS&quot;, &quot;PLAINTEXT://&quot; + kafkaContainer.getNetworkAliases().get( 0 ) + &quot;:9092&quot; );\n      return self();\n   }\n</code></pre>\n<p>Error</p>\n<pre><code>2023-04-27 07:46:35,687] WARN Couldn't resolve server PLAINTEXT://tc-HJrDbND5:9092 from bootstrap.servers as DNS resolution failed for tc-HJrDbND5 (org.apache.kafka.clients.ClientUtils)\n[2023-04-27 07:46:35,687] ERROR Error while running kafka-ready. (io.confluent.admin.utils.cli.KafkaReadyCommand)\norg.apache.kafka.common.KafkaException: Failed to create new KafkaAdminClient\n        at org.apache.kafka.clients.admin.KafkaAdminClient.createInternal(KafkaAdminClient.java:553)\n        at org.apache.kafka.clients.admin.Admin.create(Admin.java:144)\n        at org.apache.kafka.clients.admin.AdminClient.create(AdminClient.java:49)\n        at io.confluent.admin.utils.ClusterStatus.isKafkaReady(ClusterStatus.java:136)\n        at io.confluent.admin.utils.cli.KafkaReadyCommand.main(KafkaReadyCommand.java:149)\nCaused by: org.apache.kafka.common.config.ConfigException: No resolvable bootstrap urls given in bootstrap.servers\n        at org.apache.kafka.clients.ClientUtils.parseAndValidateAddresses(ClientUtils.java:89)\n        at org.apache.kafka.clients.ClientUtils.parseAndValidateAddresses(ClientUtils.java:48)\n        at org.apache.kafka.clients.admin.KafkaAdminClient.createInternal(KafkaAdminClient.java:505)\n        ... 4 more\n</code></pre>\n<p>Anyone have any ideas what else I can test?</p>\n"},{"tags":["java","spring-boot","docker","containers","scalability"],"comments":[{"owner":{"account_id":1117192,"reputation":1404,"user_id":1106272,"accept_rate":89,"display_name":"Steen Sch&#252;tt"},"score":0,"creation_date":1682626695,"post_id":76122359,"comment_id":134249874,"body_markdown":"What is your workload? Is your primary bottleneck waiting for network connections, or is it CPU/Memory/Disk intensive work? Is the given resource already maxed when you only have one container running? I&#39;m also not sure if I&#39;m understanding correctly, but it sounds like you&#39;re running multiple containers on the same EC2 instance?","body":"What is your workload? Is your primary bottleneck waiting for network connections, or is it CPU/Memory/Disk intensive work? Is the given resource already maxed when you only have one container running? I&#39;m also not sure if I&#39;m understanding correctly, but it sounds like you&#39;re running multiple containers on the same EC2 instance?"},{"owner":{"account_id":6721291,"reputation":11,"user_id":5181207,"display_name":"S.Thulasi Raman"},"score":0,"creation_date":1682655610,"post_id":76122359,"comment_id":134253064,"body_markdown":"I tried checking on the CPU/Memory percents while running. The app is memory hungry so I tried increasing the container memory to 5gb and assigned 4 VCPU&#39;s to my service. I&#39;m using c5.xlarge ec2 class and one container per instance is only running.","body":"I tried checking on the CPU/Memory percents while running. The app is memory hungry so I tried increasing the container memory to 5gb and assigned 4 VCPU&#39;s to my service. I&#39;m using c5.xlarge ec2 class and one container per instance is only running."},{"owner":{"account_id":1117192,"reputation":1404,"user_id":1106272,"accept_rate":89,"display_name":"Steen Sch&#252;tt"},"score":0,"creation_date":1682675390,"post_id":76122359,"comment_id":134256427,"body_markdown":"If a single container consumes all of the memory on your instance, spawning more will likely cause the system to start swapping, which will slow things down a lot. It sounds like what you&#39;re really looking for, is to scale the amount of resources available to the server. AWS has many products that let you do automatic scaling, but EC2 instances are just virtual machines and can be a bit difficult to scale. You could perhaps take a look here, to find an appropriate product :) https://docs.aws.amazon.com/whitepapers/latest/docker-on-aws/containers-orchestrations-on-aws.html","body":"If a single container consumes all of the memory on your instance, spawning more will likely cause the system to start swapping, which will slow things down a lot. It sounds like what you&#39;re really looking for, is to scale the amount of resources available to the server. AWS has many products that let you do automatic scaling, but EC2 instances are just virtual machines and can be a bit difficult to scale. You could perhaps take a look here, to find an appropriate product :) <a href=\"https://docs.aws.amazon.com/whitepapers/latest/docker-on-aws/containers-orchestrations-on-aws.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/whitepapers/latest/docker-on-aws/&hellip;</a>"},{"owner":{"account_id":6721291,"reputation":11,"user_id":5181207,"display_name":"S.Thulasi Raman"},"score":0,"creation_date":1682692349,"post_id":76122359,"comment_id":134260395,"body_markdown":"Currently yes, I&#39;m using aws ECS container auto scaling and scaling containers horizontally based on the CPU usage. So you are suggesting use different type of auto scaling mechanism? So that all the resources will be available when the new container comes up?","body":"Currently yes, I&#39;m using aws ECS container auto scaling and scaling containers horizontally based on the CPU usage. So you are suggesting use different type of auto scaling mechanism? So that all the resources will be available when the new container comes up?"},{"owner":{"account_id":6721291,"reputation":11,"user_id":5181207,"display_name":"S.Thulasi Raman"},"score":0,"creation_date":1682692844,"post_id":76122359,"comment_id":134260510,"body_markdown":"Also I tried deploying 1 container per instance, even then it didn&#39;t help much.","body":"Also I tried deploying 1 container per instance, even then it didn&#39;t help much."}],"owner":{"account_id":6721291,"reputation":11,"user_id":5181207,"display_name":"S.Thulasi Raman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682610588,"creation_date":1682610588,"question_id":76122359,"body_markdown":"I have a java spring boot application with some open source schedulers in it. The main workflow of the application is: whenever we get the requeusts we create a task at some time as configured in the app (lets say 12 hrs from time of launch) and store the details of task as a blob in a table, say task_table. There is a poller in the application which gets started at the time of app startup and that keeps on polling the task_table to check if the task are due execution to be picked up. So once it picked up, the application will take 15 secs max to complete a task. \r\n\r\nThe poller has a seperate thread pools configured. There is a master agent who checks the table and distribute the picked tasks to the slave threads. I am using postgres sql as my database.\r\n\r\nI have containarized my app as a docker containers and depolyed in aws ec2 instances. The main problem I&#39;m seeing is when I run the app on a single container the tasks are getting executed at 15 as mentioned above. But when I scale the containers to 2,3,4 etc. I see constance increase in the task execution time. Say 2 containers it takes 20 secs, 3 containers 45 sec so on.\r\n\r\nI have checked all the connection pool settings on the db side and IOPS values for read/write latency. Everything seems to be fine but I&#39;m not able to find out how on auto scaling the containers the task takes more time? Because there is nothing shared across the containers other than DB. \r\n\r\nCan someone help me with some inferences for the above problem?? \r\n\r\nI tried changing the ec2 instance types, RDS storage size, connection pool settings, IOPS values etc","title":"JAVA Spring boot application performance issue when autoscaling","body":"<p>I have a java spring boot application with some open source schedulers in it. The main workflow of the application is: whenever we get the requeusts we create a task at some time as configured in the app (lets say 12 hrs from time of launch) and store the details of task as a blob in a table, say task_table. There is a poller in the application which gets started at the time of app startup and that keeps on polling the task_table to check if the task are due execution to be picked up. So once it picked up, the application will take 15 secs max to complete a task.</p>\n<p>The poller has a seperate thread pools configured. There is a master agent who checks the table and distribute the picked tasks to the slave threads. I am using postgres sql as my database.</p>\n<p>I have containarized my app as a docker containers and depolyed in aws ec2 instances. The main problem I'm seeing is when I run the app on a single container the tasks are getting executed at 15 as mentioned above. But when I scale the containers to 2,3,4 etc. I see constance increase in the task execution time. Say 2 containers it takes 20 secs, 3 containers 45 sec so on.</p>\n<p>I have checked all the connection pool settings on the db side and IOPS values for read/write latency. Everything seems to be fine but I'm not able to find out how on auto scaling the containers the task takes more time? Because there is nothing shared across the containers other than DB.</p>\n<p>Can someone help me with some inferences for the above problem??</p>\n<p>I tried changing the ec2 instance types, RDS storage size, connection pool settings, IOPS values etc</p>\n"},{"tags":["java","spring-boot","enums","bean-validation"],"answers":[{"tags":[],"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682609821,"creation_date":1682609821,"answer_id":76122248,"question_id":76121253,"body_markdown":"Based on your error message, the problem is that you are trying to send the data that cannot be parsed into your enum. The way things works is that first, your request body is parsed into the `CourseRequest` class, and then ***if*** the parsing is successful -- Bean Validation will apply.\r\n \r\nIf you want to use Bean Validation for checking that the string sent is valid - consider changing the `CourseRequest` where instead of an enum make that field a `String` this way parsing will not fail. Then you can use a `@Pattern` constraint to apply a regex check to that field to make sure that only acceptable strings are sent.\r\n\r\nThen you can just have a getter in your `CourseRequest` that would convert the string to an enum to use it elsewhere:\r\n\r\n```java\r\nclass CourseRequest {\r\n\t@Pattern(regexp = &quot;^(PENDING|CANCELED)$&quot;)\r\n\tString status;\r\n\r\n\tpublic CourseStatus courseStatus() {\r\n\t\treturn status == null ? null : CourseStatus.valueOf( status );\r\n\t}\r\n}\r\n```","title":"Spring Boot Enum Custom Validation not working with Jakarta","body":"<p>Based on your error message, the problem is that you are trying to send the data that cannot be parsed into your enum. The way things works is that first, your request body is parsed into the <code>CourseRequest</code> class, and then <em><strong>if</strong></em> the parsing is successful -- Bean Validation will apply.</p>\n<p>If you want to use Bean Validation for checking that the string sent is valid - consider changing the <code>CourseRequest</code> where instead of an enum make that field a <code>String</code> this way parsing will not fail. Then you can use a <code>@Pattern</code> constraint to apply a regex check to that field to make sure that only acceptable strings are sent.</p>\n<p>Then you can just have a getter in your <code>CourseRequest</code> that would convert the string to an enum to use it elsewhere:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class CourseRequest {\n    @Pattern(regexp = &quot;^(PENDING|CANCELED)$&quot;)\n    String status;\n\n    public CourseStatus courseStatus() {\n        return status == null ? null : CourseStatus.valueOf( status );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":462539,"reputation":1749,"user_id":864909,"accept_rate":52,"display_name":"PHP Avenger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682609821,"creation_date":1682603851,"question_id":76121253,"body_markdown":"Following is my custom validator\r\n\r\n    package my.dtos.enums;\r\n    \r\n    import my.dtos.CourseStatus;\r\n    import jakarta.validation.ConstraintValidator;\r\n    import jakarta.validation.ConstraintValidatorContext;\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    public class CourseStatusValidator implements ConstraintValidator&lt;CourseStatusType, CourseStatus&gt; {\r\n        private CourseStatus[] subset;\r\n    \r\n        @Override\r\n        public void initialize(CourseStatusType constraint) {\r\n            this.subset = constraint.anyOf();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isValid(CourseStatus value, ConstraintValidatorContext context) {\r\n            return value == null || Arrays.asList(subset).contains(value);\r\n        }\r\n    }\r\n\r\n\r\nHere is the annotation\r\n\r\n    package my.dtos.enums;\r\n    \r\n    import my.dtos.CourseStatus;\r\n    import jakarta.validation.Constraint;\r\n    import jakarta.validation.Payload;\r\n    \r\n    \r\n    import java.lang.annotation.Documented;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.Target;\r\n    \r\n    import static java.lang.annotation.ElementType.*;\r\n    import static java.lang.annotation.RetentionPolicy.RUNTIME;\r\n    \r\n    \r\n    @Target({METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE})\r\n    @Retention(RUNTIME)\r\n    @Documented\r\n    @Constraint(validatedBy = CourseStatusValidator.class)\r\n    public @interface CourseStatusType {\r\n        CourseStatus[] anyOf();\r\n        String message() default &quot;must be any of {anyOf}&quot;;\r\n        Class&lt;?&gt;[] groups() default {};\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\n\r\nHEre is how I am using it in one my DTO\r\n\r\n    @CourseStatusType(anyOf = {CourseStatus.PENDING, CourseStatus.CANCELED})\r\n    private CourseStatus status;\r\n\r\nThe validation is not working its not being applied and I am seeing an exception realted to parsing of data\r\n`org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `com.some.path.CourseStatus` from String &quot;WRONG_DATA_PASSWED&quot;: not one of the values accepted for Enum class: [CANCELED, DONE, IN_PROGRESS, PENDING]\r\n`\r\n\r\n\r\nFollowing is the controller method\r\n\r\n    @PutMapping(&quot;/{id}&quot;)\r\n        public Course update(@PathVariable(&quot;id&quot;) Long id, @RequestBody @Validated CourseRequest request)\r\n\r\n&gt; I want it to apply my validation and throw error according to that\r\n&gt; validation\r\n\r\n","title":"Spring Boot Enum Custom Validation not working with Jakarta","body":"<p>Following is my custom validator</p>\n<pre><code>package my.dtos.enums;\n\nimport my.dtos.CourseStatus;\nimport jakarta.validation.ConstraintValidator;\nimport jakarta.validation.ConstraintValidatorContext;\n\nimport java.util.Arrays;\n\npublic class CourseStatusValidator implements ConstraintValidator&lt;CourseStatusType, CourseStatus&gt; {\n    private CourseStatus[] subset;\n\n    @Override\n    public void initialize(CourseStatusType constraint) {\n        this.subset = constraint.anyOf();\n    }\n\n    @Override\n    public boolean isValid(CourseStatus value, ConstraintValidatorContext context) {\n        return value == null || Arrays.asList(subset).contains(value);\n    }\n}\n</code></pre>\n<p>Here is the annotation</p>\n<pre><code>package my.dtos.enums;\n\nimport my.dtos.CourseStatus;\nimport jakarta.validation.Constraint;\nimport jakarta.validation.Payload;\n\n\nimport java.lang.annotation.Documented;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.Target;\n\nimport static java.lang.annotation.ElementType.*;\nimport static java.lang.annotation.RetentionPolicy.RUNTIME;\n\n\n@Target({METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE})\n@Retention(RUNTIME)\n@Documented\n@Constraint(validatedBy = CourseStatusValidator.class)\npublic @interface CourseStatusType {\n    CourseStatus[] anyOf();\n    String message() default &quot;must be any of {anyOf}&quot;;\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>HEre is how I am using it in one my DTO</p>\n<pre><code>@CourseStatusType(anyOf = {CourseStatus.PENDING, CourseStatus.CANCELED})\nprivate CourseStatus status;\n</code></pre>\n<p>The validation is not working its not being applied and I am seeing an exception realted to parsing of data\n<code>org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type </code>com.some.path.CourseStatus<code>from String &quot;WRONG_DATA_PASSWED&quot;: not one of the values accepted for Enum class: [CANCELED, DONE, IN_PROGRESS, PENDING]</code></p>\n<p>Following is the controller method</p>\n<pre><code>@PutMapping(&quot;/{id}&quot;)\n    public Course update(@PathVariable(&quot;id&quot;) Long id, @RequestBody @Validated CourseRequest request)\n</code></pre>\n<blockquote>\n<p>I want it to apply my validation and throw error according to that\nvalidation</p>\n</blockquote>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1682609916,"post_id":76122160,"comment_id":134246239,"body_markdown":"I find it easiest to start a new project in IntelliJ using the bundled JavaFX template.","body":"I find it easiest to start a new project in IntelliJ using the bundled JavaFX template."}],"owner":{"account_id":27696420,"reputation":1,"user_id":21142042,"display_name":"Josh West"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682609863,"answer_count":0,"score":0,"last_activity_date":1682609262,"creation_date":1682609262,"question_id":76122160,"body_markdown":"I have a module that was created in java in inteilij under the build system of Maven. I have package set up with classes with them, along with a main class. I need to set up a javafx form, but when I goto like i&#39;m going to add a class it does not have javafx on the list of options. How do I add it to the list or how do I get the form? this is for a class and of course the video show it there on his but it&#39;s not on mine.\r\n\r\nI need to set up a javafx form, but when I goto like i&#39;m going to add a class it does not have javafx on the list of options. How do I add it to the list or how do I get the form?","title":"Javafx added to a current java module","body":"<p>I have a module that was created in java in inteilij under the build system of Maven. I have package set up with classes with them, along with a main class. I need to set up a javafx form, but when I goto like i'm going to add a class it does not have javafx on the list of options. How do I add it to the list or how do I get the form? this is for a class and of course the video show it there on his but it's not on mine.</p>\n<p>I need to set up a javafx form, but when I goto like i'm going to add a class it does not have javafx on the list of options. How do I add it to the list or how do I get the form?</p>\n"},{"tags":["java","android","api","network-protocols","socketexception"],"comments":[{"owner":{"account_id":9101183,"reputation":195,"user_id":6773266,"display_name":"mohammed ahmed"},"score":0,"creation_date":1682607260,"post_id":76120675,"comment_id":134245551,"body_markdown":"Make sure you have allowed internet permissions on the device. \nSecondly, it would be a good idea if you share some code snippets, so people can understand the problem.","body":"Make sure you have allowed internet permissions on the device.  Secondly, it would be a good idea if you share some code snippets, so people can understand the problem."},{"owner":{"account_id":21338287,"reputation":38,"user_id":15709177,"display_name":"Dat Le"},"score":0,"creation_date":1682609123,"post_id":76120675,"comment_id":134246049,"body_markdown":"@mohammedahmed I added a few code snippets. Hope that clears up the problem.","body":"@mohammedahmed I added a few code snippets. Hope that clears up the problem."}],"owner":{"account_id":21338287,"reputation":38,"user_id":15709177,"display_name":"Dat Le"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682608973,"creation_date":1682600030,"question_id":76120675,"body_markdown":"I am trying to talk to my local API to log in, which was very smooth when I used Android emulator. But as soon as I used my Samsung phone as a debugging device, it gave java.net.SocketException. There was no request sent to API.\r\n\r\nI am new to Java Socket, so I don&#39;t know where to start. How would you go about this? \r\n```\r\nW/System.err: java.net.SocketException: Connection reset\r\nW/System.err:     at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:121)\r\nW/System.err:     at java.net.SocketOutputStream.write(SocketOutputStream.java:161)\r\nW/System.err:     at okio.Okio$1.write(Okio.java:79)\r\nW/System.err:     at okio.AsyncTimeout$1.write(AsyncTimeout.java:180)\r\nW/System.err:     at okio.RealBufferedSink.flush(RealBufferedSink.java:224)\r\nW/System.err:     at okhttp3.internal.http1.Http1ExchangeCodec.finishRequest(Http1ExchangeCodec.java:190)\r\nW/System.err:     at okhttp3.internal.connection.Exchange.finishRequest(Exchange.java:101)\r\nW/System.err:     at okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.java:86)\r\nW/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\r\nW/System.err:     at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:43)\r\nW/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\r\nW/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\r\nW/System.err:     at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:94)\r\nW/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\r\nW/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\r\nW/System.err:     at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\r\nW/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\r\nW/System.err:     at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:88)\r\nW/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\r\nW/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\r\nW/System.err:     at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:229)\r\nW/System.err:     at okhttp3.RealCall$AsyncCall.execute(RealCall.java:172)\r\nW/System.err:     at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\r\nW/System.err:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\nW/System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\nW/System.err:     at java.lang.Thread.run(Thread.java:923)\r\n```\r\n\r\n*Edit: LoginDataSource class, login():\r\n```\r\npublic void login(String email, String password, ActionCallback callback) {\r\n        try {\r\n            WebInterface webInterface = RetrofitClient.getInstance().getWebInterface();\r\n            Call&lt;Session&gt; call = webInterface.login(new LoggedInUser(email, password));\r\n\r\n            call.enqueue(new Callback&lt;&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;Session&gt; call, Response&lt;Session&gt; response) {\r\n                    if (response.isSuccessful()) {\r\n                        callback.onActionSuccess(new Result.Success(response.body()));\r\n                    } else {\r\n                        Log.e(TAG, response.message());\r\n                        callback.onActionFailure(new Result.Error(new Exception(response.message())));\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onFailure(Call&lt;Session&gt; call, Throwable t) {\r\n                    Log.e(TAG + &quot;onFailure&quot;, t.toString());\r\n                    Log.e(TAG, t.getMessage());\r\n                    t.printStackTrace();\r\n                    //callback.onActionFailure(new Result.Error(new Exception(t)));\r\n                }\r\n            });\r\n        } catch (Exception e) {\r\n            callback.onActionFailure(new Result.Error(e));\r\n        }\r\n    }\r\n```\r\nRetrofitClient class\r\n```\r\npackage depauw.datle.eshop.data;\r\n\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.GsonBuilder;\r\n\r\nimport javax.net.ssl.HostnameVerifier;\r\nimport javax.net.ssl.SSLContext;\r\nimport javax.net.ssl.SSLSession;\r\nimport javax.net.ssl.SSLSocketFactory;\r\nimport javax.net.ssl.TrustManager;\r\nimport javax.net.ssl.X509TrustManager;\r\n\r\nimport okhttp3.OkHttpClient;\r\nimport retrofit2.Retrofit;\r\nimport retrofit2.converter.gson.GsonConverterFactory;\r\n\r\npublic class RetrofitClient\r\n{\r\n    // Single object reference\r\n    private static RetrofitClient myInstance;\r\n    private Retrofit retrofit;\r\n    private WebInterface webInterface;\r\n\r\n    public static RetrofitClient getInstance(){\r\n        if(myInstance == null){\r\n            myInstance = new RetrofitClient();\r\n        }\r\n        return myInstance;\r\n    }\r\n\r\n    private RetrofitClient(){\r\n        Gson gson = new GsonBuilder()\r\n                .setLenient()\r\n                .create();\r\n        retrofit = new Retrofit.Builder()\r\n                .baseUrl(&quot;http://10.0.2.2:8000/api/v1/&quot;)\r\n                .addConverterFactory(GsonConverterFactory.create(gson))\r\n                .client(getUnsafeOkHttpClient().build())\r\n                .build();\r\n        webInterface = retrofit.create(WebInterface.class);\r\n    }\r\n\r\n    public WebInterface getWebInterface(){\r\n        return webInterface;\r\n    }\r\n\r\n    public static OkHttpClient.Builder getUnsafeOkHttpClient() {\r\n        try {\r\n            // Create a trust manager that does not validate certificate chains\r\n            final TrustManager[] trustAllCerts = new TrustManager[]{\r\n                new X509TrustManager() {\r\n                    @Override\r\n                    public void checkClientTrusted(java.security.cert.X509Certificate[] chain, String authType) {\r\n                    }\r\n\r\n                    @Override\r\n                    public void checkServerTrusted(java.security.cert.X509Certificate[] chain, String authType) {\r\n                    }\r\n\r\n                    @Override\r\n                    public java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n                        return new java.security.cert.X509Certificate[]{};\r\n                    }\r\n                }\r\n            };\r\n\r\n            // Install the all-trusting trust manager\r\n            final SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\r\n            sslContext.init(null, trustAllCerts, new java.security.SecureRandom());\r\n\r\n            // Create an ssl socket factory with our all-trusting manager\r\n            final SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\r\n\r\n            OkHttpClient.Builder builder = new OkHttpClient.Builder();\r\n            builder.sslSocketFactory(sslSocketFactory, (X509TrustManager) trustAllCerts[0]);\r\n            builder.hostnameVerifier(new HostnameVerifier() {\r\n                @Override\r\n                public boolean verify(String hostname, SSLSession session) {\r\n                    return true;\r\n                }\r\n            });\r\n            return builder;\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\nAndroidManifest.xml, internet permission:\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n```\r\nI think these lines are most relevant, but feel free to let me know which code you need to see.","title":"SocketException: Connected reset after moving from Android Emulator to physical device","body":"<p>I am trying to talk to my local API to log in, which was very smooth when I used Android emulator. But as soon as I used my Samsung phone as a debugging device, it gave java.net.SocketException. There was no request sent to API.</p>\n<p>I am new to Java Socket, so I don't know where to start. How would you go about this?</p>\n<pre><code>W/System.err: java.net.SocketException: Connection reset\nW/System.err:     at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:121)\nW/System.err:     at java.net.SocketOutputStream.write(SocketOutputStream.java:161)\nW/System.err:     at okio.Okio$1.write(Okio.java:79)\nW/System.err:     at okio.AsyncTimeout$1.write(AsyncTimeout.java:180)\nW/System.err:     at okio.RealBufferedSink.flush(RealBufferedSink.java:224)\nW/System.err:     at okhttp3.internal.http1.Http1ExchangeCodec.finishRequest(Http1ExchangeCodec.java:190)\nW/System.err:     at okhttp3.internal.connection.Exchange.finishRequest(Exchange.java:101)\nW/System.err:     at okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.java:86)\nW/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\nW/System.err:     at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:43)\nW/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\nW/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\nW/System.err:     at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:94)\nW/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\nW/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\nW/System.err:     at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\nW/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\nW/System.err:     at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:88)\nW/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\nW/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\nW/System.err:     at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:229)\nW/System.err:     at okhttp3.RealCall$AsyncCall.execute(RealCall.java:172)\nW/System.err:     at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\nW/System.err:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\nW/System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\nW/System.err:     at java.lang.Thread.run(Thread.java:923)\n</code></pre>\n<p>*Edit: LoginDataSource class, login():</p>\n<pre><code>public void login(String email, String password, ActionCallback callback) {\n        try {\n            WebInterface webInterface = RetrofitClient.getInstance().getWebInterface();\n            Call&lt;Session&gt; call = webInterface.login(new LoggedInUser(email, password));\n\n            call.enqueue(new Callback&lt;&gt;() {\n                @Override\n                public void onResponse(Call&lt;Session&gt; call, Response&lt;Session&gt; response) {\n                    if (response.isSuccessful()) {\n                        callback.onActionSuccess(new Result.Success(response.body()));\n                    } else {\n                        Log.e(TAG, response.message());\n                        callback.onActionFailure(new Result.Error(new Exception(response.message())));\n                    }\n                }\n\n                @Override\n                public void onFailure(Call&lt;Session&gt; call, Throwable t) {\n                    Log.e(TAG + &quot;onFailure&quot;, t.toString());\n                    Log.e(TAG, t.getMessage());\n                    t.printStackTrace();\n                    //callback.onActionFailure(new Result.Error(new Exception(t)));\n                }\n            });\n        } catch (Exception e) {\n            callback.onActionFailure(new Result.Error(e));\n        }\n    }\n</code></pre>\n<p>RetrofitClient class</p>\n<pre><code>package depauw.datle.eshop.data;\n\nimport com.google.gson.Gson;\nimport com.google.gson.GsonBuilder;\n\nimport javax.net.ssl.HostnameVerifier;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLSession;\nimport javax.net.ssl.SSLSocketFactory;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.X509TrustManager;\n\nimport okhttp3.OkHttpClient;\nimport retrofit2.Retrofit;\nimport retrofit2.converter.gson.GsonConverterFactory;\n\npublic class RetrofitClient\n{\n    // Single object reference\n    private static RetrofitClient myInstance;\n    private Retrofit retrofit;\n    private WebInterface webInterface;\n\n    public static RetrofitClient getInstance(){\n        if(myInstance == null){\n            myInstance = new RetrofitClient();\n        }\n        return myInstance;\n    }\n\n    private RetrofitClient(){\n        Gson gson = new GsonBuilder()\n                .setLenient()\n                .create();\n        retrofit = new Retrofit.Builder()\n                .baseUrl(&quot;http://10.0.2.2:8000/api/v1/&quot;)\n                .addConverterFactory(GsonConverterFactory.create(gson))\n                .client(getUnsafeOkHttpClient().build())\n                .build();\n        webInterface = retrofit.create(WebInterface.class);\n    }\n\n    public WebInterface getWebInterface(){\n        return webInterface;\n    }\n\n    public static OkHttpClient.Builder getUnsafeOkHttpClient() {\n        try {\n            // Create a trust manager that does not validate certificate chains\n            final TrustManager[] trustAllCerts = new TrustManager[]{\n                new X509TrustManager() {\n                    @Override\n                    public void checkClientTrusted(java.security.cert.X509Certificate[] chain, String authType) {\n                    }\n\n                    @Override\n                    public void checkServerTrusted(java.security.cert.X509Certificate[] chain, String authType) {\n                    }\n\n                    @Override\n                    public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n                        return new java.security.cert.X509Certificate[]{};\n                    }\n                }\n            };\n\n            // Install the all-trusting trust manager\n            final SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\n            sslContext.init(null, trustAllCerts, new java.security.SecureRandom());\n\n            // Create an ssl socket factory with our all-trusting manager\n            final SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\n\n            OkHttpClient.Builder builder = new OkHttpClient.Builder();\n            builder.sslSocketFactory(sslSocketFactory, (X509TrustManager) trustAllCerts[0]);\n            builder.hostnameVerifier(new HostnameVerifier() {\n                @Override\n                public boolean verify(String hostname, SSLSession session) {\n                    return true;\n                }\n            });\n            return builder;\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>AndroidManifest.xml, internet permission:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n</code></pre>\n<p>I think these lines are most relevant, but feel free to let me know which code you need to see.</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1682608828,"post_id":76122026,"comment_id":134245967,"body_markdown":"Yup, sorry, seems you need hib:5.2 at least: https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x#data-access-and-transactions","body":"Yup, sorry, seems you need hib:5.2 at least: <a href=\"https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x#data-access-and-transactions\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/wiki/&hellip;</a>"},{"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"score":0,"creation_date":1682609553,"post_id":76122026,"comment_id":134246145,"body_markdown":"@xerx593 yep i had already seen that but i was hoping for someone to tell there was a hack around lol - guess ill have to go through the pain of upgrading to hibernate 5 - thanks for the comments","body":"@xerx593 yep i had already seen that but i was hoping for someone to tell there was a hack around lol - guess ill have to go through the pain of upgrading to hibernate 5 - thanks for the comments"},{"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"score":0,"creation_date":1682614727,"post_id":76122026,"comment_id":134247453,"body_markdown":"If you want to use Spring 5 you need hibernate 5, if you want to use JDK11, I think you need hibernate 5.4 at least.","body":"If you want to use Spring 5 you need hibernate 5, if you want to use JDK11, I think you need hibernate 5.4 at least."},{"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"score":0,"creation_date":1682623150,"post_id":76122026,"comment_id":134249255,"body_markdown":"@zawarudo I managed to get the app running on spring 4, hibernate 4 with JDK 11 but yeah need both to be 5","body":"@zawarudo I managed to get the app running on spring 4, hibernate 4 with JDK 11 but yeah need both to be 5"}],"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1682610318,"answer_count":0,"score":1,"last_activity_date":1682608446,"creation_date":1682608446,"question_id":76122026,"body_markdown":"I am in the process of uprgading a legacy project and the minimum criteria is to get it to spring 5 which i have managed to do but i am now getting some errors to do with sessionFactory. \r\n\r\nThe project is still using hibernate 4.3.11 but i have made all the upgrades for it to work with spring 5.1.18.\r\n\r\n**My question is:**\r\n\r\nIs it possible for spring 5.1 to work with hibernate 4.3? is my error due to the difference in versions?\r\n\r\nhere is the stacktrace just for more info - if you would like to see any other files just let me know\r\n```\r\n\r\n2023-04-27 14:01:55 Apache Commons Daemon procrun stdout initialized.\r\nException encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;allocationStatusHibernateDao&#39; defined in file [C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\ngc-gms\\WEB-INF\\classes\\com\\amor\\ngc\\application\\allocation\\dao\\hibernate\\AllocationStatusHibernateDao.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\r\n  context: \r\n  delegate: false\r\n----------&gt; Parent Classloader:\r\njava.net.URLClassLoader@10694f1\r\n]\r\nRelated cause: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\r\n  context: \r\n  delegate: false\r\n----------&gt; Parent Classloader:\r\njava.net.URLClassLoader@10694f1\r\n]\r\nRelated cause: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\r\n  context: \r\n  delegate: false\r\n----------&gt; Parent Classloader:\r\njava.net.URLClassLoader@10694f1\r\n]\r\nContext initialization failed\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;allocationStatusHibernateDao&#39; defined in file [C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\ngc-gms\\WEB-INF\\classes\\com\\amor\\ngc\\application\\allocation\\dao\\hibernate\\AllocationStatusHibernateDao.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\r\n  context: \r\n  delegate: false\r\n----------&gt; Parent Classloader:\r\njava.net.URLClassLoader@10694f1\r\n]\r\nRelated cause: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\r\n  context: \r\n  delegate: false\r\n----------&gt; Parent Classloader:\r\njava.net.URLClassLoader@10694f1\r\n]\r\nRelated cause: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\r\n  context: \r\n  delegate: false\r\n----------&gt; Parent Classloader:\r\njava.net.URLClassLoader@10694f1\r\n]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1338)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1185)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:554)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:514)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:321)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:319)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:866)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\r\n\tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:401)\r\n\tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:292)\r\n\tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4768)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\r\n\tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1024)\r\n\tat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1911)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\r\n\tat org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:825)\r\n\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:475)\r\n\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1618)\r\n\tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\r\n\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n\tat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\r\n\tat org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\r\n  context: \r\n  delegate: false\r\n----------&gt; Parent Classloader:\r\njava.net.URLClassLoader@10694f1\r\n]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:267)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1267)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1182)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:554)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:514)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:321)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:319)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1276)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1196)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)\r\n\t... 56 more\r\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\r\n  context: \r\n  delegate: false\r\n----------&gt; Parent Classloader:\r\njava.net.URLClassLoader@10694f1\r\n]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:507)\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:404)\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:389)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:249)\r\n\t... 69 more\r\nCaused by: java.lang.NoClassDefFoundError: org/hibernate/boot/MetadataSources\r\n\tat java.base/java.lang.Class.getDeclaredMethods0(Native Method)\r\n\tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3166)\r\n\tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2309)\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:489)\r\n\t... 72 more\r\nCaused by: java.lang.ClassNotFoundException: org.hibernate.boot.MetadataSources\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\r\n\t... 76 more\r\nRelated cause:\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\r\n  context: \r\n  delegate: false\r\n----------&gt; Parent Classloader:\r\njava.net.URLClassLoader@10694f1\r\n]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:267)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1267)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1182)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getSingletonFactoryBeanForTypeCheck(AbstractAutowireCapableBeanFactory.java:989)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryBean(AbstractAutowireCapableBeanFactory.java:863)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isTypeMatch(AbstractBeanFactory.java:580)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:525)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:497)\r\n\tat org.springframework.beans.factory.BeanFactoryUtils.beanNamesForTypeIncludingAncestors(BeanFactoryUtils.java:227)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1442)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1239)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1196)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1338)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1185)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:554)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:514)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:321)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:319)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:866)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\r\n\tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:401)\r\n\tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:292)\r\n\tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4768)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\r\n\tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1024)\r\n\tat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1911)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\r\n\tat org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:825)\r\n\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:475)\r\n\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1618)\r\n\tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\r\n\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n\tat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\r\n\tat org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\r\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\r\n  context: \r\n  delegate: false\r\n----------&gt; Parent Classloader:\r\njava.net.URLClassLoader@10694f1\r\n]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:507)\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:404)\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:389)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:249)\r\n\t... 69 more\r\nCaused by: java.lang.NoClassDefFoundError: org/hibernate/boot/MetadataSources\r\n\tat java.base/java.lang.Class.getDeclaredMethods0(Native Method)\r\n\tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3166)\r\n\tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2309)\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:489)\r\n\t... 72 more\r\nCaused by: java.lang.ClassNotFoundException: org.hibernate.boot.MetadataSources\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\r\n\t... 76 more\r\nRelated cause:\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\r\n```","title":"Spring 5 and hibernate 4 compatibility","body":"<p>I am in the process of uprgading a legacy project and the minimum criteria is to get it to spring 5 which i have managed to do but i am now getting some errors to do with sessionFactory.</p>\n<p>The project is still using hibernate 4.3.11 but i have made all the upgrades for it to work with spring 5.1.18.</p>\n<p><strong>My question is:</strong></p>\n<p>Is it possible for spring 5.1 to work with hibernate 4.3? is my error due to the difference in versions?</p>\n<p>here is the stacktrace just for more info - if you would like to see any other files just let me know</p>\n<pre><code>\n2023-04-27 14:01:55 Apache Commons Daemon procrun stdout initialized.\nException encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'allocationStatusHibernateDao' defined in file [C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\ngc-gms\\WEB-INF\\classes\\com\\amor\\ngc\\application\\allocation\\dao\\hibernate\\AllocationStatusHibernateDao.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\n  context: \n  delegate: false\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@10694f1\n]\nRelated cause: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\n  context: \n  delegate: false\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@10694f1\n]\nRelated cause: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\n  context: \n  delegate: false\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@10694f1\n]\nContext initialization failed\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'allocationStatusHibernateDao' defined in file [C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\ngc-gms\\WEB-INF\\classes\\com\\amor\\ngc\\application\\allocation\\dao\\hibernate\\AllocationStatusHibernateDao.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\n  context: \n  delegate: false\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@10694f1\n]\nRelated cause: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\n  context: \n  delegate: false\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@10694f1\n]\nRelated cause: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\n  context: \n  delegate: false\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@10694f1\n]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1338)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1185)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:554)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:514)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:321)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:319)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:866)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:401)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:292)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4768)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\n    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1024)\n    at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1911)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\n    at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:825)\n    at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:475)\n    at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1618)\n    at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n    at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\n    at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\n  context: \n  delegate: false\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@10694f1\n]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:267)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1267)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1182)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:554)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:514)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:321)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:319)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1276)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1196)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)\n    ... 56 more\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\n  context: \n  delegate: false\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@10694f1\n]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:507)\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:404)\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:389)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:249)\n    ... 69 more\nCaused by: java.lang.NoClassDefFoundError: org/hibernate/boot/MetadataSources\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3166)\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2309)\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:489)\n    ... 72 more\nCaused by: java.lang.ClassNotFoundException: org.hibernate.boot.MetadataSources\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\n    ... 76 more\nRelated cause:\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\n  context: \n  delegate: false\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@10694f1\n]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:267)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1267)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1182)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getSingletonFactoryBeanForTypeCheck(AbstractAutowireCapableBeanFactory.java:989)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryBean(AbstractAutowireCapableBeanFactory.java:863)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isTypeMatch(AbstractBeanFactory.java:580)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:525)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:497)\n    at org.springframework.beans.factory.BeanFactoryUtils.beanNamesForTypeIncludingAncestors(BeanFactoryUtils.java:227)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1442)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1239)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1196)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1338)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1185)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:554)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:514)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:321)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:319)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:866)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:401)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:292)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4768)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\n    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1024)\n    at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1911)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\n    at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:825)\n    at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:475)\n    at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1618)\n    at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n    at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\n    at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\n  context: \n  delegate: false\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@10694f1\n]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:507)\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:404)\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:389)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:249)\n    ... 69 more\nCaused by: java.lang.NoClassDefFoundError: org/hibernate/boot/MetadataSources\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3166)\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2309)\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:489)\n    ... 72 more\nCaused by: java.lang.ClassNotFoundException: org.hibernate.boot.MetadataSources\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\n    ... 76 more\nRelated cause:\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\n</code></pre>\n"},{"tags":["java","docker"],"answers":[{"comments":[{"owner":{"account_id":6414100,"reputation":2253,"user_id":4972832,"accept_rate":83,"display_name":"Pranav MS"},"score":0,"creation_date":1682607037,"post_id":76121747,"comment_id":134245479,"body_markdown":"Is it like ENV PATH=&quot;${-}:~/.aspera/cli/bin:${JAVA_HOME}/bin&quot;","body":"Is it like ENV PATH=&quot;${-}:~/.aspera/cli/bin:${JAVA_HOME}/bin&quot;"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1682607073,"post_id":76121747,"comment_id":134245492,"body_markdown":"@PranavMS yes, looks OK to me","body":"@PranavMS yes, looks OK to me"},{"owner":{"account_id":6414100,"reputation":2253,"user_id":4972832,"accept_rate":83,"display_name":"Pranav MS"},"score":0,"creation_date":1682607846,"post_id":76121747,"comment_id":134245717,"body_markdown":"let me try thank you","body":"let me try thank you"}],"tags":[],"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682606817,"creation_date":1682606817,"answer_id":76121747,"question_id":76121571,"body_markdown":"The error message tells you that `PATH` does not contain a binary called `java`.\r\n\r\nTry adding `${JAVA_HOME}/bin` to the `PATH` setting.","title":"Docker /entrypoint.sh: 2: exec: java: not found","body":"<p>The error message tells you that <code>PATH</code> does not contain a binary called <code>java</code>.</p>\n<p>Try adding <code>${JAVA_HOME}/bin</code> to the <code>PATH</code> setting.</p>\n"},{"tags":[],"owner":{"account_id":26712307,"reputation":91,"user_id":20317450,"display_name":"Bastian Hologne"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682608084,"creation_date":1682608084,"answer_id":76121969,"question_id":76121571,"body_markdown":"You use a jdk image so you can override your entrypoint like this:\r\n\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;-Dspring.profiles.active=dev&quot;, &quot;/app.jar&quot;]","title":"Docker /entrypoint.sh: 2: exec: java: not found","body":"<p>You use a jdk image so you can override your entrypoint like this:</p>\n<pre><code>ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;-Dspring.profiles.active=dev&quot;, &quot;/app.jar&quot;]\n</code></pre>\n"}],"owner":{"account_id":6414100,"reputation":2253,"user_id":4972832,"accept_rate":83,"display_name":"Pranav MS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76121747,"answer_count":2,"score":0,"last_activity_date":1682608084,"creation_date":1682605810,"question_id":76121571,"body_markdown":"I&#39;m using docker to deploy my java springboot application. But everytime I end up with an error\r\n\r\n[![enter image description here][1]][1] \r\n\r\nThe dashboard for the docker container is showing the java home \r\n\r\n[![enter image description here][2]][2]\r\n\r\nI&#39;m running the docker file from my InteliJ. Can anyone spot where I am doing wrong ?\r\n\r\n**Docker file** \r\n\r\n    FROM openjdk:8u332-jdk-bullseye\r\n    RUN addgroup -system useradmin &amp;&amp; adduser -system useradmin\r\n    \r\n    COPY ibm-aspera-cli-3.9.1.1401.be67d47-linux-64-release.sh /tmp/ibm-aspera-cli-3.9.1.1401.be67d47-linux-64-release.sh\r\n    RUN chmod +x /tmp/ibm-aspera-cli-3.9.1.1401.be67d47-linux-64-release.sh\r\n    \r\n    #install FFMPEG with global configuration.\r\n    RUN apt-get update &amp;&amp; apt-get install -y ffmpeg\r\n    \r\n    #Installing aspera into the system\r\n    RUN sh /tmp/ibm-aspera-cli-3.9.1.1401.be67d47-linux-64-release.sh\r\n    \r\n    USER useradmin:useradmin\r\n    #Adding config file to aspera cli\r\n    COPY .aspera_cli_conf ~/.aspera/cli/bin\r\n    #Adding public key for aspera cli\r\n    COPY asperaclient.pem /home/useradmin/.aspera/cli/etc/\r\n    #Adding aspera cli into the environment path\r\n    ENV PATH=&quot;${-}:~/.aspera/cli/bin&quot;\r\n    # The application&#39;s jar file\r\n    ARG JAR_FILE=*.jar\r\n    COPY ${JAR_FILE} /app.jar\r\n    COPY entrypoint.sh /entrypoint.sh\r\n    \r\n    \r\n    ENTRYPOINT [&quot;/entrypoint.sh&quot;]\r\n\r\n**entrypoint.sh**\r\n\r\n    #!/bin/sh\r\n    exec java -jar -Dspring.profiles.active=dev /app.jar\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SVWM4.png\r\n  [2]: https://i.stack.imgur.com/0Butu.png","title":"Docker /entrypoint.sh: 2: exec: java: not found","body":"<p>I'm using docker to deploy my java springboot application. But everytime I end up with an error</p>\n<p><a href=\"https://i.stack.imgur.com/SVWM4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SVWM4.png\" alt=\"enter image description here\" /></a></p>\n<p>The dashboard for the docker container is showing the java home</p>\n<p><a href=\"https://i.stack.imgur.com/0Butu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0Butu.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm running the docker file from my InteliJ. Can anyone spot where I am doing wrong ?</p>\n<p><strong>Docker file</strong></p>\n<pre><code>FROM openjdk:8u332-jdk-bullseye\nRUN addgroup -system useradmin &amp;&amp; adduser -system useradmin\n\nCOPY ibm-aspera-cli-3.9.1.1401.be67d47-linux-64-release.sh /tmp/ibm-aspera-cli-3.9.1.1401.be67d47-linux-64-release.sh\nRUN chmod +x /tmp/ibm-aspera-cli-3.9.1.1401.be67d47-linux-64-release.sh\n\n#install FFMPEG with global configuration.\nRUN apt-get update &amp;&amp; apt-get install -y ffmpeg\n\n#Installing aspera into the system\nRUN sh /tmp/ibm-aspera-cli-3.9.1.1401.be67d47-linux-64-release.sh\n\nUSER useradmin:useradmin\n#Adding config file to aspera cli\nCOPY .aspera_cli_conf ~/.aspera/cli/bin\n#Adding public key for aspera cli\nCOPY asperaclient.pem /home/useradmin/.aspera/cli/etc/\n#Adding aspera cli into the environment path\nENV PATH=&quot;${-}:~/.aspera/cli/bin&quot;\n# The application's jar file\nARG JAR_FILE=*.jar\nCOPY ${JAR_FILE} /app.jar\nCOPY entrypoint.sh /entrypoint.sh\n\n\nENTRYPOINT [&quot;/entrypoint.sh&quot;]\n</code></pre>\n<p><strong>entrypoint.sh</strong></p>\n<pre><code>#!/bin/sh\nexec java -jar -Dspring.profiles.active=dev /app.jar\n</code></pre>\n"},{"tags":["java","spring","validation"],"comments":[{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":1,"creation_date":1682590022,"post_id":76118699,"comment_id":134241201,"body_markdown":"can you try making the method public? I believe it needs to be proxied and this won&#39;t work for private methods.","body":"can you try making the method public? I believe it needs to be proxied and this won&#39;t work for private methods."},{"owner":{"account_id":4728451,"reputation":451,"user_id":3824715,"accept_rate":62,"display_name":"ch1ll"},"score":0,"creation_date":1682594197,"post_id":76118699,"comment_id":134242116,"body_markdown":"Making it public did work, thank you! I got an intermediate solution by trial and error by renaming the method to isFirstName(). This probably worked because firstName has a getter so it can be accessed in some way. But honestly not sure how it exactly works. If you post your comment as an answer I could accept it.","body":"Making it public did work, thank you! I got an intermediate solution by trial and error by renaming the method to isFirstName(). This probably worked because firstName has a getter so it can be accessed in some way. But honestly not sure how it exactly works. If you post your comment as an answer I could accept it."},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":1,"creation_date":1682595188,"post_id":76118699,"comment_id":134242344,"body_markdown":"great. i have added it now. ys, probably it was using the lombok-generated getter :)","body":"great. i have added it now. ys, probably it was using the lombok-generated getter :)"}],"answers":[{"comments":[{"owner":{"account_id":4728451,"reputation":451,"user_id":3824715,"accept_rate":62,"display_name":"ch1ll"},"score":0,"creation_date":1682604352,"post_id":76119866,"comment_id":134244739,"body_markdown":"minor addition: One should probably add `@JsonIgnore`, otherwise it is visible in the api contract","body":"minor addition: One should probably add <code>@JsonIgnore</code>, otherwise it is visible in the api contract"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":1,"creation_date":1682608002,"post_id":76119866,"comment_id":134245757,"body_markdown":"thanks for the message, i.ll add this to the answer","body":"thanks for the message, i.ll add this to the answer"}],"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682608041,"creation_date":1682595062,"answer_id":76119866,"question_id":76118699,"body_markdown":"The validation is done through AOP (aspects). This means your object needs to be proxied and so, the method needs to be accessible. In short, making the method public should fix it:\r\n\r\n    @JsonIgnore // add this to skip json serialization\r\n    @AssertTrue(message = &quot;either first or last name must be set&quot;)\r\n    public boolean isFirstNameOrLastNameSet() {\r\n        return (firstName != null || lastName != null)\r\n    }\r\n","title":"Validate DTO using method","body":"<p>The validation is done through AOP (aspects). This means your object needs to be proxied and so, the method needs to be accessible. In short, making the method public should fix it:</p>\n<pre><code>@JsonIgnore // add this to skip json serialization\n@AssertTrue(message = &quot;either first or last name must be set&quot;)\npublic boolean isFirstNameOrLastNameSet() {\n    return (firstName != null || lastName != null)\n}\n</code></pre>\n"}],"owner":{"account_id":4728451,"reputation":451,"user_id":3824715,"accept_rate":62,"display_name":"ch1ll"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76119866,"answer_count":1,"score":1,"last_activity_date":1682608041,"creation_date":1682586884,"question_id":76118699,"body_markdown":"I&#39;m trying to validate a DTO based on a method using `@javax.validation.AssertTrue` annotation. \r\n    \r\n    @Getter\r\n    @Setter\r\n    public class EntityDTO {\r\n\r\n        @NotNull\r\n        @Schema(...)\r\n        private String someField;\r\n        @Schema(...)\r\n        private String firstName;\r\n        @Schema(...)\r\n        private String lastName;\r\n\r\n        @AssertTrue(message = &quot;either first or last name must be set&quot;)\r\n        private boolean isFirstNameOrLastNameSet() {\r\n            return (firstName != null || lastName != null)\r\n        }\r\n\r\n    }\r\n\r\n\r\nIf I validate this class (using @Valid) where first and lastName is null like this: \r\n\r\n    save(@Valid EntityDTO);\r\n\r\nI get this error: \r\n\r\n    java.lang.IllegalStateException MESSAGE: JSR-303 validated property\r\n    &#39;firstNameOrLastNameSet&#39; does not have a corresponding accessor for Spring data binding\r\n    - check your DataBinder&#39;s configuration (bean property versus direct field access)\r\n\r\n\r\nI don&#39;t want to change data binding globally because I don&#39;t know all the implications it has on other code. (Like suggested here https://stackoverflow.com/questions/54128075/how-to-configure-direct-field-access-on-valid-in-spring)  \r\n\r\nI was expecting this to work similarly to a normal @NotNull annotation (it works as expected on `someField`) . Where it gets validated, and if it fails I get an Exception. Is there a way to achieve this behaviour or am I expecting the wrong thing? How  would you validate that at a certain point in the code the `isFirstNameOrLastNameSet()` returns true? ","title":"Validate DTO using method","body":"<p>I'm trying to validate a DTO based on a method using <code>@javax.validation.AssertTrue</code> annotation.</p>\n<pre><code>@Getter\n@Setter\npublic class EntityDTO {\n\n    @NotNull\n    @Schema(...)\n    private String someField;\n    @Schema(...)\n    private String firstName;\n    @Schema(...)\n    private String lastName;\n\n    @AssertTrue(message = &quot;either first or last name must be set&quot;)\n    private boolean isFirstNameOrLastNameSet() {\n        return (firstName != null || lastName != null)\n    }\n\n}\n</code></pre>\n<p>If I validate this class (using @Valid) where first and lastName is null like this:</p>\n<pre><code>save(@Valid EntityDTO);\n</code></pre>\n<p>I get this error:</p>\n<pre><code>java.lang.IllegalStateException MESSAGE: JSR-303 validated property\n'firstNameOrLastNameSet' does not have a corresponding accessor for Spring data binding\n- check your DataBinder's configuration (bean property versus direct field access)\n</code></pre>\n<p>I don't want to change data binding globally because I don't know all the implications it has on other code. (Like suggested here <a href=\"https://stackoverflow.com/questions/54128075/how-to-configure-direct-field-access-on-valid-in-spring\">How to configure direct field access on @Valid in Spring?</a>)</p>\n<p>I was expecting this to work similarly to a normal @NotNull annotation (it works as expected on <code>someField</code>) . Where it gets validated, and if it fails I get an Exception. Is there a way to achieve this behaviour or am I expecting the wrong thing? How  would you validate that at a certain point in the code the <code>isFirstNameOrLastNameSet()</code> returns true?</p>\n"},{"tags":["java","android","gradle","kapt"],"comments":[{"owner":{"account_id":2008878,"reputation":15778,"user_id":1797912,"accept_rate":60,"display_name":"Chriki"},"score":1,"creation_date":1673814465,"post_id":75109742,"comment_id":132576448,"body_markdown":"Can you maybe provide a [mre] or at least more details on your Gradle setup that results in the quoted message?","body":"Can you maybe provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or at least more details on your Gradle setup that results in the quoted message?"},{"owner":{"account_id":194212,"reputation":2868,"user_id":436417,"display_name":"Uli"},"score":0,"creation_date":1675465830,"post_id":75109742,"comment_id":132942462,"body_markdown":"This would not even be a problem if Jetbrains hadn&#39;t broken the kotlinOptions.jvmTarget configuration support for kapt in Kotlin 1.8.0 and refuses to fix it: https://youtrack.jetbrains.com/issue/KT-55947/Unable-to-set-kapt-jvm-target-version","body":"This would not even be a problem if Jetbrains hadn&#39;t broken the kotlinOptions.jvmTarget configuration support for kapt in Kotlin 1.8.0 and refuses to fix it: <a href=\"https://youtrack.jetbrains.com/issue/KT-55947/Unable-to-set-kapt-jvm-target-version\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-55947/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":186082,"reputation":4236,"user_id":423199,"accept_rate":99,"display_name":"Hector"},"score":1,"creation_date":1674041406,"post_id":75158443,"comment_id":132628845,"body_markdown":"thanks for looking at this i have &quot;discovered&quot; a similar fix, see updated question","body":"thanks for looking at this i have &quot;discovered&quot; a similar fix, see updated question"},{"owner":{"account_id":186082,"reputation":4236,"user_id":423199,"accept_rate":99,"display_name":"Hector"},"score":0,"creation_date":1674042093,"post_id":75158443,"comment_id":132629035,"body_markdown":"iam not sure if this is correct https://youtrack.jetbrains.com/issue/KTIJ-24311/task-current-target-is-17-and-kaptGenerateStubsProductionDebugKotlin-task-current-target-is-1.8-jvm-target-compatibility-should","body":"iam not sure if this is correct <a href=\"https://youtrack.jetbrains.com/issue/KTIJ-24311/task-current-target-is-17-and-kaptGenerateStubsProductionDebugKotlin-task-current-target-is-1.8-jvm-target-compatibility-should\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KTIJ-24311/&hellip;</a>"},{"owner":{"account_id":92486,"reputation":45195,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"score":1,"creation_date":1674052674,"post_id":75158443,"comment_id":132632771,"body_markdown":"Bit more detail would help triage, but it links here so I guess there&#39;s no need to duplicate all this text there. Note: this is a bug in KGP which is tracked in the KT project, KTIJ is for the IntelliJ problems, this is a Gradle issue (it reproduces in console).","body":"Bit more detail would help triage, but it links here so I guess there&#39;s no need to duplicate all this text there. Note: this is a bug in KGP which is tracked in the KT project, KTIJ is for the IntelliJ problems, this is a Gradle issue (it reproduces in console)."},{"owner":{"account_id":194212,"reputation":2868,"user_id":436417,"display_name":"Uli"},"score":1,"creation_date":1675466468,"post_id":75158443,"comment_id":132942565,"body_markdown":"It is indeed a bug in KGP, but Jetbrains refuses to fix (so far). Guess it&#39;s just a matter of how annoyed Kotlin devs get over it: https://youtrack.jetbrains.com/issue/KT-55947/Unable-to-set-kapt-jvm-target-version\nTo me it sounds like they ran into an issue during their 1.8.0 refactoring, and thought the easy way out would be to break kotlinOptions.jvmTarget support in kapt.","body":"It is indeed a bug in KGP, but Jetbrains refuses to fix (so far). Guess it&#39;s just a matter of how annoyed Kotlin devs get over it: <a href=\"https://youtrack.jetbrains.com/issue/KT-55947/Unable-to-set-kapt-jvm-target-version\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-55947/&hellip;</a> To me it sounds like they ran into an issue during their 1.8.0 refactoring, and thought the easy way out would be to break kotlinOptions.jvmTarget support in kapt."}],"tags":[],"owner":{"account_id":92486,"reputation":45195,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"comment_count":4,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1674735376,"creation_date":1674040807,"answer_id":75158443,"question_id":75109742,"body_markdown":"## Repro\r\n(note: the Google issuetracker doesn&#39;t allow downloading the ZIP, did you check some checkbox there to hide it? There&#39;s nothing secret in the zip &#128521;)\r\n\r\nSo, using the example provided in the [semi-related Gradle issue](https://github.com/gradle/gradle/issues/18935#issuecomment-1386765542) I was able to reproduce with `gradlew assemble`.\r\n\r\n## Investigation\r\nAt this point I&#39;m looking for how kapt task gets the Java version, because it should pick up `kotlinOptions { jvmTarget = &#39;17&#39; }` without question.\r\n\r\n### Source code\r\nFor this I&#39;ll need sources, which are not available when using .gradle files. Konversion of a build.gradle file is necessary so that Android Studio imports the JARs on the plugin classpath under &quot;External Libraries &gt; Kotlin Script dependencies&quot;. This means we can browse the sources of Kotlin, AGP, Gradle. So I changed the root `build.gradle` to `build.gradle.kts` (which imports all related plugins) so it reads:\r\n```gradle\r\nplugins {\r\n    id(&quot;com.android.application&quot;) version &quot;8.0.0-alpha11&quot; apply false\r\n    id(&quot;org.jetbrains.kotlin.android&quot;) version &quot;1.8.0&quot; apply false\r\n}\r\n```\r\n(Tip: one AGP plugin declaration is enough to lock in the version of all `com.android.*` plugins.)\r\n\r\n### Reading code\r\nThe problematic task is `kaptGenerateStubsDebugKotlin`, so the task class name should contain `GenStub` in it, and indeed there&#39;s `org.jetbrains.kotlin.gradle.internal.KaptGenerateStubsTask`, which extends `KotlinCompile`, hello old friend! `KaptGenerateStubsTask.setupCompilerArgs` looks like a good place to start.\r\n\r\n### Debug setup\r\nAt this point it&#39;s easier to read the code while executing as well to see the values, so I started a debugging session:\r\n```shell\r\ngradlew cleanKaptGenerateStubsDebugKotlin assemble --no-daemon -Dorg.gradle.debug=true\r\n```\r\nThen in Android Studio &gt; Run &gt; Edit Configurations... &gt; + &gt; Remote JVM Debug (defaults are good) &gt; OK. And then select the just-created &quot;Unnamed&quot; run config and press the green bug (Debug) button.\r\n\r\n### Debugging notes\r\nBehavior of `setupCompilerArgs`:\r\n * `contributeArguments` does a lot of setup\r\n   * `args.jvmTarget` is null initially\r\n   * `compilerOptions.jvmTarget.get()` is 17 (compilerOptions in this case is kotlinc task)\r\n   * `(compilerOptions as KotlinJvmCompilerOptionsDefault).fillDefaultValues(args)` clears `args.jvmTarget` (was already cleared)\r\n   * `compilerOptions.fillCompilerArguments(args)` sets `args.jvmTarget = compilerOptions.jvmTarget.orNull?.target` (wohoo, we have 17!)\r\n * `(compilerOptions as KotlinJvmCompilerOptionsDefault).fillCompilerArguments(args)`\r\n   * sets `args.jvmTarget = compilerOptions.jvmTarget.orNull?.target` (wtf, we are on `null` again)\r\n\r\n### Conclusion\r\n\r\nSo at this point we know that the problem is that Kapt&#39;s `jvmTarget` doesn&#39;t inherit from the global `kotlinOptions`, this sounds like a KGP bug that only manifests with different targets as in your repro.\r\n\r\nI was curious where this is set, and searching for `jvmTarget.set` yielded `AndroidProjectHandler` which sounds pretty relevant. Looking at the calls to `wireExtensionOptionsToCompilation` they only set up the kotlinCompile, not the kapt task.\r\n\r\n## Workaround\r\n\r\nArmed with this knowledge the only option I see is\r\n```gradle\r\n// TODO remove this once https://youtrack.jetbrains.com/issue/KT-.... is fixed\r\ntasks.withType(org.jetbrains.kotlin.gradle.internal.KaptGenerateStubsTask).configureEach {\r\n    kotlinOptions.jvmTarget = &#39;17&#39;\r\n}\r\n```\r\n(If you don&#39;t want to reference `internal` classes use the Kapt tasks&#39;s superclass `KotlinCompile` instead; that will configure more though, not just the problematic part.)\r\n\r\n## Report\r\n\r\nPlease report this to YouTrack! Only JetBrains is able to fix this at the moment. Sadly I don&#39;t have high hopes for a fix, because Google is in the process of taking over the Android part of KGP (early stages); fingers crossed they won&#39;t reimplement the same problem.\r\n\r\n## Fix\r\nFollowing the [suggestion from JetBrains](https://youtrack.jetbrains.com/issue/KTIJ-24311/task-current-target-is-17-and-kaptGenerateStubsProductionDebugKotlin-task-current-target-is-1.8-jvm-target-compatibility-should#focus=Comments-27-6798448.0-0), this will also solve the issue, however it forces users to use the same JDK and target bytecode version:\r\n```kotlin\r\nkotlin {\r\n    jvmToolchain(17)\r\n}\r\n```\r\n\r\n## Note\r\nKotlin 1.8 added new DSL for setting these things, but only to tasks, it&#39;s not supporting the module level yet, see https://kotlinlang.org/docs/whatsnew18.html#limitations and the big green note above that section.","title":"How to configure kapt to generate Java17 Java stubs in Android Gradle build file","body":"<h2>Repro</h2>\n<p>(note: the Google issuetracker doesn't allow downloading the ZIP, did you check some checkbox there to hide it? There's nothing secret in the zip 😉)</p>\n<p>So, using the example provided in the <a href=\"https://github.com/gradle/gradle/issues/18935#issuecomment-1386765542\" rel=\"noreferrer\">semi-related Gradle issue</a> I was able to reproduce with <code>gradlew assemble</code>.</p>\n<h2>Investigation</h2>\n<p>At this point I'm looking for how kapt task gets the Java version, because it should pick up <code>kotlinOptions { jvmTarget = '17' }</code> without question.</p>\n<h3>Source code</h3>\n<p>For this I'll need sources, which are not available when using .gradle files. Konversion of a build.gradle file is necessary so that Android Studio imports the JARs on the plugin classpath under &quot;External Libraries &gt; Kotlin Script dependencies&quot;. This means we can browse the sources of Kotlin, AGP, Gradle. So I changed the root <code>build.gradle</code> to <code>build.gradle.kts</code> (which imports all related plugins) so it reads:</p>\n<pre><code>plugins {\n    id(&quot;com.android.application&quot;) version &quot;8.0.0-alpha11&quot; apply false\n    id(&quot;org.jetbrains.kotlin.android&quot;) version &quot;1.8.0&quot; apply false\n}\n</code></pre>\n<p>(Tip: one AGP plugin declaration is enough to lock in the version of all <code>com.android.*</code> plugins.)</p>\n<h3>Reading code</h3>\n<p>The problematic task is <code>kaptGenerateStubsDebugKotlin</code>, so the task class name should contain <code>GenStub</code> in it, and indeed there's <code>org.jetbrains.kotlin.gradle.internal.KaptGenerateStubsTask</code>, which extends <code>KotlinCompile</code>, hello old friend! <code>KaptGenerateStubsTask.setupCompilerArgs</code> looks like a good place to start.</p>\n<h3>Debug setup</h3>\n<p>At this point it's easier to read the code while executing as well to see the values, so I started a debugging session:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>gradlew cleanKaptGenerateStubsDebugKotlin assemble --no-daemon -Dorg.gradle.debug=true\n</code></pre>\n<p>Then in Android Studio &gt; Run &gt; Edit Configurations... &gt; + &gt; Remote JVM Debug (defaults are good) &gt; OK. And then select the just-created &quot;Unnamed&quot; run config and press the green bug (Debug) button.</p>\n<h3>Debugging notes</h3>\n<p>Behavior of <code>setupCompilerArgs</code>:</p>\n<ul>\n<li><code>contributeArguments</code> does a lot of setup\n<ul>\n<li><code>args.jvmTarget</code> is null initially</li>\n<li><code>compilerOptions.jvmTarget.get()</code> is 17 (compilerOptions in this case is kotlinc task)</li>\n<li><code>(compilerOptions as KotlinJvmCompilerOptionsDefault).fillDefaultValues(args)</code> clears <code>args.jvmTarget</code> (was already cleared)</li>\n<li><code>compilerOptions.fillCompilerArguments(args)</code> sets <code>args.jvmTarget = compilerOptions.jvmTarget.orNull?.target</code> (wohoo, we have 17!)</li>\n</ul>\n</li>\n<li><code>(compilerOptions as KotlinJvmCompilerOptionsDefault).fillCompilerArguments(args)</code>\n<ul>\n<li>sets <code>args.jvmTarget = compilerOptions.jvmTarget.orNull?.target</code> (wtf, we are on <code>null</code> again)</li>\n</ul>\n</li>\n</ul>\n<h3>Conclusion</h3>\n<p>So at this point we know that the problem is that Kapt's <code>jvmTarget</code> doesn't inherit from the global <code>kotlinOptions</code>, this sounds like a KGP bug that only manifests with different targets as in your repro.</p>\n<p>I was curious where this is set, and searching for <code>jvmTarget.set</code> yielded <code>AndroidProjectHandler</code> which sounds pretty relevant. Looking at the calls to <code>wireExtensionOptionsToCompilation</code> they only set up the kotlinCompile, not the kapt task.</p>\n<h2>Workaround</h2>\n<p>Armed with this knowledge the only option I see is</p>\n<pre><code>// TODO remove this once https://youtrack.jetbrains.com/issue/KT-.... is fixed\ntasks.withType(org.jetbrains.kotlin.gradle.internal.KaptGenerateStubsTask).configureEach {\n    kotlinOptions.jvmTarget = '17'\n}\n</code></pre>\n<p>(If you don't want to reference <code>internal</code> classes use the Kapt tasks's superclass <code>KotlinCompile</code> instead; that will configure more though, not just the problematic part.)</p>\n<h2>Report</h2>\n<p>Please report this to YouTrack! Only JetBrains is able to fix this at the moment. Sadly I don't have high hopes for a fix, because Google is in the process of taking over the Android part of KGP (early stages); fingers crossed they won't reimplement the same problem.</p>\n<h2>Fix</h2>\n<p>Following the <a href=\"https://youtrack.jetbrains.com/issue/KTIJ-24311/task-current-target-is-17-and-kaptGenerateStubsProductionDebugKotlin-task-current-target-is-1.8-jvm-target-compatibility-should#focus=Comments-27-6798448.0-0\" rel=\"noreferrer\">suggestion from JetBrains</a>, this will also solve the issue, however it forces users to use the same JDK and target bytecode version:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>kotlin {\n    jvmToolchain(17)\n}\n</code></pre>\n<h2>Note</h2>\n<p>Kotlin 1.8 added new DSL for setting these things, but only to tasks, it's not supporting the module level yet, see <a href=\"https://kotlinlang.org/docs/whatsnew18.html#limitations\" rel=\"noreferrer\">https://kotlinlang.org/docs/whatsnew18.html#limitations</a> and the big green note above that section.</p>\n"},{"tags":[],"owner":{"account_id":186082,"reputation":4236,"user_id":423199,"accept_rate":99,"display_name":"Hector"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674141683,"creation_date":1674141683,"answer_id":75174487,"question_id":75109742,"body_markdown":"I have updated my version Android Studio to\r\n\r\n    Android Studio Giraffe | 2022.3.1 Canary 1\r\n    Build #AI-223.4884.69.2231.9486165, built on January 13, 2023\r\n    Runtime version: 17.0.5+0-17.0.5b653.23-9410051 x86_64\r\n    VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\r\n    macOS 12.6.1\r\n    GC: G1 Young Generation, G1 Old Generation\r\n    Memory: 4096M\r\n    Cores: 12\r\n    Metal Rendering is ON\r\n    Registry:\r\n        external.system.auto.import.disabled=true\r\n        ide.text.editor.with.preview.show.floating.toolbar=false\r\n        ide.images.show.chessboard=true\r\n    \r\n    Non-Bundled Plugins:\r\n        com.android.aas (3.5.1)\r\n\r\nand upgraded to gradle\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;8.1.0-alpha01&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;8.1.0-alpha01&#39; apply false\r\n        id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.0&#39; apply false\r\n        id &#39;com.google.dagger.hilt.android&#39; version &#39;2.44.2&#39; apply false\r\n    }\r\n    \r\n    tasks.register(&#39;clean&#39;) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\nand gradle wrapper\r\n\r\n    #Tue Oct 25 07:38:32 BST 2022\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionPath=wrapper/dists\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-8.0-rc-1-bin.zip\r\n    zipStoreBase=GRADLE_USER_HOME\r\n    zipStorePath=wrapper/dists\r\n\r\n\r\nall these actions have resulted in the resolution of my issue\r\n","title":"How to configure kapt to generate Java17 Java stubs in Android Gradle build file","body":"<p>I have updated my version Android Studio to</p>\n<pre><code>Android Studio Giraffe | 2022.3.1 Canary 1\nBuild #AI-223.4884.69.2231.9486165, built on January 13, 2023\nRuntime version: 17.0.5+0-17.0.5b653.23-9410051 x86_64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\nmacOS 12.6.1\nGC: G1 Young Generation, G1 Old Generation\nMemory: 4096M\nCores: 12\nMetal Rendering is ON\nRegistry:\n    external.system.auto.import.disabled=true\n    ide.text.editor.with.preview.show.floating.toolbar=false\n    ide.images.show.chessboard=true\n\nNon-Bundled Plugins:\n    com.android.aas (3.5.1)\n</code></pre>\n<p>and upgraded to gradle</p>\n<pre><code>plugins {\n    id 'com.android.application' version '8.1.0-alpha01' apply false\n    id 'com.android.library' version '8.1.0-alpha01' apply false\n    id 'org.jetbrains.kotlin.android' version '1.8.0' apply false\n    id 'com.google.dagger.hilt.android' version '2.44.2' apply false\n}\n\ntasks.register('clean') {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>and gradle wrapper</p>\n<pre><code>#Tue Oct 25 07:38:32 BST 2022\ndistributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-8.0-rc-1-bin.zip\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\n</code></pre>\n<p>all these actions have resulted in the resolution of my issue</p>\n"},{"tags":[],"owner":{"account_id":12806864,"reputation":33,"user_id":17953936,"display_name":"Eugene Myname"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682607702,"creation_date":1682607350,"answer_id":76121853,"question_id":75109742,"body_markdown":"I fixed this problem this way:\r\nin project module build.gradle I have this plugins:\r\n\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;8.0.0&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;8.0.0&#39; apply false\r\n        id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.0&#39; apply false\r\n        id &#39;com.google.dagger.hilt.android&#39; version &#39;2.44&#39; apply false\r\n    }\r\nThose plugins just for information. I didn&#39;t do anything with them.\r\n&lt;br&gt; In **app module** *build.gradle*\r\n&lt;br&gt; I didn&#39;t touched this compileOptions\r\n \r\n\r\n    compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n\r\nI Just added this annotation\r\n\r\n            kotlin {\r\n                    // Or shorter:\r\n                    jvmToolchain(8)\r\n            }\r\n\r\n And commented this annotation\r\n\r\n    //    kotlinOptions {\r\n    //        jvmTarget = &#39;1.8&#39;\r\n    //    }\r\n\r\nAnd in settings.gradle\r\nI added this code in the middle of file:\r\n\r\n    plugins {\r\n        id &#39;org.gradle.toolchains.foojay-resolver-convention&#39; version &#39;0.4.0&#39;\r\n    }\r\n\r\nFound this pieces of code in different sources","title":"How to configure kapt to generate Java17 Java stubs in Android Gradle build file","body":"<p>I fixed this problem this way:\nin project module build.gradle I have this plugins:</p>\n<pre><code>plugins {\n    id 'com.android.application' version '8.0.0' apply false\n    id 'com.android.library' version '8.0.0' apply false\n    id 'org.jetbrains.kotlin.android' version '1.8.0' apply false\n    id 'com.google.dagger.hilt.android' version '2.44' apply false\n}\n</code></pre>\n<p>Those plugins just for information. I didn't do anything with them.\n<br> In <strong>app module</strong> <em>build.gradle</em>\n<br> I didn't touched this compileOptions</p>\n<pre><code>compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n</code></pre>\n<p>I Just added this annotation</p>\n<pre><code>        kotlin {\n                // Or shorter:\n                jvmToolchain(8)\n        }\n</code></pre>\n<p>And commented this annotation</p>\n<pre><code>//    kotlinOptions {\n//        jvmTarget = '1.8'\n//    }\n</code></pre>\n<p>And in settings.gradle\nI added this code in the middle of file:</p>\n<pre><code>plugins {\n    id 'org.gradle.toolchains.foojay-resolver-convention' version '0.4.0'\n}\n</code></pre>\n<p>Found this pieces of code in different sources</p>\n"}],"owner":{"account_id":186082,"reputation":4236,"user_id":423199,"accept_rate":99,"display_name":"Hector"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6503,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":75158443,"answer_count":3,"score":14,"last_activity_date":1682607702,"creation_date":1673615839,"question_id":75109742,"body_markdown":"My current Android project is displaying the following build messages:-\r\n\r\n    &gt; Task :shared:resource:kaptGenerateStubsProductionDebugKotlin\r\n    &#39;compileProductionDebugJavaWithJavac&#39; task (current target is 17) and &#39;kaptGenerateStubsProductionDebugKotlin&#39; task (current target is 1.8) jvm target compatibility should be set to the same Java version.\r\n    By default will become an error since Gradle 8.0+! Read more: https://kotl.in/gradle/jvm/target-validation\r\n    Consider using JVM toolchain: https://kotl.in/gradle/jvm/toolchain\r\n\r\n\r\nHow do you configure kapt to generate stubs in a specific version of java?\r\n\r\nI have tried...\r\n\r\n\r\n    tasks.withType(org.jetbrains.kotlin.gradle.tasks.KaptGenerateStubs).configureEach {\r\n        kotlinJavaToolchain.jdk.use(\r\n                &quot;/usr/local/opt/openjdk@17/libexec/openjdk.jdk/Contents/Home&quot;,\r\n                JavaVersion.VERSION_17\r\n        )\r\n    }\r\n\r\nand\r\n\r\n    kapt {\r\n        javacOptions {\r\n            option(&quot;--target&quot;, 17)\r\n        }\r\n    }\r\n\r\nnone of which made any difference\r\n\r\nIs it possible to control the java version for stubs generated by kapt in an Android project?\r\n\r\nHaving enabled verbose logging in kapt3 I can now see I have configure target correctly\r\n\r\n    Javac options: {--target=17, --source=17}\r\n\r\nand in addition\r\n\r\n    [INFO] All Javac options: {-Adagger.fastInit=enabled=-Adagger.fastInit=enabled, -Adagger.hilt.android.internal.disableAndroidSuperclassValidation=true=-Adagger.hilt.android.internal.disableAndroidSuperclassValidation=true, -Adagger.hilt.android.internal.projectType=LIBRARY=-Adagger.hilt.android.internal.projectType=LIBRARY, -ASomeKaptArgument=ArgumentValue=-ASomeKaptArgument=ArgumentValue, -Akapt.kotlin.generated=/Users/frank/github/mobile-android-practiceupdate/shared/resource/build/generated/source/kaptKotlin/productionDebug=-Akapt.kotlin.generated=/Users/frank/github/mobile-android-practiceupdate/shared/resource/build/generated/source/kaptKotlin/productionDebug, -Adagger.hilt.internal.useAggregatingRootProcessor=false=-Adagger.hilt.internal.useAggregatingRootProcessor=false, --target=17, --source=17, -proc:=only, accessInternalAPI=true,.....\r\n\r\nhowever I still see the above build message\r\n\r\nwhy is kapt ignoring my `javacOptions`?\r\n\r\n\r\nTo recreate this issue:-\r\n\r\nMain project gradle\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;8.0.0-alpha11&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;8.0.0-alpha11&#39; apply false\r\n        id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.0&#39; apply false\r\n        id &#39;com.google.dagger.hilt.android&#39; version &#39;2.44.2&#39; apply false\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\ngradle wrapper\r\n\r\n    #Tue Oct 25 07:38:32 BST 2022\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionPath=wrapper/dists\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.6-bin.zip\r\n    zipStoreBase=GRADLE_USER_HOME\r\n    zipStorePath=wrapper/dists\r\n\r\nGradle JDK\r\n\r\n[![enter image description here][1]][1]\r\n\r\nthen use kapt for say room or hilt in any app or sub module in your project with java version set to 17\r\n\r\n        plugins {\r\n            id &#39;com.android.application&#39;\r\n            id &#39;org.jetbrains.kotlin.android&#39;\r\n            id &#39;dagger.hilt.android.plugin&#39;\r\n            id &quot;org.jetbrains.kotlin.kapt&quot;\r\n        }\r\n        \r\n        android {\r\n            kapt {\r\n                javacOptions {\r\n                    option(&quot;--target&quot;, &quot;17&quot;)\r\n                }\r\n            }\r\n            kotlinOptions {\r\n                jvmTarget = &#39;17&#39;\r\n                freeCompilerArgs += [\r\n                        &quot;-Xcontext-receivers&quot;,\r\n                        &quot;-opt-in=androidx.compose.material3.windowsizeclass.ExperimentalMaterial3WindowSizeClassApi&quot;,\r\n                        &quot;-opt-in=kotlinx.coroutines.ObsoleteCoroutinesApi&quot;]\r\n            }\r\n            compileOptions {\r\n                sourceCompatibility JavaVersion.VERSION_17\r\n                targetCompatibility JavaVersion.VERSION_17\r\n                coreLibraryDesugaringEnabled true\r\n            }\r\n            namespace &#39;com.my.app&#39;\r\n            compileSdk 33\r\n            buildToolsVersion &quot;33.0.1&quot;\r\n        \r\n            defaultConfig {\r\n                applicationId &quot;com.my.app&quot;\r\n                minSdk 26\r\n                targetSdk 33\r\n                versionCode 3\r\n                versionName &quot;3.0&quot;\r\n        \r\n                testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n                vectorDrawables {\r\n                    useSupportLibrary true\r\n                }\r\n            }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        flavorDimensions &quot;default&quot;\r\n        productFlavors {\r\n            development {\r\n                dimension &quot;default&quot;\r\n            }\r\n            staging {\r\n                dimension &quot;default&quot;\r\n            }\r\n            production {\r\n                dimension &quot;default&quot;\r\n            }\r\n        }\r\n         buildFeatures {\r\n            compose true\r\n        }\r\n        composeOptions {\r\n            kotlinCompilerExtensionVersion &#39;1.4.0-dev-k1.8.0-33c0ad36f83&#39;\r\n        }\r\n        packagingOptions {\r\n            resources {\r\n                excludes += &#39;/META-INF/{AL2.0,LGPL2.1}&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        coreLibraryDesugaring &#39;com.android.tools:desugar_jdk_libs:2.0.0&#39;\r\n    \r\n        implementation &#39;org.conscrypt:conscrypt-android:2.5.2&#39;\r\n    \r\n        implementation &#39;com.google.dagger:hilt-android:2.44.2&#39;\r\n        kapt &#39;com.google.dagger:hilt-android-compiler:2.44.2&#39;\r\n        kapt &#39;androidx.hilt:hilt-compiler:1.0.0&#39;\r\n    \r\n    }\r\n\r\nthese are my gradle.properties\r\n\r\n    # Project-wide Gradle settings.\r\n    # IDE (e.g. Android Studio) users:\r\n    # Gradle settings configured through the IDE *will override*\r\n    # any settings specified in this file.\r\n    # For more details on how to configure your build environment visit\r\n    # http://www.gradle.org/docs/current/userguide/build_environment.html\r\n    # Specifies the JVM arguments used for the daemon process.\r\n    # The setting is particularly useful for tweaking memory settings.\r\n    org.gradle.jvmargs=-Xmx8192m -Dfile.encoding=UTF-8\r\n    # When configured, Gradle will run in incubating parallel mode.\r\n    # This option should only be used with decoupled projects. More details, visit\r\n    # http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects\r\n    # org.gradle.parallel=true\r\n    # AndroidX package structure to make it clearer which packages are bundled with the\r\n    # Android operating system, and which are packaged with your app&#39;s APK\r\n    # https://developer.android.com/topic/libraries/support-library/androidx-rn\r\n    android.useAndroidX=true\r\n    android.enableJetifier=true\r\n    # Kotlin code style for this project: &quot;official&quot; or &quot;obsolete&quot;:\r\n    kotlin.code.style=official\r\n    # Enables namespacing of each library&#39;s R class so that its R class includes only the\r\n    # resources declared in the library itself and none from the library&#39;s dependencies,\r\n    # thereby reducing the size of the R class for that library\r\n    android.nonTransitiveRClass=true\r\n    android.defaults.buildfeatures.buildconfig=true\r\n    kapt.verbose=true\r\n    # positive value will enable caching\r\n    # use the same value as the number of modules that use kapt\r\n    kapt.classloaders.cache.size=5\r\n    \r\n    # disable for caching to work\r\n    kapt.include.compile.classpath=false\r\n    kapt.incremental.apt=false\r\n\r\nthe version of android studio is\r\n\r\n    Android Studio Flamingo | 2022.2.1 Canary 11\r\n    Build #AI-222.4459.24.2221.9445173, built on December 30, 2022\r\n    Runtime version: 17.0.4.1+0-17.0.4.1b469.62-9127311 x86_64\r\n    VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\r\n    macOS 12.6.1\r\n    GC: G1 Young Generation, G1 Old Generation\r\n    Memory: 4096M\r\n    Cores: 12\r\n    Metal Rendering is ON\r\n    Registry:\r\n        external.system.auto.import.disabled=true\r\n        ide.text.editor.with.preview.show.floating.toolbar=false\r\n        gradle.version.catalogs.dynamic.support=true\r\n        ide.images.show.chessboard=true\r\n    \r\n    Non-Bundled Plugins:\r\n        com.android.aas (3.5.1)\r\n        com.jetbrains.kmm (0.5.1(222)-30)\r\n\r\nI have created this bug [report][2] with attached example android project\r\n\r\n\r\n**UPDATE**\r\n\r\nby adding this to my project level `build.gradle` file the messages disappeared:-\r\n\r\n\r\n    subprojects {\r\n        tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile) {\r\n            kotlinOptions.jvmTarget = &quot;17&quot;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sxcwH.png\r\n  [2]: https://issuetracker.google.com/issues/265653154","title":"How to configure kapt to generate Java17 Java stubs in Android Gradle build file","body":"<p>My current Android project is displaying the following build messages:-</p>\n<pre><code>&gt; Task :shared:resource:kaptGenerateStubsProductionDebugKotlin\n'compileProductionDebugJavaWithJavac' task (current target is 17) and 'kaptGenerateStubsProductionDebugKotlin' task (current target is 1.8) jvm target compatibility should be set to the same Java version.\nBy default will become an error since Gradle 8.0+! Read more: https://kotl.in/gradle/jvm/target-validation\nConsider using JVM toolchain: https://kotl.in/gradle/jvm/toolchain\n</code></pre>\n<p>How do you configure kapt to generate stubs in a specific version of java?</p>\n<p>I have tried...</p>\n<pre><code>tasks.withType(org.jetbrains.kotlin.gradle.tasks.KaptGenerateStubs).configureEach {\n    kotlinJavaToolchain.jdk.use(\n            &quot;/usr/local/opt/openjdk@17/libexec/openjdk.jdk/Contents/Home&quot;,\n            JavaVersion.VERSION_17\n    )\n}\n</code></pre>\n<p>and</p>\n<pre><code>kapt {\n    javacOptions {\n        option(&quot;--target&quot;, 17)\n    }\n}\n</code></pre>\n<p>none of which made any difference</p>\n<p>Is it possible to control the java version for stubs generated by kapt in an Android project?</p>\n<p>Having enabled verbose logging in kapt3 I can now see I have configure target correctly</p>\n<pre><code>Javac options: {--target=17, --source=17}\n</code></pre>\n<p>and in addition</p>\n<pre><code>[INFO] All Javac options: {-Adagger.fastInit=enabled=-Adagger.fastInit=enabled, -Adagger.hilt.android.internal.disableAndroidSuperclassValidation=true=-Adagger.hilt.android.internal.disableAndroidSuperclassValidation=true, -Adagger.hilt.android.internal.projectType=LIBRARY=-Adagger.hilt.android.internal.projectType=LIBRARY, -ASomeKaptArgument=ArgumentValue=-ASomeKaptArgument=ArgumentValue, -Akapt.kotlin.generated=/Users/frank/github/mobile-android-practiceupdate/shared/resource/build/generated/source/kaptKotlin/productionDebug=-Akapt.kotlin.generated=/Users/frank/github/mobile-android-practiceupdate/shared/resource/build/generated/source/kaptKotlin/productionDebug, -Adagger.hilt.internal.useAggregatingRootProcessor=false=-Adagger.hilt.internal.useAggregatingRootProcessor=false, --target=17, --source=17, -proc:=only, accessInternalAPI=true,.....\n</code></pre>\n<p>however I still see the above build message</p>\n<p>why is kapt ignoring my <code>javacOptions</code>?</p>\n<p>To recreate this issue:-</p>\n<p>Main project gradle</p>\n<pre><code>plugins {\n    id 'com.android.application' version '8.0.0-alpha11' apply false\n    id 'com.android.library' version '8.0.0-alpha11' apply false\n    id 'org.jetbrains.kotlin.android' version '1.8.0' apply false\n    id 'com.google.dagger.hilt.android' version '2.44.2' apply false\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>gradle wrapper</p>\n<pre><code>#Tue Oct 25 07:38:32 BST 2022\ndistributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.6-bin.zip\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\n</code></pre>\n<p>Gradle JDK</p>\n<p><a href=\"https://i.stack.imgur.com/sxcwH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sxcwH.png\" alt=\"enter image description here\" /></a></p>\n<p>then use kapt for say room or hilt in any app or sub module in your project with java version set to 17</p>\n<pre><code>    plugins {\n        id 'com.android.application'\n        id 'org.jetbrains.kotlin.android'\n        id 'dagger.hilt.android.plugin'\n        id &quot;org.jetbrains.kotlin.kapt&quot;\n    }\n    \n    android {\n        kapt {\n            javacOptions {\n                option(&quot;--target&quot;, &quot;17&quot;)\n            }\n        }\n        kotlinOptions {\n            jvmTarget = '17'\n            freeCompilerArgs += [\n                    &quot;-Xcontext-receivers&quot;,\n                    &quot;-opt-in=androidx.compose.material3.windowsizeclass.ExperimentalMaterial3WindowSizeClassApi&quot;,\n                    &quot;-opt-in=kotlinx.coroutines.ObsoleteCoroutinesApi&quot;]\n        }\n        compileOptions {\n            sourceCompatibility JavaVersion.VERSION_17\n            targetCompatibility JavaVersion.VERSION_17\n            coreLibraryDesugaringEnabled true\n        }\n        namespace 'com.my.app'\n        compileSdk 33\n        buildToolsVersion &quot;33.0.1&quot;\n    \n        defaultConfig {\n            applicationId &quot;com.my.app&quot;\n            minSdk 26\n            targetSdk 33\n            versionCode 3\n            versionName &quot;3.0&quot;\n    \n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n            vectorDrawables {\n                useSupportLibrary true\n            }\n        }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    flavorDimensions &quot;default&quot;\n    productFlavors {\n        development {\n            dimension &quot;default&quot;\n        }\n        staging {\n            dimension &quot;default&quot;\n        }\n        production {\n            dimension &quot;default&quot;\n        }\n    }\n     buildFeatures {\n        compose true\n    }\n    composeOptions {\n        kotlinCompilerExtensionVersion '1.4.0-dev-k1.8.0-33c0ad36f83'\n    }\n    packagingOptions {\n        resources {\n            excludes += '/META-INF/{AL2.0,LGPL2.1}'\n        }\n    }\n}\n\ndependencies {\n\n    coreLibraryDesugaring 'com.android.tools:desugar_jdk_libs:2.0.0'\n\n    implementation 'org.conscrypt:conscrypt-android:2.5.2'\n\n    implementation 'com.google.dagger:hilt-android:2.44.2'\n    kapt 'com.google.dagger:hilt-android-compiler:2.44.2'\n    kapt 'androidx.hilt:hilt-compiler:1.0.0'\n\n}\n</code></pre>\n<p>these are my gradle.properties</p>\n<pre><code># Project-wide Gradle settings.\n# IDE (e.g. Android Studio) users:\n# Gradle settings configured through the IDE *will override*\n# any settings specified in this file.\n# For more details on how to configure your build environment visit\n# http://www.gradle.org/docs/current/userguide/build_environment.html\n# Specifies the JVM arguments used for the daemon process.\n# The setting is particularly useful for tweaking memory settings.\norg.gradle.jvmargs=-Xmx8192m -Dfile.encoding=UTF-8\n# When configured, Gradle will run in incubating parallel mode.\n# This option should only be used with decoupled projects. More details, visit\n# http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects\n# org.gradle.parallel=true\n# AndroidX package structure to make it clearer which packages are bundled with the\n# Android operating system, and which are packaged with your app's APK\n# https://developer.android.com/topic/libraries/support-library/androidx-rn\nandroid.useAndroidX=true\nandroid.enableJetifier=true\n# Kotlin code style for this project: &quot;official&quot; or &quot;obsolete&quot;:\nkotlin.code.style=official\n# Enables namespacing of each library's R class so that its R class includes only the\n# resources declared in the library itself and none from the library's dependencies,\n# thereby reducing the size of the R class for that library\nandroid.nonTransitiveRClass=true\nandroid.defaults.buildfeatures.buildconfig=true\nkapt.verbose=true\n# positive value will enable caching\n# use the same value as the number of modules that use kapt\nkapt.classloaders.cache.size=5\n\n# disable for caching to work\nkapt.include.compile.classpath=false\nkapt.incremental.apt=false\n</code></pre>\n<p>the version of android studio is</p>\n<pre><code>Android Studio Flamingo | 2022.2.1 Canary 11\nBuild #AI-222.4459.24.2221.9445173, built on December 30, 2022\nRuntime version: 17.0.4.1+0-17.0.4.1b469.62-9127311 x86_64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\nmacOS 12.6.1\nGC: G1 Young Generation, G1 Old Generation\nMemory: 4096M\nCores: 12\nMetal Rendering is ON\nRegistry:\n    external.system.auto.import.disabled=true\n    ide.text.editor.with.preview.show.floating.toolbar=false\n    gradle.version.catalogs.dynamic.support=true\n    ide.images.show.chessboard=true\n\nNon-Bundled Plugins:\n    com.android.aas (3.5.1)\n    com.jetbrains.kmm (0.5.1(222)-30)\n</code></pre>\n<p>I have created this bug <a href=\"https://issuetracker.google.com/issues/265653154\" rel=\"noreferrer\">report</a> with attached example android project</p>\n<p><strong>UPDATE</strong></p>\n<p>by adding this to my project level <code>build.gradle</code> file the messages disappeared:-</p>\n<pre><code>subprojects {\n    tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile) {\n        kotlinOptions.jvmTarget = &quot;17&quot;\n    }\n}\n</code></pre>\n"},{"tags":["java","fortify","esapi"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1464263495,"post_id":37459945,"comment_id":62419178,"body_markdown":"Do you rely on DNS names for security with this code? If yes, don&#39;t. If not, ignore the warning. It&#39;s not detecting a vulnerability, it detects that your code can has this vulnerability. https://www.owasp.org/index.php/Often_Misused:_Authentication has an example what not to do with those methods.","body":"Do you rely on DNS names for security with this code? If yes, don&#39;t. If not, ignore the warning. It&#39;s not detecting a vulnerability, it detects that your code can has this vulnerability. <a href=\"https://www.owasp.org/index.php/Often_Misused:_Authentication\" rel=\"nofollow noreferrer\">owasp.org/index.php/Often_Misused:_Authentication</a> has an example what not to do with those methods."},{"owner":{"account_id":1101223,"reputation":135,"user_id":1093576,"display_name":"Laxminarayana Challagonda"},"score":0,"creation_date":1486652219,"post_id":37459945,"comment_id":71445973,"body_markdown":"@veera in my case also same issue if you have solution can share it","body":"@veera in my case also same issue if you have solution can share it"},{"owner":{"account_id":1806467,"reputation":317,"user_id":1643489,"accept_rate":0,"display_name":"veera"},"score":0,"creation_date":1487054584,"post_id":37459945,"comment_id":71599421,"body_markdown":"@LaxminarayanaChallagonda For my case i have written separate code for getting host name from command prompt","body":"@LaxminarayanaChallagonda For my case i have written separate code for getting host name from command prompt"},{"owner":{"account_id":1101223,"reputation":135,"user_id":1093576,"display_name":"Laxminarayana Challagonda"},"score":0,"creation_date":1487080655,"post_id":37459945,"comment_id":71615496,"body_markdown":"@veera can you share the solution if you have. are you using the Rumtime class and passing the cmd ? if this is the case we will get the Command Injection fortify issue ??","body":"@veera can you share the solution if you have. are you using the Rumtime class and passing the cmd ? if this is the case we will get the Command Injection fortify issue ??"}],"answers":[{"comments":[{"owner":{"account_id":1101223,"reputation":135,"user_id":1093576,"display_name":"Laxminarayana Challagonda"},"score":0,"creation_date":1489497482,"post_id":40337665,"comment_id":72688204,"body_markdown":"Still issue exists","body":"Still issue exists"},{"owner":{"account_id":961675,"reputation":4991,"user_id":985906,"accept_rate":93,"display_name":"JoshDM"},"score":0,"creation_date":1573959365,"post_id":40337665,"comment_id":104058748,"body_markdown":"The issue will &quot;exist&quot;; Fortify does not recognize the valid testing solution afterwards as valid - you need to False Positive the entry.","body":"The issue will &quot;exist&quot;; Fortify does not recognize the valid testing solution afterwards as valid - you need to False Positive the entry."},{"owner":{"account_id":3902728,"reputation":358,"user_id":3230131,"display_name":"elpezganzo"},"score":0,"creation_date":1659316024,"post_id":40337665,"comment_id":129258683,"body_markdown":"This do not solve the issue: https://vulncat.fortify.com/en/detail?id=desc.semantic.cpp.often_misused_authentication.getlogin#C%23%2FVB.NET%2FASP.NET","body":"This do not solve the issue: <a href=\"https://vulncat.fortify.com/en/detail?id=desc.semantic.cpp.often_misused_authentication.getlogin#C%23%2FVB.NET%2FASP.NET\" rel=\"nofollow noreferrer\">vulncat.fortify.com/en/&hellip;</a>"}],"tags":[],"owner":{"account_id":2995385,"reputation":43,"user_id":2542028,"accept_rate":86,"display_name":"Bhavisankar"},"comment_count":3,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1477896956,"creation_date":1477896626,"answer_id":40337665,"question_id":37459945,"body_markdown":"You can verify whether the request is from a trusted  host\r\n    \r\n    String ip = request.getRemoteAddr(); \r\n    InetAddress addr = InetAddress.getByName(ip); \r\n    if (addr.getCanonicalHostName().endsWith(&quot;trustme.com&quot;)) { \r\n     trusted = true; \r\n    } ","title":"Fortify fix for Often Misused Authentication","body":"<p>You can verify whether the request is from a trusted  host</p>\n\n<pre><code>String ip = request.getRemoteAddr(); \nInetAddress addr = InetAddress.getByName(ip); \nif (addr.getCanonicalHostName().endsWith(\"trustme.com\")) { \n trusted = true; \n} \n</code></pre>\n"},{"comments":[{"owner":{"account_id":1101223,"reputation":135,"user_id":1093576,"display_name":"Laxminarayana Challagonda"},"score":2,"creation_date":1487156379,"post_id":42219567,"comment_id":71653125,"body_markdown":"process = Runtime.getRuntime().exec(commandArray); this line will give you the command injection? if i am not wrong","body":"process = Runtime.getRuntime().exec(commandArray); this line will give you the command injection? if i am not wrong"},{"owner":{"account_id":3698221,"reputation":179,"user_id":6784380,"display_name":"Vishnu Dahatonde"},"score":0,"creation_date":1630653676,"post_id":42219567,"comment_id":122020039,"body_markdown":"As mentioned above by  Leonard. problem is the possibility of DNS spoofing. Getting the address using command line wont solve it.","body":"As mentioned above by  Leonard. problem is the possibility of DNS spoofing. Getting the address using command line wont solve it."}],"tags":[],"owner":{"account_id":1806467,"reputation":317,"user_id":1643489,"accept_rate":0,"display_name":"veera"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1487054718,"creation_date":1487054718,"answer_id":42219567,"question_id":37459945,"body_markdown":"For my case i have re written the code like this\r\n\r\n    \tpublic static String getIPAddress(String hostname) {\r\n\t\tProcess process;\r\n\t\tString ipAddress = null;\r\n\t\tString localIpAddress = null;\r\n\t\tString[] commandArray;\r\n\t\t\r\n\t\tif(System.getProperty(&quot;os.name&quot;).startsWith(&quot;Windows&quot;)) {\r\n\t\t\tcommandArray = new String[] {&quot;cmd&quot;, &quot;/c&quot;, &quot;ping &quot;+hostname+ &quot; -4 | findstr Pinging&quot;}; // For Windows\r\n\t\t} else {\r\n\t\t\tcommandArray = new String[] { &quot;bash&quot;, &quot;-c&quot;, &quot;host &quot;+hostname}; // For Linux and OSX\r\n\t    }\r\n\t        \t\r\n\t\ttry {\r\n\t\t\tprocess = Runtime.getRuntime().exec(commandArray);\r\n\t\t\tBufferedReader stdInput = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n\t\t\tString[] output;\r\n\t         // Reading the output of a command executed.\r\n\t         while ((localIpAddress = stdInput.readLine()) != null) {\r\n\t        \t if(System.getProperty(&quot;os.name&quot;).startsWith(&quot;Windows&quot;)) {\r\n\t        \t\t output = localIpAddress.split(&quot; &quot;);\r\n\t        \t\t ipAddress = output[2].replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).trim();\r\n\t        \t } else {\t        \t \r\n\t        \t\t output = localIpAddress.split(&quot;has address&quot;); \r\n\t        \t\t ipAddress = output[1];\r\n\t        \t }\r\n\t         }\r\n\t\t} catch (IOException e) {\r\n\t\t\torg.owasp.esapi.reference.Log4JLogFactory.getInstance().getLogger(&quot; com.util.esapi.InetAddressWrapper.getIPAddress() &lt;&lt; &quot;+e+&quot; &gt;&gt;&quot;);\r\n\t\t}\r\n\t\treturn ipAddress;\r\n\t}\t\r\n","title":"Fortify fix for Often Misused Authentication","body":"<p>For my case i have re written the code like this</p>\n\n<pre><code>    public static String getIPAddress(String hostname) {\n    Process process;\n    String ipAddress = null;\n    String localIpAddress = null;\n    String[] commandArray;\n\n    if(System.getProperty(\"os.name\").startsWith(\"Windows\")) {\n        commandArray = new String[] {\"cmd\", \"/c\", \"ping \"+hostname+ \" -4 | findstr Pinging\"}; // For Windows\n    } else {\n        commandArray = new String[] { \"bash\", \"-c\", \"host \"+hostname}; // For Linux and OSX\n    }\n\n    try {\n        process = Runtime.getRuntime().exec(commandArray);\n        BufferedReader stdInput = new BufferedReader(new InputStreamReader(process.getInputStream()));\n        String[] output;\n         // Reading the output of a command executed.\n         while ((localIpAddress = stdInput.readLine()) != null) {\n             if(System.getProperty(\"os.name\").startsWith(\"Windows\")) {\n                 output = localIpAddress.split(\" \");\n                 ipAddress = output[2].replace(\"[\", \"\").replace(\"]\", \"\").trim();\n             } else {                \n                 output = localIpAddress.split(\"has address\"); \n                 ipAddress = output[1];\n             }\n         }\n    } catch (IOException e) {\n        org.owasp.esapi.reference.Log4JLogFactory.getInstance().getLogger(\" com.util.esapi.InetAddressWrapper.getIPAddress() &lt;&lt; \"+e+\" &gt;&gt;\");\n    }\n    return ipAddress;\n}   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4848535,"reputation":21,"user_id":3911509,"display_name":"gansvv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526680615,"creation_date":1526680615,"answer_id":50419726,"question_id":37459945,"body_markdown":"Try the InetSocketAddress wrapper, esp., for Elasticsearch Transport Client:\r\n\r\n    new InetSocketAddress(hostname, port)","title":"Fortify fix for Often Misused Authentication","body":"<p>Try the InetSocketAddress wrapper, esp., for Elasticsearch Transport Client:</p>\n\n<pre><code>new InetSocketAddress(hostname, port)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584915834,"creation_date":1584915834,"answer_id":60805652,"question_id":37459945,"body_markdown":"All other answers try to provide workarounds by not using the inbuilt API, but using the command line or something else. However, they miss the actual problem, it is not the API that is problematic here, it is the assumption that DNS can be used for authentication.\r\n\r\nAttackers can [spoof][1], that is falsify, DNS responses pretending to be a valid caller. They can also use [IP address spoofing][2] to appear to be a valid caller without attacking DNS.\r\n\r\nTL;DR don&#39;t use DNS or caller-IP as an authentication source. Instead use SSL/TLS with for an encrypted connection, then you can use [Basic-Authentication][3], [Oauth2][4] or even better [client-certificates aka mTLS][5] instead.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/DNS_spoofing\r\n  [2]: https://en.wikipedia.org/wiki/IP_address_spoofing\r\n  [3]: https://www.rfc-editor.org/rfc/rfc7617\r\n  [4]: https://www.rfc-editor.org/rfc/rfc6750\r\n  [5]: https://en.wikipedia.org/wiki/Mutual_authentication","title":"Fortify fix for Often Misused Authentication","body":"<p>All other answers try to provide workarounds by not using the inbuilt API, but using the command line or something else. However, they miss the actual problem, it is not the API that is problematic here, it is the assumption that DNS can be used for authentication.</p>\n<p>Attackers can <a href=\"https://en.wikipedia.org/wiki/DNS_spoofing\" rel=\"nofollow noreferrer\">spoof</a>, that is falsify, DNS responses pretending to be a valid caller. They can also use <a href=\"https://en.wikipedia.org/wiki/IP_address_spoofing\" rel=\"nofollow noreferrer\">IP address spoofing</a> to appear to be a valid caller without attacking DNS.</p>\n<p>TL;DR don't use DNS or caller-IP as an authentication source. Instead use SSL/TLS with for an encrypted connection, then you can use <a href=\"https://www.rfc-editor.org/rfc/rfc7617\" rel=\"nofollow noreferrer\">Basic-Authentication</a>, <a href=\"https://www.rfc-editor.org/rfc/rfc6750\" rel=\"nofollow noreferrer\">Oauth2</a> or even better <a href=\"https://en.wikipedia.org/wiki/Mutual_authentication\" rel=\"nofollow noreferrer\">client-certificates aka mTLS</a> instead.</p>\n"}],"owner":{"account_id":1806467,"reputation":317,"user_id":1643489,"accept_rate":0,"display_name":"veera"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21003,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1682607434,"creation_date":1464263058,"question_id":37459945,"body_markdown":"When I scan using Fortify I have vulnerabilities like &quot;Often Misused: Authentication&quot; in the code below. Is there any fix for this issue?\r\nI have seen related posts but I was not able to get a solution. Using ESAPI, I have provided a regex for hostname and ipadress but it does not work.\r\n\r\n```java\r\naddr.getHostAddress()\r\njava.net.InetAddress.getByName(nameServiceHost);\r\njava.net.InetAddress.getLocalHost().getCanonicalHostName()\r\nlocalhost.getHostName()\r\n```","title":"Fortify fix for Often Misused Authentication","body":"<p>When I scan using Fortify I have vulnerabilities like &quot;Often Misused: Authentication&quot; in the code below. Is there any fix for this issue?\nI have seen related posts but I was not able to get a solution. Using ESAPI, I have provided a regex for hostname and ipadress but it does not work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>addr.getHostAddress()\njava.net.InetAddress.getByName(nameServiceHost);\njava.net.InetAddress.getLocalHost().getCanonicalHostName()\nlocalhost.getHostName()\n</code></pre>\n"},{"tags":["java","spring-boot","microservices","circuit-breaker"],"comments":[{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1684220333,"post_id":76121829,"comment_id":134481524,"body_markdown":"Does this help ? https://stackoverflow.com/questions/65181495/bean-creation-error-when-starting-spring-boot-application","body":"Does this help ? <a href=\"https://stackoverflow.com/questions/65181495/bean-creation-error-when-starting-spring-boot-application\" title=\"bean creation error when starting spring boot application\">stackoverflow.com/questions/65181495/&hellip;</a>"},{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1684220354,"post_id":76121829,"comment_id":134481531,"body_markdown":"Does this answer your question? [bean creation error when starting spring boot application](https://stackoverflow.com/questions/65181495/bean-creation-error-when-starting-spring-boot-application)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/65181495/bean-creation-error-when-starting-spring-boot-application\">bean creation error when starting spring boot application</a>"}],"owner":{"account_id":9210277,"reputation":201,"user_id":6843798,"display_name":"S.R.D"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682607231,"creation_date":1682607231,"question_id":76121829,"body_markdown":"&gt; Need help, While starting project i am getting error please see the error log i have attached\r\n&gt; \r\n&gt; Pom.xml\r\n\r\n      \r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.hp.it.psoit&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;occ-api-ms&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \t&lt;name&gt;occ-api-ms&lt;/name&gt;\r\n    \t&lt;version&gt;v1&lt;/version&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t\t&lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n    \t\t&lt;jackson-datatype-threetenbp.version&gt;2.13.0-rc2&lt;/jackson-datatype-threetenbp.version&gt;\r\n    \t\t&lt;commonlib.version&gt;0.4.83&lt;/commonlib.version&gt;\r\n    \t\t&lt;java-jwt.version&gt;4.2.1&lt;/java-jwt.version&gt;\r\n    \t\t&lt;jwks-rsa.version&gt;0.22.0&lt;/jwks-rsa.version&gt;\r\n    \t\t&lt;resilience4j.version&gt;1.0.6.RELEASE&lt;/resilience4j.version&gt;\r\n    \t\t&lt;collections4.version&gt;4.4&lt;/collections4.version&gt;\r\n    \t\t&lt;http-client-spi.version&gt;2.20.25&lt;/http-client-spi.version&gt;\r\n    \t\t&lt;aws-crt.version&gt;0.21.8&lt;/aws-crt.version&gt;\r\n    \t\t&lt;aws-crt-client.version&gt;2.20.25&lt;/aws-crt-client.version&gt;\r\n    \t\t&lt;sdk-core.version&gt;2.20.25&lt;/sdk-core.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.hp.os&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commonlib&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${commonlib.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;netty-all&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.github.joschi.jackson&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-datatype-threetenbp&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jackson-datatype-threetenbp.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${java-jwt.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jwks-rsa&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jwks-rsa.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;caffeine&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-circuitbreaker-reactor-resilience4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${resilience4j.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${collections4.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;http-client-spi&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${http-client-spi.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;software.amazon.awssdk.crt&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aws-crt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${aws-crt.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aws-crt-client&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${aws-crt-client.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;sdk-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${sdk-core.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n&gt; Application.Java\r\n&gt; ===============\r\n\r\n    \r\n\r\nimport org.springframework.boot.SpringApplication;\r\n    import org.springframework.web.reactive.config.EnableWebFlux;\r\n    \r\n    \r\n    @EnableWebFlux\r\n    public class Application {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n&gt; ======\r\n&gt; Error log\r\n\r\n    \r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;configurationPropertiesBeans&#39; defined in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]: Post-processing of merged bean definition failed\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:576) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:273) ~[spring-context-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:761) ~[spring-context-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:568) ~[spring-context-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:150) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:212) ~[spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\r\n    \tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:117) ~[spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\r\n    \tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:74) ~[spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131) ~[spring-context-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:352) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat com.hp.it.psoit.ctrms.Application.main(Application.java:11) ~[classes/:na]\r\n    Caused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@659e0bfd]\r\n    \tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483) ~[spring-core-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:320) ~[spring-core-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.buildLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:267) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.findLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:245) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.findInjectionMetadata(InitDestroyAnnotationBeanPostProcessor.java:176) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(InitDestroyAnnotationBeanPostProcessor.java:156) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(CommonAnnotationBeanPostProcessor.java:276) ~[spring-context-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1082) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \t... 31 common frames omitted\r\n    Caused by: java.lang.NoClassDefFoundError: org/springframework/boot/context/properties/ConfigurationBeanFactoryMetadata\r\n    \tat java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\r\n    \tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402) ~[na:na]\r\n    \tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2504) ~[na:na]\r\n    \tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465) ~[spring-core-6.0.4.jar:6.0.4]\r\n    \t... 39 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.boot.context.properties.ConfigurationBeanFactoryMetadata\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n    \t... 43 common frames omitted\r\n\r\n\r\n","title":"Error creating bean with name &#39;configurationPropertiesBeans&#39; defined in class path resource","body":"<blockquote>\n<p>Need help, While starting project i am getting error please see the error log i have attached</p>\n<p>Pom.xml</p>\n</blockquote>\n\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.hp.it.psoit&lt;/groupId&gt;\n    &lt;artifactId&gt;occ-api-ms&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;occ-api-ms&lt;/name&gt;\n    &lt;version&gt;v1&lt;/version&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n        &lt;jackson-datatype-threetenbp.version&gt;2.13.0-rc2&lt;/jackson-datatype-threetenbp.version&gt;\n        &lt;commonlib.version&gt;0.4.83&lt;/commonlib.version&gt;\n        &lt;java-jwt.version&gt;4.2.1&lt;/java-jwt.version&gt;\n        &lt;jwks-rsa.version&gt;0.22.0&lt;/jwks-rsa.version&gt;\n        &lt;resilience4j.version&gt;1.0.6.RELEASE&lt;/resilience4j.version&gt;\n        &lt;collections4.version&gt;4.4&lt;/collections4.version&gt;\n        &lt;http-client-spi.version&gt;2.20.25&lt;/http-client-spi.version&gt;\n        &lt;aws-crt.version&gt;0.21.8&lt;/aws-crt.version&gt;\n        &lt;aws-crt-client.version&gt;2.20.25&lt;/aws-crt-client.version&gt;\n        &lt;sdk-core.version&gt;2.20.25&lt;/sdk-core.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.hp.os&lt;/groupId&gt;\n            &lt;artifactId&gt;commonlib&lt;/artifactId&gt;\n            &lt;version&gt;${commonlib.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.netty&lt;/groupId&gt;\n            &lt;artifactId&gt;netty-all&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.joschi.jackson&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-threetenbp&lt;/artifactId&gt;\n            &lt;version&gt;${jackson-datatype-threetenbp.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n            &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\n            &lt;version&gt;${java-jwt.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n            &lt;artifactId&gt;jwks-rsa&lt;/artifactId&gt;\n            &lt;version&gt;${jwks-rsa.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\n            &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-circuitbreaker-reactor-resilience4j&lt;/artifactId&gt;\n            &lt;version&gt;${resilience4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n            &lt;version&gt;${collections4.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;http-client-spi&lt;/artifactId&gt;\n            &lt;version&gt;${http-client-spi.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk.crt&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-crt&lt;/artifactId&gt;\n            &lt;version&gt;${aws-crt.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-crt-client&lt;/artifactId&gt;\n            &lt;version&gt;${aws-crt-client.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;sdk-core&lt;/artifactId&gt;\n            &lt;version&gt;${sdk-core.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<blockquote>\n<h1>Application.Java</h1>\n</blockquote>\n<p>import org.springframework.boot.SpringApplication;\nimport org.springframework.web.reactive.config.EnableWebFlux;</p>\n<pre><code>@EnableWebFlux\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n}\n</code></pre>\n<blockquote>\n<p>======\nError log</p>\n</blockquote>\n<p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'configurationPropertiesBeans' defined in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]: Post-processing of merged bean definition failed\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:576) ~[spring-beans-6.0.4.jar:6.0.4]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.0.4.jar:6.0.4]\nat org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:273) ~[spring-context-6.0.4.jar:6.0.4]\nat org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:761) ~[spring-context-6.0.4.jar:6.0.4]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:568) ~[spring-context-6.0.4.jar:6.0.4]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\nat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:150) ~[spring-boot-3.0.2.jar:3.0.2]\nat org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:212) ~[spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\nat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:117) ~[spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\nat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:74) ~[spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\nat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-6.0.4.jar:6.0.4]\nat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-6.0.4.jar:6.0.4]\nat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-6.0.4.jar:6.0.4]\nat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131) ~[spring-context-6.0.4.jar:6.0.4]\nat org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136) ~[spring-boot-3.0.2.jar:3.0.2]\nat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81) ~[spring-boot-3.0.2.jar:3.0.2]\nat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64) ~[spring-boot-3.0.2.jar:3.0.2]\nat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\nat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118) ~[spring-boot-3.0.2.jar:3.0.2]\nat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112) ~[spring-boot-3.0.2.jar:3.0.2]\nat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63) ~[spring-boot-3.0.2.jar:3.0.2]\nat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:352) ~[spring-boot-3.0.2.jar:3.0.2]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-3.0.2.jar:3.0.2]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\nat com.hp.it.psoit.ctrms.Application.main(Application.java:11) ~[classes/:na]\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@659e0bfd]\nat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483) ~[spring-core-6.0.4.jar:6.0.4]\nat org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:320) ~[spring-core-6.0.4.jar:6.0.4]\nat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.buildLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:267) ~[spring-beans-6.0.4.jar:6.0.4]\nat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.findLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:245) ~[spring-beans-6.0.4.jar:6.0.4]\nat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.findInjectionMetadata(InitDestroyAnnotationBeanPostProcessor.java:176) ~[spring-beans-6.0.4.jar:6.0.4]\nat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(InitDestroyAnnotationBeanPostProcessor.java:156) ~[spring-beans-6.0.4.jar:6.0.4]\nat org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(CommonAnnotationBeanPostProcessor.java:276) ~[spring-context-6.0.4.jar:6.0.4]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1082) ~[spring-beans-6.0.4.jar:6.0.4]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573) ~[spring-beans-6.0.4.jar:6.0.4]\n... 31 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/springframework/boot/context/properties/ConfigurationBeanFactoryMetadata\nat java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\nat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402) ~[na:na]\nat java.base/java.lang.Class.getDeclaredMethods(Class.java:2504) ~[na:na]\nat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465) ~[spring-core-6.0.4.jar:6.0.4]\n... 39 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.context.properties.ConfigurationBeanFactoryMetadata\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n... 43 common frames omitted</p>\n"},{"tags":["java","file","file-io","text-files"],"answers":[{"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1315128713,"post_id":1053472,"comment_id":8793147,"body_markdown":"@XP1 I know, that&#39;s a great improvement. I&#39;ve used Lombok for this in Java 6: just go `@Cleanup new FileOutputStream(...)` and you&#39;re done.","body":"@XP1 I know, that&#39;s a great improvement. I&#39;ve used Lombok for this in Java 6: just go <code>@Cleanup new FileOutputStream(...)</code> and you&#39;re done."},{"owner":{"account_id":5405894,"reputation":1357,"user_id":4304439,"accept_rate":100,"display_name":"Alex Byrth"},"score":8,"creation_date":1452475008,"post_id":1053472,"comment_id":57172036,"body_markdown":"Don&#39;t forget to call out.flush(); then out.close();","body":"Don&#39;t forget to call out.flush(); then out.close();"},{"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"score":0,"creation_date":1536684686,"post_id":1053472,"comment_id":91509396,"body_markdown":"@AlexByrth why should he?","body":"@AlexByrth why should he?"},{"owner":{"account_id":5405894,"reputation":1357,"user_id":4304439,"accept_rate":100,"display_name":"Alex Byrth"},"score":1,"creation_date":1536775839,"post_id":1053472,"comment_id":91550021,"body_markdown":"Large files are recorded in the background (another thread) and take time to record. Calling flush () ensures that everything has been written on the next line, synchronizing the operation. But this is *optional*, but good practice if you handle large files, as logs.","body":"Large files are recorded in the background (another thread) and take time to record. Calling flush () ensures that everything has been written on the next line, synchronizing the operation. But this is <i>optional</i>, but good practice if you handle large files, as logs."},{"owner":{"account_id":9812868,"reputation":105,"user_id":7270356,"accept_rate":86,"display_name":"hjk321"},"score":2,"creation_date":1577770697,"post_id":1053472,"comment_id":105249543,"body_markdown":"Note that out.close() already flushes the stream, which means it is not necessary to call out.flush().","body":"Note that out.close() already flushes the stream, which means it is not necessary to call out.flush()."},{"owner":{"account_id":105793,"reputation":5303,"user_id":282105,"accept_rate":90,"display_name":"SandRock"},"score":0,"creation_date":1701104389,"post_id":1053472,"comment_id":136730953,"body_markdown":"What about the string encoding? Best practices ask to always specify the encoding.","body":"What about the string encoding? Best practices ask to always specify the encoding."}],"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":6,"down_vote_count":3,"up_vote_count":117,"is_accepted":false,"score":114,"last_activity_date":1394570139,"creation_date":1246131610,"answer_id":1053472,"question_id":1053467,"body_markdown":"Take a look at the [Java File API][1]\r\n\r\na quick example:\r\n\r\n    try (PrintStream out = new PrintStream(new FileOutputStream(&quot;filename.txt&quot;))) {\r\n    \tout.print(text);\r\n    }\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/io/File.html","title":"How do I save a String to a text file using Java?","body":"<p>Take a look at the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/io/File.html\" rel=\"noreferrer\">Java File API</a></p>\n\n<p>a quick example:</p>\n\n<pre><code>try (PrintStream out = new PrintStream(new FileOutputStream(\"filename.txt\"))) {\n    out.print(text);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":20,"creation_date":1246133080,"post_id":1053473,"comment_id":865151,"body_markdown":"I couldn&#39;t disagree more. These libraries are there so we don&#39;t introduce subtle bugs in such a simple solution.","body":"I couldn&#39;t disagree more. These libraries are there so we don&#39;t introduce subtle bugs in such a simple solution."},{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":1,"creation_date":1246137796,"post_id":1053473,"comment_id":865298,"body_markdown":"Would you suggest that he go back and re-implement java.file.IO and java.io.PrintStream in raw C? Of course not. You use the java.io abstractions, and save your effort for real problems. And Commons IO is a better abstraction than java.io when it comes to this particular problem.","body":"Would you suggest that he go back and re-implement java.file.IO and java.io.PrintStream in raw C? Of course not. You use the java.io abstractions, and save your effort for real problems. And Commons IO is a better abstraction than java.io when it comes to this particular problem."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":3,"creation_date":1246137924,"post_id":1053473,"comment_id":865305,"body_markdown":"No, obviously not.  I&#39;m only disagreeing that your solution might not be the first thing I&#39;d throw at someone who&#39;s a beginner Java programmer.  You aren&#39;t suggesting that you&#39;ve never written such a thing, are you?","body":"No, obviously not.  I&#39;m only disagreeing that your solution might not be the first thing I&#39;d throw at someone who&#39;s a beginner Java programmer.  You aren&#39;t suggesting that you&#39;ve never written such a thing, are you?"},{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":8,"creation_date":1246138836,"post_id":1053473,"comment_id":865343,"body_markdown":"I have, yes, but that&#39;s before I found commons-io. Since finding that, I&#39;ve never written that sort of thing by hand, even in a one-class project. If I&#39;d known about it from day one, I&#39;d have used it from day one.","body":"I have, yes, but that&#39;s before I found commons-io. Since finding that, I&#39;ve never written that sort of thing by hand, even in a one-class project. If I&#39;d known about it from day one, I&#39;d have used it from day one."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":5,"creation_date":1246139101,"post_id":1053473,"comment_id":865362,"body_markdown":"Exactly, but you&#39;re an experienced developer.  Your bio says your a JBOSS/Spring user, but certainly you wouldn&#39;t have been up to either one in your first &quot;Hello, World&quot; effort.  I&#39;m not disagreeing with the proper use of libraries.  I&#39;m saying that people attempting a language for the first time should try to know it at its bottom, even if that means doing things that they&#39;ll discard later on when they&#39;re experienced and know better.","body":"Exactly, but you&#39;re an experienced developer.  Your bio says your a JBOSS/Spring user, but certainly you wouldn&#39;t have been up to either one in your first &quot;Hello, World&quot; effort.  I&#39;m not disagreeing with the proper use of libraries.  I&#39;m saying that people attempting a language for the first time should try to know it at its bottom, even if that means doing things that they&#39;ll discard later on when they&#39;re experienced and know better."},{"owner":{"account_id":130801,"reputation":1671,"user_id":330337,"accept_rate":71,"display_name":"SilentNot"},"score":2,"creation_date":1397497330,"post_id":1053473,"comment_id":35249392,"body_markdown":"I implemented this without commons and got a less than obvious exception thrown.  I then implemented this using commons and it told me exactly what was wrong.  Moral of the story: why live in the dark ages if you don&#39;t have to?","body":"I implemented this without commons and got a less than obvious exception thrown.  I then implemented this using commons and it told me exactly what was wrong.  Moral of the story: why live in the dark ages if you don&#39;t have to?"},{"owner":{"account_id":105525,"reputation":32628,"user_id":281545,"accept_rate":85,"display_name":"Mr_and_Mrs_D"},"score":0,"creation_date":1397745771,"post_id":1053473,"comment_id":35373864,"body_markdown":"@duffymo: well Commons way now moved to [Java 7](http://stackoverflow.com/a/22445604/281545) anyway :D","body":"@duffymo: well Commons way now moved to <a href=\"http://stackoverflow.com/a/22445604/281545\">Java 7</a> anyway :D"},{"owner":{"account_id":4061724,"reputation":352,"user_id":3338091,"display_name":"Sergio A."},"score":0,"creation_date":1562240004,"post_id":1053473,"comment_id":100321064,"body_markdown":"+1 for using a well-known library. We still need answers &quot;from the bottom&quot; and oriented to &quot;experienced&quot; developers","body":"+1 for using a well-known library. We still need answers &quot;from the bottom&quot; and oriented to &quot;experienced&quot; developers"}],"tags":[],"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"comment_count":8,"down_vote_count":4,"up_vote_count":74,"is_accepted":false,"score":70,"last_activity_date":1371194836,"creation_date":1246131622,"answer_id":1053473,"question_id":1053467,"body_markdown":"Use `FileUtils.writeStringToFile()` from [Apache Commons IO][1]. No need to reinvent this particular wheel.\r\n\r\n\r\n  [1]: http://commons.apache.org/io","title":"How do I save a String to a text file using Java?","body":"<p>Use <code>FileUtils.writeStringToFile()</code> from <a href=\"http://commons.apache.org/io\" rel=\"noreferrer\">Apache Commons IO</a>. No need to reinvent this particular wheel.</p>\n"},{"comments":[{"owner":{"account_id":36459,"reputation":40877,"user_id":104014,"accept_rate":89,"display_name":"Artem Barger"},"score":4,"creation_date":1246132010,"post_id":1053474,"comment_id":865111,"body_markdown":"Removing all try/catch and simplify it I&#39;m also able to do it in one line just by doing the: (new BufferedWriter( new FileWriter( filename))).write(str);","body":"Removing all try/catch and simplify it I&#39;m also able to do it in one line just by doing the: (new BufferedWriter( new FileWriter( filename))).write(str);"},{"owner":{"account_id":18313,"reputation":13576,"user_id":41861,"accept_rate":62,"display_name":"Adrian Pronk"},"score":0,"creation_date":1321942131,"post_id":1053474,"comment_id":10110871,"body_markdown":"Wrapping a FileWriter in a BufferedWriter is superfluous when you&#39;re writing out the entire file in a single `write()` call.","body":"Wrapping a FileWriter in a BufferedWriter is superfluous when you&#39;re writing out the entire file in a single <code>write()</code> call."},{"owner":{"account_id":171717,"reputation":70899,"user_id":399317,"accept_rate":77,"display_name":"Kos"},"score":2,"creation_date":1339670597,"post_id":1053474,"comment_id":14424061,"body_markdown":"It seems that `.close()` doesn&#39;t throw (at least in Java 7?), is the last trycatch perhaps redundant?","body":"It seems that <code>.close()</code> doesn&#39;t throw (at least in Java 7?), is the last trycatch perhaps redundant?"},{"owner":{"account_id":1107571,"reputation":3147,"user_id":1104885,"display_name":"Roger Keays"},"score":17,"creation_date":1360609515,"post_id":1053474,"comment_id":20759143,"body_markdown":"Swallowing exceptions like that is going to make life hard for you when exceptions really do occur. At the very least you should rethrow them: `throw new RuntimeException(e);`","body":"Swallowing exceptions like that is going to make life hard for you when exceptions really do occur. At the very least you should rethrow them: <code>throw new RuntimeException(e);</code>"}],"tags":[],"owner":{"account_id":36459,"reputation":40877,"user_id":104014,"accept_rate":89,"display_name":"Artem Barger"},"comment_count":4,"down_vote_count":3,"up_vote_count":86,"is_accepted":false,"score":83,"last_activity_date":1640718307,"creation_date":1246131739,"answer_id":1053474,"question_id":1053467,"body_markdown":"Just did something similar in my project. Use [FileWriter][1] will simplify part of your job. And here you can find nice [tutorial][2].\r\n\r\n    BufferedWriter writer = null;\r\n    try\r\n    {\r\n        writer = new BufferedWriter( new FileWriter( yourfilename));\r\n        writer.write( yourstring);\r\n\r\n    }\r\n    catch ( IOException e)\r\n    {\r\n    }\r\n    finally\r\n    {\r\n        try\r\n        {\r\n            if ( writer != null)\r\n            writer.close( );\r\n        }\r\n        catch ( IOException e)\r\n        {\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/io/FileWriter.html\r\n  [2]: http://tutorials.jenkov.com/java-io/index.html","title":"How do I save a String to a text file using Java?","body":"<p>Just did something similar in my project. Use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/FileWriter.html\" rel=\"nofollow noreferrer\">FileWriter</a> will simplify part of your job. And here you can find nice <a href=\"http://tutorials.jenkov.com/java-io/index.html\" rel=\"nofollow noreferrer\">tutorial</a>.</p>\n<pre><code>BufferedWriter writer = null;\ntry\n{\n    writer = new BufferedWriter( new FileWriter( yourfilename));\n    writer.write( yourstring);\n\n}\ncatch ( IOException e)\n{\n}\nfinally\n{\n    try\n    {\n        if ( writer != null)\n        writer.close( );\n    }\n    catch ( IOException e)\n    {\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":43356,"reputation":8333,"user_id":126680,"display_name":"Justin White"},"score":0,"creation_date":1246137486,"post_id":1053475,"comment_id":865289,"body_markdown":"What&#39;s exception handling? Where will this file be saved?","body":"What&#39;s exception handling? Where will this file be saved?"},{"owner":{"account_id":41913,"reputation":23328,"user_id":121971,"display_name":"Jeremy Smyth"},"score":0,"creation_date":1246138976,"post_id":1053475,"comment_id":865353,"body_markdown":"it&#39;ll be saved in the current directory, whatever that is as far as the JVM is concerned. Exception handling is the try{} catch(){} stuff you see in other answers :)","body":"it&#39;ll be saved in the current directory, whatever that is as far as the JVM is concerned. Exception handling is the try{} catch(){} stuff you see in other answers :)"},{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":4,"creation_date":1246179289,"post_id":1053475,"comment_id":866231,"body_markdown":"@Justin, you could also pass an absolute path (e.g. &quot;/tmp/filename.txt&quot;) to the FileOutputStream constructor, to save the file anywhere you want","body":"@Justin, you could also pass an absolute path (e.g. &quot;/tmp/filename.txt&quot;) to the FileOutputStream constructor, to save the file anywhere you want"},{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":8,"creation_date":1246206125,"post_id":1053475,"comment_id":866871,"body_markdown":"Btw, this could be simplified using the convenience constructors PrintStream has had since 1.5. This would suffice: PrintStream out = new PrintStream(&quot;filename.txt&quot;);","body":"Btw, this could be simplified using the convenience constructors PrintStream has had since 1.5. This would suffice: PrintStream out = new PrintStream(&quot;filename.txt&quot;);"},{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":0,"creation_date":1246206578,"post_id":1053475,"comment_id":866880,"body_markdown":"Futhermore, as we&#39;re outputting text, PrintWriter would be more appropriate, and just as convenient. From PrintStream javadocs: &quot;The PrintWriter class should be used in situations that require writing characters rather than bytes.&quot;","body":"Futhermore, as we&#39;re outputting text, PrintWriter would be more appropriate, and just as convenient. From PrintStream javadocs: &quot;The PrintWriter class should be used in situations that require writing characters rather than bytes.&quot;"},{"owner":{"account_id":47064,"reputation":444,"user_id":139271,"display_name":"JStrahl"},"score":10,"creation_date":1340352222,"post_id":1053475,"comment_id":14622883,"body_markdown":"Need to close that file though at some point...?  http://www.codecodex.com/wiki/ASCII_file_save#Java","body":"Need to close that file though at some point...?  <a href=\"http://www.codecodex.com/wiki/ASCII_file_save#Java\" rel=\"nofollow noreferrer\">codecodex.com/wiki/ASCII_file_save#Java</a>"},{"owner":{"account_id":116952,"reputation":21661,"user_id":306488,"accept_rate":78,"display_name":"lisak"},"score":0,"creation_date":1346762147,"post_id":1053475,"comment_id":16442535,"body_markdown":"new PrintWriter(file).println(output); results in 0 byte file. Output is a string of 6000 chars...No matter if the file exists already or not...","body":"new PrintWriter(file).println(output); results in 0 byte file. Output is a string of 6000 chars...No matter if the file exists already or not..."},{"owner":{"account_id":41913,"reputation":23328,"user_id":121971,"display_name":"Jeremy Smyth"},"score":0,"creation_date":1375363266,"post_id":1053475,"comment_id":26311443,"body_markdown":"@Sloin @Devolus Did you make sure to call `out.close()`? It writes an empty file if the PrintWriter is garbage-collected before it&#39;s flushed or closed, but if you `close()` it correctly it writes the file.","body":"@Sloin @Devolus Did you make sure to call <code>out.close()</code>? It writes an empty file if the PrintWriter is garbage-collected before it&#39;s flushed or closed, but if you <code>close()</code> it correctly it writes the file."},{"owner":{"account_id":2392528,"reputation":2186,"user_id":2092109,"accept_rate":83,"display_name":"Benas"},"score":3,"creation_date":1407936865,"post_id":1053475,"comment_id":39408196,"body_markdown":"You want to use  try{} catch(){}finally{}, where in finally{} you close the file if it is not null.","body":"You want to use  try{} catch(){}finally{}, where in finally{} you close the file if it is not null."},{"owner":{"account_id":193757,"reputation":1776,"user_id":435680,"display_name":"Anton Chikin"},"score":27,"creation_date":1423239290,"post_id":1053475,"comment_id":45080733,"body_markdown":"In java8 you can try(PrintStream ps = new PrintStream(&quot;filename&quot;)) { ps.println(out); } this will handle close for you","body":"In java8 you can try(PrintStream ps = new PrintStream(&quot;filename&quot;)) { ps.println(out); } this will handle close for you"},{"owner":{"account_id":3484890,"reputation":1282,"user_id":2916086,"display_name":"yegeniy"},"score":1,"creation_date":1426600109,"post_id":1053475,"comment_id":46431737,"body_markdown":"Regarding @AntonChikin comment above: you can also do this in Java 7","body":"Regarding @AntonChikin comment above: you can also do this in Java 7"},{"owner":{"account_id":8437558,"reputation":147,"user_id":6331235,"display_name":"Srinivas Nangana"},"score":0,"creation_date":1661359795,"post_id":1053475,"comment_id":129755814,"body_markdown":"out.flush(); after this line only i can see data in my file","body":"out.flush(); after this line only i can see data in my file"},{"owner":{"account_id":105793,"reputation":5303,"user_id":282105,"accept_rate":90,"display_name":"SandRock"},"score":0,"creation_date":1701104123,"post_id":1053475,"comment_id":136730898,"body_markdown":"What string encoding does this use?","body":"What string encoding does this use?"}],"tags":[],"owner":{"account_id":41913,"reputation":23328,"user_id":121971,"display_name":"Jeremy Smyth"},"comment_count":13,"down_vote_count":3,"up_vote_count":818,"is_accepted":false,"score":815,"last_activity_date":1682607022,"creation_date":1246131802,"answer_id":1053475,"question_id":1053467,"body_markdown":"If you&#39;re simply outputting text, rather than any binary data, the following will work:\r\n\r\n    PrintWriter out = new PrintWriter(&quot;filename.txt&quot;);\r\n\r\nThen, write your String to it, just like you would to any output stream:\r\n\r\n    out.println(text);\r\n\r\nYou&#39;ll need exception handling, as ever. Be sure to close the output stream when you&#39;ve finished writing.\r\n\r\n    out.close()\r\n\r\nIf you are using Java 7 or later, you can use the &quot;&lt;a href=&quot;https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html&quot;&gt;try-with-resources statement&lt;/a&gt;&quot; which will automatically close your `PrintStream` when you are done with it (ie exit the block) like so:\r\n\r\n    try (PrintWriter out = new PrintWriter(&quot;filename.txt&quot;)) {\r\n        out.println(text);\r\n    }\r\n\r\nYou will still need to explicitly throw the `java.io.FileNotFoundException` as before.","title":"How do I save a String to a text file using Java?","body":"<p>If you're simply outputting text, rather than any binary data, the following will work:</p>\n<pre><code>PrintWriter out = new PrintWriter(&quot;filename.txt&quot;);\n</code></pre>\n<p>Then, write your String to it, just like you would to any output stream:</p>\n<pre><code>out.println(text);\n</code></pre>\n<p>You'll need exception handling, as ever. Be sure to close the output stream when you've finished writing.</p>\n<pre><code>out.close()\n</code></pre>\n<p>If you are using Java 7 or later, you can use the &quot;<a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources statement</a>&quot; which will automatically close your <code>PrintStream</code> when you are done with it (ie exit the block) like so:</p>\n<pre><code>try (PrintWriter out = new PrintWriter(&quot;filename.txt&quot;)) {\n    out.println(text);\n}\n</code></pre>\n<p>You will still need to explicitly throw the <code>java.io.FileNotFoundException</code> as before.</p>\n"},{"comments":[{"owner":{"account_id":102842,"reputation":1135,"user_id":275800,"accept_rate":80,"display_name":"pm_labs"},"score":10,"creation_date":1328747508,"post_id":1053487,"comment_id":11584711,"body_markdown":"Just a minor correction, the second fragment should read: FileUtils.writeStringToFile(new File(&quot;test.txt&quot;), &quot;Hello File&quot;);","body":"Just a minor correction, the second fragment should read: FileUtils.writeStringToFile(new File(&quot;test.txt&quot;), &quot;Hello File&quot;);"},{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":3,"creation_date":1388332249,"post_id":1053487,"comment_id":31233055,"body_markdown":"For those of us who prefer Guava, [it can do this too](http://stackoverflow.com/questions/1053467/how-do-i-save-a-string-to-a-text-file-using-java/11254277#11254277).","body":"For those of us who prefer Guava, <a href=\"http://stackoverflow.com/questions/1053467/how-do-i-save-a-string-to-a-text-file-using-java/11254277#11254277\">it can do this too</a>."},{"owner":{"account_id":1778746,"reputation":10897,"user_id":1621981,"accept_rate":71,"display_name":"Paul Fournel"},"score":16,"creation_date":1510215035,"post_id":1053487,"comment_id":81342302,"body_markdown":"The function is now deprecated, you should add the default charset --&gt; `FileUtils.writeStringToFile(new File(&quot;test.txt&quot;), &quot;Hello File&quot;, forName(&quot;UTF-8&quot;));`","body":"The function is now deprecated, you should add the default charset --&gt; <code>FileUtils.writeStringToFile(new File(&quot;test.txt&quot;), &quot;Hello File&quot;, forName(&quot;UTF-8&quot;));</code>"}],"tags":[],"owner":{"account_id":30387,"reputation":62490,"user_id":82865,"accept_rate":71,"display_name":"Jonathan Holloway"},"comment_count":3,"down_vote_count":3,"up_vote_count":281,"is_accepted":false,"score":278,"last_activity_date":1652967357,"creation_date":1246131981,"answer_id":1053487,"question_id":1053467,"body_markdown":"[Apache Commons IO][1] contains some great methods for doing this, in particular FileUtils contains the following method:\r\n\r\n    static void writeStringToFile(File file, String data, Charset charset) \r\n\r\nwhich allows you to write text to a file in one method call:\r\n\r\n    FileUtils.writeStringToFile(new File(&quot;test.txt&quot;), &quot;Hello File&quot;, Charset.forName(&quot;UTF-8&quot;));\r\n\r\nYou might also want to consider specifying the encoding for the file as well.\r\n\r\n\r\n  [1]: http://commons.apache.org/io","title":"How do I save a String to a text file using Java?","body":"<p><a href=\"http://commons.apache.org/io\" rel=\"noreferrer\">Apache Commons IO</a> contains some great methods for doing this, in particular FileUtils contains the following method:</p>\n<pre><code>static void writeStringToFile(File file, String data, Charset charset) \n</code></pre>\n<p>which allows you to write text to a file in one method call:</p>\n<pre><code>FileUtils.writeStringToFile(new File(&quot;test.txt&quot;), &quot;Hello File&quot;, Charset.forName(&quot;UTF-8&quot;));\n</code></pre>\n<p>You might also want to consider specifying the encoding for the file as well.</p>\n"},{"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":3,"creation_date":1246132957,"post_id":1053499,"comment_id":865144,"body_markdown":"That doesn&#39;t close the file in case of an exception.","body":"That doesn&#39;t close the file in case of an exception."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1361559453,"post_id":1053499,"comment_id":21123221,"body_markdown":"@JanusTroelsen: If rejected, cite [*The try-with-resources Statement*](http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html).","body":"@JanusTroelsen: If rejected, cite <a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\"><i>The try-with-resources Statement</i></a>."}],"tags":[],"owner":{"display_name":"wolfsnipes"},"comment_count":2,"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1321940991,"creation_date":1246132345,"answer_id":1053499,"question_id":1053467,"body_markdown":"You can use the modify the code below to write your file from whatever class or function is handling the text.  One wonders though why the world needs a new text editor...\r\n\r\n\r\n    import java.io.*;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            try {\r\n                String str = &quot;SomeMoreTextIsHere&quot;;\r\n                File newTextFile = new File(&quot;C:/thetextfile.txt&quot;);\r\n    \r\n                FileWriter fw = new FileWriter(newTextFile);\r\n                fw.write(str);\r\n                fw.close();\r\n    \r\n            } catch (IOException iox) {\r\n                //do stuff with exception\r\n                iox.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"How do I save a String to a text file using Java?","body":"<p>You can use the modify the code below to write your file from whatever class or function is handling the text.  One wonders though why the world needs a new text editor...</p>\n\n<pre><code>import java.io.*;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        try {\n            String str = \"SomeMoreTextIsHere\";\n            File newTextFile = new File(\"C:/thetextfile.txt\");\n\n            FileWriter fw = new FileWriter(newTextFile);\n            fw.write(str);\n            fw.close();\n\n        } catch (IOException iox) {\n            //do stuff with exception\n            iox.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":118444,"reputation":20516,"user_id":309483,"accept_rate":88,"display_name":"Janus Troelsen"},"score":3,"creation_date":1361558128,"post_id":1053553,"comment_id":21122555,"body_markdown":"even better: use try-with-resources","body":"even better: use try-with-resources"},{"owner":{"display_name":"user813853"},"score":0,"creation_date":1434874310,"post_id":1053553,"comment_id":49957066,"body_markdown":"Yes, @JanusTroelsen is right, better use The try-with-resources statement https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","body":"Yes, @JanusTroelsen is right, better use The try-with-resources statement <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/exceptions/&hellip;</a>"}],"tags":[],"owner":{"display_name":"John Doe"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1246134772,"creation_date":1246134772,"answer_id":1053553,"question_id":1053467,"body_markdown":"It&#39;s better to close the writer/outputstream in a finally block, just in case something happen\r\n\r\n    finally{\r\n       if(writer != null){\r\n         try{\r\n            writer.flush();\r\n            writer.close();\r\n         }\r\n         catch(IOException ioe){\r\n             ioe.printStackTrace();\r\n         }\r\n       }\r\n    }","title":"How do I save a String to a text file using Java?","body":"<p>It's better to close the writer/outputstream in a finally block, just in case something happen</p>\n\n<pre><code>finally{\n   if(writer != null){\n     try{\n        writer.flush();\n        writer.close();\n     }\n     catch(IOException ioe){\n         ioe.printStackTrace();\n     }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":103756,"reputation":500,"user_id":277746,"display_name":"Mostafa Rezaei"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1451750102,"creation_date":1321811504,"answer_id":8203455,"question_id":1053467,"body_markdown":"You could do this:\r\n\r\n\timport java.io.*;\r\n\timport java.util.*;\r\n\r\n\tclass WriteText\r\n\t{\r\n\t\tpublic static void main(String[] args)\r\n\t\t{\t\r\n\t\t\ttry {\r\n\t\t\t\tString text = &quot;Your sample content to save in a text file.&quot;;\r\n\t\t\t\tBufferedWriter out = new BufferedWriter(new FileWriter(&quot;sample.txt&quot;));\r\n\t\t\t\tout.write(text);\r\n\t\t\t\tout.close();\r\n\t\t\t}\r\n\t\t\tcatch (IOException e)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Exception &quot;);\t\t\r\n\t\t\t}\r\n\t\t\r\n\t\t\treturn ;\r\n\t\t}\r\n\t};","title":"How do I save a String to a text file using Java?","body":"<p>You could do this:</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\n\nclass WriteText\n{\n    public static void main(String[] args)\n    {   \n        try {\n            String text = \"Your sample content to save in a text file.\";\n            BufferedWriter out = new BufferedWriter(new FileWriter(\"sample.txt\"));\n            out.write(text);\n            out.close();\n        }\n        catch (IOException e)\n        {\n            System.out.println(\"Exception \");       \n        }\n\n        return ;\n    }\n};\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2445113,"reputation":348,"user_id":2132691,"display_name":"florian"},"score":3,"creation_date":1446214070,"post_id":11254277,"comment_id":54663842,"body_markdown":"If you&#39;re using Guava, there is also `Charsets.UTF-8`.","body":"If you&#39;re using Guava, there is also <code>Charsets.UTF-8</code>."},{"owner":{"account_id":23949,"reputation":63054,"user_id":60518,"accept_rate":59,"display_name":"Tim B&#252;the"},"score":3,"creation_date":1459274382,"post_id":11254277,"comment_id":60208653,"body_markdown":"@florian: It&#39;s `Charsets.UTF_8` actually","body":"@florian: It&#39;s <code>Charsets.UTF_8</code> actually"},{"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1529396355,"post_id":11254277,"comment_id":88846585,"body_markdown":"The parent folder must exist. Example: destination.mkdirs().","body":"The parent folder must exist. Example: destination.mkdirs()."},{"owner":{"account_id":938147,"reputation":514,"user_id":966699,"display_name":"Donald Duck"},"score":2,"creation_date":1563480636,"post_id":11254277,"comment_id":100724888,"body_markdown":"Files.write(CharSequence from, File to, Charset charset) is deprecated in guava 26.0.","body":"Files.write(CharSequence from, File to, Charset charset) is deprecated in guava 26.0."},{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1586292221,"post_id":11254277,"comment_id":108074998,"body_markdown":"Modern Guava alternative to deprecated Files.write: \n`Files.asCharSink(file, charset).write(text)`","body":"Modern Guava alternative to deprecated Files.write:  <code>Files.asCharSink(file, charset).write(text)</code>"}],"tags":[],"owner":{"account_id":56959,"reputation":9026,"user_id":170587,"accept_rate":79,"display_name":"Spina"},"comment_count":5,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1434963552,"creation_date":1340926023,"answer_id":11254277,"question_id":1053467,"body_markdown":"I prefer to rely on libraries whenever possible for this sort of operation. This makes me less likely to accidentally omit an important step (like mistake wolfsnipes made above). Some libraries are suggested above, but my favorite for this kind of thing is [Google Guava][1]. Guava has a class called [Files][2] which works nicely for this task:\r\n\r\n    // This is where the file goes.\r\n    File destination = new File(&quot;file.txt&quot;);\r\n    // This line isn&#39;t needed, but is really useful \r\n    // if you&#39;re a beginner and don&#39;t know where your file is going to end up.\r\n    System.out.println(destination.getAbsolutePath());\r\n    try {\r\n        Files.write(text, destination, Charset.forName(&quot;UTF-8&quot;));\r\n    } catch (IOException e) {\r\n        // Useful error handling here\r\n    }\r\n\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/\r\n  [2]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/io/Files.html","title":"How do I save a String to a text file using Java?","body":"<p>I prefer to rely on libraries whenever possible for this sort of operation. This makes me less likely to accidentally omit an important step (like mistake wolfsnipes made above). Some libraries are suggested above, but my favorite for this kind of thing is <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Google Guava</a>. Guava has a class called <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/io/Files.html\" rel=\"noreferrer\">Files</a> which works nicely for this task:</p>\n\n<pre><code>// This is where the file goes.\nFile destination = new File(\"file.txt\");\n// This line isn't needed, but is really useful \n// if you're a beginner and don't know where your file is going to end up.\nSystem.out.println(destination.getAbsolutePath());\ntry {\n    Files.write(text, destination, Charset.forName(\"UTF-8\"));\n} catch (IOException e) {\n    // Useful error handling here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1116991,"reputation":453,"user_id":1106115,"display_name":"Anirban Chakrabarti"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1362138859,"creation_date":1362138859,"answer_id":15157142,"question_id":1053467,"body_markdown":"Use Apache Commons IO api. Its simple \r\n\r\n Use API as\r\n\r\n     FileUtils.writeStringToFile(new File(&quot;FileNameToWrite.txt&quot;), &quot;stringToWrite&quot;);\r\n\r\nMaven Dependency\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n                \r\n\r\n","title":"How do I save a String to a text file using Java?","body":"<p>Use Apache Commons IO api. Its simple </p>\n\n<p>Use API as</p>\n\n<pre><code> FileUtils.writeStringToFile(new File(\"FileNameToWrite.txt\"), \"stringToWrite\");\n</code></pre>\n\n<p>Maven Dependency</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;commons-io&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;version&gt;2.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1433229,"reputation":1313,"user_id":1355145,"accept_rate":100,"display_name":"JaDogg"},"score":0,"creation_date":1376588183,"post_id":18206938,"comment_id":26776266,"body_markdown":"@Eric Leschinski : thank you for making my answer more professional\n(i also assumed this was exactly what the OP wanted since this is what actually most people wants,just dump the text and replace it)","body":"@Eric Leschinski : thank you for making my answer more professional (i also assumed this was exactly what the OP wanted since this is what actually most people wants,just dump the text and replace it)"},{"owner":{"account_id":199671,"reputation":148444,"user_id":445131,"accept_rate":89,"display_name":"Eric Leschinski"},"score":2,"creation_date":1376597948,"post_id":18206938,"comment_id":26781624,"body_markdown":"Once the original question has been answered and the OP is satisfied and long-gone, pages like this serve only as a useful artifact to people who land here from a Google search.  I landed on this page in order to create a mini text appender to a file.  So it&#39;s good to speak to the entire audience rather than the OP after the OP has moved on.","body":"Once the original question has been answered and the OP is satisfied and long-gone, pages like this serve only as a useful artifact to people who land here from a Google search.  I landed on this page in order to create a mini text appender to a file.  So it&#39;s good to speak to the entire audience rather than the OP after the OP has moved on."}],"tags":[],"owner":{"account_id":1433229,"reputation":1313,"user_id":1355145,"accept_rate":100,"display_name":"JaDogg"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1376491883,"creation_date":1376390435,"answer_id":18206938,"question_id":1053467,"body_markdown":"If you only care about pushing one block of text to file, this will overwrite it each time.\r\n\r\n    JFileChooser chooser = new JFileChooser();\r\n    int returnVal = chooser.showSaveDialog(this);\r\n    if (returnVal == JFileChooser.APPROVE_OPTION) {\r\n        FileOutputStream stream = null;\r\n        PrintStream out = null;\r\n        try {\r\n            File file = chooser.getSelectedFile();\r\n            stream = new FileOutputStream(file); \r\n            String text = &quot;Your String goes here&quot;;\r\n            out = new PrintStream(stream);\r\n            out.print(text);                  //This will overwrite existing contents\r\n                \r\n        } catch (Exception ex) {\r\n            //do something\r\n        } finally {\r\n            try {\r\n                if(stream!=null) stream.close();\r\n                if(out!=null) out.close();\r\n            } catch (Exception ex) {\r\n                //do something\r\n            }\r\n        }\r\n    }\r\n\r\nThis example allows the user to select a file using a file chooser.","title":"How do I save a String to a text file using Java?","body":"<p>If you only care about pushing one block of text to file, this will overwrite it each time.</p>\n\n<pre><code>JFileChooser chooser = new JFileChooser();\nint returnVal = chooser.showSaveDialog(this);\nif (returnVal == JFileChooser.APPROVE_OPTION) {\n    FileOutputStream stream = null;\n    PrintStream out = null;\n    try {\n        File file = chooser.getSelectedFile();\n        stream = new FileOutputStream(file); \n        String text = \"Your String goes here\";\n        out = new PrintStream(stream);\n        out.print(text);                  //This will overwrite existing contents\n\n    } catch (Exception ex) {\n        //do something\n    } finally {\n        try {\n            if(stream!=null) stream.close();\n            if(out!=null) out.close();\n        } catch (Exception ex) {\n            //do something\n        }\n    }\n}\n</code></pre>\n\n<p>This example allows the user to select a file using a file chooser.</p>\n"},{"comments":[{"owner":{"account_id":1518433,"reputation":1029,"user_id":1418838,"display_name":"Haakon L&#248;tveit"},"score":4,"creation_date":1448806368,"post_id":22445604,"comment_id":55723098,"body_markdown":"In case someone later wondered, the encoding would be the platform standard.","body":"In case someone later wondered, the encoding would be the platform standard."},{"owner":{"account_id":2691426,"reputation":3360,"user_id":2324685,"accept_rate":70,"display_name":"John29"},"score":14,"creation_date":1461876193,"post_id":22445604,"comment_id":61411406,"body_markdown":"`content.getBytes(StandardCharsets.UTF_8)` can be used to explicitly define the encoding.","body":"<code>content.getBytes(StandardCharsets.UTF_8)</code> can be used to explicitly define the encoding."},{"owner":{"account_id":7069108,"reputation":2285,"user_id":5411388,"accept_rate":85,"display_name":"Tinus Tate"},"score":1,"creation_date":1547132260,"post_id":22445604,"comment_id":95093961,"body_markdown":"Note that StandardOpenOption.CREATE is not the default one StandardOpenOption.CREATE and StandardOpenOption.TRUNCATE_EXISTING is the default. To use the default just remove the third parameter.","body":"Note that StandardOpenOption.CREATE is not the default one StandardOpenOption.CREATE and StandardOpenOption.TRUNCATE_EXISTING is the default. To use the default just remove the third parameter."},{"owner":{"account_id":4928027,"reputation":3620,"user_id":3968761,"accept_rate":75,"display_name":"sitting_duck"},"score":0,"creation_date":1570578391,"post_id":22445604,"comment_id":102954212,"body_markdown":"Please see Tinus Tate&#39;s comment!  What is the process to edit this example?  I wonder how many thousands of people have taken this example as-is only to find that they have unexpected results when they overwrite a file with a shorter string.  As Tinus indicates, TRUNCATE_EXISTING is crucial unless you fully understand and have an actual reason for not wanting to truncate the existing file when overwriting with a shorter string.","body":"Please see Tinus Tate&#39;s comment!  What is the process to edit this example?  I wonder how many thousands of people have taken this example as-is only to find that they have unexpected results when they overwrite a file with a shorter string.  As Tinus indicates, TRUNCATE_EXISTING is crucial unless you fully understand and have an actual reason for not wanting to truncate the existing file when overwriting with a shorter string."},{"owner":{"account_id":14066053,"reputation":2457,"user_id":10160865,"display_name":"Dennis Gloss"},"score":2,"creation_date":1574245345,"post_id":22445604,"comment_id":104160053,"body_markdown":"In java 11 you can simply put a String as a second parameter! Hooray!","body":"In java 11 you can simply put a String as a second parameter! Hooray!"},{"owner":{"account_id":494704,"reputation":5171,"user_id":1225882,"accept_rate":100,"display_name":"anothernode"},"score":0,"creation_date":1665739150,"post_id":22445604,"comment_id":130773315,"body_markdown":"But you have to use `writeString()` instead of `write()` then, right?","body":"But you have to use <code>writeString()</code> instead of <code>write()</code> then, right?"}],"tags":[],"owner":{"account_id":1642950,"reputation":11777,"user_id":1515058,"accept_rate":57,"display_name":"Daniil Shevelev"},"comment_count":6,"down_vote_count":2,"up_vote_count":141,"is_accepted":false,"score":139,"last_activity_date":1570916981,"creation_date":1395020644,"answer_id":22445604,"question_id":1053467,"body_markdown":"In Java 7 you can do this:\r\n\r\n    String content = &quot;Hello File!&quot;;\r\n    String path = &quot;C:/a.txt&quot;;\r\n    Files.write( Paths.get(path), content.getBytes());\r\n\r\nThere is more info here:\r\nhttp://www.drdobbs.com/jvm/java-se-7-new-file-io/231600403","title":"How do I save a String to a text file using Java?","body":"<p>In Java 7 you can do this:</p>\n\n<pre><code>String content = \"Hello File!\";\nString path = \"C:/a.txt\";\nFiles.write( Paths.get(path), content.getBytes());\n</code></pre>\n\n<p>There is more info here:\n<a href=\"http://www.drdobbs.com/jvm/java-se-7-new-file-io/231600403\" rel=\"noreferrer\">http://www.drdobbs.com/jvm/java-se-7-new-file-io/231600403</a></p>\n"},{"tags":[],"owner":{"account_id":2901900,"reputation":1781,"user_id":2488340,"display_name":"Sean H. Worthington"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1417814661,"creation_date":1415217086,"answer_id":26765834,"question_id":1053467,"body_markdown":"    import java.io.*;\r\n\r\n    private void stringToFile( String text, String fileName )\r\n     {\r\n     try\r\n     {\r\n        File file = new File( fileName );\r\n\r\n        // if file doesnt exists, then create it \r\n        if ( ! file.exists( ) )\r\n        {\r\n            file.createNewFile( );\r\n        }\r\n\r\n        FileWriter fw = new FileWriter( file.getAbsoluteFile( ) );\r\n        BufferedWriter bw = new BufferedWriter( fw );\r\n        bw.write( text );\r\n        bw.close( );\r\n        //System.out.println(&quot;Done writing to &quot; + fileName); //For testing \r\n     }\r\n     catch( IOException e )\r\n     {\r\n     System.out.println(&quot;Error: &quot; + e);\r\n     e.printStackTrace( );\r\n     }\r\n    } //End method stringToFile\r\nYou can insert this method into your classes. If you are using this method in a class with a main method, change this class to static by adding the static key word. Either way you will need to import java.io.* to make it work otherwise File, FileWriter and BufferedWriter will not be recognized. ","title":"How do I save a String to a text file using Java?","body":"<pre><code>import java.io.*;\n\nprivate void stringToFile( String text, String fileName )\n {\n try\n {\n    File file = new File( fileName );\n\n    // if file doesnt exists, then create it \n    if ( ! file.exists( ) )\n    {\n        file.createNewFile( );\n    }\n\n    FileWriter fw = new FileWriter( file.getAbsoluteFile( ) );\n    BufferedWriter bw = new BufferedWriter( fw );\n    bw.write( text );\n    bw.close( );\n    //System.out.println(\"Done writing to \" + fileName); //For testing \n }\n catch( IOException e )\n {\n System.out.println(\"Error: \" + e);\n e.printStackTrace( );\n }\n} //End method stringToFile\n</code></pre>\n\n<p>You can insert this method into your classes. If you are using this method in a class with a main method, change this class to static by adding the static key word. Either way you will need to import java.io.* to make it work otherwise File, FileWriter and BufferedWriter will not be recognized. </p>\n"},{"comments":[{"owner":{"account_id":285796,"reputation":13049,"user_id":584674,"accept_rate":86,"display_name":"james.garriss"},"score":0,"creation_date":1469124854,"post_id":27417047,"comment_id":64420425,"body_markdown":"It&#39;s also a copy of an existing answer.  :c","body":"It&#39;s also a copy of an existing answer.  :c"},{"owner":{"account_id":2850233,"reputation":3615,"user_id":2447599,"display_name":"Ran Adler"},"score":2,"creation_date":1469338650,"post_id":27417047,"comment_id":64489475,"body_markdown":"sorry but i didn&#39;t invent java8 , i am not the only one that use this line . but it is not a copy past from other answers to the same question","body":"sorry but i didn&#39;t invent java8 , i am not the only one that use this line . but it is not a copy past from other answers to the same question"}],"tags":[],"owner":{"account_id":2850233,"reputation":3615,"user_id":2447599,"display_name":"Ran Adler"},"comment_count":2,"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1434875892,"creation_date":1418281034,"answer_id":27417047,"question_id":1053467,"body_markdown":"Use this, it is very readable:\r\n\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    \r\n    Files.write(Paths.get(path), lines.getBytes(), StandardOpenOption.WRITE);","title":"How do I save a String to a text file using Java?","body":"<p>Use this, it is very readable:</p>\n\n<pre><code>import java.nio.file.Files;\nimport java.nio.file.Paths;\n\nFiles.write(Paths.get(path), lines.getBytes(), StandardOpenOption.WRITE);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":233460,"reputation":5636,"user_id":498949,"accept_rate":71,"display_name":"Chris Rae"},"score":0,"creation_date":1486337394,"post_id":37436916,"comment_id":71289657,"body_markdown":"A word to the wise - this will create a new file if it isn&#39;t there, but will overwrite the characters of the existing file if it is. If the new data is smaller, that will mean you probably create a corrupted file. Ask me how I know!","body":"A word to the wise - this will create a new file if it isn&#39;t there, but will overwrite the characters of the existing file if it is. If the new data is smaller, that will mean you probably create a corrupted file. Ask me how I know!"},{"owner":{"account_id":25771,"reputation":21236,"user_id":66519,"accept_rate":99,"display_name":"ojblass"},"score":0,"creation_date":1520650702,"post_id":37436916,"comment_id":85415034,"body_markdown":"Ok, how do you know?","body":"Ok, how do you know?"},{"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"score":1,"creation_date":1520683764,"post_id":37436916,"comment_id":85422278,"body_markdown":"Just use `Files.write(targetPath, bytes);` to overwrite the file then. It will work as expected.","body":"Just use <code>Files.write(targetPath, bytes);</code> to overwrite the file then. It will work as expected."}],"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":3,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1464178754,"creation_date":1464178754,"answer_id":37436916,"question_id":1053467,"body_markdown":"Using `Java 7`:\r\n\r\n\tpublic static void writeToFile(String text, String targetFilePath) throws IOException\r\n\t{\r\n\t\tPath targetPath = Paths.get(targetFilePath);\r\n\t\tbyte[] bytes = text.getBytes(StandardCharsets.UTF_8);\r\n\t\tFiles.write(targetPath, bytes, StandardOpenOption.CREATE);\r\n\t}","title":"How do I save a String to a text file using Java?","body":"<p>Using <code>Java 7</code>:</p>\n\n<pre><code>public static void writeToFile(String text, String targetFilePath) throws IOException\n{\n    Path targetPath = Paths.get(targetFilePath);\n    byte[] bytes = text.getBytes(StandardCharsets.UTF_8);\n    Files.write(targetPath, bytes, StandardOpenOption.CREATE);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1145547,"reputation":1356,"user_id":1128403,"display_name":"GoYun.Info"},"comment_count":0,"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1495122044,"creation_date":1483543327,"answer_id":41467301,"question_id":1053467,"body_markdown":"Using org.apache.commons.io.FileUtils:\r\n\r\n    FileUtils.writeStringToFile(new File(&quot;log.txt&quot;), &quot;my string&quot;, Charset.defaultCharset());\r\n\r\n","title":"How do I save a String to a text file using Java?","body":"<p>Using org.apache.commons.io.FileUtils:</p>\n\n<pre><code>FileUtils.writeStringToFile(new File(\"log.txt\"), \"my string\", Charset.defaultCharset());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":465074,"reputation":12318,"user_id":868941,"accept_rate":75,"display_name":"rmuller"},"score":2,"creation_date":1560582246,"post_id":44841992,"comment_id":99791638,"body_markdown":"Files.write(path, byte[]) will use UTF-8 encoding. String.getBytes() uses the default platform encoding. So this is a potential issue. Use string.getBytes(StandardCharsets.UTF_8)!","body":"Files.write(path, byte[]) will use UTF-8 encoding. String.getBytes() uses the default platform encoding. So this is a potential issue. Use string.getBytes(StandardCharsets.UTF_8)!"}],"tags":[],"owner":{"account_id":1857429,"reputation":368,"user_id":1682715,"display_name":"Pavel_H"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1498811290,"creation_date":1498811290,"answer_id":44841992,"question_id":1053467,"body_markdown":"In case if you need create text file based on one single string:\r\n\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    \r\n    public class StringWriteSample {\r\n        public static void main(String[] args) {\r\n            String text = &quot;This is text to be saved in file&quot;;\r\n    \r\n            try {\r\n                Files.write(Paths.get(&quot;my-file.txt&quot;), text.getBytes());\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"How do I save a String to a text file using Java?","body":"<p>In case if you need create text file based on one single string:</p>\n\n<pre><code>import java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\n\npublic class StringWriteSample {\n    public static void main(String[] args) {\n        String text = \"This is text to be saved in file\";\n\n        try {\n            Files.write(Paths.get(\"my-file.txt\"), text.getBytes());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2007994,"reputation":335,"user_id":1797282,"display_name":"alb-i986"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517824489,"creation_date":1517824489,"answer_id":48619783,"question_id":1053467,"body_markdown":"I think the best way is using `Files.write(Path path, Iterable&lt;? extends CharSequence&gt; lines, OpenOption... options)`:\r\n\r\n    String text = &quot;content&quot;;\r\n    Path path = Paths.get(&quot;path&quot;, &quot;to&quot;, &quot;file&quot;);\r\n    Files.write(path, Arrays.asList(text));\r\n\r\nSee [javadoc](https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#write(java.nio.file.Path,%20java.lang.Iterable,%20java.nio.charset.Charset,%20java.nio.file.OpenOption...)):\r\n\r\n&gt; Write lines of text to a file. Each line is a char sequence and is\r\n&gt; written to the file in sequence with each line terminated by the\r\n&gt; platform&#39;s line separator, as defined by the system property\r\n&gt; line.separator. Characters are encoded into bytes using the specified\r\n&gt; charset.\r\n&gt; \r\n&gt; The options parameter specifies how the the file is created or opened.\r\n&gt; If no options are present then this method works as if the CREATE,\r\n&gt; TRUNCATE_EXISTING, and WRITE options are present. In other words, it\r\n&gt; opens the file for writing, creating the file if it doesn&#39;t exist, or\r\n&gt; initially truncating an existing regular-file to a size of 0. The\r\n&gt; method ensures that the file is closed when all lines have been\r\n&gt; written (or an I/O error or other runtime exception is thrown). If an\r\n&gt; I/O error occurs then it may do so after the file has created or\r\n&gt; truncated, or after some bytes have been written to the file.\r\n\r\nPlease note. I see people have already answered with Java&#39;s built-in `Files.write`, but what&#39;s special in my answer which nobody seems to mention is the overloaded version of the method which takes an Iterable of  CharSequence (i.e. String), instead of a `byte[]` array, thus `text.getBytes()` is not required, which is a bit cleaner I think.","title":"How do I save a String to a text file using Java?","body":"<p>I think the best way is using <code>Files.write(Path path, Iterable&lt;? extends CharSequence&gt; lines, OpenOption... options)</code>:</p>\n\n<pre><code>String text = \"content\";\nPath path = Paths.get(\"path\", \"to\", \"file\");\nFiles.write(path, Arrays.asList(text));\n</code></pre>\n\n<p>See <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#write(java.nio.file.Path,%20java.lang.Iterable,%20java.nio.charset.Charset,%20java.nio.file.OpenOption...)\" rel=\"nofollow noreferrer\">javadoc</a>:</p>\n\n<blockquote>\n  <p>Write lines of text to a file. Each line is a char sequence and is\n  written to the file in sequence with each line terminated by the\n  platform's line separator, as defined by the system property\n  line.separator. Characters are encoded into bytes using the specified\n  charset.</p>\n  \n  <p>The options parameter specifies how the the file is created or opened.\n  If no options are present then this method works as if the CREATE,\n  TRUNCATE_EXISTING, and WRITE options are present. In other words, it\n  opens the file for writing, creating the file if it doesn't exist, or\n  initially truncating an existing regular-file to a size of 0. The\n  method ensures that the file is closed when all lines have been\n  written (or an I/O error or other runtime exception is thrown). If an\n  I/O error occurs then it may do so after the file has created or\n  truncated, or after some bytes have been written to the file.</p>\n</blockquote>\n\n<p>Please note. I see people have already answered with Java's built-in <code>Files.write</code>, but what's special in my answer which nobody seems to mention is the overloaded version of the method which takes an Iterable of  CharSequence (i.e. String), instead of a <code>byte[]</code> array, thus <code>text.getBytes()</code> is not required, which is a bit cleaner I think.</p>\n"},{"tags":[],"owner":{"account_id":1529851,"reputation":1106,"user_id":9486645,"display_name":"Supercoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529956346,"creation_date":1529956346,"answer_id":51030942,"question_id":1053467,"body_markdown":"If you wish to keep the carriage return characters from the string into a file\r\nhere is an code example:\r\n    \r\n\r\n        jLabel1 = new JLabel(&quot;Enter SQL Statements or SQL Commands:&quot;);\r\n\t\torderButton = new JButton(&quot;Execute&quot;);\r\n\t\ttextArea = new JTextArea();\r\n        ...\r\n\r\n\r\n    \t// String captured from JTextArea()\r\n\t\torderButton.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent ae) {\r\n\t\t\t\t// When Execute button is pressed\r\n\t\t\t\tString tempQuery = textArea.getText();\r\n\t\t\t\ttempQuery = tempQuery.replaceAll(&quot;\\n&quot;, &quot;\\r\\n&quot;);\r\n\t\t\t\ttry (PrintStream out = new PrintStream(new FileOutputStream(&quot;C:/Temp/tempQuery.sql&quot;))) {\r\n\t\t\t\t    out.print(tempQuery);\r\n\t\t\t\t} catch (FileNotFoundException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(tempQuery);\r\n\t\t\t}\r\n\r\n\t\t});","title":"How do I save a String to a text file using Java?","body":"<p>If you wish to keep the carriage return characters from the string into a file\nhere is an code example:</p>\n\n<pre><code>    jLabel1 = new JLabel(\"Enter SQL Statements or SQL Commands:\");\n    orderButton = new JButton(\"Execute\");\n    textArea = new JTextArea();\n    ...\n\n\n    // String captured from JTextArea()\n    orderButton.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent ae) {\n            // When Execute button is pressed\n            String tempQuery = textArea.getText();\n            tempQuery = tempQuery.replaceAll(\"\\n\", \"\\r\\n\");\n            try (PrintStream out = new PrintStream(new FileOutputStream(\"C:/Temp/tempQuery.sql\"))) {\n                out.print(tempQuery);\n            } catch (FileNotFoundException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n            System.out.println(tempQuery);\n        }\n\n    });\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2090327,"reputation":8485,"user_id":1860309,"accept_rate":53,"display_name":"Boris Brodski"},"score":2,"creation_date":1588018961,"post_id":53386603,"comment_id":108734127,"body_markdown":"Please add proper error case handling closing all opened resources and propogating exceptions","body":"Please add proper error case handling closing all opened resources and propogating exceptions"}],"tags":[],"owner":{"account_id":5389376,"reputation":145,"user_id":4292371,"display_name":"Mou"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1542690729,"creation_date":1542690729,"answer_id":53386603,"question_id":1053467,"body_markdown":"My way is based on stream due to running on all Android versions and needs of fecthing resources such as URL/URI, any suggestion is welcome.\r\n\r\nAs far as concerned, streams (InputStream and OutputStream) transfer binary data, when developer goes to write a string to a stream, must first convert it to bytes, or in other words encode it.\r\n\r\n    public boolean writeStringToFile(File file, String string, Charset charset) {\r\n        if (file == null) return false;\r\n        if (string == null) return false;\r\n        return writeBytesToFile(file, string.getBytes((charset == null) ? DEFAULT_CHARSET:charset));\r\n    }\r\n\r\n    public boolean writeBytesToFile(File file, byte[] data) {\r\n        if (file == null) return false;\r\n        if (data == null) return false;\r\n        FileOutputStream fos;\r\n        BufferedOutputStream bos;\r\n        try {\r\n            fos = new FileOutputStream(file);\r\n            bos = new BufferedOutputStream(fos);\r\n            bos.write(data, 0, data.length);\r\n            bos.flush();\r\n            bos.close();\r\n            fos.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            Logger.e(&quot;!!! IOException&quot;);\r\n            return false;\r\n        }\r\n        return true;\r\n    }","title":"How do I save a String to a text file using Java?","body":"<p>My way is based on stream due to running on all Android versions and needs of fecthing resources such as URL/URI, any suggestion is welcome.</p>\n\n<p>As far as concerned, streams (InputStream and OutputStream) transfer binary data, when developer goes to write a string to a stream, must first convert it to bytes, or in other words encode it.</p>\n\n<pre><code>public boolean writeStringToFile(File file, String string, Charset charset) {\n    if (file == null) return false;\n    if (string == null) return false;\n    return writeBytesToFile(file, string.getBytes((charset == null) ? DEFAULT_CHARSET:charset));\n}\n\npublic boolean writeBytesToFile(File file, byte[] data) {\n    if (file == null) return false;\n    if (data == null) return false;\n    FileOutputStream fos;\n    BufferedOutputStream bos;\n    try {\n        fos = new FileOutputStream(file);\n        bos = new BufferedOutputStream(fos);\n        bos.write(data, 0, data.length);\n        bos.flush();\n        bos.close();\n        fos.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n        Logger.e(\"!!! IOException\");\n        return false;\n    }\n    return true;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":3,"creation_date":1617010037,"post_id":53794067,"comment_id":118171183,"body_markdown":"This needs more upvotes. The answer gets buried in the amount of answers provided to this question, yet it is superior to many of them. *E.g.* only a minimal amount of lines is required, there is also no dependency on Apache Commons.","body":"This needs more upvotes. The answer gets buried in the amount of answers provided to this question, yet it is superior to many of them. <i>E.g.</i> only a minimal amount of lines is required, there is also no dependency on Apache Commons."},{"owner":{"account_id":268922,"reputation":113,"user_id":557968,"display_name":"sarath"},"score":0,"creation_date":1669042232,"post_id":53794067,"comment_id":131546762,"body_markdown":"I second above comment, this is an elegant solution !!","body":"I second above comment, this is an elegant solution !!"}],"tags":[],"owner":{"account_id":9497377,"reputation":1114,"user_id":7059880,"display_name":"Marcel"},"comment_count":2,"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1563091493,"creation_date":1544883660,"answer_id":53794067,"question_id":1053467,"body_markdown":"In **Java 11** the ```java.nio.file.Files``` class was extended by two new utility methods to write a string into a file. The first method (see JavaDoc [here][1]) uses the charset [UTF-8][3] as default:\r\n\r\n    Files.writeString(Path.of(&quot;my&quot;, &quot;path&quot;), &quot;My String&quot;);\r\n\r\nAnd the second method (see JavaDoc [here][2]) allows to specify an individual charset:\r\n\r\n    Files.writeString(Path.of(&quot;my&quot;, &quot;path&quot;), &quot;My String&quot;, StandardCharset.ISO_8859_1);\r\n\r\nBoth methods have an optional Varargs parameter for setting file handling options (see JavaDoc [here][4]). The following example would create a non-existing file or append the string to an existing one:\r\n\r\n    Files.writeString(Path.of(&quot;my&quot;, &quot;path&quot;), &quot;String to append&quot;, StandardOpenOption.CREATE, StandardOpenOption.APPEND);\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Files.html#writeString(java.nio.file.Path,java.lang.CharSequence,java.nio.charset.Charset,java.nio.file.OpenOption...)\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Files.html#writeString(java.nio.file.Path,java.lang.CharSequence,java.nio.file.OpenOption...)\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/charset/StandardCharsets.html#UTF_8\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/StandardOpenOption.html","title":"How do I save a String to a text file using Java?","body":"<p>In <strong>Java 11</strong> the <code>java.nio.file.Files</code> class was extended by two new utility methods to write a string into a file. The first method (see JavaDoc <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Files.html#writeString(java.nio.file.Path,java.lang.CharSequence,java.nio.charset.Charset,java.nio.file.OpenOption...)\" rel=\"noreferrer\">here</a>) uses the charset <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/charset/StandardCharsets.html#UTF_8\" rel=\"noreferrer\">UTF-8</a> as default:</p>\n\n<pre><code>Files.writeString(Path.of(\"my\", \"path\"), \"My String\");\n</code></pre>\n\n<p>And the second method (see JavaDoc <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Files.html#writeString(java.nio.file.Path,java.lang.CharSequence,java.nio.file.OpenOption...)\" rel=\"noreferrer\">here</a>) allows to specify an individual charset:</p>\n\n<pre><code>Files.writeString(Path.of(\"my\", \"path\"), \"My String\", StandardCharset.ISO_8859_1);\n</code></pre>\n\n<p>Both methods have an optional Varargs parameter for setting file handling options (see JavaDoc <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/StandardOpenOption.html\" rel=\"noreferrer\">here</a>). The following example would create a non-existing file or append the string to an existing one:</p>\n\n<pre><code>Files.writeString(Path.of(\"my\", \"path\"), \"String to append\", StandardOpenOption.CREATE, StandardOpenOption.APPEND);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4512805,"reputation":3717,"user_id":3668462,"display_name":"Johan"},"score":3,"creation_date":1557485756,"post_id":56075826,"comment_id":98790529,"body_markdown":"While this code snippet may be the solution, [including an explanation](//meta.stackexchange.com/questions/114762/explaining-entirely-‌​code-based-answers) really helps to improve the quality of your post. Remember that you are answering the question for readers in the future, and those people might not know the reasons for your code suggestion.","body":"While this code snippet may be the solution, <a href=\"//meta.stackexchange.com/questions/114762/explaining-entirely-%E2%80%8C%E2%80%8Bcode-based-answers\">including an explanation</a> really helps to improve the quality of your post. Remember that you are answering the question for readers in the future, and those people might not know the reasons for your code suggestion."},{"owner":{"account_id":2090327,"reputation":8485,"user_id":1860309,"accept_rate":53,"display_name":"Boris Brodski"},"score":1,"creation_date":1588018889,"post_id":56075826,"comment_id":108734083,"body_markdown":"close() may never be called. Please, improve your answer adding the proper error case handling.","body":"close() may never be called. Please, improve your answer adding the proper error case handling."}],"tags":[],"owner":{"account_id":5284169,"reputation":124,"user_id":4218649,"accept_rate":0,"display_name":"Jobin Mathew"},"comment_count":2,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1603346112,"creation_date":1557484397,"answer_id":56075826,"question_id":1053467,"body_markdown":"```java\r\nprivate static void generateFile(String stringToWrite, String outputFile) {\r\n    try {    \t\r\n        FileWriter writer = new FileWriter(outputFile);\r\n        writer.append(stringToWrite);\r\n        writer.flush();\r\n        writer.close();\r\n        log.debug(&quot;New File is generated ==&gt;&quot;+outputFile);\r\n    } catch (Exception exp) {\r\n    \tlog.error(&quot;Exception in generateFile &quot;, exp);\r\n    }\r\n}\r\n```","title":"How do I save a String to a text file using Java?","body":"<pre class=\"lang-java prettyprint-override\"><code>private static void generateFile(String stringToWrite, String outputFile) {\n    try {       \n        FileWriter writer = new FileWriter(outputFile);\n        writer.append(stringToWrite);\n        writer.flush();\n        writer.close();\n        log.debug(&quot;New File is generated ==&gt;&quot;+outputFile);\n    } catch (Exception exp) {\n        log.error(&quot;Exception in generateFile &quot;, exp);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1597756801,"creation_date":1597756801,"answer_id":63469548,"question_id":1053467,"body_markdown":"Basically the same answer [as here](https://stackoverflow.com/a/1053474/26510), but easy to copy/paste, and it just works ;-)\r\n\r\n      import java.io.FileWriter;\r\n\r\n      public void saveToFile(String data, String filename) {\r\n        try (\r\n          FileWriter fw = new FileWriter(filename)) {\r\n          fw.write(data);\r\n        } catch (Exception e) {\r\n          throw new RuntimeException(e);\r\n        }\r\n      }\r\n\r\n","title":"How do I save a String to a text file using Java?","body":"<p>Basically the same answer <a href=\"https://stackoverflow.com/a/1053474/26510\">as here</a>, but easy to copy/paste, and it just works ;-)</p>\n<pre><code>  import java.io.FileWriter;\n\n  public void saveToFile(String data, String filename) {\n    try (\n      FileWriter fw = new FileWriter(filename)) {\n      fw.write(data);\n    } catch (Exception e) {\n      throw new RuntimeException(e);\n    }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22380441,"reputation":29,"user_id":16594125,"display_name":"Abdel Wadoud"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659297018,"creation_date":1659297018,"answer_id":73186451,"question_id":1053467,"body_markdown":"I have published a library that saves files, and handles everything with one line of code only, you can find it here along with its documentation\r\n\r\n[Github repository][1]\r\n\r\n\r\n  [1]: https://github.com/rasmi-aw/StorageManager\r\n\r\nand the answer to your question is so easy\r\n\r\n    String path = FileSaver\r\n            .get()\r\n            .save(string.getBytes(),&quot;file.txt&quot;);","title":"How do I save a String to a text file using Java?","body":"<p>I have published a library that saves files, and handles everything with one line of code only, you can find it here along with its documentation</p>\n<p><a href=\"https://github.com/rasmi-aw/StorageManager\" rel=\"nofollow noreferrer\">Github repository</a></p>\n<p>and the answer to your question is so easy</p>\n<pre><code>String path = FileSaver\n        .get()\n        .save(string.getBytes(),&quot;file.txt&quot;);\n</code></pre>\n"}],"owner":{"account_id":43356,"reputation":8333,"user_id":126680,"display_name":"Justin White"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1420725,"favorite_count":0,"down_vote_count":1,"up_vote_count":811,"answer_count":24,"score":810,"last_activity_date":1682607022,"creation_date":1246131448,"question_id":1053467,"body_markdown":"In Java, I have text from a text field in a String variable called &quot;text&quot;.\r\n\r\nHow can I save the contents of the &quot;text&quot; variable to a file?","title":"How do I save a String to a text file using Java?","body":"<p>In Java, I have text from a text field in a String variable called \"text\".</p>\n\n<p>How can I save the contents of the \"text\" variable to a file?</p>\n"},{"tags":["java","exception","package","noclassdeffounderror"],"comments":[{"owner":{"account_id":75156,"reputation":12077,"user_id":215651,"accept_rate":50,"display_name":"lreeder"},"score":1,"creation_date":1375283232,"post_id":17973970,"comment_id":26274536,"body_markdown":"Looking at your main class, it is not in a package (you would have `package graphics;` at the top).  Is `graphics` the head of your package structure?  Does Square have `package graphics.shapes` at the top?","body":"Looking at your main class, it is not in a package (you would have <code>package graphics;</code> at the top).  Is <code>graphics</code> the head of your package structure?  Does Square have <code>package graphics.shapes</code> at the top?"},{"owner":{"account_id":354298,"reputation":5638,"user_id":692560,"accept_rate":86,"display_name":"Vala"},"score":1,"creation_date":1375283238,"post_id":17973970,"comment_id":26274544,"body_markdown":"You&#39;re listing where the .java files are, but since what you&#39;re getting is a _runtime_ issue, what you&#39;re actually interested in is where the .class files are and whether they are on your classpath or not. How are you executing the Main class?","body":"You&#39;re listing where the .java files are, but since what you&#39;re getting is a <i>runtime</i> issue, what you&#39;re actually interested in is where the .class files are and whether they are on your classpath or not. How are you executing the Main class?"},{"owner":{"account_id":1088393,"reputation":1269,"user_id":1083581,"accept_rate":21,"display_name":"happybuddha"},"score":0,"creation_date":1375283584,"post_id":17973970,"comment_id":26274793,"body_markdown":"Just hit Shift+ctrl+o in eclipse to organize your imports","body":"Just hit Shift+ctrl+o in eclipse to organize your imports"},{"owner":{"account_id":2190742,"reputation":413,"user_id":1937865,"accept_rate":50,"display_name":"Jeremy Borg"},"score":0,"creation_date":1392418432,"post_id":17973970,"comment_id":87237874,"body_markdown":"Make sure that you type the class name correctly. I was getting this error because I didn&#39;t start the class name with an upper case letter","body":"Make sure that you type the class name correctly. I was getting this error because I didn&#39;t start the class name with an upper case letter"},{"owner":{"account_id":1126190,"reputation":6796,"user_id":1113435,"accept_rate":91,"display_name":"Zar"},"score":0,"creation_date":1393175693,"post_id":17973970,"comment_id":87237871,"body_markdown":"This sometimes occur in IntelliJ IDEA after a major refactoring. **Right click on your project and select -&gt; Compile Module**, and then re-start the project and it should work again.","body":"This sometimes occur in IntelliJ IDEA after a major refactoring. <b>Right click on your project and select -&gt; Compile Module</b>, and then re-start the project and it should work again."},{"owner":{"account_id":1671980,"reputation":511,"user_id":1538281,"display_name":"Vaishali Kulkarni"},"score":0,"creation_date":1414697230,"post_id":17973970,"comment_id":87237861,"body_markdown":"If you are getting NoClassDefFoundError for some external jar file that you have added to the project, try adding the jar file in lib folder and add it to the classpath by Properties &gt;&gt; Java Build Path &gt;&gt; Add Variable &gt;&gt; Configure Variables &gt;&gt; New Variable Entry. And rebuild.","body":"If you are getting NoClassDefFoundError for some external jar file that you have added to the project, try adding the jar file in lib folder and add it to the classpath by Properties &gt;&gt; Java Build Path &gt;&gt; Add Variable &gt;&gt; Configure Variables &gt;&gt; New Variable Entry. And rebuild."},{"owner":{"account_id":6437067,"reputation":564,"user_id":4988247,"accept_rate":67,"display_name":"Jel"},"score":0,"creation_date":1494008374,"post_id":17973970,"comment_id":87237854,"body_markdown":"I encountered this problem when working with Apache Axis. Spent hours messing with the classpath/build configuration based on most of the feedback here and in similar threads. Turns out I was missing the necessary supporting XML libraries for certain web service transactions. Added them to the project and all became well","body":"I encountered this problem when working with Apache Axis. Spent hours messing with the classpath/build configuration based on most of the feedback here and in similar threads. Turns out I was missing the necessary supporting XML libraries for certain web service transactions. Added them to the project and all became well"},{"owner":{"account_id":10540128,"reputation":967,"user_id":7766525,"accept_rate":88,"display_name":"wei"},"score":0,"creation_date":1514190493,"post_id":17973970,"comment_id":87237849,"body_markdown":"For NetBeans user, you can try to click `Clean and Build Project` This worked for me.","body":"For NetBeans user, you can try to click <code>Clean and Build Project</code> This worked for me."},{"owner":{"account_id":7484097,"reputation":133,"user_id":5687983,"accept_rate":50,"display_name":"Dani Aya"},"score":0,"creation_date":1518555381,"post_id":17973970,"comment_id":87237853,"body_markdown":"If you (like me) were trying several solutions and spent hours without a progress, please notice that eclipse has two different options to export your project into jar executables, which are: Jar file and Runnable Jar File. I exported selecting Runnable Jar File and that does the trick.","body":"If you (like me) were trying several solutions and spent hours without a progress, please notice that eclipse has two different options to export your project into jar executables, which are: Jar file and Runnable Jar File. I exported selecting Runnable Jar File and that does the trick."},{"owner":{"account_id":1095809,"reputation":129,"user_id":1089429,"display_name":"ibrahimgunes"},"score":0,"creation_date":1519036615,"post_id":17973970,"comment_id":87237851,"body_markdown":"I had this error when I was opening a page that used apache poi library.\nI remove it&#39;s folder from .m2 repository folder then I updated my project.\nBasically hitting maven&gt;update project.\nIt worked.\nI hope it helps","body":"I had this error when I was opening a page that used apache poi library. I remove it&#39;s folder from .m2 repository folder then I updated my project. Basically hitting maven&gt;update project. It worked. I hope it helps"},{"owner":{"account_id":3249477,"reputation":502,"user_id":2740179,"accept_rate":33,"display_name":"LuisComS"},"score":0,"creation_date":1661467715,"post_id":17973970,"comment_id":129786147,"body_markdown":"I generally occurs when I try to update libraries, some library is not compatible with other and a conflict occurs. Find the number of compatible versions and try again","body":"I generally occurs when I try to update libraries, some library is not compatible with other and a conflict occurs. Find the number of compatible versions and try again"}],"answers":[{"comments":[{"owner":{"account_id":1958727,"reputation":1,"user_id":1761003,"accept_rate":82,"display_name":"Maveňツ"},"score":1,"creation_date":1486968897,"post_id":17974015,"comment_id":71558141,"body_markdown":"How to handle that in runtime via **try/catch**?","body":"How to handle that in runtime via <b>try/catch</b>?"},{"owner":{"account_id":1607854,"reputation":7760,"user_id":1487529,"accept_rate":95,"display_name":"Elmue"},"score":11,"creation_date":1487822045,"post_id":17974015,"comment_id":71960074,"body_markdown":"This answer is not correct the way you write it. Correct would be: &quot;ONE possible cause of this error is....&quot; But there may be other reasons why you get this error for example when loading a JAR file at runtime with a classloader.","body":"This answer is not correct the way you write it. Correct would be: &quot;ONE possible cause of this error is....&quot; But there may be other reasons why you get this error for example when loading a JAR file at runtime with a classloader."}],"tags":[],"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1682606889,"creation_date":1375282946,"answer_id":17974015,"question_id":17973970,"body_markdown":"One possible reason for this `NoClassDefFoundError` might be that the class is present in the classpath at `Compile time`, but it doesn&#39;t exist in the classpath at `Runtime`.\r\n\r\nIf you&#39;re using Eclipse, make sure you have the `shapes`, `linepoints` and the `spaceobjects` as entries in the `.classpath` file.","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>One possible reason for this <code>NoClassDefFoundError</code> might be that the class is present in the classpath at <code>Compile time</code>, but it doesn't exist in the classpath at <code>Runtime</code>.</p>\n<p>If you're using Eclipse, make sure you have the <code>shapes</code>, <code>linepoints</code> and the <code>spaceobjects</code> as entries in the <code>.classpath</code> file.</p>\n"},{"comments":[{"owner":{"account_id":1093356,"reputation":7034,"user_id":1087479,"accept_rate":89,"display_name":"sschrass"},"score":0,"creation_date":1481021270,"post_id":17974031,"comment_id":69195507,"body_markdown":"depends on the context you are asking for.","body":"depends on the context you are asking for."}],"tags":[],"owner":{"account_id":1093356,"reputation":7034,"user_id":1087479,"accept_rate":89,"display_name":"sschrass"},"comment_count":1,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1622023442,"creation_date":1375282980,"answer_id":17974031,"question_id":17973970,"body_markdown":"    java.lang.NoClassDefFoundError\r\n\r\nindicates that something was found at *compile time*, but not at *run time*. Maybe you just have to add it to the classpath.\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<pre><code>java.lang.NoClassDefFoundError\n</code></pre>\n<p>indicates that something was found at <em>compile time</em>, but not at <em>run time</em>. Maybe you just have to add it to the classpath.</p>\n"},{"comments":[{"owner":{"account_id":15823920,"reputation":339,"user_id":12139689,"display_name":"danmaze"},"score":2,"creation_date":1590831839,"post_id":17974068,"comment_id":109833690,"body_markdown":"I&#39;m reading this because of an error I encountered while trying to run a unit test on Android. It turns out that the NoClassDefFoundError, in my case, occurred as a result of missing dependencies in the test. I need to think about dependency injection to prevent errors like this. Thanks for the elaborate answer.","body":"I&#39;m reading this because of an error I encountered while trying to run a unit test on Android. It turns out that the NoClassDefFoundError, in my case, occurred as a result of missing dependencies in the test. I need to think about dependency injection to prevent errors like this. Thanks for the elaborate answer."},{"owner":{"account_id":2936066,"reputation":103,"user_id":2514912,"display_name":"bunkinet"},"score":0,"creation_date":1631342483,"post_id":17974068,"comment_id":122200710,"body_markdown":"I got this error due to setting FormLayout(JGoodies) for layout setting of a Form. Which means there are issues with that class library to be fixed. Yet it appears in layout list of a Form in IntelliJ.","body":"I got this error due to setting FormLayout(JGoodies) for layout setting of a Form. Which means there are issues with that class library to be fixed. Yet it appears in layout list of a Form in IntelliJ."}],"tags":[],"owner":{"account_id":23827,"reputation":16963,"user_id":60020,"accept_rate":85,"display_name":"Samuel"},"comment_count":2,"down_vote_count":5,"up_vote_count":303,"is_accepted":true,"score":298,"last_activity_date":1622023201,"creation_date":1375283105,"answer_id":17974068,"question_id":17973970,"body_markdown":"After you compile your code, you end up with `.class` files for each class in your program. These binary files are the bytecode that Java interprets to execute your program. The `NoClassDefFoundError` indicates that the classloader (in this case `java.net.URLClassLoader`), which is responsible for dynamically loading classes, cannot find the `.class` file for the class that you&#39;re trying to use.\r\n\r\nYour code wouldn&#39;t compile if the required classes weren&#39;t present (unless classes are loaded with reflection), so usually this exception means that your classpath doesn&#39;t include the required classes. Remember that the classloader (specifically `java.net.URLClassLoader`) will look for classes in package a.b.c in folder a/b/c/ in each entry in your classpath. `NoClassDefFoundError` can also indicate that you&#39;re missing a transitive dependency of a .jar file that you&#39;ve compiled against and you&#39;re trying to use.\r\n\r\nFor example, if you had a class `com.example.Foo`, after compiling you would have a class file `Foo.class`. Say for example your working directory is `.../project/`. That class file must be placed in `.../project/com/example`, and you would set your classpath to `.../project/`.\r\n\r\nSide note: I would recommend taking advantage of the amazing tooling that exists for Java and JVM languages. Modern IDEs like Eclipse and IntelliJ IDEA and build management tools like Maven or Gradle will help you not have to worry about classpaths (as much) and focus on the code! That said, [this link][1] explains how to set the classpath when you execute on the command line.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Classpath_%28Java%29\r\n  [2]: http://snacktrace.com/\r\n\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>After you compile your code, you end up with <code>.class</code> files for each class in your program. These binary files are the bytecode that Java interprets to execute your program. The <code>NoClassDefFoundError</code> indicates that the classloader (in this case <code>java.net.URLClassLoader</code>), which is responsible for dynamically loading classes, cannot find the <code>.class</code> file for the class that you're trying to use.</p>\n<p>Your code wouldn't compile if the required classes weren't present (unless classes are loaded with reflection), so usually this exception means that your classpath doesn't include the required classes. Remember that the classloader (specifically <code>java.net.URLClassLoader</code>) will look for classes in package a.b.c in folder a/b/c/ in each entry in your classpath. <code>NoClassDefFoundError</code> can also indicate that you're missing a transitive dependency of a .jar file that you've compiled against and you're trying to use.</p>\n<p>For example, if you had a class <code>com.example.Foo</code>, after compiling you would have a class file <code>Foo.class</code>. Say for example your working directory is <code>.../project/</code>. That class file must be placed in <code>.../project/com/example</code>, and you would set your classpath to <code>.../project/</code>.</p>\n<p>Side note: I would recommend taking advantage of the amazing tooling that exists for Java and JVM languages. Modern IDEs like Eclipse and IntelliJ IDEA and build management tools like Maven or Gradle will help you not have to worry about classpaths (as much) and focus on the code! That said, <a href=\"http://en.wikipedia.org/wiki/Classpath_%28Java%29\" rel=\"noreferrer\">this link</a> explains how to set the classpath when you execute on the command line.</p>\n"},{"comments":[{"owner":{"account_id":1078205,"reputation":1377,"user_id":1075902,"accept_rate":67,"display_name":"taco"},"score":0,"creation_date":1410113234,"post_id":21303729,"comment_id":40195144,"body_markdown":"In my case, I had compiled a class, them moved it to a directory called app. I had to add a line with `package app;` and recompile before I could move it into the subdirectory app.","body":"In my case, I had compiled a class, them moved it to a directory called app. I had to add a line with <code>package app;</code> and recompile before I could move it into the subdirectory app."},{"owner":{"account_id":2204096,"reputation":749,"user_id":1947725,"display_name":"Fahad"},"score":1,"creation_date":1446817623,"post_id":21303729,"comment_id":54914391,"body_markdown":"Apart from above listed 3, ClassLoaders also may cause the such error, which is basically ClassNotFoundException, in this scenario class may present in classpath but attempt to load from different ClassLoader","body":"Apart from above listed 3, ClassLoaders also may cause the such error, which is basically ClassNotFoundException, in this scenario class may present in classpath but attempt to load from different ClassLoader"},{"owner":{"account_id":23827,"reputation":16963,"user_id":60020,"accept_rate":85,"display_name":"Samuel"},"score":0,"creation_date":1459295062,"post_id":21303729,"comment_id":60218953,"body_markdown":"2 and 3 are classloader-specific. According to the javadoc, the exception is only intended for reason 1.","body":"2 and 3 are classloader-specific. According to the javadoc, the exception is only intended for reason 1."},{"owner":{"account_id":2805599,"reputation":1796,"user_id":2412910,"display_name":"p1nkrock"},"score":0,"creation_date":1466064294,"post_id":21303729,"comment_id":63165128,"body_markdown":"@Samuel Leave about javadoc. please go ahead with a sample program to find the reasons.","body":"@Samuel Leave about javadoc. please go ahead with a sample program to find the reasons."},{"owner":{"account_id":3248244,"reputation":646,"user_id":2739201,"display_name":"Michael"},"score":1,"creation_date":1484279561,"post_id":21303729,"comment_id":70454970,"body_markdown":"I have tested the case 2 and case 3,  it&#39; not NoClassDefFoundError, it&#39;s ExceptionInInitializerError\nCase 2.Class file located, but Exception raised while initializing static variables\nCase 3.Class file located, Exception raised while initializing static blocks","body":"I have tested the case 2 and case 3,  it&#39; not NoClassDefFoundError, it&#39;s ExceptionInInitializerError Case 2.Class file located, but Exception raised while initializing static variables Case 3.Class file located, Exception raised while initializing static blocks"},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":1,"creation_date":1512890251,"post_id":21303729,"comment_id":82433784,"body_markdown":"@Michael, This link says that your stacktrace will too show `NoClassDefFoundError` for that case: https://archive.is/YPbYI#selection-2107.0-2115.13","body":"@Michael, This link says that your stacktrace will too show <code>NoClassDefFoundError</code> for that case: <a href=\"https://archive.is/YPbYI#selection-2107.0-2115.13\" rel=\"nofollow noreferrer\">archive.is/YPbYI#selection-2107.0-2115.13</a>"},{"owner":{"account_id":252601,"reputation":312,"user_id":530762,"accept_rate":50,"display_name":"Spodgy"},"score":0,"creation_date":1635228775,"post_id":21303729,"comment_id":123232917,"body_markdown":"Was searching a solution for a similar error and case 2 was the problem - thanks!","body":"Was searching a solution for a similar error and case 2 was the problem - thanks!"}],"tags":[],"owner":{"account_id":2805599,"reputation":1796,"user_id":2412910,"display_name":"p1nkrock"},"comment_count":7,"down_vote_count":0,"up_vote_count":162,"is_accepted":false,"score":162,"last_activity_date":1622023534,"creation_date":1390468148,"answer_id":21303729,"question_id":17973970,"body_markdown":"I&#39;d like to correct the perspective of others on `NoClassDefFoundError`.\r\n\r\n`NoClassDefFoundError` can occur for multiple reasons like:\r\n\r\n 1. ClassNotFoundException -- .class not found for that referenced class irrespective of whether it is available at compile time or not(i.e base/child class).\r\n 2. Class file located, but Exception raised while initializing static variables\r\n 3. Class file located, Exception raised while initializing static blocks\r\n\r\nIn the original question, it was the first case which can be corrected by setting CLASSPATH to the referenced classes JAR file or to its package folder.\r\n\r\nWhat does it mean by saying &quot;available in compile time&quot;?\r\n\r\n - The referenced class is used in the code. &lt;br/&gt;   E.g.: Two classes, A and B (extends A). If B is referenced directly in the code, it is available at compile time, i.e., `A a = new B();`\r\n\r\nWhat does it mean by saying &quot;not available at compile time&quot;?\r\n\r\n - The compile time class and runtime class are different, i.e., for example base class is loaded using classname of child class for example\r\n   Class.forName(&quot;classname&quot;)\r\n   E.g.: Two classes, A and B (extends A). Code has &lt;br/&gt;\r\n   `A a = Class.forName(&quot;B&quot;).newInstance();`\r\n\r\n\r\n\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>I'd like to correct the perspective of others on <code>NoClassDefFoundError</code>.</p>\n<p><code>NoClassDefFoundError</code> can occur for multiple reasons like:</p>\n<ol>\n<li>ClassNotFoundException -- .class not found for that referenced class irrespective of whether it is available at compile time or not(i.e base/child class).</li>\n<li>Class file located, but Exception raised while initializing static variables</li>\n<li>Class file located, Exception raised while initializing static blocks</li>\n</ol>\n<p>In the original question, it was the first case which can be corrected by setting CLASSPATH to the referenced classes JAR file or to its package folder.</p>\n<p>What does it mean by saying &quot;available in compile time&quot;?</p>\n<ul>\n<li>The referenced class is used in the code. <br/>   E.g.: Two classes, A and B (extends A). If B is referenced directly in the code, it is available at compile time, i.e., <code>A a = new B();</code></li>\n</ul>\n<p>What does it mean by saying &quot;not available at compile time&quot;?</p>\n<ul>\n<li>The compile time class and runtime class are different, i.e., for example base class is loaded using classname of child class for example\nClass.forName(&quot;classname&quot;)\nE.g.: Two classes, A and B (extends A). Code has <br/>\n<code>A a = Class.forName(&quot;B&quot;).newInstance();</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1446467,"reputation":408,"user_id":1364757,"accept_rate":50,"display_name":"Hypershadsy"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1411860759,"creation_date":1411860759,"answer_id":26080159,"question_id":17973970,"body_markdown":"If your project is in a package like `com.blahcode` and your class is called `Main`, the compiled files may be output in a directory structure like `./out/com/blahcode/Main.class`. This is especially true for IntelliJ IDEA.\r\n\r\nWhen trying to run from a shell or cmd, you need to `cd` to that which contains `com` as a sub-directory.\r\n\r\n    cd out\r\n    java -classpath . com.blahcode.Main","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>If your project is in a package like <code>com.blahcode</code> and your class is called <code>Main</code>, the compiled files may be output in a directory structure like <code>./out/com/blahcode/Main.class</code>. This is especially true for IntelliJ IDEA.</p>\n\n<p>When trying to run from a shell or cmd, you need to <code>cd</code> to that which contains <code>com</code> as a sub-directory.</p>\n\n<pre><code>cd out\njava -classpath . com.blahcode.Main\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1416550,"reputation":848,"user_id":1342097,"accept_rate":88,"display_name":"Jorge Sampayo"},"score":1,"creation_date":1563207694,"post_id":26234866,"comment_id":100615111,"body_markdown":"The &quot;-d .&quot; in javac command does the trick, creating the folder structure of the packages instead of putting all the .class files on the root directory, thanks!","body":"The &quot;-d .&quot; in javac command does the trick, creating the folder structure of the packages instead of putting all the .class files on the root directory, thanks!"},{"owner":{"account_id":512161,"reputation":121,"user_id":7323418,"display_name":"Camilo Acevedo."},"score":1,"creation_date":1629779609,"post_id":26234866,"comment_id":121770226,"body_markdown":"Thank you, Sr. That solves the error for compiling.","body":"Thank you, Sr. That solves the error for compiling."}],"tags":[],"owner":{"account_id":5138961,"reputation":398,"user_id":4116916,"display_name":"sami"},"comment_count":2,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1622023802,"creation_date":1412681031,"answer_id":26234866,"question_id":17973970,"body_markdown":"If you got one of these errors while compiling and running:\r\n\r\n * NoClassDefFoundError\r\n\r\n * Error: Could not find or load main class hello\r\n\r\n * Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:javaTest/test/hello\r\n (wrong name: test/hello)\r\n\r\n    ```lang-none\r\n    at java.lang.ClassLoader.defineClass1(Native Method)\r\n    at java.lang.ClassLoader.defineClass(Unknown Source)\r\n    at java.security.SecureClassLoader.defineClass(Unknown Source)\r\n    at java.net.URLClassLoader.defineClass(Unknown Source)\r\n    at java.net.URLClassLoader.access$100(Unknown Source)\r\n    at java.net.URLClassLoader$1.run(Unknown Source)\r\n    at java.net.URLClassLoader$1.run(Unknown Source)\r\n    at java.security.AccessController.doPrivileged(Native Method)\r\n    at java.net.URLClassLoader.findClass(Unknown Source)\r\n    at java.lang.ClassLoader.loadClass(Unknown Source)\r\n    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n    at java.lang.ClassLoader.loadClass(Unknown Source)\r\n    at sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source)\r\n    ```\r\n\r\n-------------------------- ***Solution*** -----------------------\r\n\r\n**The problem is mostly in packages organization. You should arrange your classes in folders properly regarding to the package classifications in your source code.**\r\n\r\nOn compiling process, use this command:\r\n\r\n    javac -d . [FileName.java]\r\n\r\nTo run the class, please use this command:\r\n\r\n    java [Package].[ClassName]\r\n\r\n\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>If you got one of these errors while compiling and running:</p>\n<ul>\n<li><p>NoClassDefFoundError</p>\n</li>\n<li><p>Error: Could not find or load main class hello</p>\n</li>\n<li><p>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:javaTest/test/hello\n(wrong name: test/hello)</p>\n<pre class=\"lang-none prettyprint-override\"><code>at java.lang.ClassLoader.defineClass1(Native Method)\nat java.lang.ClassLoader.defineClass(Unknown Source)\nat java.security.SecureClassLoader.defineClass(Unknown Source)\nat java.net.URLClassLoader.defineClass(Unknown Source)\nat java.net.URLClassLoader.access$100(Unknown Source)\nat java.net.URLClassLoader$1.run(Unknown Source)\nat java.net.URLClassLoader$1.run(Unknown Source)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.net.URLClassLoader.findClass(Unknown Source)\nat java.lang.ClassLoader.loadClass(Unknown Source)\nat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\nat java.lang.ClassLoader.loadClass(Unknown Source)\nat sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source)\n</code></pre>\n</li>\n</ul>\n<p>-------------------------- <em><strong>Solution</strong></em> -----------------------</p>\n<p><strong>The problem is mostly in packages organization. You should arrange your classes in folders properly regarding to the package classifications in your source code.</strong></p>\n<p>On compiling process, use this command:</p>\n<pre><code>javac -d . [FileName.java]\n</code></pre>\n<p>To run the class, please use this command:</p>\n<pre><code>java [Package].[ClassName]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1630087,"reputation":2337,"user_id":1504824,"accept_rate":67,"display_name":"bharatj"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1622838253,"creation_date":1427041712,"answer_id":29196877,"question_id":17973970,"body_markdown":"**The no class definition exception** occurs when the intended class is not found in the class path.\r\n\r\nAt compile time class: Class was generated from the Java compiler, but somehow at run time the dependent class is not found.\r\n\r\nLet’s go through one simple example:\r\n\r\n    public class ClassA{\r\n        public static void main(String args[]){\r\n             // Some gibberish code...\r\n             String text = ClassB.getString();\r\n             System.out.println(&quot;Text is: &quot; + text);\r\n        }\r\n    }\r\n\r\n    public class ClassB{\r\n        public static String getString(){\r\n            return &quot;Testing some exception&quot;;\r\n        }\r\n    }\r\n\r\nNow let&#39;s assume that the above two Java source code are placed in some folder, let&#39;s say &quot;NoClassDefinationFoundExceptionDemo&quot;\r\n\r\nNow open a shell (assuming Java is already being set up correctly)\r\n\r\n 1. Go to folder &quot;NoClassDefinationFoundExceptionDemo&quot;\r\n 2. Compile Java source files\r\n        javac ClassB\r\n        javac ClassA\r\n\r\n 3. Both files are compiled successfully and generated class files in the same folder as ClassA.class and ClassB.class\r\n 4. Now since we are overriding ClassPath to the current working director, we execute the following command\r\n    ***java -cp . ClassA***\r\n    and it worked successfully and you will see the output on the screen\r\n 5. Now let&#39;s say, you removed ClassB.class file from the present directory.\r\n   And now you execute the command again.\r\n   ***java -cp . ClassA*** Now it will greet you with NoClassDefFoundException. As ClassB which is a dependency for ClassA is not found in the classpath (i.e., the present working directory).\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p><strong>The no class definition exception</strong> occurs when the intended class is not found in the class path.</p>\n<p>At compile time class: Class was generated from the Java compiler, but somehow at run time the dependent class is not found.</p>\n<p>Let’s go through one simple example:</p>\n<pre><code>public class ClassA{\n    public static void main(String args[]){\n         // Some gibberish code...\n         String text = ClassB.getString();\n         System.out.println(&quot;Text is: &quot; + text);\n    }\n}\n\npublic class ClassB{\n    public static String getString(){\n        return &quot;Testing some exception&quot;;\n    }\n}\n</code></pre>\n<p>Now let's assume that the above two Java source code are placed in some folder, let's say &quot;NoClassDefinationFoundExceptionDemo&quot;</p>\n<p>Now open a shell (assuming Java is already being set up correctly)</p>\n<ol>\n<li><p>Go to folder &quot;NoClassDefinationFoundExceptionDemo&quot;</p>\n</li>\n<li><p>Compile Java source files\njavac ClassB\njavac ClassA</p>\n</li>\n<li><p>Both files are compiled successfully and generated class files in the same folder as ClassA.class and ClassB.class</p>\n</li>\n<li><p>Now since we are overriding ClassPath to the current working director, we execute the following command\n<em><strong>java -cp . ClassA</strong></em>\nand it worked successfully and you will see the output on the screen</p>\n</li>\n<li><p>Now let's say, you removed ClassB.class file from the present directory.\nAnd now you execute the command again.\n<em><strong>java -cp . ClassA</strong></em> Now it will greet you with NoClassDefFoundException. As ClassB which is a dependency for ClassA is not found in the classpath (i.e., the present working directory).</p>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1554025116,"post_id":30895393,"comment_id":97595769,"body_markdown":"This is true in part, but it is more complicated.  1) You *can* use relative paths in the classpath, but they must be resolvable by the JVM ... relative to the JVM&#39;s current directory.  This makes them *fragile*.  2) You *can* use `~` and other shell meta characters when setting a classpath environment variable, but only provided the mechanism you are using to set the variable expands them to real pathnames.  If you are using `bash`, you can get &quot;mixed&quot; results.  For example, look at what you get when you type `echo ~:~` on the command line.  The first `~` is expanded, but the second isn&#39;t.","body":"This is true in part, but it is more complicated.  1) You <i>can</i> use relative paths in the classpath, but they must be resolvable by the JVM ... relative to the JVM&#39;s current directory.  This makes them <i>fragile</i>.  2) You <i>can</i> use <code>~</code> and other shell meta characters when setting a classpath environment variable, but only provided the mechanism you are using to set the variable expands them to real pathnames.  If you are using <code>bash</code>, you can get &quot;mixed&quot; results.  For example, look at what you get when you type <code>echo ~:~</code> on the command line.  The first <code>~</code> is expanded, but the second isn&#39;t."}],"tags":[],"owner":{"account_id":468582,"reputation":1315,"user_id":874667,"accept_rate":100,"display_name":"khkarens"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434553370,"creation_date":1434553370,"answer_id":30895393,"question_id":17973970,"body_markdown":"My two cents in this chain:\r\n\r\nEnsure that the **classpath** contains **full** paths (`/home/user/lib/some_lib.jar` instead of `~/lib/some_lib.jar`) otherwise you can still face `NoClassDefFoundError` error.","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>My two cents in this chain:</p>\n\n<p>Ensure that the <strong>classpath</strong> contains <strong>full</strong> paths (<code>/home/user/lib/some_lib.jar</code> instead of <code>~/lib/some_lib.jar</code>) otherwise you can still face <code>NoClassDefFoundError</code> error.</p>\n"},{"tags":[],"owner":{"account_id":37795,"reputation":1585,"user_id":108153,"accept_rate":25,"display_name":"codeDr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622024848,"creation_date":1441799774,"answer_id":32478934,"question_id":17973970,"body_markdown":"I get NoClassFoundError when classes loaded by the runtime class loader cannot access classes already loaded by the Java rootloader.  Because the different class loaders are in different security domains (according to Java) the JVM won&#39;t allow classes already loaded by the rootloader to be resolved in the runtime loader address space.\r\n\r\nRun your program with &#39;java -javaagent:tracer.jar [YOUR &#39;java&#39; ARGUMENTS]&#39;\r\n\r\nIt produces output showing the loaded class, and the loader environment that loaded the class.  It&#39;s very helpful tracing why a class cannot be resolved.\r\n\r\n    // ClassLoaderTracer.java\r\n    // From: https://blogs.oracle.com/sundararajan/entry/tracing_class_loading_1_5\r\n\r\n    import java.lang.instrument.*;\r\n    import java.security.*;\r\n\r\n    // manifest.mf\r\n    // Premain-Class: ClassLoadTracer\r\n\r\n    // jar -cvfm tracer.jar manifest.mf ClassLoaderTracer.class\r\n\r\n    // java -javaagent:tracer.jar  [...]\r\n\r\n    public class ClassLoadTracer\r\n    {\r\n        public static void premain(String agentArgs, Instrumentation inst)\r\n        {\r\n            final java.io.PrintStream out = System.out;\r\n            inst.addTransformer(new ClassFileTransformer() {\r\n                public byte[] transform(ClassLoader loader, String className, Class classBeingRedefined, ProtectionDomain protectionDomain, byte[] classfileBuffer) throws IllegalClassFormatException {\r\n\r\n                    String pd = (null == protectionDomain) ? &quot;null&quot; : protectionDomain.getCodeSource().toString();\r\n                    out.println(className + &quot; loaded by &quot; + loader + &quot; at &quot; + new java.util.Date() + &quot; in &quot; + pd);\r\n\r\n                    // dump stack trace of the thread loading class\r\n                    Thread.dumpStack();\r\n\r\n                    // we just want the original .class bytes to be loaded!\r\n                    // we are not instrumenting it...\r\n                    return null;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>I get NoClassFoundError when classes loaded by the runtime class loader cannot access classes already loaded by the Java rootloader.  Because the different class loaders are in different security domains (according to Java) the JVM won't allow classes already loaded by the rootloader to be resolved in the runtime loader address space.</p>\n<p>Run your program with 'java -javaagent:tracer.jar [YOUR 'java' ARGUMENTS]'</p>\n<p>It produces output showing the loaded class, and the loader environment that loaded the class.  It's very helpful tracing why a class cannot be resolved.</p>\n<pre><code>// ClassLoaderTracer.java\n// From: https://blogs.oracle.com/sundararajan/entry/tracing_class_loading_1_5\n\nimport java.lang.instrument.*;\nimport java.security.*;\n\n// manifest.mf\n// Premain-Class: ClassLoadTracer\n\n// jar -cvfm tracer.jar manifest.mf ClassLoaderTracer.class\n\n// java -javaagent:tracer.jar  [...]\n\npublic class ClassLoadTracer\n{\n    public static void premain(String agentArgs, Instrumentation inst)\n    {\n        final java.io.PrintStream out = System.out;\n        inst.addTransformer(new ClassFileTransformer() {\n            public byte[] transform(ClassLoader loader, String className, Class classBeingRedefined, ProtectionDomain protectionDomain, byte[] classfileBuffer) throws IllegalClassFormatException {\n\n                String pd = (null == protectionDomain) ? &quot;null&quot; : protectionDomain.getCodeSource().toString();\n                out.println(className + &quot; loaded by &quot; + loader + &quot; at &quot; + new java.util.Date() + &quot; in &quot; + pd);\n\n                // dump stack trace of the thread loading class\n                Thread.dumpStack();\n\n                // we just want the original .class bytes to be loaded!\n                // we are not instrumenting it...\n                return null;\n            }\n        });\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1445276,"reputation":8644,"user_id":1364007,"display_name":"Wai Ha Lee"},"score":0,"creation_date":1452591084,"post_id":34739455,"comment_id":57225458,"body_markdown":"Do you have any reference for that?","body":"Do you have any reference for that?"},{"owner":{"account_id":2509208,"reputation":97,"user_id":2182090,"display_name":"totteire"},"score":0,"creation_date":1452682605,"post_id":34739455,"comment_id":57274584,"body_markdown":"Nop, I just run out of disk space regularly and unless I free a good amount + remove/reinstall a Genymotion virtual device I keep getting this error.","body":"Nop, I just run out of disk space regularly and unless I free a good amount + remove/reinstall a Genymotion virtual device I keep getting this error."}],"tags":[],"owner":{"account_id":2509208,"reputation":97,"user_id":2182090,"display_name":"totteire"},"comment_count":2,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1622024921,"creation_date":1452589832,"answer_id":34739455,"question_id":17973970,"body_markdown":"It happens a lot with my [Genymotion][1] devices.\r\n\r\nMake sure you have a good amount of memory available on your drive where Genymotion is installed.\r\n\r\n  [1]: https://stackoverflow.com/tags/genymotion/info\r\n\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>It happens a lot with my <a href=\"https://stackoverflow.com/tags/genymotion/info\">Genymotion</a> devices.</p>\n<p>Make sure you have a good amount of memory available on your drive where Genymotion is installed.</p>\n"},{"tags":[],"owner":{"account_id":6271411,"reputation":257,"user_id":4875545,"accept_rate":69,"display_name":"yanish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622024944,"creation_date":1460546476,"answer_id":36596804,"question_id":17973970,"body_markdown":"It happened to me in [Android Studio][1].\r\n\r\nThe solution that worked for me: just restart Android Studio.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Android_Studio\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>It happened to me in <a href=\"https://en.wikipedia.org/wiki/Android_Studio\" rel=\"nofollow noreferrer\">Android Studio</a>.</p>\n<p>The solution that worked for me: just restart Android Studio.</p>\n"},{"tags":[],"owner":{"account_id":2478866,"reputation":239,"user_id":2158840,"accept_rate":0,"display_name":"Ed S"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1622025140,"creation_date":1460641895,"answer_id":36625221,"question_id":17973970,"body_markdown":"After working on a NetBeans project for many months, I suddenly got the NoClassDefFoundError message shortly after getting a &quot;Low Memory&quot; alert. Doing a Clean rebuild didn&#39;t help, but closing NetBeans altogether and reopening the project there were no error reports.\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>After working on a NetBeans project for many months, I suddenly got the NoClassDefFoundError message shortly after getting a &quot;Low Memory&quot; alert. Doing a Clean rebuild didn't help, but closing NetBeans altogether and reopening the project there were no error reports.</p>\n"},{"tags":[],"owner":{"account_id":1454914,"reputation":6202,"user_id":1370770,"accept_rate":71,"display_name":"mask"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622025298,"creation_date":1461864583,"answer_id":36921634,"question_id":17973970,"body_markdown":"I had the same issue with my Android development using Android studio. Solutions provided are general and did not help me (at least for me).\r\n\r\nAfter hours of research, I found the following solution and it may help to Android developers who are doing development using Android Studio.\r\n\r\nModify the setting as below:\r\n\r\n*Preferences* &amp;rarr; *Build, Execution, Deployment* &amp;rarr; *Instant Run* &amp;rarr; *uncheck the first option.\r\n\r\nWith this change I am up and running.\r\n\r\n\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>I had the same issue with my Android development using Android studio. Solutions provided are general and did not help me (at least for me).</p>\n<p>After hours of research, I found the following solution and it may help to Android developers who are doing development using Android Studio.</p>\n<p>Modify the setting as below:</p>\n<p><em>Preferences</em> → <em>Build, Execution, Deployment</em> → <em>Instant Run</em> → *uncheck the first option.</p>\n<p>With this change I am up and running.</p>\n"},{"tags":[],"owner":{"account_id":1750637,"reputation":2903,"user_id":1599792,"accept_rate":100,"display_name":"Aftab"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1470644358,"creation_date":1470644358,"answer_id":38824317,"question_id":17973970,"body_markdown":"**NoClassDefFoundError in Java:**\r\n\r\n**Definition:** \r\n\r\nNoClassDefFoundError will come if a class was present during compile time but not available in java classpath during runtime. Normally you will see below line in log when you get NoClassDefFoundError:\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError\r\n\r\n**Possible Causes:**\r\n\r\n1.  The class is not available in Java Classpath.\r\n\r\n2. You might be running your program using jar command and class was not defined in manifest file&#39;s ClassPath attribute.\r\n\r\n3. Any start-up script is overriding Classpath environment variable.\r\n4. Because NoClassDefFoundError is a subclass of java.lang.LinkageError it can also come if one of it dependency like native library may not available.\r\n\r\n5. Check for java.lang.ExceptionInInitializerError in your log file. NoClassDefFoundError due to the failure of static initialization is quite common.\r\n\r\n6. If you are working in J2EE environment than the visibility of Class among multiple Classloader can also cause java.lang.NoClassDefFoundError, see examples and scenario section for detailed discussion.\r\n\r\n\r\n**Possible Resolutions:**\r\n\r\n1. Verify that all required Java classes are included in the application’s classpath. The most common mistake is not to include all the necessary classes, before starting to execute a Java application that has dependencies on some external libraries.\r\n\r\n2. The classpath of the application is correct, but the Classpath environment variable is overridden before the application’s execution.\r\n\r\n3. Verify that the aforementioned ExceptionInInitializerError does not appear in the stack trace of your application.\r\n\r\n\r\n**Resources:** \r\n\r\n[3 ways to solve java.lang.NoClassDefFoundError in Java J2EE][1]\r\n\r\n\r\n[java.lang.NoClassDefFoundError – How to solve No Class Def Found Error\r\n][2]\r\n\r\n\r\n  [1]: https://javarevisited.blogspot.com/2011/06/noclassdeffounderror-exception-in.html\r\n  [2]: https://examples.javacodegeeks.com/java-basics/exceptions/java-lang-noclassdeffounderror-how-to-solve-no-class-def-found-error/","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p><strong>NoClassDefFoundError in Java:</strong></p>\n\n<p><strong>Definition:</strong> </p>\n\n<p>NoClassDefFoundError will come if a class was present during compile time but not available in java classpath during runtime. Normally you will see below line in log when you get NoClassDefFoundError:\nException in thread \"main\" java.lang.NoClassDefFoundError</p>\n\n<p><strong>Possible Causes:</strong></p>\n\n<ol>\n<li><p>The class is not available in Java Classpath.</p></li>\n<li><p>You might be running your program using jar command and class was not defined in manifest file's ClassPath attribute.</p></li>\n<li><p>Any start-up script is overriding Classpath environment variable.</p></li>\n<li><p>Because NoClassDefFoundError is a subclass of java.lang.LinkageError it can also come if one of it dependency like native library may not available.</p></li>\n<li><p>Check for java.lang.ExceptionInInitializerError in your log file. NoClassDefFoundError due to the failure of static initialization is quite common.</p></li>\n<li><p>If you are working in J2EE environment than the visibility of Class among multiple Classloader can also cause java.lang.NoClassDefFoundError, see examples and scenario section for detailed discussion.</p></li>\n</ol>\n\n<p><strong>Possible Resolutions:</strong></p>\n\n<ol>\n<li><p>Verify that all required Java classes are included in the application’s classpath. The most common mistake is not to include all the necessary classes, before starting to execute a Java application that has dependencies on some external libraries.</p></li>\n<li><p>The classpath of the application is correct, but the Classpath environment variable is overridden before the application’s execution.</p></li>\n<li><p>Verify that the aforementioned ExceptionInInitializerError does not appear in the stack trace of your application.</p></li>\n</ol>\n\n<p><strong>Resources:</strong> </p>\n\n<p><a href=\"https://javarevisited.blogspot.com/2011/06/noclassdeffounderror-exception-in.html\" rel=\"noreferrer\">3 ways to solve java.lang.NoClassDefFoundError in Java J2EE</a></p>\n\n<p><a href=\"https://examples.javacodegeeks.com/java-basics/exceptions/java-lang-noclassdeffounderror-how-to-solve-no-class-def-found-error/\" rel=\"noreferrer\">java.lang.NoClassDefFoundError – How to solve No Class Def Found Error\n</a></p>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1622025438,"post_id":40936912,"comment_id":119669207,"body_markdown":"What is &quot;rpm&quot;? Is it related to package management on [Red Hat Linux](https://en.wikipedia.org/wiki/Red_Hat_Linux)? Or something else?","body":"What is &quot;rpm&quot;? Is it related to package management on <a href=\"https://en.wikipedia.org/wiki/Red_Hat_Linux\" rel=\"nofollow noreferrer\">Red Hat Linux</a>? Or something else?"},{"owner":{"account_id":6108739,"reputation":590,"user_id":4765736,"display_name":"John Chesshir"},"score":0,"creation_date":1625580172,"post_id":40936912,"comment_id":120660754,"body_markdown":"@PeterMortensen It stands for Red Hat Package Manager, although recently they&#39;ve employed recursive naming to call it just RPM Package Manager.","body":"@PeterMortensen It stands for Red Hat Package Manager, although recently they&#39;ve employed recursive naming to call it just RPM Package Manager."}],"tags":[],"owner":{"account_id":6108739,"reputation":590,"user_id":4765736,"display_name":"John Chesshir"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1622025390,"creation_date":1480696417,"answer_id":40936912,"question_id":17973970,"body_markdown":"This answer is specific to a java.lang.NoClassDefFoundError happening in a *service*:\r\n\r\nMy team recently saw this error after upgrading an rpm that supplied a service.  The rpm and the software inside of it had been built with Maven, so it seemed that we had a compile time dependency that had just not gotten included in the rpm.\r\n\r\nHowever, when investigating, the class that was not found was in the same module as several of the classes in the stack trace.  Furthermore, this was not a module that had only been recently added to the build.  These facts indicated it might not be a Maven dependency issue.\r\n\r\nThe eventual solution: **Restart the service!**\r\n\r\nIt appears that the rpm upgrade invalidated the service&#39;s file handle on the underlying JAR file.  The service then saw a class that had not been loaded into memory, searched for it among its list of jar file handles, and failed to find it because the file handle that it could load the class from had been invalidated.  Restarting the service forced it to reload all of its file handles, which then allowed it to load that class that had not been found in memory right after the rpm upgrade.\r\n\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>This answer is specific to a java.lang.NoClassDefFoundError happening in a <em>service</em>:</p>\n<p>My team recently saw this error after upgrading an rpm that supplied a service.  The rpm and the software inside of it had been built with Maven, so it seemed that we had a compile time dependency that had just not gotten included in the rpm.</p>\n<p>However, when investigating, the class that was not found was in the same module as several of the classes in the stack trace.  Furthermore, this was not a module that had only been recently added to the build.  These facts indicated it might not be a Maven dependency issue.</p>\n<p>The eventual solution: <strong>Restart the service!</strong></p>\n<p>It appears that the rpm upgrade invalidated the service's file handle on the underlying JAR file.  The service then saw a class that had not been loaded into memory, searched for it among its list of jar file handles, and failed to find it because the file handle that it could load the class from had been invalidated.  Restarting the service forced it to reload all of its file handles, which then allowed it to load that class that had not been found in memory right after the rpm upgrade.</p>\n"},{"tags":[],"owner":{"account_id":3248244,"reputation":646,"user_id":2739201,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622838332,"creation_date":1484538697,"answer_id":41669190,"question_id":17973970,"body_markdown":"Check that if you have a static handler in your class. If so, please be careful, cause static handler only could be initiated in thread which has a looper, the crash could be triggered in this way:\r\n\r\n1. Firstly, create the instance of class in a simple thread and catch the crash.\r\n\r\n2. Then call the field method of Class in main thread, you will get the NoClassDefFoundError.\r\n\r\nHere is the test code:\r\n\r\n    public class MyClass{\r\n           private static  Handler mHandler = new Handler();\r\n           public static int num = 0;\r\n    }\r\n\r\nIn your onCreate method of the Main activity, add the test code part:\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        //test code start\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    MyClass myClass = new MyClass();\r\n                } catch (Throwable e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }).start();\r\n\r\n        try {\r\n            Thread.sleep(1000);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        MyClass.num = 3;\r\n        // end of test code\r\n    }\r\n\r\nThere is a simple way to fix it using a handlerThread to the init handler:\r\n\r\n    private static Handler mHandler;\r\n    private static HandlerThread handlerThread = new HandlerThread(&quot;newthread&quot;);\r\n    static {\r\n        handlerThread.start();\r\n        mHandler = new Handler(handlerThread.getLooper(), mHandlerCB);\r\n    }\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>Check that if you have a static handler in your class. If so, please be careful, cause static handler only could be initiated in thread which has a looper, the crash could be triggered in this way:</p>\n<ol>\n<li><p>Firstly, create the instance of class in a simple thread and catch the crash.</p>\n</li>\n<li><p>Then call the field method of Class in main thread, you will get the NoClassDefFoundError.</p>\n</li>\n</ol>\n<p>Here is the test code:</p>\n<pre><code>public class MyClass{\n       private static  Handler mHandler = new Handler();\n       public static int num = 0;\n}\n</code></pre>\n<p>In your onCreate method of the Main activity, add the test code part:</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    //test code start\n    new Thread(new Runnable() {\n        @Override\n        public void run() {\n            try {\n                MyClass myClass = new MyClass();\n            } catch (Throwable e) {\n                e.printStackTrace();\n            }\n        }\n    }).start();\n\n    try {\n        Thread.sleep(1000);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n    MyClass.num = 3;\n    // end of test code\n}\n</code></pre>\n<p>There is a simple way to fix it using a handlerThread to the init handler:</p>\n<pre><code>private static Handler mHandler;\nprivate static HandlerThread handlerThread = new HandlerThread(&quot;newthread&quot;);\nstatic {\n    handlerThread.start();\n    mHandler = new Handler(handlerThread.getLooper(), mHandlerCB);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":470672,"reputation":1087,"user_id":877986,"accept_rate":75,"display_name":"Matin Petrulak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539681815,"creation_date":1492678065,"answer_id":43514567,"question_id":17973970,"body_markdown":"If you are using more than one module, you should have \r\n\r\n    dexOptions {\r\n        preDexLibraries = false\r\n    }\r\n\r\nin your build file.","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>If you are using more than one module, you should have </p>\n\n<pre><code>dexOptions {\n    preDexLibraries = false\n}\n</code></pre>\n\n<p>in your build file.</p>\n"},{"tags":[],"owner":{"account_id":1042817,"reputation":501,"user_id":1048465,"accept_rate":50,"display_name":"carl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622838598,"creation_date":1509653046,"answer_id":47083740,"question_id":17973970,"body_markdown":"One source of error for this exception could stem from inconsistent definitions for [Proguard][1], e.g. a missing\r\n\r\n-libraryJars &quot;path.to.a.missing.jar.library&quot;.\r\n\r\nThis explains why compilation and running works fine, given that the JAR file is there, while clean and build fails. Remember to define the newly added JAR libraries in the ProGuard setup!\r\n\r\nNote that error messages from ProGuard are really not up to standard, as they are easily confused with similar [Ant][2] messages arriving when the JAR file is not there at all. Only at the very bottom will there be a small hint of ProGuard in trouble. Hence, it is quite logical to start searching for traditional classpath errors, etc., but this will be in vain.\r\n\r\nEvidently, the NoClassDefFound exception will be the results when running, e.g., the resulting executable JAR file built and based on a lack of ProGuard consistency. Some call it ProGuard &quot;Hell&quot;.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ProGuard_(software)\r\n  [2]: https://en.wikipedia.org/wiki/Apache_Ant\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>One source of error for this exception could stem from inconsistent definitions for <a href=\"https://en.wikipedia.org/wiki/ProGuard_(software)\" rel=\"nofollow noreferrer\">Proguard</a>, e.g. a missing</p>\n<p>-libraryJars &quot;path.to.a.missing.jar.library&quot;.</p>\n<p>This explains why compilation and running works fine, given that the JAR file is there, while clean and build fails. Remember to define the newly added JAR libraries in the ProGuard setup!</p>\n<p>Note that error messages from ProGuard are really not up to standard, as they are easily confused with similar <a href=\"https://en.wikipedia.org/wiki/Apache_Ant\" rel=\"nofollow noreferrer\">Ant</a> messages arriving when the JAR file is not there at all. Only at the very bottom will there be a small hint of ProGuard in trouble. Hence, it is quite logical to start searching for traditional classpath errors, etc., but this will be in vain.</p>\n<p>Evidently, the NoClassDefFound exception will be the results when running, e.g., the resulting executable JAR file built and based on a lack of ProGuard consistency. Some call it ProGuard &quot;Hell&quot;.</p>\n"},{"tags":[],"owner":{"account_id":3306670,"reputation":4539,"user_id":2781271,"accept_rate":58,"display_name":"CROSP"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1511535029,"creation_date":1511535029,"answer_id":47475637,"question_id":17973970,"body_markdown":"I have faced with the problem today. I have an Android project and after enabling `multidex` the project wouldn&#39;t start anymore.\r\n\r\nThe reason was that I had forgotten to call the specific multidex method that should be added to the `Application class` and invoked before everything else.\r\n\r\n     MultiDex.install(this);\r\n\r\nFollow this tutorial to enable multidex correctly. https://developer.android.com/studio/build/multidex.html\r\n\r\nYou should add these lines to your Application class\r\n\r\n     @Override\r\n      protected void attachBaseContext(Context base) {\r\n         super.attachBaseContext(base);\r\n         MultiDex.install(this);\r\n      }\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>I have faced with the problem today. I have an Android project and after enabling <code>multidex</code> the project wouldn't start anymore.</p>\n\n<p>The reason was that I had forgotten to call the specific multidex method that should be added to the <code>Application class</code> and invoked before everything else.</p>\n\n<pre><code> MultiDex.install(this);\n</code></pre>\n\n<p>Follow this tutorial to enable multidex correctly. <a href=\"https://developer.android.com/studio/build/multidex.html\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/build/multidex.html</a></p>\n\n<p>You should add these lines to your Application class</p>\n\n<pre><code> @Override\n  protected void attachBaseContext(Context base) {\n     super.attachBaseContext(base);\n     MultiDex.install(this);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":267334,"reputation":2179,"user_id":555451,"display_name":"Stuart Cardall"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622838901,"creation_date":1512557776,"answer_id":47672611,"question_id":17973970,"body_markdown":"I use the [FileSync plugin for Eclipse][1], so I can live debug on Tomcat. I received `NoClassFoundError`, because I had added a sync entry for the `bin` directory in the Eclipse workspace `=&gt; classes` in the `metadata` for Tomcat, but I hadn&#39;t also added a folder sync for the `extlib` directory in Eclipse `=&gt;`\r\n\r\n`C:\\Users\\Stuart\\eclipse-workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\webapps\\myApp\\WEB-INF\\lib`\r\n\r\n  [1]: http://andrei.gmxhome.de/filesync/usage.html\r\n\r\n\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>I use the <a href=\"http://andrei.gmxhome.de/filesync/usage.html\" rel=\"nofollow noreferrer\">FileSync plugin for Eclipse</a>, so I can live debug on Tomcat. I received <code>NoClassFoundError</code>, because I had added a sync entry for the <code>bin</code> directory in the Eclipse workspace <code>=&gt; classes</code> in the <code>metadata</code> for Tomcat, but I hadn't also added a folder sync for the <code>extlib</code> directory in Eclipse <code>=&gt;</code></p>\n<p><code>C:\\Users\\Stuart\\eclipse-workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\webapps\\myApp\\WEB-INF\\lib</code></p>\n"},{"tags":[],"owner":{"account_id":5825739,"reputation":577,"user_id":4592215,"display_name":"Alexander Khomenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523004088,"creation_date":1523004088,"answer_id":49688777,"question_id":17973970,"body_markdown":"I&#39;m developing an Eclipse based application also known as **RCP (Rich Client Platform)**.\r\nAnd I have been facing this problem after refactoring (moving one class from an plugIn to a new one).\r\n\r\nCleaning the project and Maven update didn&#39;t help.\r\n\r\nThe problem was caused by the **Bundle-Activator** which haven&#39;t been updated automatically. Manual update of the Bundle-Activator under **MANIFEST.MF** in the new PlugIn has fixed my problem.","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>I'm developing an Eclipse based application also known as <strong>RCP (Rich Client Platform)</strong>.\nAnd I have been facing this problem after refactoring (moving one class from an plugIn to a new one).</p>\n\n<p>Cleaning the project and Maven update didn't help.</p>\n\n<p>The problem was caused by the <strong>Bundle-Activator</strong> which haven't been updated automatically. Manual update of the Bundle-Activator under <strong>MANIFEST.MF</strong> in the new PlugIn has fixed my problem.</p>\n"},{"tags":[],"owner":{"account_id":4523377,"reputation":2744,"user_id":3675925,"display_name":"Hamid Zandi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622838994,"creation_date":1525070174,"answer_id":50095146,"question_id":17973970,"body_markdown":"If you recently added multidex support in Android Studio like this:\r\n\r\n    // To support MultiDex\r\n    implementation &#39;com.android.support:multidex:1.0.1&#39;\r\n\r\nSo your solution is just extend from MultiDexApplication instead of Application:\r\n\r\n    public class MyApp extends MultiDexApplication {\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>If you recently added multidex support in Android Studio like this:</p>\n<pre><code>// To support MultiDex\nimplementation 'com.android.support:multidex:1.0.1'\n</code></pre>\n<p>So your solution is just extend from MultiDexApplication instead of Application:</p>\n<pre><code>public class MyApp extends MultiDexApplication {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6642498,"reputation":124,"user_id":5127796,"display_name":"Kyon Perez"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632332610,"creation_date":1546630678,"answer_id":54045017,"question_id":17973970,"body_markdown":"For my project, what solved the issue was that Chrome browser and chromedriver were not compatibles. I had a very old version of the driver that could not even open the browser. I just downloaded the latest version of both and problem solved. \r\n\r\nHow did I discover the issue? Because I ran my project using the Selenium native Firefox driver with an old version of FF included with my application. I realized the problem was incompatibility between browser and driver.\r\n\r\nHope this can help anyone with a similar issue as mine, that generated this same Error Message.","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>For my project, what solved the issue was that Chrome browser and chromedriver were not compatibles. I had a very old version of the driver that could not even open the browser. I just downloaded the latest version of both and problem solved.</p>\n<p>How did I discover the issue? Because I ran my project using the Selenium native Firefox driver with an old version of FF included with my application. I realized the problem was incompatibility between browser and driver.</p>\n<p>Hope this can help anyone with a similar issue as mine, that generated this same Error Message.</p>\n"},{"tags":[],"owner":{"account_id":6615281,"reputation":1826,"user_id":5108777,"display_name":"manuelvigarcia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575561702,"creation_date":1575561702,"answer_id":59198987,"question_id":17973970,"body_markdown":"Don&#39;t use test classes outside the module\r\n==\r\nI do not have a solution, just another flavour of the &quot;present at compilation, absent at run time&quot; case.\r\n\r\nI was trying to use a very convenient method from a JUnit test class from another test class which resides in a different module. That&#39;s a no-no, since test code is not part of the packaged jar, but I didn&#39;t realize because it appears visible for the user class from within Eclipse.\r\n\r\nMy solution was to place the method in a existing utilities class that is part of the production code.\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<h1>Don't use test classes outside the module</h1>\n\n<p>I do not have a solution, just another flavour of the \"present at compilation, absent at run time\" case.</p>\n\n<p>I was trying to use a very convenient method from a JUnit test class from another test class which resides in a different module. That's a no-no, since test code is not part of the packaged jar, but I didn't realize because it appears visible for the user class from within Eclipse.</p>\n\n<p>My solution was to place the method in a existing utilities class that is part of the production code.</p>\n"},{"tags":[],"owner":{"account_id":6663856,"reputation":365,"user_id":5142046,"accept_rate":88,"display_name":"Mystic Lin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622839329,"creation_date":1586329157,"answer_id":61094946,"question_id":17973970,"body_markdown":"In my environment, I encountered this issue in a unit test. After appending one library dependency to *.pom, that&#39;s fixed.\r\n\r\nExample:\r\n\r\nError message:\r\n\r\n    java.lang.NoClassDefFoundError: com/abc/def/foo/xyz/Iottt\r\n\r\n[POM][1] content:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.abc.def&lt;/groupId&gt;\r\n        &lt;artifactId&gt;foo&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>In my environment, I encountered this issue in a unit test. After appending one library dependency to *.pom, that's fixed.</p>\n<p>Example:</p>\n<p>Error message:</p>\n<pre><code>java.lang.NoClassDefFoundError: com/abc/def/foo/xyz/Iottt\n</code></pre>\n<p><a href=\"https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\" rel=\"nofollow noreferrer\">POM</a> content:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.abc.def&lt;/groupId&gt;\n    &lt;artifactId&gt;foo&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1606570,"reputation":1589,"user_id":1486563,"display_name":"Leonardo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622839430,"creation_date":1589939645,"answer_id":61903802,"question_id":17973970,"body_markdown":"I got this error after a Git branch change. For the specific case of Eclipse, there were missed lines in the *.settings* directory for the *org.eclipse.wst.common.component file*. As you can see below.\r\n\r\nRestoring the project dependencies with Maven install would help.\r\n\r\n[![Enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/TOjo0.png\r\n\r\n\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>I got this error after a Git branch change. For the specific case of Eclipse, there were missed lines in the <em>.settings</em> directory for the <em>org.eclipse.wst.common.component file</em>. As you can see below.</p>\n<p>Restoring the project dependencies with Maven install would help.</p>\n<p><a href=\"https://i.stack.imgur.com/TOjo0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TOjo0.png\" alt=\"Enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2448404,"reputation":8258,"user_id":2553191,"accept_rate":97,"display_name":"ehacinom"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622839488,"creation_date":1593347149,"answer_id":62622528,"question_id":17973970,"body_markdown":"If you are using `gradlew`, go to `./gradle/wrapper/gradle-wrapper.properties` and change `distributionUrl` to the correct version of [Gradle][1].\r\n\r\nIf you are using JDK14, try:\r\n\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-6.3-bin.zip\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Gradle\r\n\r\n\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>If you are using <code>gradlew</code>, go to <code>./gradle/wrapper/gradle-wrapper.properties</code> and change <code>distributionUrl</code> to the correct version of <a href=\"https://en.wikipedia.org/wiki/Gradle\" rel=\"nofollow noreferrer\">Gradle</a>.</p>\n<p>If you are using JDK14, try:</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.3-bin.zip\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6557638,"reputation":1760,"user_id":5069866,"accept_rate":60,"display_name":"mcnk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622839613,"creation_date":1610956221,"answer_id":65770567,"question_id":17973970,"body_markdown":"For [Meteor][1] or [Cordova][2] users,\r\n\r\nIt can be caused by the Java version you use. For Meteor and Cordova, stick with version 8 for now.\r\n\r\n1. Check available Java versions `/usr/libexec/java_home -V ` and look for the path name for Java version 8\r\n\r\n2. Set the path for Java version 8\r\n`export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_191.jdk/Contents/Home`\r\n\r\n3. Check if it is done\r\n`echo $JAVA_HOME`\r\n\r\nGo on and continue coding.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Meteor_%28web_framework%29\r\n  [2]: https://en.wikipedia.org/wiki/Apache_Cordova\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>For <a href=\"https://en.wikipedia.org/wiki/Meteor_%28web_framework%29\" rel=\"nofollow noreferrer\">Meteor</a> or <a href=\"https://en.wikipedia.org/wiki/Apache_Cordova\" rel=\"nofollow noreferrer\">Cordova</a> users,</p>\n<p>It can be caused by the Java version you use. For Meteor and Cordova, stick with version 8 for now.</p>\n<ol>\n<li><p>Check available Java versions <code>/usr/libexec/java_home -V </code> and look for the path name for Java version 8</p>\n</li>\n<li><p>Set the path for Java version 8\n<code>export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_191.jdk/Contents/Home</code></p>\n</li>\n<li><p>Check if it is done\n<code>echo $JAVA_HOME</code></p>\n</li>\n</ol>\n<p>Go on and continue coding.</p>\n"},{"tags":[],"owner":{"account_id":6064119,"reputation":1809,"user_id":4735043,"display_name":"Jin Lim"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1622839640,"creation_date":1612711451,"answer_id":66089577,"question_id":17973970,"body_markdown":"This error means **you didn&#39;t add some of the dependencies.**","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>This error means <strong>you didn't add some of the dependencies.</strong></p>\n"},{"tags":[],"owner":{"account_id":430482,"reputation":27583,"user_id":813951,"accept_rate":75,"display_name":"Mister Smith"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622840187,"creation_date":1619128935,"answer_id":67221366,"question_id":17973970,"body_markdown":"**The Java 11 + Eclipse solution:**\r\n\r\nThis solution is for you if you are not using `module-info.java` in your Eclipse project, and you added the JAR files manually instead of using [Maven][1]/[Gradle][2].\r\n\r\n1. Right click project &amp;rarr; *Build path* &amp;rarr; *Configure build path* &amp;rarr; *libraries* tab\r\n2. Remove the problematic JAR file from the modulepath\r\n3. Add the JAR file to the classpath\r\n\r\nMore information is in\r\n*https://stackoverflow.com/questions/50321602/in-eclipse-what-is-the-difference-between-modulepath-and-classpath*.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Maven\r\n  [2]: https://en.wikipedia.org/wiki/Gradle\r\n\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p><strong>The Java 11 + Eclipse solution:</strong></p>\n<p>This solution is for you if you are not using <code>module-info.java</code> in your Eclipse project, and you added the JAR files manually instead of using <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a>/<a href=\"https://en.wikipedia.org/wiki/Gradle\" rel=\"nofollow noreferrer\">Gradle</a>.</p>\n<ol>\n<li>Right click project → <em>Build path</em> → <em>Configure build path</em> → <em>libraries</em> tab</li>\n<li>Remove the problematic JAR file from the modulepath</li>\n<li>Add the JAR file to the classpath</li>\n</ol>\n<p>More information is in\n<em><a href=\"https://stackoverflow.com/questions/50321602/in-eclipse-what-is-the-difference-between-modulepath-and-classpath\">In Eclipse, what is the difference between modulepath and classpath?</a></em>.</p>\n"},{"tags":[],"owner":{"account_id":13085809,"reputation":824,"user_id":9454812,"display_name":"walter33"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637062060,"creation_date":1622190078,"answer_id":67735347,"question_id":17973970,"body_markdown":"If you are &quot;starting&quot; a class from a JAR file, make sure to start with the JAR full path. For example, (if your &quot;main class&quot; is not specified in Manifest):\r\n\r\n    java -classpath &quot;./dialer.jar&quot; com.company.dialer.DialerServer\r\n\r\nAnd if there are any dependencies, such dependencies to other JAR files, you can solve such a dependency\r\n - either by adding such JAR files (full path to each JAR file) to the class path. For example,\r\n\r\n```\r\njava -classpath &quot;./libs/phone.jar;./libs/anotherlib.jar;./dialer.jar&quot; com.company.dialer.DialerServer\r\n```\r\n\r\n- or by editing the JAR manifest by adding &quot;dependency JAR filess&quot; to the manifest. Such a manifest file might look like:\r\n\r\n```\r\nManifest-Version: 1.0\r\nClass-Path: phone.jar anotherlib.jar\r\nBuild-Jdk-Spec: 1.8\r\nMain-Class: com.company.dialer.DialerServer\r\n```\r\n\r\n- or (if you are a developer having source code) you can use Maven to prepare a manifest for you by adding to the *.pom file:\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n    &lt;configuration&gt;\r\n        &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                &lt;mainClass&gt;com.company.dialer.DialerServer&lt;/mainClass&gt;\r\n\t\t\t\t&lt;!-- Workaround for Maven bug #MJAR-156 (https://jira.codehaus.org/browse/MJAR-156) --&gt;\r\n                &lt;useUniqueVersions&gt;false&lt;/useUniqueVersions&gt;\r\n            &lt;/manifest&gt;\r\n        &lt;/archive&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nPlease note that the above example uses `;` as a delimiter in classpath (it is valid for the Windows platform). On Linux, replace `;` by `:`.\r\n\r\nFor example,\r\n\r\n```\r\njava -classpath ./libs/phone.jar:./libs/anotherlib.jar:./dialer.jar\r\ncom.company.dialer.DialerServer\r\n```\r\n\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>If you are &quot;starting&quot; a class from a JAR file, make sure to start with the JAR full path. For example, (if your &quot;main class&quot; is not specified in Manifest):</p>\n<pre><code>java -classpath &quot;./dialer.jar&quot; com.company.dialer.DialerServer\n</code></pre>\n<p>And if there are any dependencies, such dependencies to other JAR files, you can solve such a dependency</p>\n<ul>\n<li>either by adding such JAR files (full path to each JAR file) to the class path. For example,</li>\n</ul>\n<pre><code>java -classpath &quot;./libs/phone.jar;./libs/anotherlib.jar;./dialer.jar&quot; com.company.dialer.DialerServer\n</code></pre>\n<ul>\n<li>or by editing the JAR manifest by adding &quot;dependency JAR filess&quot; to the manifest. Such a manifest file might look like:</li>\n</ul>\n<pre><code>Manifest-Version: 1.0\nClass-Path: phone.jar anotherlib.jar\nBuild-Jdk-Spec: 1.8\nMain-Class: com.company.dialer.DialerServer\n</code></pre>\n<ul>\n<li>or (if you are a developer having source code) you can use Maven to prepare a manifest for you by adding to the *.pom file:</li>\n</ul>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;archive&gt;\n            &lt;manifest&gt;\n                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                &lt;mainClass&gt;com.company.dialer.DialerServer&lt;/mainClass&gt;\n                &lt;!-- Workaround for Maven bug #MJAR-156 (https://jira.codehaus.org/browse/MJAR-156) --&gt;\n                &lt;useUniqueVersions&gt;false&lt;/useUniqueVersions&gt;\n            &lt;/manifest&gt;\n        &lt;/archive&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Please note that the above example uses <code>;</code> as a delimiter in classpath (it is valid for the Windows platform). On Linux, replace <code>;</code> by <code>:</code>.</p>\n<p>For example,</p>\n<pre><code>java -classpath ./libs/phone.jar:./libs/anotherlib.jar:./dialer.jar\ncom.company.dialer.DialerServer\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13619988,"reputation":330,"user_id":12244838,"display_name":"Hoiama Rodrigues"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649337937,"creation_date":1649337937,"answer_id":71783023,"question_id":17973970,"body_markdown":"I deleted the folder &quot;buid&quot; and &quot;out&quot;, and the IDE rebuild again this folders with updated content files.","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>I deleted the folder &quot;buid&quot; and &quot;out&quot;, and the IDE rebuild again this folders with updated content files.</p>\n"},{"tags":[],"owner":{"account_id":281886,"reputation":41,"user_id":578464,"display_name":"suleimanforever"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651825542,"creation_date":1651825542,"answer_id":72138391,"question_id":17973970,"body_markdown":"If you are using Maven, this can be due to the scope of the dependencies in pom.xml if they are set to &quot;provided&quot;, try changing it to &quot;compile&quot;.","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>If you are using Maven, this can be due to the scope of the dependencies in pom.xml if they are set to &quot;provided&quot;, try changing it to &quot;compile&quot;.</p>\n"},{"tags":[],"owner":{"account_id":1036839,"reputation":1125,"user_id":1043868,"display_name":"dmolony"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660884268,"creation_date":1660884268,"answer_id":73411926,"question_id":17973970,"body_markdown":"If using Eclipse, check the Run Configuration/Dependencies. I encountered this problem when using an external jar file that was included in the Java Build Path/Libraries, but somehow wasn&#39;t listed in the Run Configuration/Dependencies.","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>If using Eclipse, check the Run Configuration/Dependencies. I encountered this problem when using an external jar file that was included in the Java Build Path/Libraries, but somehow wasn't listed in the Run Configuration/Dependencies.</p>\n"}],"owner":{"account_id":2785906,"reputation":16981,"user_id":2397327,"accept_rate":97,"display_name":"Jonathan Lam"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1677991,"favorite_count":0,"down_vote_count":0,"up_vote_count":296,"accepted_answer_id":17974068,"answer_count":34,"score":296,"last_activity_date":1682606889,"creation_date":1375282827,"question_id":17973970,"body_markdown":"I&#39;ve tried both the examples in Oracle&#39;s [Java Tutorials][1]. They both compile fine, but at run time, both come up with this error:\r\n\r\n```lang-none\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: graphics/shapes/Square\r\n    at Main.main(Main.java:7)\r\nCaused by: java.lang.ClassNotFoundException: graphics.shapes.Square\r\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\r\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n    at java.security.AccessController.doPrivileged(Native Method)\r\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    ... 1 more\r\n```\r\n\r\nI think I might have the `Main.java` file in the wrong folder.\r\n\r\nHere is the directory hierarchy:\r\n\r\n```lang-none\r\ngraphics\r\n├ Main.java\r\n├ shapes\r\n|   ├ Square.java\r\n|   ├ Triangle.java\r\n├ linepoint\r\n|   ├ Line.java\r\n|   ├ Point.java\r\n├ spaceobjects\r\n|   ├ Cube.java\r\n|   ├ RectPrism.java\r\n```\r\n\r\nAnd here is `Main.java`:\r\n\r\n    import graphics.shapes.*;\r\n    import graphics.linepoint.*\r\n    import graphics.spaceobjects.*;\r\n\r\n    public class Main {\r\n        public static void main(String args[]) {\r\n            Square s = new Square(2, 3, 15);\r\n            Line l = new Line(1, 5, 2, 3);\r\n            Cube c = new Cube(13, 32, 22);\r\n        }\r\n    }\r\n\r\nWhat am I doing wrong here?\r\n\r\n**UPDATE**\r\n\r\nAfter I put put the `Main` class into the `graphics` package (I added `package graphics;` to it), set the classpath to &quot;_test&quot; (folder containing graphics), compiled it, and ran it using `java graphics.Main` (from the command line), it worked.\r\n\r\n**Really late UPDATE #2**\r\n\r\nI wasn&#39;t using [Eclipse][2] (just [Notepad++][3] and the JDK), and the above update solved my problem. However, it seems that many of these answers are for Eclipse and [IntelliJ IDEA][4], but they have similar concepts.\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial\r\n  [2]: https://en.wikipedia.org/wiki/Eclipse_%28software%29\r\n  [3]: https://en.wikipedia.org/wiki/Notepad%2B%2B\r\n  [4]: https://en.wikipedia.org/wiki/IntelliJ_IDEA\r\n\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>I've tried both the examples in Oracle's <a href=\"http://docs.oracle.com/javase/tutorial\" rel=\"noreferrer\">Java Tutorials</a>. They both compile fine, but at run time, both come up with this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: graphics/shapes/Square\n    at Main.main(Main.java:7)\nCaused by: java.lang.ClassNotFoundException: graphics.shapes.Square\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 1 more\n</code></pre>\n<p>I think I might have the <code>Main.java</code> file in the wrong folder.</p>\n<p>Here is the directory hierarchy:</p>\n<pre class=\"lang-none prettyprint-override\"><code>graphics\n├ Main.java\n├ shapes\n|   ├ Square.java\n|   ├ Triangle.java\n├ linepoint\n|   ├ Line.java\n|   ├ Point.java\n├ spaceobjects\n|   ├ Cube.java\n|   ├ RectPrism.java\n</code></pre>\n<p>And here is <code>Main.java</code>:</p>\n<pre><code>import graphics.shapes.*;\nimport graphics.linepoint.*\nimport graphics.spaceobjects.*;\n\npublic class Main {\n    public static void main(String args[]) {\n        Square s = new Square(2, 3, 15);\n        Line l = new Line(1, 5, 2, 3);\n        Cube c = new Cube(13, 32, 22);\n    }\n}\n</code></pre>\n<p>What am I doing wrong here?</p>\n<p><strong>UPDATE</strong></p>\n<p>After I put put the <code>Main</code> class into the <code>graphics</code> package (I added <code>package graphics;</code> to it), set the classpath to &quot;_test&quot; (folder containing graphics), compiled it, and ran it using <code>java graphics.Main</code> (from the command line), it worked.</p>\n<p><strong>Really late UPDATE #2</strong></p>\n<p>I wasn't using <a href=\"https://en.wikipedia.org/wiki/Eclipse_%28software%29\" rel=\"noreferrer\">Eclipse</a> (just <a href=\"https://en.wikipedia.org/wiki/Notepad%2B%2B\" rel=\"noreferrer\">Notepad++</a> and the JDK), and the above update solved my problem. However, it seems that many of these answers are for Eclipse and <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"noreferrer\">IntelliJ IDEA</a>, but they have similar concepts.</p>\n"},{"tags":["java","mongodb","reactive"],"answers":[{"tags":[],"owner":{"account_id":27877036,"reputation":11,"user_id":21286335,"display_name":"Paarsah Soroury"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682606845,"creation_date":1682606845,"answer_id":76121756,"question_id":73690781,"body_markdown":"I have got the same error when I run &quot;java -jar [MyJavaProgram.jar]&quot; in which &quot;MyJavaProgram.java&quot; is included with another external jar file. ","title":"java.lang.NoClassDefFoundError: reactivemongo/core/errors/ConnectionException","body":"<p>I have got the same error when I run &quot;java -jar [MyJavaProgram.jar]&quot; in which &quot;MyJavaProgram.java&quot; is included with another external jar file.</p>\n"}],"owner":{"account_id":3146538,"reputation":149,"user_id":2660920,"display_name":"Heitor Barbieri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682606845,"creation_date":1662992393,"question_id":73690781,"body_markdown":"OS: Ubuntu 22.04.1 LTS\r\n\r\njava: openjdk-18.0.2.1\r\n\r\nI got the folowing error when trying to connect to a MongoDB database from ReactiveMongo API (reactivemongo_3-1.1.0-noshaded-RC6):\r\n\r\njava.lang.NoClassDefFoundError: reactivemongo/core/errors/ConnectionException\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: reactivemongo/core/errors/ConnectionException\r\n    \tat reactivemongo.api.AsyncDriver$.apply(AsyncDriver.scala:503)\r\n    \tat e2m.MongoExport.&lt;init&gt;(MongoExport.scala:35)\r\n    \tat e2m.MongoExport$.&lt;clinit&gt;(MongoExport.scala:82)\r\n    \tat e2m.MongoExport.main(MongoExport.scala)\r\n    Caused by: java.lang.ClassNotFoundException: reactivemongo.core.errors.ConnectionException\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \t... 4 more\r\n\r\nI looked for the package &quot;reactivemongo.core.errors&quot; inside the jar file and I did not found it. \r\nCould you help me out by telling me which jar file should I include in my project to solve this problem?\r\n\r\nThanks\r\n","title":"java.lang.NoClassDefFoundError: reactivemongo/core/errors/ConnectionException","body":"<p>OS: Ubuntu 22.04.1 LTS</p>\n<p>java: openjdk-18.0.2.1</p>\n<p>I got the folowing error when trying to connect to a MongoDB database from ReactiveMongo API (reactivemongo_3-1.1.0-noshaded-RC6):</p>\n<p>java.lang.NoClassDefFoundError: reactivemongo/core/errors/ConnectionException</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: reactivemongo/core/errors/ConnectionException\n    at reactivemongo.api.AsyncDriver$.apply(AsyncDriver.scala:503)\n    at e2m.MongoExport.&lt;init&gt;(MongoExport.scala:35)\n    at e2m.MongoExport$.&lt;clinit&gt;(MongoExport.scala:82)\n    at e2m.MongoExport.main(MongoExport.scala)\nCaused by: java.lang.ClassNotFoundException: reactivemongo.core.errors.ConnectionException\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 4 more\n</code></pre>\n<p>I looked for the package &quot;reactivemongo.core.errors&quot; inside the jar file and I did not found it.\nCould you help me out by telling me which jar file should I include in my project to solve this problem?</p>\n<p>Thanks</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9754,"page":471,"page_size":100}
