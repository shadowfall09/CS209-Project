{"items":[{"tags":["java","swing","jframe","repaint"],"comments":[{"owner":{"account_id":2119809,"reputation":50969,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1692589573,"post_id":76942250,"comment_id":135638951,"body_markdown":"Your `jFrameRefresh` creates a brand new set of controls every time it is called.  That can&#39;t really be what you intended.  The new controls will throw out the old set of controls (which are the ones you probably updated).","body":"Your <code>jFrameRefresh</code> creates a brand new set of controls every time it is called.  That can&#39;t really be what you intended.  The new controls will throw out the old set of controls (which are the ones you probably updated)."},{"owner":{"account_id":2119809,"reputation":50969,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1692589672,"post_id":76942250,"comment_id":135638963,"body_markdown":"The first 99% of `jFrameRefresh` should be a separate function, `jFrameCreate`  The last 7 lines should be `jFrameRefresh`.","body":"The first 99% of <code>jFrameRefresh</code> should be a separate function, <code>jFrameCreate</code>  The last 7 lines should be <code>jFrameRefresh</code>."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1692590709,"post_id":76942250,"comment_id":135639020,"body_markdown":"`static` is not your friend and this is not how you should be using it.  Maybe, you should investigate the &quot;singleton&quot; pattern (if it&#39;s not done using an `enum` then it&#39;s probably wrong). It&#39;d also argue that `repaint` is irrelevant to what you&#39;re trying to do","body":"<code>static</code> is not your friend and this is not how you should be using it.  Maybe, you should investigate the &quot;singleton&quot; pattern (if it&#39;s not done using an <code>enum</code> then it&#39;s probably wrong). It&#39;d also argue that <code>repaint</code> is irrelevant to what you&#39;re trying to do"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1692590828,"post_id":76942250,"comment_id":135639028,"body_markdown":"You might also want to look into the concept of &quot;model-view-controller&quot; and &quot;dependency injection&quot;","body":"You might also want to look into the concept of &quot;model-view-controller&quot; and &quot;dependency injection&quot;"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1692595296,"post_id":76942250,"comment_id":135639371,"body_markdown":"It appears that you want your app to display and modify the contents of your JSON file. Currently you are only using containers including `JPanel` and `JScrollPane`. What you probably need is a [JList](https://docs.oracle.com/javase/tutorial/uiswing/components/list.html) or a [JTable](https://docs.oracle.com/javase/tutorial/uiswing/components/table.html) to display the contents of the JSON file.","body":"It appears that you want your app to display and modify the contents of your JSON file. Currently you are only using containers including <code>JPanel</code> and <code>JScrollPane</code>. What you probably need is a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/list.html\" rel=\"nofollow noreferrer\">JList</a> or a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">JTable</a> to display the contents of the JSON file."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1692662141,"post_id":76942250,"comment_id":135651552,"body_markdown":"I copied your code into my IDE.  It has 35 compilation errors because I have no idea what JSON jar you are using.  If you don&#39;t have the time to produce a [mre] that I can copy into my IDE and run, then I don&#39;t have time to figure out how to make your project work.    Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Study it.","body":"I copied your code into my IDE.  It has 35 compilation errors because I have no idea what JSON jar you are using.  If you don&#39;t have the time to produce a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that I can copy into my IDE and run, then I don&#39;t have time to figure out how to make your project work.    Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Study it."}],"owner":{"account_id":29264714,"reputation":1,"user_id":22420751,"display_name":"ThrillerGriller"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692719003,"creation_date":1692588933,"question_id":76942250,"body_markdown":"I&#39;m working on a JFrame application to save data with many different panels, labels and buttons. I want it so whenever data is added, it should refresh the page. It doesn&#39;t seem to work though?\r\n\r\nHere is the repaint code:\r\n\r\n```\r\n//Refreshes mainFrame\r\n    if (startUp == true) {\r\n\tmainFrame.setVisible(true);\r\n\tstartUp = false;\r\n    } else {\r\n\tSystem.out.println(&quot;repaint&quot;);\r\n\tmainFrame.repaint();\r\n    }\r\n```\r\n\r\nHere&#39;s my full code:\r\n\r\n**UserInterface.java**\r\n\r\n```\r\npackage groupid;\r\n\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.FlowLayout;\r\nimport java.awt.Font;\r\nimport java.awt.Image;\r\nimport java.awt.Toolkit;\r\nimport java.awt.datatransfer.DataFlavor;\r\nimport java.awt.datatransfer.UnsupportedFlavorException;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.KeyAdapter;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.WindowAdapter;\r\nimport java.awt.event.WindowEvent;\r\nimport java.io.IOException;\r\n\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JComboBox;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTextArea;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.ScrollPaneConstants;\r\nimport javax.swing.SwingUtilities;\r\n\r\nimport org.json.simple.JSONObject;\r\n\r\n\r\n\r\npublic class UserInterface {\r\n\tstatic Boolean startUp = true;\r\n\t\r\n\t//Sort Options - Different Ways to Short Data\r\n\tstatic String sortOptions[] = {&quot;A - Z&quot;,&quot;Z - A&quot;,&quot;Recently Created&quot;,&quot;Oldest Created&quot;,&quot;Recently Modified&quot;};\r\n\t\r\n\t//Main Frame Components\r\n\tstatic ImageIcon icon;\r\n\tstatic JFrame mainFrame;\r\n\tstatic JPanel mainPanel;\r\n\tstatic JScrollPane mainScrollPane;\r\n\t\r\n\t//Main Panel Components\r\n\tstatic JPanel rightPanel;\r\n\tstatic JPanel sidePanel;\r\n\t\r\n\t//Right Panel Components\r\n\tstatic JPanel topPanel;\r\n\tstatic JPanel searchPanel;\r\n\tstatic JLabel searchLabel;\r\n\tstatic JTextField searchBar;\r\n\tstatic JPanel sortPanel;\r\n\tstatic JLabel sortByLabel;\r\n\tstatic JPanel bottomPanel;\r\n\tstatic JPanel addButtonPanel;\r\n\tstatic JButton addButton;\r\n\t\r\n\tstatic JPanel flowPanel;\r\n\tstatic JPanel titlePanel;\r\n\tstatic JLabel titleLabel;\r\n\tstatic JTextArea valueLabel;\r\n\t\r\n\tstatic String clipboardString;\r\n\tstatic Boolean pasteBool;\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tDatabase.startUp();\r\n\t\tUserInterface.jFrameRefresh();\r\n\t}\r\n\t\r\n\tpublic static void jFrameRefresh(){\r\n\t\tif (startUp == true) {\r\n\t\t\tmainFrame = new JFrame(); // Creates our main frame\r\n\t\tmainFrame.setSize(1600, 900);\r\n\t\tmainFrame.setTitle(&quot;ClippyBoards&quot;);\r\n\t\tmainFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tmainFrame.setResizable(true);\r\n\t\tmainFrame.setFocusable(true);\r\n\t\tmainFrame.setLayout(new BorderLayout(10,0));\r\n\t\tmainFrame.addWindowListener(new WindowAdapter() { // Exits out of application\r\n\t\t\t@Override\r\n\t\t    public void windowClosing(WindowEvent e) {\r\n\t\t        Database.saveFile();\r\n\t\t        mainFrame.dispose();\r\n\t\t    }\r\n\t\t});\r\n\t\t\r\n\t\t// Ctrl-V Ability\r\n\t\tmainFrame.addKeyListener(new KeyAdapter() {\r\n\t\t\t@Override\r\n\t\t\tpublic void keyReleased(KeyEvent e) {\r\n\t\t\t\tif(e.getKeyCode() == KeyEvent.VK_V &amp;&amp; (e.getModifiersEx() &amp; KeyEvent.CTRL_DOWN_MASK) != 0) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tclipboardString = (String) Toolkit.getDefaultToolkit().getSystemClipboard().getData(DataFlavor.stringFlavor);\r\n\t\t\t\t\t} catch (UnsupportedFlavorException | IOException e1) {\r\n\t\t\t\t\t\te1.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tpasteBool = true;\r\n\t\t\t\t\tnew AddToClippyBoard();\r\n\t\t\t\t\tpasteBool = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\ticon = new ImageIcon(&quot;EggSMP.png&quot;);\r\n\t\tmainFrame.setIconImage(icon.getImage());\r\n\t\tmainFrame.getContentPane().setBackground(new Color(100,100,100));\r\n\t\t}\r\n\t\t\r\n\t\t// Right Panel - Panel that holds bottom panel and main panel\r\n\t\trightPanel = new JPanel(new BorderLayout(5,5));\r\n\t\trightPanel.setBackground(new Color(150,150,150));\r\n\t\trightPanel.setPreferredSize(new Dimension(1200,500));\r\n\t\tmainFrame.add(rightPanel,BorderLayout.CENTER);\r\n\t\t\r\n\t\tmainPanel = new JPanel(new FlowLayout(FlowLayout.CENTER,20,20));\r\n\t\tmainPanel.setBackground(new Color(230,230,230));\r\n\t\tmainScrollPane = new JScrollPane(mainPanel);\r\n\t\tmainScrollPane.createVerticalScrollBar();\r\n\t\tmainScrollPane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\r\n\t\tmainScrollPane.getVerticalScrollBar().setUnitIncrement(20);\r\n\t\trightPanel.add(mainScrollPane); // adds mainPanel, with scroll bar\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.println(Database.jsonArray.size());\r\n\t\t// Flow Panels - Shows all saved data\r\n\t\tloadClippy();\r\n\t\t\r\n\t\tif (valueLabel == null) {\r\n\t\t\tmainPanel.setPreferredSize(new Dimension(1000,Database.jsonArray.size()*(400+20)+50));\r\n\t\t} else {\r\n\t\t\tmainPanel.setPreferredSize(new Dimension(1000,Database.jsonArray.size()*(60 + (valueLabel.getLineCount()*18)+20)+50));\r\n\t\t}\r\n\t\t\r\n\t\t// Side Panel - Navigate and organize folders\r\n\t\tsidePanel = new JPanel(new FlowLayout());\r\n\t\tsidePanel.setPreferredSize(new Dimension(500,100));\r\n\t\tsidePanel.setBackground(new Color(220,228,232));\r\n\t\tmainFrame.add(sidePanel,BorderLayout.WEST);\r\n\t\t\r\n\t\t//Top Panel - Search Bar &amp; Sorting Options\r\n\t\ttopPanel = new JPanel(new BorderLayout());\r\n\t\ttopPanel.setPreferredSize(new Dimension(1000,50));\r\n\t\ttopPanel.setBackground(new Color(230,230,230));\r\n\t\trightPanel.add(topPanel,BorderLayout.NORTH);\r\n\t\t\r\n\t\t//Search Panel - Holds Search Bar\r\n\t\tsearchPanel = new JPanel(new FlowLayout(FlowLayout.TRAILING,5,12));\r\n\t\tsearchPanel.setPreferredSize(new Dimension(500,50));\r\n\t\tsearchPanel.setBackground(new Color(230,230,230));\r\n\t\ttopPanel.add(searchPanel,BorderLayout.EAST);\r\n\t\t\r\n\t\t//Search Label\r\n\t\tsearchLabel = new JLabel();\r\n\t\tsearchLabel.setFont(new Font(&quot;Arial&quot;,Font.BOLD,20));\r\n\t\tsearchLabel.setText(&quot;Search:&quot;);\r\n\t\tsearchPanel.add(searchLabel);\r\n\t\t\r\n\t\t//Search Bar - Search for Items within\r\n\t\tsearchBar = new JTextField();\r\n\t\tsearchBar.setPreferredSize(new Dimension(250,30));\r\n\t\tsearchBar.setBackground(new Color(250,250,250));\r\n\t\tsearchBar.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,20));\r\n\t\tsearchPanel.add(searchBar);\r\n\t\t\r\n\t\t//Sort Panel - Holds Sort Filter\r\n\t\tsortPanel = new JPanel(new FlowLayout(FlowLayout.LEADING,5,12));\r\n\t\tsortPanel.setPreferredSize(new Dimension(600,50));\r\n\t\tsortPanel.setBackground(new Color(230,230,230));\r\n\t\ttopPanel.add(sortPanel,BorderLayout.WEST);\r\n\t\t\r\n\t\t//Sort Label\r\n\t\ticon = new ImageIcon(new ImageIcon(&quot;SortBlack.png&quot;).getImage().getScaledInstance(30, 30, Image.SCALE_DEFAULT));\r\n\t\tsortByLabel = new JLabel();\r\n\t\tsortByLabel.setFont(new Font(&quot;Arial&quot;,Font.BOLD,20));\r\n\t\tsortByLabel.setText(&quot;Sort By:&quot;);\r\n\t\tsortByLabel.setIcon(icon);\r\n\t\tsortPanel.add(sortByLabel);\r\n\t\t\r\n\t\t//sort Filter - Sorts data by selected filter\r\n\t\tJComboBox&lt;String&gt; sortBy = new JComboBox&lt;String&gt;(sortOptions);\r\n\t\tsortBy.setPreferredSize(new Dimension(200,30));\r\n\t\tsortBy.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,20));\r\n\t\tsortPanel.add(sortBy);\r\n\t\t\r\n\t\t// Bottom Panel - Undecided\r\n\t\tbottomPanel = new JPanel(new BorderLayout());\r\n\t\tbottomPanel.setPreferredSize(new Dimension(100,50));\r\n\t\tbottomPanel.setBackground(new Color(220,228,232));\r\n\t\trightPanel.add(bottomPanel,BorderLayout.SOUTH);\r\n\t\t\r\n\t\t\r\n\t\t// Button Panel - Holds Add Button\r\n\t\taddButtonPanel = new JPanel();\r\n\t\taddButtonPanel.setPreferredSize(new Dimension(50,50));\r\n\t\taddButtonPanel.setBackground(new Color(220,228,232));\r\n\t\tbottomPanel.add(addButtonPanel,BorderLayout.EAST);\r\n\t\t\r\n\t\t// Add Button - Will open window to import new info\r\n\t\taddButton = new JButton(&quot;+&quot;);\r\n\t\taddButton.setFont(new Font(&quot;Arial&quot;,Font.BOLD,20));\r\n\t\taddButton.setAlignmentX(JPanel.CENTER_ALIGNMENT);\r\n\t\taddButton.setAlignmentY(JPanel.CENTER_ALIGNMENT);\r\n\t\taddButtonPanel.add(addButton);\r\n\t\taddButton.addActionListener(new ActionListener() {\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tif(e.getSource()==addButton) {\r\n\t\t\t\t\tpasteBool = false;\r\n\t\t\t\t\tnew AddToClippyBoard(); \r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t});\r\n        \t\r\n                //Refreshes mainFrame\r\n\t\tif (startUp == true) {\r\n\t\t\tmainFrame.setVisible(true);\r\n\t\t\tstartUp = false;\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;repaint&quot;);\r\n\t\t\tmainFrame.repaint();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void loadClippy() {\r\n\t\tfor (int i = 0; i &lt; Database.jsonArray.size(); i++) {\r\n\t\t\tJSONObject tempObject = (JSONObject) Database.jsonArray.get(i);;\r\n\t\t\t\r\n\t\t\tflowPanel = new JPanel(new BorderLayout());\r\n\t\t\tflowPanel.setPreferredSize(new Dimension(1000,400));\r\n\t\t\tflowPanel.setBackground(new Color(220,220,220));\r\n\t\t\tmainPanel.add(flowPanel);\r\n\t\t\t\r\n\t\t\ttitlePanel = new JPanel(new BorderLayout());\r\n\t\t\ttitlePanel.setPreferredSize(new Dimension(1000,50));\r\n\t\t\ttitlePanel.setBackground(new Color(220,220,220));\r\n\t\t\tflowPanel.add(titlePanel,BorderLayout.NORTH);\r\n\t\t\t\r\n\t\t\ttitleLabel = new JLabel();\r\n\t\t\ttitleLabel.setFont(new Font(&quot;Arial&quot;,Font.BOLD,25));\r\n\t\t\ttitleLabel.setText(tempObject.get(&quot;name&quot;).toString());\r\n\t\t\ttitlePanel.add(titleLabel);\r\n\t\t\t\r\n\t\t\tvalueLabel = new JTextArea();\r\n\t\t\tvalueLabel.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,15));\r\n\t\t\tvalueLabel.setBackground(new Color(220,220,220));\r\n\t\t\tvalueLabel.setLineWrap(true);\r\n\t\t\tvalueLabel.setWrapStyleWord(true);\r\n\t\t\tvalueLabel.setEditable(false);\r\n\t\t\tvalueLabel.setText(tempObject.get(&quot;value&quot;).toString());\r\n\t\t\t\r\n\t\t\tflowPanel.setPreferredSize(new Dimension(1000,60 + (valueLabel.getLineCount()*18)));\r\n\t\t\tflowPanel.add(valueLabel);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void dispose() {\r\n\t\tmainFrame.dispose();\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n**Database.java**\r\n\r\n```\r\npackage groupid;\r\nimport java.io.File;\r\nimport java.io.FileReader;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n\r\nimport org.json.simple.JSONArray;\r\nimport org.json.simple.JSONObject;\r\nimport org.json.simple.parser.JSONParser;\r\n\r\n\r\npublic class Database {\r\n\t\r\n\tstatic String path = &quot;C:/Users/Edison Cai/Downloads/temp.json&quot;; //Path to saved file\r\n\tstatic JSONArray jsonArray = new JSONArray(); // Creates our JSONArray\r\n\t\r\n\tstatic SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\t\r\n\t// Imports or creates JSONArray to be used in the program\r\n\tpublic static void startUp() {\r\n\t\tJSONParser parser = new JSONParser();\r\n\t\t\r\n\t\tif (new File(path).exists()) {\r\n\t\t\ttry {\r\n\t\t\t\tjsonArray = (JSONArray) parser.parse(new FileReader(path)); //Reads and parses file\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(jsonArray);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void addToDatabase(String name, String value) {\r\n\t\tJSONObject jsonObject = new JSONObject();\r\n\t\tjsonObject.put(&quot;name&quot;, name);\r\n\t\tjsonObject.put(&quot;value&quot;, value);\r\n\t\t\r\n\t\tString date = dateFormat.format(new Date()).toString();\r\n\t\tjsonObject.put(&quot;date&quot;, date);\r\n\t\t\r\n\t\tjsonArray.add(jsonObject);\r\n\t\tSystem.out.println(jsonArray);\r\n\t}\r\n\t\r\n\t//Saves JSONArray to computer\r\n\tpublic static void saveFile() {\r\n\t\ttry {\r\n\t\t\tFileWriter fileWriter = new FileWriter(path);\r\n\t\t\tfileWriter.write(jsonArray.toJSONString());\r\n\t\t\tfileWriter.close();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\n**AddToClippyBoard.java**\r\n\r\n```\r\npackage groupid;\r\n\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.FlowLayout;\r\nimport java.awt.Font;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.ComponentAdapter;\r\nimport java.awt.event.ComponentEvent;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTextArea;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.ScrollPaneConstants;\r\n\r\npublic class AddToClippyBoard {\r\n\t\t\r\n\tJFrame addFrame = new JFrame();\r\n\t\r\n\tJPanel bottomPanel;\r\n\tJPanel topPanel;\r\n\t\r\n\tJTextArea valueTextArea;\r\n\tJTextField nameTextArea;\r\n\t\r\n\tJScrollPane valueScrollPane;\r\n\t\r\n\tJButton submitButton;\r\n\t\r\n\tString name;\r\n\tString value;\r\n\t\r\n\tAddToClippyBoard() {\r\n\t\t\r\n\t\tif (UserInterface.pasteBool == false) {\r\n\t\t\taddFrame.setSize(400, 600);\r\n\t\t\taddFrame.setTitle(&quot;Add to ClippyBoard&quot;);\r\n\t\t\taddFrame.setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE); // Exits out of application\r\n\t\t\taddFrame.setResizable(true);\r\n\t\t\taddFrame.setLayout(new BorderLayout());\r\n\t\t\taddFrame.setVisible(true);\r\n\t\t\t\r\n\t\t\ttopPanel = new JPanel();\r\n\t\t\ttopPanel.setPreferredSize(new Dimension(400,250));\r\n\t\t\ttopPanel.setBackground(new Color(230,230,230));\r\n\t\t\taddFrame.add(topPanel,BorderLayout.CENTER);\r\n\t\t\t\r\n\t\t\tbottomPanel = new JPanel(new FlowLayout(FlowLayout.TRAILING));\r\n\t\t\tbottomPanel.setPreferredSize(new Dimension(400,50));\r\n\t\t\tbottomPanel.setBackground(new Color(220,228,232));\r\n\t\t\taddFrame.add(bottomPanel,BorderLayout.SOUTH);\r\n\t\t\t\r\n\t\t\tnameTextArea = new JTextField();\r\n\t\t\tnameTextArea.setPreferredSize(new Dimension(addFrame.getWidth()-50,40));\r\n\t\t\tnameTextArea.setFont(new Font(&quot;Arial&quot;,Font.BOLD,20));\r\n\t\t\ttopPanel.add(nameTextArea);\r\n\t\t\t\r\n\t\t\tvalueTextArea = new JTextArea();\r\n\t\t\tvalueTextArea.setPreferredSize(new Dimension(addFrame.getWidth()-50,180));\r\n\t\t\tvalueTextArea.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,14));\r\n\t\t\tvalueTextArea.setLineWrap(true);\r\n\t\t\tvalueTextArea.setWrapStyleWord(true);\t\t\r\n\t\t\tvalueScrollPane = new JScrollPane(valueTextArea);\r\n\t\t\tvalueScrollPane.createVerticalScrollBar();\r\n\t\t\tvalueScrollPane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\r\n\t\t\tvalueScrollPane.getVerticalScrollBar().setUnitIncrement(20);\r\n\t\t\ttopPanel.add(valueScrollPane);\r\n\t\t\t\r\n\t\t\tsubmitButton = new JButton();\r\n\t\t\tsubmitButton.setPreferredSize(new Dimension(100,40));\r\n\t\t\tsubmitButton.setText(&quot;Submit&quot;);\r\n\t\t\tsubmitButton.setFont(new Font(&quot;Arial&quot;,Font.BOLD,20));\r\n\t\t\tbottomPanel.add(submitButton);\r\n\t\t\tsubmitButton.addActionListener(new ActionListener() {\r\n\t\t\t\t\r\n\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\tif(e.getSource()==submitButton) {\r\n\t\t\t\t\t\tvalue = valueTextArea.getText();\r\n\t\t\t\t\t\tname = nameTextArea.getText();\r\n\t\r\n\t\t\t\t\t\tif (!value.equals(&quot;&quot;)) {\r\n\t\t\t\t\t\t\tif (name.equals(&quot;&quot;)) {\r\n\t\t\t\t\t\t\t\tname = &quot;Untitled Clippy&quot;;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tDatabase.addToDatabase(name,value);\r\n\t\t\t\t\t\t\tUserInterface.mainFrame.removeAll();\r\n\t\t\t\t\t\t\taddFrame.dispose();\r\n\t\t\t\t\t\t\tUserInterface.jFrameRefresh();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\taddFrame.pack();\r\n\t\t\taddFrame.addComponentListener(new ComponentAdapter() {\r\n\t\t\t\tpublic void componentResized(ComponentEvent e) {\r\n\t\t\t\t\tnameTextArea.setPreferredSize(new Dimension(addFrame.getWidth()-50,40));\r\n\t\t\t\t\tvalueScrollPane.setPreferredSize(new Dimension(addFrame.getWidth()-50,topPanel.getHeight()-nameTextArea.getHeight()-20));\r\n\t\t\t\t\taddFrame.repaint();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else if (UserInterface.pasteBool == true) {\r\n\t\t\tvalue = UserInterface.clipboardString;\r\n\t\t\tname = &quot;Untitled Clippy&quot;;\r\n\t\t\tDatabase.addToDatabase(name,value);\r\n\t\t\tUserInterface.mainFrame.removeAll();\r\n\t\t\tUserInterface.jFrameRefresh();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nAny help would be greatly appreciated.\r\n\r\nI have a system.out.println() function which will run, so I know that it that line does run. However, whenever it does, it doesn&#39;t seem to change the screen. I&#39;ve tried using validate, and some other weird SwingUtilites methods. Nothing seems to work.\r\n\r\nAny help would be greatly apprciated!","title":"{SOLVED} JFrame&#39;s repaint() functions doesn&#39;t seem to work?","body":"<p>I'm working on a JFrame application to save data with many different panels, labels and buttons. I want it so whenever data is added, it should refresh the page. It doesn't seem to work though?</p>\n<p>Here is the repaint code:</p>\n<pre><code>//Refreshes mainFrame\n    if (startUp == true) {\n    mainFrame.setVisible(true);\n    startUp = false;\n    } else {\n    System.out.println(&quot;repaint&quot;);\n    mainFrame.repaint();\n    }\n</code></pre>\n<p>Here's my full code:</p>\n<p><strong>UserInterface.java</strong></p>\n<pre><code>package groupid;\n\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.awt.Font;\nimport java.awt.Image;\nimport java.awt.Toolkit;\nimport java.awt.datatransfer.DataFlavor;\nimport java.awt.datatransfer.UnsupportedFlavorException;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\nimport java.io.IOException;\n\nimport javax.swing.ImageIcon;\nimport javax.swing.JButton;\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.JTextField;\nimport javax.swing.ScrollPaneConstants;\nimport javax.swing.SwingUtilities;\n\nimport org.json.simple.JSONObject;\n\n\n\npublic class UserInterface {\n    static Boolean startUp = true;\n    \n    //Sort Options - Different Ways to Short Data\n    static String sortOptions[] = {&quot;A - Z&quot;,&quot;Z - A&quot;,&quot;Recently Created&quot;,&quot;Oldest Created&quot;,&quot;Recently Modified&quot;};\n    \n    //Main Frame Components\n    static ImageIcon icon;\n    static JFrame mainFrame;\n    static JPanel mainPanel;\n    static JScrollPane mainScrollPane;\n    \n    //Main Panel Components\n    static JPanel rightPanel;\n    static JPanel sidePanel;\n    \n    //Right Panel Components\n    static JPanel topPanel;\n    static JPanel searchPanel;\n    static JLabel searchLabel;\n    static JTextField searchBar;\n    static JPanel sortPanel;\n    static JLabel sortByLabel;\n    static JPanel bottomPanel;\n    static JPanel addButtonPanel;\n    static JButton addButton;\n    \n    static JPanel flowPanel;\n    static JPanel titlePanel;\n    static JLabel titleLabel;\n    static JTextArea valueLabel;\n    \n    static String clipboardString;\n    static Boolean pasteBool;\n    \n    public static void main(String[] args) {\n        Database.startUp();\n        UserInterface.jFrameRefresh();\n    }\n    \n    public static void jFrameRefresh(){\n        if (startUp == true) {\n            mainFrame = new JFrame(); // Creates our main frame\n        mainFrame.setSize(1600, 900);\n        mainFrame.setTitle(&quot;ClippyBoards&quot;);\n        mainFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        mainFrame.setResizable(true);\n        mainFrame.setFocusable(true);\n        mainFrame.setLayout(new BorderLayout(10,0));\n        mainFrame.addWindowListener(new WindowAdapter() { // Exits out of application\n            @Override\n            public void windowClosing(WindowEvent e) {\n                Database.saveFile();\n                mainFrame.dispose();\n            }\n        });\n        \n        // Ctrl-V Ability\n        mainFrame.addKeyListener(new KeyAdapter() {\n            @Override\n            public void keyReleased(KeyEvent e) {\n                if(e.getKeyCode() == KeyEvent.VK_V &amp;&amp; (e.getModifiersEx() &amp; KeyEvent.CTRL_DOWN_MASK) != 0) {\n                    try {\n                        clipboardString = (String) Toolkit.getDefaultToolkit().getSystemClipboard().getData(DataFlavor.stringFlavor);\n                    } catch (UnsupportedFlavorException | IOException e1) {\n                        e1.printStackTrace();\n                    }\n                    pasteBool = true;\n                    new AddToClippyBoard();\n                    pasteBool = false;\n                }\n            }\n        });\n        \n        icon = new ImageIcon(&quot;EggSMP.png&quot;);\n        mainFrame.setIconImage(icon.getImage());\n        mainFrame.getContentPane().setBackground(new Color(100,100,100));\n        }\n        \n        // Right Panel - Panel that holds bottom panel and main panel\n        rightPanel = new JPanel(new BorderLayout(5,5));\n        rightPanel.setBackground(new Color(150,150,150));\n        rightPanel.setPreferredSize(new Dimension(1200,500));\n        mainFrame.add(rightPanel,BorderLayout.CENTER);\n        \n        mainPanel = new JPanel(new FlowLayout(FlowLayout.CENTER,20,20));\n        mainPanel.setBackground(new Color(230,230,230));\n        mainScrollPane = new JScrollPane(mainPanel);\n        mainScrollPane.createVerticalScrollBar();\n        mainScrollPane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\n        mainScrollPane.getVerticalScrollBar().setUnitIncrement(20);\n        rightPanel.add(mainScrollPane); // adds mainPanel, with scroll bar\n        \n        \n        System.out.println(Database.jsonArray.size());\n        // Flow Panels - Shows all saved data\n        loadClippy();\n        \n        if (valueLabel == null) {\n            mainPanel.setPreferredSize(new Dimension(1000,Database.jsonArray.size()*(400+20)+50));\n        } else {\n            mainPanel.setPreferredSize(new Dimension(1000,Database.jsonArray.size()*(60 + (valueLabel.getLineCount()*18)+20)+50));\n        }\n        \n        // Side Panel - Navigate and organize folders\n        sidePanel = new JPanel(new FlowLayout());\n        sidePanel.setPreferredSize(new Dimension(500,100));\n        sidePanel.setBackground(new Color(220,228,232));\n        mainFrame.add(sidePanel,BorderLayout.WEST);\n        \n        //Top Panel - Search Bar &amp; Sorting Options\n        topPanel = new JPanel(new BorderLayout());\n        topPanel.setPreferredSize(new Dimension(1000,50));\n        topPanel.setBackground(new Color(230,230,230));\n        rightPanel.add(topPanel,BorderLayout.NORTH);\n        \n        //Search Panel - Holds Search Bar\n        searchPanel = new JPanel(new FlowLayout(FlowLayout.TRAILING,5,12));\n        searchPanel.setPreferredSize(new Dimension(500,50));\n        searchPanel.setBackground(new Color(230,230,230));\n        topPanel.add(searchPanel,BorderLayout.EAST);\n        \n        //Search Label\n        searchLabel = new JLabel();\n        searchLabel.setFont(new Font(&quot;Arial&quot;,Font.BOLD,20));\n        searchLabel.setText(&quot;Search:&quot;);\n        searchPanel.add(searchLabel);\n        \n        //Search Bar - Search for Items within\n        searchBar = new JTextField();\n        searchBar.setPreferredSize(new Dimension(250,30));\n        searchBar.setBackground(new Color(250,250,250));\n        searchBar.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,20));\n        searchPanel.add(searchBar);\n        \n        //Sort Panel - Holds Sort Filter\n        sortPanel = new JPanel(new FlowLayout(FlowLayout.LEADING,5,12));\n        sortPanel.setPreferredSize(new Dimension(600,50));\n        sortPanel.setBackground(new Color(230,230,230));\n        topPanel.add(sortPanel,BorderLayout.WEST);\n        \n        //Sort Label\n        icon = new ImageIcon(new ImageIcon(&quot;SortBlack.png&quot;).getImage().getScaledInstance(30, 30, Image.SCALE_DEFAULT));\n        sortByLabel = new JLabel();\n        sortByLabel.setFont(new Font(&quot;Arial&quot;,Font.BOLD,20));\n        sortByLabel.setText(&quot;Sort By:&quot;);\n        sortByLabel.setIcon(icon);\n        sortPanel.add(sortByLabel);\n        \n        //sort Filter - Sorts data by selected filter\n        JComboBox&lt;String&gt; sortBy = new JComboBox&lt;String&gt;(sortOptions);\n        sortBy.setPreferredSize(new Dimension(200,30));\n        sortBy.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,20));\n        sortPanel.add(sortBy);\n        \n        // Bottom Panel - Undecided\n        bottomPanel = new JPanel(new BorderLayout());\n        bottomPanel.setPreferredSize(new Dimension(100,50));\n        bottomPanel.setBackground(new Color(220,228,232));\n        rightPanel.add(bottomPanel,BorderLayout.SOUTH);\n        \n        \n        // Button Panel - Holds Add Button\n        addButtonPanel = new JPanel();\n        addButtonPanel.setPreferredSize(new Dimension(50,50));\n        addButtonPanel.setBackground(new Color(220,228,232));\n        bottomPanel.add(addButtonPanel,BorderLayout.EAST);\n        \n        // Add Button - Will open window to import new info\n        addButton = new JButton(&quot;+&quot;);\n        addButton.setFont(new Font(&quot;Arial&quot;,Font.BOLD,20));\n        addButton.setAlignmentX(JPanel.CENTER_ALIGNMENT);\n        addButton.setAlignmentY(JPanel.CENTER_ALIGNMENT);\n        addButtonPanel.add(addButton);\n        addButton.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent e) {\n                if(e.getSource()==addButton) {\n                    pasteBool = false;\n                    new AddToClippyBoard(); \n                }\n            }\n            });\n            \n                //Refreshes mainFrame\n        if (startUp == true) {\n            mainFrame.setVisible(true);\n            startUp = false;\n        } else {\n            System.out.println(&quot;repaint&quot;);\n            mainFrame.repaint();\n        }\n    }\n    \n    public static void loadClippy() {\n        for (int i = 0; i &lt; Database.jsonArray.size(); i++) {\n            JSONObject tempObject = (JSONObject) Database.jsonArray.get(i);;\n            \n            flowPanel = new JPanel(new BorderLayout());\n            flowPanel.setPreferredSize(new Dimension(1000,400));\n            flowPanel.setBackground(new Color(220,220,220));\n            mainPanel.add(flowPanel);\n            \n            titlePanel = new JPanel(new BorderLayout());\n            titlePanel.setPreferredSize(new Dimension(1000,50));\n            titlePanel.setBackground(new Color(220,220,220));\n            flowPanel.add(titlePanel,BorderLayout.NORTH);\n            \n            titleLabel = new JLabel();\n            titleLabel.setFont(new Font(&quot;Arial&quot;,Font.BOLD,25));\n            titleLabel.setText(tempObject.get(&quot;name&quot;).toString());\n            titlePanel.add(titleLabel);\n            \n            valueLabel = new JTextArea();\n            valueLabel.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,15));\n            valueLabel.setBackground(new Color(220,220,220));\n            valueLabel.setLineWrap(true);\n            valueLabel.setWrapStyleWord(true);\n            valueLabel.setEditable(false);\n            valueLabel.setText(tempObject.get(&quot;value&quot;).toString());\n            \n            flowPanel.setPreferredSize(new Dimension(1000,60 + (valueLabel.getLineCount()*18)));\n            flowPanel.add(valueLabel);\n        }\n    }\n    \n    public static void dispose() {\n        mainFrame.dispose();\n    }\n    \n}\n</code></pre>\n<p><strong>Database.java</strong></p>\n<pre><code>package groupid;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\nimport org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\nimport org.json.simple.parser.JSONParser;\n\n\npublic class Database {\n    \n    static String path = &quot;C:/Users/Edison Cai/Downloads/temp.json&quot;; //Path to saved file\n    static JSONArray jsonArray = new JSONArray(); // Creates our JSONArray\n    \n    static SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n    \n    // Imports or creates JSONArray to be used in the program\n    public static void startUp() {\n        JSONParser parser = new JSONParser();\n        \n        if (new File(path).exists()) {\n            try {\n                jsonArray = (JSONArray) parser.parse(new FileReader(path)); //Reads and parses file\n                \n                System.out.println(jsonArray);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n    \n    public static void addToDatabase(String name, String value) {\n        JSONObject jsonObject = new JSONObject();\n        jsonObject.put(&quot;name&quot;, name);\n        jsonObject.put(&quot;value&quot;, value);\n        \n        String date = dateFormat.format(new Date()).toString();\n        jsonObject.put(&quot;date&quot;, date);\n        \n        jsonArray.add(jsonObject);\n        System.out.println(jsonArray);\n    }\n    \n    //Saves JSONArray to computer\n    public static void saveFile() {\n        try {\n            FileWriter fileWriter = new FileWriter(path);\n            fileWriter.write(jsonArray.toJSONString());\n            fileWriter.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p><strong>AddToClippyBoard.java</strong></p>\n<pre><code>package groupid;\n\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.awt.Font;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.ComponentAdapter;\nimport java.awt.event.ComponentEvent;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.JTextField;\nimport javax.swing.ScrollPaneConstants;\n\npublic class AddToClippyBoard {\n        \n    JFrame addFrame = new JFrame();\n    \n    JPanel bottomPanel;\n    JPanel topPanel;\n    \n    JTextArea valueTextArea;\n    JTextField nameTextArea;\n    \n    JScrollPane valueScrollPane;\n    \n    JButton submitButton;\n    \n    String name;\n    String value;\n    \n    AddToClippyBoard() {\n        \n        if (UserInterface.pasteBool == false) {\n            addFrame.setSize(400, 600);\n            addFrame.setTitle(&quot;Add to ClippyBoard&quot;);\n            addFrame.setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE); // Exits out of application\n            addFrame.setResizable(true);\n            addFrame.setLayout(new BorderLayout());\n            addFrame.setVisible(true);\n            \n            topPanel = new JPanel();\n            topPanel.setPreferredSize(new Dimension(400,250));\n            topPanel.setBackground(new Color(230,230,230));\n            addFrame.add(topPanel,BorderLayout.CENTER);\n            \n            bottomPanel = new JPanel(new FlowLayout(FlowLayout.TRAILING));\n            bottomPanel.setPreferredSize(new Dimension(400,50));\n            bottomPanel.setBackground(new Color(220,228,232));\n            addFrame.add(bottomPanel,BorderLayout.SOUTH);\n            \n            nameTextArea = new JTextField();\n            nameTextArea.setPreferredSize(new Dimension(addFrame.getWidth()-50,40));\n            nameTextArea.setFont(new Font(&quot;Arial&quot;,Font.BOLD,20));\n            topPanel.add(nameTextArea);\n            \n            valueTextArea = new JTextArea();\n            valueTextArea.setPreferredSize(new Dimension(addFrame.getWidth()-50,180));\n            valueTextArea.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,14));\n            valueTextArea.setLineWrap(true);\n            valueTextArea.setWrapStyleWord(true);       \n            valueScrollPane = new JScrollPane(valueTextArea);\n            valueScrollPane.createVerticalScrollBar();\n            valueScrollPane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\n            valueScrollPane.getVerticalScrollBar().setUnitIncrement(20);\n            topPanel.add(valueScrollPane);\n            \n            submitButton = new JButton();\n            submitButton.setPreferredSize(new Dimension(100,40));\n            submitButton.setText(&quot;Submit&quot;);\n            submitButton.setFont(new Font(&quot;Arial&quot;,Font.BOLD,20));\n            bottomPanel.add(submitButton);\n            submitButton.addActionListener(new ActionListener() {\n                \n                public void actionPerformed(ActionEvent e) {\n                    if(e.getSource()==submitButton) {\n                        value = valueTextArea.getText();\n                        name = nameTextArea.getText();\n    \n                        if (!value.equals(&quot;&quot;)) {\n                            if (name.equals(&quot;&quot;)) {\n                                name = &quot;Untitled Clippy&quot;;\n                            }\n                            Database.addToDatabase(name,value);\n                            UserInterface.mainFrame.removeAll();\n                            addFrame.dispose();\n                            UserInterface.jFrameRefresh();\n                        } else {\n                            \n                        }\n                    }\n                }\n            });\n            \n            addFrame.pack();\n            addFrame.addComponentListener(new ComponentAdapter() {\n                public void componentResized(ComponentEvent e) {\n                    nameTextArea.setPreferredSize(new Dimension(addFrame.getWidth()-50,40));\n                    valueScrollPane.setPreferredSize(new Dimension(addFrame.getWidth()-50,topPanel.getHeight()-nameTextArea.getHeight()-20));\n                    addFrame.repaint();\n                }\n            });\n        } else if (UserInterface.pasteBool == true) {\n            value = UserInterface.clipboardString;\n            name = &quot;Untitled Clippy&quot;;\n            Database.addToDatabase(name,value);\n            UserInterface.mainFrame.removeAll();\n            UserInterface.jFrameRefresh();\n        }\n    }\n}\n</code></pre>\n<p>Any help would be greatly appreciated.</p>\n<p>I have a system.out.println() function which will run, so I know that it that line does run. However, whenever it does, it doesn't seem to change the screen. I've tried using validate, and some other weird SwingUtilites methods. Nothing seems to work.</p>\n<p>Any help would be greatly apprciated!</p>\n"},{"tags":["java","spring-boot","maven","junit5","jacoco"],"comments":[{"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"score":0,"creation_date":1692714578,"post_id":76954043,"comment_id":135660239,"body_markdown":"Which version of java are you using?","body":"Which version of java are you using?"},{"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"score":0,"creation_date":1692715576,"post_id":76954043,"comment_id":135660469,"body_markdown":"I am using java 11 in Intellij and Java_home is set to java 8.","body":"I am using java 11 in Intellij and Java_home is set to java 8."},{"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"score":0,"creation_date":1692715858,"post_id":76954043,"comment_id":135660528,"body_markdown":"And maven version?","body":"And maven version?"},{"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"score":0,"creation_date":1692717926,"post_id":76954043,"comment_id":135661051,"body_markdown":"Maven 3.6.3 in IntelliJ","body":"Maven 3.6.3 in IntelliJ"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1692719596,"post_id":76954043,"comment_id":135661448,"body_markdown":"First post the full pom file and also how you are calling Maven... apart from that the configuration for that project looks strange... also why using an old Maven version?  Also a lot of the given plugins are old...","body":"First post the full pom file and also how you are calling Maven... apart from that the configuration for that project looks strange... also why using an old Maven version?  Also a lot of the given plugins are old..."},{"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"score":0,"creation_date":1692906711,"post_id":76954043,"comment_id":135691871,"body_markdown":"@Jeet Have you tried it with the below code?","body":"@Jeet Have you tried it with the below code?"}],"answers":[{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692718907,"creation_date":1692718907,"answer_id":76954924,"question_id":76954043,"body_markdown":"You can try by updating your existing plugin in `pom.xml` with the below code and it is working fine in my local with java 1.8 and maven version higher than 3.0 in a spring boot application.\r\n\r\n**Plugin for jacoco report:**\r\n\r\n                &lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;0.8.6&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;prepare-agent&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;report&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;test&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;","title":"How to solve Surefire &quot;tests are skipped&quot; and jacoco &quot;Skipping JaCoCo execution due to missing execution data file&quot;?","body":"<p>You can try by updating your existing plugin in <code>pom.xml</code> with the below code and it is working fine in my local with java 1.8 and maven version higher than 3.0 in a spring boot application.</p>\n<p><strong>Plugin for jacoco report:</strong></p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;prepare-agent&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;report&lt;/id&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692718907,"creation_date":1692712652,"question_id":76954043,"body_markdown":"I wan to generate jacoco report but unfortunately maven is not running the tests and the report is not generated. when running mvn test the console shows the following -\r\n\r\n\r\n```\r\n--- jacoco-maven-plugin:0.8.8:prepare-agent (prepare-agent) @ xx ---\r\n[INFO] argLine set to -javaagent:C:\\\\xxx\\\\xx\\\\.m2\\\\repository\\\\org\\\\jacoco\\\\org.jacoco.agent\\\\0.8.8\\\\org.jacoco.agent-0.8.8-runtime.jar=destfile=C:\\\\xx\\\\xx\\\\git\\\\xx-xx\\\\target\\\\jacoco.exec\r\n[INFO] \r\n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ xx ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] Copying 16 resources\r\n[INFO] \r\n[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ xx ---\r\n[INFO] Changes detected - recompiling the module!\r\n[INFO] Compiling 33 source files to C:\\xx\\xx\\git\\xx-xx\\target\\classes\r\n[INFO] \r\n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ xx ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] Copying 6 resources\r\n[INFO] Copying 20 resources\r\n[INFO] \r\n[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ xx ---\r\n[INFO] Changes detected - recompiling the module!\r\n[INFO] Compiling 16 source files to C:\\xx\\xx\\git\\xx-xx\\target\\test-classes\r\n[INFO] \r\n[INFO] --- maven-surefire-plugin:3.0.0-M5:test (default-test) @ xx ---\r\n[INFO] Tests are skipped.\r\n[INFO] \r\n[INFO] --- jacoco-maven-plugin:0.8.8:report (report) @ xx ---\r\n[INFO] Skipping JaCoCo execution due to missing execution data file.\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  11.570 s\r\n[INFO] Finished at: 2023-08-22T15:42:57+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\n\r\nI did a lot of adjustments in the pom.xml but still no luck. I have commented a few dependencies and tried to execute the same. I am not sure what exactly is going wrong here. The commented dependencies are alredy tried. My pom.xml looks like -\r\n\r\n\r\n```\r\n             &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!--&lt;plugin&gt;\r\n                &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.7.0.1746&lt;/version&gt;\r\n            &lt;/plugin&gt;--&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;!--&lt;version&gt;3.0.0-M5&lt;/version&gt;--&gt;\r\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                &lt;skipTests&gt;false&lt;/skipTests&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;/**/*Test&lt;/include&gt;\r\n                       &lt;!-- &lt;include&gt; **/*test/java/*&lt;/include&gt; --&gt;\r\n                    &lt;/includes&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;default-test&lt;/id&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;skip&gt;false&lt;/skip&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;!--&lt;configuration&gt;\r\n                   &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\r\n                    &lt;argLine&gt;-Xmx1024M ${argLine}&lt;/argLine&gt;\r\n                    &lt;forkedProcessExitTimeoutInSeconds&gt;240&lt;/forkedProcessExitTimeoutInSeconds&gt;\r\n                &lt;/configuration&gt;--&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.8&lt;/version&gt;\r\n        &lt;!--        &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;**/*test/java/*&lt;/exclude&gt;\r\n                        &lt;exclude&gt;**/*test/resources/*&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;--&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;prepare-agent&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;report&lt;/id&gt;\r\n                        &lt;!-- &lt;phase&gt;prepare-package&lt;/phase&gt;--&gt;\r\n                         &lt;goals&gt;\r\n                             &lt;goal&gt;report&lt;/goal&gt;\r\n                         &lt;/goals&gt;\r\n                        &lt;phase&gt;test&lt;/phase&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;!-- &lt;execution&gt;\r\n                         &lt;id&gt;default-check&lt;/id&gt;\r\n                         &lt;goals&gt;\r\n                             &lt;goal&gt;check&lt;/goal&gt;\r\n                         &lt;/goals&gt;\r\n                         &lt;configuration&gt;\r\n                             &lt;rules&gt;\r\n                                 &lt;rule&gt;\r\n                                     &lt;element&gt;BUNDLE&lt;/element&gt;\r\n                                     &lt;limits&gt;\r\n                                         &lt;limit&gt;\r\n                                             &lt;counter&gt;COMPLEXITY&lt;/counter&gt;\r\n                                             &lt;value&gt;COVEREDRATIO&lt;/value&gt;\r\n                                             &lt;minimum&gt;0.60&lt;/minimum&gt;\r\n                                         &lt;/limit&gt;\r\n                                     &lt;/limits&gt;\r\n                                 &lt;/rule&gt;\r\n                             &lt;/rules&gt;\r\n                         &lt;/configuration&gt;\r\n                    &lt;/execution&gt;--&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\r\n        &lt;testSourceDirectory&gt;src/test/java&lt;/testSourceDirectory&gt;\r\n```\r\nMost of the solutions that are provided in the stackoverflow are already tried and tested but so far no luck.","title":"How to solve Surefire &quot;tests are skipped&quot; and jacoco &quot;Skipping JaCoCo execution due to missing execution data file&quot;?","body":"<p>I wan to generate jacoco report but unfortunately maven is not running the tests and the report is not generated. when running mvn test the console shows the following -</p>\n<pre><code>--- jacoco-maven-plugin:0.8.8:prepare-agent (prepare-agent) @ xx ---\n[INFO] argLine set to -javaagent:C:\\\\xxx\\\\xx\\\\.m2\\\\repository\\\\org\\\\jacoco\\\\org.jacoco.agent\\\\0.8.8\\\\org.jacoco.agent-0.8.8-runtime.jar=destfile=C:\\\\xx\\\\xx\\\\git\\\\xx-xx\\\\target\\\\jacoco.exec\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ xx ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 16 resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ xx ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 33 source files to C:\\xx\\xx\\git\\xx-xx\\target\\classes\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ xx ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 6 resources\n[INFO] Copying 20 resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ xx ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 16 source files to C:\\xx\\xx\\git\\xx-xx\\target\\test-classes\n[INFO] \n[INFO] --- maven-surefire-plugin:3.0.0-M5:test (default-test) @ xx ---\n[INFO] Tests are skipped.\n[INFO] \n[INFO] --- jacoco-maven-plugin:0.8.8:report (report) @ xx ---\n[INFO] Skipping JaCoCo execution due to missing execution data file.\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  11.570 s\n[INFO] Finished at: 2023-08-22T15:42:57+02:00\n[INFO] ------------------------------------------------------------------------\n\nProcess finished with exit code 0\n</code></pre>\n<p>I did a lot of adjustments in the pom.xml but still no luck. I have commented a few dependencies and tried to execute the same. I am not sure what exactly is going wrong here. The commented dependencies are alredy tried. My pom.xml looks like -</p>\n<pre><code>             &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;!--&lt;plugin&gt;\n                &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.7.0.1746&lt;/version&gt;\n            &lt;/plugin&gt;--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;!--&lt;version&gt;3.0.0-M5&lt;/version&gt;--&gt;\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\n                &lt;configuration&gt;\n                &lt;skipTests&gt;false&lt;/skipTests&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;/**/*Test&lt;/include&gt;\n                       &lt;!-- &lt;include&gt; **/*test/java/*&lt;/include&gt; --&gt;\n                    &lt;/includes&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-test&lt;/id&gt;\n                    &lt;configuration&gt;\n                        &lt;skip&gt;false&lt;/skip&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;!--&lt;configuration&gt;\n                   &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n                    &lt;argLine&gt;-Xmx1024M ${argLine}&lt;/argLine&gt;\n                    &lt;forkedProcessExitTimeoutInSeconds&gt;240&lt;/forkedProcessExitTimeoutInSeconds&gt;\n                &lt;/configuration&gt;--&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.8&lt;/version&gt;\n        &lt;!--        &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;**/*test/java/*&lt;/exclude&gt;\n                        &lt;exclude&gt;**/*test/resources/*&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;--&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;prepare-agent&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;report&lt;/id&gt;\n                        &lt;!-- &lt;phase&gt;prepare-package&lt;/phase&gt;--&gt;\n                         &lt;goals&gt;\n                             &lt;goal&gt;report&lt;/goal&gt;\n                         &lt;/goals&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                    &lt;/execution&gt;\n                    &lt;!-- &lt;execution&gt;\n                         &lt;id&gt;default-check&lt;/id&gt;\n                         &lt;goals&gt;\n                             &lt;goal&gt;check&lt;/goal&gt;\n                         &lt;/goals&gt;\n                         &lt;configuration&gt;\n                             &lt;rules&gt;\n                                 &lt;rule&gt;\n                                     &lt;element&gt;BUNDLE&lt;/element&gt;\n                                     &lt;limits&gt;\n                                         &lt;limit&gt;\n                                             &lt;counter&gt;COMPLEXITY&lt;/counter&gt;\n                                             &lt;value&gt;COVEREDRATIO&lt;/value&gt;\n                                             &lt;minimum&gt;0.60&lt;/minimum&gt;\n                                         &lt;/limit&gt;\n                                     &lt;/limits&gt;\n                                 &lt;/rule&gt;\n                             &lt;/rules&gt;\n                         &lt;/configuration&gt;\n                    &lt;/execution&gt;--&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;src/test/java&lt;/testSourceDirectory&gt;\n</code></pre>\n<p>Most of the solutions that are provided in the stackoverflow are already tried and tested but so far no luck.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":4,"creation_date":1431622507,"post_id":30242917,"comment_id":48586969,"body_markdown":"JDK 1.6 is no longer supported. Don&#39;t download it.","body":"JDK 1.6 is no longer supported. Don&#39;t download it."},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":1,"creation_date":1431622730,"post_id":30242917,"comment_id":48587113,"body_markdown":"I recommend you using the latest stable version of both Eclipse (Luna) and Java (8).","body":"I recommend you using the latest stable version of both Eclipse (Luna) and Java (8)."}],"answers":[{"comments":[{"owner":{"account_id":5981500,"reputation":1,"user_id":4700387,"display_name":"memo"},"score":0,"creation_date":1431875450,"post_id":30243065,"comment_id":48673743,"body_markdown":"IntelliJ IDEA is Excellent tool . It supports wide variety of differnet languages....so all of you can be try.","body":"IntelliJ IDEA is Excellent tool . It supports wide variety of differnet languages....so all of you can be try."}],"tags":[],"owner":{"account_id":1458192,"reputation":11231,"user_id":1373258,"accept_rate":93,"display_name":"tmn"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1431623157,"creation_date":1431622810,"answer_id":30243065,"question_id":30242917,"body_markdown":"Just go with the latest JDK 1.8 and Eclipse Luna. JDK 1.6 is no longer supported, and 1.7 is pretty much dead as well. Java 8 is far more modern anyway with its new features (lambda expressions, JavaFX 8, new Date framework, etc) and you&#39;ll be more competent as a developer knowing those features.\r\n\r\nAlso, if you are interested in Apache Tomcat you can also check out [IntelliJ IDEA][1] instead of Eclipse. I understand it is much easier to do servlet development on. \r\n\r\n\r\n  [1]: https://www.jetbrains.com/idea/","title":"Which versions of Eclipse is compatible with which versions of java?","body":"<p>Just go with the latest JDK 1.8 and Eclipse Luna. JDK 1.6 is no longer supported, and 1.7 is pretty much dead as well. Java 8 is far more modern anyway with its new features (lambda expressions, JavaFX 8, new Date framework, etc) and you'll be more competent as a developer knowing those features.</p>\n\n<p>Also, if you are interested in Apache Tomcat you can also check out <a href=\"https://www.jetbrains.com/idea/\" rel=\"nofollow\">IntelliJ IDEA</a> instead of Eclipse. I understand it is much easier to do servlet development on. </p>\n"}],"owner":{"account_id":5981500,"reputation":1,"user_id":4700387,"display_name":"memo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692718237,"creation_date":1431622386,"question_id":30242917,"body_markdown":"Basically I want to do java programming on my windows system having Windows SP3. Which version of java and Eclipse do I need to download?\r\n\r\n\r\nDoes JDK 1.6 (universal supporter) support all Eclipse and Apache tomcat???\r\n","title":"Which versions of Eclipse is compatible with which versions of java?","body":"<p>Basically I want to do java programming on my windows system having Windows SP3. Which version of java and Eclipse do I need to download?</p>\n\n<p>Does JDK 1.6 (universal supporter) support all Eclipse and Apache tomcat???</p>\n"},{"tags":["java","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692716997,"creation_date":1692716997,"answer_id":76954679,"question_id":76952218,"body_markdown":"You&#39;ll want to look at JPA tutorials on how bidirectional OneToMany and ManyToOne mappings work to help you out, but you should probably be using &#39;mappedby&#39; in your Rule-&gt;RuleUnitTest mapping:\r\n\r\n      @OneToMany(mappedBy=&quot;rule&quot;, fetch = FetchType.EAGER)\r\n      @Fetch(value = FetchMode.SUBSELECT)\r\n      private List&lt;RuleUnitTest&gt; unitTests;\r\n\r\nAlso note that when deserializing JSON data, you will need to ensure that both sides of this relationship are set - or more importantly, that every RuleUnitTest.rule reference is properly set, since that is the relationship that owns (and so controls) the foreign key column value.","title":"Java hibernate saving entity and child entity together","body":"<p>You'll want to look at JPA tutorials on how bidirectional OneToMany and ManyToOne mappings work to help you out, but you should probably be using 'mappedby' in your Rule-&gt;RuleUnitTest mapping:</p>\n<pre><code>  @OneToMany(mappedBy=&quot;rule&quot;, fetch = FetchType.EAGER)\n  @Fetch(value = FetchMode.SUBSELECT)\n  private List&lt;RuleUnitTest&gt; unitTests;\n</code></pre>\n<p>Also note that when deserializing JSON data, you will need to ensure that both sides of this relationship are set - or more importantly, that every RuleUnitTest.rule reference is properly set, since that is the relationship that owns (and so controls) the foreign key column value.</p>\n"}],"owner":{"account_id":13718869,"reputation":72,"user_id":9899366,"display_name":"liron29"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76954679,"answer_count":1,"score":0,"last_activity_date":1692716997,"creation_date":1692698866,"question_id":76952218,"body_markdown":"I have a rule entity and a tests entity (related one-to-many), when creating a rule a ruleId is generated and i want to use the ruleId for the tests.\r\nEntities:\r\n\r\n```\r\npackage io.avalor.webserver.rule;\r\n\r\nimport com.vladmihalcea.hibernate.type.array.EnumArrayType;\r\nimport com.vladmihalcea.hibernate.type.array.ListArrayType;\r\nimport com.vladmihalcea.hibernate.type.json.JsonBinaryType;\r\nimport io.avalor.webserver.account.Account;\r\nimport io.avalor.webserver.customquery.CustomQuery;\r\nimport io.avalor.webserver.persistency.AbstractEntity;\r\nimport io.avalor.webserver.rule.ruletest.RuleTest;\r\nimport io.avalor.webserver.rule.unittest.RuleUnitTest;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport org.hibernate.annotations.*;\r\n\r\nimport javax.persistence.*;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Table;\r\nimport javax.validation.constraints.NotBlank;\r\nimport javax.validation.constraints.NotNull;\r\nimport java.util.List;\r\nimport java.util.Set;\r\n\r\n@Entity\r\n@Table\r\n@SQLDelete(sql = &quot;UPDATE rule SET deleted = true WHERE rule_id=?&quot;)\r\n@Where(clause = &quot;deleted=false&quot;)\r\n@TypeDef(name = &quot;list-array&quot;, typeClass = EnumArrayType.class, parameters = {@org.hibernate.annotations.Parameter(name = EnumArrayType.SQL_ARRAY_TYPE, value = &quot;varchar&quot;)})\r\n@TypeDef(name = &quot;json&quot;, typeClass = JsonBinaryType.class)\r\n@TypeDef(name = &quot;list&quot;, typeClass = ListArrayType.class)\r\n@Getter\r\n@Setter\r\npublic class Rule extends AbstractEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;rule_id&quot;)\r\n    private String id;\r\n\r\n    @Column\r\n    @NotBlank\r\n    private String name;\r\n\r\n    @OneToMany(fetch = FetchType.EAGER)\r\n    @Fetch(value = FetchMode.SUBSELECT)\r\n    @JoinTable(\r\n            name = &quot;rule_unit_test&quot;,\r\n            joinColumns = {@JoinColumn(name = &quot;rule_id&quot;, updatable = false)},\r\n            inverseJoinColumns = {@JoinColumn(name = &quot;test_id&quot;, updatable = false)}\r\n    )\r\n    private List&lt;RuleUnitTest&gt; unitTests;\r\n}\r\n\r\n```\r\n```\r\npackage io.avalor.webserver.rule.unittest;\r\n\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport io.avalor.webserver.persistency.AbstractEntity;\r\nimport io.avalor.webserver.rule.Rule;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\nimport org.hibernate.annotations.*;\r\n\r\nimport javax.persistence.*;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Table;\r\nimport javax.validation.constraints.NotBlank;\r\nimport javax.validation.constraints.NotEmpty;\r\nimport javax.validation.constraints.NotNull;\r\nimport java.util.List;\r\n\r\n@Entity\r\n@Table\r\n@Where(clause = &quot;deleted=false&quot;)\r\n@SQLDelete(sql = &quot;UPDATE rule_unit_test SET deleted = true WHERE test_id=?&quot;)\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class RuleUnitTest {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;test_id&quot;)\r\n    private String id;\r\n\r\n    @NotNull\r\n    @JoinColumn(name = &quot;rule_id&quot;, updatable = false)\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    private Rule rule;\r\n\r\n    @Column\r\n    @NotBlank\r\n    private String name;\r\n\r\n    @NotEmpty\r\n    @Type(type = &quot;json&quot;)\r\n    @Column(name = &quot;test_data&quot;)\r\n    private List&lt;JsonNode&gt; testData;\r\n}\r\n\r\n\r\n```\r\n\r\nI have a rule service with the following methods:\r\n```\r\n  @Transactional\r\n    public RuleDto create(RuleDto ruleDto) {\r\n        Rule rule = ruleMapper.dtoToEntity(ruleDto);\r\n        Rule savedRule = ruleRepository.save(rule);\r\n\r\n        savedRule = saveUnitTestsIfExists(savedRule,ruleDto.getUnitTests());\r\n        // ruleRepository.save(savedRule);\r\n        return ruleMapper.entityToDto(savedRule);\r\n    }\r\n\r\n    private Rule saveUnitTestsIfExists(Rule rule, List&lt;RuleUnitTestDto&gt; unitTestsDto) {\r\n        if (CollectionUtils.isNotEmpty(unitTestsDto)) {\r\n            return unitTestService.create(rule,unitTestsDto);\r\n        }\r\n        return rule;\r\n    }\r\n```\r\n\r\nAnd the following code in unittestService:\r\n```\r\n   public Rule create(Rule rule, List&lt;RuleUnitTestDto&gt; unitTestsDto) {\r\n        List&lt;RuleUnitTestDto&gt; limitedRuleUnitTestDtos = unitTestsDto;\r\n\r\n        if (unitTestsDto.size() &gt; MAX_TESTS_PER_RULE) {\r\n            limitedRuleUnitTestDtos = unitTestsDto.subList(0, MAX_TESTS_PER_RULE);\r\n        }\r\n        List&lt;RuleUnitTest&gt; unitTests = ruleUnitTestMapper.buildBuildUnitTestFromUnitTest(rule, limitedRuleUnitTestDtos);\r\n\r\n\r\n        rule.setUnitTests(unitTestRepository.saveAll(unitTests));\r\n        return rule;\r\n    }\r\n\r\n```\r\n\r\nMapper:\r\n\r\n```\r\npackage io.avalor.webserver.rule;\r\n\r\n\r\nimport io.avalor.webserver.rule.unittest.RuleUnitTest;\r\nimport io.avalor.webserver.rule.unittest.RuleUnitTestDto;\r\nimport org.mapstruct.*;\r\n\r\nimport java.util.*;\r\n\r\n@Mapper(componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.IGNORE)\r\npublic abstract class RuleMapper {\r\n\r\n\r\n    @Mapping(source = &quot;account.id&quot;, target = &quot;accountId&quot;)\r\n    @Mapping(target = &quot;dataSourceTypes&quot;, ignore = true)\r\n    public abstract RuleDto entityToDto(Rule rule);\r\n\r\n    @Mapping(target = &quot;account.id&quot;, source = &quot;accountId&quot;)\r\n    @Mapping(target = &quot;dataSourceTypes&quot;, ignore = true)\r\n    public abstract Rule dtoToEntity(RuleDto ruleDto);\r\n\r\n    @AfterMapping\r\n    public void setRuleProperties(@MappingTarget Rule rule, RuleDto ruleDto) {\r\n        if (rule.getId() != null) {\r\n            rule.setUnitTests(buildBuildUnitTestFromUnitTest(rule, ruleDto.getUnitTests()));\r\n        } else {\r\n            rule.setUnitTests(null);\r\n        }\r\n    }\r\n\r\n    @AfterMapping\r\n    public RuleDto enrichDto(@MappingTarget RuleDto ruleDto, Rule rule) {\r\n        if (rule.getUnitTests() != null) {\r\n            ruleDto.setUnitTests(rule.getUnitTests().stream().map(unitTest -&gt; {\r\n                RuleUnitTestDto unitTestDto = new RuleUnitTestDto();\r\n                unitTestDto.setId(unitTest.getId());\r\n                unitTestDto.setName(unitTest.getName());\r\n                unitTestDto.setTestData(unitTest.getTestData());\r\n                unitTestDto.setRuleId(rule.getId());\r\n                return unitTestDto;\r\n            }).toList());\r\n        }\r\n        return ruleDto;\r\n    }\r\n\r\n    public List&lt;RuleUnitTest&gt; buildBuildUnitTestFromUnitTest(Rule rule, List&lt;RuleUnitTestDto&gt; unitTestDtos) {\r\n        if (unitTestDtos == null)\r\n            return Collections.emptyList();\r\n        List&lt;RuleUnitTest&gt; unitTestsList = new ArrayList&lt;&gt;();\r\n\r\n        for (RuleUnitTestDto unitTestDto : unitTestDtos) {\r\n            unitTestsList.add(new RuleUnitTest(null, rule, unitTestDto.getName(), unitTestDto.getTestData()));\r\n        }\r\n        return unitTestsList;\r\n    }\r\n}\r\n\r\n```\r\n\r\nI&#39;m trying to send the following body request:\r\n```\r\n{\r\n    &quot;name&quot;: &quot;rule1&quot;,\r\n    &quot;unitTests&quot;:[{\r\n        &quot;name&quot;:&quot;blah blah&quot;,\r\n        &quot;testData&quot;:[{&quot;a&quot;:&quot;b&quot;}]\r\n    }]\r\n}\r\n```\r\n\r\nWhen trying to save a rule and a unit test i get the following error (saying name and testData is null, which isn&#39;t true when debugging):\r\n\r\n```\r\n ERROR: null value in column &quot;name&quot; of relation &quot;rule_unit_test&quot; violates not-null constraint\r\n  Detail: Failing row contains (p0n9vr, 07rplw, null, null).\r\n```\r\n\r\nI really don&#39;t know why it happens, any ideas?","title":"Java hibernate saving entity and child entity together","body":"<p>I have a rule entity and a tests entity (related one-to-many), when creating a rule a ruleId is generated and i want to use the ruleId for the tests.\nEntities:</p>\n<pre><code>package io.avalor.webserver.rule;\n\nimport com.vladmihalcea.hibernate.type.array.EnumArrayType;\nimport com.vladmihalcea.hibernate.type.array.ListArrayType;\nimport com.vladmihalcea.hibernate.type.json.JsonBinaryType;\nimport io.avalor.webserver.account.Account;\nimport io.avalor.webserver.customquery.CustomQuery;\nimport io.avalor.webserver.persistency.AbstractEntity;\nimport io.avalor.webserver.rule.ruletest.RuleTest;\nimport io.avalor.webserver.rule.unittest.RuleUnitTest;\nimport lombok.Getter;\nimport lombok.Setter;\nimport org.hibernate.annotations.*;\n\nimport javax.persistence.*;\nimport javax.persistence.Entity;\nimport javax.persistence.Table;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.NotNull;\nimport java.util.List;\nimport java.util.Set;\n\n@Entity\n@Table\n@SQLDelete(sql = &quot;UPDATE rule SET deleted = true WHERE rule_id=?&quot;)\n@Where(clause = &quot;deleted=false&quot;)\n@TypeDef(name = &quot;list-array&quot;, typeClass = EnumArrayType.class, parameters = {@org.hibernate.annotations.Parameter(name = EnumArrayType.SQL_ARRAY_TYPE, value = &quot;varchar&quot;)})\n@TypeDef(name = &quot;json&quot;, typeClass = JsonBinaryType.class)\n@TypeDef(name = &quot;list&quot;, typeClass = ListArrayType.class)\n@Getter\n@Setter\npublic class Rule extends AbstractEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;rule_id&quot;)\n    private String id;\n\n    @Column\n    @NotBlank\n    private String name;\n\n    @OneToMany(fetch = FetchType.EAGER)\n    @Fetch(value = FetchMode.SUBSELECT)\n    @JoinTable(\n            name = &quot;rule_unit_test&quot;,\n            joinColumns = {@JoinColumn(name = &quot;rule_id&quot;, updatable = false)},\n            inverseJoinColumns = {@JoinColumn(name = &quot;test_id&quot;, updatable = false)}\n    )\n    private List&lt;RuleUnitTest&gt; unitTests;\n}\n\n</code></pre>\n<pre><code>package io.avalor.webserver.rule.unittest;\n\nimport com.fasterxml.jackson.databind.JsonNode;\nimport io.avalor.webserver.persistency.AbstractEntity;\nimport io.avalor.webserver.rule.Rule;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport org.hibernate.annotations.*;\n\nimport javax.persistence.*;\nimport javax.persistence.Entity;\nimport javax.persistence.Table;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.NotEmpty;\nimport javax.validation.constraints.NotNull;\nimport java.util.List;\n\n@Entity\n@Table\n@Where(clause = &quot;deleted=false&quot;)\n@SQLDelete(sql = &quot;UPDATE rule_unit_test SET deleted = true WHERE test_id=?&quot;)\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class RuleUnitTest {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;test_id&quot;)\n    private String id;\n\n    @NotNull\n    @JoinColumn(name = &quot;rule_id&quot;, updatable = false)\n    @ManyToOne(fetch = FetchType.LAZY)\n    private Rule rule;\n\n    @Column\n    @NotBlank\n    private String name;\n\n    @NotEmpty\n    @Type(type = &quot;json&quot;)\n    @Column(name = &quot;test_data&quot;)\n    private List&lt;JsonNode&gt; testData;\n}\n\n\n</code></pre>\n<p>I have a rule service with the following methods:</p>\n<pre><code>  @Transactional\n    public RuleDto create(RuleDto ruleDto) {\n        Rule rule = ruleMapper.dtoToEntity(ruleDto);\n        Rule savedRule = ruleRepository.save(rule);\n\n        savedRule = saveUnitTestsIfExists(savedRule,ruleDto.getUnitTests());\n        // ruleRepository.save(savedRule);\n        return ruleMapper.entityToDto(savedRule);\n    }\n\n    private Rule saveUnitTestsIfExists(Rule rule, List&lt;RuleUnitTestDto&gt; unitTestsDto) {\n        if (CollectionUtils.isNotEmpty(unitTestsDto)) {\n            return unitTestService.create(rule,unitTestsDto);\n        }\n        return rule;\n    }\n</code></pre>\n<p>And the following code in unittestService:</p>\n<pre><code>   public Rule create(Rule rule, List&lt;RuleUnitTestDto&gt; unitTestsDto) {\n        List&lt;RuleUnitTestDto&gt; limitedRuleUnitTestDtos = unitTestsDto;\n\n        if (unitTestsDto.size() &gt; MAX_TESTS_PER_RULE) {\n            limitedRuleUnitTestDtos = unitTestsDto.subList(0, MAX_TESTS_PER_RULE);\n        }\n        List&lt;RuleUnitTest&gt; unitTests = ruleUnitTestMapper.buildBuildUnitTestFromUnitTest(rule, limitedRuleUnitTestDtos);\n\n\n        rule.setUnitTests(unitTestRepository.saveAll(unitTests));\n        return rule;\n    }\n\n</code></pre>\n<p>Mapper:</p>\n<pre><code>package io.avalor.webserver.rule;\n\n\nimport io.avalor.webserver.rule.unittest.RuleUnitTest;\nimport io.avalor.webserver.rule.unittest.RuleUnitTestDto;\nimport org.mapstruct.*;\n\nimport java.util.*;\n\n@Mapper(componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.IGNORE)\npublic abstract class RuleMapper {\n\n\n    @Mapping(source = &quot;account.id&quot;, target = &quot;accountId&quot;)\n    @Mapping(target = &quot;dataSourceTypes&quot;, ignore = true)\n    public abstract RuleDto entityToDto(Rule rule);\n\n    @Mapping(target = &quot;account.id&quot;, source = &quot;accountId&quot;)\n    @Mapping(target = &quot;dataSourceTypes&quot;, ignore = true)\n    public abstract Rule dtoToEntity(RuleDto ruleDto);\n\n    @AfterMapping\n    public void setRuleProperties(@MappingTarget Rule rule, RuleDto ruleDto) {\n        if (rule.getId() != null) {\n            rule.setUnitTests(buildBuildUnitTestFromUnitTest(rule, ruleDto.getUnitTests()));\n        } else {\n            rule.setUnitTests(null);\n        }\n    }\n\n    @AfterMapping\n    public RuleDto enrichDto(@MappingTarget RuleDto ruleDto, Rule rule) {\n        if (rule.getUnitTests() != null) {\n            ruleDto.setUnitTests(rule.getUnitTests().stream().map(unitTest -&gt; {\n                RuleUnitTestDto unitTestDto = new RuleUnitTestDto();\n                unitTestDto.setId(unitTest.getId());\n                unitTestDto.setName(unitTest.getName());\n                unitTestDto.setTestData(unitTest.getTestData());\n                unitTestDto.setRuleId(rule.getId());\n                return unitTestDto;\n            }).toList());\n        }\n        return ruleDto;\n    }\n\n    public List&lt;RuleUnitTest&gt; buildBuildUnitTestFromUnitTest(Rule rule, List&lt;RuleUnitTestDto&gt; unitTestDtos) {\n        if (unitTestDtos == null)\n            return Collections.emptyList();\n        List&lt;RuleUnitTest&gt; unitTestsList = new ArrayList&lt;&gt;();\n\n        for (RuleUnitTestDto unitTestDto : unitTestDtos) {\n            unitTestsList.add(new RuleUnitTest(null, rule, unitTestDto.getName(), unitTestDto.getTestData()));\n        }\n        return unitTestsList;\n    }\n}\n\n</code></pre>\n<p>I'm trying to send the following body request:</p>\n<pre><code>{\n    &quot;name&quot;: &quot;rule1&quot;,\n    &quot;unitTests&quot;:[{\n        &quot;name&quot;:&quot;blah blah&quot;,\n        &quot;testData&quot;:[{&quot;a&quot;:&quot;b&quot;}]\n    }]\n}\n</code></pre>\n<p>When trying to save a rule and a unit test i get the following error (saying name and testData is null, which isn't true when debugging):</p>\n<pre><code> ERROR: null value in column &quot;name&quot; of relation &quot;rule_unit_test&quot; violates not-null constraint\n  Detail: Failing row contains (p0n9vr, 07rplw, null, null).\n</code></pre>\n<p>I really don't know why it happens, any ideas?</p>\n"},{"tags":["java","apache-spark"],"answers":[{"comments":[{"owner":{"account_id":17869276,"reputation":11,"user_id":12980938,"display_name":"Santhosh Kumar Sreeramoju"},"score":0,"creation_date":1691816351,"post_id":76886128,"comment_id":135545883,"body_markdown":"Thanks for the reply, i updated my question with having spark local as master with 4  threads(local[4]) with array it divides fine, but with csv file the tasks are not getting divided is there any config to change the size setting? can u please revisit my updated question with csv example","body":"Thanks for the reply, i updated my question with having spark local as master with 4  threads(local[4]) with array it divides fine, but with csv file the tasks are not getting divided is there any config to change the size setting? can u please revisit my updated question with csv example"},{"owner":{"account_id":1017255,"reputation":1526,"user_id":1028537,"display_name":"Chris"},"score":0,"creation_date":1691991361,"post_id":76886128,"comment_id":135560147,"body_markdown":"Hi Santhosh, I&#39;ve removed the various tags that seemingly had nothing to do with either the original question (UDF on Databricks with RDD over parallelized Seq/List) nor your last two changes.  I suggest you go through the various existing documentation and stack entries that explain how partitions work as it&#39;s clear you are missing the basics right now.  Your current question change isn&#39;t clear either, but it&#39;s likely you have a single csv file, which means, by default a single partition and a single thread.  As you are seemingly very new at Spark, I&#39;d also suggest using Datasets not RDD.","body":"Hi Santhosh, I&#39;ve removed the various tags that seemingly had nothing to do with either the original question (UDF on Databricks with RDD over parallelized Seq/List) nor your last two changes.  I suggest you go through the various existing documentation and stack entries that explain how partitions work as it&#39;s clear you are missing the basics right now.  Your current question change isn&#39;t clear either, but it&#39;s likely you have a single csv file, which means, by default a single partition and a single thread.  As you are seemingly very new at Spark, I&#39;d also suggest using Datasets not RDD."}],"tags":[],"owner":{"account_id":1017255,"reputation":1526,"user_id":1028537,"display_name":"Chris"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691780311,"creation_date":1691780311,"answer_id":76886128,"question_id":76885428,"body_markdown":"Your original code was probably enough to hint at whats happening.\r\n\r\n```java\r\npublic static void m1(int i){\r\nSystem.out.println(&quot;===thread==&quot;+Thread.currentThread().getName()+&quot;===value==&quot;+i);\r\n}\r\n\r\n// then later in a method\r\nSparkSession spark = SparkSession.builder()\r\n        .appName(&quot;UDFExample&quot;)\r\n        .config(&quot;spark.master&quot;, &quot;local[*]&quot;)\r\n        .getOrCreate();\r\n\r\nList&lt;Integer&gt; ar = Arrays.asList(2,4,3,6,1,5);\r\nJavaRDD&lt;Integer&gt; outputRdd1 = JavaSparkContext.fromSparkContext(spark.sparkContext()).parallelize(ar).map(x -&gt; {\r\n    try {\r\n        m1(x);\r\n    } catch (Exception e) {\r\n        return x;\r\n    }\r\n    return x;\r\n});\r\n\r\noutputRdd1.collect().forEach( i -&gt; System.out.println(&quot;res was &quot;+i));\r\n\r\n```\r\n\r\non a box with enough cores will give:\r\n\r\n```\r\n===thread==Executor task launch worker for task 13.0 in stage 0.0 (TID 13)===value==1\r\n===thread==Executor task launch worker for task 15.0 in stage 0.0 (TID 15)===value==5\r\n===thread==Executor task launch worker for task 5.0 in stage 0.0 (TID 5)===value==4\r\n===thread==Executor task launch worker for task 7.0 in stage 0.0 (TID 7)===value==3\r\n===thread==Executor task launch worker for task 2.0 in stage 0.0 (TID 2)===value==2\r\n===thread==Executor task launch worker for task 10.0 in stage 0.0 (TID 10)===value==6\r\nres was 2\r\nres was 4\r\nres was 3\r\nres was 6\r\nres was 1\r\nres was 5\r\n```\r\n\r\nand a lot of task logging, that&#39;s on OSS 3.4.1.  If you are using the Databricks runtime (as per the tag) note it is not OSS and it&#39;s free to optimize how it sees fit, in this case, and the csv file one, it could simply chosen based on size to keep it on the driver node in a single thread and save you money.","title":"Scala 2.13 and Spark 3.2.1 is not running concurrently on executors","body":"<p>Your original code was probably enough to hint at whats happening.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void m1(int i){\nSystem.out.println(&quot;===thread==&quot;+Thread.currentThread().getName()+&quot;===value==&quot;+i);\n}\n\n// then later in a method\nSparkSession spark = SparkSession.builder()\n        .appName(&quot;UDFExample&quot;)\n        .config(&quot;spark.master&quot;, &quot;local[*]&quot;)\n        .getOrCreate();\n\nList&lt;Integer&gt; ar = Arrays.asList(2,4,3,6,1,5);\nJavaRDD&lt;Integer&gt; outputRdd1 = JavaSparkContext.fromSparkContext(spark.sparkContext()).parallelize(ar).map(x -&gt; {\n    try {\n        m1(x);\n    } catch (Exception e) {\n        return x;\n    }\n    return x;\n});\n\noutputRdd1.collect().forEach( i -&gt; System.out.println(&quot;res was &quot;+i));\n\n</code></pre>\n<p>on a box with enough cores will give:</p>\n<pre><code>===thread==Executor task launch worker for task 13.0 in stage 0.0 (TID 13)===value==1\n===thread==Executor task launch worker for task 15.0 in stage 0.0 (TID 15)===value==5\n===thread==Executor task launch worker for task 5.0 in stage 0.0 (TID 5)===value==4\n===thread==Executor task launch worker for task 7.0 in stage 0.0 (TID 7)===value==3\n===thread==Executor task launch worker for task 2.0 in stage 0.0 (TID 2)===value==2\n===thread==Executor task launch worker for task 10.0 in stage 0.0 (TID 10)===value==6\nres was 2\nres was 4\nres was 3\nres was 6\nres was 1\nres was 5\n</code></pre>\n<p>and a lot of task logging, that's on OSS 3.4.1.  If you are using the Databricks runtime (as per the tag) note it is not OSS and it's free to optimize how it sees fit, in this case, and the csv file one, it could simply chosen based on size to keep it on the driver node in a single thread and save you money.</p>\n"}],"owner":{"account_id":17869276,"reputation":11,"user_id":12980938,"display_name":"Santhosh Kumar Sreeramoju"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692716920,"creation_date":1691772804,"question_id":76885428,"body_markdown":"Trying to do parallel processing of list using `scala 2.13` and `spark 3.2.1`.It seems to run in single task in `local` with spark master of 4 threads `local[4]`. May be missing something here. \r\n\r\nBelow is what I am trying and the libs related to `spark` and `scala`\r\n\r\ncreate a print method\r\n\r\n```java\r\npublic static void m1(String i){\r\n    System.out.println(&quot;===thread==&quot;+Thread.currentThread().getName()+&quot;===value==&quot;+i);\r\n}\r\n```\r\n\r\n`spark` code to print using `rdd`\r\n\r\n```java\r\n final SparkSession sparkSession = SparkSession.builder()\r\n                    .appName(&quot;appName&quot;)\r\n                    .config(&quot;spark.sql.shuffle.partitions&quot;, 1500)\r\n                    .config(&quot;spark.debug.maxToStringFields&quot;, 1500)\r\n                    .config(&quot;spark.master&quot;, &quot;local[4]&quot;)\r\n                   .getOrCreate();\r\nDataset&lt;Row&gt; data = sparkSession.read().option(HEADER, TRUE).csv(&quot;path to csv&quot;);\r\nDataset&lt;Row&gt; lines = data.na().fill(&quot;&quot;);\r\n  \r\nJavaRDD&lt;Row&gt; oprdd = lines.javaRDD().map(x -&gt; {\r\n    try {\r\n        m1(x.mkString());\r\n    } catch (Exception e) {\r\n        return  x;\r\n    }\r\n    return x;\r\n});\r\n\r\noprdd.rdd().collect();\r\n```\r\n```\r\ncompile &#39;org.apache.spark:spark-core_2.13:3.2.1&#39;\r\ncompile &#39;org.apache.spark:spark-sql_2.13:3.2.1&#39;\r\n```\r\nBelow is output\r\n\r\n```\r\n===thread==Executor task launch worker for task 0.0 in stage 2.0 (TID 5)===value==bcd\r\n===thread==Executor task launch worker for task 0.0 in stage 2.0 (TID 5)===value==efg\r\n===thread==Executor task launch worker for task 0.0 in stage 2.0 (TID 5)===value==hij\r\n===thread==Executor task launch worker for task 0.0 in stage 2.0 (TID 5)===value==klm\r\n===thread==Executor task launch worker for task 0.0 in stage 2.0 (TID 5)===value==nop\r\n\r\n```\r\n","title":"Scala 2.13 and Spark 3.2.1 is not running concurrently on executors","body":"<p>Trying to do parallel processing of list using <code>scala 2.13</code> and <code>spark 3.2.1</code>.It seems to run in single task in <code>local</code> with spark master of 4 threads <code>local[4]</code>. May be missing something here.</p>\n<p>Below is what I am trying and the libs related to <code>spark</code> and <code>scala</code></p>\n<p>create a print method</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void m1(String i){\n    System.out.println(&quot;===thread==&quot;+Thread.currentThread().getName()+&quot;===value==&quot;+i);\n}\n</code></pre>\n<p><code>spark</code> code to print using <code>rdd</code></p>\n<pre class=\"lang-java prettyprint-override\"><code> final SparkSession sparkSession = SparkSession.builder()\n                    .appName(&quot;appName&quot;)\n                    .config(&quot;spark.sql.shuffle.partitions&quot;, 1500)\n                    .config(&quot;spark.debug.maxToStringFields&quot;, 1500)\n                    .config(&quot;spark.master&quot;, &quot;local[4]&quot;)\n                   .getOrCreate();\nDataset&lt;Row&gt; data = sparkSession.read().option(HEADER, TRUE).csv(&quot;path to csv&quot;);\nDataset&lt;Row&gt; lines = data.na().fill(&quot;&quot;);\n  \nJavaRDD&lt;Row&gt; oprdd = lines.javaRDD().map(x -&gt; {\n    try {\n        m1(x.mkString());\n    } catch (Exception e) {\n        return  x;\n    }\n    return x;\n});\n\noprdd.rdd().collect();\n</code></pre>\n<pre><code>compile 'org.apache.spark:spark-core_2.13:3.2.1'\ncompile 'org.apache.spark:spark-sql_2.13:3.2.1'\n</code></pre>\n<p>Below is output</p>\n<pre><code>===thread==Executor task launch worker for task 0.0 in stage 2.0 (TID 5)===value==bcd\n===thread==Executor task launch worker for task 0.0 in stage 2.0 (TID 5)===value==efg\n===thread==Executor task launch worker for task 0.0 in stage 2.0 (TID 5)===value==hij\n===thread==Executor task launch worker for task 0.0 in stage 2.0 (TID 5)===value==klm\n===thread==Executor task launch worker for task 0.0 in stage 2.0 (TID 5)===value==nop\n\n</code></pre>\n"},{"tags":["java","encryption","jwt","jwe","jose4j"],"answers":[{"comments":[{"owner":{"account_id":10312464,"reputation":382,"user_id":7607817,"accept_rate":75,"display_name":"stor314"},"score":0,"creation_date":1692716735,"post_id":76948244,"comment_id":135660765,"body_markdown":"thank you, i ended up using slightly different code but tested this and it works also. thanks for the explanation too.","body":"thank you, i ended up using slightly different code but tested this and it works also. thanks for the explanation too."}],"tags":[],"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1692647076,"creation_date":1692646382,"answer_id":76948244,"question_id":76946962,"body_markdown":"[A128CBC-HS256][2] stands for [AES_128_CBC_HMAC_SHA_256][1]. This algorithm encrypts with AES-128 in CBC mode, authentication is done with HMAC/SHA256. A 32 bytes key is required as primary key (from which two secondary keys are derived: the first 16 bytes are used for authentication, the second for encryption).\r\n\r\nThe current Java code tries to import the key with `X509EncodedKeySpec`. This class is intended for importing a DER encoded SPKI key in the context of RSA, so it is completely wrong here. \r\n\r\nInstead, a possible Java implementation is: \r\n\r\n```java\r\nimport java.security.Key;\r\nimport java.util.Base64;\r\nimport org.jose4j.jwe.JsonWebEncryption;\r\nimport org.jose4j.jwt.JwtClaims;\r\nimport org.jose4j.keys.HmacKey;\r\n\r\n...\r\n \r\nString jwt = &quot;eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..WhLXSXBUTRSERZuRTMBLrw.PqYS4ZoVHEnLA3nKyurYtO8oPRI9ncnd9gWftneUQmbdV1y8EaL3rBFYCxp1MFm7c5kZe4hx98uHpdAAkrznhmqiQ7Z2MGNlmp9aqZquo8dq1HJOUj-DoqSdsVGx7a1XoAR35bNW7rhru62zYMJfeA.-18U12AoCxO9NNOG6mHnNQ&quot;; // encrypted JWT\r\nbyte[] encoded = Base64.getUrlDecoder().decode(&quot;zH4NRP1HMALxxCFnRZABFA7GOJtzUAgIj02alfL1lvI&quot;); // primary key\r\nKey key = new HmacKey(encoded); // import primary key\r\n\t\r\nJsonWebEncryption jwe = new JsonWebEncryption();\r\njwe.setKey(key);\r\njwe.setCompactSerialization(jwt);\r\nString payload = jwe.getPayload(); // decrypt\r\n\r\nJwtClaims claims = JwtClaims.parse(payload);\r\nString fooClaim = claims.getStringClaimValue(&quot;foo&quot;); // get foo claim\r\n\r\nSystem.out.println(payload);  // {&quot;foo&quot;:&quot;bar&quot;,&quot;iat&quot;:1692645846,&quot;iss&quot;:&quot;urn:example:issuer&quot;,&quot;aud&quot;:&quot;urn:example:audience&quot;,&quot;exp&quot;:1692653046}\r\nSystem.out.println(fooClaim); // bar\r\n```\r\n\r\nHere, the encrypted token (`jwt`) was created using the posted NodeJS code.\r\n\r\n[1]: https://www.rfc-editor.org/rfc/rfc7518#section-5.2.3\r\n[2]: https://www.rfc-editor.org/rfc/rfc7518#section-5.1","title":"How to decrypt a JWE using JOSE4J using public key","body":"<p><a href=\"https://www.rfc-editor.org/rfc/rfc7518#section-5.1\" rel=\"nofollow noreferrer\">A128CBC-HS256</a> stands for <a href=\"https://www.rfc-editor.org/rfc/rfc7518#section-5.2.3\" rel=\"nofollow noreferrer\">AES_128_CBC_HMAC_SHA_256</a>. This algorithm encrypts with AES-128 in CBC mode, authentication is done with HMAC/SHA256. A 32 bytes key is required as primary key (from which two secondary keys are derived: the first 16 bytes are used for authentication, the second for encryption).</p>\n<p>The current Java code tries to import the key with <code>X509EncodedKeySpec</code>. This class is intended for importing a DER encoded SPKI key in the context of RSA, so it is completely wrong here.</p>\n<p>Instead, a possible Java implementation is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.security.Key;\nimport java.util.Base64;\nimport org.jose4j.jwe.JsonWebEncryption;\nimport org.jose4j.jwt.JwtClaims;\nimport org.jose4j.keys.HmacKey;\n\n...\n \nString jwt = &quot;eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..WhLXSXBUTRSERZuRTMBLrw.PqYS4ZoVHEnLA3nKyurYtO8oPRI9ncnd9gWftneUQmbdV1y8EaL3rBFYCxp1MFm7c5kZe4hx98uHpdAAkrznhmqiQ7Z2MGNlmp9aqZquo8dq1HJOUj-DoqSdsVGx7a1XoAR35bNW7rhru62zYMJfeA.-18U12AoCxO9NNOG6mHnNQ&quot;; // encrypted JWT\nbyte[] encoded = Base64.getUrlDecoder().decode(&quot;zH4NRP1HMALxxCFnRZABFA7GOJtzUAgIj02alfL1lvI&quot;); // primary key\nKey key = new HmacKey(encoded); // import primary key\n    \nJsonWebEncryption jwe = new JsonWebEncryption();\njwe.setKey(key);\njwe.setCompactSerialization(jwt);\nString payload = jwe.getPayload(); // decrypt\n\nJwtClaims claims = JwtClaims.parse(payload);\nString fooClaim = claims.getStringClaimValue(&quot;foo&quot;); // get foo claim\n\nSystem.out.println(payload);  // {&quot;foo&quot;:&quot;bar&quot;,&quot;iat&quot;:1692645846,&quot;iss&quot;:&quot;urn:example:issuer&quot;,&quot;aud&quot;:&quot;urn:example:audience&quot;,&quot;exp&quot;:1692653046}\nSystem.out.println(fooClaim); // bar\n</code></pre>\n<p>Here, the encrypted token (<code>jwt</code>) was created using the posted NodeJS code.</p>\n"},{"tags":[],"owner":{"account_id":10312464,"reputation":382,"user_id":7607817,"accept_rate":75,"display_name":"stor314"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692716830,"creation_date":1692716830,"answer_id":76954654,"question_id":76946962,"body_markdown":"For people in the future who view this, try either @Topaco &#39;s answer or the following code which I ended up using before the answer was posted\r\n\r\n```\r\n    private static JwtClaims decryptMessage(String msg) throws JoseException, InvalidJwtException {\r\n\r\n    \tbyte[] encoded = Base64.getUrlDecoder().decode(&quot;zH4NRP1HMALxxCFnRZABFA7GOJtzUAgIj02alfL1lvI&quot;);\r\n\r\n    \tJsonWebEncryption receiverJwe = new JsonWebEncryption();\r\n\r\n    \tAlgorithmConstraints algConstraints = new AlgorithmConstraints(ConstraintType.PERMIT, KeyManagementAlgorithmIdentifiers.DIRECT);\r\n    \treceiverJwe.setAlgorithmConstraints(algConstraints);\r\n    \tAlgorithmConstraints encConstraints = new AlgorithmConstraints(ConstraintType.PERMIT, ContentEncryptionAlgorithmIdentifiers.AES_128_CBC_HMAC_SHA_256);\r\n    \treceiverJwe.setContentEncryptionAlgorithmConstraints(encConstraints);\r\n\r\n    \treceiverJwe.setCompactSerialization(msg);\r\n  \r\n    \tSecretKeySpec secretKeySpec = new SecretKeySpec(encoded, &quot;AES&quot;);\r\n\r\n    \treceiverJwe.setKey(secretKeySpec);\r\n\r\n    \treturn JwtClaims.parse(receiverJwe.getPayload());\r\n    }\r\n```","title":"How to decrypt a JWE using JOSE4J using public key","body":"<p>For people in the future who view this, try either @Topaco 's answer or the following code which I ended up using before the answer was posted</p>\n<pre><code>    private static JwtClaims decryptMessage(String msg) throws JoseException, InvalidJwtException {\n\n        byte[] encoded = Base64.getUrlDecoder().decode(&quot;zH4NRP1HMALxxCFnRZABFA7GOJtzUAgIj02alfL1lvI&quot;);\n\n        JsonWebEncryption receiverJwe = new JsonWebEncryption();\n\n        AlgorithmConstraints algConstraints = new AlgorithmConstraints(ConstraintType.PERMIT, KeyManagementAlgorithmIdentifiers.DIRECT);\n        receiverJwe.setAlgorithmConstraints(algConstraints);\n        AlgorithmConstraints encConstraints = new AlgorithmConstraints(ConstraintType.PERMIT, ContentEncryptionAlgorithmIdentifiers.AES_128_CBC_HMAC_SHA_256);\n        receiverJwe.setContentEncryptionAlgorithmConstraints(encConstraints);\n\n        receiverJwe.setCompactSerialization(msg);\n  \n        SecretKeySpec secretKeySpec = new SecretKeySpec(encoded, &quot;AES&quot;);\n\n        receiverJwe.setKey(secretKeySpec);\n\n        return JwtClaims.parse(receiverJwe.getPayload());\n    }\n</code></pre>\n"}],"owner":{"account_id":10312464,"reputation":382,"user_id":7607817,"accept_rate":75,"display_name":"stor314"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76948244,"answer_count":2,"score":0,"last_activity_date":1692716830,"creation_date":1692633600,"question_id":76946962,"body_markdown":"Feel kind of out of my depth here.\r\n\r\nI have a message that I&#39;m trying to encrypt on a react front end using a public key and the jose library. Then that message will be sent to the java back end and needs to be decrypted by the same public key so that the message can be read.\r\n\r\nOn the front end, this is my code:\r\n```\r\n  const secret = jose.base64url.decode(&#39;zH4NRP1HMALxxCFnRZABFA7GOJtzUAgIj02alfL1lvI&#39;);\r\n  const jwt = await new jose.EncryptJWT({ foo: &#39;bar&#39; })\r\n    .setProtectedHeader({ alg: &#39;dir&#39;, enc: &#39;A128CBC-HS256&#39; })\r\n    .setIssuedAt()\r\n    .setIssuer(&#39;urn:example:issuer&#39;)\r\n    .setAudience(&#39;urn:example:audience&#39;)\r\n    .setExpirationTime(&#39;2h&#39;)\r\n    .encrypt(secret);\r\n```\r\n\r\nAnd then this is my attempt at decrypting on the backend\r\n```\r\n         byte[] encoded = Base64.getUrlDecoder().decode(&quot;zH4NRP1HMALxxCFnRZABFA7GOJtzUAgIj02alfL1lvI&quot;);\r\n         \r\n         PublicKey pk = null;\r\n         \r\n          try {\r\n\t\t\tKeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n\t          X509EncodedKeySpec keySpec = new X509EncodedKeySpec(encoded);\r\n\t          pk = keyFactory.generatePublic(keySpec);\r\n\t\t\t} catch (NoSuchAlgorithmException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (InvalidKeySpecException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n          \r\n         \r\n         JwtConsumer jwtConsumer = new JwtConsumerBuilder()\r\n        \t\t .setRequireExpirationTime()\r\n        \t\t .setVerificationKey(pk)\r\n        \t\t .build();\r\n         \r\n         try {\r\n\t\t\tJwtClaims jwtDecoded = jwtConsumer.processToClaims(forwardKey);\r\n\t\t\tSystem.out.println(jwtDecoded.getStringClaimValue(&quot;foo&quot;));\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n```\r\n\r\nHowever Java doesn&#39;t seem to have the HS256 algorithm available when creating the PublicKey object using the keyfactory, but then I can&#39;t find any information on what algorithms to use for the encryption on the front end.\r\n\r\nDecrypting on the front end using the same secret works fine. But when trying to do the same thing in JAVA its like 20 more lines and I&#39;m not sure what those lines are supposed to be at all","title":"How to decrypt a JWE using JOSE4J using public key","body":"<p>Feel kind of out of my depth here.</p>\n<p>I have a message that I'm trying to encrypt on a react front end using a public key and the jose library. Then that message will be sent to the java back end and needs to be decrypted by the same public key so that the message can be read.</p>\n<p>On the front end, this is my code:</p>\n<pre><code>  const secret = jose.base64url.decode('zH4NRP1HMALxxCFnRZABFA7GOJtzUAgIj02alfL1lvI');\n  const jwt = await new jose.EncryptJWT({ foo: 'bar' })\n    .setProtectedHeader({ alg: 'dir', enc: 'A128CBC-HS256' })\n    .setIssuedAt()\n    .setIssuer('urn:example:issuer')\n    .setAudience('urn:example:audience')\n    .setExpirationTime('2h')\n    .encrypt(secret);\n</code></pre>\n<p>And then this is my attempt at decrypting on the backend</p>\n<pre><code>         byte[] encoded = Base64.getUrlDecoder().decode(&quot;zH4NRP1HMALxxCFnRZABFA7GOJtzUAgIj02alfL1lvI&quot;);\n         \n         PublicKey pk = null;\n         \n          try {\n            KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n              X509EncodedKeySpec keySpec = new X509EncodedKeySpec(encoded);\n              pk = keyFactory.generatePublic(keySpec);\n            } catch (NoSuchAlgorithmException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            } catch (InvalidKeySpecException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n          \n         \n         JwtConsumer jwtConsumer = new JwtConsumerBuilder()\n                 .setRequireExpirationTime()\n                 .setVerificationKey(pk)\n                 .build();\n         \n         try {\n            JwtClaims jwtDecoded = jwtConsumer.processToClaims(forwardKey);\n            System.out.println(jwtDecoded.getStringClaimValue(&quot;foo&quot;));\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n</code></pre>\n<p>However Java doesn't seem to have the HS256 algorithm available when creating the PublicKey object using the keyfactory, but then I can't find any information on what algorithms to use for the encryption on the front end.</p>\n<p>Decrypting on the front end using the same secret works fine. But when trying to do the same thing in JAVA its like 20 more lines and I'm not sure what those lines are supposed to be at all</p>\n"},{"tags":["java","google-cloud-firestore","google-cloud-dataflow","apache-beam"],"owner":{"account_id":8854411,"reputation":105,"user_id":6612592,"accept_rate":40,"display_name":"Virx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692716254,"creation_date":1692716254,"question_id":76954567,"body_markdown":"I have lots of devices that constantly send me data. I want to use dataflow to parse the data and save it to Firestore. I want to use FirestoreIO for saving. First problem I ran into was that I started to constantly get error\r\n\r\n    io.grpc.StatusRuntimeException: INVALID_ARGUMENT: the same document cannot be written more than once in a single request\r\nIt kinda makes sense since FirestoreIO is saving in batches and if there are multiple documents with same ID then you should get an error. So my next though was to group all device data with the same keys using GroupByKey PTransform. To do that I needed to create window before grouping. I want my window to collect all data during 1s period and then pass it all to GroupByKey step. My pipeline looks like this.\r\n\r\n```\r\nWindow&lt;KV&lt;String, Device&gt;&gt; windowing =\r\n                Window.&lt;KV&lt;String, Device&gt;&gt;into(FixedWindows.of(Duration.standardSeconds(1)))\r\n                        .triggering(Repeatedly.forever(\r\n                                AfterProcessingTime.pastFirstElementInPane()\r\n                                        .plusDelayOf(Duration.standardSeconds(1))\r\n                                        .alignedTo(Duration.standardSeconds(1))))\r\n                        .withAllowedLateness(Duration.ZERO)\r\n                        .discardingFiredPanes();\r\n\r\nPCollectionList.of(subscription1).and(subscription2)\r\n                .apply(Flatten.pCollections())\r\n                .apply(&quot;Parse pubsub&quot;, ParDo.of(new PubsubMessageParser()))\r\n                .apply(&quot;Apply windowing&quot;, windowing)\r\n                .apply(&quot;Group message&quot;, GroupByKey.create())\r\n                .apply(&quot;FirestoreParser&quot;, ParDo.of(new FirestoreParser()))\r\n                .apply(FirestoreIO.v1().write().batchWrite().build());\r\n```\r\n\r\nI see from logs that FirestoreParses step is sometimes run more often than once per second for one specific key.\r\n```\r\nINFO 2023-08-22T14:07:45.146Z running FirestoreParser for key 111111 : batch size 5\r\nINFO 2023-08-22T14:07:45.192Z running FirestoreParser for key 111111 : batch size 2\r\nINFO 2023-08-22T14:07:46.283Z running FirestoreParser for key 111111 : batch size 4\r\n\r\nINFO 2023-08-22T14:07:48.150Z running FirestoreParser for key 111111 : batch size 6\r\nINFO 2023-08-22T14:07:48.194Z running FirestoreParser for key 111111 : batch size 2\r\nINFO 2023-08-22T14:07:49.271Z running FirestoreParser for key 111111 : batch size 5\r\n```\r\nBecause of that my dataflow still sometimes throws the `io.grpc.StatusRuntimeException: INVALID_ARGUMENT: the same document cannot be written more than once in a single request\r\n` exception. \r\n\r\nWhy is this happening? I guess the problem lies within window or its trigger. How can I fix it so that the FirestoreParser would actually run once per second for specific key?\r\n\r\n ","title":"Dataflow FixedWindow triggered more than once during allowed period","body":"<p>I have lots of devices that constantly send me data. I want to use dataflow to parse the data and save it to Firestore. I want to use FirestoreIO for saving. First problem I ran into was that I started to constantly get error</p>\n<pre><code>io.grpc.StatusRuntimeException: INVALID_ARGUMENT: the same document cannot be written more than once in a single request\n</code></pre>\n<p>It kinda makes sense since FirestoreIO is saving in batches and if there are multiple documents with same ID then you should get an error. So my next though was to group all device data with the same keys using GroupByKey PTransform. To do that I needed to create window before grouping. I want my window to collect all data during 1s period and then pass it all to GroupByKey step. My pipeline looks like this.</p>\n<pre><code>Window&lt;KV&lt;String, Device&gt;&gt; windowing =\n                Window.&lt;KV&lt;String, Device&gt;&gt;into(FixedWindows.of(Duration.standardSeconds(1)))\n                        .triggering(Repeatedly.forever(\n                                AfterProcessingTime.pastFirstElementInPane()\n                                        .plusDelayOf(Duration.standardSeconds(1))\n                                        .alignedTo(Duration.standardSeconds(1))))\n                        .withAllowedLateness(Duration.ZERO)\n                        .discardingFiredPanes();\n\nPCollectionList.of(subscription1).and(subscription2)\n                .apply(Flatten.pCollections())\n                .apply(&quot;Parse pubsub&quot;, ParDo.of(new PubsubMessageParser()))\n                .apply(&quot;Apply windowing&quot;, windowing)\n                .apply(&quot;Group message&quot;, GroupByKey.create())\n                .apply(&quot;FirestoreParser&quot;, ParDo.of(new FirestoreParser()))\n                .apply(FirestoreIO.v1().write().batchWrite().build());\n</code></pre>\n<p>I see from logs that FirestoreParses step is sometimes run more often than once per second for one specific key.</p>\n<pre><code>INFO 2023-08-22T14:07:45.146Z running FirestoreParser for key 111111 : batch size 5\nINFO 2023-08-22T14:07:45.192Z running FirestoreParser for key 111111 : batch size 2\nINFO 2023-08-22T14:07:46.283Z running FirestoreParser for key 111111 : batch size 4\n\nINFO 2023-08-22T14:07:48.150Z running FirestoreParser for key 111111 : batch size 6\nINFO 2023-08-22T14:07:48.194Z running FirestoreParser for key 111111 : batch size 2\nINFO 2023-08-22T14:07:49.271Z running FirestoreParser for key 111111 : batch size 5\n</code></pre>\n<p>Because of that my dataflow still sometimes throws the <code>io.grpc.StatusRuntimeException: INVALID_ARGUMENT: the same document cannot be written more than once in a single request </code> exception.</p>\n<p>Why is this happening? I guess the problem lies within window or its trigger. How can I fix it so that the FirestoreParser would actually run once per second for specific key?</p>\n"},{"tags":["java","spring-boot","annotation-processing","java-annotations"],"owner":{"account_id":29276246,"reputation":1,"user_id":22429913,"display_name":"Aymane Matrane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692715817,"creation_date":1692715817,"question_id":76954500,"body_markdown":"I just got into java annotation processing and I wanted to create an annotation that does a similar job to @Value.\r\nI already created the annotation and annotation processor.\r\nso is there a way to inject the value from the process method? or am i going in the wrong direction?\r\nhere is my annotation and processor\r\n\r\n```\r\n@Target(ElementType.FIELD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface CustomValue {\r\n    String value();\r\n}\r\n```\r\n\r\n\r\n```\r\nimport com.google.auto.service.AutoService;\r\nimport report.configurations.PropertyLoader;\r\n\r\nimport javax.annotation.processing.*;\r\nimport javax.lang.model.SourceVersion;\r\nimport javax.lang.model.element.Element;\r\nimport javax.lang.model.element.ElementKind;\r\nimport javax.lang.model.element.TypeElement;\r\nimport javax.lang.model.element.VariableElement;\r\nimport javax.tools.*;\r\nimport java.io.File;\r\nimport java.io.PrintWriter;\r\nimport java.io.Writer;\r\nimport java.util.Collections;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\n\r\n@SupportedAnnotationTypes(&quot;report.annotations.CustomValue&quot;)\r\n@SupportedSourceVersion(SourceVersion.RELEASE_17)\r\n@AutoService(javax.annotation.processing.Processor.class)\r\npublic class  CustomValueProcessor extends AbstractProcessor {\r\n\r\n    private Messager messager;\r\n    private Map&lt;String, String&gt; PropMap = PropertyLoader.parsePropertiesFile();\r\n\r\n    @Override\r\n    public synchronized void init(ProcessingEnvironment processingEnv) {\r\n        super.init(processingEnv);\r\n        messager = processingEnv.getMessager();\r\n\r\n        // Retrieve the property name from options\r\n    }\r\n\r\n    @Override\r\n    public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\r\n        for (TypeElement annotation : annotations) {\r\n            for (Element element : roundEnv.getElementsAnnotatedWith(annotation)) {\r\n                if (element.getKind() == ElementKind.FIELD) {\r\n                    CustomValue annotationValue = element.getAnnotation(CustomValue.class);\r\n                    String paramName = annotationValue.value();\r\n                    String newParaName = paramName.substring(2, paramName.length() - 1);\r\n                    messager.printMessage(Diagnostic.Kind.NOTE, &quot;Injecting: &quot; + newParaName);\r\n\r\n                    String propertyValue = PropMap.get(newParaName);\r\n                    messager.printMessage(Diagnostic.Kind.NOTE, &quot;Injecting: &quot; + propertyValue);\r\n\r\n                    if (element instanceof VariableElement) {\r\n                        VariableElement variableElement = (VariableElement) element;\r\n                        generateAndExecuteCode(variableElement, propertyValue);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private void generateAndExecuteCode(VariableElement variableElement, String propertyValue) {\r\n        String fieldName = variableElement.getSimpleName().toString();\r\n        String setterMethodName = &quot;set&quot; + fieldName.substring(0, 1).toUpperCase() + fieldName.substring(1);\r\n\r\n        String setterCode = String.format(&quot;%s.%s(\\&quot;%s\\&quot;);&quot;, variableElement.getEnclosingElement(), setterMethodName, propertyValue);\r\n\r\n        try {\r\n            String generatedClassName = &quot;GeneratedCode&quot;;\r\n            String javaSourceCode = &quot;public class &quot; + generatedClassName + &quot; {\\n&quot;\r\n                    + &quot;    public static void run() {\\n&quot;\r\n                    + &quot;        &quot; + setterCode + &quot;\\n&quot;\r\n                    + &quot;    }\\n&quot;\r\n                    + &quot;}\\n&quot;;\r\n\r\n            // Obtain a Filer instance\r\n            Filer filer = processingEnv.getFiler();\r\n\r\n            JavaFileObject sourceFileObject = filer.createSourceFile(generatedClassName);\r\n            try (Writer writer = sourceFileObject.openWriter()) {\r\n                writer.write(javaSourceCode);\r\n            }\r\n\r\n            File sourceFile = new File(&quot;.&quot;, generatedClassName + &quot;.java&quot;);\r\n            try (PrintWriter writer = new PrintWriter(sourceFile)) {\r\n                writer.write(javaSourceCode);\r\n            }\r\n\r\n            JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\r\n            StandardJavaFileManager fileManager = compiler.getStandardFileManager(null, null, null);\r\n            Iterable&lt;? extends JavaFileObject&gt; compilationUnits = fileManager.getJavaFileObjectsFromFiles(Collections.singletonList(sourceFile));\r\n            compiler.getTask(null, fileManager, null, null, null, compilationUnits).call();\r\n\r\n            // Load and execute the compiled class\r\n            Class&lt;?&gt; generatedClass = Class.forName(generatedClassName);\r\n            generatedClass.getMethod(&quot;run&quot;).invoke(null);\r\n\r\n            // Cleanup: Delete the temporary source file\r\n            sourceFile.delete();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nI tried to generated a file to inject it at compile time but I suppose that`s not the right way to do it","title":"Trying to inject a certain value into a field with annotation without @Value","body":"<p>I just got into java annotation processing and I wanted to create an annotation that does a similar job to @Value.\nI already created the annotation and annotation processor.\nso is there a way to inject the value from the process method? or am i going in the wrong direction?\nhere is my annotation and processor</p>\n<pre><code>@Target(ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface CustomValue {\n    String value();\n}\n</code></pre>\n<pre><code>import com.google.auto.service.AutoService;\nimport report.configurations.PropertyLoader;\n\nimport javax.annotation.processing.*;\nimport javax.lang.model.SourceVersion;\nimport javax.lang.model.element.Element;\nimport javax.lang.model.element.ElementKind;\nimport javax.lang.model.element.TypeElement;\nimport javax.lang.model.element.VariableElement;\nimport javax.tools.*;\nimport java.io.File;\nimport java.io.PrintWriter;\nimport java.io.Writer;\nimport java.util.Collections;\nimport java.util.Map;\nimport java.util.Set;\n\n@SupportedAnnotationTypes(&quot;report.annotations.CustomValue&quot;)\n@SupportedSourceVersion(SourceVersion.RELEASE_17)\n@AutoService(javax.annotation.processing.Processor.class)\npublic class  CustomValueProcessor extends AbstractProcessor {\n\n    private Messager messager;\n    private Map&lt;String, String&gt; PropMap = PropertyLoader.parsePropertiesFile();\n\n    @Override\n    public synchronized void init(ProcessingEnvironment processingEnv) {\n        super.init(processingEnv);\n        messager = processingEnv.getMessager();\n\n        // Retrieve the property name from options\n    }\n\n    @Override\n    public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\n        for (TypeElement annotation : annotations) {\n            for (Element element : roundEnv.getElementsAnnotatedWith(annotation)) {\n                if (element.getKind() == ElementKind.FIELD) {\n                    CustomValue annotationValue = element.getAnnotation(CustomValue.class);\n                    String paramName = annotationValue.value();\n                    String newParaName = paramName.substring(2, paramName.length() - 1);\n                    messager.printMessage(Diagnostic.Kind.NOTE, &quot;Injecting: &quot; + newParaName);\n\n                    String propertyValue = PropMap.get(newParaName);\n                    messager.printMessage(Diagnostic.Kind.NOTE, &quot;Injecting: &quot; + propertyValue);\n\n                    if (element instanceof VariableElement) {\n                        VariableElement variableElement = (VariableElement) element;\n                        generateAndExecuteCode(variableElement, propertyValue);\n                    }\n                }\n            }\n        }\n        return true;\n    }\n\n    private void generateAndExecuteCode(VariableElement variableElement, String propertyValue) {\n        String fieldName = variableElement.getSimpleName().toString();\n        String setterMethodName = &quot;set&quot; + fieldName.substring(0, 1).toUpperCase() + fieldName.substring(1);\n\n        String setterCode = String.format(&quot;%s.%s(\\&quot;%s\\&quot;);&quot;, variableElement.getEnclosingElement(), setterMethodName, propertyValue);\n\n        try {\n            String generatedClassName = &quot;GeneratedCode&quot;;\n            String javaSourceCode = &quot;public class &quot; + generatedClassName + &quot; {\\n&quot;\n                    + &quot;    public static void run() {\\n&quot;\n                    + &quot;        &quot; + setterCode + &quot;\\n&quot;\n                    + &quot;    }\\n&quot;\n                    + &quot;}\\n&quot;;\n\n            // Obtain a Filer instance\n            Filer filer = processingEnv.getFiler();\n\n            JavaFileObject sourceFileObject = filer.createSourceFile(generatedClassName);\n            try (Writer writer = sourceFileObject.openWriter()) {\n                writer.write(javaSourceCode);\n            }\n\n            File sourceFile = new File(&quot;.&quot;, generatedClassName + &quot;.java&quot;);\n            try (PrintWriter writer = new PrintWriter(sourceFile)) {\n                writer.write(javaSourceCode);\n            }\n\n            JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\n            StandardJavaFileManager fileManager = compiler.getStandardFileManager(null, null, null);\n            Iterable&lt;? extends JavaFileObject&gt; compilationUnits = fileManager.getJavaFileObjectsFromFiles(Collections.singletonList(sourceFile));\n            compiler.getTask(null, fileManager, null, null, null, compilationUnits).call();\n\n            // Load and execute the compiled class\n            Class&lt;?&gt; generatedClass = Class.forName(generatedClassName);\n            generatedClass.getMethod(&quot;run&quot;).invoke(null);\n\n            // Cleanup: Delete the temporary source file\n            sourceFile.delete();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n<p>I tried to generated a file to inject it at compile time but I suppose that`s not the right way to do it</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1692715957,"post_id":76954374,"comment_id":135660553,"body_markdown":"You should post the whole stacktrace. Moreover, the field name is first_name and not firstName.","body":"You should post the whole stacktrace. Moreover, the field name is first_name and not firstName."}],"answers":[{"tags":[],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692715536,"creation_date":1692715536,"answer_id":76954459,"question_id":76954374,"body_markdown":"The error message is correct because there is indeed no `name` field in your entity. You only have `first_name` and `last_name`. \r\n\r\nMoreover, you have not followed the java naming convention to name your entity fields.\r\n\r\nThe correct convention will be to rename them as:\r\n\r\n    @Column(name = &quot;first_name&quot;)\r\n    private String firstName;\r\n    \r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\nThen you can query by `firstName` and `lastName` as `findByFirstNameAndLastName(firstName, lastName, pageable)`.\r\n","title":"Java Spring pagination and filter","body":"<p>The error message is correct because there is indeed no <code>name</code> field in your entity. You only have <code>first_name</code> and <code>last_name</code>.</p>\n<p>Moreover, you have not followed the java naming convention to name your entity fields.</p>\n<p>The correct convention will be to rename them as:</p>\n<pre><code>@Column(name = &quot;first_name&quot;)\nprivate String firstName;\n\n@Column(name = &quot;last_name&quot;)\nprivate String lastName;\n</code></pre>\n<p>Then you can query by <code>firstName</code> and <code>lastName</code> as <code>findByFirstNameAndLastName(firstName, lastName, pageable)</code>.</p>\n"}],"owner":{"account_id":29276012,"reputation":1,"user_id":22429723,"display_name":"ModeJP"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1692715536,"creation_date":1692714962,"question_id":76954374,"body_markdown":"I&#39;m working on a Spring Boot application where I need to implement filtering functionality for customer data. I&#39;ve set up a **CustomerRepository** with a custom method named **findByName** to handle the filtering based on specific criteria such as **first_name** and **last_name**. However, when I try to use this custom method in both my **CustomerService** and **CustomerController**, I&#39;m encountering an issue during application startup. The error message indicates that Spring Data JPA is unable to recognize the findByName method as a valid query method and it mentions a missing property that isn&#39;t present in my Customer entity.\r\n\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;customerController&#39;: Unsatisfied dependency expressed through field &#39;customerService&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;customerService&#39;: Unsatisfied dependency expressed through field &#39;customerRepository&#39;\r\n\r\nCustomer.java:\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;customers&quot;)\r\npublic class Customer {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Integer id;\r\n    \r\n    @Column(name = &quot;first_name&quot;)\r\n    private String first_name;\r\n    \r\n    @Column(name = &quot;last_name&quot;)\r\n    private String last_name;\r\n    \r\n    @Column(name = &quot;age&quot;)\r\n    private Integer age;\r\n    \r\n    \r\n    /** Getter and Setter **/\r\n}\r\n```\r\n\r\nCustomerRepository.java:\r\n```\r\n@Repository\r\npublic interface CustomerRepository extends PagingAndSortingRepository &lt;Customer, Integer&gt;{\r\n\r\n    Page&lt;Customer&gt; findByName(String firstName, String lastName, Pageable pageable);\r\n}\r\n```\r\n\r\nCustomerService.java:\r\n```\r\n@Service\r\npublic class CustomerService {\r\n\r\n    @Autowired\r\n    private CustomerRepository customerRepository;\r\n    \r\n    public Page&lt;Customer&gt; searchCustomers(String firstName, String lastName, Pageable pageable) {\r\n        return customerRepository.findByName(firstName, lastName, pageable);\r\n    }\r\n}\r\n```\r\n\r\nCustomerController.java:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/customers&quot;)\r\npublic class CustomerController {\r\n\r\n    @Autowired\r\n    private CustomerService customerService;\r\n    \r\n    @GetMapping(&quot;/pagination&quot;)\r\n    public Page&lt;Customer&gt; searchCustomers(\r\n    \t      @RequestParam(required = false) String firstName,\r\n            @RequestParam(required = false) String lastName,\r\n            @RequestParam(defaultValue = &quot;0&quot;) int page,\r\n            @RequestParam(defaultValue = &quot;10&quot;) int pageSize)\r\n    {\r\n        Pageable pageable = PageRequest.of(page, pageSize);\r\n        return customerService.searchCustomers(firstName, lastName, pageable);\r\n    }\r\n\r\n}\r\n```\r\n","title":"Java Spring pagination and filter","body":"<p>I'm working on a Spring Boot application where I need to implement filtering functionality for customer data. I've set up a <strong>CustomerRepository</strong> with a custom method named <strong>findByName</strong> to handle the filtering based on specific criteria such as <strong>first_name</strong> and <strong>last_name</strong>. However, when I try to use this custom method in both my <strong>CustomerService</strong> and <strong>CustomerController</strong>, I'm encountering an issue during application startup. The error message indicates that Spring Data JPA is unable to recognize the findByName method as a valid query method and it mentions a missing property that isn't present in my Customer entity.</p>\n<blockquote>\n<p>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customerController': Unsatisfied dependency expressed through field 'customerService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customerService': Unsatisfied dependency expressed through field 'customerRepository'</p>\n</blockquote>\n<p>Customer.java:</p>\n<pre><code>@Entity\n@Table(name=&quot;customers&quot;)\npublic class Customer {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n    \n    @Column(name = &quot;first_name&quot;)\n    private String first_name;\n    \n    @Column(name = &quot;last_name&quot;)\n    private String last_name;\n    \n    @Column(name = &quot;age&quot;)\n    private Integer age;\n    \n    \n    /** Getter and Setter **/\n}\n</code></pre>\n<p>CustomerRepository.java:</p>\n<pre><code>@Repository\npublic interface CustomerRepository extends PagingAndSortingRepository &lt;Customer, Integer&gt;{\n\n    Page&lt;Customer&gt; findByName(String firstName, String lastName, Pageable pageable);\n}\n</code></pre>\n<p>CustomerService.java:</p>\n<pre><code>@Service\npublic class CustomerService {\n\n    @Autowired\n    private CustomerRepository customerRepository;\n    \n    public Page&lt;Customer&gt; searchCustomers(String firstName, String lastName, Pageable pageable) {\n        return customerRepository.findByName(firstName, lastName, pageable);\n    }\n}\n</code></pre>\n<p>CustomerController.java:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/customers&quot;)\npublic class CustomerController {\n\n    @Autowired\n    private CustomerService customerService;\n    \n    @GetMapping(&quot;/pagination&quot;)\n    public Page&lt;Customer&gt; searchCustomers(\n              @RequestParam(required = false) String firstName,\n            @RequestParam(required = false) String lastName,\n            @RequestParam(defaultValue = &quot;0&quot;) int page,\n            @RequestParam(defaultValue = &quot;10&quot;) int pageSize)\n    {\n        Pageable pageable = PageRequest.of(page, pageSize);\n        return customerService.searchCustomers(firstName, lastName, pageable);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","pdf","signature","biometrics","wacom"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1692719459,"post_id":76954455,"comment_id":135661425,"body_markdown":"As far as I know there is no common standard for integrating that data in a PDF. Some thoughts, though: To make any sense, those data need to be stored in a way that is cryptographically bound to the PDF in question. And it must be made sure that most of the data can only be read upon request of the authorities - if anyone could read them, anyone could copy them and store them as a signature of a different document. \nThere may be more requirements; as you mention legal purposes, there likely is a legal framework for those signatures enumerating requirements.","body":"As far as I know there is no common standard for integrating that data in a PDF. Some thoughts, though: To make any sense, those data need to be stored in a way that is cryptographically bound to the PDF in question. And it must be made sure that most of the data can only be read upon request of the authorities - if anyone could read them, anyone could copy them and store them as a signature of a different document.  There may be more requirements; as you mention legal purposes, there likely is a legal framework for those signatures enumerating requirements."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1692720017,"post_id":76954455,"comment_id":135661537,"body_markdown":"In [this answer](https://stackoverflow.com/a/17402565/1729265) I ten years ago superficially analyzed a PDF signature by xyzmo (now Namirial) that also stored a combined biometric/digital signature, so you might find the information there interesting. Unfortunately the links in that answer to the xyzmo web site don&#39;t work anymore.","body":"In <a href=\"https://stackoverflow.com/a/17402565/1729265\">this answer</a> I ten years ago superficially analyzed a PDF signature by xyzmo (now Namirial) that also stored a combined biometric/digital signature, so you might find the information there interesting. Unfortunately the links in that answer to the xyzmo web site don&#39;t work anymore."}],"owner":{"account_id":6921308,"reputation":21,"user_id":5313898,"display_name":"Alessandro Baroni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692715526,"creation_date":1692715526,"question_id":76954455,"body_markdown":"I need to implement Wacom tablet handwriting in my Java software and I&#39;m using the STU SDK for Linux.\r\n\r\nIn the samples that are present in the SDK it is shown how to acquire the PenData and transform them into an image but for legal purposes I am forced to also attach the biometric data (pressure, timing) together with the image of the signature in the PDF document.\r\n\r\nIs there a correct way or format to attach this biometric data in a PDF document?\r\n\r\nFor PDF document management in my software I use iTextPDF and Apache PDFBox.\r\n\r\nThank you","title":"Attach biometric data from Wacom STU SDK to a PDF document","body":"<p>I need to implement Wacom tablet handwriting in my Java software and I'm using the STU SDK for Linux.</p>\n<p>In the samples that are present in the SDK it is shown how to acquire the PenData and transform them into an image but for legal purposes I am forced to also attach the biometric data (pressure, timing) together with the image of the signature in the PDF document.</p>\n<p>Is there a correct way or format to attach this biometric data in a PDF document?</p>\n<p>For PDF document management in my software I use iTextPDF and Apache PDFBox.</p>\n<p>Thank you</p>\n"},{"tags":["java","css","selenium-webdriver","intellij-idea","salesforce"],"comments":[{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":1,"creation_date":1692715710,"post_id":76954453,"comment_id":135660495,"body_markdown":"Check if the desired elements are within an `IFRAME`, if yes, you need to switch into the `IFRAME` and then locate elements.","body":"Check if the desired elements are within an <code>IFRAME</code>, if yes, you need to switch into the <code>IFRAME</code> and then locate elements."}],"owner":{"account_id":29276268,"reputation":11,"user_id":22429933,"display_name":"Yonatanb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692715520,"creation_date":1692715520,"question_id":76954453,"body_markdown":"I&#39;m trying to automate some processes in Salesforce.\r\nI&#39;m using Java Selenium in IntelliJ.\r\n\r\nDuring the test, I try to find a list of elements and I want to choose one of them by using get(index).\r\nThe problem is that during the run/debug, I see that it returns size = 0, which indicates the list is empty.\r\nHowever, when I inspect the element I&#39;m trying to get *during the test* I see that the selector I&#39;ve used indeed find the list of elements. How is it possible? \r\nAs far as I know, it can&#39;t be a wait issue because I saw this during debugging.\r\n\r\nHere is the code:\r\n\r\n    public void changeOwner() {\r\n        waiting(5000);\r\n        List&lt;WebElement&gt; ownerBtns = driver.findElements(By.cssSelector(&quot;[title=&#39;Change Owner&#39;]     [type=&#39;button&#39;][part=&#39;button button-icon&#39;]&quot;));\r\n        System.out.println(&quot;The size of the list is &quot; + ownerBtns.size());\r\n        WebElement desiredOwnerBtn = ownerBtns.get(0);\r\n        click(desiredOwnerBtn);\r\n        click(changeOwnerBtn);\r\n        waiting(2000);\r\n        fillText(searchOwnerField, &quot;Yonatan Bashiri&quot;);\r\n        for (WebElement owner : listOfOwners) {\r\n            if (getText(owner).equals(&quot;Yonatan Bashiri&quot;)) {\r\n                click(owner);\r\n                break;\r\n            }\r\n        }\r\n        click(changeOwnerBtn);\r\n        waiting(2000);\r\n    }\r\nThe problematic list is ownerBtns\r\nIn the debugger is says ownerBtns = (ArrayList@6835) size = 0\r\nIf I put this selector: [title=&#39;Change Owner&#39;][type=&#39;button&#39;][part=&#39;button button-icon&#39;] in the devtools during the test I find 3 elements.\r\n\r\nThank you for the help\r\n\r\n","title":"Java Selenium- list of elements are empty but I see during the test that it&#39;s not","body":"<p>I'm trying to automate some processes in Salesforce.\nI'm using Java Selenium in IntelliJ.</p>\n<p>During the test, I try to find a list of elements and I want to choose one of them by using get(index).\nThe problem is that during the run/debug, I see that it returns size = 0, which indicates the list is empty.\nHowever, when I inspect the element I'm trying to get <em>during the test</em> I see that the selector I've used indeed find the list of elements. How is it possible?\nAs far as I know, it can't be a wait issue because I saw this during debugging.</p>\n<p>Here is the code:</p>\n<pre><code>public void changeOwner() {\n    waiting(5000);\n    List&lt;WebElement&gt; ownerBtns = driver.findElements(By.cssSelector(&quot;[title='Change Owner']     [type='button'][part='button button-icon']&quot;));\n    System.out.println(&quot;The size of the list is &quot; + ownerBtns.size());\n    WebElement desiredOwnerBtn = ownerBtns.get(0);\n    click(desiredOwnerBtn);\n    click(changeOwnerBtn);\n    waiting(2000);\n    fillText(searchOwnerField, &quot;Yonatan Bashiri&quot;);\n    for (WebElement owner : listOfOwners) {\n        if (getText(owner).equals(&quot;Yonatan Bashiri&quot;)) {\n            click(owner);\n            break;\n        }\n    }\n    click(changeOwnerBtn);\n    waiting(2000);\n}\n</code></pre>\n<p>The problematic list is ownerBtns\nIn the debugger is says ownerBtns = (ArrayList@6835) size = 0\nIf I put this selector: [title='Change Owner'][type='button'][part='button button-icon'] in the devtools during the test I find 3 elements.</p>\n<p>Thank you for the help</p>\n"},{"tags":["java","google-chrome","selenium-webdriver","selenium-chromedriver","webdrivermanager-java"],"comments":[{"owner":{"account_id":4420200,"reputation":4708,"user_id":3877746,"accept_rate":100,"display_name":"Boni Garc&#237;a"},"score":0,"creation_date":1692802260,"post_id":76928702,"comment_id":135674332,"body_markdown":"This is a duplicate of https://stackoverflow.com/questions/76932496/webdrivermanager-setup-failing-to-download-chromedriver-116/76953473. To solve it, bump to the latest version of WebDriverManager (5.5.0 at the moment of this writing). See more info at https://bonigarcia.dev/webdrivermanager/#known-issues","body":"This is a duplicate of <a href=\"https://stackoverflow.com/questions/76932496/webdrivermanager-setup-failing-to-download-chromedriver-116/76953473\" title=\"webdrivermanager setup failing to download chromedriver 116\">stackoverflow.com/questions/76932496/&hellip;</a>. To solve it, bump to the latest version of WebDriverManager (5.5.0 at the moment of this writing). See more info at <a href=\"https://bonigarcia.dev/webdrivermanager/#known-issues\" rel=\"nofollow noreferrer\">bonigarcia.dev/webdrivermanager/#known-issues</a>"}],"answers":[{"tags":[],"owner":{"account_id":11834923,"reputation":1,"user_id":8660539,"display_name":"Lurin Do"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692609232,"creation_date":1692609191,"answer_id":76943896,"question_id":76928702,"body_markdown":"Update your Selenium version to the latest - 4.11.0. The issue was mentioned in [What&#39;s new in Selenium Manager with Selenium 4.11.0][1]\r\n\r\n\r\n  [1]: https://www.selenium.dev/blog/2023/whats-new-in-selenium-manager-with-selenium-4.11.0/","title":"ERROR io.github.bonigarcia.wdm.online.HttpClient - Error HTTP 404 executing https://chromedriver.storage.googleapis.com/LATEST_RELEASE_116","body":"<p>Update your Selenium version to the latest - 4.11.0. The issue was mentioned in <a href=\"https://www.selenium.dev/blog/2023/whats-new-in-selenium-manager-with-selenium-4.11.0/\" rel=\"nofollow noreferrer\">What's new in Selenium Manager with Selenium 4.11.0</a></p>\n"}],"owner":{"account_id":4466143,"reputation":49,"user_id":3633738,"accept_rate":80,"display_name":"Tanata05"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1905,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692715490,"creation_date":1692356268,"question_id":76928702,"body_markdown":"I am getting the bellow error when trying to run automation tests, after Chrome was updated from v114 to v116\r\n\r\nERROR io.github.bonigarcia.wdm.online.HttpClient - Error HTTP 404 executing https://chromedriver.storage.googleapis.com/LATEST_RELEASE_116","title":"ERROR io.github.bonigarcia.wdm.online.HttpClient - Error HTTP 404 executing https://chromedriver.storage.googleapis.com/LATEST_RELEASE_116","body":"<p>I am getting the bellow error when trying to run automation tests, after Chrome was updated from v114 to v116</p>\n<p>ERROR io.github.bonigarcia.wdm.online.HttpClient - Error HTTP 404 executing <a href=\"https://chromedriver.storage.googleapis.com/LATEST_RELEASE_116\" rel=\"nofollow noreferrer\">https://chromedriver.storage.googleapis.com/LATEST_RELEASE_116</a></p>\n"},{"tags":["java","swing","drag-and-drop"],"comments":[{"owner":{"account_id":129863,"reputation":6504,"user_id":328725,"accept_rate":66,"display_name":"posdef"},"score":0,"creation_date":1328778835,"post_id":9192371,"comment_id":11590598,"body_markdown":"Well yes, perhaps I didn&#39;t make the question clear; &quot;How do I go about adding a drag&#39;n drop feature to my GUI, where the dragged files are represented nicely with their file names and a small icon (system icons would do, I have no intentions of designing custom icons)?&quot; I have come as far as to DnD&#39;d files are represented with their paths (which I believe is pretty much the default behavior).","body":"Well yes, perhaps I didn&#39;t make the question clear; &quot;How do I go about adding a drag&#39;n drop feature to my GUI, where the dragged files are represented nicely with their file names and a small icon (system icons would do, I have no intentions of designing custom icons)?&quot; I have come as far as to DnD&#39;d files are represented with their paths (which I believe is pretty much the default behavior)."},{"owner":{"account_id":129863,"reputation":6504,"user_id":328725,"accept_rate":66,"display_name":"posdef"},"score":0,"creation_date":1328780835,"post_id":9192371,"comment_id":11591273,"body_markdown":"Thanks for reminding, code added now.","body":"Thanks for reminding, code added now."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1328781579,"post_id":9192371,"comment_id":11591503,"body_markdown":"why a textArea as dropZone? I would use a list with a custom renderer (displaying the icon/displayName provided by the FileSystemView)","body":"why a textArea as dropZone? I would use a list with a custom renderer (displaying the icon/displayName provided by the FileSystemView)"},{"owner":{"account_id":129863,"reputation":6504,"user_id":328725,"accept_rate":66,"display_name":"posdef"},"score":0,"creation_date":1328782605,"post_id":9192371,"comment_id":11591822,"body_markdown":"@kleopatra: well I thought it&#39;d be the simplest case. Not sure what you mean by a list with a custom renderer, I would appreciate if you could give a short example.","body":"@kleopatra: well I thought it&#39;d be the simplest case. Not sure what you mean by a list with a custom renderer, I would appreciate if you could give a short example."}],"answers":[{"comments":[{"owner":{"account_id":129863,"reputation":6504,"user_id":328725,"accept_rate":66,"display_name":"posdef"},"score":0,"creation_date":1328784603,"post_id":9209118,"comment_id":11592496,"body_markdown":"Thanks for the example. I am guessing that the last bit with `MyRenderer` is supposed to be in the place of `fileDropper.setCellRenderer(new DefaultListRenderer(StringValues.FILE_NAME, IconValues.FILE_ICON));` Seeing as `StringValues.FILE_NAME`, and `IconValues.FILE_ICON` are undefined/cant be resolved? Or have I misunderstood something?","body":"Thanks for the example. I am guessing that the last bit with <code>MyRenderer</code> is supposed to be in the place of <code>fileDropper.setCellRenderer(new DefaultListRenderer(StringValues.FILE_NAME, IconValues.FILE_ICON));</code> Seeing as <code>StringValues.FILE_NAME</code>, and <code>IconValues.FILE_ICON</code> are undefined/cant be resolved? Or have I misunderstood something?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1328785195,"post_id":9209118,"comment_id":11592701,"body_markdown":"I incorporated some of those points into your SSCCE (&amp; posted it as an answer).","body":"I incorporated some of those points into your SSCCE (&amp; posted it as an answer)."}],"tags":[],"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1692715288,"creation_date":1328783194,"answer_id":9209118,"question_id":9192371,"body_markdown":"here&#39;s a quick snippet to import the actual Files into a JList (as opposed to importing its String representation into a text component) and use a custom renderer to present it nicely. It&#39;s adapted from the BasicDnD (in the tutorial):\r\n\r\n        fileDropper = new JList(new DefaultListModel());\r\n        fileDropper.setDragEnabled(true);\r\n        leftLowerPanel.setViewportView(fileDropper);\r\n        \r\n        TransferHandler handler =   new TransferHandler() {\r\n\r\n            @Override\r\n            public boolean canImport(TransferHandler.TransferSupport info) {\r\n                // we only import FileList\r\n                if (!info.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\r\n                    return false;\r\n                }\r\n                return true;\r\n            }\r\n\r\n            @Override\r\n            public boolean importData(TransferHandler.TransferSupport info) {\r\n                if (!info.isDrop()) {\r\n                    return false;\r\n                }\r\n                \r\n                // Check for FileList flavor\r\n                if (!info.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\r\n                    displayDropLocation(&quot;List doesn&#39;t accept a drop of this type.&quot;);\r\n                    return false;\r\n                }\r\n\r\n                // Get the fileList that is being dropped.\r\n                Transferable t = info.getTransferable();\r\n                List&lt;File&gt; data;\r\n                try {\r\n                    data = (List&lt;File&gt;)t.getTransferData(DataFlavor.javaFileListFlavor);\r\n                } \r\n                catch (Exception e) { return false; }\r\n                DefaultListModel model = (DefaultListModel) fileDropper.getModel();\r\n                for (File file : data) {\r\n                    model.addElement(file);\r\n                }\r\n                return true;\r\n            }\r\n            \r\n            private void displayDropLocation(String string) {\r\n                System.out.println(string);\r\n            }\r\n        };\r\n        fileDropper.setTransferHandler(handler);\r\n        fileDropper.setCellRenderer(new DefaultListRenderer(\r\n              StringValues.FILE_NAME, IconValues.FILE_ICON));\r\n\r\nCouldn&#39;t resist to showing SwingX renderer config :-) In core java, you would do it manually, something like\r\n     \r\n       class MyRenderer extends DefaultListCellRenderer {\r\n            \r\n            @Override\r\n            public Component getListCellRendererComponent(...) {\r\n                super.getList...\r\n                if (value instanceof File) {\r\n                    setText(FileSystemView.getFileSystemView().getSystemDisplayName(value);\r\n                    setIcon(FileSystemView.getFileSystemView().getSystemIcon(value);\r\n                } \r\n                return this;\r\n            }\r\n\r\n       }\r\n\r\n\r\n","title":"Drag&#39;n drop files from the OS to Java application (Swing)","body":"<p>here's a quick snippet to import the actual Files into a JList (as opposed to importing its String representation into a text component) and use a custom renderer to present it nicely. It's adapted from the BasicDnD (in the tutorial):</p>\n<pre><code>    fileDropper = new JList(new DefaultListModel());\n    fileDropper.setDragEnabled(true);\n    leftLowerPanel.setViewportView(fileDropper);\n    \n    TransferHandler handler =   new TransferHandler() {\n\n        @Override\n        public boolean canImport(TransferHandler.TransferSupport info) {\n            // we only import FileList\n            if (!info.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\n                return false;\n            }\n            return true;\n        }\n\n        @Override\n        public boolean importData(TransferHandler.TransferSupport info) {\n            if (!info.isDrop()) {\n                return false;\n            }\n            \n            // Check for FileList flavor\n            if (!info.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\n                displayDropLocation(&quot;List doesn't accept a drop of this type.&quot;);\n                return false;\n            }\n\n            // Get the fileList that is being dropped.\n            Transferable t = info.getTransferable();\n            List&lt;File&gt; data;\n            try {\n                data = (List&lt;File&gt;)t.getTransferData(DataFlavor.javaFileListFlavor);\n            } \n            catch (Exception e) { return false; }\n            DefaultListModel model = (DefaultListModel) fileDropper.getModel();\n            for (File file : data) {\n                model.addElement(file);\n            }\n            return true;\n        }\n        \n        private void displayDropLocation(String string) {\n            System.out.println(string);\n        }\n    };\n    fileDropper.setTransferHandler(handler);\n    fileDropper.setCellRenderer(new DefaultListRenderer(\n          StringValues.FILE_NAME, IconValues.FILE_ICON));\n</code></pre>\n<p>Couldn't resist to showing SwingX renderer config :-) In core java, you would do it manually, something like</p>\n<pre><code>   class MyRenderer extends DefaultListCellRenderer {\n        \n        @Override\n        public Component getListCellRendererComponent(...) {\n            super.getList...\n            if (value instanceof File) {\n                setText(FileSystemView.getFileSystemView().getSystemDisplayName(value);\n                setIcon(FileSystemView.getFileSystemView().getSystemIcon(value);\n            } \n            return this;\n        }\n\n   }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":129863,"reputation":6504,"user_id":328725,"accept_rate":66,"display_name":"posdef"},"score":0,"creation_date":1328786347,"post_id":9209605,"comment_id":11593111,"body_markdown":"Thanks a big bunch Andrew, it works without a problem on my end. (I had already encountered the issue with `List`s when I was trying out her example). I am not sure I fully understand @kleopatra&#39;s `ListCellRenderer` suggestion. I mean I follow your version, but I don&#39;t think I fully grasp the finesse in her version.","body":"Thanks a big bunch Andrew, it works without a problem on my end. (I had already encountered the issue with <code>List</code>s when I was trying out her example). I am not sure I fully understand @kleopatra&#39;s <code>ListCellRenderer</code> suggestion. I mean I follow your version, but I don&#39;t think I fully grasp the finesse in her version."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1328786736,"post_id":9209605,"comment_id":11593234,"body_markdown":"It was mostly `FileSystemView.getFileSystemView().getDisplayName(value)` which I suspect might produce a better name (but have not tested).  BTW - if you&#39;re having trouble deciding who to give the &#39;tick&#39; to, I suggest her answer, since it was correct and first.","body":"It was mostly <code>FileSystemView.getFileSystemView().getDisplayName(value)</code> which I suspect might produce a better name (but have not tested).  BTW - if you&#39;re having trouble deciding who to give the &#39;tick&#39; to, I suggest her answer, since it was correct and first."},{"owner":{"account_id":129863,"reputation":6504,"user_id":328725,"accept_rate":66,"display_name":"posdef"},"score":0,"creation_date":1328786975,"post_id":9209605,"comment_id":11593303,"body_markdown":"Thanks for the clarification, I try them both to see if there is a significant difference. I feel like I got more help from you than her but I will honor your suggestion nevertheless.","body":"Thanks for the clarification, I try them both to see if there is a significant difference. I feel like I got more help from you than her but I will honor your suggestion nevertheless."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1328787246,"post_id":9209605,"comment_id":11593405,"body_markdown":"No worries.  Glad you got it sorted.  :)","body":"No worries.  Glad you got it sorted.  :)"},{"owner":{"account_id":1007899,"reputation":579,"user_id":1021132,"accept_rate":92,"display_name":"kamil"},"score":0,"creation_date":1363831420,"post_id":9209605,"comment_id":22014165,"body_markdown":"@AndrewThompson can you please brief, why you have use serialversionUid?","body":"@AndrewThompson can you please brief, why you have use serialversionUid?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1364194621,"post_id":9209605,"comment_id":22137770,"body_markdown":"@kamil  That is an entirely different question which has been asked and answered many times on SO.","body":"@kamil  That is an entirely different question which has been asked and answered many times on SO."}],"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"comment_count":6,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1328785728,"creation_date":1328785137,"answer_id":9209605,"question_id":9192371,"body_markdown":"This is effectively kleopatra&#39;s answer&lt;sup&gt;1&lt;/sup&gt; (with a few trivial changes, not necessarily for the better), ..with a screenshot!\r\n\r\n![ConsolidatorDemo][1]\r\n\r\n    import java.awt.datatransfer.*;\r\n    import java.awt.event.*;\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Component;\r\n    import java.awt.Dimension;\r\n    import java.io.*;\r\n    import javax.swing.*;\r\n    import javax.swing.UIManager.LookAndFeelInfo;\r\n    import javax.swing.border.TitledBorder;\r\n    import javax.swing.filechooser.FileNameExtensionFilter;\r\n    import javax.swing.filechooser.FileSystemView;\r\n    import javax.swing.text.*;\r\n    import java.util.List;\r\n    \r\n    public class ConsolidatorDemo extends JPanel implements ActionListener {\r\n        private static final long serialVersionUID = -4487732343062917781L;\r\n        JFileChooser fc;\r\n        JButton clear;\r\n        JTextArea console;\r\n    \r\n        JList dropZone;\r\n        DefaultListModel listModel;\r\n        JSplitPane childSplitPane, parentSplitPane;\r\n        PrintStream ps;\r\n    \r\n      public ConsolidatorDemo() {\r\n        super(new BorderLayout());\r\n    \r\n        fc = new JFileChooser();;\r\n        fc.setMultiSelectionEnabled(true);\r\n        fc.setDragEnabled(true);\r\n        fc.setControlButtonsAreShown(false);\r\n        fc.setFileSelectionMode(JFileChooser.FILES_ONLY);\r\n    \r\n    \r\n        JPanel fcPanel = new JPanel(new BorderLayout());\r\n        fcPanel.add(fc, BorderLayout.CENTER);\r\n    \r\n        clear = new JButton(&quot;Clear All&quot;);\r\n        clear.addActionListener(this);\r\n        JPanel buttonPanel = new JPanel(new BorderLayout());\r\n        buttonPanel.setBorder(BorderFactory.createEmptyBorder(5,5,5,5));\r\n        buttonPanel.add(clear, BorderLayout.LINE_END);\r\n    \r\n        JPanel leftUpperPanel = new JPanel(new BorderLayout());\r\n        leftUpperPanel.setBorder(BorderFactory.createEmptyBorder(5,5,5,5));\r\n        leftUpperPanel.add(fcPanel, BorderLayout.CENTER);\r\n        leftUpperPanel.add(buttonPanel, BorderLayout.PAGE_END);\r\n    \r\n        JScrollPane leftLowerPanel = new javax.swing.JScrollPane();\r\n        leftLowerPanel.setBorder(BorderFactory.createEmptyBorder(5,5,5,5));\r\n    \r\n        listModel = new DefaultListModel();\r\n        dropZone = new JList(listModel);\r\n        dropZone.setCellRenderer(new FileCellRenderer());\r\n        dropZone.setTransferHandler(new ListTransferHandler(dropZone));\r\n        dropZone.setDragEnabled(true);\r\n        dropZone.setDropMode(javax.swing.DropMode.INSERT);\r\n        dropZone.setBorder(new TitledBorder(&quot;Selected files/folders&quot;));\r\n        leftLowerPanel.setViewportView(new JScrollPane(dropZone));\r\n    \r\n        childSplitPane = new JSplitPane(JSplitPane.VERTICAL_SPLIT,\r\n                leftUpperPanel, leftLowerPanel);\r\n        childSplitPane.setDividerLocation(400);\r\n        childSplitPane.setPreferredSize(new Dimension(480, 650));\r\n    \r\n        console = new JTextArea();\r\n        console.setColumns(40);\r\n        console.setLineWrap(true);\r\n        console.setBorder(new TitledBorder(&quot;Console&quot;));\r\n    \r\n        parentSplitPane = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT,\r\n                        childSplitPane, console);\r\n        parentSplitPane.setDividerLocation(480);\r\n        parentSplitPane.setPreferredSize(new Dimension(800, 650));\r\n    \r\n        add(parentSplitPane, BorderLayout.CENTER);\r\n    \r\n    }\r\n    \r\n    public void setDefaultButton() {\r\n        getRootPane().setDefaultButton(clear);\r\n    }\r\n    \r\n    public void actionPerformed(ActionEvent e) {\r\n        if (e.getSource() == clear) {\r\n    \t\tlistModel.clear();\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Create the GUI and show it. For thread safety,\r\n     * this method should be invoked from the\r\n     * event-dispatching thread.\r\n     */\r\n    private static void createAndShowGUI() {\r\n        //Make sure we have nice window decorations.\r\n        JFrame.setDefaultLookAndFeelDecorated(true);\r\n        try {\r\n          //UIManager.setLookAndFeel(&quot;de.javasoft.plaf.synthetica.SyntheticaBlackStarLookAndFeel&quot;);\r\n            for (LookAndFeelInfo info : UIManager.getInstalledLookAndFeels()) {\r\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                    UIManager.setLookAndFeel(info.getClassName());\r\n                    break;\r\n                }\r\n            }\r\n        }catch (Exception e){\r\n          e.printStackTrace();\r\n        }\r\n    \r\n        //Create and set up the window.\r\n        JFrame frame = new JFrame(&quot;Consolidator!&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n    \r\n        //Create and set up the menu bar and content pane.\r\n        ConsolidatorDemo demo = new ConsolidatorDemo();\r\n        demo.setOpaque(true); //content panes must be opaque\r\n        frame.setContentPane(demo);\r\n    \r\n        //Display the window.\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n        demo.setDefaultButton();\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        //Schedule a job for the event-dispatching thread:\r\n        //creating and showing this application&#39;s GUI.\r\n        javax.swing.SwingUtilities.invokeLater(new Runnable() {\r\n            public void run() {\r\n                createAndShowGUI();\r\n            }\r\n        });\r\n    }\r\n    }\r\n    \r\n    class FileCellRenderer extends DefaultListCellRenderer {\r\n    \r\n    \tpublic Component getListCellRendererComponent(JList list,\r\n    \t\tObject value,\r\n    \t\tint index,\r\n    \t\tboolean isSelected,\r\n    \t\tboolean cellHasFocus) {\r\n    \r\n    \t\tComponent c = super.getListCellRendererComponent(\r\n    \t\t\tlist,value,index,isSelected,cellHasFocus);\r\n    \r\n    \t\tif (c instanceof JLabel &amp;&amp; value instanceof File) {\r\n    \t\t\tJLabel l = (JLabel)c;\r\n    \t\t\tFile f = (File)value;\r\n    \t\t\tl.setIcon(FileSystemView.getFileSystemView().getSystemIcon(f));\r\n    \t\t\tl.setText(f.getName());\r\n    \t\t\tl.setToolTipText(f.getAbsolutePath());\r\n    \t\t}\r\n    \r\n    \t\treturn c;\r\n    \t}\r\n    }\r\n    \r\n    class ListTransferHandler extends TransferHandler {\r\n    \r\n    \tprivate JList list;\r\n    \r\n    \tListTransferHandler(JList list) {\r\n    \t\tthis.list = list;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean canImport(TransferHandler.TransferSupport info) {\r\n    \t\t// we only import FileList\r\n    \t\tif (!info.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean importData(TransferHandler.TransferSupport info) {\r\n    \t\tif (!info.isDrop()) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\t// Check for FileList flavor\r\n    \t\tif (!info.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\r\n    \t\t\tdisplayDropLocation(&quot;List doesn&#39;t accept a drop of this type.&quot;);\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\t// Get the fileList that is being dropped.\r\n    \t\tTransferable t = info.getTransferable();\r\n    \t\tList&lt;File&gt; data;\r\n    \t\ttry {\r\n    \t\t\tdata = (List&lt;File&gt;)t.getTransferData(DataFlavor.javaFileListFlavor);\r\n    \t\t}\r\n    \t\tcatch (Exception e) { return false; }\r\n    \t\tDefaultListModel model = (DefaultListModel) list.getModel();\r\n    \t\tfor (Object file : data) {\r\n    \t\t\tmodel.addElement((File)file);\r\n    \t\t}\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \tprivate void displayDropLocation(String string) {\r\n    \t\tSystem.out.println(string);\r\n    \t}\r\n    }\r\n\r\n1. I was busy writing an answer when I noticed she had already posted one.  Since my `TransferHandler` was very broken, I used hers.  Though I used my version of the list cell renderer, which does not seem to capture the subtlety of what she was suggesting.  I was also getting compilation errors on the mention of `List` (given the compiler was assuming I meant an AWT list.  I only realized what was happening after I&#39;d changed several of the `List&lt;File&gt;` type statements to be non-generic - I think most of them are now changed back.\r\n\r\n  [1]: http://i.stack.imgur.com/cGZFj.png","title":"Drag&#39;n drop files from the OS to Java application (Swing)","body":"<p>This is effectively kleopatra's answer<sup>1</sup> (with a few trivial changes, not necessarily for the better), ..with a screenshot!</p>\n\n<p><img src=\"https://i.stack.imgur.com/cGZFj.png\" alt=\"ConsolidatorDemo\"></p>\n\n<pre><code>import java.awt.datatransfer.*;\nimport java.awt.event.*;\nimport java.awt.BorderLayout;\nimport java.awt.Component;\nimport java.awt.Dimension;\nimport java.io.*;\nimport javax.swing.*;\nimport javax.swing.UIManager.LookAndFeelInfo;\nimport javax.swing.border.TitledBorder;\nimport javax.swing.filechooser.FileNameExtensionFilter;\nimport javax.swing.filechooser.FileSystemView;\nimport javax.swing.text.*;\nimport java.util.List;\n\npublic class ConsolidatorDemo extends JPanel implements ActionListener {\n    private static final long serialVersionUID = -4487732343062917781L;\n    JFileChooser fc;\n    JButton clear;\n    JTextArea console;\n\n    JList dropZone;\n    DefaultListModel listModel;\n    JSplitPane childSplitPane, parentSplitPane;\n    PrintStream ps;\n\n  public ConsolidatorDemo() {\n    super(new BorderLayout());\n\n    fc = new JFileChooser();;\n    fc.setMultiSelectionEnabled(true);\n    fc.setDragEnabled(true);\n    fc.setControlButtonsAreShown(false);\n    fc.setFileSelectionMode(JFileChooser.FILES_ONLY);\n\n\n    JPanel fcPanel = new JPanel(new BorderLayout());\n    fcPanel.add(fc, BorderLayout.CENTER);\n\n    clear = new JButton(\"Clear All\");\n    clear.addActionListener(this);\n    JPanel buttonPanel = new JPanel(new BorderLayout());\n    buttonPanel.setBorder(BorderFactory.createEmptyBorder(5,5,5,5));\n    buttonPanel.add(clear, BorderLayout.LINE_END);\n\n    JPanel leftUpperPanel = new JPanel(new BorderLayout());\n    leftUpperPanel.setBorder(BorderFactory.createEmptyBorder(5,5,5,5));\n    leftUpperPanel.add(fcPanel, BorderLayout.CENTER);\n    leftUpperPanel.add(buttonPanel, BorderLayout.PAGE_END);\n\n    JScrollPane leftLowerPanel = new javax.swing.JScrollPane();\n    leftLowerPanel.setBorder(BorderFactory.createEmptyBorder(5,5,5,5));\n\n    listModel = new DefaultListModel();\n    dropZone = new JList(listModel);\n    dropZone.setCellRenderer(new FileCellRenderer());\n    dropZone.setTransferHandler(new ListTransferHandler(dropZone));\n    dropZone.setDragEnabled(true);\n    dropZone.setDropMode(javax.swing.DropMode.INSERT);\n    dropZone.setBorder(new TitledBorder(\"Selected files/folders\"));\n    leftLowerPanel.setViewportView(new JScrollPane(dropZone));\n\n    childSplitPane = new JSplitPane(JSplitPane.VERTICAL_SPLIT,\n            leftUpperPanel, leftLowerPanel);\n    childSplitPane.setDividerLocation(400);\n    childSplitPane.setPreferredSize(new Dimension(480, 650));\n\n    console = new JTextArea();\n    console.setColumns(40);\n    console.setLineWrap(true);\n    console.setBorder(new TitledBorder(\"Console\"));\n\n    parentSplitPane = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT,\n                    childSplitPane, console);\n    parentSplitPane.setDividerLocation(480);\n    parentSplitPane.setPreferredSize(new Dimension(800, 650));\n\n    add(parentSplitPane, BorderLayout.CENTER);\n\n}\n\npublic void setDefaultButton() {\n    getRootPane().setDefaultButton(clear);\n}\n\npublic void actionPerformed(ActionEvent e) {\n    if (e.getSource() == clear) {\n        listModel.clear();\n    }\n}\n\n/**\n * Create the GUI and show it. For thread safety,\n * this method should be invoked from the\n * event-dispatching thread.\n */\nprivate static void createAndShowGUI() {\n    //Make sure we have nice window decorations.\n    JFrame.setDefaultLookAndFeelDecorated(true);\n    try {\n      //UIManager.setLookAndFeel(\"de.javasoft.plaf.synthetica.SyntheticaBlackStarLookAndFeel\");\n        for (LookAndFeelInfo info : UIManager.getInstalledLookAndFeels()) {\n            if (\"Nimbus\".equals(info.getName())) {\n                UIManager.setLookAndFeel(info.getClassName());\n                break;\n            }\n        }\n    }catch (Exception e){\n      e.printStackTrace();\n    }\n\n    //Create and set up the window.\n    JFrame frame = new JFrame(\"Consolidator!\");\n    frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n\n    //Create and set up the menu bar and content pane.\n    ConsolidatorDemo demo = new ConsolidatorDemo();\n    demo.setOpaque(true); //content panes must be opaque\n    frame.setContentPane(demo);\n\n    //Display the window.\n    frame.pack();\n    frame.setVisible(true);\n    demo.setDefaultButton();\n}\n\npublic static void main(String[] args) {\n    //Schedule a job for the event-dispatching thread:\n    //creating and showing this application's GUI.\n    javax.swing.SwingUtilities.invokeLater(new Runnable() {\n        public void run() {\n            createAndShowGUI();\n        }\n    });\n}\n}\n\nclass FileCellRenderer extends DefaultListCellRenderer {\n\n    public Component getListCellRendererComponent(JList list,\n        Object value,\n        int index,\n        boolean isSelected,\n        boolean cellHasFocus) {\n\n        Component c = super.getListCellRendererComponent(\n            list,value,index,isSelected,cellHasFocus);\n\n        if (c instanceof JLabel &amp;&amp; value instanceof File) {\n            JLabel l = (JLabel)c;\n            File f = (File)value;\n            l.setIcon(FileSystemView.getFileSystemView().getSystemIcon(f));\n            l.setText(f.getName());\n            l.setToolTipText(f.getAbsolutePath());\n        }\n\n        return c;\n    }\n}\n\nclass ListTransferHandler extends TransferHandler {\n\n    private JList list;\n\n    ListTransferHandler(JList list) {\n        this.list = list;\n    }\n\n    @Override\n    public boolean canImport(TransferHandler.TransferSupport info) {\n        // we only import FileList\n        if (!info.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\n            return false;\n        }\n        return true;\n    }\n\n    @Override\n    public boolean importData(TransferHandler.TransferSupport info) {\n        if (!info.isDrop()) {\n            return false;\n        }\n\n        // Check for FileList flavor\n        if (!info.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\n            displayDropLocation(\"List doesn't accept a drop of this type.\");\n            return false;\n        }\n\n        // Get the fileList that is being dropped.\n        Transferable t = info.getTransferable();\n        List&lt;File&gt; data;\n        try {\n            data = (List&lt;File&gt;)t.getTransferData(DataFlavor.javaFileListFlavor);\n        }\n        catch (Exception e) { return false; }\n        DefaultListModel model = (DefaultListModel) list.getModel();\n        for (Object file : data) {\n            model.addElement((File)file);\n        }\n        return true;\n    }\n\n    private void displayDropLocation(String string) {\n        System.out.println(string);\n    }\n}\n</code></pre>\n\n<ol>\n<li>I was busy writing an answer when I noticed she had already posted one.  Since my <code>TransferHandler</code> was very broken, I used hers.  Though I used my version of the list cell renderer, which does not seem to capture the subtlety of what she was suggesting.  I was also getting compilation errors on the mention of <code>List</code> (given the compiler was assuming I meant an AWT list.  I only realized what was happening after I'd changed several of the <code>List&lt;File&gt;</code> type statements to be non-generic - I think most of them are now changed back.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2297173,"reputation":1219,"user_id":2018343,"accept_rate":51,"display_name":"Dinesh Ravi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491120177,"creation_date":1491120177,"answer_id":43166031,"question_id":9192371,"body_markdown":"Here is the code without console and extra button \r\n\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Component;\r\n    import java.awt.Dimension;\r\n    import java.awt.datatransfer.DataFlavor;\r\n    import java.awt.datatransfer.Transferable;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.io.File;\r\n    import java.io.PrintStream;\r\n    import java.util.List;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.DefaultListCellRenderer;\r\n    import javax.swing.DefaultListModel;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JList;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JSplitPane;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.TransferHandler;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.UIManager.LookAndFeelInfo;\r\n    import javax.swing.border.TitledBorder;\r\n    import javax.swing.filechooser.FileSystemView;\r\n    \r\n    public class ConsolidatorDemo extends JPanel implements ActionListener {\r\n    \tprivate static final long serialVersionUID = -4487732343062917781L;\r\n    \t// JFileChooser fc;\r\n    \tJButton clear,compare;\r\n    \tJTextArea fc;\r\n    \r\n    \tJList dropZone;\r\n    \tDefaultListModel listModel;\r\n    \tJSplitPane childSplitPane, parentSplitPane;\r\n    \tPrintStream ps;\r\n    \r\n    \tpublic ConsolidatorDemo() {\r\n    \t\tsuper(new BorderLayout());\r\n    \r\n    \t\t/* fc = new JFileChooser();;\r\n        fc.setMultiSelectionEnabled(true);\r\n        fc.setDragEnabled(true);\r\n        fc.setControlButtonsAreShown(false);\r\n        fc.setFileSelectionMode(JFileChooser.FILES_ONLY);*/\r\n    \t\tfc= new JTextArea();\r\n    \t\tfc.setText(&quot;Rules:\\n1. drop old html first.\\n2. drop new html.\\n3. drop output folder.\\n4. click compare button.\\n5. Check output in the output.txt file.\\nEnd&quot;);\r\n    \r\n    \t\tfc.setEditable(false);\r\n    \t\tJPanel fcPanel = new JPanel(new BorderLayout());\r\n    \r\n    \t\tfcPanel.add(fc, BorderLayout.CENTER);\r\n    \r\n    \r\n    \t\tcompare = new JButton(&quot;Compare&quot;);\r\n    \t\tcompare.addActionListener(this);\r\n    \t\tJPanel buttonPanel1 = new JPanel(new BorderLayout());\r\n    \t\tbuttonPanel1.setBorder(BorderFactory.createEmptyBorder(1,1,1,1));\r\n    \t\tbuttonPanel1.add(compare, BorderLayout.LINE_END);\r\n    \r\n    \r\n    \t\tclear = new JButton(&quot;Clear All&quot;);\r\n    \t\tclear.addActionListener(this);\r\n    \t\tJPanel buttonPanel = new JPanel(new BorderLayout());\r\n    \t\tbuttonPanel.setBorder(BorderFactory.createEmptyBorder(1,1,1,1));\r\n    \t\tbuttonPanel.add(clear, BorderLayout.LINE_END);\r\n    \r\n    \t\tJPanel leftUpperPanel = new JPanel(new BorderLayout());\r\n    \t\tleftUpperPanel.setBorder(BorderFactory.createEmptyBorder(3,3,3,3));\r\n    \t\tleftUpperPanel.add(fcPanel, BorderLayout.CENTER);\r\n    \t\tleftUpperPanel.add(buttonPanel1, BorderLayout.LINE_END);\r\n    \t\tleftUpperPanel.add(buttonPanel, BorderLayout.PAGE_END);\r\n    \r\n    \t\tJScrollPane leftLowerPanel = new javax.swing.JScrollPane();\r\n    \t\tleftLowerPanel.setBorder(BorderFactory.createEmptyBorder(3,3,3,3));\r\n    \r\n    \t\tlistModel = new DefaultListModel();\r\n    \t\tdropZone = new JList(listModel);\r\n    \t\tdropZone.setCellRenderer(new FileCellRenderer());\r\n    \t\tdropZone.setTransferHandler(new ListTransferHandler(dropZone));\r\n    \t\tdropZone.setDragEnabled(true);\r\n    \t\tdropZone.setDropMode(javax.swing.DropMode.INSERT);\r\n    \t\tdropZone.setBorder(new TitledBorder(&quot;Drag and drop files here&quot;));\r\n    \t\tleftLowerPanel.setViewportView(new JScrollPane(dropZone));\r\n    \r\n    \t\tchildSplitPane = new JSplitPane(JSplitPane.VERTICAL_SPLIT, leftLowerPanel,leftUpperPanel);\r\n    \t\tchildSplitPane.setDividerLocation(200);//400\r\n    \t\tchildSplitPane.setPreferredSize(new Dimension(300, 400));//480, 650\r\n    \r\n    \t\t/*console = new JTextArea();\r\n        console.setColumns(40);\r\n        console.setLineWrap(true);\r\n        console.setBorder(new TitledBorder(&quot;Console&quot;));\r\n    \r\n        parentSplitPane = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT,\r\n                        childSplitPane, console);\r\n        parentSplitPane.setDividerLocation(480);\r\n        parentSplitPane.setPreferredSize(new Dimension(800, 650));*/\r\n    \r\n    \t\tadd(childSplitPane, BorderLayout.CENTER);\r\n    \r\n    \t}\r\n    \r\n    \tpublic void setDefaultButton() {\r\n    \t\tgetRootPane().setDefaultButton(clear);\r\n    \t}\r\n    \r\n    \tpublic void actionPerformed(ActionEvent e) {\r\n    \t\tif (e.getSource() == clear) {\r\n    \t\t\tlistModel.clear();\r\n    \t\t}else if (e.getSource() == compare) {\r\n    \t\t\t//our function\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Create the GUI and show it. For thread safety,\r\n    \t * this method should be invoked from the\r\n    \t * event-dispatching thread.\r\n    \t */\r\n    \tprivate static void createAndShowGUI() {\r\n    \t\t//Make sure we have nice window decorations.\r\n    \t\tJFrame.setDefaultLookAndFeelDecorated(true);\r\n    \t\ttry {\r\n    \t\t\t//UIManager.setLookAndFeel(&quot;de.javasoft.plaf.synthetica.SyntheticaBlackStarLookAndFeel&quot;);\r\n    \t\t\tfor (LookAndFeelInfo info : UIManager.getInstalledLookAndFeels()) {\r\n    \t\t\t\tif (&quot;Nimbus&quot;.equals(info.getName())) {\r\n    \t\t\t\t\tUIManager.setLookAndFeel(info.getClassName());\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}catch (Exception e){\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\t//Create and set up the window.\r\n    \t\tJFrame frame = new JFrame(&quot;Bill of materials Comparer&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n    \r\n    \t\t//Create and set up the menu bar and content pane.\r\n    \t\tConsolidatorDemo demo = new ConsolidatorDemo();\r\n    \t\tdemo.setOpaque(true); //content panes must be opaque\r\n    \t\tframe.setContentPane(demo);\r\n    \r\n    \t\t//Display the window.\r\n    \t\tframe.pack();\r\n    \t\tframe.setVisible(true);\r\n    \t\tdemo.setDefaultButton();\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t//Schedule a job for the event-dispatching thread:\r\n    \t\t//creating and showing this application&#39;s GUI.\r\n    \t\tjavax.swing.SwingUtilities.invokeLater(new Runnable() {\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tcreateAndShowGUI();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }\r\n    \r\n    class FileCellRenderer extends DefaultListCellRenderer {\r\n    \r\n    \tpublic Component getListCellRendererComponent(JList list,Object value,int index,boolean isSelected,boolean cellHasFocus) {\r\n    \r\n    \t\tComponent c = super.getListCellRendererComponent(list,value,index,isSelected,cellHasFocus);\r\n    \r\n    \t\tif (c instanceof JLabel &amp;&amp; value instanceof File) {\r\n    \t\t\tJLabel l = (JLabel)c;\r\n    \t\t\tFile f = (File)value;\r\n    \t\t\tl.setIcon(FileSystemView.getFileSystemView().getSystemIcon(f));\r\n    \t\t\tl.setText(f.getName());\r\n    \t\t\t//l.setText(f.getAbsolutePath());\r\n    \t\t\tl.setToolTipText(f.getAbsolutePath());\r\n    \t\t}\r\n    \r\n    \t\treturn c;\r\n    \t}\r\n    }\r\n    \r\n    class ListTransferHandler extends TransferHandler {\r\n    \r\n    \tprivate JList list;\r\n    \r\n    \tListTransferHandler(JList list) {\r\n    \t\tthis.list = list;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean canImport(TransferHandler.TransferSupport info) {\r\n    \t\t// we only import FileList\r\n    \t\tif (!info.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean importData(TransferHandler.TransferSupport info) {\r\n    \t\tif (!info.isDrop()) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\t// Check for FileList flavor\r\n    \t\tif (!info.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\r\n    \t\t\tdisplayDropLocation(&quot;List doesn&#39;t accept a drop of this type.&quot;);\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\t// Get the fileList that is being dropped.\r\n    \t\tTransferable t = info.getTransferable();\r\n    \t\tList&lt;File&gt; data;\r\n    \t\ttry {\r\n    \t\t\tdata = (List&lt;File&gt;)t.getTransferData(DataFlavor.javaFileListFlavor);\r\n    \t\t}\r\n    \t\tcatch (Exception e) { return false; }\r\n    \t\tDefaultListModel model = (DefaultListModel) list.getModel();\r\n    \t\tfor (Object file : data) {\r\n    \t\t\tmodel.addElement((File)file);\r\n    \t\t}\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \tprivate void displayDropLocation(String string) {\r\n    \t\tSystem.out.println(string);\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n","title":"Drag&#39;n drop files from the OS to Java application (Swing)","body":"<p>Here is the code without console and extra button </p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.datatransfer.DataFlavor;\nimport java.awt.datatransfer.Transferable;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.io.File;\nimport java.io.PrintStream;\nimport java.util.List;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.DefaultListCellRenderer;\nimport javax.swing.DefaultListModel;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JList;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JSplitPane;\nimport javax.swing.JTextArea;\nimport javax.swing.TransferHandler;\nimport javax.swing.UIManager;\nimport javax.swing.UIManager.LookAndFeelInfo;\nimport javax.swing.border.TitledBorder;\nimport javax.swing.filechooser.FileSystemView;\n\npublic class ConsolidatorDemo extends JPanel implements ActionListener {\n    private static final long serialVersionUID = -4487732343062917781L;\n    // JFileChooser fc;\n    JButton clear,compare;\n    JTextArea fc;\n\n    JList dropZone;\n    DefaultListModel listModel;\n    JSplitPane childSplitPane, parentSplitPane;\n    PrintStream ps;\n\n    public ConsolidatorDemo() {\n        super(new BorderLayout());\n\n        /* fc = new JFileChooser();;\n    fc.setMultiSelectionEnabled(true);\n    fc.setDragEnabled(true);\n    fc.setControlButtonsAreShown(false);\n    fc.setFileSelectionMode(JFileChooser.FILES_ONLY);*/\n        fc= new JTextArea();\n        fc.setText(\"Rules:\\n1. drop old html first.\\n2. drop new html.\\n3. drop output folder.\\n4. click compare button.\\n5. Check output in the output.txt file.\\nEnd\");\n\n        fc.setEditable(false);\n        JPanel fcPanel = new JPanel(new BorderLayout());\n\n        fcPanel.add(fc, BorderLayout.CENTER);\n\n\n        compare = new JButton(\"Compare\");\n        compare.addActionListener(this);\n        JPanel buttonPanel1 = new JPanel(new BorderLayout());\n        buttonPanel1.setBorder(BorderFactory.createEmptyBorder(1,1,1,1));\n        buttonPanel1.add(compare, BorderLayout.LINE_END);\n\n\n        clear = new JButton(\"Clear All\");\n        clear.addActionListener(this);\n        JPanel buttonPanel = new JPanel(new BorderLayout());\n        buttonPanel.setBorder(BorderFactory.createEmptyBorder(1,1,1,1));\n        buttonPanel.add(clear, BorderLayout.LINE_END);\n\n        JPanel leftUpperPanel = new JPanel(new BorderLayout());\n        leftUpperPanel.setBorder(BorderFactory.createEmptyBorder(3,3,3,3));\n        leftUpperPanel.add(fcPanel, BorderLayout.CENTER);\n        leftUpperPanel.add(buttonPanel1, BorderLayout.LINE_END);\n        leftUpperPanel.add(buttonPanel, BorderLayout.PAGE_END);\n\n        JScrollPane leftLowerPanel = new javax.swing.JScrollPane();\n        leftLowerPanel.setBorder(BorderFactory.createEmptyBorder(3,3,3,3));\n\n        listModel = new DefaultListModel();\n        dropZone = new JList(listModel);\n        dropZone.setCellRenderer(new FileCellRenderer());\n        dropZone.setTransferHandler(new ListTransferHandler(dropZone));\n        dropZone.setDragEnabled(true);\n        dropZone.setDropMode(javax.swing.DropMode.INSERT);\n        dropZone.setBorder(new TitledBorder(\"Drag and drop files here\"));\n        leftLowerPanel.setViewportView(new JScrollPane(dropZone));\n\n        childSplitPane = new JSplitPane(JSplitPane.VERTICAL_SPLIT, leftLowerPanel,leftUpperPanel);\n        childSplitPane.setDividerLocation(200);//400\n        childSplitPane.setPreferredSize(new Dimension(300, 400));//480, 650\n\n        /*console = new JTextArea();\n    console.setColumns(40);\n    console.setLineWrap(true);\n    console.setBorder(new TitledBorder(\"Console\"));\n\n    parentSplitPane = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT,\n                    childSplitPane, console);\n    parentSplitPane.setDividerLocation(480);\n    parentSplitPane.setPreferredSize(new Dimension(800, 650));*/\n\n        add(childSplitPane, BorderLayout.CENTER);\n\n    }\n\n    public void setDefaultButton() {\n        getRootPane().setDefaultButton(clear);\n    }\n\n    public void actionPerformed(ActionEvent e) {\n        if (e.getSource() == clear) {\n            listModel.clear();\n        }else if (e.getSource() == compare) {\n            //our function\n        }\n    }\n\n    /**\n     * Create the GUI and show it. For thread safety,\n     * this method should be invoked from the\n     * event-dispatching thread.\n     */\n    private static void createAndShowGUI() {\n        //Make sure we have nice window decorations.\n        JFrame.setDefaultLookAndFeelDecorated(true);\n        try {\n            //UIManager.setLookAndFeel(\"de.javasoft.plaf.synthetica.SyntheticaBlackStarLookAndFeel\");\n            for (LookAndFeelInfo info : UIManager.getInstalledLookAndFeels()) {\n                if (\"Nimbus\".equals(info.getName())) {\n                    UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        }catch (Exception e){\n            e.printStackTrace();\n        }\n\n        //Create and set up the window.\n        JFrame frame = new JFrame(\"Bill of materials Comparer\");\n        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n\n        //Create and set up the menu bar and content pane.\n        ConsolidatorDemo demo = new ConsolidatorDemo();\n        demo.setOpaque(true); //content panes must be opaque\n        frame.setContentPane(demo);\n\n        //Display the window.\n        frame.pack();\n        frame.setVisible(true);\n        demo.setDefaultButton();\n    }\n\n    public static void main(String[] args) {\n        //Schedule a job for the event-dispatching thread:\n        //creating and showing this application's GUI.\n        javax.swing.SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                createAndShowGUI();\n            }\n        });\n    }\n}\n\nclass FileCellRenderer extends DefaultListCellRenderer {\n\n    public Component getListCellRendererComponent(JList list,Object value,int index,boolean isSelected,boolean cellHasFocus) {\n\n        Component c = super.getListCellRendererComponent(list,value,index,isSelected,cellHasFocus);\n\n        if (c instanceof JLabel &amp;&amp; value instanceof File) {\n            JLabel l = (JLabel)c;\n            File f = (File)value;\n            l.setIcon(FileSystemView.getFileSystemView().getSystemIcon(f));\n            l.setText(f.getName());\n            //l.setText(f.getAbsolutePath());\n            l.setToolTipText(f.getAbsolutePath());\n        }\n\n        return c;\n    }\n}\n\nclass ListTransferHandler extends TransferHandler {\n\n    private JList list;\n\n    ListTransferHandler(JList list) {\n        this.list = list;\n    }\n\n    @Override\n    public boolean canImport(TransferHandler.TransferSupport info) {\n        // we only import FileList\n        if (!info.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\n            return false;\n        }\n        return true;\n    }\n\n    @Override\n    public boolean importData(TransferHandler.TransferSupport info) {\n        if (!info.isDrop()) {\n            return false;\n        }\n\n        // Check for FileList flavor\n        if (!info.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\n            displayDropLocation(\"List doesn't accept a drop of this type.\");\n            return false;\n        }\n\n        // Get the fileList that is being dropped.\n        Transferable t = info.getTransferable();\n        List&lt;File&gt; data;\n        try {\n            data = (List&lt;File&gt;)t.getTransferData(DataFlavor.javaFileListFlavor);\n        }\n        catch (Exception e) { return false; }\n        DefaultListModel model = (DefaultListModel) list.getModel();\n        for (Object file : data) {\n            model.addElement((File)file);\n        }\n        return true;\n    }\n\n    private void displayDropLocation(String string) {\n        System.out.println(string);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":129863,"reputation":6504,"user_id":328725,"accept_rate":66,"display_name":"posdef"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12250,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":9209118,"answer_count":3,"score":10,"last_activity_date":1692715288,"creation_date":1328700272,"question_id":9192371,"body_markdown":"Let me start by saying that I have been reading the [drag&#39;n drop tutorial][1] and similar questions asked on SO, but unfortunately I have only gotten more confused about this matter. What I want to achieve is relatively simple so I am surprised that it got me in so much trouble already. I am writing a small utility application which will consolidate a bunch of result files (custom defined xml-type) into a large tab-separated text file. Most of the functionality is already coded, however I wanted to make a decent GUI for it.\r\n\r\nWhat I want is to be able to drag&#39;n drop files into a component (for instance `JTextArea`) in a nice and gracious way (read: not full paths, but instead a small icon and name). I would like to be able to supply a `JFileChooser` to browse for files as well. I will then parse the files sequentially to produce the matrix I want. \r\n\r\nWhat I have learned so far is that the framework is already there however any additional functionality needs to be custom built. I have created a test GUI in Netbeans and tried to drag a bunch of files onto a `JTextArea`, but they appear as file paths, and admittedly it looks very ugly. \r\n\r\nI would really appreciate any tips and guidance on how to solve (or clarify) this problem in a neat way. Note that I do intend to use the software on multiple different OS (Mac,Win and Linux).\r\n\r\n**EDIT:** the code I have so far is based on one of the examples from Sun tutorials and is as follows\r\n\r\n    import java.awt.datatransfer.*;\r\n    import java.awt.event.*;\r\n    import java.awt.*;\r\n    import java.io.*;\r\n    import javax.swing.*;\r\n    import javax.swing.UIManager.LookAndFeelInfo;\r\n    import javax.swing.border.TitledBorder;\r\n    import javax.swing.filechooser.FileNameExtensionFilter;\r\n    import javax.swing.text.*;\r\n\r\n    public class ConsolidatorDemo extends JPanel implements ActionListener {\r\n        private static final long serialVersionUID = -4487732343062917781L;\r\n        JFileChooser fc;\r\n        JButton clear;\r\n        JTextArea dropZone, console;\r\n        JSplitPane childSplitPane, parentSplitPane;\r\n        PrintStream ps;\r\n\r\n      public ConsolidatorDemo() {\r\n        super(new BorderLayout());\r\n\r\n        fc = new JFileChooser();;\r\n        fc.setMultiSelectionEnabled(true);\r\n        fc.setDragEnabled(true);\r\n        fc.setControlButtonsAreShown(false);\r\n        fc.setFileSelectionMode(JFileChooser.FILES_ONLY);   \t\t\t\r\n    \t\r\n        \r\n    \tJPanel fcPanel = new JPanel(new BorderLayout());\r\n        fcPanel.add(fc, BorderLayout.CENTER);\r\n\r\n        clear = new JButton(&quot;Clear All&quot;);\r\n        clear.addActionListener(this);\r\n        JPanel buttonPanel = new JPanel(new BorderLayout());\r\n        buttonPanel.setBorder(BorderFactory.createEmptyBorder(5,5,5,5));\r\n        buttonPanel.add(clear, BorderLayout.LINE_END);\r\n\r\n        JPanel leftUpperPanel = new JPanel(new BorderLayout());\r\n        leftUpperPanel.setBorder(BorderFactory.createEmptyBorder(5,5,5,5));\r\n        leftUpperPanel.add(fcPanel, BorderLayout.CENTER);\r\n        leftUpperPanel.add(buttonPanel, BorderLayout.PAGE_END);\r\n\r\n\r\n        JScrollPane leftLowerPanel = new javax.swing.JScrollPane();\r\n        leftLowerPanel.setBorder(BorderFactory.createEmptyBorder(5,5,5,5));\r\n        dropZone = new JTextArea();\r\n        dropZone.setColumns(20);\r\n        dropZone.setLineWrap(true);\r\n        dropZone.setRows(5);\r\n        dropZone.setDragEnabled(true);\r\n        dropZone.setDropMode(javax.swing.DropMode.INSERT);\r\n        dropZone.setBorder(new TitledBorder(&quot;Selected files/folders&quot;));\r\n        leftLowerPanel.setViewportView(dropZone);\r\n\r\n        childSplitPane = new JSplitPane(JSplitPane.VERTICAL_SPLIT,\r\n        \t\tleftUpperPanel, leftLowerPanel);\r\n        childSplitPane.setDividerLocation(400);\r\n        childSplitPane.setPreferredSize(new Dimension(480, 650));\r\n        \r\n        console = new JTextArea();\r\n        console.setColumns(40);\r\n        console.setLineWrap(true);\r\n        console.setBorder(new TitledBorder(&quot;Console&quot;));\r\n        \r\n        parentSplitPane = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT,\r\n        \t\t\t\tchildSplitPane, console);\r\n        parentSplitPane.setDividerLocation(480);\r\n        parentSplitPane.setPreferredSize(new Dimension(800, 650));\r\n        \r\n        add(parentSplitPane, BorderLayout.CENTER);\r\n\r\n    }\r\n\r\n    public void setDefaultButton() {\r\n        getRootPane().setDefaultButton(clear);\r\n    }\r\n\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (e.getSource() == clear) {\r\n            dropZone.setText(&quot;&quot;);\r\n            \r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create the GUI and show it. For thread safety,\r\n     * this method should be invoked from the\r\n     * event-dispatching thread.\r\n     */\r\n    private static void createAndShowGUI() {\r\n        //Make sure we have nice window decorations.\r\n        JFrame.setDefaultLookAndFeelDecorated(true);\r\n    \ttry {\r\n          //UIManager.setLookAndFeel(&quot;de.javasoft.plaf.synthetica.SyntheticaBlackStarLookAndFeel&quot;);\r\n\t\t    for (LookAndFeelInfo info : UIManager.getInstalledLookAndFeels()) {\r\n\t\t        if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n\t\t            UIManager.setLookAndFeel(info.getClassName());\r\n\t\t            break;\r\n\t\t        }\r\n\t\t    }\r\n        }catch (Exception e){\r\n          e.printStackTrace();\r\n        }\r\n\r\n        //Create and set up the window.\r\n        JFrame frame = new JFrame(&quot;Consolidator!&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n\r\n        //Create and set up the menu bar and content pane.\r\n        ConsolidatorDemo demo = new ConsolidatorDemo();\r\n        demo.setOpaque(true); //content panes must be opaque\r\n        frame.setContentPane(demo);\r\n\r\n        //Display the window.\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n        demo.setDefaultButton();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        //Schedule a job for the event-dispatching thread:\r\n        //creating and showing this application&#39;s GUI.\r\n        javax.swing.SwingUtilities.invokeLater(new Runnable() {\r\n            public void run() {\r\n                createAndShowGUI();\r\n            }\r\n        });\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/dnd/index.html","title":"Drag&#39;n drop files from the OS to Java application (Swing)","body":"<p>Let me start by saying that I have been reading the <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/dnd/index.html\" rel=\"nofollow noreferrer\">drag'n drop tutorial</a> and similar questions asked on SO, but unfortunately I have only gotten more confused about this matter. What I want to achieve is relatively simple so I am surprised that it got me in so much trouble already. I am writing a small utility application which will consolidate a bunch of result files (custom defined xml-type) into a large tab-separated text file. Most of the functionality is already coded, however I wanted to make a decent GUI for it.</p>\n\n<p>What I want is to be able to drag'n drop files into a component (for instance <code>JTextArea</code>) in a nice and gracious way (read: not full paths, but instead a small icon and name). I would like to be able to supply a <code>JFileChooser</code> to browse for files as well. I will then parse the files sequentially to produce the matrix I want. </p>\n\n<p>What I have learned so far is that the framework is already there however any additional functionality needs to be custom built. I have created a test GUI in Netbeans and tried to drag a bunch of files onto a <code>JTextArea</code>, but they appear as file paths, and admittedly it looks very ugly. </p>\n\n<p>I would really appreciate any tips and guidance on how to solve (or clarify) this problem in a neat way. Note that I do intend to use the software on multiple different OS (Mac,Win and Linux).</p>\n\n<p><strong>EDIT:</strong> the code I have so far is based on one of the examples from Sun tutorials and is as follows</p>\n\n<pre><code>import java.awt.datatransfer.*;\nimport java.awt.event.*;\nimport java.awt.*;\nimport java.io.*;\nimport javax.swing.*;\nimport javax.swing.UIManager.LookAndFeelInfo;\nimport javax.swing.border.TitledBorder;\nimport javax.swing.filechooser.FileNameExtensionFilter;\nimport javax.swing.text.*;\n\npublic class ConsolidatorDemo extends JPanel implements ActionListener {\n    private static final long serialVersionUID = -4487732343062917781L;\n    JFileChooser fc;\n    JButton clear;\n    JTextArea dropZone, console;\n    JSplitPane childSplitPane, parentSplitPane;\n    PrintStream ps;\n\n  public ConsolidatorDemo() {\n    super(new BorderLayout());\n\n    fc = new JFileChooser();;\n    fc.setMultiSelectionEnabled(true);\n    fc.setDragEnabled(true);\n    fc.setControlButtonsAreShown(false);\n    fc.setFileSelectionMode(JFileChooser.FILES_ONLY);               \n\n\n    JPanel fcPanel = new JPanel(new BorderLayout());\n    fcPanel.add(fc, BorderLayout.CENTER);\n\n    clear = new JButton(\"Clear All\");\n    clear.addActionListener(this);\n    JPanel buttonPanel = new JPanel(new BorderLayout());\n    buttonPanel.setBorder(BorderFactory.createEmptyBorder(5,5,5,5));\n    buttonPanel.add(clear, BorderLayout.LINE_END);\n\n    JPanel leftUpperPanel = new JPanel(new BorderLayout());\n    leftUpperPanel.setBorder(BorderFactory.createEmptyBorder(5,5,5,5));\n    leftUpperPanel.add(fcPanel, BorderLayout.CENTER);\n    leftUpperPanel.add(buttonPanel, BorderLayout.PAGE_END);\n\n\n    JScrollPane leftLowerPanel = new javax.swing.JScrollPane();\n    leftLowerPanel.setBorder(BorderFactory.createEmptyBorder(5,5,5,5));\n    dropZone = new JTextArea();\n    dropZone.setColumns(20);\n    dropZone.setLineWrap(true);\n    dropZone.setRows(5);\n    dropZone.setDragEnabled(true);\n    dropZone.setDropMode(javax.swing.DropMode.INSERT);\n    dropZone.setBorder(new TitledBorder(\"Selected files/folders\"));\n    leftLowerPanel.setViewportView(dropZone);\n\n    childSplitPane = new JSplitPane(JSplitPane.VERTICAL_SPLIT,\n            leftUpperPanel, leftLowerPanel);\n    childSplitPane.setDividerLocation(400);\n    childSplitPane.setPreferredSize(new Dimension(480, 650));\n\n    console = new JTextArea();\n    console.setColumns(40);\n    console.setLineWrap(true);\n    console.setBorder(new TitledBorder(\"Console\"));\n\n    parentSplitPane = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT,\n                    childSplitPane, console);\n    parentSplitPane.setDividerLocation(480);\n    parentSplitPane.setPreferredSize(new Dimension(800, 650));\n\n    add(parentSplitPane, BorderLayout.CENTER);\n\n}\n\npublic void setDefaultButton() {\n    getRootPane().setDefaultButton(clear);\n}\n\npublic void actionPerformed(ActionEvent e) {\n    if (e.getSource() == clear) {\n        dropZone.setText(\"\");\n\n    }\n}\n\n/**\n * Create the GUI and show it. For thread safety,\n * this method should be invoked from the\n * event-dispatching thread.\n */\nprivate static void createAndShowGUI() {\n    //Make sure we have nice window decorations.\n    JFrame.setDefaultLookAndFeelDecorated(true);\n    try {\n      //UIManager.setLookAndFeel(\"de.javasoft.plaf.synthetica.SyntheticaBlackStarLookAndFeel\");\n        for (LookAndFeelInfo info : UIManager.getInstalledLookAndFeels()) {\n            if (\"Nimbus\".equals(info.getName())) {\n                UIManager.setLookAndFeel(info.getClassName());\n                break;\n            }\n        }\n    }catch (Exception e){\n      e.printStackTrace();\n    }\n\n    //Create and set up the window.\n    JFrame frame = new JFrame(\"Consolidator!\");\n    frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n\n    //Create and set up the menu bar and content pane.\n    ConsolidatorDemo demo = new ConsolidatorDemo();\n    demo.setOpaque(true); //content panes must be opaque\n    frame.setContentPane(demo);\n\n    //Display the window.\n    frame.pack();\n    frame.setVisible(true);\n    demo.setDefaultButton();\n}\n\npublic static void main(String[] args) {\n    //Schedule a job for the event-dispatching thread:\n    //creating and showing this application's GUI.\n    javax.swing.SwingUtilities.invokeLater(new Runnable() {\n        public void run() {\n            createAndShowGUI();\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","android","device-name"],"comments":[{"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1393573369,"post_id":7071281,"comment_id":33502505,"body_markdown":"What do you mean by `device name`? A lot of Androids don&#39;t have a device name. Some Samsungs, for example, have an editable device name. All Android&#39;s, though, do have a `Model number`, which is a string (confusing).","body":"What do you mean by <code>device name</code>? A lot of Androids don&#39;t have a device name. Some Samsungs, for example, have an editable device name. All Android&#39;s, though, do have a <code>Model number</code>, which is a string (confusing)."},{"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1393573696,"post_id":7071281,"comment_id":33502655,"body_markdown":"Related: http://stackoverflow.com/questions/16704597/how-do-you-get-the-user-defined-device-name-in-android","body":"Related: <a href=\"http://stackoverflow.com/questions/16704597/how-do-you-get-the-user-defined-device-name-in-android\" title=\"how do you get the user defined device name in android\">stackoverflow.com/questions/16704597/&hellip;</a>"},{"owner":{"account_id":162140,"reputation":29525,"user_id":383414,"accept_rate":85,"display_name":"Richard Le Mesurier"},"score":0,"creation_date":1549371660,"post_id":7071281,"comment_id":95871505,"body_markdown":"See updated related post: https://stackoverflow.com/questions/44452942/android-get-device-name-on-android-tv","body":"See updated related post: <a href=\"https://stackoverflow.com/questions/44452942/android-get-device-name-on-android-tv\" title=\"android get device name on android tv\">stackoverflow.com/questions/44452942/&hellip;</a>"},{"owner":{"account_id":65347,"reputation":56309,"user_id":192373,"accept_rate":74,"display_name":"Alex Cohn"},"score":0,"creation_date":1614798771,"post_id":7071281,"comment_id":117497880,"body_markdown":"This question is not the same as *[Get Android Phone Model Programmatically](https://stackoverflow.com/questions/1995439)*: here the OP wants to see the device *given name* which can be changed by the end user, while `Build.MODEL` is hardcoded by manufacturer.","body":"This question is not the same as <i><a href=\"https://stackoverflow.com/questions/1995439\">Get Android Phone Model Programmatically</a></i>: here the OP wants to see the device <i>given name</i> which can be changed by the end user, while <code>Build.MODEL</code> is hardcoded by manufacturer."}],"answers":[{"comments":[{"owner":{"account_id":211082,"reputation":4761,"user_id":463053,"accept_rate":78,"display_name":"ChuongPham"},"score":109,"creation_date":1347982734,"post_id":7071392,"comment_id":16790192,"body_markdown":"Just to clarify - `BUILD.MODEL` only gives the device&#39;s model number and not the device&#39;s name. For example, GT-I9100 instead of Samsung Galaxy S2. If you want the model&#39;s name, you&#39;ll have to provide your own list and match it against a combination of `android.os.Build.MANUFACTURER` + `android.os.Build.PRODUCT`.","body":"Just to clarify - <code>BUILD.MODEL</code> only gives the device&#39;s model number and not the device&#39;s name. For example, GT-I9100 instead of Samsung Galaxy S2. If you want the model&#39;s name, you&#39;ll have to provide your own list and match it against a combination of <code>android.os.Build.MANUFACTURER</code> + <code>android.os.Build.PRODUCT</code>."},{"owner":{"account_id":254581,"reputation":1864,"user_id":534088,"accept_rate":75,"display_name":"Tony Maro"},"score":2,"creation_date":1359747726,"post_id":7071392,"comment_id":20476789,"body_markdown":"Actually, I find that Build.MODEL is the model name, for instance mine show &quot;Nexus 7&quot; and &quot;Motorola Electrify&quot; on my devices.","body":"Actually, I find that Build.MODEL is the model name, for instance mine show &quot;Nexus 7&quot; and &quot;Motorola Electrify&quot; on my devices."},{"owner":{"account_id":14037,"reputation":36854,"user_id":28543,"accept_rate":67,"display_name":"Andrew Bullock"},"score":8,"creation_date":1361780186,"post_id":7071392,"comment_id":21178998,"body_markdown":"@Chuong - Where can I get such a list?","body":"@Chuong - Where can I get such a list?"},{"owner":{"account_id":211082,"reputation":4761,"user_id":463053,"accept_rate":78,"display_name":"ChuongPham"},"score":1,"creation_date":1365307744,"post_id":7071392,"comment_id":22571159,"body_markdown":"@TonyMaro: Not all mobile devices / tabs display similar info as you have with your Nexux/Motorola device. Therefore, it&#39;s not reliable to use `android.os.Build.MODEL` and assume all mobile devices / tabs from all manufacturers will display the same info. You need to create your own list if you want to match device model to device name.","body":"@TonyMaro: Not all mobile devices / tabs display similar info as you have with your Nexux/Motorola device. Therefore, it&#39;s not reliable to use <code>android.os.Build.MODEL</code> and assume all mobile devices / tabs from all manufacturers will display the same info. You need to create your own list if you want to match device model to device name."},{"owner":{"account_id":211082,"reputation":4761,"user_id":463053,"accept_rate":78,"display_name":"ChuongPham"},"score":1,"creation_date":1365308098,"post_id":7071392,"comment_id":22571216,"body_markdown":"@AndrewBullock: You need to create your own list. Look at websites like [Samsung Updates](http://samsung-updates.com/) or [SamMobile](http://www.sammobile.com/firmwares/1/) to get the device names. Then, create an Android resource file containing device models and names and reference that in your codes.","body":"@AndrewBullock: You need to create your own list. Look at websites like <a href=\"http://samsung-updates.com/\" rel=\"nofollow noreferrer\">Samsung Updates</a> or <a href=\"http://www.sammobile.com/firmwares/1/\" rel=\"nofollow noreferrer\">SamMobile</a> to get the device names. Then, create an Android resource file containing device models and names and reference that in your codes."},{"owner":{"account_id":2774733,"reputation":522,"user_id":2388520,"display_name":"Rakesh"},"score":0,"creation_date":1565669393,"post_id":7071392,"comment_id":101414394,"body_markdown":"Build.MANUFACTURER;","body":"Build.MANUFACTURER;"},{"owner":{"account_id":10541959,"reputation":8904,"user_id":7767664,"accept_rate":63,"display_name":"user924"},"score":0,"creation_date":1607020952,"post_id":7071392,"comment_id":115148492,"body_markdown":"@ChuongPham `android.os.Build.PRODUCT` returns `beyond1ltexx`, very useful for Samsung S10...","body":"@ChuongPham <code>android.os.Build.PRODUCT</code> returns <code>beyond1ltexx</code>, very useful for Samsung S10..."}],"tags":[],"owner":{"account_id":471592,"reputation":4206,"user_id":879485,"accept_rate":83,"display_name":"hbhakhra"},"comment_count":7,"down_vote_count":10,"up_vote_count":329,"is_accepted":true,"score":319,"last_activity_date":1548158514,"creation_date":1313446077,"answer_id":7071392,"question_id":7071281,"body_markdown":"In order to get Android device name you have to add only a single line of code:\r\n\r\n    android.os.Build.MODEL;\r\n\r\nFound here: [getting-android-device-name][1]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/os/Build","title":"Get Android Device Name","body":"<p>In order to get Android device name you have to add only a single line of code:</p>\n\n<pre><code>android.os.Build.MODEL;\n</code></pre>\n\n<p>Found here: <a href=\"https://developer.android.com/reference/android/os/Build\" rel=\"noreferrer\">getting-android-device-name</a></p>\n"},{"comments":[{"owner":{"account_id":2248951,"reputation":1775,"user_id":2461145,"display_name":"Amna Ali"},"score":0,"creation_date":1403200761,"post_id":23729614,"comment_id":37577536,"body_markdown":"It didnt work for. Neither on an emulator, nor on my android phone. i tried after switching on BlueTooth on the phone too.","body":"It didnt work for. Neither on an emulator, nor on my android phone. i tried after switching on BlueTooth on the phone too."},{"owner":{"account_id":486056,"reputation":2098,"user_id":902730,"accept_rate":89,"display_name":"Andrew T."},"score":1,"creation_date":1403210694,"post_id":23729614,"comment_id":37582814,"body_markdown":"What result are you getting instead? Keep in mind this approach also requires additional bluetooth permissions in the manifest.","body":"What result are you getting instead? Keep in mind this approach also requires additional bluetooth permissions in the manifest."},{"owner":{"account_id":2132510,"reputation":792,"user_id":1893015,"display_name":"Wookie"},"score":2,"creation_date":1420654796,"post_id":23729614,"comment_id":44057658,"body_markdown":"Works for me on Samsung S3 and a Nexus 5 (in an app that already had BT permissions). You should just also check for myDevice == null, so you wont run into problems on devices that don&#39;t have Bluetooth. In that case, I instead use: deviceName = Build.MANUFACTURER + &quot; &quot; + Build.MODEL;","body":"Works for me on Samsung S3 and a Nexus 5 (in an app that already had BT permissions). You should just also check for myDevice == null, so you wont run into problems on devices that don&#39;t have Bluetooth. In that case, I instead use: deviceName = Build.MANUFACTURER + &quot; &quot; + Build.MODEL;"},{"owner":{"account_id":12601494,"reputation":4078,"user_id":9164071,"display_name":"Themelis"},"score":0,"creation_date":1542966758,"post_id":23729614,"comment_id":93761490,"body_markdown":"This needs extra permissions just for a name!","body":"This needs extra permissions just for a name!"},{"owner":{"account_id":65895,"reputation":71649,"user_id":193619,"accept_rate":86,"display_name":"Nathan Osman"},"score":0,"creation_date":1607836776,"post_id":23729614,"comment_id":115395544,"body_markdown":"This won&#39;t work on an emulator (at least not the ones distributed with the Android SDK) since they don&#39;t provide an emulated Bluetooth adapter.","body":"This won&#39;t work on an emulator (at least not the ones distributed with the Android SDK) since they don&#39;t provide an emulated Bluetooth adapter."},{"owner":{"account_id":5754775,"reputation":1150,"user_id":4543112,"accept_rate":67,"display_name":"iBobb"},"score":0,"creation_date":1662563715,"post_id":23729614,"comment_id":130036226,"body_markdown":"Since I have the same but on Xamarin, I will not provide code but it&#39;s worth mentioning that since Android 12 you need to also ask for a runtime permission for this (before there was only an install time permission) which is `BLUETOOTH_CONNECT`.","body":"Since I have the same but on Xamarin, I will not provide code but it&#39;s worth mentioning that since Android 12 you need to also ask for a runtime permission for this (before there was only an install time permission) which is <code>BLUETOOTH_CONNECT</code>."}],"tags":[],"owner":{"account_id":4429149,"reputation":285,"user_id":3606686,"display_name":"user3606686"},"comment_count":6,"down_vote_count":4,"up_vote_count":29,"is_accepted":false,"score":25,"last_activity_date":1400472858,"creation_date":1400472858,"answer_id":23729614,"question_id":7071281,"body_markdown":"Try it. You can get Device Name through Bluetooth.\r\n\r\nHope it will help you\r\n\r\n    public String getPhoneName() {\t\r\n    \t\tBluetoothAdapter myDevice = BluetoothAdapter.getDefaultAdapter();\r\n    \t\tString deviceName = myDevice.getName();\t\t\r\n    \t\treturn deviceName;\r\n    \t}","title":"Get Android Device Name","body":"<p>Try it. You can get Device Name through Bluetooth.</p>\n\n<p>Hope it will help you</p>\n\n<pre><code>public String getPhoneName() {  \n        BluetoothAdapter myDevice = BluetoothAdapter.getDefaultAdapter();\n        String deviceName = myDevice.getName();     \n        return deviceName;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5981137,"reputation":17327,"user_id":4700156,"accept_rate":64,"display_name":"Rohit Singh"},"score":1,"creation_date":1662232593,"post_id":26117646,"comment_id":129960634,"body_markdown":"Build.MANUFACTURER returns &quot;unknown&quot; for Clover devices. So I don&#39;t know how reliable Build.MANUFACTURER is.","body":"Build.MANUFACTURER returns &quot;unknown&quot; for Clover devices. So I don&#39;t know how reliable Build.MANUFACTURER is."}],"tags":[],"owner":{"account_id":1667456,"reputation":677,"user_id":1534587,"display_name":"Ben Jima"},"comment_count":1,"down_vote_count":2,"up_vote_count":57,"is_accepted":false,"score":55,"last_activity_date":1412070226,"creation_date":1412070226,"answer_id":26117646,"question_id":7071281,"body_markdown":"You can see answers at here https://stackoverflow.com/questions/1995439/get-android-phone-model-programmatically/26117427#26117427\r\n\r\n    public String getDeviceName() {\r\n       String manufacturer = Build.MANUFACTURER;\r\n       String model = Build.MODEL;\r\n       if (model.startsWith(manufacturer)) {\r\n          return capitalize(model);\r\n       } else {\r\n          return capitalize(manufacturer) + &quot; &quot; + model;\r\n       }\r\n    }\r\n\r\n\r\n    private String capitalize(String s) {\r\n        if (s == null || s.length() == 0) {\r\n            return &quot;&quot;;\r\n        }\r\n        char first = s.charAt(0);\r\n        if (Character.isUpperCase(first)) {\r\n            return s;\r\n        } else {\r\n            return Character.toUpperCase(first) + s.substring(1);\r\n        }\r\n    }\r\n\r\n\r\n","title":"Get Android Device Name","body":"<p>You can see answers at here <a href=\"https://stackoverflow.com/questions/1995439/get-android-phone-model-programmatically/26117427#26117427\">Get Android Phone Model Programmatically</a></p>\n\n<pre><code>public String getDeviceName() {\n   String manufacturer = Build.MANUFACTURER;\n   String model = Build.MODEL;\n   if (model.startsWith(manufacturer)) {\n      return capitalize(model);\n   } else {\n      return capitalize(manufacturer) + \" \" + model;\n   }\n}\n\n\nprivate String capitalize(String s) {\n    if (s == null || s.length() == 0) {\n        return \"\";\n    }\n    char first = s.charAt(0);\n    if (Character.isUpperCase(first)) {\n        return s;\n    } else {\n        return Character.toUpperCase(first) + s.substring(1);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10271807,"reputation":105,"user_id":7579947,"display_name":"ShriKant A"},"score":0,"creation_date":1620990168,"post_id":34266367,"comment_id":119366658,"body_markdown":"@Jared..this library not violets the google policies right ..because recently apps are getting rejected from play store  due third party library violets google policies.","body":"@Jared..this library not violets the google policies right ..because recently apps are getting rejected from play store  due third party library violets google policies."}],"tags":[],"owner":{"account_id":1042649,"reputation":37922,"user_id":1048340,"accept_rate":100,"display_name":"Jared Rummler"},"comment_count":1,"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1450093948,"creation_date":1450093948,"answer_id":34266367,"question_id":7071281,"body_markdown":"On many popular devices the market name of the device is not available. For example, on the Samsung Galaxy S6 the value of `Build.MODEL` could be `&quot;SM-G920F&quot;`, `&quot;SM-G920I&quot;`, or `&quot;SM-G920W8&quot;`.\n\nI created a small library that gets the market (consumer friendly) name of a device. It gets the correct name for *over 10,000* devices and is constantly updated. If you wish to use my library click the link below:\n\n[AndroidDeviceNames Library on Github][2]\n--------------------\n\n___\n\nIf you do not want to use the library above, then this is the best solution for getting a consumer friendly device name:\n\n    /** Returns the consumer friendly device name */\n    public static String getDeviceName() {\n        String manufacturer = Build.MANUFACTURER;\n        String model = Build.MODEL;\n        if (model.startsWith(manufacturer)) {\n            return capitalize(model);\n        }\n        return capitalize(manufacturer) + &quot; &quot; + model;\n    }\n\n    private static String capitalize(String str) {\n        if (TextUtils.isEmpty(str)) {\n            return str;\n        }\n        char[] arr = str.toCharArray();\n        boolean capitalizeNext = true;\n        String phrase = &quot;&quot;;\n        for (char c : arr) {\n            if (capitalizeNext &amp;&amp; Character.isLetter(c)) {\n                phrase += Character.toUpperCase(c);\n                capitalizeNext = false;\n                continue;\n            } else if (Character.isWhitespace(c)) {\n                capitalizeNext = true;\n            }\n            phrase += c;\n        }\n        return phrase;\n    }\n___\n\nExample from my Verizon HTC One M8:\n\n    // using method from above\n    System.out.println(getDeviceName());\n    // Using https://github.com/jaredrummler/AndroidDeviceNames\n    System.out.println(DeviceName.getDeviceName());\n\nResult:\n\n&gt; HTC6525LVW \n&gt;\n&gt; HTC One (M8)\n\n\n  [1]: http://developer.android.com/reference/android/os/Build.html#MODEL\n  [2]: https://github.com/jaredrummler/AndroidDeviceNames\n","title":"Get Android Device Name","body":"<p>On many popular devices the market name of the device is not available. For example, on the Samsung Galaxy S6 the value of <code>Build.MODEL</code> could be <code>&quot;SM-G920F&quot;</code>, <code>&quot;SM-G920I&quot;</code>, or <code>&quot;SM-G920W8&quot;</code>.</p>\n<p>I created a small library that gets the market (consumer friendly) name of a device. It gets the correct name for <em>over 10,000</em> devices and is constantly updated. If you wish to use my library click the link below:</p>\n<h2><a href=\"https://github.com/jaredrummler/AndroidDeviceNames\" rel=\"noreferrer\">AndroidDeviceNames Library on Github</a></h2>\n<hr />\n<p>If you do not want to use the library above, then this is the best solution for getting a consumer friendly device name:</p>\n<pre><code>/** Returns the consumer friendly device name */\npublic static String getDeviceName() {\n    String manufacturer = Build.MANUFACTURER;\n    String model = Build.MODEL;\n    if (model.startsWith(manufacturer)) {\n        return capitalize(model);\n    }\n    return capitalize(manufacturer) + &quot; &quot; + model;\n}\n\nprivate static String capitalize(String str) {\n    if (TextUtils.isEmpty(str)) {\n        return str;\n    }\n    char[] arr = str.toCharArray();\n    boolean capitalizeNext = true;\n    String phrase = &quot;&quot;;\n    for (char c : arr) {\n        if (capitalizeNext &amp;&amp; Character.isLetter(c)) {\n            phrase += Character.toUpperCase(c);\n            capitalizeNext = false;\n            continue;\n        } else if (Character.isWhitespace(c)) {\n            capitalizeNext = true;\n        }\n        phrase += c;\n    }\n    return phrase;\n}\n</code></pre>\n<hr />\n<p>Example from my Verizon HTC One M8:</p>\n<pre><code>// using method from above\nSystem.out.println(getDeviceName());\n// Using https://github.com/jaredrummler/AndroidDeviceNames\nSystem.out.println(DeviceName.getDeviceName());\n</code></pre>\n<p>Result:</p>\n<blockquote>\n<p>HTC6525LVW</p>\n<p>HTC One (M8)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2045213,"reputation":607,"user_id":1825443,"display_name":"Roger Huang"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1454381202,"creation_date":1454381202,"answer_id":35144155,"question_id":7071281,"body_markdown":"@hbhakhra&#39;s answer will do. \r\n\r\nIf you&#39;re interested in detailed explanation, it is useful to look into [Android Compatibility Definition Document][2]. (3.2.2 Build Parameters)\r\n\r\nYou will find:\r\n\r\n&gt; DEVICE - A value chosen by the device implementer containing the\r\n&gt; development name or code name identifying the configuration of the\r\n&gt; hardware features and industrial design of the device. The value of\r\n&gt; this field MUST be encodable as 7-bit ASCII and match the regular\r\n&gt; expression ^[a-zA-Z0-9_-]+$.\r\n&gt; \r\n&gt; MODEL - A value chosen by the device implementer containing the name\r\n&gt; of the device as known to the end user. This SHOULD be the same name\r\n&gt; under which the device is marketed and sold to end users. There are no\r\n&gt; requirements on the specific format of this field, except that it MUST\r\n&gt; NOT be null or the empty string (&quot;&quot;).\r\n&gt; \r\n&gt; MANUFACTURER - The trade name of the Original Equipment Manufacturer\r\n&gt; (OEM) of the product. There are no requirements on the specific format\r\n&gt; of this field, except that it MUST NOT be null or the empty string\r\n&gt; (&quot;&quot;).\r\n\r\n  [1]: http://developer.android.com/intl/zh-tw/reference/android/os/Build.html\r\n  [2]: https://source.android.com/compatibility/","title":"Get Android Device Name","body":"<p>@hbhakhra's answer will do. </p>\n\n<p>If you're interested in detailed explanation, it is useful to look into <a href=\"https://source.android.com/compatibility/\" rel=\"nofollow\">Android Compatibility Definition Document</a>. (3.2.2 Build Parameters)</p>\n\n<p>You will find:</p>\n\n<blockquote>\n  <p>DEVICE - A value chosen by the device implementer containing the\n  development name or code name identifying the configuration of the\n  hardware features and industrial design of the device. The value of\n  this field MUST be encodable as 7-bit ASCII and match the regular\n  expression ^[a-zA-Z0-9_-]+$.</p>\n  \n  <p>MODEL - A value chosen by the device implementer containing the name\n  of the device as known to the end user. This SHOULD be the same name\n  under which the device is marketed and sold to end users. There are no\n  requirements on the specific format of this field, except that it MUST\n  NOT be null or the empty string (\"\").</p>\n  \n  <p>MANUFACTURER - The trade name of the Original Equipment Manufacturer\n  (OEM) of the product. There are no requirements on the specific format\n  of this field, except that it MUST NOT be null or the empty string\n  (\"\").</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1111321,"reputation":8799,"user_id":1101730,"accept_rate":78,"display_name":"Micer"},"score":0,"creation_date":1502812850,"post_id":41184389,"comment_id":78351780,"body_markdown":"For this you need to add Bluetooth permission in the Manifest.","body":"For this you need to add Bluetooth permission in the Manifest."}],"tags":[],"owner":{"account_id":3433236,"reputation":2920,"user_id":2877004,"display_name":"Alecs"},"comment_count":1,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1481891138,"creation_date":1481891138,"answer_id":41184389,"question_id":7071281,"body_markdown":"Simply use\r\n\r\n`BluetoothAdapter.getDefaultAdapter().getName()`","title":"Get Android Device Name","body":"<p>Simply use</p>\n\n<p><code>BluetoothAdapter.getDefaultAdapter().getName()</code></p>\n"},{"tags":[],"owner":{"account_id":4522209,"reputation":21301,"user_id":3675035,"display_name":"Blasanka"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1500489289,"creation_date":1500489289,"answer_id":45198521,"question_id":7071281,"body_markdown":"You can use:\r\n\r\nFrom android doc:\r\n\r\n&gt; [**`MANUFACTURER`:**][1]\r\n&gt; \r\n&gt;     String MANUFACTURER\r\n&gt; \r\n&gt; The manufacturer of the product/hardware.\r\n\r\n \r\n&gt; [**`MODEL`:**][2]\r\n&gt; \r\n&gt;     String MODEL\r\n&gt; \r\n&gt; The end-user-visible name for the end product.\r\n\r\n\r\n&gt; [**`DEVICE`:**][3]\r\n&gt; \r\n&gt;     String DEVICE\r\n&gt; \r\n&gt; The name of the industrial design.\r\n\r\nAs a example:\r\n\r\n    String deviceName = android.os.Build.MANUFACTURER + &quot; &quot; + android.os.Build.MODEL;\r\n    //to add to textview\r\n    TextView textView = (TextView) findViewById(R.id.text_view);\r\n    textView.setText(deviceName);\r\n\r\nFurthermore, their is lot of attribute in [Build class][4] that you can use, like:\r\n\r\n  \r\n - `os.android.Build.BOARD`\r\n - `os.android.Build.BRAND`\r\n - `os.android.Build.BOOTLOADER`\r\n - `os.android.Build.DISPLAY`\r\n - `os.android.Build.CPU_ABI`\r\n - `os.android.Build.PRODUCT`\r\n - `os.android.Build.HARDWARE`\r\n - `os.android.Build.ID`\r\n\r\n\r\nAlso their is other ways you can get device name without using `Build` class(through the bluetooth).\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/os/Build.html#MANUFACTURER\r\n  [2]: https://developer.android.com/reference/android/os/Build.html#MODEL\r\n  [3]: https://developer.android.com/reference/android/os/Build.html#DEVICE\r\n  [4]: https://developer.android.com/reference/android/os/Build.html\r\n\r\n\r\n","title":"Get Android Device Name","body":"<p>You can use:</p>\n\n<p>From android doc:</p>\n\n<blockquote>\n  <p><a href=\"https://developer.android.com/reference/android/os/Build.html#MANUFACTURER\" rel=\"noreferrer\"><strong><code>MANUFACTURER</code>:</strong></a></p>\n\n<pre><code>String MANUFACTURER\n</code></pre>\n  \n  <p>The manufacturer of the product/hardware.</p>\n  \n  <p><a href=\"https://developer.android.com/reference/android/os/Build.html#MODEL\" rel=\"noreferrer\"><strong><code>MODEL</code>:</strong></a></p>\n\n<pre><code>String MODEL\n</code></pre>\n  \n  <p>The end-user-visible name for the end product.</p>\n  \n  <p><a href=\"https://developer.android.com/reference/android/os/Build.html#DEVICE\" rel=\"noreferrer\"><strong><code>DEVICE</code>:</strong></a></p>\n\n<pre><code>String DEVICE\n</code></pre>\n  \n  <p>The name of the industrial design.</p>\n</blockquote>\n\n<p>As a example:</p>\n\n<pre><code>String deviceName = android.os.Build.MANUFACTURER + \" \" + android.os.Build.MODEL;\n//to add to textview\nTextView textView = (TextView) findViewById(R.id.text_view);\ntextView.setText(deviceName);\n</code></pre>\n\n<p>Furthermore, their is lot of attribute in <a href=\"https://developer.android.com/reference/android/os/Build.html\" rel=\"noreferrer\">Build class</a> that you can use, like:</p>\n\n<ul>\n<li><code>os.android.Build.BOARD</code></li>\n<li><code>os.android.Build.BRAND</code></li>\n<li><code>os.android.Build.BOOTLOADER</code></li>\n<li><code>os.android.Build.DISPLAY</code></li>\n<li><code>os.android.Build.CPU_ABI</code></li>\n<li><code>os.android.Build.PRODUCT</code></li>\n<li><code>os.android.Build.HARDWARE</code></li>\n<li><code>os.android.Build.ID</code></li>\n</ul>\n\n<p>Also their is other ways you can get device name without using <code>Build</code> class(through the bluetooth).</p>\n"},{"comments":[{"owner":{"account_id":5714867,"reputation":2001,"user_id":4515489,"display_name":"jk7"},"score":3,"creation_date":1527712156,"post_id":45696806,"comment_id":88235730,"body_markdown":"And as a bonus (or penalty, depending on your needs), this reports the user-entered device name if the user has entered a custom name.","body":"And as a bonus (or penalty, depending on your needs), this reports the user-entered device name if the user has entered a custom name."},{"owner":{"account_id":5714867,"reputation":2001,"user_id":4515489,"display_name":"jk7"},"score":8,"creation_date":1527712516,"post_id":45696806,"comment_id":88235867,"body_markdown":"&quot;bluetooth_name&quot; from Settings.Secure will show the user-defined name only after a device restart, while &quot;device_name&quot; from Settings.Global (API 17+) will show the user-defined name immediately on a Samsung S6 active.  The location(s) where the name can be found may vary from one manufacturer or model to another.","body":"&quot;bluetooth_name&quot; from Settings.Secure will show the user-defined name only after a device restart, while &quot;device_name&quot; from Settings.Global (API 17+) will show the user-defined name immediately on a Samsung S6 active.  The location(s) where the name can be found may vary from one manufacturer or model to another."},{"owner":{"account_id":419379,"reputation":76,"user_id":796514,"display_name":"truedat101"},"score":1,"creation_date":1557816859,"post_id":45696806,"comment_id":98881164,"body_markdown":"This works, recently tested in 2019.  Thank you for a clean response.","body":"This works, recently tested in 2019.  Thank you for a clean response."},{"owner":{"account_id":1111321,"reputation":8799,"user_id":1101730,"accept_rate":78,"display_name":"Micer"},"score":0,"creation_date":1572352999,"post_id":45696806,"comment_id":103526117,"body_markdown":"@Vlad there&#39;s no `Settings.Global` in my answer.","body":"@Vlad there&#39;s no <code>Settings.Global</code> in my answer."},{"owner":{"account_id":1111321,"reputation":8799,"user_id":1101730,"accept_rate":78,"display_name":"Micer"},"score":0,"creation_date":1572355368,"post_id":45696806,"comment_id":103527322,"body_markdown":"Right, sorry. Probably it depends on the device and Global is working on Samsung.","body":"Right, sorry. Probably it depends on the device and Global is working on Samsung."},{"owner":{"account_id":5845586,"reputation":687,"user_id":4605812,"accept_rate":60,"display_name":"Dave Hamilton"},"score":2,"creation_date":1579000216,"post_id":45696806,"comment_id":105614079,"body_markdown":"Just to add, it may be abit old. But you can use Settings.Global. You need to define the android provider: example:\nandroid.provider.Settings.Global.getString(getContentResolver(), &quot;device_name&quot;);","body":"Just to add, it may be abit old. But you can use Settings.Global. You need to define the android provider: example: android.provider.Settings.Global.getString(getContentResolve&zwnj;&#8203;r(), &quot;device_name&quot;);"},{"owner":{"account_id":12104870,"reputation":781,"user_id":8844009,"display_name":"Aiko West"},"score":0,"creation_date":1664886609,"post_id":45696806,"comment_id":130568446,"body_markdown":"ATTENTION! This wont&#39; work if your target sdk ist 32 or higher in future! see https://stackoverflow.com/questions/72271363/what-is-changed-with-bluetooth-in-android-sdk-32","body":"ATTENTION! This wont&#39; work if your target sdk ist 32 or higher in future! see <a href=\"https://stackoverflow.com/questions/72271363/what-is-changed-with-bluetooth-in-android-sdk-32\" title=\"what is changed with bluetooth in android sdk 32\">stackoverflow.com/questions/72271363/&hellip;</a>"}],"tags":[],"owner":{"account_id":1111321,"reputation":8799,"user_id":1101730,"accept_rate":78,"display_name":"Micer"},"comment_count":7,"down_vote_count":2,"up_vote_count":56,"is_accepted":false,"score":54,"last_activity_date":1692715163,"creation_date":1502813030,"answer_id":45696806,"question_id":7071281,"body_markdown":"I solved this by getting the Bluetooth name, but not from the `BluetoothAdapter` (that needs Bluetooth permission).\r\n\r\nHere&#39;s the code:\r\n\r\n    Settings.Secure.getString(getContentResolver(), &quot;bluetooth_name&quot;);\r\n\r\n**No extra permissions needed.**\r\n\r\nUPD: It doesn&#39;t work on targetSdk 32 or higher.","title":"Get Android Device Name","body":"<p>I solved this by getting the Bluetooth name, but not from the <code>BluetoothAdapter</code> (that needs Bluetooth permission).</p>\n<p>Here's the code:</p>\n<pre><code>Settings.Secure.getString(getContentResolver(), &quot;bluetooth_name&quot;);\n</code></pre>\n<p><strong>No extra permissions needed.</strong></p>\n<p>UPD: It doesn't work on targetSdk 32 or higher.</p>\n"},{"comments":[{"owner":{"account_id":1111321,"reputation":8799,"user_id":1101730,"accept_rate":78,"display_name":"Micer"},"score":1,"creation_date":1522254553,"post_id":46432152,"comment_id":86086637,"body_markdown":"How is this answer different from https://stackoverflow.com/a/23729614/1101730 and https://stackoverflow.com/a/41184389/1101730?","body":"How is this answer different from <a href=\"https://stackoverflow.com/a/23729614/1101730\">stackoverflow.com/a/23729614/1101730</a> and <a href=\"https://stackoverflow.com/a/41184389/1101730\">stackoverflow.com/a/41184389/1101730</a>?"},{"owner":{"account_id":6684285,"reputation":1647,"user_id":5156187,"display_name":"Yasiru Nayanajith"},"score":0,"creation_date":1533574458,"post_id":46432152,"comment_id":90386052,"body_markdown":"UPDATED the answer","body":"UPDATED the answer"},{"owner":{"account_id":1988762,"reputation":1156,"user_id":1783320,"accept_rate":50,"display_name":"Luc Bloom"},"score":0,"creation_date":1553161539,"post_id":46432152,"comment_id":97285104,"body_markdown":"Does this work without the BLUETOOTH permission?","body":"Does this work without the BLUETOOTH permission?"},{"owner":{"account_id":6684285,"reputation":1647,"user_id":5156187,"display_name":"Yasiru Nayanajith"},"score":0,"creation_date":1553171214,"post_id":46432152,"comment_id":97290540,"body_markdown":"you don&#39;t need the Bluetooth permissions to get the device name through BuildProp","body":"you don&#39;t need the Bluetooth permissions to get the device name through BuildProp"}],"tags":[],"owner":{"account_id":6684285,"reputation":1647,"user_id":5156187,"display_name":"Yasiru Nayanajith"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533574376,"creation_date":1506445529,"answer_id":46432152,"question_id":7071281,"body_markdown":"UPDATE \r\nYou could retrieve the device from buildprop easitly.\r\n\r\n    static String GetDeviceName() {\r\n        Process p;\r\n        String propvalue = &quot;&quot;;\r\n        try {\r\n            p = new ProcessBuilder(&quot;/system/bin/getprop&quot;, &quot;ro.semc.product.name&quot;).redirectErrorStream(true).start();\r\n            BufferedReader br = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n            String line;\r\n            while ((line = br.readLine()) != null) {\r\n                propvalue = line;\r\n            }\r\n            p.destroy();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return propvalue;\r\n    }\r\n\r\nBut keep in mind, this doesn&#39;t work on some devices. ","title":"Get Android Device Name","body":"<p>UPDATE \nYou could retrieve the device from buildprop easitly.</p>\n\n<pre><code>static String GetDeviceName() {\n    Process p;\n    String propvalue = \"\";\n    try {\n        p = new ProcessBuilder(\"/system/bin/getprop\", \"ro.semc.product.name\").redirectErrorStream(true).start();\n        BufferedReader br = new BufferedReader(new InputStreamReader(p.getInputStream()));\n        String line;\n        while ((line = br.readLine()) != null) {\n            propvalue = line;\n        }\n        p.destroy();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return propvalue;\n}\n</code></pre>\n\n<p>But keep in mind, this doesn't work on some devices. </p>\n"},{"comments":[{"owner":{"account_id":12273156,"reputation":151,"user_id":8957784,"display_name":"Rares Serban"},"score":0,"creation_date":1679045435,"post_id":51447496,"comment_id":133654069,"body_markdown":"This is the correct answer as the user might change the name of the device.","body":"This is the correct answer as the user might change the name of the device."}],"tags":[],"owner":{"account_id":454265,"reputation":3252,"user_id":851722,"accept_rate":75,"display_name":"Neelam Verma"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1673886085,"creation_date":1532106925,"answer_id":51447496,"question_id":7071281,"body_markdown":"Following works for me.\r\n```\r\nString deviceName = Settings.Global.getString(.getContentResolver(), Settings.Global.DEVICE_NAME);\r\n```\r\nI don&#39;t think so its duplicate answer. The above ppl are talking about Setting Secure, for me setting secure is giving null, if i use setting global it works. Thanks anyways.","title":"Get Android Device Name","body":"<p>Following works for me.</p>\n<pre><code>String deviceName = Settings.Global.getString(.getContentResolver(), Settings.Global.DEVICE_NAME);\n</code></pre>\n<p>I don't think so its duplicate answer. The above ppl are talking about Setting Secure, for me setting secure is giving null, if i use setting global it works. Thanks anyways.</p>\n"},{"tags":[],"owner":{"account_id":10989875,"reputation":171,"user_id":8074260,"display_name":"Bhoomika Chauhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1532779390,"creation_date":1532779390,"answer_id":51571201,"question_id":7071281,"body_markdown":"Try this code. You get android device name.\r\n\r\n    public static String getDeviceName() {\r\n        String manufacturer = Build.MANUFACTURER;\r\n        String model = Build.MODEL;\r\n        if (model.startsWith(manufacturer)) {\r\n            return model;\r\n        }\r\n        return manufacturer + &quot; &quot; + model;\r\n    }","title":"Get Android Device Name","body":"<p>Try this code. You get android device name.</p>\n\n<pre><code>public static String getDeviceName() {\n    String manufacturer = Build.MANUFACTURER;\n    String model = Build.MODEL;\n    if (model.startsWith(manufacturer)) {\n        return model;\n    }\n    return manufacturer + \" \" + model;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5009087,"reputation":121,"user_id":4025848,"display_name":"jiong103"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539156392,"creation_date":1539156392,"answer_id":52734808,"question_id":7071281,"body_markdown":"     static String getDeviceName() {\r\n            try {\r\n                Class systemPropertiesClass = Class.forName(&quot;android.os.SystemProperties&quot;);\r\n                Method getMethod = systemPropertiesClass.getMethod(&quot;get&quot;, String.class);\r\n                Object object = new Object();\r\n                Object obj = getMethod.invoke(object, &quot;ro.product.device&quot;);\r\n                return (obj == null ? &quot;&quot; : (String) obj);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                return &quot;&quot;;\r\n            }\r\n        }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/VJUbu.png\r\n\r\n\r\nyou can get &#39;idol3&#39; by this way. ","title":"Get Android Device Name","body":"<pre><code> static String getDeviceName() {\n        try {\n            Class systemPropertiesClass = Class.forName(\"android.os.SystemProperties\");\n            Method getMethod = systemPropertiesClass.getMethod(\"get\", String.class);\n            Object object = new Object();\n            Object obj = getMethod.invoke(object, \"ro.product.device\");\n            return (obj == null ? \"\" : (String) obj);\n        } catch (Exception e) {\n            e.printStackTrace();\n            return \"\";\n        }\n    }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/VJUbu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VJUbu.png\" alt=\"enter image description here\"></a></p>\n\n<p>you can get 'idol3' by this way. </p>\n"},{"comments":[{"owner":{"account_id":5754775,"reputation":1150,"user_id":4543112,"accept_rate":67,"display_name":"iBobb"},"score":4,"creation_date":1662565975,"post_id":66651458,"comment_id":130037141,"body_markdown":"Note that after API 31 (S), using `Settings.Secure.getString` to obtain &quot;bluetooth_name&quot; will result in an exception. I tried it myself and it&#39;s available in the publicly [available code here](https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/provider/Settings.java)","body":"Note that after API 31 (S), using <code>Settings.Secure.getString</code> to obtain &quot;bluetooth_name&quot; will result in an exception. I tried it myself and it&#39;s available in the publicly <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/provider/Settings.java\" rel=\"nofollow noreferrer\">available code here</a>"},{"owner":{"account_id":18880822,"reputation":537,"user_id":13773254,"display_name":"Martin Rek"},"score":0,"creation_date":1672984687,"post_id":66651458,"comment_id":132400620,"body_markdown":"@iBobb is there any other way how to get the user specified device name in API 32 and above?","body":"@iBobb is there any other way how to get the user specified device name in API 32 and above?"},{"owner":{"account_id":5754775,"reputation":1150,"user_id":4543112,"accept_rate":67,"display_name":"iBobb"},"score":0,"creation_date":1673011378,"post_id":66651458,"comment_id":132407195,"body_markdown":"I am still targeting API 31 and using this solution and if it returns nothing I display `DeviceInfo.Name` (from Xamarin.Essentials). Haven&#39;t gotten around to refactoring to support API 32 as Google is not forcing us to do so yet. Depending on how important this is for you, you can just use `DeviceInfo.Name` or let the user know in order to show this information correctly you need to request bluetooth permissions from them and take the information from some bluetooth API that Xamarin exposes.","body":"I am still targeting API 31 and using this solution and if it returns nothing I display <code>DeviceInfo.Name</code> (from Xamarin.Essentials). Haven&#39;t gotten around to refactoring to support API 32 as Google is not forcing us to do so yet. Depending on how important this is for you, you can just use <code>DeviceInfo.Name</code> or let the user know in order to show this information correctly you need to request bluetooth permissions from them and take the information from some bluetooth API that Xamarin exposes."}],"tags":[],"owner":{"account_id":5738346,"reputation":691,"user_id":4531734,"display_name":"Shpand"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1641475453,"creation_date":1615883145,"answer_id":66651458,"question_id":7071281,"body_markdown":"universal way to get **user defined DeviceName** working for almost all devices and not requiring any permissions\r\n\r\n    String userDeviceName = Settings.Global.getString(getContentResolver(), Settings.Global.DEVICE_NAME);\r\n    if(userDeviceName == null)\r\n        userDeviceName = Settings.Secure.getString(getContentResolver(), &quot;bluetooth_name&quot;);","title":"Get Android Device Name","body":"<p>universal way to get <strong>user defined DeviceName</strong> working for almost all devices and not requiring any permissions</p>\n<pre><code>String userDeviceName = Settings.Global.getString(getContentResolver(), Settings.Global.DEVICE_NAME);\nif(userDeviceName == null)\n    userDeviceName = Settings.Secure.getString(getContentResolver(), &quot;bluetooth_name&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"score":0,"creation_date":1655899639,"post_id":69348544,"comment_id":128440497,"body_markdown":"The idea behhind this question is to do it programmatically from an Android app, not in the terminal","body":"The idea behhind this question is to do it programmatically from an Android app, not in the terminal"}],"tags":[],"owner":{"account_id":1137539,"reputation":26156,"user_id":1122270,"accept_rate":20,"display_name":"cnst"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1632753467,"creation_date":1632753467,"answer_id":69348544,"question_id":7071281,"body_markdown":"Within the GNU/Linux environment of Android, e.g., [via Termux](https://github.com/termux/termux-api/issues/448) UNIX shell on a non-root device, it&#39;s available through the `/system/bin/getprop` command, whereas the meaning of each value is explained in [`Build.java` within Android](https://cs.android.com/android/platform/superproject/+/master:frameworks/base/core/java/android/os/Build.java) (also at [googlesource](https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/os/Build.java)):\r\n\r\n```\r\n% /system/bin/getprop | fgrep ro.product | tail -3\r\n[ro.product.manufacturer]: [Google]\r\n[ro.product.model]: [Pixel 2 XL]\r\n[ro.product.name]: [taimen]\r\n% /system/bin/getprop ro.product.model\r\nPixel 2 XL\r\n% /system/bin/getprop ro.product.model | tr &#39; &#39; _\r\nPixel_2_XL\r\n```\r\n\r\nFor example, it can be set as the [`pane_title` for the `status-right`](https://github.com/tmux/tmux/issues/2906) within [`tmux`](http://mdoc.su/o/tmux.1) like so:\r\n\r\n`tmux select-pane -T &quot;$(getprop ro.product.model)&quot;`","title":"Get Android Device Name","body":"<p>Within the GNU/Linux environment of Android, e.g., <a href=\"https://github.com/termux/termux-api/issues/448\" rel=\"nofollow noreferrer\">via Termux</a> UNIX shell on a non-root device, it's available through the <code>/system/bin/getprop</code> command, whereas the meaning of each value is explained in <a href=\"https://cs.android.com/android/platform/superproject/+/master:frameworks/base/core/java/android/os/Build.java\" rel=\"nofollow noreferrer\"><code>Build.java</code> within Android</a> (also at <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/os/Build.java\" rel=\"nofollow noreferrer\">googlesource</a>):</p>\n<pre><code>% /system/bin/getprop | fgrep ro.product | tail -3\n[ro.product.manufacturer]: [Google]\n[ro.product.model]: [Pixel 2 XL]\n[ro.product.name]: [taimen]\n% /system/bin/getprop ro.product.model\nPixel 2 XL\n% /system/bin/getprop ro.product.model | tr ' ' _\nPixel_2_XL\n</code></pre>\n<p>For example, it can be set as the <a href=\"https://github.com/tmux/tmux/issues/2906\" rel=\"nofollow noreferrer\"><code>pane_title</code> for the <code>status-right</code></a> within <a href=\"http://mdoc.su/o/tmux.1\" rel=\"nofollow noreferrer\"><code>tmux</code></a> like so:</p>\n<p><code>tmux select-pane -T &quot;$(getprop ro.product.model)&quot;</code></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1638880656,"post_id":70259939,"comment_id":124200417,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/70259939/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"score":0,"creation_date":1655899597,"post_id":70259939,"comment_id":128440485,"body_markdown":"The idea behind this question is to do it programmatically, not using the `adb` command","body":"The idea behind this question is to do it programmatically, not using the <code>adb</code> command"}],"tags":[],"owner":{"account_id":15635038,"reputation":31,"user_id":11280199,"display_name":"helloc"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1676879151,"creation_date":1638879170,"answer_id":70259939,"question_id":7071281,"body_markdown":"1. Gets an Android system property, or lists them all\r\n```\r\nadb shell getprop &gt;prop_list.txt\r\n```\r\n\r\n2. Find your device name in prop_list.txt to get the prop name\r\n\r\ne.g. my device name is ro.oppo.market.name\r\n\r\n\r\n3. Get oppo.market Operator\r\n```\r\nadb shell getprop ro.oppo.market.name\r\n```\r\n\r\n4. My case on windows as follows\r\n```\r\nD:\\winusr\\adbl\r\n\r\n *adb shell getprop ro.oppo.market.name*\r\n\r\nOPPO R17\r\n\r\n```\r\n","title":"Get Android Device Name","body":"<ol>\n<li>Gets an Android system property, or lists them all</li>\n</ol>\n<pre><code>adb shell getprop &gt;prop_list.txt\n</code></pre>\n<ol start=\"2\">\n<li>Find your device name in prop_list.txt to get the prop name</li>\n</ol>\n<p>e.g. my device name is ro.oppo.market.name</p>\n<ol start=\"3\">\n<li>Get oppo.market Operator</li>\n</ol>\n<pre><code>adb shell getprop ro.oppo.market.name\n</code></pre>\n<ol start=\"4\">\n<li>My case on windows as follows</li>\n</ol>\n<pre><code>D:\\winusr\\adbl\n\n *adb shell getprop ro.oppo.market.name*\n\nOPPO R17\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3555947,"reputation":488,"user_id":9451057,"display_name":"Aishik kirtaniya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647636606,"creation_date":1647636606,"answer_id":71533050,"question_id":7071281,"body_markdown":"Tried These libraries but nothing worked according to my expectation and was giving absolutely wrong names.\r\n\r\nSo i created this library myself using the same data.\r\nHere is the link\r\n\r\n[AndroidPhoneNamesFinder][1]\r\n\r\n\r\n  [1]: https://github.com/aishik212/AndroidPhoneNamesFinder\r\n\r\nTo use this library just add this for implementation\r\n\r\n    implementation &#39;com.github.aishik212:AndroidPhoneNamesFinder:v1.0.2&#39;\r\n\r\nThen use the following kotlin code\r\n\r\n    DeviceNameFinder.getPhoneValues(this, object : DeviceDetailsListener\r\n    {  \r\n        override fun details(doQuery: DeviceDetailsModel?) \r\n        {  \r\n            super.details(doQuery)  \r\n            Log.d(TAG, &quot;details: &quot;+doQuery?.calculatedName)  \r\n        }  \r\n    })\r\n\r\nThese are the values you will get from DeviceDetailsModel\r\n\r\n    val brand: String? #This is the brandName of the Device  \r\n    val commonName: String?, #This is the most common Name of the Device  \r\n    val codeName: String?,  #This is the codeName of the Device\r\n    val modelName: String?,  #This is the another uncommon Name of the Device\r\n    val calculatedName: String?, #This is the special name that this library tries to create from the above data.\r\n\r\nExample of Android Emulator - \r\n\r\n    brand=Google \r\n    commonName=Google Android Emulator \r\n    codeName=generic_x86_arm \r\n    modelName=sdk_gphone_x86 \r\n    calculatedName=Google Android Emulator\r\n\r\n","title":"Get Android Device Name","body":"<p>Tried These libraries but nothing worked according to my expectation and was giving absolutely wrong names.</p>\n<p>So i created this library myself using the same data.\nHere is the link</p>\n<p><a href=\"https://github.com/aishik212/AndroidPhoneNamesFinder\" rel=\"nofollow noreferrer\">AndroidPhoneNamesFinder</a></p>\n<p>To use this library just add this for implementation</p>\n<pre><code>implementation 'com.github.aishik212:AndroidPhoneNamesFinder:v1.0.2'\n</code></pre>\n<p>Then use the following kotlin code</p>\n<pre><code>DeviceNameFinder.getPhoneValues(this, object : DeviceDetailsListener\n{  \n    override fun details(doQuery: DeviceDetailsModel?) \n    {  \n        super.details(doQuery)  \n        Log.d(TAG, &quot;details: &quot;+doQuery?.calculatedName)  \n    }  \n})\n</code></pre>\n<p>These are the values you will get from DeviceDetailsModel</p>\n<pre><code>val brand: String? #This is the brandName of the Device  \nval commonName: String?, #This is the most common Name of the Device  \nval codeName: String?,  #This is the codeName of the Device\nval modelName: String?,  #This is the another uncommon Name of the Device\nval calculatedName: String?, #This is the special name that this library tries to create from the above data.\n</code></pre>\n<p>Example of Android Emulator -</p>\n<pre><code>brand=Google \ncommonName=Google Android Emulator \ncodeName=generic_x86_arm \nmodelName=sdk_gphone_x86 \ncalculatedName=Google Android Emulator\n</code></pre>\n"}],"owner":{"account_id":310434,"reputation":10029,"user_id":623401,"accept_rate":62,"display_name":"Zach"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250424,"favorite_count":0,"down_vote_count":0,"up_vote_count":208,"accepted_answer_id":7071392,"answer_count":16,"score":208,"last_activity_date":1692715163,"creation_date":1313445351,"question_id":7071281,"body_markdown":"How to get Android device name? I am using HTC desire. When I connected it via HTC Sync the software is displaying the Name **&#39;HTC Smith&#39;** . I would like to fetch this name via code.\r\n\r\nHow is this possible in Android?\r\n","title":"Get Android Device Name","body":"<p>How to get Android device name? I am using HTC desire. When I connected it via HTC Sync the software is displaying the Name <strong>'HTC Smith'</strong> . I would like to fetch this name via code.</p>\n\n<p>How is this possible in Android?</p>\n"},{"tags":["java","mysql","spring","hibernate","stored-procedures"],"answers":[{"comments":[{"owner":{"account_id":13438982,"reputation":5555,"user_id":9696675,"display_name":"Constantin Beer"},"score":0,"creation_date":1566014663,"post_id":48281931,"comment_id":101531853,"body_markdown":"I tried this out, but it doesn&#39;t work for me. Somehow I always get `null` as OutputParameterValue. I already post something on this. Maybe you can help me out with it? https://stackoverflow.com/questions/57527592/stored-procedure-in-java-spring-boot-project-returns-null-as-output","body":"I tried this out, but it doesn&#39;t work for me. Somehow I always get <code>null</code> as OutputParameterValue. I already post something on this. Maybe you can help me out with it? <a href=\"https://stackoverflow.com/questions/57527592/stored-procedure-in-java-spring-boot-project-returns-null-as-output\" title=\"stored procedure in java spring boot project returns null as output\">stackoverflow.com/questions/57527592/&hellip;</a>"}],"tags":[],"owner":{"account_id":11026111,"reputation":2882,"user_id":8098978,"display_name":"lzagkaretos"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1516107762,"creation_date":1516107762,"answer_id":48281931,"question_id":48281009,"body_markdown":"You can call a stored procedure using javax.persistence.StoredProcedureQuery. You dont even need to declare anything on your entity.  \r\nI&#39;d suggest moving the procedure calling logic to a service and then call the service method from your controller.\r\n\r\nFor instance:\r\n\r\n    @Service\r\n    public class LoginServiceImpl implements LoginService {\r\n        \r\n        @PersistenceContext\r\n        private EntityManager entityManager;\r\n        \r\n        public Boolean checkUsernameAndPassword(String username, String password) {\r\n            \r\n            //&quot;login&quot; this is the name of your procedure\r\n            StoredProcedureQuery query = entityManager.createStoredProcedureQuery(&quot;login&quot;); \r\n    \r\n            //Declare the parameters in the same order\r\n            query.registerStoredProcedureParameter(1, String.class, ParameterMode.IN);\r\n            query.registerStoredProcedureParameter(2, String.class, ParameterMode.IN);\r\n            query.registerStoredProcedureParameter(3, Integer.class, ParameterMode.OUT);\r\n            query.registerStoredProcedureParameter(4, String.class, ParameterMode.OUT);\r\n    \r\n            //Pass the parameter values\r\n            query.setParameter(1, username);\r\n            query.setParameter(2, password);\r\n    \r\n            //Execute query\r\n            query.execute();\r\n    \r\n            //Get output parameters\r\n            Integer outCode = (Integer) query.getOutputParameterValue(3);\r\n            String outMessage = (String) query.getOutputParameterValue(4);\r\n            \r\n            return true; //enter your condition\r\n        }\r\n    }\r\n\r\nAnd then, you can call this method from your Controller, after injecting your `LoginService`.","title":"how to call MySQL stored procedure in spring boot using hibernate?","body":"<p>You can call a stored procedure using javax.persistence.StoredProcedureQuery. You dont even need to declare anything on your entity.<br>\nI'd suggest moving the procedure calling logic to a service and then call the service method from your controller.</p>\n\n<p>For instance:</p>\n\n<pre><code>@Service\npublic class LoginServiceImpl implements LoginService {\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    public Boolean checkUsernameAndPassword(String username, String password) {\n\n        //\"login\" this is the name of your procedure\n        StoredProcedureQuery query = entityManager.createStoredProcedureQuery(\"login\"); \n\n        //Declare the parameters in the same order\n        query.registerStoredProcedureParameter(1, String.class, ParameterMode.IN);\n        query.registerStoredProcedureParameter(2, String.class, ParameterMode.IN);\n        query.registerStoredProcedureParameter(3, Integer.class, ParameterMode.OUT);\n        query.registerStoredProcedureParameter(4, String.class, ParameterMode.OUT);\n\n        //Pass the parameter values\n        query.setParameter(1, username);\n        query.setParameter(2, password);\n\n        //Execute query\n        query.execute();\n\n        //Get output parameters\n        Integer outCode = (Integer) query.getOutputParameterValue(3);\n        String outMessage = (String) query.getOutputParameterValue(4);\n\n        return true; //enter your condition\n    }\n}\n</code></pre>\n\n<p>And then, you can call this method from your Controller, after injecting your <code>LoginService</code>.</p>\n"},{"tags":[],"owner":{"account_id":9869686,"reputation":16,"user_id":7309818,"display_name":"ashish singla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516111525,"creation_date":1516111525,"answer_id":48283093,"question_id":48281009,"body_markdown":"You can try this method to call procedure from Spring\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import oracle.jdbc.driver.OracleTypes;\r\n    import org.springframework.jdbc.core.JdbcTemplate;\r\n    import org.springframework.jdbc.core.SqlOutParameter;\r\n    import org.springframework.jdbc.core.SqlParameter;\r\n    import org.springframework.jdbc.core.simple.SimpleJdbcCall;\r\n\r\n    public class MainApplicationMethod \r\n\r\n    {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\r\n    \tJdbcTemplate jdbcTemplate = new JdbcTemplate();\r\n\t\t\r\n    \tSimpleJdbcCall jdbcCall = new SimpleJdbcCall(jdbcTemplate).withProcedureName(&quot;procedureName&quot;);\r\n\t    jdbcCall.addDeclaredParameter(new SqlParameter(&quot;parameter1&quot;, OracleTypes.VARCHAR));\r\n\t\tjdbcCall.addDeclaredParameter(new SqlOutParameter(&quot;outParam1&quot;,OracleTypes.VARCHAR));\r\n\t\tString value=null;\r\n\t\tMap&lt;String, String&gt; callParams = new HashMap&lt;String, String&gt;();\r\n\t\tcallParams.put(&quot;parameter1&quot;, value);\r\n\r\n\t\tMap&lt;String, Object&gt; outputMap = jdbcCall.execute(callParams);\r\n\t}\r\n}","title":"how to call MySQL stored procedure in spring boot using hibernate?","body":"<p>You can try this method to call procedure from Spring</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport oracle.jdbc.driver.OracleTypes;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.jdbc.core.SqlOutParameter;\nimport org.springframework.jdbc.core.SqlParameter;\nimport org.springframework.jdbc.core.simple.SimpleJdbcCall;\n\npublic class MainApplicationMethod \n\n{\n\npublic static void main(String[] args) throws Exception {\n\n    JdbcTemplate jdbcTemplate = new JdbcTemplate();\n\n    SimpleJdbcCall jdbcCall = new SimpleJdbcCall(jdbcTemplate).withProcedureName(\"procedureName\");\n    jdbcCall.addDeclaredParameter(new SqlParameter(\"parameter1\", OracleTypes.VARCHAR));\n    jdbcCall.addDeclaredParameter(new SqlOutParameter(\"outParam1\",OracleTypes.VARCHAR));\n    String value=null;\n    Map&lt;String, String&gt; callParams = new HashMap&lt;String, String&gt;();\n    callParams.put(\"parameter1\", value);\n\n    Map&lt;String, Object&gt; outputMap = jdbcCall.execute(callParams);\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":12664036,"reputation":322,"user_id":9203966,"display_name":"VAIBHAV NERLE"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1574246226,"creation_date":1574245344,"answer_id":58951990,"question_id":48281009,"body_markdown":"Try this simple solution , I use Spring boot and Sql Server-\r\nIn your Repository\r\n\r\n1) with no parameter \r\n\r\n`@Query(value = &quot;{call yourSpName()}&quot;, nativeQuery = true)\r\nList&lt;Map&lt;String, Object&gt;&gt; methodName();`\r\n\r\n2) with Parameter\r\n\r\n`@Query(value = &quot;{call yourSpName(:param1)}&quot;, nativeQuery = true)\r\nList&lt;Map&lt;String, Object&gt;&gt; methodName(@Param(&quot;param1&quot;)Long param1);`","title":"how to call MySQL stored procedure in spring boot using hibernate?","body":"<p>Try this simple solution , I use Spring boot and Sql Server-\nIn your Repository</p>\n\n<p>1) with no parameter </p>\n\n<p><code>@Query(value = \"{call yourSpName()}\", nativeQuery = true)\nList&lt;Map&lt;String, Object&gt;&gt; methodName();</code></p>\n\n<p>2) with Parameter</p>\n\n<p><code>@Query(value = \"{call yourSpName(:param1)}\", nativeQuery = true)\nList&lt;Map&lt;String, Object&gt;&gt; methodName(@Param(\"param1\")Long param1);</code></p>\n"},{"tags":[],"owner":{"account_id":5217057,"reputation":133,"user_id":4171669,"display_name":"Ahmed Shalash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578836516,"creation_date":1578836516,"answer_id":59704395,"question_id":48281009,"body_markdown":"This works for me using jdbctempate \r\n\r\n       SimpleJdbcCall jdbcCall =  new SimpleJdbcCall(jdbcTemplate).withProcedureName(&quot;your procedure name&quot;);\r\n\r\n        Map&lt;String, Object&gt; inParamMap = new HashMap&lt;&gt;();\r\n\r\n        inParamMap.put(&quot;input of your procedure&quot;, value of input);\r\n\r\n        SqlParameterSource in = new MapSqlParameterSource(inParamMap);\r\n\r\n        Map&lt;String, Object&gt; call = jdbcCall.execute(in);\r\n","title":"how to call MySQL stored procedure in spring boot using hibernate?","body":"<p>This works for me using jdbctempate </p>\n\n<pre><code>   SimpleJdbcCall jdbcCall =  new SimpleJdbcCall(jdbcTemplate).withProcedureName(\"your procedure name\");\n\n    Map&lt;String, Object&gt; inParamMap = new HashMap&lt;&gt;();\n\n    inParamMap.put(\"input of your procedure\", value of input);\n\n    SqlParameterSource in = new MapSqlParameterSource(inParamMap);\n\n    Map&lt;String, Object&gt; call = jdbcCall.execute(in);\n</code></pre>\n"}],"owner":{"account_id":4933250,"reputation":4859,"user_id":3972291,"accept_rate":100,"display_name":"Enamul Haque"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34825,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":48281931,"answer_count":4,"score":7,"last_activity_date":1692715044,"creation_date":1516104801,"question_id":48281009,"body_markdown":"I have written some logic in **MySQL stored procedur**e.I am using **spring boot with hibernate**. I have a login procedure with **IN OUT** parameters. From my login procedure I want to pass message to user. But i don&#39;t know how to call stored procedure in Spring boot. My code is bellow..\r\n\r\n 1. My Login Procedure is\r\n\r\n        CREATE PROCEDURE login(IN  in_user_id    varchar(100),\r\n                                   IN  in_password   varchar(100),\r\n                                   OUT out_code      INT,\r\n                                   OUT out_message   varchar(100))\r\n         BEGIN\r\n            IF in_user_id IS NULL OR in_user_id = &#39;&#39;\r\n             THEN\r\n             SET out_code = 1;\r\n             SET out_message = &#39;Please Enter Your First Name.&#39;;\r\n           END IF;\r\n         /*Logi Here*/\r\n\r\n         END;\r\n\r\n 2. I have used entity class like \r\n\r\n        @Entity\r\n        @Table(name = &quot;user&quot;)\r\n         @NamedStoredProcedureQueries({\r\n\t       @NamedStoredProcedureQuery(\r\n\t       name = &quot;do_login&quot;, \r\n\t       procedureName = &quot;login&quot;, \r\n\t       resultClasses = { LoginModel.class }, \t\r\n\t       parameters = { \r\n\t          @StoredProcedureParameter( name = &quot; in_user_id&quot;,  type = String.class,  mode = ParameterMode.IN),\r\n\t          @StoredProcedureParameter( name = &quot;in_password&quot;,  type = String.class,  mode = ParameterMode.IN),\r\n\t          @StoredProcedureParameter( name = &quot;out_code&quot;,  type = Integer.class,  mode = ParameterMode.OUT), \r\n\t          @StoredProcedureParameter( name = &quot;out_message&quot;,  type = String.class,  mode = ParameterMode.OUT)\r\n\t          \r\n\t         }),\r\n\t         \r\n\t     })\r\n\r\n         public class LoginModel implements Serializable {\r\n\t\r\n\t       @NotEmpty\r\n\t       private String userid;\r\n\r\n\t       @NotEmpty\r\n\t       private String password;\r\n\r\n          //Here is getter setter\r\n          }\r\n\r\n 3. In My Login Controller I want to call my procedure so that i can forward my user to dashboard.If user enter wrong user id or password , i want to show message  from procedure. I have used bellow code in my login controller\r\n\r\n        @RequestMapping(value = &quot;/login&quot;, method = RequestMethod.POST)\r\n\t     public String doLogin(@ModelAttribute(&quot;webLoginForm&quot;) @Valid LoginModel registrationModel,\r\n\t\t\tBindingResult bindingResult, Model model, Errors error) {\r\n\t\t     if(error.hasErrors()) {\r\n\t\t\t\t return &quot;login&quot;;\r\n\t\t     }\r\n\t\t\r\n\t\t   // Here I want to check My Procedure result &amp; redirect to welcome page\r\n\t\t   //return &quot;redirect:/welcome&quot;;\r\n\t\t \r\n\t\t  return &quot;login&quot;;\r\n\t    }\r\n\r\n \r\n\r\n 1. I have used repository but it did not write anything here. I have used repository bellow like..\r\n\r\n           public interface LoginRepository  extends CrudRepository&lt;LoginModel, Integer&gt;{\r\n\t\r\n \t\r\n         }","title":"how to call MySQL stored procedure in spring boot using hibernate?","body":"<p>I have written some logic in <strong>MySQL stored procedur</strong>e.I am using <strong>spring boot with hibernate</strong>. I have a login procedure with <strong>IN OUT</strong> parameters. From my login procedure I want to pass message to user. But i don't know how to call stored procedure in Spring boot. My code is bellow..</p>\n\n<ol>\n<li><p>My Login Procedure is</p>\n\n<pre><code>CREATE PROCEDURE login(IN  in_user_id    varchar(100),\n                           IN  in_password   varchar(100),\n                           OUT out_code      INT,\n                           OUT out_message   varchar(100))\n BEGIN\n    IF in_user_id IS NULL OR in_user_id = ''\n     THEN\n     SET out_code = 1;\n     SET out_message = 'Please Enter Your First Name.';\n   END IF;\n /*Logi Here*/\n\n END;\n</code></pre></li>\n<li><p>I have used entity class like </p>\n\n<pre><code>@Entity\n@Table(name = \"user\")\n @NamedStoredProcedureQueries({\n   @NamedStoredProcedureQuery(\n   name = \"do_login\", \n   procedureName = \"login\", \n   resultClasses = { LoginModel.class },    \n   parameters = { \n      @StoredProcedureParameter( name = \" in_user_id\",  type = String.class,  mode = ParameterMode.IN),\n      @StoredProcedureParameter( name = \"in_password\",  type = String.class,  mode = ParameterMode.IN),\n      @StoredProcedureParameter( name = \"out_code\",  type = Integer.class,  mode = ParameterMode.OUT), \n      @StoredProcedureParameter( name = \"out_message\",  type = String.class,  mode = ParameterMode.OUT)\n\n     }),\n\n })\n\n public class LoginModel implements Serializable {\n\n   @NotEmpty\n   private String userid;\n\n   @NotEmpty\n   private String password;\n\n  //Here is getter setter\n  }\n</code></pre></li>\n<li><p>In My Login Controller I want to call my procedure so that i can forward my user to dashboard.If user enter wrong user id or password , i want to show message  from procedure. I have used bellow code in my login controller</p>\n\n<pre><code>@RequestMapping(value = \"/login\", method = RequestMethod.POST)\n public String doLogin(@ModelAttribute(\"webLoginForm\") @Valid LoginModel registrationModel,\n    BindingResult bindingResult, Model model, Errors error) {\n     if(error.hasErrors()) {\n         return \"login\";\n     }\n\n   // Here I want to check My Procedure result &amp; redirect to welcome page\n   //return \"redirect:/welcome\";\n\n  return \"login\";\n}\n</code></pre></li>\n<li><p>I have used repository but it did not write anything here. I have used repository bellow like..</p>\n\n<pre><code>   public interface LoginRepository  extends CrudRepository&lt;LoginModel, Integer&gt;{\n\n\n }\n</code></pre></li>\n</ol>\n"},{"tags":["java","html","swing","jsp","netbeans"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1497584531,"post_id":44580115,"comment_id":76149229,"body_markdown":"[`JEditorPane`](https://docs.oracle.com/javase/tutorial/uiswing/components/editorpane.html) can render HTML 3.2 with some extensions, for [example](https://stackoverflow.com/q/18443315/230513).","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/editorpane.html\" rel=\"nofollow noreferrer\"><code>JEditorPane</code></a> can render HTML 3.2 with some extensions, for <a href=\"https://stackoverflow.com/q/18443315/230513\">example</a>."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1497591205,"post_id":44580115,"comment_id":76151114,"body_markdown":"*&quot;when you say &quot;table&quot;, google thinks you&#39;re talking about a database table&quot;* Add **-**ThingYouDoNotWant e.g. https://www.google.com/search?q=html+table+-db","body":"<i>&quot;when you say &quot;table&quot;, google thinks you&#39;re talking about a database table&quot;</i> Add **-**ThingYouDoNotWant e.g. <a href=\"https://www.google.com/search?q=html+table+-db\" rel=\"nofollow noreferrer\">google.com/search?q=html+table+-db</a>"},{"owner":{"account_id":1176036,"reputation":2433,"user_id":1324406,"accept_rate":62,"display_name":"Amber"},"score":1,"creation_date":1497648609,"post_id":44580115,"comment_id":76184810,"body_markdown":"I have never tried a table, but you can [render some html in Swing components.](https://docs.oracle.com/javase/tutorial/uiswing/components/html.html)","body":"I have never tried a table, but you can <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/html.html\" rel=\"nofollow noreferrer\">render some html in Swing components.</a>"},{"owner":{"account_id":3472091,"reputation":658,"user_id":2906157,"accept_rate":44,"display_name":"Sergio"},"score":0,"creation_date":1497657066,"post_id":44580115,"comment_id":76186927,"body_markdown":"Thanks a lot!! both answers seems to be very helpful. I&#39;ll take a look to both of them see which one suits my needs better. I forgot to mention that I also need radio buttons, check boxes, text boxes and other html elements inside the html table. I hope they can render style-sheets as well","body":"Thanks a lot!! both answers seems to be very helpful. I&#39;ll take a look to both of them see which one suits my needs better. I forgot to mention that I also need radio buttons, check boxes, text boxes and other html elements inside the html table. I hope they can render style-sheets as well"},{"owner":{"account_id":3472091,"reputation":658,"user_id":2906157,"accept_rate":44,"display_name":"Sergio"},"score":0,"creation_date":1497657349,"post_id":44580115,"comment_id":76186978,"body_markdown":"and yes, I used that &quot;-&quot; modifier, but still, I was getting a lot of database related results. Thanks for the tip anyway.","body":"and yes, I used that &quot;-&quot; modifier, but still, I was getting a lot of database related results. Thanks for the tip anyway."}],"owner":{"account_id":3472091,"reputation":658,"user_id":2906157,"accept_rate":44,"display_name":"Sergio"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692715004,"creation_date":1497582242,"question_id":44580115,"body_markdown":"I have a java web JSP application, which I need to translate to a java desktop application, which I can distribute in a jar file.\r\n\r\nI&#39;m new to netbeans, and I&#39;m trying to figure out if there&#39;s a way to use html tables, instead of the JTable provided by netbeans.\r\n\r\nThe thing is that there&#39;s a lot of code in my jsp&#39;s that create these html tables, and I was wondering if I can re-use it with netbeans.\r\n\r\nIt has to be a desktop application, it shouldn&#39;t run on a web-browser.\r\n\r\nI understand that you can&#39;t use html in a java desktop app, but if at least I could use just html tables, that would be a huge time saver for me.\r\n\r\nI&#39;ve been searching for the right answer for a couple of days, and still haven&#39;t found a concrete answer. Plus, when you say &quot;table&quot;, Google thinks you&#39;re talking about a database table, which is not my case.\r\n\r\nAny help will be really appreciated","title":"using html tables in java desktop application (with netbeans)","body":"<p>I have a java web JSP application, which I need to translate to a java desktop application, which I can distribute in a jar file.</p>\n<p>I'm new to netbeans, and I'm trying to figure out if there's a way to use html tables, instead of the JTable provided by netbeans.</p>\n<p>The thing is that there's a lot of code in my jsp's that create these html tables, and I was wondering if I can re-use it with netbeans.</p>\n<p>It has to be a desktop application, it shouldn't run on a web-browser.</p>\n<p>I understand that you can't use html in a java desktop app, but if at least I could use just html tables, that would be a huge time saver for me.</p>\n<p>I've been searching for the right answer for a couple of days, and still haven't found a concrete answer. Plus, when you say &quot;table&quot;, Google thinks you're talking about a database table, which is not my case.</p>\n<p>Any help will be really appreciated</p>\n"},{"tags":["java","c#","code-conversion"],"comments":[{"owner":{"account_id":9165235,"reputation":15414,"user_id":6815131,"display_name":"Joe C"},"score":1,"creation_date":1499066814,"post_id":44879897,"comment_id":76737887,"body_markdown":"Welcome to Stack Overflow!  Questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include the desired behavior, _a specific problem or error_ and _the shortest code necessary_ to reproduce it **in the question itself**. Questions without a clear problem statement are not useful to other readers. See: [How to create a Minimal, Complete, and Verifiable example](http://stackoverflow.com/help/mcve).","body":"Welcome to Stack Overflow!  Questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include the desired behavior, <i>a specific problem or error</i> and <i>the shortest code necessary</i> to reproduce it <b>in the question itself</b>. Questions without a clear problem statement are not useful to other readers. See: <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>."},{"owner":{"account_id":3018869,"reputation":2241,"user_id":2560362,"accept_rate":74,"display_name":"Iswar"},"score":0,"creation_date":1499066903,"post_id":44879897,"comment_id":76737924,"body_markdown":"bad hash\\r\\n is the error I am getting","body":"bad hash\\r\\n is the error I am getting"}],"answers":[{"comments":[{"owner":{"account_id":4450940,"reputation":97,"user_id":3622849,"accept_rate":83,"display_name":"Naruto"},"score":0,"creation_date":1584471090,"post_id":44884275,"comment_id":107445417,"body_markdown":"Question what exactly is signedDataStream and where do you get it from and how? Thx","body":"Question what exactly is signedDataStream and where do you get it from and how? Thx"}],"tags":[],"owner":{"account_id":3018869,"reputation":2241,"user_id":2560362,"accept_rate":74,"display_name":"Iswar"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1499080866,"creation_date":1499080866,"answer_id":44884275,"question_id":44879897,"body_markdown":"I have generated Signature using System.Security.Cryptography.Pkcs library   like this \r\n\r\n        public static byte[] Sign(byte[] data, X509Certificate2 certificate)\r\n        {\r\n            if (data == null)\r\n                throw new ArgumentNullException(&quot;data&quot;);\r\n            if (certificate == null)\r\n                throw new ArgumentNullException(&quot;certificate&quot;);\r\n\r\n            // setup the data to sign\r\n            ContentInfo content = new ContentInfo(data);\r\n            SignedCms signedCms = new SignedCms(content, false);\r\n            CmsSigner signer = new CmsSigner(SubjectIdentifierType.IssuerAndSerialNumber, certificate);\r\n            // create the signature\r\n            signedCms.ComputeSignature(signer);\r\n            return signedCms.Encode();\r\n        }\r\n and verify the signature like this\r\n     \r\n      private static bool VerifySignatures(FileInfo contentFile, Stream signedDataStream)\r\n        {\r\n            CmsProcessable signedContent = null;\r\n            CmsSignedData cmsSignedData = null;\r\n            Org.BouncyCastle.X509.Store.IX509Store store = null;\r\n            ICollection signers = null;\r\n            bool verifiedStatus = false;\r\n            try\r\n            {\r\n                //Org.BouncyCastle.Security.addProvider(new BouncyCastleProvider());\r\n                signedContent = new CmsProcessableFile(contentFile);\r\n                cmsSignedData = new CmsSignedData(signedContent, signedDataStream);\r\n                store = cmsSignedData.GetCertificates(&quot;Collection&quot;);//.getCertificates();\r\n                IX509Store certStore = cmsSignedData.GetCertificates(&quot;Collection&quot;);\r\n                signers = cmsSignedData.GetSignerInfos().GetSigners();\r\n                foreach (var item in signers)\r\n                {\r\n                    SignerInformation signer = (SignerInformation)item;\r\n                    var certCollection = certStore.GetMatches(signer.SignerID);\r\n                    IEnumerator iter = certCollection.GetEnumerator();\r\n                    iter.MoveNext();\r\n                    var cert = (Org.BouncyCastle.X509.X509Certificate)iter.Current;\r\n                    verifiedStatus = signer.Verify(cert.GetPublicKey());\r\n                }\r\n\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                throw e;\r\n            }\r\n\r\n            return verifiedStatus;\r\n        }\r\nIt is working for me","title":"How to Create Digital Signature and Verify it in C# using PKCS 7 and SHA algorithm","body":"<p>I have generated Signature using System.Security.Cryptography.Pkcs library   like this </p>\n\n<pre><code>    public static byte[] Sign(byte[] data, X509Certificate2 certificate)\n    {\n        if (data == null)\n            throw new ArgumentNullException(\"data\");\n        if (certificate == null)\n            throw new ArgumentNullException(\"certificate\");\n\n        // setup the data to sign\n        ContentInfo content = new ContentInfo(data);\n        SignedCms signedCms = new SignedCms(content, false);\n        CmsSigner signer = new CmsSigner(SubjectIdentifierType.IssuerAndSerialNumber, certificate);\n        // create the signature\n        signedCms.ComputeSignature(signer);\n        return signedCms.Encode();\n    }\n</code></pre>\n\n<p>and verify the signature like this</p>\n\n<pre><code>  private static bool VerifySignatures(FileInfo contentFile, Stream signedDataStream)\n    {\n        CmsProcessable signedContent = null;\n        CmsSignedData cmsSignedData = null;\n        Org.BouncyCastle.X509.Store.IX509Store store = null;\n        ICollection signers = null;\n        bool verifiedStatus = false;\n        try\n        {\n            //Org.BouncyCastle.Security.addProvider(new BouncyCastleProvider());\n            signedContent = new CmsProcessableFile(contentFile);\n            cmsSignedData = new CmsSignedData(signedContent, signedDataStream);\n            store = cmsSignedData.GetCertificates(\"Collection\");//.getCertificates();\n            IX509Store certStore = cmsSignedData.GetCertificates(\"Collection\");\n            signers = cmsSignedData.GetSignerInfos().GetSigners();\n            foreach (var item in signers)\n            {\n                SignerInformation signer = (SignerInformation)item;\n                var certCollection = certStore.GetMatches(signer.SignerID);\n                IEnumerator iter = certCollection.GetEnumerator();\n                iter.MoveNext();\n                var cert = (Org.BouncyCastle.X509.X509Certificate)iter.Current;\n                verifiedStatus = signer.Verify(cert.GetPublicKey());\n            }\n\n        }\n        catch (Exception e)\n        {\n            throw e;\n        }\n\n        return verifiedStatus;\n    }\n</code></pre>\n\n<p>It is working for me</p>\n"}],"owner":{"account_id":3018869,"reputation":2241,"user_id":2560362,"accept_rate":74,"display_name":"Iswar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10518,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44884275,"answer_count":1,"score":1,"last_activity_date":1692714813,"creation_date":1499066685,"question_id":44879897,"body_markdown":"I am trying to digitally sign xml document and verify the signature with the original xml file with public key and signed document. I have a java code for reference. I need to convert java code to C# where I have java code like this:\r\n\r\n       certList = new ArrayList&lt;X509Certificate&gt;();\r\n\t   certList.add(signerCert);\r\n\t   certStore = new JcaCertStore(certList);\r\n\t   signedDataGenerator = new CMSSignedDataGenerator();\r\n\t   ContentSigner sha2Signer = new JcaContentSignerBuilder(&quot;SHA512with&quot; + privateKey.getAlgorithm()).build(privateKey);\r\n\t        \t   \r\n\t   ignedDataGenerator.addSignerInfoGenerator(new JcaSignerInfoGeneratorBuilder(new JcaDigestCalculatorProviderBuilder().build()).setDirectSignature(true).build(sha2Signer, signerCert));\r\n\t   signedDataGenerator.addCertificates(certStore);\r\n\t   CMSSignedData sigData = signedDataGenerator.generate(new CMSProcessableFile(inputXmlFile), false);\r\n\t   signedBytes = sigData.getEncoded();\r\nI have converted java code to C# like this:\r\n\r\n            X509Store my = new X509Store(StoreName.My, StoreLocation.LocalMachine);\r\n            my.Open(OpenFlags.ReadOnly);\r\n            // Find the certificate well use to sign\r\n            RSACryptoServiceProvider csp = null;\r\n            foreach (X509Certificate2 cert in my.Certificates)\r\n            {\r\n                if (cert.Subject.Contains(certSubject))\r\n                {\r\n                    // We found it.\r\n                    // Get its associated CSP and private key\r\n                    csp = (RSACryptoServiceProvider)cert.PrivateKey;                  \r\n                }\r\n            }\r\n            if (csp == null)\r\n            {\r\n                throw new Exception(&quot;oppose no valid application was found&quot;);\r\n            }\r\n            // Hash the data\r\n            SHA512Managed sha1 = new SHA512Managed();\r\n            UnicodeEncoding encoding = new UnicodeEncoding();\r\n            byte[] data = encoding.GetBytes(text);\r\n            byte[] hash = sha1.ComputeHash(data);\r\n            // Sign the hash\r\n            return csp.SignHash(hash, CryptoConfig.MapNameToOID(&quot;SHA1&quot;));\r\n\r\nI am trying to convert it since two days, It is generating sign byte array but not been able to verify. While verifying it is throwing **bad hash\\r\\n** error I shall be highly grateful for any assistance. I know I am somewhere wrong in converting the java code to C#. I am able to verify the code but not been able to sign the document","title":"How to Create Digital Signature and Verify it in C# using PKCS 7 and SHA algorithm","body":"<p>I am trying to digitally sign xml document and verify the signature with the original xml file with public key and signed document. I have a java code for reference. I need to convert java code to C# where I have java code like this:</p>\n\n<pre><code>   certList = new ArrayList&lt;X509Certificate&gt;();\n   certList.add(signerCert);\n   certStore = new JcaCertStore(certList);\n   signedDataGenerator = new CMSSignedDataGenerator();\n   ContentSigner sha2Signer = new JcaContentSignerBuilder(\"SHA512with\" + privateKey.getAlgorithm()).build(privateKey);\n\n   ignedDataGenerator.addSignerInfoGenerator(new JcaSignerInfoGeneratorBuilder(new JcaDigestCalculatorProviderBuilder().build()).setDirectSignature(true).build(sha2Signer, signerCert));\n   signedDataGenerator.addCertificates(certStore);\n   CMSSignedData sigData = signedDataGenerator.generate(new CMSProcessableFile(inputXmlFile), false);\n   signedBytes = sigData.getEncoded();\n</code></pre>\n\n<p>I have converted java code to C# like this:</p>\n\n<pre><code>        X509Store my = new X509Store(StoreName.My, StoreLocation.LocalMachine);\n        my.Open(OpenFlags.ReadOnly);\n        // Find the certificate well use to sign\n        RSACryptoServiceProvider csp = null;\n        foreach (X509Certificate2 cert in my.Certificates)\n        {\n            if (cert.Subject.Contains(certSubject))\n            {\n                // We found it.\n                // Get its associated CSP and private key\n                csp = (RSACryptoServiceProvider)cert.PrivateKey;                  \n            }\n        }\n        if (csp == null)\n        {\n            throw new Exception(\"oppose no valid application was found\");\n        }\n        // Hash the data\n        SHA512Managed sha1 = new SHA512Managed();\n        UnicodeEncoding encoding = new UnicodeEncoding();\n        byte[] data = encoding.GetBytes(text);\n        byte[] hash = sha1.ComputeHash(data);\n        // Sign the hash\n        return csp.SignHash(hash, CryptoConfig.MapNameToOID(\"SHA1\"));\n</code></pre>\n\n<p>I am trying to convert it since two days, It is generating sign byte array but not been able to verify. While verifying it is throwing <strong>bad hash\\r\\n</strong> error I shall be highly grateful for any assistance. I know I am somewhere wrong in converting the java code to C#. I am able to verify the code but not been able to sign the document</p>\n"},{"tags":["java","spring","oauth-2.0","single-sign-on","openid-connect"],"comments":[{"owner":{"account_id":27080115,"reputation":99,"user_id":20629378,"display_name":"Pavan G"},"score":0,"creation_date":1692711634,"post_id":76953857,"comment_id":135659425,"body_markdown":"have you tested the flow in postman/insomnia?","body":"have you tested the flow in postman/insomnia?"},{"owner":{"account_id":27071838,"reputation":207,"user_id":20622382,"display_name":"Seriously"},"score":0,"creation_date":1692711733,"post_id":76953857,"comment_id":135659461,"body_markdown":"yeah added the point in question","body":"yeah added the point in question"}],"owner":{"account_id":27071838,"reputation":207,"user_id":20622382,"display_name":"Seriously"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1692714438,"creation_date":1692711302,"question_id":76953857,"body_markdown":"I have used spring-security and oauth2-client dependency.\r\nHomepage url: \r\n```\r\nhttp://localhost:9090/webpage/\r\n```\r\napplication.properties file configuration\r\n\r\n```\r\nspring.security.oauth2.client.registration.fedsso.client-id=\r\nspring.security.oauth2.client.registration.fedsso.scope=openid\r\nspring.security.oauth2.client.registration.fedsso.authorization-grant-type=authorization_code\r\nspring.security.oauth2.client.registration.fedsso.redirect-uri=http://localhost:9090/webpage/\r\nspring.security.oauth2.client.provider.fedsso.issuer-uri=\r\nspring.security.oauth2.client.provider.fedsso.authorization-uri=\r\nspring.security.oauth2.client.provider.fedsso.token-uri=\r\nspring.security.oauth2.client.provider.fedsso.user-info-uri=\r\n```\r\nCreated Bean of SecurityFilterChain\r\n```\r\nhttp.authorizeHttpRequests()\r\n.anyRequest().authenticated()\r\n.and()\r\n.oauth2Login();\r\nreturn http.build();\r\n```\r\n\r\nThe network tab debug results:\r\n```\r\n1.http://localhost:9090/webpage/ - redirect\r\n2.http://localhost:9090/webpage/oauth2/authorization/fedsso - redirect\r\n3./authorization.ouath2 - redirect\r\n4.http://localhost:9090/webpage/?code=auth_code&amp;state=qwasda - redirect\r\n```\r\n\r\nthen after 4th redirect spring should call the token endpoint for getting access_token/Id_token in exchange for authorization_code\r\nBut what is happening that after 4th point it is redirecting again to 2nd point i.e fedsso then 3rd point authorization.oauth2 then 4th point again then it is repeating from 2nd point to 4th point\r\n\r\nValidated the authorization code grant flow in postman/insomnia(for getting the access_token/id_token) and i&#39;m able to get the tokens by providing configuration.\r\n","title":"The token endpoint is not getting called Even after getting authorization_code","body":"<p>I have used spring-security and oauth2-client dependency.\nHomepage url:</p>\n<pre><code>http://localhost:9090/webpage/\n</code></pre>\n<p>application.properties file configuration</p>\n<pre><code>spring.security.oauth2.client.registration.fedsso.client-id=\nspring.security.oauth2.client.registration.fedsso.scope=openid\nspring.security.oauth2.client.registration.fedsso.authorization-grant-type=authorization_code\nspring.security.oauth2.client.registration.fedsso.redirect-uri=http://localhost:9090/webpage/\nspring.security.oauth2.client.provider.fedsso.issuer-uri=\nspring.security.oauth2.client.provider.fedsso.authorization-uri=\nspring.security.oauth2.client.provider.fedsso.token-uri=\nspring.security.oauth2.client.provider.fedsso.user-info-uri=\n</code></pre>\n<p>Created Bean of SecurityFilterChain</p>\n<pre><code>http.authorizeHttpRequests()\n.anyRequest().authenticated()\n.and()\n.oauth2Login();\nreturn http.build();\n</code></pre>\n<p>The network tab debug results:</p>\n<pre><code>1.http://localhost:9090/webpage/ - redirect\n2.http://localhost:9090/webpage/oauth2/authorization/fedsso - redirect\n3./authorization.ouath2 - redirect\n4.http://localhost:9090/webpage/?code=auth_code&amp;state=qwasda - redirect\n</code></pre>\n<p>then after 4th redirect spring should call the token endpoint for getting access_token/Id_token in exchange for authorization_code\nBut what is happening that after 4th point it is redirecting again to 2nd point i.e fedsso then 3rd point authorization.oauth2 then 4th point again then it is repeating from 2nd point to 4th point</p>\n<p>Validated the authorization code grant flow in postman/insomnia(for getting the access_token/id_token) and i'm able to get the tokens by providing configuration.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1692713952,"post_id":76954220,"comment_id":135660080,"body_markdown":"Simply run all of them in one transaction. I believe Spring allows you to just make one `@Transactional` method that would call all of them (and they would use the same transaction).","body":"Simply run all of them in one transaction. I believe Spring allows you to just make one <code>@Transactional</code> method that would call all of them (and they would use the same transaction)."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1692715212,"post_id":76954220,"comment_id":135660370,"body_markdown":"Even if all of the methods have `@Transactional` it&#39;ll just join the existing transaction. You need `TransactionPropagation.REQUIRES_NEW` to have new transactions created even if there&#39;s an existing in progress. Sorry, that&#39;s what Jorn said, but here are the details.","body":"Even if all of the methods have <code>@Transactional</code> it&#39;ll just join the existing transaction. You need <code>TransactionPropagation.REQUIRES_NEW</code> to have new transactions created even if there&#39;s an existing in progress. Sorry, that&#39;s what Jorn said, but here are the details."}],"owner":{"account_id":21734037,"reputation":55,"user_id":16042294,"display_name":"Pouria Saleh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692714035,"creation_date":1692713881,"question_id":76954220,"body_markdown":"Suppose we have some `@Transactional` methods and we want to rollback all methods if one or more of them has not committed successfully.is there any direct way in spring framework?\r\n\r\nI tried rollbackfor attribute in one `@Transactional` method to rollback if one exception happened but I want it for multiple methods to happen","title":"how to roll back multiple @transactional methods when one of them is not committed or has exception in spring boot","body":"<p>Suppose we have some <code>@Transactional</code> methods and we want to rollback all methods if one or more of them has not committed successfully.is there any direct way in spring framework?</p>\n<p>I tried rollbackfor attribute in one <code>@Transactional</code> method to rollback if one exception happened but I want it for multiple methods to happen</p>\n"},{"tags":["java","message-queue"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1692713222,"post_id":76954090,"comment_id":135659882,"body_markdown":"RMI is a Java-only, CORBA-like API.  I believe Rabbit uses AMQP, which has clients in Java/Kotlin, C#, JavaScript/Node, Python, etc.  Kafka has its own protocol: https://kafka.apache.org/protocol.html","body":"RMI is a Java-only, CORBA-like API.  I believe Rabbit uses AMQP, which has clients in Java/Kotlin, C#, JavaScript/Node, Python, etc.  Kafka has its own protocol: <a href=\"https://kafka.apache.org/protocol.html\" rel=\"nofollow noreferrer\">kafka.apache.org/protocol.html</a>"}],"answers":[{"comments":[{"owner":{"account_id":7527198,"reputation":1109,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"score":0,"creation_date":1692713755,"post_id":76954165,"comment_id":135660035,"body_markdown":"interesting, however how do they implement blocking methods? On local computer thread is awakened via scheduler/hardware locks but how do they awaken the thread if the method `take()` for example blocks? Is there busy waiting or are there any specific techniques? I would like to implement my own queue as practice, unfortunately these topics are sooo hard to find and info about them is almost non existent.","body":"interesting, however how do they implement blocking methods? On local computer thread is awakened via scheduler/hardware locks but how do they awaken the thread if the method <code>take()</code> for example blocks? Is there busy waiting or are there any specific techniques? I would like to implement my own queue as practice, unfortunately these topics are sooo hard to find and info about them is almost non existent."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692714211,"post_id":76954165,"comment_id":135660142,"body_markdown":"@Johnyb Does section *2.6.8 Synchronous Get* of the [AMPQ](https://en.wikipedia.org/wiki/Advanced_Message_Queuing_Protocol) spec answer your question?","body":"@Johnyb Does section <i>2.6.8 Synchronous Get</i> of the <a href=\"https://en.wikipedia.org/wiki/Advanced_Message_Queuing_Protocol\" rel=\"nofollow noreferrer\">AMPQ</a> spec answer your question?"},{"owner":{"account_id":7527198,"reputation":1109,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"score":0,"creation_date":1692715336,"post_id":76954165,"comment_id":135660398,"body_markdown":"@BasilBourque interesting, so its basicly just synchronous method call that waits for server to respond ( with or without timeout )without setting the thread to waiting state? However i have seen these methods supporting interrupted exceptions, is that just some API wrapper that just executes this synchronous method in new thread for better usage?","body":"@BasilBourque interesting, so its basicly just synchronous method call that waits for server to respond ( with or without timeout )without setting the thread to waiting state? However i have seen these methods supporting interrupted exceptions, is that just some API wrapper that just executes this synchronous method in new thread for better usage?"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1692722029,"post_id":76954165,"comment_id":135661944,"body_markdown":"@Johnyb it seems like you are interested in blocking at two distinct layers, threading and network. At the threading level, fundamentally consumer threads will block on a `wait()` call, and producer threads will perform network IO to receive a message and then `notify()` waiting threads that it has arrived. The network IO can be blocking, asynchronous, or non-blocking.","body":"@Johnyb it seems like you are interested in blocking at two distinct layers, threading and network. At the threading level, fundamentally consumer threads will block on a <code>wait()</code> call, and producer threads will perform network IO to receive a message and then <code>notify()</code> waiting threads that it has arrived. The network IO can be blocking, asynchronous, or non-blocking."},{"owner":{"account_id":7527198,"reputation":1109,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"score":0,"creation_date":1692733853,"post_id":76954165,"comment_id":135664343,"body_markdown":"@erickson yes, but if on thread level: the client code has to call lets say `take()` method, in that method has to be some kind of code to find out if there are some elements to take, i suppose its the call to the server and if it returns null then the `take()` method calls `wait()` on thread level. But how will server call `notify()` on `wait()` that was called on client? Since whole thread is in waiting state and there isnt busy waiting ( or is it busy waiting ? ). Im getting more and more confused here :)","body":"@erickson yes, but if on thread level: the client code has to call lets say <code>take()</code> method, in that method has to be some kind of code to find out if there are some elements to take, i suppose its the call to the server and if it returns null then the <code>take()</code> method calls <code>wait()</code> on thread level. But how will server call <code>notify()</code> on <code>wait()</code> that was called on client? Since whole thread is in waiting state and there isnt busy waiting ( or is it busy waiting ? ). Im getting more and more confused here :)"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1692743092,"post_id":76954165,"comment_id":135665549,"body_markdown":"@Johnyb The server doesn&#39;t call `notify()`; a thread in the client that is reading from the socket will call it after receiving a complete message.","body":"@Johnyb The server doesn&#39;t call <code>notify()</code>; a thread in the client that is reading from the socket will call it after receiving a complete message."},{"owner":{"account_id":7527198,"reputation":1109,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"score":0,"creation_date":1692826820,"post_id":76954165,"comment_id":135678683,"body_markdown":"@erickson im still confused,, the `take()` method blocks until data is present in queue on server, so internally it uses two threas ?  the code that fetches data from server e.g `socket.take()` is blocking method, so the `take()` one htread running the logic, that sleeps seelps itself, and have another thread running that just use `socket.take()` and when the data arrives it wakes up the running logic thread? This is interesting topic but im getting lost :(","body":"@erickson im still confused,, the <code>take()</code> method blocks until data is present in queue on server, so internally it uses two threas ?  the code that fetches data from server e.g <code>socket.take()</code> is blocking method, so the <code>take()</code> one htread running the logic, that sleeps seelps itself, and have another thread running that just use <code>socket.take()</code> and when the data arrives it wakes up the running logic thread? This is interesting topic but im getting lost :("},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1692829482,"post_id":76954165,"comment_id":135679015,"body_markdown":"@Johnyb Yes, in a way, that is correct. The running logic thread isn&#39;t &quot;sleeping,&quot; it is &quot;waiting,&quot; which is a little different. Consequently, the socket-reading thread doesn&#39;t &quot;wake&quot; the logic thread, it [&quot;notifies&quot;](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()) it. That makes the logic thread return from its call to [`wait()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait())  and continue running, now that the message from the server has arrived.","body":"@Johnyb Yes, in a way, that is correct. The running logic thread isn&#39;t &quot;sleeping,&quot; it is &quot;waiting,&quot; which is a little different. Consequently, the socket-reading thread doesn&#39;t &quot;wake&quot; the logic thread, it <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()\" rel=\"nofollow noreferrer\">&quot;notifies&quot;</a> it. That makes the logic thread return from its call to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()\" rel=\"nofollow noreferrer\"><code>wait()</code></a>  and continue running, now that the message from the server has arrived."},{"owner":{"account_id":7527198,"reputation":1109,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"score":0,"creation_date":1692877419,"post_id":76954165,"comment_id":135685161,"body_markdown":"@erickson thanks, is there any resource you would recommend to read ? book, course, blog or udemy course or something about implementation of such technologies? Seems like basic concurrency practice but its so hard to find resources for this ( i dont mean about conurrency but practical examples from MS and so on ).","body":"@erickson thanks, is there any resource you would recommend to read ? book, course, blog or udemy course or something about implementation of such technologies? Seems like basic concurrency practice but its so hard to find resources for this ( i dont mean about conurrency but practical examples from MS and so on )."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1692905872,"post_id":76954165,"comment_id":135691714,"body_markdown":"@Johnyb Recommendations for off-site resources is off-topic for StackOverflow, but I will say that *Concurrency in Practice* by Brian Goetz has a wealth of info about fundamentals and advance topics in Java concurrency.","body":"@Johnyb Recommendations for off-site resources is off-topic for StackOverflow, but I will say that <i>Concurrency in Practice</i> by Brian Goetz has a wealth of info about fundamentals and advance topics in Java concurrency."},{"owner":{"account_id":7527198,"reputation":1109,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"score":0,"creation_date":1692950055,"post_id":76954165,"comment_id":135696987,"body_markdown":"@erickson finished that book last weak, i was thinking maybe of more practical examples such as this queue and so on.","body":"@erickson finished that book last weak, i was thinking maybe of more practical examples such as this queue and so on."}],"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":11,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692713427,"creation_date":1692713427,"answer_id":76954165,"question_id":76954090,"body_markdown":"Some use proprietary protocols, others use one of several standards like [AMQP][1] or [MQTT.][2] The upshot is that a given client can only connect to a given message broker by careful design; you shouldn&#39;t assume that clients can be mixed and matched freely.\r\n\r\nThe variety of protocols is due in part to historical reason, as various vendors worked independently to build competing message-oriented middleware products. But today, there are still good reasons to support different protocols. For example, MQTT is lightweight and well-adapted to embedded devices, while AMQP is better suited to enterprise applications.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Advanced_Message_Queuing_Protocol\r\n  [2]: https://en.wikipedia.org/wiki/MQ_Telemetry_Transport","title":"What protocols do message queues use to communicate with clients?","body":"<p>Some use proprietary protocols, others use one of several standards like <a href=\"https://en.wikipedia.org/wiki/Advanced_Message_Queuing_Protocol\" rel=\"nofollow noreferrer\">AMQP</a> or <a href=\"https://en.wikipedia.org/wiki/MQ_Telemetry_Transport\" rel=\"nofollow noreferrer\">MQTT.</a> The upshot is that a given client can only connect to a given message broker by careful design; you shouldn't assume that clients can be mixed and matched freely.</p>\n<p>The variety of protocols is due in part to historical reason, as various vendors worked independently to build competing message-oriented middleware products. But today, there are still good reasons to support different protocols. For example, MQTT is lightweight and well-adapted to embedded devices, while AMQP is better suited to enterprise applications.</p>\n"}],"owner":{"account_id":7527198,"reputation":1109,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1692713427,"creation_date":1692712926,"question_id":76954090,"body_markdown":"I have worked with message queues but never wondered, what protocol do they use to communicate? Basicly all of them support blocking methods e.g\r\n\r\n\r\n    // sleeps the thread until any message is available\r\n    Object message = queueService.take()\r\n\r\nbut i never wondered how is this implemented client-server(MOM) wise.\r\n\r\nFrom what i read `RMI` is pretty much dead ( and not sure if it supports blocking methods) so what do modern day MQ use to communicate?\r\n\r\nIs there any book/tutorial/course for implementing own queue or just describe these stuff in detail?\r\n\r\nThanks for answers!","title":"What protocols do message queues use to communicate with clients?","body":"<p>I have worked with message queues but never wondered, what protocol do they use to communicate? Basicly all of them support blocking methods e.g</p>\n<pre><code>// sleeps the thread until any message is available\nObject message = queueService.take()\n</code></pre>\n<p>but i never wondered how is this implemented client-server(MOM) wise.</p>\n<p>From what i read <code>RMI</code> is pretty much dead ( and not sure if it supports blocking methods) so what do modern day MQ use to communicate?</p>\n<p>Is there any book/tutorial/course for implementing own queue or just describe these stuff in detail?</p>\n<p>Thanks for answers!</p>\n"},{"tags":["java","constructor"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1692663538,"post_id":76949243,"comment_id":135651660,"body_markdown":"No, interfaces cannot set instance variables that they don&#39;t know about. You&#39;ll have to set the instance variable in the *actual* child class, either through a provided setter, by calling an appropriate `super` constructor, or by making the field `protected`.","body":"No, interfaces cannot set instance variables that they don&#39;t know about. You&#39;ll have to set the instance variable in the <i>actual</i> child class, either through a provided setter, by calling an appropriate <code>super</code> constructor, or by making the field <code>protected</code>."},{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":0,"creation_date":1692663661,"post_id":76949243,"comment_id":135651676,"body_markdown":"Every non-abstract class will have its own constructor, so can have all the parameters necessary. So I think there&#39;s something in your question that&#39;s missing.","body":"Every non-abstract class will have its own constructor, so can have all the parameters necessary. So I think there&#39;s something in your question that&#39;s missing."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1692713421,"post_id":76949243,"comment_id":135659936,"body_markdown":"What exactly were you asked to do? Also, note that interfaces never have access to instance fields of the classes implementing them, since interfaces don&#39;t have (non-static) fields.","body":"What exactly were you asked to do? Also, note that interfaces never have access to instance fields of the classes implementing them, since interfaces don&#39;t have (non-static) fields."}],"owner":{"account_id":29262215,"reputation":23,"user_id":22418915,"display_name":"adrian quispe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692713034,"creation_date":1692660471,"question_id":76949243,"body_markdown":"i want to leave a declared attibute with its default value (no assignament in constructor or declaration) and then, in sub-classes, implement a interface that set the attibute using getter/setter of the main class, is that a correct method? (sorry for bad english)\r\n\r\n\r\nmore context of the problem:\r\ni have a class &quot;Product&quot; and sub-classes &quot;Packaged&quot; &quot;Cleaning&quot; &quot;Drinks&quot; (i know is weird hehe), and i need to use a interface &quot;Edible&quot; that must set/get calories and expiration date, since i don&#39;t know how to attach  those attibutes to the subclass i got that idea\r\n(i thought about using the Edible as direct subclass of Product but there are packaged items that are edible and not, so i don&#39;t know how to solve the inheritance problem. also i was asked to use edible as an interface)\r\nagain, sorry for bad english\r\n\r\nedit: all the mentioned classes are abstract classes\r\n","title":"can i assign value to an attribute outside the constructor?","body":"<p>i want to leave a declared attibute with its default value (no assignament in constructor or declaration) and then, in sub-classes, implement a interface that set the attibute using getter/setter of the main class, is that a correct method? (sorry for bad english)</p>\n<p>more context of the problem:\ni have a class &quot;Product&quot; and sub-classes &quot;Packaged&quot; &quot;Cleaning&quot; &quot;Drinks&quot; (i know is weird hehe), and i need to use a interface &quot;Edible&quot; that must set/get calories and expiration date, since i don't know how to attach  those attibutes to the subclass i got that idea\n(i thought about using the Edible as direct subclass of Product but there are packaged items that are edible and not, so i don't know how to solve the inheritance problem. also i was asked to use edible as an interface)\nagain, sorry for bad english</p>\n<p>edit: all the mentioned classes are abstract classes</p>\n"},{"tags":["java","git","intellij-idea","bitbucket"],"comments":[{"owner":{"account_id":3228322,"reputation":2343,"user_id":2724125,"accept_rate":80,"display_name":"Amit G"},"score":0,"creation_date":1524043421,"post_id":28142361,"comment_id":86807114,"body_markdown":"all see https://stackoverflow.com/questions/43543035/change-git-login-username-in-intellij-idea-rubymine-etc","body":"all see <a href=\"https://stackoverflow.com/questions/43543035/change-git-login-username-in-intellij-idea-rubymine-etc\" title=\"change git login username in intellij idea rubymine etc\">stackoverflow.com/questions/43543035/&hellip;</a>"},{"owner":{"account_id":387784,"reputation":25306,"user_id":746347,"accept_rate":67,"display_name":"mixel"},"score":0,"creation_date":1562834066,"post_id":28142361,"comment_id":100504719,"body_markdown":"To solve &quot;Auth fail&quot; error see https://stackoverflow.com/a/56984900/746347","body":"To solve &quot;Auth fail&quot; error see <a href=\"https://stackoverflow.com/a/56984900/746347\">stackoverflow.com/a/56984900/746347</a>"}],"answers":[{"comments":[{"owner":{"account_id":1000743,"reputation":1529,"user_id":1015642,"accept_rate":40,"display_name":"halxinate"},"score":0,"creation_date":1545586438,"post_id":32693642,"comment_id":94655994,"body_markdown":"Doesn&#39;t help. The setting is to Not remember passwords.","body":"Doesn&#39;t help. The setting is to Not remember passwords."},{"owner":{"account_id":272850,"reputation":131,"user_id":4609336,"display_name":"sy677"},"score":0,"creation_date":1550655620,"post_id":32693642,"comment_id":96344766,"body_markdown":"@halxinate Yes, the &quot;first step&quot; was to select the setting to Not remember passwords. If you read all 4 of the steps you&#39;ll see it gets switched back at the end. Besides this advice was for version 12, which is now 7 years out of date.","body":"@halxinate Yes, the &quot;first step&quot; was to select the setting to Not remember passwords. If you read all 4 of the steps you&#39;ll see it gets switched back at the end. Besides this advice was for version 12, which is now 7 years out of date."}],"tags":[],"owner":{"account_id":272850,"reputation":131,"user_id":4609336,"display_name":"sy677"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1442833571,"creation_date":1442833571,"answer_id":32693642,"question_id":28142361,"body_markdown":"This worked for me on Intellij 12:\r\n\r\nOpen settings -&gt; passwords, select &quot;Do not remember passwords&quot; and apply/ok.\r\n\r\nDo your VCS fetch/update/push/whatever and it should ask you for a password.\r\n\r\nCheck remember password and OK, it should do the VCS thing correctly.\r\n\r\nGo back to settings -&gt; passwords and switch it back to &quot;Remember on disk&quot;, then apply/ok.\r\n\r\n\r\n","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>This worked for me on Intellij 12:</p>\n\n<p>Open settings -> passwords, select \"Do not remember passwords\" and apply/ok.</p>\n\n<p>Do your VCS fetch/update/push/whatever and it should ask you for a password.</p>\n\n<p>Check remember password and OK, it should do the VCS thing correctly.</p>\n\n<p>Go back to settings -> passwords and switch it back to \"Remember on disk\", then apply/ok.</p>\n"},{"comments":[{"owner":{"account_id":5593004,"reputation":161,"user_id":4431541,"accept_rate":75,"display_name":"BMM"},"score":1,"creation_date":1510741425,"post_id":33216283,"comment_id":81560143,"body_markdown":"I am not able to see pawword in &#39;url&#39; property.Any other way?","body":"I am not able to see pawword in &#39;url&#39; property.Any other way?"},{"owner":{"account_id":482321,"reputation":9702,"user_id":896663,"accept_rate":84,"display_name":"MozenRath"},"score":0,"creation_date":1529472111,"post_id":33216283,"comment_id":88879190,"body_markdown":"it would be great if you could enter the proper steps to replace the password in the url.","body":"it would be great if you could enter the proper steps to replace the password in the url."},{"owner":{"account_id":6006557,"reputation":2094,"user_id":4718314,"accept_rate":77,"display_name":"Buddy"},"score":1,"creation_date":1546939543,"post_id":33216283,"comment_id":95009769,"body_markdown":"credentials url should be like `https://username:password@www.github.com/myrepo.git`","body":"credentials url should be like <code>https:&#47;&#47;username:password@www.github.com&#47;myrepo.git</code>"},{"owner":{"account_id":3596480,"reputation":161,"user_id":3001008,"accept_rate":30,"display_name":"Yasha"},"score":0,"creation_date":1561988581,"post_id":33216283,"comment_id":100226021,"body_markdown":"Can you please elaborate the steps. I cant see .git in my project directory.","body":"Can you please elaborate the steps. I cant see .git in my project directory."},{"owner":{"account_id":934272,"reputation":413,"user_id":963507,"display_name":"moleksyuk"},"score":0,"creation_date":1580729974,"post_id":33216283,"comment_id":106180731,"body_markdown":"@Yasha &#39;.git&#39; folder is hidden by default. Enable &quot;Show hidded files/folder&quot; in your viewer tool. (It also depends on OS as well).","body":"@Yasha &#39;.git&#39; folder is hidden by default. Enable &quot;Show hidded files/folder&quot; in your viewer tool. (It also depends on OS as well)."},{"owner":{"account_id":3326707,"reputation":400,"user_id":2796625,"display_name":"mDonmez"},"score":0,"creation_date":1665081377,"post_id":33216283,"comment_id":130622115,"body_markdown":"Not password, it is your Personal Access Token that must be changed in url.\ncredentials url should be like `https://username:your_personal_acces_token@github.com/username/myrepo.git`","body":"Not password, it is your Personal Access Token that must be changed in url. credentials url should be like <code>https:&#47;&#47;username:your_personal_acces_token@github.com&#47;userna&zwnj;&#8203;me&#47;myrepo.git</code>"}],"tags":[],"owner":{"account_id":934272,"reputation":413,"user_id":963507,"display_name":"moleksyuk"},"comment_count":6,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1445262788,"creation_date":1445262788,"answer_id":33216283,"question_id":28142361,"body_markdown":"1. Go to [project]/.git directory.\r\n2. Open for edit &#39;config&#39; file.\r\n3. In &#39;[remote &quot;origin&quot;]&#39; section find &#39;url&#39; property and replace your old password with new one.\r\n4. Press Ctrl+T in Intellij IDEA to update project.","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<ol>\n<li>Go to [project]/.git directory.</li>\n<li>Open for edit 'config' file.</li>\n<li>In '[remote \"origin\"]' section find 'url' property and replace your old password with new one.</li>\n<li>Press Ctrl+T in Intellij IDEA to update project.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2178584,"reputation":2186,"user_id":1928647,"accept_rate":100,"display_name":"Idan Magled"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461062398,"creation_date":1461062398,"answer_id":36715955,"question_id":28142361,"body_markdown":"I needed to change my user name and password in Intellij\r\nDid it by \r\n\r\n&gt; preferences -&gt; version control -&gt; GitHub\r\n\r\nThere you can change user name and password. \r\n ","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>I needed to change my user name and password in Intellij\nDid it by </p>\n\n<blockquote>\n  <p>preferences -> version control -> GitHub</p>\n</blockquote>\n\n<p>There you can change user name and password. </p>\n"},{"tags":[],"owner":{"account_id":8525378,"reputation":51,"user_id":6390986,"display_name":"C. Natesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1464356020,"creation_date":1464353331,"answer_id":37484006,"question_id":28142361,"body_markdown":"In Intellinj IDEA 14,  we can change the Git password by the following steps:\r\n\r\nFrom the menu bar :\r\n\r\n 1. Select File  -&gt;  Settings  -&gt;  Appearance &amp; Behavior  -&gt;  System Settings .\r\n\r\n 2. Choose Passwords.\r\n\r\n 3. Click the &#39;Master Password&#39; under &#39;Disk storage protection&#39;.\r\n\r\n 4. In the Password field, enter your `old password`. Enter your `new password` in the subsequent fields.\r\n\r\n 5. Now the master password will be changed.","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>In Intellinj IDEA 14,  we can change the Git password by the following steps:</p>\n\n<p>From the menu bar :</p>\n\n<ol>\n<li><p>Select File  ->  Settings  ->  Appearance &amp; Behavior  ->  System Settings .</p></li>\n<li><p>Choose Passwords.</p></li>\n<li><p>Click the 'Master Password' under 'Disk storage protection'.</p></li>\n<li><p>In the Password field, enter your <code>old password</code>. Enter your <code>new password</code> in the subsequent fields.</p></li>\n<li><p>Now the master password will be changed.</p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":9553438,"reputation":3539,"user_id":7096763,"display_name":"MikaelF"},"score":2,"creation_date":1515712945,"post_id":37959112,"comment_id":83416727,"body_markdown":"The menu has since been changed to Settings&gt;&gt;Appearance &amp; Behavior&gt;&gt;Passwords.","body":"The menu has since been changed to Settings&gt;&gt;Appearance &amp; Behavior&gt;&gt;Passwords."},{"owner":{"account_id":1000743,"reputation":1529,"user_id":1015642,"accept_rate":40,"display_name":"halxinate"},"score":3,"creation_date":1535957773,"post_id":37959112,"comment_id":91238795,"body_markdown":"Studio 3.1.4 Even with the option always OFF (don&#39;t store). It&#39;s still storing. So each time you miss the password you have to restart the Studio as it&#39;s consistently using that first password.","body":"Studio 3.1.4 Even with the option always OFF (don&#39;t store). It&#39;s still storing. So each time you miss the password you have to restart the Studio as it&#39;s consistently using that first password."},{"owner":{"account_id":194006,"reputation":693,"user_id":1296767,"display_name":"mwoodman"},"score":2,"creation_date":1549468906,"post_id":37959112,"comment_id":95915190,"body_markdown":"A year later: For Windows 10 and multiple IDEA 2017+ builds, this doesn&#39;t work because the credentials are stored by Windows, not the KeePass file.  See @Dush&#39;s [answer below](https://stackoverflow.com/a/50908824/1296767) for the fix.","body":"A year later: For Windows 10 and multiple IDEA 2017+ builds, this doesn&#39;t work because the credentials are stored by Windows, not the KeePass file.  See @Dush&#39;s <a href=\"https://stackoverflow.com/a/50908824/1296767\">answer below</a> for the fix."},{"owner":{"account_id":482321,"reputation":9702,"user_id":896663,"accept_rate":84,"display_name":"MozenRath"},"score":1,"creation_date":1549540369,"post_id":37959112,"comment_id":95943176,"body_markdown":"I have started using the SSH way, so dont have to deal with this... :)","body":"I have started using the SSH way, so dont have to deal with this... :)"},{"owner":{"account_id":4378370,"reputation":928,"user_id":3570764,"display_name":"Stephen"},"score":0,"creation_date":1587070502,"post_id":37959112,"comment_id":108372890,"body_markdown":"This solution did not work for me and may be out-of-date.  The solution by Ramesh below worked for me.  By deselecting &quot;Use credential helper&quot; I was able to performed a git operation like fetch where I was presented with a dialog to change my password.","body":"This solution did not work for me and may be out-of-date.  The solution by Ramesh below worked for me.  By deselecting &quot;Use credential helper&quot; I was able to performed a git operation like fetch where I was presented with a dialog to change my password."},{"owner":{"account_id":1230714,"reputation":2655,"user_id":1195383,"accept_rate":86,"display_name":"dragon66"},"score":0,"creation_date":1644198597,"post_id":37959112,"comment_id":125533888,"body_markdown":"Nothing works for me untill I changed the password from Windows credential manager","body":"Nothing works for me untill I changed the password from Windows credential manager"}],"tags":[],"owner":{"account_id":482321,"reputation":9702,"user_id":896663,"accept_rate":84,"display_name":"MozenRath"},"comment_count":6,"down_vote_count":0,"up_vote_count":238,"is_accepted":true,"score":238,"last_activity_date":1587576488,"creation_date":1466572703,"answer_id":37959112,"question_id":28142361,"body_markdown":"The easiest of all the above ways is to:\r\n\r\n 1. Go to Settings&gt;&gt;Appearance &amp; Behavior&gt;&gt;System Settings&gt;&gt;Passwords\r\n 2. Change the setting to not store passwords at all\r\n 3. Invalidate and restart IntelliJ\r\n 4. Go to Settings&gt;&gt;Version Control&gt;&gt;Git&gt;&gt;SSH executable: **Build-in**\r\n 5. Do a fetch/pull operation\r\n 6. Enter the password when prompted\r\n 7. Again go to Settings&gt;&gt;Appearance &amp; Behavior&gt;&gt;System Settings&gt;&gt;Passwords\r\n 8. This time select store passwords on disk(protected with master password)\r\n\r\nVoila!\r\n\r\nNote that this will not work if your password is in your URL itself. If that is the case then you need to follow the steps given by @moleksyuk [here][1]\r\n\r\nYou also choose to use the credentials helper option in IntelliJ to achieve similar functionality as suggested by Ramesh [here][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/33216283/896663\r\n  [2]: https://stackoverflow.com/a/59565351/896663","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>The easiest of all the above ways is to:</p>\n\n<ol>\n<li>Go to Settings>>Appearance &amp; Behavior>>System Settings>>Passwords</li>\n<li>Change the setting to not store passwords at all</li>\n<li>Invalidate and restart IntelliJ</li>\n<li>Go to Settings>>Version Control>>Git>>SSH executable: <strong>Build-in</strong></li>\n<li>Do a fetch/pull operation</li>\n<li>Enter the password when prompted</li>\n<li>Again go to Settings>>Appearance &amp; Behavior>>System Settings>>Passwords</li>\n<li>This time select store passwords on disk(protected with master password)</li>\n</ol>\n\n<p>Voila!</p>\n\n<p>Note that this will not work if your password is in your URL itself. If that is the case then you need to follow the steps given by @moleksyuk <a href=\"https://stackoverflow.com/a/33216283/896663\">here</a></p>\n\n<p>You also choose to use the credentials helper option in IntelliJ to achieve similar functionality as suggested by Ramesh <a href=\"https://stackoverflow.com/a/59565351/896663\">here</a></p>\n"},{"comments":[{"owner":{"account_id":1584845,"reputation":459,"user_id":1469449,"accept_rate":83,"display_name":"bel"},"score":0,"creation_date":1507799298,"post_id":40897478,"comment_id":80357917,"body_markdown":"It is very clear approach to change the GIT password in Keychain app, without dealing with IDEA password management.","body":"It is very clear approach to change the GIT password in Keychain app, without dealing with IDEA password management."}],"tags":[],"owner":{"account_id":9756229,"reputation":41,"user_id":7232869,"display_name":"w01ff"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1545388303,"creation_date":1480537379,"answer_id":40897478,"question_id":28142361,"body_markdown":"For Mac users this could also be helpful: \r\n\r\nCredentials are stored in **Keychain Access.app**.\r\nYou can just change them there. ","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>For Mac users this could also be helpful: </p>\n\n<p>Credentials are stored in <strong>Keychain Access.app</strong>.\nYou can just change them there. </p>\n"},{"tags":[],"owner":{"account_id":4219570,"reputation":84,"user_id":3454668,"accept_rate":83,"display_name":"Pankaj Chauhan"},"comment_count":0,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1490553454,"creation_date":1490553454,"answer_id":43032955,"question_id":28142361,"body_markdown":"IN Android Studio 2.3\r\n\r\n 1. Open Setting (CTRL+ALT+S)\r\n 2. Select Other Settings (at the end)\r\n 3. select Bitbucket\r\n\r\nHere you can change your new Password or User\r\n","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>IN Android Studio 2.3</p>\n\n<ol>\n<li>Open Setting (CTRL+ALT+S)</li>\n<li>Select Other Settings (at the end)</li>\n<li>select Bitbucket</li>\n</ol>\n\n<p>Here you can change your new Password or User</p>\n"},{"tags":[],"owner":{"account_id":7763963,"reputation":644,"user_id":5875734,"display_name":"M Singh Karnawat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491546346,"creation_date":1491546346,"answer_id":43271085,"question_id":28142361,"body_markdown":"For Mac User Please Go to As Below:\r\n\r\n(First of all you must have installed bitbucket plugin)\r\n\r\nAndroid Studio -&gt; Preference -&gt; Other Settings -&gt; Bitbucket\r\n\r\nNow change your password and click on Test for verify it. Will also able to add SSH Key for login.\r\n\r\nAlso its depend on which plugin you used. Some have direct like\r\n\r\nAndroid Studio -&gt; Preference -&gt; Bitbucket linky","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>For Mac User Please Go to As Below:</p>\n\n<p>(First of all you must have installed bitbucket plugin)</p>\n\n<p>Android Studio -> Preference -> Other Settings -> Bitbucket</p>\n\n<p>Now change your password and click on Test for verify it. Will also able to add SSH Key for login.</p>\n\n<p>Also its depend on which plugin you used. Some have direct like</p>\n\n<p>Android Studio -> Preference -> Bitbucket linky</p>\n"},{"comments":[{"owner":{"account_id":95106,"reputation":12577,"user_id":259237,"accept_rate":67,"display_name":"Andr&#233;"},"score":0,"creation_date":1536867357,"post_id":46473097,"comment_id":91588708,"body_markdown":"This worked for me, but I had to change in the same screen the path to Git executable.","body":"This worked for me, but I had to change in the same screen the path to Git executable."},{"owner":{"account_id":1851619,"reputation":12683,"user_id":1678053,"accept_rate":60,"display_name":"galdin"},"score":0,"creation_date":1536904360,"post_id":46473097,"comment_id":91598214,"body_markdown":"@Andr&#233; oh yes, looks like I din&#39;t mark it correctly. Since we don&#39;t want intellij to use the bundled git we&#39;ll have to tell it which one to use by specifying the path. For osx and linux it should be /usr/bin/git by default.","body":"@Andr&#233; oh yes, looks like I din&#39;t mark it correctly. Since we don&#39;t want intellij to use the bundled git we&#39;ll have to tell it which one to use by specifying the path. For osx and linux it should be /usr/bin/git by default."}],"tags":[],"owner":{"account_id":1851619,"reputation":12683,"user_id":1678053,"accept_rate":60,"display_name":"galdin"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1506612792,"creation_date":1506612792,"answer_id":46473097,"question_id":28142361,"body_markdown":"For the record, if you&#39;ve already configured Git on your terminal, there&#39;s an option in preferences to use native Git rather than the built-in (bundled) one.\r\n\r\n[![Screenshot][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/gBiMp.png","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>For the record, if you've already configured Git on your terminal, there's an option in preferences to use native Git rather than the built-in (bundled) one.</p>\n\n<p><a href=\"https://i.stack.imgur.com/gBiMp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gBiMp.png\" alt=\"Screenshot\"></a></p>\n"},{"comments":[{"owner":{"account_id":376199,"reputation":7329,"user_id":727495,"accept_rate":87,"display_name":"vkrams"},"score":0,"creation_date":1573533223,"post_id":46609811,"comment_id":103902907,"body_markdown":"In the latest version of intellij we have an option set master password","body":"In the latest version of intellij we have an option set master password"},{"owner":{"account_id":3009250,"reputation":111,"user_id":2553098,"display_name":"consultantleon"},"score":0,"creation_date":1598536478,"post_id":46609811,"comment_id":112495984,"body_markdown":"this worked for me, IJ on windows and recently my domain password has changed and I tried to execute a git command from the IJ terminal and got the &#39;fatal: Authentication failed for ...&#39; error. After clearing the passwords this way from IJ settings, IJ prompted me for a fresh password.","body":"this worked for me, IJ on windows and recently my domain password has changed and I tried to execute a git command from the IJ terminal and got the &#39;fatal: Authentication failed for ...&#39; error. After clearing the passwords this way from IJ settings, IJ prompted me for a fresh password."}],"tags":[],"owner":{"account_id":2011847,"reputation":873,"user_id":1800097,"accept_rate":73,"display_name":"borovsky"},"comment_count":2,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1507306064,"creation_date":1507306064,"answer_id":46609811,"question_id":28142361,"body_markdown":"There is an option to clear passwords\r\n\r\n[![There is an option to clear passwords][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Z4huw.png","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>There is an option to clear passwords</p>\n\n<p><a href=\"https://i.stack.imgur.com/Z4huw.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Z4huw.png\" alt=\"There is an option to clear passwords\"></a></p>\n"},{"tags":[],"owner":{"account_id":1579248,"reputation":2749,"user_id":1464963,"display_name":"oneklc"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1509038402,"creation_date":1509038402,"answer_id":46960257,"question_id":28142361,"body_markdown":"**Linux users** (tested on **ubuntu** 14.04)\r\n\r\nby default (on linux and mac) pycharm uses the OS&#39;s password manager. \r\nTo access the passwords on ubuntu open the program &quot;Passwords and Keys&quot;.\r\n\r\n[![icon for password manager][2]][2]\r\n\r\n\r\nOnce open filter on &quot;idea&quot; and edit the relevant passwords. \r\n\r\n[![pict of password editor dialog box][1]][1]\r\n\r\nNo need to restart pycharm for me.  \r\nUsing pycharm 17.2\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CnnlN.png\r\n  [2]: https://i.stack.imgur.com/tilUA.png","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p><strong>Linux users</strong> (tested on <strong>ubuntu</strong> 14.04)</p>\n\n<p>by default (on linux and mac) pycharm uses the OS's password manager. \nTo access the passwords on ubuntu open the program \"Passwords and Keys\".</p>\n\n<p><a href=\"https://i.stack.imgur.com/tilUA.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tilUA.png\" alt=\"icon for password manager\"></a></p>\n\n<p>Once open filter on \"idea\" and edit the relevant passwords. </p>\n\n<p><a href=\"https://i.stack.imgur.com/CnnlN.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/CnnlN.png\" alt=\"pict of password editor dialog box\"></a></p>\n\n<p>No need to restart pycharm for me.<br>\nUsing pycharm 17.2</p>\n"},{"tags":[],"owner":{"account_id":2674955,"reputation":10194,"user_id":2311557,"accept_rate":61,"display_name":"codepleb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517574338,"creation_date":1517574338,"answer_id":48582658,"question_id":28142361,"body_markdown":"In my case, I got a CAPTCHA error. If you get that, first logout/login to Bitbucket, Github, .... on the website and enter the required captcha.\r\n\r\nAfter that, try again from intellij and it should prompt for another password.","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>In my case, I got a CAPTCHA error. If you get that, first logout/login to Bitbucket, Github, .... on the website and enter the required captcha.</p>\n\n<p>After that, try again from intellij and it should prompt for another password.</p>\n"},{"comments":[{"owner":{"account_id":7100341,"reputation":63,"user_id":5435530,"display_name":"Pamasich"},"score":7,"creation_date":1546936161,"post_id":50908824,"comment_id":95008111,"body_markdown":"Thanks! This finally worked for me. Why can&#39;t Intellij just prompt for the password on failure, like Eclipse does...","body":"Thanks! This finally worked for me. Why can&#39;t Intellij just prompt for the password on failure, like Eclipse does..."},{"owner":{"account_id":3236725,"reputation":2084,"user_id":2730742,"accept_rate":27,"display_name":"krm"},"score":0,"creation_date":1562255185,"post_id":50908824,"comment_id":100329136,"body_markdown":"This solved my problem immediately. In my case it was under &quot;Manage Windows Credentials&quot; (Windows 10, Control Panel-&gt;User Accounts -&gt; &quot;Manage Windows Credentials&quot;) and then I changed the passwords for entries beginning with &quot;git:&quot;. I even didn&#39;t have to restart anything.","body":"This solved my problem immediately. In my case it was under &quot;Manage Windows Credentials&quot; (Windows 10, Control Panel-&gt;User Accounts -&gt; &quot;Manage Windows Credentials&quot;) and then I changed the passwords for entries beginning with &quot;git:&quot;. I even didn&#39;t have to restart anything."},{"owner":{"account_id":2174203,"reputation":1767,"user_id":1925327,"display_name":"moritz.vieli"},"score":1,"creation_date":1631601901,"post_id":50908824,"comment_id":122259046,"body_markdown":"&quot;Windows Credentials&quot; is called &quot;Anmeldeinformationsverwaltung&quot; in German Windows.","body":"&quot;Windows Credentials&quot; is called &quot;Anmeldeinformationsverwaltung&quot; in German Windows."}],"tags":[],"owner":{"account_id":12929719,"reputation":2931,"user_id":9349129,"display_name":"Dushmantha"},"comment_count":3,"down_vote_count":0,"up_vote_count":177,"is_accepted":false,"score":177,"last_activity_date":1529322406,"creation_date":1529322406,"answer_id":50908824,"question_id":28142361,"body_markdown":"After trying several answers, I was finally able to solve this issue (on window 10),\r\n \r\n    &gt;git fetch\r\n    remote: HTTP Basic: Access denied\r\n    fatal: Authentication failed for &#39;http://gitlab.abc.net/V4/VH.git/&#39;\r\n\r\nBy updating the password stored in Git Credential Manger for Windows(GCM),\r\n\r\n    Control Panel-&gt;User Accounts -&gt; Windows Credentials","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>After trying several answers, I was finally able to solve this issue (on window 10),</p>\n\n<pre><code>&gt;git fetch\nremote: HTTP Basic: Access denied\nfatal: Authentication failed for 'http://gitlab.abc.net/V4/VH.git/'\n</code></pre>\n\n<p>By updating the password stored in Git Credential Manger for Windows(GCM),</p>\n\n<pre><code>Control Panel-&gt;User Accounts -&gt; Windows Credentials\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2063259,"reputation":12403,"user_id":1839360,"display_name":"Yan Khonski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536253977,"creation_date":1536253977,"answer_id":52209164,"question_id":28142361,"body_markdown":"This is how I solved it on Windows. I have git installed separately, and Idea just picks git&#39;s options automatically (Default Idea config, as I would get from clean installer).\r\n\r\nOpen the project in the command line. Make some changes there. And commit and push files via git which is installed on my machine. During push it will open a windows asking me to enter username and password. After that, when I make a commit-push from idea, it will simply work.","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>This is how I solved it on Windows. I have git installed separately, and Idea just picks git's options automatically (Default Idea config, as I would get from clean installer).</p>\n\n<p>Open the project in the command line. Make some changes there. And commit and push files via git which is installed on my machine. During push it will open a windows asking me to enter username and password. After that, when I make a commit-push from idea, it will simply work.</p>\n"},{"comments":[{"owner":{"account_id":3907761,"reputation":249,"user_id":3233992,"display_name":"Gordon Ma"},"score":1,"creation_date":1556050064,"post_id":54920140,"comment_id":98303687,"body_markdown":"This works for me. I&#39;m using ssh key to talk with GitLab, so no password required.","body":"This works for me. I&#39;m using ssh key to talk with GitLab, so no password required."}],"tags":[],"owner":{"account_id":7494509,"reputation":143,"user_id":5695225,"display_name":"N. Chebotarev"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1551337505,"creation_date":1551337505,"answer_id":54920140,"question_id":28142361,"body_markdown":"Go to VCS&gt;Git&gt;Remotes then remove your remote url from the list and add again. Git will ask for a password after next git operation (push, pull, etc). \r\nNOTE: Don&#39;t forget to specify username in url or you will get auth error.","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>Go to VCS>Git>Remotes then remove your remote url from the list and add again. Git will ask for a password after next git operation (push, pull, etc). \nNOTE: Don't forget to specify username in url or you will get auth error.</p>\n"},{"tags":[],"owner":{"account_id":6168464,"reputation":3362,"user_id":4807532,"display_name":"Alp Altunel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625949828,"creation_date":1559250492,"answer_id":56385664,"question_id":28142361,"body_markdown":"For MACOS users\r\n\r\nif you see credentials failed but you are sure that is is working previously then:\r\n\r\nprobably you made a software update to the system. System uses git bundled with xcode. its better to open Xcode and click install extra components on startup of xcode. it will say installing components. when you accept the license agreement if will start working again.\r\n\r\nin short:\r\n\r\nopen Xcode, install additional components. accept user licence agreement.\r\n\r\non Xcode updates this step should be repeated.","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>For MACOS users</p>\n<p>if you see credentials failed but you are sure that is is working previously then:</p>\n<p>probably you made a software update to the system. System uses git bundled with xcode. its better to open Xcode and click install extra components on startup of xcode. it will say installing components. when you accept the license agreement if will start working again.</p>\n<p>in short:</p>\n<p>open Xcode, install additional components. accept user licence agreement.</p>\n<p>on Xcode updates this step should be repeated.</p>\n"},{"tags":[],"owner":{"account_id":5000359,"reputation":1093,"user_id":4019585,"accept_rate":75,"display_name":"Akash Raghav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560852899,"creation_date":1560852899,"answer_id":56646811,"question_id":28142361,"body_markdown":"None of above worked for me. Using Android Studio 3.5 Beta 4. \r\nI even selected &quot;do not save, forget passwords after restart&quot; in file&gt;settings&gt;appearance &amp; behavior&gt;System settings&gt;password\r\n\r\nSo What I did. \r\n\r\nVCS&gt;git&gt;remotes\r\n\r\n- remove the repo and add again.\r\n- will ask for credentials.\r\n- then try git fetch in terminal. \r\n- Will prompt for password.\r\n- Issue fixed. :D","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>None of above worked for me. Using Android Studio 3.5 Beta 4. \nI even selected \"do not save, forget passwords after restart\" in file>settings>appearance &amp; behavior>System settings>password</p>\n\n<p>So What I did. </p>\n\n<p>VCS>git>remotes</p>\n\n<ul>\n<li>remove the repo and add again.</li>\n<li>will ask for credentials.</li>\n<li>then try git fetch in terminal. </li>\n<li>Will prompt for password.</li>\n<li>Issue fixed. :D</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":14569472,"reputation":518,"user_id":10523177,"display_name":"seebi"},"score":0,"creation_date":1608217383,"post_id":59565351,"comment_id":115520478,"body_markdown":"haha Checking this Use credential helper, solved the problem of Goland hanging at `go list` and all other go cmds. :) So try it but beware!","body":"haha Checking this Use credential helper, solved the problem of Goland hanging at <code>go list</code> and all other go cmds. :) So try it but beware!"},{"owner":{"account_id":7796848,"reputation":198,"user_id":5897631,"display_name":"Harsh Raj"},"score":0,"creation_date":1617743284,"post_id":59565351,"comment_id":118389991,"body_markdown":"This solution worked in those cases also where you add access token instead of ID and Pasword. Tested on 2021 versions of Intellij Idea and RubyMine.","body":"This solution worked in those cases also where you add access token instead of ID and Pasword. Tested on 2021 versions of Intellij Idea and RubyMine."}],"tags":[],"owner":{"account_id":9830287,"reputation":691,"user_id":7282061,"display_name":"Ramesh"},"comment_count":2,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1577976756,"creation_date":1577976756,"answer_id":59565351,"question_id":28142361,"body_markdown":"Doing the following steps helped in my case:\r\n\r\n1) open Settings\r\n2) go to Git and Uncheck &quot;Use credential helper&quot; checkbox\r\n3) Do git pull\r\n4) Enter password in the pop up dialog\r\n\r\nGit operations will now work fine in IntelliJ[![enter image description here][1]][1]!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cyGBG.png","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>Doing the following steps helped in my case:</p>\n\n<p>1) open Settings\n2) go to Git and Uncheck \"Use credential helper\" checkbox\n3) Do git pull\n4) Enter password in the pop up dialog</p>\n\n<p>Git operations will now work fine in IntelliJ<a href=\"https://i.stack.imgur.com/cyGBG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/cyGBG.png\" alt=\"enter image description here\"></a>!</p>\n"},{"tags":[],"owner":{"account_id":141892,"reputation":4532,"user_id":2275962,"display_name":"Taner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581494199,"creation_date":1581494199,"answer_id":60183560,"question_id":28142361,"body_markdown":"You can change your password from settings screen (Ctrl + Alt + S by default) as attached screenshot. \r\nAfter clearing, on the firts remote operation (like pull/push, etc.) it&#39;ll ask you your credentials)\r\n\r\n**IMPORTANT:** Take a copy of the file before this operation.\r\n\r\n[![Settings Screen][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3NZJN.png","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>You can change your password from settings screen (Ctrl + Alt + S by default) as attached screenshot. \nAfter clearing, on the firts remote operation (like pull/push, etc.) it'll ask you your credentials)</p>\n\n<p><strong>IMPORTANT:</strong> Take a copy of the file before this operation.</p>\n\n<p><a href=\"https://i.stack.imgur.com/3NZJN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3NZJN.png\" alt=\"Settings Screen\"></a></p>\n"},{"tags":[],"owner":{"account_id":11046149,"reputation":1213,"user_id":8112182,"display_name":"HongSec Park"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599103265,"creation_date":1599103265,"answer_id":63716304,"question_id":28142361,"body_markdown":"git credential-manager  clear\r\nTarget Url:\r\nhttps://bitbucketxxxxxxxxxxxxxxxx.git\r\n","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>git credential-manager  clear\nTarget Url:\n<a href=\"https://bitbucketxxxxxxxxxxxxxxxx.git\" rel=\"nofollow noreferrer\">https://bitbucketxxxxxxxxxxxxxxxx.git</a></p>\n"},{"tags":[],"owner":{"account_id":9662903,"reputation":81,"user_id":7170322,"display_name":"Abhijith"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1603872621,"creation_date":1603872621,"answer_id":64568767,"question_id":28142361,"body_markdown":"The following approach worked for me:\r\n\r\nCreate a new personal access token in GitHub and configure the connection in IntelliJ as per link: https://www.jetbrains.com/help/idea/github.html\r\n\r\nThen, on IntelliJ, Settings-Version Control-Git screen, unclick the &quot;Use credential helper&quot; option.\r\n\r\n[![IntelliJ Git Settings][1]][1]\r\n\r\nThen do an restart with cache invalidation (File - Invalidate Caches / Restart - Invalidate and Restart)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ocX0t.png","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>The following approach worked for me:</p>\n<p>Create a new personal access token in GitHub and configure the connection in IntelliJ as per link: <a href=\"https://www.jetbrains.com/help/idea/github.html\" rel=\"noreferrer\">https://www.jetbrains.com/help/idea/github.html</a></p>\n<p>Then, on IntelliJ, Settings-Version Control-Git screen, unclick the &quot;Use credential helper&quot; option.</p>\n<p><a href=\"https://i.stack.imgur.com/ocX0t.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ocX0t.png\" alt=\"IntelliJ Git Settings\" /></a></p>\n<p>Then do an restart with cache invalidation (File - Invalidate Caches / Restart - Invalidate and Restart)</p>\n"},{"tags":[],"owner":{"account_id":3910972,"reputation":129,"user_id":3236321,"display_name":"mjassani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607940906,"creation_date":1607940906,"answer_id":65287182,"question_id":28142361,"body_markdown":"On Windows, just remove the remote repository (Git -&gt; manage remotes ...) and add it again. you will be prompted to enter username and the new password. ","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>On Windows, just remove the remote repository (Git -&gt; manage remotes ...) and add it again. you will be prompted to enter username and the new password.</p>\n"},{"tags":[],"owner":{"account_id":5991999,"reputation":723,"user_id":5478948,"display_name":"java.nazif"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1617185305,"creation_date":1617185305,"answer_id":66885671,"question_id":28142361,"body_markdown":"The steps resolved issue for me in Windows\r\n\r\n1. Go to Control Panel\r\n\r\n2. Search for &quot;Credentials&quot;\r\n\r\n3. Select Windows Credentials\r\n\r\n4. Select github credentials from the list\r\n\r\n5. Select edit and update your password then restart Intellij","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>The steps resolved issue for me in Windows</p>\n<ol>\n<li><p>Go to Control Panel</p>\n</li>\n<li><p>Search for &quot;Credentials&quot;</p>\n</li>\n<li><p>Select Windows Credentials</p>\n</li>\n<li><p>Select github credentials from the list</p>\n</li>\n<li><p>Select edit and update your password then restart Intellij</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19012011,"reputation":83,"user_id":13877761,"display_name":"Janith Priyankara"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631888054,"creation_date":1631888054,"answer_id":69224897,"question_id":28142361,"body_markdown":"In my case I have cloned a project from **GitLab** to develop it. I did couple of commits too. But suddenly I had to change the access token to download another project. After that I couldn&#39;t do anything related to git in **CLION**. So what [moleksyuk][1]  has said is true.\r\n\r\n&gt;close IDE &gt; go to your local repo &gt; go to .git directory (show if it is hidden already) &gt; open the config file with a editor &gt; In there,\r\n\r\n[remote &quot;origin&quot;]\r\nurl = https://{yourname:access_token}@gitlab.yourorganization.com/1stdir/2nddir/your_project.git\r\n\r\nfetch = +refs/heads/*:refs/remotes/origin/*\r\n\r\nYou have to replace existing name and access token with the new ones.\r\n\r\nlooks like this(https://Janith:aBhsii6Usdjbsj@gitlab.yourorganization.com/1stdir/2nddir/your_project.git)\r\n\r\n&gt; save &gt; open IDE and do the git action.\r\n\r\n[1]: https://stackoverflow.com/a/33216283/13877761","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>In my case I have cloned a project from <strong>GitLab</strong> to develop it. I did couple of commits too. But suddenly I had to change the access token to download another project. After that I couldn't do anything related to git in <strong>CLION</strong>. So what <a href=\"https://stackoverflow.com/a/33216283/13877761\">moleksyuk</a>  has said is true.</p>\n<blockquote>\n<p>close IDE &gt; go to your local repo &gt; go to .git directory (show if it is hidden already) &gt; open the config file with a editor &gt; In there,</p>\n</blockquote>\n<p>[remote &quot;origin&quot;]\nurl = https://{yourname:access_token}@gitlab.yourorganization.com/1stdir/2nddir/your_project.git</p>\n<p>fetch = +refs/heads/<em>:refs/remotes/origin/</em></p>\n<p>You have to replace existing name and access token with the new ones.</p>\n<p>looks like this(https://Janith:aBhsii6Usdjbsj@gitlab.yourorganization.com/1stdir/2nddir/your_project.git)</p>\n<blockquote>\n<p>save &gt; open IDE and do the git action.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2657838,"reputation":1407,"user_id":2298162,"display_name":"ognjenkl"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637969962,"creation_date":1637969962,"answer_id":70130992,"question_id":28142361,"body_markdown":"On Windows 10 go to:\r\n\r\n    Control Panel\\User Accounts\\Credential Manager\r\n\r\nUnder Generic Credentials find your repository URL, use Edit to change your password.\r\n\r\nAfter these steps, a pull should work correctly.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GetyA.png","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>On Windows 10 go to:</p>\n<pre><code>Control Panel\\User Accounts\\Credential Manager\n</code></pre>\n<p>Under Generic Credentials find your repository URL, use Edit to change your password.</p>\n<p>After these steps, a pull should work correctly.</p>\n<p><a href=\"https://i.stack.imgur.com/GetyA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GetyA.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":8964761,"reputation":2289,"user_id":6685903,"display_name":"Ritu Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640103262,"creation_date":1640103262,"answer_id":70438418,"question_id":28142361,"body_markdown":"Steps to change git remote username/password\r\n\r\n - Go to Control Panel\r\n - Search for Credential Manager\r\n - Click on Windows Credentials\r\n - In Generic Credential section ,there would be git url, update username and password","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>Steps to change git remote username/password</p>\n<ul>\n<li>Go to Control Panel</li>\n<li>Search for Credential Manager</li>\n<li>Click on Windows Credentials</li>\n<li>In Generic Credential section ,there would be git url, update username and password</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2095815,"reputation":1095,"user_id":1864614,"display_name":"razvang"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651765108,"creation_date":1651765108,"answer_id":72129927,"question_id":28142361,"body_markdown":"Recently Bitbucket has stopped supporting user/pass git https integration.\r\nSo I could no longer pull/fetch.\r\n\r\nTurns out that it wasn&#39;t necessary to change the GIT Username or &quot;authentication scheme&quot;(from UserCredentials to Token).\r\n\r\nAll I had to is:\r\n\r\n- Please grab an app password (or generate on via Bitbucket Web UI), and use it to authenticate.\r\n- Use your **Bitbucket username** as a login, and **app password** as a password.\r\n\r\nhttps://intellij-support.jetbrains.com/hc/en-us/community/posts/360003444939/comments/360000461679","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>Recently Bitbucket has stopped supporting user/pass git https integration.\nSo I could no longer pull/fetch.</p>\n<p>Turns out that it wasn't necessary to change the GIT Username or &quot;authentication scheme&quot;(from UserCredentials to Token).</p>\n<p>All I had to is:</p>\n<ul>\n<li>Please grab an app password (or generate on via Bitbucket Web UI), and use it to authenticate.</li>\n<li>Use your <strong>Bitbucket username</strong> as a login, and <strong>app password</strong> as a password.</li>\n</ul>\n<p><a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360003444939/comments/360000461679\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/community/posts/360003444939/comments/360000461679</a></p>\n"},{"tags":[],"owner":{"account_id":20076447,"reputation":127,"user_id":14720089,"display_name":"Michael Goppelt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659595647,"creation_date":1659595647,"answer_id":73231423,"question_id":28142361,"body_markdown":"I had to remove it from the git credential manager. \r\nAfter executing\r\n\r\n    git config --global --unset credential.helper\r\n\r\nthe password prompt came back @ IntelliJ 2022.2","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>I had to remove it from the git credential manager.\nAfter executing</p>\n<pre><code>git config --global --unset credential.helper\n</code></pre>\n<p>the password prompt came back @ IntelliJ 2022.2</p>\n"},{"tags":[],"owner":{"account_id":6347321,"reputation":89,"user_id":4927433,"display_name":"M R Javeed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692712947,"creation_date":1692712947,"answer_id":76954097,"question_id":28142361,"body_markdown":"\r\n 1. Close all instances of IntelliJ  \r\n 2. Start a new session of intelliJ\r\n 3. Enter &quot;git pull&quot; command in intelliJ terminal and it prompts for userId/password.\r\n\r\n \r\n\r\nJaveed.mca@gmail.com","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<ol>\n<li>Close all instances of IntelliJ</li>\n<li>Start a new session of intelliJ</li>\n<li>Enter &quot;git pull&quot; command in intelliJ terminal and it prompts for userId/password.</li>\n</ol>\n<p>Javeed.mca@gmail.com</p>\n"}],"owner":{"account_id":4835682,"reputation":3612,"user_id":3902473,"accept_rate":48,"display_name":"Momo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":319818,"favorite_count":0,"down_vote_count":0,"up_vote_count":187,"accepted_answer_id":37959112,"answer_count":29,"score":187,"last_activity_date":1692712947,"creation_date":1422225096,"question_id":28142361,"body_markdown":"I recently changed my Bitbucket password for security reasons. However, IntelliJ didn&#39;t update my repository to the new credentials, so it stops me from pulling/pushing anything to my repository. I am not using any plugins for this, just the integrated VCS operations inside the IDE.\r\n\r\nEvery time I pull/push, this pops out:\r\n\r\n&gt; fatal: Authentication failed for     &#39;https://momothereal:xxxxxxxxxxxx@bitbucket.org/team/repo.git/\r\n\r\nWhere **xxxxxxxxxxxx** is my old password. I think changing this remote address with the correct password would fix it, though I cannot find where to do so.","title":"Change remote repository credentials (authentication) on Intellij IDEA 14","body":"<p>I recently changed my Bitbucket password for security reasons. However, IntelliJ didn't update my repository to the new credentials, so it stops me from pulling/pushing anything to my repository. I am not using any plugins for this, just the integrated VCS operations inside the IDE.</p>\n\n<p>Every time I pull/push, this pops out:</p>\n\n<blockquote>\n  <p>fatal: Authentication failed for     '<a href=\"https://momothereal:xxxxxxxxxxxx@bitbucket.org/team/repo.git/\">https://momothereal:xxxxxxxxxxxx@bitbucket.org/team/repo.git/</a></p>\n</blockquote>\n\n<p>Where <strong>xxxxxxxxxxxx</strong> is my old password. I think changing this remote address with the correct password would fix it, though I cannot find where to do so.</p>\n"},{"tags":["java","intellij-idea","ant","breakpoints","bytecode"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1524223798,"post_id":49934284,"comment_id":86896911,"body_markdown":"Have you tried to clean/rebuild your project after adding debug options?","body":"Have you tried to clean/rebuild your project after adding debug options?"},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1524223843,"post_id":49934284,"comment_id":86896944,"body_markdown":"Yes, I went way beyond this, even doing invalidate caches in IntelliJ, cleaning, restarting.  I gave up...I spent the afternoon porting it to a Maven project, which now runs with breakpoints :-)","body":"Yes, I went way beyond this, even doing invalidate caches in IntelliJ, cleaning, restarting.  I gave up...I spent the afternoon porting it to a Maven project, which now runs with breakpoints :-)"},{"owner":{"account_id":3114066,"reputation":796,"user_id":2635251,"accept_rate":17,"display_name":"learner"},"score":0,"creation_date":1594006458,"post_id":49934284,"comment_id":110964891,"body_markdown":"I am highlighting the attributes which were missing in my case. It is easy to overlook. After adding the debug and debuglevel in compile target, the issue was resolved. Thank you.","body":"I am highlighting the attributes which were missing in my case. It is easy to overlook. After adding the debug and debuglevel in compile target, the issue was resolved. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":2311967,"reputation":41,"user_id":2029905,"display_name":"user2029905"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1692712796,"creation_date":1556041725,"answer_id":55816798,"question_id":49934284,"body_markdown":"the same thing happened to me and it was because I had &quot;shrinkResources true&quot; and &quot;minifyEnabled true&quot; in Gradle App\r\n\r\n\r\n    buildTypes {\r\n            debug {\r\n                shrinkResources false\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }","title":"Line number info not available error while debugging Ant project in IntelliJ","body":"<p>the same thing happened to me and it was because I had &quot;shrinkResources true&quot; and &quot;minifyEnabled true&quot; in Gradle App</p>\n<pre><code>buildTypes {\n        debug {\n            shrinkResources false\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n</code></pre>\n"}],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5063,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1692712796,"creation_date":1524200312,"question_id":49934284,"body_markdown":"I am working with a fairly old Java Ant project, which I have imported into IntelliJ, it previously having been developed using Eclipse.  The project consists of a small number of servlets.  I am trying to debug from IntelliJ.  IntelliJ can connect to remote Tomcat on port 8000, but when I try to add a breakpoint I get the following dreaded error:\r\n\r\n&gt; Line numbers info is not available in class com.package.blah.SomeClass\r\n\r\nFollowing advice on SO and elsewhere, I modified my Ant build script to the following:\r\n\r\n    &lt;target name=&quot;compile&quot; depends=&quot;web-skeleton&quot;&gt;\r\n        &lt;ant dir=&quot;${deployment-wizard.dir}&quot; target=&quot;uberjar&quot;/&gt;\r\n        &lt;javac debug=&quot;true&quot; debuglevel=&quot;lines,vars,source&quot; srcdir=&quot;${src.dir}&quot;\r\n            destdir=&quot;${build.dir}/WEB-INF/classes&quot; classpathref=&quot;project.class.path&quot;/&gt;\r\n    &lt;/target&gt;\r\n\r\nI added the `debug` and `debuglevel` lines to the above target which calls `javac`.  Also, I have tried running `javap -v SomeClass.class`, where I see things like the following:\r\n\r\n      line 94: 418\r\n      line 97: 433\r\n      line 98: 443\r\n    LocalVariableTable:\r\n      Start  Length  Slot  Name   Signature\r\n        343      22    13 decrypted   Ljava/lang/String;\r\n        370      11    13     e   Ljava/lang/Exception;\r\n        244     189     7 keyParam   Ljava/lang/String;\r\n        255     178     8 userParam   Ljava/lang/String;\r\n        266     167     9 environmentParam   Ljava/lang/String;\r\n\r\nI don&#39;t know if this means that the bytecode contains line numbers, but it certainly appears this way.\r\n\r\nI have also tried cleaning and rebuilding from scratch and doing an invalidate caches/restart from IntelliJ.\r\n\r\nI hope that someone can offer some help here.  As a last resort, I can try porting it to a Maven project, but I would prefer to avoid this unless absolutely necessary.","title":"Line number info not available error while debugging Ant project in IntelliJ","body":"<p>I am working with a fairly old Java Ant project, which I have imported into IntelliJ, it previously having been developed using Eclipse.  The project consists of a small number of servlets.  I am trying to debug from IntelliJ.  IntelliJ can connect to remote Tomcat on port 8000, but when I try to add a breakpoint I get the following dreaded error:</p>\n\n<blockquote>\n  <p>Line numbers info is not available in class com.package.blah.SomeClass</p>\n</blockquote>\n\n<p>Following advice on SO and elsewhere, I modified my Ant build script to the following:</p>\n\n<pre><code>&lt;target name=\"compile\" depends=\"web-skeleton\"&gt;\n    &lt;ant dir=\"${deployment-wizard.dir}\" target=\"uberjar\"/&gt;\n    &lt;javac debug=\"true\" debuglevel=\"lines,vars,source\" srcdir=\"${src.dir}\"\n        destdir=\"${build.dir}/WEB-INF/classes\" classpathref=\"project.class.path\"/&gt;\n&lt;/target&gt;\n</code></pre>\n\n<p>I added the <code>debug</code> and <code>debuglevel</code> lines to the above target which calls <code>javac</code>.  Also, I have tried running <code>javap -v SomeClass.class</code>, where I see things like the following:</p>\n\n<pre><code>  line 94: 418\n  line 97: 433\n  line 98: 443\nLocalVariableTable:\n  Start  Length  Slot  Name   Signature\n    343      22    13 decrypted   Ljava/lang/String;\n    370      11    13     e   Ljava/lang/Exception;\n    244     189     7 keyParam   Ljava/lang/String;\n    255     178     8 userParam   Ljava/lang/String;\n    266     167     9 environmentParam   Ljava/lang/String;\n</code></pre>\n\n<p>I don't know if this means that the bytecode contains line numbers, but it certainly appears this way.</p>\n\n<p>I have also tried cleaning and rebuilding from scratch and doing an invalidate caches/restart from IntelliJ.</p>\n\n<p>I hope that someone can offer some help here.  As a last resort, I can try porting it to a Maven project, but I would prefer to avoid this unless absolutely necessary.</p>\n"},{"tags":["java","multithreading","spring-batch","executorservice"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1693307384,"post_id":76954002,"comment_id":135740389,"body_markdown":"The requirement is not clear to me. Why do you need different job launchers? Can you explain what you are trying to achieve without referring to spring batch?","body":"The requirement is not clear to me. Why do you need different job launchers? Can you explain what you are trying to achieve without referring to spring batch?"},{"owner":{"account_id":29274876,"reputation":1,"user_id":22428825,"display_name":"Aleksandr Litvinenko"},"score":0,"creation_date":1693487737,"post_id":76954002,"comment_id":135769754,"body_markdown":"@MahmoudBenHassine, I will try to explain in very simple words, I have two services. Calling which should queue up for execution. The first service runs pretty fast and many execution threads can be used for it, the second service runs for a long time and requires a lot of memory, so I run it in one thread. I thought spring batch would be great for creating a processing queue with synchronization through a database.","body":"@MahmoudBenHassine, I will try to explain in very simple words, I have two services. Calling which should queue up for execution. The first service runs pretty fast and many execution threads can be used for it, the second service runs for a long time and requires a lot of memory, so I run it in one thread. I thought spring batch would be great for creating a processing queue with synchronization through a database."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1694073666,"post_id":76954002,"comment_id":135843951,"body_markdown":"Thank you for the update. So if I understand correctly, you have one job that uses service1 (fast) and writes data to a database, and another job that uses service2(slow) that reads data from the database. The database is used a staging area between the jobs. Is that correct?","body":"Thank you for the update. So if I understand correctly, you have one job that uses service1 (fast) and writes data to a database, and another job that uses service2(slow) that reads data from the database. The database is used a staging area between the jobs. Is that correct?"}],"owner":{"account_id":29274876,"reputation":1,"user_id":22428825,"display_name":"Aleksandr Litvinenko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692712335,"creation_date":1692712335,"question_id":76954002,"body_markdown":"could you help me solve one problem.\r\n\r\nI need to allocate different number of threads for different tasks.\r\n\r\nI have jobs:\r\n\r\n```\r\n@Bean\r\npublic Job printJob(JobRepository jobRepository, Step printStep) {\r\n    return new JobBuilder(PRINT_JOB_NAME, jobRepository)\r\n            .start(printStep)\r\n            .build();\r\n}\r\n\r\n@Bean\r\npublic Job combineStatementJob(JobRepository jobRepository,\r\n                               Step combineStep) {\r\n    return new JobBuilder(COMBINE_STATEMENT_JOB_NAME, jobRepository)\r\n            .start(combineStep)\r\n            .build();\r\n}\r\n```\r\n\r\nand two joblaunchers\r\nfor job with one execution thread:\r\n\r\n\r\n```\r\n@Bean\r\npublic JobLauncher jobPrintLauncher(JobRepository jobRepository) throws Exception {\r\n    TaskExecutorJobLauncher jobLauncher = new TaskExecutorJobLauncher();\r\n    ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n    executor.setThreadNamePrefix(TASK_PRINT_THREAD_PREFIX);\r\n    executor.initialize();\r\n    jobLauncher.setTaskExecutor(executor);\r\n    jobLauncher.setJobRepository(jobRepository);\r\n    jobLauncher.afterPropertiesSet();\r\n    return jobLauncher;\r\n}\r\n```\r\n\r\nfor job with COMBINE_CORE_POOL_SIZE execution thread:\r\n\r\n```\r\n@Bean\r\npublic JobLauncher jobCombineLauncher(JobRepository jobRepository, @Value(&quot;${async.combine-number-threads}&quot;) int numberOfThreads) throws Exception {\r\n     TaskExecutorJobLauncher jobLauncher = new TaskExecutorJobLauncher();\r\n    ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n    executor.setThreadNamePrefix(TASK_COMBINE_THREAD_PREFIX);\r\n    executor.setCorePoolSize(numberOfThreads);\r\n    executor.initialize();\r\n    jobLauncher.setTaskExecutor(executor);\r\n    jobLauncher.setJobRepository(jobRepository);\r\n    jobLauncher.afterPropertiesSet();\r\n    return jobLauncher;\r\n}\r\n```\r\nsometimes there are moments when two job launchers interfere with each other and i have next exception -\r\n\r\n\r\n```\r\norg.springframework.dao.CannotAcquireLockException: PreparedStatementCallback; SQL [INSERT into BATCH_JOB_EXECUTION(JOB_EXECUTION_ID, JOB_INSTANCE_ID, START_TIME, END_TIME, STATUS, EXIT_CODE, EXIT_MESSAGE, VERSION, CREATE_TIME, LAST_UPDATED) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]; ERROR: could not serialize access due to read/write dependencies among transactions\r\n  Detail: Reason code: Canceled on identification as a pivot, during conflict in checking.\r\n  Hint: The transaction might succeed if retried.\r\n\tat org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:115)\r\n\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)\r\n\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1538)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:960)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1015)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1020)\r\n\tat org.springframework.batch.core.repository.dao.JdbcJobExecutionDao.saveJobExecution(JdbcJobExecutionDao.java:202)\r\n\tat org.springframework.batch.core.repository.support.SimpleJobRepository.createJobExecution(SimpleJobRepository.java:178)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.batch.core.repository.support.AbstractJobRepositoryFactoryBean$1.invoke(AbstractJobRepositoryFactoryBean.java:207)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy159.createJobExecution(Unknown Source)\r\n\tat org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:145)\r\n\tat org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:70)\r\n```\r\n\r\n\r\nIs it ok to use different job laucners for different jobs, if so, how do I solve the exception problem?\r\n\r\n\r\n\r\n\r\nI need different tasks to be shared between executors. The only option I still see is to use critical sections so that job lanchers don&#39;t overlap.","title":"Spring Batch - Different job launcher for different job","body":"<p>could you help me solve one problem.</p>\n<p>I need to allocate different number of threads for different tasks.</p>\n<p>I have jobs:</p>\n<pre><code>@Bean\npublic Job printJob(JobRepository jobRepository, Step printStep) {\n    return new JobBuilder(PRINT_JOB_NAME, jobRepository)\n            .start(printStep)\n            .build();\n}\n\n@Bean\npublic Job combineStatementJob(JobRepository jobRepository,\n                               Step combineStep) {\n    return new JobBuilder(COMBINE_STATEMENT_JOB_NAME, jobRepository)\n            .start(combineStep)\n            .build();\n}\n</code></pre>\n<p>and two joblaunchers\nfor job with one execution thread:</p>\n<pre><code>@Bean\npublic JobLauncher jobPrintLauncher(JobRepository jobRepository) throws Exception {\n    TaskExecutorJobLauncher jobLauncher = new TaskExecutorJobLauncher();\n    ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n    executor.setThreadNamePrefix(TASK_PRINT_THREAD_PREFIX);\n    executor.initialize();\n    jobLauncher.setTaskExecutor(executor);\n    jobLauncher.setJobRepository(jobRepository);\n    jobLauncher.afterPropertiesSet();\n    return jobLauncher;\n}\n</code></pre>\n<p>for job with COMBINE_CORE_POOL_SIZE execution thread:</p>\n<pre><code>@Bean\npublic JobLauncher jobCombineLauncher(JobRepository jobRepository, @Value(&quot;${async.combine-number-threads}&quot;) int numberOfThreads) throws Exception {\n     TaskExecutorJobLauncher jobLauncher = new TaskExecutorJobLauncher();\n    ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n    executor.setThreadNamePrefix(TASK_COMBINE_THREAD_PREFIX);\n    executor.setCorePoolSize(numberOfThreads);\n    executor.initialize();\n    jobLauncher.setTaskExecutor(executor);\n    jobLauncher.setJobRepository(jobRepository);\n    jobLauncher.afterPropertiesSet();\n    return jobLauncher;\n}\n</code></pre>\n<p>sometimes there are moments when two job launchers interfere with each other and i have next exception -</p>\n<pre><code>org.springframework.dao.CannotAcquireLockException: PreparedStatementCallback; SQL [INSERT into BATCH_JOB_EXECUTION(JOB_EXECUTION_ID, JOB_INSTANCE_ID, START_TIME, END_TIME, STATUS, EXIT_CODE, EXIT_MESSAGE, VERSION, CREATE_TIME, LAST_UPDATED) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]; ERROR: could not serialize access due to read/write dependencies among transactions\n  Detail: Reason code: Canceled on identification as a pivot, during conflict in checking.\n  Hint: The transaction might succeed if retried.\n    at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:115)\n    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)\n    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)\n    at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1538)\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)\n    at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:960)\n    at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1015)\n    at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1020)\n    at org.springframework.batch.core.repository.dao.JdbcJobExecutionDao.saveJobExecution(JdbcJobExecutionDao.java:202)\n    at org.springframework.batch.core.repository.support.SimpleJobRepository.createJobExecution(SimpleJobRepository.java:178)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.batch.core.repository.support.AbstractJobRepositoryFactoryBean$1.invoke(AbstractJobRepositoryFactoryBean.java:207)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\n    at jdk.proxy2/jdk.proxy2.$Proxy159.createJobExecution(Unknown Source)\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:145)\n    at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:70)\n</code></pre>\n<p>Is it ok to use different job laucners for different jobs, if so, how do I solve the exception problem?</p>\n<p>I need different tasks to be shared between executors. The only option I still see is to use critical sections so that job lanchers don't overlap.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","rabbitmq","amazon-mq"],"answers":[{"comments":[{"owner":{"account_id":6611885,"reputation":454,"user_id":5106665,"display_name":"Ayush Srivastava"},"score":0,"creation_date":1691812987,"post_id":76883694,"comment_id":135545699,"body_markdown":"But the jar is able to connect to rabbitmq in local system","body":"But the jar is able to connect to rabbitmq in local system"}],"tags":[],"owner":{"account_id":2799515,"reputation":815,"user_id":6647878,"display_name":"Nidhi257"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1691758222,"creation_date":1691758222,"answer_id":76883694,"question_id":76883634,"body_markdown":"I guess here runtime `IOException` is not handle due to which it is failing.","title":"Spring boot not able to connect to AmazonMq(rabbitmq)","body":"<p>I guess here runtime <code>IOException</code> is not handle due to which it is failing.</p>\n"},{"tags":[],"owner":{"account_id":6611885,"reputation":454,"user_id":5106665,"display_name":"Ayush Srivastava"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692250046,"creation_date":1692250046,"answer_id":76918698,"question_id":76883634,"body_markdown":"Got the issue fix it was ssl issue which can be overcome by using \r\n\r\n```CachingConnectio nFactory connectionFactory = newCachingConnectionFactory();```\r\n```connectionFactory.setUri(env.getProperty(&quot;rabbitmq.address&quot;))```\r\n","title":"Spring boot not able to connect to AmazonMq(rabbitmq)","body":"<p>Got the issue fix it was ssl issue which can be overcome by using</p>\n<p><code>CachingConnectio nFactory connectionFactory = newCachingConnectionFactory();</code>\n<code>connectionFactory.setUri(env.getProperty(&quot;rabbitmq.address&quot;))</code></p>\n"},{"tags":[],"owner":{"account_id":6611885,"reputation":454,"user_id":5106665,"display_name":"Ayush Srivastava"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692711107,"creation_date":1692711107,"answer_id":76953825,"question_id":76883634,"body_markdown":"Able to do it as was trying to connect to ampqs URL&#39;s needed to declared addresses in spring boot.","title":"Spring boot not able to connect to AmazonMq(rabbitmq)","body":"<p>Able to do it as was trying to connect to ampqs URL's needed to declared addresses in spring boot.</p>\n"}],"owner":{"account_id":6611885,"reputation":454,"user_id":5106665,"display_name":"Ayush Srivastava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1692711107,"creation_date":1691757641,"question_id":76883634,"body_markdown":"Hi I have a AmazonMq instance running rabbitmq and I am not able to connect to the broker using spring boot.\r\n\r\nI am able to connect rabbitmq locally but not amazonmq(rabbitmq). My spring boot configuration is:\r\n\r\n```\r\nspring.rabbitmq.ssl.enabled=true\r\nspring.rabbitmq.host=&lt;host&gt;\r\nspring.rabbitmq.port=&lt;port&gt;\r\nspring.rabbitmq.username=&lt;username&gt;\r\nspring.rabbitmq.password=&lt;password&gt;\r\nspring.rabbitmq.virtual-host=vhost\r\n```\r\nThe error that I am getting:\r\n\r\n```\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;rabbitTemplate&#39; defined in class path resource [com/exly/emailqueue/config/RabbitMqChildConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.amqp.rabbit.core.RabbitTemplate]: Factory method &#39;rabbitTemplate&#39; threw exception; nested exception is org.springframework.amqp.AmqpIOException: java.io.IOException\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\t... 34 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.amqp.rabbit.core.RabbitTemplate]: Factory method &#39;rabbitTemplate&#39; threw exception; nested exception is org.springframework.amqp.AmqpIOException: java.io.IOException\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\t... 47 common frames omitted\r\nCaused by: org.springframework.amqp.AmqpIOException: java.io.IOException\r\n\tat org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:70) ~[spring-rabbit-2.4.5.jar:2.4.5]\r\n\tat org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:602) ~[spring-rabbit-2.4.5.jar:2.4.5]\r\n\tat org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:725) ~[spring-rabbit-2.4.5.jar:2.4.5]\r\n\tat org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.createConnection(ConnectionFactoryUtils.java:252) ~[spring-rabbit-2.4.5.jar:2.4.5]\r\n\tat org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:2173) ~[spring-rabbit-2.4.5.jar:2.4.5]\r\n\tat org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2146) ~[spring-rabbit-2.4.5.jar:2.4.5]\r\n\tat org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2126) ~[spring-rabbit-2.4.5.jar:2.4.5]\r\n\tat com.exly.core.config.RabbitMQConfig.rabbitTemplate(RabbitMQConfig.java:44) ~[classes/:na]\r\n\tat com.exly.emailqueue.config.RabbitMqChildConfig$$EnhancerBySpringCGLIB$$63e2373.CGLIB$rabbitTemplate$11(&lt;generated&gt;) ~[classes/:na]\r\n\tat com.exly.emailqueue.config.RabbitMqChildConfig$$EnhancerBySpringCGLIB$$63e2373$$FastClassBySpringCGLIB$$bac46a78.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.20.jar:5.3.20]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.20.jar:5.3.20]\r\n\tat com.exly.emailqueue.config.RabbitMqChildConfig$$EnhancerBySpringCGLIB$$63e2373.rabbitTemplate(&lt;generated&gt;) ~[classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_342]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_342]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_342]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_342]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\t... 48 common frames omitted\r\nCaused by: java.io.IOException: null\r\n\tat com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:129) ~[amqp-client-5.14.2.jar:5.14.2]\r\n\tat com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:125) ~[amqp-client-5.14.2.jar:5.14.2]\r\n\tat com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:396) ~[amqp-client-5.14.2.jar:5.14.2]\r\n\tat com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1225) ~[amqp-client-5.14.2.jar:5.14.2]\r\n\tat com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1173) ~[amqp-client-5.14.2.jar:5.14.2]\r\n\tat com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1342) ~[amqp-client-5.14.2.jar:5.14.2]\r\n\tat org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connectHostPort(AbstractConnectionFactory.java:653) ~[spring-rabbit-2.4.5.jar:2.4.5]\r\n\tat org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connect(AbstractConnectionFactory.java:618) ~[spring-rabbit-2.4.5.jar:2.4.5]\r\n\tat org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:565) ~[spring-rabbit-2.4.5.jar:2.4.5]\r\n\t... 64 common frames omitted\r\nCaused by: com.rabbitmq.client.ShutdownSignalException: connection error\r\n\tat com.rabbitmq.utility.ValueOrException.getValue(ValueOrException.java:66) ~[amqp-client-5.14.2.jar:5.14.2]\r\n\tat com.rabbitmq.utility.BlockingValueOrException.uninterruptibleGetValue(BlockingValueOrException.java:36) ~[amqp-client-5.14.2.jar:5.14.2]\r\n\tat com.rabbitmq.client.impl.AMQChannel$BlockingRpcContinuation.getReply(AMQChannel.java:502) ~[amqp-client-5.14.2.jar:5.14.2]\r\n\tat com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:326) ~[amqp-client-5.14.2.jar:5.14.2]\r\n\t... 70 common frames omitted\r\nCaused by: java.io.EOFException: null\r\n\tat java.io.DataInputStream.readFully(DataInputStream.java:197) ~[na:1.8.0_342]\r\n\tat java.io.DataInputStream.readFully(DataInputStream.java:169) ~[na:1.8.0_342]\r\n\tat com.rabbitmq.client.impl.Frame.readFrom(Frame.java:113) ~[amqp-client-5.14.2.jar:5.14.2]\r\n\tat com.rabbitmq.client.impl.SocketFrameHandler.readFrame(SocketFrameHandler.java:184) ~[amqp-client-5.14.2.jar:5.14.2]\r\n\tat com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:665) ~[amqp-client-5.14.2.jar:5.14.2]\r\n\tat java.lang.Thread.run(Thread.java:750) ~[na:1.8.0_342]\r\n```\r\nPlease suggest how can to make connection successfully.","title":"Spring boot not able to connect to AmazonMq(rabbitmq)","body":"<p>Hi I have a AmazonMq instance running rabbitmq and I am not able to connect to the broker using spring boot.</p>\n<p>I am able to connect rabbitmq locally but not amazonmq(rabbitmq). My spring boot configuration is:</p>\n<pre><code>spring.rabbitmq.ssl.enabled=true\nspring.rabbitmq.host=&lt;host&gt;\nspring.rabbitmq.port=&lt;port&gt;\nspring.rabbitmq.username=&lt;username&gt;\nspring.rabbitmq.password=&lt;password&gt;\nspring.rabbitmq.virtual-host=vhost\n</code></pre>\n<p>The error that I am getting:</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'rabbitTemplate' defined in class path resource [com/exly/emailqueue/config/RabbitMqChildConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.amqp.rabbit.core.RabbitTemplate]: Factory method 'rabbitTemplate' threw exception; nested exception is org.springframework.amqp.AmqpIOException: java.io.IOException\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 34 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.amqp.rabbit.core.RabbitTemplate]: Factory method 'rabbitTemplate' threw exception; nested exception is org.springframework.amqp.AmqpIOException: java.io.IOException\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 47 common frames omitted\nCaused by: org.springframework.amqp.AmqpIOException: java.io.IOException\n    at org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:70) ~[spring-rabbit-2.4.5.jar:2.4.5]\n    at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:602) ~[spring-rabbit-2.4.5.jar:2.4.5]\n    at org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:725) ~[spring-rabbit-2.4.5.jar:2.4.5]\n    at org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.createConnection(ConnectionFactoryUtils.java:252) ~[spring-rabbit-2.4.5.jar:2.4.5]\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:2173) ~[spring-rabbit-2.4.5.jar:2.4.5]\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2146) ~[spring-rabbit-2.4.5.jar:2.4.5]\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2126) ~[spring-rabbit-2.4.5.jar:2.4.5]\n    at com.exly.core.config.RabbitMQConfig.rabbitTemplate(RabbitMQConfig.java:44) ~[classes/:na]\n    at com.exly.emailqueue.config.RabbitMqChildConfig$$EnhancerBySpringCGLIB$$63e2373.CGLIB$rabbitTemplate$11(&lt;generated&gt;) ~[classes/:na]\n    at com.exly.emailqueue.config.RabbitMqChildConfig$$EnhancerBySpringCGLIB$$63e2373$$FastClassBySpringCGLIB$$bac46a78.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.20.jar:5.3.20]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.20.jar:5.3.20]\n    at com.exly.emailqueue.config.RabbitMqChildConfig$$EnhancerBySpringCGLIB$$63e2373.rabbitTemplate(&lt;generated&gt;) ~[classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_342]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_342]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_342]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_342]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 48 common frames omitted\nCaused by: java.io.IOException: null\n    at com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:129) ~[amqp-client-5.14.2.jar:5.14.2]\n    at com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:125) ~[amqp-client-5.14.2.jar:5.14.2]\n    at com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:396) ~[amqp-client-5.14.2.jar:5.14.2]\n    at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1225) ~[amqp-client-5.14.2.jar:5.14.2]\n    at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1173) ~[amqp-client-5.14.2.jar:5.14.2]\n    at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1342) ~[amqp-client-5.14.2.jar:5.14.2]\n    at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connectHostPort(AbstractConnectionFactory.java:653) ~[spring-rabbit-2.4.5.jar:2.4.5]\n    at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connect(AbstractConnectionFactory.java:618) ~[spring-rabbit-2.4.5.jar:2.4.5]\n    at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:565) ~[spring-rabbit-2.4.5.jar:2.4.5]\n    ... 64 common frames omitted\nCaused by: com.rabbitmq.client.ShutdownSignalException: connection error\n    at com.rabbitmq.utility.ValueOrException.getValue(ValueOrException.java:66) ~[amqp-client-5.14.2.jar:5.14.2]\n    at com.rabbitmq.utility.BlockingValueOrException.uninterruptibleGetValue(BlockingValueOrException.java:36) ~[amqp-client-5.14.2.jar:5.14.2]\n    at com.rabbitmq.client.impl.AMQChannel$BlockingRpcContinuation.getReply(AMQChannel.java:502) ~[amqp-client-5.14.2.jar:5.14.2]\n    at com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:326) ~[amqp-client-5.14.2.jar:5.14.2]\n    ... 70 common frames omitted\nCaused by: java.io.EOFException: null\n    at java.io.DataInputStream.readFully(DataInputStream.java:197) ~[na:1.8.0_342]\n    at java.io.DataInputStream.readFully(DataInputStream.java:169) ~[na:1.8.0_342]\n    at com.rabbitmq.client.impl.Frame.readFrom(Frame.java:113) ~[amqp-client-5.14.2.jar:5.14.2]\n    at com.rabbitmq.client.impl.SocketFrameHandler.readFrame(SocketFrameHandler.java:184) ~[amqp-client-5.14.2.jar:5.14.2]\n    at com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:665) ~[amqp-client-5.14.2.jar:5.14.2]\n    at java.lang.Thread.run(Thread.java:750) ~[na:1.8.0_342]\n</code></pre>\n<p>Please suggest how can to make connection successfully.</p>\n"},{"tags":["java","bots","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692710746,"creation_date":1692710746,"answer_id":76953788,"question_id":76953710,"body_markdown":"This line will always return null, for every message id:\r\n\r\n```java\r\nchannel.getHistory().getMessageById(messageID)\r\n```\r\n\r\nAs per the documentation:\r\n\r\n&gt; From [getHistory](https://docs.jda.wiki/net/dv8tion/jda/api/entities/channel/middleman/MessageChannel.html#getHistory())\r\n&gt; \r\n&gt; Creates a new MessageHistory object for each call of this method\r\n\r\n&gt; From [MessageHistory](https://docs.jda.wiki/net/dv8tion/jda/api/entities/MessageHistory.html#getMessageById(long))\r\n&gt; \r\n&gt; If a Message with the provided id has not already been retrieved (thus, doesn&#39;t exist in this MessageHistory object), then this method returns null. \r\n\r\nSince you haven&#39;t called any of the retrieve methods, such as `retrievePast`, the retrieved message cache is empty.\r\n\r\nYou don&#39;t want to retrieve the message anyway, since you can add reactions without the message object.\r\n\r\n```java\r\nchannel.addReactionById(messageId, emoji).queue();\r\n```\r\n\r\nSee [addReactionById](https://docs.jda.wiki/net/dv8tion/jda/api/entities/channel/middleman/MessageChannel.html#addReactionById(long,net.dv8tion.jda.api.entities.emoji.Emoji)).\r\n\r\nIf you *do* want to retrieve a message, use [retrieveMessageById](https://docs.jda.wiki/net/dv8tion/jda/api/entities/channel/middleman/MessageChannel.html#retrieveMessageById(long)) instead.\r\n\r\n","title":"getMessageById returns null","body":"<p>This line will always return null, for every message id:</p>\n<pre class=\"lang-java prettyprint-override\"><code>channel.getHistory().getMessageById(messageID)\n</code></pre>\n<p>As per the documentation:</p>\n<blockquote>\n<p>From <a href=\"https://docs.jda.wiki/net/dv8tion/jda/api/entities/channel/middleman/MessageChannel.html#getHistory()\" rel=\"nofollow noreferrer\">getHistory</a></p>\n<p>Creates a new MessageHistory object for each call of this method</p>\n</blockquote>\n<blockquote>\n<p>From <a href=\"https://docs.jda.wiki/net/dv8tion/jda/api/entities/MessageHistory.html#getMessageById(long)\" rel=\"nofollow noreferrer\">MessageHistory</a></p>\n<p>If a Message with the provided id has not already been retrieved (thus, doesn't exist in this MessageHistory object), then this method returns null.</p>\n</blockquote>\n<p>Since you haven't called any of the retrieve methods, such as <code>retrievePast</code>, the retrieved message cache is empty.</p>\n<p>You don't want to retrieve the message anyway, since you can add reactions without the message object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>channel.addReactionById(messageId, emoji).queue();\n</code></pre>\n<p>See <a href=\"https://docs.jda.wiki/net/dv8tion/jda/api/entities/channel/middleman/MessageChannel.html#addReactionById(long,net.dv8tion.jda.api.entities.emoji.Emoji)\" rel=\"nofollow noreferrer\">addReactionById</a>.</p>\n<p>If you <em>do</em> want to retrieve a message, use <a href=\"https://docs.jda.wiki/net/dv8tion/jda/api/entities/channel/middleman/MessageChannel.html#retrieveMessageById(long)\" rel=\"nofollow noreferrer\">retrieveMessageById</a> instead.</p>\n"}],"owner":{"account_id":25934903,"reputation":5,"user_id":19655374,"display_name":"RatherCruel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76953788,"answer_count":1,"score":0,"last_activity_date":1692710780,"creation_date":1692710173,"question_id":76953710,"body_markdown":"This code supposed to add reactions on a specific message using ID it got from slash-command. It gets the channel&#39;s and message&#39;s IDs perfectly but when it goes to searching for the message to add reactions the message is `null`. I believe the problem is in `messageReactionAdd()` method. The method gets all it needs to add reactions.\r\n\r\n```\r\npackage org.rathercruel.bot.commands.roles;\r\n\r\nimport net.dv8tion.jda.api.entities.Guild;\r\nimport net.dv8tion.jda.api.entities.Message;\r\nimport net.dv8tion.jda.api.entities.channel.concrete.TextChannel;\r\nimport net.dv8tion.jda.api.entities.emoji.Emoji;\r\nimport net.dv8tion.jda.api.events.interaction.command.SlashCommandInteractionEvent;\r\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class SetRoleMessage extends ListenerAdapter {\r\n\r\n    @Override\r\n    public void onSlashCommandInteraction(SlashCommandInteractionEvent event) {\r\n        if (event.getName().equalsIgnoreCase(&quot;set-message-reactions&quot;)) {\r\n            String channelID = event.getChannel().getId();\r\n            String messageID = event.getOption(&quot;message-id&quot;).getAsString();\r\n\r\n            Guild guild = event.getGuild();\r\n\r\n            List&lt;Emoji&gt; newEmojiList = new ArrayList&lt;&gt;();\r\n\r\n            newEmojiList.add(Emoji.fromUnicode(&quot;U+1F5FD&quot;)); // Statue of Liberty [0]\r\n            newEmojiList.add(Emoji.fromUnicode(&quot;U+26A1&quot;)); // Voltage\r\n            newEmojiList.add(Emoji.fromUnicode(&quot;U+1F6B0&quot;)); // Glass of water\r\n            newEmojiList.add(Emoji.fromUnicode(&quot;U+1F4BB&quot;)); // computer\r\n            newEmojiList.add(Emoji.fromUnicode(&quot;U+1F413&quot;)); // Rooster\r\n            newEmojiList.add(Emoji.fromUnicode(&quot;U+1F414&quot;)); // Chicken\r\n            newEmojiList.add(Emoji.fromUnicode(&quot;U+1F480&quot;)); // Skull [6]\r\n\r\n            // call the problem method\r\n            messageReactionAdd(event, channelID, messageID, newEmojiList);\r\n        }\r\n    }\r\n\r\n    private void messageReactionAdd(SlashCommandInteractionEvent event, String channelID, String messageID, List&lt;Emoji&gt; emojiList) {\r\n        Guild guild = event.getGuild();\r\n        TextChannel channel = guild.getTextChannelById(channelID);\r\n        Message message = channel.getHistory().getMessageById(messageID);\r\n\r\n        if (message != null) {\r\n            for (int i = 0; i &lt; emojiList.size(); i++) {\r\n                message.addReaction(emojiList.get(i)).queue();\r\n            }\r\n        // Returns this code:\r\n        } else {\r\n            event.reply(&quot;Unknown message.&quot;).setEphemeral(true).queue();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nI&#39;ve tried to use different variables such as `String` and `long` but result is the same in both cases. Also I&#39;ve tried to find the message inside the `onSlashCommandInteraction()` method.","title":"getMessageById returns null","body":"<p>This code supposed to add reactions on a specific message using ID it got from slash-command. It gets the channel's and message's IDs perfectly but when it goes to searching for the message to add reactions the message is <code>null</code>. I believe the problem is in <code>messageReactionAdd()</code> method. The method gets all it needs to add reactions.</p>\n<pre><code>package org.rathercruel.bot.commands.roles;\n\nimport net.dv8tion.jda.api.entities.Guild;\nimport net.dv8tion.jda.api.entities.Message;\nimport net.dv8tion.jda.api.entities.channel.concrete.TextChannel;\nimport net.dv8tion.jda.api.entities.emoji.Emoji;\nimport net.dv8tion.jda.api.events.interaction.command.SlashCommandInteractionEvent;\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class SetRoleMessage extends ListenerAdapter {\n\n    @Override\n    public void onSlashCommandInteraction(SlashCommandInteractionEvent event) {\n        if (event.getName().equalsIgnoreCase(&quot;set-message-reactions&quot;)) {\n            String channelID = event.getChannel().getId();\n            String messageID = event.getOption(&quot;message-id&quot;).getAsString();\n\n            Guild guild = event.getGuild();\n\n            List&lt;Emoji&gt; newEmojiList = new ArrayList&lt;&gt;();\n\n            newEmojiList.add(Emoji.fromUnicode(&quot;U+1F5FD&quot;)); // Statue of Liberty [0]\n            newEmojiList.add(Emoji.fromUnicode(&quot;U+26A1&quot;)); // Voltage\n            newEmojiList.add(Emoji.fromUnicode(&quot;U+1F6B0&quot;)); // Glass of water\n            newEmojiList.add(Emoji.fromUnicode(&quot;U+1F4BB&quot;)); // computer\n            newEmojiList.add(Emoji.fromUnicode(&quot;U+1F413&quot;)); // Rooster\n            newEmojiList.add(Emoji.fromUnicode(&quot;U+1F414&quot;)); // Chicken\n            newEmojiList.add(Emoji.fromUnicode(&quot;U+1F480&quot;)); // Skull [6]\n\n            // call the problem method\n            messageReactionAdd(event, channelID, messageID, newEmojiList);\n        }\n    }\n\n    private void messageReactionAdd(SlashCommandInteractionEvent event, String channelID, String messageID, List&lt;Emoji&gt; emojiList) {\n        Guild guild = event.getGuild();\n        TextChannel channel = guild.getTextChannelById(channelID);\n        Message message = channel.getHistory().getMessageById(messageID);\n\n        if (message != null) {\n            for (int i = 0; i &lt; emojiList.size(); i++) {\n                message.addReaction(emojiList.get(i)).queue();\n            }\n        // Returns this code:\n        } else {\n            event.reply(&quot;Unknown message.&quot;).setEphemeral(true).queue();\n        }\n    }\n}\n</code></pre>\n<p>I've tried to use different variables such as <code>String</code> and <code>long</code> but result is the same in both cases. Also I've tried to find the message inside the <code>onSlashCommandInteraction()</code> method.</p>\n"},{"tags":["java","html","spring-boot","spring-security","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":29229965,"reputation":11,"user_id":22393894,"display_name":"FIDSTONE"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692710682,"creation_date":1692710682,"answer_id":76953785,"question_id":76906748,"body_markdown":"I found the problem, the point is that you need to address the id with capital characters\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;div class=&quot;settings_format&quot;&gt;\r\n      &lt;label th:each = &quot;format : ${Format}&quot;           th:attr=&quot;for=${format.ID}&quot; class=&quot;btn_order&quot;&gt;\r\n        &lt;sup th:text = &quot;${format.title}&quot;/&gt;\r\n        &lt;input class = &quot;radio_settings&quot; name = &quot;format_id&quot; th:attr=&quot;value=${format.ID},id=${format.ID}&quot; type=&quot;radio&quot; hidden&gt;\r\n      &lt;/label&gt;\r\n    &lt;/div&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Thymeleaf throws an error when outputting the object id to the template","body":"<p>I found the problem, the point is that you need to address the id with capital characters</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"settings_format\"&gt;\n  &lt;label th:each = \"format : ${Format}\"           th:attr=\"for=${format.ID}\" class=\"btn_order\"&gt;\n    &lt;sup th:text = \"${format.title}\"/&gt;\n    &lt;input class = \"radio_settings\" name = \"format_id\" th:attr=\"value=${format.ID},id=${format.ID}\" type=\"radio\" hidden&gt;\n  &lt;/label&gt;\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":29229965,"reputation":11,"user_id":22393894,"display_name":"FIDSTONE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76953785,"answer_count":1,"score":0,"last_activity_date":1692710682,"creation_date":1692109740,"question_id":76906748,"body_markdown":"I have a object `format`, when I try to output to the id value, thymeleaf throws an error.\r\nSpring Security dependency is also enabled.\r\n\r\nTemplate code\r\n```\r\n&lt;label th:each = &quot;format : ${Format}&quot; th:attr=&quot;for=&#39;label&#39; + ${format.title}&quot; class=&quot;btn_order&quot;&gt;\r\n    &lt;sup th:text = &quot;${format.title}&quot;/&gt;\r\n    &lt;sup th:text = &quot;${format.price}&quot;/&gt;\r\n    &lt;input class = &quot;radio_settings&quot; name = &quot;price_reload&quot; th:value=&quot;${format.id}&quot;   th:attr=&quot;id=&#39;label&#39; + ${format.title}&quot; type=&quot;radio&quot; hidden&gt;\r\n&lt;/label&gt;\r\n```\r\nEntity Format\r\n```\r\n@Entity\r\n@Table(name = &quot;Format&quot;)\r\npublic class Format {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false, length = 50)\r\n    private String title;\r\n\r\n    @Column(nullable = false)\r\n    private Integer lenght;\r\n    \r\n    @Column(nullable = false)\r\n    private Integer width;\r\n\r\n    @Column(nullable = false)\r\n    private Integer height;\r\n\r\n    @Column(nullable = false)\r\n    private Integer weight;\r\n\r\n    @Column(nullable = false)\r\n    private Float price;\r\n\r\n```\r\n\r\n\r\nController\r\n```\r\n@GetMapping()\r\n    public String getWindowOrder(Model model){\r\n        model.addAttribute(&quot;title&quot;,&quot;Create order&quot;);\r\n        model.addAttribute(&quot;Format&quot;, formatService.getByAll());\r\n        return &quot;window_order&quot;;\r\n    }\r\n```\r\nService\r\n```\r\n@Service\r\npublic class FormatService {\r\n\r\n@Autowired\r\nprivate FormatInterface iFormat;\r\n\r\npublic List&lt;Format&gt; getByAll (){\r\n        return iFormat.findByAll();\r\n    }\r\n}\r\n```\r\nWebConfigSecurity\r\n\r\n```\r\n@Bean\r\n\tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n\t\t\t.csrf(AbstractHttpConfigurer::disable)\r\n\t\t\t.authorizeHttpRequests((requests) -&gt; requests\r\n\t\t\t\t.requestMatchers(&quot;/&quot;, &quot;/registration/**&quot;,  &quot;/create/**&quot;, &quot;/cart&quot; ,&quot;/image/**&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;,&quot;/order&quot;,&quot;/img/**&quot;).permitAll()\r\n\t\t\t\t.anyRequest().authenticated()\r\n\t\t\t)\r\n            .formLogin((form) -&gt; form\r\n\t\t\t\t.loginPage(&quot;/login&quot;)\r\n\t\t\t\t.permitAll()\r\n\t\t\t)\r\n\t\t\t.logout((logout) -&gt; logout.permitAll());\r\n\r\n\t\treturn http.build();\r\n    }\r\n\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userService).passwordEncoder(passwordEncoder);\r\n    }\r\n```\r\nError\r\n\r\n```\r\nERROR 10344 --- [io-8080-exec-10] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-10] Exception processing template &quot;window_cart&quot;: An error happened during template parsing (template: &quot;class path resource [templates/window_order.html]&quot;)\r\n\r\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/window_order.html]&quot;)\r\n```\r\n\r\n\r\nAll other class data is displayed correctly. If you remove `th:value = &quot;${format.id}&quot;` , then the template is loaded.","title":"Thymeleaf throws an error when outputting the object id to the template","body":"<p>I have a object <code>format</code>, when I try to output to the id value, thymeleaf throws an error.\nSpring Security dependency is also enabled.</p>\n<p>Template code</p>\n<pre><code>&lt;label th:each = &quot;format : ${Format}&quot; th:attr=&quot;for='label' + ${format.title}&quot; class=&quot;btn_order&quot;&gt;\n    &lt;sup th:text = &quot;${format.title}&quot;/&gt;\n    &lt;sup th:text = &quot;${format.price}&quot;/&gt;\n    &lt;input class = &quot;radio_settings&quot; name = &quot;price_reload&quot; th:value=&quot;${format.id}&quot;   th:attr=&quot;id='label' + ${format.title}&quot; type=&quot;radio&quot; hidden&gt;\n&lt;/label&gt;\n</code></pre>\n<p>Entity Format</p>\n<pre><code>@Entity\n@Table(name = &quot;Format&quot;)\npublic class Format {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false, length = 50)\n    private String title;\n\n    @Column(nullable = false)\n    private Integer lenght;\n    \n    @Column(nullable = false)\n    private Integer width;\n\n    @Column(nullable = false)\n    private Integer height;\n\n    @Column(nullable = false)\n    private Integer weight;\n\n    @Column(nullable = false)\n    private Float price;\n\n</code></pre>\n<p>Controller</p>\n<pre><code>@GetMapping()\n    public String getWindowOrder(Model model){\n        model.addAttribute(&quot;title&quot;,&quot;Create order&quot;);\n        model.addAttribute(&quot;Format&quot;, formatService.getByAll());\n        return &quot;window_order&quot;;\n    }\n</code></pre>\n<p>Service</p>\n<pre><code>@Service\npublic class FormatService {\n\n@Autowired\nprivate FormatInterface iFormat;\n\npublic List&lt;Format&gt; getByAll (){\n        return iFormat.findByAll();\n    }\n}\n</code></pre>\n<p>WebConfigSecurity</p>\n<pre><code>@Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n            .csrf(AbstractHttpConfigurer::disable)\n            .authorizeHttpRequests((requests) -&gt; requests\n                .requestMatchers(&quot;/&quot;, &quot;/registration/**&quot;,  &quot;/create/**&quot;, &quot;/cart&quot; ,&quot;/image/**&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;,&quot;/order&quot;,&quot;/img/**&quot;).permitAll()\n                .anyRequest().authenticated()\n            )\n            .formLogin((form) -&gt; form\n                .loginPage(&quot;/login&quot;)\n                .permitAll()\n            )\n            .logout((logout) -&gt; logout.permitAll());\n\n        return http.build();\n    }\n\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userService).passwordEncoder(passwordEncoder);\n    }\n</code></pre>\n<p>Error</p>\n<pre><code>ERROR 10344 --- [io-8080-exec-10] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-10] Exception processing template &quot;window_cart&quot;: An error happened during template parsing (template: &quot;class path resource [templates/window_order.html]&quot;)\n\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/window_order.html]&quot;)\n</code></pre>\n<p>All other class data is displayed correctly. If you remove <code>th:value = &quot;${format.id}&quot;</code> , then the template is loaded.</p>\n"},{"tags":["java","mysql","xml","parsing","jdbc"],"comments":[{"owner":{"account_id":3187377,"reputation":17941,"user_id":2780943,"accept_rate":55,"display_name":"user184994"},"score":0,"creation_date":1402003779,"post_id":24070399,"comment_id":37118311,"body_markdown":"Would you mind if the answer used Jsoup (another xml parser) instead?","body":"Would you mind if the answer used Jsoup (another xml parser) instead?"},{"owner":{"account_id":4540835,"reputation":364,"user_id":3688755,"accept_rate":80,"display_name":"djbhindi"},"score":0,"creation_date":1402004085,"post_id":24070399,"comment_id":37118463,"body_markdown":"Try using $xml = simplexml_load_file($url). Here is the documentation for simplexml: http://www.w3schools.com/php/php_xml_simplexml.asp. Hope that helps!","body":"Try using $xml = simplexml_load_file($url). Here is the documentation for simplexml: <a href=\"http://www.w3schools.com/php/php_xml_simplexml.asp\" rel=\"nofollow noreferrer\">w3schools.com/php/php_xml_simplexml.asp</a>. Hope that helps!"}],"answers":[{"comments":[{"owner":{"display_name":"user3658290"},"score":0,"creation_date":1402005592,"post_id":24070709,"comment_id":37119093,"body_markdown":"How would I apply this to the executeUpdate? Wouldn&#39;t I have to still edit that throughout my program each and everytime i decide to add another entity?","body":"How would I apply this to the executeUpdate? Wouldn&#39;t I have to still edit that throughout my program each and everytime i decide to add another entity?"},{"owner":{"account_id":3187377,"reputation":17941,"user_id":2780943,"accept_rate":55,"display_name":"user184994"},"score":0,"creation_date":1402005689,"post_id":24070709,"comment_id":37119124,"body_markdown":"I&#39;ve updated the code for you. I&#39;ve just tested it, and it allows you to add as many columns or rows as you wish without having to modify the code.","body":"I&#39;ve updated the code for you. I&#39;ve just tested it, and it allows you to add as many columns or rows as you wish without having to modify the code."},{"owner":{"display_name":"user3658290"},"score":0,"creation_date":1402066225,"post_id":24070709,"comment_id":37144149,"body_markdown":"I understand this is a completely noobie question, but I am getting a &quot;The method select(String) is undefined for the type Document&quot;. I&#39;m trying to pass parse the xml file in and its not completely working. and as for &quot;executeUpdate(&quot;insert into customer(CustId,Name,City) values(&#39;&quot;+CustId+&quot;&#39;,&#39;&quot;+Name+&quot;&#39;,&#39;&quot;+City+&quot;&#39;)&quot;);&quot; it would become executeUpdate(queryBuilder) correct? Also I&#39;ll be sure to rate your question after I figure out this small issue. Thanks a ton!","body":"I understand this is a completely noobie question, but I am getting a &quot;The method select(String) is undefined for the type Document&quot;. I&#39;m trying to pass parse the xml file in and its not completely working. and as for &quot;executeUpdate(&quot;insert into customer(CustId,Name,City) values(&#39;&quot;+CustId+&quot;&#39;,&#39;&quot;+Name+&quot;&#39;,&#39;&quot;+City+&quot;&#39;)&quot;);&quot; it would become executeUpdate(queryBuilder) correct? Also I&#39;ll be sure to rate your question after I figure out this small issue. Thanks a ton!"},{"owner":{"display_name":"user3658290"},"score":0,"creation_date":1402066938,"post_id":24070709,"comment_id":37144689,"body_markdown":"I&#39;ve tried importing the jar etc from the select and its still not working. The children method is doing the same.","body":"I&#39;ve tried importing the jar etc from the select and its still not working. The children method is doing the same."},{"owner":{"account_id":3187377,"reputation":17941,"user_id":2780943,"accept_rate":55,"display_name":"user184994"},"score":0,"creation_date":1402073963,"post_id":24070709,"comment_id":37148880,"body_markdown":"It&#39;s probably because you&#39;re importing the wrong `Document` class -- it should be `import org.jsoup.nodes.Document;`. Just remove the old imports, and use this instead. Also, if you have any more problems adding the Jsoup jar, just let me know","body":"It&#39;s probably because you&#39;re importing the wrong <code>Document</code> class -- it should be <code>import org.jsoup.nodes.Document;</code>. Just remove the old imports, and use this instead. Also, if you have any more problems adding the Jsoup jar, just let me know"},{"owner":{"display_name":"user3658290"},"score":0,"creation_date":1402074372,"post_id":24070709,"comment_id":37149052,"body_markdown":"I&#39;ve added the soap jar, and have that all working. My question for you though is how did you import the string xml file? Ive tried buffer reader etc? would you be willing to update your code one last time on how you brought in my XML file? Thanks!","body":"I&#39;ve added the soap jar, and have that all working. My question for you though is how did you import the string xml file? Ive tried buffer reader etc? would you be willing to update your code one last time on how you brought in my XML file? Thanks!"},{"owner":{"account_id":3187377,"reputation":17941,"user_id":2780943,"accept_rate":55,"display_name":"user184994"},"score":0,"creation_date":1402076874,"post_id":24070709,"comment_id":37150328,"body_markdown":"Just using the `Scanner` class. I&#39;ve edited to include the method I used. *Bear in mind the only reason these 2 methods are static is because I was calling them from `public static void main(String[] args)`, and I was too lazy to create an object of my class :)*","body":"Just using the <code>Scanner</code> class. I&#39;ve edited to include the method I used. <i>Bear in mind the only reason these 2 methods are static is because I was calling them from <code>public static void main(String[] args)</code>, and I was too lazy to create an object of my class :)</i>"}],"tags":[],"owner":{"account_id":3187377,"reputation":17941,"user_id":2780943,"accept_rate":55,"display_name":"user184994"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692710606,"creation_date":1402004697,"answer_id":24070709,"question_id":24070399,"body_markdown":"Using Jsoup, you can do this:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    private static void parseXml(String xml) {\r\n        Document doc = Jsoup.parse(xml);\r\n        StringBuilder queryBuilder;\r\n        StringBuilder columnNames;\r\n        StringBuilder values;\r\n        \r\n        for (Element row : doc.select(&quot;row&quot;)) {   \r\n            // Start the query   \r\n            queryBuilder = new StringBuilder(&quot;insert into customer(&quot;);\r\n            columnNames = new StringBuilder();\r\n            values = new StringBuilder();\r\n            \r\n            for (int x = 0; x &lt; row.children().size(); x++) {\r\n                \r\n                // Append the column name and it&#39;s value \r\n                columnNames.append(row.children().get(x).tagName());\r\n                values.append(row.children().get(x).text());\r\n                \r\n                if (x != row.children().size() - 1) {\r\n                    // If this is not the last item, append a comma\r\n                    columnNames.append(&quot;,&quot;);\r\n                    values.append(&quot;,&quot;);\r\n                }\r\n                else {\r\n                    // Otherwise, add the closing paranthesis\r\n                    columnNames.append(&quot;)&quot;);\r\n                    values.append(&quot;)&quot;);\r\n                }                                \r\n            }\r\n       \r\n            // Add the column names and values to the query\r\n            queryBuilder.append(columnNames);\r\n            queryBuilder.append(&quot; values(&quot;);\r\n            queryBuilder.append(values);\r\n\r\n            // Print the query\r\n            System.out.println(queryBuilder);\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    insert into customer(custid,name,city) values(1,Woodworks,Baltimore)\r\n    insert into customer(custid,name,city) values(2,Software Solutions,Boston)\r\n    insert into customer(custid,name,city) values(3,Food Fantasies,New York)\r\n\r\n\r\nThis allows us to add as many new columns or rows as we wish. For example, I added a few bits to your original XML, and without modification to the java code, the output was:\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    insert into customer(custid,name,city,age) values(1,Woodworks,Baltimore,21)\r\n    insert into customer(custid,name,city,age) values(2,Software Solutions,Boston,21)\r\n    insert into customer(custid,name,city,age) values(3,Food Fantasies,New York,21)\r\n    insert into customer(custid,name,city,age) values(4,Crazy Hat Store,London,21)\r\n\r\n\r\n**EDIT :**\r\n\r\nTo import the XML from file, the method would look like this:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    private static String loadXml(String filePath) {\r\n        try {\r\n            StringBuilder xml = new StringBuilder();\r\n            Scanner scanner = new Scanner(new File(filePath)); // i.e. C:\\\\testXML.xml\r\n            \r\n            while (scanner.hasNextLine()) {\r\n                xml.append(scanner.nextLine());\r\n            }\r\n            return xml.toString();\r\n        }\r\n        catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\nAnd then my main method looked like this:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public static void main(String[] args) {\r\n        parseXml(loadXml(filePath));\r\n    }","title":"XML parsing to a MySQL database","body":"<p>Using Jsoup, you can do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void parseXml(String xml) {\n    Document doc = Jsoup.parse(xml);\n    StringBuilder queryBuilder;\n    StringBuilder columnNames;\n    StringBuilder values;\n    \n    for (Element row : doc.select(&quot;row&quot;)) {   \n        // Start the query   \n        queryBuilder = new StringBuilder(&quot;insert into customer(&quot;);\n        columnNames = new StringBuilder();\n        values = new StringBuilder();\n        \n        for (int x = 0; x &lt; row.children().size(); x++) {\n            \n            // Append the column name and it's value \n            columnNames.append(row.children().get(x).tagName());\n            values.append(row.children().get(x).text());\n            \n            if (x != row.children().size() - 1) {\n                // If this is not the last item, append a comma\n                columnNames.append(&quot;,&quot;);\n                values.append(&quot;,&quot;);\n            }\n            else {\n                // Otherwise, add the closing paranthesis\n                columnNames.append(&quot;)&quot;);\n                values.append(&quot;)&quot;);\n            }                                \n        }\n   \n        // Add the column names and values to the query\n        queryBuilder.append(columnNames);\n        queryBuilder.append(&quot; values(&quot;);\n        queryBuilder.append(values);\n\n        // Print the query\n        System.out.println(queryBuilder);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>insert into customer(custid,name,city) values(1,Woodworks,Baltimore)\ninsert into customer(custid,name,city) values(2,Software Solutions,Boston)\ninsert into customer(custid,name,city) values(3,Food Fantasies,New York)\n</code></pre>\n<p>This allows us to add as many new columns or rows as we wish. For example, I added a few bits to your original XML, and without modification to the java code, the output was:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>insert into customer(custid,name,city,age) values(1,Woodworks,Baltimore,21)\ninsert into customer(custid,name,city,age) values(2,Software Solutions,Boston,21)\ninsert into customer(custid,name,city,age) values(3,Food Fantasies,New York,21)\ninsert into customer(custid,name,city,age) values(4,Crazy Hat Store,London,21)\n</code></pre>\n<p><strong>EDIT :</strong></p>\n<p>To import the XML from file, the method would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static String loadXml(String filePath) {\n    try {\n        StringBuilder xml = new StringBuilder();\n        Scanner scanner = new Scanner(new File(filePath)); // i.e. C:\\\\testXML.xml\n        \n        while (scanner.hasNextLine()) {\n            xml.append(scanner.nextLine());\n        }\n        return xml.toString();\n    }\n    catch (FileNotFoundException e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n</code></pre>\n<p>And then my main method looked like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    parseXml(loadXml(filePath));\n}\n</code></pre>\n"}],"owner":{"display_name":"user3658290"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3059,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":24070709,"answer_count":1,"score":0,"last_activity_date":1692710606,"creation_date":1402003393,"question_id":24070399,"body_markdown":"I have been working on this piece of code to parse my XML file into a MySQL database. Every tutorial I have seen online parses individually like this code I&#39;ve been working on. From here I would like to loop it in a way which instead of adding each field individually, if iterate it through the XML file and define how many fields need to be created inside of the table. Does anyone have any such tutorials they are aware of or possibly a short example how I could get started for this? Example I would not like to re-edit my program each time i decide to add another characteristic for a customer.\r\n \r\n\r\n    package xSQLTEST;\r\n    \r\n    import java.io.*;\r\n    import java.sql.*;\r\n    import org.w3c.dom.*;\r\n    import javax.xml.parsers.*;\r\n    \r\n    public class InsertXMLData {\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n                Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/brandonDB&quot;,\r\n                                                             &quot;root&quot;,\r\n                                                             &quot;Absolute!&quot;);\r\n                Statement st = con.createStatement();\r\n                DocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory.newInstance();\r\n                DocumentBuilder docBuilder = docBuilderFactory.newDocumentBuilder();\r\n                Document doc = docBuilder.parse(new File(&quot;C:\\\\testXML.xml&quot;));\r\n                doc.getDocumentElement().normalize();\r\n                System.out.println(&quot;Root element of the doc is &quot;\r\n                                   + doc.getDocumentElement().getNodeName());\r\n                NodeList listOfPersons = doc.getElementsByTagName(&quot;row&quot;);\r\n                for (int s = 0; s &lt; listOfPersons.getLength(); s++) {\r\n                    Node firstPersonNode = listOfPersons.item(s);\r\n                    if (firstPersonNode.getNodeType() == Node.ELEMENT_NODE) {\r\n                        Element firstPersonElement = (Element) firstPersonNode;\r\n                        // -------------------------------------------------------------------------------------\r\n    \r\n                        NodeList CustIdList = firstPersonElement.getElementsByTagName(&quot;CustId&quot;);\r\n                        Element CustIdElement = (Element) CustIdList.item(0);\r\n    \r\n                        NodeList textIDList = CustIdElement.getChildNodes();\r\n                        String CustId = ((Node) textIDList.item(0)).getNodeValue()\r\n                                                                   .trim();\r\n    \r\n                        NodeList NameList = firstPersonElement.getElementsByTagName(&quot;Name&quot;);\r\n                        Element NameElement = (Element) NameList.item(0);\r\n    \r\n                        NodeList textNMList = NameElement.getChildNodes();\r\n                        String Name = ((Node) textNMList.item(0)).getNodeValue().trim();\r\n    \r\n                        NodeList CityList = firstPersonElement.getElementsByTagName(&quot;City&quot;);\r\n                        Element CityElement = (Element) CityList.item(0);\r\n    \r\n                        NodeList textCTList = CityElement.getChildNodes();\r\n                        String City = ((Node) textCTList.item(0)).getNodeValue().trim();\r\n    \r\n                        int i = st.executeUpdate(&quot;insert into customer(CustId,Name,City) values(&#39;&quot;\r\n                                                 + CustId\r\n                                                 + &quot;&#39;,&#39;&quot;\r\n                                                 + Name\r\n                                                 + &quot;&#39;,&#39;&quot;\r\n                                                 + City\r\n                                                 + &quot;&#39;)&quot;);\r\n                    }\r\n                }\r\n                System.out.println(&quot;Data is successfully inserted!&quot;);\r\n    \r\n            }\r\n            catch (Exception err) {\r\n                System.out.println(&quot; &quot; + err.getMessage());\r\n            }\r\n        }\r\n    }\r\nXML FILE that I am using but would like to possibly add more details about the customer in the future.\r\n\r\n    &lt;Customers&gt;\r\n       &lt;row&gt; \r\n          &lt;CustId&gt;1&lt;/CustId&gt;\r\n          &lt;Name&gt;Woodworks&lt;/Name&gt;\r\n          &lt;City&gt;Baltimore&lt;/City&gt;\r\n       &lt;/row&gt;\r\n       &lt;row&gt; \r\n          &lt;CustId&gt;2&lt;/CustId&gt;\r\n          &lt;Name&gt;Software Solutions&lt;/Name&gt;\r\n          &lt;City&gt;Boston&lt;/City&gt;\r\n       &lt;/row&gt;\r\n       &lt;row&gt; \r\n          &lt;CustId&gt;3&lt;/CustId&gt;\r\n          &lt;Name&gt;Food Fantasies&lt;/Name&gt;\r\n          &lt;City&gt;New York&lt;/City&gt;\r\n       &lt;/row&gt;\r\n    &lt;/Customers&gt;\r\n\r\nBUFFER READER INSERTED AND WORKING:\r\n\r\n    BufferedReader br = new BufferedReader(new FileReader(new File(&quot;c:\\\\testXML.xml&quot;)));\r\n    String line;\r\n    StringBuilder sb = new StringBuilder();\r\n    \r\n    while((line=br.readLine())!= null){\r\n        sb.append(line.trim());\r\n    }\r\n    String strFileContent = sb.toString();\r\n\r\n\t","title":"XML parsing to a MySQL database","body":"<p>I have been working on this piece of code to parse my XML file into a MySQL database. Every tutorial I have seen online parses individually like this code I've been working on. From here I would like to loop it in a way which instead of adding each field individually, if iterate it through the XML file and define how many fields need to be created inside of the table. Does anyone have any such tutorials they are aware of or possibly a short example how I could get started for this? Example I would not like to re-edit my program each time i decide to add another characteristic for a customer.</p>\n\n<pre><code>package xSQLTEST;\n\nimport java.io.*;\nimport java.sql.*;\nimport org.w3c.dom.*;\nimport javax.xml.parsers.*;\n\npublic class InsertXMLData {\n\n    public static void main(String[] args) {\n        try {\n            Class.forName(\"com.mysql.jdbc.Driver\");\n            Connection con = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/brandonDB\",\n                                                         \"root\",\n                                                         \"Absolute!\");\n            Statement st = con.createStatement();\n            DocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory.newInstance();\n            DocumentBuilder docBuilder = docBuilderFactory.newDocumentBuilder();\n            Document doc = docBuilder.parse(new File(\"C:\\\\testXML.xml\"));\n            doc.getDocumentElement().normalize();\n            System.out.println(\"Root element of the doc is \"\n                               + doc.getDocumentElement().getNodeName());\n            NodeList listOfPersons = doc.getElementsByTagName(\"row\");\n            for (int s = 0; s &lt; listOfPersons.getLength(); s++) {\n                Node firstPersonNode = listOfPersons.item(s);\n                if (firstPersonNode.getNodeType() == Node.ELEMENT_NODE) {\n                    Element firstPersonElement = (Element) firstPersonNode;\n                    // -------------------------------------------------------------------------------------\n\n                    NodeList CustIdList = firstPersonElement.getElementsByTagName(\"CustId\");\n                    Element CustIdElement = (Element) CustIdList.item(0);\n\n                    NodeList textIDList = CustIdElement.getChildNodes();\n                    String CustId = ((Node) textIDList.item(0)).getNodeValue()\n                                                               .trim();\n\n                    NodeList NameList = firstPersonElement.getElementsByTagName(\"Name\");\n                    Element NameElement = (Element) NameList.item(0);\n\n                    NodeList textNMList = NameElement.getChildNodes();\n                    String Name = ((Node) textNMList.item(0)).getNodeValue().trim();\n\n                    NodeList CityList = firstPersonElement.getElementsByTagName(\"City\");\n                    Element CityElement = (Element) CityList.item(0);\n\n                    NodeList textCTList = CityElement.getChildNodes();\n                    String City = ((Node) textCTList.item(0)).getNodeValue().trim();\n\n                    int i = st.executeUpdate(\"insert into customer(CustId,Name,City) values('\"\n                                             + CustId\n                                             + \"','\"\n                                             + Name\n                                             + \"','\"\n                                             + City\n                                             + \"')\");\n                }\n            }\n            System.out.println(\"Data is successfully inserted!\");\n\n        }\n        catch (Exception err) {\n            System.out.println(\" \" + err.getMessage());\n        }\n    }\n}\n</code></pre>\n\n<p>XML FILE that I am using but would like to possibly add more details about the customer in the future.</p>\n\n<pre><code>&lt;Customers&gt;\n   &lt;row&gt; \n      &lt;CustId&gt;1&lt;/CustId&gt;\n      &lt;Name&gt;Woodworks&lt;/Name&gt;\n      &lt;City&gt;Baltimore&lt;/City&gt;\n   &lt;/row&gt;\n   &lt;row&gt; \n      &lt;CustId&gt;2&lt;/CustId&gt;\n      &lt;Name&gt;Software Solutions&lt;/Name&gt;\n      &lt;City&gt;Boston&lt;/City&gt;\n   &lt;/row&gt;\n   &lt;row&gt; \n      &lt;CustId&gt;3&lt;/CustId&gt;\n      &lt;Name&gt;Food Fantasies&lt;/Name&gt;\n      &lt;City&gt;New York&lt;/City&gt;\n   &lt;/row&gt;\n&lt;/Customers&gt;\n</code></pre>\n\n<p>BUFFER READER INSERTED AND WORKING:</p>\n\n<pre><code>BufferedReader br = new BufferedReader(new FileReader(new File(\"c:\\\\testXML.xml\")));\nString line;\nStringBuilder sb = new StringBuilder();\n\nwhile((line=br.readLine())!= null){\n    sb.append(line.trim());\n}\nString strFileContent = sb.toString();\n</code></pre>\n"},{"tags":["java","gradle","github-actions","github-packages"],"owner":{"account_id":28014249,"reputation":19,"user_id":21396263,"display_name":"Nikolai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692710494,"creation_date":1692710394,"question_id":76953749,"body_markdown":"I&#39;ve made publication on GitgubPackages via gradle in according with tutorial from Github. My publication is placed on https://github.com/D0zee/language-server-for-KTS-scripts/packages/1926872 \r\n\r\nI want to use a concrete asset from publication in another Java application passing it to the executor inside Java code. \r\n\r\nHow to do it? I tried something like that: [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wXKyQ.png\r\n\r\n\r\nBut it was unsuccessful with error that `couldn&#39;t resolve kts-language-server:server:1.0.0.`","title":"How to use a concrete asset from GitHub publication?","body":"<p>I've made publication on GitgubPackages via gradle in according with tutorial from Github. My publication is placed on <a href=\"https://github.com/D0zee/language-server-for-KTS-scripts/packages/1926872\" rel=\"nofollow noreferrer\">https://github.com/D0zee/language-server-for-KTS-scripts/packages/1926872</a></p>\n<p>I want to use a concrete asset from publication in another Java application passing it to the executor inside Java code.</p>\n<p>How to do it? I tried something like that: <a href=\"https://i.stack.imgur.com/wXKyQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wXKyQ.png\" alt=\"enter image description here\" /></a></p>\n<p>But it was unsuccessful with error that <code>couldn't resolve kts-language-server:server:1.0.0.</code></p>\n"},{"tags":["java","spring-boot","soap"],"comments":[{"owner":{"account_id":11381766,"reputation":452,"user_id":8344485,"display_name":"juwil"},"score":0,"creation_date":1692710836,"post_id":76953753,"comment_id":135659201,"body_markdown":"can you build the project without intellij - just mvn clean install at the command line? And does your project persistence even compile? I cannot see an artifactId there in your pom","body":"can you build the project without intellij - just mvn clean install at the command line? And does your project persistence even compile? I cannot see an artifactId there in your pom"},{"owner":{"account_id":25254519,"reputation":32,"user_id":19086479,"display_name":"Mohamed amine ben hassen"},"score":0,"creation_date":1692711517,"post_id":76953753,"comment_id":135659397,"body_markdown":"yes i tried mvn clean install no errors also yes the persistence compile","body":"yes i tried mvn clean install no errors also yes the persistence compile"},{"owner":{"account_id":11381766,"reputation":452,"user_id":8344485,"display_name":"juwil"},"score":0,"creation_date":1692711846,"post_id":76953753,"comment_id":135659499,"body_markdown":"sorry didnt see your pom for persistence completely.. does your mvn at the command line use the same maven and jdk version as intellij?","body":"sorry didnt see your pom for persistence completely.. does your mvn at the command line use the same maven and jdk version as intellij?"},{"owner":{"account_id":25254519,"reputation":32,"user_id":19086479,"display_name":"Mohamed amine ben hassen"},"score":0,"creation_date":1692712311,"post_id":76953753,"comment_id":135659623,"body_markdown":"cmd uses mvn 3.8.6 and jdk 11 and intelij uses mvn 3.8.1 ,  jdk11 ,SDK JDK 19","body":"cmd uses mvn 3.8.6 and jdk 11 and intelij uses mvn 3.8.1 ,  jdk11 ,SDK JDK 19"},{"owner":{"account_id":11381766,"reputation":452,"user_id":8344485,"display_name":"juwil"},"score":0,"creation_date":1692713158,"post_id":76953753,"comment_id":135659856,"body_markdown":"mvn therofre should not be the problem, but what do you mean by &quot; jdk11 ,SDK JDK 19&quot;","body":"mvn therofre should not be the problem, but what do you mean by &quot; jdk11 ,SDK JDK 19&quot;"},{"owner":{"account_id":25254519,"reputation":32,"user_id":19086479,"display_name":"Mohamed amine ben hassen"},"score":0,"creation_date":1692718299,"post_id":76953753,"comment_id":135661143,"body_markdown":"its fixed ! turned out that the issue is related to intelij (project structure must have the persistence location included in module config)","body":"its fixed ! turned out that the issue is related to intelij (project structure must have the persistence location included in module config)"}],"owner":{"account_id":25254519,"reputation":32,"user_id":19086479,"display_name":"Mohamed amine ben hassen"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692710413,"creation_date":1692710413,"question_id":76953753,"body_markdown":"&quot;I am working on an API with Spring Boot (JDK 11, Spring Boot 2.7). The project contains only the implementation and the endpoints. The other project, called &#39;persistence,&#39; holds the entities and the repositories.\r\n\r\nI am trying to import classes from the &#39;persistence&#39; project into the API project. I have already added the dependency and built the JAR. I also checked the external libraries, and the classes are present there. However, when I attempt to import them, I receive suggestions with the correct package names, but pressing &#39;Enter&#39; doesn&#39;t result in any action.\r\n\r\nwhen I manually write the import statement, it seems that IntelliJ can&#39;t locate the dependency in the &#39;.m2&#39; folder. This situation is quite wierd.&quot;\r\n\r\n\r\npom of the API project :\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.14&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demoapisender&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demoAPI&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t\t&lt;!--  this is the project 2 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;persistence-for-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\r\n\r\n\t\t\r\n\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n\r\n\r\npom of the persistance project :\r\n\r\n```\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.persistence&lt;/groupId&gt;\r\n    &lt;artifactId&gt;persistence-for-api&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;persistence&lt;/name&gt;\r\n    &lt;description&gt;persistence-for-a&lt;/description&gt;\r\n\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.14&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;repackage&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;classifier&gt;exec&lt;/classifier&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nwhat i tried :\r\n\r\n-cleaning the cash in my Ide.\r\n-checking project structure .\r\n-clean and install .\r\n-deleting the folder in .m2\r\n\r\nwhat i suspect :\r\n\r\n-maven version problem (3.8.1).\r\n-Ide config.","title":"Can&#39;t import a class from an external project Springboot","body":"<p>&quot;I am working on an API with Spring Boot (JDK 11, Spring Boot 2.7). The project contains only the implementation and the endpoints. The other project, called 'persistence,' holds the entities and the repositories.</p>\n<p>I am trying to import classes from the 'persistence' project into the API project. I have already added the dependency and built the JAR. I also checked the external libraries, and the classes are present there. However, when I attempt to import them, I receive suggestions with the correct package names, but pressing 'Enter' doesn't result in any action.</p>\n<p>when I manually write the import statement, it seems that IntelliJ can't locate the dependency in the '.m2' folder. This situation is quite wierd.&quot;</p>\n<p>pom of the API project :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.14&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demoapisender&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demoAPI&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n\n    &lt;dependencies&gt;\n\n            &lt;!--  this is the project 2 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;persistence-for-api&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    \n\n        \n\n            &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>pom of the persistance project :</p>\n<pre><code>\n\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.persistence&lt;/groupId&gt;\n    &lt;artifactId&gt;persistence-for-api&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;persistence&lt;/name&gt;\n    &lt;description&gt;persistence-for-a&lt;/description&gt;\n\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.14&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;classifier&gt;exec&lt;/classifier&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>what i tried :</p>\n<p>-cleaning the cash in my Ide.\n-checking project structure .\n-clean and install .\n-deleting the folder in .m2</p>\n<p>what i suspect :</p>\n<p>-maven version problem (3.8.1).\n-Ide config.</p>\n"},{"tags":["java","guava"],"answers":[{"comments":[{"owner":{"account_id":3895256,"reputation":3542,"user_id":3224483,"accept_rate":70,"display_name":"Rainbolt"},"score":0,"creation_date":1392991290,"post_id":21936548,"comment_id":33229339,"body_markdown":"Two seconds too fast!","body":"Two seconds too fast!"},{"owner":{"account_id":159560,"reputation":11453,"user_id":379028,"accept_rate":85,"display_name":"Spring"},"score":0,"creation_date":1392991315,"post_id":21936548,"comment_id":33229363,"body_markdown":"@Samhain there are 100s fields I look for something easy to implkement","body":"@Samhain there are 100s fields I look for something easy to implkement"}],"tags":[],"owner":{"account_id":3363682,"reputation":1767,"user_id":2824919,"display_name":"Samhain"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1392991259,"creation_date":1392991259,"answer_id":21936548,"question_id":21936503,"body_markdown":"Use an inline null check\r\n\r\n    gearBox == null ? &quot;&quot; : String.valueOf(gearBox);\r\n\r\n","title":"Get empty string when null","body":"<p>Use an inline null check</p>\n\n<pre><code>gearBox == null ? \"\" : String.valueOf(gearBox);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1435980,"reputation":127999,"user_id":1357341,"accept_rate":100,"display_name":"arshajii"},"score":0,"creation_date":1392991753,"post_id":21936577,"comment_id":33229729,"body_markdown":"@Spring You should consider upgrading, especially with Java 8 coming out soon. In any case, I&#39;ll leave this answer in case it can be helpful for future visitors.","body":"@Spring You should consider upgrading, especially with Java 8 coming out soon. In any case, I&#39;ll leave this answer in case it can be helpful for future visitors."},{"owner":{"account_id":1435980,"reputation":127999,"user_id":1357341,"accept_rate":100,"display_name":"arshajii"},"score":4,"creation_date":1392992501,"post_id":21936577,"comment_id":33230261,"body_markdown":"Downvoter: please leave a comment. I would like to know what is wrong with my answer, and a downvote alone doesn&#39;t tell me.","body":"Downvoter: please leave a comment. I would like to know what is wrong with my answer, and a downvote alone doesn&#39;t tell me."},{"owner":{"account_id":2364348,"reputation":991,"user_id":2070363,"accept_rate":100,"display_name":"Wender"},"score":1,"creation_date":1508610387,"post_id":21936577,"comment_id":80680590,"body_markdown":"NIce. I suggest `Objects.toString(id, &quot;&quot;).trim()`","body":"NIce. I suggest <code>Objects.toString(id, &quot;&quot;).trim()</code>"},{"owner":{"account_id":6111237,"reputation":18715,"user_id":4767498,"accept_rate":87,"display_name":"M.kazem Akhgary"},"score":0,"creation_date":1541066314,"post_id":21936577,"comment_id":93093508,"body_markdown":"why it requires &gt; API 19... its a simple check. i guess i have to write that my self","body":"why it requires &gt; API 19... its a simple check. i guess i have to write that my self"},{"owner":{"account_id":1318781,"reputation":1683,"user_id":1265070,"accept_rate":29,"display_name":"ozma"},"score":2,"creation_date":1564381945,"post_id":21936577,"comment_id":100996679,"body_markdown":"The risk is that u r losing the type of your string. It is currently a String but if it will change to a different type in the future he compiler won&#39;t protect u","body":"The risk is that u r losing the type of your string. It is currently a String but if it will change to a different type in the future he compiler won&#39;t protect u"}],"tags":[],"owner":{"account_id":1435980,"reputation":127999,"user_id":1357341,"accept_rate":100,"display_name":"arshajii"},"comment_count":5,"down_vote_count":1,"up_vote_count":250,"is_accepted":true,"score":249,"last_activity_date":1392991702,"creation_date":1392991323,"answer_id":21936577,"question_id":21936503,"body_markdown":"You can use [`Objects.toString()`][1] (standard in Java 7):\r\n\r\n    Objects.toString(gearBox, &quot;&quot;)\r\n\r\n    Objects.toString(id, &quot;&quot;)\r\n\r\n---\r\n\r\nFrom the linked documentation:\r\n\r\n&gt;`public static String toString(Object o, String nullDefault)`\r\n\r\n&gt; &gt;Returns the result of calling `toString` on the first argument if the first argument is not null and returns the second argument otherwise.\r\n\r\n&gt; &gt;**Parameters:**  \r\n `o` - an object  \r\n `nullDefault` - string to return if the first argument is `null`\r\n\r\n&gt; &gt;**Returns:**  \r\n  the result of calling `toString` on the first argument if it is not `null` and the second argument otherwise.\r\n\r\n&gt; &gt;**See Also:**  \r\n  [`toString(Object)`][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#toString%28java.lang.Object,%20java.lang.String%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#toString%28java.lang.Object%29","title":"Get empty string when null","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#toString%28java.lang.Object,%20java.lang.String%29\"><code>Objects.toString()</code></a> (standard in Java 7):</p>\n\n<pre><code>Objects.toString(gearBox, \"\")\n\nObjects.toString(id, \"\")\n</code></pre>\n\n<hr>\n\n<p>From the linked documentation:</p>\n\n<blockquote>\n  <p><code>public static String toString(Object o, String nullDefault)</code></p>\n  \n  <blockquote>\n    <p>Returns the result of calling <code>toString</code> on the first argument if the first argument is not null and returns the second argument otherwise.</p>\n    \n    <p><strong>Parameters:</strong><br>\n     <code>o</code> - an object<br>\n     <code>nullDefault</code> - string to return if the first argument is <code>null</code></p>\n    \n    <p><strong>Returns:</strong><br>\n      the result of calling <code>toString</code> on the first argument if it is not <code>null</code> and the second argument otherwise.</p>\n    \n    <p><strong>See Also:</strong><br>\n      <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#toString%28java.lang.Object%29\"><code>toString(Object)</code></a></p>\n  </blockquote>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":159560,"reputation":11453,"user_id":379028,"accept_rate":85,"display_name":"Spring"},"score":0,"creation_date":1392991485,"post_id":21936586,"comment_id":33229494,"body_markdown":"what if string is string &quot;null&quot;? thats my problem","body":"what if string is string &quot;null&quot;? thats my problem"},{"owner":{"account_id":1417953,"reputation":45793,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"score":0,"creation_date":1392991885,"post_id":21936586,"comment_id":33229833,"body_markdown":"@Spring: Updated to take care of that case too.","body":"@Spring: Updated to take care of that case too."},{"owner":{"account_id":1836707,"reputation":1074,"user_id":1666946,"display_name":"Vroo"},"score":0,"creation_date":1595296831,"post_id":21936586,"comment_id":111418927,"body_markdown":"`StringUtils.defaultString` already checks for null. So the `replaceAll` is only changes the string is when it&#39;s a literal `&quot;null&quot;`, which is not what was asked for. Here&#39;s the source: `public static String defaultString(String str) { return str == null ? &quot;&quot; : str; }`","body":"<code>StringUtils.defaultString</code> already checks for null. So the <code>replaceAll</code> is only changes the string is when it&#39;s a literal <code>&quot;null&quot;</code>, which is not what was asked for. Here&#39;s the source: <code>public static String defaultString(String str) { return str == null ? &quot;&quot; : str; }</code>"},{"owner":{"account_id":1417953,"reputation":45793,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"score":0,"creation_date":1596531382,"post_id":21936586,"comment_id":111833387,"body_markdown":"I believe the first comment concerned the literal string `&quot;null&quot;`","body":"I believe the first comment concerned the literal string <code>&quot;null&quot;</code>"}],"tags":[],"owner":{"account_id":1417953,"reputation":45793,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"comment_count":4,"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1392991829,"creation_date":1392991344,"answer_id":21936586,"question_id":21936503,"body_markdown":"If you don&#39;t mind using Apache commons, they have a [`StringUtils.defaultString(String str)`][1] that does this.  \r\n\r\n&gt;  _Returns either the passed in String, or if the String is null, an empty String (&quot;&quot;)._\r\n\r\nIf you also want to get rid of `&quot;null&quot;`, you can do:  \r\n\r\n    StringUtils.defaultString(str).replaceAll(&quot;^null$&quot;, &quot;&quot;)\r\n\r\nor to ignore case:  \r\n\r\n    StringUtils.defaultString(str).replaceAll(&quot;^(?i)null$&quot;, &quot;&quot;)\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringUtils.html#defaultString%28java.lang.String%29","title":"Get empty string when null","body":"<p>If you don't mind using Apache commons, they have a <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringUtils.html#defaultString%28java.lang.String%29\" rel=\"noreferrer\"><code>StringUtils.defaultString(String str)</code></a> that does this.  </p>\n\n<blockquote>\n  <p><em>Returns either the passed in String, or if the String is null, an empty String (\"\").</em></p>\n</blockquote>\n\n<p>If you also want to get rid of <code>\"null\"</code>, you can do:  </p>\n\n<pre><code>StringUtils.defaultString(str).replaceAll(\"^null$\", \"\")\n</code></pre>\n\n<p>or to ignore case:  </p>\n\n<pre><code>StringUtils.defaultString(str).replaceAll(\"^(?i)null$\", \"\")\n</code></pre>\n"},{"comments":[{"owner":{"account_id":977258,"reputation":3591,"user_id":997977,"accept_rate":36,"display_name":"Juan Rada"},"score":0,"creation_date":1513173033,"post_id":21936963,"comment_id":82550129,"body_markdown":"from guava 18 you need to use `MoreObjects.firstNonNull`","body":"from guava 18 you need to use <code>MoreObjects.firstNonNull</code>"}],"tags":[],"owner":{"account_id":3925546,"reputation":1220,"user_id":3246177,"accept_rate":25,"display_name":"renke"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1392992413,"creation_date":1392992413,"answer_id":21936963,"question_id":21936503,"body_markdown":"Since you&#39;re using guava:\r\n\r\n    Objects.firstNonNull(gearBox, &quot;&quot;).toString();","title":"Get empty string when null","body":"<p>Since you're using guava:</p>\n\n<pre><code>Objects.firstNonNull(gearBox, \"\").toString();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":233512,"reputation":1264,"user_id":499059,"accept_rate":33,"display_name":"jack jin"},"score":2,"creation_date":1574061792,"post_id":42914980,"comment_id":104081591,"body_markdown":"if id is not a string, it seems that the second line code cannot work","body":"if id is not a string, it seems that the second line code cannot work"},{"owner":{"account_id":1836707,"reputation":1074,"user_id":1666946,"display_name":"Vroo"},"score":2,"creation_date":1595296599,"post_id":42914980,"comment_id":111418879,"body_markdown":"This does two method calls and allocates a new object and immediately discards it. This is not an improvement over the simple `gearBox == null ? &quot;&quot; : gearBox`. A single method call like `StringUtils.defaultString` is more JIT friendly.","body":"This does two method calls and allocates a new object and immediately discards it. This is not an improvement over the simple <code>gearBox == null ? &quot;&quot; : gearBox</code>. A single method call like <code>StringUtils.defaultString</code> is more JIT friendly."},{"owner":{"account_id":365271,"reputation":30305,"user_id":710099,"accept_rate":79,"display_name":"Federico Piazza"},"score":0,"creation_date":1595297509,"post_id":42914980,"comment_id":111419064,"body_markdown":"@Vroo if you don&#39;t want the discard then the `orElseGet` can be use instead","body":"@Vroo if you don&#39;t want the discard then the <code>orElseGet</code> can be use instead"},{"owner":{"account_id":1836707,"reputation":1074,"user_id":1666946,"display_name":"Vroo"},"score":1,"creation_date":1595387534,"post_id":42914980,"comment_id":111453583,"body_markdown":"@FedericoPiazza That&#39;s not an improvement. First, `orElseGet` takes a delegate so now I have ***three*** method calls. Second, an `Optional` object still gets created and then discarded.","body":"@FedericoPiazza That&#39;s not an improvement. First, <code>orElseGet</code> takes a delegate so now I have <b><i>three</i></b> method calls. Second, an <code>Optional</code> object still gets created and then discarded."}],"tags":[],"owner":{"account_id":365271,"reputation":30305,"user_id":710099,"accept_rate":79,"display_name":"Federico Piazza"},"comment_count":4,"down_vote_count":0,"up_vote_count":69,"is_accepted":false,"score":69,"last_activity_date":1490048242,"creation_date":1490048242,"answer_id":42914980,"question_id":21936503,"body_markdown":"For java 8 you can use Optional approach:\r\n\r\n    Optional.ofNullable(gearBox).orElse(&quot;&quot;);\r\n    Optional.ofNullable(id).orElse(&quot;&quot;);","title":"Get empty string when null","body":"<p>For java 8 you can use Optional approach:</p>\n\n<pre><code>Optional.ofNullable(gearBox).orElse(\"\");\nOptional.ofNullable(id).orElse(\"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6691443,"reputation":411,"user_id":5160828,"display_name":"Won-Sik Kim"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1525329690,"creation_date":1525327605,"answer_id":50148015,"question_id":21936503,"body_markdown":"If alternative way, **Guava** provides `Strings.nullToEmpty(String)`.\r\n\r\n**Source code**\r\n\r\n    String str = null;\r\n    str = Strings.nullToEmpty(str);\r\n    System.out.println(&quot;String length : &quot; + str.length());\r\n\r\n\r\n**Result**\r\n\r\n    0\r\n\r\n\r\n\r\n","title":"Get empty string when null","body":"<p>If alternative way, <strong>Guava</strong> provides <code>Strings.nullToEmpty(String)</code>.</p>\n\n<p><strong>Source code</strong></p>\n\n<pre><code>String str = null;\nstr = Strings.nullToEmpty(str);\nSystem.out.println(\"String length : \" + str.length());\n</code></pre>\n\n<p><strong>Result</strong></p>\n\n<pre><code>0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12917647,"reputation":1226,"user_id":9341311,"display_name":"Ari Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1598395767,"creation_date":1598395767,"answer_id":63588155,"question_id":21936503,"body_markdown":"In Java 9+ use : Objects.requireNonNullElse (obj, defaultObj) https://docs.oracle.com/javase/9/docs/api/java/util/Objects.html#requireNonNullElse-T-T-\r\n\r\n    //-- returns empty string if obj is null\r\n    Objects.requireNonNullElse (obj, &quot;&quot;)   ","title":"Get empty string when null","body":"<p>In Java 9+ use : Objects.requireNonNullElse (obj, defaultObj) <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Objects.html#requireNonNullElse-T-T-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/9/docs/api/java/util/Objects.html#requireNonNullElse-T-T-</a></p>\n<pre><code>//-- returns empty string if obj is null\nObjects.requireNonNullElse (obj, &quot;&quot;)   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":12322042,"reputation":139,"user_id":8991081,"display_name":"Akshay Sardhara"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1611924567,"creation_date":1611924567,"answer_id":65954811,"question_id":21936503,"body_markdown":"`StringUtils.defaultString(String str)` Returns either the passed in String, or if the String is null, an empty String (&quot;&quot;).\r\n\r\nExample from java doc\r\n&gt; `StringUtils.defaultString(null)`  will return `&quot;&quot;`\r\n&gt; `StringUtils.defaultString(&quot;&quot;)`    will return `&quot;&quot;`\r\n&gt; `StringUtils.defaultString(&quot;bat&quot;)` will return `&quot;bat&quot;`","title":"Get empty string when null","body":"<p><code>StringUtils.defaultString(String str)</code> Returns either the passed in String, or if the String is null, an empty String (&quot;&quot;).</p>\n<p>Example from java doc</p>\n<blockquote>\n<p><code>StringUtils.defaultString(null)</code>  will return <code>&quot;&quot;</code>\n<code>StringUtils.defaultString(&quot;&quot;)</code>    will return <code>&quot;&quot;</code>\n<code>StringUtils.defaultString(&quot;bat&quot;)</code> will return <code>&quot;bat&quot;</code></p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1692869132,"post_id":76953746,"comment_id":135683542,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76953746/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29011855,"reputation":3,"user_id":22223191,"display_name":"Flavian-Calinic Stuparu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692710379,"creation_date":1692710379,"answer_id":76953746,"question_id":21936503,"body_markdown":"This should do the trick: `&quot;&quot; + gearBox`\r\n\r\n ","title":"Get empty string when null","body":"<p>This should do the trick: <code>&quot;&quot; + gearBox</code></p>\n"}],"owner":{"account_id":159560,"reputation":11453,"user_id":379028,"accept_rate":85,"display_name":"Spring"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175193,"favorite_count":0,"down_vote_count":0,"up_vote_count":113,"accepted_answer_id":21936577,"answer_count":9,"score":113,"last_activity_date":1692710379,"creation_date":1392991157,"question_id":21936503,"body_markdown":"I want to get string values of my fields (they can be type of long string or any object),\r\n\r\nif a field is null then it should return empty string, I did this with guava;\r\n\r\n    nullToEmpty(String.valueOf(gearBox))\r\n    nullToEmpty(String.valueOf(id))\r\n    ...\r\n\r\nBut this returns null if gearbox is null! Not empty string because valueOf methdod returns string &quot;null&quot; which leads to errors.\r\n\r\nAny Ideas?\r\n\r\nEDIt: there are 100s fields I look for something easy to implement\r\n               ","title":"Get empty string when null","body":"<p>I want to get string values of my fields (they can be type of long string or any object),</p>\n\n<p>if a field is null then it should return empty string, I did this with guava;</p>\n\n<pre><code>nullToEmpty(String.valueOf(gearBox))\nnullToEmpty(String.valueOf(id))\n...\n</code></pre>\n\n<p>But this returns null if gearbox is null! Not empty string because valueOf methdod returns string \"null\" which leads to errors.</p>\n\n<p>Any Ideas?</p>\n\n<p>EDIt: there are 100s fields I look for something easy to implement</p>\n"},{"tags":["java","gradle","fatjar"],"comments":[{"owner":{"account_id":1114060,"reputation":1976,"user_id":2723001,"accept_rate":62,"display_name":"Alexiy"},"score":0,"creation_date":1532175760,"post_id":51455197,"comment_id":89881453,"body_markdown":"You said you are using &quot;assemble&quot; to make the jar. What about &quot;build&quot;?","body":"You said you are using &quot;assemble&quot; to make the jar. What about &quot;build&quot;?"},{"owner":{"account_id":7206657,"reputation":396,"user_id":5502060,"display_name":"Hadrien"},"score":0,"creation_date":1532178219,"post_id":51455197,"comment_id":89882159,"body_markdown":"From what I read online, assemble seemed to be enough for what I needed","body":"From what I read online, assemble seemed to be enough for what I needed"}],"answers":[{"comments":[{"owner":{"account_id":7206657,"reputation":396,"user_id":5502060,"display_name":"Hadrien"},"score":0,"creation_date":1532177525,"post_id":51455886,"comment_id":89881949,"body_markdown":"Thank you for the explainations, the problem got solved","body":"Thank you for the explainations, the problem got solved"}],"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"comment_count":1,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1692710159,"creation_date":1532174663,"answer_id":51455886,"question_id":51455197,"body_markdown":"You are running into the one major problem when building a FAT JAR:\r\n\r\nOne of your source JARs is signed and merging it into one fat jar destroys the signature.\r\n\r\nIt looks like Java recognizes that there are unsigned classes and ignores everything but the signed classes. As all classes that do not belong to the signed library are unsigned (like your `Launcher` class) they are ignored and therefore can&#39;t be loaded.\r\n\r\nIn your case it looks like that the dependency `org.bouncycastle:bcprov-jdk15on:1.55` of `com.auth0:java-jwt:3.1.0` is the signed jar file. Because my sample project correctly executes `Launcher` when I uncomment this dependency. \r\n\r\nBouncy castle is a crypto provider that requires a valid signature otherwise it will not run from my experience. Therefore it is impossible to create a fat jar for your project that just contains all classes. \r\n\r\nYou can try to create a fat jar with everything except Bouncycastle and ship Bouncycastle JAR seperatly.\r\n\r\nOr a fat jar that contains all the required JAR files inside (JAR inside JAR) and that uses a special class loader that is able to load classes from within such a JAR inside a JAR. See for example: https://stackoverflow.com/a/33420518/150978\r\n","title":"Gradle - FatJar - Could not find or load main class","body":"<p>You are running into the one major problem when building a FAT JAR:</p>\n<p>One of your source JARs is signed and merging it into one fat jar destroys the signature.</p>\n<p>It looks like Java recognizes that there are unsigned classes and ignores everything but the signed classes. As all classes that do not belong to the signed library are unsigned (like your <code>Launcher</code> class) they are ignored and therefore can't be loaded.</p>\n<p>In your case it looks like that the dependency <code>org.bouncycastle:bcprov-jdk15on:1.55</code> of <code>com.auth0:java-jwt:3.1.0</code> is the signed jar file. Because my sample project correctly executes <code>Launcher</code> when I uncomment this dependency.</p>\n<p>Bouncy castle is a crypto provider that requires a valid signature otherwise it will not run from my experience. Therefore it is impossible to create a fat jar for your project that just contains all classes.</p>\n<p>You can try to create a fat jar with everything except Bouncycastle and ship Bouncycastle JAR seperatly.</p>\n<p>Or a fat jar that contains all the required JAR files inside (JAR inside JAR) and that uses a special class loader that is able to load classes from within such a JAR inside a JAR. See for example: <a href=\"https://stackoverflow.com/a/33420518/150978\">https://stackoverflow.com/a/33420518/150978</a></p>\n"},{"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":3,"creation_date":1532280783,"post_id":51456080,"comment_id":89903775,"body_markdown":"@Hadrien: Make sure your app really works as expected. Bouncycastle is a crypto provider which requires a signature, therefore removing the signature makes all code parts fail which depend on the BouncyCastle JCE.","body":"@Hadrien: Make sure your app really works as expected. Bouncycastle is a crypto provider which requires a signature, therefore removing the signature makes all code parts fail which depend on the BouncyCastle JCE."},{"owner":{"account_id":2495633,"reputation":241,"user_id":2172133,"display_name":"theferrit32"},"score":1,"creation_date":1551751045,"post_id":51456080,"comment_id":96745442,"body_markdown":"After a long time searching, this also solved it for me, thanks!","body":"After a long time searching, this also solved it for me, thanks!"},{"owner":{"account_id":4245679,"reputation":1079,"user_id":3474438,"display_name":"tmp"},"score":2,"creation_date":1553543800,"post_id":51456080,"comment_id":97415788,"body_markdown":"Thank you! Thank you! Thank you!","body":"Thank you! Thank you! Thank you!"},{"owner":{"account_id":4343041,"reputation":61,"user_id":3545815,"display_name":"Javad Vovin"},"score":0,"creation_date":1574173302,"post_id":51456080,"comment_id":104131097,"body_markdown":"Works like a charm","body":"Works like a charm"},{"owner":{"account_id":5595244,"reputation":355,"user_id":4433222,"display_name":"Konrad"},"score":0,"creation_date":1598424876,"post_id":51456080,"comment_id":112450809,"body_markdown":"Wow, can&#39;t believe the message is non informative and that there are no tools, which could lead to point this out. Have spent a whole day on looking on related questions, then found this only by accident. Thanks!","body":"Wow, can&#39;t believe the message is non informative and that there are no tools, which could lead to point this out. Have spent a whole day on looking on related questions, then found this only by accident. Thanks!"},{"owner":{"account_id":8763927,"reputation":1512,"user_id":6553042,"display_name":"fuat"},"score":0,"creation_date":1604677714,"post_id":51456080,"comment_id":114428660,"body_markdown":"Thanks! Can you explain this sentence a little more _&quot;This will exclude the signatures of interfering dependencies.&quot;_  ?  What is interfering dependency? What&#39;s wrong with them ?","body":"Thanks! Can you explain this sentence a little more <i>&quot;This will exclude the signatures of interfering dependencies.&quot;</i>  ?  What is interfering dependency? What&#39;s wrong with them ?"},{"owner":{"account_id":1817229,"reputation":2339,"user_id":1652085,"accept_rate":27,"display_name":"schirrmacher"},"score":0,"creation_date":1616685407,"post_id":51456080,"comment_id":118085876,"body_markdown":"OMG, I spent so much time on this! thanks a lot","body":"OMG, I spent so much time on this! thanks a lot"},{"owner":{"account_id":6451256,"reputation":91,"user_id":4998108,"display_name":"Jagadeesh.c"},"score":0,"creation_date":1638379113,"post_id":51456080,"comment_id":124074184,"body_markdown":"Thank you so much","body":"Thank you so much"},{"owner":{"account_id":91067,"reputation":2918,"user_id":250287,"accept_rate":83,"display_name":"Born2Smile"},"score":0,"creation_date":1692709867,"post_id":51456080,"comment_id":135658946,"body_markdown":"In my case, `exclude &#39;META-INF/*.SF&#39;` was sufficient","body":"In my case, <code>exclude &#39;META-INF&#47;*.SF&#39;</code> was sufficient"}],"tags":[],"owner":{"account_id":6953145,"reputation":3000,"user_id":5335131,"display_name":"avolkmann"},"comment_count":9,"down_vote_count":0,"up_vote_count":58,"is_accepted":true,"score":58,"last_activity_date":1587391768,"creation_date":1532176185,"answer_id":51456080,"question_id":51455197,"body_markdown":"I reproduced your issue locally.\r\n\r\nJust add `exclude &#39;META-INF/*.RSA&#39;, &#39;META-INF/*.SF&#39;, &#39;META-INF/*.DSA&#39;` to the jar task. \r\n\r\nThis will exclude the signatures of interfering dependencies. \r\n\r\nExample:\r\n```\r\njar {\r\n    manifest {\r\n        attributes &quot;Main-Class&quot;: mainClassName\r\n    }\r\n\r\n    from {\r\n        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\r\n    }\r\n    exclude &#39;META-INF/*.RSA&#39;\r\n    exclude &#39;META-INF/*.SF&#39;\r\n    exclude &#39;META-INF/*.DSA&#39;\r\n}\r\n```","title":"Gradle - FatJar - Could not find or load main class","body":"<p>I reproduced your issue locally.</p>\n\n<p>Just add <code>exclude 'META-INF/*.RSA', 'META-INF/*.SF', 'META-INF/*.DSA'</code> to the jar task. </p>\n\n<p>This will exclude the signatures of interfering dependencies. </p>\n\n<p>Example:</p>\n\n<pre><code>jar {\n    manifest {\n        attributes \"Main-Class\": mainClassName\n    }\n\n    from {\n        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n    exclude 'META-INF/*.RSA'\n    exclude 'META-INF/*.SF'\n    exclude 'META-INF/*.DSA'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14088536,"reputation":1289,"user_id":10177637,"display_name":"Nipun"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1534704084,"creation_date":1534704084,"answer_id":51920763,"question_id":51455197,"body_markdown":"Try to exclude .SF .DSA .RSA files, example below, Nipun\r\n\r\nHope this works out for you\r\n\r\n    task customFatJar(type: Jar) {\r\n      baseName = &#39;XXXXX&#39;\r\n      from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } \r\n      }\r\n      with jar\r\n\r\n      exclude &quot;META-INF/*.SF&quot;\r\n      exclude &quot;META-INF/*.DSA&quot;\r\n      exclude &quot;META-INF/*.RSA&quot;\r\n\r\n      manifest {\r\n        attributes &#39;Main-Class&#39;: &#39;com.nipun.MyMainClass&#39;\r\n      }\r\n    }","title":"Gradle - FatJar - Could not find or load main class","body":"<p>Try to exclude .SF .DSA .RSA files, example below, Nipun</p>\n\n<p>Hope this works out for you</p>\n\n<pre><code>task customFatJar(type: Jar) {\n  baseName = 'XXXXX'\n  from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } \n  }\n  with jar\n\n  exclude \"META-INF/*.SF\"\n  exclude \"META-INF/*.DSA\"\n  exclude \"META-INF/*.RSA\"\n\n  manifest {\n    attributes 'Main-Class': 'com.nipun.MyMainClass'\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16643589,"reputation":191,"user_id":12028426,"display_name":"Waqqas Sharif"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668639583,"creation_date":1668639583,"answer_id":74468290,"question_id":51455197,"body_markdown":"Adding\r\n\r\n    exclude &#39;META-INF/*.RSA&#39;\r\n    exclude &#39;META-INF/*.SF&#39;\r\n    exclude &#39;META-INF/*.DSA&#39;\r\n\r\nFixed my issue.","title":"Gradle - FatJar - Could not find or load main class","body":"<p>Adding</p>\n<pre><code>exclude 'META-INF/*.RSA'\nexclude 'META-INF/*.SF'\nexclude 'META-INF/*.DSA'\n</code></pre>\n<p>Fixed my issue.</p>\n"}],"owner":{"account_id":7206657,"reputation":396,"user_id":5502060,"display_name":"Hadrien"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15589,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":51456080,"answer_count":4,"score":27,"last_activity_date":1692710159,"creation_date":1532169230,"question_id":51455197,"body_markdown":"I know that question was asked a lot and has many answers, but i still get it and I don&#39;t understand why...\r\n\r\nI am trying to generate a `.jar` from a projet with dependencies with gradle.\r\n\r\nI have a class `src/main/java/Launcher.java`, in which I have my `main` method.\r\n\r\nthere is my `build.gradle`\r\n\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;application&#39;\r\n    }\r\n    \r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    sourceCompatibility = 1.8\r\n    mainClassName = &#39;Launcher&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        compile &#39;commons-io:commons-io:2.1&#39;\r\n        compile &#39;io.vertx:vertx-core:3.4.0&#39;\r\n        compile &#39;io.vertx:vertx-web:3.4.0&#39;\r\n        compile &#39;com.google.code.gson:gson:1.7.2&#39;\r\n        compile &quot;com.auth0:java-jwt:3.1.0&quot;\r\n        compile &#39;org.mongodb:mongo-java-driver:3.4.1&#39;\r\n        compile &#39;com.google.guava:guava:24.1-jre&#39;\r\n        compile &#39;commons-io:commons-io:2.6&#39;\r\n    }\r\n    \r\n    jar {\r\n        manifest {\r\n            attributes &quot;Main-Class&quot;: mainClassName\r\n        }\r\n     \r\n        from {\r\n            configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\r\n        }\r\n    }\r\n\r\nI use `$&gt;gradle assemble` to generate my jar\r\nthen `$&gt;java -jar path/to/my/.jar`\r\nAnd i get the error &quot;could not find or load main class Launcher&quot;...\r\n\r\nI dont understand why, when I look in the .jar, I have Launcher class and in META-INF I have my manifest\r\n\r\n[![screenshot][1]][1]\r\n\r\nSorry for still asking this question in 2018 but i&#39;m loosing my mind trying to figure out what&#39;s wrong. I hope somone will have the answer !\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kblqu.png","title":"Gradle - FatJar - Could not find or load main class","body":"<p>I know that question was asked a lot and has many answers, but i still get it and I don't understand why...</p>\n\n<p>I am trying to generate a <code>.jar</code> from a projet with dependencies with gradle.</p>\n\n<p>I have a class <code>src/main/java/Launcher.java</code>, in which I have my <code>main</code> method.</p>\n\n<p>there is my <code>build.gradle</code></p>\n\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n}\n\nversion '1.0-SNAPSHOT'\nsourceCompatibility = 1.8\nmainClassName = 'Launcher'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile 'commons-io:commons-io:2.1'\n    compile 'io.vertx:vertx-core:3.4.0'\n    compile 'io.vertx:vertx-web:3.4.0'\n    compile 'com.google.code.gson:gson:1.7.2'\n    compile \"com.auth0:java-jwt:3.1.0\"\n    compile 'org.mongodb:mongo-java-driver:3.4.1'\n    compile 'com.google.guava:guava:24.1-jre'\n    compile 'commons-io:commons-io:2.6'\n}\n\njar {\n    manifest {\n        attributes \"Main-Class\": mainClassName\n    }\n\n    from {\n        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n}\n</code></pre>\n\n<p>I use <code>$&gt;gradle assemble</code> to generate my jar\nthen <code>$&gt;java -jar path/to/my/.jar</code>\nAnd i get the error \"could not find or load main class Launcher\"...</p>\n\n<p>I dont understand why, when I look in the .jar, I have Launcher class and in META-INF I have my manifest</p>\n\n<p><a href=\"https://i.stack.imgur.com/kblqu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kblqu.png\" alt=\"screenshot\"></a></p>\n\n<p>Sorry for still asking this question in 2018 but i'm loosing my mind trying to figure out what's wrong. I hope somone will have the answer !</p>\n"},{"tags":["java","appium","windows","winappdriver"],"answers":[{"comments":[{"owner":{"account_id":2342489,"reputation":1350,"user_id":7605370,"display_name":"Vijendran Selvarajah"},"score":0,"creation_date":1526543078,"post_id":44417643,"comment_id":87787521,"body_markdown":"Thanks for your answer, But I have found the correct way. Please refer my answer","body":"Thanks for your answer, But I have found the correct way. Please refer my answer"}],"tags":[],"owner":{"account_id":10502992,"reputation":127,"user_id":7741150,"accept_rate":75,"display_name":"teja"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1496851208,"creation_date":1496851208,"answer_id":44417643,"question_id":44410681,"body_markdown":"to my testing, the calculator app in windows doesn&#39;t open when you giving the system path you have to use\r\n**Microsoft.WindowsCalculator_8wekyb3d8bbwe!App**\r\n\r\nand you don&#39;t need to open appium sever has appium has the older version of winappdriver(0.7)\r\n\r\nand just saying the winappdriver server should be running in the background ","title":"The URL &#39;/session&#39; did not map to a valid resource | How to run desktop application test using winAppDriver / windows application driver using java?","body":"<p>to my testing, the calculator app in windows doesn't open when you giving the system path you have to use\n<strong>Microsoft.WindowsCalculator_8wekyb3d8bbwe!App</strong></p>\n\n<p>and you don't need to open appium sever has appium has the older version of winappdriver(0.7)</p>\n\n<p>and just saying the winappdriver server should be running in the background </p>\n"},{"comments":[{"owner":{"account_id":2222059,"reputation":659,"user_id":1961222,"accept_rate":81,"display_name":"emfi"},"score":0,"creation_date":1602759252,"post_id":44492165,"comment_id":113824453,"body_markdown":"Let me add the info here, as I stumbled upon it: To use WinAppDriver you need to run it as Admin and to activate Developer Mode in Windows Settings.","body":"Let me add the info here, as I stumbled upon it: To use WinAppDriver you need to run it as Admin and to activate Developer Mode in Windows Settings."}],"tags":[],"owner":{"account_id":2342489,"reputation":1350,"user_id":7605370,"display_name":"Vijendran Selvarajah"},"comment_count":1,"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1497246385,"creation_date":1497246385,"answer_id":44492165,"question_id":44410681,"body_markdown":"After long research, I have found the answer for the above question. We can solve this using two methods.\r\n\r\n&gt; ***NOTE:*** You should start either *appium server* **or** *winappdriver.exe*. Don&#39;t try to run both appium and winappdriver at once by your self.\r\n\r\n 1. **If you are starting appium server**, you should give the URI as well as below following by the IP and port;\r\n\r\n    `CalculatorSession = new IOSDriver(new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;), capabilities);`\r\n\r\n 2. **If you are running the winappdriver.exe directly,** you should give only the IP and the port of winappdriver as below;\r\n\r\n    `CalculatorSession = new IOSDriver(new URL(&quot;http://127.0.0.1:4723&quot;), capabilities);`\r\n\r\n\r\n","title":"The URL &#39;/session&#39; did not map to a valid resource | How to run desktop application test using winAppDriver / windows application driver using java?","body":"<p>After long research, I have found the answer for the above question. We can solve this using two methods.</p>\n\n<blockquote>\n  <p><strong><em>NOTE:</em></strong> You should start either <em>appium server</em> <strong>or</strong> <em>winappdriver.exe</em>. Don't try to run both appium and winappdriver at once by your self.</p>\n</blockquote>\n\n<ol>\n<li><p><strong>If you are starting appium server</strong>, you should give the URI as well as below following by the IP and port;</p>\n\n<p><code>CalculatorSession = new IOSDriver(new URL(\"http://127.0.0.1:4723/wd/hub\"), capabilities);</code></p></li>\n<li><p><strong>If you are running the winappdriver.exe directly,</strong> you should give only the IP and the port of winappdriver as below;</p>\n\n<p><code>CalculatorSession = new IOSDriver(new URL(\"http://127.0.0.1:4723\"), capabilities);</code></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2523664,"reputation":2493,"user_id":2193455,"accept_rate":70,"display_name":"kangear"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1586315393,"creation_date":1586315393,"answer_id":61092732,"question_id":44410681,"body_markdown":"Thanks @Vijendran Selvarajah at first.\r\n\r\nfor this examplehttp://appium.io/docs/en/about-appium/getting-started/\r\nneed add this line `path: &quot;/wd/hub&quot;`\r\n``` javascript\r\n// javascript\r\n\r\nconst wdio = require(&quot;webdriverio&quot;);\r\nconst assert = require(&quot;assert&quot;);\r\n\r\nconst opts = {\r\n  port: 4723,\r\n  path: &quot;/wd/hub&quot;, // fix: The URL &#39;/session&#39; did not map to a valid resource\r\n  capabilities: {\r\n    platformName: &quot;Android&quot;,\r\n    platformVersion: &quot;8&quot;,\r\n    deviceName: &quot;Android Emulator&quot;,\r\n    app: &quot;/path/to/the/downloaded/ApiDemos.apk&quot;,\r\n    appPackage: &quot;io.appium.android.apis&quot;,\r\n    appActivity: &quot;.view.TextFields&quot;,\r\n    automationName: &quot;UiAutomator2&quot;\r\n  }\r\n};\r\n\r\nasync function main () {\r\n  const client = await wdio.remote(opts);\r\n\r\n  const field = await client.$(&quot;android.widget.EditText&quot;);\r\n  await field.setValue(&quot;Hello World!&quot;);\r\n  const value = await field.getText();\r\n  assert.equal(value,&quot;Hello World!&quot;);\r\n\r\n  await client.deleteSession();\r\n}\r\n\r\nmain();\r\n\r\n```\r\n\r\nI will share a completed doc and zip in the feature about how to use Appium to test Android App with all deps.","title":"The URL &#39;/session&#39; did not map to a valid resource | How to run desktop application test using winAppDriver / windows application driver using java?","body":"<p>Thanks @Vijendran Selvarajah at first.</p>\n\n<p>for this example<a href=\"http://appium.io/docs/en/about-appium/getting-started/\" rel=\"noreferrer\">http://appium.io/docs/en/about-appium/getting-started/</a>\nneed add this line <code>path: \"/wd/hub\"</code></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// javascript\n\nconst wdio = require(\"webdriverio\");\nconst assert = require(\"assert\");\n\nconst opts = {\n  port: 4723,\n  path: \"/wd/hub\", // fix: The URL '/session' did not map to a valid resource\n  capabilities: {\n    platformName: \"Android\",\n    platformVersion: \"8\",\n    deviceName: \"Android Emulator\",\n    app: \"/path/to/the/downloaded/ApiDemos.apk\",\n    appPackage: \"io.appium.android.apis\",\n    appActivity: \".view.TextFields\",\n    automationName: \"UiAutomator2\"\n  }\n};\n\nasync function main () {\n  const client = await wdio.remote(opts);\n\n  const field = await client.$(\"android.widget.EditText\");\n  await field.setValue(\"Hello World!\");\n  const value = await field.getText();\n  assert.equal(value,\"Hello World!\");\n\n  await client.deleteSession();\n}\n\nmain();\n\n</code></pre>\n\n<p>I will share a completed doc and zip in the feature about how to use Appium to test Android App with all deps.</p>\n"},{"tags":[],"owner":{"account_id":9992923,"reputation":33,"user_id":7391536,"display_name":"Sudip Neupane"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692710083,"creation_date":1692710083,"answer_id":76953700,"question_id":44410681,"body_markdown":"for appium 2.0 it can be fixed by removing &quot;/&quot; after port. \r\neg : \r\nappium_url = &quot;http://0.0.0.0:4723&quot;\r\n\r\n\r\n","title":"The URL &#39;/session&#39; did not map to a valid resource | How to run desktop application test using winAppDriver / windows application driver using java?","body":"<p>for appium 2.0 it can be fixed by removing &quot;/&quot; after port.\neg :\nappium_url = &quot;http://0.0.0.0:4723&quot;</p>\n"}],"owner":{"account_id":2342489,"reputation":1350,"user_id":7605370,"display_name":"Vijendran Selvarajah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16023,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":44492165,"answer_count":4,"score":11,"last_activity_date":1692710083,"creation_date":1496832889,"question_id":44410681,"body_markdown":"I&#39;m trying to run automate test for windows calculator app on windows10 using **Windows application driver (winAppDriver)**, **appium** and **java** as below example:  [https://github.com/Microsoft/WinAppDriver/tree/master/Samples/Java/CalculatorTest][1], but when I run the test after started the appium getting below mentioned error:\r\n\r\n    org.openqa.selenium.UnsupportedCommandException: The URL &#39;/session&#39; did not map to a valid resource\r\n    Command duration or timeout: 204 milliseconds\r\n    Build info: version: &#39;2.53.0&#39;, revision: &#39;35ae25b1534ae328c771e0856c93e187490ca824&#39;, time: &#39;2016-03-15 10:43:46&#39;\r\n    System info: host: &#39;LKXXXX&#39;, ip: &#39;10.88.68.53&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_131&#39;\r\n    Driver info: io.appium.java_client.ios.IOSDriver\r\n\r\nMy code is as below:\r\n\r\n    import org.junit.*;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.remote.DesiredCapabilities;\r\n    import java.util.concurrent.TimeUnit;\r\n    import java.net.URL;\r\n    import io.appium.java_client.ios.IOSDriver;\r\n    \r\n    public class CalculatorTest {\r\n    \r\n        private static IOSDriver CalculatorSession = null;\r\n        private static WebElement CalculatorResult = null;\r\n    \r\n        @BeforeClass\r\n        public static void setup() {\r\n            try {\r\n                DesiredCapabilities capabilities = new DesiredCapabilities();\r\n                capabilities.setCapability(&quot;app&quot;, &quot;C:\\\\Windows\\\\System32\\\\calc.exe&quot;);\r\n                CalculatorSession = new IOSDriver(new URL(&quot;http://127.0.0.1:4723&quot;), capabilities);\r\n                CalculatorSession.manage().timeouts().implicitlyWait(2, TimeUnit.SECONDS);\r\n    \r\n                CalculatorSession.findElementByName(&quot;Clear&quot;).click();\r\n                CalculatorSession.findElementByName(&quot;Seven&quot;).click();\r\n                CalculatorResult = CalculatorSession.findElementByName(&quot;Display is  7 &quot;);\r\n                Assert.assertNotNull(CalculatorResult);\r\n    \r\n            }catch(Exception e){\r\n                e.printStackTrace();\r\n            } finally {\r\n            }\r\n        }\r\n    }\r\n\r\n***My Dev Environment*** \r\n\r\n - Windows 10 (Developer mode enabled)\r\n - appium v1.6.5\r\n - java v1.8\r\n - winappdriver v0.9-beta\r\n - IDE - Eclipse\r\n\r\nI will be glad if anyone can help me to fix this issue.\r\n\r\nThanks in advance.\r\n\r\n  [1]: https://github.com/Microsoft/WinAppDriver/tree/master/Samples/Java/CalculatorTest\r\n","title":"The URL &#39;/session&#39; did not map to a valid resource | How to run desktop application test using winAppDriver / windows application driver using java?","body":"<p>I'm trying to run automate test for windows calculator app on windows10 using <strong>Windows application driver (winAppDriver)</strong>, <strong>appium</strong> and <strong>java</strong> as below example:  <a href=\"https://github.com/Microsoft/WinAppDriver/tree/master/Samples/Java/CalculatorTest\" rel=\"noreferrer\">https://github.com/Microsoft/WinAppDriver/tree/master/Samples/Java/CalculatorTest</a>, but when I run the test after started the appium getting below mentioned error:</p>\n\n<pre><code>org.openqa.selenium.UnsupportedCommandException: The URL '/session' did not map to a valid resource\nCommand duration or timeout: 204 milliseconds\nBuild info: version: '2.53.0', revision: '35ae25b1534ae328c771e0856c93e187490ca824', time: '2016-03-15 10:43:46'\nSystem info: host: 'LKXXXX', ip: '10.88.68.53', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_131'\nDriver info: io.appium.java_client.ios.IOSDriver\n</code></pre>\n\n<p>My code is as below:</p>\n\n<pre><code>import org.junit.*;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.remote.DesiredCapabilities;\nimport java.util.concurrent.TimeUnit;\nimport java.net.URL;\nimport io.appium.java_client.ios.IOSDriver;\n\npublic class CalculatorTest {\n\n    private static IOSDriver CalculatorSession = null;\n    private static WebElement CalculatorResult = null;\n\n    @BeforeClass\n    public static void setup() {\n        try {\n            DesiredCapabilities capabilities = new DesiredCapabilities();\n            capabilities.setCapability(\"app\", \"C:\\\\Windows\\\\System32\\\\calc.exe\");\n            CalculatorSession = new IOSDriver(new URL(\"http://127.0.0.1:4723\"), capabilities);\n            CalculatorSession.manage().timeouts().implicitlyWait(2, TimeUnit.SECONDS);\n\n            CalculatorSession.findElementByName(\"Clear\").click();\n            CalculatorSession.findElementByName(\"Seven\").click();\n            CalculatorResult = CalculatorSession.findElementByName(\"Display is  7 \");\n            Assert.assertNotNull(CalculatorResult);\n\n        }catch(Exception e){\n            e.printStackTrace();\n        } finally {\n        }\n    }\n}\n</code></pre>\n\n<p><strong><em>My Dev Environment</em></strong> </p>\n\n<ul>\n<li>Windows 10 (Developer mode enabled)</li>\n<li>appium v1.6.5</li>\n<li>java v1.8</li>\n<li>winappdriver v0.9-beta</li>\n<li>IDE - Eclipse</li>\n</ul>\n\n<p>I will be glad if anyone can help me to fix this issue.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","testing","mockito","static-methods","instance-methods"],"answers":[{"comments":[{"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"score":0,"creation_date":1692876708,"post_id":76953686,"comment_id":135685017,"body_markdown":"You&#39;re welcome. Glad the issue is resolved.","body":"You&#39;re welcome. Glad the issue is resolved."}],"tags":[],"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692709952,"creation_date":1692709952,"answer_id":76953686,"question_id":76952743,"body_markdown":"Although it&#39;s possible, I wouldn&#39;t recommend it. There might be a way to refactor and split the static method out into a util class.\r\n\r\nIf it&#39;s not possible you can use `MockStatic` and afterwards create an instance :\r\n```\r\nMockedStatic&lt;ABC&gt; staticABC = Mockito.mockStatic(ABC.class);\r\n... // define operations on mock\r\nABC abc = new ABC();\r\nabc.method1();\r\n... // assertions\r\n```\r\n\r\nI added an example in this [repository](https://github.com/Lefeverw/stackoverflow-mock-static-method)","title":"Mockito mock static method of class, but other instance methods of same class should not be mocked instead it must be called normally","body":"<p>Although it's possible, I wouldn't recommend it. There might be a way to refactor and split the static method out into a util class.</p>\n<p>If it's not possible you can use <code>MockStatic</code> and afterwards create an instance :</p>\n<pre><code>MockedStatic&lt;ABC&gt; staticABC = Mockito.mockStatic(ABC.class);\n... // define operations on mock\nABC abc = new ABC();\nabc.method1();\n... // assertions\n</code></pre>\n<p>I added an example in this <a href=\"https://github.com/Lefeverw/stackoverflow-mock-static-method\" rel=\"nofollow noreferrer\">repository</a></p>\n"}],"owner":{"account_id":25828086,"reputation":1,"user_id":19565788,"display_name":"Ujef Malek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692709952,"creation_date":1692703067,"question_id":76952743,"body_markdown":"I have class let say ABC.\r\nIn this class there is static method `public static void staticOne(){...}` \r\nIn same class there are non-static methods also present let say `method1() method2()`.\r\n\r\nIn mockito I want to write test case for `method1()` in which static method staticOne is being called and I want to mock it.\r\nSo how can I do that ?\r\n\r\nI am using mockito version 4.11.0.\r\nCan I have solution for this problem using only mockito ?\r\n\r\n=============================================================\r\n\r\n    class ABC {\r\n    \r\n    public void static staticOne(){\r\n    ...\r\n    }\r\n    \r\n    public string method1(){\r\n    staticOne();\r\n    ...\r\n    }\r\n    \r\n    }\r\n\r\nhow can I write test case for `method1()` while mocking staticOne","title":"Mockito mock static method of class, but other instance methods of same class should not be mocked instead it must be called normally","body":"<p>I have class let say ABC.\nIn this class there is static method <code>public static void staticOne(){...}</code>\nIn same class there are non-static methods also present let say <code>method1() method2()</code>.</p>\n<p>In mockito I want to write test case for <code>method1()</code> in which static method staticOne is being called and I want to mock it.\nSo how can I do that ?</p>\n<p>I am using mockito version 4.11.0.\nCan I have solution for this problem using only mockito ?</p>\n<p>=============================================================</p>\n<pre><code>class ABC {\n\npublic void static staticOne(){\n...\n}\n\npublic string method1(){\nstaticOne();\n...\n}\n\n}\n</code></pre>\n<p>how can I write test case for <code>method1()</code> while mocking staticOne</p>\n"},{"tags":["java","android","kotlin","bundle","dagger-hilt"],"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1692709006,"post_id":76953010,"comment_id":135658685,"body_markdown":"You should add more info on the error you are getting.","body":"You should add more info on the error you are getting."},{"owner":{"account_id":28241535,"reputation":1,"user_id":21589246,"display_name":"Eko Freshh"},"score":1,"creation_date":1692710365,"post_id":76953010,"comment_id":135659076,"body_markdown":"i did this too :)","body":"i did this too :)"}],"answers":[{"comments":[{"owner":{"account_id":28241535,"reputation":1,"user_id":21589246,"display_name":"Eko Freshh"},"score":0,"creation_date":1692708870,"post_id":76953311,"comment_id":135658643,"body_markdown":"They are already in my gralde so its didnt work :/","body":"They are already in my gralde so its didnt work :/"},{"owner":{"account_id":23936770,"reputation":128,"user_id":17930413,"display_name":"Rahul Rokade"},"score":0,"creation_date":1692709456,"post_id":76953311,"comment_id":135658829,"body_markdown":"update your gradle version. go to the &quot;Gradle-wrapper-properties&quot; - distributionUrl=https\\://services.gradle.org/distributions/gradle-8.0-bin.zip","body":"update your gradle version. go to the &quot;Gradle-wrapper-properties&quot; - distributionUrl=https\\://services.gradle.org/distributions/g&zwnj;&#8203;radle-8.0-bin.zip"},{"owner":{"account_id":28241535,"reputation":1,"user_id":21589246,"display_name":"Eko Freshh"},"score":0,"creation_date":1692711046,"post_id":76953311,"comment_id":135659255,"body_markdown":"i did too but now i cant start the app getting A problem occurred configuring project &#39;:app&#39;.\n&gt; Could not create task &#39;:app:compileDebugKotlin&#39;.\nerror","body":"i did too but now i cant start the app getting A problem occurred configuring project &#39;:app&#39;. &gt; Could not create task &#39;:app:compileDebugKotlin&#39;. error"},{"owner":{"account_id":23936770,"reputation":128,"user_id":17930413,"display_name":"Rahul Rokade"},"score":0,"creation_date":1692774467,"post_id":76953311,"comment_id":135668519,"body_markdown":"Please copy file code and and create new app and add package name and paste your all file then open your new project. then again cant work after that all file upload on git-hub and provide your git-hub link on my what&#39;s app number &quot;+918999539845&quot;","body":"Please copy file code and and create new app and add package name and paste your all file then open your new project. then again cant work after that all file upload on git-hub and provide your git-hub link on my what&#39;s app number &quot;+918999539845&quot;"}],"tags":[],"owner":{"account_id":23936770,"reputation":128,"user_id":17930413,"display_name":"Rahul Rokade"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692707201,"creation_date":1692707201,"answer_id":76953311,"question_id":76953010,"body_markdown":"*I hope, this suggestion worked your side\\n*\r\n*Step 1: Build.Gradle(modual_app)*\r\n*dependency side:- *\r\n\r\n    //hilt\r\n    implementation &#39;com.google.dagger:hilt-android:2.44&#39;\r\n    kapt &#39;com.google.dagger:hilt-android-compiler:2.44&#39;\r\n    kapt &#39;androidx.hilt:hilt-compiler:1.0.0&#39;\r\n\r\n    //lifecycle\r\n    implementation &quot;androidx.activity:activity-ktx:1.7.2&quot;\r\n    implementation &quot;androidx.fragment:fragment-ktx:1.6.1&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.1&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:2.6.1&quot;\r\n*plugin side:- *\r\n\r\n    id &#39;kotlin-kapt&#39;\r\n    id &#39;com.google.dagger.hilt.android&#39;\r\n\r\n*Step 2: Build.gradle(project_name)*\r\n*plugin side:- *\r\n\r\n    id &#39;com.google.dagger.hilt.android&#39; version &quot;2.44&quot; apply false\r\n*Step 3: * *Sync Now*\r\n*Step 4: * * clicked file -&gt; setting -&gt; search &quot;Gradle&quot; -&gt; check JDK -&gt; change jdk11 *\r\n*Step 5: invalid cache and restart*\r\n","title":"Getting error : CreationExtras must have a value by `SAVED_STATE_REGISTRY_OWNER_KEY`","body":"<p><em>I hope, this suggestion worked your side\\n</em>\n<em>Step 1: Build.Gradle(modual_app)</em>\n*dependency side:- *</p>\n<pre><code>//hilt\nimplementation 'com.google.dagger:hilt-android:2.44'\nkapt 'com.google.dagger:hilt-android-compiler:2.44'\nkapt 'androidx.hilt:hilt-compiler:1.0.0'\n\n//lifecycle\nimplementation &quot;androidx.activity:activity-ktx:1.7.2&quot;\nimplementation &quot;androidx.fragment:fragment-ktx:1.6.1&quot;\nimplementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.1&quot;\nimplementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:2.6.1&quot;\n</code></pre>\n<p>*plugin side:- *</p>\n<pre><code>id 'kotlin-kapt'\nid 'com.google.dagger.hilt.android'\n</code></pre>\n<p><em>Step 2: Build.gradle(project_name)</em>\n*plugin side:- *</p>\n<pre><code>id 'com.google.dagger.hilt.android' version &quot;2.44&quot; apply false\n</code></pre>\n<p>*Step 3: * <em>Sync Now</em>\n*Step 4: * * clicked file -&gt; setting -&gt; search &quot;Gradle&quot; -&gt; check JDK -&gt; change jdk11 *\n<em>Step 5: invalid cache and restart</em></p>\n"}],"owner":{"account_id":28241535,"reputation":1,"user_id":21589246,"display_name":"Eko Freshh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692709876,"creation_date":1692705002,"question_id":76953010,"body_markdown":"Hey I am trying to get a bundle with hilt but I get this error.\r\n\r\nmy gradle \r\n```\r\nimplementation &quot;androidx.navigation:navigation-compose:2.7.0&quot;\r\n    implementation &#39;androidx.fragment:fragment-ktx:1.6.1&#39;\r\n    implementation &#39;androidx.activity:activity-compose:1.7.2&#39;\r\n    implementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:2.6.1&quot;\r\n\r\n    implementation &#39;androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.1&#39;\r\n    implementation &#39;androidx.savedstate:savedstate:1.2.1&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-common:2.6.1&#39;\r\n    implementation &#39;androidx.activity:activity-ktx:1.7.2&#39;\r\n```\r\nI saw that the solution was to add these libraries but it didn&#39;t work for me\r\n\r\nI want to open a screen with BizBundle but I get an error\r\n\r\n\r\nfull error is:\r\n\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.smartlife.ninovas, PID: 8861\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.smartlife.ninovas/com.thingclips.smart.scene.construct.detail.SceneDetailActivity}: java.lang.IllegalArgumentException: CreationExtras must have a value by `SAVED_STATE_REGISTRY_OWNER_KEY`\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3431)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3595)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7664)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n     Caused by: java.lang.IllegalArgumentException: CreationExtras must have a value by `SAVED_STATE_REGISTRY_OWNER_KEY`\r\n        at androidx.lifecycle.SavedStateHandleSupport.createSavedStateHandle(SavedStateHandleSupport.kt:91)\r\n        at androidx.lifecycle.AbstractSavedStateViewModelFactory.create(AbstractSavedStateViewModelFactory.kt:90)\r\n        at dagger.hilt.android.internal.lifecycle.HiltViewModelFactory.create(HiltViewModelFactory.java:116)\r\n        at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:187)\r\n        at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:153)\r\n        at androidx.lifecycle.ViewModelLazy.getValue(ViewModelLazy.kt:53)\r\n        at com.thingclips.smart.scene.construct.detail.SceneDetailViewModelFactoryKt.createViewModel(SceneDetailViewModelFactory.kt:14)\r\n        at com.thingclips.smart.scene.construct.detail.SceneDetailActivity.onCreate(SceneDetailActivity.kt:184)\r\n        at android.app.Activity.performCreate(Activity.java:8023)\r\n        at android.app.Activity.performCreate(Activity.java:8007)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3404)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3595)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:223)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7664)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)&#160;\r\n\r\n\r\nand this is the line:\r\n\r\n\r\n\r\n        IThingSceneBusinessService iThingSceneBusinessService = MicroContext.findServiceByInterface(IThingSceneBusinessService.class.getName());\r\n if(null != iThingSceneBusinessService &amp;&amp; HomeModel.getHomeID() != 0) {\r\n                                    iThingSceneBusinessService.addSceneBean(MainPage.this, HomeModel.getHomeID(), 1234);\r\n                                }","title":"Getting error : CreationExtras must have a value by `SAVED_STATE_REGISTRY_OWNER_KEY`","body":"<p>Hey I am trying to get a bundle with hilt but I get this error.</p>\n<p>my gradle</p>\n<pre><code>implementation &quot;androidx.navigation:navigation-compose:2.7.0&quot;\n    implementation 'androidx.fragment:fragment-ktx:1.6.1'\n    implementation 'androidx.activity:activity-compose:1.7.2'\n    implementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:2.6.1&quot;\n\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.1'\n    implementation 'androidx.savedstate:savedstate:1.2.1'\n    implementation 'androidx.lifecycle:lifecycle-common:2.6.1'\n    implementation 'androidx.activity:activity-ktx:1.7.2'\n</code></pre>\n<p>I saw that the solution was to add these libraries but it didn't work for me</p>\n<p>I want to open a screen with BizBundle but I get an error</p>\n<p>full error is:</p>\n<p>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.smartlife.ninovas, PID: 8861\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.smartlife.ninovas/com.thingclips.smart.scene.construct.detail.SceneDetailActivity}: java.lang.IllegalArgumentException: CreationExtras must have a value by <code>SAVED_STATE_REGISTRY_OWNER_KEY</code>\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3431)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3595)\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loop(Looper.java:223)\nat android.app.ActivityThread.main(ActivityThread.java:7664)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\nCaused by: java.lang.IllegalArgumentException: CreationExtras must have a value by <code>SAVED_STATE_REGISTRY_OWNER_KEY</code>\nat androidx.lifecycle.SavedStateHandleSupport.createSavedStateHandle(SavedStateHandleSupport.kt:91)\nat androidx.lifecycle.AbstractSavedStateViewModelFactory.create(AbstractSavedStateViewModelFactory.kt:90)\nat dagger.hilt.android.internal.lifecycle.HiltViewModelFactory.create(HiltViewModelFactory.java:116)\nat androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:187)\nat androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:153)\nat androidx.lifecycle.ViewModelLazy.getValue(ViewModelLazy.kt:53)\nat com.thingclips.smart.scene.construct.detail.SceneDetailViewModelFactoryKt.createViewModel(SceneDetailViewModelFactory.kt:14)\nat com.thingclips.smart.scene.construct.detail.SceneDetailActivity.onCreate(SceneDetailActivity.kt:184)\nat android.app.Activity.performCreate(Activity.java:8023)\nat android.app.Activity.performCreate(Activity.java:8007)\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3404)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3595)\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loop(Looper.java:223)\nat android.app.ActivityThread.main(ActivityThread.java:7664)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)</p>\n<p>and this is the line:</p>\n<pre><code>    IThingSceneBusinessService iThingSceneBusinessService = MicroContext.findServiceByInterface(IThingSceneBusinessService.class.getName());\n</code></pre>\n<p>if(null != iThingSceneBusinessService &amp;&amp; HomeModel.getHomeID() != 0) {\niThingSceneBusinessService.addSceneBean(MainPage.this, HomeModel.getHomeID(), 1234);\n}</p>\n"},{"tags":["java","dynamic","osgi","declarative-services"],"answers":[{"comments":[{"owner":{"account_id":1410893,"reputation":315,"user_id":1337508,"accept_rate":75,"display_name":"roadkill"},"score":0,"creation_date":1555080448,"post_id":55654077,"comment_id":97997189,"body_markdown":"In reality I&#39;m not using a main method, but `If you create the instance of a (declarative services) DS component with &quot;new&quot; then the whole DS logic will not be executed` could explain a fair bit of my confusion.","body":"In reality I&#39;m not using a main method, but <code>If you create the instance of a (declarative services) DS component with &quot;new&quot; then the whole DS logic will not be executed</code> could explain a fair bit of my confusion."},{"owner":{"account_id":1410893,"reputation":315,"user_id":1337508,"accept_rate":75,"display_name":"roadkill"},"score":0,"creation_date":1555335460,"post_id":55654077,"comment_id":98063854,"body_markdown":"Thanks for setting me on the right path. What are your thoughts on my edit?","body":"Thanks for setting me on the right path. What are your thoughts on my edit?"}],"tags":[],"owner":{"account_id":892776,"reputation":19529,"user_id":930728,"accept_rate":60,"display_name":"Christian Schneider"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555099361,"creation_date":1555079875,"answer_id":55654077,"question_id":55653320,"body_markdown":"Your code in main does not make sense.\r\n\r\nIf you create the instance of a (declarative services) DS component with the **`new`** keyword  then the whole DS logic will not be executed. Actually in OSGi you do not use a `main` method at all... maybe for starting the framework but not for your own logic.\r\n\r\nYou can access your spell checker by creating a shell command that uses it or by creating an http whiteboard service that uses it.\r\n\r\nFor setting the filter for the service references in `SpellChecker` you could use a configuration like:\r\n\r\npid: fully qualified name of SpellChecker\r\n\r\n----\r\n\r\n\r\n    dictionaryServices.target=(language=en)\r\n\r\nThis would set the `SpellChecker` to use only the English dictionaries.\r\n\r\nFor some more tips about DS you can refer to \r\nhttps://liquid-reality.de/2016/09/26/hints-ds.html\r\n","title":"Dynamically choose OSGi references based on property using Declarative Services","body":"<p>Your code in main does not make sense.</p>\n\n<p>If you create the instance of a (declarative services) DS component with the <strong><code>new</code></strong> keyword  then the whole DS logic will not be executed. Actually in OSGi you do not use a <code>main</code> method at all... maybe for starting the framework but not for your own logic.</p>\n\n<p>You can access your spell checker by creating a shell command that uses it or by creating an http whiteboard service that uses it.</p>\n\n<p>For setting the filter for the service references in <code>SpellChecker</code> you could use a configuration like:</p>\n\n<p>pid: fully qualified name of SpellChecker</p>\n\n<hr>\n\n<pre><code>dictionaryServices.target=(language=en)\n</code></pre>\n\n<p>This would set the <code>SpellChecker</code> to use only the English dictionaries.</p>\n\n<p>For some more tips about DS you can refer to \n<a href=\"https://liquid-reality.de/2016/09/26/hints-ds.html\" rel=\"nofollow noreferrer\">https://liquid-reality.de/2016/09/26/hints-ds.html</a></p>\n"},{"comments":[{"owner":{"account_id":1410893,"reputation":315,"user_id":1337508,"accept_rate":75,"display_name":"roadkill"},"score":0,"creation_date":1555335547,"post_id":55656998,"comment_id":98063917,"body_markdown":"Thanks for introducing me to ECM! I&#39;ll have to check it out.","body":"Thanks for introducing me to ECM! I&#39;ll have to check it out."}],"tags":[],"owner":{"account_id":658880,"reputation":6056,"user_id":1354879,"display_name":"Balazs Zsoldos"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555090649,"creation_date":1555090649,"answer_id":55656998,"question_id":55653320,"body_markdown":"As I understand, you want to have 1:N relationship between two components.\r\n\r\nWith DS, you have a couple of alternatives:\r\n\r\n__whiteboard pattern__\r\n\r\nYou can implement whiteboard pattern, where component _1_ tracks service registrations of the DictionaryService OSGi services. Component _N_ registers services and each service registrations are caught and used by component _1_ that are registered.\r\n\r\nProblem might be that you do not want to activate component _1_ in production until all expected component _N_ registered their services and tracked by _1_.\r\n\r\n_Use a multi-cardinality reference with a complex filter expression_\r\n\r\nYou use a reference with multiple cardinality and a filter expression in the configuration like: (|(language=en)(language=es))\r\n\r\nProblem is the same as with whiteboard pattern.\r\n\r\nMany people start writing a &quot;health checker&quot; where 1:N relationship is also defined and notifies the programmer if not all services are started (or disallows the app to be accessible for the user). Problem with health checker approach is that programmer has to have the same logic redundant in the system.\r\n\r\n__Instead of DS, use ECM (another component model for OSGi)__\r\n\r\nWhile DS multi-cardinality reference and whiteboard pattern give a very comfortable flexibility in development time, it is often not suitable for production when all services must be injected before the application becomes accessible by the users.\r\n\r\n[ECM][1] supports 1:N relationship in the following way:\r\n\r\n - In component _1_ you can define an array of filters\r\n - Component _1_ will be satisfied only when there is an OSGi service for all specified filters.\r\n\r\nAs the scope and goal of an ECM component are pretty similar to a DS component&#39;s scope and goal, people knowing DS need only a couple of hours to learn ECM. As ECM is also dependent on OSGi services, DS and ECM can live easily next to each other in the same system and use the OSGi services provided by the other one.\r\n\r\nBased on your example:\r\n\r\n    // All annotations from the ecm package\r\n\r\n    @Component\r\n    public class SpellChecker {\r\n\r\n      @ServiceRef\r\n      private DictionaryService[] dictionaryServices;\r\n\r\n      // I think the language should be a parameter of your service function\r\n      // rather than a member variable of your component class\r\n      public boolean check(String word, String language) {\r\n        if (word == null || word.isEmpty()) {\r\n          return true;\r\n        }\r\n\r\n        if (dictionaryServices == null || dictionaryService.length = 0) {\r\n          return false;\r\n        }\r\n\r\n        List&lt;DictionaryService&gt; ds = Arrays.asList(dictionaryServices);\r\n\r\n        return ds.stream().anyMatch(dictionary -&gt; dictionary.check(word));\r\n      }\r\n\r\n      // You need a setter in case of ECM and you can annotate the setter as well.\r\n      // If you annotate the field instead, you need to specify the setter as an\r\n      // attribute of the annotation\r\n      @ServiceRef()\r\n      public void setDictionaryServices(DictionaryService[] dictionaryServices) {\r\n        this.dictionaryServices = dictionaryServices;\r\n      }\r\n    }\r\n\r\nThe component above can be used with the following string array in the configuration:\r\n\r\n    dictionaryServices.target = [\r\n                                 &quot;(language=en)&quot;,\r\n                                 &quot;(language=de)&quot;,\r\n                                 &quot;(language=&quot;es&quot;)&quot;\r\n                                ]\r\n\r\nThe component will be activated when all three references are available and you will get an array of dictionary services with three items in it (with the same order in the array as in the configuration).\r\n\r\n[1]: https://www.everit.org/ecm/\r\n","title":"Dynamically choose OSGi references based on property using Declarative Services","body":"<p>As I understand, you want to have 1:N relationship between two components.</p>\n\n<p>With DS, you have a couple of alternatives:</p>\n\n<p><strong>whiteboard pattern</strong></p>\n\n<p>You can implement whiteboard pattern, where component <em>1</em> tracks service registrations of the DictionaryService OSGi services. Component <em>N</em> registers services and each service registrations are caught and used by component <em>1</em> that are registered.</p>\n\n<p>Problem might be that you do not want to activate component <em>1</em> in production until all expected component <em>N</em> registered their services and tracked by <em>1</em>.</p>\n\n<p><em>Use a multi-cardinality reference with a complex filter expression</em></p>\n\n<p>You use a reference with multiple cardinality and a filter expression in the configuration like: (|(language=en)(language=es))</p>\n\n<p>Problem is the same as with whiteboard pattern.</p>\n\n<p>Many people start writing a \"health checker\" where 1:N relationship is also defined and notifies the programmer if not all services are started (or disallows the app to be accessible for the user). Problem with health checker approach is that programmer has to have the same logic redundant in the system.</p>\n\n<p><strong>Instead of DS, use ECM (another component model for OSGi)</strong></p>\n\n<p>While DS multi-cardinality reference and whiteboard pattern give a very comfortable flexibility in development time, it is often not suitable for production when all services must be injected before the application becomes accessible by the users.</p>\n\n<p><a href=\"https://www.everit.org/ecm/\" rel=\"nofollow noreferrer\">ECM</a> supports 1:N relationship in the following way:</p>\n\n<ul>\n<li>In component <em>1</em> you can define an array of filters</li>\n<li>Component <em>1</em> will be satisfied only when there is an OSGi service for all specified filters.</li>\n</ul>\n\n<p>As the scope and goal of an ECM component are pretty similar to a DS component's scope and goal, people knowing DS need only a couple of hours to learn ECM. As ECM is also dependent on OSGi services, DS and ECM can live easily next to each other in the same system and use the OSGi services provided by the other one.</p>\n\n<p>Based on your example:</p>\n\n<pre><code>// All annotations from the ecm package\n\n@Component\npublic class SpellChecker {\n\n  @ServiceRef\n  private DictionaryService[] dictionaryServices;\n\n  // I think the language should be a parameter of your service function\n  // rather than a member variable of your component class\n  public boolean check(String word, String language) {\n    if (word == null || word.isEmpty()) {\n      return true;\n    }\n\n    if (dictionaryServices == null || dictionaryService.length = 0) {\n      return false;\n    }\n\n    List&lt;DictionaryService&gt; ds = Arrays.asList(dictionaryServices);\n\n    return ds.stream().anyMatch(dictionary -&gt; dictionary.check(word));\n  }\n\n  // You need a setter in case of ECM and you can annotate the setter as well.\n  // If you annotate the field instead, you need to specify the setter as an\n  // attribute of the annotation\n  @ServiceRef()\n  public void setDictionaryServices(DictionaryService[] dictionaryServices) {\n    this.dictionaryServices = dictionaryServices;\n  }\n}\n</code></pre>\n\n<p>The component above can be used with the following string array in the configuration:</p>\n\n<pre><code>dictionaryServices.target = [\n                             \"(language=en)\",\n                             \"(language=de)\",\n                             \"(language=\"es\")\"\n                            ]\n</code></pre>\n\n<p>The component will be activated when all three references are available and you will get an array of dictionary services with three items in it (with the same order in the array as in the configuration).</p>\n"},{"tags":[],"owner":{"account_id":6915990,"reputation":51,"user_id":5310254,"display_name":"Sheikh Mohammed Habib"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692709790,"creation_date":1692709790,"answer_id":76953670,"question_id":55653320,"body_markdown":"As I understand you want to fetch all service instance references of Dictionary Services which implements DictionaryService interface. You can achieve this by using below simple OSGI DS code.\r\n\r\n    @Reference(cardinality = ReferenceCardinality.MULTIPLE)\r\n    private volatile List&lt;DictionaryService&gt; dictionaryServices;","title":"Dynamically choose OSGi references based on property using Declarative Services","body":"<p>As I understand you want to fetch all service instance references of Dictionary Services which implements DictionaryService interface. You can achieve this by using below simple OSGI DS code.</p>\n<pre><code>@Reference(cardinality = ReferenceCardinality.MULTIPLE)\nprivate volatile List&lt;DictionaryService&gt; dictionaryServices;\n</code></pre>\n"}],"owner":{"account_id":1410893,"reputation":315,"user_id":1337508,"accept_rate":75,"display_name":"roadkill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1418,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1692709790,"creation_date":1555077408,"question_id":55653320,"body_markdown":"I&#39;m new to OSGi and am quickly becoming overwhelmed by its complexity. I believe this should be fairly simple, but I haven&#39;t been able to find a complete working example of what I&#39;m trying to achieve.\r\n\r\nI have a Java class `Foo` which contains a collection of services. These services need to be filtered based on a value which is specific to that particular instance of `Foo`. There can be multiple instances of `Foo`, but each one should have its own set of filtered services.\r\n\r\nTo illustrate, consider the following example (inspired by the [Apache Felix tutorials](http://felix.apache.org/documentation/tutorials-examples-and-presentations/apache-felix-osgi-tutorial/apache-felix-tutorial-example-9.html)):\r\n\r\n```java\r\npublic interface DictionaryService {\r\n    public boolean check(String word);\r\n}\r\n```\r\n\r\n```java\r\n@Component(property = &quot;language=en&quot;)\r\npublic class EnglishDictionaryService implements DictionaryService {\r\n    private static final String[] WORDS = {&quot;hi&quot;, &quot;hello&quot; /*...*/};\r\n\r\n    @Override\r\n    public boolean check(String word) {\r\n        if (word == null || word.isEmpty()) {\r\n            return true;\r\n        }\r\n\r\n        // super inefficient but you get the gist\r\n        return Arrays.stream(WORDS).anyMatch(entry -&gt; word.equalsIgnoreCase(entry));\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Component(property = &quot;language=en&quot;)\r\npublic class TexanDictionaryService implements DictionaryService {\r\n    private static final String[] WORDS = {&quot;howdy&quot; /*...*/};\r\n    //...\r\n}\r\n```\r\n\r\n```java\r\n@Component(property = &quot;language=en&quot;)\r\npublic class AustralianDictionaryService implements DictionaryService {\r\n    private static final String[] WORDS = {&quot;g&#39;day&quot; /*...*/};\r\n    //...\r\n}\r\n```\r\n\r\n```java\r\n@Component(property = &quot;language=es&quot;)\r\npublic class SpanishDictionaryService implements DictionaryService {\r\n    private static final String[] WORDS = {&quot;hola&quot; /*...*/};\r\n    //...\r\n}\r\n```\r\n\r\n```java\r\n@Component\r\npublic class SpellChecker {\r\n\r\n    @Reference\r\n    private volatile List&lt;DictionaryService&gt; dictionaryServices;\r\n\r\n    public SpellChecker(String language) {\r\n        // TODO: how to ensure my dictionaryServices match the given language code?\r\n        // dictionaryServices.target = &quot;(language=&quot; + language + &quot;)&quot;\r\n    }\r\n\r\n    public boolean check(String word) {\r\n        if (word == null || word.isEmpty()) {\r\n            return true;\r\n        }\r\n\r\n        List&lt;DictionaryService&gt; ds = dictionaryServices;\r\n\r\n        if (ds == null || ds.isEmpty()) {\r\n            return false;\r\n        }\r\n        \r\n        return ds.stream().anyMatch(dictionary -&gt; dictionary.check(word));\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    SpellChecker englishChecker = new SpellChecker(&quot;en&quot;);\r\n    SpellChecker spanishChecker = new SpellChecker(&quot;es&quot;);\r\n    // do stuff\r\n}\r\n```\r\n\r\nAfter reading through [several](https://stackoverflow.com/questions/47393876/dynamically-setting-target-property-in-osgi-reference-annotatation) [StackExchange](https://stackoverflow.com/questions/21166070/osgi-declarative-services-filter-references-at-runtime) [posts](https://stackoverflow.com/questions/32785821/dynamic-target-for-declarative-service-in-osgi) and some [other](http://blog.vogella.com/2017/02/24/control-osgi-ds-component-instances-via-configuration-admin/) [articles](https://thecarlhall.wordpress.com/2010/06/06/set-osgi-service-reference-target-through-configuration/), it seems this can be done using `ConfigurationAdmin`. However, it&#39;s unclear exactly where and how `ConfigurationAdmin` should be used, especially with regards to Declarative Services. I&#39;ve also read and reread the [Configuration Admin Service Specification](https://osgi.org/specification/osgi.cmpn/7.0.0/service.cm.html), but I&#39;m struggling to apply the concepts.\r\n\r\nCan someone fill in the gaps in my understanding?\r\n\r\nThanks in advance!\r\n\r\n---\r\n\r\n# Edit\r\n\r\n[Christian&#39;s answer](https://stackoverflow.com/a/55654077/1337508) helped me think about Declarative Services in a different way. As I was going back through my research, I came across [Alan Hohn&#39;s blog posts on DZone](https://dzone.com/articles/osgi-services-automated-discovery-and-registration) again. Unfortunately, it seems he never finished his series which promised to cover service lookups using DS. However, his [example source code](https://github.com/AlanHohn/karaf-greeter/blob/master/manager/src/main/java/org/anvard/karaf/greeter/GreeterManager.java) contains the following:\r\n\r\n```java\r\npublic String greet(String language) {\r\n    BundleContext context = FrameworkUtil.getBundle(this.getClass()).getBundleContext();\r\n\r\n    String filter = &quot;(language=&quot; + language + &quot;)&quot;;\r\n\r\n    // Get ServiceReference(s) from OSGi framework, filtered for the specified value\r\n    ServiceReference[] refs = null;\r\n    try {\r\n        refs = context.getServiceReferences(Greeter.class.getName(), filter);\r\n        if (null != refs) {\r\n            Greeter greeter = (Greeter)context.getService(refs[0]);\r\n            return greeter.greet();\r\n        }\r\n    } catch (InvalidSyntaxException e) {\r\n        LOGGER.error(&quot;Invalid query syntax&quot;, e);\r\n    }\r\n    LOGGER.warn(&quot;No plugins found, making the default greeting&quot;);\r\n    return &quot;Hello from the greeter manager!&quot;;\r\n}\r\n```\r\n\r\nThis looks like a viable solution, but it doesn&#39;t appear to use DS. Are there any special considerations with this approach? I&#39;ve seen plenty of posts on SO and elsewhere which claim DS is the cure-all for `BundleContext#getServiceReferences`, so I&#39;m curious if/how this could be refactored to use DS.","title":"Dynamically choose OSGi references based on property using Declarative Services","body":"<p>I'm new to OSGi and am quickly becoming overwhelmed by its complexity. I believe this should be fairly simple, but I haven't been able to find a complete working example of what I'm trying to achieve.</p>\n\n<p>I have a Java class <code>Foo</code> which contains a collection of services. These services need to be filtered based on a value which is specific to that particular instance of <code>Foo</code>. There can be multiple instances of <code>Foo</code>, but each one should have its own set of filtered services.</p>\n\n<p>To illustrate, consider the following example (inspired by the <a href=\"http://felix.apache.org/documentation/tutorials-examples-and-presentations/apache-felix-osgi-tutorial/apache-felix-tutorial-example-9.html\" rel=\"nofollow noreferrer\">Apache Felix tutorials</a>):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public interface DictionaryService {\n    public boolean check(String word);\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Component(property = \"language=en\")\npublic class EnglishDictionaryService implements DictionaryService {\n    private static final String[] WORDS = {\"hi\", \"hello\" /*...*/};\n\n    @Override\n    public boolean check(String word) {\n        if (word == null || word.isEmpty()) {\n            return true;\n        }\n\n        // super inefficient but you get the gist\n        return Arrays.stream(WORDS).anyMatch(entry -&gt; word.equalsIgnoreCase(entry));\n    }\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Component(property = \"language=en\")\npublic class TexanDictionaryService implements DictionaryService {\n    private static final String[] WORDS = {\"howdy\" /*...*/};\n    //...\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Component(property = \"language=en\")\npublic class AustralianDictionaryService implements DictionaryService {\n    private static final String[] WORDS = {\"g'day\" /*...*/};\n    //...\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Component(property = \"language=es\")\npublic class SpanishDictionaryService implements DictionaryService {\n    private static final String[] WORDS = {\"hola\" /*...*/};\n    //...\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class SpellChecker {\n\n    @Reference\n    private volatile List&lt;DictionaryService&gt; dictionaryServices;\n\n    public SpellChecker(String language) {\n        // TODO: how to ensure my dictionaryServices match the given language code?\n        // dictionaryServices.target = \"(language=\" + language + \")\"\n    }\n\n    public boolean check(String word) {\n        if (word == null || word.isEmpty()) {\n            return true;\n        }\n\n        List&lt;DictionaryService&gt; ds = dictionaryServices;\n\n        if (ds == null || ds.isEmpty()) {\n            return false;\n        }\n\n        return ds.stream().anyMatch(dictionary -&gt; dictionary.check(word));\n    }\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    SpellChecker englishChecker = new SpellChecker(\"en\");\n    SpellChecker spanishChecker = new SpellChecker(\"es\");\n    // do stuff\n}\n</code></pre>\n\n<p>After reading through <a href=\"https://stackoverflow.com/questions/47393876/dynamically-setting-target-property-in-osgi-reference-annotatation\">several</a> <a href=\"https://stackoverflow.com/questions/21166070/osgi-declarative-services-filter-references-at-runtime\">StackExchange</a> <a href=\"https://stackoverflow.com/questions/32785821/dynamic-target-for-declarative-service-in-osgi\">posts</a> and some <a href=\"http://blog.vogella.com/2017/02/24/control-osgi-ds-component-instances-via-configuration-admin/\" rel=\"nofollow noreferrer\">other</a> <a href=\"https://thecarlhall.wordpress.com/2010/06/06/set-osgi-service-reference-target-through-configuration/\" rel=\"nofollow noreferrer\">articles</a>, it seems this can be done using <code>ConfigurationAdmin</code>. However, it's unclear exactly where and how <code>ConfigurationAdmin</code> should be used, especially with regards to Declarative Services. I've also read and reread the <a href=\"https://osgi.org/specification/osgi.cmpn/7.0.0/service.cm.html\" rel=\"nofollow noreferrer\">Configuration Admin Service Specification</a>, but I'm struggling to apply the concepts.</p>\n\n<p>Can someone fill in the gaps in my understanding?</p>\n\n<p>Thanks in advance!</p>\n\n<hr>\n\n<h1>Edit</h1>\n\n<p><a href=\"https://stackoverflow.com/a/55654077/1337508\">Christian's answer</a> helped me think about Declarative Services in a different way. As I was going back through my research, I came across <a href=\"https://dzone.com/articles/osgi-services-automated-discovery-and-registration\" rel=\"nofollow noreferrer\">Alan Hohn's blog posts on DZone</a> again. Unfortunately, it seems he never finished his series which promised to cover service lookups using DS. However, his <a href=\"https://github.com/AlanHohn/karaf-greeter/blob/master/manager/src/main/java/org/anvard/karaf/greeter/GreeterManager.java\" rel=\"nofollow noreferrer\">example source code</a> contains the following:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public String greet(String language) {\n    BundleContext context = FrameworkUtil.getBundle(this.getClass()).getBundleContext();\n\n    String filter = \"(language=\" + language + \")\";\n\n    // Get ServiceReference(s) from OSGi framework, filtered for the specified value\n    ServiceReference[] refs = null;\n    try {\n        refs = context.getServiceReferences(Greeter.class.getName(), filter);\n        if (null != refs) {\n            Greeter greeter = (Greeter)context.getService(refs[0]);\n            return greeter.greet();\n        }\n    } catch (InvalidSyntaxException e) {\n        LOGGER.error(\"Invalid query syntax\", e);\n    }\n    LOGGER.warn(\"No plugins found, making the default greeting\");\n    return \"Hello from the greeter manager!\";\n}\n</code></pre>\n\n<p>This looks like a viable solution, but it doesn't appear to use DS. Are there any special considerations with this approach? I've seen plenty of posts on SO and elsewhere which claim DS is the cure-all for <code>BundleContext#getServiceReferences</code>, so I'm curious if/how this could be refactored to use DS.</p>\n"},{"tags":["java","if-statement","null-check"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1692097353,"post_id":76905297,"comment_id":135575595,"body_markdown":"There is no good answer to this.  Sure, you can reduce the complexity by arbitrarily splitting this method in into two or more parts.  The metric should improve ... but it doesn&#39;t improve the *actual* readability.  Hence it is not (IMO) a *good* answer.  So-called code quality metrics are often unhelpful ...","body":"There is no good answer to this.  Sure, you can reduce the complexity by arbitrarily splitting this method in into two or more parts.  The metric should improve ... but it doesn&#39;t improve the <i>actual</i> readability.  Hence it is not (IMO) a <i>good</i> answer.  So-called code quality metrics are often unhelpful ..."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1692099298,"post_id":76905297,"comment_id":135575989,"body_markdown":"I would say that your initial design is strange. Why does class `FruitBasket1` have the same attributes as `FruitBasket2`? Maybe one class should extend the other? Why is `FruitBasket1` a generic class? If method `setName` (for example but is applicable to other `set*` methods) simply assigns a value to a class member variable, then the initial value of that member is null, anyway, so what does it matter if you re-assign it a value of null by passing null as the parameter to the `setName` method?","body":"I would say that your initial design is strange. Why does class <code>FruitBasket1</code> have the same attributes as <code>FruitBasket2</code>? Maybe one class should extend the other? Why is <code>FruitBasket1</code> a generic class? If method <code>setName</code> (for example but is applicable to other <code>set*</code> methods) simply assigns a value to a class member variable, then the initial value of that member is null, anyway, so what does it matter if you re-assign it a value of null by passing null as the parameter to the <code>setName</code> method?"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1692104906,"post_id":76905297,"comment_id":135577085,"body_markdown":"Your requirement doesn&#39;t make much sense to me.  How does the source `fruitbasket&#39;s` attributes become null in the first place.  What other alternative is there if someone doesn&#39;t set a value?  Is there a non-null default value.  But then, why not just set that from one `fruitbasket` to the other?","body":"Your requirement doesn&#39;t make much sense to me.  How does the source <code>fruitbasket&#39;s</code> attributes become null in the first place.  What other alternative is there if someone doesn&#39;t set a value?  Is there a non-null default value.  But then, why not just set that from one <code>fruitbasket</code> to the other?"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1692116965,"post_id":76905297,"comment_id":135579603,"body_markdown":"On the other hand, if you already had set some attribute and didn&#39;t want to wipe it out with null, your requirement in isolation would make sense.  But then you would still permit changing  attributes of existing fruitbaskets.  So you could make an existing `banana` `purple` but not null.   In that case, I would still test for null in the `setMethods` and set as appropriate.  Barring that, I find your existing solution easy to read and solves your issue.","body":"On the other hand, if you already had set some attribute and didn&#39;t want to wipe it out with null, your requirement in isolation would make sense.  But then you would still permit changing  attributes of existing fruitbaskets.  So you could make an existing <code>banana</code> <code>purple</code> but not null.   In that case, I would still test for null in the <code>setMethods</code> and set as appropriate.  Barring that, I find your existing solution easy to read and solves your issue."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1692117410,"post_id":76905297,"comment_id":135579685,"body_markdown":"On a different note, I think of a `FruitBasket` as  a container to hold different types and quantifies of fruit.  So without knowing more about your use case, classes, etc, I would have expected a `Fruit class` where the objects would be assigned to a particular `fruit basket` whatever the latter is defined to be.","body":"On a different note, I think of a <code>FruitBasket</code> as  a container to hold different types and quantifies of fruit.  So without knowing more about your use case, classes, etc, I would have expected a <code>Fruit class</code> where the objects would be assigned to a particular <code>fruit basket</code> whatever the latter is defined to be."}],"answers":[{"tags":[],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1692105646,"creation_date":1692097592,"answer_id":76905397,"question_id":76905297,"body_markdown":"If you are willing to add an additional dependency, ***MapStruct*** is a very good choice to map ***Beans/Dtos*** in a very readable manner. \r\n\r\nYou could simply add an interface and map these two objects.\r\n\r\nIn order to ignore null values, you need to set the property, `nullValuePropertyMappingStrategy` to `NullValuePropertyMappingStrategy.IGNORE`\r\n\r\nThus, the final code looks like:\r\n\r\n    @Mapper(nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE )\r\n    public interface SimpleSourceDestinationMapper {\r\n        FruitBasket2 sourceToDestination(FruitBasket1 fruitBasket1);\r\n    }\r\n\r\nSince, `FruitBasket1` and `FruitBasket2` have same attributes, it will automatically map them all except the null values.\r\n\r\nNote: It is just a more readable version of the mapping. In terms of complexity, it is the same.\r\n\r\nGuides to Mapstruct: https://www.baeldung.com/mapstruct","title":"Java reduce cognitive complexity of method which has multiple if statements","body":"<p>If you are willing to add an additional dependency, <em><strong>MapStruct</strong></em> is a very good choice to map <em><strong>Beans/Dtos</strong></em> in a very readable manner.</p>\n<p>You could simply add an interface and map these two objects.</p>\n<p>In order to ignore null values, you need to set the property, <code>nullValuePropertyMappingStrategy</code> to <code>NullValuePropertyMappingStrategy.IGNORE</code></p>\n<p>Thus, the final code looks like:</p>\n<pre><code>@Mapper(nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE )\npublic interface SimpleSourceDestinationMapper {\n    FruitBasket2 sourceToDestination(FruitBasket1 fruitBasket1);\n}\n</code></pre>\n<p>Since, <code>FruitBasket1</code> and <code>FruitBasket2</code> have same attributes, it will automatically map them all except the null values.</p>\n<p>Note: It is just a more readable version of the mapping. In terms of complexity, it is the same.</p>\n<p>Guides to Mapstruct: <a href=\"https://www.baeldung.com/mapstruct\" rel=\"nofollow noreferrer\">https://www.baeldung.com/mapstruct</a></p>\n"},{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692097957,"creation_date":1692097957,"answer_id":76905444,"question_id":76905297,"body_markdown":"You can extract that logic by using method references for the getters and setters.\r\n\r\nFor example you can extract `Fruit::getColor` to a `Function&lt;Fruit, String&gt;` and squeeze the setter into a `BiConsumer&lt;Fruit, String&gt;`.\r\n\r\nThen you can match each getter to a setter using some generic `Pair` such as a simple\r\n\r\n    record Pair&lt;R,L&gt; (R a, L b){}\r\n\r\nThen you can store these `Pair`s into a `List` and iterate over them:\r\n\r\n\r\n        List&lt;Pair&lt;Function&lt;Fruit, String&gt;, BiConsumer&lt;Fruit, String&gt;&gt;&gt; getterSetterPair = new ArrayList&lt;&gt;();\r\n        //&quot;connect&quot; getters and setters here\r\n        getterSetterPair.add(new Pair&lt;&gt;(Fruit::getColor, Fruit::setColor));\r\n        getterSetterPair.add(new Pair&lt;&gt;(Fruit::getName, Fruit::setName));\r\n\r\n        Fruit fruit1 = null, fruit2 = null;\r\n        for(Pair&lt;Function&lt;Fruit, String&gt;, BiConsumer&lt;Fruit, String&gt;&gt;pair:getterSetterPair) {\r\n            Function&lt;Fruit, String&gt; getter = pair.a();\r\n            BiConsumer&lt;Fruit, String&gt; setter = pair.b();\r\n            //this is doing the logic you did before\r\n            String value = getter.apply(fruit1);\r\n            if(value != null) {\r\n                setter.accept(fruit2, value);\r\n            }\r\n        }\r\n\r\nIn general, I would also advise you to use a proven library such as MapStruct (see @hermit&#39;s) answer for that.","title":"Java reduce cognitive complexity of method which has multiple if statements","body":"<p>You can extract that logic by using method references for the getters and setters.</p>\n<p>For example you can extract <code>Fruit::getColor</code> to a <code>Function&lt;Fruit, String&gt;</code> and squeeze the setter into a <code>BiConsumer&lt;Fruit, String&gt;</code>.</p>\n<p>Then you can match each getter to a setter using some generic <code>Pair</code> such as a simple</p>\n<pre><code>record Pair&lt;R,L&gt; (R a, L b){}\n</code></pre>\n<p>Then you can store these <code>Pair</code>s into a <code>List</code> and iterate over them:</p>\n<pre><code>    List&lt;Pair&lt;Function&lt;Fruit, String&gt;, BiConsumer&lt;Fruit, String&gt;&gt;&gt; getterSetterPair = new ArrayList&lt;&gt;();\n    //&quot;connect&quot; getters and setters here\n    getterSetterPair.add(new Pair&lt;&gt;(Fruit::getColor, Fruit::setColor));\n    getterSetterPair.add(new Pair&lt;&gt;(Fruit::getName, Fruit::setName));\n\n    Fruit fruit1 = null, fruit2 = null;\n    for(Pair&lt;Function&lt;Fruit, String&gt;, BiConsumer&lt;Fruit, String&gt;&gt;pair:getterSetterPair) {\n        Function&lt;Fruit, String&gt; getter = pair.a();\n        BiConsumer&lt;Fruit, String&gt; setter = pair.b();\n        //this is doing the logic you did before\n        String value = getter.apply(fruit1);\n        if(value != null) {\n            setter.accept(fruit2, value);\n        }\n    }\n</code></pre>\n<p>In general, I would also advise you to use a proven library such as MapStruct (see @hermit's) answer for that.</p>\n"},{"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":7,"creation_date":1692100871,"post_id":76905527,"comment_id":135576317,"body_markdown":"That this is &#39;less complex&#39; than the original is in the eye of the beholder.","body":"That this is &#39;less complex&#39; than the original is in the eye of the beholder."},{"owner":{"account_id":26207948,"reputation":49,"user_id":19887279,"display_name":"developer new"},"score":0,"creation_date":1692101178,"post_id":76905527,"comment_id":135576387,"body_markdown":"But this really breaks and throws a NullPointer exception for field not present, so nullable doesnt work?","body":"But this really breaks and throws a NullPointer exception for field not present, so nullable doesnt work?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1692101184,"post_id":76905527,"comment_id":135576389,"body_markdown":"Using Optional as a verbose replacement for `if` is not really an [intended use of Optional](https://stackoverflow.com/questions/23454952/uses-for-optional).","body":"Using Optional as a verbose replacement for <code>if</code> is not really an <a href=\"https://stackoverflow.com/questions/23454952/uses-for-optional\">intended use of Optional</a>."},{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":0,"creation_date":1692101375,"post_id":76905527,"comment_id":135576428,"body_markdown":"It avoids the warning and it is very smooth to read. It also a little bit safer, because you don&#39;t have to get value twice.","body":"It avoids the warning and it is very smooth to read. It also a little bit safer, because you don&#39;t have to get value twice."},{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":0,"creation_date":1692101420,"post_id":76905527,"comment_id":135576438,"body_markdown":"@developernew did you used `Optional.of()`? This is not nullsafe, it has to be `Optional.ofNullable()`.","body":"@developernew did you used <code>Optional.of()</code>? This is not nullsafe, it has to be <code>Optional.ofNullable()</code>."},{"owner":{"account_id":26207948,"reputation":49,"user_id":19887279,"display_name":"developer new"},"score":0,"creation_date":1692179553,"post_id":76905527,"comment_id":135587646,"body_markdown":"@akop Sorry I have edited the question and the code part as it is handled in a different way than direct usage of fields, in that case the above solution doesnot work unfortunately.","body":"@akop Sorry I have edited the question and the code part as it is handled in a different way than direct usage of fields, in that case the above solution doesnot work unfortunately."},{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":0,"creation_date":1692195936,"post_id":76905527,"comment_id":135591217,"body_markdown":"@developernew edited. But I&#39;m not sure, if I got your point.","body":"@developernew edited. But I&#39;m not sure, if I got your point."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1692206040,"post_id":76905527,"comment_id":135593287,"body_markdown":"@developernew The code worked for what you had provided and your changes seem to further complicated the requirements. In cases like this it would be beneficial to provide the classes and a description of what you are trying to do. This has all the traits of an XY Problem.","body":"@developernew The code worked for what you had provided and your changes seem to further complicated the requirements. In cases like this it would be beneficial to provide the classes and a description of what you are trying to do. This has all the traits of an XY Problem."}],"tags":[],"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"comment_count":8,"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1692195878,"creation_date":1692098603,"answer_id":76905527,"question_id":76905297,"body_markdown":"You can use `Optional&lt;&gt;`.\r\n\r\n\r\n```java\r\n// static imported Optional.ofNullable()\r\nprivate void assignFruit(FruitBasket1&lt;?&gt; fruit1, FruitBasket2 fruit2) {\r\n   ofNullable(fruit1.name).ifPresent(fruit2::setName);\r\n   ofNullable(fruit1.number).ifPresent(fruit2::setNumber);\r\n   ofNullable(fruit1.color).ifPresent(fruit2::setColor);\r\n   ofNullable(fruit1.region).ifPresent(fruit2::setRegion);\r\n}\r\n```\r\n\r\nYou can improve it a little bit more with a static import of `ofNullable()`.\r\n\r\n\r\n## Edit\r\nI&#39;m not sure, but you need to change the type somehow?  \r\nAlso that is fluent possible with `Optional`.\r\n\r\n```java\r\n// static imported Optional.ofNullable()\r\nprivate void assignFruit(FruitBasket1&lt;?&gt; fruit1, FruitBasket2 fruit2) {\r\n   ofNullable(fruit1.name).map(Object::toString).ifPresent(fruit2::setName);\r\n   ofNullable(fruit1.number).map(Object::toString).ifPresent(fruit2::setNumber);\r\n   ofNullable(fruit1.color).map(Object::toString).ifPresent(fruit2::setColor);\r\n   ofNullable(fruit1.region).map(Object::toString).ifPresent(fruit2::setRegion);\r\n}\r\n```","title":"Java reduce cognitive complexity of method which has multiple if statements","body":"<p>You can use <code>Optional&lt;&gt;</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// static imported Optional.ofNullable()\nprivate void assignFruit(FruitBasket1&lt;?&gt; fruit1, FruitBasket2 fruit2) {\n   ofNullable(fruit1.name).ifPresent(fruit2::setName);\n   ofNullable(fruit1.number).ifPresent(fruit2::setNumber);\n   ofNullable(fruit1.color).ifPresent(fruit2::setColor);\n   ofNullable(fruit1.region).ifPresent(fruit2::setRegion);\n}\n</code></pre>\n<p>You can improve it a little bit more with a static import of <code>ofNullable()</code>.</p>\n<h2>Edit</h2>\n<p>I'm not sure, but you need to change the type somehow?<br />\nAlso that is fluent possible with <code>Optional</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// static imported Optional.ofNullable()\nprivate void assignFruit(FruitBasket1&lt;?&gt; fruit1, FruitBasket2 fruit2) {\n   ofNullable(fruit1.name).map(Object::toString).ifPresent(fruit2::setName);\n   ofNullable(fruit1.number).map(Object::toString).ifPresent(fruit2::setNumber);\n   ofNullable(fruit1.color).map(Object::toString).ifPresent(fruit2::setColor);\n   ofNullable(fruit1.region).map(Object::toString).ifPresent(fruit2::setRegion);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1692100278,"creation_date":1692100278,"answer_id":76905736,"question_id":76905297,"body_markdown":"Yes, you can also define the following method:\r\n\r\n\r\n    private static &lt;T&gt; void setIfNotNull(T value, Consumer&lt;T&gt; cons) {\r\n        if (value != null) {\r\n            cons.accept(value);\r\n        }\r\n    }\r\n\r\nAnd use it as follows:\r\n\r\n        setIfNotNull(fruit1.name, fruit2::setName);\r\n        setIfNotNull(fruit1.number, fruit2::setNumber);\r\n        setIfNotNull(fruit1.color, fruit2::setColor);\r\n        setIfNotNull(fruit1.region, fruit2::setRegion);\r\n","title":"Java reduce cognitive complexity of method which has multiple if statements","body":"<p>Yes, you can also define the following method:</p>\n<pre><code>private static &lt;T&gt; void setIfNotNull(T value, Consumer&lt;T&gt; cons) {\n    if (value != null) {\n        cons.accept(value);\n    }\n}\n</code></pre>\n<p>And use it as follows:</p>\n<pre><code>    setIfNotNull(fruit1.name, fruit2::setName);\n    setIfNotNull(fruit1.number, fruit2::setNumber);\n    setIfNotNull(fruit1.color, fruit2::setColor);\n    setIfNotNull(fruit1.region, fruit2::setRegion);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1692116287,"creation_date":1692103765,"answer_id":76906102,"question_id":76905297,"body_markdown":"First, if these attributes are not supposed to be null, how do they get to be null in the first place?  And if they are null, why not just copy them?  Without fully understanding your use case, it doesn&#39;t make much sense.\r\nEspecially when one wonders what the `getter` would return.\r\n\r\nIn any event, presuming that you never want to set the fruit in a basket if it is null, then enforce that invariant in the `setMethod` itself.  \r\n```\r\nclass FruitBasket2 {\r\n   public void setName(FruitBasket1&lt;?&gt; fb) {\r\n         if(fb.name != null) {\r\n             this.name = fb.name;\r\n          }\r\n   }\r\n   ...\r\n   ...\r\n}\r\n```\r\nConsider that if someone were to use your class `FruitBasket`, why make the user check for null before setting the value?\r\n\r\n","title":"Java reduce cognitive complexity of method which has multiple if statements","body":"<p>First, if these attributes are not supposed to be null, how do they get to be null in the first place?  And if they are null, why not just copy them?  Without fully understanding your use case, it doesn't make much sense.\nEspecially when one wonders what the <code>getter</code> would return.</p>\n<p>In any event, presuming that you never want to set the fruit in a basket if it is null, then enforce that invariant in the <code>setMethod</code> itself.</p>\n<pre><code>class FruitBasket2 {\n   public void setName(FruitBasket1&lt;?&gt; fb) {\n         if(fb.name != null) {\n             this.name = fb.name;\n          }\n   }\n   ...\n   ...\n}\n</code></pre>\n<p>Consider that if someone were to use your class <code>FruitBasket</code>, why make the user check for null before setting the value?</p>\n"}],"owner":{"account_id":26207948,"reputation":49,"user_id":19887279,"display_name":"developer new"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":76905527,"answer_count":5,"score":-1,"last_activity_date":1692709738,"creation_date":1692096784,"question_id":76905297,"body_markdown":"Hello I am looking for a way to reduce cognitive complexity of method which has multiple if statements. All are basically nullchecks for each item of object and is required.\r\n\r\nCode snippet:\r\n```\r\nprivate void assignFruit(FruitBasket1&lt;?&gt; fruit1, FruitBasket2 fruit2) {\r\n\t\t\r\n\t\tif (fruit1.name != null) {\r\n\t\t\tfruit2.setName(fruit1.name.toString());\r\n\t\t}\r\n\r\n\t\tif (fruit1.number != null) {\r\n\t\t\tfruit2.setNumber(fruit1.number.toString());\r\n\t\t}\r\n\r\n\t\tif (fruit1.color != null) {\r\n\t\t\tfruit2.setColor(fruit1.color.toString());\r\n\t\t}\r\n\r\n\t\tif (fruit1.region != null) {\r\n\t\t\tfruit2.setRegion(fruit1.region.toString());\r\n\t\t}\r\n\t\t\r\n}\r\n```\r\n\r\nI have tried to use switch case but since its only null check didnt find feasible, also tried ternary operator. Is there a simpler way to do this as although in the code snippet its only few fields  there are almost 20 fields which need be null checked. What are the other possibilities to do this simple manner without modifying the POJO class and managing in this method itself.\r\n\r\nNote: There was an error in the code in the way values are set ","title":"Java reduce cognitive complexity of method which has multiple if statements","body":"<p>Hello I am looking for a way to reduce cognitive complexity of method which has multiple if statements. All are basically nullchecks for each item of object and is required.</p>\n<p>Code snippet:</p>\n<pre><code>private void assignFruit(FruitBasket1&lt;?&gt; fruit1, FruitBasket2 fruit2) {\n        \n        if (fruit1.name != null) {\n            fruit2.setName(fruit1.name.toString());\n        }\n\n        if (fruit1.number != null) {\n            fruit2.setNumber(fruit1.number.toString());\n        }\n\n        if (fruit1.color != null) {\n            fruit2.setColor(fruit1.color.toString());\n        }\n\n        if (fruit1.region != null) {\n            fruit2.setRegion(fruit1.region.toString());\n        }\n        \n}\n</code></pre>\n<p>I have tried to use switch case but since its only null check didnt find feasible, also tried ternary operator. Is there a simpler way to do this as although in the code snippet its only few fields  there are almost 20 fields which need be null checked. What are the other possibilities to do this simple manner without modifying the POJO class and managing in this method itself.</p>\n<p>Note: There was an error in the code in the way values are set</p>\n"},{"tags":["java","spring-boot","hazelcast","spring-session"],"owner":{"account_id":19448947,"reputation":1,"user_id":14225825,"display_name":"lash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692709721,"creation_date":1692709358,"question_id":76953613,"body_markdown":"I have hazelcast server started on my local computer where I&#39;m trying to store sessions from spring boot application using spring-session-hazelcast:3.1.1\r\nconfig:\r\n\r\n        @Configuration(proxyBeanMethods = false)\r\n    @EnableHazelcastHttpSession(sessionMapName = &quot;authorization:session&quot;, saveMode = SaveMode.ALWAYS, flushMode = FlushMode.IMMEDIATE, maxInactiveIntervalInSeconds = 1800)\r\n    public class SessionConfig {\r\n    \r\n        @Bean\r\n        @SpringSessionHazelcastInstance\r\n        public HazelcastInstance hazelcastInstance() {\r\n            ClientConfig clientConfig = new ClientConfig();\r\n            clientConfig.getNetworkConfig().addAddress(&quot;127.0.0.1:5701&quot;);\r\n    \r\n            return HazelcastClient.newHazelcastClient(clientConfig);\r\n        }\r\n    \r\n    }\r\n\r\nby this approach hazelcast server needs some dependencies (spring-session-core, spring-session-hazelcast ...) on server side (de)serialization which I want to avoid. \r\n\r\nI think converting MapSession object \r\ninto String json and storing it into hazelcast will work without any extra dependencies but only way I found to do this is registering custom serializer \r\n\r\n        public class HazelcastSerializer implements StreamSerializer&lt;MapSession&gt; {\r\n    \r\n        private static final int SERIALIZER_TYPE_ID = 12313121;\r\n        private final ObjectMapper objectMapper;\r\n    \r\n        public HazelcastSerializer(ObjectMapper objectMapper) {\r\n            this.objectMapper = objectMapper;\r\n        }\r\n    \r\n        @Override\r\n        public void write(@Nonnull ObjectDataOutput out, @Nonnull MapSession object) throws IOException {\r\n            out.writeString(objectMapper.writeValueAsString(object));\r\n        }\r\n    \r\n        @Nonnull\r\n        @Override\r\n        public MapSession read(@Nonnull ObjectDataInput in) throws IOException {\r\n            return objectMapper.readValue(in, MapSession.class);\r\n        }\r\n    \r\n        @Override\r\n        public int getTypeId() {\r\n            return SERIALIZER_TYPE_ID;\r\n        }\r\n    \r\n        @Override\r\n        public void destroy() {\r\n            StreamSerializer.super.destroy();\r\n        }\r\n    }\r\n   \r\n\r\n        SerializerConfig serializerConfig = new SerializerConfig();\r\n    serializerConfig.setImplementation(new HazelcastSerializer(new ObjectMapper())).setTypeClass(MapSession.class);\r\n    clientConfig.getSerializationConfig().addSerializerConfig(serializerConfig);\r\n\r\nbut even if I create custom serializer it needs to be registered also on server side which means I also have to add dependencies\r\n\r\nany solution?","title":"storing spring boot sessions into hazelcast","body":"<p>I have hazelcast server started on my local computer where I'm trying to store sessions from spring boot application using spring-session-hazelcast:3.1.1\nconfig:</p>\n<pre><code>    @Configuration(proxyBeanMethods = false)\n@EnableHazelcastHttpSession(sessionMapName = &quot;authorization:session&quot;, saveMode = SaveMode.ALWAYS, flushMode = FlushMode.IMMEDIATE, maxInactiveIntervalInSeconds = 1800)\npublic class SessionConfig {\n\n    @Bean\n    @SpringSessionHazelcastInstance\n    public HazelcastInstance hazelcastInstance() {\n        ClientConfig clientConfig = new ClientConfig();\n        clientConfig.getNetworkConfig().addAddress(&quot;127.0.0.1:5701&quot;);\n\n        return HazelcastClient.newHazelcastClient(clientConfig);\n    }\n\n}\n</code></pre>\n<p>by this approach hazelcast server needs some dependencies (spring-session-core, spring-session-hazelcast ...) on server side (de)serialization which I want to avoid.</p>\n<p>I think converting MapSession object\ninto String json and storing it into hazelcast will work without any extra dependencies but only way I found to do this is registering custom serializer</p>\n<pre><code>    public class HazelcastSerializer implements StreamSerializer&lt;MapSession&gt; {\n\n    private static final int SERIALIZER_TYPE_ID = 12313121;\n    private final ObjectMapper objectMapper;\n\n    public HazelcastSerializer(ObjectMapper objectMapper) {\n        this.objectMapper = objectMapper;\n    }\n\n    @Override\n    public void write(@Nonnull ObjectDataOutput out, @Nonnull MapSession object) throws IOException {\n        out.writeString(objectMapper.writeValueAsString(object));\n    }\n\n    @Nonnull\n    @Override\n    public MapSession read(@Nonnull ObjectDataInput in) throws IOException {\n        return objectMapper.readValue(in, MapSession.class);\n    }\n\n    @Override\n    public int getTypeId() {\n        return SERIALIZER_TYPE_ID;\n    }\n\n    @Override\n    public void destroy() {\n        StreamSerializer.super.destroy();\n    }\n}\n\n\n    SerializerConfig serializerConfig = new SerializerConfig();\nserializerConfig.setImplementation(new HazelcastSerializer(new ObjectMapper())).setTypeClass(MapSession.class);\nclientConfig.getSerializationConfig().addSerializerConfig(serializerConfig);\n</code></pre>\n<p>but even if I create custom serializer it needs to be registered also on server side which means I also have to add dependencies</p>\n<p>any solution?</p>\n"},{"tags":["java","iframe","spring-security","cross-domain","jsessionid"],"comments":[{"owner":{"account_id":6191335,"reputation":4657,"user_id":4823977,"display_name":"Hash"},"score":0,"creation_date":1528469227,"post_id":50691187,"comment_id":88533894,"body_markdown":"You can solve it in an other way as well. If you have a SPA than you can utilize headers and memory. Also if you are using an `iframe` it should be OK to manage your own cookies, you should create a servlet that &quot;shares&quot; the session in the two domains or I think the best solution would be to have a proxy on domainA.com which points to domainB.com. This way you can set up any cookie mapping, anything what you want. If you can utilize this I&#39;d use https://github.com/mitre/HTTP-Proxy-Servlet . I&#39;ll post this as a detailed answer if you are able to utilize any of these methods. :)","body":"You can solve it in an other way as well. If you have a SPA than you can utilize headers and memory. Also if you are using an <code>iframe</code> it should be OK to manage your own cookies, you should create a servlet that &quot;shares&quot; the session in the two domains or I think the best solution would be to have a proxy on domainA.com which points to domainB.com. This way you can set up any cookie mapping, anything what you want. If you can utilize this I&#39;d use <a href=\"https://github.com/mitre/HTTP-Proxy-Servlet\" rel=\"nofollow noreferrer\">github.com/mitre/HTTP-Proxy-Servlet</a> . I&#39;ll post this as a detailed answer if you are able to utilize any of these methods. :)"},{"owner":{"account_id":13456279,"reputation":2278,"user_id":9709773,"display_name":"Shubham Kadlag"},"score":0,"creation_date":1528879669,"post_id":50691187,"comment_id":88669657,"body_markdown":"Try this and let me know. servletContext.setSessionTrackingModes(EnumSet.of(SessionTrackingMode.URL));","body":"Try this and let me know. servletContext.setSessionTrackingModes(EnumSet.of(SessionTra&zwnj;&#8203;ckingMode.URL));"}],"answers":[{"tags":[],"owner":{"account_id":1853438,"reputation":1447,"user_id":1679484,"accept_rate":20,"display_name":"Amit Parashar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1528722775,"creation_date":1528722775,"answer_id":50798575,"question_id":50691187,"body_markdown":"You can have a token based communication between the site DomainB.com server and the client browser. The token can be sent from the DomainB.com server in the response&#39;s header , after authentication.  The client browser can then save the token in localstorage/session storage (have a expiry time too). The client can then send the token in every request&#39;s header. Hope this helps.","title":"Spring Security Sessions without cookies","body":"<p>You can have a token based communication between the site DomainB.com server and the client browser. The token can be sent from the DomainB.com server in the response's header , after authentication.  The client browser can then save the token in localstorage/session storage (have a expiry time too). The client can then send the token in every request's header. Hope this helps.</p>\n"},{"comments":[{"owner":{"account_id":1298380,"reputation":898,"user_id":1248817,"accept_rate":83,"display_name":"Mattiavelli"},"score":0,"creation_date":1529384186,"post_id":50830373,"comment_id":88841188,"body_markdown":"I posted the solution I ended up going with (more infrastructural and not application-level changes) - but had I needed another solution - this would have been the runner up. Thanks!","body":"I posted the solution I ended up going with (more infrastructural and not application-level changes) - but had I needed another solution - this would have been the runner up. Thanks!"},{"owner":{"account_id":470693,"reputation":1826,"user_id":878015,"display_name":"David Can&#243;s"},"score":0,"creation_date":1543969509,"post_id":50830373,"comment_id":94107143,"body_markdown":"This example works with authentication, but I need to get a session for every user (with or without authentication) like regular sessions works. Is that possible?","body":"This example works with authentication, but I need to get a session for every user (with or without authentication) like regular sessions works. Is that possible?"},{"owner":{"account_id":3021932,"reputation":1560,"user_id":2562746,"display_name":"Jean Marois"},"score":0,"creation_date":1544022083,"post_id":50830373,"comment_id":94129851,"body_markdown":"@DavidCan&#243;s, it should. This approach only changes how the session information is transmitted between the client and server, i.e. in the header instead of a cookie or part of the url, but I haven&#39;t tried your use case.","body":"@DavidCan&#243;s, it should. This approach only changes how the session information is transmitted between the client and server, i.e. in the header instead of a cookie or part of the url, but I haven&#39;t tried your use case."},{"owner":{"account_id":470693,"reputation":1826,"user_id":878015,"display_name":"David Can&#243;s"},"score":0,"creation_date":1544143818,"post_id":50830373,"comment_id":94181849,"body_markdown":"@JeanMarois i managed to do it. It just works as expected, you have to send x-auth-token in the header and it really works as a cookie (auth or not auth sessions). It creates a session in the server and allow you to work as usual. Thanks","body":"@JeanMarois i managed to do it. It just works as expected, you have to send x-auth-token in the header and it really works as a cookie (auth or not auth sessions). It creates a session in the server and allow you to work as usual. Thanks"},{"owner":{"account_id":1227394,"reputation":3921,"user_id":1192702,"accept_rate":75,"display_name":"alaster"},"score":1,"creation_date":1650572669,"post_id":50830373,"comment_id":127157020,"body_markdown":"Links are outdated. Follow https://docs.spring.io/spring-session/docs/1.3.3.RELEASE/reference/html5/#httpsession-rest","body":"Links are outdated. Follow <a href=\"https://docs.spring.io/spring-session/docs/1.3.3.RELEASE/reference/html5/#httpsession-rest\" rel=\"nofollow noreferrer\">docs.spring.io/spring-session/docs/1.3.3.RELEASE/reference/&hellip;</a>"}],"tags":[],"owner":{"account_id":3021932,"reputation":1560,"user_id":2562746,"display_name":"Jean Marois"},"comment_count":5,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1692709376,"creation_date":1528871142,"answer_id":50830373,"question_id":50691187,"body_markdown":"Have you looked at [Spring Session: HttpSession &amp; RestfulAPI][1] which uses HTTP headers instead of cookies. See the REST sample projects in [REST Sample][3].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-session/reference/http-session.html#httpsession-rest\r\n  [2]: https://github.com/spring-projects/spring-session/tree/master/samples/javaconfig/rest\r\n  [3]: https://docs.spring.io/spring-session/reference/samples.html#samples","title":"Spring Security Sessions without cookies","body":"<p>Have you looked at <a href=\"https://docs.spring.io/spring-session/reference/http-session.html#httpsession-rest\" rel=\"nofollow noreferrer\">Spring Session: HttpSession &amp; RestfulAPI</a> which uses HTTP headers instead of cookies. See the REST sample projects in <a href=\"https://docs.spring.io/spring-session/reference/samples.html#samples\" rel=\"nofollow noreferrer\">REST Sample</a>.</p>\n"},{"tags":[],"owner":{"account_id":4454424,"reputation":7384,"user_id":3625215,"accept_rate":47,"display_name":"MyTwoCents"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1528978655,"creation_date":1528978655,"answer_id":50857373,"question_id":50691187,"body_markdown":"Form based logins are mainly stateful sessions. In your scenario using stateless sessions would be best.\r\n\r\n[JWT][1] provide implementation for this. Its basically a key which you need to pass as header in each HTTP request.\r\nSo as long as you have the key. API is available.\r\n\r\n\r\nWe can integrate JWT with Spring.\r\n\r\nBasically you need to write these logic.\r\n\r\n - Generate Key Logic \r\n - Use JWT in Spring Security \r\n - Validate key on each call\r\n\r\nI can give you a head start\r\n\r\n\r\n**pom.xml**\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.9.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n**TokenHelper.java**\r\n\r\n*Contain useful functions for validating, checking, and parsing Token.*\r\n\r\n\r\n\r\n\r\n    import io.jsonwebtoken.Claims;\r\n    import io.jsonwebtoken.Jwts;\r\n    import io.jsonwebtoken.SignatureAlgorithm;\r\n    \r\n    import java.util.Date;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import javax.servlet.http.HttpServletRequest;\r\n    \r\n    import org.apache.commons.logging.Log;\r\n    import org.apache.commons.logging.LogFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import com.test.dfx.common.TimeProvider;\r\n    import com.test.dfx.model.LicenseDetail;\r\n    import com.test.dfx.model.User;\r\n    \r\n    \r\n    @Component\r\n    public class TokenHelper {\r\n    \t\r\n    \tprotected final Log LOGGER = LogFactory.getLog(getClass());\r\n    \r\n        @Value(&quot;${app.name}&quot;)\r\n        private String APP_NAME;\r\n    \r\n        @Value(&quot;${jwt.secret}&quot;)\r\n        public String SECRET;    //  Secret key used to generate Key. Am getting it from propertyfile\r\n        \r\n        @Value(&quot;${jwt.expires_in}&quot;)\r\n        private int EXPIRES_IN;  //  can specify time for token to expire. \r\n       \r\n        @Value(&quot;${jwt.header}&quot;)\r\n        private String AUTH_HEADER;\r\n    \r\n       \r\n        @Autowired\r\n        TimeProvider timeProvider;\r\n    \r\n        private SignatureAlgorithm SIGNATURE_ALGORITHM = SignatureAlgorithm.HS512;  // JWT Algorithm for encryption\r\n    \r\n    \r\n        public Date getIssuedAtDateFromToken(String token) {\r\n            Date issueAt;\r\n            try {\r\n                final Claims claims = this.getAllClaimsFromToken(token);\r\n                issueAt = claims.getIssuedAt();\r\n            } catch (Exception e) {\r\n            \tLOGGER.error(&quot;Could not get IssuedDate from passed token&quot;);\r\n                issueAt = null;\r\n            }\r\n            return issueAt;\r\n        }\r\n    \r\n        public String getAudienceFromToken(String token) {\r\n            String audience;\r\n            try {\r\n                final Claims claims = this.getAllClaimsFromToken(token);\r\n                audience = claims.getAudience();\r\n            } catch (Exception e) {\r\n            \tLOGGER.error(&quot;Could not get Audience from passed token&quot;);\r\n                audience = null;\r\n            }\r\n            return audience;\r\n        }\r\n    \r\n        public String refreshToken(String token) {\r\n            String refreshedToken;\r\n            Date a = timeProvider.now();\r\n            try {\r\n                final Claims claims = this.getAllClaimsFromToken(token);\r\n                claims.setIssuedAt(a);\r\n                refreshedToken = Jwts.builder()\r\n                    .setClaims(claims)\r\n                    .setExpiration(generateExpirationDate())\r\n                    .signWith( SIGNATURE_ALGORITHM, SECRET )\r\n                    .compact();\r\n            } catch (Exception e) {\r\n            \tLOGGER.error(&quot;Could not generate Refresh Token from passed token&quot;);\r\n                refreshedToken = null;\r\n            }\r\n            return refreshedToken;\r\n        }\r\n    \r\n        public String generateToken(String username) {\r\n            String audience = generateAudience();\r\n            return Jwts.builder()\r\n                    .setIssuer( APP_NAME )\r\n                    .setSubject(username)\r\n                    .setAudience(audience)\r\n                    .setIssuedAt(timeProvider.now())\r\n                    .setExpiration(generateExpirationDate())\r\n                    .signWith( SIGNATURE_ALGORITHM, SECRET )\r\n                    .compact();\r\n        }\r\n    \r\n        \r\n      \r\n        private Claims getAllClaimsFromToken(String token) {\r\n            Claims claims;\r\n            try {\r\n                claims = Jwts.parser()\r\n                        .setSigningKey(SECRET)\r\n                        .parseClaimsJws(token)\r\n                        .getBody();\r\n            } catch (Exception e) {\r\n            \tLOGGER.error(&quot;Could not get all claims Token from passed token&quot;);\r\n                claims = null;\r\n            }\r\n            return claims;\r\n        }\r\n    \r\n        private Date generateExpirationDate() {\r\n            long expiresIn = EXPIRES_IN;\r\n            return new Date(timeProvider.now().getTime() + expiresIn * 1000);\r\n        }\r\n    \r\n        public int getExpiredIn() {\r\n            return EXPIRES_IN;\r\n        }\r\n    \r\n        public Boolean validateToken(String token, UserDetails userDetails) {\r\n            User user = (User) userDetails;\r\n            final String username = getUsernameFromToken(token);\r\n            final Date created = getIssuedAtDateFromToken(token);\r\n            return (\r\n                    username != null &amp;&amp;\r\n                    username.equals(userDetails.getUsername()) &amp;&amp;\r\n                            !isCreatedBeforeLastPasswordReset(created, user.getLastPasswordResetDate())\r\n            );\r\n        }\r\n    \r\n        private Boolean isCreatedBeforeLastPasswordReset(Date created, Date lastPasswordReset) {\r\n            return (lastPasswordReset != null &amp;&amp; created.before(lastPasswordReset));\r\n        }\r\n    \r\n        public String getToken( HttpServletRequest request ) {\r\n            /**\r\n             *  Getting the token from Authentication header\r\n             *  e.g Bearer your_token\r\n             */\r\n            String authHeader = getAuthHeaderFromHeader( request );\r\n            if ( authHeader != null &amp;&amp; authHeader.startsWith(&quot;Bearer &quot;)) {\r\n                return authHeader.substring(7);\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        public String getAuthHeaderFromHeader( HttpServletRequest request ) {\r\n            return request.getHeader(AUTH_HEADER);\r\n        }\r\n     \r\n        \r\n    }\r\n\r\n**WebSecurity**\r\n\r\n*SpringSecurity Logic to add JWT check*\r\n\r\n\r\n \r\n\r\n    @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n            .sessionManagement().sessionCreationPolicy( SessionCreationPolicy.STATELESS ).and()\r\n            .exceptionHandling().authenticationEntryPoint( restAuthenticationEntryPoint ).and()\r\n            .authorizeRequests()\r\n            .antMatchers(&quot;/auth/**&quot;).permitAll()\r\n            .antMatchers(&quot;/login&quot;).permitAll()\r\n            .antMatchers(&quot;/home&quot;).permitAll()\r\n            .antMatchers(&quot;/actuator/**&quot;).permitAll()\r\n            .anyRequest().authenticated().and()\r\n            .addFilterBefore(new TokenAuthenticationFilter(tokenHelper, jwtUserDetailsService), BasicAuthenticationFilter.class);\r\n    \r\n            http.csrf().disable();\r\n        }\r\n\r\n**TokenAuthenticationFilter.java**\r\n\r\n*Check each Rest Call for valid Token*\r\n\r\n\r\n\r\n    package com.test.dfx.security;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import javax.servlet.FilterChain;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    import org.apache.commons.logging.Log;\r\n    import org.apache.commons.logging.LogFactory;\r\n    import org.springframework.security.core.context.SecurityContextHolder;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.web.filter.OncePerRequestFilter;\r\n    \r\n    public class TokenAuthenticationFilter extends OncePerRequestFilter {\r\n    \r\n    \tprotected final Log logger = LogFactory.getLog(getClass());\r\n    \t\r\n        private TokenHelper tokenHelper;\r\n    \r\n        private UserDetailsService userDetailsService;\r\n    \r\n        public TokenAuthenticationFilter(TokenHelper tokenHelper, UserDetailsService userDetailsService) {\r\n            this.tokenHelper = tokenHelper;\r\n            this.userDetailsService = userDetailsService;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void doFilterInternal(\r\n                HttpServletRequest request,\r\n                HttpServletResponse response,\r\n                FilterChain chain\r\n        ) throws IOException, ServletException {\r\n    \r\n            String username;\r\n            String authToken = tokenHelper.getToken(request);\r\n            \r\n            logger.info(&quot;AuthToken: &quot;+authToken);\r\n            \r\n            if (authToken != null) {\r\n                // get username from token\r\n                username = tokenHelper.getUsernameFromToken(authToken);\r\n                logger.info(&quot;UserName: &quot;+username);\r\n                if (username != null) {\r\n                    // get user\r\n                    UserDetails userDetails = userDetailsService.loadUserByUsername(username);\r\n                    if (tokenHelper.validateToken(authToken, userDetails)) {\r\n                        // create authentication\r\n                        TokenBasedAuthentication authentication = new TokenBasedAuthentication(userDetails);\r\n                        authentication.setToken(authToken);\r\n                        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n                    }\r\n                }else{\r\n                \tlogger.error(&quot;Something is wrong with Token.&quot;);\r\n                }\r\n            }\r\n            chain.doFilter(request, response);\r\n        }\r\n        \r\n       \r\n    }\r\n\r\n\r\n  [1]: https://jwt.io/\r\n\r\n","title":"Spring Security Sessions without cookies","body":"<p>Form based logins are mainly stateful sessions. In your scenario using stateless sessions would be best.</p>\n\n<p><a href=\"https://jwt.io/\" rel=\"noreferrer\">JWT</a> provide implementation for this. Its basically a key which you need to pass as header in each HTTP request.\nSo as long as you have the key. API is available.</p>\n\n<p>We can integrate JWT with Spring.</p>\n\n<p>Basically you need to write these logic.</p>\n\n<ul>\n<li>Generate Key Logic </li>\n<li>Use JWT in Spring Security </li>\n<li>Validate key on each call</li>\n</ul>\n\n<p>I can give you a head start</p>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n    &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n    &lt;version&gt;0.9.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>TokenHelper.java</strong></p>\n\n<p><em>Contain useful functions for validating, checking, and parsing Token.</em></p>\n\n<pre><code>import io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.SignatureAlgorithm;\n\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport javax.servlet.http.HttpServletRequest;\n\nimport org.apache.commons.logging.Log;\nimport org.apache.commons.logging.LogFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.stereotype.Component;\n\nimport com.test.dfx.common.TimeProvider;\nimport com.test.dfx.model.LicenseDetail;\nimport com.test.dfx.model.User;\n\n\n@Component\npublic class TokenHelper {\n\n    protected final Log LOGGER = LogFactory.getLog(getClass());\n\n    @Value(\"${app.name}\")\n    private String APP_NAME;\n\n    @Value(\"${jwt.secret}\")\n    public String SECRET;    //  Secret key used to generate Key. Am getting it from propertyfile\n\n    @Value(\"${jwt.expires_in}\")\n    private int EXPIRES_IN;  //  can specify time for token to expire. \n\n    @Value(\"${jwt.header}\")\n    private String AUTH_HEADER;\n\n\n    @Autowired\n    TimeProvider timeProvider;\n\n    private SignatureAlgorithm SIGNATURE_ALGORITHM = SignatureAlgorithm.HS512;  // JWT Algorithm for encryption\n\n\n    public Date getIssuedAtDateFromToken(String token) {\n        Date issueAt;\n        try {\n            final Claims claims = this.getAllClaimsFromToken(token);\n            issueAt = claims.getIssuedAt();\n        } catch (Exception e) {\n            LOGGER.error(\"Could not get IssuedDate from passed token\");\n            issueAt = null;\n        }\n        return issueAt;\n    }\n\n    public String getAudienceFromToken(String token) {\n        String audience;\n        try {\n            final Claims claims = this.getAllClaimsFromToken(token);\n            audience = claims.getAudience();\n        } catch (Exception e) {\n            LOGGER.error(\"Could not get Audience from passed token\");\n            audience = null;\n        }\n        return audience;\n    }\n\n    public String refreshToken(String token) {\n        String refreshedToken;\n        Date a = timeProvider.now();\n        try {\n            final Claims claims = this.getAllClaimsFromToken(token);\n            claims.setIssuedAt(a);\n            refreshedToken = Jwts.builder()\n                .setClaims(claims)\n                .setExpiration(generateExpirationDate())\n                .signWith( SIGNATURE_ALGORITHM, SECRET )\n                .compact();\n        } catch (Exception e) {\n            LOGGER.error(\"Could not generate Refresh Token from passed token\");\n            refreshedToken = null;\n        }\n        return refreshedToken;\n    }\n\n    public String generateToken(String username) {\n        String audience = generateAudience();\n        return Jwts.builder()\n                .setIssuer( APP_NAME )\n                .setSubject(username)\n                .setAudience(audience)\n                .setIssuedAt(timeProvider.now())\n                .setExpiration(generateExpirationDate())\n                .signWith( SIGNATURE_ALGORITHM, SECRET )\n                .compact();\n    }\n\n\n\n    private Claims getAllClaimsFromToken(String token) {\n        Claims claims;\n        try {\n            claims = Jwts.parser()\n                    .setSigningKey(SECRET)\n                    .parseClaimsJws(token)\n                    .getBody();\n        } catch (Exception e) {\n            LOGGER.error(\"Could not get all claims Token from passed token\");\n            claims = null;\n        }\n        return claims;\n    }\n\n    private Date generateExpirationDate() {\n        long expiresIn = EXPIRES_IN;\n        return new Date(timeProvider.now().getTime() + expiresIn * 1000);\n    }\n\n    public int getExpiredIn() {\n        return EXPIRES_IN;\n    }\n\n    public Boolean validateToken(String token, UserDetails userDetails) {\n        User user = (User) userDetails;\n        final String username = getUsernameFromToken(token);\n        final Date created = getIssuedAtDateFromToken(token);\n        return (\n                username != null &amp;&amp;\n                username.equals(userDetails.getUsername()) &amp;&amp;\n                        !isCreatedBeforeLastPasswordReset(created, user.getLastPasswordResetDate())\n        );\n    }\n\n    private Boolean isCreatedBeforeLastPasswordReset(Date created, Date lastPasswordReset) {\n        return (lastPasswordReset != null &amp;&amp; created.before(lastPasswordReset));\n    }\n\n    public String getToken( HttpServletRequest request ) {\n        /**\n         *  Getting the token from Authentication header\n         *  e.g Bearer your_token\n         */\n        String authHeader = getAuthHeaderFromHeader( request );\n        if ( authHeader != null &amp;&amp; authHeader.startsWith(\"Bearer \")) {\n            return authHeader.substring(7);\n        }\n\n        return null;\n    }\n\n    public String getAuthHeaderFromHeader( HttpServletRequest request ) {\n        return request.getHeader(AUTH_HEADER);\n    }\n\n\n}\n</code></pre>\n\n<p><strong>WebSecurity</strong></p>\n\n<p><em>SpringSecurity Logic to add JWT check</em></p>\n\n<pre><code>@Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n        .sessionManagement().sessionCreationPolicy( SessionCreationPolicy.STATELESS ).and()\n        .exceptionHandling().authenticationEntryPoint( restAuthenticationEntryPoint ).and()\n        .authorizeRequests()\n        .antMatchers(\"/auth/**\").permitAll()\n        .antMatchers(\"/login\").permitAll()\n        .antMatchers(\"/home\").permitAll()\n        .antMatchers(\"/actuator/**\").permitAll()\n        .anyRequest().authenticated().and()\n        .addFilterBefore(new TokenAuthenticationFilter(tokenHelper, jwtUserDetailsService), BasicAuthenticationFilter.class);\n\n        http.csrf().disable();\n    }\n</code></pre>\n\n<p><strong>TokenAuthenticationFilter.java</strong></p>\n\n<p><em>Check each Rest Call for valid Token</em></p>\n\n<pre><code>package com.test.dfx.security;\n\nimport java.io.IOException;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.apache.commons.logging.Log;\nimport org.apache.commons.logging.LogFactory;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\npublic class TokenAuthenticationFilter extends OncePerRequestFilter {\n\n    protected final Log logger = LogFactory.getLog(getClass());\n\n    private TokenHelper tokenHelper;\n\n    private UserDetailsService userDetailsService;\n\n    public TokenAuthenticationFilter(TokenHelper tokenHelper, UserDetailsService userDetailsService) {\n        this.tokenHelper = tokenHelper;\n        this.userDetailsService = userDetailsService;\n    }\n\n\n    @Override\n    public void doFilterInternal(\n            HttpServletRequest request,\n            HttpServletResponse response,\n            FilterChain chain\n    ) throws IOException, ServletException {\n\n        String username;\n        String authToken = tokenHelper.getToken(request);\n\n        logger.info(\"AuthToken: \"+authToken);\n\n        if (authToken != null) {\n            // get username from token\n            username = tokenHelper.getUsernameFromToken(authToken);\n            logger.info(\"UserName: \"+username);\n            if (username != null) {\n                // get user\n                UserDetails userDetails = userDetailsService.loadUserByUsername(username);\n                if (tokenHelper.validateToken(authToken, userDetails)) {\n                    // create authentication\n                    TokenBasedAuthentication authentication = new TokenBasedAuthentication(userDetails);\n                    authentication.setToken(authToken);\n                    SecurityContextHolder.getContext().setAuthentication(authentication);\n                }\n            }else{\n                logger.error(\"Something is wrong with Token.\");\n            }\n        }\n        chain.doFilter(request, response);\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1298380,"reputation":898,"user_id":1248817,"accept_rate":83,"display_name":"Mattiavelli"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1529384035,"creation_date":1529384035,"answer_id":50920869,"question_id":50691187,"body_markdown":"I appreciate all the answers above - I ended up opting for an easier solution without making any application-level changes because the owner of domainA.com was willing to work with us. Posting it here for others, as I didn&#39;t even think of this originally... \r\n\r\nBasically : \r\n\r\n- Owner of domainA.com created a DNS record to for domainB.domainA.com -&gt; domainB.com\r\n- Owner of domainB.com (me) requested a public SSL certificate for domainB.domainA.com via &quot;email validation&quot; (I did this through AWS, but I&#39;m sure there are other mechanisms via othe providers)\r\n- The above request was sent to the webmasters of domainA.com -&gt; they approved and issued the public certificate\r\n- Once issued - I was able to configure my application (or load balancer) to use this new certificate, and they configured their application to point to &quot;domainB.domainA.com&quot; (which subsequently routed to domainB.com in DNS)\r\n- Now, the browsers issue cookies for domainB.domainA.com and since they are the same primary domain, the cookies get created without any work-arounds needed.\r\n\r\n\r\nThanks again for the answers, apologies for not selecting an answer here - busy week.","title":"Spring Security Sessions without cookies","body":"<p>I appreciate all the answers above - I ended up opting for an easier solution without making any application-level changes because the owner of domainA.com was willing to work with us. Posting it here for others, as I didn't even think of this originally... </p>\n\n<p>Basically : </p>\n\n<ul>\n<li>Owner of domainA.com created a DNS record to for domainB.domainA.com -> domainB.com</li>\n<li>Owner of domainB.com (me) requested a public SSL certificate for domainB.domainA.com via \"email validation\" (I did this through AWS, but I'm sure there are other mechanisms via othe providers)</li>\n<li>The above request was sent to the webmasters of domainA.com -> they approved and issued the public certificate</li>\n<li>Once issued - I was able to configure my application (or load balancer) to use this new certificate, and they configured their application to point to \"domainB.domainA.com\" (which subsequently routed to domainB.com in DNS)</li>\n<li>Now, the browsers issue cookies for domainB.domainA.com and since they are the same primary domain, the cookies get created without any work-arounds needed.</li>\n</ul>\n\n<p>Thanks again for the answers, apologies for not selecting an answer here - busy week.</p>\n"}],"owner":{"account_id":1298380,"reputation":898,"user_id":1248817,"accept_rate":83,"display_name":"Mattiavelli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21879,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":50830373,"answer_count":4,"score":31,"last_activity_date":1692709376,"creation_date":1528165855,"question_id":50691187,"body_markdown":"I&#39;m trying to manage sessions in Spring Security without leveraging cookies. The reasoning is - our application is displayed within an iframe from another domain, we need to manage sessions in our application, [and Safari restricts cross-domain cookie creation][1]. (context : domainA.com displays domainB.com in an iframe. domainB.com is setting a JSESSIONID cookie to leverage on domainB.com, but since the user&#39;s browser is showing domainA.com - Safari restricts domainB.com from creating the cookie). \r\n\r\nThe only way I can think to achieve this (against OWASP security recommendations) - is to include the JSESSIONID in the URL as a GET parameter. I don&#39;t WANT to do this, but I can&#39;t think of an alternative. \r\n\r\nSo this question is both about : \r\n\r\n- Are there better alternatives to tackling this problem?\r\n- If not - how can I achieve this with Spring Security\r\n\r\nReviewing Spring&#39;s Documentation around this, using [enableSessionUrlRewriting][2] should allow for this \r\n\r\nSo I&#39;ve done this :\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n            .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.ALWAYS)\r\n                .enableSessionUrlRewriting(true)\r\n\r\nThis didn&#39;t add the JSESSIONID to the URL, but it should be allowed now. I then leveraged some code found [in this question][3] to set the &quot;tracking mode&quot; to URL\r\n\r\n    @SpringBootApplication\r\n    public class MyApplication extends SpringBootServletInitializer {\r\n\r\n       @Override\r\n       public void onStartup(ServletContext servletContext) throws ServletException {\r\n          super.onStartup(servletContext);\r\n\r\n          servletContext\r\n            .setSessionTrackingModes(\r\n                Collections.singleton(SessionTrackingMode.URL)\r\n          );\r\n\r\nEven after this - the application still adds the JSESSIONID as a cookie and not in the URL. \r\n\r\nCan someone help point me in the right direction here?\r\n\r\n\r\n  [1]: https://medium.com/@bluepnume/safaris-new-tracking-rules-and-enabling-cross-domain-data-storage-85241eea7483\r\n  [2]: https://docs.spring.io/autorepo/docs/spring-security/4.0.1.RELEASE/apidocs/org/springframework/security/config/annotation/web/configurers/SessionManagementConfigurer.html#enableSessionUrlRewriting(boolean)\r\n  [3]: https://stackoverflow.com/questions/31791587/spring-boot-remove-jsessionid-from-url","title":"Spring Security Sessions without cookies","body":"<p>I'm trying to manage sessions in Spring Security without leveraging cookies. The reasoning is - our application is displayed within an iframe from another domain, we need to manage sessions in our application, <a href=\"https://medium.com/@bluepnume/safaris-new-tracking-rules-and-enabling-cross-domain-data-storage-85241eea7483\" rel=\"noreferrer\">and Safari restricts cross-domain cookie creation</a>. (context : domainA.com displays domainB.com in an iframe. domainB.com is setting a JSESSIONID cookie to leverage on domainB.com, but since the user's browser is showing domainA.com - Safari restricts domainB.com from creating the cookie). </p>\n\n<p>The only way I can think to achieve this (against OWASP security recommendations) - is to include the JSESSIONID in the URL as a GET parameter. I don't WANT to do this, but I can't think of an alternative. </p>\n\n<p>So this question is both about : </p>\n\n<ul>\n<li>Are there better alternatives to tackling this problem?</li>\n<li>If not - how can I achieve this with Spring Security</li>\n</ul>\n\n<p>Reviewing Spring's Documentation around this, using <a href=\"https://docs.spring.io/autorepo/docs/spring-security/4.0.1.RELEASE/apidocs/org/springframework/security/config/annotation/web/configurers/SessionManagementConfigurer.html#enableSessionUrlRewriting(boolean)\" rel=\"noreferrer\">enableSessionUrlRewriting</a> should allow for this </p>\n\n<p>So I've done this :</p>\n\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http\n        .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.ALWAYS)\n            .enableSessionUrlRewriting(true)\n</code></pre>\n\n<p>This didn't add the JSESSIONID to the URL, but it should be allowed now. I then leveraged some code found <a href=\"https://stackoverflow.com/questions/31791587/spring-boot-remove-jsessionid-from-url\">in this question</a> to set the \"tracking mode\" to URL</p>\n\n<pre><code>@SpringBootApplication\npublic class MyApplication extends SpringBootServletInitializer {\n\n   @Override\n   public void onStartup(ServletContext servletContext) throws ServletException {\n      super.onStartup(servletContext);\n\n      servletContext\n        .setSessionTrackingModes(\n            Collections.singleton(SessionTrackingMode.URL)\n      );\n</code></pre>\n\n<p>Even after this - the application still adds the JSESSIONID as a cookie and not in the URL. </p>\n\n<p>Can someone help point me in the right direction here?</p>\n"},{"tags":["java","github","package","publish","readme"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1692709353,"post_id":76953602,"comment_id":135658796,"body_markdown":"Please don&#39;t just repost your question if it gets closed or doesn&#39;t get enough attention","body":"Please don&#39;t just repost your question if it gets closed or doesn&#39;t get enough attention"},{"owner":{"account_id":27477190,"reputation":16,"user_id":20964980,"display_name":"Gurgen Yegoryan"},"score":0,"creation_date":1692709574,"post_id":76953602,"comment_id":135658872,"body_markdown":"@Jorn What&#39;s the problem with my post? I have a question that needs an answer, but is this site for this yes?","body":"@Jorn What&#39;s the problem with my post? I have a question that needs an answer, but is this site for this yes?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692709725,"post_id":76953602,"comment_id":135658913,"body_markdown":"Your original question was closed as &quot;Needs details or clarity&quot;. If you click that link, it&#39;ll explain how you can improve your question so that we might be able to help.","body":"Your original question was closed as &quot;Needs details or clarity&quot;. If you click that link, it&#39;ll explain how you can improve your question so that we might be able to help."}],"owner":{"account_id":27477190,"reputation":16,"user_id":20964980,"display_name":"Gurgen Yegoryan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692709334,"answer_count":0,"score":0,"last_activity_date":1692709286,"creation_date":1692709286,"question_id":76953602,"body_markdown":"I&#39;m publishing my java program to the GitHub package registry, but I can&#39;t attach the README.md so I don&#39;t have to go into the package and fill in the Description manually. Can you help how to solve this problem?\r\n\r\nAfter building my Java packages from my C++ code,I run command publish to Gitgub Maven registry, and it upload but without description. I need upload my README.md into package description. Is there any way I can do this? Set README.md in build.gradle or maybe it understand other name and I must rename my README.md\r\n\r\n\r\n\r\n# Command for build java\r\n```\r\n./java/gradlew build #--info\r\n```\r\n# Command to publish\r\n```\r\n./java/gradlew publish\r\n```","title":"Publish Java to Github package registry with README.md","body":"<p>I'm publishing my java program to the GitHub package registry, but I can't attach the README.md so I don't have to go into the package and fill in the Description manually. Can you help how to solve this problem?</p>\n<p>After building my Java packages from my C++ code,I run command publish to Gitgub Maven registry, and it upload but without description. I need upload my README.md into package description. Is there any way I can do this? Set README.md in build.gradle or maybe it understand other name and I must rename my README.md</p>\n<h1>Command for build java</h1>\n<pre><code>./java/gradlew build #--info\n</code></pre>\n<h1>Command to publish</h1>\n<pre><code>./java/gradlew publish\n</code></pre>\n"},{"tags":["java","spring-boot","keycloak","resteasy","keycloak-admin-client"],"answers":[{"tags":[],"owner":{"account_id":28684108,"reputation":35,"user_id":21964694,"display_name":"Sonnka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692709282,"creation_date":1692709282,"answer_id":76953601,"question_id":76952774,"body_markdown":"Keycloak server is running inside a Docker container with port mapping from 8085 to 8080. However, when Spring Boot application tries to connect to Keycloak using http://localhost:8085, it&#39;s trying to access the Keycloak server running on host machine (outside the Docker network) rather than the container.\r\n\r\nTo resolve this issue, I modify Keycloak configuration to connect to the Keycloak server using the appropriate container network name. So &quot;http://localhost:8085&quot; needs to be replaced with &quot;http://keycloak-service:8080&quot;.\r\n\r\n```\r\n Keycloak keycloak = KeycloakBuilder.builder()\r\n                .serverUrl(&quot;http://keycloak-service:8080&quot;)\r\n                .grantType(OAuth2Constants.PASSWORD)\r\n                .realm(&quot;master&quot;)\r\n                .clientId(&quot;admin-cli&quot;)\r\n                .username(&quot;admin&quot;)\r\n                .password(&quot;keycloak&quot;)\r\n                .resteasyClient(resteasyClientBuilder.connectionPoolSize(10).build())\r\n                .build();\r\n\r\n```","title":"Keycloak: RESTEASY004655: Unable to invoke request: org.apache.http.conn.HttpHostConnectException:Connection refused","body":"<p>Keycloak server is running inside a Docker container with port mapping from 8085 to 8080. However, when Spring Boot application tries to connect to Keycloak using http://localhost:8085, it's trying to access the Keycloak server running on host machine (outside the Docker network) rather than the container.</p>\n<p>To resolve this issue, I modify Keycloak configuration to connect to the Keycloak server using the appropriate container network name. So &quot;http://localhost:8085&quot; needs to be replaced with &quot;http://keycloak-service:8080&quot;.</p>\n<pre><code> Keycloak keycloak = KeycloakBuilder.builder()\n                .serverUrl(&quot;http://keycloak-service:8080&quot;)\n                .grantType(OAuth2Constants.PASSWORD)\n                .realm(&quot;master&quot;)\n                .clientId(&quot;admin-cli&quot;)\n                .username(&quot;admin&quot;)\n                .password(&quot;keycloak&quot;)\n                .resteasyClient(resteasyClientBuilder.connectionPoolSize(10).build())\n                .build();\n\n</code></pre>\n"}],"owner":{"account_id":28684108,"reputation":35,"user_id":21964694,"display_name":"Sonnka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76953601,"answer_count":1,"score":0,"last_activity_date":1692709282,"creation_date":1692703270,"question_id":76952774,"body_markdown":"My application has a microservice architecture with eureka and I want to implement oauth2 with keycloak in my auth-service. I have created a Keycloak bean that connects to keycloak and creates realm and client. All services are deployed in docker. But I am getting this error every time I run my application, but keycloak works on localhost:8085 in browser.\r\n\r\n``` \r\norg.springframework.beans.factory.BeanCreationException: \r\nError creating bean with name &#39;keycloak&#39; defined in class path resource [backend/authservice/config/KeycloakConfig.class]: \r\nBean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: \r\nFailed to instantiate [org.keycloak.admin.client.Keycloak]: \r\nFactory method &#39;keycloak&#39; threw exception; nested exception is javax.ws.rs.ProcessingException: \r\nRESTEASY004655: Unable to invoke request: org.apache.http.conn.HttpHostConnectException:\r\nConnect to localhost:8085 [localhost/127.0.0.1] failed: Connection refused\r\n``` \r\nMy keycloak config class:\r\n``` \r\n@Configuration\r\npublic class KeycloakConfig {\r\n    @Bean\r\n    public Keycloak keycloak() {\r\n        ResteasyClientBuilder resteasyClientBuilder = new ResteasyClientBuilderImpl();\r\n\r\n        Keycloak keycloak = KeycloakBuilder.builder()\r\n                .serverUrl(&quot;http://localhost:8085&quot;)\r\n                .grantType(OAuth2Constants.PASSWORD)\r\n                .realm(&quot;master&quot;)\r\n                .clientId(&quot;admin-cli&quot;)\r\n                .username(&quot;admin&quot;)\r\n                .password(&quot;keycloak&quot;)\r\n                .resteasyClient(resteasyClientBuilder.connectionPoolSize(10).build())\r\n                .build();\r\n\r\n        RealmRepresentation realm = new RealmRepresentation();\r\n        realm.setId(&quot;new-relam&quot;);\r\n        realm.setRealm(&quot;new-relam&quot;);\r\n        realm.setEnabled(true);\r\n\r\n        keycloak.realms().create(realm);\r\n\r\n        ClientRepresentation clientRepresentation = new ClientRepresentation();\r\n        clientRepresentation.setClientId(&quot;my-backend&quot;);\r\n        clientRepresentation.setRedirectUris(List.of(&quot;http://localhost:8081/*&quot;));\r\n        clientRepresentation.setWebOrigins(List.of(&quot;http://localhost:8081&quot;));\r\n\r\n        keycloak.realm(&quot;new-relam&quot;).clients().create(clientRepresentation);\r\n\r\n        return keycloak;\r\n    }\r\n}\r\n``` \r\nMy docker-compose.yml\r\n\r\n``` \r\nservices:\r\n  eureka-server:\r\n    image: &#39;eureka-server:1.0&#39;\r\n    container_name: eureka\r\n    ports:\r\n      - &quot;8761:8761&quot;\r\n\r\n  auth-server:\r\n    image: &#39;auth-service:1.0&#39;\r\n    container_name: auth-server\r\n    ports:\r\n      - &quot;8081:8081&quot;\r\n    restart: on-failure\r\n    environment:\r\n      - SPRING_PROFILES_ACTIVE=prod\r\n      - EUREKA_CLIENT_SERVICEURL_DEFAULTZONE=http://eureka-server:8761/eureka\r\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://db:5432/mydb\r\n      - SPRING_DATASOURCE_USERNAME=usr\r\n      - SPRING_DATASOURCE_PASSWORD=password\r\n      - IP_ADDRESS=192.168.115.254\r\n      - TZ=Europe/Kiev\r\n    depends_on:\r\n      - eureka-server\r\n      - db\r\n      - keycloak-service\r\n\r\n  db:\r\n    image: &#39;postgres:latest&#39;\r\n    restart: always\r\n    container_name: db\r\n    environment:\r\n      - POSTGRES_HOST_AUTH_METHOD=trust\r\n      - POSTGRES_USER=usr\r\n      - POSTGRES_PASSWORD=password\r\n      - POSTGRES_DB=mydb\r\n\r\n  keycloak-service:\r\n    image: &#39;keycloak/keycloak:latest&#39;\r\n    container_name: keycloak-service\r\n    ports:\r\n      - &quot;8085:8080&quot;\r\n    restart: always\r\n    environment:\r\n      - KEYCLOAK_ADMIN=admin\r\n      - KEYCLOAK_ADMIN_PASSWORD=keycloak\r\n    command:\r\n      - start-dev\r\n``` \r\nMy pom.xml (I use Spring Boot 2.6.0)\r\n\r\n``` \r\n   &lt;!-- Swagger --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.10&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Spring Boot --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Spring Cloud --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.3&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- JWT --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-oauth2-authorization-server&lt;/artifactId&gt;\r\n            &lt;version&gt;0.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Keycloak --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n            &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\r\n            &lt;version&gt;21.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Test --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n``` \r\n\r\n\r\n----------\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nSolution:\r\n---------\r\n\r\n\r\n\r\n\r\n\r\n&quot;http://localhost:8085&quot; needs to be replaced with &quot;http://keycloak-service:8080&quot;.","title":"Keycloak: RESTEASY004655: Unable to invoke request: org.apache.http.conn.HttpHostConnectException:Connection refused","body":"<p>My application has a microservice architecture with eureka and I want to implement oauth2 with keycloak in my auth-service. I have created a Keycloak bean that connects to keycloak and creates realm and client. All services are deployed in docker. But I am getting this error every time I run my application, but keycloak works on localhost:8085 in browser.</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: \nError creating bean with name 'keycloak' defined in class path resource [backend/authservice/config/KeycloakConfig.class]: \nBean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: \nFailed to instantiate [org.keycloak.admin.client.Keycloak]: \nFactory method 'keycloak' threw exception; nested exception is javax.ws.rs.ProcessingException: \nRESTEASY004655: Unable to invoke request: org.apache.http.conn.HttpHostConnectException:\nConnect to localhost:8085 [localhost/127.0.0.1] failed: Connection refused\n</code></pre>\n<p>My keycloak config class:</p>\n<pre><code>@Configuration\npublic class KeycloakConfig {\n    @Bean\n    public Keycloak keycloak() {\n        ResteasyClientBuilder resteasyClientBuilder = new ResteasyClientBuilderImpl();\n\n        Keycloak keycloak = KeycloakBuilder.builder()\n                .serverUrl(&quot;http://localhost:8085&quot;)\n                .grantType(OAuth2Constants.PASSWORD)\n                .realm(&quot;master&quot;)\n                .clientId(&quot;admin-cli&quot;)\n                .username(&quot;admin&quot;)\n                .password(&quot;keycloak&quot;)\n                .resteasyClient(resteasyClientBuilder.connectionPoolSize(10).build())\n                .build();\n\n        RealmRepresentation realm = new RealmRepresentation();\n        realm.setId(&quot;new-relam&quot;);\n        realm.setRealm(&quot;new-relam&quot;);\n        realm.setEnabled(true);\n\n        keycloak.realms().create(realm);\n\n        ClientRepresentation clientRepresentation = new ClientRepresentation();\n        clientRepresentation.setClientId(&quot;my-backend&quot;);\n        clientRepresentation.setRedirectUris(List.of(&quot;http://localhost:8081/*&quot;));\n        clientRepresentation.setWebOrigins(List.of(&quot;http://localhost:8081&quot;));\n\n        keycloak.realm(&quot;new-relam&quot;).clients().create(clientRepresentation);\n\n        return keycloak;\n    }\n}\n</code></pre>\n<p>My docker-compose.yml</p>\n<pre><code>services:\n  eureka-server:\n    image: 'eureka-server:1.0'\n    container_name: eureka\n    ports:\n      - &quot;8761:8761&quot;\n\n  auth-server:\n    image: 'auth-service:1.0'\n    container_name: auth-server\n    ports:\n      - &quot;8081:8081&quot;\n    restart: on-failure\n    environment:\n      - SPRING_PROFILES_ACTIVE=prod\n      - EUREKA_CLIENT_SERVICEURL_DEFAULTZONE=http://eureka-server:8761/eureka\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://db:5432/mydb\n      - SPRING_DATASOURCE_USERNAME=usr\n      - SPRING_DATASOURCE_PASSWORD=password\n      - IP_ADDRESS=192.168.115.254\n      - TZ=Europe/Kiev\n    depends_on:\n      - eureka-server\n      - db\n      - keycloak-service\n\n  db:\n    image: 'postgres:latest'\n    restart: always\n    container_name: db\n    environment:\n      - POSTGRES_HOST_AUTH_METHOD=trust\n      - POSTGRES_USER=usr\n      - POSTGRES_PASSWORD=password\n      - POSTGRES_DB=mydb\n\n  keycloak-service:\n    image: 'keycloak/keycloak:latest'\n    container_name: keycloak-service\n    ports:\n      - &quot;8085:8080&quot;\n    restart: always\n    environment:\n      - KEYCLOAK_ADMIN=admin\n      - KEYCLOAK_ADMIN_PASSWORD=keycloak\n    command:\n      - start-dev\n</code></pre>\n<p>My pom.xml (I use Spring Boot 2.6.0)</p>\n<pre><code>   &lt;!-- Swagger --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.10&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Spring Boot --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Spring Cloud --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n            &lt;version&gt;3.1.3&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n                    &lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;!-- JWT --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-authorization-server&lt;/artifactId&gt;\n            &lt;version&gt;0.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n            &lt;version&gt;3.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Keycloak --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\n            &lt;version&gt;21.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Test --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;version&gt;5.7.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<hr />\n<h2>Solution:</h2>\n<p>&quot;http://localhost:8085&quot; needs to be replaced with &quot;http://keycloak-service:8080&quot;.</p>\n"},{"tags":["java","date","datetime","java-8","notifications"],"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":1,"creation_date":1692709549,"post_id":76953552,"comment_id":135658857,"body_markdown":"What is your question? Is your code working? Which cases don&#39;t work well?","body":"What is your question? Is your code working? Which cases don&#39;t work well?"},{"owner":{"account_id":23147156,"reputation":1,"user_id":17249755,"display_name":"JustinRyu2"},"score":0,"creation_date":1692710102,"post_id":76953552,"comment_id":135659014,"body_markdown":"I have some edge cases when for example  i have 5 days, 23 hours, and 58 minutes, and the time should be rounded to 6 days, thus the notification should be &#39;You have 6 days left&#39;, but i get instead &#39;You have 5 days and 12 hours&#39;.","body":"I have some edge cases when for example  i have 5 days, 23 hours, and 58 minutes, and the time should be rounded to 6 days, thus the notification should be &#39;You have 6 days left&#39;, but i get instead &#39;You have 5 days and 12 hours&#39;."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1692710757,"post_id":76953552,"comment_id":135659187,"body_markdown":"Did you check [this](https://stackoverflow.com/q/3553964/10819573)?","body":"Did you check <a href=\"https://stackoverflow.com/q/3553964/10819573\">this</a>?"},{"owner":{"account_id":23147156,"reputation":1,"user_id":17249755,"display_name":"JustinRyu2"},"score":0,"creation_date":1692711069,"post_id":76953552,"comment_id":135659260,"body_markdown":"Thank you so much for providing the link!","body":"Thank you so much for providing the link!"}],"owner":{"account_id":23147156,"reputation":1,"user_id":17249755,"display_name":"JustinRyu2"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692709173,"creation_date":1692708945,"question_id":76953552,"body_markdown":"I&#39;ve written a Java function `getRemainingTime(Date currentDate, Date expirationDate)` that calculates the difference between two dates and returns the result in a user-friendly format. The main purpose is to send notifications to users about the time remaining until a certain event. The notification needs to be sent from 12 to 12 hours and the notification message should be like this:\r\n\r\n**&#39;You have left 6 days and 12&#39;**, after the next 12 hours the notification will be sent again and the message should be like this &#39;**You have left 6 days&#39;**, and so on. In this case the expiration date is 7 days + from the moment of a certain event in my app.\r\n\r\n\r\nThis is my function:\r\n\r\n```\r\npublic static String getRemainingTime(Date currentDate, Date expirationDate) {\r\n\r\n        // Calculate the time difference in milliseconds between the two dates\r\n        long diff = expirationDate.getTime() - currentDate.getTime();\r\n\r\n        long days = TimeUnit.MILLISECONDS.toDays(diff);\r\n        long remainingMillisAfterDays = diff - TimeUnit.DAYS.toMillis(days);\r\n\r\n        long hours = TimeUnit.MILLISECONDS.toHours(remainingMillisAfterDays);\r\n        long remainingMillisAfterHours = remainingMillisAfterDays - TimeUnit.HOURS.toMillis(hours);\r\n\r\n        long minutes = TimeUnit.MILLISECONDS.toMinutes(remainingMillisAfterHours);\r\n\r\n        // Check and apply rounding if the time is close to the next day or hour\r\n        if (hours == 23 &amp;&amp; minutes &gt;= 30) {\r\n            days++;\r\n            hours = 0;\r\n            minutes = 0;\r\n        }\r\n\r\n        // Return the remaining time based on the calculated days, hours, and minutes\r\n        if (days &gt; 0 &amp;&amp; (hours &gt;= 12 || (hours == 11 &amp;&amp; minutes &gt;= 30))) {\r\n            return days + &quot; days and 12 hours&quot;;\r\n        } else if (days &gt; 0) {\r\n            return days + &quot; days&quot;;\r\n        } else if (hours &gt;= 11 || (hours == 10 &amp;&amp; minutes &gt;= 30)) {\r\n            return &quot;12 hours&quot;;\r\n        } else {\r\n            return &quot;less than one hour&quot;;\r\n        }\r\n    }\r\n```\r\n\r\nThe function approximates values for better user comprehension. For instance:  \r\n 11 hours and 30 minutes is rounded to 12 hours.  \r\n 23 hours and 30 minutes is rounded to 1 day.\r\n\r\nMy requirements are:  \r\n1\\. The notification should display the time remaining in days and hours.  \r\n2\\. Near values (e.g., 11 hours 30 minutes) should be approximated for better user understanding.  \r\n3\\. I&#39;m planning to trigger these notifications based on the return value of this function. For instance, if the function returns &quot;12 hours&quot;, the user should get a notification saying &quot;12 hours have passed.&quot;\r\n\r\n**Any suggestions or improvements are greatly appreciated. Thank you!**","title":"How to Optimize a Time Difference Function for User-Friendly Notifications?","body":"<p>I've written a Java function <code>getRemainingTime(Date currentDate, Date expirationDate)</code> that calculates the difference between two dates and returns the result in a user-friendly format. The main purpose is to send notifications to users about the time remaining until a certain event. The notification needs to be sent from 12 to 12 hours and the notification message should be like this:</p>\n<p><strong>'You have left 6 days and 12'</strong>, after the next 12 hours the notification will be sent again and the message should be like this '<strong>You have left 6 days'</strong>, and so on. In this case the expiration date is 7 days + from the moment of a certain event in my app.</p>\n<p>This is my function:</p>\n<pre><code>public static String getRemainingTime(Date currentDate, Date expirationDate) {\n\n        // Calculate the time difference in milliseconds between the two dates\n        long diff = expirationDate.getTime() - currentDate.getTime();\n\n        long days = TimeUnit.MILLISECONDS.toDays(diff);\n        long remainingMillisAfterDays = diff - TimeUnit.DAYS.toMillis(days);\n\n        long hours = TimeUnit.MILLISECONDS.toHours(remainingMillisAfterDays);\n        long remainingMillisAfterHours = remainingMillisAfterDays - TimeUnit.HOURS.toMillis(hours);\n\n        long minutes = TimeUnit.MILLISECONDS.toMinutes(remainingMillisAfterHours);\n\n        // Check and apply rounding if the time is close to the next day or hour\n        if (hours == 23 &amp;&amp; minutes &gt;= 30) {\n            days++;\n            hours = 0;\n            minutes = 0;\n        }\n\n        // Return the remaining time based on the calculated days, hours, and minutes\n        if (days &gt; 0 &amp;&amp; (hours &gt;= 12 || (hours == 11 &amp;&amp; minutes &gt;= 30))) {\n            return days + &quot; days and 12 hours&quot;;\n        } else if (days &gt; 0) {\n            return days + &quot; days&quot;;\n        } else if (hours &gt;= 11 || (hours == 10 &amp;&amp; minutes &gt;= 30)) {\n            return &quot;12 hours&quot;;\n        } else {\n            return &quot;less than one hour&quot;;\n        }\n    }\n</code></pre>\n<p>The function approximates values for better user comprehension. For instance:<br />\n 11 hours and 30 minutes is rounded to 12 hours.<br />\n 23 hours and 30 minutes is rounded to 1 day.</p>\n<p>My requirements are:<br />\n1. The notification should display the time remaining in days and hours.<br />\n2. Near values (e.g., 11 hours 30 minutes) should be approximated for better user understanding.<br />\n3. I'm planning to trigger these notifications based on the return value of this function. For instance, if the function returns &quot;12 hours&quot;, the user should get a notification saying &quot;12 hours have passed.&quot;</p>\n<p><strong>Any suggestions or improvements are greatly appreciated. Thank you!</strong></p>\n"},{"tags":["java","osgi","playwright","playwright-java"],"owner":{"account_id":20476605,"reputation":65,"user_id":15025802,"display_name":"umpapa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692708893,"creation_date":1692708893,"question_id":76953543,"body_markdown":"I added Playwright via Target Plattform -&gt; m2e PDE Integration to my Plugin Project (Is there a better way of Integration?). Playwright.create() throws the error: Failed to create driver\r\n\r\njava.lang.RuntimeException: Failed to create driver\r\n\r\n\tat com.microsoft.playwright.impl.driver.Driver.createAndInstall(Driver.java:105)\r\n\r\n\tat com.microsoft.playwright.impl.driver.Driver.ensureDriverInstalled(Driver.java:57)\r\n\r\n\tat com.microsoft.playwright.impl.PlaywrightImpl.createImpl(PlaywrightImpl.java:45)\r\n\r\n\tat com.microsoft.playwright.impl.PlaywrightImpl.create(PlaywrightImpl.java:35)\r\n\r\n\tat com.microsoft.playwright.Playwright.create(Playwright.java:110)\r\n\r\n\tat com.microsoft.playwright.Playwright.create(Playwright.java:114)\r\n\r\nCaused by: java.nio.file.FileSystemNotFoundException: Provider &quot;bundleresource&quot; not installed\r\n\r\n\tat java.base/java.nio.file.Path.of(Path.java:212)\r\n\r\n\tat java.base/java.nio.file.Paths.get(Paths.java:98)\r\n\r\n\tat com.microsoft.playwright.impl.driver.jar.DriverJar.extractDriverToTempDir(DriverJar.java:128)\r\n\r\n\tat com.microsoft.playwright.impl.driver.jar.DriverJar.initialize(DriverJar.java:66)\r\n\r\n\tat com.microsoft.playwright.impl.driver.Driver.initialize(Driver.java:64)\r\n\r\n\tat com.microsoft.playwright.impl.driver.Driver.createAndInstall(Driver.java:101)\r\n\r\n\t... 9 more\r\n\r\nI am aware of the workaround of setting the system Property &quot;playwright.cli.dir&quot; manually and build Playwright manually, but I would like to know if there is a better solution or if the playwright team is at least aware that how they handle paths and files its only working for maven projects (or at least not very robust).\r\n\r\nThanks for tipps and Information!","title":"PlaywrightJava: Failed to create driver when adding playwright via target Plattfrom","body":"<p>I added Playwright via Target Plattform -&gt; m2e PDE Integration to my Plugin Project (Is there a better way of Integration?). Playwright.create() throws the error: Failed to create driver</p>\n<p>java.lang.RuntimeException: Failed to create driver</p>\n<pre><code>at com.microsoft.playwright.impl.driver.Driver.createAndInstall(Driver.java:105)\n\nat com.microsoft.playwright.impl.driver.Driver.ensureDriverInstalled(Driver.java:57)\n\nat com.microsoft.playwright.impl.PlaywrightImpl.createImpl(PlaywrightImpl.java:45)\n\nat com.microsoft.playwright.impl.PlaywrightImpl.create(PlaywrightImpl.java:35)\n\nat com.microsoft.playwright.Playwright.create(Playwright.java:110)\n\nat com.microsoft.playwright.Playwright.create(Playwright.java:114)\n</code></pre>\n<p>Caused by: java.nio.file.FileSystemNotFoundException: Provider &quot;bundleresource&quot; not installed</p>\n<pre><code>at java.base/java.nio.file.Path.of(Path.java:212)\n\nat java.base/java.nio.file.Paths.get(Paths.java:98)\n\nat com.microsoft.playwright.impl.driver.jar.DriverJar.extractDriverToTempDir(DriverJar.java:128)\n\nat com.microsoft.playwright.impl.driver.jar.DriverJar.initialize(DriverJar.java:66)\n\nat com.microsoft.playwright.impl.driver.Driver.initialize(Driver.java:64)\n\nat com.microsoft.playwright.impl.driver.Driver.createAndInstall(Driver.java:101)\n\n... 9 more\n</code></pre>\n<p>I am aware of the workaround of setting the system Property &quot;playwright.cli.dir&quot; manually and build Playwright manually, but I would like to know if there is a better solution or if the playwright team is at least aware that how they handle paths and files its only working for maven projects (or at least not very robust).</p>\n<p>Thanks for tipps and Information!</p>\n"},{"tags":["java","android","kotlin","android-recyclerview"],"comments":[{"owner":{"account_id":16835523,"reputation":312,"user_id":12172313,"display_name":"Evyatar Cohen"},"score":0,"creation_date":1655626965,"post_id":72675155,"comment_id":128372759,"body_markdown":"did you try this? https://stackoverflow.com/questions/64366919/how-to-add-swipe-left-to-right-in-recyclerview","body":"did you try this? <a href=\"https://stackoverflow.com/questions/64366919/how-to-add-swipe-left-to-right-in-recyclerview\" title=\"how to add swipe left to right in recyclerview\">stackoverflow.com/questions/64366919/&hellip;</a>"},{"owner":{"account_id":14949762,"reputation":652,"user_id":10793837,"display_name":"Abdul Waheed"},"score":0,"creation_date":1655634771,"post_id":72675155,"comment_id":128374106,"body_markdown":"thank you for comment, let me try this solution.","body":"thank you for comment, let me try this solution."},{"owner":{"account_id":14949762,"reputation":652,"user_id":10793837,"display_name":"Abdul Waheed"},"score":1,"creation_date":1655636218,"post_id":72675155,"comment_id":128374334,"body_markdown":"No @EvyatarCohen this is different approach I need multiple buttons on swipe not one option on complete swipe,","body":"No @EvyatarCohen this is different approach I need multiple buttons on swipe not one option on complete swipe,"},{"owner":{"account_id":16835523,"reputation":312,"user_id":12172313,"display_name":"Evyatar Cohen"},"score":0,"creation_date":1655637225,"post_id":72675155,"comment_id":128374559,"body_markdown":"How about this? https://github.com/chthai64/SwipeRevealLayout","body":"How about this? <a href=\"https://github.com/chthai64/SwipeRevealLayout\" rel=\"nofollow noreferrer\">github.com/chthai64/SwipeRevealLayout</a>"},{"owner":{"account_id":14949762,"reputation":652,"user_id":10793837,"display_name":"Abdul Waheed"},"score":0,"creation_date":1655639092,"post_id":72675155,"comment_id":128374984,"body_markdown":"I actually don&#39;t want to add any third party library because I&#39;m using androidx recyclerview so that&#39;s why I need a custom class to do this work.","body":"I actually don&#39;t want to add any third party library because I&#39;m using androidx recyclerview so that&#39;s why I need a custom class to do this work."},{"owner":{"account_id":16835523,"reputation":312,"user_id":12172313,"display_name":"Evyatar Cohen"},"score":0,"creation_date":1655639445,"post_id":72675155,"comment_id":128375047,"body_markdown":"You can take an idea from there","body":"You can take an idea from there"}],"answers":[{"tags":[],"owner":{"account_id":23828067,"reputation":1,"user_id":17834789,"display_name":"Md Saif"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692708629,"creation_date":1692708629,"answer_id":76953506,"question_id":72675155,"body_markdown":"I am struggling to in this but now i solved it here is the solution \r\n\r\n   \r\n\r\n\r\n    import android.content.Context;\r\n    import android.graphics.Bitmap;\r\n    import android.graphics.Canvas;\r\n    import android.graphics.Color;\r\n    import android.graphics.Paint;\r\n    import android.graphics.Point;\r\n    import android.graphics.Rect;\r\n    import android.graphics.RectF;\r\n    import android.graphics.drawable.BitmapDrawable;\r\n    import android.graphics.drawable.Drawable;\r\n    import android.view.GestureDetector;\r\n    import android.view.MotionEvent;\r\n    import android.view.View;\r\n\r\n    import androidx.annotation.NonNull;\r\n    import androidx.core.content.ContextCompat;\r\n    import androidx.recyclerview.widget.ItemTouchHelper;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Queue;\r\n\r\n    public abstract class SwipeHelperRight extends ItemTouchHelper.SimpleCallback {\r\n\r\n\r\n    public static final int BUTTON_WIDTH = 140;\r\n    private RecyclerView recyclerView;\r\n    private List&lt;SwipeHelperRight.UnderlayButton&gt; buttons;\r\n    private GestureDetector gestureDetector;\r\n    private int swipedPos = -1;\r\n    private float swipeThreshold = 0.5f;\r\n    private Map&lt;Integer, List&lt;SwipeHelperRight.UnderlayButton&gt;&gt; buttonsBuffer;\r\n    private Queue&lt;Integer&gt; recoverQueue;\r\n\r\n    private GestureDetector.SimpleOnGestureListener gestureListener = new GestureDetector.SimpleOnGestureListener(){\r\n        @Override\r\n        public boolean onSingleTapConfirmed(MotionEvent e) {\r\n            for (SwipeHelperRight.UnderlayButton button : buttons){\r\n                if(button.onClick(e.getX(), e.getY()))\r\n                    break;\r\n            }\r\n\r\n            return true;\r\n        }\r\n    };\r\n\r\n    public SwipeHelperRight(Context context, RecyclerView recyclerView) {\r\n        super(0, ItemTouchHelper.RIGHT);\r\n        this.recyclerView = recyclerView;\r\n        this.buttons = new ArrayList&lt;&gt;();\r\n        this.gestureDetector = new GestureDetector(context, gestureListener);\r\n        this.recyclerView.setOnTouchListener(onTouchListener);\r\n        buttonsBuffer = new HashMap&lt;&gt;();\r\n        recoverQueue = new LinkedList&lt;Integer&gt;(){\r\n            @Override\r\n            public boolean add(Integer o) {\r\n                if (contains(o))\r\n                    return false;\r\n                else\r\n                    return super.add(o);\r\n            }\r\n        };\r\n\r\n        attachSwipe();\r\n\r\n    }\r\n\r\n    private View.OnTouchListener onTouchListener = new View.OnTouchListener() {\r\n        @Override\r\n        public boolean onTouch(View view, MotionEvent e) {\r\n            if (swipedPos &lt; 0) return false;\r\n            Point point = new Point((int) e.getRawX(), (int) e.getRawY());\r\n\r\n            RecyclerView.ViewHolder swipedViewHolder = recyclerView.findViewHolderForAdapterPosition(swipedPos);\r\n            View swipedItem = swipedViewHolder.itemView;\r\n            Rect rect = new Rect();\r\n            swipedItem.getGlobalVisibleRect(rect);\r\n\r\n            if (e.getAction() == MotionEvent.ACTION_DOWN || e.getAction() == MotionEvent.ACTION_UP ||e.getAction() == MotionEvent.ACTION_MOVE)\r\n            {\r\n                if (rect.top &lt; point.y &amp;&amp; rect.bottom &gt; point.y)\r\n                    gestureDetector.onTouchEvent(e);\r\n                else {\r\n                    recoverQueue.add(swipedPos);\r\n                    swipedPos = -1;\r\n                    recoverSwipedItem();\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n    };\r\n\r\n    @Override\r\n    public boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder, @NonNull RecyclerView.ViewHolder target) {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public void onSwiped(RecyclerView.ViewHolder viewHolder, int direction) {\r\n        int pos = viewHolder.getAdapterPosition();\r\n\r\n        if (swipedPos != pos)\r\n            recoverQueue.add(swipedPos);\r\n\r\n        swipedPos = pos;\r\n\r\n        if (buttonsBuffer.containsKey(swipedPos))\r\n            buttons = buttonsBuffer.get(swipedPos);\r\n        else\r\n            buttons.clear();\r\n\r\n        buttonsBuffer.clear();\r\n        swipeThreshold = 0.5f * buttons.size() * BUTTON_WIDTH;\r\n        recoverSwipedItem();\r\n\r\n    }\r\n\r\n    @Override\r\n    public float getSwipeThreshold(RecyclerView.ViewHolder viewHolder) {\r\n        return swipeThreshold;\r\n    }\r\n\r\n    @Override\r\n    public float getSwipeEscapeVelocity(float defaultValue) {\r\n        return 0.1f * defaultValue;\r\n    }\r\n\r\n    @Override\r\n    public float getSwipeVelocityThreshold(float defaultValue) {\r\n        return 5.0f * defaultValue;\r\n    }\r\n\r\n    @Override\r\n    public void onChildDraw(Canvas c, RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder, float dX, float dY, int actionState, boolean isCurrentlyActive)\r\n    {\r\n        int pos = viewHolder.getAdapterPosition();\r\n        float translationX = dX;\r\n        View itemView = viewHolder.itemView;\r\n\r\n        if (pos &lt; 0){\r\n            swipedPos = pos;\r\n            return;\r\n        }\r\n\r\n        if(actionState == ItemTouchHelper.ACTION_STATE_SWIPE){\r\n            if(dX &gt; 0) {\r\n                List&lt;SwipeHelperRight.UnderlayButton&gt; buffer = new ArrayList&lt;&gt;();\r\n\r\n                if (!buttonsBuffer.containsKey(pos)){\r\n                    instantiateUnderlayButton(viewHolder, buffer);\r\n                    buttonsBuffer.put(pos, buffer);\r\n                }\r\n                else {\r\n                    buffer = buttonsBuffer.get(pos);\r\n                }\r\n\r\n                translationX = dX * buffer.size() * BUTTON_WIDTH / itemView.getWidth();\r\n                drawButtons(c, itemView, buffer, pos, translationX);\r\n            }\r\n        }\r\n\r\n        super.onChildDraw(c, recyclerView, viewHolder, translationX, dY, actionState, isCurrentlyActive);\r\n    }\r\n\r\n\r\n\r\n    private void drawButtons(Canvas c, View itemView, List&lt;SwipeHelperRight.UnderlayButton&gt; buffer, int pos, float dX)\r\n    {\r\n        float left = itemView.getLeft();\r\n        float dButtonWidth = (-1) * dX / buffer.size();\r\n\r\n        for (SwipeHelperRight.UnderlayButton button : buffer) {\r\n            float right = left - dButtonWidth;\r\n            button.onDraw(\r\n                    c,\r\n                    new RectF(\r\n                            left,\r\n                            itemView.getTop(),\r\n                            right,\r\n                            itemView.getBottom()\r\n                    ),\r\n                    pos\r\n            );\r\n\r\n            left = right;\r\n        }\r\n    }\r\n\r\n\r\n    private synchronized void recoverSwipedItem(){\r\n        while (!recoverQueue.isEmpty()){\r\n            int pos = recoverQueue.poll();\r\n            if (pos &gt; -1) {\r\n                recyclerView.getAdapter().notifyItemChanged(pos);\r\n            }\r\n        }\r\n    }\r\n    public void attachSwipe(){\r\n        ItemTouchHelper itemTouchHelper = new ItemTouchHelper(this);\r\n        itemTouchHelper.attachToRecyclerView(recyclerView);\r\n    }\r\n\r\n    public abstract void instantiateUnderlayButton(RecyclerView.ViewHolder viewHolder, List&lt;SwipeHelperRight.UnderlayButton&gt; underlayButtons);\r\n\r\n    public static class UnderlayButton {\r\n        private String text;\r\n        private int imageResId;\r\n        private int color;\r\n        private int pos;\r\n\r\n        Context context;\r\n        private RectF clickRegion;\r\n        private SwipeHelperRight.UnderlayButtonClickListener clickListener;\r\n\r\n        public UnderlayButton(Context context,String text, int imageResId, int color, SwipeHelperRight.UnderlayButtonClickListener clickListener) {\r\n            this.text = text;\r\n            this.imageResId = imageResId;\r\n            this.color = color;\r\n            this.context = context;\r\n            this.clickListener = clickListener;\r\n        }\r\n\r\n        public boolean onClick(float x, float y){\r\n            if (clickRegion != null &amp;&amp; clickRegion.contains(x, y)){\r\n                clickListener.onClick(pos);\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n        public void onDraw(Canvas c, RectF rect, int pos){\r\n            Paint p = new Paint();\r\n\r\n            // Draw background\r\n            p.setColor(color);\r\n            c.drawRect(rect, p);\r\n\r\n\r\n\r\n            // Draw Text\r\n            p.setColor(Color.WHITE);\r\n            p.setTextSize(25.0f);\r\n\r\n\r\n\r\n\r\n\r\n            Rect r = new Rect();\r\n            float cHeight = rect.height();\r\n            float cWidth = rect.width();\r\n            p.setTextAlign(Paint.Align.LEFT);\r\n            p.getTextBounds(text, 0, text.length(), r);\r\n            float x = cWidth / 2f - r.width() / 2f - r.left;\r\n            float y = cHeight / 2f + r.height() / 2f - r.bottom;\r\n            c.drawText(text, rect.left + x, rect.top + y + (r.height()*2), p);\r\n\r\n            //Draw Image\r\n            if (imageResId != 0){\r\n                float textWidth = p.measureText(text);\r\n                Bitmap bmp = drawableToBitmap(ContextCompat.getDrawable(context, imageResId));\r\n                c.drawBitmap(bmp, rect.centerX()-(bmp.getWidth()/2f),rect.centerY()-(bmp.getHeight()/2f), null);\r\n            }\r\n\r\n            clickRegion = rect;\r\n            this.pos = pos;\r\n        }\r\n\r\n        public static Bitmap drawableToBitmap (Drawable drawable) {\r\n            Bitmap bitmap = null;\r\n\r\n            if (drawable instanceof BitmapDrawable) {\r\n                BitmapDrawable bitmapDrawable = (BitmapDrawable) drawable;\r\n                if(bitmapDrawable.getBitmap() != null) {\r\n                    return bitmapDrawable.getBitmap();\r\n                }\r\n            }\r\n\r\n            if(drawable.getIntrinsicWidth() &lt;= 0 || drawable.getIntrinsicHeight() &lt;= 0) {\r\n                bitmap = Bitmap.createBitmap(1, 1, Bitmap.Config.ARGB_8888); // Single color bitmap will be created of 1x1 pixel\r\n            } else {\r\n                bitmap = Bitmap.createBitmap(drawable.getIntrinsicWidth(), drawable.getIntrinsicHeight(), Bitmap.Config.ARGB_8888);\r\n            }\r\n\r\n            Canvas canvas = new Canvas(bitmap);\r\n            drawable.setBounds(0, 0, canvas.getWidth(), canvas.getHeight());\r\n            drawable.draw(canvas);\r\n            return bitmap;\r\n        }\r\n\r\n    }\r\n\r\n    public interface UnderlayButtonClickListener {\r\n        void onClick(int pos);\r\n    }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nand after that in you activity or fragnement\r\n\r\n\r\n\r\n    SwipeHelperRight swipeHelperRight = new SwipeHelperRight(getContext(),binding.recyclerView) {\r\n            @Override\r\n            public void instantiateUnderlayButton(RecyclerView.ViewHolder viewHolder, List&lt;SwipeHelperRight.UnderlayButton&gt; underlayButtons) {\r\n                underlayButtons.add(new SwipeHelperRight.UnderlayButton(\r\n                        getContext(),\r\n                        &quot;Archive&quot;,\r\n                        R.drawable.ic_archive,\r\n                        Color.parseColor(&quot;#BBBBC3&quot;),\r\n                        new SwipeHelperRight.UnderlayButtonClickListener() {\r\n                            @Override\r\n                            public void onClick(int pos) {\r\n                                // TODO: onArchive\r\n                                Toast.makeText(getContext(), &quot;Archive&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                ));\r\n\r\n                underlayButtons.add(new SwipeHelperRight.UnderlayButton(\r\n                        getContext(),\r\n                        &quot;Delete&quot;,\r\n                        R.drawable.ic_delete,\r\n                        Color.parseColor(&quot;#FE3B30&quot;),\r\n                        new SwipeHelperRight.UnderlayButtonClickListener() {\r\n                            @Override\r\n                            public void onClick(int pos) {\r\n                                // TODO: onDelete\r\n                                Toast.makeText(getContext(), &quot;Delete&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                ));\r\n            }\r\n        };\r\n\r\n\r\nHope this will Help You\r\n\r\n","title":"Right Swipe to show buttons on RecyclerView using ItemTouchHelper","body":"<p>I am struggling to in this but now i solved it here is the solution</p>\n<pre><code>import android.content.Context;\nimport android.graphics.Bitmap;\nimport android.graphics.Canvas;\nimport android.graphics.Color;\nimport android.graphics.Paint;\nimport android.graphics.Point;\nimport android.graphics.Rect;\nimport android.graphics.RectF;\nimport android.graphics.drawable.BitmapDrawable;\nimport android.graphics.drawable.Drawable;\nimport android.view.GestureDetector;\nimport android.view.MotionEvent;\nimport android.view.View;\n\nimport androidx.annotation.NonNull;\nimport androidx.core.content.ContextCompat;\nimport androidx.recyclerview.widget.ItemTouchHelper;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Queue;\n\npublic abstract class SwipeHelperRight extends ItemTouchHelper.SimpleCallback {\n\n\npublic static final int BUTTON_WIDTH = 140;\nprivate RecyclerView recyclerView;\nprivate List&lt;SwipeHelperRight.UnderlayButton&gt; buttons;\nprivate GestureDetector gestureDetector;\nprivate int swipedPos = -1;\nprivate float swipeThreshold = 0.5f;\nprivate Map&lt;Integer, List&lt;SwipeHelperRight.UnderlayButton&gt;&gt; buttonsBuffer;\nprivate Queue&lt;Integer&gt; recoverQueue;\n\nprivate GestureDetector.SimpleOnGestureListener gestureListener = new GestureDetector.SimpleOnGestureListener(){\n    @Override\n    public boolean onSingleTapConfirmed(MotionEvent e) {\n        for (SwipeHelperRight.UnderlayButton button : buttons){\n            if(button.onClick(e.getX(), e.getY()))\n                break;\n        }\n\n        return true;\n    }\n};\n\npublic SwipeHelperRight(Context context, RecyclerView recyclerView) {\n    super(0, ItemTouchHelper.RIGHT);\n    this.recyclerView = recyclerView;\n    this.buttons = new ArrayList&lt;&gt;();\n    this.gestureDetector = new GestureDetector(context, gestureListener);\n    this.recyclerView.setOnTouchListener(onTouchListener);\n    buttonsBuffer = new HashMap&lt;&gt;();\n    recoverQueue = new LinkedList&lt;Integer&gt;(){\n        @Override\n        public boolean add(Integer o) {\n            if (contains(o))\n                return false;\n            else\n                return super.add(o);\n        }\n    };\n\n    attachSwipe();\n\n}\n\nprivate View.OnTouchListener onTouchListener = new View.OnTouchListener() {\n    @Override\n    public boolean onTouch(View view, MotionEvent e) {\n        if (swipedPos &lt; 0) return false;\n        Point point = new Point((int) e.getRawX(), (int) e.getRawY());\n\n        RecyclerView.ViewHolder swipedViewHolder = recyclerView.findViewHolderForAdapterPosition(swipedPos);\n        View swipedItem = swipedViewHolder.itemView;\n        Rect rect = new Rect();\n        swipedItem.getGlobalVisibleRect(rect);\n\n        if (e.getAction() == MotionEvent.ACTION_DOWN || e.getAction() == MotionEvent.ACTION_UP ||e.getAction() == MotionEvent.ACTION_MOVE)\n        {\n            if (rect.top &lt; point.y &amp;&amp; rect.bottom &gt; point.y)\n                gestureDetector.onTouchEvent(e);\n            else {\n                recoverQueue.add(swipedPos);\n                swipedPos = -1;\n                recoverSwipedItem();\n            }\n        }\n        return false;\n    }\n};\n\n@Override\npublic boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder, @NonNull RecyclerView.ViewHolder target) {\n    return false;\n}\n\n@Override\npublic void onSwiped(RecyclerView.ViewHolder viewHolder, int direction) {\n    int pos = viewHolder.getAdapterPosition();\n\n    if (swipedPos != pos)\n        recoverQueue.add(swipedPos);\n\n    swipedPos = pos;\n\n    if (buttonsBuffer.containsKey(swipedPos))\n        buttons = buttonsBuffer.get(swipedPos);\n    else\n        buttons.clear();\n\n    buttonsBuffer.clear();\n    swipeThreshold = 0.5f * buttons.size() * BUTTON_WIDTH;\n    recoverSwipedItem();\n\n}\n\n@Override\npublic float getSwipeThreshold(RecyclerView.ViewHolder viewHolder) {\n    return swipeThreshold;\n}\n\n@Override\npublic float getSwipeEscapeVelocity(float defaultValue) {\n    return 0.1f * defaultValue;\n}\n\n@Override\npublic float getSwipeVelocityThreshold(float defaultValue) {\n    return 5.0f * defaultValue;\n}\n\n@Override\npublic void onChildDraw(Canvas c, RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder, float dX, float dY, int actionState, boolean isCurrentlyActive)\n{\n    int pos = viewHolder.getAdapterPosition();\n    float translationX = dX;\n    View itemView = viewHolder.itemView;\n\n    if (pos &lt; 0){\n        swipedPos = pos;\n        return;\n    }\n\n    if(actionState == ItemTouchHelper.ACTION_STATE_SWIPE){\n        if(dX &gt; 0) {\n            List&lt;SwipeHelperRight.UnderlayButton&gt; buffer = new ArrayList&lt;&gt;();\n\n            if (!buttonsBuffer.containsKey(pos)){\n                instantiateUnderlayButton(viewHolder, buffer);\n                buttonsBuffer.put(pos, buffer);\n            }\n            else {\n                buffer = buttonsBuffer.get(pos);\n            }\n\n            translationX = dX * buffer.size() * BUTTON_WIDTH / itemView.getWidth();\n            drawButtons(c, itemView, buffer, pos, translationX);\n        }\n    }\n\n    super.onChildDraw(c, recyclerView, viewHolder, translationX, dY, actionState, isCurrentlyActive);\n}\n\n\n\nprivate void drawButtons(Canvas c, View itemView, List&lt;SwipeHelperRight.UnderlayButton&gt; buffer, int pos, float dX)\n{\n    float left = itemView.getLeft();\n    float dButtonWidth = (-1) * dX / buffer.size();\n\n    for (SwipeHelperRight.UnderlayButton button : buffer) {\n        float right = left - dButtonWidth;\n        button.onDraw(\n                c,\n                new RectF(\n                        left,\n                        itemView.getTop(),\n                        right,\n                        itemView.getBottom()\n                ),\n                pos\n        );\n\n        left = right;\n    }\n}\n\n\nprivate synchronized void recoverSwipedItem(){\n    while (!recoverQueue.isEmpty()){\n        int pos = recoverQueue.poll();\n        if (pos &gt; -1) {\n            recyclerView.getAdapter().notifyItemChanged(pos);\n        }\n    }\n}\npublic void attachSwipe(){\n    ItemTouchHelper itemTouchHelper = new ItemTouchHelper(this);\n    itemTouchHelper.attachToRecyclerView(recyclerView);\n}\n\npublic abstract void instantiateUnderlayButton(RecyclerView.ViewHolder viewHolder, List&lt;SwipeHelperRight.UnderlayButton&gt; underlayButtons);\n\npublic static class UnderlayButton {\n    private String text;\n    private int imageResId;\n    private int color;\n    private int pos;\n\n    Context context;\n    private RectF clickRegion;\n    private SwipeHelperRight.UnderlayButtonClickListener clickListener;\n\n    public UnderlayButton(Context context,String text, int imageResId, int color, SwipeHelperRight.UnderlayButtonClickListener clickListener) {\n        this.text = text;\n        this.imageResId = imageResId;\n        this.color = color;\n        this.context = context;\n        this.clickListener = clickListener;\n    }\n\n    public boolean onClick(float x, float y){\n        if (clickRegion != null &amp;&amp; clickRegion.contains(x, y)){\n            clickListener.onClick(pos);\n            return true;\n        }\n\n        return false;\n    }\n\n    public void onDraw(Canvas c, RectF rect, int pos){\n        Paint p = new Paint();\n\n        // Draw background\n        p.setColor(color);\n        c.drawRect(rect, p);\n\n\n\n        // Draw Text\n        p.setColor(Color.WHITE);\n        p.setTextSize(25.0f);\n\n\n\n\n\n        Rect r = new Rect();\n        float cHeight = rect.height();\n        float cWidth = rect.width();\n        p.setTextAlign(Paint.Align.LEFT);\n        p.getTextBounds(text, 0, text.length(), r);\n        float x = cWidth / 2f - r.width() / 2f - r.left;\n        float y = cHeight / 2f + r.height() / 2f - r.bottom;\n        c.drawText(text, rect.left + x, rect.top + y + (r.height()*2), p);\n\n        //Draw Image\n        if (imageResId != 0){\n            float textWidth = p.measureText(text);\n            Bitmap bmp = drawableToBitmap(ContextCompat.getDrawable(context, imageResId));\n            c.drawBitmap(bmp, rect.centerX()-(bmp.getWidth()/2f),rect.centerY()-(bmp.getHeight()/2f), null);\n        }\n\n        clickRegion = rect;\n        this.pos = pos;\n    }\n\n    public static Bitmap drawableToBitmap (Drawable drawable) {\n        Bitmap bitmap = null;\n\n        if (drawable instanceof BitmapDrawable) {\n            BitmapDrawable bitmapDrawable = (BitmapDrawable) drawable;\n            if(bitmapDrawable.getBitmap() != null) {\n                return bitmapDrawable.getBitmap();\n            }\n        }\n\n        if(drawable.getIntrinsicWidth() &lt;= 0 || drawable.getIntrinsicHeight() &lt;= 0) {\n            bitmap = Bitmap.createBitmap(1, 1, Bitmap.Config.ARGB_8888); // Single color bitmap will be created of 1x1 pixel\n        } else {\n            bitmap = Bitmap.createBitmap(drawable.getIntrinsicWidth(), drawable.getIntrinsicHeight(), Bitmap.Config.ARGB_8888);\n        }\n\n        Canvas canvas = new Canvas(bitmap);\n        drawable.setBounds(0, 0, canvas.getWidth(), canvas.getHeight());\n        drawable.draw(canvas);\n        return bitmap;\n    }\n\n}\n\npublic interface UnderlayButtonClickListener {\n    void onClick(int pos);\n}\n}\n</code></pre>\n<p>and after that in you activity or fragnement</p>\n<pre><code>SwipeHelperRight swipeHelperRight = new SwipeHelperRight(getContext(),binding.recyclerView) {\n        @Override\n        public void instantiateUnderlayButton(RecyclerView.ViewHolder viewHolder, List&lt;SwipeHelperRight.UnderlayButton&gt; underlayButtons) {\n            underlayButtons.add(new SwipeHelperRight.UnderlayButton(\n                    getContext(),\n                    &quot;Archive&quot;,\n                    R.drawable.ic_archive,\n                    Color.parseColor(&quot;#BBBBC3&quot;),\n                    new SwipeHelperRight.UnderlayButtonClickListener() {\n                        @Override\n                        public void onClick(int pos) {\n                            // TODO: onArchive\n                            Toast.makeText(getContext(), &quot;Archive&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n            ));\n\n            underlayButtons.add(new SwipeHelperRight.UnderlayButton(\n                    getContext(),\n                    &quot;Delete&quot;,\n                    R.drawable.ic_delete,\n                    Color.parseColor(&quot;#FE3B30&quot;),\n                    new SwipeHelperRight.UnderlayButtonClickListener() {\n                        @Override\n                        public void onClick(int pos) {\n                            // TODO: onDelete\n                            Toast.makeText(getContext(), &quot;Delete&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n            ));\n        }\n    };\n</code></pre>\n<p>Hope this will Help You</p>\n"}],"owner":{"account_id":14949762,"reputation":652,"user_id":10793837,"display_name":"Abdul Waheed"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2235,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692708629,"creation_date":1655625004,"question_id":72675155,"body_markdown":"I&#39;m trying show buttons in RecyclerView right swipe. I successfully shows these buttons on RecyclerView left swipe using [this][1] answer\r\n\r\n[![enter image description here][2]][2]\r\n\r\nbut I not able to display these buttons on other side. I tried lot of other answers from [this][3] to achieve this functionality but not get any success. Please anybody help me in this task. \r\n\r\n**Thanks** in advance.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/62265008/10793837\r\n  [2]: https://i.stack.imgur.com/rxzRC.png\r\n  [3]: https://stackoverflow.com/q/44965278/10793837","title":"Right Swipe to show buttons on RecyclerView using ItemTouchHelper","body":"<p>I'm trying show buttons in RecyclerView right swipe. I successfully shows these buttons on RecyclerView left swipe using <a href=\"https://stackoverflow.com/a/62265008/10793837\">this</a> answer</p>\n<p><a href=\"https://i.stack.imgur.com/rxzRC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rxzRC.png\" alt=\"enter image description here\" /></a></p>\n<p>but I not able to display these buttons on other side. I tried lot of other answers from <a href=\"https://stackoverflow.com/q/44965278/10793837\">this</a> to achieve this functionality but not get any success. Please anybody help me in this task.</p>\n<p><strong>Thanks</strong> in advance.</p>\n"},{"tags":["java","xml","xsd","maven-jaxb2-plugin","cxf-xjc-plugin"],"comments":[{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1692704683,"post_id":76952060,"comment_id":135657600,"body_markdown":"Where is your SubObject class?","body":"Where is your SubObject class?"},{"owner":{"account_id":9931904,"reputation":1,"user_id":7351544,"display_name":"Cps"},"score":0,"creation_date":1692708450,"post_id":76952060,"comment_id":135658534,"body_markdown":"@jdweng just updated the main post with it, had to delete it at first cause the system was marking my post as spam. The same class is generated with both the &quot;new&quot; plugins and with the older version of the CXF plugin, so it doesn&#39;t seem to be a problem.","body":"@jdweng just updated the main post with it, had to delete it at first cause the system was marking my post as spam. The same class is generated with both the &quot;new&quot; plugins and with the older version of the CXF plugin, so it doesn&#39;t seem to be a problem."},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1692710920,"post_id":76952060,"comment_id":135659221,"body_markdown":"What&#39;s the XSD like? Questions are encouraged to provide a [mcve]","body":"What&#39;s the XSD like? Questions are encouraged to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1692713971,"post_id":76952060,"comment_id":135660086,"body_markdown":"Try adding get/set to all your properties : protected String subElement1 { get; set; }","body":"Try adding get/set to all your properties : protected String subElement1 { get; set; }"},{"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"score":0,"creation_date":1701373367,"post_id":76952060,"comment_id":136770903,"body_markdown":"Could you share xsd ? I&#39;d like to know where does the Object type comes from and see if jaxb-tools generates the same java code than the others tested plugin. Thanks","body":"Could you share xsd ? I&#39;d like to know where does the Object type comes from and see if jaxb-tools generates the same java code than the others tested plugin. Thanks"}],"owner":{"account_id":9931904,"reputation":1,"user_id":7351544,"display_name":"Cps"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692708528,"creation_date":1692697692,"question_id":76952060,"body_markdown":"**TLDR:** I have to generate Java classes from an XSD, and one of the fields of the &quot;Main&quot; object is another generated class. The field has an annotation @XmlElement, which has a property &quot;type = Object.class &quot; while having the field type = &quot;SubObject&quot;. This makes it so that when I try to unmarshal the XML into a Java Object I get an error.\r\n```\r\n@XmlRootElement(name = &quot;MainObject&quot;)\r\npublic class MainObject {\r\n    @XmlElement(name = &quot;SubObject&quot;, required = true, type = Object.class)\r\n    protected SubObject subObject;\r\n}\r\n```\r\nI have tried with both the JAXB2 Maven Plugin and the Apache-CXF-XJC plugin. In both cases I end up with the same result. If I manually remove the type property from the annotation it works. How can I generate the class without the type property, or make it be SubObject.class in this case?\r\n\r\n\r\n\r\n### More info\r\n\r\nThe files/configuration that worked on the old project:\r\n##### pom.xml plugin configuration\r\n\r\n```\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;cxf-xjc-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;extensions&gt;\r\n\t\t\t&lt;extension&gt;org.apache.cxf.xjcplugins:cxf-xjc-dv:2.3.0&lt;/extension&gt;\r\n\t\t&lt;/extensions&gt;\r\n\t&lt;/configuration&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;id&gt;generate-sources&lt;/id&gt;\r\n\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;xsdtojava&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;sourceRoot&gt;${project.build.sourceDirectory}/../generated/&lt;/sourceRoot&gt;\r\n\t\t\t\t&lt;xsdOptions&gt;\r\n\t\t\t\t\t&lt;xsdOption&gt;\r\n\t\t\t\t\t\t&lt;xsd&gt;src/main/resources/xsd/subobject.xsd&lt;/xsd&gt;\r\n\t\t\t\t\t\t&lt;packagename&gt;org.acme.generated&lt;/packagename&gt;\r\n\t\t\t\t\t&lt;/xsdOption&gt;\t\t\t\t\t\r\n\t\t\t\t\t&lt;xsdOption&gt;\r\n\t\t\t\t\t\t&lt;xsd&gt;src/main/resources/xsd/mainobject.xsd&lt;/xsd&gt;\r\n\t\t\t\t\t\t&lt;packagename&gt;org.acme.generated&lt;/packagename&gt;\r\n\t\t\t\t\t\t&lt;bindingFile&gt;src/main/resources/xsd/bindings.xjb&lt;/bindingFile&gt;\r\n\t\t\t\t\t&lt;/xsdOption&gt;\r\n\t\t\t\t&lt;/xsdOptions&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n##### xjb bindings file\r\n```\r\n&lt;bindings xmlns=&quot;http://java.sun.com/xml/ns/jaxb&quot; xmlns:xsi=&quot;http://www.w3.org/2000/10/XMLSchema-instance&quot;\r\n\txmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;2.1&quot;&gt;\r\n\t&lt;bindings schemaLocation=&quot;mainobject.xsd&quot; version=&quot;1.0&quot;&gt;\r\n\t\t&lt;bindings node=&quot;//xs:element[@name=&#39;SubObject&#39;]&quot;&gt;\r\n\t\t        &lt;class ref=&quot;org.acme.generated.SubObject&quot;/&gt;\r\n\t\t&lt;/bindings&gt;\r\n\t&lt;/bindings&gt;\r\n&lt;/bindings&gt;\r\n```\r\n\r\n##### generated MainObject class\r\n```\r\n@XmlRootElement(name = &quot;MainObject&quot;)\r\npublic class MainObject {\r\n\r\n    @XmlElement(name = &quot;MainElement1&quot;, required = true)\r\n    protected String mainElement1;\r\n    @XmlElement(name = &quot;MaintElement2&quot;)\r\n    protected int maintElement2;\r\n    @XmlElement(name = &quot;SubObject&quot;, required = true)\r\n    protected SubObject subObject;\r\n```\r\nNow, after researching a bit, I&#39;ve ended up with the following files for the newer plugin:\r\n\r\n##### pom.xml plugin configuration\r\n\r\n```\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t&lt;executions&gt;\r\n\t  &lt;execution&gt;\r\n\t\t&lt;id&gt;xjc&lt;/id&gt;\r\n\t\t&lt;goals&gt;\r\n\t\t  &lt;goal&gt;xjc&lt;/goal&gt;\r\n\t\t&lt;/goals&gt;\r\n\t  &lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n\t&lt;configuration&gt;\r\n\t  &lt;sources&gt;src/main/resources/xsd&lt;/sources&gt;\r\n\t  &lt;outputDirectory&gt;src/main/generated&lt;/outputDirectory&gt;\r\n\t  &lt;xjbSources&gt;\r\n\t\t&lt;xjbSource&gt;src/main/resources/xjb&lt;/xjbSource&gt;\r\n\t  &lt;/xjbSources&gt;\r\n\t  &lt;!-- The package of your generated sources --&gt;\r\n\t  &lt;packageName&gt;org.acme.generated&lt;/packageName&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n##### xjb bindings file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;jaxb:bindings xmlns:jaxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\r\n               xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n               xmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;\r\n               jaxb:extensionBindingPrefixes=&quot;xjc&quot;\r\n               version=&quot;3.0&quot;&gt;\r\n    &lt;jaxb:bindings schemaLocation=&quot;..\\xsd\\mainobject.xsd&quot; version=&quot;1.0&quot; node=&quot;//xsd:element[@name=&#39;SubObject&#39;]&quot;&gt;\r\n        &lt;jaxb:property&gt;\r\n            &lt;jaxb:baseType&gt;\r\n                &lt;jaxb:javaType name=&quot;org.acme.generated.SubObject&quot;/&gt;\r\n            &lt;/jaxb:baseType&gt;\r\n        &lt;/jaxb:property&gt;\r\n    &lt;/jaxb:bindings&gt;\r\n&lt;/jaxb:bindings&gt;\r\n\r\n```\r\n\r\n##### generated MainObject class\r\n```\r\n@XmlRootElement(name = &quot;MainObject&quot;)\r\npublic class MainObject {\r\n\r\n    @XmlElement(name = &quot;MainElement1&quot;, required = true)\r\n    protected String mainElement1;\r\n    @XmlElement(name = &quot;MaintElement2&quot;)\r\n    protected int maintElement2;\r\n    @XmlElement(name = &quot;SubObject&quot;, required = true, type = Object.class)\r\n    protected SubObject subObject;\r\n```\r\n\r\n##### generated SubObject class\r\n```\r\n@XmlRootElement(name = &quot;SubObject&quot;)\r\npublic class SubObject {\r\n\r\n    @XmlElement(name = &quot;SubElement1&quot;, required = true)\r\n    protected String subElement1;\r\n    @XmlElement(name = &quot;SubElement2&quot;)\r\n    protected int subElement2;\r\n```\r\n\r\nBoth the xsd files stayed the same, but the generated MainObject class now has the type property on the anottation, with value Object.class. When I try to unmarshal the following XML: \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;MainObject&gt;\r\n\t&lt;MainElement1&gt;test1&lt;/MainElement1&gt;\r\n\t&lt;MainElement2&gt;2&lt;/MainElement2&gt;\r\n\t&lt;SubObject&gt;\r\n\t\t&lt;SubElement1&gt;test1&lt;/SubElement1&gt;\r\n\t\t&lt;SubElement2&gt;2&lt;/SubElement2&gt;\r\n\t&lt;/SubObject&gt;\r\n&lt;/MainObject&gt;\r\n```\r\n\r\nI get the following error `java.lang.IllegalArgumentException: Can not set org.acme.generated.SubObject field org.acme.generated.MainObject.subObject to com.sun.org.apache.xerces.internal.dom.ElementNSImpl`. However, if I manually remove the type = Object.class from the generated class the unmarshal works perfectly.\r\nTo add a little bit more info, I&#39;ve also tried generating the classes with an updated version of the apache-CXF-XJC plugin (v4.0.0) but I get the same result.\r\n\r\nIs there a way to manipulate the type attribute generated on the annotation @XmlElement? Or to ignore it at the time of unmarshalling the data into an object?","title":"JAXB2 - XJC - Problem with XmlElement.type on generated class","body":"<p><strong>TLDR:</strong> I have to generate Java classes from an XSD, and one of the fields of the &quot;Main&quot; object is another generated class. The field has an annotation @XmlElement, which has a property &quot;type = Object.class &quot; while having the field type = &quot;SubObject&quot;. This makes it so that when I try to unmarshal the XML into a Java Object I get an error.</p>\n<pre><code>@XmlRootElement(name = &quot;MainObject&quot;)\npublic class MainObject {\n    @XmlElement(name = &quot;SubObject&quot;, required = true, type = Object.class)\n    protected SubObject subObject;\n}\n</code></pre>\n<p>I have tried with both the JAXB2 Maven Plugin and the Apache-CXF-XJC plugin. In both cases I end up with the same result. If I manually remove the type property from the annotation it works. How can I generate the class without the type property, or make it be SubObject.class in this case?</p>\n<h3>More info</h3>\n<p>The files/configuration that worked on the old project:</p>\n<h5>pom.xml plugin configuration</h5>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n    &lt;artifactId&gt;cxf-xjc-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;extensions&gt;\n            &lt;extension&gt;org.apache.cxf.xjcplugins:cxf-xjc-dv:2.3.0&lt;/extension&gt;\n        &lt;/extensions&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;generate-sources&lt;/id&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;xsdtojava&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;sourceRoot&gt;${project.build.sourceDirectory}/../generated/&lt;/sourceRoot&gt;\n                &lt;xsdOptions&gt;\n                    &lt;xsdOption&gt;\n                        &lt;xsd&gt;src/main/resources/xsd/subobject.xsd&lt;/xsd&gt;\n                        &lt;packagename&gt;org.acme.generated&lt;/packagename&gt;\n                    &lt;/xsdOption&gt;                    \n                    &lt;xsdOption&gt;\n                        &lt;xsd&gt;src/main/resources/xsd/mainobject.xsd&lt;/xsd&gt;\n                        &lt;packagename&gt;org.acme.generated&lt;/packagename&gt;\n                        &lt;bindingFile&gt;src/main/resources/xsd/bindings.xjb&lt;/bindingFile&gt;\n                    &lt;/xsdOption&gt;\n                &lt;/xsdOptions&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<h5>xjb bindings file</h5>\n<pre><code>&lt;bindings xmlns=&quot;http://java.sun.com/xml/ns/jaxb&quot; xmlns:xsi=&quot;http://www.w3.org/2000/10/XMLSchema-instance&quot;\n    xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;2.1&quot;&gt;\n    &lt;bindings schemaLocation=&quot;mainobject.xsd&quot; version=&quot;1.0&quot;&gt;\n        &lt;bindings node=&quot;//xs:element[@name='SubObject']&quot;&gt;\n                &lt;class ref=&quot;org.acme.generated.SubObject&quot;/&gt;\n        &lt;/bindings&gt;\n    &lt;/bindings&gt;\n&lt;/bindings&gt;\n</code></pre>\n<h5>generated MainObject class</h5>\n<pre><code>@XmlRootElement(name = &quot;MainObject&quot;)\npublic class MainObject {\n\n    @XmlElement(name = &quot;MainElement1&quot;, required = true)\n    protected String mainElement1;\n    @XmlElement(name = &quot;MaintElement2&quot;)\n    protected int maintElement2;\n    @XmlElement(name = &quot;SubObject&quot;, required = true)\n    protected SubObject subObject;\n</code></pre>\n<p>Now, after researching a bit, I've ended up with the following files for the newer plugin:</p>\n<h5>pom.xml plugin configuration</h5>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;xjc&lt;/id&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;xjc&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n      &lt;sources&gt;src/main/resources/xsd&lt;/sources&gt;\n      &lt;outputDirectory&gt;src/main/generated&lt;/outputDirectory&gt;\n      &lt;xjbSources&gt;\n        &lt;xjbSource&gt;src/main/resources/xjb&lt;/xjbSource&gt;\n      &lt;/xjbSources&gt;\n      &lt;!-- The package of your generated sources --&gt;\n      &lt;packageName&gt;org.acme.generated&lt;/packageName&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<h5>xjb bindings file</h5>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;jaxb:bindings xmlns:jaxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\n               xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\n               xmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;\n               jaxb:extensionBindingPrefixes=&quot;xjc&quot;\n               version=&quot;3.0&quot;&gt;\n    &lt;jaxb:bindings schemaLocation=&quot;..\\xsd\\mainobject.xsd&quot; version=&quot;1.0&quot; node=&quot;//xsd:element[@name='SubObject']&quot;&gt;\n        &lt;jaxb:property&gt;\n            &lt;jaxb:baseType&gt;\n                &lt;jaxb:javaType name=&quot;org.acme.generated.SubObject&quot;/&gt;\n            &lt;/jaxb:baseType&gt;\n        &lt;/jaxb:property&gt;\n    &lt;/jaxb:bindings&gt;\n&lt;/jaxb:bindings&gt;\n\n</code></pre>\n<h5>generated MainObject class</h5>\n<pre><code>@XmlRootElement(name = &quot;MainObject&quot;)\npublic class MainObject {\n\n    @XmlElement(name = &quot;MainElement1&quot;, required = true)\n    protected String mainElement1;\n    @XmlElement(name = &quot;MaintElement2&quot;)\n    protected int maintElement2;\n    @XmlElement(name = &quot;SubObject&quot;, required = true, type = Object.class)\n    protected SubObject subObject;\n</code></pre>\n<h5>generated SubObject class</h5>\n<pre><code>@XmlRootElement(name = &quot;SubObject&quot;)\npublic class SubObject {\n\n    @XmlElement(name = &quot;SubElement1&quot;, required = true)\n    protected String subElement1;\n    @XmlElement(name = &quot;SubElement2&quot;)\n    protected int subElement2;\n</code></pre>\n<p>Both the xsd files stayed the same, but the generated MainObject class now has the type property on the anottation, with value Object.class. When I try to unmarshal the following XML:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;MainObject&gt;\n    &lt;MainElement1&gt;test1&lt;/MainElement1&gt;\n    &lt;MainElement2&gt;2&lt;/MainElement2&gt;\n    &lt;SubObject&gt;\n        &lt;SubElement1&gt;test1&lt;/SubElement1&gt;\n        &lt;SubElement2&gt;2&lt;/SubElement2&gt;\n    &lt;/SubObject&gt;\n&lt;/MainObject&gt;\n</code></pre>\n<p>I get the following error <code>java.lang.IllegalArgumentException: Can not set org.acme.generated.SubObject field org.acme.generated.MainObject.subObject to com.sun.org.apache.xerces.internal.dom.ElementNSImpl</code>. However, if I manually remove the type = Object.class from the generated class the unmarshal works perfectly.\nTo add a little bit more info, I've also tried generating the classes with an updated version of the apache-CXF-XJC plugin (v4.0.0) but I get the same result.</p>\n<p>Is there a way to manipulate the type attribute generated on the annotation @XmlElement? Or to ignore it at the time of unmarshalling the data into an object?</p>\n"},{"tags":["java","http","karate"],"comments":[{"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1692706396,"post_id":76953143,"comment_id":135658017,"body_markdown":"I can&#39;t help unless you follow this process: https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue - lets hope someone else has some ideas","body":"I can&#39;t help unless you follow this process: <a href=\"https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue</a> - lets hope someone else has some ideas"}],"owner":{"account_id":9782480,"reputation":57,"user_id":7249929,"display_name":"Nani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692708524,"creation_date":1692705947,"question_id":76953143,"body_markdown":"`Background:` My Karate test cases were running fine with Karate 0.9.6 version.\r\nCurrently I am trying to upgrade my Karate version to 1.4.0 and facing issues. Java version is 17.\r\n\r\n`Solutions Tried:` Followed documentation [Karate-1.0-upgrade-guide][1] and removed karate-apache dependency in pom and updated Runner method. Added karate-core dependency in pom.\r\n\r\n\r\nWhile running karate test cases facing below error:\r\n\r\n`ERROR:` com.intuit.karate -- karate.org.apache.http.conn.HttpHostConnectException: Connect to 127.0.0.1:8080 [/127.0.0.1] failed: \r\nConnection refused: no further information, http call failed after 474 milliseconds for url: http://127.0.0.1:8080/\r\n\r\n`karate-config.js`\r\n\r\n    function fn() {\r\n    var env = karate.env;\r\n    karate.configure(&#39;connectTimeout&#39;, 5000);\r\n    karate.configure(&#39;readTimeout&#39;, 8000);\r\n    var port = karate.properties[&#39;demo.server.port&#39;];\r\n    var url = karate.properties[&#39;demo.server.url&#39;];\r\n    if (!port) {\r\n        port = karate.env == &#39;web&#39; ? 8090 : 8080;\r\n    }\r\n    var protocol = &#39;http&#39;;\r\n    if (karate.properties[&#39;demo.server.https&#39;] == &#39;true&#39;) {\r\n        protocol = &#39;https&#39;;\r\n        karate.configure(&#39;ssl&#39;, true);\r\n    }\r\n    env = &#39;test&#39;;\r\n    var config = {\r\n       env: env,\r\n       baseUrl: protocol + &#39;://127.0.0.1:&#39; + port,\r\n       basePath: &#39;/karateTesting/1.0&#39;,\r\n       baseHeader: &#39;classpath:com/karate/headers/&#39;,\r\n       baseReq: &#39;classpath:com/karate/requests/&#39;,\r\n       baseResp: &#39;classpath:com/karate/responses/&#39;\r\n    }\r\n    if (url) {\r\n        config.baseUrl = url;\r\n    }\r\n    if (karate.env == &#39;proxy&#39;) {\r\n        var proxyPort = karate.properties[&#39;demo.proxy.port&#39;];\r\n        karate.configure(&#39;proxy&#39;, &#39;http://127.0.0.1:&#39; + proxyPort);\r\n    }\r\n    return config; }\r\n\r\n`Runner Class`\r\n\r\n    @Test\r\n    void testParallel() {\r\n        Results results = Runner.path(&quot;classpath:com/karate/test_api.feature&quot;).tags(&quot;~@ignore&quot;).parallel(5);\r\n        generateReport(results.getReportDir());\r\n        assertEquals(0, results.getFailCount(), results.getErrorMessages());\r\n    }\r\n\r\n`POM.xml`\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;karate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.0&lt;/version&gt;\r\n\t\t\t&lt;classifier&gt;all&lt;/classifier&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n  [1]: https://github.com/karatelabs/karate/wiki/1.0-upgrade-guide","title":"Karate-Apache-HttpHostConnectException Upon Upgrading to Karate 1.4","body":"<p><code>Background:</code> My Karate test cases were running fine with Karate 0.9.6 version.\nCurrently I am trying to upgrade my Karate version to 1.4.0 and facing issues. Java version is 17.</p>\n<p><code>Solutions Tried:</code> Followed documentation <a href=\"https://github.com/karatelabs/karate/wiki/1.0-upgrade-guide\" rel=\"nofollow noreferrer\">Karate-1.0-upgrade-guide</a> and removed karate-apache dependency in pom and updated Runner method. Added karate-core dependency in pom.</p>\n<p>While running karate test cases facing below error:</p>\n<p><code>ERROR:</code> com.intuit.karate -- karate.org.apache.http.conn.HttpHostConnectException: Connect to 127.0.0.1:8080 [/127.0.0.1] failed:\nConnection refused: no further information, http call failed after 474 milliseconds for url: <a href=\"http://127.0.0.1:8080/\" rel=\"nofollow noreferrer\">http://127.0.0.1:8080/</a></p>\n<p><code>karate-config.js</code></p>\n<pre><code>function fn() {\nvar env = karate.env;\nkarate.configure('connectTimeout', 5000);\nkarate.configure('readTimeout', 8000);\nvar port = karate.properties['demo.server.port'];\nvar url = karate.properties['demo.server.url'];\nif (!port) {\n    port = karate.env == 'web' ? 8090 : 8080;\n}\nvar protocol = 'http';\nif (karate.properties['demo.server.https'] == 'true') {\n    protocol = 'https';\n    karate.configure('ssl', true);\n}\nenv = 'test';\nvar config = {\n   env: env,\n   baseUrl: protocol + '://127.0.0.1:' + port,\n   basePath: '/karateTesting/1.0',\n   baseHeader: 'classpath:com/karate/headers/',\n   baseReq: 'classpath:com/karate/requests/',\n   baseResp: 'classpath:com/karate/responses/'\n}\nif (url) {\n    config.baseUrl = url;\n}\nif (karate.env == 'proxy') {\n    var proxyPort = karate.properties['demo.proxy.port'];\n    karate.configure('proxy', 'http://127.0.0.1:' + proxyPort);\n}\nreturn config; }\n</code></pre>\n<p><code>Runner Class</code></p>\n<pre><code>@Test\nvoid testParallel() {\n    Results results = Runner.path(&quot;classpath:com/karate/test_api.feature&quot;).tags(&quot;~@ignore&quot;).parallel(5);\n    generateReport(results.getReportDir());\n    assertEquals(0, results.getFailCount(), results.getErrorMessages());\n}\n</code></pre>\n<p><code>POM.xml</code></p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\n        &lt;artifactId&gt;karate-core&lt;/artifactId&gt;\n        &lt;version&gt;1.4.0&lt;/version&gt;\n        &lt;classifier&gt;all&lt;/classifier&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","selenium-webdriver","firefox","webdrivermanager-java"],"answers":[{"tags":[],"owner":{"account_id":4420200,"reputation":4708,"user_id":3877746,"accept_rate":100,"display_name":"Boni Garc&#237;a"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692708192,"creation_date":1692708192,"answer_id":76953445,"question_id":76923608,"body_markdown":"You can do the following:\r\n\r\n    WebDriverManager wmd = WebDriverManager.firefoxdriver();\r\n    wdm.setup();\r\n    FirefoxDriver driver = new FirefoxDriver();\r\n    System.out.println(&quot;DownloadedDriverPath &gt;&gt;&gt; &quot; + wdm.getDownloadedDriverPath());","title":"getDownloadedDriverVersion() and getDownloadedDriverPath() is returning null for firefox","body":"<p>You can do the following:</p>\n<pre><code>WebDriverManager wmd = WebDriverManager.firefoxdriver();\nwdm.setup();\nFirefoxDriver driver = new FirefoxDriver();\nSystem.out.println(&quot;DownloadedDriverPath &gt;&gt;&gt; &quot; + wdm.getDownloadedDriverPath());\n</code></pre>\n"}],"owner":{"account_id":29246006,"reputation":1,"user_id":22406456,"display_name":"Jamuna Velusamy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692708231,"creation_date":1692291166,"question_id":76923608,"body_markdown":"Even after using latest WDM version, i am getting null for the below code\r\n\r\nOS: Windows 11, Browser: firefox.\r\n\r\nWDM version used.\r\n// https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager\r\nimplementation group: &#39;io.github.bonigarcia&#39;, name: &#39;webdrivermanager&#39;, version: &#39;5.4.1&#39;\r\n\r\n```\r\npublic static FirefoxDriver createDriver() {\r\n\t\t\r\n\t\tWebDriverManager.firefoxdriver().setup();\r\n\t\r\n\t\tFirefoxDriver driver = new FirefoxDriver();\r\n\t\t\r\n\t\tSystem.out.println(&quot;DownloadedDriverPath &gt;&gt;&gt; &quot;\r\n\t\t\t\t+ WebDriverManager.firefoxdriver().getDownloadedDriverPath());\r\n\r\n\t\tSystem.out.println(&quot;DownloadedDriverVersion &gt;&gt;&gt; &quot;\r\n\t\t\t+ WebDriverManager.firefoxdriver().getDownloadedDriverVersion());\r\n\r\n\t\tSystem.out.println(&quot;BrowserPath &gt;&gt;&gt; &quot;\r\n\t\t\t\t+ WebDriverManager.firefoxdriver().getBrowserPath());\r\n\t\t\r\n\t\t\r\n\t\treturn driver;\r\n\t}\r\n```\r\n\r\n\r\nPlease help in resolving the issue.","title":"getDownloadedDriverVersion() and getDownloadedDriverPath() is returning null for firefox","body":"<p>Even after using latest WDM version, i am getting null for the below code</p>\n<p>OS: Windows 11, Browser: firefox.</p>\n<p>WDM version used.\n// <a href=\"https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager</a>\nimplementation group: 'io.github.bonigarcia', name: 'webdrivermanager', version: '5.4.1'</p>\n<pre><code>public static FirefoxDriver createDriver() {\n        \n        WebDriverManager.firefoxdriver().setup();\n    \n        FirefoxDriver driver = new FirefoxDriver();\n        \n        System.out.println(&quot;DownloadedDriverPath &gt;&gt;&gt; &quot;\n                + WebDriverManager.firefoxdriver().getDownloadedDriverPath());\n\n        System.out.println(&quot;DownloadedDriverVersion &gt;&gt;&gt; &quot;\n            + WebDriverManager.firefoxdriver().getDownloadedDriverVersion());\n\n        System.out.println(&quot;BrowserPath &gt;&gt;&gt; &quot;\n                + WebDriverManager.firefoxdriver().getBrowserPath());\n        \n        \n        return driver;\n    }\n</code></pre>\n<p>Please help in resolving the issue.</p>\n"},{"tags":["java","spring-boot","unit-testing","mockito","aop"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1692770647,"post_id":76953449,"comment_id":135667844,"body_markdown":"Welcome to SO. Thanks for your question and the provided code, which is a good start. In order to reproduce your problem, however, we also need the classes under test and a second test which is failing. Otherwise, every community member trying to help you will have to invent the missing classes by themselves, possibly guessing wrong about what they might look like. A [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve) on GitHub would make it much easier to help you. Thank you.","body":"Welcome to SO. Thanks for your question and the provided code, which is a good start. In order to reproduce your problem, however, we also need the classes under test and a second test which is failing. Otherwise, every community member trying to help you will have to invent the missing classes by themselves, possibly guessing wrong about what they might look like. A <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a> on GitHub would make it much easier to help you. Thank you."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1692771874,"post_id":76953449,"comment_id":135668034,"body_markdown":"Having said that, I think that aligning the mockito artifact versions and not using a mix of core 3.5.13 and inline 4.5.1 would be a good idea. According to [this answer](https://stackoverflow.com/a/72303688/1082681), you ought to use `spring-boot-starter-test` and the correct version of Spring Boot parent to avoid problems like yours. Without the minimal reproducer, I cannot say more at this point. And please, don&#39;t debate by commenting, simply provide the [MCVE](https://stackoverflow.com/help/mcve).","body":"Having said that, I think that aligning the mockito artifact versions and not using a mix of core 3.5.13 and inline 4.5.1 would be a good idea. According to <a href=\"https://stackoverflow.com/a/72303688/1082681\">this answer</a>, you ought to use <code>spring-boot-starter-test</code> and the correct version of Spring Boot parent to avoid problems like yours. Without the minimal reproducer, I cannot say more at this point. And please, don&#39;t debate by commenting, simply provide the <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>."}],"owner":{"account_id":10113637,"reputation":29,"user_id":7473030,"display_name":"Hindol Dey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692708214,"creation_date":1692708214,"question_id":76953449,"body_markdown":"I am facing a weird issue and I&#39;m not able to find out the root cause.\r\n\r\nI added a new unit test for an aspect that I have created and that is causing most of the test cases in the application to fail due to Mockito errors. Once I remove the test case, everything passes magically.\r\n\r\nAnnotation\r\n```\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.METHOD)\r\n    public @interface ValidCheck {\r\n        boolean enabled() default true;\r\n    }\r\n\r\n```\r\n\r\nAspect\r\n\r\n```\r\n\r\n    @Aspect\r\n    @Component\r\n    @Slf4j\r\n    public class ValidCheckService {\r\n        \r\n        @Value(&quot;${field.to.validate}&quot;)\r\n        private String field;\r\n    \r\n        @Around(value = &quot;@annotation(com.test.logging.annotations.ValidCheck)&quot;)\r\n        public ResponseEntity&lt;?&gt; validateFields(ProceedingJoinPoint pjp) throws Throwable {\r\n    \r\n            try {\r\n                Object[] args = pjp.getArgs();\r\n                var validCheck =\r\n                        ((MethodSignature) pjp.getSignature()).getMethod().getAnnotation(ValidCheck.class);\r\n    \r\n                if (validCheck.enabled()) {\r\n    \r\n                    if (args != null &amp;&amp; args.length &gt; 0) {\r\n                        var someClass =\r\n                                Arrays.stream(args)\r\n                                        .filter(arg -&gt; arg instanceof SomeClass)\r\n                                        .findAny()\r\n                                        .map(arg -&gt; (SomeClass) arg)\r\n                                        .orElseThrow(() -&gt; new IllegalArgumentException(&quot;No SomeClass present&quot;));\r\n    \r\n                        var fieldToCheck = someClass.getField();\r\n    \r\n                        if (!field.equalsIgnoreCase(fieldToCheck)) {\r\n                            return ResponseEntity.status(HttpStatus.FORBIDDEN).build();\r\n                        }\r\n                    }\r\n                } else {\r\n                    log.info(&quot;Check disabled&quot;);\r\n                }\r\n            } catch (Exception e) {\r\n                log.error(&quot;Exception in validating fields&quot;, e);\r\n            }\r\n            \r\n            return (ResponseEntity&lt;?&gt;) pjp.proceed();\r\n        }\r\n    }\r\n\r\n```\r\n\r\n\r\nTest class\r\n\r\n```\r\n\r\n    class ValidCheckServiceTest {\r\n        \r\n                private ProceedingJoinPoint pjp;\r\n            private SomeClass some;\r\n            private ValidCheck validCheck;\r\n            private ValidCheckService validCheckService;\r\n        \r\n            @BeforeEach\r\n            public void init() {\r\n                pjp = mock(ProceedingJoinPoint.class);\r\n                some = mock(SomeClass.class);\r\n                validCheck = mock(ValidCheck.class);\r\n                MethodSignature methodSignature = mock(MethodSignature.class);\r\n                Method method = mock(Method.class);\r\n        \r\n                validCheckService = new ValidCheckService();\r\n        \r\n                setField(validCheckService, &quot;field&quot;, SOME_FIELD);\r\n        \r\n                when(pjp.getSignature()).thenReturn(methodSignature);\r\n                when(methodSignature.getMethod()).thenReturn(method);\r\n                when(method.getAnnotation(ValidCheck.class)).thenReturn(validCheck);\r\n            }\r\n        \r\n            @Test\r\n            void test1() throws Throwable {\r\n        \r\n                when(pjp.getArgs()).thenReturn(new Object[]{some, new Object()});\r\n                when(((MethodSignature) pjp.getSignature()).getMethod().getAnnotation(ValidCheck.class)).thenReturn(validCheck);\r\n                when(validCheck.enabled()).thenReturn(true);\r\n                when(some.getClientId()).thenReturn(&quot;value&quot;);\r\n        \r\n                var responseEntity = validCheckService.validateFields(pjp);\r\n        \r\n                assertEquals(HttpStatus.FORBIDDEN, responseEntity.getStatusCode());\r\n            }\r\n        \r\n            @Test\r\n            void test2() throws Throwable {\r\n        \r\n                when(pjp.getArgs()).thenReturn(new Object[]{some, new Object()});\r\n                when(((MethodSignature) pjp.getSignature()).getMethod().getAnnotation(ValidCheck.class)).thenReturn(validCheck);\r\n                when(validCheck.enabled()).thenReturn(true);\r\n                when(some.getClientId()).thenReturn(SOME_FIELD);\r\n                when(pjp.proceed()).thenReturn(ResponseEntity.ok().build());\r\n        \r\n                var responseEntity = validCheckService.validateFields(pjp);\r\n        \r\n                assertNotEquals(HttpStatus.FORBIDDEN, responseEntity.getStatusCode());\r\n            }\r\n        \r\n            @Test\r\n            void test3() throws Throwable {\r\n        \r\n                when(pjp.getArgs()).thenReturn(new Object[]{some, new Object()});\r\n                when(((MethodSignature) pjp.getSignature()).getMethod().getAnnotation(ValidCheck.class)).thenReturn(validCheck);\r\n                when(validCheck.enabled()).thenReturn(false);\r\n                when(pjp.proceed()).thenReturn(ResponseEntity.ok().build());\r\n        \r\n                var responseEntity = validCheckService.validateFields(pjp);\r\n        \r\n                assertNotEquals(HttpStatus.FORBIDDEN, responseEntity.getStatusCode());\r\n            }\r\n        \r\n            @ParameterizedTest\r\n            @ValueSource(booleans = {true, false})\r\n            void test4(boolean enabled) throws Throwable {\r\n        \r\n                when(pjp.getArgs()).thenReturn(new Object[]{new Object()});\r\n                when(((MethodSignature) pjp.getSignature()).getMethod().getAnnotation(ValidCheck.class)).thenReturn(validCheck);\r\n                when(validCheck.enabled()).thenReturn(enabled);\r\n                when(pjp.proceed()).thenReturn(ResponseEntity.ok().build());\r\n        \r\n                var responseEntity = validCheckService.validateFields(pjp);\r\n        \r\n                assertNotEquals(HttpStatus.FORBIDDEN, responseEntity.getStatusCode());\r\n            }\r\n        \r\n        \r\n            private static final String SOME_FIELD = &quot;field&quot;;\r\n        }\r\n\r\n```\r\n\r\nThis test runs fine from IDE. But whenever I try to run all tests at one, most of them either fails or errors out due to mockito like unfinished stubbings, NPE or failed to release mocks.\r\n\r\nIf I delete this particular test case, all the test case magically passes.\r\n\r\nI tried matching my spring-boot-starter-test&#39;s mockito version to mockito-inline version that we are adding in our dependency separately but with no luck.\r\n\r\n\r\nCurrent library versions;\r\n```\r\n    +- org.mockito:mockito-inline:jar:4.5.1:test\r\n    +- org.mockito:mockito-junit-jupiter:jar:4.5.1:test\r\n    +- org.mockito:mockito-core:jar:3.5.13:test\r\n```\r\n\r\nPlease help me in identifying the issue.\r\n","title":"Unit test failing after adding a new unit test for an Aspect","body":"<p>I am facing a weird issue and I'm not able to find out the root cause.</p>\n<p>I added a new unit test for an aspect that I have created and that is causing most of the test cases in the application to fail due to Mockito errors. Once I remove the test case, everything passes magically.</p>\n<p>Annotation</p>\n<pre><code>\n    @Retention(RetentionPolicy.RUNTIME)\n    @Target(ElementType.METHOD)\n    public @interface ValidCheck {\n        boolean enabled() default true;\n    }\n\n</code></pre>\n<p>Aspect</p>\n<pre><code>\n    @Aspect\n    @Component\n    @Slf4j\n    public class ValidCheckService {\n        \n        @Value(&quot;${field.to.validate}&quot;)\n        private String field;\n    \n        @Around(value = &quot;@annotation(com.test.logging.annotations.ValidCheck)&quot;)\n        public ResponseEntity&lt;?&gt; validateFields(ProceedingJoinPoint pjp) throws Throwable {\n    \n            try {\n                Object[] args = pjp.getArgs();\n                var validCheck =\n                        ((MethodSignature) pjp.getSignature()).getMethod().getAnnotation(ValidCheck.class);\n    \n                if (validCheck.enabled()) {\n    \n                    if (args != null &amp;&amp; args.length &gt; 0) {\n                        var someClass =\n                                Arrays.stream(args)\n                                        .filter(arg -&gt; arg instanceof SomeClass)\n                                        .findAny()\n                                        .map(arg -&gt; (SomeClass) arg)\n                                        .orElseThrow(() -&gt; new IllegalArgumentException(&quot;No SomeClass present&quot;));\n    \n                        var fieldToCheck = someClass.getField();\n    \n                        if (!field.equalsIgnoreCase(fieldToCheck)) {\n                            return ResponseEntity.status(HttpStatus.FORBIDDEN).build();\n                        }\n                    }\n                } else {\n                    log.info(&quot;Check disabled&quot;);\n                }\n            } catch (Exception e) {\n                log.error(&quot;Exception in validating fields&quot;, e);\n            }\n            \n            return (ResponseEntity&lt;?&gt;) pjp.proceed();\n        }\n    }\n\n</code></pre>\n<p>Test class</p>\n<pre><code>\n    class ValidCheckServiceTest {\n        \n                private ProceedingJoinPoint pjp;\n            private SomeClass some;\n            private ValidCheck validCheck;\n            private ValidCheckService validCheckService;\n        \n            @BeforeEach\n            public void init() {\n                pjp = mock(ProceedingJoinPoint.class);\n                some = mock(SomeClass.class);\n                validCheck = mock(ValidCheck.class);\n                MethodSignature methodSignature = mock(MethodSignature.class);\n                Method method = mock(Method.class);\n        \n                validCheckService = new ValidCheckService();\n        \n                setField(validCheckService, &quot;field&quot;, SOME_FIELD);\n        \n                when(pjp.getSignature()).thenReturn(methodSignature);\n                when(methodSignature.getMethod()).thenReturn(method);\n                when(method.getAnnotation(ValidCheck.class)).thenReturn(validCheck);\n            }\n        \n            @Test\n            void test1() throws Throwable {\n        \n                when(pjp.getArgs()).thenReturn(new Object[]{some, new Object()});\n                when(((MethodSignature) pjp.getSignature()).getMethod().getAnnotation(ValidCheck.class)).thenReturn(validCheck);\n                when(validCheck.enabled()).thenReturn(true);\n                when(some.getClientId()).thenReturn(&quot;value&quot;);\n        \n                var responseEntity = validCheckService.validateFields(pjp);\n        \n                assertEquals(HttpStatus.FORBIDDEN, responseEntity.getStatusCode());\n            }\n        \n            @Test\n            void test2() throws Throwable {\n        \n                when(pjp.getArgs()).thenReturn(new Object[]{some, new Object()});\n                when(((MethodSignature) pjp.getSignature()).getMethod().getAnnotation(ValidCheck.class)).thenReturn(validCheck);\n                when(validCheck.enabled()).thenReturn(true);\n                when(some.getClientId()).thenReturn(SOME_FIELD);\n                when(pjp.proceed()).thenReturn(ResponseEntity.ok().build());\n        \n                var responseEntity = validCheckService.validateFields(pjp);\n        \n                assertNotEquals(HttpStatus.FORBIDDEN, responseEntity.getStatusCode());\n            }\n        \n            @Test\n            void test3() throws Throwable {\n        \n                when(pjp.getArgs()).thenReturn(new Object[]{some, new Object()});\n                when(((MethodSignature) pjp.getSignature()).getMethod().getAnnotation(ValidCheck.class)).thenReturn(validCheck);\n                when(validCheck.enabled()).thenReturn(false);\n                when(pjp.proceed()).thenReturn(ResponseEntity.ok().build());\n        \n                var responseEntity = validCheckService.validateFields(pjp);\n        \n                assertNotEquals(HttpStatus.FORBIDDEN, responseEntity.getStatusCode());\n            }\n        \n            @ParameterizedTest\n            @ValueSource(booleans = {true, false})\n            void test4(boolean enabled) throws Throwable {\n        \n                when(pjp.getArgs()).thenReturn(new Object[]{new Object()});\n                when(((MethodSignature) pjp.getSignature()).getMethod().getAnnotation(ValidCheck.class)).thenReturn(validCheck);\n                when(validCheck.enabled()).thenReturn(enabled);\n                when(pjp.proceed()).thenReturn(ResponseEntity.ok().build());\n        \n                var responseEntity = validCheckService.validateFields(pjp);\n        \n                assertNotEquals(HttpStatus.FORBIDDEN, responseEntity.getStatusCode());\n            }\n        \n        \n            private static final String SOME_FIELD = &quot;field&quot;;\n        }\n\n</code></pre>\n<p>This test runs fine from IDE. But whenever I try to run all tests at one, most of them either fails or errors out due to mockito like unfinished stubbings, NPE or failed to release mocks.</p>\n<p>If I delete this particular test case, all the test case magically passes.</p>\n<p>I tried matching my spring-boot-starter-test's mockito version to mockito-inline version that we are adding in our dependency separately but with no luck.</p>\n<p>Current library versions;</p>\n<pre><code>    +- org.mockito:mockito-inline:jar:4.5.1:test\n    +- org.mockito:mockito-junit-jupiter:jar:4.5.1:test\n    +- org.mockito:mockito-core:jar:3.5.13:test\n</code></pre>\n<p>Please help me in identifying the issue.</p>\n"},{"tags":["java","docker","dockerfile"],"comments":[{"owner":{"account_id":11335070,"reputation":887,"user_id":8311212,"display_name":"Sounak Saha"},"score":0,"creation_date":1642503515,"post_id":70754255,"comment_id":125082406,"body_markdown":"Could you please add your backend repo docker file","body":"Could you please add your backend repo docker file"},{"owner":{"account_id":14784901,"reputation":118,"user_id":10677385,"display_name":"Logan Ayliffe"},"score":0,"creation_date":1642503883,"post_id":70754255,"comment_id":125082562,"body_markdown":"Sure thing -- done","body":"Sure thing -- done"},{"owner":{"account_id":15721819,"reputation":18292,"user_id":11344502,"display_name":"anemyte"},"score":0,"creation_date":1642515078,"post_id":70754255,"comment_id":125087043,"body_markdown":"What is your host platform (windows/linux/etc)? Which Docker do you use (ce/desktop and version)? Since the problem only occurs in a certain project, have you tried to move the necessary files away into a new directory and perform the build there?","body":"What is your host platform (windows/linux/etc)? Which Docker do you use (ce/desktop and version)? Since the problem only occurs in a certain project, have you tried to move the necessary files away into a new directory and perform the build there?"},{"owner":{"account_id":14784901,"reputation":118,"user_id":10677385,"display_name":"Logan Ayliffe"},"score":0,"creation_date":1642518926,"post_id":70754255,"comment_id":125088764,"body_markdown":"I can perform a build, I&#39;m asking about the dockerfile specifically.","body":"I can perform a build, I&#39;m asking about the dockerfile specifically."},{"owner":{"account_id":2444322,"reputation":301,"user_id":2132061,"display_name":"zEELz"},"score":1,"creation_date":1663742479,"post_id":70754255,"comment_id":130308035,"body_markdown":"My image built from M1 Mac won&#39;t run on Cloud Run, figured it was a platform issue. I passed the platform using docker buildx:\n`docker buildx build --platform linux/amd64 --tag REPO:TAG .`\n\nIf your docker version doesn&#39;t come with buildx you have to install it - https://docs.docker.com/build/buildx/install/","body":"My image built from M1 Mac won&#39;t run on Cloud Run, figured it was a platform issue. I passed the platform using docker buildx: <code>docker buildx build --platform linux&#47;amd64 --tag REPO:TAG .</code>  If your docker version doesn&#39;t come with buildx you have to install it - <a href=\"https://docs.docker.com/build/buildx/install/\" rel=\"nofollow noreferrer\">docs.docker.com/build/buildx/install</a>"}],"answers":[{"tags":[],"owner":{"account_id":1343356,"reputation":2286,"user_id":2787992,"accept_rate":80,"display_name":"iChux"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685947484,"creation_date":1685947484,"answer_id":76404045,"question_id":70754255,"body_markdown":"On Mac, I add this line to the *.zprofile* and that takes care of everything at once. Adding it to the .zprofile, for me, ensures the DOCKER_DEFAULT_PLATFORM is present in the environ on accessing the terminal.\r\n\r\n&gt; export DOCKER_DEFAULT_PLATFORM=linux/amd64","title":"How can I correctly specify the platform for my dockerfile?","body":"<p>On Mac, I add this line to the <em>.zprofile</em> and that takes care of everything at once. Adding it to the .zprofile, for me, ensures the DOCKER_DEFAULT_PLATFORM is present in the environ on accessing the terminal.</p>\n<blockquote>\n<p>export DOCKER_DEFAULT_PLATFORM=linux/amd64</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13686500,"reputation":67,"user_id":9875475,"display_name":"Jason"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692708169,"creation_date":1692708169,"answer_id":76953443,"question_id":70754255,"body_markdown":"Also, I use this cmd to build docker image from the apple silicon macbook.\r\n```\r\ndocker build --platform=linux/amd64 -t mydockerimage .\r\n```\r\nNo need for buildx","title":"How can I correctly specify the platform for my dockerfile?","body":"<p>Also, I use this cmd to build docker image from the apple silicon macbook.</p>\n<pre><code>docker build --platform=linux/amd64 -t mydockerimage .\n</code></pre>\n<p>No need for buildx</p>\n"}],"owner":{"account_id":14784901,"reputation":118,"user_id":10677385,"display_name":"Logan Ayliffe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5365,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1692708169,"creation_date":1642502758,"question_id":70754255,"body_markdown":"I&#39;m trying to add the --platform=linux/amd64 flag to my dockerfile&#39;s FROM statement. I need to do this because I&#39;m working on an m1 laptop and the default architecture (linux/arm64/v8) is not compatible with our prod machine. The whole line should be:\r\n\r\n`FROM --platform=linux/amd64 openjdk:11-jre-slim`\r\n\r\nThis worked fine for my frontend repo (with node as the base image). However, in the backend repo, I&#39;m getting this error:\r\n\r\n`&lt;name chain&gt; expected, got &#39;-&#39;`\r\n\r\nSo it&#39;s like, not letting me add the flag at all for some reason.\r\n\r\nIntelliJ IDEA, Java\r\n\r\n\r\nFull backend dockerfile:\r\n```\r\nFROM --platform=linux/amd64 openjdk:11-jre-slim\r\nCOPY config/dev.yml /opt/dropwizard/\r\nCOPY build/libs/smerge-1.0-SNAPSHOT-all.jar /opt/dropwizard/\r\nEXPOSE 8080\r\nWORKDIR /opt/dropwizard\r\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;smerge-1.0-SNAPSHOT-all.jar&quot;, &quot;server&quot;, &quot;dev.yml&quot;]\r\n```\r\n\r\nThe [docker documentation](https://docs.docker.com/engine/reference/builder/#from) on the --platform flag for dockerfiles says that:\r\n\r\n*The optional --platform flag can be used to specify the platform of the image in case FROM references a multi-platform image. For example, linux/amd64, linux/arm64, or windows/amd64. By default, the target platform of the build request is used.*\r\n\r\n","title":"How can I correctly specify the platform for my dockerfile?","body":"<p>I'm trying to add the --platform=linux/amd64 flag to my dockerfile's FROM statement. I need to do this because I'm working on an m1 laptop and the default architecture (linux/arm64/v8) is not compatible with our prod machine. The whole line should be:</p>\n<p><code>FROM --platform=linux/amd64 openjdk:11-jre-slim</code></p>\n<p>This worked fine for my frontend repo (with node as the base image). However, in the backend repo, I'm getting this error:</p>\n<p><code>&lt;name chain&gt; expected, got '-'</code></p>\n<p>So it's like, not letting me add the flag at all for some reason.</p>\n<p>IntelliJ IDEA, Java</p>\n<p>Full backend dockerfile:</p>\n<pre><code>FROM --platform=linux/amd64 openjdk:11-jre-slim\nCOPY config/dev.yml /opt/dropwizard/\nCOPY build/libs/smerge-1.0-SNAPSHOT-all.jar /opt/dropwizard/\nEXPOSE 8080\nWORKDIR /opt/dropwizard\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;smerge-1.0-SNAPSHOT-all.jar&quot;, &quot;server&quot;, &quot;dev.yml&quot;]\n</code></pre>\n<p>The <a href=\"https://docs.docker.com/engine/reference/builder/#from\" rel=\"nofollow noreferrer\">docker documentation</a> on the --platform flag for dockerfiles says that:</p>\n<p><em>The optional --platform flag can be used to specify the platform of the image in case FROM references a multi-platform image. For example, linux/amd64, linux/arm64, or windows/amd64. By default, the target platform of the build request is used.</em></p>\n"},{"tags":["java","android","kotlin","camera"],"owner":{"account_id":15674917,"reputation":1,"user_id":11310409,"display_name":"Lucas Ri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692708113,"creation_date":1689088878,"question_id":76663506,"body_markdown":"On my camera application, the takePicture function does not work on some phones.\r\n\r\nthe list of known phones that do not work:\r\n- Motorola moto e40 android 11\r\n- realme C35 android 11\r\n- realmec21y\r\n- realme C25Y version of Android 11\r\n- Samsung galaxy a03 android 13\r\n- realme C25 Android 11\r\n\r\nCameraFragment :\r\n\r\n\r\n```\r\nclass CameraFragment : Fragment() {\r\n\r\n    private var _binding: FragmentCameraBinding? = null\r\n    val binding get() = _binding!!\r\n\r\n    private lateinit var cameraService: CameraService\r\n    private var imageCapture: ImageCapture? = null\r\n    private lateinit var cameraExecutor: ExecutorService\r\n    private val selector = QualitySelector.from(Quality.UHD, FallbackStrategy.higherQualityOrLowerThan(Quality.SD))\r\n    private var videoCapture: VideoCapture&lt;Recorder&gt;? = null\r\n    private var videoActiveRecording: Recording? = null\r\n    private var picture = Picture()\r\n    private var videoUri: Uri? = null\r\n    private var cameraProvider: ProcessCameraProvider? = null\r\n\r\n    private val TAG = &quot;CameraXBasic&quot;\r\n    private var backCamera = true\r\n\r\n    private val delayLongClick: Long = 500\r\n    private var isLongClick = false\r\n    private var recordingInProgress = false\r\n\r\n    private lateinit var windowManager: WindowManager\r\n\r\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View {\r\n        _binding = FragmentCameraBinding.inflate(inflater, container, false)\r\n        return binding.root\r\n    }\r\n\r\n    @SuppressLint(&quot;ClickableViewAccessibility&quot;)\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        // ---- INIT ----\r\n        cameraExecutor = Executors.newSingleThreadExecutor()\r\n        windowManager = WindowManager(view.context)\r\n        initView()\r\n\r\n        // ---- BUTTON ----\r\n        binding.fragmentCameraTakePictureBtn.setOnTouchListener(\r\n        object : OnTouchListener {\r\n            private val mHandler = Handler()\r\n            private val mRunnable = Runnable {\r\n                isLongClick = true\r\n\r\n                recordingVideo()\r\n\r\n                setTimer(10000) {\r\n                    override fun onTick(millisUntilFinished: Long) {}\r\n                    override fun onFinish() {\r\n                        binding.fragmentCameraRecordingVideoReticule.visibility = View.GONE\r\n                        videoActiveRecording?.stop()\r\n                        recordingInProgress = false\r\n                    }\r\n                }.start()\r\n            }\r\n\r\n            override fun onTouch(v: View, event: MotionEvent): Boolean {\r\n                when (event.action) {\r\n                    MotionEvent.ACTION_DOWN -&gt; mHandler.postDelayed(mRunnable, delayLongClick)\r\n                    MotionEvent.ACTION_UP, MotionEvent.ACTION_CANCEL -&gt; {\r\n                        mHandler.removeCallbacks(mRunnable)\r\n\r\n                        if (!isLongClick) takePicture()\r\n                        isLongClick = false\r\n\r\n                        if (recordingInProgress) {\r\n                            videoActiveRecording?.stop()\r\n                            recordingInProgress = false\r\n                        }\r\n                    }\r\n                }\r\n                return true\r\n            }\r\n        })\r\n\r\n        binding.fragmentCameraChangeStateBtn.setOnClickListener {\r\n            backCamera = !backCamera\r\n            startCamera(backCamera)\r\n        }\r\n    }\r\n\r\n    // ---------------------\r\n    // INIT\r\n    // ---------------------\r\n\r\n    private fun initView() {\r\n        if (ContextCompat.checkSelfPermission(requireContext(), Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED &amp;&amp;\r\n            ContextCompat.checkSelfPermission(requireContext(), Manifest.permission.RECORD_AUDIO) == PackageManager.PERMISSION_GRANTED) {\r\n            setTimer(100) { startCamera(backCamera) }\r\n        }\r\n    }\r\n\r\n    // ---------------------\r\n    // CAMERA\r\n    // ---------------------\r\n\r\n    private fun startCamera(backCamera: Boolean) {\r\n        val cameraProviderFuture = ProcessCameraProvider.getInstance(requireContext())\r\n\r\n        cameraProviderFuture.addListener(Runnable {\r\n            cameraProvider = cameraProviderFuture.get()\r\n\r\n            val metrics = windowManager.getCurrentWindowMetrics().bounds\r\n            val screenAspectRatio = aspectRatio(metrics.width(), metrics.height())\r\n\r\n            val preview = Preview.Builder()\r\n                .setTargetAspectRatio(screenAspectRatio)\r\n                .build()\r\n                .also { it.setSurfaceProvider(binding.fragmentCameraPreviewView.surfaceProvider) }\r\n\r\n            imageCapture = ImageCapture.Builder()\r\n                .setTargetAspectRatio(screenAspectRatio)\r\n                .build()\r\n\r\n            val cameraSelector = if (backCamera) CameraSelector.DEFAULT_BACK_CAMERA else CameraSelector.DEFAULT_FRONT_CAMERA\r\n\r\n            try {\r\n                cameraProvider?.unbindAll()\r\n\r\n                val viewPort =  ViewPort.Builder(Rational(binding.fragmentCameraPreviewView.width, binding.fragmentCameraPreviewView.height), activity?.display?.rotation!!).build()\r\n                val useCaseGroup = UseCaseGroup.Builder()\r\n                    .addUseCase(preview)\r\n                    .setViewPort(viewPort)\r\n                    .addUseCase(imageCapture!!)\r\n                    .build()\r\n                cameraProvider?.bindToLifecycle(this, cameraSelector, useCaseGroup)\r\n            } catch(exc: Exception) {\r\n                Log.e(TAG, &quot;Use case binding failed&quot;, exc)\r\n            }\r\n\r\n            //VIDEO\r\n            val recorder = Recorder.Builder().setQualitySelector(selector).build()\r\n            videoCapture = VideoCapture.withOutput(recorder)\r\n\r\n            try {\r\n                // Bind use cases to camera\r\n                cameraProvider?.bindToLifecycle(this, if (backCamera) CameraSelector.DEFAULT_BACK_CAMERA else CameraSelector.DEFAULT_FRONT_CAMERA, preview, videoCapture)\r\n            } catch(exc: Exception) {\r\n                Log.e(TAG, &quot;Use case binding failed&quot;, exc)\r\n            }\r\n\r\n        }, ContextCompat.getMainExecutor(requireContext()))\r\n\r\n        binding.fragmentCameraPreviewView.afterMeasured {\r\n            val autoFocusPoint = SurfaceOrientedMeteringPointFactory(1f, 1f)\r\n                .createPoint(.5f, .5f)\r\n            try {\r\n                val autoFocusAction = FocusMeteringAction.Builder(\r\n                    autoFocusPoint,\r\n                    FocusMeteringAction.FLAG_AF\r\n                ).apply {\r\n                    //start auto-focusing after 2 seconds\r\n                    setAutoCancelDuration(2, TimeUnit.SECONDS)\r\n                }.build()\r\n                imageCapture?.camera?.cameraControl?.startFocusAndMetering(autoFocusAction)\r\n            } catch (e: CameraInfoUnavailableException) {\r\n                Log.d(&quot;ERROR&quot;, &quot;cannot access camera&quot;, e)\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun takePicture() {\r\n        val imageCapture = imageCapture ?: return\r\n\r\n        imageCapture.takePicture(ContextCompat.getMainExecutor(requireContext()), object : ImageCapture.OnImageCapturedCallback() {\r\n            override fun onError(exception: ImageCaptureException) {\r\n                println(exception)\r\n            }\r\n\r\n            @SuppressLint(&quot;UnsafeOptInUsageError&quot;)\r\n            override fun onCaptureSuccess(image: ImageProxy) {\r\n                if (!backCamera) {\r\n                    picture.bitmap = image.image?.toBitmap()!!.rotateImage(image.imageInfo.rotationDegrees.toFloat()).crop(binding.fragmentCameraPreviewView.height, binding.fragmentCameraPreviewView.width)!!.horizontalFlip()\r\n                }\r\n                else {\r\n                    picture.bitmap = image.image?.toBitmap()!!.rotateImage(image.imageInfo.rotationDegrees.toFloat()).crop(binding.fragmentCameraPreviewView.height, binding.fragmentCameraPreviewView.width)!!\r\n                }\r\n                image.close()\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    private fun recordingVideo() {\r\n        recordingInProgress = true\r\n        val folder = File(requireContext().getExternalFilesDir(Environment.DIRECTORY_DCIM).toString() + File.separator + requireContext().getString(R.string.app_name))\r\n        if (!folder.exists()) folder.mkdir()\r\n\r\n        val outputFile = File(requireContext().getExternalFilesDir(Environment.DIRECTORY_DCIM).toString() + File.separator + requireContext().getString(R.string.app_name) + &quot;/video.mp4&quot;)\r\n        val fileOutputOptions = FileOutputOptions.Builder(outputFile).build()\r\n\r\n        // 2. Configure Recorder and Start recording to the mediaStoreOutput.\r\n        if (ActivityCompat.checkSelfPermission(requireContext(), Manifest.permission.RECORD_AUDIO) == PackageManager.PERMISSION_GRANTED) {\r\n            videoActiveRecording = videoCapture!!.output\r\n                .prepareRecording(requireContext(), fileOutputOptions)\r\n                .withAudioEnabled()\r\n                .start(ContextCompat.getMainExecutor(requireContext()), videoRecordingListener)\r\n        }\r\n    }\r\n\r\n    private val videoRecordingListener = Consumer&lt;VideoRecordEvent&gt; { event -&gt;\r\n        when (event) {\r\n            is VideoRecordEvent.Finalize -&gt; if (event.hasError()) {\r\n                printl(&quot;video recording error&quot;)\r\n            } else {\r\n                this.videoUri = event.outputResults.outputUri\r\n                val videoFile = File(requireContext().getExternalFilesDir(Environment.DIRECTORY_DCIM).toString() + File.separator + requireContext().getString(R.string.app_name) + &quot;/video.mp4&quot;)\r\n            }\r\n            is VideoRecordEvent.Pause -&gt; { }\r\n            is VideoRecordEvent.Status -&gt; { }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nBy debugging on one of the telephones which does not work, I see that the take photo button works well but when he calls the &quot;imageCapture.takePicture&quot; function, nothing happens, no log either in &quot;onError&quot; nor in &quot;onCaptureSuccess&quot;. I don&#39;t know what to do, I think I have set up the camera correctly and it works perfectly on most phones..\r\n\r\nHas anyone run into the same problem? Any solutions for such devices?","title":"takePicture does nothing on some devices (cameraX)","body":"<p>On my camera application, the takePicture function does not work on some phones.</p>\n<p>the list of known phones that do not work:</p>\n<ul>\n<li>Motorola moto e40 android 11</li>\n<li>realme C35 android 11</li>\n<li>realmec21y</li>\n<li>realme C25Y version of Android 11</li>\n<li>Samsung galaxy a03 android 13</li>\n<li>realme C25 Android 11</li>\n</ul>\n<p>CameraFragment :</p>\n<pre><code>class CameraFragment : Fragment() {\n\n    private var _binding: FragmentCameraBinding? = null\n    val binding get() = _binding!!\n\n    private lateinit var cameraService: CameraService\n    private var imageCapture: ImageCapture? = null\n    private lateinit var cameraExecutor: ExecutorService\n    private val selector = QualitySelector.from(Quality.UHD, FallbackStrategy.higherQualityOrLowerThan(Quality.SD))\n    private var videoCapture: VideoCapture&lt;Recorder&gt;? = null\n    private var videoActiveRecording: Recording? = null\n    private var picture = Picture()\n    private var videoUri: Uri? = null\n    private var cameraProvider: ProcessCameraProvider? = null\n\n    private val TAG = &quot;CameraXBasic&quot;\n    private var backCamera = true\n\n    private val delayLongClick: Long = 500\n    private var isLongClick = false\n    private var recordingInProgress = false\n\n    private lateinit var windowManager: WindowManager\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View {\n        _binding = FragmentCameraBinding.inflate(inflater, container, false)\n        return binding.root\n    }\n\n    @SuppressLint(&quot;ClickableViewAccessibility&quot;)\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        // ---- INIT ----\n        cameraExecutor = Executors.newSingleThreadExecutor()\n        windowManager = WindowManager(view.context)\n        initView()\n\n        // ---- BUTTON ----\n        binding.fragmentCameraTakePictureBtn.setOnTouchListener(\n        object : OnTouchListener {\n            private val mHandler = Handler()\n            private val mRunnable = Runnable {\n                isLongClick = true\n\n                recordingVideo()\n\n                setTimer(10000) {\n                    override fun onTick(millisUntilFinished: Long) {}\n                    override fun onFinish() {\n                        binding.fragmentCameraRecordingVideoReticule.visibility = View.GONE\n                        videoActiveRecording?.stop()\n                        recordingInProgress = false\n                    }\n                }.start()\n            }\n\n            override fun onTouch(v: View, event: MotionEvent): Boolean {\n                when (event.action) {\n                    MotionEvent.ACTION_DOWN -&gt; mHandler.postDelayed(mRunnable, delayLongClick)\n                    MotionEvent.ACTION_UP, MotionEvent.ACTION_CANCEL -&gt; {\n                        mHandler.removeCallbacks(mRunnable)\n\n                        if (!isLongClick) takePicture()\n                        isLongClick = false\n\n                        if (recordingInProgress) {\n                            videoActiveRecording?.stop()\n                            recordingInProgress = false\n                        }\n                    }\n                }\n                return true\n            }\n        })\n\n        binding.fragmentCameraChangeStateBtn.setOnClickListener {\n            backCamera = !backCamera\n            startCamera(backCamera)\n        }\n    }\n\n    // ---------------------\n    // INIT\n    // ---------------------\n\n    private fun initView() {\n        if (ContextCompat.checkSelfPermission(requireContext(), Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED &amp;&amp;\n            ContextCompat.checkSelfPermission(requireContext(), Manifest.permission.RECORD_AUDIO) == PackageManager.PERMISSION_GRANTED) {\n            setTimer(100) { startCamera(backCamera) }\n        }\n    }\n\n    // ---------------------\n    // CAMERA\n    // ---------------------\n\n    private fun startCamera(backCamera: Boolean) {\n        val cameraProviderFuture = ProcessCameraProvider.getInstance(requireContext())\n\n        cameraProviderFuture.addListener(Runnable {\n            cameraProvider = cameraProviderFuture.get()\n\n            val metrics = windowManager.getCurrentWindowMetrics().bounds\n            val screenAspectRatio = aspectRatio(metrics.width(), metrics.height())\n\n            val preview = Preview.Builder()\n                .setTargetAspectRatio(screenAspectRatio)\n                .build()\n                .also { it.setSurfaceProvider(binding.fragmentCameraPreviewView.surfaceProvider) }\n\n            imageCapture = ImageCapture.Builder()\n                .setTargetAspectRatio(screenAspectRatio)\n                .build()\n\n            val cameraSelector = if (backCamera) CameraSelector.DEFAULT_BACK_CAMERA else CameraSelector.DEFAULT_FRONT_CAMERA\n\n            try {\n                cameraProvider?.unbindAll()\n\n                val viewPort =  ViewPort.Builder(Rational(binding.fragmentCameraPreviewView.width, binding.fragmentCameraPreviewView.height), activity?.display?.rotation!!).build()\n                val useCaseGroup = UseCaseGroup.Builder()\n                    .addUseCase(preview)\n                    .setViewPort(viewPort)\n                    .addUseCase(imageCapture!!)\n                    .build()\n                cameraProvider?.bindToLifecycle(this, cameraSelector, useCaseGroup)\n            } catch(exc: Exception) {\n                Log.e(TAG, &quot;Use case binding failed&quot;, exc)\n            }\n\n            //VIDEO\n            val recorder = Recorder.Builder().setQualitySelector(selector).build()\n            videoCapture = VideoCapture.withOutput(recorder)\n\n            try {\n                // Bind use cases to camera\n                cameraProvider?.bindToLifecycle(this, if (backCamera) CameraSelector.DEFAULT_BACK_CAMERA else CameraSelector.DEFAULT_FRONT_CAMERA, preview, videoCapture)\n            } catch(exc: Exception) {\n                Log.e(TAG, &quot;Use case binding failed&quot;, exc)\n            }\n\n        }, ContextCompat.getMainExecutor(requireContext()))\n\n        binding.fragmentCameraPreviewView.afterMeasured {\n            val autoFocusPoint = SurfaceOrientedMeteringPointFactory(1f, 1f)\n                .createPoint(.5f, .5f)\n            try {\n                val autoFocusAction = FocusMeteringAction.Builder(\n                    autoFocusPoint,\n                    FocusMeteringAction.FLAG_AF\n                ).apply {\n                    //start auto-focusing after 2 seconds\n                    setAutoCancelDuration(2, TimeUnit.SECONDS)\n                }.build()\n                imageCapture?.camera?.cameraControl?.startFocusAndMetering(autoFocusAction)\n            } catch (e: CameraInfoUnavailableException) {\n                Log.d(&quot;ERROR&quot;, &quot;cannot access camera&quot;, e)\n            }\n        }\n    }\n\n    private fun takePicture() {\n        val imageCapture = imageCapture ?: return\n\n        imageCapture.takePicture(ContextCompat.getMainExecutor(requireContext()), object : ImageCapture.OnImageCapturedCallback() {\n            override fun onError(exception: ImageCaptureException) {\n                println(exception)\n            }\n\n            @SuppressLint(&quot;UnsafeOptInUsageError&quot;)\n            override fun onCaptureSuccess(image: ImageProxy) {\n                if (!backCamera) {\n                    picture.bitmap = image.image?.toBitmap()!!.rotateImage(image.imageInfo.rotationDegrees.toFloat()).crop(binding.fragmentCameraPreviewView.height, binding.fragmentCameraPreviewView.width)!!.horizontalFlip()\n                }\n                else {\n                    picture.bitmap = image.image?.toBitmap()!!.rotateImage(image.imageInfo.rotationDegrees.toFloat()).crop(binding.fragmentCameraPreviewView.height, binding.fragmentCameraPreviewView.width)!!\n                }\n                image.close()\n            }\n        })\n\n    }\n\n    private fun recordingVideo() {\n        recordingInProgress = true\n        val folder = File(requireContext().getExternalFilesDir(Environment.DIRECTORY_DCIM).toString() + File.separator + requireContext().getString(R.string.app_name))\n        if (!folder.exists()) folder.mkdir()\n\n        val outputFile = File(requireContext().getExternalFilesDir(Environment.DIRECTORY_DCIM).toString() + File.separator + requireContext().getString(R.string.app_name) + &quot;/video.mp4&quot;)\n        val fileOutputOptions = FileOutputOptions.Builder(outputFile).build()\n\n        // 2. Configure Recorder and Start recording to the mediaStoreOutput.\n        if (ActivityCompat.checkSelfPermission(requireContext(), Manifest.permission.RECORD_AUDIO) == PackageManager.PERMISSION_GRANTED) {\n            videoActiveRecording = videoCapture!!.output\n                .prepareRecording(requireContext(), fileOutputOptions)\n                .withAudioEnabled()\n                .start(ContextCompat.getMainExecutor(requireContext()), videoRecordingListener)\n        }\n    }\n\n    private val videoRecordingListener = Consumer&lt;VideoRecordEvent&gt; { event -&gt;\n        when (event) {\n            is VideoRecordEvent.Finalize -&gt; if (event.hasError()) {\n                printl(&quot;video recording error&quot;)\n            } else {\n                this.videoUri = event.outputResults.outputUri\n                val videoFile = File(requireContext().getExternalFilesDir(Environment.DIRECTORY_DCIM).toString() + File.separator + requireContext().getString(R.string.app_name) + &quot;/video.mp4&quot;)\n            }\n            is VideoRecordEvent.Pause -&gt; { }\n            is VideoRecordEvent.Status -&gt; { }\n        }\n    }\n}\n</code></pre>\n<p>By debugging on one of the telephones which does not work, I see that the take photo button works well but when he calls the &quot;imageCapture.takePicture&quot; function, nothing happens, no log either in &quot;onError&quot; nor in &quot;onCaptureSuccess&quot;. I don't know what to do, I think I have set up the camera correctly and it works perfectly on most phones..</p>\n<p>Has anyone run into the same problem? Any solutions for such devices?</p>\n"},{"tags":["java","random","gridview","colors"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1692607271,"post_id":76943570,"comment_id":135641296,"body_markdown":"Specify your Java GUI framework: Swing, JavaFX, SWT, Vaadin, etc.","body":"Specify your Java GUI framework: Swing, JavaFX, SWT, Vaadin, etc."}],"answers":[{"comments":[{"owner":{"account_id":28595330,"reputation":11,"user_id":21893624,"display_name":"user21893624"},"score":0,"creation_date":1692719190,"post_id":76953401,"comment_id":135661362,"body_markdown":"I&#39;m having the issue &quot;Cannot refer to the non-final local variable g defined in an enclosing scopeJava(536870937)&quot; because it&#39;s saying the grid is under : Graphics g - clubSimulation.ClubView.paintComponent(Graphics)","body":"I&#39;m having the issue &quot;Cannot refer to the non-final local variable g defined in an enclosing scopeJava(536870937)&quot; because it&#39;s saying the grid is under : Graphics g - clubSimulation.ClubView.paintComponent(Graphics)"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1692722678,"post_id":76953401,"comment_id":135662094,"body_markdown":"Refer [this question](https://stackoverflow.com/questions/1299837/cannot-refer-to-a-non-final-variable-inside-an-inner-class-defined-in-a-differen)","body":"Refer <a href=\"https://stackoverflow.com/questions/1299837/cannot-refer-to-a-non-final-variable-inside-an-inner-class-defined-in-a-differen\">this question</a>"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1692779247,"post_id":76953401,"comment_id":135669372,"body_markdown":"To fix this make a field `Graphics g` then set the value of `g`(field) to `paintComponent(Graphics g)` using `this.g = g`","body":"To fix this make a field <code>Graphics g</code> then set the value of <code>g</code>(field) to <code>paintComponent(Graphics g)</code> using <code>this.g = g</code>"}],"tags":[],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692707831,"creation_date":1692707831,"answer_id":76953401,"question_id":76943570,"body_markdown":"You can use [this][1] method (or if you want it done in one line [this][2] method) to generate a random color. Here is how you can use **the first method** in your case.\r\n```\r\nActionListener timerListener = new ActionListener() {\r\n\tRandom r = new Random();\r\n\tpublic void actionPerformed(ActionEvent evt) {\r\n\t\tColor c = new Color(\r\n\t\t\t\tr.nextFloat(),\r\n\t\t\t\tr.nextFloat(),\r\n\t\t\t\tr.nextFloat()\r\n\t\t\t\t);\r\n\t\tg.setColor(c);\r\n\t\tg.fillRect(wIncr * maxX / 2, 3 * hIncr, wIncr * (maxX / 2), hIncr * (maxY - 8));\r\n\t\tg.setColor(Color.black);\r\n\t}\r\n};\r\n```\r\nAnd here is **the second method**\r\n```\r\nActionListener timerListener = new ActionListener() {\r\n\tRandom r = new Random();\r\n\tpublic void actionPerformed(ActionEvent evt) {\r\n\t\tg.setColor(new Color((int)(Math.random() * 0x1000000)));\r\n\t\tg.fillRect(wIncr * maxX / 2, 3 * hIncr, wIncr * (maxX / 2), hIncr * (maxY - 8));\r\n\t\tg.setColor(Color.black);\r\n\t}\r\n};\r\n```\r\n\r\n  [1]: https://stackoverflow.com/a/4246418/21252090\r\n  [2]: https://stackoverflow.com/a/20032024/21252090","title":"I&#39;m trying to change the color of some of the blocks in my grid every 2 seconds","body":"<p>You can use <a href=\"https://stackoverflow.com/a/4246418/21252090\">this</a> method (or if you want it done in one line <a href=\"https://stackoverflow.com/a/20032024/21252090\">this</a> method) to generate a random color. Here is how you can use <strong>the first method</strong> in your case.</p>\n<pre><code>ActionListener timerListener = new ActionListener() {\n    Random r = new Random();\n    public void actionPerformed(ActionEvent evt) {\n        Color c = new Color(\n                r.nextFloat(),\n                r.nextFloat(),\n                r.nextFloat()\n                );\n        g.setColor(c);\n        g.fillRect(wIncr * maxX / 2, 3 * hIncr, wIncr * (maxX / 2), hIncr * (maxY - 8));\n        g.setColor(Color.black);\n    }\n};\n</code></pre>\n<p>And here is <strong>the second method</strong></p>\n<pre><code>ActionListener timerListener = new ActionListener() {\n    Random r = new Random();\n    public void actionPerformed(ActionEvent evt) {\n        g.setColor(new Color((int)(Math.random() * 0x1000000)));\n        g.fillRect(wIncr * maxX / 2, 3 * hIncr, wIncr * (maxX / 2), hIncr * (maxY - 8));\n        g.setColor(Color.black);\n    }\n};\n</code></pre>\n"}],"owner":{"account_id":28595330,"reputation":11,"user_id":21893624,"display_name":"user21893624"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692707831,"creation_date":1692606403,"question_id":76943570,"body_markdown":"I&#39;m trying to change the color of some of the blocks in my grid every 2 seconds. So far, the blocks are just a set color (yellow), but I need them to automatically and randomly change color repetitively. This is the code so far; `g` is the grid.\r\n\r\n```java\r\ng.setColor(Color.yellow);\r\ng.fillRect(wIncr * maxX / 2, 3 * hIncr, wIncr * (maxX / 2), hIncr * (maxY - 8));\r\ng.setColor(Color.black);\r\n```\r\n\r\nI tried using a random generator:\r\n\r\n```java\r\nprivate static final int MIN_STATE_COLOR = STATE_RED;\r\nprivate static final int MAX_STATE_COLOR = STATE_YELLOW;\r\n\r\nint random = new Random().nextInt(MAX_STATE_COLOR - MIN_STATE_COLOR + 1) + MIN_STATE_COLOR;\r\n\r\ng.setColor(Color.random);\r\ng.fillRect(wIncr * maxX / 2, 3 * hIncr, wIncr * (maxX / 2), hIncr * (maxY - 8));\r\ng.setColor(Color.black);\r\n```\r\nAnd that gave me an error with MIN_STATE_COLOR and MAX_STATE_COLOR.\r\n\r\nI then also tried creating a timer:\r\n\r\n```java\r\nActionListener timerListener = new ActionListener() {\r\n  public void actionPerformed(ActionEvent evt) {\r\n    g.setColor(Color.red);  // I don&#39;t know how to make it random\r\n    g.fillRect(wIncr * maxX / 2, 3 * hIncr, wIncr * (maxX / 2), hIncr * (maxY - 8));\r\n    g.setColor(Color.black);\r\n  }\r\n};\r\nint timerDelay = 3 * 1000;\r\nTimer timer = new Timer(timerDelay, timerListener);\r\n```\r\nBut this also gave me an error.","title":"I&#39;m trying to change the color of some of the blocks in my grid every 2 seconds","body":"<p>I'm trying to change the color of some of the blocks in my grid every 2 seconds. So far, the blocks are just a set color (yellow), but I need them to automatically and randomly change color repetitively. This is the code so far; <code>g</code> is the grid.</p>\n<pre class=\"lang-java prettyprint-override\"><code>g.setColor(Color.yellow);\ng.fillRect(wIncr * maxX / 2, 3 * hIncr, wIncr * (maxX / 2), hIncr * (maxY - 8));\ng.setColor(Color.black);\n</code></pre>\n<p>I tried using a random generator:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final int MIN_STATE_COLOR = STATE_RED;\nprivate static final int MAX_STATE_COLOR = STATE_YELLOW;\n\nint random = new Random().nextInt(MAX_STATE_COLOR - MIN_STATE_COLOR + 1) + MIN_STATE_COLOR;\n\ng.setColor(Color.random);\ng.fillRect(wIncr * maxX / 2, 3 * hIncr, wIncr * (maxX / 2), hIncr * (maxY - 8));\ng.setColor(Color.black);\n</code></pre>\n<p>And that gave me an error with MIN_STATE_COLOR and MAX_STATE_COLOR.</p>\n<p>I then also tried creating a timer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ActionListener timerListener = new ActionListener() {\n  public void actionPerformed(ActionEvent evt) {\n    g.setColor(Color.red);  // I don't know how to make it random\n    g.fillRect(wIncr * maxX / 2, 3 * hIncr, wIncr * (maxX / 2), hIncr * (maxY - 8));\n    g.setColor(Color.black);\n  }\n};\nint timerDelay = 3 * 1000;\nTimer timer = new Timer(timerDelay, timerListener);\n</code></pre>\n<p>But this also gave me an error.</p>\n"},{"tags":["java","selenium-webdriver","intellij-idea"],"owner":{"account_id":1416016,"reputation":158,"user_id":7101236,"display_name":"kakemonsteret"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692707792,"creation_date":1692707792,"question_id":76953396,"body_markdown":"I&#39;ve been trying to use this tutorial: https://www.baeldung.com/java-selenium-with-junit-and-testng\r\n\r\nHowever, I&#39;m completely unable to use DesiredCapabilities, no matter what Selenium libraries I import.\r\n\r\nThe code example:\r\n\r\n    public SeleniumConfig() {\r\n        Capabilities capabilities = DesiredCapabilities.firefox();\r\n        driver = new FirefoxDriver(capabilities);\r\n        driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\r\n    }\r\n\r\nWhen I try adding the .firexfox() (org .chrome()), I get the error:\r\n\r\n     Cannot resolve method &#39;chrome&#39; in &#39;DesiredCapabilities&#39;\r\n\r\nI&#39;ve added every Selenium library immaginable, as per other answers to similar questions here and other places, but nothing seems to do the trick.\r\n\r\nWhen I start typing &quot;DesiredCapabilities.&quot;, the only options I get are &quot;class&quot; and &quot;new&quot;. ","title":"Selenium and Java: Unable to use DesiredCapabilities.x()","body":"<p>I've been trying to use this tutorial: <a href=\"https://www.baeldung.com/java-selenium-with-junit-and-testng\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-selenium-with-junit-and-testng</a></p>\n<p>However, I'm completely unable to use DesiredCapabilities, no matter what Selenium libraries I import.</p>\n<p>The code example:</p>\n<pre><code>public SeleniumConfig() {\n    Capabilities capabilities = DesiredCapabilities.firefox();\n    driver = new FirefoxDriver(capabilities);\n    driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\n}\n</code></pre>\n<p>When I try adding the .firexfox() (org .chrome()), I get the error:</p>\n<pre><code> Cannot resolve method 'chrome' in 'DesiredCapabilities'\n</code></pre>\n<p>I've added every Selenium library immaginable, as per other answers to similar questions here and other places, but nothing seems to do the trick.</p>\n<p>When I start typing &quot;DesiredCapabilities.&quot;, the only options I get are &quot;class&quot; and &quot;new&quot;.</p>\n"},{"tags":["java","spring-boot","azure","azure-eventhub"],"comments":[{"owner":{"account_id":53380,"reputation":6491,"user_id":159548,"display_name":"Jesse Squire"},"score":0,"creation_date":1692709772,"post_id":76953001,"comment_id":135658924,"body_markdown":"I cannot assist with Spring, but a timeout when trying to open an Event Hubs connection typically means that the AMQP ports (5671, 5672) are restricted/blocked by the network.  Using AMQP via websockets typically works around this.  The following example shows doing so when creating a client.  I have no idea how to do so with Spring.  https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/eventhubs/azure-messaging-eventhubs/src/samples/java/com/azure/messaging/eventhubs/PublishEventsWithWebSocketsAndProxy.java#L53C9-L58C36","body":"I cannot assist with Spring, but a timeout when trying to open an Event Hubs connection typically means that the AMQP ports (5671, 5672) are restricted/blocked by the network.  Using AMQP via websockets typically works around this.  The following example shows doing so when creating a client.  I have no idea how to do so with Spring.  <a href=\"https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/eventhubs/azure-messaging-eventhubs/src/samples/java/com/azure/messaging/eventhubs/PublishEventsWithWebSocketsAndProxy.java#L53C9-L58C36\" rel=\"nofollow noreferrer\">github.com/Azure/azure-sdk-for-java/blob/main/sdk/eventhubs/&zwnj;&#8203;&hellip;</a>"}],"owner":{"account_id":6756536,"reputation":9,"user_id":5204735,"display_name":"Prem Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692707567,"creation_date":1692704953,"question_id":76953001,"body_markdown":"Getting below exception while connecting eventhub in spring boot application.\r\n\r\n```\r\n@SpringBootApplication\r\npublic class VALogAnalyticsApplication implements CommandLineRunner {\r\n\r\nprivate static final Sinks.Many&lt;Message&lt;String&gt;&gt; many = Sinks.many().unicast().onBackpressureBuffer();\r\n\r\npublic static void main(String[] args) {\r\n    SpringApplication.run(VALogAnalyticsApplication.class, args);\r\n}\r\n\r\n  @Override\r\n  public void run(String... args) {\r\n    log.info(&quot;Going to add message {} to sendMessage.&quot; + &quot;Hello World&quot;);\r\n    many.emitNext(MessageBuilder.withPayload(&quot;Hello World&quot;).build(),  Sinks.EmitFailureHandler.FAIL_FAST);\r\n  }\r\n\r\n  @Bean\r\n  public Consumer&lt;Message&lt;String&gt;&gt; consume() {\r\n    return message-&gt;{\r\n        Checkpointer checkpointer = (Checkpointer) message.getHeaders().get(CHECKPOINTER);\r\n        log.info(&quot;New message received: &#39;{}&#39;, partition key: {}, sequence number: {}, offset: {}, enqueued &quot;\r\n                        +&quot;time: {}&quot;,\r\n                message.getPayload(),\r\n                message.getHeaders().get(EventHubsHeaders.PARTITION_KEY),\r\n                message.getHeaders().get(EventHubsHeaders.SEQUENCE_NUMBER),\r\n                message.getHeaders().get(EventHubsHeaders.OFFSET),\r\n                message.getHeaders().get(EventHubsHeaders.ENQUEUED_TIME)\r\n          );\r\n          checkpointer.success()\r\n                .doOnSuccess(success-&gt;log.info(&quot;Message &#39;{}&#39; successfully checkpointed&quot;,\r\n                        message.getPayload()))\r\n                .doOnError(error-&gt;log.error(&quot;Exception found&quot;, error))\r\n                .block();\r\n        };\r\n    }\r\n  }\r\n```\r\n\r\napplication.properties\r\n\r\n```\r\nspring.cloud.azure.eventhubs.namespace=&lt;eventHubNameSpace&gt;\r\nspring.cloud.azure.eventhubs.connection-string=Endpoint=sb://test.servicebus.windows.net /;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=adfsad\r\nspring.cloud.azure.eventhubs.processor.checkpoint-store.account-name=&lt;storagAaccountName&gt;\r\nspring.cloud.azure.eventhubs.processor.checkpoint-store.account-key=&lt;storageAccessKey&gt;\r\nspring.cloud.azure.eventhubs.processor.checkpoint-store.container-name=&lt;containerName&gt;\r\nspring.cloud.stream.bindings.consume-in-0.destination=&lt;eventHubName&gt;\r\nspring.cloud.stream.bindings.consume-in-0.group=&lt;consumerGroup&gt;\r\nspring.cloud.stream.bindings.supply-out-0.destination=&lt;eventHubName&gt;\r\nspring.cloud.stream.eventhubs.bindings.consume-in-0.consumer.checkpoint.mode=MANUAL\r\nspring.cloud.function.definition=consume;supply;\r\nspring.cloud.stream.poller.initial-delay=0\r\nspring.cloud.stream.poller.fixed-delay=1000\r\n```\r\n\r\n\r\nErrorLogs:\r\n==========\r\n```\r\n2023-08-22 16:51:20.586  INFO 26256 --- [ctor-executor-1] c.a.c.a.i.ReactorDispatcher              : {&quot;az.sdk.message&quot;:&quot;Reactor selectable is being disposed.&quot;,&quot;connectionId&quot;:&quot;MF_89ee14_1692703254531&quot;}\r\n2023-08-22 16:51:20.587  INFO 26256 --- [ctor-executor-1] c.a.c.a.i.ReactorConnection              : {&quot;az.sdk.message&quot;:&quot;onConnectionShutdown. Shutting down.&quot;,&quot;connectionId&quot;:&quot;MF_89ee14_1692703254531&quot;,&quot;isTransient&quot;:false,&quot;isInitiatedByClient&quot;:false,&quot;shutdownMessage&quot;:&quot;connectionId[MF_89ee14_1692703254531] Reactor selectable is disposed.&quot;,&quot;namespace&quot;:&quot;test.servicebus.windows.net&quot;}\r\n2023-08-22 16:51:20.639 ERROR 26256 --- [ctor-executor-1] reactor.core.publisher.Operators         : Operator called default onErrorDropped\r\n\r\nreactor.core.Exceptions$ErrorCallbackNotImplemented: com.azure.core.amqp.exception.AmqpException: Connection timed out: no further information, errorContext[NAMESPACE: test.servicebus.windows.net. ERROR CONTEXT: N/A]\r\nCaused by: com.azure.core.amqp.exception.AmqpException: Connection timed out: no further information, errorContext[NAMESPACE: test.servicebus.windows.net. ERROR CONTEXT: N/A]\r\n\tat com.azure.core.amqp.implementation.ExceptionUtil.toException(ExceptionUtil.java:85) ~[azure-core-amqp-2.8.7.jar:2.8.7]\r\n\tat com.azure.core.amqp.implementation.handler.ConnectionHandler.notifyErrorContext(ConnectionHandler.java:351) ~[azure-core-amqp-2.8.7.jar:2.8.7]\r\n\tat com.azure.core.amqp.implementation.handler.ConnectionHandler.onTransportError(ConnectionHandler.java:253) ~[azure-core-amqp-2.8.7.jar:2.8.7]\r\n\tat org.apache.qpid.proton.engine.BaseHandler.handle(BaseHandler.java:191) ~[proton-j-0.33.8.jar:na]\r\n\tat org.apache.qpid.proton.engine.impl.EventImpl.dispatch(EventImpl.java:108) ~[proton-j-0.33.8.jar:na]\r\n\tat org.apache.qpid.proton.reactor.impl.ReactorImpl.dispatch(ReactorImpl.java:324) ~[proton-j-0.33.8.jar:na]\r\n\tat org.apache.qpid.proton.reactor.impl.ReactorImpl.process(ReactorImpl.java:291) ~[proton-j-0.33.8.jar:na]\r\n\tat com.azure.core.amqp.implementation.ReactorExecutor.run(ReactorExecutor.java:91) ~[azure-core-amqp-2.8.7.jar:2.8.7]\r\n\tat reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68) ~[reactor-core-3.4.6.jar:3.4.6]\r\n\tat reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28) ~[reactor-core-3.4.6.jar:3.4.6]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\nCaused by: com.azure.core.amqp.exception.AmqpException: Connection timed out: no further information, errorContext[NAMESPACE: test.servicebus.windows.net. ERROR CONTEXT: N/A]\r\n```\r\n\r\nPlease correct me if i am doing anything wrong","title":"Not able to receive messages from azure event hubs","body":"<p>Getting below exception while connecting eventhub in spring boot application.</p>\n<pre><code>@SpringBootApplication\npublic class VALogAnalyticsApplication implements CommandLineRunner {\n\nprivate static final Sinks.Many&lt;Message&lt;String&gt;&gt; many = Sinks.many().unicast().onBackpressureBuffer();\n\npublic static void main(String[] args) {\n    SpringApplication.run(VALogAnalyticsApplication.class, args);\n}\n\n  @Override\n  public void run(String... args) {\n    log.info(&quot;Going to add message {} to sendMessage.&quot; + &quot;Hello World&quot;);\n    many.emitNext(MessageBuilder.withPayload(&quot;Hello World&quot;).build(),  Sinks.EmitFailureHandler.FAIL_FAST);\n  }\n\n  @Bean\n  public Consumer&lt;Message&lt;String&gt;&gt; consume() {\n    return message-&gt;{\n        Checkpointer checkpointer = (Checkpointer) message.getHeaders().get(CHECKPOINTER);\n        log.info(&quot;New message received: '{}', partition key: {}, sequence number: {}, offset: {}, enqueued &quot;\n                        +&quot;time: {}&quot;,\n                message.getPayload(),\n                message.getHeaders().get(EventHubsHeaders.PARTITION_KEY),\n                message.getHeaders().get(EventHubsHeaders.SEQUENCE_NUMBER),\n                message.getHeaders().get(EventHubsHeaders.OFFSET),\n                message.getHeaders().get(EventHubsHeaders.ENQUEUED_TIME)\n          );\n          checkpointer.success()\n                .doOnSuccess(success-&gt;log.info(&quot;Message '{}' successfully checkpointed&quot;,\n                        message.getPayload()))\n                .doOnError(error-&gt;log.error(&quot;Exception found&quot;, error))\n                .block();\n        };\n    }\n  }\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.cloud.azure.eventhubs.namespace=&lt;eventHubNameSpace&gt;\nspring.cloud.azure.eventhubs.connection-string=Endpoint=sb://test.servicebus.windows.net /;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=adfsad\nspring.cloud.azure.eventhubs.processor.checkpoint-store.account-name=&lt;storagAaccountName&gt;\nspring.cloud.azure.eventhubs.processor.checkpoint-store.account-key=&lt;storageAccessKey&gt;\nspring.cloud.azure.eventhubs.processor.checkpoint-store.container-name=&lt;containerName&gt;\nspring.cloud.stream.bindings.consume-in-0.destination=&lt;eventHubName&gt;\nspring.cloud.stream.bindings.consume-in-0.group=&lt;consumerGroup&gt;\nspring.cloud.stream.bindings.supply-out-0.destination=&lt;eventHubName&gt;\nspring.cloud.stream.eventhubs.bindings.consume-in-0.consumer.checkpoint.mode=MANUAL\nspring.cloud.function.definition=consume;supply;\nspring.cloud.stream.poller.initial-delay=0\nspring.cloud.stream.poller.fixed-delay=1000\n</code></pre>\n<h1>ErrorLogs:</h1>\n<pre><code>2023-08-22 16:51:20.586  INFO 26256 --- [ctor-executor-1] c.a.c.a.i.ReactorDispatcher              : {&quot;az.sdk.message&quot;:&quot;Reactor selectable is being disposed.&quot;,&quot;connectionId&quot;:&quot;MF_89ee14_1692703254531&quot;}\n2023-08-22 16:51:20.587  INFO 26256 --- [ctor-executor-1] c.a.c.a.i.ReactorConnection              : {&quot;az.sdk.message&quot;:&quot;onConnectionShutdown. Shutting down.&quot;,&quot;connectionId&quot;:&quot;MF_89ee14_1692703254531&quot;,&quot;isTransient&quot;:false,&quot;isInitiatedByClient&quot;:false,&quot;shutdownMessage&quot;:&quot;connectionId[MF_89ee14_1692703254531] Reactor selectable is disposed.&quot;,&quot;namespace&quot;:&quot;test.servicebus.windows.net&quot;}\n2023-08-22 16:51:20.639 ERROR 26256 --- [ctor-executor-1] reactor.core.publisher.Operators         : Operator called default onErrorDropped\n\nreactor.core.Exceptions$ErrorCallbackNotImplemented: com.azure.core.amqp.exception.AmqpException: Connection timed out: no further information, errorContext[NAMESPACE: test.servicebus.windows.net. ERROR CONTEXT: N/A]\nCaused by: com.azure.core.amqp.exception.AmqpException: Connection timed out: no further information, errorContext[NAMESPACE: test.servicebus.windows.net. ERROR CONTEXT: N/A]\n    at com.azure.core.amqp.implementation.ExceptionUtil.toException(ExceptionUtil.java:85) ~[azure-core-amqp-2.8.7.jar:2.8.7]\n    at com.azure.core.amqp.implementation.handler.ConnectionHandler.notifyErrorContext(ConnectionHandler.java:351) ~[azure-core-amqp-2.8.7.jar:2.8.7]\n    at com.azure.core.amqp.implementation.handler.ConnectionHandler.onTransportError(ConnectionHandler.java:253) ~[azure-core-amqp-2.8.7.jar:2.8.7]\n    at org.apache.qpid.proton.engine.BaseHandler.handle(BaseHandler.java:191) ~[proton-j-0.33.8.jar:na]\n    at org.apache.qpid.proton.engine.impl.EventImpl.dispatch(EventImpl.java:108) ~[proton-j-0.33.8.jar:na]\n    at org.apache.qpid.proton.reactor.impl.ReactorImpl.dispatch(ReactorImpl.java:324) ~[proton-j-0.33.8.jar:na]\n    at org.apache.qpid.proton.reactor.impl.ReactorImpl.process(ReactorImpl.java:291) ~[proton-j-0.33.8.jar:na]\n    at com.azure.core.amqp.implementation.ReactorExecutor.run(ReactorExecutor.java:91) ~[azure-core-amqp-2.8.7.jar:2.8.7]\n    at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68) ~[reactor-core-3.4.6.jar:3.4.6]\n    at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28) ~[reactor-core-3.4.6.jar:3.4.6]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\nCaused by: com.azure.core.amqp.exception.AmqpException: Connection timed out: no further information, errorContext[NAMESPACE: test.servicebus.windows.net. ERROR CONTEXT: N/A]\n</code></pre>\n<p>Please correct me if i am doing anything wrong</p>\n"},{"tags":["java","tomcat","jvm-hotspot"],"comments":[{"owner":{"account_id":9827,"reputation":6784,"user_id":2049208,"display_name":"Kire Haglin"},"score":0,"creation_date":1692732598,"post_id":76953277,"comment_id":135664124,"body_markdown":"Upgrading to JDK 9 might not be an alternative, but you should be able to upgrade to a more recent JDK 8 release. It should be compatible with JDK 8u181","body":"Upgrading to JDK 9 might not be an alternative, but you should be able to upgrade to a more recent JDK 8 release. It should be compatible with JDK 8u181"},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1692740148,"post_id":76953277,"comment_id":135665222,"body_markdown":"There are two obvious issues visible in crash dumps: 1) too old JDK version; 2) `-Xverify:none` JVM option, which essentially makes Java Runtime unprotected from invalid bytecode and may cause unpredictable behavior including [JVM crashes](https://stackoverflow.com/questions/40321205/jvm-crash-problematic-frame-canonicalizerdo-if).","body":"There are two obvious issues visible in crash dumps: 1) too old JDK version; 2) <code>-Xverify:none</code> JVM option, which essentially makes Java Runtime unprotected from invalid bytecode and may cause unpredictable behavior including <a href=\"https://stackoverflow.com/questions/40321205/jvm-crash-problematic-frame-canonicalizerdo-if\">JVM crashes</a>."},{"owner":{"account_id":29275065,"reputation":11,"user_id":22428983,"display_name":"Babar Ali"},"score":0,"creation_date":1692785440,"post_id":76953277,"comment_id":135670582,"body_markdown":"I analyzed the hotspot file, looks like when garbage collection running the JVM is crashing. Added GC1 variables to java options lets monitor and i will update.","body":"I analyzed the hotspot file, looks like when garbage collection running the JVM is crashing. Added GC1 variables to java options lets monitor and i will update."}],"owner":{"account_id":29275065,"reputation":11,"user_id":22428983,"display_name":"Babar Ali"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1692707326,"creation_date":1692706950,"question_id":76953277,"body_markdown":"Tomcat is crashing unexpectedly randomly with hs_err file generated.\r\n\r\n    A fatal error has been detected by the Java Runtime Environment:\r\n    \r\n    Internal Error (safepoint.cpp:687), pid=14568, tid=0x0000000000002edc\r\n    fatal error: Deadlock in safepoint code.  Should have called back to the VM before blocking.\r\n    \r\n    JRE version: Java(TM) SE Runtime Environment (8.0_181-b13) (build 1.8.0_181-b13)\r\n    Java VM: Java HotSpot(TM) 64-Bit Server VM (25.181-b13 mixed mode windows-amd64 compressed oops)\r\n    Failed to write core dump. Minidump has been disabled from the command line\r\n \r\nA week ago we were getting Invalid Cert Authority Warning on chrome, so the devOps team updated some \r\nports and SSL configurations in server.xml including:\r\n\r\n- &lt;Server port=&quot;8005&quot; shutdown=&quot;SHUTDOWN&quot;&gt; --&gt; changed to shutdown=&quot;SECURITY&quot;\r\n&lt;Connector port=&quot;80&quot; protocol=&quot;HTTP/1.1&quot; --&gt;   redirectPort=&quot;443&quot; changed to 8443\r\n- &lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; --&gt;   redirectPort=&quot;443&quot; changed to 8443\r\n- &lt;Connector port=&quot;443&quot; protocol=&quot;HTTP/1.1&quot; --&gt; Port changed from 443 to 8443 and Keystore file also updated.\r\n- Connector protocol=&quot;AJP/1.3&quot; --&gt; Port changed from 8009 to 8004\r\n\r\nI am not sure which thread is causing the deadlock and why.\r\n\r\nI am attaching two hs_err files the crash is internal with different stacktrace.\r\nhttps://drive.google.com/drive/folders/1ieJ6wZKIOVPe-RJexvUNSZUDQ4Us6wzf?usp=sharing\r\n\r\n\r\nI searched on internet and some suggestions are to update the JDK, I can not update the JDK as our application is old and would start causing compatibility issues.\r\n\r\nThe code i found from where the error is generating in openJDK\r\nhttps://alvinalexander.com/java/jwarehouse/openjdk-8/hotspot/src/share/vm/runtime/safepoint.cpp.shtml","title":"JVM Crashed with Internal Error safepoint.cpp:687 Deadlock in safepoint code. Should have called back to the VM before blocking","body":"<p>Tomcat is crashing unexpectedly randomly with hs_err file generated.</p>\n<pre><code>A fatal error has been detected by the Java Runtime Environment:\n\nInternal Error (safepoint.cpp:687), pid=14568, tid=0x0000000000002edc\nfatal error: Deadlock in safepoint code.  Should have called back to the VM before blocking.\n\nJRE version: Java(TM) SE Runtime Environment (8.0_181-b13) (build 1.8.0_181-b13)\nJava VM: Java HotSpot(TM) 64-Bit Server VM (25.181-b13 mixed mode windows-amd64 compressed oops)\nFailed to write core dump. Minidump has been disabled from the command line\n</code></pre>\n<p>A week ago we were getting Invalid Cert Authority Warning on chrome, so the devOps team updated some\nports and SSL configurations in server.xml including:</p>\n<ul>\n<li> --&gt; changed to shutdown=&quot;SECURITY&quot;\n&lt;Connector port=&quot;80&quot; protocol=&quot;HTTP/1.1&quot; --&gt;   redirectPort=&quot;443&quot; changed to 8443</li>\n<li>&lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; --&gt;   redirectPort=&quot;443&quot; changed to 8443</li>\n<li>&lt;Connector port=&quot;443&quot; protocol=&quot;HTTP/1.1&quot; --&gt; Port changed from 443 to 8443 and Keystore file also updated.</li>\n<li>Connector protocol=&quot;AJP/1.3&quot; --&gt; Port changed from 8009 to 8004</li>\n</ul>\n<p>I am not sure which thread is causing the deadlock and why.</p>\n<p>I am attaching two hs_err files the crash is internal with different stacktrace.\n<a href=\"https://drive.google.com/drive/folders/1ieJ6wZKIOVPe-RJexvUNSZUDQ4Us6wzf?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/drive/folders/1ieJ6wZKIOVPe-RJexvUNSZUDQ4Us6wzf?usp=sharing</a></p>\n<p>I searched on internet and some suggestions are to update the JDK, I can not update the JDK as our application is old and would start causing compatibility issues.</p>\n<p>The code i found from where the error is generating in openJDK\n<a href=\"https://alvinalexander.com/java/jwarehouse/openjdk-8/hotspot/src/share/vm/runtime/safepoint.cpp.shtml\" rel=\"nofollow noreferrer\">https://alvinalexander.com/java/jwarehouse/openjdk-8/hotspot/src/share/vm/runtime/safepoint.cpp.shtml</a></p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1683649378,"post_id":76210847,"comment_id":134397674,"body_markdown":"From the example, `probabilities` is not sorted, so that do/while appears to have a bug.  [This](https://www.baeldung.com/java-stream-indices) could be used as a starting point to use only streams (add a filter), but unless this is an academic exercise a basic loop would probably be easier to read.","body":"From the example, <code>probabilities</code> is not sorted, so that do/while appears to have a bug.  <a href=\"https://www.baeldung.com/java-stream-indices\" rel=\"nofollow noreferrer\">This</a> could be used as a starting point to use only streams (add a filter), but unless this is an academic exercise a basic loop would probably be easier to read."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1683705469,"post_id":76210847,"comment_id":134405847,"body_markdown":"The loop does already break when the winner is known. And the code is already using the Stream API. So all your formal requirements are fulfilled. But a more efficient solution would be `int winner = -1; for(double probability = 0; winner &lt; probabilities.length &amp;&amp; probability &lt; randomValue; probability += probabilities[++winner]) {}`","body":"The loop does already break when the winner is known. And the code is already using the Stream API. So all your formal requirements are fulfilled. But a more efficient solution would be <code>int winner = -1; for(double probability = 0; winner &lt; probabilities.length &amp;&amp; probability &lt; randomValue; probability += probabilities[++winner]) {}</code>"},{"owner":{"account_id":25967195,"reputation":53,"user_id":19682984,"display_name":"siggi"},"score":0,"creation_date":1683711567,"post_id":76210847,"comment_id":134407231,"body_markdown":"I was aiming for something like reduce, but with a break condition. I tried `takeWhile`, but everything I came up with was ugly or overly complicated. I often find streams more concise (yes, sometimes sacrificing readability). I can live with the loop.","body":"I was aiming for something like reduce, but with a break condition. I tried <code>takeWhile</code>, but everything I came up with was ugly or overly complicated. I often find streams more concise (yes, sometimes sacrificing readability). I can live with the loop."}],"answers":[{"comments":[{"owner":{"account_id":25967195,"reputation":53,"user_id":19682984,"display_name":"siggi"},"score":1,"creation_date":1692704438,"post_id":76935393,"comment_id":135657550,"body_markdown":"short and simple. thanks","body":"short and simple. thanks"}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692705525,"creation_date":1692452410,"answer_id":76935393,"question_id":76210847,"body_markdown":"Streams are not always the best answer but if your probability array contains increasing sums you can do it like this.\r\n```\r\ndouble probabilities[] = {.2, .95, 1.0}; // increasing\r\ndouble winningProb = Arrays.stream(probabilities)\r\n    .filter(p -&gt; p &gt;= randomValue).findFirst().getAsDouble();\r\n \r\nSystem.out.println(winningProb); // answer matches your other method. \r\n```\r\nYou can also convert probability array to increasing sums as follows:\r\n```\r\nSystem.out.println(&quot;Before: &quot; + Arrays.toString(probabilities));\r\nArrays.parallelPrefix(probabilities, (a,b)-&gt;a + b);       \r\nSystem.out.println(&quot;After:  &quot; + Arrays.toString(probabilities));\r\n```\r\nprints\r\n```\r\nBefore: [0.2, 0.75, 0.05]\r\nAfter:  [0.2, 0.95, 1.0]\r\n","title":"Determine a winner based on a single random value and an array of probabilities using java streams","body":"<p>Streams are not always the best answer but if your probability array contains increasing sums you can do it like this.</p>\n<pre><code>double probabilities[] = {.2, .95, 1.0}; // increasing\ndouble winningProb = Arrays.stream(probabilities)\n    .filter(p -&gt; p &gt;= randomValue).findFirst().getAsDouble();\n \nSystem.out.println(winningProb); // answer matches your other method. \n</code></pre>\n<p>You can also convert probability array to increasing sums as follows:</p>\n<pre><code>System.out.println(&quot;Before: &quot; + Arrays.toString(probabilities));\nArrays.parallelPrefix(probabilities, (a,b)-&gt;a + b);       \nSystem.out.println(&quot;After:  &quot; + Arrays.toString(probabilities));\n</code></pre>\n<p>prints</p>\n<pre><code>Before: [0.2, 0.75, 0.05]\nAfter:  [0.2, 0.95, 1.0]\n</code></pre>\n"}],"owner":{"account_id":25967195,"reputation":53,"user_id":19682984,"display_name":"siggi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76935393,"answer_count":1,"score":0,"last_activity_date":1692706510,"creation_date":1683645141,"question_id":76210847,"body_markdown":"I have an array of probability values that add up to `1.0`. I want to determine one winner element based on a random number between 0 and 1:\r\n\r\n    double probabilities[] = {.2, .75, .05};\r\n\r\n    double randomValue = new Random().nextDouble();\r\n    int winner = -1;\r\n    Iterator&lt;Double&gt; iterator = Arrays.stream(probabilities).iterator();\r\n    double probability = 0;\r\n    do {\r\n        winner++;\r\n        probability += iterator.next();\r\n    } while (probability &lt; randomValue);\r\n\r\nI do want to break when the winner is known. How would I do this using streams?","title":"Determine a winner based on a single random value and an array of probabilities using java streams","body":"<p>I have an array of probability values that add up to <code>1.0</code>. I want to determine one winner element based on a random number between 0 and 1:</p>\n<pre><code>double probabilities[] = {.2, .75, .05};\n\ndouble randomValue = new Random().nextDouble();\nint winner = -1;\nIterator&lt;Double&gt; iterator = Arrays.stream(probabilities).iterator();\ndouble probability = 0;\ndo {\n    winner++;\n    probability += iterator.next();\n} while (probability &lt; randomValue);\n</code></pre>\n<p>I do want to break when the winner is known. How would I do this using streams?</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1692705652,"post_id":76952994,"comment_id":135657835,"body_markdown":"Have a look at this blog article: [Spring Security without the WebSecurityConfigurerAdapter](https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter)","body":"Have a look at this blog article: <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">Spring Security without the WebSecurityConfigurerAdapter</a>"}],"answers":[{"tags":[],"owner":{"account_id":13010918,"reputation":462,"user_id":11532975,"display_name":"Adrian Lagartera"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692706150,"creation_date":1692706150,"answer_id":76953162,"question_id":76952994,"body_markdown":"Just change from \r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n// What else... \r\n}\r\n\r\n```\r\nto \r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class WebSecurityConfig implements WebMvcConfigurer {\r\n\r\n```\r\n\r\nSame problem happens to me a few months ago, I didnt remember exactly where found this solution. I just paste the solution I did in my project.","title":"Migration to a new version of Spring","body":"<p>Just change from</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n// What else... \n}\n\n</code></pre>\n<p>to</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig implements WebMvcConfigurer {\n\n</code></pre>\n<p>Same problem happens to me a few months ago, I didnt remember exactly where found this solution. I just paste the solution I did in my project.</p>\n"}],"owner":{"account_id":23828419,"reputation":85,"user_id":20534244,"display_name":"Artem Dubenko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76953162,"answer_count":1,"score":2,"last_activity_date":1692706150,"creation_date":1692704851,"question_id":76952994,"body_markdown":"I&#39;m having a problem with upgrading to a new version of Spring.\r\nI have a configuration class WebSecurityConfig.\r\nI used to inherit it from WebSecurityConfigurerAdapter, but in new versions of Spring they removed it. Can you please tell me how I can rewrite this class for the new version of Spring?\r\nI want to rewrite this for Spring version 3.1.2\r\n\r\n    package ua.com.alevel.config.security;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        private final UserDetailsService userDetailsService;\r\n    \r\n        @Autowired\r\n        public WebSecurityConfig(@Qualifier(&quot;userDetailsServiceImpl&quot;) UserDetailsService userDetailsService) {\r\n            this.userDetailsService = userDetailsService;\r\n        }\r\n    \r\n        @Bean\r\n        public BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .csrf().disable()\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/**&quot;).permitAll()\r\n                    .antMatchers(&quot;/api/v1/user/getActualUser&quot;).permitAll()\r\n                    .anyRequest()\r\n                    .authenticated()\r\n                    .and()\r\n                    .formLogin()\r\n                    .loginPage(&quot;/user/loginUser&quot;).permitAll()\r\n                    .defaultSuccessUrl(&quot;/&quot;)\r\n                    .and()\r\n                    .logout()\r\n                    .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/user/logoutUser&quot;, &quot;POST&quot;))\r\n                    .invalidateHttpSession(true)\r\n                    .clearAuthentication(false)\r\n                    .deleteCookies(&quot;JSESSIONID&quot;)\r\n                    .logoutSuccessUrl(&quot;/user/loginUser&quot;);\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) {\r\n            auth.authenticationProvider(daoAuthenticationProvider());\r\n        }\r\n    \r\n        @Bean\r\n        protected PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder(12);\r\n        }\r\n    \r\n        @Bean\r\n        protected DaoAuthenticationProvider daoAuthenticationProvider() {\r\n            DaoAuthenticationProvider daoAuthenticationProvider = new DaoAuthenticationProvider();\r\n            daoAuthenticationProvider.setPasswordEncoder(passwordEncoder());\r\n            daoAuthenticationProvider.setUserDetailsService(userDetailsService);\r\n            return daoAuthenticationProvider;\r\n        }\r\n    \r\n        @Bean\r\n        @Override\r\n        public AuthenticationManager authenticationManagerBean() throws Exception {\r\n            return super.authenticationManagerBean();\r\n        }\r\n    }\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dP7Vb.png","title":"Migration to a new version of Spring","body":"<p>I'm having a problem with upgrading to a new version of Spring.\nI have a configuration class WebSecurityConfig.\nI used to inherit it from WebSecurityConfigurerAdapter, but in new versions of Spring they removed it. Can you please tell me how I can rewrite this class for the new version of Spring?\nI want to rewrite this for Spring version 3.1.2</p>\n<pre><code>package ua.com.alevel.config.security;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private final UserDetailsService userDetailsService;\n\n    @Autowired\n    public WebSecurityConfig(@Qualifier(&quot;userDetailsServiceImpl&quot;) UserDetailsService userDetailsService) {\n        this.userDetailsService = userDetailsService;\n    }\n\n    @Bean\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .authorizeRequests()\n                .antMatchers(&quot;/**&quot;).permitAll()\n                .antMatchers(&quot;/api/v1/user/getActualUser&quot;).permitAll()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .formLogin()\n                .loginPage(&quot;/user/loginUser&quot;).permitAll()\n                .defaultSuccessUrl(&quot;/&quot;)\n                .and()\n                .logout()\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/user/logoutUser&quot;, &quot;POST&quot;))\n                .invalidateHttpSession(true)\n                .clearAuthentication(false)\n                .deleteCookies(&quot;JSESSIONID&quot;)\n                .logoutSuccessUrl(&quot;/user/loginUser&quot;);\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) {\n        auth.authenticationProvider(daoAuthenticationProvider());\n    }\n\n    @Bean\n    protected PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder(12);\n    }\n\n    @Bean\n    protected DaoAuthenticationProvider daoAuthenticationProvider() {\n        DaoAuthenticationProvider daoAuthenticationProvider = new DaoAuthenticationProvider();\n        daoAuthenticationProvider.setPasswordEncoder(passwordEncoder());\n        daoAuthenticationProvider.setUserDetailsService(userDetailsService);\n        return daoAuthenticationProvider;\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/dP7Vb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dP7Vb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","rest","swagger"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1692704618,"post_id":76952864,"comment_id":135657586,"body_markdown":"Show us your swagger please","body":"Show us your swagger please"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1692705036,"post_id":76952864,"comment_id":135657692,"body_markdown":"have you tried to use `@DateTimeFormat(pattern = &quot;dd-MM-yyyy&quot;)` ? from `org.springframework.format.annotation`","body":"have you tried to use <code>@DateTimeFormat(pattern = &quot;dd-MM-yyyy&quot;)</code> ? from <code>org.springframework.format.annotation</code>"},{"owner":{"account_id":6079466,"reputation":187,"user_id":4745695,"accept_rate":100,"display_name":"Polostor"},"score":0,"creation_date":1692705716,"post_id":76952864,"comment_id":135657856,"body_markdown":"Haven&#39;t tried it before.. But unfortunately it stays the same :(","body":"Haven&#39;t tried it before.. But unfortunately it stays the same :("},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1692706234,"post_id":76952864,"comment_id":135657971,"body_markdown":"Is it your own specification, i.e. are you writing the specification yourself? Then I&#39;d advise to stick to the standard ISO-8601 format for date and time formatting, which uses `yyyy-MM-dd`, instead of inventing your own non-standard format.","body":"Is it your own specification, i.e. are you writing the specification yourself? Then I&#39;d advise to stick to the standard ISO-8601 format for date and time formatting, which uses <code>yyyy-MM-dd</code>, instead of inventing your own non-standard format."},{"owner":{"account_id":6079466,"reputation":187,"user_id":4745695,"accept_rate":100,"display_name":"Polostor"},"score":0,"creation_date":1692706257,"post_id":76952864,"comment_id":135657979,"body_markdown":"@duffymo That link https://stackoverflow.com/questions/49379006/what-is-the-correct-way-to-declare-a-date-in-an-openapi-swagger-file actually helps a bit.. It clarifies that it must not be a date if it has a pattern..","body":"@duffymo That link <a href=\"https://stackoverflow.com/questions/49379006/what-is-the-correct-way-to-declare-a-date-in-an-openapi-swagger-file\" title=\"what is the correct way to declare a date in an openapi swagger file\">stackoverflow.com/questions/49379006/&hellip;</a> actually helps a bit.. It clarifies that it must not be a date if it has a pattern.."},{"owner":{"account_id":6079466,"reputation":187,"user_id":4745695,"accept_rate":100,"display_name":"Polostor"},"score":1,"creation_date":1692706373,"post_id":76952864,"comment_id":135658008,"body_markdown":"@Jesper unfortunately no. I ought to be following other systems Spec. But it feels like I should push for change on their side anyway..","body":"@Jesper unfortunately no. I ought to be following other systems Spec. But it feels like I should push for change on their side anyway.."},{"owner":{"account_id":13010918,"reputation":462,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":1,"creation_date":1692706677,"post_id":76952864,"comment_id":135658078,"body_markdown":"Maybe my answer could looks so stupid, but you try use each annotation separately, instead of use `@Schema` `@JsonFormat` together","body":"Maybe my answer could looks so stupid, but you try use each annotation separately, instead of use <code>@Schema</code> <code>@JsonFormat</code> together"},{"owner":{"account_id":6079466,"reputation":187,"user_id":4745695,"accept_rate":100,"display_name":"Polostor"},"score":0,"creation_date":1692707275,"post_id":76952864,"comment_id":135658225,"body_markdown":"Nope it is not stupid @AdrianLagartera , but yeah I tried with no real results.. :/","body":"Nope it is not stupid @AdrianLagartera , but yeah I tried with no real results.. :/"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1692707330,"post_id":76952864,"comment_id":135658243,"body_markdown":"No good reason for the other systems to deviate, but they might not be willing to change.  I see that sort of thing all the time with legacy systems.  They&#39;d prefer to propagate their bad choice than admit to being wrong.","body":"No good reason for the other systems to deviate, but they might not be willing to change.  I see that sort of thing all the time with legacy systems.  They&#39;d prefer to propagate their bad choice than admit to being wrong."},{"owner":{"account_id":13010918,"reputation":462,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1692707578,"post_id":76952864,"comment_id":135658319,"body_markdown":"And is posible the name of the variable do something too? Try to use something without camelCase and try it, I didn&#39;t know why the both annotations didn&#39;t take the change xD","body":"And is posible the name of the variable do something too? Try to use something without camelCase and try it, I didn&#39;t know why the both annotations didn&#39;t take the change xD"}],"owner":{"account_id":6079466,"reputation":187,"user_id":4745695,"accept_rate":100,"display_name":"Polostor"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692706097,"creation_date":1692703899,"question_id":76952864,"body_markdown":"My specification says that the dates must be in format `dd-MM-yyyy`. But default example value in Swagger does have different format (`yyyy-MM-dd`).\r\n\r\nWhat I would like the json to be:\r\n\r\n```json\r\n{\r\n&quot;SOME_DATE&quot;: &quot;22-08-2023&quot;\r\n}\r\n```\r\n\r\nWhat actually is in json:\r\n\r\n```json\r\n{\r\n&quot;SOME_DATE&quot;: &quot;2023-08-22&quot;\r\n}\r\n```\r\n\r\nMy implementation looks like this :\r\n\r\n```java\r\n@JsonProperty(value = &quot;SOME_DATE&quot;)\r\n@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd-MM-yyyy&quot;)\r\n@ApiModelProperty(required = true, example = &quot;22-08-2023&quot;)\r\n@Schema(name = &quot;SOME_DATE&quot;, format = &quot;dd-MM-yyyy&quot;, example = &quot;22-08-2023&quot;)\r\nprivate LocalDate someDate = null;\r\n```\r\n\r\nbut somehow swagger always shows the `someDate` in default value in normal form.. When I send example request via swagger-ui it fails (which is correct behavior as of `@JsonFormat`)...\r\n\r\nNeither the `@ApiModelProperty` nor the `@Schema` have any positive effect on the format.\r\n\r\n---\r\n**edit1:** the swagger definition\r\n\r\n```json\r\n{\r\n  &quot;openapi&quot;: &quot;3.0.1&quot;,\r\n  ...\r\n    &quot;SOME_DATE&quot;: {\r\n      &quot;pattern&quot;: &quot;dd-MM-yyyy&quot;,\r\n      &quot;type&quot;: &quot;string&quot;,\r\n      &quot;format&quot;: &quot;date&quot;,\r\n      &quot;example&quot;: &quot;2023-08-22&quot;\r\n    },\r\n  ...\r\n}\r\n```","title":"SpringBoot generated Swagger has incorrect format for LocalDate","body":"<p>My specification says that the dates must be in format <code>dd-MM-yyyy</code>. But default example value in Swagger does have different format (<code>yyyy-MM-dd</code>).</p>\n<p>What I would like the json to be:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n&quot;SOME_DATE&quot;: &quot;22-08-2023&quot;\n}\n</code></pre>\n<p>What actually is in json:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n&quot;SOME_DATE&quot;: &quot;2023-08-22&quot;\n}\n</code></pre>\n<p>My implementation looks like this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonProperty(value = &quot;SOME_DATE&quot;)\n@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd-MM-yyyy&quot;)\n@ApiModelProperty(required = true, example = &quot;22-08-2023&quot;)\n@Schema(name = &quot;SOME_DATE&quot;, format = &quot;dd-MM-yyyy&quot;, example = &quot;22-08-2023&quot;)\nprivate LocalDate someDate = null;\n</code></pre>\n<p>but somehow swagger always shows the <code>someDate</code> in default value in normal form.. When I send example request via swagger-ui it fails (which is correct behavior as of <code>@JsonFormat</code>)...</p>\n<p>Neither the <code>@ApiModelProperty</code> nor the <code>@Schema</code> have any positive effect on the format.</p>\n<hr />\n<p><strong>edit1:</strong> the swagger definition</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;openapi&quot;: &quot;3.0.1&quot;,\n  ...\n    &quot;SOME_DATE&quot;: {\n      &quot;pattern&quot;: &quot;dd-MM-yyyy&quot;,\n      &quot;type&quot;: &quot;string&quot;,\n      &quot;format&quot;: &quot;date&quot;,\n      &quot;example&quot;: &quot;2023-08-22&quot;\n    },\n  ...\n}\n</code></pre>\n"},{"tags":["java","sql-server"],"comments":[{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1692705022,"post_id":76952969,"comment_id":135657690,"body_markdown":"Put a breakpoint in SQLServerDriver or wherever to see if the string is still the same or something changed it?","body":"Put a breakpoint in SQLServerDriver or wherever to see if the string is still the same or something changed it?"},{"owner":{"account_id":36137,"reputation":178799,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1692705822,"post_id":76952969,"comment_id":135657880,"body_markdown":"All of the example connection strings I am finding have a trailing semicolon on the last property: `trustServerCertificate=true;`","body":"All of the example connection strings I am finding have a trailing semicolon on the last property: <code>trustServerCertificate=true;</code>"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1692705840,"post_id":76952969,"comment_id":135657882,"body_markdown":"Recent versions of the ODBC/JDBC/SqlClient drivers added a new `hostNameInCertificate` property for when the CN/Subject of the SQL Server certificate doesn&#39;t actually match the host name used in the connection URI. Have you tried setting that?","body":"Recent versions of the ODBC/JDBC/SqlClient drivers added a new <code>hostNameInCertificate</code> property for when the CN/Subject of the SQL Server certificate doesn&#39;t actually match the host name used in the connection URI. Have you tried setting that?"},{"owner":{"account_id":121159,"reputation":103,"user_id":314043,"display_name":"onoma"},"score":0,"creation_date":1692714196,"post_id":76952969,"comment_id":135660138,"body_markdown":"@siggemannen I&#39;ve just tried that, thanks: nothing jumps out but I may have missed something in the 1000s line of code","body":"@siggemannen I&#39;ve just tried that, thanks: nothing jumps out but I may have missed something in the 1000s line of code"},{"owner":{"account_id":121159,"reputation":103,"user_id":314043,"display_name":"onoma"},"score":0,"creation_date":1692714216,"post_id":76952969,"comment_id":135660145,"body_markdown":"@RobertHarvey unfortunately that didn&#39;t work","body":"@RobertHarvey unfortunately that didn&#39;t work"},{"owner":{"account_id":121159,"reputation":103,"user_id":314043,"display_name":"onoma"},"score":0,"creation_date":1692714345,"post_id":76952969,"comment_id":135660194,"body_markdown":"@AlwaysLearning I&#39;m having difficulty identifying which certificate to use. I will need to go off to the SQL Server resources and find out how to do that. Thanks","body":"@AlwaysLearning I&#39;m having difficulty identifying which certificate to use. I will need to go off to the SQL Server resources and find out how to do that. Thanks"}],"owner":{"account_id":121159,"reputation":103,"user_id":314043,"display_name":"onoma"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":673,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692705941,"creation_date":1692704656,"question_id":76952969,"body_markdown":"We&#39;re experiencing issues with a connection string used in an app that has recently been upgraded to use Java 17. \r\n\r\nThe string is as follows: \r\n\r\n&gt;spring.datasource.url=jdbc:sqlserver://LOCALHOST:1433;databaseName=[mydb];encrypt=true;trustServerCertificate=true\r\n\r\nWhen the app. is brought up, we get the following error: \r\n```\r\n2023-08-22 12:09:17.746[0;39m [31mERROR[0;39m [35m10768[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mcom.zaxxer.hikari.pool.HikariPool       [0;39m [2m:[0;39m HikariPool-2 - Exception during pool initialization.\r\n\r\ncom.microsoft.sqlserver.jdbc.SQLServerException: &quot;encrypt&quot; property is set to &quot;true&quot; and &quot;trustServerCertificate&quot; property is set to &quot;false&quot; but the driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption: Error: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target. ClientConnectionId:ae5d4fb9-9813-4ba6-b5d2-c3895eabe0db\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:3957)\r\n\tat com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1950)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:3477)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:3097)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:2939)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1801)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1241)\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\r\n\tat org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.lambda\r\n```\r\n\r\nIt looks like the driver thinks the trustServerCertificate property has been set to &quot;false&quot; whereas the connection string clearly defines it as true. It feels like something , somewhere is overriding this value but we are struggling to nail it down. Any help would be gratefully received.\r\n\r\nThe app. is being maintained in STS v4.18.1 and using the Eclipse Adoptium JDK, jdk-17.0.8.7-hotspot. We have also configured the SQLServerDialect as SQLServer2012Dialect and we are using version 12.3.0.jre17-preview of the SQL Server driver. We have also tried version 12.4.0.jre11 of the Driver to no avail. HikariCP is at 4.0.3 and we use Hibernate 5.6.12 and Spring Boot 2.7.5.\r\n\r\nMany thanks\r\n\r\n\r\n\r\n","title":"Problem with SQL Server connection string: trustServerCertificate=true is being interpreted as trustServerCerticate=false;","body":"<p>We're experiencing issues with a connection string used in an app that has recently been upgraded to use Java 17.</p>\n<p>The string is as follows:</p>\n<blockquote>\n<p>spring.datasource.url=jdbc:sqlserver://LOCALHOST:1433;databaseName=[mydb];encrypt=true;trustServerCertificate=true</p>\n</blockquote>\n<p>When the app. is brought up, we get the following error:</p>\n<pre><code>2023-08-22 12:09:17.746[0;39m [31mERROR[0;39m [35m10768[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mcom.zaxxer.hikari.pool.HikariPool       [0;39m [2m:[0;39m HikariPool-2 - Exception during pool initialization.\n\ncom.microsoft.sqlserver.jdbc.SQLServerException: &quot;encrypt&quot; property is set to &quot;true&quot; and &quot;trustServerCertificate&quot; property is set to &quot;false&quot; but the driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption: Error: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target. ClientConnectionId:ae5d4fb9-9813-4ba6-b5d2-c3895eabe0db\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:3957)\n    at com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1950)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:3477)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:3097)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:2939)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1801)\n    at com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1241)\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\n    at org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.lambda\n</code></pre>\n<p>It looks like the driver thinks the trustServerCertificate property has been set to &quot;false&quot; whereas the connection string clearly defines it as true. It feels like something , somewhere is overriding this value but we are struggling to nail it down. Any help would be gratefully received.</p>\n<p>The app. is being maintained in STS v4.18.1 and using the Eclipse Adoptium JDK, jdk-17.0.8.7-hotspot. We have also configured the SQLServerDialect as SQLServer2012Dialect and we are using version 12.3.0.jre17-preview of the SQL Server driver. We have also tried version 12.4.0.jre11 of the Driver to no avail. HikariCP is at 4.0.3 and we use Hibernate 5.6.12 and Spring Boot 2.7.5.</p>\n<p>Many thanks</p>\n"},{"tags":["java","database","hibernate","jpa"],"answers":[{"comments":[{"owner":{"account_id":24162,"reputation":10032,"user_id":61298,"accept_rate":67,"display_name":"Matt R"},"score":1,"creation_date":1394448557,"post_id":3563359,"comment_id":33878339,"body_markdown":"One answer I&#39;ve had suggested to me for the multi-JVM case is to use cooperative advisory locks on the DB (e.g. http://www.postgresql.org/docs/9.1/static/explicit-locking.html). You lock the desired primary key, then do the check/update, then release the lock.","body":"One answer I&#39;ve had suggested to me for the multi-JVM case is to use cooperative advisory locks on the DB (e.g. <a href=\"http://www.postgresql.org/docs/9.1/static/explicit-locking.html\" rel=\"nofollow noreferrer\">postgresql.org/docs/9.1/static/explicit-locking.html</a>). You lock the desired primary key, then do the check/update, then release the lock."},{"owner":{"account_id":69386,"reputation":5102,"user_id":201891,"accept_rate":85,"display_name":"DavidS"},"score":0,"creation_date":1492039021,"post_id":3563359,"comment_id":73824263,"body_markdown":"That&#39;s interesting, @MattR, though I don&#39;t know if other database&#39;s provide a similar mechanism. It doesn&#39;t look like Oracle does.","body":"That&#39;s interesting, @MattR, though I don&#39;t know if other database&#39;s provide a similar mechanism. It doesn&#39;t look like Oracle does."}],"tags":[],"owner":{"account_id":26957,"reputation":564381,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":2,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1282717943,"creation_date":1282717943,"answer_id":3563359,"question_id":3562105,"body_markdown":"&gt; I&#39;d like to write a method like `&lt;T&gt; T getOrCreate(Class&lt;T&gt; klass, Object primaryKey)`\r\n\r\nThis won&#39;t be easy. \r\n\r\nA naive approach would be to do something like this (assuming the method is running inside a transaction):\r\n\r\n    public &lt;T&gt; T findOrCreate(Class&lt;T&gt; entityClass, Object primaryKey) {\r\n        T entity = em.find(entityClass, primaryKey);\r\n        if ( entity != null ) {\r\n            return entity;\r\n        } else {\r\n            try {\r\n                entity = entityClass.newInstance();\r\n                /* use more reflection to set the pk (probably need a base entity) */\r\n                return entity;\r\n            } catch ( Exception e ) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\nBut in a concurrent environment, this code could fail due to some race condition: \r\n\r\n&lt;pre&gt;\r\nT1: BEGIN TX;\r\nT2: BEGIN TX;\r\n\r\nT1: SELECT w/ id = 123; //returns null\r\nT2: SELECT w/ id = 123; //returns null\r\n\r\nT1: INSERT w/ id = 123;\r\nT1: COMMIT; //row inserted\r\n\r\nT2: INSERT w/ name = 123;\r\nT2: COMMIT; //constraint violation\r\n&lt;/pre&gt;\r\n\r\nAnd if you are running multiple JVMs, synchronization won&#39;t help. And without acquiring a table lock (which is pretty horrible), I don&#39;t really see how you could solve this.\r\n\r\nIn such case, I wonder if it wouldn&#39;t be better to systematically insert first and handle a possible exception to perform a subsequent select (in a new transaction).\r\n\r\nYou should probably add some details regarding the mentioned constraints (multi-threading? distributed environment?). \r\n\r\n  [1]: https://forum.hibernate.org/viewtopic.php?f=1&amp;t=968646&amp;start=0","title":"JPA - create-if-not-exists entity?","body":"<blockquote>\n  <p>I'd like to write a method like <code>&lt;T&gt; T getOrCreate(Class&lt;T&gt; klass, Object primaryKey)</code></p>\n</blockquote>\n\n<p>This won't be easy. </p>\n\n<p>A naive approach would be to do something like this (assuming the method is running inside a transaction):</p>\n\n<pre><code>public &lt;T&gt; T findOrCreate(Class&lt;T&gt; entityClass, Object primaryKey) {\n    T entity = em.find(entityClass, primaryKey);\n    if ( entity != null ) {\n        return entity;\n    } else {\n        try {\n            entity = entityClass.newInstance();\n            /* use more reflection to set the pk (probably need a base entity) */\n            return entity;\n        } catch ( Exception e ) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n\n<p>But in a concurrent environment, this code could fail due to some race condition: </p>\n\n<pre>\nT1: BEGIN TX;\nT2: BEGIN TX;\n\nT1: SELECT w/ id = 123; //returns null\nT2: SELECT w/ id = 123; //returns null\n\nT1: INSERT w/ id = 123;\nT1: COMMIT; //row inserted\n\nT2: INSERT w/ name = 123;\nT2: COMMIT; //constraint violation\n</pre>\n\n<p>And if you are running multiple JVMs, synchronization won't help. And without acquiring a table lock (which is pretty horrible), I don't really see how you could solve this.</p>\n\n<p>In such case, I wonder if it wouldn't be better to systematically insert first and handle a possible exception to perform a subsequent select (in a new transaction).</p>\n\n<p>You should probably add some details regarding the mentioned constraints (multi-threading? distributed environment?). </p>\n"},{"comments":[{"owner":{"account_id":1518645,"reputation":381,"user_id":1418999,"display_name":"krevelen"},"score":2,"creation_date":1473947724,"post_id":35587856,"comment_id":66341693,"body_markdown":"To reduce `finder` calls by 50%: `public static &lt;T&gt; T findOrCreate( EntityManagerFactory emf, Supplier&lt;T&gt; finder,  Supplier&lt;T&gt; factory) { EntityManager em=emf.createEntityManager(); T attempt1=finder.get(); if(attempt1 != null) return attempt1; T created=factory.get(); try { em.getTransaction().begin(); em.persist( created ); em.getTransaction().commit(); return finder.get(); } catch(Exception ex) { em.getTransaction().rollback(); T attempt2=finder.get(); if(attempt2!=null ) return attempt2; throw ex; } catch(Throwable t) { em.getTransaction().rollback(); throw t; } finally { em.close(); } }`","body":"To reduce <code>finder</code> calls by 50%: <code>public static &lt;T&gt; T findOrCreate( EntityManagerFactory emf, Supplier&lt;T&gt; finder,  Supplier&lt;T&gt; factory) { EntityManager em=emf.createEntityManager(); T attempt1=finder.get(); if(attempt1 != null) return attempt1; T created=factory.get(); try { em.getTransaction().begin(); em.persist( created ); em.getTransaction().commit(); return finder.get(); } catch(Exception ex) { em.getTransaction().rollback(); T attempt2=finder.get(); if(attempt2!=null ) return attempt2; throw ex; } catch(Throwable t) { em.getTransaction().rollback(); throw t; } finally { em.close(); } }</code>"},{"owner":{"account_id":69707,"reputation":41791,"user_id":202694,"accept_rate":88,"display_name":"Pace"},"score":0,"creation_date":1473953852,"post_id":35587856,"comment_id":66346056,"body_markdown":"@krevelen That is a good idea (it avoids more than just a read it avoids opening a transaction which can yield significant performance benefits) and will work if your isolation level is read committed or read uncommitted but will fail with repeatable read (default in many instances).  Although I believe even my approach would fail if the isolation level is serializable.","body":"@krevelen That is a good idea (it avoids more than just a read it avoids opening a transaction which can yield significant performance benefits) and will work if your isolation level is read committed or read uncommitted but will fail with repeatable read (default in many instances).  Although I believe even my approach would fail if the isolation level is serializable."}],"tags":[],"owner":{"account_id":69707,"reputation":41791,"user_id":202694,"accept_rate":88,"display_name":"Pace"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1456260492,"creation_date":1456260492,"answer_id":35587856,"question_id":3562105,"body_markdown":"Using pure JPA one can solve this optimistically in a multi-threaded solution with nested entity managers (really we just need nested transactions but I don&#39;t think that is possible with pure JPA).  Essentially one needs to create a micro-transaction that encapsulates the find-or-create operation.  This performance won&#39;t be fantastic and isn&#39;t suitable for large batched creates but should be sufficient for most cases.\r\n\r\nPrerequisites:\r\n\r\n - The entity must have a unique constraint violation that will fail if two instances are created\r\n - You have some kind of finder to find the entity (can find by primary key with EntityManager.find or by some query) we will refer to this as `finder`\r\n - You have some kind of factory method to create a new entity should the one you are looking for fail to exist, we will refer to this as `factory`.\r\n - I&#39;m assuming that the given findOrCreate method would exist on some repository object and it is called in the context of an existing entity manager and an existing transaction.\r\n - If the transaction isolation level is serializable or snapshot this won&#39;t work.  If the transaction is repeatable read then you must not have attempted to read the entity in the current transaction.\r\n - I&#39;d recommend breaking the logic below into multiple methods for maintainability.\r\n\r\nCode:\r\n\r\n    public &lt;T&gt; T findOrCreate(Supplier&lt;T&gt; finder, Supplier&lt;T&gt; factory) {\r\n        EntityManager innerEntityManager = entityManagerFactory.createEntityManager();\r\n        innerEntityManager.getTransaction().begin();\r\n        try {\r\n            //Try the naive find-or-create in our inner entity manager\r\n            if(finder.get() == null) {\r\n                T newInstance = factory.get();\r\n                innerEntityManager.persist(newInstance);\r\n            }\r\n            innerEntityManager.getTransaction().commit();\r\n        } catch (PersistenceException ex) {\r\n            //This may be a unique constraint violation or it could be some\r\n            //other issue.  We will attempt to determine which it is by trying\r\n            //to find the entity.  Either way, our attempt failed and we\r\n            //roll back the tx.\r\n            innerEntityManager.getTransaction().rollback();\r\n            T entity = finder.get();\r\n            if(entity == null) {\r\n                //Must have been some other issue\r\n                throw ex;\r\n            } else {\r\n                //Either it was a unique constraint violation or we don&#39;t\r\n                //care because someone else has succeeded\r\n                return entity;\r\n            }\r\n        } catch (Throwable t) {\r\n            innerEntityManager.getTransaction().rollback();\r\n            throw t;\r\n        } finally {\r\n            innerEntityManager.close();\r\n        }\r\n        //If we didn&#39;t hit an exception then we successfully created it\r\n        //in the inner transaction.  We now need to find the entity in\r\n        //our outer transaction.\r\n        return finder.get();\r\n    }","title":"JPA - create-if-not-exists entity?","body":"<p>Using pure JPA one can solve this optimistically in a multi-threaded solution with nested entity managers (really we just need nested transactions but I don't think that is possible with pure JPA).  Essentially one needs to create a micro-transaction that encapsulates the find-or-create operation.  This performance won't be fantastic and isn't suitable for large batched creates but should be sufficient for most cases.</p>\n\n<p>Prerequisites:</p>\n\n<ul>\n<li>The entity must have a unique constraint violation that will fail if two instances are created</li>\n<li>You have some kind of finder to find the entity (can find by primary key with EntityManager.find or by some query) we will refer to this as <code>finder</code></li>\n<li>You have some kind of factory method to create a new entity should the one you are looking for fail to exist, we will refer to this as <code>factory</code>.</li>\n<li>I'm assuming that the given findOrCreate method would exist on some repository object and it is called in the context of an existing entity manager and an existing transaction.</li>\n<li>If the transaction isolation level is serializable or snapshot this won't work.  If the transaction is repeatable read then you must not have attempted to read the entity in the current transaction.</li>\n<li>I'd recommend breaking the logic below into multiple methods for maintainability.</li>\n</ul>\n\n<p>Code:</p>\n\n<pre><code>public &lt;T&gt; T findOrCreate(Supplier&lt;T&gt; finder, Supplier&lt;T&gt; factory) {\n    EntityManager innerEntityManager = entityManagerFactory.createEntityManager();\n    innerEntityManager.getTransaction().begin();\n    try {\n        //Try the naive find-or-create in our inner entity manager\n        if(finder.get() == null) {\n            T newInstance = factory.get();\n            innerEntityManager.persist(newInstance);\n        }\n        innerEntityManager.getTransaction().commit();\n    } catch (PersistenceException ex) {\n        //This may be a unique constraint violation or it could be some\n        //other issue.  We will attempt to determine which it is by trying\n        //to find the entity.  Either way, our attempt failed and we\n        //roll back the tx.\n        innerEntityManager.getTransaction().rollback();\n        T entity = finder.get();\n        if(entity == null) {\n            //Must have been some other issue\n            throw ex;\n        } else {\n            //Either it was a unique constraint violation or we don't\n            //care because someone else has succeeded\n            return entity;\n        }\n    } catch (Throwable t) {\n        innerEntityManager.getTransaction().rollback();\n        throw t;\n    } finally {\n        innerEntityManager.close();\n    }\n    //If we didn't hit an exception then we successfully created it\n    //in the inner transaction.  We now need to find the entity in\n    //our outer transaction.\n    return finder.get();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":0,"creation_date":1686751072,"post_id":66784201,"comment_id":134842359,"body_markdown":"This does not make sense. Where do findByKeyword and orElse come from? Also, how does this protect from concurrent inserts?","body":"This does not make sense. Where do findByKeyword and orElse come from? Also, how does this protect from concurrent inserts?"}],"tags":[],"owner":{"account_id":16470090,"reputation":9,"user_id":11899323,"display_name":"gus an"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1616599443,"creation_date":1616599443,"answer_id":66784201,"question_id":3562105,"body_markdown":"How about use `orElse` function after `findByKeyword`? You can return a new instance if no record is found.\r\n\r\n```\r\n        SearchCount searchCount = searchCountRepository.findByKeyword(keyword)\r\n                .orElse(SearchCount.builder()\r\n                        .keyword(keyword)\r\n                        .count(0)\r\n                        .build()) ;\r\n```","title":"JPA - create-if-not-exists entity?","body":"<p>How about use <code>orElse</code> function after <code>findByKeyword</code>? You can return a new instance if no record is found.</p>\n<pre><code>        SearchCount searchCount = searchCountRepository.findByKeyword(keyword)\n                .orElse(SearchCount.builder()\n                        .keyword(keyword)\n                        .count(0)\n                        .build()) ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11731702,"reputation":71,"user_id":8586941,"display_name":"Eason Du"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1629210671,"creation_date":1628750281,"answer_id":68752704,"question_id":3562105,"body_markdown":"I must point out there&#39;s some flaw in [@gus an&#39;s answer](https://stackoverflow.com/a/66784201). It could lead to an apparent problem in a concurrent situation. If there are 2 threads reading the count, they would both get 0 and then do the insertion. So duplicate rows created.\r\n\r\nMy suggestion here is to write your native query like the one below:\r\n\r\n```sql\r\ninsert into af_label (content,previous_level_id,interval_begin,interval_end) \r\n    select &quot;test&quot;,32,9,13\r\n    from dual \r\n    where not exists (select * from af_label where previous_level_id=32 and interval_begin=9 and interval_end=13)\r\n```\r\nIt&#39;s just like an optimistic lock in the program. But we make the db engine to decide and find the duplicates by your customized attributes.\r\n","title":"JPA - create-if-not-exists entity?","body":"<p>I must point out there's some flaw in <a href=\"https://stackoverflow.com/a/66784201\">@gus an's answer</a>. It could lead to an apparent problem in a concurrent situation. If there are 2 threads reading the count, they would both get 0 and then do the insertion. So duplicate rows created.</p>\n<p>My suggestion here is to write your native query like the one below:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>insert into af_label (content,previous_level_id,interval_begin,interval_end) \n    select &quot;test&quot;,32,9,13\n    from dual \n    where not exists (select * from af_label where previous_level_id=32 and interval_begin=9 and interval_end=13)\n</code></pre>\n<p>It's just like an optimistic lock in the program. But we make the db engine to decide and find the duplicates by your customized attributes.</p>\n"},{"tags":[],"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686822172,"creation_date":1686822172,"answer_id":76481208,"question_id":3562105,"body_markdown":"*The other answers give good solutions to the problem. I&#39;ll try to summarise the various approaches, to give a good overview.*\r\n\r\n## Support in JPA\r\n\r\n&gt; I&#39;d like to write a method [...] that returns an object of the\r\n&gt; provided class if one exists in the database with pk primaryKey, and\r\n&gt; otherwise creates a new object of that class, persists it and returns\r\n&gt; it.\r\n&gt; \r\n&gt; The very next thing I&#39;ll do with the object will be to update all its\r\n&gt; fields, within a transactio\r\n\r\nThis is a reasonably common situation, and there is a name for this operation: **Upsert** (blend word of UPDATE and INSERT) - meaning insert a record if it is not present (decided by its key), update if it is present.\r\n\r\nMost relational database systems have built-in support for this, either via the standard SQL keyword MERGE, or some other keyword - see [the Wikipedia article for MERGE][1] for details. This allows performing an upsert with a single SQL statement.\r\n\r\n&gt; Is there an idiomatic way to do this in JPA, or is there a better way\r\n&gt; to solve my problem?\r\n\r\nUnfortunately: **no**. JPA itself does not support an upsert operation. There is no UPSERT or MERGE or similar keyword in JPQL, or in the JPA API. More precisely: `EntityManager.merge()` will do what you want in a single-threaded solution (find &amp;update the entity or insert it), but it is not thread-safe.\r\n\r\nHowever, there are some workarounds (some explained in other answers).\r\n\r\n## Workarounds ##\r\n\r\n### Insert and catch constraint violation ##\r\nMake sure that there is a unique index for the key field(s) that you want to use. Then just naively perform an insert, using `EntityManager.persist()`. If the record was not present, it will be inserted. If the record was already present, you will get an Exception, which you can catch. Then you can perform an UPDATE (using `EntityManager.merge()`) instead.\r\n\r\nThis is described in more detail in Pace&#39;s answer.\r\n\r\nAdvantage: No complicated native SQL required.\r\n\r\nDisadvantage: The exception handling will be quite nasty, because JPA also does not have a portable way to distinguish wether an exception was caused by a constraint violation (which would be ok here) or by some other problem (dead database, network error) which you would still want to handle.\r\n\r\n### Use MERGE / UPSERT statement ###\r\nYou can use a native query to execute a MERGE or UPSERT statement, using the DB&#39;s built-in support for performing upserts.\r\n\r\nAdvantage: The cleanest solution from the DBMS point of view, as it uses the mechanism that the DBMS offers for this problem.\r\nDisadvantage: Somewhat nasty native SQL required; basically &quot;going behind JPA&#39;s back&quot;.\r\n\r\nSee https://stackoverflow.com/questions/50252299/using-merge-statement-for-single-table for details.\r\n\r\n### Use DB lock ###\r\nYou can also use a form of [pessimistic locking][2], by acquiring a database lock on some record (using `EntityManager.lock()`). Which record to lock will be application-specific. Typically, if you have a 1:n relationship, and you are inserting into the :n table, you would lock the corresponding &quot;main&quot; record.\r\nFor example, when adding a new item to an invoice, you would lock the main invoice record. After obtaining the lock, you check for existence of the record, and update or insert it.\r\n\r\nIf all code that performs inserts respects this, the locking will make sure that once you have acquired a lock, no other process/thread can interfere.\r\n\r\nThe acquisition of the lock and the update/insert must be put inside a transaction (the end of the transaction will automatically release the lock).\r\n\r\nAdvantages: No native SQL required. Can be faster than the other solutions in some cases (though this depends on specifics).\r\nDisadvantages: May reduce performance, because other code has to wait for the lock. In particular, the DBMS may decide to lock the whole table instead of just one row, which will make this worse. If you get the locking wrong, you could create potential deadlocks.\r\n\r\n### Recommendation ###\r\n\r\nIn my experience, using MERGE / UPSERT is usually the best solution, as it optimally uses the resources provided by the DBMS. The required native SQL is a bit ugly, and you must make sure not to accidentally persist via JPA, but apart from that it&#39;s the cleanest (and usually the fastest) solution.\r\n\r\nIf that is not practical, the &quot;insert and catch&quot; approach can also work - but it also has ugly code (the exception handling), and again, you must make sure to always apply this exception handling.\r\n\r\nUsing locks is helpful in some situations, but I&#39;d use it as a last resort.\r\n\r\n## Remarks ##\r\n* There is actually a bug for EclipseLink (one JPA implementation) to provide support for upsert -  [Bug 344329 - Add support for UPSERT/MERGE][3]. However, the bug is from 2011 and nothing seems to have happened. Also, this would ideally be added to the JPA specification, which does not seem to be happening either.\r\n* A simple solution to the problem is to make sure only a single thread/process is doing the inserting/updating - then you can just naively update and insert. But that is not always practical :-).\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Merge_(SQL)\r\n  [2]: https://en.wikipedia.org/wiki/Lock_(computer_science)\r\n  [3]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=344329\r\n  [4]: https://spring.io/projects/spring-data-jpa","title":"JPA - create-if-not-exists entity?","body":"<p><em>The other answers give good solutions to the problem. I'll try to summarise the various approaches, to give a good overview.</em></p>\n<h2>Support in JPA</h2>\n<blockquote>\n<p>I'd like to write a method [...] that returns an object of the\nprovided class if one exists in the database with pk primaryKey, and\notherwise creates a new object of that class, persists it and returns\nit.</p>\n<p>The very next thing I'll do with the object will be to update all its\nfields, within a transactio</p>\n</blockquote>\n<p>This is a reasonably common situation, and there is a name for this operation: <strong>Upsert</strong> (blend word of UPDATE and INSERT) - meaning insert a record if it is not present (decided by its key), update if it is present.</p>\n<p>Most relational database systems have built-in support for this, either via the standard SQL keyword MERGE, or some other keyword - see <a href=\"https://en.wikipedia.org/wiki/Merge_(SQL)\" rel=\"nofollow noreferrer\">the Wikipedia article for MERGE</a> for details. This allows performing an upsert with a single SQL statement.</p>\n<blockquote>\n<p>Is there an idiomatic way to do this in JPA, or is there a better way\nto solve my problem?</p>\n</blockquote>\n<p>Unfortunately: <strong>no</strong>. JPA itself does not support an upsert operation. There is no UPSERT or MERGE or similar keyword in JPQL, or in the JPA API. More precisely: <code>EntityManager.merge()</code> will do what you want in a single-threaded solution (find &amp;update the entity or insert it), but it is not thread-safe.</p>\n<p>However, there are some workarounds (some explained in other answers).</p>\n<h2>Workarounds</h2>\n<h3>Insert and catch constraint violation</h3>\n<p>Make sure that there is a unique index for the key field(s) that you want to use. Then just naively perform an insert, using <code>EntityManager.persist()</code>. If the record was not present, it will be inserted. If the record was already present, you will get an Exception, which you can catch. Then you can perform an UPDATE (using <code>EntityManager.merge()</code>) instead.</p>\n<p>This is described in more detail in Pace's answer.</p>\n<p>Advantage: No complicated native SQL required.</p>\n<p>Disadvantage: The exception handling will be quite nasty, because JPA also does not have a portable way to distinguish wether an exception was caused by a constraint violation (which would be ok here) or by some other problem (dead database, network error) which you would still want to handle.</p>\n<h3>Use MERGE / UPSERT statement</h3>\n<p>You can use a native query to execute a MERGE or UPSERT statement, using the DB's built-in support for performing upserts.</p>\n<p>Advantage: The cleanest solution from the DBMS point of view, as it uses the mechanism that the DBMS offers for this problem.\nDisadvantage: Somewhat nasty native SQL required; basically &quot;going behind JPA's back&quot;.</p>\n<p>See <a href=\"https://stackoverflow.com/questions/50252299/using-merge-statement-for-single-table\">Using Merge statement for single table</a> for details.</p>\n<h3>Use DB lock</h3>\n<p>You can also use a form of <a href=\"https://en.wikipedia.org/wiki/Lock_(computer_science)\" rel=\"nofollow noreferrer\">pessimistic locking</a>, by acquiring a database lock on some record (using <code>EntityManager.lock()</code>). Which record to lock will be application-specific. Typically, if you have a 1:n relationship, and you are inserting into the :n table, you would lock the corresponding &quot;main&quot; record.\nFor example, when adding a new item to an invoice, you would lock the main invoice record. After obtaining the lock, you check for existence of the record, and update or insert it.</p>\n<p>If all code that performs inserts respects this, the locking will make sure that once you have acquired a lock, no other process/thread can interfere.</p>\n<p>The acquisition of the lock and the update/insert must be put inside a transaction (the end of the transaction will automatically release the lock).</p>\n<p>Advantages: No native SQL required. Can be faster than the other solutions in some cases (though this depends on specifics).\nDisadvantages: May reduce performance, because other code has to wait for the lock. In particular, the DBMS may decide to lock the whole table instead of just one row, which will make this worse. If you get the locking wrong, you could create potential deadlocks.</p>\n<h3>Recommendation</h3>\n<p>In my experience, using MERGE / UPSERT is usually the best solution, as it optimally uses the resources provided by the DBMS. The required native SQL is a bit ugly, and you must make sure not to accidentally persist via JPA, but apart from that it's the cleanest (and usually the fastest) solution.</p>\n<p>If that is not practical, the &quot;insert and catch&quot; approach can also work - but it also has ugly code (the exception handling), and again, you must make sure to always apply this exception handling.</p>\n<p>Using locks is helpful in some situations, but I'd use it as a last resort.</p>\n<h2>Remarks</h2>\n<ul>\n<li>There is actually a bug for EclipseLink (one JPA implementation) to provide support for upsert -  <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=344329\" rel=\"nofollow noreferrer\">Bug 344329 - Add support for UPSERT/MERGE</a>. However, the bug is from 2011 and nothing seems to have happened. Also, this would ideally be added to the JPA specification, which does not seem to be happening either.</li>\n<li>A simple solution to the problem is to make sure only a single thread/process is doing the inserting/updating - then you can just naively update and insert. But that is not always practical :-).</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14902199,"reputation":219,"user_id":10760729,"display_name":"Daniele Asteggiante"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692705841,"creation_date":1692705841,"answer_id":76953128,"question_id":3562105,"body_markdown":"This is a method that I used to save element of list if they not exists.    \r\n\r\n    someList.stream()\r\n                 .filter(e-&gt;!someRepository.existsById(e.getId()))\r\n                 .forEach(e-&gt;someRepository.save(e));","title":"JPA - create-if-not-exists entity?","body":"<p>This is a method that I used to save element of list if they not exists.</p>\n<pre><code>someList.stream()\n             .filter(e-&gt;!someRepository.existsById(e.getId()))\n             .forEach(e-&gt;someRepository.save(e));\n</code></pre>\n"}],"owner":{"account_id":2052,"reputation":8269,"user_id":2827,"accept_rate":82,"display_name":"HenryR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62814,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"answer_count":6,"score":32,"last_activity_date":1692705841,"creation_date":1282697282,"question_id":3562105,"body_markdown":"I have several mapped objects in my JPA / Hibernate application. On the network I receive packets that represent updates to these objects, or may in fact represent new objects entirely. \r\n\r\nI&#39;d like to write a method like \r\n\r\n    &lt;T&gt; T getOrCreate(Class&lt;T&gt; klass, Object primaryKey)\r\n\r\nthat returns an object of the provided class if one exists in the database with pk primaryKey, and otherwise creates a new object of that class, persists it and returns it.\r\n\r\nThe very next thing I&#39;ll do with the object will be to update all its fields, within a transaction. \r\n\r\nIs there an idiomatic way to do this in JPA, or is there a better way to solve my problem? ","title":"JPA - create-if-not-exists entity?","body":"<p>I have several mapped objects in my JPA / Hibernate application. On the network I receive packets that represent updates to these objects, or may in fact represent new objects entirely. </p>\n\n<p>I'd like to write a method like </p>\n\n<pre><code>&lt;T&gt; T getOrCreate(Class&lt;T&gt; klass, Object primaryKey)\n</code></pre>\n\n<p>that returns an object of the provided class if one exists in the database with pk primaryKey, and otherwise creates a new object of that class, persists it and returns it.</p>\n\n<p>The very next thing I'll do with the object will be to update all its fields, within a transaction. </p>\n\n<p>Is there an idiomatic way to do this in JPA, or is there a better way to solve my problem? </p>\n"},{"tags":["java","hibernate","security","java-8","checkmarx"],"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1627519937,"post_id":68568827,"comment_id":121180774,"body_markdown":"may be I am not a native English speaker, but I have no idea what that error messages is trying to allude. :|","body":"may be I am not a native English speaker, but I have no idea what that error messages is trying to allude. :|"},{"owner":{"account_id":7527372,"reputation":920,"user_id":5717021,"accept_rate":65,"display_name":"sromit"},"score":0,"creation_date":1627520509,"post_id":68568827,"comment_id":121180867,"body_markdown":"I am also confused by the wording..but the category of vulnerability falls under Unsafe_object_binding category..and what I understand is an attacker can put any value in the Request body ColumnConfigSetDto and that data is directly saved in the DB by the saveAll() method and this might corrupt the database","body":"I am also confused by the wording..but the category of vulnerability falls under Unsafe_object_binding category..and what I understand is an attacker can put any value in the Request body ColumnConfigSetDto and that data is directly saved in the DB by the saveAll() method and this might corrupt the database"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1627520637,"post_id":68568827,"comment_id":121180888,"body_markdown":"I see, that somehow makes sense then. So you need to add `@Validated` may be? To have some proper validations in place?","body":"I see, that somehow makes sense then. So you need to add <code>@Validated</code> may be? To have some proper validations in place?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1627550316,"post_id":68568827,"comment_id":121187869,"body_markdown":"So instead of iterating over `columnConfigSet.getColumns()` you have to iterate over a list of known identifiers and look them up in `columnConfigSet`, to only process those known columns.","body":"So instead of iterating over <code>columnConfigSet.getColumns()</code> you have to iterate over a list of known identifiers and look them up in <code>columnConfigSet</code>, to only process those known columns."},{"owner":{"account_id":7527372,"reputation":920,"user_id":5717021,"accept_rate":65,"display_name":"sromit"},"score":0,"creation_date":1627573873,"post_id":68568827,"comment_id":121198258,"body_markdown":"Thnx @Holger I have given the dtos too..how do I validate the identifiers in the `columnConfigSet` ..is there any easy way?","body":"Thnx @Holger I have given the dtos too..how do I validate the identifiers in the <code>columnConfigSet</code> ..is there any easy way?"},{"owner":{"account_id":7527372,"reputation":920,"user_id":5717021,"accept_rate":65,"display_name":"sromit"},"score":0,"creation_date":1627619091,"post_id":68568827,"comment_id":121209293,"body_markdown":"I even tried to convert the dto to an entity via a converter ,and loop through that entity in the service class, but its still giving the same error in the converter too eg. whenever I am giving columnConfigSet.getxxx() its giving the alert","body":"I even tried to convert the dto to an entity via a converter ,and loop through that entity in the service class, but its still giving the same error in the converter too eg. whenever I am giving columnConfigSet.getxxx() its giving the alert"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1627742648,"post_id":68568827,"comment_id":121240281,"body_markdown":"Im not familiar with checkmarx. I was just building on your assumption in [this comment](https://stackoverflow.com/questions/68568827/unsafe-object-binding-checkmarx#comment121180867_68568827) and explained how to address the issue described there. Unfortunately, I dont know whether this truly is checkmarx concern or what code pattern it is checking.","body":"Im not familiar with checkmarx. I was just building on your assumption in <a href=\"https://stackoverflow.com/questions/68568827/unsafe-object-binding-checkmarx#comment121180867_68568827\">this comment</a> and explained how to address the issue described there. Unfortunately, I dont know whether this truly is checkmarx concern or what code pattern it is checking."},{"owner":{"account_id":1896611,"reputation":51,"user_id":1713426,"display_name":"sskumar"},"score":1,"creation_date":1635996808,"post_id":68568827,"comment_id":123442570,"body_markdown":"I know its late... you can try adding validations to variables defeined in class before using them.","body":"I know its late... you can try adding validations to variables defeined in class before using them."},{"owner":{"account_id":240361,"reputation":413,"user_id":510550,"accept_rate":67,"display_name":"Raju Penumatsa"},"score":1,"creation_date":1643044636,"post_id":68568827,"comment_id":125230078,"body_markdown":"Please post the solution if you could crack it!","body":"Please post the solution if you could crack it!"}],"answers":[{"tags":[],"owner":{"account_id":24399481,"reputation":1,"user_id":18328406,"display_name":"Stephen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649076635,"creation_date":1649076635,"answer_id":71737547,"question_id":68568827,"body_markdown":"Here is my solution for Unsafe object binding reported by cherkmarx in Java.\r\nIt&#39;s not a graceful approach and only fix this vulnerability.\r\n\r\n**Remove all setter methods for boxed fields in each requestbody bean.**\r\nSince `@JsonProperty` could support deserialization capbility, no need to add setter manually.\r\n\r\nIf you need setter for request body bean indeed, you can use reflaction way instead.\r\n`FieldUtils.writeField(columnConfigDto , &quot;isVisible&quot;, true, true);`\r\n\r\n```\r\npublic class ColumnConfigDto {\r\n    // Ensure @JsonProperty existed on each field \r\n    @JsonProperty(&quot;key&quot;)\r\n    private String key;\r\n\r\n    @JsonProperty(&quot;isVisible&quot;)\r\n    private Boolean isVisible;\r\n\r\n    @JsonProperty(&quot;list&quot;)\r\n    private List list;\r\n\r\n    public String getKey() {\r\n        return key;\r\n    }\r\n\r\n    public void setKey(String key) {\r\n        this.key = key;\r\n    }\r\n\r\n    public Boolean getVisible() {\r\n        return isVisible;\r\n    }\r\n    \r\n// Remove boxed type field     \r\n//    public void setVisible(Boolean visible) {\r\n//        isVisible = visible;\r\n//    }\r\n\r\n    public List getList() {\r\n        return list;\r\n    }\r\n\r\n// Remove boxed type field   \r\n//    public void setList(List list) {\r\n//        this.list = list;\r\n//    }\r\n}\r\n\r\n```","title":"Unsafe Object binding Checkmarx","body":"<p>Here is my solution for Unsafe object binding reported by cherkmarx in Java.\nIt's not a graceful approach and only fix this vulnerability.</p>\n<p><strong>Remove all setter methods for boxed fields in each requestbody bean.</strong>\nSince <code>@JsonProperty</code> could support deserialization capbility, no need to add setter manually.</p>\n<p>If you need setter for request body bean indeed, you can use reflaction way instead.\n<code>FieldUtils.writeField(columnConfigDto , &quot;isVisible&quot;, true, true);</code></p>\n<pre><code>public class ColumnConfigDto {\n    // Ensure @JsonProperty existed on each field \n    @JsonProperty(&quot;key&quot;)\n    private String key;\n\n    @JsonProperty(&quot;isVisible&quot;)\n    private Boolean isVisible;\n\n    @JsonProperty(&quot;list&quot;)\n    private List list;\n\n    public String getKey() {\n        return key;\n    }\n\n    public void setKey(String key) {\n        this.key = key;\n    }\n\n    public Boolean getVisible() {\n        return isVisible;\n    }\n    \n// Remove boxed type field     \n//    public void setVisible(Boolean visible) {\n//        isVisible = visible;\n//    }\n\n    public List getList() {\n        return list;\n    }\n\n// Remove boxed type field   \n//    public void setList(List list) {\n//        this.list = list;\n//    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27009456,"reputation":1,"user_id":20569355,"display_name":"user20569355"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669097984,"creation_date":1669097605,"answer_id":74528207,"question_id":68568827,"body_markdown":"this issue occurs due to @RequestBoby as per spring documentation but there is no issue for @RequestParam. if we bind request body to object without @RequestBody, this issue is not occurred. \r\n                                                                                                  \r\n`HttpServletRequest request;`\r\n\r\n`mapper.readValue(request.getInputStream(), Product.class);`\r\n\r\n","title":"Unsafe Object binding Checkmarx","body":"<p>this issue occurs due to @RequestBoby as per spring documentation but there is no issue for @RequestParam. if we bind request body to object without @RequestBody, this issue is not occurred.</p>\n<p><code>HttpServletRequest request;</code></p>\n<p><code>mapper.readValue(request.getInputStream(), Product.class);</code></p>\n"},{"tags":[],"owner":{"account_id":11401571,"reputation":63,"user_id":12255367,"display_name":"BlackViper"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671714106,"creation_date":1671434017,"answer_id":74847249,"question_id":68568827,"body_markdown":"The error is also thrown if data is set to an object annotated with `@RequestBody`.\r\n\r\n```java\r\nrequestBodyVariable.setAdditionalValue(valueFromRequestParamOrPathVariable); \r\n// This setter call should not be used\r\n```\r\n\r\nInstead, use a user-defined variable for storing the value from request param, header or path variable in its place:\r\n\r\n```java\r\nservice.callServiceMethod(requestBodyVariable, valueFromRequestParamOrPathVariable);\r\n```","title":"Unsafe Object binding Checkmarx","body":"<p>The error is also thrown if data is set to an object annotated with <code>@RequestBody</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>requestBodyVariable.setAdditionalValue(valueFromRequestParamOrPathVariable); \n// This setter call should not be used\n</code></pre>\n<p>Instead, use a user-defined variable for storing the value from request param, header or path variable in its place:</p>\n<pre class=\"lang-java prettyprint-override\"><code>service.callServiceMethod(requestBodyVariable, valueFromRequestParamOrPathVariable);\n</code></pre>\n"}],"owner":{"account_id":7527372,"reputation":920,"user_id":5717021,"accept_rate":65,"display_name":"sromit"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12548,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1692705740,"creation_date":1627519246,"question_id":68568827,"body_markdown":"I am getting alert in Checkmarx scan saying Unsafe object binding in the saveAll() call.\r\nThe exact words in checkmarx are -\r\n\r\n    The columnConfigSet at src\\main\\java\\com\\ge\\digital\\oa\\moa\\controller\\ConfigController.java in line 45 may unintentionally allow setting the value of saveAll in setColumnsConfig, in the object src\\main\\java\\com\\ge\\digital\\oa\\moa\\service\\ConfigService.java at line 170.\r\n\r\nAny idea how to rewrite the code , so that the checkmarx stops complaining.\r\n\r\nMy code:\r\n\r\n    @PutMapping(&quot;/columns&quot;)\r\n    @ResponseStatus(OK)\r\n    public void setColumnsConfig(@RequestBody(required=true) ColumnConfigSetDto columnConfigSet) {\r\n    \tservice.setColumnsConfig(columnConfigSet);\r\n    }\r\n\r\n--------\r\n\r\n    public void setColumnsConfig(ColumnConfigSetDto columnConfigSet) {\r\n    \r\n    \tString userId = columnConfigSet.getUserId();\r\n    \tString viewName = columnConfigSet.getViewName();\r\n    \t\r\n    \tList&lt;ColumnConfig&gt; configs = new ArrayList&lt;&gt;();\r\n    \t\r\n    \tfor (ColumnConfigDto colConfig : columnConfigSet.getColumns()) {\t\t\t\r\n    \t\t\r\n    \t\t// build a db config row only for the visibility property for now\r\n    \t\tColumnConfigId confId = new ColumnConfigId();\r\n    \t\t\r\n    \t\tconfId.setUserId(userId);\r\n    \t\tconfId.setViewName(viewName);\r\n    \t\tconfId.setKey(colConfig.getKey());\r\n    \t\tconfId.setProperty(&quot;visible&quot;);\r\n    \t\t\r\n    \t\tColumnConfig conf = new ColumnConfig();\r\n    \t\tconf.setColumnConfigId(confId);\r\n    \t\tconf.setValue(colConfig.getIsVisible() ? &quot;true&quot; : &quot;false&quot; );\r\n    \t\r\n    \t\tconfigs.add(conf);\r\n    \t}\r\n    \t\r\n    \tif (!configs.isEmpty()) {\r\n    \t\tconfigRepo.saveAll(configs);\r\n    \t}\r\n    \r\n    \r\n    \t\r\n    \t}\r\n\r\n------------\r\nBelow are my DTO Objects which is used in this code :\r\n\r\n\r\n\r\n    @Getter\r\n    @Setter\r\n    public class ColumnConfigSetDto {\r\n    \r\n    \t@JsonProperty(&quot;userId&quot;)\r\n    \tprivate String userId;\r\n    \t\r\n    \t@JsonProperty(&quot;viewName&quot;)\r\n    \tprivate String viewName;\r\n    \t\r\n    \t@JsonProperty(&quot;columns&quot;)\r\n    \tprivate List&lt;ColumnConfigDto&gt; columns;\r\n    }\r\n\r\n----------------\r\n Below are my DTO code which is used in this                                                                                   \r\n                                                                                 \r\n                                                                                  \r\n\r\n    @Getter\r\n    @Setter\r\n    public class ColumnConfigDto {\r\n    \r\n    \t@JsonProperty(&quot;key&quot;)\r\n    \tprivate String key;\r\n    \t\r\n    \t@JsonProperty(&quot;label&quot;)\r\n    \tprivate String label;\r\n    \t\r\n    \t@JsonProperty(&quot;isVisible&quot;)\r\n    \tprivate Boolean isVisible;\r\n    \t\r\n    \t@JsonProperty(&quot;position&quot;)\r\n    \tprivate Integer position;\r\n    \t\r\n    \t@JsonProperty(&quot;isSortable&quot;)\r\n    \tprivate Boolean isSortable;\r\n    \t\r\n    \t@JsonProperty(&quot;isHideable&quot;)\r\n    \tprivate Boolean isHideable;\r\n    \t\r\n    }\r\n\r\n\r\n","title":"Unsafe Object binding Checkmarx","body":"<p>I am getting alert in Checkmarx scan saying Unsafe object binding in the saveAll() call.\nThe exact words in checkmarx are -</p>\n<pre><code>The columnConfigSet at src\\main\\java\\com\\ge\\digital\\oa\\moa\\controller\\ConfigController.java in line 45 may unintentionally allow setting the value of saveAll in setColumnsConfig, in the object src\\main\\java\\com\\ge\\digital\\oa\\moa\\service\\ConfigService.java at line 170.\n</code></pre>\n<p>Any idea how to rewrite the code , so that the checkmarx stops complaining.</p>\n<p>My code:</p>\n<pre><code>@PutMapping(&quot;/columns&quot;)\n@ResponseStatus(OK)\npublic void setColumnsConfig(@RequestBody(required=true) ColumnConfigSetDto columnConfigSet) {\n    service.setColumnsConfig(columnConfigSet);\n}\n</code></pre>\n<hr />\n<pre><code>public void setColumnsConfig(ColumnConfigSetDto columnConfigSet) {\n\n    String userId = columnConfigSet.getUserId();\n    String viewName = columnConfigSet.getViewName();\n    \n    List&lt;ColumnConfig&gt; configs = new ArrayList&lt;&gt;();\n    \n    for (ColumnConfigDto colConfig : columnConfigSet.getColumns()) {            \n        \n        // build a db config row only for the visibility property for now\n        ColumnConfigId confId = new ColumnConfigId();\n        \n        confId.setUserId(userId);\n        confId.setViewName(viewName);\n        confId.setKey(colConfig.getKey());\n        confId.setProperty(&quot;visible&quot;);\n        \n        ColumnConfig conf = new ColumnConfig();\n        conf.setColumnConfigId(confId);\n        conf.setValue(colConfig.getIsVisible() ? &quot;true&quot; : &quot;false&quot; );\n    \n        configs.add(conf);\n    }\n    \n    if (!configs.isEmpty()) {\n        configRepo.saveAll(configs);\n    }\n\n\n    \n    }\n</code></pre>\n<hr />\n<p>Below are my DTO Objects which is used in this code :</p>\n<pre><code>@Getter\n@Setter\npublic class ColumnConfigSetDto {\n\n    @JsonProperty(&quot;userId&quot;)\n    private String userId;\n    \n    @JsonProperty(&quot;viewName&quot;)\n    private String viewName;\n    \n    @JsonProperty(&quot;columns&quot;)\n    private List&lt;ColumnConfigDto&gt; columns;\n}\n</code></pre>\n<hr />\n<p>Below are my DTO code which is used in this</p>\n<pre><code>@Getter\n@Setter\npublic class ColumnConfigDto {\n\n    @JsonProperty(&quot;key&quot;)\n    private String key;\n    \n    @JsonProperty(&quot;label&quot;)\n    private String label;\n    \n    @JsonProperty(&quot;isVisible&quot;)\n    private Boolean isVisible;\n    \n    @JsonProperty(&quot;position&quot;)\n    private Integer position;\n    \n    @JsonProperty(&quot;isSortable&quot;)\n    private Boolean isSortable;\n    \n    @JsonProperty(&quot;isHideable&quot;)\n    private Boolean isHideable;\n    \n}\n</code></pre>\n"},{"tags":["java","jsp","http-status-code-401","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":5439,"reputation":28408,"user_id":8753,"display_name":"laz"},"score":0,"creation_date":1309560182,"post_id":6551774,"comment_id":7722702,"body_markdown":"Are you certain the credentials are correct?","body":"Are you certain the credentials are correct?"},{"owner":{"account_id":335839,"reputation":23526,"user_id":663148,"accept_rate":90,"display_name":"arsenal"},"score":0,"creation_date":1309560443,"post_id":6551774,"comment_id":7722744,"body_markdown":"@laz, yes they are correct..Anything wrong with the code..??","body":"@laz, yes they are correct..Anything wrong with the code..??"}],"answers":[{"comments":[{"owner":{"account_id":66010,"reputation":22927,"user_id":193906,"display_name":"Sanjay T. Sharma"},"score":0,"creation_date":1309548632,"post_id":6552051,"comment_id":7720527,"body_markdown":"The section SSL/TLS customization from this link: http://hc.apache.org/httpcomponents-client-ga/tutorial/html/connmgmt.html#d4e523 might help.","body":"The section SSL/TLS customization from this link: <a href=\"http://hc.apache.org/httpcomponents-client-ga/tutorial/html/connmgmt.html#d4e523\" rel=\"nofollow noreferrer\">hc.apache.org/httpcomponents-client-ga/tutorial/html/&hellip;</a> might help."}],"tags":[],"owner":{"account_id":66010,"reputation":22927,"user_id":193906,"display_name":"Sanjay T. Sharma"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1309546113,"creation_date":1309546113,"answer_id":6552051,"question_id":6551774,"body_markdown":"You are accessing a secure site but I don&#39;t see any SSL handling in your HttpClient code. Can you have a look at [this page][1] and try out in a standalone client after filling in the appropriate gaps?\r\n\r\n\r\n  [1]: http://hc.apache.org/httpclient-3.x/sslguide.html","title":"HTTP/1.1 401 Authorization Required with HttpClient 4.1.1","body":"<p>You are accessing a secure site but I don't see any SSL handling in your HttpClient code. Can you have a look at <a href=\"http://hc.apache.org/httpclient-3.x/sslguide.html\" rel=\"nofollow\">this page</a> and try out in a standalone client after filling in the appropriate gaps?</p>\n"},{"comments":[{"owner":{"account_id":335839,"reputation":23526,"user_id":663148,"accept_rate":90,"display_name":"arsenal"},"score":0,"creation_date":1309556789,"post_id":6553452,"comment_id":7722141,"body_markdown":"so how Can I use wireshark for that.. Any suggestions will be appreciated..?","body":"so how Can I use wireshark for that.. Any suggestions will be appreciated..?"},{"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"score":0,"creation_date":1309557113,"post_id":6553452,"comment_id":7722201,"body_markdown":"What do you mean?Start wireshark (http://www.wireshark.org/download.html), start capturing, filter on the IPs of your client and servers and see the trafic.But your problem is already erroneous.You are not using SSL in your connection from the client","body":"What do you mean?Start wireshark (<a href=\"http://www.wireshark.org/download.html\" rel=\"nofollow noreferrer\">wireshark.org/download.html</a>), start capturing, filter on the IPs of your client and servers and see the trafic.But your problem is already erroneous.You are not using SSL in your connection from the client"},{"owner":{"account_id":335839,"reputation":23526,"user_id":663148,"accept_rate":90,"display_name":"arsenal"},"score":0,"creation_date":1309557869,"post_id":6553452,"comment_id":7722328,"body_markdown":"and also that site requires siteminder authentication.. SO there is nothing related with??","body":"and also that site requires siteminder authentication.. SO there is nothing related with??"},{"owner":{"account_id":335839,"reputation":23526,"user_id":663148,"accept_rate":90,"display_name":"arsenal"},"score":0,"creation_date":1309562947,"post_id":6553452,"comment_id":7723050,"body_markdown":"I did that way also.. But still I am getting the same error.. `401 Authorization Required `. Any other suggestions??","body":"I did that way also.. But still I am getting the same error.. <code>401 Authorization Required </code>. Any other suggestions??"}],"tags":[],"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1309556162,"creation_date":1309556162,"answer_id":6553452,"question_id":6551774,"body_markdown":"First of all from the code you posted it does not seem that you are configuring http client to use HTTPS.  \r\nYou are missing code like the following (at least for `org.apache.http.client.HttpClient`):  \r\n\r\n    SSLSocketFactory sf = new SSLSocketFactory(sslcontext); \r\n    Scheme https = new Scheme(&quot;https&quot;, sf, 443);\r\n    httpclient.getConnectionManager().getSchemeRegistry().register(https);  \r\n\r\nYou have to check out a tutorial for `DefaultHttpClient`  \r\nIn any case to see what&#39;s going on, you can use a sniffing tool like wireshark.  \r\nThe SSL handshake is viewable and you will be able to see the connection failure and understand why.\r\n","title":"HTTP/1.1 401 Authorization Required with HttpClient 4.1.1","body":"<p>First of all from the code you posted it does not seem that you are configuring http client to use HTTPS.<br>\nYou are missing code like the following (at least for <code>org.apache.http.client.HttpClient</code>):  </p>\n\n<pre><code>SSLSocketFactory sf = new SSLSocketFactory(sslcontext); \nScheme https = new Scheme(\"https\", sf, 443);\nhttpclient.getConnectionManager().getSchemeRegistry().register(https);  \n</code></pre>\n\n<p>You have to check out a tutorial for <code>DefaultHttpClient</code><br>\nIn any case to see what's going on, you can use a sniffing tool like wireshark.<br>\nThe SSL handshake is viewable and you will be able to see the connection failure and understand why.</p>\n"},{"comments":[{"owner":{"account_id":335839,"reputation":23526,"user_id":663148,"accept_rate":90,"display_name":"arsenal"},"score":0,"creation_date":1309587080,"post_id":6554188,"comment_id":7725094,"body_markdown":"I have one mode doubt.. If I don&#39;t want to use my username and password in that jsp page.. then Is there any other way to pass the credentials to login into that page... as passing username and passowrd in that jsp page is not the best way...right?? Anybody can open that file and see the username and password??. Let me know what can be the other option...","body":"I have one mode doubt.. If I don&#39;t want to use my username and password in that jsp page.. then Is there any other way to pass the credentials to login into that page... as passing username and passowrd in that jsp page is not the best way...right?? Anybody can open that file and see the username and password??. Let me know what can be the other option..."},{"owner":{"account_id":5439,"reputation":28408,"user_id":8753,"display_name":"laz"},"score":0,"creation_date":1309616242,"post_id":6554188,"comment_id":7728073,"body_markdown":"Without know more about exactly what you are trying to accomplish, all I can say is yet there are other ways to supply the user name and password. You are also putting quite a bit of Java code into a JSP which can quickly become difficult to maintain.","body":"Without know more about exactly what you are trying to accomplish, all I can say is yet there are other ways to supply the user name and password. You are also putting quite a bit of Java code into a JSP which can quickly become difficult to maintain."},{"owner":{"account_id":335839,"reputation":23526,"user_id":663148,"accept_rate":90,"display_name":"arsenal"},"score":0,"creation_date":1309623916,"post_id":6554188,"comment_id":7728974,"body_markdown":"what I am trying to do is simply trying to get the contents of one page using my above jsp page and that page requires authentication.. So passing username and password in that jsp page is not a good way right..?? So Any other way.. like sessions some sort of?? because anybody can see that username and password by opening that file..","body":"what I am trying to do is simply trying to get the contents of one page using my above jsp page and that page requires authentication.. So passing username and password in that jsp page is not a good way right..?? So Any other way.. like sessions some sort of?? because anybody can see that username and password by opening that file.."},{"owner":{"account_id":5439,"reputation":28408,"user_id":8753,"display_name":"laz"},"score":0,"creation_date":1309624242,"post_id":6554188,"comment_id":7729020,"body_markdown":"Are the credentials per end user or are they global for the application? If they are global for the application I would recommend extracting them into a configuration file then have your application load that file and use them. The configuration file can have permissions set so that only the owner of the Java server process can read it for security measures.","body":"Are the credentials per end user or are they global for the application? If they are global for the application I would recommend extracting them into a configuration file then have your application load that file and use them. The configuration file can have permissions set so that only the owner of the Java server process can read it for security measures."},{"owner":{"account_id":335839,"reputation":23526,"user_id":663148,"accept_rate":90,"display_name":"arsenal"},"score":0,"creation_date":1309624501,"post_id":6554188,"comment_id":7729056,"body_markdown":"they are per end user.. they are not global.. As I have to use my credentials to login for that.. that is the reason I am worried.. If anybody in my team can open that file then they can see that password :(","body":"they are per end user.. they are not global.. As I have to use my credentials to login for that.. that is the reason I am worried.. If anybody in my team can open that file then they can see that password :("},{"owner":{"account_id":5439,"reputation":28408,"user_id":8753,"display_name":"laz"},"score":0,"creation_date":1309625074,"post_id":6554188,"comment_id":7729120,"body_markdown":"You will need to prompt the user for those credentials via a form  and use what they supply to connect to the remote URL then.","body":"You will need to prompt the user for those credentials via a form  and use what they supply to connect to the remote URL then."}],"tags":[],"owner":{"account_id":5439,"reputation":28408,"user_id":8753,"display_name":"laz"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1309563787,"creation_date":1309563787,"answer_id":6554188,"question_id":6551774,"body_markdown":"Unless you know for sure that `&quot;realm&quot;` is the proper value in that `AuthScope` constructor, I&#39;d recommend removing it or determine what the actual value should be.","title":"HTTP/1.1 401 Authorization Required with HttpClient 4.1.1","body":"<p>Unless you know for sure that <code>\"realm\"</code> is the proper value in that <code>AuthScope</code> constructor, I'd recommend removing it or determine what the actual value should be.</p>\n"},{"tags":[],"owner":{"account_id":938768,"reputation":3476,"user_id":967232,"accept_rate":56,"display_name":"bytebiscuit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332552813,"creation_date":1332552813,"answer_id":9848390,"question_id":6551774,"body_markdown":"change the following line: `new AuthScope(AuthScope.ANY_HOST, AuthScope.ANY_PORT, &quot;realm&quot;)`\r\n\r\nto the following line:\r\n\r\n    new AuthScope(AuthScope.ANY_HOST, AuthScope.ANY_PORT, AuthScope.ANY_REALM)","title":"HTTP/1.1 401 Authorization Required with HttpClient 4.1.1","body":"<p>change the following line: <code>new AuthScope(AuthScope.ANY_HOST, AuthScope.ANY_PORT, \"realm\")</code></p>\n\n<p>to the following line:</p>\n\n<pre><code>new AuthScope(AuthScope.ANY_HOST, AuthScope.ANY_PORT, AuthScope.ANY_REALM)\n</code></pre>\n"}],"owner":{"account_id":335839,"reputation":23526,"user_id":663148,"accept_rate":90,"display_name":"arsenal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12855,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1692705740,"creation_date":1309544553,"question_id":6551774,"body_markdown":"    Updated Code:- Using SSL, still am getting the same error..\r\n\r\nI am trying to open this uri\r\n\r\n    https://some-host/a/getmeta?id=10  (this url is passed to proxi.jsp page)\r\n\r\n\r\nAnd this is my proxi.jsp page, And I am getting this error HTTP/1.1 401 Authorization Required and when I am passing my credentials too. Why is it happening so.. And that site use siteminder.\r\n\r\n        &lt;%@ page language=&quot;java&quot; import=&quot;\r\n    org.apache.http.HttpEntity,\r\n    org.apache.http.HttpResponse,\r\n    org.apache.http.auth.AuthScope,\r\n    org.apache.http.auth.UsernamePasswordCredentials,\r\n    org.apache.http.client.methods.HttpPost,\r\n    org.apache.http.client.methods.HttpGet,\r\n    org.apache.http.impl.client.DefaultHttpClient,\r\n    org.apache.http.util.EntityUtils,\r\n    java.io.InputStream,\r\n    java.io.InputStreamReader,\r\n    java.io.BufferedReader,\r\n    java.security.KeyStore,\r\n    java.io.FileInputStream,\r\n    java.io.File,\r\n    org.apache.http.conn.ssl.SSLSocketFactory,\r\n    org.apache.http.conn.scheme.Scheme,\r\n    javax.net.ssl.HostnameVerifier,\r\n    org.apache.http.impl.conn.SingleClientConnManager,\r\n    javax.net.ssl.HttpsURLConnection,\r\n    org.apache.http.conn.scheme.SchemeRegistry,\r\n    javax.net.ssl.SSLContext,\r\n    java.security.cert.X509Certificate,\r\n    javax.net.ssl.X509TrustManager,\r\n    javax.net.ssl.TrustManager,\r\n    org.apache.http.conn.ClientConnectionManager,\r\n    java.security.cert.CertificateException,\r\n    org.apache.http.conn.scheme.Scheme&quot;\r\n    contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    \r\n        &lt;%\r\n        String a_Url = request.getParameter( &quot;url&quot; ) ;\r\n        \r\n        DefaultHttpClient httpclient = new DefaultHttpClient();\r\n        try {\r\n            httpclient.getCredentialsProvider().setCredentials(\r\n                    new AuthScope(AuthScope.ANY_HOST, AuthScope.ANY_PORT, &quot;realm&quot;),\r\n                    new UsernamePasswordCredentials(&quot;test&quot;, &quot;pass&quot;));\r\n        \r\n            \r\n            KeyStore trustStore  = KeyStore.getInstance(KeyStore.getDefaultType());\r\n            //FileInputStream instream = new FileInputStream(new File(&quot;my.keystore&quot;));\r\n        \tInputStream instream = Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;my.keystore&quot;);\r\n            try {\r\n                trustStore.load(instream, &quot;nopassword&quot;.toCharArray());\r\n            } finally {\r\n                try { instream.close(); } catch (Exception ignore) {}\r\n            }\r\n        /* \r\n            SSLSocketFactory socketFactory = new SSLSocketFactory(trustStore);\r\n            Scheme sch = new Scheme(&quot;https&quot;, 443, socketFactory);\r\n            httpclient.getConnectionManager().getSchemeRegistry().register(sch);\r\n            */\r\n            \r\n            \r\n           \r\n            SSLContext ctx = SSLContext.getInstance(&quot;TLS&quot;);\r\n            X509TrustManager tm = new X509TrustManager() {\r\n             \r\n            public void checkClientTrusted(X509Certificate[] xcs, String string) throws CertificateException {\r\n            }\r\n             \r\n            public void checkServerTrusted(X509Certificate[] xcs, String string) throws CertificateException {\r\n            }\r\n             \r\n            public X509Certificate[] getAcceptedIssuers() {\r\n            return null;\r\n            }\r\n            };\r\n            ctx.init(null, new TrustManager[]{tm}, null);\r\n            SSLSocketFactory ssf = new SSLSocketFactory(ctx);\r\n            ssf.setHostnameVerifier(SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);\r\n            ClientConnectionManager ccm = httpclient.getConnectionManager();\r\n            SchemeRegistry sr = ccm.getSchemeRegistry();\r\n            sr.register(new Scheme(&quot;https&quot;, ssf, 443));\r\n            \r\n                \r\n                \r\n            \r\n            HttpGet httpget = new HttpGet(a_Url);\r\n        \t\r\n            \r\n            \r\n            System.out.println(&quot;executing request&quot; + httpget.getRequestLine());\r\n            HttpResponse res = httpclient.execute(httpget);\r\n            \r\n            HttpEntity entity = res.getEntity();\r\n        \r\n            System.out.println(&quot;----------------------------------------&quot;);\r\n            System.out.println(res.getStatusLine());\r\n            if (entity != null) {\r\n            \t\r\n                System.out.println(&quot;Response content length: &quot; + entity.getContentLength());\r\n                InputStream input = entity.getContent();\r\n                BufferedReader reader = new BufferedReader(new InputStreamReader(input));\r\n                String ln = &quot;&quot;;\r\n                while((ln = reader.readLine()) != null) {\r\n                    out.println(&quot;During Get - &quot; + ln);\r\n                }\r\n                entity.consumeContent();\r\n            }\r\n            EntityUtils.consume(entity);\r\n        }\r\n        \r\n        catch (Throwable t) {\r\n        \tStackTraceElement[] x = t.getStackTrace();\r\n        \tfor(int k=0;k&lt;x.length;k++) {\r\n        \t\tout.println(x[k].toString());\r\n        \t}\r\n        \t//out.println();\r\n        \tt.printStackTrace();\r\n        }\r\n        \r\n        \r\n        finally {\r\n            // When HttpClient instance is no longer needed,\r\n            // shut down the connection manager to ensure\r\n            // immediate deallocation of all system resources\r\n            httpclient.getConnectionManager().shutdown();\r\n        }\r\n        \r\n        \r\n        %&gt;\r\n\r\n\r\n\r\n","title":"HTTP/1.1 401 Authorization Required with HttpClient 4.1.1","body":"<pre><code>Updated Code:- Using SSL, still am getting the same error..\n</code></pre>\n\n<p>I am trying to open this uri</p>\n\n<pre><code>https://some-host/a/getmeta?id=10  (this url is passed to proxi.jsp page)\n</code></pre>\n\n<p>And this is my proxi.jsp page, And I am getting this error HTTP/1.1 401 Authorization Required and when I am passing my credentials too. Why is it happening so.. And that site use siteminder.</p>\n\n<pre><code>    &lt;%@ page language=\"java\" import=\"\norg.apache.http.HttpEntity,\norg.apache.http.HttpResponse,\norg.apache.http.auth.AuthScope,\norg.apache.http.auth.UsernamePasswordCredentials,\norg.apache.http.client.methods.HttpPost,\norg.apache.http.client.methods.HttpGet,\norg.apache.http.impl.client.DefaultHttpClient,\norg.apache.http.util.EntityUtils,\njava.io.InputStream,\njava.io.InputStreamReader,\njava.io.BufferedReader,\njava.security.KeyStore,\njava.io.FileInputStream,\njava.io.File,\norg.apache.http.conn.ssl.SSLSocketFactory,\norg.apache.http.conn.scheme.Scheme,\njavax.net.ssl.HostnameVerifier,\norg.apache.http.impl.conn.SingleClientConnManager,\njavax.net.ssl.HttpsURLConnection,\norg.apache.http.conn.scheme.SchemeRegistry,\njavax.net.ssl.SSLContext,\njava.security.cert.X509Certificate,\njavax.net.ssl.X509TrustManager,\njavax.net.ssl.TrustManager,\norg.apache.http.conn.ClientConnectionManager,\njava.security.cert.CertificateException,\norg.apache.http.conn.scheme.Scheme\"\ncontentType=\"text/html; charset=ISO-8859-1\"\npageEncoding=\"ISO-8859-1\"%&gt;\n\n    &lt;%\n    String a_Url = request.getParameter( \"url\" ) ;\n\n    DefaultHttpClient httpclient = new DefaultHttpClient();\n    try {\n        httpclient.getCredentialsProvider().setCredentials(\n                new AuthScope(AuthScope.ANY_HOST, AuthScope.ANY_PORT, \"realm\"),\n                new UsernamePasswordCredentials(\"test\", \"pass\"));\n\n\n        KeyStore trustStore  = KeyStore.getInstance(KeyStore.getDefaultType());\n        //FileInputStream instream = new FileInputStream(new File(\"my.keystore\"));\n        InputStream instream = Thread.currentThread().getContextClassLoader().getResourceAsStream(\"my.keystore\");\n        try {\n            trustStore.load(instream, \"nopassword\".toCharArray());\n        } finally {\n            try { instream.close(); } catch (Exception ignore) {}\n        }\n    /* \n        SSLSocketFactory socketFactory = new SSLSocketFactory(trustStore);\n        Scheme sch = new Scheme(\"https\", 443, socketFactory);\n        httpclient.getConnectionManager().getSchemeRegistry().register(sch);\n        */\n\n\n\n        SSLContext ctx = SSLContext.getInstance(\"TLS\");\n        X509TrustManager tm = new X509TrustManager() {\n\n        public void checkClientTrusted(X509Certificate[] xcs, String string) throws CertificateException {\n        }\n\n        public void checkServerTrusted(X509Certificate[] xcs, String string) throws CertificateException {\n        }\n\n        public X509Certificate[] getAcceptedIssuers() {\n        return null;\n        }\n        };\n        ctx.init(null, new TrustManager[]{tm}, null);\n        SSLSocketFactory ssf = new SSLSocketFactory(ctx);\n        ssf.setHostnameVerifier(SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);\n        ClientConnectionManager ccm = httpclient.getConnectionManager();\n        SchemeRegistry sr = ccm.getSchemeRegistry();\n        sr.register(new Scheme(\"https\", ssf, 443));\n\n\n\n\n        HttpGet httpget = new HttpGet(a_Url);\n\n\n\n        System.out.println(\"executing request\" + httpget.getRequestLine());\n        HttpResponse res = httpclient.execute(httpget);\n\n        HttpEntity entity = res.getEntity();\n\n        System.out.println(\"----------------------------------------\");\n        System.out.println(res.getStatusLine());\n        if (entity != null) {\n\n            System.out.println(\"Response content length: \" + entity.getContentLength());\n            InputStream input = entity.getContent();\n            BufferedReader reader = new BufferedReader(new InputStreamReader(input));\n            String ln = \"\";\n            while((ln = reader.readLine()) != null) {\n                out.println(\"During Get - \" + ln);\n            }\n            entity.consumeContent();\n        }\n        EntityUtils.consume(entity);\n    }\n\n    catch (Throwable t) {\n        StackTraceElement[] x = t.getStackTrace();\n        for(int k=0;k&lt;x.length;k++) {\n            out.println(x[k].toString());\n        }\n        //out.println();\n        t.printStackTrace();\n    }\n\n\n    finally {\n        // When HttpClient instance is no longer needed,\n        // shut down the connection manager to ensure\n        // immediate deallocation of all system resources\n        httpclient.getConnectionManager().shutdown();\n    }\n\n\n    %&gt;\n</code></pre>\n"},{"tags":["java","tomcat","java-11","tomcat10"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692628450,"post_id":76946131,"comment_id":135645825,"body_markdown":"*my gui is not responding and according to the catalina log:* in a web app that you&#39;ve deployed or are you talking about Tomcat with *nothing* deployed?","body":"<i>my gui is not responding and according to the catalina log:</i> in a web app that you&#39;ve deployed or are you talking about Tomcat with <i>nothing</i> deployed?"},{"owner":{"account_id":10189955,"reputation":451,"user_id":7523723,"display_name":"Tal Levi"},"score":0,"creation_date":1692628693,"post_id":76946131,"comment_id":135645884,"body_markdown":"in a web app that we deployed","body":"in a web app that we deployed"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1692629765,"post_id":76946131,"comment_id":135646151,"body_markdown":"I&#39;m just making an educated guess that it contains an ancient (15 years?) version of the jasper compiler. I think it should be tomcat-jasper these days, not jasper-compiler-jdt, which you might have","body":"I&#39;m just making an educated guess that it contains an ancient (15 years?) version of the jasper compiler. I think it should be tomcat-jasper these days, not jasper-compiler-jdt, which you might have"},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1692652591,"post_id":76946131,"comment_id":135650493,"body_markdown":"Can you describe the project better?  As @g00se says, it *appears* that you&#39;ve got one or more prehistoric Java runtimes on your system.","body":"Can you describe the project better?  As @g00se says, it <i>appears</i> that you&#39;ve got one or more prehistoric Java runtimes on your system."}],"answers":[{"tags":[],"owner":{"account_id":10189955,"reputation":451,"user_id":7523723,"display_name":"Tal Levi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692705581,"creation_date":1692705581,"answer_id":76953089,"question_id":76946131,"body_markdown":"The solution was :\r\nedit the web.xml\r\n\r\nand add to the jsp servlet:\r\n\r\n    &lt;init-param&gt;\r\n            &lt;param-name&gt;compilerSourceVM&lt;/param-name&gt;\r\n            &lt;param-value&gt;1.8&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;compilerTargetVM&lt;/param-name&gt;\r\n            &lt;param-value&gt;1.8&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n\r\n\r\n","title":"Apache Tomcat is not responding - Unsupported target VM","body":"<p>The solution was :\nedit the web.xml</p>\n<p>and add to the jsp servlet:</p>\n<pre><code>&lt;init-param&gt;\n        &lt;param-name&gt;compilerSourceVM&lt;/param-name&gt;\n        &lt;param-value&gt;1.8&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;compilerTargetVM&lt;/param-name&gt;\n        &lt;param-value&gt;1.8&lt;/param-value&gt;\n    &lt;/init-param&gt;\n</code></pre>\n"}],"owner":{"account_id":10189955,"reputation":451,"user_id":7523723,"display_name":"Tal Levi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692705581,"creation_date":1692627248,"question_id":76946131,"body_markdown":"I have java 11 project and using Apache Tomcat 10.\r\n\r\n    openjdk version &quot;11.0.19&quot; 2023-04-18 LTS\r\n    OpenJDK Runtime Environment Corretto-11.0.19.7.1 (build 11.0.19+7-LTS)\r\n    OpenJDK 64-Bit Server VM Corretto-11.0.19.7.1 (build 11.0.19+7-LTS, mixed mode)\r\n\r\n    Server version: Apache Tomcat/10.1.10\r\n    Server built:   Jun 2 2023 18:11:59 UTC\r\n    Server number:  10.1.10.0\r\n    OS Name:        Linux\r\n    OS Version:     5.4.17-2136.312.3.4.el8uek.x86_64\r\n    Architecture:   amd64\r\n    JVM Version:    11.0.19+7-LTS\r\n    JVM Vendor:     Amazon.com Inc.\r\n\r\n\r\nmy gui is not responding and according to the catalina log:\r\n\r\n    Aug 21, 2023 5:07:20 PM org.apache.jasper.compiler.JDTCompiler generateClass\r\n    WARNING: Unsupported source VM [11] requested, using [1.3]\r\n    Aug 21, 2023 5:07:20 PM org.apache.jasper.compiler.JDTCompiler generateClass\r\n    WARNING: Unsupported target VM [11] requested, using [1.2]\r\n\r\n\r\nany suggestions?\r\n\r\n","title":"Apache Tomcat is not responding - Unsupported target VM","body":"<p>I have java 11 project and using Apache Tomcat 10.</p>\n<pre><code>openjdk version &quot;11.0.19&quot; 2023-04-18 LTS\nOpenJDK Runtime Environment Corretto-11.0.19.7.1 (build 11.0.19+7-LTS)\nOpenJDK 64-Bit Server VM Corretto-11.0.19.7.1 (build 11.0.19+7-LTS, mixed mode)\n\nServer version: Apache Tomcat/10.1.10\nServer built:   Jun 2 2023 18:11:59 UTC\nServer number:  10.1.10.0\nOS Name:        Linux\nOS Version:     5.4.17-2136.312.3.4.el8uek.x86_64\nArchitecture:   amd64\nJVM Version:    11.0.19+7-LTS\nJVM Vendor:     Amazon.com Inc.\n</code></pre>\n<p>my gui is not responding and according to the catalina log:</p>\n<pre><code>Aug 21, 2023 5:07:20 PM org.apache.jasper.compiler.JDTCompiler generateClass\nWARNING: Unsupported source VM [11] requested, using [1.3]\nAug 21, 2023 5:07:20 PM org.apache.jasper.compiler.JDTCompiler generateClass\nWARNING: Unsupported target VM [11] requested, using [1.2]\n</code></pre>\n<p>any suggestions?</p>\n"},{"tags":["java","maven-2","continuous-integration","hudson","continuous-deployment"],"comments":[{"owner":{"display_name":"user41871"},"score":1,"creation_date":1305414559,"post_id":4330518,"comment_id":6938377,"body_markdown":"Just for the benefit of those who want to better understand the approach, see Continuous Delivery by Jez Humble and David Farley.","body":"Just for the benefit of those who want to better understand the approach, see Continuous Delivery by Jez Humble and David Farley."},{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":0,"creation_date":1305692978,"post_id":4330518,"comment_id":6986467,"body_markdown":"Exactly the book that prompted this effort! Well worth the price.","body":"Exactly the book that prompted this effort! Well worth the price."}],"answers":[{"comments":[{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":1,"creation_date":1291256048,"post_id":4330650,"comment_id":4707243,"body_markdown":"What you say is true, but doesn&#39;t meet my (admittedly unstated) requirement that there be two separate CI jobs, as I&#39;m building a deployment pipeline and need visibility into which revisions passed the commit stage and which also passed the automated acceptance stage. I&#39;ve clarified the question.","body":"What you say is true, but doesn&#39;t meet my (admittedly unstated) requirement that there be two separate CI jobs, as I&#39;m building a deployment pipeline and need visibility into which revisions passed the commit stage and which also passed the automated acceptance stage. I&#39;ve clarified the question."}],"tags":[],"owner":{"account_id":105981,"reputation":8849,"user_id":282538,"accept_rate":94,"display_name":"Andy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1291250639,"creation_date":1291250639,"answer_id":4330650,"question_id":4330518,"body_markdown":"&gt; So my question is, how can I configure\r\n&gt; job 2 to use the artifact created by\r\n&gt; job 1?\r\n\r\nYou can&#39;t.\r\n\r\nYou don&#39;t need to.  The [Maven Build lifecycle][1] is setup in a way that sounds like it will meet your needs.  The test lifecycle will only run the fast junits.  Package build your end state without running the verification.\r\n\r\nYou only need one CI job.  When the CI runs your the maven deploy/install life cycle, if the junits fail the build fails, the verification scripts will not execute.\r\n\r\n  [1]: http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html","title":"How to stop Maven&#39;s verify phase rebuilding the artifact? - how can I configure job 2 to use the artifact created by job 1","body":"<blockquote>\n  <p>So my question is, how can I configure\n  job 2 to use the artifact created by\n  job 1?</p>\n</blockquote>\n\n<p>You can't.</p>\n\n<p>You don't need to.  The <a href=\"http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\" rel=\"nofollow\">Maven Build lifecycle</a> is setup in a way that sounds like it will meet your needs.  The test lifecycle will only run the fast junits.  Package build your end state without running the verification.</p>\n\n<p>You only need one CI job.  When the CI runs your the maven deploy/install life cycle, if the junits fail the build fails, the verification scripts will not execute.</p>\n"},{"comments":[{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":1,"creation_date":1291285763,"post_id":4332353,"comment_id":4710768,"body_markdown":"I like the &quot;two maven projects&quot; idea; I&#39;ll give it a whirl. It sounds like something John Smart recommended in a slideshow on CI from about two years ago, but I wasn&#39;t sure of the details or whether it was still considered best practice.","body":"I like the &quot;two maven projects&quot; idea; I&#39;ll give it a whirl. It sounds like something John Smart recommended in a slideshow on CI from about two years ago, but I wasn&#39;t sure of the details or whether it was still considered best practice."},{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":0,"creation_date":1291586857,"post_id":4332353,"comment_id":4746769,"body_markdown":"It worked nicely; I&#39;ve appended the second project&#39;s POM to the question, for anyone else wanting to try it.","body":"It worked nicely; I&#39;ve appended the second project&#39;s POM to the question, for anyone else wanting to try it."}],"tags":[],"owner":{"account_id":70324,"reputation":16215,"user_id":204042,"accept_rate":100,"display_name":"Peter Schuetze"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1291271885,"creation_date":1291271885,"answer_id":4332353,"question_id":4330518,"body_markdown":"Try two maven projects. The first one contains the build and unit tests. You install the artifacts in your local repository.  The second job runs the second maven project which declares the artifacts of the first project as dependencies and runs the functional tests.\r\n\r\nNot sure if the scenario I just described is possible, but I think it is.\r\n\r\n\r\nFor a quick improvement you can bypass the unit test with `-Dmaven.test.skip=true`. If you pass the revision number of your code in your scm to the second job, you should be able to checkout the same source code.\r\n\r\nYou can also check into the Clone Workspace SCM plugin. This might offer you some additional options.","title":"How to stop Maven&#39;s verify phase rebuilding the artifact? - how can I configure job 2 to use the artifact created by job 1","body":"<p>Try two maven projects. The first one contains the build and unit tests. You install the artifacts in your local repository.  The second job runs the second maven project which declares the artifacts of the first project as dependencies and runs the functional tests.</p>\n\n<p>Not sure if the scenario I just described is possible, but I think it is.</p>\n\n<p>For a quick improvement you can bypass the unit test with <code>-Dmaven.test.skip=true</code>. If you pass the revision number of your code in your scm to the second job, you should be able to checkout the same source code.</p>\n\n<p>You can also check into the Clone Workspace SCM plugin. This might offer you some additional options.</p>\n"},{"tags":[],"owner":{"account_id":4293398,"reputation":1061,"user_id":3509106,"display_name":"ThrawnCA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424905245,"creation_date":1424843977,"answer_id":28712225,"question_id":4330518,"body_markdown":"You can define a Maven profile that will be used to execute only the integration tests. I do this a lot.\r\n\r\nSomething like this:\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;integration&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;&lt;version&gt;2.17&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;skipTests&gt;true&lt;/skipTests&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;&lt;version&gt;2.4&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;/tmp&lt;/outputDirectory&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\nYou would invoke this with:\r\n\r\n    mvn verify -Pintegration\r\n\r\nUnfortunately the WAR plugin can&#39;t be skipped, but you can send its output to somewhere out of the way (I&#39;ve used /tmp). If you really want to save milliseconds, you could also make it ignore the web resources (except web.xml, it won&#39;t work without that).\r\n\r\nYou can also use the profile to skip any other plugins that you might be running, eg the assembly plugin, Cobertura, PMD, etc.","title":"How to stop Maven&#39;s verify phase rebuilding the artifact? - how can I configure job 2 to use the artifact created by job 1","body":"<p>You can define a Maven profile that will be used to execute only the integration tests. I do this a lot.</p>\n\n<p>Something like this:</p>\n\n<pre><code>&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;integration&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\n        &lt;/activation&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;&lt;version&gt;2.17&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;skipTests&gt;true&lt;/skipTests&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;&lt;version&gt;2.4&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;/tmp&lt;/outputDirectory&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n\n<p>You would invoke this with:</p>\n\n<pre><code>mvn verify -Pintegration\n</code></pre>\n\n<p>Unfortunately the WAR plugin can't be skipped, but you can send its output to somewhere out of the way (I've used /tmp). If you really want to save milliseconds, you could also make it ignore the web resources (except web.xml, it won't work without that).</p>\n\n<p>You can also use the profile to skip any other plugins that you might be running, eg the assembly plugin, Cobertura, PMD, etc.</p>\n"},{"tags":[],"owner":{"account_id":332924,"reputation":15827,"user_id":658497,"accept_rate":50,"display_name":"Noam Manos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447147295,"creation_date":1447147295,"answer_id":33626564,"question_id":4330518,"body_markdown":"Maven profile that executes only the integration tests ([as suggested here][1]) is not sufficient. You also need to make sure that the configuration of **maven-compiler-plugin** has **useIncrementalCompilation = false**. Running the profile this way, will not automatically re-compile, e.g.:\r\n\r\n    &lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.3&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t&lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/28712225/658497","title":"How to stop Maven&#39;s verify phase rebuilding the artifact? - how can I configure job 2 to use the artifact created by job 1","body":"<p>Maven profile that executes only the integration tests (<a href=\"https://stackoverflow.com/a/28712225/658497\">as suggested here</a>) is not sufficient. You also need to make sure that the configuration of <strong>maven-compiler-plugin</strong> has <strong>useIncrementalCompilation = false</strong>. Running the profile this way, will not automatically re-compile, e.g.:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.8&lt;/source&gt;\n        &lt;target&gt;1.8&lt;/target&gt;\n        &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4751155,"reputation":4879,"user_id":3841161,"display_name":"coladict"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1493019501,"creation_date":1493019501,"answer_id":43582326,"question_id":4330518,"body_markdown":"I know it&#39;s been a long time, but this is well-indexed and none of the answers do what was asked, but I found something that works:\r\n\r\n    mvn failsafe:integration-test\r\n\r\nThis runs the tests directly, without going through all the intermediate steps of building the project. You may want to add `failsafe:verify` after it.","title":"How to stop Maven&#39;s verify phase rebuilding the artifact? - how can I configure job 2 to use the artifact created by job 1","body":"<p>I know it's been a long time, but this is well-indexed and none of the answers do what was asked, but I found something that works:</p>\n\n<pre><code>mvn failsafe:integration-test\n</code></pre>\n\n<p>This runs the tests directly, without going through all the intermediate steps of building the project. You may want to add <code>failsafe:verify</code> after it.</p>\n"}],"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10913,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":4332353,"answer_count":5,"score":9,"last_activity_date":1692705434,"creation_date":1291249187,"question_id":4330518,"body_markdown":"Imagine a Java project built using Maven for which I have:\r\n\r\n - some fast-running unit tests that:\r\n   - developers should run before committing\r\n   - my CI server (Hudson, FWIW) should run upon detecting a new commit, giving almost instant feedback in case of failures\r\n - some slow-running automated acceptance tests that:\r\n   - developers can run if they choose, e.g. to reproduce and fix failures\r\n   - my CI server should run after successfully running the unit tests\r\n\r\nThis seems like a typical scenario. Currently, I&#39;m running:\r\n\r\n - the unit tests in the &quot;test&quot; phase\r\n - the acceptance tests in the &quot;verify&quot; phase\r\n\r\nThere are two CI jobs configured, both pointing to the project&#39;s VCS branch:\r\n\r\n 1. &quot;Commit Stage&quot;, which runs &quot;mvn package&quot; (compile and unit test the code, build the artifact), which if successful, triggers:\r\n 2. &quot;Automated Acceptance Tests&quot;, which runs &quot;mvn verify&quot; (set up, run, and tear down the acceptance tests)\r\n\r\nThe problem is that job 2 unit tests and builds the artifact-under-test all over again (because the verify phase automatically invokes the package phase). This is undesirable for several reasons (in decreasing importance):\r\n\r\n - the artifact created by job 2 might not be identical to that created by job 1 (e.g. if there has been a new commit in the meantime)\r\n - lengthens the feedback loop to the developer who made the commit (i.e. takes longer for them to find out they broke the build)\r\n - wastes resources on the CI server\r\n\r\nSo my question is, how can I configure job 2 to use the artifact created by job 1?\r\n\r\n*I realise I could just have one CI job that runs &quot;mvn verify&quot;, which would create the artifact only once, but I want to have the separate CI jobs described above in order to implement a Farley-style deployment pipeline.*\r\n\r\n\r\n----------\r\n\r\nIn case it helps anyone, here&#39;s the full Maven 2 POM of &quot;project 2&quot; in the accepted answer:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.example.cake&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;cake-acceptance&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \t&lt;name&gt;Cake Shop Acceptance Tests&lt;/name&gt;\r\n    \t&lt;description&gt;\r\n    \t    Runs the automated acceptance tests for the Cake Shop web application.\r\n    \t&lt;/description&gt;\r\n    \t&lt;build&gt;\r\n    \t    &lt;plugins&gt;\r\n    \t        &lt;!-- Compiler --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.3.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;${java.version}&lt;/source&gt;\r\n                        &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;!-- Suppress the normal &quot;test&quot; phase; there&#39;s no unit tests --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.5&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;skipTests&gt;true&lt;/skipTests&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;!-- Cargo (starts and stops the web container) --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.codehaus.cargo&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;cargo-maven2-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.0.5&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;start-container&lt;/id&gt;\r\n                            &lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;start&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;stop-container&lt;/id&gt;\r\n                            &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;stop&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;!-- Don&#39;t wait for CTRL-C after starting the container --&gt;\r\n                        &lt;wait&gt;false&lt;/wait&gt;\r\n                        \r\n                        &lt;container&gt;\r\n                            &lt;containerId&gt;jetty7x&lt;/containerId&gt;\r\n                            &lt;type&gt;embedded&lt;/type&gt;\r\n                            &lt;timeout&gt;20000&lt;/timeout&gt;\r\n                        &lt;/container&gt;\r\n                        \r\n                        &lt;configuration&gt;\r\n                            &lt;properties&gt;\r\n                                &lt;cargo.servlet.port&gt;${http.port}&lt;/cargo.servlet.port&gt;\r\n                            &lt;/properties&gt;\r\n                            &lt;deployables&gt;\r\n                                &lt;deployable&gt;\r\n                                    &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;${target.artifactId}&lt;/artifactId&gt;\r\n                                    &lt;type&gt;war&lt;/type&gt;\r\n                                    &lt;properties&gt;\r\n                                        &lt;context&gt;${context.path}&lt;/context&gt;\r\n                                    &lt;/properties&gt;\r\n                                &lt;/deployable&gt;\r\n                            &lt;/deployables&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;!-- Failsafe (runs the acceptance tests) --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.6&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;integration-test&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;verify&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;verify&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;includes&gt;\r\n                            &lt;include&gt;**/*Test.java&lt;/include&gt;\r\n                        &lt;/includes&gt;\r\n                        &lt;skipTests&gt;false&lt;/skipTests&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \t    &lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t&lt;dependencies&gt;\r\n                &lt;!-- Add your tests&#39; dependencies here, e.g. Selenium or Sahi,\r\n                    with &quot;test&quot; scope --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;!-- The artifact under test --&gt;\r\n    \t\t\t&lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;${target.artifactId}&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${target.version}&lt;/version&gt;\r\n    \t\t\t&lt;type&gt;war&lt;/type&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n        &lt;properties&gt;\r\n            &lt;!-- The artifact under test --&gt;\r\n            &lt;target.artifactId&gt;cake&lt;/target.artifactId&gt;\r\n            &lt;target.version&gt;0.1.0-SNAPSHOT&lt;/target.version&gt;\r\n            &lt;context.path&gt;${target.artifactId}&lt;/context.path&gt;\r\n            &lt;http.port&gt;8081&lt;/http.port&gt;\r\n            &lt;java.version&gt;1.6&lt;/java.version&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/project&gt;\r\n\r\nNote that even though this &quot;tests&quot; project doesn&#39;t create an artifact, it has to use some kind of packaging (I used &quot;jar&quot; here), otherwise no tests are run in the verify phase.","title":"How to stop Maven&#39;s verify phase rebuilding the artifact? - how can I configure job 2 to use the artifact created by job 1","body":"<p>Imagine a Java project built using Maven for which I have:</p>\n\n<ul>\n<li>some fast-running unit tests that:\n<ul>\n<li>developers should run before committing</li>\n<li>my CI server (Hudson, FWIW) should run upon detecting a new commit, giving almost instant feedback in case of failures</li>\n</ul></li>\n<li>some slow-running automated acceptance tests that:\n<ul>\n<li>developers can run if they choose, e.g. to reproduce and fix failures</li>\n<li>my CI server should run after successfully running the unit tests</li>\n</ul></li>\n</ul>\n\n<p>This seems like a typical scenario. Currently, I'm running:</p>\n\n<ul>\n<li>the unit tests in the \"test\" phase</li>\n<li>the acceptance tests in the \"verify\" phase</li>\n</ul>\n\n<p>There are two CI jobs configured, both pointing to the project's VCS branch:</p>\n\n<ol>\n<li>\"Commit Stage\", which runs \"mvn package\" (compile and unit test the code, build the artifact), which if successful, triggers:</li>\n<li>\"Automated Acceptance Tests\", which runs \"mvn verify\" (set up, run, and tear down the acceptance tests)</li>\n</ol>\n\n<p>The problem is that job 2 unit tests and builds the artifact-under-test all over again (because the verify phase automatically invokes the package phase). This is undesirable for several reasons (in decreasing importance):</p>\n\n<ul>\n<li>the artifact created by job 2 might not be identical to that created by job 1 (e.g. if there has been a new commit in the meantime)</li>\n<li>lengthens the feedback loop to the developer who made the commit (i.e. takes longer for them to find out they broke the build)</li>\n<li>wastes resources on the CI server</li>\n</ul>\n\n<p>So my question is, how can I configure job 2 to use the artifact created by job 1?</p>\n\n<p><em>I realise I could just have one CI job that runs \"mvn verify\", which would create the artifact only once, but I want to have the separate CI jobs described above in order to implement a Farley-style deployment pipeline.</em></p>\n\n<hr>\n\n<p>In case it helps anyone, here's the full Maven 2 POM of \"project 2\" in the accepted answer:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.example.cake&lt;/groupId&gt;\n    &lt;artifactId&gt;cake-acceptance&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;Cake Shop Acceptance Tests&lt;/name&gt;\n    &lt;description&gt;\n        Runs the automated acceptance tests for the Cake Shop web application.\n    &lt;/description&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;!-- Compiler --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;!-- Suppress the normal \"test\" phase; there's no unit tests --&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skipTests&gt;true&lt;/skipTests&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;!-- Cargo (starts and stops the web container) --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.cargo&lt;/groupId&gt;\n                &lt;artifactId&gt;cargo-maven2-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.0.5&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;start-container&lt;/id&gt;\n                        &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;start&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;stop-container&lt;/id&gt;\n                        &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;stop&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;!-- Don't wait for CTRL-C after starting the container --&gt;\n                    &lt;wait&gt;false&lt;/wait&gt;\n\n                    &lt;container&gt;\n                        &lt;containerId&gt;jetty7x&lt;/containerId&gt;\n                        &lt;type&gt;embedded&lt;/type&gt;\n                        &lt;timeout&gt;20000&lt;/timeout&gt;\n                    &lt;/container&gt;\n\n                    &lt;configuration&gt;\n                        &lt;properties&gt;\n                            &lt;cargo.servlet.port&gt;${http.port}&lt;/cargo.servlet.port&gt;\n                        &lt;/properties&gt;\n                        &lt;deployables&gt;\n                            &lt;deployable&gt;\n                                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n                                &lt;artifactId&gt;${target.artifactId}&lt;/artifactId&gt;\n                                &lt;type&gt;war&lt;/type&gt;\n                                &lt;properties&gt;\n                                    &lt;context&gt;${context.path}&lt;/context&gt;\n                                &lt;/properties&gt;\n                            &lt;/deployable&gt;\n                        &lt;/deployables&gt;\n                    &lt;/configuration&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;!-- Failsafe (runs the acceptance tests) --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;integration-test&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;verify&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;verify&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*Test.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                    &lt;skipTests&gt;false&lt;/skipTests&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n            &lt;!-- Add your tests' dependencies here, e.g. Selenium or Sahi,\n                with \"test\" scope --&gt;\n        &lt;dependency&gt;\n            &lt;!-- The artifact under test --&gt;\n            &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n            &lt;artifactId&gt;${target.artifactId}&lt;/artifactId&gt;\n            &lt;version&gt;${target.version}&lt;/version&gt;\n            &lt;type&gt;war&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;properties&gt;\n        &lt;!-- The artifact under test --&gt;\n        &lt;target.artifactId&gt;cake&lt;/target.artifactId&gt;\n        &lt;target.version&gt;0.1.0-SNAPSHOT&lt;/target.version&gt;\n        &lt;context.path&gt;${target.artifactId}&lt;/context.path&gt;\n        &lt;http.port&gt;8081&lt;/http.port&gt;\n        &lt;java.version&gt;1.6&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Note that even though this \"tests\" project doesn't create an artifact, it has to use some kind of packaging (I used \"jar\" here), otherwise no tests are run in the verify phase.</p>\n"},{"tags":["java","amazon-eks","rmi","ngrok","jconsole"],"owner":{"account_id":6742230,"reputation":145,"user_id":5195090,"accept_rate":60,"display_name":"Abhishek Verma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692705349,"creation_date":1692705349,"question_id":76953059,"body_markdown":"I have a Java service running in AWS EKS. EKS Pod container exposes one HTTP port only. The service running in the container exposes RMI and HTTP ports. I have a limitation of modifying the EKS service to expose another RMI port and I can not use EKS port-forward to expose the port locally. I have shell access of the EKS Contaier.\r\n\r\nTo connect with the RMI I thought of using NGROK and exposing the TCP port using it.\r\nAfter exposing the port I can see the NGROK URL and the PORT, when I try to connect using JConsole it asks me to make use of the InSecure connection or cancel the connection. After selecting the InSecure option it is giving me the below error which I can see after enabling the JConsole debugger.\r\n\r\n```\r\njava.rmi.ConnectException: Connection refused to host: 0.0.0.0; nested exception is: \r\n\tjava.net.ConnectException: Connection refused\r\n\tat java.rmi/sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:626)\r\n\tat java.rmi/sun.rmi.transport.tcp.TCPChannel.createConnection(TCPChannel.java:217)\r\n\tat java.rmi/sun.rmi.transport.tcp.TCPChannel.newConnection(TCPChannel.java:204)\r\n\tat java.rmi/sun.rmi.server.UnicastRef.invoke(UnicastRef.java:134)\r\n\tat java.management.rmi/javax.management.remote.rmi.RMIServerImpl_Stub.newClient(RMIServerImpl_Stub.java:83)\r\n\tat java.management.rmi/javax.management.remote.rmi.RMIConnector.getConnection(RMIConnector.java:2105)\r\n\tat java.management.rmi/javax.management.remote.rmi.RMIConnector.connect(RMIConnector.java:321)\r\n\tat jdk.jconsole/sun.tools.jconsole.ProxyClient.tryConnect(ProxyClient.java:355)\r\n\tat jdk.jconsole/sun.tools.jconsole.ProxyClient.connect(ProxyClient.java:313)\r\n\tat jdk.jconsole/sun.tools.jconsole.VMPanel$2.run(VMPanel.java:296)\r\nCaused by: java.net.ConnectException: Connection refused\r\n\tat java.base/sun.nio.ch.Net.connect0(Native Method)\r\n\tat java.base/sun.nio.ch.Net.connect(Net.java:579)\r\n\tat java.base/sun.nio.ch.Net.connect(Net.java:568)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:576)\r\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\r\n\tat java.base/java.net.Socket.connect(Socket.java:666)\r\n\tat java.base/java.net.Socket.connect(Socket.java:600)\r\n\tat java.base/java.net.Socket.&lt;init&gt;(Socket.java:509)\r\n\tat java.base/java.net.Socket.&lt;init&gt;(Socket.java:289)\r\n\tat java.rmi/sun.rmi.transport.tcp.TCPDirectSocketFactory.createSocket(TCPDirectSocketFactory.java:40)\r\n\tat java.rmi/sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:620)\r\n```\r\n\r\nCommand used to run the Java process:\r\n```-Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=9010 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Djava.rmi.server.hostname=0.0.0.0 -Dcom.sun.management.jmxremote.rmi.port=9010```\r\nAnd I am using JDK19\r\n\r\nCould anyone suggest what could be the reason for this error or suggest a different approach to expose the port? The problem I am facing is in the environment where I don&#39;t have complete access of EKS.\r\n","title":"Access java RMI running on EKS in my local","body":"<p>I have a Java service running in AWS EKS. EKS Pod container exposes one HTTP port only. The service running in the container exposes RMI and HTTP ports. I have a limitation of modifying the EKS service to expose another RMI port and I can not use EKS port-forward to expose the port locally. I have shell access of the EKS Contaier.</p>\n<p>To connect with the RMI I thought of using NGROK and exposing the TCP port using it.\nAfter exposing the port I can see the NGROK URL and the PORT, when I try to connect using JConsole it asks me to make use of the InSecure connection or cancel the connection. After selecting the InSecure option it is giving me the below error which I can see after enabling the JConsole debugger.</p>\n<pre><code>java.rmi.ConnectException: Connection refused to host: 0.0.0.0; nested exception is: \n    java.net.ConnectException: Connection refused\n    at java.rmi/sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:626)\n    at java.rmi/sun.rmi.transport.tcp.TCPChannel.createConnection(TCPChannel.java:217)\n    at java.rmi/sun.rmi.transport.tcp.TCPChannel.newConnection(TCPChannel.java:204)\n    at java.rmi/sun.rmi.server.UnicastRef.invoke(UnicastRef.java:134)\n    at java.management.rmi/javax.management.remote.rmi.RMIServerImpl_Stub.newClient(RMIServerImpl_Stub.java:83)\n    at java.management.rmi/javax.management.remote.rmi.RMIConnector.getConnection(RMIConnector.java:2105)\n    at java.management.rmi/javax.management.remote.rmi.RMIConnector.connect(RMIConnector.java:321)\n    at jdk.jconsole/sun.tools.jconsole.ProxyClient.tryConnect(ProxyClient.java:355)\n    at jdk.jconsole/sun.tools.jconsole.ProxyClient.connect(ProxyClient.java:313)\n    at jdk.jconsole/sun.tools.jconsole.VMPanel$2.run(VMPanel.java:296)\nCaused by: java.net.ConnectException: Connection refused\n    at java.base/sun.nio.ch.Net.connect0(Native Method)\n    at java.base/sun.nio.ch.Net.connect(Net.java:579)\n    at java.base/sun.nio.ch.Net.connect(Net.java:568)\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:576)\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n    at java.base/java.net.Socket.connect(Socket.java:666)\n    at java.base/java.net.Socket.connect(Socket.java:600)\n    at java.base/java.net.Socket.&lt;init&gt;(Socket.java:509)\n    at java.base/java.net.Socket.&lt;init&gt;(Socket.java:289)\n    at java.rmi/sun.rmi.transport.tcp.TCPDirectSocketFactory.createSocket(TCPDirectSocketFactory.java:40)\n    at java.rmi/sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:620)\n</code></pre>\n<p>Command used to run the Java process:\n<code>-Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=9010 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Djava.rmi.server.hostname=0.0.0.0 -Dcom.sun.management.jmxremote.rmi.port=9010</code>\nAnd I am using JDK19</p>\n<p>Could anyone suggest what could be the reason for this error or suggest a different approach to expose the port? The problem I am facing is in the environment where I don't have complete access of EKS.</p>\n"},{"tags":["java","regex","matching"],"comments":[{"owner":{"account_id":4541793,"reputation":26874,"user_id":3689450,"display_name":"VLAZ"},"score":0,"creation_date":1692354035,"post_id":76928431,"comment_id":135614653,"body_markdown":"[Design patterns](https://en.wikipedia.org/wiki/Software_design_pattern) do not relate to regular expressions.","body":"<a href=\"https://en.wikipedia.org/wiki/Software_design_pattern\" rel=\"nofollow noreferrer\">Design patterns</a> do not relate to regular expressions."},{"owner":{"account_id":5848223,"reputation":7526,"user_id":4607733,"accept_rate":80,"display_name":"logi-kal"},"score":2,"creation_date":1692356075,"post_id":76928431,"comment_id":135615030,"body_markdown":"Replace `[^\\d]` with `[^\\n\\r\\d]`","body":"Replace <code>[^\\d]</code> with <code>[^\\n\\r\\d]</code>"}],"answers":[{"comments":[{"owner":{"account_id":3990940,"reputation":662,"user_id":3289905,"accept_rate":8,"display_name":"anakin59490"},"score":0,"creation_date":1692688770,"post_id":76930188,"comment_id":135654269,"body_markdown":"It doesn&#39;t work: i copy paste your regex and update it for java code : \\\\ instead of \\","body":"It doesn&#39;t work: i copy paste your regex and update it for java code : \\\\ instead of \\"},{"owner":{"account_id":2406691,"reputation":18212,"user_id":2102956,"display_name":"Pushpesh Kumar Rajwanshi"},"score":0,"creation_date":1692690407,"post_id":76930188,"comment_id":135654627,"body_markdown":"Can you show me your java code? Most likely some silly mistake.","body":"Can you show me your java code? Most likely some silly mistake."},{"owner":{"account_id":2406691,"reputation":18212,"user_id":2102956,"display_name":"Pushpesh Kumar Rajwanshi"},"score":1,"creation_date":1692705067,"post_id":76930188,"comment_id":135657700,"body_markdown":"Attaching image for code isn&#39;t a good idea as one can&#39;t copy paste and try at their end. Also I can&#39;t see what is the input string you are trying to parse using regex. Updating my answer with sample java code, which works exactly like you want. Seems your input data has some unexpected things you haven&#39;t disclosed.","body":"Attaching image for code isn&#39;t a good idea as one can&#39;t copy paste and try at their end. Also I can&#39;t see what is the input string you are trying to parse using regex. Updating my answer with sample java code, which works exactly like you want. Seems your input data has some unexpected things you haven&#39;t disclosed."},{"owner":{"account_id":3990940,"reputation":662,"user_id":3289905,"accept_rate":8,"display_name":"anakin59490"},"score":0,"creation_date":1692713332,"post_id":76930188,"comment_id":135659906,"body_markdown":"sorry, i did like that to show you : code, input text and output result. My input text come from an extraction of a pdf file. So I test your code in real condition","body":"sorry, i did like that to show you : code, input text and output result. My input text come from an extraction of a pdf file. So I test your code in real condition"},{"owner":{"account_id":2406691,"reputation":18212,"user_id":2102956,"display_name":"Pushpesh Kumar Rajwanshi"},"score":1,"creation_date":1692713515,"post_id":76930188,"comment_id":135659970,"body_markdown":"May be you should extract the text from pdf to a text file and check on regex101 to see if its matching or not. Most likely the text you are trying to parse is not same as you indicated in your post. There is something different in your actual pdf text due to which match is failing.","body":"May be you should extract the text from pdf to a text file and check on regex101 to see if its matching or not. Most likely the text you are trying to parse is not same as you indicated in your post. There is something different in your actual pdf text due to which match is failing."},{"owner":{"account_id":3990940,"reputation":662,"user_id":3289905,"accept_rate":8,"display_name":"anakin59490"},"score":1,"creation_date":1692775704,"post_id":76930188,"comment_id":135668757,"body_markdown":"I try your code and I found why it doesn&#39;t work with extracted text: there is a space character after the LastName","body":"I try your code and I found why it doesn&#39;t work with extracted text: there is a space character after the LastName"},{"owner":{"account_id":2406691,"reputation":18212,"user_id":2102956,"display_name":"Pushpesh Kumar Rajwanshi"},"score":2,"creation_date":1692790119,"post_id":76930188,"comment_id":135671502,"body_markdown":"In that case just put a `\\\\s*` after the lastname part in regex","body":"In that case just put a <code>\\\\s*</code> after the lastname part in regex"},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":2,"creation_date":1694080407,"post_id":76930188,"comment_id":135845352,"body_markdown":"@anakin59490: If it all worked out for you then you should consider accepting this answer.","body":"@anakin59490: If it all worked out for you then you should consider accepting this answer."}],"tags":[],"owner":{"account_id":2406691,"reputation":18212,"user_id":2102956,"display_name":"Pushpesh Kumar Rajwanshi"},"comment_count":8,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692705197,"creation_date":1692368492,"answer_id":76930188,"question_id":76928431,"body_markdown":"Avoid using `[\\s\\S]` and instead use `.` if you don&#39;t want to capture newlines too. Usage of `[\\s\\S]` is leading to capturing of `DOE Country Hospital` because there is a newline after `DOE` and `[\\s\\S]` will capture that newline but `.` won&#39;t unless you use `(?s)` modifier which makes `.` to capture newline too.\r\n\r\nWith the two examples you have in your post, where first line of address is optional, you can use following regex to capture different parts in your address. I have simplified your regex and used `\\R` to match a newline as `\\R` matches almost all variants of newlines in various operating systems.\r\n\r\n    ^(?:(?i)Doctor )?(?&lt;FirstName&gt;\\S+)\\s+(?&lt;LastName&gt;\\S+)(?:\\R(?&lt;AddressLine1&gt;.+))?\\R(?:(?&lt;AddressLine2&gt;.+))\\R(?&lt;Code&gt;\\d{5})\\s+(?&lt;Town&gt;.+)$\r\n\r\n[Demo][1]\r\n\r\nNotice, I have used named groups to make it easy to spot what is what. You can remove it and make the regex shorter. Let me know if this works for you and I will add explanation as you need.\r\n\r\nEdit for working Java code,\r\n\r\n\tpublic static void main(String[] args) {\r\n        final String regex = &quot;^(?:(?i)Doctor )?(?&lt;FirstName&gt;\\\\S+)\\\\s+(?&lt;LastName&gt;\\\\S+)(?:\\\\R(?&lt;AddressLine1&gt;.+))?\\\\R(?:(?&lt;AddressLine2&gt;.+))\\\\R(?&lt;Code&gt;\\\\d{5})\\\\s+(?&lt;Town&gt;.+)$&quot;;\r\n        final String string = &quot;Doctor John DOE\\n&quot;\r\n\t + &quot;123 dream road \\n&quot;\r\n\t + &quot;12345 TOWN\\n\\n\\n&quot;\r\n\t + &quot;Doctor John DOE\\n&quot;\r\n\t + &quot;Country Hospital\\n&quot;\r\n\t + &quot;123 dream road \\n&quot;\r\n\t + &quot;12345 TOWN&quot;;\r\n        \r\n        final Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\r\n        final Matcher matcher = pattern.matcher(string);\r\n        \r\n        while (matcher.find()) {\r\n        \tSystem.out.println(&quot;Full match: &quot; + matcher.group()+ &quot;\\n&quot;);\r\n        \tSystem.out.println(&quot;Group FirstName: &quot; + matcher.group(&quot;FirstName&quot;));\r\n        \tSystem.out.println(&quot;Group LastName: &quot; + matcher.group(&quot;LastName&quot;));\r\n        \tSystem.out.println(&quot;Group AddressLine1: &quot; + matcher.group(&quot;AddressLine1&quot;));\r\n        \tSystem.out.println(&quot;Group AddressLine2: &quot; + matcher.group(&quot;AddressLine2&quot;));\r\n        \tSystem.out.println(&quot;Group Code: &quot; + matcher.group(&quot;Code&quot;));\r\n        \tSystem.out.println(&quot;Group Town: &quot; + matcher.group(&quot;Town&quot;));\r\n        \tSystem.out.println(&quot;\\n\\n&quot;);\r\n        }\r\n    }\r\n\r\nAnd this produces following output,\r\n\r\n    Full match: Doctor John DOE\r\n    123 dream road \r\n    12345 TOWN\r\n    \r\n    Group FirstName: John\r\n    Group LastName: DOE\r\n    Group AddressLine1: null\r\n    Group AddressLine2: 123 dream road \r\n    Group Code: 12345\r\n    Group Town: TOWN\r\n    \r\n    \r\n    \r\n    Full match: Doctor John DOE\r\n    Country Hospital\r\n    123 dream road \r\n    12345 TOWN\r\n    \r\n    Group FirstName: John\r\n    Group LastName: DOE\r\n    Group AddressLine1: Country Hospital\r\n    Group AddressLine2: 123 dream road \r\n    Group Code: 12345\r\n    Group Town: TOWN\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://regex101.com/r/9nDatf/1","title":"Java Regex exclude one line in bloc address","body":"<p>Avoid using <code>[\\s\\S]</code> and instead use <code>.</code> if you don't want to capture newlines too. Usage of <code>[\\s\\S]</code> is leading to capturing of <code>DOE Country Hospital</code> because there is a newline after <code>DOE</code> and <code>[\\s\\S]</code> will capture that newline but <code>.</code> won't unless you use <code>(?s)</code> modifier which makes <code>.</code> to capture newline too.</p>\n<p>With the two examples you have in your post, where first line of address is optional, you can use following regex to capture different parts in your address. I have simplified your regex and used <code>\\R</code> to match a newline as <code>\\R</code> matches almost all variants of newlines in various operating systems.</p>\n<pre><code>^(?:(?i)Doctor )?(?&lt;FirstName&gt;\\S+)\\s+(?&lt;LastName&gt;\\S+)(?:\\R(?&lt;AddressLine1&gt;.+))?\\R(?:(?&lt;AddressLine2&gt;.+))\\R(?&lt;Code&gt;\\d{5})\\s+(?&lt;Town&gt;.+)$\n</code></pre>\n<p><a href=\"https://regex101.com/r/9nDatf/1\" rel=\"nofollow noreferrer\">Demo</a></p>\n<p>Notice, I have used named groups to make it easy to spot what is what. You can remove it and make the regex shorter. Let me know if this works for you and I will add explanation as you need.</p>\n<p>Edit for working Java code,</p>\n<pre><code>public static void main(String[] args) {\n    final String regex = &quot;^(?:(?i)Doctor )?(?&lt;FirstName&gt;\\\\S+)\\\\s+(?&lt;LastName&gt;\\\\S+)(?:\\\\R(?&lt;AddressLine1&gt;.+))?\\\\R(?:(?&lt;AddressLine2&gt;.+))\\\\R(?&lt;Code&gt;\\\\d{5})\\\\s+(?&lt;Town&gt;.+)$&quot;;\n    final String string = &quot;Doctor John DOE\\n&quot;\n + &quot;123 dream road \\n&quot;\n + &quot;12345 TOWN\\n\\n\\n&quot;\n + &quot;Doctor John DOE\\n&quot;\n + &quot;Country Hospital\\n&quot;\n + &quot;123 dream road \\n&quot;\n + &quot;12345 TOWN&quot;;\n    \n    final Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\n    final Matcher matcher = pattern.matcher(string);\n    \n    while (matcher.find()) {\n        System.out.println(&quot;Full match: &quot; + matcher.group()+ &quot;\\n&quot;);\n        System.out.println(&quot;Group FirstName: &quot; + matcher.group(&quot;FirstName&quot;));\n        System.out.println(&quot;Group LastName: &quot; + matcher.group(&quot;LastName&quot;));\n        System.out.println(&quot;Group AddressLine1: &quot; + matcher.group(&quot;AddressLine1&quot;));\n        System.out.println(&quot;Group AddressLine2: &quot; + matcher.group(&quot;AddressLine2&quot;));\n        System.out.println(&quot;Group Code: &quot; + matcher.group(&quot;Code&quot;));\n        System.out.println(&quot;Group Town: &quot; + matcher.group(&quot;Town&quot;));\n        System.out.println(&quot;\\n\\n&quot;);\n    }\n}\n</code></pre>\n<p>And this produces following output,</p>\n<pre><code>Full match: Doctor John DOE\n123 dream road \n12345 TOWN\n\nGroup FirstName: John\nGroup LastName: DOE\nGroup AddressLine1: null\nGroup AddressLine2: 123 dream road \nGroup Code: 12345\nGroup Town: TOWN\n\n\n\nFull match: Doctor John DOE\nCountry Hospital\n123 dream road \n12345 TOWN\n\nGroup FirstName: John\nGroup LastName: DOE\nGroup AddressLine1: Country Hospital\nGroup AddressLine2: 123 dream road \nGroup Code: 12345\nGroup Town: TOWN\n</code></pre>\n"}],"owner":{"account_id":3990940,"reputation":662,"user_id":3289905,"accept_rate":8,"display_name":"anakin59490"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76930188,"answer_count":1,"score":1,"last_activity_date":1692705197,"creation_date":1692353918,"question_id":76928431,"body_markdown":"This is my regex pattern : \r\n\r\n    \\b(?!(?i)Doctor| )([^\\s]*\\b)[\\n\\r\\s]+(\\b[\\S\\s][^\\d]*\\b)[\\s\\S]+([0-9]{5})\\s+([\\D]*)\r\n\r\nI need to retrieve the differents informations in bloc address, ex :\r\n\r\n    Doctor John DOE\r\n    123 dream road \r\n    12345 TOWN\r\n\r\nJava Code:\r\n\r\n    firstName = matcher.group(1).trim();\r\n\tlastName = matcher.group(2).trim();\r\n\r\nIt works fine ! But sometimes there are an additional line :\r\n\r\n    Doctor John DOE\r\n    Country Hospital\r\n    123 dream road \r\n    12345 TOWN\r\n\r\nFirstname is well retrieved: &quot;John&quot; \r\nbut the lastname retrieved is &quot;DOE Country Hospital&quot;\r\n\r\nThe ideal aim would be to get firstname, lastname, address line 1 (if present....), Address line 2, Code and town in separate field.\r\n\r\nbut I don&#39;t find the correct pattern...\r\n\r\n\r\n**EDIT: java code**\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dHyNa.png","title":"Java Regex exclude one line in bloc address","body":"<p>This is my regex pattern :</p>\n<pre><code>\\b(?!(?i)Doctor| )([^\\s]*\\b)[\\n\\r\\s]+(\\b[\\S\\s][^\\d]*\\b)[\\s\\S]+([0-9]{5})\\s+([\\D]*)\n</code></pre>\n<p>I need to retrieve the differents informations in bloc address, ex :</p>\n<pre><code>Doctor John DOE\n123 dream road \n12345 TOWN\n</code></pre>\n<p>Java Code:</p>\n<pre><code>firstName = matcher.group(1).trim();\nlastName = matcher.group(2).trim();\n</code></pre>\n<p>It works fine ! But sometimes there are an additional line :</p>\n<pre><code>Doctor John DOE\nCountry Hospital\n123 dream road \n12345 TOWN\n</code></pre>\n<p>Firstname is well retrieved: &quot;John&quot;\nbut the lastname retrieved is &quot;DOE Country Hospital&quot;</p>\n<p>The ideal aim would be to get firstname, lastname, address line 1 (if present....), Address line 2, Code and town in separate field.</p>\n<p>but I don't find the correct pattern...</p>\n<p><strong>EDIT: java code</strong>\n<a href=\"https://i.stack.imgur.com/dHyNa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dHyNa.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","amazon-web-services","spring-boot","aws-lambda"],"comments":[{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1691679276,"post_id":76876843,"comment_id":135526711,"body_markdown":"Why are you trying to deploy a Spring app as a Lambda function? There are better ways to deploy a Spring app on AWS such as using AWS Fargate and containers.","body":"Why are you trying to deploy a Spring app as a Lambda function? There are better ways to deploy a Spring app on AWS such as using AWS Fargate and containers."}],"owner":{"account_id":14096395,"reputation":1,"user_id":10406964,"display_name":"speedster_10"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692704978,"creation_date":1691678733,"question_id":76876843,"body_markdown":"I have built a spring boot application with several rest apis. I am deploying this application on aws lambda with the help of `SpringBootLambdaContainerHandler`.\r\n\r\nGetting **`Error`**` message: No primary or single unique constructor found for interface jakarta.servlet.http.HttpServletRequest` when i hit the desired endpoint.\r\n\r\nFollowing is the handler:\r\n\r\nLambdaHandler.java\r\n\r\n```\r\npackage com.testapp.api;\r\n\r\nimport com.amazonaws.serverless.exceptions.ContainerInitializationException;\r\nimport com.amazonaws.serverless.proxy.model.AwsProxyRequest;\r\nimport com.amazonaws.serverless.proxy.model.AwsProxyResponse;\r\nimport com.amazonaws.serverless.proxy.spring.SpringBootLambdaContainerHandler;\r\nimport com.amazonaws.services.lambda.runtime.Context;\r\nimport com.amazonaws.services.lambda.runtime.RequestHandler;\r\n\r\npublic class LambdaHandler implements RequestHandler&lt;AwsProxyRequest, AwsProxyResponse&gt; {\r\n    private static SpringBootLambdaContainerHandler&lt;AwsProxyRequest, AwsProxyResponse&gt; handler;\r\n\r\n    static {\r\n        try {\r\n            handler = SpringBootLambdaContainerHandler.getAwsProxyHandler(TestApplication.class); }\r\n        catch (ContainerInitializationException ex){\r\n            throw new RuntimeException(&quot;Unable to load spring boot application&quot;,ex); }\r\n    }\r\n\r\n    @Override\r\n    public AwsProxyResponse handleRequest(AwsProxyRequest input, Context context) {\r\n        return handler.proxy(input, context);\r\n    }\r\n}\r\n```\r\n\r\nUserController.java\r\n\r\n```\r\npackage com.testapp.api.controllers;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.testapp.api.dto.formatter.GetCurrentUserFormatterDto;\r\nimport com.testapp.api.services.users.GetCurrentUserService;\r\n\r\nimport jakarta.servlet.http.HttpServletRequest;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class UserController {\r\n  \r\n  @GetMapping(&quot;/current&quot;)\r\n  public ResponseEntity&lt;String&gt; GetCurrentUser(HttpServletRequest request) {\r\n\r\n    return ResponseEntity.ok().body(&quot;Test&quot;);\r\n  }\r\n}\r\n```\r\n\r\nOn hitting the endpoint:  \r\nI am getting the following error:\r\n\r\n**Error** message: No primary or single unique constructor found for interface jakarta.servlet.http.HttpServletRequest\r\n\r\nAfter searching for a while, I came to know that I might be because of the way lambda handles requests and response using `AwsProxyRequest` and `AwsProxyResponse`. These objects are not directly convertible to `HttpServletRequest` and `HttpServletResponse`. I want a way handle these requests using `HttpServletRequest` in my controller. I have tried using `jakarta.servlet-api` with version = 6.0.0, but the issue still persists.","title":"Error message: No primary or single unique constructor found for interface jakarta.servlet.http.HttpServletRequest","body":"<p>I have built a spring boot application with several rest apis. I am deploying this application on aws lambda with the help of <code>SpringBootLambdaContainerHandler</code>.</p>\n<p>Getting <strong><code>Error</code></strong><code> message: No primary or single unique constructor found for interface jakarta.servlet.http.HttpServletRequest</code> when i hit the desired endpoint.</p>\n<p>Following is the handler:</p>\n<p>LambdaHandler.java</p>\n<pre><code>package com.testapp.api;\n\nimport com.amazonaws.serverless.exceptions.ContainerInitializationException;\nimport com.amazonaws.serverless.proxy.model.AwsProxyRequest;\nimport com.amazonaws.serverless.proxy.model.AwsProxyResponse;\nimport com.amazonaws.serverless.proxy.spring.SpringBootLambdaContainerHandler;\nimport com.amazonaws.services.lambda.runtime.Context;\nimport com.amazonaws.services.lambda.runtime.RequestHandler;\n\npublic class LambdaHandler implements RequestHandler&lt;AwsProxyRequest, AwsProxyResponse&gt; {\n    private static SpringBootLambdaContainerHandler&lt;AwsProxyRequest, AwsProxyResponse&gt; handler;\n\n    static {\n        try {\n            handler = SpringBootLambdaContainerHandler.getAwsProxyHandler(TestApplication.class); }\n        catch (ContainerInitializationException ex){\n            throw new RuntimeException(&quot;Unable to load spring boot application&quot;,ex); }\n    }\n\n    @Override\n    public AwsProxyResponse handleRequest(AwsProxyRequest input, Context context) {\n        return handler.proxy(input, context);\n    }\n}\n</code></pre>\n<p>UserController.java</p>\n<pre><code>package com.testapp.api.controllers;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.testapp.api.dto.formatter.GetCurrentUserFormatterDto;\nimport com.testapp.api.services.users.GetCurrentUserService;\n\nimport jakarta.servlet.http.HttpServletRequest;\n\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class UserController {\n  \n  @GetMapping(&quot;/current&quot;)\n  public ResponseEntity&lt;String&gt; GetCurrentUser(HttpServletRequest request) {\n\n    return ResponseEntity.ok().body(&quot;Test&quot;);\n  }\n}\n</code></pre>\n<p>On hitting the endpoint:<br />\nI am getting the following error:</p>\n<p><strong>Error</strong> message: No primary or single unique constructor found for interface jakarta.servlet.http.HttpServletRequest</p>\n<p>After searching for a while, I came to know that I might be because of the way lambda handles requests and response using <code>AwsProxyRequest</code> and <code>AwsProxyResponse</code>. These objects are not directly convertible to <code>HttpServletRequest</code> and <code>HttpServletResponse</code>. I want a way handle these requests using <code>HttpServletRequest</code> in my controller. I have tried using <code>jakarta.servlet-api</code> with version = 6.0.0, but the issue still persists.</p>\n"},{"tags":["java","cdi","conversation-scope"],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691793482,"creation_date":1691793482,"answer_id":76887009,"question_id":76886861,"body_markdown":"`@ConversationScoped` is primarily about JSF, in which context the word &quot;conversation&quot; has a particular meaning.  I haven&#39;t really used it, but I expect that it would sometimes make sense for the backing bean of a JSF component.\r\n\r\n`Conversation` objects provide a way to access certain properties of JSF conversations.\r\n\r\n&gt; I open conversation, set the value of conversationBean.i = 1, then close conversation and open a new conversation, but the value of conversationBean.i is still 1, why?\r\n\r\nThe injected `ConversationBean` instance may change from request to request, but the one observed by a given invocation of one of your servlet&#39;s request-handling methods will not change during the execution of that method.  Naturally, then, if you modify that bean&#39;s state during `doGet()` then you can observe that modification later in `doGet()`.\r\n\r\nMoreover, `Conversation.startConversation()` and `Conversation.endConversation()` don&#39;t do what their names might lead you to think they do.  They control whether the current conversation is &quot;long-lived&quot; or &quot;transient&quot;, which affects its lifecycle, but they don&#39;t actually start or end a conversation.  The names make a little more sense if you think in terms of starting and ending *long-lived* conversations specifically, but even then they&#39;re not really right.  A single `setLongLived(boolean)` method would be more intuitive.\r\n\r\n&gt; it was supposed to be null, wasn&#39;t it?\r\n\r\nNo.\r\n\r\n&gt; Tell me, maybe I got it wrong?\r\n\r\nYou have incorrect expectations.\r\n\r\nAnd although it&#39;s valid, it doesn&#39;t usually make sense to switch the current conversation back and forth between transient and long-lived multiple times while servicing the same request.  Request boundaries are *inside* conversation boundaries, so only the conversation type prevailing at the end of request processing matters.\r\n\r\n&gt; If so, could you provide an easy example where it really shows that when closing a conversation, all the resources associated with it are cleared?\r\n\r\nThat does not happen *per se*.  If you have a `@ConversationScoped` bean then you can expect to get different instances in different conversation contexts, but `Conversation.startConversation()` and `Conversation.endConversation()` don&#39;t get you a different conversation context for the current request. And if you hold on to a reference to a conversation-scoped bean past the end of the lifetime of the conversation context from which you obtained it, you should not expect that to cause its properties to be modified.","title":"I don&#39;t understand how the @ConversationScoped annotation works in CDI","body":"<p><code>@ConversationScoped</code> is primarily about JSF, in which context the word &quot;conversation&quot; has a particular meaning.  I haven't really used it, but I expect that it would sometimes make sense for the backing bean of a JSF component.</p>\n<p><code>Conversation</code> objects provide a way to access certain properties of JSF conversations.</p>\n<blockquote>\n<p>I open conversation, set the value of conversationBean.i = 1, then close conversation and open a new conversation, but the value of conversationBean.i is still 1, why?</p>\n</blockquote>\n<p>The injected <code>ConversationBean</code> instance may change from request to request, but the one observed by a given invocation of one of your servlet's request-handling methods will not change during the execution of that method.  Naturally, then, if you modify that bean's state during <code>doGet()</code> then you can observe that modification later in <code>doGet()</code>.</p>\n<p>Moreover, <code>Conversation.startConversation()</code> and <code>Conversation.endConversation()</code> don't do what their names might lead you to think they do.  They control whether the current conversation is &quot;long-lived&quot; or &quot;transient&quot;, which affects its lifecycle, but they don't actually start or end a conversation.  The names make a little more sense if you think in terms of starting and ending <em>long-lived</em> conversations specifically, but even then they're not really right.  A single <code>setLongLived(boolean)</code> method would be more intuitive.</p>\n<blockquote>\n<p>it was supposed to be null, wasn't it?</p>\n</blockquote>\n<p>No.</p>\n<blockquote>\n<p>Tell me, maybe I got it wrong?</p>\n</blockquote>\n<p>You have incorrect expectations.</p>\n<p>And although it's valid, it doesn't usually make sense to switch the current conversation back and forth between transient and long-lived multiple times while servicing the same request.  Request boundaries are <em>inside</em> conversation boundaries, so only the conversation type prevailing at the end of request processing matters.</p>\n<blockquote>\n<p>If so, could you provide an easy example where it really shows that when closing a conversation, all the resources associated with it are cleared?</p>\n</blockquote>\n<p>That does not happen <em>per se</em>.  If you have a <code>@ConversationScoped</code> bean then you can expect to get different instances in different conversation contexts, but <code>Conversation.startConversation()</code> and <code>Conversation.endConversation()</code> don't get you a different conversation context for the current request. And if you hold on to a reference to a conversation-scoped bean past the end of the lifetime of the conversation context from which you obtained it, you should not expect that to cause its properties to be modified.</p>\n"}],"owner":{"account_id":27116540,"reputation":1,"user_id":20660794,"display_name":"Vsevolod Kasatchikov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692704954,"creation_date":1691790961,"question_id":76886861,"body_markdown":"I&#39;m using the following code to test the operation of ConversationScoped, but I don&#39;t understand how it works. I open conversation, set the value of conversationBean.i = 1, then close conversation and open a new conversation, but the value of conversationBean.i is still 1, why? it was supposed to be null, wasn&#39;t it?\r\n\r\n```java\r\n@WebServlet(value = &quot;/tes&quot;)\r\npublic class MyTag extends HttpServlet {\r\n    @Inject\r\n    ConversationBean conversationBean;\r\n    @Override\r\n    protected void doGet(HttpServletRequest req,\r\n                         HttpServletResponse resp) {\r\n        conversationBean.startConversation();\r\n        conversationBean.doSomething();\r\n        conversationBean.out();\r\n        conversationBean.endConversation();\r\n        conversationBean.startConversation();\r\n        conversationBean.out();\r\n    }\r\n}\r\n\r\n@ConversationScoped\r\nclass ConversationBean implements Serializable {\r\n    int i = 0;\r\n    @Inject\r\n    private Conversation conversation;\r\n    public void startConversation() {\r\n        conversation.begin();\r\n    }\r\n    public void doSomething() {\r\n        i++;\r\n    }\r\n    public void out() {\r\n        System.out.println(i);\r\n    }\r\n    public void endConversation() {\r\n        conversation.end();\r\n    }\r\n}\r\n```\r\n\r\nTell me, maybe I got it wrong? If so, could you provide an easy example where it really shows that when closing a conversation, all the resources associated with it are cleared?","title":"I don&#39;t understand how the @ConversationScoped annotation works in CDI","body":"<p>I'm using the following code to test the operation of ConversationScoped, but I don't understand how it works. I open conversation, set the value of conversationBean.i = 1, then close conversation and open a new conversation, but the value of conversationBean.i is still 1, why? it was supposed to be null, wasn't it?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebServlet(value = &quot;/tes&quot;)\npublic class MyTag extends HttpServlet {\n    @Inject\n    ConversationBean conversationBean;\n    @Override\n    protected void doGet(HttpServletRequest req,\n                         HttpServletResponse resp) {\n        conversationBean.startConversation();\n        conversationBean.doSomething();\n        conversationBean.out();\n        conversationBean.endConversation();\n        conversationBean.startConversation();\n        conversationBean.out();\n    }\n}\n\n@ConversationScoped\nclass ConversationBean implements Serializable {\n    int i = 0;\n    @Inject\n    private Conversation conversation;\n    public void startConversation() {\n        conversation.begin();\n    }\n    public void doSomething() {\n        i++;\n    }\n    public void out() {\n        System.out.println(i);\n    }\n    public void endConversation() {\n        conversation.end();\n    }\n}\n</code></pre>\n<p>Tell me, maybe I got it wrong? If so, could you provide an easy example where it really shows that when closing a conversation, all the resources associated with it are cleared?</p>\n"},{"tags":["java","cdi"],"owner":{"account_id":27116540,"reputation":1,"user_id":20660794,"display_name":"Vsevolod Kasatchikov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692704910,"creation_date":1691872484,"question_id":76891040,"body_markdown":"Why is this happening? Must the call occur 1 time? If I use @RequestScoped, then everything happens as usual and the constructor is called 1 time.\r\n\r\n```java\r\n@WebServlet(value = &quot;/tes&quot;)\r\npublic class MyTag extends HttpServlet {\r\n    @Inject\r\n    MyBean myBean;\r\n    @Override\r\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) {\r\n        \r\n    }\r\n}\r\n\r\n\r\n@Model\r\n@Dependent\r\nclass MyBean {\r\n    public MyBean() {\r\n        System.out.println(&quot;construct&quot;);\r\n    }\r\n    @PostConstruct\r\n    private void postConstructMethod() {\r\n        System.out.println(&quot;post constructing&quot;);\r\n    }\r\n}\r\n```","title":"When implementing a bean with the @Dependent annotation, 2 constructor calls occur","body":"<p>Why is this happening? Must the call occur 1 time? If I use @RequestScoped, then everything happens as usual and the constructor is called 1 time.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebServlet(value = &quot;/tes&quot;)\npublic class MyTag extends HttpServlet {\n    @Inject\n    MyBean myBean;\n    @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) {\n        \n    }\n}\n\n\n@Model\n@Dependent\nclass MyBean {\n    public MyBean() {\n        System.out.println(&quot;construct&quot;);\n    }\n    @PostConstruct\n    private void postConstructMethod() {\n        System.out.println(&quot;post constructing&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","cdi"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1692997122,"post_id":76905802,"comment_id":135706603,"body_markdown":"This is definitely doable with a CDI portable extension. It needs some experimentation but, although not trivial, it is not super complicated either.","body":"This is definitely doable with a CDI portable extension. It needs some experimentation but, although not trivial, it is not super complicated either."},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1693005575,"post_id":76905802,"comment_id":135707519,"body_markdown":"[This](https://lairdnelson.wordpress.com/2017/02/11/dynamic-cdi-producer-methods/) seems to be a very good read, close to what you are looking for.","body":"<a href=\"https://lairdnelson.wordpress.com/2017/02/11/dynamic-cdi-producer-methods/\" rel=\"nofollow noreferrer\">This</a> seems to be a very good read, close to what you are looking for."},{"owner":{"account_id":20670640,"reputation":11,"user_id":15176478,"display_name":"Matej Delin&#225;k"},"score":0,"creation_date":1693045448,"post_id":76905802,"comment_id":135710055,"body_markdown":"Thx, i will look into it.","body":"Thx, i will look into it."}],"owner":{"account_id":20670640,"reputation":11,"user_id":15176478,"display_name":"Matej Delin&#225;k"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692704638,"creation_date":1692100837,"question_id":76905802,"body_markdown":"I have javaEE application in which i have factory class which has multiple @Produces methods. This method produce classes that i use in application with @Inject annotation. The issue is, when i want to add new @Produce method i need to write it manually. How can I register all classes in loop (lets say with some custom annotation) so that i dont need to have so many @produces methods, but i can still use @inject?\r\n\r\n\r\n\r\nExample of factory:\r\n```\r\npublic class Factory {\r\n    @Produces\r\n    public DaoX daoX() {\r\n        return this.jdbi.onDemand(DaoX.class);\r\n    }\r\n\r\n    @Produces\r\n    public DaoY daoY() {\r\n        return this.jdbi.onDemand(DaoY.class);\r\n    }\r\n}\r\n```\r\n\r\nUsage of daos:\r\n\r\n```\r\n    @Inject\r\n    private DaoX daoX;\r\n\r\n    @Inject\r\n    private DaoY daoY;\r\n```\r\n\r\nThx for help!","title":"How to overcome multiple @Produces methods?","body":"<p>I have javaEE application in which i have factory class which has multiple @Produces methods. This method produce classes that i use in application with @Inject annotation. The issue is, when i want to add new @Produce method i need to write it manually. How can I register all classes in loop (lets say with some custom annotation) so that i dont need to have so many @produces methods, but i can still use @inject?</p>\n<p>Example of factory:</p>\n<pre><code>public class Factory {\n    @Produces\n    public DaoX daoX() {\n        return this.jdbi.onDemand(DaoX.class);\n    }\n\n    @Produces\n    public DaoY daoY() {\n        return this.jdbi.onDemand(DaoY.class);\n    }\n}\n</code></pre>\n<p>Usage of daos:</p>\n<pre><code>    @Inject\n    private DaoX daoX;\n\n    @Inject\n    private DaoY daoY;\n</code></pre>\n<p>Thx for help!</p>\n"},{"tags":["java","jetty","cxf","jakarta-migration"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1692121966,"post_id":76906151,"comment_id":135580595,"body_markdown":"Did you upgrade Jetty as well? I don&#39;t know if you need at least version 10 or 11; I&#39;ve used 11 successfully in one of my  projects.","body":"Did you upgrade Jetty as well? I don&#39;t know if you need at least version 10 or 11; I&#39;ve used 11 successfully in one of my  projects."},{"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"score":0,"creation_date":1692169139,"post_id":76906151,"comment_id":135585629,"body_markdown":"Thanks Rob, yes it is 11.0.5 jetty servlet","body":"Thanks Rob, yes it is 11.0.5 jetty servlet"}],"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692704618,"creation_date":1692104291,"question_id":76906151,"body_markdown":"Here is my CXF web service application. When I upgraded javax to jakarta here shows the change and exception.\r\n\r\n&gt; cxfVersion=4.0.2 \r\n&gt; \r\n&gt; slf4jVersion=2.0.7\r\n&gt;\r\n&gt; org.apache.cxf:cxf-rt-transports-http-jetty:4.0.2\r\n&gt;\r\n&gt; org.eclipse.jetty:jetty-servlet:11.0.15\r\n&gt;\r\n&gt; org.eclipse.jetty.toolchain:jetty-jakarta-servlet-api:5.0.2\r\n\r\n\r\n    public void Server startServer(WebServiceClientFactory&lt;Order&gt; webServiceClientFactory,\r\n    \t\t\t\t\t\t\t\t  TokenAuthorizer tokenAuthorizer) {\r\n    \tinitResources(webServiceClientFactory);\r\n    \tCXFNonSpringJaxrsServlet cxf = new CXFNonSpringJaxrsServlet();\r\n    \tServletHolder servlet = new ServletHolder(cxf);\r\n    \tservlet.setInitParameter(&quot;jakarta.ws.rs.core.Application&quot;, MainApplication.class.getName());\r\n    \tservlet.setInitOrder(1);\r\n    \tservlet.setName(&quot;services&quot;);\r\n    \tservlet.setForcedPath(&quot;services&quot;);\r\n    \tServletContextHandler handler = new ServletContextHandler();\r\n    \thandler.addServlet(servlet, &quot;/*&quot;);\r\n    \tServer jetty = JettyUtils.getJetty(clientFactory.getCertificateClient(), ConfigUtils.CONFIG);\r\n    \tjetty.setHandler(handler);\r\n    \tjetty.start();\r\n    }\r\n\r\nAnd the expception now I&#39;m getting is showing below\r\n\r\n    jakarta.servlet.ServletException: At least one resource class should be specified\r\n    \tat org.apache.cxf.jaxrs.servlet.CXFNonSpringJaxrsServlet.getServiceClasses(CXFNonSpringJaxrsServlet.java:304)\r\n    \tat org.apache.cxf.jaxrs.servlet.CXFNonSpringJaxrsServlet.init(CXFNonSpringJaxrsServlet.java:153)\r\n    \tat org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:633)\r\n    \tat org.eclipse.jetty.servlet.ServletHolder.initialize(ServletHolder.java:415)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler.lambda$initialize$2(ServletHandler.java:725)\r\n    \tat java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n    \tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n    \tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:749)\r\n    \tat org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:392)\r\n    \tat org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:902)\r\n    \tat org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:306)\r\n    \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n    \tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\r\n    \tat org.eclipse.jetty.server.Server.start(Server.java:470)\r\n    \tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\r\n    \tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\r\n    \tat org.eclipse.jetty.server.Server.doStart(Server.java:415)\r\n    \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)","title":"How to setup jetty server properly after jakarta migration","body":"<p>Here is my CXF web service application. When I upgraded javax to jakarta here shows the change and exception.</p>\n<blockquote>\n<p>cxfVersion=4.0.2</p>\n<p>slf4jVersion=2.0.7</p>\n<p>org.apache.cxf:cxf-rt-transports-http-jetty:4.0.2</p>\n<p>org.eclipse.jetty:jetty-servlet:11.0.15</p>\n<p>org.eclipse.jetty.toolchain:jetty-jakarta-servlet-api:5.0.2</p>\n</blockquote>\n<pre><code>public void Server startServer(WebServiceClientFactory&lt;Order&gt; webServiceClientFactory,\n                                  TokenAuthorizer tokenAuthorizer) {\n    initResources(webServiceClientFactory);\n    CXFNonSpringJaxrsServlet cxf = new CXFNonSpringJaxrsServlet();\n    ServletHolder servlet = new ServletHolder(cxf);\n    servlet.setInitParameter(&quot;jakarta.ws.rs.core.Application&quot;, MainApplication.class.getName());\n    servlet.setInitOrder(1);\n    servlet.setName(&quot;services&quot;);\n    servlet.setForcedPath(&quot;services&quot;);\n    ServletContextHandler handler = new ServletContextHandler();\n    handler.addServlet(servlet, &quot;/*&quot;);\n    Server jetty = JettyUtils.getJetty(clientFactory.getCertificateClient(), ConfigUtils.CONFIG);\n    jetty.setHandler(handler);\n    jetty.start();\n}\n</code></pre>\n<p>And the expception now I'm getting is showing below</p>\n<pre><code>jakarta.servlet.ServletException: At least one resource class should be specified\n    at org.apache.cxf.jaxrs.servlet.CXFNonSpringJaxrsServlet.getServiceClasses(CXFNonSpringJaxrsServlet.java:304)\n    at org.apache.cxf.jaxrs.servlet.CXFNonSpringJaxrsServlet.init(CXFNonSpringJaxrsServlet.java:153)\n    at org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:633)\n    at org.eclipse.jetty.servlet.ServletHolder.initialize(ServletHolder.java:415)\n    at org.eclipse.jetty.servlet.ServletHandler.lambda$initialize$2(ServletHandler.java:725)\n    at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n    at org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:749)\n    at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:392)\n    at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:902)\n    at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:306)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\n    at org.eclipse.jetty.server.Server.start(Server.java:470)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\n    at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\n    at org.eclipse.jetty.server.Server.doStart(Server.java:415)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n</code></pre>\n"},{"tags":["java","apache-poi","wildfly"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1692479189,"post_id":76925071,"comment_id":135629640,"body_markdown":"I would assume the user doesn&#39;t have access to write to the file system or the specific file. However, the stack trace is cut off so it&#39;s just a guess.","body":"I would assume the user doesn&#39;t have access to write to the file system or the specific file. However, the stack trace is cut off so it&#39;s just a guess."},{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1692710683,"post_id":76925071,"comment_id":135659164,"body_markdown":"The simpler explanation is that the three instances have three different users and only one of those users has the rights to the relevant folder/file. The issue is independent from the Java code.","body":"The simpler explanation is that the three instances have three different users and only one of those users has the rights to the relevant folder/file. The issue is independent from the Java code."}],"owner":{"account_id":22236625,"reputation":1,"user_id":18215171,"display_name":"Jos&#233; Candia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692704574,"creation_date":1692305804,"question_id":76925071,"body_markdown":"I have two servers running a Java Application 1.8 and JAX-RS in 3 instances (total 6 instances between 2 servers), each instance have a Wildfly 24 Server but I have an error when I try to generate an xlsx file `application/vnd.ms-excel`, in the first instance of the first server this works, but if I try in another one of the same instance I have the following error:\r\n\r\n```\r\n2023-08-17 16:11:24,351 INFO  [cl.test.services.rest.ReportRS] (default task-5) [start method] getControlReport\r\n2023-08-17 16:11:26,772 ERROR [stderr] (default task-5) java.lang.RuntimeException: java.io.IOException: Permission denied\r\n2023-08-17 16:11:26,773 ERROR [stderr] (default task-5)         at deployment.srv-reports.ear//org.apache.poi.xssf.streaming.SXSSFWorkbook.createAndRegisterSXSSFSheet(SXSSFWorkbook.java:705)\r\n2023-08-17 16:11:26,773 ERROR [stderr] (default task-5)         at deployment.srv-reports.ear//org.apache.poi.xssf.streaming.SXSSFWorkbook.createSheet(SXSSFWorkbook.java:722)\r\n2023-08-17 16:11:26,773 ERROR [stderr] (default task-5)         at deployment.srv-reports.ear.srv-reports-ejb.jar//cl.test.ejb.pattern.bo.ReportBO.getControlReport(ReportBO.java:830)\r\n2023-08-17 16:11:26,773 ERROR [stderr] (default task-5)         at deployment.reports.ear.srv-reports-ejb.jar//cl.test.ejb.session.stateless.facade.ReportsFacade.getControlReport(ReportsFacade.java:175)\r\n2023-08-17 16:11:26,773 ERROR [stderr] (default task-5)         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n2023-08-17 16:11:26,773 ERROR [stderr] (default task-5)         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n2023-08-17 16:11:26,773 ERROR [stderr] (default task-5)         at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n2023-08-17 16:11:26,773 ERROR [stderr] (default task-5)         at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n```\r\n\r\nThis is an example how to work now:\r\n\r\nServer 1:\r\n\r\n - Instance 1: Works\r\n - Instance 2: Permission denied\r\n - Instance 3: Permission denied\r\n\r\nServer 2:\r\n\r\n - Instance 1: Permission denied\r\n - Instance 2: Works\r\n - Instance 3: Permission denied\r\n\r\nEach instance of servers was created with the same Wildfly configuration and JDK\r\n\r\nI tried to generate an XLSX with JAX-RS and `@Produces({&quot;application/vnd.ms-excel&quot;})` but just works in 1 instance of each server. I want to this works in each instance.","title":"SXSSFWorkbook.createSheet: java.lang.RuntimeException: java.io.IOException: Permission denied","body":"<p>I have two servers running a Java Application 1.8 and JAX-RS in 3 instances (total 6 instances between 2 servers), each instance have a Wildfly 24 Server but I have an error when I try to generate an xlsx file <code>application/vnd.ms-excel</code>, in the first instance of the first server this works, but if I try in another one of the same instance I have the following error:</p>\n<pre><code>2023-08-17 16:11:24,351 INFO  [cl.test.services.rest.ReportRS] (default task-5) [start method] getControlReport\n2023-08-17 16:11:26,772 ERROR [stderr] (default task-5) java.lang.RuntimeException: java.io.IOException: Permission denied\n2023-08-17 16:11:26,773 ERROR [stderr] (default task-5)         at deployment.srv-reports.ear//org.apache.poi.xssf.streaming.SXSSFWorkbook.createAndRegisterSXSSFSheet(SXSSFWorkbook.java:705)\n2023-08-17 16:11:26,773 ERROR [stderr] (default task-5)         at deployment.srv-reports.ear//org.apache.poi.xssf.streaming.SXSSFWorkbook.createSheet(SXSSFWorkbook.java:722)\n2023-08-17 16:11:26,773 ERROR [stderr] (default task-5)         at deployment.srv-reports.ear.srv-reports-ejb.jar//cl.test.ejb.pattern.bo.ReportBO.getControlReport(ReportBO.java:830)\n2023-08-17 16:11:26,773 ERROR [stderr] (default task-5)         at deployment.reports.ear.srv-reports-ejb.jar//cl.test.ejb.session.stateless.facade.ReportsFacade.getControlReport(ReportsFacade.java:175)\n2023-08-17 16:11:26,773 ERROR [stderr] (default task-5)         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n2023-08-17 16:11:26,773 ERROR [stderr] (default task-5)         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n2023-08-17 16:11:26,773 ERROR [stderr] (default task-5)         at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n2023-08-17 16:11:26,773 ERROR [stderr] (default task-5)         at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n</code></pre>\n<p>This is an example how to work now:</p>\n<p>Server 1:</p>\n<ul>\n<li>Instance 1: Works</li>\n<li>Instance 2: Permission denied</li>\n<li>Instance 3: Permission denied</li>\n</ul>\n<p>Server 2:</p>\n<ul>\n<li>Instance 1: Permission denied</li>\n<li>Instance 2: Works</li>\n<li>Instance 3: Permission denied</li>\n</ul>\n<p>Each instance of servers was created with the same Wildfly configuration and JDK</p>\n<p>I tried to generate an XLSX with JAX-RS and <code>@Produces({&quot;application/vnd.ms-excel&quot;})</code> but just works in 1 instance of each server. I want to this works in each instance.</p>\n"},{"tags":["java","spring-security","spring-webflux","reactor-netty"],"comments":[{"owner":{"account_id":7444496,"reputation":521,"user_id":5661175,"display_name":"erik.aortiz"},"score":0,"creation_date":1617999767,"post_id":50015711,"comment_id":118479021,"body_markdown":"I made a functional example project implementing webflux security + jwt, hope it helps https://github.com/eriknyk/webflux-jwt-security-demo","body":"I made a functional example project implementing webflux security + jwt, hope it helps <a href=\"https://github.com/eriknyk/webflux-jwt-security-demo\" rel=\"nofollow noreferrer\">github.com/eriknyk/webflux-jwt-security-demo</a>"}],"answers":[{"tags":[],"owner":{"account_id":1712006,"reputation":2649,"user_id":8951344,"display_name":"MuratOzkan"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1524665534,"creation_date":1524665534,"answer_id":50024511,"question_id":50015711,"body_markdown":"You are almost there. The following converter worked for me: \r\n\r\n\r\n    public class LoginJsonAuthConverter implements Function&lt;ServerWebExchange, Mono&lt;Authentication&gt;&gt; {\r\n\r\n        private final ObjectMapper mapper;\r\n\r\n        @Override\r\n        public Mono&lt;Authentication&gt; apply(ServerWebExchange exchange) {\r\n            return exchange.getRequest().getBody()\r\n                    .next()\r\n                    .flatMap(buffer -&gt; {\r\n                        try {\r\n                            SignInRequest request = mapper.readValue(buffer.asInputStream(), SignInRequest.class);\r\n                            return Mono.just(request);\r\n                        } catch (IOException e) {\r\n                            log.debug(&quot;Can&#39;t read login request from JSON&quot;);\r\n                            return Mono.error(e);\r\n                        }\r\n                    })\r\n                    .map(request -&gt; new UsernamePasswordAuthenticationToken(request.getUsername(), request.getPassword()));\r\n        }\r\n    }\r\n\r\nFurthermore, you don&#39;t need the sign in controller; `spring-security` will check each request for you in the filter. Here&#39;s how I configured spring-security with an `ServerAuthenticationEntryPoint`:\r\n\r\n    @Bean\r\n    public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http,\r\n                                                            ReactiveAuthenticationManager authManager) {\r\n        return http\r\n                .csrf().disable()\r\n                .authorizeExchange()\r\n                .pathMatchers(&quot;/api/**&quot;).authenticated()\r\n                .pathMatchers(&quot;/**&quot;, &quot;/login&quot;, &quot;/logout&quot;).permitAll()\r\n                .and().exceptionHandling().authenticationEntryPoint(restAuthEntryPoint)\r\n                .and().addFilterAt(authenticationWebFilter(authManager), SecurityWebFiltersOrder.AUTHENTICATION)\r\n                .logout()\r\n                .and().build();\r\n    }\r\n\r\nHope this helps.","title":"Spring Security WebFlux - body with Authentication","body":"<p>You are almost there. The following converter worked for me: </p>\n\n<pre><code>public class LoginJsonAuthConverter implements Function&lt;ServerWebExchange, Mono&lt;Authentication&gt;&gt; {\n\n    private final ObjectMapper mapper;\n\n    @Override\n    public Mono&lt;Authentication&gt; apply(ServerWebExchange exchange) {\n        return exchange.getRequest().getBody()\n                .next()\n                .flatMap(buffer -&gt; {\n                    try {\n                        SignInRequest request = mapper.readValue(buffer.asInputStream(), SignInRequest.class);\n                        return Mono.just(request);\n                    } catch (IOException e) {\n                        log.debug(\"Can't read login request from JSON\");\n                        return Mono.error(e);\n                    }\n                })\n                .map(request -&gt; new UsernamePasswordAuthenticationToken(request.getUsername(), request.getPassword()));\n    }\n}\n</code></pre>\n\n<p>Furthermore, you don't need the sign in controller; <code>spring-security</code> will check each request for you in the filter. Here's how I configured spring-security with an <code>ServerAuthenticationEntryPoint</code>:</p>\n\n<pre><code>@Bean\npublic SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http,\n                                                        ReactiveAuthenticationManager authManager) {\n    return http\n            .csrf().disable()\n            .authorizeExchange()\n            .pathMatchers(\"/api/**\").authenticated()\n            .pathMatchers(\"/**\", \"/login\", \"/logout\").permitAll()\n            .and().exceptionHandling().authenticationEntryPoint(restAuthEntryPoint)\n            .and().addFilterAt(authenticationWebFilter(authManager), SecurityWebFiltersOrder.AUTHENTICATION)\n            .logout()\n            .and().build();\n}\n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":10469664,"reputation":579,"user_id":7717933,"display_name":" "},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524776708,"creation_date":1524774903,"answer_id":50051421,"question_id":50015711,"body_markdown":"Finally I config WebFlux security so (pay attention to logout handling, logout doesn&#39;t have any standard ready-for-use configuration for 5.0.4.RELEASE, you must disable default logout config anyway, because default logout spec creates new SecurityContextRepository by default and doesn&#39;t allow you to set your repository).\r\n\r\n**UPDATE:** default logout configuration doesn&#39;t work only in case when you set custom SpringSecurityContextAttributeName in SecurityContextRepository for web session.\r\n\r\n    @Configuration\r\n    @EnableWebFluxSecurity\r\n    @EnableReactiveMethodSecurity(proxyTargetClass = true)\r\n    public class WebFluxSecurityConfig {\r\n    \r\n        @Autowired\r\n        private ReactiveUserDetailsService userDetailsService;\r\n    \r\n        @Autowired\r\n        private ObjectMapper mapper;\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder(11);\r\n        }\r\n    \r\n        @Bean\r\n        public ServerSecurityContextRepository securityContextRepository() {\r\n            WebSessionServerSecurityContextRepository securityContextRepository =\r\n                    new WebSessionServerSecurityContextRepository();\r\n    \r\n            securityContextRepository.setSpringSecurityContextAttrName(&quot;langdope-security-context&quot;);\r\n    \r\n            return securityContextRepository;\r\n        }\r\n    \r\n        @Bean\r\n        public ReactiveAuthenticationManager authenticationManager() {\r\n            UserDetailsRepositoryReactiveAuthenticationManager authenticationManager =\r\n                    new UserDetailsRepositoryReactiveAuthenticationManager(userDetailsService);\r\n    \r\n            authenticationManager.setPasswordEncoder(passwordEncoder());\r\n    \r\n            return authenticationManager;\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityWebFilterChain securityWebFiltersOrder(ServerHttpSecurity httpSecurity) {\r\n            return httpSecurity\r\n                    .csrf().disable()\r\n                    .httpBasic().disable()\r\n                    .formLogin().disable()\r\n                    .logout().disable()\r\n                    .securityContextRepository(securityContextRepository())\r\n                    .authorizeExchange()\r\n                        .anyExchange().permitAll() // Currently\r\n                    .and()\r\n                    .addFilterAt(authenticationWebFilter(), SecurityWebFiltersOrder.AUTHENTICATION)\r\n                    .addFilterAt(logoutWebFilter(), SecurityWebFiltersOrder.LOGOUT)\r\n                    .build();\r\n        }\r\n    \r\n        private AuthenticationWebFilter authenticationWebFilter() {\r\n            AuthenticationWebFilter filter = new AuthenticationWebFilter(authenticationManager());\r\n    \r\n            filter.setSecurityContextRepository(securityContextRepository());\r\n            filter.setAuthenticationConverter(jsonBodyAuthenticationConverter());\r\n            filter.setAuthenticationSuccessHandler(new RedirectServerAuthenticationSuccessHandler(&quot;/home&quot;));\r\n            filter.setAuthenticationFailureHandler(\r\n                    new ServerAuthenticationEntryPointFailureHandler(\r\n                            new RedirectServerAuthenticationEntryPoint(&quot;/authentication-failure&quot;)\r\n                    )\r\n            );\r\n            filter.setRequiresAuthenticationMatcher(\r\n                    ServerWebExchangeMatchers.pathMatchers(HttpMethod.POST, &quot;/signin&quot;)\r\n            );\r\n    \r\n            return filter;\r\n        }\r\n    \r\n        private LogoutWebFilter logoutWebFilter() {\r\n            LogoutWebFilter logoutWebFilter = new LogoutWebFilter();\r\n    \r\n            SecurityContextServerLogoutHandler logoutHandler = new SecurityContextServerLogoutHandler();\r\n            logoutHandler.setSecurityContextRepository(securityContextRepository());\r\n    \r\n            RedirectServerLogoutSuccessHandler logoutSuccessHandler = new RedirectServerLogoutSuccessHandler();\r\n            logoutSuccessHandler.setLogoutSuccessUrl(URI.create(&quot;/&quot;));\r\n    \r\n            logoutWebFilter.setLogoutHandler(logoutHandler);\r\n            logoutWebFilter.setLogoutSuccessHandler(logoutSuccessHandler);\r\n            logoutWebFilter.setRequiresLogoutMatcher(\r\n                    ServerWebExchangeMatchers.pathMatchers(HttpMethod.GET, &quot;/logout&quot;)\r\n            );\r\n    \r\n            return logoutWebFilter;\r\n        }\r\n    \r\n        private Function&lt;ServerWebExchange, Mono&lt;Authentication&gt;&gt; jsonBodyAuthenticationConverter() {\r\n            return exchange -&gt; exchange\r\n                    .getRequest()\r\n                    .getBody()\r\n                    .next()\r\n                    .flatMap(body -&gt; {\r\n                        try {\r\n                            UserController.SignInForm signInForm =\r\n                                    mapper.readValue(body.asInputStream(), UserController.SignInForm.class);\r\n    \r\n                            return Mono.just(\r\n                                    new UsernamePasswordAuthenticationToken(\r\n                                            signInForm.getUsername(),\r\n                                            signInForm.getPassword()\r\n                                    )\r\n                            );\r\n                        } catch (IOException e) {\r\n                            return Mono.error(new LangDopeException(&quot;Error while parsing credentials&quot;));\r\n                        }\r\n                    });\r\n        }\r\n    \r\n    }","title":"Spring Security WebFlux - body with Authentication","body":"<p>Finally I config WebFlux security so (pay attention to logout handling, logout doesn't have any standard ready-for-use configuration for 5.0.4.RELEASE, you must disable default logout config anyway, because default logout spec creates new SecurityContextRepository by default and doesn't allow you to set your repository).</p>\n\n<p><strong>UPDATE:</strong> default logout configuration doesn't work only in case when you set custom SpringSecurityContextAttributeName in SecurityContextRepository for web session.</p>\n\n<pre><code>@Configuration\n@EnableWebFluxSecurity\n@EnableReactiveMethodSecurity(proxyTargetClass = true)\npublic class WebFluxSecurityConfig {\n\n    @Autowired\n    private ReactiveUserDetailsService userDetailsService;\n\n    @Autowired\n    private ObjectMapper mapper;\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder(11);\n    }\n\n    @Bean\n    public ServerSecurityContextRepository securityContextRepository() {\n        WebSessionServerSecurityContextRepository securityContextRepository =\n                new WebSessionServerSecurityContextRepository();\n\n        securityContextRepository.setSpringSecurityContextAttrName(\"langdope-security-context\");\n\n        return securityContextRepository;\n    }\n\n    @Bean\n    public ReactiveAuthenticationManager authenticationManager() {\n        UserDetailsRepositoryReactiveAuthenticationManager authenticationManager =\n                new UserDetailsRepositoryReactiveAuthenticationManager(userDetailsService);\n\n        authenticationManager.setPasswordEncoder(passwordEncoder());\n\n        return authenticationManager;\n    }\n\n    @Bean\n    public SecurityWebFilterChain securityWebFiltersOrder(ServerHttpSecurity httpSecurity) {\n        return httpSecurity\n                .csrf().disable()\n                .httpBasic().disable()\n                .formLogin().disable()\n                .logout().disable()\n                .securityContextRepository(securityContextRepository())\n                .authorizeExchange()\n                    .anyExchange().permitAll() // Currently\n                .and()\n                .addFilterAt(authenticationWebFilter(), SecurityWebFiltersOrder.AUTHENTICATION)\n                .addFilterAt(logoutWebFilter(), SecurityWebFiltersOrder.LOGOUT)\n                .build();\n    }\n\n    private AuthenticationWebFilter authenticationWebFilter() {\n        AuthenticationWebFilter filter = new AuthenticationWebFilter(authenticationManager());\n\n        filter.setSecurityContextRepository(securityContextRepository());\n        filter.setAuthenticationConverter(jsonBodyAuthenticationConverter());\n        filter.setAuthenticationSuccessHandler(new RedirectServerAuthenticationSuccessHandler(\"/home\"));\n        filter.setAuthenticationFailureHandler(\n                new ServerAuthenticationEntryPointFailureHandler(\n                        new RedirectServerAuthenticationEntryPoint(\"/authentication-failure\")\n                )\n        );\n        filter.setRequiresAuthenticationMatcher(\n                ServerWebExchangeMatchers.pathMatchers(HttpMethod.POST, \"/signin\")\n        );\n\n        return filter;\n    }\n\n    private LogoutWebFilter logoutWebFilter() {\n        LogoutWebFilter logoutWebFilter = new LogoutWebFilter();\n\n        SecurityContextServerLogoutHandler logoutHandler = new SecurityContextServerLogoutHandler();\n        logoutHandler.setSecurityContextRepository(securityContextRepository());\n\n        RedirectServerLogoutSuccessHandler logoutSuccessHandler = new RedirectServerLogoutSuccessHandler();\n        logoutSuccessHandler.setLogoutSuccessUrl(URI.create(\"/\"));\n\n        logoutWebFilter.setLogoutHandler(logoutHandler);\n        logoutWebFilter.setLogoutSuccessHandler(logoutSuccessHandler);\n        logoutWebFilter.setRequiresLogoutMatcher(\n                ServerWebExchangeMatchers.pathMatchers(HttpMethod.GET, \"/logout\")\n        );\n\n        return logoutWebFilter;\n    }\n\n    private Function&lt;ServerWebExchange, Mono&lt;Authentication&gt;&gt; jsonBodyAuthenticationConverter() {\n        return exchange -&gt; exchange\n                .getRequest()\n                .getBody()\n                .next()\n                .flatMap(body -&gt; {\n                    try {\n                        UserController.SignInForm signInForm =\n                                mapper.readValue(body.asInputStream(), UserController.SignInForm.class);\n\n                        return Mono.just(\n                                new UsernamePasswordAuthenticationToken(\n                                        signInForm.getUsername(),\n                                        signInForm.getPassword()\n                                )\n                        );\n                    } catch (IOException e) {\n                        return Mono.error(new LangDopeException(\"Error while parsing credentials\"));\n                    }\n                });\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1049344,"reputation":1539,"user_id":1053629,"display_name":"Tires"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692704570,"creation_date":1692704570,"answer_id":76952958,"question_id":50015711,"body_markdown":"You can just save the security context in the repository and optionally put it in the context:\r\n\r\n\t@Autowired\r\n\tprivate ServerSecurityContextRepository securityContextRepository;\r\n\r\n    @PostMapping(&quot;/signin&quot;)\r\n    public Mono&lt;Void&gt; signIn(@RequestBody SignInForm signInForm, ServerWebExchange webExchange) {\r\n        // TODO check credentials\r\n        SecurityContext securityContext = new SecurityContextImpl(new UsernamePasswordAuthenticationToken(user, null))\r\n        return securityContextRepository\r\n\t\t\t.save(webExchange, securityContext)\r\n\t\t\t.contextWrite(ReactiveSecurityContextHolder.withSecurityContext(Mono.just(securityContext)));\r\n\t}\r\n\r\nThe line with contextWrite is only required in case to use the SecurityContext in the ongoing request. In subsequent requests, the AuthorizationFilter will establish the context anyway.","title":"Spring Security WebFlux - body with Authentication","body":"<p>You can just save the security context in the repository and optionally put it in the context:</p>\n<pre><code>@Autowired\nprivate ServerSecurityContextRepository securityContextRepository;\n\n@PostMapping(&quot;/signin&quot;)\npublic Mono&lt;Void&gt; signIn(@RequestBody SignInForm signInForm, ServerWebExchange webExchange) {\n    // TODO check credentials\n    SecurityContext securityContext = new SecurityContextImpl(new UsernamePasswordAuthenticationToken(user, null))\n    return securityContextRepository\n        .save(webExchange, securityContext)\n        .contextWrite(ReactiveSecurityContextHolder.withSecurityContext(Mono.just(securityContext)));\n}\n</code></pre>\n<p>The line with contextWrite is only required in case to use the SecurityContext in the ongoing request. In subsequent requests, the AuthorizationFilter will establish the context anyway.</p>\n"}],"owner":{"account_id":10469664,"reputation":579,"user_id":7717933,"display_name":" "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21300,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":50024511,"answer_count":3,"score":6,"last_activity_date":1692704570,"creation_date":1524638795,"question_id":50015711,"body_markdown":"I want to implement simple Spring Security WebFlux application.  \r\nI want to use JSON message like \r\n\r\n    {\r\n       &#39;username&#39;: &#39;admin&#39;, \r\n       &#39;password&#39;: &#39;adminPassword&#39;\r\n    } \r\n\r\n \r\nin body (POST request to /signin) to sign in my app.  \r\n\r\nWhat did I do?\r\n\r\nI created this configuration\r\n\r\n    @Configuration\r\n    @EnableWebFluxSecurity\r\n    @EnableReactiveMethodSecurity(proxyTargetClass = true)\r\n    public class WebFluxSecurityConfig {\r\n    \r\n        @Autowired\r\n        private ReactiveUserDetailsService userDetailsService;\r\n    \r\n        @Autowired\r\n        private ObjectMapper mapper;\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder(11);\r\n        }\r\n    \r\n        @Bean\r\n        public ServerSecurityContextRepository securityContextRepository() {\r\n            WebSessionServerSecurityContextRepository securityContextRepository =\r\n                    new WebSessionServerSecurityContextRepository();\r\n    \r\n            securityContextRepository.setSpringSecurityContextAttrName(&quot;securityContext&quot;);\r\n    \r\n            return securityContextRepository;\r\n        }\r\n    \r\n        @Bean\r\n        public ReactiveAuthenticationManager authenticationManager() {\r\n            UserDetailsRepositoryReactiveAuthenticationManager authenticationManager =\r\n                    new UserDetailsRepositoryReactiveAuthenticationManager(userDetailsService);\r\n    \r\n            authenticationManager.setPasswordEncoder(passwordEncoder());\r\n    \r\n            return authenticationManager;\r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationWebFilter authenticationWebFilter() {\r\n            AuthenticationWebFilter filter = new AuthenticationWebFilter(authenticationManager());\r\n    \r\n            filter.setSecurityContextRepository(securityContextRepository());\r\n            filter.setAuthenticationConverter(jsonBodyAuthenticationConverter());\r\n            filter.setRequiresAuthenticationMatcher(\r\n                    ServerWebExchangeMatchers.pathMatchers(HttpMethod.POST, &quot;/signin&quot;)\r\n            );\r\n    \r\n            return filter;\r\n        }\r\n    \r\n        \r\n    \r\n        @Bean\r\n        public Function&lt;ServerWebExchange, Mono&lt;Authentication&gt;&gt; jsonBodyAuthenticationConverter() {\r\n            return exchange -&gt; {\r\n                return exchange.getRequest().getBody()\r\n                        .cache()\r\n                        .next()\r\n                        .flatMap(body -&gt; {\r\n                            byte[] bodyBytes = new byte[body.capacity()];\r\n                            body.read(bodyBytes);\r\n                            String bodyString = new String(bodyBytes);\r\n                            body.readPosition(0);\r\n                            body.writePosition(0);\r\n                            body.write(bodyBytes);\r\n    \r\n                            try {\r\n                                UserController.SignInForm signInForm = mapper.readValue(bodyString, UserController.SignInForm.class);\r\n    \r\n                                return Mono.just(\r\n                                        new UsernamePasswordAuthenticationToken(\r\n                                                signInForm.getUsername(),\r\n                                                signInForm.getPassword()\r\n                                        )\r\n                                );\r\n                            } catch (IOException e) {\r\n                                return Mono.error(new LangDopeException(&quot;Error while parsing credentials&quot;));\r\n                            }\r\n                        });\r\n            };\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityWebFilterChain securityWebFiltersOrder(ServerHttpSecurity httpSecurity,\r\n                                                              ReactiveAuthenticationManager authenticationManager) {\r\n            return httpSecurity\r\n                    .csrf().disable()\r\n                    .httpBasic().disable()\r\n                    .logout().disable()\r\n                    .formLogin().disable()\r\n                    .securityContextRepository(securityContextRepository())\r\n                    .authenticationManager(authenticationManager)\r\n                    .authorizeExchange()\r\n                        .anyExchange().permitAll()\r\n                    .and()\r\n                    .addFilterAt(authenticationWebFilter(), SecurityWebFiltersOrder.AUTHENTICATION)\r\n                    .build();\r\n        }\r\n    \r\n    }\r\n\r\nBUT I use jsonBodyAuthenticationConverter() and it reads Body of the incoming request. Body can be read only once, so I have an error  \r\n\r\n    java.lang.IllegalStateException: Only one connection receive subscriber allowed.\r\n\r\nActually it&#39;s working but with exception (session is set in cookies). How can I remake it without this error?\r\n\r\nNow I only created something like:\r\n\r\n    @PostMapping(&quot;/signin&quot;)\r\n    public Mono&lt;Void&gt; signIn(@RequestBody SignInForm signInForm, ServerWebExchange webExchange) {\r\n        return Mono.just(signInForm)\r\n                   .flatMap(form -&gt; {\r\n                        UsernamePasswordAuthenticationToken token = new UsernamePasswordAuthenticationToken(\r\n                                form.getUsername(),\r\n                                form.getPassword()\r\n                        );\r\n    \r\n                        return authenticationManager\r\n                                .authenticate(token)\r\n                                .doOnError(err -&gt; {\r\n                                    System.out.println(err.getMessage());\r\n                                })\r\n                                .flatMap(authentication -&gt; {\r\n                                    SecurityContextImpl securityContext = new SecurityContextImpl(authentication);\r\n    \r\n                                    return securityContextRepository\r\n                                            .save(webExchange, securityContext)\r\n                                            .subscriberContext(ReactiveSecurityContextHolder.withSecurityContext(Mono.just(securityContext)));\r\n                                });\r\n                    });\r\n        }\r\n\r\nAnd removed `AuthenticationWebFilter` from config.\r\n","title":"Spring Security WebFlux - body with Authentication","body":"<p>I want to implement simple Spring Security WebFlux application.<br>\nI want to use JSON message like </p>\n\n<pre><code>{\n   'username': 'admin', \n   'password': 'adminPassword'\n} \n</code></pre>\n\n<p>in body (POST request to /signin) to sign in my app.  </p>\n\n<p>What did I do?</p>\n\n<p>I created this configuration</p>\n\n<pre><code>@Configuration\n@EnableWebFluxSecurity\n@EnableReactiveMethodSecurity(proxyTargetClass = true)\npublic class WebFluxSecurityConfig {\n\n    @Autowired\n    private ReactiveUserDetailsService userDetailsService;\n\n    @Autowired\n    private ObjectMapper mapper;\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder(11);\n    }\n\n    @Bean\n    public ServerSecurityContextRepository securityContextRepository() {\n        WebSessionServerSecurityContextRepository securityContextRepository =\n                new WebSessionServerSecurityContextRepository();\n\n        securityContextRepository.setSpringSecurityContextAttrName(\"securityContext\");\n\n        return securityContextRepository;\n    }\n\n    @Bean\n    public ReactiveAuthenticationManager authenticationManager() {\n        UserDetailsRepositoryReactiveAuthenticationManager authenticationManager =\n                new UserDetailsRepositoryReactiveAuthenticationManager(userDetailsService);\n\n        authenticationManager.setPasswordEncoder(passwordEncoder());\n\n        return authenticationManager;\n    }\n\n    @Bean\n    public AuthenticationWebFilter authenticationWebFilter() {\n        AuthenticationWebFilter filter = new AuthenticationWebFilter(authenticationManager());\n\n        filter.setSecurityContextRepository(securityContextRepository());\n        filter.setAuthenticationConverter(jsonBodyAuthenticationConverter());\n        filter.setRequiresAuthenticationMatcher(\n                ServerWebExchangeMatchers.pathMatchers(HttpMethod.POST, \"/signin\")\n        );\n\n        return filter;\n    }\n\n\n\n    @Bean\n    public Function&lt;ServerWebExchange, Mono&lt;Authentication&gt;&gt; jsonBodyAuthenticationConverter() {\n        return exchange -&gt; {\n            return exchange.getRequest().getBody()\n                    .cache()\n                    .next()\n                    .flatMap(body -&gt; {\n                        byte[] bodyBytes = new byte[body.capacity()];\n                        body.read(bodyBytes);\n                        String bodyString = new String(bodyBytes);\n                        body.readPosition(0);\n                        body.writePosition(0);\n                        body.write(bodyBytes);\n\n                        try {\n                            UserController.SignInForm signInForm = mapper.readValue(bodyString, UserController.SignInForm.class);\n\n                            return Mono.just(\n                                    new UsernamePasswordAuthenticationToken(\n                                            signInForm.getUsername(),\n                                            signInForm.getPassword()\n                                    )\n                            );\n                        } catch (IOException e) {\n                            return Mono.error(new LangDopeException(\"Error while parsing credentials\"));\n                        }\n                    });\n        };\n    }\n\n    @Bean\n    public SecurityWebFilterChain securityWebFiltersOrder(ServerHttpSecurity httpSecurity,\n                                                          ReactiveAuthenticationManager authenticationManager) {\n        return httpSecurity\n                .csrf().disable()\n                .httpBasic().disable()\n                .logout().disable()\n                .formLogin().disable()\n                .securityContextRepository(securityContextRepository())\n                .authenticationManager(authenticationManager)\n                .authorizeExchange()\n                    .anyExchange().permitAll()\n                .and()\n                .addFilterAt(authenticationWebFilter(), SecurityWebFiltersOrder.AUTHENTICATION)\n                .build();\n    }\n\n}\n</code></pre>\n\n<p>BUT I use jsonBodyAuthenticationConverter() and it reads Body of the incoming request. Body can be read only once, so I have an error  </p>\n\n<pre><code>java.lang.IllegalStateException: Only one connection receive subscriber allowed.\n</code></pre>\n\n<p>Actually it's working but with exception (session is set in cookies). How can I remake it without this error?</p>\n\n<p>Now I only created something like:</p>\n\n<pre><code>@PostMapping(\"/signin\")\npublic Mono&lt;Void&gt; signIn(@RequestBody SignInForm signInForm, ServerWebExchange webExchange) {\n    return Mono.just(signInForm)\n               .flatMap(form -&gt; {\n                    UsernamePasswordAuthenticationToken token = new UsernamePasswordAuthenticationToken(\n                            form.getUsername(),\n                            form.getPassword()\n                    );\n\n                    return authenticationManager\n                            .authenticate(token)\n                            .doOnError(err -&gt; {\n                                System.out.println(err.getMessage());\n                            })\n                            .flatMap(authentication -&gt; {\n                                SecurityContextImpl securityContext = new SecurityContextImpl(authentication);\n\n                                return securityContextRepository\n                                        .save(webExchange, securityContext)\n                                        .subscriberContext(ReactiveSecurityContextHolder.withSecurityContext(Mono.just(securityContext)));\n                            });\n                });\n    }\n</code></pre>\n\n<p>And removed <code>AuthenticationWebFilter</code> from config.</p>\n"},{"tags":["java","spring","aspectj","spring-aop"],"comments":[{"owner":{"account_id":2734210,"reputation":6420,"user_id":2357233,"accept_rate":100,"display_name":"JamesENL"},"score":0,"creation_date":1414651680,"post_id":26646661,"comment_id":41898541,"body_markdown":"As I can see it, there is no way to only intercept if the caller is B, but you could intercept everything, check to see what class did call your method and log something if it was called by B.","body":"As I can see it, there is no way to only intercept if the caller is B, but you could intercept everything, check to see what class did call your method and log something if it was called by B."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1414660690,"post_id":26646661,"comment_id":41902487,"body_markdown":"This is StackOverflow and SO ist about code. With all due respect, is it so hard to provide sample code instead of ambiguously trying to describe the problem in an abstract way in prose? Please update the question with a self-consistent, executable code sample illustrating the problem at hand, ideally an [SSCCE](http://sscce.org/). You will get much better help then, especially if you like to get help from me. `:-)` I think I can help you, but do not like to guess what exactly you might want to know.","body":"This is StackOverflow and SO ist about code. With all due respect, is it so hard to provide sample code instead of ambiguously trying to describe the problem in an abstract way in prose? Please update the question with a self-consistent, executable code sample illustrating the problem at hand, ideally an <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a>. You will get much better help then, especially if you like to get help from me. <code>:-)</code> I think I can help you, but do not like to guess what exactly you might want to know."}],"answers":[{"comments":[{"owner":{"account_id":4893319,"reputation":131,"user_id":3943736,"accept_rate":60,"display_name":"Thiagz"},"score":0,"creation_date":1414655675,"post_id":26647222,"comment_id":41900073,"body_markdown":"I think the @annotation will not work for my scenario because I want to set condition on an incoming request, not on the class that I want intercept.","body":"I think the @annotation will not work for my scenario because I want to set condition on an incoming request, not on the class that I want intercept."}],"tags":[],"owner":{"account_id":2155152,"reputation":3994,"user_id":1910582,"accept_rate":88,"display_name":"Bond - Java Bond"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414653803,"creation_date":1414653803,"answer_id":26647222,"question_id":26646661,"body_markdown":"You can intercept with expression similar to below &lt;br&gt;&lt;br&gt;\r\n`@Around(&quot;@annotation(someAnnotation) &amp;&amp; execution(* x.y.z.ClassB.*(..))&quot;)`\r\n&lt;br&gt;&lt;br&gt;\r\nApply this to method of **ClassA** to be intercepted - the magic you are looking forward to lies in the `execution` condition.\r\n&lt;br&gt;&lt;br&gt;\r\nAlthough I haven&#39;t tried this but hope it helps!\r\n","title":"Intercepting methods only when a specific class calls in Spring AOP","body":"<p>You can intercept with expression similar to below <br><br>\n<code>@Around(\"@annotation(someAnnotation) &amp;&amp; execution(* x.y.z.ClassB.*(..))\")</code>\n<br><br>\nApply this to method of <strong>ClassA</strong> to be intercepted - the magic you are looking forward to lies in the <code>execution</code> condition.\n<br><br>\nAlthough I haven't tried this but hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692475004,"creation_date":1692475004,"answer_id":76936819,"question_id":26646661,"body_markdown":"This is not possible but if you need this for very good business needs it is not hard to achieve. Just create **ClassD** with a method **delegate** which in turn will call the **ClassA** method. Then make **ClassB** only call **classB.delegate()** whereas **ClassC** will keep going straight to **ClassA**. Then you move the `@Around` annotation from **ClassA** to **ClassD.delegate()**\r\n\r\nDon&#39;t forget to put a comment in **ClassD** explaining why this was needed to avoid others scrapping their heads :-)","title":"Intercepting methods only when a specific class calls in Spring AOP","body":"<p>This is not possible but if you need this for very good business needs it is not hard to achieve. Just create <strong>ClassD</strong> with a method <strong>delegate</strong> which in turn will call the <strong>ClassA</strong> method. Then make <strong>ClassB</strong> only call <strong>classB.delegate()</strong> whereas <strong>ClassC</strong> will keep going straight to <strong>ClassA</strong>. Then you move the <code>@Around</code> annotation from <strong>ClassA</strong> to <strong>ClassD.delegate()</strong></p>\n<p>Don't forget to put a comment in <strong>ClassD</strong> explaining why this was needed to avoid others scrapping their heads :-)</p>\n"}],"owner":{"account_id":4893319,"reputation":131,"user_id":3943736,"accept_rate":60,"display_name":"Thiagz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":747,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692704350,"creation_date":1414651507,"question_id":26646661,"body_markdown":"I have a scenario here and thought of getting advise on how it can be done.\r\n\r\nLet&#39;s say I have method in a class called **class A** and this method is triggered by an instance of **Class A** in both **class B** and **class C**. How can I just intercept the method when it&#39;s triggered by just **class B** in Spring AOP.\r\n\r\nCheers,\r\nThiagz\r\n ","title":"Intercepting methods only when a specific class calls in Spring AOP","body":"<p>I have a scenario here and thought of getting advise on how it can be done.</p>\n\n<p>Let's say I have method in a class called <strong>class A</strong> and this method is triggered by an instance of <strong>Class A</strong> in both <strong>class B</strong> and <strong>class C</strong>. How can I just intercept the method when it's triggered by just <strong>class B</strong> in Spring AOP.</p>\n\n<p>Cheers,\nThiagz</p>\n"},{"tags":["java","filter","objectify"],"comments":[{"owner":{"account_id":470583,"reputation":1801,"user_id":877856,"accept_rate":20,"display_name":"tj-recess"},"score":0,"creation_date":1435594769,"post_id":31117700,"comment_id":50254137,"body_markdown":"Are Log.license and License.name indexed properties?\nIt&#39;d be great if you can post the necessary data model (class definition).","body":"Are Log.license and License.name indexed properties? It&#39;d be great if you can post the necessary data model (class definition)."},{"owner":{"account_id":318652,"reputation":13503,"user_id":635982,"accept_rate":58,"display_name":"stickfigure"},"score":0,"creation_date":1435626952,"post_id":31117700,"comment_id":50268219,"body_markdown":"This is impossible to answer without the definitions of Log and License.","body":"This is impossible to answer without the definitions of Log and License."},{"owner":{"account_id":5740400,"reputation":35,"user_id":4533284,"accept_rate":71,"display_name":"Pauline"},"score":0,"creation_date":1435646812,"post_id":31117700,"comment_id":50273957,"body_markdown":"I edited my post with the classes params. Thanks for your answers.","body":"I edited my post with the classes params. Thanks for your answers."}],"answers":[{"tags":[],"owner":{"account_id":269957,"reputation":996,"user_id":559616,"accept_rate":50,"display_name":"HJED"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692699963,"creation_date":1692699963,"answer_id":76952370,"question_id":31117700,"body_markdown":"Old question - but it came up in my google search for something else for people looking you need to put `@Index` on the individual properties you want to search on. ","title":"Get a list filtered by another using ofy()","body":"<p>Old question - but it came up in my google search for something else for people looking you need to put <code>@Index</code> on the individual properties you want to search on.</p>\n"}],"owner":{"account_id":5740400,"reputation":35,"user_id":4533284,"accept_rate":71,"display_name":"Pauline"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692704201,"creation_date":1435586467,"question_id":31117700,"body_markdown":"My classes:\r\n\r\n    @Entity\r\n    @Cache\r\n    @Index \r\n    public class Log {\r\n        @Id Long id; \t\r\n        Ref&lt;Site&gt; site; \t\r\n        Ref&lt;User&gt; user; \t\r\n        Ref&lt;Computer&gt; computer; \t\r\n        Ref&lt;License&gt; license; \t\r\n        private String date_in; \t\r\n        private String date_out; \t\r\n        private boolean active;\r\n    }\r\n\r\n    @Entity\r\n    @Cache\r\n    @Index\r\n    public class License {\r\n        @Id Long id;\r\n        private String name;\r\n        private String startDate;\r\n        private String expDate;\r\n        private int timeStamp;\r\n        private int status;\r\n        private int offline;\r\n        private String identification;\r\n        Ref&lt;Daemon&gt; daemon;\r\n        private boolean active;\r\n        public enum Type {Country, Site, User, Computer, Lic};\r\n    }\r\n\r\nI don&#39;t get why this is not working:\r\n\r\n    ofy().load().type(Log.class)\r\n         .filter(&quot;license in&quot;,\r\n                 ofy().load().type(License.class).filter(&quot;name&quot;,licName))\r\n         .list();\r\n\r\nor this too:\r\n\r\n    ofy().load().type(Log.class)\r\n         .filter(&quot;license in&quot;,\r\n                 ofy().load().type(License.class).filter(&quot;name&quot;,licName).list())\r\n         .list();\r\n\r\nMy License is a reference in my Log. Can I do it using ofy() ?\r\n\r\nCan anyone explain me?","title":"Get a list filtered by another using ofy()","body":"<p>My classes:</p>\n\n<pre><code>@Entity\n@Cache\n@Index \npublic class Log {\n    @Id Long id;    \n    Ref&lt;Site&gt; site;     \n    Ref&lt;User&gt; user;     \n    Ref&lt;Computer&gt; computer;     \n    Ref&lt;License&gt; license;   \n    private String date_in;     \n    private String date_out;    \n    private boolean active;\n}\n\n@Entity\n@Cache\n@Index\npublic class License {\n    @Id Long id;\n    private String name;\n    private String startDate;\n    private String expDate;\n    private int timeStamp;\n    private int status;\n    private int offline;\n    private String identification;\n    Ref&lt;Daemon&gt; daemon;\n    private boolean active;\n    public enum Type {Country, Site, User, Computer, Lic};\n}\n</code></pre>\n\n<p>I don't get why this is not working:</p>\n\n<pre><code>ofy().load().type(Log.class)\n     .filter(\"license in\",\n             ofy().load().type(License.class).filter(\"name\",licName))\n     .list();\n</code></pre>\n\n<p>or this too:</p>\n\n<pre><code>ofy().load().type(Log.class)\n     .filter(\"license in\",\n             ofy().load().type(License.class).filter(\"name\",licName).list())\n     .list();\n</code></pre>\n\n<p>My License is a reference in my Log. Can I do it using ofy() ?</p>\n\n<p>Can anyone explain me?</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1610674688,"post_id":65729079,"comment_id":116213995,"body_markdown":"Now what did you do for the `id` for the `RegisteredProgram` entity?","body":"Now what did you do for the <code>id</code> for the <code>RegisteredProgram</code> entity?"},{"owner":{"account_id":20187307,"reputation":846,"user_id":14806310,"display_name":"Donato Amasa"},"score":0,"creation_date":1610674778,"post_id":65729079,"comment_id":116214014,"body_markdown":"what do you mean what did i do? `id` field for `RegisteredProgram` is inherited from the parent class that&#39;s why its not indicated from my example","body":"what do you mean what did i do? <code>id</code> field for <code>RegisteredProgram</code> is inherited from the parent class that&#39;s why its not indicated from my example"},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1610674994,"post_id":65729079,"comment_id":116214064,"body_markdown":"Now that&#39;s what I&#39;m asking.","body":"Now that&#39;s what I&#39;m asking."},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1610675302,"post_id":65729079,"comment_id":116214122,"body_markdown":"Did you try a query with joins and an `EntityGraph` ?","body":"Did you try a query with joins and an <code>EntityGraph</code> ?"},{"owner":{"account_id":20187307,"reputation":846,"user_id":14806310,"display_name":"Donato Amasa"},"score":0,"creation_date":1610675561,"post_id":65729079,"comment_id":116214182,"body_markdown":"Hi, i have not tried it yet, do you have any references that i can look up to?","body":"Hi, i have not tried it yet, do you have any references that i can look up to?"}],"answers":[{"comments":[{"owner":{"account_id":20187307,"reputation":846,"user_id":14806310,"display_name":"Donato Amasa"},"score":0,"creation_date":1610688781,"post_id":65729705,"comment_id":116216578,"body_markdown":"Hi, thanks for your input. I tried your suggested solution but ended up with this error: `org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags`","body":"Hi, thanks for your input. I tried your suggested solution but ended up with this error: <code>org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags</code>"},{"owner":{"account_id":20187307,"reputation":846,"user_id":14806310,"display_name":"Donato Amasa"},"score":0,"creation_date":1610688829,"post_id":65729705,"comment_id":116216593,"body_markdown":"I researched and saw this solution https://stackoverflow.com/questions/4334970/hibernate-throws-multiplebagfetchexception-cannot-simultaneously-fetch-multipl but I still can&#39;t get the query to execute properly","body":"I researched and saw this solution <a href=\"https://stackoverflow.com/questions/4334970/hibernate-throws-multiplebagfetchexception-cannot-simultaneously-fetch-multipl\" title=\"hibernate throws multiplebagfetchexception cannot simultaneously fetch multipl\">stackoverflow.com/questions/4334970/&hellip;</a> but I still can&#39;t get the query to execute properly"},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1610702428,"post_id":65729705,"comment_id":116220936,"body_markdown":"It&#39;s because I changed the `List` to `Set` in the `RegisteredProgram` entity. JPA cannot issue queries with  two `List` relationships at the same.I also changed the names from officialList to officials and trainerLIst to trainers.Finally I added lombok excludes to the foreign key fields for both equals and toString. You need to be careful with that stuff.","body":"It&#39;s because I changed the <code>List</code> to <code>Set</code> in the <code>RegisteredProgram</code> entity. JPA cannot issue queries with  two <code>List</code> relationships at the same.I also changed the names from officialList to officials and trainerLIst to trainers.Finally I added lombok excludes to the foreign key fields for both equals and toString. You need to be careful with that stuff."},{"owner":{"account_id":20187307,"reputation":846,"user_id":14806310,"display_name":"Donato Amasa"},"score":1,"creation_date":1611105694,"post_id":65729705,"comment_id":116342049,"body_markdown":"After changing from `List` to `Set` and removing `@Data` from the entities and replaced it instead with `@Getter` and `@Setter` solved everything. Thank you man!","body":"After changing from <code>List</code> to <code>Set</code> and removing <code>@Data</code> from the entities and replaced it instead with <code>@Getter</code> and <code>@Setter</code> solved everything. Thank you man!"}],"tags":[],"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1610678234,"creation_date":1610678234,"answer_id":65729705,"question_id":65729079,"body_markdown":"Yes: The query to select only trainers and officials `isDeleted` is false is part of JPA. A `@EntityGraph` is also part of JPA but can be done a little easier through spring-data-jpa.\r\n\r\n\tpublic interface RegisteredProgramRepository extends JpaRepository&lt;RegisteredProgram, Long&gt;{\r\n\t\t@Query(&quot;select rp from RegisteredProgram rp join rp.officials rpos join rp.trainers rpts where rp.id = :id and rpos.isDeleted = false and rpts.isDeleted = false&quot;)\r\n\t\t@EntityGraph(attributePaths = {&quot;officials&quot;, &quot;trainers&quot;}, type = EntityGraphType.LOAD)\r\n\t\tRegisteredProgram getByIdNotDeleted(@Param(&quot;id&quot;) Long id);\r\n\t}\r\n\r\nThis does everything through JPA with a single query. ","title":"Fetch an entity including child entities with filter/condition","body":"<p>Yes: The query to select only trainers and officials <code>isDeleted</code> is false is part of JPA. A <code>@EntityGraph</code> is also part of JPA but can be done a little easier through spring-data-jpa.</p>\n<pre><code>public interface RegisteredProgramRepository extends JpaRepository&lt;RegisteredProgram, Long&gt;{\n    @Query(&quot;select rp from RegisteredProgram rp join rp.officials rpos join rp.trainers rpts where rp.id = :id and rpos.isDeleted = false and rpts.isDeleted = false&quot;)\n    @EntityGraph(attributePaths = {&quot;officials&quot;, &quot;trainers&quot;}, type = EntityGraphType.LOAD)\n    RegisteredProgram getByIdNotDeleted(@Param(&quot;id&quot;) Long id);\n}\n</code></pre>\n<p>This does everything through JPA with a single query.</p>\n"},{"tags":[],"owner":{"account_id":18964387,"reputation":1,"user_id":13839153,"display_name":"Alexander Miroshnichenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692703872,"creation_date":1692703872,"answer_id":76952857,"question_id":65729079,"body_markdown":"Try to use `@Where(clause = &quot;deleted=false&quot;)` on the child entity","title":"Fetch an entity including child entities with filter/condition","body":"<p>Try to use <code>@Where(clause = &quot;deleted=false&quot;)</code> on the child entity</p>\n"}],"owner":{"account_id":20187307,"reputation":846,"user_id":14806310,"display_name":"Donato Amasa"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65729705,"answer_count":2,"score":0,"last_activity_date":1692703872,"creation_date":1610672725,"question_id":65729079,"body_markdown":"I have the following entities\r\n\r\n**RegisteredProgram**\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @EntityListeners(RegisteredProgramAuditListener.class)\r\n    public class RegisteredProgram extends Auditable&lt;String&gt; {\r\n\r\n        @OneToMany(mappedBy = &quot;registeredProgram&quot;, cascade = CascadeType.ALL)\r\n        @JsonBackReference\r\n        private List&lt;Trainer&gt; trainerList;\r\n\r\n        @OneToMany(mappedBy = &quot;registeredProgram&quot;, cascade = CascadeType.ALL)\r\n        @JsonBackReference\r\n        private List&lt;Official&gt; officialList;\r\n    }\r\n\r\n**Trainer**\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @EntityListeners(TrainerAuditListener.class)\r\n    @Entity\r\n    public class Trainer extends Auditable&lt;String&gt; {\r\n\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;REGISTERED_PROGRAM_ID&quot;, nullable = false)\r\n        @JsonManagedReference\r\n        private RegisteredProgram registeredProgram;\r\n\r\n        @Type(type = &quot;yes_no&quot;)\r\n        private Boolean isDeleted = false;\r\n    }\r\n\r\n\r\n**Official**\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @EntityListeners(OfficialAuditListener.class)\r\n    @Entity\r\n    public class Official extends Auditable&lt;String&gt; {\r\n\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;REGISTERED_PROGRAM_ID&quot;, nullable = false)\r\n        @JsonManagedReference\r\n        private RegisteredProgram registeredProgram;\r\n\r\n        @Type(type = &quot;yes_no&quot;)\r\n        private Boolean isDeleted = false;\r\n    }\r\n\r\nBasically I have entities with many to one relationship with `RegisteredProgram`, (Trainer-RegisteredProgram, Official-RegisteredProgram). Now I have a service which fetches a registered program by id and I should only include all the `Trainer` and `Official` with **isDeleted** false. I have the service below:\r\n\r\n**Service**\r\n\r\n    @Override\r\n    public RegisteredProgramRequestDto getRegisteredProgramDto(Long id) {\r\n        RegisteredProgram registeredProgram = registeredProgramRepository.getOne(id);\r\n        RegisteredProgramRequestDto registeredProgramRequestDto = programRegistrationMapper\r\n                .registeredProgramToRequestDto(registeredProgram);\r\n        registeredProgramRequestDto.setOfficialDtoList(\r\n                registeredProgramRequestDto.getOfficialDtoList()\r\n                        .stream()\r\n                        .filter(officialDto -&gt; !officialDto.getIsDeleted())\r\n                        .collect(Collectors.toList())\r\n        );\r\n        registeredProgramRequestDto.setTrainerDtoList(\r\n                registeredProgramRequestDto.getTrainerDtoList()\r\n                        .stream()\r\n                        .filter(trainerDto -&gt; !trainerDto.getIsDeleted())\r\n                        .collect(Collectors.toList())\r\n        );\r\n        return registeredProgramRequestDto;\r\n    }\r\n\r\nMy question is, is there any way that I can improve my service more efficiently?","title":"Fetch an entity including child entities with filter/condition","body":"<p>I have the following entities</p>\n<p><strong>RegisteredProgram</strong></p>\n<pre><code>@Data\n@NoArgsConstructor\n@Entity\n@EntityListeners(RegisteredProgramAuditListener.class)\npublic class RegisteredProgram extends Auditable&lt;String&gt; {\n\n    @OneToMany(mappedBy = &quot;registeredProgram&quot;, cascade = CascadeType.ALL)\n    @JsonBackReference\n    private List&lt;Trainer&gt; trainerList;\n\n    @OneToMany(mappedBy = &quot;registeredProgram&quot;, cascade = CascadeType.ALL)\n    @JsonBackReference\n    private List&lt;Official&gt; officialList;\n}\n</code></pre>\n<p><strong>Trainer</strong></p>\n<pre><code>@Data\n@NoArgsConstructor\n@EntityListeners(TrainerAuditListener.class)\n@Entity\npublic class Trainer extends Auditable&lt;String&gt; {\n\n    @ManyToOne\n    @JoinColumn(name = &quot;REGISTERED_PROGRAM_ID&quot;, nullable = false)\n    @JsonManagedReference\n    private RegisteredProgram registeredProgram;\n\n    @Type(type = &quot;yes_no&quot;)\n    private Boolean isDeleted = false;\n}\n</code></pre>\n<p><strong>Official</strong></p>\n<pre><code>@Data\n@NoArgsConstructor\n@EntityListeners(OfficialAuditListener.class)\n@Entity\npublic class Official extends Auditable&lt;String&gt; {\n\n    @ManyToOne\n    @JoinColumn(name = &quot;REGISTERED_PROGRAM_ID&quot;, nullable = false)\n    @JsonManagedReference\n    private RegisteredProgram registeredProgram;\n\n    @Type(type = &quot;yes_no&quot;)\n    private Boolean isDeleted = false;\n}\n</code></pre>\n<p>Basically I have entities with many to one relationship with <code>RegisteredProgram</code>, (Trainer-RegisteredProgram, Official-RegisteredProgram). Now I have a service which fetches a registered program by id and I should only include all the <code>Trainer</code> and <code>Official</code> with <strong>isDeleted</strong> false. I have the service below:</p>\n<p><strong>Service</strong></p>\n<pre><code>@Override\npublic RegisteredProgramRequestDto getRegisteredProgramDto(Long id) {\n    RegisteredProgram registeredProgram = registeredProgramRepository.getOne(id);\n    RegisteredProgramRequestDto registeredProgramRequestDto = programRegistrationMapper\n            .registeredProgramToRequestDto(registeredProgram);\n    registeredProgramRequestDto.setOfficialDtoList(\n            registeredProgramRequestDto.getOfficialDtoList()\n                    .stream()\n                    .filter(officialDto -&gt; !officialDto.getIsDeleted())\n                    .collect(Collectors.toList())\n    );\n    registeredProgramRequestDto.setTrainerDtoList(\n            registeredProgramRequestDto.getTrainerDtoList()\n                    .stream()\n                    .filter(trainerDto -&gt; !trainerDto.getIsDeleted())\n                    .collect(Collectors.toList())\n    );\n    return registeredProgramRequestDto;\n}\n</code></pre>\n<p>My question is, is there any way that I can improve my service more efficiently?</p>\n"},{"tags":["java","spring-boot","apache-camel"],"comments":[{"owner":{"account_id":2021019,"reputation":501,"user_id":1807187,"display_name":"Sam"},"score":0,"creation_date":1692642054,"post_id":76929513,"comment_id":135648645,"body_markdown":"In your code above, you haven&#39;t called the `multicast()` method in the Java DSL. Not sure it will make a difference, but instead of `.parallelProcessing(true)`, try `.multicast().parallelProcessing()`. If that doesn&#39;t work, try removing the `.parallelProcessing()` to see if it was running in parallel that was the problem.","body":"In your code above, you haven&#39;t called the <code>multicast()</code> method in the Java DSL. Not sure it will make a difference, but instead of <code>.parallelProcessing(true)</code>, try <code>.multicast().parallelProcessing()</code>. If that doesn&#39;t work, try removing the <code>.parallelProcessing()</code> to see if it was running in parallel that was the problem."},{"owner":{"account_id":2021019,"reputation":501,"user_id":1807187,"display_name":"Sam"},"score":0,"creation_date":1692642209,"post_id":76929513,"comment_id":135648670,"body_markdown":"Be sure to have a read of [Camel Multicast Documentation](https://camel.apache.org/components/3.21.x/eips/multicast-eip.html) as well","body":"Be sure to have a read of <a href=\"https://camel.apache.org/components/3.21.x/eips/multicast-eip.html\" rel=\"nofollow noreferrer\">Camel Multicast Documentation</a> as well"}],"owner":{"account_id":2155248,"reputation":129,"user_id":2732077,"accept_rate":75,"display_name":"DeludedPsyche"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692702873,"creation_date":1692363213,"question_id":76929513,"body_markdown":"I am performing load testing with 100K messages to my **Camel Multicast** route, where the message should get routed to **5 downstream queues(out1...out5)**, with all 5 queues receiving 100K messages.\r\n&lt;br&gt;However, in all load tests, **randomly** couple of downstream queues, do not get the exact 100K message and there is **always a loss of 2-3 messages** for some queues, but not all. This is verified by obtaining the **queueDepth** of all **out** queues.\r\n\r\n```\r\nfrom(&quot;jms://in_queue?concurrentConsumers=5&amp;maxConcurrentConsumers=10&quot;)\r\n.process(exg -&gt; {\r\nMessage msg = exg.getMessage();\r\nMap&lt;Sttring, String&gt; hdrs = msg.getHeaders();\r\nString txt = msg.getBody(String.class);\r\nexg.setOut().setHeaders(hdrs);\r\nexg.setOut().setBody(txt);\r\n})\r\n.multicast()\r\n.parallelProcessing(true)\r\n.to(&quot;jms://out1&quot;, &quot;jms://out2&quot;, &quot;jms://out3&quot;, &quot;jms://out4&quot;, &quot;jms://out5&quot;)\r\n.end()\r\n```\r\n\r\nCamel Debug logs also suggest that not all messages were sent to the few queues, as the count of sending messages for few queues exactly matches with the lost messages.\r\n\r\n&lt;pre&gt;\r\nbash-4.2$zgrep &quot;Sending JMS message to: queue:///out1&quot; mylog.log | echo &quot;sent to Out1:&quot; `wc -l` \r\nSent to Out1: 99998 \r\nSent to Out2: 99998 \r\nSent to Out3: 100000 \r\nSent to Out4: 99998 \r\nSent to Out5: 100000\r\n&lt;/pre&gt;\r\n\r\n\r\nIs there any specific configuration to be done at multicast to ensure all message reach destinations ?\r\n\r\n\r\n","title":"Message Loss with Apache Camel Multicast","body":"<p>I am performing load testing with 100K messages to my <strong>Camel Multicast</strong> route, where the message should get routed to <strong>5 downstream queues(out1...out5)</strong>, with all 5 queues receiving 100K messages.\n<br>However, in all load tests, <strong>randomly</strong> couple of downstream queues, do not get the exact 100K message and there is <strong>always a loss of 2-3 messages</strong> for some queues, but not all. This is verified by obtaining the <strong>queueDepth</strong> of all <strong>out</strong> queues.</p>\n<pre><code>from(&quot;jms://in_queue?concurrentConsumers=5&amp;maxConcurrentConsumers=10&quot;)\n.process(exg -&gt; {\nMessage msg = exg.getMessage();\nMap&lt;Sttring, String&gt; hdrs = msg.getHeaders();\nString txt = msg.getBody(String.class);\nexg.setOut().setHeaders(hdrs);\nexg.setOut().setBody(txt);\n})\n.multicast()\n.parallelProcessing(true)\n.to(&quot;jms://out1&quot;, &quot;jms://out2&quot;, &quot;jms://out3&quot;, &quot;jms://out4&quot;, &quot;jms://out5&quot;)\n.end()\n</code></pre>\n<p>Camel Debug logs also suggest that not all messages were sent to the few queues, as the count of sending messages for few queues exactly matches with the lost messages.</p>\n<pre>\nbash-4.2$zgrep \"Sending JMS message to: queue:///out1\" mylog.log | echo \"sent to Out1:\" `wc -l` \nSent to Out1: 99998 \nSent to Out2: 99998 \nSent to Out3: 100000 \nSent to Out4: 99998 \nSent to Out5: 100000\n</pre>\n<p>Is there any specific configuration to be done at multicast to ensure all message reach destinations ?</p>\n"},{"tags":["java","sockets","udp","client-server","datagram"],"answers":[{"comments":[{"owner":{"account_id":21188977,"reputation":15,"user_id":15581801,"display_name":"BeArt"},"score":0,"creation_date":1692704656,"post_id":76952700,"comment_id":135657595,"body_markdown":"Can you explain me with an example? Please","body":"Can you explain me with an example? Please"}],"tags":[],"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692702781,"creation_date":1692702781,"answer_id":76952700,"question_id":76952641,"body_markdown":"when you send your packet, you trim the byte array down to what .getBytes() returns. since UDP is a minimal protocol, size information isn&#39;t sent along, just the bytes themselves, so when you wait for 256 bytes to arrive on the server, you end up waiting forever, since that amount of bytes never arrives; what does arrive are maybe 2-4 bytes of data from the 2 strings you encode and send.\r\n\r\nthe server ends up waiting until you send it 256 bytes of data in total.\r\n\r\ni recommend storing the length of the packet as a 2 byte short, then send that before the actual data. the server can then read the 2 bytes, and read that much data from the stream, ensuring that the right amount of data is present and being read. do the same from server -&gt; client to make sure the client doesn&#39;t hang.","title":"Java DatagramSocket - client receives only first character","body":"<p>when you send your packet, you trim the byte array down to what .getBytes() returns. since UDP is a minimal protocol, size information isn't sent along, just the bytes themselves, so when you wait for 256 bytes to arrive on the server, you end up waiting forever, since that amount of bytes never arrives; what does arrive are maybe 2-4 bytes of data from the 2 strings you encode and send.</p>\n<p>the server ends up waiting until you send it 256 bytes of data in total.</p>\n<p>i recommend storing the length of the packet as a 2 byte short, then send that before the actual data. the server can then read the 2 bytes, and read that much data from the stream, ensuring that the right amount of data is present and being read. do the same from server -&gt; client to make sure the client doesn't hang.</p>\n"}],"owner":{"account_id":21188977,"reputation":15,"user_id":15581801,"display_name":"BeArt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692702781,"creation_date":1692702278,"question_id":76952641,"body_markdown":"I have a problem with Java UDP connection...\r\nThe goal of this code is to send to server two adders. The server responses sending the result of the sum.\r\n\r\nClient\r\n\r\n    public class Client{\r\n\r\n\tpublic static void main(String[] args) throws IOException{\r\n\t\tint add1, add2;\r\n\t\tString URL = &quot;localhost&quot;;\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\ttry {\r\n\t\t\tInetAddress address = InetAddress.getLocalHost();\r\n\t\t\tDatagramSocket socket = new DatagramSocket();\r\n\t\t\tbyte[] buf = new byte[256];\r\n\t\t\tSystem.out.println(&quot;First adder&quot;);\r\n\t\t\tadd1 = scan.nextInt();\r\n\t\t\tbuf =  String.valueOf(add1).getBytes();\r\n\t\t\tDatagramPacket packet = new DatagramPacket(buf, buf.length, address, 8189);\r\n\t\t\tsocket.send(packet);\r\n\t\t\tSystem.out.println(&quot;Second adder&quot;);\r\n\t\t\tadd2 = scan.nextInt();\r\n\t\t\tbuf =  String.valueOf(add2).getBytes();\r\n\t\t\tpacket = new DatagramPacket(buf, buf.length, address, 8189);\r\n\t\t\tsocket.send(packet);\r\n\t\t\tpacket = new DatagramPacket(buf, buf.length);\r\n\t\t\tsocket.receive(packet);\r\n\t\t\tString response = new String(packet.getData());\r\n\t\t\tSystem.out.println(response);\r\n\t\t\tsocket.close();\r\n\t\t} catch (SocketException | UnknownHostException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}}\r\n\r\nServer\r\n\r\n    public class Server {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tDatagramSocket socket = null;\r\n\t\tint add1,add2;\r\n\t\ttry {\r\n\t\t\tsocket = new DatagramSocket(8189);\r\n\t\t\tint n = 1;\r\n\t\t\twhile(n&lt;=10) {\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\tbyte[] buf = new byte[256];\r\n\t\t\tDatagramPacket packet = new DatagramPacket(buf,buf.length);\r\n\t\t\t//ricezione\r\n\t\t\tsocket.receive(packet);\r\n\t\t\tInetAddress SourceAddress = packet.getAddress();\r\n\t\t\tint port = packet.getPort();\r\n\t\t\tadd1 = Integer.parseInt(new String(packet.getData()).trim());\r\n\t\t\tsocket.receive(packet);\r\n\t\t\tadd2 = Integer.parseInt(new String(packet.getData()).trim());\r\n\t\t\t//invio\r\n\t\t\tint sum = add1+add2;\r\n\t\t\tString a = &quot;Result &quot;+sum;\r\n\t\t\tbuf = a.getBytes();\r\n\t\t\tpacket = new DatagramPacket(buf,buf.length,SourceAddress,port);\r\n\t\t\tsocket.send(packet);\r\n\t\t\tn++;\r\n\t\t\t}\r\n\t\t\tsocket.close();\r\n\t\t}\r\n\t\tcatch(IOException e) {\r\n\t\t\tSystem.out.println(e);\r\n\t\t\tsocket.close();\r\n\t\t}\r\n\t}}\r\n\r\nThe output of this code is just &quot;T&quot;. Why?\r\n\r\nPS\r\nI tried with ByteBuffer.allocate ecc. but it doesn&#39;t work...","title":"Java DatagramSocket - client receives only first character","body":"<p>I have a problem with Java UDP connection...\nThe goal of this code is to send to server two adders. The server responses sending the result of the sum.</p>\n<p>Client</p>\n<pre><code>public class Client{\n\npublic static void main(String[] args) throws IOException{\n    int add1, add2;\n    String URL = &quot;localhost&quot;;\n    Scanner scan = new Scanner(System.in);\n    try {\n        InetAddress address = InetAddress.getLocalHost();\n        DatagramSocket socket = new DatagramSocket();\n        byte[] buf = new byte[256];\n        System.out.println(&quot;First adder&quot;);\n        add1 = scan.nextInt();\n        buf =  String.valueOf(add1).getBytes();\n        DatagramPacket packet = new DatagramPacket(buf, buf.length, address, 8189);\n        socket.send(packet);\n        System.out.println(&quot;Second adder&quot;);\n        add2 = scan.nextInt();\n        buf =  String.valueOf(add2).getBytes();\n        packet = new DatagramPacket(buf, buf.length, address, 8189);\n        socket.send(packet);\n        packet = new DatagramPacket(buf, buf.length);\n        socket.receive(packet);\n        String response = new String(packet.getData());\n        System.out.println(response);\n        socket.close();\n    } catch (SocketException | UnknownHostException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}}\n</code></pre>\n<p>Server</p>\n<pre><code>public class Server {\n\npublic static void main(String[] args) {\n    DatagramSocket socket = null;\n    int add1,add2;\n    try {\n        socket = new DatagramSocket(8189);\n        int n = 1;\n        while(n&lt;=10) {\n            \n        \n        byte[] buf = new byte[256];\n        DatagramPacket packet = new DatagramPacket(buf,buf.length);\n        //ricezione\n        socket.receive(packet);\n        InetAddress SourceAddress = packet.getAddress();\n        int port = packet.getPort();\n        add1 = Integer.parseInt(new String(packet.getData()).trim());\n        socket.receive(packet);\n        add2 = Integer.parseInt(new String(packet.getData()).trim());\n        //invio\n        int sum = add1+add2;\n        String a = &quot;Result &quot;+sum;\n        buf = a.getBytes();\n        packet = new DatagramPacket(buf,buf.length,SourceAddress,port);\n        socket.send(packet);\n        n++;\n        }\n        socket.close();\n    }\n    catch(IOException e) {\n        System.out.println(e);\n        socket.close();\n    }\n}}\n</code></pre>\n<p>The output of this code is just &quot;T&quot;. Why?</p>\n<p>PS\nI tried with ByteBuffer.allocate ecc. but it doesn't work...</p>\n"},{"tags":["java","stardog"],"comments":[{"owner":{"account_id":49385,"reputation":93769,"user_id":147024,"display_name":"yole"},"score":2,"creation_date":1548425000,"post_id":54366784,"comment_id":95547458,"body_markdown":"It looks like Stardog is not compatible with JDK 11. Try installing JDK 8.","body":"It looks like Stardog is not compatible with JDK 11. Try installing JDK 8."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1692702771,"creation_date":1548427614,"answer_id":54367593,"question_id":54366784,"body_markdown":"The [documentation][1] for Stardog (Stardog 6.1.0 (16 Jan 2019))  states:\r\n\r\n&gt; Requirements\r\n&gt; ------------\r\n&gt;\r\n&gt; It just doesnt get any easier than this: Stardog runs on Java 8.\r\n\r\n--------\r\n\r\nInstall Java 8.\r\n\r\nI expect that in the fullness of time, the vendors of Stardog will release a version that works on Java 11, but I couldn&#39;t see any announcements on their site.  (There is a Stardog 7.0.0 Beta ... but the release notes don&#39;t mention Java 11.)\r\n\r\n--------------\r\n\r\nUpdate: Stardog 9.0 has updated to Java 11; see the [release notes][2].  The [system requirements][3] page currently says that only Java 11 is supported.\r\n\r\nThe take away is ... check the Stardog documentation for the version *that you are trying to use*.\r\n\r\n\r\n  [1]: https://www.stardog.com/docs/\r\n  [2]: https://docs.stardog.com/release-notes/stardog-platform#900-release-2023-04-05\r\n  [3]: https://docs.stardog.com/install-stardog/system-requirements","title":"Can&#39;t get Stardog to run on Mac OS X","body":"<p>The <a href=\"https://www.stardog.com/docs/\" rel=\"nofollow noreferrer\">documentation</a> for Stardog (Stardog 6.1.0 (16 Jan 2019))  states:</p>\n<blockquote>\n<h2>Requirements</h2>\n<p>It just doesnt get any easier than this: Stardog runs on Java 8.</p>\n</blockquote>\n<hr />\n<p>Install Java 8.</p>\n<p>I expect that in the fullness of time, the vendors of Stardog will release a version that works on Java 11, but I couldn't see any announcements on their site.  (There is a Stardog 7.0.0 Beta ... but the release notes don't mention Java 11.)</p>\n<hr />\n<p>Update: Stardog 9.0 has updated to Java 11; see the <a href=\"https://docs.stardog.com/release-notes/stardog-platform#900-release-2023-04-05\" rel=\"nofollow noreferrer\">release notes</a>.  The <a href=\"https://docs.stardog.com/install-stardog/system-requirements\" rel=\"nofollow noreferrer\">system requirements</a> page currently says that only Java 11 is supported.</p>\n<p>The take away is ... check the Stardog documentation for the version <em>that you are trying to use</em>.</p>\n"}],"owner":{"account_id":2825370,"reputation":3087,"user_id":2428124,"accept_rate":48,"display_name":"ste"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":54367593,"answer_count":1,"score":5,"last_activity_date":1692702771,"creation_date":1548424752,"question_id":54366784,"body_markdown":"I just download Stardog and I&#39;m trying to run it on my machine (Mac OS X 10.14.2).\r\n\r\nI use `ZSH` shell and I have added the following two lines in my `.zshrc` file:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    export STARDOG_HOME=&quot;/Applications/stardog-6.1.0&quot;\r\n    export PATH=&quot;$PATH:$STARDOG_HOME/bin&quot;\r\n\r\nFollowing is my entire `$PATH` variable:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n      echo $PATH\r\n    /Users/my_user/.nvm/versions/node/v11.6.0/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Applications/stardog-6.1.0/bin\r\n\r\nFollowing is my java version:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n      java --version\r\n    openjdk 11.0.1 2018-10-16\r\n    OpenJDK Runtime Environment 18.9 (build 11.0.1+13)\r\n    OpenJDK 64-Bit Server VM 18.9 (build 11.0.1+13, mixed mode)\r\n\r\nI copied the license in `/Applications/stardog-6.1.0` and then I try to run \r\n`stardog-admin server start` but that&#39;s the output:\r\n\r\n```\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by com.google.inject.internal.cglib.core.$ReflectUtils$2 (file:/Applications/stardog-6.1.0/client/api/guice-4.0.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)\r\nWARNING: Please consider reporting this to the maintainers of com.google.inject.internal.cglib.core.$ReflectUtils$2\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\nWARN  2019-01-25 13:50:03,228 [main] com.complexible.common.memory.PlatformDependent:&lt;init&gt;(144): sun.misc.VM is not available\r\nThere was an error initializing Stardog; one or more dependencies could not be satisfied. Please verify your classpath is correct.\r\nThe initialization errors were:\r\n *\tError injecting constructor, java.lang.ExceptionInInitializerError\r\n\t\tcom.complexible.stardog.StardogKernel.&lt;init&gt;()\r\n\t\tcom.complexible.stardog.StardogKernel\r\n  \tCaused by:\r\njava.lang.ExceptionInInitializerError\r\n\tat com.complexible.memory.memoryblock.MemoryBlockPool.allocateAll(MemoryBlockPool.java:181)\r\n\tat com.complexible.memory.memoryblock.MemoryBlockPool.&lt;init&gt;(MemoryBlockPool.java:50)\r\n\tat com.complexible.memory.memoryblock.MemoryContext.createMemoryBlockPool(MemoryContext.java:180)\r\n\tat com.complexible.memory.memoryblock.MemoryContext.&lt;init&gt;(MemoryContext.java:65)\r\n\tat com.complexible.stardog.StardogKernel.initMemoryContext(StardogKernel.java:703)\r\n\tat com.complexible.stardog.StardogKernel.&lt;init&gt;(StardogKernel.java:491)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n\tat com.google.inject.internal.DefaultConstructionProxyFactory$2.newInstance(DefaultConstructionProxyFactory.java:86)\r\n\tat com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:105)\r\n\tat com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:85)\r\n\tat com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:267)\r\n\tat com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46)\r\n\tat com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1103)\r\n\tat com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)\r\n\tat com.google.inject.internal.SingletonScope$1.get(SingletonScope.java:145)\r\n\tat com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:41)\r\n\tat com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:56)\r\n\tat com.google.inject.internal.InjectorImpl$2$1.call(InjectorImpl.java:1016)\r\n\tat com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1092)\r\n\tat com.google.inject.internal.InjectorImpl$2.get(InjectorImpl.java:1012)\r\n\tat com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1051)\r\n\tat com.complexible.stardog.Stardog.initKernel(Stardog.java:213)\r\n\tat com.complexible.stardog.Stardog.&lt;init&gt;(Stardog.java:206)\r\n\tat com.complexible.stardog.Stardog.&lt;init&gt;(Stardog.java:60)\r\n\tat com.complexible.stardog.Stardog$StardogBuilder.create(Stardog.java:597)\r\n\tat com.complexible.stardog.cli.impl.ServerStart.call(ServerStart.java:165)\r\n\tat com.complexible.stardog.cli.impl.ServerStart.call(ServerStart.java:41)\r\n\tat com.complexible.stardog.cli.CLIBase.execute(CLIBase.java:55)\r\n\tat com.complexible.stardog.cli.admin.CLI.main(CLI.java:187)\r\nCaused by: java.lang.NullPointerException\r\n\tat org.apache.commons.lang3.SystemUtils.isJavaVersionAtLeast(SystemUtils.java:1642)\r\n\tat com.complexible.memory.util.MMBits.&lt;clinit&gt;(MMBits.java:37)\r\n\t... 32 more\r\nUnable to provision, see the following errors:\r\n\r\n1) Error injecting constructor, java.lang.ExceptionInInitializerError\r\n  at com.complexible.stardog.StardogKernel.&lt;init&gt;(StardogKernel.java:277)\r\n  at com.complexible.stardog.StardogKernel.class(StardogKernel.java:277)\r\n  while locating com.complexible.stardog.StardogKernel\r\n  while locating com.complexible.stardog.Kernel\r\n\r\n```\r\n\r\nWhat am I missing?","title":"Can&#39;t get Stardog to run on Mac OS X","body":"<p>I just download Stardog and I'm trying to run it on my machine (Mac OS X 10.14.2).</p>\n\n<p>I use <code>ZSH</code> shell and I have added the following two lines in my <code>.zshrc</code> file:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>export STARDOG_HOME=\"/Applications/stardog-6.1.0\"\nexport PATH=\"$PATH:$STARDOG_HOME/bin\"\n</code></pre>\n\n<p>Following is my entire <code>$PATH</code> variable:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>  echo $PATH\n/Users/my_user/.nvm/versions/node/v11.6.0/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Applications/stardog-6.1.0/bin\n</code></pre>\n\n<p>Following is my java version:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>  java --version\nopenjdk 11.0.1 2018-10-16\nOpenJDK Runtime Environment 18.9 (build 11.0.1+13)\nOpenJDK 64-Bit Server VM 18.9 (build 11.0.1+13, mixed mode)\n</code></pre>\n\n<p>I copied the license in <code>/Applications/stardog-6.1.0</code> and then I try to run \n<code>stardog-admin server start</code> but that's the output:</p>\n\n<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by com.google.inject.internal.cglib.core.$ReflectUtils$2 (file:/Applications/stardog-6.1.0/client/api/guice-4.0.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)\nWARNING: Please consider reporting this to the maintainers of com.google.inject.internal.cglib.core.$ReflectUtils$2\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\nWARN  2019-01-25 13:50:03,228 [main] com.complexible.common.memory.PlatformDependent:&lt;init&gt;(144): sun.misc.VM is not available\nThere was an error initializing Stardog; one or more dependencies could not be satisfied. Please verify your classpath is correct.\nThe initialization errors were:\n *  Error injecting constructor, java.lang.ExceptionInInitializerError\n        com.complexible.stardog.StardogKernel.&lt;init&gt;()\n        com.complexible.stardog.StardogKernel\n    Caused by:\njava.lang.ExceptionInInitializerError\n    at com.complexible.memory.memoryblock.MemoryBlockPool.allocateAll(MemoryBlockPool.java:181)\n    at com.complexible.memory.memoryblock.MemoryBlockPool.&lt;init&gt;(MemoryBlockPool.java:50)\n    at com.complexible.memory.memoryblock.MemoryContext.createMemoryBlockPool(MemoryContext.java:180)\n    at com.complexible.memory.memoryblock.MemoryContext.&lt;init&gt;(MemoryContext.java:65)\n    at com.complexible.stardog.StardogKernel.initMemoryContext(StardogKernel.java:703)\n    at com.complexible.stardog.StardogKernel.&lt;init&gt;(StardogKernel.java:491)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at com.google.inject.internal.DefaultConstructionProxyFactory$2.newInstance(DefaultConstructionProxyFactory.java:86)\n    at com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:105)\n    at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:85)\n    at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:267)\n    at com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46)\n    at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1103)\n    at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)\n    at com.google.inject.internal.SingletonScope$1.get(SingletonScope.java:145)\n    at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:41)\n    at com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:56)\n    at com.google.inject.internal.InjectorImpl$2$1.call(InjectorImpl.java:1016)\n    at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1092)\n    at com.google.inject.internal.InjectorImpl$2.get(InjectorImpl.java:1012)\n    at com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1051)\n    at com.complexible.stardog.Stardog.initKernel(Stardog.java:213)\n    at com.complexible.stardog.Stardog.&lt;init&gt;(Stardog.java:206)\n    at com.complexible.stardog.Stardog.&lt;init&gt;(Stardog.java:60)\n    at com.complexible.stardog.Stardog$StardogBuilder.create(Stardog.java:597)\n    at com.complexible.stardog.cli.impl.ServerStart.call(ServerStart.java:165)\n    at com.complexible.stardog.cli.impl.ServerStart.call(ServerStart.java:41)\n    at com.complexible.stardog.cli.CLIBase.execute(CLIBase.java:55)\n    at com.complexible.stardog.cli.admin.CLI.main(CLI.java:187)\nCaused by: java.lang.NullPointerException\n    at org.apache.commons.lang3.SystemUtils.isJavaVersionAtLeast(SystemUtils.java:1642)\n    at com.complexible.memory.util.MMBits.&lt;clinit&gt;(MMBits.java:37)\n    ... 32 more\nUnable to provision, see the following errors:\n\n1) Error injecting constructor, java.lang.ExceptionInInitializerError\n  at com.complexible.stardog.StardogKernel.&lt;init&gt;(StardogKernel.java:277)\n  at com.complexible.stardog.StardogKernel.class(StardogKernel.java:277)\n  while locating com.complexible.stardog.StardogKernel\n  while locating com.complexible.stardog.Kernel\n\n</code></pre>\n\n<p>What am I missing?</p>\n"},{"tags":["java","game-development"],"comments":[{"owner":{"account_id":265971,"reputation":12313,"user_id":553279,"display_name":"fdreger"},"score":0,"creation_date":1692341257,"post_id":76915800,"comment_id":135612392,"body_markdown":"It&#39;s a debugging question, it doesn&#39;t have a good answer. The code looks fine, so now you need to challenge your assumptions (things outside the code):\n - does rightPlayer[0] really a sprite of player facing right?\n - does dir really change to right_dir?\n - is the code called only once, with correct parameters? Maybe it&#39;s called many times and the other times overdraw the results of this one?\nYou can verify them by moving code around and rerunning - e.g. if you think that the &quot;left&quot; case is executed, change the image there to rightPlayer, and see if it changes anything.","body":"It&#39;s a debugging question, it doesn&#39;t have a good answer. The code looks fine, so now you need to challenge your assumptions (things outside the code):  - does rightPlayer[0] really a sprite of player facing right?  - does dir really change to right_dir?  - is the code called only once, with correct parameters? Maybe it&#39;s called many times and the other times overdraw the results of this one? You can verify them by moving code around and rerunning - e.g. if you think that the &quot;left&quot; case is executed, change the image there to rightPlayer, and see if it changes anything."},{"owner":{"account_id":184203,"reputation":3430,"user_id":420096,"accept_rate":71,"display_name":"Sombriks"},"score":0,"creation_date":1692388655,"post_id":76915800,"comment_id":135621353,"body_markdown":"please provide a more complete example of what you&#39;re trying to do. for instance, a good practice is so separate your game animation in phases, so all drawings happen at once instead of being called by any arbitrary event and then invalitate the entire drawing context.","body":"please provide a more complete example of what you&#39;re trying to do. for instance, a good practice is so separate your game animation in phases, so all drawings happen at once instead of being called by any arbitrary event and then invalitate the entire drawing context."}],"answers":[{"tags":[],"owner":{"account_id":29253524,"reputation":1,"user_id":22412347,"display_name":"theStacker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692702478,"creation_date":1692388328,"answer_id":76932226,"question_id":76915800,"body_markdown":"I&#39;m a little confused about the question. Are there multiple characters facing multiple ways? Or is there one character that faces different directions? If it&#39;s the former, then make sure the sources are different.\r\nIf it&#39;s latter, then you&#39;re not using the right draw method.\r\nYou should instead use this draw method:\r\n```java\r\ng.drawImage(source,topCutX,topCutY,cutWidth,cutHeight,x,y,skewX,skewY)\r\n```\r\nIf it&#39;s one character, then you should should make a _spritesheet_ and use this method to draw the character. I would also recommend you have a class or a function for the characters. If there are multiple characters it&#39;s better to use a class.\r\n","title":"How do I interlink the sprites with the character&#39;s movements correctly?","body":"<p>I'm a little confused about the question. Are there multiple characters facing multiple ways? Or is there one character that faces different directions? If it's the former, then make sure the sources are different.\nIf it's latter, then you're not using the right draw method.\nYou should instead use this draw method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>g.drawImage(source,topCutX,topCutY,cutWidth,cutHeight,x,y,skewX,skewY)\n</code></pre>\n<p>If it's one character, then you should should make a <em>spritesheet</em> and use this method to draw the character. I would also recommend you have a class or a function for the characters. If there are multiple characters it's better to use a class.</p>\n"}],"owner":{"account_id":29238771,"reputation":1,"user_id":22400798,"display_name":"Pedro_Leandr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1692702478,"creation_date":1692206725,"question_id":76915800,"body_markdown":"I&#39;m creating a game but when it comes to linking the sprites with movement, it only shows 2 sprites instead of 4 sprites, stayed up and left with one sprite and down and left with another.\r\n\r\n\r\nI&#39;ve reviewed the code several times but I can&#39;t find any errors.\r\nI expected the sprites to be well linked as I don&#39;t find any errors in the code, but instead it only shows 2 of the 4 sprites on the moves but I&#39;m sure the prob is here:\r\n\r\n```\r\npublic void render(Graphics g) {\r\n    if (dir == front_dir) {\r\n        g.drawImage(frontPlayer[0], this.getX(), this.getY(), null);\r\n    } else if (dir == behind_dir) {\r\n        g.drawImage(behindPlayer[0], this.getX(), this.getY(), null);\r\n    } else if (dir == left_dir) {\r\n        g.drawImage(leftPlayer[0], this.getX(), this.getY(), null);\r\n    } else if (dir == right_dir) {\r\n        g.drawImage(rightPlayer[0], this.getX(), this.getY(), null);\r\n    }\r\n}\r\n```\r\n\r\nCan anyone help me?","title":"How do I interlink the sprites with the character&#39;s movements correctly?","body":"<p>I'm creating a game but when it comes to linking the sprites with movement, it only shows 2 sprites instead of 4 sprites, stayed up and left with one sprite and down and left with another.</p>\n<p>I've reviewed the code several times but I can't find any errors.\nI expected the sprites to be well linked as I don't find any errors in the code, but instead it only shows 2 of the 4 sprites on the moves but I'm sure the prob is here:</p>\n<pre><code>public void render(Graphics g) {\n    if (dir == front_dir) {\n        g.drawImage(frontPlayer[0], this.getX(), this.getY(), null);\n    } else if (dir == behind_dir) {\n        g.drawImage(behindPlayer[0], this.getX(), this.getY(), null);\n    } else if (dir == left_dir) {\n        g.drawImage(leftPlayer[0], this.getX(), this.getY(), null);\n    } else if (dir == right_dir) {\n        g.drawImage(rightPlayer[0], this.getX(), this.getY(), null);\n    }\n}\n</code></pre>\n<p>Can anyone help me?</p>\n"},{"tags":["java","swing","lambda","java-8"],"comments":[{"owner":{"account_id":3857638,"reputation":527,"user_id":3196135,"accept_rate":47,"display_name":"Andr&#233;"},"score":0,"creation_date":1454332750,"post_id":32135018,"comment_id":57982707,"body_markdown":"Did you find a solution for this?","body":"Did you find a solution for this?"},{"owner":{"account_id":2578817,"reputation":3738,"user_id":2235939,"accept_rate":52,"display_name":"Micha Jurczuk"},"score":0,"creation_date":1454335751,"post_id":32135018,"comment_id":57984763,"body_markdown":"No, If I would have source code I could just update dependencies, maybe you could try to send question to JetBrains?","body":"No, If I would have source code I could just update dependencies, maybe you could try to send question to JetBrains?"},{"owner":{"account_id":3857638,"reputation":527,"user_id":3196135,"accept_rate":47,"display_name":"Andr&#233;"},"score":0,"creation_date":1454336515,"post_id":32135018,"comment_id":57985377,"body_markdown":"I just found that the problem is JetBrains does not actually have an official maven plugin for the UI designer. The ideauidesigner-maven-plugin is written by somebody else. Would be nice if JetBrains had an offical plugin, but I guess there&#39;s not enough demand for it.","body":"I just found that the problem is JetBrains does not actually have an official maven plugin for the UI designer. The ideauidesigner-maven-plugin is written by somebody else. Would be nice if JetBrains had an offical plugin, but I guess there&#39;s not enough demand for it."},{"owner":{"account_id":2578817,"reputation":3738,"user_id":2235939,"accept_rate":52,"display_name":"Micha Jurczuk"},"score":0,"creation_date":1454336801,"post_id":32135018,"comment_id":57985623,"body_markdown":"So maybe we should try to send message to person who wrote this plugin, do you have contact to that person?","body":"So maybe we should try to send message to person who wrote this plugin, do you have contact to that person?"},{"owner":{"account_id":3857638,"reputation":527,"user_id":3196135,"accept_rate":47,"display_name":"Andr&#233;"},"score":0,"creation_date":1454337034,"post_id":32135018,"comment_id":57985818,"body_markdown":"He actually previously worked where I work now. I don&#39;t know him, but I guess I can contact him and ask. I figured I&#39;ll also try and submit a request to JetBrains for an offical plugin as well.","body":"He actually previously worked where I work now. I don&#39;t know him, but I guess I can contact him and ask. I figured I&#39;ll also try and submit a request to JetBrains for an offical plugin as well."},{"owner":{"account_id":2578817,"reputation":3738,"user_id":2235939,"accept_rate":52,"display_name":"Micha Jurczuk"},"score":0,"creation_date":1454340400,"post_id":32135018,"comment_id":57988226,"body_markdown":"Great, I hope you will fix this very soon, it would be great to be able to use Java 8 everywhere. It&#39;s probably about updating dependencies. Let us know if you will know something more, or we can help you anyhow","body":"Great, I hope you will fix this very soon, it would be great to be able to use Java 8 everywhere. It&#39;s probably about updating dependencies. Let us know if you will know something more, or we can help you anyhow"},{"owner":{"account_id":2578817,"reputation":3738,"user_id":2235939,"accept_rate":52,"display_name":"Micha Jurczuk"},"score":0,"creation_date":1459752619,"post_id":32135018,"comment_id":60408952,"body_markdown":"Did you find any solution for this bug?","body":"Did you find any solution for this bug?"},{"owner":{"account_id":3857638,"reputation":527,"user_id":3196135,"accept_rate":47,"display_name":"Andr&#233;"},"score":0,"creation_date":1459851920,"post_id":32135018,"comment_id":60461610,"body_markdown":"No sorry, ended up not using the UI designer at all.","body":"No sorry, ended up not using the UI designer at all."},{"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"score":1,"creation_date":1509045592,"post_id":32135018,"comment_id":80871926,"body_markdown":"You should check [this](https://stackoverflow.com/a/45125398/3764804) answer since it works fine for me.","body":"You should check <a href=\"https://stackoverflow.com/a/45125398/3764804\">this</a> answer since it works fine for me."}],"answers":[{"tags":[],"owner":{"account_id":2484153,"reputation":1481,"user_id":2162964,"accept_rate":69,"display_name":"sumitsu"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1493230808,"creation_date":1493230808,"answer_id":43641744,"question_id":32135018,"body_markdown":"One workaround, until such time as someone is able to fix the plugin, is to configure your IntelliJ settings to generate the GUI as source rather than as binaries, then manually re-generate the GUI sources *prior* to running Maven any time you make a change in GUI designer:\r\n\r\n 1. Go to **File &gt; Settings** and change the selection for **Editor &gt; GUI Designer &gt; Generate GUI into:** to **Java source code**.\r\n 2. Whenever you make a GUI change, build the project from IntelliJ to (re-)generate the GUI Java source code (**Build &gt;&gt; Build Project**).\r\n 3. Optionally, check the generated source into whatever source-control mechanism you&#39;re using; this step saves anyone else building your project via Maven from having to do the manual build from IntelliJ later (i.e. so they can build solely via Maven).\r\n 4. If you&#39;re using an IntelliJ layout manager (like `GridLayoutManager`), add `com.intellij:forms_rt:7.0.3` as a compile dependency in your `pom.xml`, if it isn&#39;t already there.\r\n 5. Run Maven as usual to build your project.","title":"Lambda expressions and Java 1.8 in IdeaUIDesigner","body":"<p>One workaround, until such time as someone is able to fix the plugin, is to configure your IntelliJ settings to generate the GUI as source rather than as binaries, then manually re-generate the GUI sources <em>prior</em> to running Maven any time you make a change in GUI designer:</p>\n\n<ol>\n<li>Go to <strong>File > Settings</strong> and change the selection for <strong>Editor > GUI Designer > Generate GUI into:</strong> to <strong>Java source code</strong>.</li>\n<li>Whenever you make a GUI change, build the project from IntelliJ to (re-)generate the GUI Java source code (<strong>Build >> Build Project</strong>).</li>\n<li>Optionally, check the generated source into whatever source-control mechanism you're using; this step saves anyone else building your project via Maven from having to do the manual build from IntelliJ later (i.e. so they can build solely via Maven).</li>\n<li>If you're using an IntelliJ layout manager (like <code>GridLayoutManager</code>), add <code>com.intellij:forms_rt:7.0.3</code> as a compile dependency in your <code>pom.xml</code>, if it isn't already there.</li>\n<li>Run Maven as usual to build your project.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":18062507,"reputation":214,"user_id":13129299,"display_name":"Luiz Damy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612233607,"creation_date":1612233607,"answer_id":66002937,"question_id":32135018,"body_markdown":"The problem with the GUI designer is that it does not have a maven straightforward plugin that you can use, because Intellij uses ant to post-manipulate the target .class files. You could use the maven ant plugin:\r\n\r\n             &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.7&lt;/version&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;com.sun&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;tools&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.7.0&lt;/version&gt;\r\n                        &lt;scope&gt;system&lt;/scope&gt;\r\n                        &lt;systemPath&gt;${java.home}/../lib/tools.jar&lt;/systemPath&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;compile&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;tasks&gt;\r\n                                &lt;path id=&quot;j2cp&quot;&gt;\r\n                                    &lt;fileset dir=&quot;${project.basedir}/antlibs&quot; includes=&quot;*.jar&quot;/&gt;\r\n                                &lt;/path&gt;\r\n                                &lt;path id=&quot;j2sp&quot;&gt;\r\n                                    &lt;pathelement location=&quot;${project.basedir}/src/main/java&quot;/&gt;\r\n                                &lt;/path&gt;\r\n\r\n                                &lt;taskdef name=&quot;javac2&quot; classpathref=&quot;j2cp&quot; classname=&quot;com.intellij.ant.Javac2&quot;/&gt;\r\n                                &lt;javac2 destdir=&quot;${project.basedir}/target/classes&quot;&gt; \r\n                                    &lt;src refid=&quot;j2sp&quot;/&gt;\r\n                                &lt;/javac2&gt;\r\n                            &lt;/tasks&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;run&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\nBut you need the javac2 jars to be put in /antlibs, in my project I use these:\r\n\r\n* asm-5.0.3.jar\r\n* asm-all-7.0.1.jar\r\n* javac2.jar\r\n* jdom.jar\r\n\r\nYou can find these libraries inside your ${Intellij.home}/libs\r\n\r\nIf you use specific IDE layouts, maybe you will need other specific jars regarding them, the ant plugin will be specific if you missed out something","title":"Lambda expressions and Java 1.8 in IdeaUIDesigner","body":"<p>The problem with the GUI designer is that it does not have a maven straightforward plugin that you can use, because Intellij uses ant to post-manipulate the target .class files. You could use the maven ant plugin:</p>\n<pre><code>         &lt;plugin&gt;\n            &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.7&lt;/version&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.sun&lt;/groupId&gt;\n                    &lt;artifactId&gt;tools&lt;/artifactId&gt;\n                    &lt;version&gt;1.7.0&lt;/version&gt;\n                    &lt;scope&gt;system&lt;/scope&gt;\n                    &lt;systemPath&gt;${java.home}/../lib/tools.jar&lt;/systemPath&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;compile&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;tasks&gt;\n                            &lt;path id=&quot;j2cp&quot;&gt;\n                                &lt;fileset dir=&quot;${project.basedir}/antlibs&quot; includes=&quot;*.jar&quot;/&gt;\n                            &lt;/path&gt;\n                            &lt;path id=&quot;j2sp&quot;&gt;\n                                &lt;pathelement location=&quot;${project.basedir}/src/main/java&quot;/&gt;\n                            &lt;/path&gt;\n\n                            &lt;taskdef name=&quot;javac2&quot; classpathref=&quot;j2cp&quot; classname=&quot;com.intellij.ant.Javac2&quot;/&gt;\n                            &lt;javac2 destdir=&quot;${project.basedir}/target/classes&quot;&gt; \n                                &lt;src refid=&quot;j2sp&quot;/&gt;\n                            &lt;/javac2&gt;\n                        &lt;/tasks&gt;\n                    &lt;/configuration&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;run&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>But you need the javac2 jars to be put in /antlibs, in my project I use these:</p>\n<ul>\n<li>asm-5.0.3.jar</li>\n<li>asm-all-7.0.1.jar</li>\n<li>javac2.jar</li>\n<li>jdom.jar</li>\n</ul>\n<p>You can find these libraries inside your ${Intellij.home}/libs</p>\n<p>If you use specific IDE layouts, maybe you will need other specific jars regarding them, the ant plugin will be specific if you missed out something</p>\n"},{"tags":[],"owner":{"account_id":1459673,"reputation":1958,"user_id":1374322,"accept_rate":88,"display_name":"JockX"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632160592,"creation_date":1632160592,"answer_id":69258904,"question_id":32135018,"body_markdown":"The plugin `org.codehaus.mojo:ideauidesigner-maven-plugin:1.0-beta-1` has 2 dependencies on the code provided by Jetbrains via `com.intellij:javac2:7.0.3` and `com.intellij:forms_rt:7.0.3` (both last updated in 2008). These have not been directly updated since, but have modern equivalents hosted by Jetbrains in [their own repositories][1].\r\n\r\nAll there is to be done is to overwrite the plugin dependencies:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ideauidesigner-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-beta-1&lt;/version&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.jetbrains.intellij.java&lt;/groupId&gt;\r\n                &lt;artifactId&gt;java-compiler-ant-tasks&lt;/artifactId&gt;\r\n                &lt;version&gt;212.5284.40&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.jetbrains.intellij.java&lt;/groupId&gt;\r\n                &lt;artifactId&gt;java-gui-forms-rt&lt;/artifactId&gt;\r\n                &lt;version&gt;212.5284.40&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAnd include Jetbrains plugin repositories\r\n\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;intellij-repository&lt;/id&gt;\r\n            &lt;url&gt;https://www.jetbrains.com/intellij-repository/releases&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;intellij-third-party&lt;/id&gt;\r\n            &lt;url&gt;https://cache-redirector.jetbrains.com/intellij-dependencies&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/docs/intellij/intellij-artifacts.html","title":"Lambda expressions and Java 1.8 in IdeaUIDesigner","body":"<p>The plugin <code>org.codehaus.mojo:ideauidesigner-maven-plugin:1.0-beta-1</code> has 2 dependencies on the code provided by Jetbrains via <code>com.intellij:javac2:7.0.3</code> and <code>com.intellij:forms_rt:7.0.3</code> (both last updated in 2008). These have not been directly updated since, but have modern equivalents hosted by Jetbrains in <a href=\"https://plugins.jetbrains.com/docs/intellij/intellij-artifacts.html\" rel=\"nofollow noreferrer\">their own repositories</a>.</p>\n<p>All there is to be done is to overwrite the plugin dependencies:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;ideauidesigner-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.0-beta-1&lt;/version&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jetbrains.intellij.java&lt;/groupId&gt;\n            &lt;artifactId&gt;java-compiler-ant-tasks&lt;/artifactId&gt;\n            &lt;version&gt;212.5284.40&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jetbrains.intellij.java&lt;/groupId&gt;\n            &lt;artifactId&gt;java-gui-forms-rt&lt;/artifactId&gt;\n            &lt;version&gt;212.5284.40&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>And include Jetbrains plugin repositories</p>\n<pre><code>&lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;intellij-repository&lt;/id&gt;\n        &lt;url&gt;https://www.jetbrains.com/intellij-repository/releases&lt;/url&gt;\n    &lt;/pluginRepository&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;intellij-third-party&lt;/id&gt;\n        &lt;url&gt;https://cache-redirector.jetbrains.com/intellij-dependencies&lt;/url&gt;\n    &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29274233,"reputation":1,"user_id":22428333,"display_name":"Bal&#225;zs Juh&#225;sz-Nagy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692702459,"creation_date":1692702459,"answer_id":76952672,"question_id":32135018,"body_markdown":"As JockX answer sais updating ideauidesigner-maven-plugin dependency can solve the issue.\r\n\r\n    &lt;properties&gt;\r\n     &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n     &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n     &lt;intellij.version&gt;232.8660.211&lt;/intellij.version&gt;\r\n     &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding\r\n    &lt;/properties&gt;\r\n\r\n    &lt;pluginRepositories&gt;\r\n     &lt;pluginRepository&gt;\r\n      &lt;id&gt;intellij-repository&lt;/id&gt;\r\n      &lt;url&gt;https://www.jetbrains.com/intellij-repository/releases&lt;/url&gt;\r\n     &lt;/pluginRepository&gt;\r\n     &lt;pluginRepository&gt;\r\n       &lt;id&gt;intellij-third-party&lt;/id&gt;\r\n       &lt;url&gt;https://cache-redirector.jetbrains.com/intellij-dependencies&lt;/url&gt;\r\n     &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n    &lt;plugin&gt;\r\n     &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n     &lt;artifactId&gt;ideauidesigner-maven-plugin&lt;/artifactId&gt;\r\n     &lt;version&gt;1.0-beta-1&lt;/version&gt;\r\n     &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n       &lt;groupId&gt;com.jetbrains.intellij.java&lt;/groupId&gt;\r\n       &lt;artifactId&gt;java-compiler-ant-tasks&lt;/artifactId&gt;\r\n       &lt;version&gt;${intellij.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n       &lt;groupId&gt;com.jetbrains.intellij.java&lt;/groupId&gt;\r\n       &lt;artifactId&gt;java-gui-forms-rt&lt;/artifactId&gt;\r\n       &lt;version&gt;${intellij.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;!-- https://mvnrepository.com/artifact/org.apache.maven/maven-core --&gt;\r\n      &lt;dependency&gt;\r\n       &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n       &lt;artifactId&gt;maven-core&lt;/artifactId&gt;\r\n       &lt;version&gt;3.9.4&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;!-- https://mvnrepository.com/artifact/org.apache.maven/maven-plugin-api --&gt;\r\n      &lt;dependency&gt;\r\n       &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n       &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\r\n       &lt;version&gt;3.9.4&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n     &lt;/dependencies&gt;\r\n     &lt;executions&gt;\r\n      &lt;execution&gt;\r\n       &lt;goals&gt;\r\n        &lt;goal&gt;javac2&lt;/goal&gt;\r\n       &lt;/goals&gt;\r\n      &lt;/execution&gt;\r\n     &lt;/executions&gt;\r\n     &lt;configuration&gt;\r\n      &lt;fork&gt;true&lt;/fork&gt;\r\n      &lt;debug&gt;true&lt;/debug&gt;\r\n      &lt;failOnError&gt;true&lt;/failOnError&gt;\r\n     &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"Lambda expressions and Java 1.8 in IdeaUIDesigner","body":"<p>As JockX answer sais updating ideauidesigner-maven-plugin dependency can solve the issue.</p>\n<pre><code>&lt;properties&gt;\n &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n &lt;intellij.version&gt;232.8660.211&lt;/intellij.version&gt;\n &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding\n&lt;/properties&gt;\n\n&lt;pluginRepositories&gt;\n &lt;pluginRepository&gt;\n  &lt;id&gt;intellij-repository&lt;/id&gt;\n  &lt;url&gt;https://www.jetbrains.com/intellij-repository/releases&lt;/url&gt;\n &lt;/pluginRepository&gt;\n &lt;pluginRepository&gt;\n   &lt;id&gt;intellij-third-party&lt;/id&gt;\n   &lt;url&gt;https://cache-redirector.jetbrains.com/intellij-dependencies&lt;/url&gt;\n &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n\n&lt;plugin&gt;\n &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n &lt;artifactId&gt;ideauidesigner-maven-plugin&lt;/artifactId&gt;\n &lt;version&gt;1.0-beta-1&lt;/version&gt;\n &lt;dependencies&gt;\n  &lt;dependency&gt;\n   &lt;groupId&gt;com.jetbrains.intellij.java&lt;/groupId&gt;\n   &lt;artifactId&gt;java-compiler-ant-tasks&lt;/artifactId&gt;\n   &lt;version&gt;${intellij.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n   &lt;groupId&gt;com.jetbrains.intellij.java&lt;/groupId&gt;\n   &lt;artifactId&gt;java-gui-forms-rt&lt;/artifactId&gt;\n   &lt;version&gt;${intellij.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;!-- https://mvnrepository.com/artifact/org.apache.maven/maven-core --&gt;\n  &lt;dependency&gt;\n   &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n   &lt;artifactId&gt;maven-core&lt;/artifactId&gt;\n   &lt;version&gt;3.9.4&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;!-- https://mvnrepository.com/artifact/org.apache.maven/maven-plugin-api --&gt;\n  &lt;dependency&gt;\n   &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n   &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\n   &lt;version&gt;3.9.4&lt;/version&gt;\n  &lt;/dependency&gt;\n &lt;/dependencies&gt;\n &lt;executions&gt;\n  &lt;execution&gt;\n   &lt;goals&gt;\n    &lt;goal&gt;javac2&lt;/goal&gt;\n   &lt;/goals&gt;\n  &lt;/execution&gt;\n &lt;/executions&gt;\n &lt;configuration&gt;\n  &lt;fork&gt;true&lt;/fork&gt;\n  &lt;debug&gt;true&lt;/debug&gt;\n  &lt;failOnError&gt;true&lt;/failOnError&gt;\n &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":2578817,"reputation":3738,"user_id":2235939,"accept_rate":52,"display_name":"Micha Jurczuk"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2027,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":4,"score":14,"last_activity_date":1692702459,"creation_date":1440143292,"question_id":32135018,"body_markdown":"I&#39;m trying to use `Java 1.8` with lambda expressions with `Idea UI Designer`, I have in maven:\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;ideauidesigner-maven-plugin&lt;/artifactId&gt;\r\n    \t&lt;executions&gt;\r\n    \t\t&lt;execution&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t\t&lt;goal&gt;javac2&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t&lt;/execution&gt;\r\n    \t&lt;/executions&gt;\r\n    \r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;fork&gt;true&lt;/fork&gt;\r\n    \t\t&lt;debug&gt;true&lt;/debug&gt;\r\n    \t\t&lt;failOnError&gt;true&lt;/failOnError&gt;\r\n    \t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nand dependency\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.intellij&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;forms_rt&lt;/artifactId&gt;\r\n    \t&lt;version&gt;7.0.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhen I try to use lambdas it returns compile error:\r\n\r\n    Failed to execute goal org.codehaus.mojo:ideauidesigner-maven-plugin:1.0-beta-1:javac2 (default) on project stockbox-chart: Execution default of goal org.codehaus.mojo:ideauidesigner-maven-plugin:1.0-beta-1:javac2 failed: 52264 -&gt; [Help 1]\r\n\r\nDo you have any ideas how to use lambdas with `Idea UI Designer`?","title":"Lambda expressions and Java 1.8 in IdeaUIDesigner","body":"<p>I'm trying to use <code>Java 1.8</code> with lambda expressions with <code>Idea UI Designer</code>, I have in maven:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;ideauidesigner-maven-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;javac2&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n\n    &lt;configuration&gt;\n        &lt;fork&gt;true&lt;/fork&gt;\n        &lt;debug&gt;true&lt;/debug&gt;\n        &lt;failOnError&gt;true&lt;/failOnError&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>and dependency</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.intellij&lt;/groupId&gt;\n    &lt;artifactId&gt;forms_rt&lt;/artifactId&gt;\n    &lt;version&gt;7.0.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>When I try to use lambdas it returns compile error:</p>\n\n<pre><code>Failed to execute goal org.codehaus.mojo:ideauidesigner-maven-plugin:1.0-beta-1:javac2 (default) on project stockbox-chart: Execution default of goal org.codehaus.mojo:ideauidesigner-maven-plugin:1.0-beta-1:javac2 failed: 52264 -&gt; [Help 1]\n</code></pre>\n\n<p>Do you have any ideas how to use lambdas with <code>Idea UI Designer</code>?</p>\n"},{"tags":["java","active-directory","ldap","unboundid-ldap-sdk"],"comments":[{"owner":{"account_id":20740,"reputation":13570,"user_id":49849,"display_name":"user1686"},"score":0,"creation_date":1692681431,"post_id":76946823,"comment_id":135653196,"body_markdown":"Where did `PrimaryGroupToken` come from?","body":"Where did <code>PrimaryGroupToken</code> come from?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1692685705,"post_id":76946823,"comment_id":135653722,"body_markdown":"@user1686 not sure if I understood you correctly.  It is calculated https://learn.microsoft.com/en-us/windows/win32/adschema/a-primarygrouptoken","body":"@user1686 not sure if I understood you correctly.  It is calculated <a href=\"https://learn.microsoft.com/en-us/windows/win32/adschema/a-primarygrouptoken\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/windows/win32/adschema/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1692697327,"post_id":76951171,"comment_id":135656102,"body_markdown":"Let me share my experience.\n1. How to convert objectSid binary to string\n```\nval domainSidBytes = entry.getAttributeValueBytes(&quot;objectSid&quot;)\nval domainSidString = LdapUtils.convertBinarySidToString(domainSidBytes)\n```\n2. Yes this quesry works properly:\n```\nldapConnectionPool.searchForEntry(baseDn, SearchScope.SUB, &quot;objectSid=S-1-5-32-550&quot;)\n```\n\nThe problem here that all my groups have different prefixes","body":"Let me share my experience. 1. How to convert objectSid binary to string ``` val domainSidBytes = entry.getAttributeValueBytes(&quot;objectSid&quot;) val domainSidString = LdapUtils.convertBinarySidToString(domainSidBytes) ``` 2. Yes this quesry works properly: ``` ldapConnectionPool.searchForEntry(baseDn, SearchScope.SUB, &quot;objectSid=S-1-5-32-550&quot;) ```  The problem here that all my groups have different prefixes"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1692699253,"post_id":76951171,"comment_id":135656519,"body_markdown":"you can take a look here for more details: https://github.com/pingidentity/ldapsdk/issues/151","body":"you can take a look here for more details: <a href=\"https://github.com/pingidentity/ldapsdk/issues/151\" rel=\"nofollow noreferrer\">github.com/pingidentity/ldapsdk/issues/151</a>"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1692702068,"post_id":76951171,"comment_id":135657064,"body_markdown":"Also. please read topic update","body":"Also. please read topic update"},{"owner":{"account_id":20740,"reputation":13570,"user_id":49849,"display_name":"user1686"},"score":0,"creation_date":1692702725,"post_id":76951171,"comment_id":135657187,"body_markdown":"The primary group always has the domain SID as its base, that&#39;s how primaryGroupId is defined. The groups that have a `S-1-5-32-` SID prefix are a distraction  they only apply to domain controllers themselves (i.e. they&#39;re basically the &quot;local groups&quot; of DCs) and cannot _be set_ as a user&#39;s &quot;primary&quot; group  so they can be ignored for the purposes of this question.","body":"The primary group always has the domain SID as its base, that&#39;s how primaryGroupId is defined. The groups that have a <code>S-1-5-32-</code> SID prefix are a distraction  they only apply to domain controllers themselves (i.e. they&#39;re basically the &quot;local groups&quot; of DCs) and cannot <i>be set</i> as a user&#39;s &quot;primary&quot; group  so they can be ignored for the purposes of this question."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1692703547,"post_id":76951171,"comment_id":135657344,"body_markdown":"Looks like the common rule is working here:\n\nhttp://dl4.joxi.net/drive/2023/08/22/0005/3037/338909/09/0917048cbe.jpg\n\nIt takes sid of closest parent entry which has objectSid. Isn&#39;t it ?","body":"Looks like the common rule is working here:  <a href=\"http://dl4.joxi.net/drive/2023/08/22/0005/3037/338909/09/0917048cbe.jpg\" rel=\"nofollow noreferrer\">dl4.joxi.net/drive/2023/08/22/0005/3037/338909/09/&hellip;</a>  It takes sid of closest parent entry which has objectSid. Isn&#39;t it ?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1692703644,"post_id":76951171,"comment_id":135657368,"body_markdown":"How can I filter groups which could be set as user primary group ?","body":"How can I filter groups which could be set as user primary group ?"},{"owner":{"account_id":20740,"reputation":13570,"user_id":49849,"display_name":"user1686"},"score":0,"creation_date":1692703826,"post_id":76951171,"comment_id":135657416,"body_markdown":"No, that&#39;s not how SIDs work.","body":"No, that&#39;s not how SIDs work."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1692704833,"post_id":76951171,"comment_id":135657635,"body_markdown":"Sorry i didn&#39;t get what question have you answered -  there are 2 questions","body":"Sorry i didn&#39;t get what question have you answered -  there are 2 questions"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1692723308,"post_id":76951171,"comment_id":135662232,"body_markdown":"Looks like you are right.\nI just tried to change user primaryGroupId. And when I tried to change to group whose objectSid started from `S-1-5-32` - I&#39;ve got an ldap error although I was able to add user to that group via member field. Where I can read about it ?","body":"Looks like you are right. I just tried to change user primaryGroupId. And when I tried to change to group whose objectSid started from <code>S-1-5-32</code> - I&#39;ve got an ldap error although I was able to add user to that group via member field. Where I can read about it ?"}],"tags":[],"owner":{"account_id":20740,"reputation":13570,"user_id":49849,"display_name":"user1686"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692690790,"creation_date":1692690790,"answer_id":76951171,"question_id":76946823,"body_markdown":"`primaryGroupId` is a RID (the last component of a SID). You need to suffix it to the _domain_ SID in order to get the correct group SID.\r\n\r\n 1. Read the `objectSid` attribute from the domain&#39;s root entry (`dc=foo,dc=bar`).\r\n 2. Convert that to a string.\r\n 3. Concatenate domain objectSid + `&quot;-&quot;` + user primaryGroupID, to obtain the group SID.\r\n\r\nAlthough objectSid _stores_ the SID in binary form, AD DC actually has a custom matching rule that allows you to _search_ for a string SID.\r\n\r\n 4. Search the directory for `(objectSid=` + the group SID + `)`.\r\n 5. Use the DN of the entry you found.","title":"How to get group by primaryGroupId ? How to convert primaryGroupId to dn?","body":"<p><code>primaryGroupId</code> is a RID (the last component of a SID). You need to suffix it to the <em>domain</em> SID in order to get the correct group SID.</p>\n<ol>\n<li>Read the <code>objectSid</code> attribute from the domain's root entry (<code>dc=foo,dc=bar</code>).</li>\n<li>Convert that to a string.</li>\n<li>Concatenate domain objectSid + <code>&quot;-&quot;</code> + user primaryGroupID, to obtain the group SID.</li>\n</ol>\n<p>Although objectSid <em>stores</em> the SID in binary form, AD DC actually has a custom matching rule that allows you to <em>search</em> for a string SID.</p>\n<ol start=\"4\">\n<li>Search the directory for <code>(objectSid=</code> + the group SID + <code>)</code>.</li>\n<li>Use the DN of the entry you found.</li>\n</ol>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692702035,"creation_date":1692632418,"question_id":76946823,"body_markdown":"I can read user `primaryGroupId`:\r\n[![enter image description here][1]][1]\r\n    val entry = ldapConnectionPool.getEntry(userDn)\r\n    primaryGroupID = entry.getAttributeValue(PRIMARY_GROUP_ID.ldapFieldName)\r\n\r\nit is a string which contains number. In my case it is always `513`\r\n\r\nAs I understand user must have this group and it is setup during creation.\r\n\r\nI want to get group **DN** based on **primaryGroupId** \r\n\r\nI&#39;ve tried to get primary group from group entry:\r\n\r\n    ldapConnectionPool.getEntry(groupDn)\r\n    val token = entry.getAttributeValue(&quot;PrimaryGroupToken&quot;)\r\n\r\nBut it always null\r\n\r\nAnother option I&#39;ve found is suffix of objectSid:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\nBut solutions from here don&#39;t work for me:\r\n\r\nhttps://stackoverflow.com/questions/7118290/how-to-convert-the-sid-to-string-and-vice-versa-in-java\r\n\r\nIf I use this answer https://stackoverflow.com/a/21818633/2674303\r\n\r\nI get wrong suffix.\r\n\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n\r\nAny ideas hwo to fix it ?\r\n  \r\n\r\n\r\n**Update.** \r\n\r\nBased on answer user1686 I was able to understand that query like this works properly:\r\n\r\n    ldapConnectionPool.searchForEntry(baseDn, SearchScope.SUB, &quot;objectSid=S-1-5-32-550&quot;)\r\n\r\n\r\nBut prefix (in my case `&quot;S-1-5-32&quot;`) depends on folder.\r\n\r\n**1.**\r\n[![enter image description here][5]][5]\r\n**2.**\r\n[![enter image description here][6]][6]\r\n\r\nAnd unfortunately query with wikd card return null:\r\n\r\n    ldapConnectionPool.searchForEntry(baseDn, SearchScope.SUB, &quot;*-550&quot;)\r\n\r\n  [1]: https://i.stack.imgur.com/SWjf3.jpg\r\n  [2]: https://i.stack.imgur.com/4fdNQ.jpg\r\n  [3]: https://i.stack.imgur.com/MXthl.jpg\r\n  [4]: https://i.stack.imgur.com/jlQdx.jpg\r\n  [5]: https://i.stack.imgur.com/J6ZdL.png\r\n  [6]: https://i.stack.imgur.com/uzwkJ.jpg\r\n","title":"How to get group by primaryGroupId ? How to convert primaryGroupId to dn?","body":"<p>I can read user <code>primaryGroupId</code>:\n<a href=\"https://i.stack.imgur.com/SWjf3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SWjf3.jpg\" alt=\"enter image description here\" /></a>\nval entry = ldapConnectionPool.getEntry(userDn)\nprimaryGroupID = entry.getAttributeValue(PRIMARY_GROUP_ID.ldapFieldName)</p>\n<p>it is a string which contains number. In my case it is always <code>513</code></p>\n<p>As I understand user must have this group and it is setup during creation.</p>\n<p>I want to get group <strong>DN</strong> based on <strong>primaryGroupId</strong></p>\n<p>I've tried to get primary group from group entry:</p>\n<pre><code>ldapConnectionPool.getEntry(groupDn)\nval token = entry.getAttributeValue(&quot;PrimaryGroupToken&quot;)\n</code></pre>\n<p>But it always null</p>\n<p>Another option I've found is suffix of objectSid:</p>\n<p><a href=\"https://i.stack.imgur.com/4fdNQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4fdNQ.jpg\" alt=\"enter image description here\" /></a></p>\n<p>But solutions from here don't work for me:</p>\n<p><a href=\"https://stackoverflow.com/questions/7118290/how-to-convert-the-sid-to-string-and-vice-versa-in-java\">How to convert the SID to String and vice versa in Java?</a></p>\n<p>If I use this answer <a href=\"https://stackoverflow.com/a/21818633/2674303\">https://stackoverflow.com/a/21818633/2674303</a></p>\n<p>I get wrong suffix.</p>\n<p><a href=\"https://i.stack.imgur.com/MXthl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MXthl.jpg\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/jlQdx.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jlQdx.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Any ideas hwo to fix it ?</p>\n<p><strong>Update.</strong></p>\n<p>Based on answer user1686 I was able to understand that query like this works properly:</p>\n<pre><code>ldapConnectionPool.searchForEntry(baseDn, SearchScope.SUB, &quot;objectSid=S-1-5-32-550&quot;)\n</code></pre>\n<p>But prefix (in my case <code>&quot;S-1-5-32&quot;</code>) depends on folder.</p>\n<p><strong>1.</strong>\n<a href=\"https://i.stack.imgur.com/J6ZdL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J6ZdL.png\" alt=\"enter image description here\" /></a>\n<strong>2.</strong>\n<a href=\"https://i.stack.imgur.com/uzwkJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uzwkJ.jpg\" alt=\"enter image description here\" /></a></p>\n<p>And unfortunately query with wikd card return null:</p>\n<pre><code>ldapConnectionPool.searchForEntry(baseDn, SearchScope.SUB, &quot;*-550&quot;)\n</code></pre>\n"},{"tags":["java","maven","maven-plugin","maven-compiler-plugin","maven-javadoc-plugin"],"comments":[{"owner":{"account_id":25888334,"reputation":27,"user_id":20918292,"display_name":"Soumya"},"score":0,"creation_date":1692685731,"post_id":76950576,"comment_id":135653725,"body_markdown":"Please help me on my issue to proceed further on migration from JDK8 to JDK17","body":"Please help me on my issue to proceed further on migration from JDK8 to JDK17"},{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":1,"creation_date":1692686037,"post_id":76950576,"comment_id":135653770,"body_markdown":"Show your `pom.xml` file.","body":"Show your <code>pom.xml</code> file."},{"owner":{"account_id":25888334,"reputation":27,"user_id":20918292,"display_name":"Soumya"},"score":0,"creation_date":1692698477,"post_id":76950576,"comment_id":135656359,"body_markdown":"yes i have attached my parent pom.xml","body":"yes i have attached my parent pom.xml"}],"answers":[{"comments":[{"owner":{"account_id":25888334,"reputation":27,"user_id":20918292,"display_name":"Soumya"},"score":0,"creation_date":1692700472,"post_id":76950710,"comment_id":135656785,"body_markdown":"I have already tried with your suggestions but nothing is changing still getting the same errors","body":"I have already tried with your suggestions but nothing is changing still getting the same errors"},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1692700642,"post_id":76950710,"comment_id":135656809,"body_markdown":"Please put more detailed stack trace into body of your question","body":"Please put more detailed stack trace into body of your question"},{"owner":{"account_id":25888334,"reputation":27,"user_id":20918292,"display_name":"Soumya"},"score":0,"creation_date":1692701019,"post_id":76950710,"comment_id":135656886,"body_markdown":"could you please specify what needs to be added into the body whether i should add output traces or any pom.xml details.","body":"could you please specify what needs to be added into the body whether i should add output traces or any pom.xml details."}],"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692702030,"creation_date":1692686741,"answer_id":76950710,"question_id":76950576,"body_markdown":"I see that you use maven-compiler-plugin of version 3.8.0, and as soon as you say that you are migrating from JDK 8 to JDK 17 you probably need to upgrade plugin to version 3.10.1 and specify Java language level in `&lt;properties/&gt;` section of your `pom.xml`:\r\n```xml\r\n&lt;properties&gt;\r\n  &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\r\n&lt;/properties&gt;\r\n```\r\nAlso have a look into you code, compilation error might have been caused by some API which is unavailable after migration. It&#39;d nice if you attach more information about compilation error.\r\n\r\nPay attention to the version of Lombok, you probably need to upgrade it as well. In general your issue looks like this one https://stackoverflow.com/questions/69272445/java-17-maven-doesnt-give-much-information-about-the-error-that-happened-why\r\n\r\nP.S.\r\nFrom your error\r\n```\r\n[ERROR]/home/soumya/trunk/joma/esymac/src/main/java/com/nokia/j2ssp/comp/esymac/api/FaultManagerFactory.java:21: error: cannot find symbol\r\n    [ERROR] import com.nokia.j2ssp.comp.esymac.fm.FaultManagerAIFRemote;\r\n    \r\n    [ERROR] symbol:   class FaultManagerAIFRemote\r\n    [ERROR] location: package com.nokia.j2ssp.comp.esymac.fm\r\n    [ERROR] /home/soumya/trunk/joma/esymac/src/main/java/com/nokia/j2ssp/comp/esymac/api/FaultManagerFactory.java:22: error: cannot find symbol\r\n    [ERROR] import com.nokia.j2ssp.comp.esymac.util.Configuration;\r\n```\r\nI suspect that these classes (`FaultManagerFactory`, `FaultManagerAIFRemote` etc.) are missing from the compile class path. Are they coming from a library or generated on the fly? If the latter, try to figure out why they are not generated after migration.","title":"Maven build error wile building the sub modules in a project","body":"<p>I see that you use maven-compiler-plugin of version 3.8.0, and as soon as you say that you are migrating from JDK 8 to JDK 17 you probably need to upgrade plugin to version 3.10.1 and specify Java language level in <code>&lt;properties/&gt;</code> section of your <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n  &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>Also have a look into you code, compilation error might have been caused by some API which is unavailable after migration. It'd nice if you attach more information about compilation error.</p>\n<p>Pay attention to the version of Lombok, you probably need to upgrade it as well. In general your issue looks like this one <a href=\"https://stackoverflow.com/questions/69272445/java-17-maven-doesnt-give-much-information-about-the-error-that-happened-why\">Java 17: Maven doesn&#39;t give much information about the error that happened, why?</a></p>\n<p>P.S.\nFrom your error</p>\n<pre><code>[ERROR]/home/soumya/trunk/joma/esymac/src/main/java/com/nokia/j2ssp/comp/esymac/api/FaultManagerFactory.java:21: error: cannot find symbol\n    [ERROR] import com.nokia.j2ssp.comp.esymac.fm.FaultManagerAIFRemote;\n    \n    [ERROR] symbol:   class FaultManagerAIFRemote\n    [ERROR] location: package com.nokia.j2ssp.comp.esymac.fm\n    [ERROR] /home/soumya/trunk/joma/esymac/src/main/java/com/nokia/j2ssp/comp/esymac/api/FaultManagerFactory.java:22: error: cannot find symbol\n    [ERROR] import com.nokia.j2ssp.comp.esymac.util.Configuration;\n</code></pre>\n<p>I suspect that these classes (<code>FaultManagerFactory</code>, <code>FaultManagerAIFRemote</code> etc.) are missing from the compile class path. Are they coming from a library or generated on the fly? If the latter, try to figure out why they are not generated after migration.</p>\n"}],"owner":{"account_id":25888334,"reputation":27,"user_id":20918292,"display_name":"Soumya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1692702030,"creation_date":1692685449,"question_id":76950576,"body_markdown":"Below are the errors we are encountering after the maven build in a project:\r\n\r\n    Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project test1: Compilation failure: Compilation failure\r\n    &amp;\r\n    Failed to execute goal org.apache.maven.plugins:maven-javadoc-plugin:3.5.0:jar (attach-javadocs) on project test2: Error while generating Javadoc\r\n\r\nI am expecting solution to the above errors because we are Migrating Java from JDK8 to JDK17.  I was wondering if someone could help me here with the solution.\r\n\r\n    [INFO] BUILD FAILURE\r\n    [INFO] -------------------------------------------------------------- \r\n    ----------\r\n    [INFO] Total time: 50.144 s\r\n    [INFO] Finished at: 2023-08-22T15:19:41+05:30\r\n    [INFO] Final Memory: 47M/174M\r\n    [INFO] -------------------------------------------------------------- \r\n    ----------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven- \r\n    javadoc-plugin:3.5.0:jar (attach-javadocs) on project esymac: \r\n    MavenReportException: Error while generating Javadoc:\r\n    [ERROR] Exit code:1 \r\n      \r\n \r\n\r\n    [ERROR]/home/soumya/trunk/joma/esymac/src/main/java/com/nokia/j2ssp/comp/esymac/api/FaultManagerFactory.java:21: error: cannot find symbol\r\n        [ERROR] import com.nokia.j2ssp.comp.esymac.fm.FaultManagerAIFRemote;\r\n        \r\n        [ERROR] symbol:   class FaultManagerAIFRemote\r\n        [ERROR] location: package com.nokia.j2ssp.comp.esymac.fm\r\n        [ERROR] /home/soumya/trunk/joma/esymac/src/main/java/com/nokia/j2ssp/comp/esymac/api/FaultManagerFactory.java:22: error: cannot find symbol\r\n        [ERROR] import com.nokia.j2ssp.comp.esymac.util.Configuration;\r\n\r\nParent pom.xml:\r\n\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;modules&gt;\r\n\t\t&lt;module&gt;joma&lt;/module&gt;\r\n\t&lt;/modules&gt;\r\n\t&lt;build&gt;\r\n\t&lt;pluginManagement&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.10.1&lt;/version&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;!--&lt;source&gt;17&lt;/source&gt;\r\n\t\t\t\t&lt;target&gt;17&lt;/target&gt;--&gt;\r\n\t\t\t\t&lt;release&gt;17&lt;/release&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt;\r\n\t&lt;/plugins&gt;\r\n\t&lt;/pluginManagement&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;dependencies&gt;\r\n\r\n","title":"Maven build error wile building the sub modules in a project","body":"<p>Below are the errors we are encountering after the maven build in a project:</p>\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project test1: Compilation failure: Compilation failure\n&amp;\nFailed to execute goal org.apache.maven.plugins:maven-javadoc-plugin:3.5.0:jar (attach-javadocs) on project test2: Error while generating Javadoc\n</code></pre>\n<p>I am expecting solution to the above errors because we are Migrating Java from JDK8 to JDK17.  I was wondering if someone could help me here with the solution.</p>\n<pre><code>[INFO] BUILD FAILURE\n[INFO] -------------------------------------------------------------- \n----------\n[INFO] Total time: 50.144 s\n[INFO] Finished at: 2023-08-22T15:19:41+05:30\n[INFO] Final Memory: 47M/174M\n[INFO] -------------------------------------------------------------- \n----------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven- \njavadoc-plugin:3.5.0:jar (attach-javadocs) on project esymac: \nMavenReportException: Error while generating Javadoc:\n[ERROR] Exit code:1 \n  \n\n\n[ERROR]/home/soumya/trunk/joma/esymac/src/main/java/com/nokia/j2ssp/comp/esymac/api/FaultManagerFactory.java:21: error: cannot find symbol\n    [ERROR] import com.nokia.j2ssp.comp.esymac.fm.FaultManagerAIFRemote;\n    \n    [ERROR] symbol:   class FaultManagerAIFRemote\n    [ERROR] location: package com.nokia.j2ssp.comp.esymac.fm\n    [ERROR] /home/soumya/trunk/joma/esymac/src/main/java/com/nokia/j2ssp/comp/esymac/api/FaultManagerFactory.java:22: error: cannot find symbol\n    [ERROR] import com.nokia.j2ssp.comp.esymac.util.Configuration;\n</code></pre>\n<p>Parent pom.xml:</p>\n<pre><code>&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n&lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n&lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\n&lt;/properties&gt;\n&lt;modules&gt;\n    &lt;module&gt;joma&lt;/module&gt;\n&lt;/modules&gt;\n&lt;build&gt;\n&lt;pluginManagement&gt;\n    &lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.10.1&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;!--&lt;source&gt;17&lt;/source&gt;\n            &lt;target&gt;17&lt;/target&gt;--&gt;\n            &lt;release&gt;17&lt;/release&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n&lt;/pluginManagement&gt;\n&lt;/build&gt;\n&lt;dependencies&gt;\n</code></pre>\n"},{"tags":["java","android","android-studio","sockets"],"answers":[{"tags":[],"owner":{"account_id":23416449,"reputation":1,"user_id":17477339,"display_name":"SkyHero"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692701478,"creation_date":1692701478,"answer_id":76952550,"question_id":76661624,"body_markdown":"The above abnormality is caused mainly because the server ip and port requested by the client socket have not opened the listening thread. The investigation directions mainly include the following:\r\n1It may be that the server listening thread corresponding to the ip and port has not been successfully started or has crashed;\r\n2The server ip or port of the client socket connection is wrong;\r\n3The client socket connects using a DNS name that resolves to the wrong IP;\r\nIt may be blocked by the firewall on the server side, but this possibility is relatively low","title":"ECONNREFUSEDfailed to connect to /192.171.1.1 (port 1234) from /:: (port 38220): connect failed: ECONNREFUSED (Connection refused)","body":"<p>The above abnormality is caused mainly because the server ip and port requested by the client socket have not opened the listening thread. The investigation directions mainly include the following:\n1It may be that the server listening thread corresponding to the ip and port has not been successfully started or has crashed;\n2The server ip or port of the client socket connection is wrong;\n3The client socket connects using a DNS name that resolves to the wrong IP;\nIt may be blocked by the firewall on the server side, but this possibility is relatively low</p>\n"}],"owner":{"account_id":28993795,"reputation":1,"user_id":22208918,"display_name":"Nandu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692701478,"creation_date":1689075733,"question_id":76661624,"body_markdown":"When I try to make a connection with socket  I get this exception:\r\n ECONNREFUSEDfailed to connect to /192.171.1.1 (port 1234) from /:: (port 38220): connect failed: ECONNREFUSED (Connection refused)\r\n\r\nThis is only happening in few Android 13 mobiles.\r\n\r\nTill now, Socket connection is successfully established in Android 11, Android 12, OnePlus OxygenOs 13.1 &amp; on Redmi Android 13.\r\n\r\nBut I am facing this socket connection refused error when I tried on Android 13 Samsung galaxy M32, Samsung Galaxy F23.\r\n\r\n Pls help me with this\r\n\r\n```\r\ntry {\r\n            //socketConnection.getSocketHoist().setSoTimeout(10000);\r\n            Log.d(&quot;Hoistron:run&quot;, &quot;run:Above socket conn line &quot;);\r\n            //make new socket conneciton\r\n            hoistronSocket = new Socket(&quot;192.171.1.1&quot;, 1234);\r\n\r\n        } catch (Exception e) {\r\n            e.getLocalizedMessage();\r\n            Log.d(&quot;Hoistron:Except&quot;, &quot;run: ECONNREFUSED&quot; + e.getLocalizedMessage());\r\n            if(e.getLocalizedMessage().contains(&quot;ECONNREFUSED&quot;))\r\n            {\r\n                showFailedDialogBox();\r\n            }\r\n```\r\nThis is my code to connect to socket!\r\n\r\n\r\n\r\n\r\nI tried connecting to my hoist with tcp/upd app in mobile to check if there is any wrong in the server side, but its working fine there.","title":"ECONNREFUSEDfailed to connect to /192.171.1.1 (port 1234) from /:: (port 38220): connect failed: ECONNREFUSED (Connection refused)","body":"<p>When I try to make a connection with socket  I get this exception:\nECONNREFUSEDfailed to connect to /192.171.1.1 (port 1234) from /:: (port 38220): connect failed: ECONNREFUSED (Connection refused)</p>\n<p>This is only happening in few Android 13 mobiles.</p>\n<p>Till now, Socket connection is successfully established in Android 11, Android 12, OnePlus OxygenOs 13.1 &amp; on Redmi Android 13.</p>\n<p>But I am facing this socket connection refused error when I tried on Android 13 Samsung galaxy M32, Samsung Galaxy F23.</p>\n<p>Pls help me with this</p>\n<pre><code>try {\n            //socketConnection.getSocketHoist().setSoTimeout(10000);\n            Log.d(&quot;Hoistron:run&quot;, &quot;run:Above socket conn line &quot;);\n            //make new socket conneciton\n            hoistronSocket = new Socket(&quot;192.171.1.1&quot;, 1234);\n\n        } catch (Exception e) {\n            e.getLocalizedMessage();\n            Log.d(&quot;Hoistron:Except&quot;, &quot;run: ECONNREFUSED&quot; + e.getLocalizedMessage());\n            if(e.getLocalizedMessage().contains(&quot;ECONNREFUSED&quot;))\n            {\n                showFailedDialogBox();\n            }\n</code></pre>\n<p>This is my code to connect to socket!</p>\n<p>I tried connecting to my hoist with tcp/upd app in mobile to check if there is any wrong in the server side, but its working fine there.</p>\n"},{"tags":["java","maven","svn","intellij-idea","maven-clean-plugin"],"comments":[{"owner":{"account_id":1100703,"reputation":2901,"user_id":1325621,"accept_rate":100,"display_name":"Goddard"},"score":0,"creation_date":1565018639,"post_id":29092473,"comment_id":101209989,"body_markdown":"Possible duplicate of [Could not transfer artifact org.apache.maven.plugins:maven-surefire-plugin:pom:2.7.1 from/to central (http://repo1.maven.org/maven2)](https://stackoverflow.com/questions/15334394/could-not-transfer-artifact-org-apache-maven-pluginsmaven-surefire-pluginpom2)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/15334394/could-not-transfer-artifact-org-apache-maven-pluginsmaven-surefire-pluginpom2\">Could not transfer artifact org.apache.maven.plugins:maven-surefire-plugin:pom:2.7.1 from/to central (http://repo1.maven.org/maven2)</a>"}],"answers":[{"comments":[{"owner":{"account_id":425629,"reputation":422,"user_id":806347,"accept_rate":31,"display_name":"Tayfun Yaar"},"score":0,"creation_date":1426575928,"post_id":29092943,"comment_id":46417793,"body_markdown":"its not selected. http://i.hizliresim.com/6Z1R1l.jpg thanks for answer JBA. I also tried every combination here too.","body":"its not selected. <a href=\"http://i.hizliresim.com/6Z1R1l.jpg\" rel=\"nofollow noreferrer\">i.hizliresim.com/6Z1R1l.jpg</a> thanks for answer JBA. I also tried every combination here too."},{"owner":{"account_id":2144303,"reputation":2789,"user_id":1902288,"accept_rate":90,"display_name":"JBA"},"score":0,"creation_date":1426576816,"post_id":29092943,"comment_id":46418157,"body_markdown":"@tayfun hehe - i&#39;ve seen it just now rethinking what it might be then - see my update in the answer :)","body":"@tayfun hehe - i&#39;ve seen it just now rethinking what it might be then - see my update in the answer :)"},{"owner":{"account_id":425629,"reputation":422,"user_id":806347,"accept_rate":31,"display_name":"Tayfun Yaar"},"score":0,"creation_date":1426577931,"post_id":29092943,"comment_id":46418634,"body_markdown":"i removed &quot;-o&quot; paramter. it look like this now http://i.hizliresim.com/j4DJ79.jpg here is new log. http://paste.ubuntu.com/10614045/ thanks for answer again :)","body":"i removed &quot;-o&quot; paramter. it look like this now <a href=\"http://i.hizliresim.com/j4DJ79.jpg\" rel=\"nofollow noreferrer\">i.hizliresim.com/j4DJ79.jpg</a> here is new log. <a href=\"http://paste.ubuntu.com/10614045/\" rel=\"nofollow noreferrer\">paste.ubuntu.com/10614045</a> thanks for answer again :)"},{"owner":{"account_id":2144303,"reputation":2789,"user_id":1902288,"accept_rate":90,"display_name":"JBA"},"score":0,"creation_date":1426579545,"post_id":29092943,"comment_id":46419313,"body_markdown":"@tayfun you are very welcome - mind to add the new log to the question? (I cant access the second link from within the company due to firewall restrictions)","body":"@tayfun you are very welcome - mind to add the new log to the question? (I cant access the second link from within the company due to firewall restrictions)"},{"owner":{"account_id":425629,"reputation":422,"user_id":806347,"accept_rate":31,"display_name":"Tayfun Yaar"},"score":0,"creation_date":1426579782,"post_id":29092943,"comment_id":46419420,"body_markdown":"added to my first topic &quot;Update1&quot;","body":"added to my first topic &quot;Update1&quot;"},{"owner":{"account_id":2144303,"reputation":2789,"user_id":1902288,"accept_rate":90,"display_name":"JBA"},"score":0,"creation_date":1426580944,"post_id":29092943,"comment_id":46419988,"body_markdown":"@tayfun sorry i meant to add the content of the log (or upload a image like to that i.hizliresim.com-thing) - when i click the link the company firewall is blocking my request (others will normaly see it for further assistance but as you see on the post views Maven is not the hotspot of attention on SO :))","body":"@tayfun sorry i meant to add the content of the log (or upload a image like to that i.hizliresim.com-thing) - when i click the link the company firewall is blocking my request (others will normaly see it for further assistance but as you see on the post views Maven is not the hotspot of attention on SO :))"},{"owner":{"account_id":425629,"reputation":422,"user_id":806347,"accept_rate":31,"display_name":"Tayfun Yaar"},"score":0,"creation_date":1426582130,"post_id":29092943,"comment_id":46420608,"body_markdown":"sorry for misunderstaning :) added under &quot;update1&quot; http://i.hizliresim.com/Lp6dDJ.png","body":"sorry for misunderstaning :) added under &quot;update1&quot; <a href=\"http://i.hizliresim.com/Lp6dDJ.png\" rel=\"nofollow noreferrer\">i.hizliresim.com/Lp6dDJ.png</a>"},{"owner":{"account_id":2144303,"reputation":2789,"user_id":1902288,"accept_rate":90,"display_name":"JBA"},"score":0,"creation_date":1426582459,"post_id":29092943,"comment_id":46420792,"body_markdown":"Alright i am now able to view the log - updating answer :)","body":"Alright i am now able to view the log - updating answer :)"},{"owner":{"account_id":425629,"reputation":422,"user_id":806347,"accept_rate":31,"display_name":"Tayfun Yaar"},"score":0,"creation_date":1426591819,"post_id":29092943,"comment_id":46426210,"body_markdown":"I did &quot;C:\\MAYA\\MAD4&gt;mvn dependency:tree -Dverbose&quot; the result is success. also saw &quot;C:\\Users\\tayfuny\\.m2\\repository\\org\\codehaus\\plexus\\plexus-digest\\1.0\\plexus-digest-1.0.jar&quot; in my dir. updated my answer, added new pic into 1st post http://i.hizliresim.com/XBgD07.png :/","body":"I did &quot;C:\\MAYA\\MAD4&gt;mvn dependency:tree -Dverbose&quot; the result is success. also saw &quot;C:\\Users\\tayfuny\\.m2\\repository\\org\\codehaus\\plexus\\plexus-&zwnj;&#8203;digest\\1.0\\plexus-di&zwnj;&#8203;gest-1.0.jar&quot; in my dir. updated my answer, added new pic into 1st post <a href=\"http://i.hizliresim.com/XBgD07.png\" rel=\"nofollow noreferrer\">i.hizliresim.com/XBgD07.png</a> :/"},{"owner":{"account_id":2144303,"reputation":2789,"user_id":1902288,"accept_rate":90,"display_name":"JBA"},"score":0,"creation_date":1426592165,"post_id":29092943,"comment_id":46426406,"body_markdown":"@tayfun right before the build success of `mvn dependency:tree -Dverbose` you will see the `[INFO]` telling you about the resolved (and &quot;omitted for duplicate&quot;) dependencie tree - regarding this we are talking about warnings that wont corrupt your build and are generally just solved for a &quot;better&quot; build (oftenly the `enforcer` plugin is added to the build to make it fail on things like convergence errors.","body":"@tayfun right before the build success of <code>mvn dependency:tree -Dverbose</code> you will see the <code>[INFO]</code> telling you about the resolved (and &quot;omitted for duplicate&quot;) dependencie tree - regarding this we are talking about warnings that wont corrupt your build and are generally just solved for a &quot;better&quot; build (oftenly the <code>enforcer</code> plugin is added to the build to make it fail on things like convergence errors."},{"owner":{"account_id":2144303,"reputation":2789,"user_id":1902288,"accept_rate":90,"display_name":"JBA"},"score":0,"creation_date":1426592305,"post_id":29092943,"comment_id":46426487,"body_markdown":"Regarding the second issue this could be helpful: http://stackoverflow.com/questions/17223536/failed-to-execute-goal-org-apache-maven-pluginsmaven-compiler-plugin2-3-2comp since my previous comment was wrong - if you have plugins to be executed within your build you do not need to define dependencies those plugins require from within your pom.xml file.","body":"Regarding the second issue this could be helpful: <a href=\"http://stackoverflow.com/questions/17223536/failed-to-execute-goal-org-apache-maven-pluginsmaven-compiler-plugin2-3-2comp\" title=\"failed to execute goal org apache maven pluginsmaven compiler plugin2 3 2comp\">stackoverflow.com/questions/17223536/&hellip;</a> since my previous comment was wrong - if you have plugins to be executed within your build you do not need to define dependencies those plugins require from within your pom.xml file."},{"owner":{"account_id":2144303,"reputation":2789,"user_id":1902288,"accept_rate":90,"display_name":"JBA"},"score":0,"creation_date":1426592533,"post_id":29092943,"comment_id":46426630,"body_markdown":"So now your `-o` issue is solved consider deleting the entire local repository and rebuild the project (or of corse if that did not solve it feel free to first search SO for similar questions regarding this `NoClassDefFoundError` or open a new question if you havent found a solution on existing Q&amp;As)","body":"So now your <code>-o</code> issue is solved consider deleting the entire local repository and rebuild the project (or of corse if that did not solve it feel free to first search SO for similar questions regarding this <code>NoClassDefFoundError</code> or open a new question if you havent found a solution on existing Q&amp;As)"},{"owner":{"account_id":2144303,"reputation":2789,"user_id":1902288,"accept_rate":90,"display_name":"JBA"},"score":0,"creation_date":1426592616,"post_id":29092943,"comment_id":46426687,"body_markdown":"And another simple cause to check: https://blogs.oracle.com/sreekanth/entry/java_lang_noclassdeffounderror_org_codehaus","body":"And another simple cause to check: <a href=\"https://blogs.oracle.com/sreekanth/entry/java_lang_noclassdeffounderror_org_codehaus\" rel=\"nofollow noreferrer\">blogs.oracle.com/sreekanth/entry/&hellip;</a>"},{"owner":{"account_id":425629,"reputation":422,"user_id":806347,"accept_rate":31,"display_name":"Tayfun Yaar"},"score":0,"creation_date":1426593269,"post_id":29092943,"comment_id":46427065,"body_markdown":"lets continue here http://stackoverflow.com/questions/29098424/maven-install-error-failed-to-execute-goal-org-apache-maven-pluginsmaven-ins","body":"lets continue here <a href=\"http://stackoverflow.com/questions/29098424/maven-install-error-failed-to-execute-goal-org-apache-maven-pluginsmaven-ins\" title=\"maven install error failed to execute goal org apache maven pluginsmaven ins\">stackoverflow.com/questions/29098424/&hellip;</a>"},{"owner":{"account_id":2144303,"reputation":2789,"user_id":1902288,"accept_rate":90,"display_name":"JBA"},"score":0,"creation_date":1426594175,"post_id":29092943,"comment_id":46427714,"body_markdown":"@tayfun that sounds like a plan for others to further support you. Consider deleting the entire local repository again since you removed the `-o` parameter (just one time more :)). Regarding your new question one thing comes up to my mind but i dont have time to verify it: &quot;is it necessary to have at least one environment variable pointing to maven?&quot;, &quot;is Maven correctly configured if runned out of a IDE?&quot;","body":"@tayfun that sounds like a plan for others to further support you. Consider deleting the entire local repository again since you removed the <code>-o</code> parameter (just one time more :)). Regarding your new question one thing comes up to my mind but i dont have time to verify it: &quot;is it necessary to have at least one environment variable pointing to maven?&quot;, &quot;is Maven correctly configured if runned out of a IDE?&quot;"},{"owner":{"account_id":425629,"reputation":422,"user_id":806347,"accept_rate":31,"display_name":"Tayfun Yaar"},"score":0,"creation_date":1426663126,"post_id":29092943,"comment_id":46460282,"body_markdown":"i run it on eclipse correctly but still not work in intellij :/","body":"i run it on eclipse correctly but still not work in intellij :/"},{"owner":{"account_id":2144303,"reputation":2789,"user_id":1902288,"accept_rate":90,"display_name":"JBA"},"score":0,"creation_date":1426663565,"post_id":29092943,"comment_id":46460442,"body_markdown":"@tayfun alright thats already good to hear - now my issue is i dont know much about the `m2 plugin` that is used to integrate Maven into eclipse - this could do something else than what the maven standard process might look like - i recomend adding this detail to your new question since it looks like you now have a valid maven project in eclipse that seems to not be runnable/ working in Intellij.","body":"@tayfun alright thats already good to hear - now my issue is i dont know much about the <code>m2 plugin</code> that is used to integrate Maven into eclipse - this could do something else than what the maven standard process might look like - i recomend adding this detail to your new question since it looks like you now have a valid maven project in eclipse that seems to not be runnable/ working in Intellij."},{"owner":{"account_id":4433079,"reputation":2153,"user_id":3609735,"accept_rate":44,"display_name":"Rohit Singh"},"score":0,"creation_date":1484655344,"post_id":29092943,"comment_id":70589533,"body_markdown":"I was struggling for 2 hours. I didn&#39;t notice the error message about trying to get dependencies in OFFLINE MODE. Then I unticked offline mode in maven settings. This post literally opened my eyes... :-D","body":"I was struggling for 2 hours. I didn&#39;t notice the error message about trying to get dependencies in OFFLINE MODE. Then I unticked offline mode in maven settings. This post literally opened my eyes... :-D"}],"tags":[],"owner":{"account_id":2144303,"reputation":2789,"user_id":1902288,"accept_rate":90,"display_name":"JBA"},"comment_count":18,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1426582822,"creation_date":1426575028,"answer_id":29092943,"question_id":29092473,"body_markdown":"**Update:** Its early in the morning here in Switzerland - i have overseen you specified the `-o` parameter in your run configuration in the section `Command line:`. This is the console parameter to let Maven work offline ;) Remove it and you should be all good. Source: http://books.sonatype.com/mvnref-book/reference/running-sect-options.html \r\n\r\n**Update 2:** Alright the initial problem is solved - your log however shows two more things to fix (one of them optionally but very recomended): 1.) The warnings at the very start of the build imply you have duplicate dependency/version declarations - those should be easy fixable. You can for example use `mvn dependency:tree -Dverbose` to get a overview on the duplicates (and which definition takes place in the end). The second is a actuall build error. I dont know about the install plugin you are using but i guess that you are missing this dependency: http://mvnrepository.com/artifact/org.codehaus.plexus/plexus-digest/1.0 (or another one containing the class that could not be found - adjust version as needed as well).  \r\n\r\n\r\n**Answer regarding offline mode:**\r\n\r\nRemove the parameter `-o` when running maven unless you want to work in offline mode and with your local repository only. \r\n\r\nAnother probable cause is explicitly setting Maven to work in offline mode (e.g. only consult the local repository to resolve dependencies) from within the IDE itself (which will result in calling Maven with the `-o` parameter behind the scenes).\r\n\r\nGeneral Settings/ Project Settings:\r\n\r\n`File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Maven`\r\n\r\n(The very first option `Work offline` should be deactivated/ deselected unless you realy want to work with the local repository only). \r\n\r\nThose settings are inherited by Maven-run configurations by default but may be overwritten at two levels\r\n\r\n_Default Run Configuration:_\r\n\r\n![enter image description here][1]\r\n(Those default configs will be inherited by specific run configurations. Note that changes to the general settings apply to newly created run configurations only and will not be populated to existing ones). \r\n\r\n_Specific Run Configuration:_\r\n ![enter image description here][2]\r\n\r\nMake sure none of the options is selected. In the end if you use a specific launch configuration make sure the option is not selected in that specific configuration and change the higher levels for convenience if it makes sence)\r\n\r\n  [1]: http://i.stack.imgur.com/Pxq3i.png\r\n  [2]: http://i.stack.imgur.com/3fpwK.png","title":"Maven Run Error &quot;maven-clean-plugin:2.5 or one of its dependencies could not be resolved&quot;","body":"<p><strong>Update:</strong> Its early in the morning here in Switzerland - i have overseen you specified the <code>-o</code> parameter in your run configuration in the section <code>Command line:</code>. This is the console parameter to let Maven work offline ;) Remove it and you should be all good. Source: <a href=\"http://books.sonatype.com/mvnref-book/reference/running-sect-options.html\" rel=\"nofollow noreferrer\">http://books.sonatype.com/mvnref-book/reference/running-sect-options.html</a> </p>\n\n<p><strong>Update 2:</strong> Alright the initial problem is solved - your log however shows two more things to fix (one of them optionally but very recomended): 1.) The warnings at the very start of the build imply you have duplicate dependency/version declarations - those should be easy fixable. You can for example use <code>mvn dependency:tree -Dverbose</code> to get a overview on the duplicates (and which definition takes place in the end). The second is a actuall build error. I dont know about the install plugin you are using but i guess that you are missing this dependency: <a href=\"http://mvnrepository.com/artifact/org.codehaus.plexus/plexus-digest/1.0\" rel=\"nofollow noreferrer\">http://mvnrepository.com/artifact/org.codehaus.plexus/plexus-digest/1.0</a> (or another one containing the class that could not be found - adjust version as needed as well).  </p>\n\n<p><strong>Answer regarding offline mode:</strong></p>\n\n<p>Remove the parameter <code>-o</code> when running maven unless you want to work in offline mode and with your local repository only. </p>\n\n<p>Another probable cause is explicitly setting Maven to work in offline mode (e.g. only consult the local repository to resolve dependencies) from within the IDE itself (which will result in calling Maven with the <code>-o</code> parameter behind the scenes).</p>\n\n<p>General Settings/ Project Settings:</p>\n\n<p><code>File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Maven</code></p>\n\n<p>(The very first option <code>Work offline</code> should be deactivated/ deselected unless you realy want to work with the local repository only). </p>\n\n<p>Those settings are inherited by Maven-run configurations by default but may be overwritten at two levels</p>\n\n<p><em>Default Run Configuration:</em></p>\n\n<p><img src=\"https://i.stack.imgur.com/Pxq3i.png\" alt=\"enter image description here\">\n(Those default configs will be inherited by specific run configurations. Note that changes to the general settings apply to newly created run configurations only and will not be populated to existing ones). </p>\n\n<p><em>Specific Run Configuration:</em>\n <img src=\"https://i.stack.imgur.com/3fpwK.png\" alt=\"enter image description here\"></p>\n\n<p>Make sure none of the options is selected. In the end if you use a specific launch configuration make sure the option is not selected in that specific configuration and change the higher levels for convenience if it makes sence)</p>\n"},{"tags":[],"owner":{"account_id":17567094,"reputation":89,"user_id":12743648,"display_name":"oshin pojta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610452896,"creation_date":1610446029,"answer_id":65681743,"question_id":29092473,"body_markdown":"**EASY WAY** \r\n\r\nThis should work for all similar errors.\r\n\r\nThis is how an error looks like \r\n\r\n- `Could not resolve : org.apache.maven.plugins:maven-clean-plugin:jar:2.5`\r\n\r\n- `Could not resolve : (groupID):(artifactID):version`\r\n\r\nSo what you actually need is a correct version of the clean plugin.\r\n\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;(groupId)&lt;/groupId&gt;\r\n  &lt;artifactId&gt;(artifactId)&lt;/artifactId&gt;\r\n  &lt;version&gt;(version)&lt;/version&gt;\r\n  &lt;type&gt;maven-plugin&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n\r\nThis will become something like this. Add this to dependencies section Pom.xml. Reload build.\r\n\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n  &lt;type&gt;maven-plugin&lt;/type&gt;\r\n&lt;/dependency&gt; \r\n```\r\nReload build and IDE will automatically download these version of artefacts and\r\nreplace if there are other versions because your project needs these particular versions to run. \r\n\r\nDo the same with other dependency errors. &quot;Works every time&quot;.\r\n\r\n\r\n","title":"Maven Run Error &quot;maven-clean-plugin:2.5 or one of its dependencies could not be resolved&quot;","body":"<p><strong>EASY WAY</strong></p>\n<p>This should work for all similar errors.</p>\n<p>This is how an error looks like</p>\n<ul>\n<li><p><code>Could not resolve : org.apache.maven.plugins:maven-clean-plugin:jar:2.5</code></p>\n</li>\n<li><p><code>Could not resolve : (groupID):(artifactID):version</code></p>\n</li>\n</ul>\n<p>So what you actually need is a correct version of the clean plugin.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;(groupId)&lt;/groupId&gt;\n  &lt;artifactId&gt;(artifactId)&lt;/artifactId&gt;\n  &lt;version&gt;(version)&lt;/version&gt;\n  &lt;type&gt;maven-plugin&lt;/type&gt;\n&lt;/dependency&gt;\n\nThis will become something like this. Add this to dependencies section Pom.xml. Reload build.\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.0.0-M5&lt;/version&gt;\n  &lt;type&gt;maven-plugin&lt;/type&gt;\n&lt;/dependency&gt; \n</code></pre>\n<p>Reload build and IDE will automatically download these version of artefacts and\nreplace if there are other versions because your project needs these particular versions to run.</p>\n<p>Do the same with other dependency errors. &quot;Works every time&quot;.</p>\n"}],"owner":{"account_id":425629,"reputation":422,"user_id":806347,"accept_rate":31,"display_name":"Tayfun Yaar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28651,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":29092943,"answer_count":2,"score":2,"last_activity_date":1692701298,"creation_date":1426572930,"question_id":29092473,"body_markdown":"Using ntelliJIdea, I Downloaded my project from Subversion for 12 times.\r\n\r\nDeleted .m2/repository for 7-8 times.\r\n\r\nReimported, downloaded source for 15 times. Tried every possibilities but still cannot run my project.\r\n\r\nHere is my Maven run profile and project hierarchy\r\n\r\n![project hiyerarchy][1]\r\n\r\nand here this is my maven output\r\n\r\n&gt; [ERROR] Plugin org.apache.maven.plugins:maven-clean-plugin:2.5 or one of its dependencies could not be resolved: Cannot access central (https://repo.maven.apache.org/maven2) in offline mode and the artifact org.apache.maven.plugins:maven-clean-plugin:jar:2.5 has not been downloaded from it before. -&gt; [Help 1]\r\n\r\n[http://paste.ubuntu.com/10613835/][2]\r\n\r\nThere is nothing wrong with project or maven files. I&#39;m running it on my work computer. But not in my personel.\r\n\r\n**Update1**: After I deleted &quot;-o&quot; parameter in maven run configuration. Here is my new log [Logs after deletig &quot;-o&quot; paramter][3] and here is image url http://i.hizliresim.com/Lp6dDJ.png\r\n\r\n**Update2**: I run this command on cmd,\r\n`C:\\MAYA\\MAD4&gt;mvn dependency:tree -Dverbose` the result is success. And also saw `C:\\Users\\tayfuny\\.m2\\repository\\org\\codehaus\\plexus\\plexus-digest\\1.0\\plexus-digest-1.0.jar` in my dir. Here is latest maven output http://i.hizliresim.com/XBgD07.png\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Jm7Nt.jpg\r\n  [2]: http://paste.ubuntu.com/10613835/\r\n  [3]: http://codepaste.net/9ahy98 ","title":"Maven Run Error &quot;maven-clean-plugin:2.5 or one of its dependencies could not be resolved&quot;","body":"<p>Using ntelliJIdea, I Downloaded my project from Subversion for 12 times.</p>\n\n<p>Deleted .m2/repository for 7-8 times.</p>\n\n<p>Reimported, downloaded source for 15 times. Tried every possibilities but still cannot run my project.</p>\n\n<p>Here is my Maven run profile and project hierarchy</p>\n\n<p><img src=\"https://i.stack.imgur.com/Jm7Nt.jpg\" alt=\"project hiyerarchy\"></p>\n\n<p>and here this is my maven output</p>\n\n<blockquote>\n  <p>[ERROR] Plugin org.apache.maven.plugins:maven-clean-plugin:2.5 or one of its dependencies could not be resolved: Cannot access central (<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a>) in offline mode and the artifact org.apache.maven.plugins:maven-clean-plugin:jar:2.5 has not been downloaded from it before. -> [Help 1]</p>\n</blockquote>\n\n<p><a href=\"http://paste.ubuntu.com/10613835/\" rel=\"nofollow noreferrer\">http://paste.ubuntu.com/10613835/</a></p>\n\n<p>There is nothing wrong with project or maven files. I'm running it on my work computer. But not in my personel.</p>\n\n<p><strong>Update1</strong>: After I deleted \"-o\" parameter in maven run configuration. Here is my new log <a href=\"http://codepaste.net/9ahy98\" rel=\"nofollow noreferrer\">Logs after deletig \"-o\" paramter</a> and here is image url <a href=\"http://i.hizliresim.com/Lp6dDJ.png\" rel=\"nofollow noreferrer\">http://i.hizliresim.com/Lp6dDJ.png</a></p>\n\n<p><strong>Update2</strong>: I run this command on cmd,\n<code>C:\\MAYA\\MAD4&gt;mvn dependency:tree -Dverbose</code> the result is success. And also saw <code>C:\\Users\\tayfuny\\.m2\\repository\\org\\codehaus\\plexus\\plexus-digest\\1.0\\plexus-digest-1.0.jar</code> in my dir. Here is latest maven output <a href=\"http://i.hizliresim.com/XBgD07.png\" rel=\"nofollow noreferrer\">http://i.hizliresim.com/XBgD07.png</a></p>\n"},{"tags":["java","gradle","build","dependencies"],"comments":[{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1440431100,"post_id":32112078,"comment_id":52258215,"body_markdown":"You&#39;ll have to provide much more information.  Show your build scripts. How and what are you deploying? Is &quot;B.jar&quot; the only thing that doesn&#39;t get copied to the deployment folder? Are there any error messages?","body":"You&#39;ll have to provide much more information.  Show your build scripts. How and what are you deploying? Is &quot;B.jar&quot; the only thing that doesn&#39;t get copied to the deployment folder? Are there any error messages?"},{"owner":{"account_id":426815,"reputation":8635,"user_id":808244,"accept_rate":90,"display_name":"superM"},"score":0,"creation_date":1440483009,"post_id":32112078,"comment_id":52278143,"body_markdown":"@DavidM.Karr, the build scripts are very basic. The B script has nothing but eclipse configs and dependencies. The A script additionally has a task to build an rpm using the os-package plugin.","body":"@DavidM.Karr, the build scripts are very basic. The B script has nothing but eclipse configs and dependencies. The A script additionally has a task to build an rpm using the os-package plugin."},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1440483895,"post_id":32112078,"comment_id":52278525,"body_markdown":"So, when copying a war file from build/libs to the deployment directory of your web server, the jar file magically disappears from the war file?","body":"So, when copying a war file from build/libs to the deployment directory of your web server, the jar file magically disappears from the war file?"},{"owner":{"account_id":426815,"reputation":8635,"user_id":808244,"accept_rate":90,"display_name":"superM"},"score":0,"creation_date":1440484492,"post_id":32112078,"comment_id":52278827,"body_markdown":"@JBNizet I do it from the STS.","body":"@JBNizet I do it from the STS."},{"owner":{"account_id":4824832,"reputation":499,"user_id":3894536,"display_name":"Deh"},"score":0,"creation_date":1440754747,"post_id":32112078,"comment_id":52414597,"body_markdown":"can you include your build.gradle file?","body":"can you include your build.gradle file?"},{"owner":{"account_id":5048364,"reputation":27671,"user_id":4053652,"display_name":"Stanislav"},"score":0,"creation_date":1440943143,"post_id":32112078,"comment_id":52471238,"body_markdown":"does your parent gradle configuration knows about both subproject? I mean, do you have a root gradle configuration to make project A know about B and where to find it&#39;s build.gradle file","body":"does your parent gradle configuration knows about both subproject? I mean, do you have a root gradle configuration to make project A know about B and where to find it&#39;s build.gradle file"}],"answers":[{"comments":[{"owner":{"account_id":426815,"reputation":8635,"user_id":808244,"accept_rate":90,"display_name":"superM"},"score":0,"creation_date":1441001713,"post_id":32297611,"comment_id":52485668,"body_markdown":"Thanks @Stanislav. I&#39;ve re-configured the root project and updated the root gradle.settings file, after which the build passes.","body":"Thanks @Stanislav. I&#39;ve re-configured the root project and updated the root gradle.settings file, after which the build passes."},{"owner":{"account_id":2203902,"reputation":435,"user_id":1947573,"accept_rate":77,"display_name":"RV_Dev"},"score":0,"creation_date":1496348107,"post_id":32297611,"comment_id":75638358,"body_markdown":"What did you add? I have already setup settings and gradle file for the project but still get the same error.","body":"What did you add? I have already setup settings and gradle file for the project but still get the same error."}],"tags":[],"owner":{"account_id":5048364,"reputation":27671,"user_id":4053652,"display_name":"Stanislav"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1440945020,"creation_date":1440945020,"answer_id":32297611,"question_id":32112078,"body_markdown":"It&#39;s possible, when one subproject doesn&#39;t see another, if settings.gradle file is not on the parent directory for both subprojects and the subprojects in it are included via includeFlat. In this case you can call any task from your parent projects and all subprojects will know about each other, but it&#39;ll be unable to build separate subproject.\r\n\r\nAny way, you need to show your project structure and build/settings files as well, to find out the problem.","title":"Gradle build fails","body":"<p>It's possible, when one subproject doesn't see another, if settings.gradle file is not on the parent directory for both subprojects and the subprojects in it are included via includeFlat. In this case you can call any task from your parent projects and all subprojects will know about each other, but it'll be unable to build separate subproject.</p>\n\n<p>Any way, you need to show your project structure and build/settings files as well, to find out the problem.</p>\n"}],"owner":{"account_id":426815,"reputation":8635,"user_id":808244,"accept_rate":90,"display_name":"superM"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10539,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":32297611,"answer_count":1,"score":4,"last_activity_date":1692700273,"creation_date":1440055817,"question_id":32112078,"body_markdown":"I have two Gradle projects, `A` and `B`. `B` is a simple Java application and is consumed by `A` as a compile project dependency. `A` is a web application. \r\n\r\nBoth `A` and `B` apply the `java` plugin, `A` applies the `war` plugin as well.\r\n\r\nWhen building `A`, I get the following error:\r\n\r\n    FAILURE: Build failed with an exception.\r\n    * What went wrong:\r\n    Could not determine the dependencies of task &#39;:war&#39;.\r\n    &gt; Configuration with name &#39;default&#39; not found.\r\n\r\nWhen separately building `B` I get no errors. When building from root, I get no errors either. The issue shows up only when building `A`.\r\n\r\nI&#39;ve also tried copying the `B.jar` to the lib folder of `A` and setting a dependency:\r\n\r\n    compile files(&quot;lib/B.jar&quot;)\r\nThe build in this case works fine.\r\n\r\nWhat configurations do I need to include to avoid the error?\r\n","title":"Gradle build fails","body":"<p>I have two Gradle projects, <code>A</code> and <code>B</code>. <code>B</code> is a simple Java application and is consumed by <code>A</code> as a compile project dependency. <code>A</code> is a web application. </p>\n\n<p>Both <code>A</code> and <code>B</code> apply the <code>java</code> plugin, <code>A</code> applies the <code>war</code> plugin as well.</p>\n\n<p>When building <code>A</code>, I get the following error:</p>\n\n<pre><code>FAILURE: Build failed with an exception.\n* What went wrong:\nCould not determine the dependencies of task ':war'.\n&gt; Configuration with name 'default' not found.\n</code></pre>\n\n<p>When separately building <code>B</code> I get no errors. When building from root, I get no errors either. The issue shows up only when building <code>A</code>.</p>\n\n<p>I've also tried copying the <code>B.jar</code> to the lib folder of <code>A</code> and setting a dependency:</p>\n\n<pre><code>compile files(\"lib/B.jar\")\n</code></pre>\n\n<p>The build in this case works fine.</p>\n\n<p>What configurations do I need to include to avoid the error?</p>\n"},{"tags":["java","node.js","npm","jhipster"],"answers":[{"tags":[],"owner":{"account_id":12503014,"reputation":130,"user_id":9100818,"display_name":"Kafarson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692695245,"creation_date":1692695245,"answer_id":76951749,"question_id":76951473,"body_markdown":"You need to install jHipster first by this command:\r\n\r\n    npm install -g generator-jhipster\r\n\r\nThen you can invoke:\r\n\r\n    jhipster --version","title":"Unable to install JHipster","body":"<p>You need to install jHipster first by this command:</p>\n<pre><code>npm install -g generator-jhipster\n</code></pre>\n<p>Then you can invoke:</p>\n<pre><code>jhipster --version\n</code></pre>\n"},{"tags":[],"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692700205,"creation_date":1692700205,"answer_id":76952396,"question_id":76951473,"body_markdown":"Maybe a setup issue of your shell, as a workaround you could run `npx jhipster` rather than only `jhipster`","title":"Unable to install JHipster","body":"<p>Maybe a setup issue of your shell, as a workaround you could run <code>npx jhipster</code> rather than only <code>jhipster</code></p>\n"}],"owner":{"account_id":21121216,"reputation":41,"user_id":15527204,"display_name":"Shiva Rena"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692700205,"creation_date":1692693209,"question_id":76951473,"body_markdown":"I am trying to install JHipster on a Mac M1 (Ventura). Unfortunately, I am encountering difficulties in completing the installation successfully. I have already installed Node.js version 18.17.1 and Java 17 on my system. I would greatly appreciate your assistance with this matter[![enter image description here][1]][1]\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fSsha.jpg","title":"Unable to install JHipster","body":"<p>I am trying to install JHipster on a Mac M1 (Ventura). Unfortunately, I am encountering difficulties in completing the installation successfully. I have already installed Node.js version 18.17.1 and Java 17 on my system. I would greatly appreciate your assistance with this matter<a href=\"https://i.stack.imgur.com/fSsha.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fSsha.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","math","rounding","ieee-754"],"answers":[{"comments":[{"owner":{"account_id":113187,"reputation":201052,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"score":0,"creation_date":1692364659,"post_id":76927227,"comment_id":135616827,"body_markdown":"Re You are correct, Java&#39;s `round()` is different from IEEE&#39;s or C/C++&#39;s, for example.: How is Javas `round()` different from IEEE 754s round toward +?","body":"Re You are correct, Java&#39;s <code>round()</code> is different from IEEE&#39;s or C/C++&#39;s, for example.: How is Javas <code>round()</code> different from IEEE 754s round toward +?"},{"owner":{"account_id":23050385,"reputation":10403,"user_id":17167312,"display_name":"Homer512"},"score":0,"creation_date":1692371603,"post_id":76927227,"comment_id":135618372,"body_markdown":"@EricPostpischil I checked the standard and if I&#39;m not mistaken, that&#39;s `ceil`, which is different from Java&#39;s `round`. The standard says that the result of &quot;round towards +inf&quot; is the value &quot;closest to and no less than the infinitely precise result&quot;. That wouldn&#39;t be consistent with Java&#39;s `Math.round(1.2) == 1`","body":"@EricPostpischil I checked the standard and if I&#39;m not mistaken, that&#39;s <code>ceil</code>, which is different from Java&#39;s <code>round</code>. The standard says that the result of &quot;round towards +inf&quot; is the value &quot;closest to and no less than the infinitely precise result&quot;. That wouldn&#39;t be consistent with Java&#39;s <code>Math.round(1.2) == 1</code>"},{"owner":{"account_id":113187,"reputation":201052,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"score":0,"creation_date":1692371767,"post_id":76927227,"comment_id":135618418,"body_markdown":"The standard specifies nothing about what names are used, just about what formats are used and how operations behave. There is nothing in the standard that says an asterisk character corresponds to multiplication or that you have to use particular English names for operations. Each implementation of IEEE 754 may use its own binding from its terminology or syntax to IEEE 754 formats and operations. One of the operations specified in IEEE 754 is called `roundToIntegralTowardPositive` in IEEE 754, but programming languages do not have to call it that.","body":"The standard specifies nothing about what names are used, just about what formats are used and how operations behave. There is nothing in the standard that says an asterisk character corresponds to multiplication or that you have to use particular English names for operations. Each implementation of IEEE 754 may use its own binding from its terminology or syntax to IEEE 754 formats and operations. One of the operations specified in IEEE 754 is called <code>roundToIntegralTowardPositive</code> in IEEE 754, but programming languages do not have to call it that."},{"owner":{"account_id":113187,"reputation":201052,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"score":0,"creation_date":1692372162,"post_id":76927227,"comment_id":135618495,"body_markdown":"Looking at it more closely, though, none of the rounding modes specified in IEEE 754 are round to nearest with ties toward +. There is round toward + (always, not just ties) and round to nearest with ties to even low digit or ties to away from zero, but not with ties toward +. So that is not a rounding mode specified in IEEE 754. However, neither does it by itself break conformance with IEEE 754, as there is no requirement in IEEE 754 that an operation named `round` perform any particular rounding.","body":"Looking at it more closely, though, none of the rounding modes specified in IEEE 754 are round to nearest with ties toward +. There is round toward + (always, not just ties) and round to nearest with ties to even low digit or ties to away from zero, but not with ties toward +. So that is not a rounding mode specified in IEEE 754. However, neither does it by itself break conformance with IEEE 754, as there is no requirement in IEEE 754 that an operation named <code>round</code> perform any particular rounding."},{"owner":{"account_id":23050385,"reputation":10403,"user_id":17167312,"display_name":"Homer512"},"score":0,"creation_date":1692372648,"post_id":76927227,"comment_id":135618599,"body_markdown":"@EricPostpischil Yeah, it&#39;s a confusing slight difference. All the conversion clauses in IEEE-754 are &quot;shall&quot; so I guess no matter how much Java deviates, it would still conform. Also, casting to int is `convertToIntegerTowardZero`. That part is correct","body":"@EricPostpischil Yeah, it&#39;s a confusing slight difference. All the conversion clauses in IEEE-754 are &quot;shall&quot; so I guess no matter how much Java deviates, it would still conform. Also, casting to int is <code>convertToIntegerTowardZero</code>. That part is correct"}],"tags":[],"owner":{"account_id":23050385,"reputation":10403,"user_id":17167312,"display_name":"Homer512"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1692700023,"creation_date":1692343417,"answer_id":76927227,"question_id":76926389,"body_markdown":"You are correct that [`Math.round`](https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#round-double-) does not implement any of the rounding modes described in IEEE-754. These are the ones defined in [IEEE-754-2008](https://ieeexplore.ieee.org/document/4610935):\r\n\r\n1. **TiesToEven**, also known as banker&#39;s rounding (`2.5 -&gt; 2`, `1.5 -&gt; 2`), implemented by [`Math.rint`](https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#rint-double-)\r\n2. **TowardZero**, also known as `trunc`, implemented in Java by [casting to integer](https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.4) (but see footnote)\r\n3. **TowardPositive**, implemented by [`Math.ceil`](https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#ceil-double-)\r\n4. **TowardNegative**, implemented by [`Math.floor`](https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#floor-double-)\r\n5. **TiesToAway**, rounds x.5 away from zero. This mode has no Java function but can be implemented as `Math.copySign(Math.round(Math.abs(x)), x)` (but see footnote)\r\n\r\nFrom the descriptions, one might think that `Math.round` is **TowardPositive** but that is specifically defined as the result &quot;[] closest to and no less than the infinitely precise result.&quot; That is clearly not the case for `Math.round`, e.g. `Math.round(2.3) == 2`\r\n\r\nIf IEEE-754 were to define `Math.round`, it would be called something like **TiesTowardPositive** but that does not exist in the standard.\r\n\r\nSo yes, `Math.round` is not one of the IEEE-754 rounding modes, and also different from C/C++&#39;s [`round`](https://man7.org/linux/man-pages/man3/round.3.html), C#&#39;s [`Math.Round`](https://learn.microsoft.com/en-us/dotnet/api/system.math.round?view=net-7.0), or SQL&#39;s [`ROUND`](https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/ROUND-number.html#GUID-849F6C45-0D72-4464-9C0F-8B6822BA85E1), for example.\r\n\r\nI cannot tell you the reason for this choice. Of course Java is free to define additional rounding functions, choose arbitrary names for all rounding functions (IEEE-754 only describes the operation, not the name), and omit some of them as they are only &quot;shall&quot; and &quot;should&quot; requirements.\r\n\r\nRelated issues that may pop up\r\n------------------------------\r\n\r\n- Older JVMs have bugs implementing this rounding mode: [Why does Math.round(0.49999999999999994) return 1?](https://stackoverflow.com/questions/9902968/why-does-math-round0-49999999999999994-return-1)\r\n- The rounding in double-to-string is different from other languages, too: [Why do C and Java round floats differently?](https://stackoverflow.com/questions/57778637/why-do-c-and-java-round-floats-differently)\r\n\r\nFootnote\r\n--------\r\n\r\nSaying that **TowardZero** can be implemented by casting and that **TiesToAway** can be implemented via `Math.round` is a simplification. Since these approaches convert to integer, they fail if the floating point number exceeds the integer range. Rounding 1e200, you expect the result to be 1e200 but `Math.round(1e200)` will give you `Long.MAX_VALUE` instead. Therefore a more complete implementation of those rounding modes first has to check the value range.","title":"Does the rounding rule of Java&#39;s Math.round conform to the IEEE 754 standard?","body":"<p>You are correct that <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#round-double-\" rel=\"nofollow noreferrer\"><code>Math.round</code></a> does not implement any of the rounding modes described in IEEE-754. These are the ones defined in <a href=\"https://ieeexplore.ieee.org/document/4610935\" rel=\"nofollow noreferrer\">IEEE-754-2008</a>:</p>\n<ol>\n<li><strong>TiesToEven</strong>, also known as banker's rounding (<code>2.5 -&gt; 2</code>, <code>1.5 -&gt; 2</code>), implemented by <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#rint-double-\" rel=\"nofollow noreferrer\"><code>Math.rint</code></a></li>\n<li><strong>TowardZero</strong>, also known as <code>trunc</code>, implemented in Java by <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.4\" rel=\"nofollow noreferrer\">casting to integer</a> (but see footnote)</li>\n<li><strong>TowardPositive</strong>, implemented by <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#ceil-double-\" rel=\"nofollow noreferrer\"><code>Math.ceil</code></a></li>\n<li><strong>TowardNegative</strong>, implemented by <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#floor-double-\" rel=\"nofollow noreferrer\"><code>Math.floor</code></a></li>\n<li><strong>TiesToAway</strong>, rounds x.5 away from zero. This mode has no Java function but can be implemented as <code>Math.copySign(Math.round(Math.abs(x)), x)</code> (but see footnote)</li>\n</ol>\n<p>From the descriptions, one might think that <code>Math.round</code> is <strong>TowardPositive</strong> but that is specifically defined as the result &quot;[] closest to and no less than the infinitely precise result.&quot; That is clearly not the case for <code>Math.round</code>, e.g. <code>Math.round(2.3) == 2</code></p>\n<p>If IEEE-754 were to define <code>Math.round</code>, it would be called something like <strong>TiesTowardPositive</strong> but that does not exist in the standard.</p>\n<p>So yes, <code>Math.round</code> is not one of the IEEE-754 rounding modes, and also different from C/C++'s <a href=\"https://man7.org/linux/man-pages/man3/round.3.html\" rel=\"nofollow noreferrer\"><code>round</code></a>, C#'s <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.math.round?view=net-7.0\" rel=\"nofollow noreferrer\"><code>Math.Round</code></a>, or SQL's <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/ROUND-number.html#GUID-849F6C45-0D72-4464-9C0F-8B6822BA85E1\" rel=\"nofollow noreferrer\"><code>ROUND</code></a>, for example.</p>\n<p>I cannot tell you the reason for this choice. Of course Java is free to define additional rounding functions, choose arbitrary names for all rounding functions (IEEE-754 only describes the operation, not the name), and omit some of them as they are only &quot;shall&quot; and &quot;should&quot; requirements.</p>\n<h2>Related issues that may pop up</h2>\n<ul>\n<li>Older JVMs have bugs implementing this rounding mode: <a href=\"https://stackoverflow.com/questions/9902968/why-does-math-round0-49999999999999994-return-1\">Why does Math.round(0.49999999999999994) return 1?</a></li>\n<li>The rounding in double-to-string is different from other languages, too: <a href=\"https://stackoverflow.com/questions/57778637/why-do-c-and-java-round-floats-differently\">Why do C and Java round floats differently?</a></li>\n</ul>\n<h2>Footnote</h2>\n<p>Saying that <strong>TowardZero</strong> can be implemented by casting and that <strong>TiesToAway</strong> can be implemented via <code>Math.round</code> is a simplification. Since these approaches convert to integer, they fail if the floating point number exceeds the integer range. Rounding 1e200, you expect the result to be 1e200 but <code>Math.round(1e200)</code> will give you <code>Long.MAX_VALUE</code> instead. Therefore a more complete implementation of those rounding modes first has to check the value range.</p>\n"}],"owner":{"account_id":874644,"reputation":655,"user_id":988801,"accept_rate":92,"display_name":"Eric"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76927227,"answer_count":1,"score":4,"last_activity_date":1692700023,"creation_date":1692331748,"question_id":76926389,"body_markdown":"I read the IEEE754 rounding rules from wiki: https://en.wikipedia.org/wiki/IEEE_754#Rounding_rules\r\n\r\nAnd there is a example: In mode &#39;to nearest, ties away from zero&#39;, 12.5 should be -13.0\r\n\r\nBut java Math.round(-12.5)==-12.0.\r\n\r\nAnd I&#39;m sure Math.round not using mode &#39;to nearest, ties to even&#39;, because Math.round(-11.5)==-11.0\r\n\r\nActually, in Java Doc, it says &quot;Returns the closest long to the argument, with ties rounding to positive infinity.&quot;\r\n\r\nSo, Java Math.round not conform to the IEEE 754 standard, is it correct?","title":"Does the rounding rule of Java&#39;s Math.round conform to the IEEE 754 standard?","body":"<p>I read the IEEE754 rounding rules from wiki: <a href=\"https://en.wikipedia.org/wiki/IEEE_754#Rounding_rules\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/IEEE_754#Rounding_rules</a></p>\n<p>And there is a example: In mode 'to nearest, ties away from zero', 12.5 should be -13.0</p>\n<p>But java Math.round(-12.5)==-12.0.</p>\n<p>And I'm sure Math.round not using mode 'to nearest, ties to even', because Math.round(-11.5)==-11.0</p>\n<p>Actually, in Java Doc, it says &quot;Returns the closest long to the argument, with ties rounding to positive infinity.&quot;</p>\n<p>So, Java Math.round not conform to the IEEE 754 standard, is it correct?</p>\n"},{"tags":["java","arrays","json","object","arraylist"],"comments":[{"owner":{"account_id":10759610,"reputation":12648,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1692699952,"post_id":76952272,"comment_id":135656686,"body_markdown":"Why do you have a list (`List&lt;List&gt; itemsList= new ArrayList&lt;&gt;();`) if you don&#39;t want a list? Or vice versa, why don&#39;t you want a list, if you need a list?","body":"Why do you have a list (<code>List&lt;List&gt; itemsList= new ArrayList&lt;&gt;();</code>) if you don&#39;t want a list? Or vice versa, why don&#39;t you want a list, if you need a list?"},{"owner":{"account_id":18395741,"reputation":17,"user_id":13400243,"display_name":"jacob1989"},"score":0,"creation_date":1692700058,"post_id":76952272,"comment_id":135656710,"body_markdown":"I need two objects created with different values (in a loop) and them make it as a string","body":"I need two objects created with different values (in a loop) and them make it as a string"},{"owner":{"account_id":10759610,"reputation":12648,"user_id":7916438,"display_name":"tevemadar"},"score":1,"creation_date":1692700401,"post_id":76952272,"comment_id":135656777,"body_markdown":"It&#39;s a string, if there&#39;s no better idea, you can always have a `itemsJson = itemsJson.substring(1, itemsJson.length() - 1);`.","body":"It&#39;s a string, if there&#39;s no better idea, you can always have a <code>itemsJson = itemsJson.substring(1, itemsJson.length() - 1);</code>."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692703653,"post_id":76952272,"comment_id":135657373,"body_markdown":"What you are trying to generate isn&#39;t valid JSON, so a JSON library won&#39;t be able to generate it. If this really is what you want, consider serializing each `Item` to String separately, then joining those with commas. And then figure out how you&#39;re ever going to parse that string back into objects.","body":"What you are trying to generate isn&#39;t valid JSON, so a JSON library won&#39;t be able to generate it. If this really is what you want, consider serializing each <code>Item</code> to String separately, then joining those with commas. And then figure out how you&#39;re ever going to parse that string back into objects."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1692710403,"post_id":76952272,"comment_id":135659087,"body_markdown":"Your String form is JSON and your data model includes a List, so the square braces are correct.  See https://www.json.org/json-en.html.  If your intent is to output some non-JSON form then `ObjectMapper` (I assume this is the Jackson class) may not be a good solution.","body":"Your String form is JSON and your data model includes a List, so the square braces are correct.  See <a href=\"https://www.json.org/json-en.html\" rel=\"nofollow noreferrer\">json.org/json-en.html</a>.  If your intent is to output some non-JSON form then <code>ObjectMapper</code> (I assume this is the Jackson class) may not be a good solution."}],"answers":[{"comments":[{"owner":{"account_id":18395741,"reputation":17,"user_id":13400243,"display_name":"jacob1989"},"score":0,"creation_date":1692700766,"post_id":76952347,"comment_id":135656838,"body_markdown":"it would be good idea but it adds ItemContainer to the front--&gt;\n`{&quot;container&quot;:[{&quot;items&quot;:[{&quot;itemsCode&quot;:&quot;item1&quot;,&quot;isAvailable&quot;:false}],&quot;isActive&quot;:false},{&quot;items&quot;:[{&quot;entryCode&quot;:&quot;item2&quot;,&quot;isSelected&quot;:true}],&quot;isActive&quot;:false}]}`","body":"it would be good idea but it adds ItemContainer to the front--&gt; <code>{&quot;container&quot;:[{&quot;items&quot;:[{&quot;itemsCode&quot;:&quot;item1&quot;,&quot;isAvailable&quot;:f&zwnj;&#8203;alse}],&quot;isActive&quot;:fa&zwnj;&#8203;lse},{&quot;items&quot;:[{&quot;ent&zwnj;&#8203;ryCode&quot;:&quot;item2&quot;,&quot;isS&zwnj;&#8203;elected&quot;:true}],&quot;isA&zwnj;&#8203;ctive&quot;:false}]}</code>"},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1692702335,"post_id":76952347,"comment_id":135657119,"body_markdown":"Otherwise you cannot avoid `[]` as you are serializing a `Collection`","body":"Otherwise you cannot avoid <code>[]</code> as you are serializing a <code>Collection</code>"}],"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692699781,"creation_date":1692699781,"answer_id":76952347,"question_id":76952272,"body_markdown":"`[]` denote an array, so if your top-level object for serialization is `List` you cannot avoid having them.\r\nIf you want to have top-level item as plain objects you need to rewrite the code adding one more POJO:\r\n```java\r\npublic class ItemsContainer {\r\n    private List&lt;Items&gt; itemsList;\r\n}\r\n\r\npublic class Items {\r\n    private List&lt;Item&gt; items;\r\n    private Boolean isBoolean;\r\n}\r\n\r\nList&lt;Items&gt; itemsList= new ArrayList&lt;&gt;();\r\nitemsList.add(new Items(items, isBoolean));\r\n\r\nItemContainer container = new ItemContainer();\r\ncontainer.setItemsList(itemsList);\r\n\r\nObjectMapper mapper = new ObjectMapper();\r\nString itemsJson = mapper.writeValueAsString(container);\r\n```","title":"How to add objects to list without having array brackets","body":"<p><code>[]</code> denote an array, so if your top-level object for serialization is <code>List</code> you cannot avoid having them.\nIf you want to have top-level item as plain objects you need to rewrite the code adding one more POJO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ItemsContainer {\n    private List&lt;Items&gt; itemsList;\n}\n\npublic class Items {\n    private List&lt;Item&gt; items;\n    private Boolean isBoolean;\n}\n\nList&lt;Items&gt; itemsList= new ArrayList&lt;&gt;();\nitemsList.add(new Items(items, isBoolean));\n\nItemContainer container = new ItemContainer();\ncontainer.setItemsList(itemsList);\n\nObjectMapper mapper = new ObjectMapper();\nString itemsJson = mapper.writeValueAsString(container);\n</code></pre>\n"}],"owner":{"account_id":18395741,"reputation":17,"user_id":13400243,"display_name":"jacob1989"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76952347,"answer_count":1,"score":-1,"last_activity_date":1692699862,"creation_date":1692699264,"question_id":76952272,"body_markdown":"I have a for loop in which I add some attributes to the object and at the end I need to have a string (to pass it as a query parameter)\r\n\r\nI need\r\n```json\r\n{&quot;items&quot;:[{&quot;itemsCode&quot;:&quot;item1&quot;,&quot;isAvailable&quot;:false}],&quot;isActive&quot;:false},{&quot;items&quot;:[{&quot;entryCode&quot;:&quot;item2&quot;,&quot;isSelected&quot;:true}],&quot;isActive&quot;:false}\r\n```\r\nWhen I try\r\n ```java\r\nList&lt;List&gt; itemsList= new ArrayList&lt;&gt;();\r\nitemsList.add(new Items(items, isBoolean));\r\nObjectMapper mapper = new ObjectMapper();\r\nString itemsJson = mapper.writeValueAsString(itemsList);\r\n```\r\nPOJO\r\n```java\r\npublic class Items {\r\n\r\n    private List&lt;Item&gt; items;\r\n    private Boolean isBoolean;\r\n```\r\n\r\nI get this:\r\n```json\r\n[{&quot;items&quot;:[{&quot;itemsCode&quot;:&quot;item1&quot;,&quot;isAvailable&quot;:false}],&quot;isActive&quot;:false},{&quot;items&quot;:[{&quot;entryCode&quot;:&quot;item2&quot;,&quot;isSelected&quot;:true}],&quot;isActive&quot;:false}]\r\n```\r\n\r\nplease help how to get rid of an array brackets, but keeping the convention of adding those object to a list in a for loop","title":"How to add objects to list without having array brackets","body":"<p>I have a for loop in which I add some attributes to the object and at the end I need to have a string (to pass it as a query parameter)</p>\n<p>I need</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;items&quot;:[{&quot;itemsCode&quot;:&quot;item1&quot;,&quot;isAvailable&quot;:false}],&quot;isActive&quot;:false},{&quot;items&quot;:[{&quot;entryCode&quot;:&quot;item2&quot;,&quot;isSelected&quot;:true}],&quot;isActive&quot;:false}\n</code></pre>\n<p>When I try</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;List&gt; itemsList= new ArrayList&lt;&gt;();\nitemsList.add(new Items(items, isBoolean));\nObjectMapper mapper = new ObjectMapper();\nString itemsJson = mapper.writeValueAsString(itemsList);\n</code></pre>\n<p>POJO</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Items {\n\n    private List&lt;Item&gt; items;\n    private Boolean isBoolean;\n</code></pre>\n<p>I get this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[{&quot;items&quot;:[{&quot;itemsCode&quot;:&quot;item1&quot;,&quot;isAvailable&quot;:false}],&quot;isActive&quot;:false},{&quot;items&quot;:[{&quot;entryCode&quot;:&quot;item2&quot;,&quot;isSelected&quot;:true}],&quot;isActive&quot;:false}]\n</code></pre>\n<p>please help how to get rid of an array brackets, but keeping the convention of adding those object to a list in a for loop</p>\n"},{"tags":["java","maven","openapi-generator","java-17"],"owner":{"account_id":29128237,"reputation":1,"user_id":22314108,"display_name":"Su4p"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692699275,"creation_date":1692699275,"question_id":76952274,"body_markdown":"Hello Maven Community,\r\n\r\nI&#39;m a beginner, I apology if I do technical (or english) mistakes.\r\n\r\nI&#39;m trying to deploy only the main jar of my generated client.\r\n\r\nMy problem is that the client generates several jar when compiled (in client&#39;s target) :\r\n\r\n- the desired main jar project-name-client.jar that I want to deploy at the end\r\n- 3 unwanted jar project-name-client-javadoc.jar, project-name-client-sources.jar and project-name-client-tests.jar\r\n\r\nHere is my config to generate the client\r\n\r\n```\r\n&lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;6.6.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;inputSpec&gt;${project.basedir}/swagger/swagger.json&lt;/inputSpec&gt;\r\n\r\n                            &lt;generatorName&gt;java&lt;/generatorName&gt;\r\n                            &lt;library&gt;native&lt;/library&gt;\r\n\r\n                            &lt;output&gt;${project.basedir}/../${project.artifactId}-client&lt;/output&gt;\r\n                            &lt;apiPackage&gt;${apiPackage}&lt;/apiPackage&gt;\r\n                            &lt;modelPackage&gt;${modelPackage}&lt;/modelPackage&gt;\r\n                            &lt;invokerPackage&gt;${invokerPackage}&lt;/invokerPackage&gt;\r\n\r\n                            &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\r\n                            &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\r\n                            &lt;generateModelDocumentation&gt;false&lt;/generateModelDocumentation&gt;\r\n                            &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\r\n\r\n                            &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;${project.artifactId}-client&lt;/artifactId&gt;\r\n                            &lt;artifactVersion&gt;${project.version}&lt;/artifactVersion&gt;\r\n\r\n                            &lt;configOptions&gt;\r\n                                &lt;useSpringBoot3&gt;true&lt;/useSpringBoot3&gt;\r\n                                &lt;useJakartaEe&gt;true&lt;/useJakartaEe&gt;\r\n                                &lt;openApiNullable&gt;false&lt;/openApiNullable&gt;\r\n\r\n                                &lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\r\n                                &lt;hideGenerationTimestamp&gt;true&lt;/hideGenerationTimestamp&gt;\r\n\r\n                                &lt;parentGroupId&gt;${project.parent.groupId}&lt;/parentGroupId&gt;\r\n                                &lt;parentArtifactId&gt;${project.parent.artifactId}&lt;/parentArtifactId&gt;\r\n                                &lt;parentVersion&gt;${project.parent.version}&lt;/parentVersion&gt;\r\n                            &lt;/configOptions&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nI tried to block the generation but didn&#39;t find a working solution yet.\r\n\r\nI tried to use maven ant run plugin to delete the jars before deploy (from the server&#39;s pom) but it seems the client generation/compile comes after the plugin.Because the client is generated, I can&#39;t modify the client&#39;s pom which is regenerated.","title":"Generate Client using OpenApi generator create several unwanted jars in generated target","body":"<p>Hello Maven Community,</p>\n<p>I'm a beginner, I apology if I do technical (or english) mistakes.</p>\n<p>I'm trying to deploy only the main jar of my generated client.</p>\n<p>My problem is that the client generates several jar when compiled (in client's target) :</p>\n<ul>\n<li>the desired main jar project-name-client.jar that I want to deploy at the end</li>\n<li>3 unwanted jar project-name-client-javadoc.jar, project-name-client-sources.jar and project-name-client-tests.jar</li>\n</ul>\n<p>Here is my config to generate the client</p>\n<pre><code>&lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n                &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;6.6.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;inputSpec&gt;${project.basedir}/swagger/swagger.json&lt;/inputSpec&gt;\n\n                            &lt;generatorName&gt;java&lt;/generatorName&gt;\n                            &lt;library&gt;native&lt;/library&gt;\n\n                            &lt;output&gt;${project.basedir}/../${project.artifactId}-client&lt;/output&gt;\n                            &lt;apiPackage&gt;${apiPackage}&lt;/apiPackage&gt;\n                            &lt;modelPackage&gt;${modelPackage}&lt;/modelPackage&gt;\n                            &lt;invokerPackage&gt;${invokerPackage}&lt;/invokerPackage&gt;\n\n                            &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\n                            &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\n                            &lt;generateModelDocumentation&gt;false&lt;/generateModelDocumentation&gt;\n                            &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\n\n                            &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n                            &lt;artifactId&gt;${project.artifactId}-client&lt;/artifactId&gt;\n                            &lt;artifactVersion&gt;${project.version}&lt;/artifactVersion&gt;\n\n                            &lt;configOptions&gt;\n                                &lt;useSpringBoot3&gt;true&lt;/useSpringBoot3&gt;\n                                &lt;useJakartaEe&gt;true&lt;/useJakartaEe&gt;\n                                &lt;openApiNullable&gt;false&lt;/openApiNullable&gt;\n\n                                &lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\n                                &lt;hideGenerationTimestamp&gt;true&lt;/hideGenerationTimestamp&gt;\n\n                                &lt;parentGroupId&gt;${project.parent.groupId}&lt;/parentGroupId&gt;\n                                &lt;parentArtifactId&gt;${project.parent.artifactId}&lt;/parentArtifactId&gt;\n                                &lt;parentVersion&gt;${project.parent.version}&lt;/parentVersion&gt;\n                            &lt;/configOptions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>I tried to block the generation but didn't find a working solution yet.</p>\n<p>I tried to use maven ant run plugin to delete the jars before deploy (from the server's pom) but it seems the client generation/compile comes after the plugin.Because the client is generated, I can't modify the client's pom which is regenerated.</p>\n"},{"tags":["java","unit-testing","mockito","webclient","jacoco"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1692615119,"post_id":76943975,"comment_id":135642824,"body_markdown":"Why do you assign `ResultStatsCollector`? It is never used. At the same time, `resultStatsCollector` is already assigned by annotation `@InjectMocks` (I&#39;m assuming you are running the test with Mockito extension  your test class definition is not included in the question)","body":"Why do you assign <code>ResultStatsCollector</code>? It is never used. At the same time, <code>resultStatsCollector</code> is already assigned by annotation <code>@InjectMocks</code> (I&#39;m assuming you are running the test with Mockito extension  your test class definition is not included in the question)"}],"answers":[{"tags":[],"owner":{"account_id":3659580,"reputation":19,"user_id":3049760,"accept_rate":75,"display_name":"DonutQuan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692698835,"creation_date":1692698835,"answer_id":76952215,"question_id":76943975,"body_markdown":"As my method calls webClient, each produced a different `responseSpec`. Adding another mock ResponseSpec did the trick.   \r\n\r\n    @Mock\r\n    private ResponseSpec responseSpecStats;\r\n\r\n\r\n    ...\r\n    when(requestHeadersUriSpec.retrieve()).thenReturn(responseSpecStats);\r\n    when(responseSpecStats.bodyToMono(String.class)).thenReturn((endpointResponse));","title":"Mockito: WebClient reactive method call","body":"<p>As my method calls webClient, each produced a different <code>responseSpec</code>. Adding another mock ResponseSpec did the trick.</p>\n<pre><code>@Mock\nprivate ResponseSpec responseSpecStats;\n\n\n...\nwhen(requestHeadersUriSpec.retrieve()).thenReturn(responseSpecStats);\nwhen(responseSpecStats.bodyToMono(String.class)).thenReturn((endpointResponse));\n</code></pre>\n"}],"owner":{"account_id":3659580,"reputation":19,"user_id":3049760,"accept_rate":75,"display_name":"DonutQuan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76952215,"answer_count":1,"score":0,"last_activity_date":1692698835,"creation_date":1692609796,"question_id":76943975,"body_markdown":"I am facing difficulties in writing a unit test for my ```collect```  method. Specifically, the Jacoco test coverage for the methods that occur after I call ```getBearerToken()``` within the ```collectEndpointCount``` method is not getting recognized. StepVerifier is able to verify that it has been completed but the values within it are all null.\r\n\r\nHere is a quick breakdown of what my ```collect``` does. It takes in a ```timeRange``` and initiates 2 asynchronous operations using the ```collectEndpointCount``` method for each endpoint. This method retrieves an Apigee access token using ```extractAccessToken``` and ```getBearerToken``` to authenticate the API requests\r\n\r\nThe usage count data is fetched from the external API for each endpoint using the constructed URL and the obtained access token. The response is then processed by the ```processEndpointResponse``` method to extract the usage count. The collected counts for all 2 endpoints are combined using the Mono.zip operation.\r\n\r\n\r\n**ResultsCollectorImpl.java**\r\n\r\n```\r\npublic ResultCollectorImpl(WebClient webClient) {\r\n    this.webClient = webClient;\r\n}\r\n\r\n@Override\r\npublic Mono&lt;ResultStats&gt; collect(String timeRange) {\r\n    Mono&lt;Long&gt; results1 = collectEndpointCount(timeRange, &quot;url1&quot;);\r\n    Mono&lt;Long&gt; results2 = collectEndpointCount(timeRange, &quot;url2&quot;);\r\n\r\n    return Mono.zip(results1, results2)\r\n        .map(tuple -&gt; new ResultStats(tuple.getT1(), tuple.getT2()));\r\n}\r\n\r\nprivate Mono&lt;String&gt; getBearerToken() {\r\n    return webClient.post()\r\n        .uri(&quot;https://login.apigee.com/oauth/token&quot;)\r\n        .header(HttpHeaders.AUTHORIZATION, &quot;Basic ZWRnZWNsaTplZGdlY2xpc2VjcmV0&quot;)\r\n        .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_FORM_URLENCODED_VALUE)\r\n        .bodyValue(&quot;grant_type=refresh_token&amp;refresh_token=my_refresh_token&quot;)\r\n        .retrieve()\r\n        .bodyToMono(String.class)\r\n        .flatMap(this::extractAccessToken);\r\n}\r\n\r\nprivate Mono&lt;String&gt; extractAccessToken(String responseBody) {\r\n    try {\r\n        JsonNode accessTokenNode = new ObjectMapper().readTree(responseBody).get(&quot;access_token&quot;);\r\n        if (accessTokenNode != null &amp;&amp; accessTokenNode.isTextual()) {\r\n            return Mono.just(accessTokenNode.asText());\r\n        }\r\n        return Mono.empty();\r\n    } catch (IOException e) {\r\n        return Mono.error(e);\r\n    }\r\n}\r\n\r\nprivate Mono&lt;Long&gt; collectEndpointCount(String timeRange, String url) {\r\n    return getBearerToken()\r\n        .flatMap(bearerToken -&gt; webClient.get()\r\n            .uri(url)\r\n            .header(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + bearerToken)\r\n            .retrieve()\r\n            .bodyToMono(String.class)\r\n            .flatMap(responseBody -&gt; Mono.fromCallable(() -&gt; processEndpointResponse(responseBody))))\r\n        .onErrorMap(ex -&gt; ex instanceof WebClientResponseException || ex instanceof IOException,\r\n            BillProcessorExceptionCollect::new);\r\n}\r\n\r\nprivate long processEndpointResponse(@NonNull String responseBody) throws IOException {\r\n    try (JsonParser jsonParser = new JsonFactory().createParser(responseBody)) {\r\n        while (jsonParser.nextToken() != null) {\r\n            if (jsonParser.getCurrentToken() == JsonToken.FIELD_NAME\r\n                &amp;&amp; &quot;values&quot;.equals(jsonParser.getCurrentName())) {\r\n                jsonParser.nextToken();\r\n                while (jsonParser.nextToken() != JsonToken.END_ARRAY) {\r\n                    if (jsonParser.getCurrentToken() == JsonToken.VALUE_STRING) {\r\n                        return (long) Double.parseDouble(jsonParser.getText());\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return 0;\r\n}\r\n```\r\n\r\n**ResultsCollectorImplTest.java**\r\n```\r\n@Mock\r\nprivate WebClient webClient;\r\n@Mock\r\nprivate ApigeeConfig apigeeConfig;\r\n@InjectMocks\r\nprivate ResultStatsCollectorImpl resultStatsCollector;\r\n@Mock\r\nprivate RequestBodyUriSpec requestBodyUriSpec;\r\n@Mock\r\nprivate RequestHeadersUriSpec requestHeadersUriSpec;\r\n@Mock\r\nprivate RequestHeadersSpec requestHeadersSpec;\r\n@Mock\r\nprivate ResponseSpec responseSpec;\r\n\r\n@BeforeEach\r\nvoid setUp() {\r\n    MockitoAnnotations.openMocks(this);\r\n    ResultStatsCollector = new ResultStatsCollectorImpl(webClient, apigeeConfig);\r\n}\r\n\r\n@Test\r\nvoid testCollectWithValidData() {\r\n    String timeRange = &quot;08/01/2023 00:00~08/31/2023 23:59&quot;;\r\n\r\n    Mono&lt;String&gt; accessToken = Mono.just(&quot;{\\&quot;access_token\\&quot;:\\&quot;bearer_token\\&quot;&quot;);\r\n    when(apigeeConfig.getRefreshToken()).thenReturn(&quot;mockRefreshToken&quot;);\r\n    when(webClient.post()).thenReturn(requestBodyUriSpec);\r\n    when(requestBodyUriSpec.uri(anyString())).thenReturn(requestBodyUriSpec);\r\n    when(requestBodyUriSpec.header(anyString(), anyString())).thenReturn(requestBodyUriSpec);\r\n    when(requestBodyUriSpec.bodyValue(anyString())).thenReturn(requestHeadersSpec);\r\n    when(requestBodyUriSpec.retrieve()).thenReturn(responseSpec);\r\n    when(responseSpec.bodyToMono(String.class)).thenReturn(accessToken);\r\n    \r\n    String mockApiResponse = &quot;{\\&quot;from\\&quot;:\\&quot;2023-08-01T00:00:00+08:00\\&quot;,\\&quot; count1\\&quot;:100,\\&quot;count2\\&quot;:100}&quot;;\r\n    when(webClient.get()).thenReturn(requestHeadersUriSpec);\r\n    when(requestHeadersUriSpec.uri(anyString())).thenReturn(requestHeadersUriSpec);\r\n    when(requestHeadersUriSpec.header(HttpHeaders.AUTHORIZATION, &quot;mockAccessToken&quot;)).thenReturn(requestHeadersSpec);\r\n    when(requestHeadersSpec.retrieve()).thenReturn(responseSpec);\r\n    when(responseSpec.bodyToMono(String.class)).thenReturn(Mono.just(mockApiResponse));\r\n\r\n    Mono&lt;ResultStats&gt; usageStats = resultStatsCollector.collect(timeRange);\r\n\r\n    StepVerifier.create(usageStats).verifyComplete();\r\n}\r\n```\r\n[![Jacoco Test Coverage][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/P5JVc.png","title":"Mockito: WebClient reactive method call","body":"<p>I am facing difficulties in writing a unit test for my <code>collect</code>  method. Specifically, the Jacoco test coverage for the methods that occur after I call <code>getBearerToken()</code> within the <code>collectEndpointCount</code> method is not getting recognized. StepVerifier is able to verify that it has been completed but the values within it are all null.</p>\n<p>Here is a quick breakdown of what my <code>collect</code> does. It takes in a <code>timeRange</code> and initiates 2 asynchronous operations using the <code>collectEndpointCount</code> method for each endpoint. This method retrieves an Apigee access token using <code>extractAccessToken</code> and <code>getBearerToken</code> to authenticate the API requests</p>\n<p>The usage count data is fetched from the external API for each endpoint using the constructed URL and the obtained access token. The response is then processed by the <code>processEndpointResponse</code> method to extract the usage count. The collected counts for all 2 endpoints are combined using the Mono.zip operation.</p>\n<p><strong>ResultsCollectorImpl.java</strong></p>\n<pre><code>public ResultCollectorImpl(WebClient webClient) {\n    this.webClient = webClient;\n}\n\n@Override\npublic Mono&lt;ResultStats&gt; collect(String timeRange) {\n    Mono&lt;Long&gt; results1 = collectEndpointCount(timeRange, &quot;url1&quot;);\n    Mono&lt;Long&gt; results2 = collectEndpointCount(timeRange, &quot;url2&quot;);\n\n    return Mono.zip(results1, results2)\n        .map(tuple -&gt; new ResultStats(tuple.getT1(), tuple.getT2()));\n}\n\nprivate Mono&lt;String&gt; getBearerToken() {\n    return webClient.post()\n        .uri(&quot;https://login.apigee.com/oauth/token&quot;)\n        .header(HttpHeaders.AUTHORIZATION, &quot;Basic ZWRnZWNsaTplZGdlY2xpc2VjcmV0&quot;)\n        .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_FORM_URLENCODED_VALUE)\n        .bodyValue(&quot;grant_type=refresh_token&amp;refresh_token=my_refresh_token&quot;)\n        .retrieve()\n        .bodyToMono(String.class)\n        .flatMap(this::extractAccessToken);\n}\n\nprivate Mono&lt;String&gt; extractAccessToken(String responseBody) {\n    try {\n        JsonNode accessTokenNode = new ObjectMapper().readTree(responseBody).get(&quot;access_token&quot;);\n        if (accessTokenNode != null &amp;&amp; accessTokenNode.isTextual()) {\n            return Mono.just(accessTokenNode.asText());\n        }\n        return Mono.empty();\n    } catch (IOException e) {\n        return Mono.error(e);\n    }\n}\n\nprivate Mono&lt;Long&gt; collectEndpointCount(String timeRange, String url) {\n    return getBearerToken()\n        .flatMap(bearerToken -&gt; webClient.get()\n            .uri(url)\n            .header(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + bearerToken)\n            .retrieve()\n            .bodyToMono(String.class)\n            .flatMap(responseBody -&gt; Mono.fromCallable(() -&gt; processEndpointResponse(responseBody))))\n        .onErrorMap(ex -&gt; ex instanceof WebClientResponseException || ex instanceof IOException,\n            BillProcessorExceptionCollect::new);\n}\n\nprivate long processEndpointResponse(@NonNull String responseBody) throws IOException {\n    try (JsonParser jsonParser = new JsonFactory().createParser(responseBody)) {\n        while (jsonParser.nextToken() != null) {\n            if (jsonParser.getCurrentToken() == JsonToken.FIELD_NAME\n                &amp;&amp; &quot;values&quot;.equals(jsonParser.getCurrentName())) {\n                jsonParser.nextToken();\n                while (jsonParser.nextToken() != JsonToken.END_ARRAY) {\n                    if (jsonParser.getCurrentToken() == JsonToken.VALUE_STRING) {\n                        return (long) Double.parseDouble(jsonParser.getText());\n                    }\n                }\n            }\n        }\n    }\n    return 0;\n}\n</code></pre>\n<p><strong>ResultsCollectorImplTest.java</strong></p>\n<pre><code>@Mock\nprivate WebClient webClient;\n@Mock\nprivate ApigeeConfig apigeeConfig;\n@InjectMocks\nprivate ResultStatsCollectorImpl resultStatsCollector;\n@Mock\nprivate RequestBodyUriSpec requestBodyUriSpec;\n@Mock\nprivate RequestHeadersUriSpec requestHeadersUriSpec;\n@Mock\nprivate RequestHeadersSpec requestHeadersSpec;\n@Mock\nprivate ResponseSpec responseSpec;\n\n@BeforeEach\nvoid setUp() {\n    MockitoAnnotations.openMocks(this);\n    ResultStatsCollector = new ResultStatsCollectorImpl(webClient, apigeeConfig);\n}\n\n@Test\nvoid testCollectWithValidData() {\n    String timeRange = &quot;08/01/2023 00:00~08/31/2023 23:59&quot;;\n\n    Mono&lt;String&gt; accessToken = Mono.just(&quot;{\\&quot;access_token\\&quot;:\\&quot;bearer_token\\&quot;&quot;);\n    when(apigeeConfig.getRefreshToken()).thenReturn(&quot;mockRefreshToken&quot;);\n    when(webClient.post()).thenReturn(requestBodyUriSpec);\n    when(requestBodyUriSpec.uri(anyString())).thenReturn(requestBodyUriSpec);\n    when(requestBodyUriSpec.header(anyString(), anyString())).thenReturn(requestBodyUriSpec);\n    when(requestBodyUriSpec.bodyValue(anyString())).thenReturn(requestHeadersSpec);\n    when(requestBodyUriSpec.retrieve()).thenReturn(responseSpec);\n    when(responseSpec.bodyToMono(String.class)).thenReturn(accessToken);\n    \n    String mockApiResponse = &quot;{\\&quot;from\\&quot;:\\&quot;2023-08-01T00:00:00+08:00\\&quot;,\\&quot; count1\\&quot;:100,\\&quot;count2\\&quot;:100}&quot;;\n    when(webClient.get()).thenReturn(requestHeadersUriSpec);\n    when(requestHeadersUriSpec.uri(anyString())).thenReturn(requestHeadersUriSpec);\n    when(requestHeadersUriSpec.header(HttpHeaders.AUTHORIZATION, &quot;mockAccessToken&quot;)).thenReturn(requestHeadersSpec);\n    when(requestHeadersSpec.retrieve()).thenReturn(responseSpec);\n    when(responseSpec.bodyToMono(String.class)).thenReturn(Mono.just(mockApiResponse));\n\n    Mono&lt;ResultStats&gt; usageStats = resultStatsCollector.collect(timeRange);\n\n    StepVerifier.create(usageStats).verifyComplete();\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/P5JVc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P5JVc.png\" alt=\"Jacoco Test Coverage\" /></a></p>\n"},{"tags":["java","log4j2","proguard","multi-release-jar"],"owner":{"account_id":4133056,"reputation":532,"user_id":5967354,"display_name":"user27772"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692698821,"creation_date":1692698821,"question_id":76952214,"body_markdown":"We have a multirelease .jar that contains different .class files under META-INF/versions (e. g. META-INF/versions/9/org/apache/logging/log4j/util/StackLocator.class). After running proguard in version 7.2.1, the META-INF/versions folder in the obfuscated .jar is empty.\r\n\r\nDoes proguard support obfuscating classes under META-INF/versions in general?\r\n\r\nIf yes, how must it be done correctly?\r\n\r\nAnd if not, what would be the way to convert an multirelease.jar into a non-multirelease.jar for a given version?","title":"Does proguard support multirelease jars?","body":"<p>We have a multirelease .jar that contains different .class files under META-INF/versions (e. g. META-INF/versions/9/org/apache/logging/log4j/util/StackLocator.class). After running proguard in version 7.2.1, the META-INF/versions folder in the obfuscated .jar is empty.</p>\n<p>Does proguard support obfuscating classes under META-INF/versions in general?</p>\n<p>If yes, how must it be done correctly?</p>\n<p>And if not, what would be the way to convert an multirelease.jar into a non-multirelease.jar for a given version?</p>\n"},{"tags":["java","prometheus","micrometer"],"comments":[{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":0,"creation_date":1692627313,"post_id":76946102,"comment_id":135645583,"body_markdown":"And what is show on your metrics page?","body":"And what is show on your metrics page?"},{"owner":{"account_id":13616324,"reputation":39,"user_id":10609480,"display_name":"Adam G"},"score":0,"creation_date":1692786942,"post_id":76946102,"comment_id":135670839,"body_markdown":"@markalex You mean at actuator/metrics? When I start up my application locally, I only get the default metrics. But if I call an endpoint such as create, then I see the SUCCESS_REQUEST or FAILURE_REQUEST metrics","body":"@markalex You mean at actuator/metrics? When I start up my application locally, I only get the default metrics. But if I call an endpoint such as create, then I see the SUCCESS_REQUEST or FAILURE_REQUEST metrics"},{"owner":{"account_id":13616324,"reputation":39,"user_id":10609480,"display_name":"Adam G"},"score":0,"creation_date":1692787233,"post_id":76946102,"comment_id":135670901,"body_markdown":"Also, running the app locally and going to /actuator/prometheus shows the expected metrics","body":"Also, running the app locally and going to /actuator/prometheus shows the expected metrics"},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":0,"creation_date":1692788191,"post_id":76946102,"comment_id":135671082,"body_markdown":"If you metrics page is seen by prometheus, all it&#39;s values are scraped, unless they are dropped by relabel config. Investigate relabeling setup in your instance of prometheus.","body":"If you metrics page is seen by prometheus, all it&#39;s values are scraped, unless they are dropped by relabel config. Investigate relabeling setup in your instance of prometheus."}],"owner":{"account_id":13616324,"reputation":39,"user_id":10609480,"display_name":"Adam G"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692698569,"creation_date":1692627046,"question_id":76946102,"body_markdown":"Our application uses a wrapper method to execute endpoints, where each endpoint has its own custom tag. Our wrapper looks like this:\r\n\r\n    public static &lt;T&gt; T meterEndpoint(MeterRegistry meterRegistry, Tags tags, Supplier&lt;T&gt; t) {\r\n            return meterRegistry.timer(Metrics.EXEC_TIME, tags).record(() -&gt; {\r\n                try {\r\n                    T response = t.get();\r\n                    meterRegistry.counter(Metrics.SUCCESSFUL_REQUEST, tags).increment();\r\n                    return response;\r\n                } catch (Exception ex) {\r\n                    log.error(&quot;Failed executing request with tags {}&quot;, tags, ex);\r\n                    tags.and(&quot;errorName&quot;, ex.getClass().getSimpleName());\r\n                    meterRegistry.counter(Metrics.FAILURE_REQUEST, tags).increment();\r\n                    throw ex;\r\n                }\r\n            });\r\n        }\r\n\r\nSo the endpoints would call the wrapper like:\r\n\r\n    public String create(@RequestBody String message, @PathVariable String customer){\r\n            Tags tags = Tags.of(&quot;endpoint&quot;, &quot;create&quot;).and(&quot;customer&quot;, customer);\r\n            return meterEndpoint(meterRegistry, tags, () -&gt; dummyService.create(message));\r\n        }\r\n\r\n    public String update(@RequestBody String message, @PathVariable String customer){\r\n            Tags tags = Tags.of(&quot;endpoint&quot;, &quot;update&quot;).and(&quot;customer&quot;, customer);\r\n            return meterEndpoint(meterRegistry, tags, () -&gt; dummyService.update(message));\r\n        }\r\n\r\n\r\nWhen I debug and check the value of the EXEC_TIME timer, I get an actual value for the measure. But nothing is showing up in Prometheus.\r\nAnd for the counter, only metrics for some endpoints are appearing, but not others.\r\n\r\n\r\n","title":"Micrometer - only some metrics are showing up in Prometheus","body":"<p>Our application uses a wrapper method to execute endpoints, where each endpoint has its own custom tag. Our wrapper looks like this:</p>\n<pre><code>public static &lt;T&gt; T meterEndpoint(MeterRegistry meterRegistry, Tags tags, Supplier&lt;T&gt; t) {\n        return meterRegistry.timer(Metrics.EXEC_TIME, tags).record(() -&gt; {\n            try {\n                T response = t.get();\n                meterRegistry.counter(Metrics.SUCCESSFUL_REQUEST, tags).increment();\n                return response;\n            } catch (Exception ex) {\n                log.error(&quot;Failed executing request with tags {}&quot;, tags, ex);\n                tags.and(&quot;errorName&quot;, ex.getClass().getSimpleName());\n                meterRegistry.counter(Metrics.FAILURE_REQUEST, tags).increment();\n                throw ex;\n            }\n        });\n    }\n</code></pre>\n<p>So the endpoints would call the wrapper like:</p>\n<pre><code>public String create(@RequestBody String message, @PathVariable String customer){\n        Tags tags = Tags.of(&quot;endpoint&quot;, &quot;create&quot;).and(&quot;customer&quot;, customer);\n        return meterEndpoint(meterRegistry, tags, () -&gt; dummyService.create(message));\n    }\n\npublic String update(@RequestBody String message, @PathVariable String customer){\n        Tags tags = Tags.of(&quot;endpoint&quot;, &quot;update&quot;).and(&quot;customer&quot;, customer);\n        return meterEndpoint(meterRegistry, tags, () -&gt; dummyService.update(message));\n    }\n</code></pre>\n<p>When I debug and check the value of the EXEC_TIME timer, I get an actual value for the measure. But nothing is showing up in Prometheus.\nAnd for the counter, only metrics for some endpoints are appearing, but not others.</p>\n"},{"tags":["java","spring-boot","exception","spring-webclient"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1693543672,"post_id":76952164,"comment_id":135777683,"body_markdown":"Not sure what you mean by underlining exception. This is a client and it handles HTTP request/responses. Probably you mean that server throws `EntityNotFoundException` but it will be transformed into HTTP response (probably JSON) that you would need to handle in your client. Check https://stackoverflow.com/a/71650789/9068895 for details","body":"Not sure what you mean by underlining exception. This is a client and it handles HTTP request/responses. Probably you mean that server throws <code>EntityNotFoundException</code> but it will be transformed into HTTP response (probably JSON) that you would need to handle in your client. Check <a href=\"https://stackoverflow.com/a/71650789/9068895\">stackoverflow.com/a/71650789/9068895</a> for details"}],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692698433,"creation_date":1692698433,"question_id":76952164,"body_markdown":"When making a call to my Rest API&#39;s endpoint, I am taking into account that it may end up in an exception thrown.\r\n\r\nFor example, I&#39;ve got an endpoint `GET /api/entity?name=${some_name}`. Suppose that there&#39;s no entity of name `XYZ`. In that case, when someone makes a request `GET /api/entity?name=XYZ`, my service will throw `EntityNotFoundException` - a custom exception class I&#39;ve made.\r\n\r\nThis is how such request looks like:\r\n```\r\npublic void apiCall() {\r\n\twebClient.method(HttpMethod.GET)\r\n\t\t\t\t.uri(uriBuilder -&gt; uriBuilder\r\n\t\t\t\t\t\t.path(&quot;/api/entity&quot;)\r\n\t\t\t\t\t\t.queryParam(&quot;name&quot;, &quot;XYZ&quot;)\r\n\t\t\t\t\t\t.build()\r\n\t\t\t\t).retrieve()\r\n\t\t\t\t.bodyToMono(MyCustomClass.class)\r\n\t\t\t\t.block();\r\n}\r\n```\r\nThe above call will throw `WebClientResponseException`. All I really need is the *underlying* exception that is thrown in `EntityService` and is called `EntityNotFoundException`. How do I retrieve my custom exception?","title":"Get an underlying custom exception class in WebClientResponseException","body":"<p>When making a call to my Rest API's endpoint, I am taking into account that it may end up in an exception thrown.</p>\n<p>For example, I've got an endpoint <code>GET /api/entity?name=${some_name}</code>. Suppose that there's no entity of name <code>XYZ</code>. In that case, when someone makes a request <code>GET /api/entity?name=XYZ</code>, my service will throw <code>EntityNotFoundException</code> - a custom exception class I've made.</p>\n<p>This is how such request looks like:</p>\n<pre><code>public void apiCall() {\n    webClient.method(HttpMethod.GET)\n                .uri(uriBuilder -&gt; uriBuilder\n                        .path(&quot;/api/entity&quot;)\n                        .queryParam(&quot;name&quot;, &quot;XYZ&quot;)\n                        .build()\n                ).retrieve()\n                .bodyToMono(MyCustomClass.class)\n                .block();\n}\n</code></pre>\n<p>The above call will throw <code>WebClientResponseException</code>. All I really need is the <em>underlying</em> exception that is thrown in <code>EntityService</code> and is called <code>EntityNotFoundException</code>. How do I retrieve my custom exception?</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692698184,"creation_date":1692697813,"question_id":76952075,"body_markdown":"The goal is to keep some common application properties in a single file, which serves as the defaults. And these properties can be overridden by other modules, e.g. during testing, activating various profiles, command line arguments, etc.\r\n\r\nI tried using `spring.config.import: file:..\\common.yml` in each properties files I have inside each module. This worked when compiling the code as the file is placed in the parent folder of the modules. But this didn&#39;t work when executing the final jar because this common.yml is not packaged into the jar file.\r\n\r\nAnother issue I have is some nested properties get merged together. e.g.\r\n\r\ncommon.yml\r\n\r\n    value1: default value 1\r\n    value2: default value 2\r\n    nested:\r\n      value1: default value 1\r\n      value2: default value 2\r\n\r\napplication.yml\r\n\r\n    spring:\r\n      config:\r\n        import: file:..\\common.yml\r\n    ---\r\n    value1: new value 1\r\n    nested:\r\n      value1: new value 1\r\n\r\nWhat I ended up is\r\n\r\n    value1 = new value 1\r\n    value2 = default value 2 &lt;-- this is OK because value2 is not redefined in application.yml\r\n    nested.value1 = new value 1\r\n    nested.value2 = default value 2 &lt;-- this is NOT OK as nested is redefined in application.yml to have just nested.value1\r\n\r\nI do not want to have the merging behaviour for nested objects, as they are like grouped values that go together. While I DO require this merging behaviour for those non-nested objects.\r\n\r\nSo two issues here:\r\n 1. Where should I put the common.yml so that:\r\n\r\n    1. it is included in the final jar\r\n    1. it is referenceable by each modules\r\n\r\n 1. How do you resolve the partial nested properties being merged together?","title":"How to share common Spring application properties in multi Maven modules?","body":"<p>The goal is to keep some common application properties in a single file, which serves as the defaults. And these properties can be overridden by other modules, e.g. during testing, activating various profiles, command line arguments, etc.</p>\n<p>I tried using <code>spring.config.import: file:..\\common.yml</code> in each properties files I have inside each module. This worked when compiling the code as the file is placed in the parent folder of the modules. But this didn't work when executing the final jar because this common.yml is not packaged into the jar file.</p>\n<p>Another issue I have is some nested properties get merged together. e.g.</p>\n<p>common.yml</p>\n<pre><code>value1: default value 1\nvalue2: default value 2\nnested:\n  value1: default value 1\n  value2: default value 2\n</code></pre>\n<p>application.yml</p>\n<pre><code>spring:\n  config:\n    import: file:..\\common.yml\n---\nvalue1: new value 1\nnested:\n  value1: new value 1\n</code></pre>\n<p>What I ended up is</p>\n<pre><code>value1 = new value 1\nvalue2 = default value 2 &lt;-- this is OK because value2 is not redefined in application.yml\nnested.value1 = new value 1\nnested.value2 = default value 2 &lt;-- this is NOT OK as nested is redefined in application.yml to have just nested.value1\n</code></pre>\n<p>I do not want to have the merging behaviour for nested objects, as they are like grouped values that go together. While I DO require this merging behaviour for those non-nested objects.</p>\n<p>So two issues here:</p>\n<ol>\n<li><p>Where should I put the common.yml so that:</p>\n<ol>\n<li>it is included in the final jar</li>\n<li>it is referenceable by each modules</li>\n</ol>\n</li>\n<li><p>How do you resolve the partial nested properties being merged together?</p>\n</li>\n</ol>\n"},{"tags":["java","generics","intellij-idea","compiler-errors"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1692691257,"post_id":76951183,"comment_id":135654769,"body_markdown":"generics do work, but you&#39;ll need for your class/instance declare what type T is","body":"generics do work, but you&#39;ll need for your class/instance declare what type T is"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1692697666,"post_id":76951183,"comment_id":135656178,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"},{"owner":{"account_id":28552322,"reputation":3,"user_id":21857005,"display_name":"Yuhang Ding"},"score":0,"creation_date":1692715859,"post_id":76951183,"comment_id":135660529,"body_markdown":"Thank u guys! My problems is solved!","body":"Thank u guys! My problems is solved!"}],"answers":[{"comments":[{"owner":{"account_id":28552322,"reputation":3,"user_id":21857005,"display_name":"Yuhang Ding"},"score":0,"creation_date":1692715604,"post_id":76951273,"comment_id":135660473,"body_markdown":"It does work, im a java fresher. Thank you for your answer sincerely!","body":"It does work, im a java fresher. Thank you for your answer sincerely!"}],"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692691578,"creation_date":1692691578,"answer_id":76951273,"question_id":76951183,"body_markdown":"There&#39;s nothing magical about the name &quot;T&quot;, and using it by itself won&#39;t make a member of a generic type. You need to provide the type argument in the class&#39; declaration:\r\n\r\n```java\r\npublic class Result&lt;T&gt; {\r\n    // Here -------^\r\n\r\n    // other members, snipped for brevity&#39;s sake\r\n\r\n    public T data;\r\n}\r\n```","title":"Openjdk 20 does not support java generics","body":"<p>There's nothing magical about the name &quot;T&quot;, and using it by itself won't make a member of a generic type. You need to provide the type argument in the class' declaration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Result&lt;T&gt; {\n    // Here -------^\n\n    // other members, snipped for brevity's sake\n\n    public T data;\n}\n</code></pre>\n"}],"owner":{"account_id":28552322,"reputation":3,"user_id":21857005,"display_name":"Yuhang Ding"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692700661,"accepted_answer_id":76951273,"answer_count":1,"score":0,"last_activity_date":1692697642,"creation_date":1692690897,"question_id":76951183,"body_markdown":"I declare a variable *data*,type is generic *T*.But the compiler reported an error:Cannot resolve symbol &#39;T&#39;[enter image description here](https://i.stack.imgur.com/tRTrT.png)\r\n\r\nMy project\r\nMy java version is OpenJDK 20, is it change the way to use generics?\r\nIf i use the another version, java1.8, and change the Projectsettings,Settings, it works.\r\nDoes anyone know the syntax for Openjdk20 version about the generics?\r\nHere is some Maven pom.xml\r\n```\r\n&lt;name&gt;Server&lt;/name&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;20&lt;/java.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;spring-boot.version&gt;3.1.2&lt;/spring-boot.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nDoes anyone know the syntax for Openjdk20 version about the generics?","title":"Openjdk 20 does not support java generics","body":"<p>I declare a variable <em>data</em>,type is generic <em>T</em>.But the compiler reported an error:Cannot resolve symbol 'T'<a href=\"https://i.stack.imgur.com/tRTrT.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>My project\nMy java version is OpenJDK 20, is it change the way to use generics?\nIf i use the another version, java1.8, and change the Projectsettings,Settings, it works.\nDoes anyone know the syntax for Openjdk20 version about the generics?\nHere is some Maven pom.xml</p>\n<pre><code>&lt;name&gt;Server&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;20&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;spring-boot.version&gt;3.1.2&lt;/spring-boot.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Does anyone know the syntax for Openjdk20 version about the generics?</p>\n"},{"tags":["java","spring-boot","rest"],"answers":[{"tags":[],"owner":{"account_id":16040278,"reputation":46,"user_id":11576849,"display_name":"saber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692697578,"creation_date":1692697578,"answer_id":76952046,"question_id":76951877,"body_markdown":"You can reference the design pattern of spring.factories to create a file similar to journey.factories.\r\n\r\n    com.example.Journey=com.example.JourneyType1,\\\r\n                    com.example.JourneyType2\r\n\r\nDefine the Journey interface and its implementations:\r\n\r\n    public interface Journey {\r\n    void fetchData();\r\n    // other methods\r\n    }\r\n\r\n    public class JourneyType1 implements Journey {\r\n    // Implement the above methods\r\n    }\r\nUse the JourneyLoader:\r\n\r\n    public void handleJourneys() {\r\n    JourneyLoader loader = new JourneyLoader();\r\n    List&lt;Journey&gt; journeys = loader.loadJourneys();\r\n\r\n    for (Journey journey : journeys) {\r\n        journey.fetchData();\r\n        // other operations\r\n    }\r\n    }","title":"Refactoring the Spring Boot application such that code changes not required for repetitive future enhancements","body":"<p>You can reference the design pattern of spring.factories to create a file similar to journey.factories.</p>\n<pre><code>com.example.Journey=com.example.JourneyType1,\\\n                com.example.JourneyType2\n</code></pre>\n<p>Define the Journey interface and its implementations:</p>\n<pre><code>public interface Journey {\nvoid fetchData();\n// other methods\n}\n\npublic class JourneyType1 implements Journey {\n// Implement the above methods\n}\n</code></pre>\n<p>Use the JourneyLoader:</p>\n<pre><code>public void handleJourneys() {\nJourneyLoader loader = new JourneyLoader();\nList&lt;Journey&gt; journeys = loader.loadJourneys();\n\nfor (Journey journey : journeys) {\n    journey.fetchData();\n    // other operations\n}\n}\n</code></pre>\n"}],"owner":{"account_id":16213402,"reputation":29,"user_id":11706745,"display_name":"Keerthana Hemachandran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76952046,"answer_count":1,"score":0,"last_activity_date":1692697578,"creation_date":1692696131,"question_id":76951877,"body_markdown":"My current application fetches data for 3 journeys. The application will be updated with multiple journeys going forward which might extend upto 16 journeys in a course of time. \r\nWe make use of a SQL query to fetch data for the 3 journeys. Retrieve values for each journey based on calculations, map it to a model and then return the list of objects as API response. \r\nWe also have constant values for each journeys declared in the application.properties files.\r\n\r\n```\r\nArrayList&lt;Journey&gt; journeyList = new ArrayList&lt;&gt;();\r\nJourney journey1 = getJourney1(); // method to retrieve and map journey1 values to Journey model\r\nJourney journey2 = getJourney2(); // method to retrieve and map journey2 values to Journey model\r\nJourney journey3 = getJourney3();\r\nreturn journeyList;\r\n\r\n```\r\nCurrently if a new journey is to be added, code changes are required in the following,\r\n1. Sql query\r\n2. Object creation for each new journey \r\n3. New constants to be updated for the additional journeys in the application.properties files.\r\n\r\nKindly help to advise on how the application can be refracted in such a way that any new journey to be added does not require any additional code changes. This will help us to avoid multiple deployments and repetitive work.\r\n\r\nThanks!\r\n\r\n","title":"Refactoring the Spring Boot application such that code changes not required for repetitive future enhancements","body":"<p>My current application fetches data for 3 journeys. The application will be updated with multiple journeys going forward which might extend upto 16 journeys in a course of time.\nWe make use of a SQL query to fetch data for the 3 journeys. Retrieve values for each journey based on calculations, map it to a model and then return the list of objects as API response.\nWe also have constant values for each journeys declared in the application.properties files.</p>\n<pre><code>ArrayList&lt;Journey&gt; journeyList = new ArrayList&lt;&gt;();\nJourney journey1 = getJourney1(); // method to retrieve and map journey1 values to Journey model\nJourney journey2 = getJourney2(); // method to retrieve and map journey2 values to Journey model\nJourney journey3 = getJourney3();\nreturn journeyList;\n\n</code></pre>\n<p>Currently if a new journey is to be added, code changes are required in the following,</p>\n<ol>\n<li>Sql query</li>\n<li>Object creation for each new journey</li>\n<li>New constants to be updated for the additional journeys in the application.properties files.</li>\n</ol>\n<p>Kindly help to advise on how the application can be refracted in such a way that any new journey to be added does not require any additional code changes. This will help us to avoid multiple deployments and repetitive work.</p>\n<p>Thanks!</p>\n"},{"tags":["java","accessibility"],"answers":[{"comments":[{"owner":{"account_id":26887737,"reputation":1,"user_id":20467024,"display_name":"Sabena yasmin P"},"score":0,"creation_date":1692682791,"post_id":76950333,"comment_id":135653346,"body_markdown":"Thank you so much for your response, can you explain how to implement this?","body":"Thank you so much for your response, can you explain how to implement this?"},{"owner":{"account_id":29272286,"reputation":1,"user_id":22426783,"display_name":"Pooja Choudhary"},"score":0,"creation_date":1692697411,"post_id":76950333,"comment_id":135656117,"body_markdown":"Edited the above answer.","body":"Edited the above answer."},{"owner":{"account_id":26887737,"reputation":1,"user_id":20467024,"display_name":"Sabena yasmin P"},"score":0,"creation_date":1692711004,"post_id":76950333,"comment_id":135659248,"body_markdown":"Thanks! I tried this but the button can be clicked only when it is visible on the screen(active), Is there possible to click button even that button screen is not visible(Background)?","body":"Thanks! I tried this but the button can be clicked only when it is visible on the screen(active), Is there possible to click button even that button screen is not visible(Background)?"}],"tags":[],"owner":{"account_id":29272286,"reputation":1,"user_id":22426783,"display_name":"Pooja Choudhary"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692697363,"creation_date":1692682376,"answer_id":76950333,"question_id":76950320,"body_markdown":"It is possible for an AccessibilityService to perform a click event on a button without opening the app.\r\n\r\nAn AccessibilityService can perform a click event on a button without opening the app by finding a clickable element on the screen and using the AccessibilityService API. The AccessibilityService can handle the &quot;android.accessibilityservice.AccessibilityService&quot; Intent and request the Manifest.permission.BIND_ACCESSIBILITY_SERVICE permission to ensure that only the system can bind to it.\r\n\r\nHere&#39;s how to implement it:\r\n\r\n1. Identify the button you want to click and the app it belongs to.\r\n2. Create an AccessibilityService that extends AccessibilityService.\r\n3. In the AccessibilityService, override the onServiceConnected() method to set the service&#39;s configuration and register callbacks using registerAccessibilityButtonCallback().\r\n4. In the onAccessibilityButtonClicked() method, find the button you want to click using the AccessibilityNodeInfo class and perform a click event on it.\r\n5. Use the AccessibilityService to perform the click event on the button without opening the app.\r\n\r\n**Here&#39;s an example code snippet:**\r\n\r\npublic class MyAccessibilityService extends AccessibilityService {\r\n\r\n    @Override\r\n    protected void onServiceConnected() {\r\n        super.onServiceConnected();\r\n\r\n        AccessibilityServiceInfo info = new AccessibilityServiceInfo();\r\n        info.flags = AccessibilityServiceInfo.FLAG_REQUEST_ACCESSIBILITY_BUTTON;\r\n        setServiceInfo(info);\r\n\r\n        AccessibilityButtonController accessibilityButtonController = getAccessibilityButtonController();\r\n        accessibilityButtonController.registerAccessibilityButtonCallback(new AccessibilityButtonController.AccessibilityButtonCallback() {\r\n            @Override\r\n            public void onClicked(AccessibilityButtonController controller) {\r\n                AccessibilityNodeInfo nodeInfo = findButton(&quot;Button Name&quot;, &quot;com.example.app&quot;);\r\n                if (nodeInfo != null) {\r\n                    nodeInfo.performAction(AccessibilityNodeInfo.ACTION_CLICK);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private AccessibilityNodeInfo findButton(String buttonName, String packageName) {\r\n        AccessibilityNodeInfo nodeInfo = getRootInActiveWindow();\r\n        if (nodeInfo == null) {\r\n            return null;\r\n        }\r\n\r\n        List&lt;AccessibilityNodeInfo&gt; nodes = nodeInfo.findAccessibilityNodeInfosByText(buttonName);\r\n        for (AccessibilityNodeInfo node : nodes) {\r\n            if (node.getPackageName().equals(packageName)) {\r\n                return node;\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n\r\nBy following these steps, you can implement an AccessibilityService to perform a click event on a button without opening the app.","title":"Can AccessibilityService click button without opening the app","body":"<p>It is possible for an AccessibilityService to perform a click event on a button without opening the app.</p>\n<p>An AccessibilityService can perform a click event on a button without opening the app by finding a clickable element on the screen and using the AccessibilityService API. The AccessibilityService can handle the &quot;android.accessibilityservice.AccessibilityService&quot; Intent and request the Manifest.permission.BIND_ACCESSIBILITY_SERVICE permission to ensure that only the system can bind to it.</p>\n<p>Here's how to implement it:</p>\n<ol>\n<li>Identify the button you want to click and the app it belongs to.</li>\n<li>Create an AccessibilityService that extends AccessibilityService.</li>\n<li>In the AccessibilityService, override the onServiceConnected() method to set the service's configuration and register callbacks using registerAccessibilityButtonCallback().</li>\n<li>In the onAccessibilityButtonClicked() method, find the button you want to click using the AccessibilityNodeInfo class and perform a click event on it.</li>\n<li>Use the AccessibilityService to perform the click event on the button without opening the app.</li>\n</ol>\n<p><strong>Here's an example code snippet:</strong></p>\n<p>public class MyAccessibilityService extends AccessibilityService {</p>\n<pre><code>@Override\nprotected void onServiceConnected() {\n    super.onServiceConnected();\n\n    AccessibilityServiceInfo info = new AccessibilityServiceInfo();\n    info.flags = AccessibilityServiceInfo.FLAG_REQUEST_ACCESSIBILITY_BUTTON;\n    setServiceInfo(info);\n\n    AccessibilityButtonController accessibilityButtonController = getAccessibilityButtonController();\n    accessibilityButtonController.registerAccessibilityButtonCallback(new AccessibilityButtonController.AccessibilityButtonCallback() {\n        @Override\n        public void onClicked(AccessibilityButtonController controller) {\n            AccessibilityNodeInfo nodeInfo = findButton(&quot;Button Name&quot;, &quot;com.example.app&quot;);\n            if (nodeInfo != null) {\n                nodeInfo.performAction(AccessibilityNodeInfo.ACTION_CLICK);\n            }\n        }\n    });\n}\n\nprivate AccessibilityNodeInfo findButton(String buttonName, String packageName) {\n    AccessibilityNodeInfo nodeInfo = getRootInActiveWindow();\n    if (nodeInfo == null) {\n        return null;\n    }\n\n    List&lt;AccessibilityNodeInfo&gt; nodes = nodeInfo.findAccessibilityNodeInfosByText(buttonName);\n    for (AccessibilityNodeInfo node : nodes) {\n        if (node.getPackageName().equals(packageName)) {\n            return node;\n        }\n    }\n\n    return null;\n}\n</code></pre>\n<p>}</p>\n<p>By following these steps, you can implement an AccessibilityService to perform a click event on a button without opening the app.</p>\n"}],"owner":{"account_id":26887737,"reputation":1,"user_id":20467024,"display_name":"Sabena yasmin P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692697363,"creation_date":1692682192,"question_id":76950320,"body_markdown":"Perform click event on background without opening app using accessibility service, I can perform click event while app screen in foreground but for background the resource id for button on that screen is not found\r\n\r\nKindly provide the solution or give anyother way to achieve this\r\n\r\nThanks in Advance!!","title":"Can AccessibilityService click button without opening the app","body":"<p>Perform click event on background without opening app using accessibility service, I can perform click event while app screen in foreground but for background the resource id for button on that screen is not found</p>\n<p>Kindly provide the solution or give anyother way to achieve this</p>\n<p>Thanks in Advance!!</p>\n"},{"tags":["java","gradle","intellij-idea","protocol-buffers","grpc"],"answers":[{"comments":[{"owner":{"account_id":125029,"reputation":330,"user_id":682256,"display_name":"Simon Logic"},"score":0,"creation_date":1700641790,"post_id":62839364,"comment_id":136678369,"body_markdown":"there is no such plugin like intellij-protobuf-editor","body":"there is no such plugin like intellij-protobuf-editor"}],"tags":[],"owner":{"account_id":1617696,"reputation":2210,"user_id":1673861,"accept_rate":65,"display_name":"L. Blanc"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1594401741,"creation_date":1594401741,"answer_id":62839364,"question_id":62837953,"body_markdown":"There was an answer to this question in the comments for another question: https://stackoverflow.com/questions/21134066/error-using-import-in-proto-file\r\n\r\n&gt;If you&#39;re using IntelliJ IDEA, go to Preferences -&gt; Protobuf Support and add the path to your .proto file. This would resolve the error.\r\n\r\nIn a more modern version of Intellij, this is done in the plugin intellij-protobuf-editor. I added the path to the root of my proto source folder and all was well","title":"Protocol Buffer imports not recognized in Intellij","body":"<p>There was an answer to this question in the comments for another question: <a href=\"https://stackoverflow.com/questions/21134066/error-using-import-in-proto-file\">Error using import in .proto file</a></p>\n<blockquote>\n<p>If you're using IntelliJ IDEA, go to Preferences -&gt; Protobuf Support and add the path to your .proto file. This would resolve the error.</p>\n</blockquote>\n<p>In a more modern version of Intellij, this is done in the plugin intellij-protobuf-editor. I added the path to the root of my proto source folder and all was well</p>\n"},{"comments":[{"owner":{"account_id":412334,"reputation":33756,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"score":0,"creation_date":1609973928,"post_id":62843504,"comment_id":115991134,"body_markdown":"When plugin is built, it does not work with IntelliJ 2019.2, is there a way to make it work with older version of IntelliJ?","body":"When plugin is built, it does not work with IntelliJ 2019.2, is there a way to make it work with older version of IntelliJ?"},{"owner":{"account_id":1065188,"reputation":680,"user_id":1065953,"display_name":"Martin P."},"score":0,"creation_date":1626101421,"post_id":62843504,"comment_id":120796652,"body_markdown":"For Intellij 2021, I installed Protocol Buffers plugin.","body":"For Intellij 2021, I installed Protocol Buffers plugin."},{"owner":{"account_id":3002881,"reputation":9309,"user_id":2548010,"accept_rate":53,"display_name":"Big Money"},"score":1,"creation_date":1637013591,"post_id":62843504,"comment_id":123707089,"body_markdown":"In my case, I had to uncheck this, apply, ok -&gt; reopen this window, check it again, and it populated all my paths automatically","body":"In my case, I had to uncheck this, apply, ok -&gt; reopen this window, check it again, and it populated all my paths automatically"},{"owner":{"account_id":394384,"reputation":636,"user_id":756790,"accept_rate":82,"display_name":"bahti"},"score":0,"creation_date":1668603465,"post_id":62843504,"comment_id":131444824,"body_markdown":"What about protobufs bundled in dependencies, e.g declared through maven ?","body":"What about protobufs bundled in dependencies, e.g declared through maven ?"}],"tags":[],"owner":{"account_id":7084285,"reputation":758,"user_id":5421540,"display_name":"jvolkman"},"comment_count":4,"down_vote_count":0,"up_vote_count":62,"is_accepted":true,"score":62,"last_activity_date":1594422808,"creation_date":1594422808,"answer_id":62843504,"question_id":62837953,"body_markdown":"Take a look at the [readme][1] which describes how to add additional paths.\r\n\r\nBy default, `intellij-protobuf-editor` uses the project&#39;s configured source roots as protobuf import paths. If this isn&#39;t correct, you can override these paths in `Settings &gt; Languages &amp; Frameworks &gt; Protocol Buffers`. Uncheck &quot;Configure automatically&quot; and add whichever paths you need. In your case, you&#39;d add `.../src/main/java/proto` (where `...` means whatever your project&#39;s base path is). \r\n\r\n\r\n  [1]: https://github.com/jvolkman/intellij-protobuf-editor#path-settings","title":"Protocol Buffer imports not recognized in Intellij","body":"<p>Take a look at the <a href=\"https://github.com/jvolkman/intellij-protobuf-editor#path-settings\" rel=\"noreferrer\">readme</a> which describes how to add additional paths.</p>\n<p>By default, <code>intellij-protobuf-editor</code> uses the project's configured source roots as protobuf import paths. If this isn't correct, you can override these paths in <code>Settings &gt; Languages &amp; Frameworks &gt; Protocol Buffers</code>. Uncheck &quot;Configure automatically&quot; and add whichever paths you need. In your case, you'd add <code>.../src/main/java/proto</code> (where <code>...</code> means whatever your project's base path is).</p>\n"},{"tags":[],"owner":{"account_id":12590926,"reputation":444,"user_id":9157665,"display_name":"LexSav"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635507031,"creation_date":1624534909,"answer_id":68115074,"question_id":62837953,"body_markdown":"Want to describe what helped me, since I did not find an answer here.\r\nMy steps are for Maven, but I think it will be pretty much the same for Gradle.\r\n\r\n 1. Check that you have this plugin\r\n\r\n```\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;0.6.1&lt;/version&gt;\r\n\r\n        &lt;configuration&gt;\r\n          &lt;protocArtifact&gt;com.google.protobuf:protoc:3.12.2:exe:${os.detected.classifier}&lt;/protocArtifact&gt;\r\n        &lt;/configuration&gt;\r\n\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;compile&lt;/goal&gt;\r\n              &lt;goal&gt;test-compile&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n```\r\n2. Check that you have this extension in your `build` section\r\n\r\n```\r\n  &lt;build&gt;\r\n    &lt;extensions&gt;\r\n      &lt;extension&gt;\r\n        &lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;\r\n        &lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6.1&lt;/version&gt;\r\n      &lt;/extension&gt;\r\n    &lt;/extensions&gt;\r\n    ....\r\n```\r\n3. Run this maven goal\r\n```\r\nmvn protobuf:compile\r\n```","title":"Protocol Buffer imports not recognized in Intellij","body":"<p>Want to describe what helped me, since I did not find an answer here.\nMy steps are for Maven, but I think it will be pretty much the same for Gradle.</p>\n<ol>\n<li>Check that you have this plugin</li>\n</ol>\n<pre><code>      &lt;plugin&gt;\n        &lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.6.1&lt;/version&gt;\n\n        &lt;configuration&gt;\n          &lt;protocArtifact&gt;com.google.protobuf:protoc:3.12.2:exe:${os.detected.classifier}&lt;/protocArtifact&gt;\n        &lt;/configuration&gt;\n\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;compile&lt;/goal&gt;\n              &lt;goal&gt;test-compile&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Check that you have this extension in your <code>build</code> section</li>\n</ol>\n<pre><code>  &lt;build&gt;\n    &lt;extensions&gt;\n      &lt;extension&gt;\n        &lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;\n        &lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.6.1&lt;/version&gt;\n      &lt;/extension&gt;\n    &lt;/extensions&gt;\n    ....\n</code></pre>\n<ol start=\"3\">\n<li>Run this maven goal</li>\n</ol>\n<pre><code>mvn protobuf:compile\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1806748,"reputation":3695,"user_id":1643711,"accept_rate":67,"display_name":"Mircea Stanciu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657499182,"creation_date":1657499182,"answer_id":72932738,"question_id":62837953,"body_markdown":"I am using GoLand but the settings should be the same for IntelliJ:\r\n\r\nDisable the `configure automatically`\r\n\r\nAdd all the paths that your projects is using.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6Bhwl.png","title":"Protocol Buffer imports not recognized in Intellij","body":"<p>I am using GoLand but the settings should be the same for IntelliJ:</p>\n<p>Disable the <code>configure automatically</code></p>\n<p>Add all the paths that your projects is using.</p>\n<p><a href=\"https://i.stack.imgur.com/6Bhwl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6Bhwl.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":2542797,"reputation":829,"user_id":2208247,"display_name":"Rin malavi"},"score":0,"creation_date":1664885600,"post_id":73425269,"comment_id":130568102,"body_markdown":"Worked for me, unlike other solutions. But now I have build code dirty with editor related stuff, which is suboptimal.","body":"Worked for me, unlike other solutions. But now I have build code dirty with editor related stuff, which is suboptimal."},{"owner":{"account_id":2542797,"reputation":829,"user_id":2208247,"display_name":"Rin malavi"},"score":0,"creation_date":1664886458,"post_id":73425269,"comment_id":130568396,"body_markdown":"Didn&#39;t need `clean` and `idea` blocks thou..","body":"Didn&#39;t need <code>clean</code> and <code>idea</code> blocks thou.."}],"tags":[],"owner":{"account_id":76269,"reputation":38001,"user_id":218473,"accept_rate":84,"display_name":"Maragues"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660984982,"creation_date":1660984982,"answer_id":73425269,"question_id":62837953,"body_markdown":"If you are using [protobuf-gradle-plugin][1], you need to apply the `idea` plugin. After applying it, everything works like a charm. From their readme\r\n\r\n```groovy\r\napply plugin: &#39;idea&#39;\r\n\r\nclean {\r\n    delete protobuf.generatedFilesBaseDir\r\n}\r\n\r\nidea {\r\n    module {\r\n        // proto files and generated Java files are automatically added as\r\n        // source dirs.\r\n        // If you have additional sources, add them here:\r\n        sourceDirs += file(&quot;/path/to/other/sources&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/google/protobuf-gradle-plugin","title":"Protocol Buffer imports not recognized in Intellij","body":"<p>If you are using <a href=\"https://github.com/google/protobuf-gradle-plugin\" rel=\"nofollow noreferrer\">protobuf-gradle-plugin</a>, you need to apply the <code>idea</code> plugin. After applying it, everything works like a charm. From their readme</p>\n<pre><code>apply plugin: 'idea'\n\nclean {\n    delete protobuf.generatedFilesBaseDir\n}\n\nidea {\n    module {\n        // proto files and generated Java files are automatically added as\n        // source dirs.\n        // If you have additional sources, add them here:\n        sourceDirs += file(&quot;/path/to/other/sources&quot;);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1532272,"reputation":847,"user_id":1429198,"display_name":"George Herolyants"},"score":0,"creation_date":1681212854,"post_id":75606964,"comment_id":134016763,"body_markdown":"Thanks for this answer! &#128079; In my case I had to configure the plugin like\n`&lt;outputDirectory&gt;${project.build.directory}/generated-sources/&lt;/outputDirectory&gt;` to have the directory structure like `generated-sources/google/type/`. This way imports like `import &quot;google/type/money.proto&quot;;` are picked up by IDEA automatically.","body":"Thanks for this answer!  In my case I had to configure the plugin like <code>&lt;outputDirectory&gt;${project.build.directory}&#47;generated-source&zwnj;&#8203;s&#47;&lt;&#47;outputDirectory&gt;</code> to have the directory structure like <code>generated-sources&#47;google&#47;type&#47;</code>. This way imports like <code>import &quot;google&#47;type&#47;money.proto&quot;;</code> are picked up by IDEA automatically."}],"tags":[],"owner":{"account_id":6502278,"reputation":1449,"user_id":5032575,"display_name":"Ahmed Sayed"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692697272,"creation_date":1677691046,"answer_id":75606964,"question_id":62837953,"body_markdown":"This is sometimes caused by using imports in your proto files that are added to the project as a maven dependency.\r\n\r\nTo work around this, you can include a step in your maven build to unpack the proto files from the library (I&#39;m using `proto-google-common-protos` as an example here) and add them to a location that is &#39;auto-detected&#39; by IntelliJ.\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n  &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n  &lt;executions&gt;\r\n    &lt;execution&gt;\r\n      &lt;!-- This is a workaround for https://youtrack.jetbrains.com/issue/IDEA-285012/Protobuff-In-case-path-to-.proto-files-not-specified-in-Protocol-Buffers-settings-on-run-grpc-request-I-get --&gt;\r\n      &lt;id&gt;unpack-google-common-protos&lt;/id&gt;\r\n      &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n      &lt;goals&gt;\r\n        &lt;goal&gt;unpack&lt;/goal&gt;\r\n      &lt;/goals&gt;\r\n      &lt;configuration&gt;\r\n        &lt;artifactItems&gt;\r\n          &lt;artifactItem&gt;\r\n            &lt;groupId&gt;com.google.api.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;proto-google-common-protos&lt;/artifactId&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n            &lt;overWrite&gt;true&lt;/overWrite&gt;\r\n            &lt;outputDirectory&gt;${project.build.directory}/generated-sources/protobuf/grpc-java&lt;/outputDirectory&gt;\r\n            &lt;includes&gt;**/*.proto&lt;/includes&gt;\r\n          &lt;/artifactItem&gt;\r\n          &lt;artifactItem&gt;\r\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n            &lt;overWrite&gt;true&lt;/overWrite&gt;\r\n            &lt;outputDirectory&gt;${project.build.directory}/generated-sources&lt;/outputDirectory&gt;\r\n            &lt;includes&gt;**/*.proto&lt;/includes&gt;\r\n          &lt;/artifactItem&gt;\r\n        &lt;/artifactItems&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/execution&gt;\r\n  &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Protocol Buffer imports not recognized in Intellij","body":"<p>This is sometimes caused by using imports in your proto files that are added to the project as a maven dependency.</p>\n<p>To work around this, you can include a step in your maven build to unpack the proto files from the library (I'm using <code>proto-google-common-protos</code> as an example here) and add them to a location that is 'auto-detected' by IntelliJ.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;!-- This is a workaround for https://youtrack.jetbrains.com/issue/IDEA-285012/Protobuff-In-case-path-to-.proto-files-not-specified-in-Protocol-Buffers-settings-on-run-grpc-request-I-get --&gt;\n      &lt;id&gt;unpack-google-common-protos&lt;/id&gt;\n      &lt;phase&gt;generate-sources&lt;/phase&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;unpack&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;artifactItems&gt;\n          &lt;artifactItem&gt;\n            &lt;groupId&gt;com.google.api.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;proto-google-common-protos&lt;/artifactId&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;overWrite&gt;true&lt;/overWrite&gt;\n            &lt;outputDirectory&gt;${project.build.directory}/generated-sources/protobuf/grpc-java&lt;/outputDirectory&gt;\n            &lt;includes&gt;**/*.proto&lt;/includes&gt;\n          &lt;/artifactItem&gt;\n          &lt;artifactItem&gt;\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n            &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;overWrite&gt;true&lt;/overWrite&gt;\n            &lt;outputDirectory&gt;${project.build.directory}/generated-sources&lt;/outputDirectory&gt;\n            &lt;includes&gt;**/*.proto&lt;/includes&gt;\n          &lt;/artifactItem&gt;\n        &lt;/artifactItems&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":1617696,"reputation":2210,"user_id":1673861,"accept_rate":65,"display_name":"L. Blanc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39114,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":62843504,"answer_count":6,"score":39,"last_activity_date":1692697272,"creation_date":1594396296,"question_id":62837953,"body_markdown":"I am attempting to import one protocol buffer message into another, but the imports are not recognized. As long as I don&#39;t try to import one protobuf into another, the protobuf code is generated (in java), the code compiles and runs as expected.\r\n\r\nI&#39;m using:\r\n\r\n - Intellij Idea 2020 v1.3 Unlimited Edition\r\n - Protobuf Editor plugin: jvolkman/intellij-protobuf-editor (April 2020)\r\n - Gradle\r\n\r\nMy gradle build file looks like this:\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;com.google.protobuf&#39; version &quot;0.8.8&quot;\r\n    }\r\n    \r\n    group &#39;tech.tablesaw&#39;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    sourceCompatibility = 9.0\r\n    \r\n    def grpcVersion = &#39;1.30.1&#39; // CURRENT_GRPC_VERSION\r\n    def protobufVersion = &#39;3.12.0&#39;\r\n    def protocVersion = protobufVersion\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &quot;io.grpc:grpc-protobuf:${grpcVersion}&quot;\r\n        implementation &quot;io.grpc:grpc-stub:${grpcVersion}&quot;\r\n        compileOnly &quot;org.apache.tomcat:annotations-api:6.0.53&quot;\r\n    \r\n        // advanced - need this for JsonFormat\r\n        implementation &quot;com.google.protobuf:protobuf-java-util:${protobufVersion}&quot;\r\n    \r\n        runtimeOnly &quot;io.grpc:grpc-netty-shaded:${grpcVersion}&quot;\r\n        testImplementation &quot;io.grpc:grpc-testing:${grpcVersion}&quot;\r\n    \r\n        compile group: &#39;tech.tablesaw&#39;, name: &#39;tablesaw-core&#39;, version: &#39;0.38.1&#39;\r\n        testCompile group: &#39;org.junit.jupiter&#39;, name: &#39;junit-jupiter-engine&#39;, version: &#39;5.6.2&#39;\r\n        testImplementation &quot;org.mockito:mockito-core:2.28.2&quot;\r\n    }\r\n    \r\n    protobuf {\r\n        protoc { artifact = &quot;com.google.protobuf:protoc:${protocVersion}&quot; }\r\n        plugins {\r\n            grpc { artifact = &quot;io.grpc:protoc-gen-grpc-java:${grpcVersion}&quot; }\r\n        }\r\n        generateProtoTasks {\r\n            all()*.plugins { grpc {} }\r\n        }\r\n    }\r\n    \r\n    // Inform IDEs like IntelliJ IDEA, Eclipse or NetBeans about the generated code.\r\n    sourceSets {\r\n        main {\r\n            java {\r\n                srcDirs &#39;build/generated/source/proto/main/grpc&#39;\r\n                srcDirs &#39;build/generated/source/proto/main/java&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    task TablesawServer(type: CreateStartScripts) {\r\n        mainClassName = &#39;tech.tablesaw.service.TableServiceServer&#39;\r\n        applicationName = &#39;tablesaw-table-server&#39;\r\n        outputDir = new File(project.buildDir, &#39;tmp&#39;)\r\n    }\r\n    \r\n    task TablesawClient(type: CreateStartScripts) {\r\n        mainClassName = &#39;tech.tablesaw.service.TableServiceClient&#39;\r\n        applicationName = &#39;tablesaw-table-client&#39;\r\n        outputDir = new File(project.buildDir, &#39;tmp&#39;)\r\n    }\r\n\r\nand my gradle info looks like this:\r\n\r\n    ------------------------------------------------------------\r\n    Gradle 5.1.1\r\n    ------------------------------------------------------------\r\n    \r\n    Build time:   2019-01-10 23:05:02 UTC\r\n    Revision:     3c9abb645fb83932c44e8610642393ad62116807\r\n    \r\n    Kotlin DSL:   1.1.1\r\n    Kotlin:       1.3.11\r\n    Groovy:       2.5.4\r\n    Ant:          Apache Ant(TM) version 1.9.13 compiled on July 10 2018\r\n    JVM:          9.0.4 (Oracle Corporation 9.0.4+11)\r\n    OS:           Mac OS X 10.13.5 x86_64\r\n\r\n\r\nHere is an example protobuf. the import of the column_type.proto fails.\r\n\r\n```\r\nsyntax = &quot;proto3&quot;;\r\n\r\npackage tech.tablesaw.service.common;\r\n\r\nimport &quot;tech/tablesaw/service/common/column_type.proto&quot;;\r\n\r\noption java_multiple_files = true;\r\noption java_package = &quot;tech.tablesaw.service.common&quot;;\r\noption java_outer_classname = &quot;ColumnMetaProto&quot;;\r\noption objc_class_prefix = &quot;TSW&quot;;\r\n\r\n// Proto file describing column metadata message.\r\n\r\n// A column metadata object\r\nmessage ColumnMetadata {\r\n\r\n  string name = 1;\r\n  int32 size = 2;\r\n  ColumnTypeEnum.ColumnType column_type = 3;\r\n}\r\n\r\n```\r\n\r\nAnd here is the file i&#39;m trying to import:\r\n\r\n```\r\nsyntax = &quot;proto3&quot;;\r\n\r\npackage tech.tablesaw.service.common;\r\n\r\noption java_multiple_files = true;\r\noption java_package = &quot;tech.tablesaw.service.common&quot;;\r\noption java_outer_classname = &quot;ColumnTypeEnum&quot;;\r\noption objc_class_prefix = &quot;TSW&quot;;\r\n\r\nenum ColumnType {\r\n  SHORT = 0;\r\n  INTEGER = 1;\r\n  LONG = 2;\r\n  FLOAT = 3;\r\n  BOOLEAN = 4;\r\n  STRING = 5;\r\n  DOUBLE = 6;\r\n  LOCAL_DATE = 7;\r\n  LOCAL_TIME = 8;\r\n  LOCAL_DATE_TIME = 9;\r\n  INSTANT = 10;\r\n  TEXT = 11;\r\n  SKIP = 12;\r\n}\r\n\r\n```\r\nFinally, here&#39;s where the protobufs sit in the file system.\r\n\r\n```\r\nsrc &gt; main &gt; java\r\n           &gt; proto &gt; tech &gt; tablesaw &gt; service &gt; common &gt; column_metadata.proto\r\n                                                        &gt; column_type.proto\r\n```\r\n\r\n\r\n","title":"Protocol Buffer imports not recognized in Intellij","body":"<p>I am attempting to import one protocol buffer message into another, but the imports are not recognized. As long as I don't try to import one protobuf into another, the protobuf code is generated (in java), the code compiles and runs as expected.</p>\n<p>I'm using:</p>\n<ul>\n<li>Intellij Idea 2020 v1.3 Unlimited Edition</li>\n<li>Protobuf Editor plugin: jvolkman/intellij-protobuf-editor (April 2020)</li>\n<li>Gradle</li>\n</ul>\n<p>My gradle build file looks like this:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'com.google.protobuf' version &quot;0.8.8&quot;\n}\n\ngroup 'tech.tablesaw'\nversion '1.0-SNAPSHOT'\n\nsourceCompatibility = 9.0\n\ndef grpcVersion = '1.30.1' // CURRENT_GRPC_VERSION\ndef protobufVersion = '3.12.0'\ndef protocVersion = protobufVersion\n\nrepositories {\n    mavenCentral()\n}\n\ntest {\n    useJUnitPlatform()\n}\n\ndependencies {\n    implementation &quot;io.grpc:grpc-protobuf:${grpcVersion}&quot;\n    implementation &quot;io.grpc:grpc-stub:${grpcVersion}&quot;\n    compileOnly &quot;org.apache.tomcat:annotations-api:6.0.53&quot;\n\n    // advanced - need this for JsonFormat\n    implementation &quot;com.google.protobuf:protobuf-java-util:${protobufVersion}&quot;\n\n    runtimeOnly &quot;io.grpc:grpc-netty-shaded:${grpcVersion}&quot;\n    testImplementation &quot;io.grpc:grpc-testing:${grpcVersion}&quot;\n\n    compile group: 'tech.tablesaw', name: 'tablesaw-core', version: '0.38.1'\n    testCompile group: 'org.junit.jupiter', name: 'junit-jupiter-engine', version: '5.6.2'\n    testImplementation &quot;org.mockito:mockito-core:2.28.2&quot;\n}\n\nprotobuf {\n    protoc { artifact = &quot;com.google.protobuf:protoc:${protocVersion}&quot; }\n    plugins {\n        grpc { artifact = &quot;io.grpc:protoc-gen-grpc-java:${grpcVersion}&quot; }\n    }\n    generateProtoTasks {\n        all()*.plugins { grpc {} }\n    }\n}\n\n// Inform IDEs like IntelliJ IDEA, Eclipse or NetBeans about the generated code.\nsourceSets {\n    main {\n        java {\n            srcDirs 'build/generated/source/proto/main/grpc'\n            srcDirs 'build/generated/source/proto/main/java'\n        }\n    }\n}\n\ntask TablesawServer(type: CreateStartScripts) {\n    mainClassName = 'tech.tablesaw.service.TableServiceServer'\n    applicationName = 'tablesaw-table-server'\n    outputDir = new File(project.buildDir, 'tmp')\n}\n\ntask TablesawClient(type: CreateStartScripts) {\n    mainClassName = 'tech.tablesaw.service.TableServiceClient'\n    applicationName = 'tablesaw-table-client'\n    outputDir = new File(project.buildDir, 'tmp')\n}\n</code></pre>\n<p>and my gradle info looks like this:</p>\n<pre><code>------------------------------------------------------------\nGradle 5.1.1\n------------------------------------------------------------\n\nBuild time:   2019-01-10 23:05:02 UTC\nRevision:     3c9abb645fb83932c44e8610642393ad62116807\n\nKotlin DSL:   1.1.1\nKotlin:       1.3.11\nGroovy:       2.5.4\nAnt:          Apache Ant(TM) version 1.9.13 compiled on July 10 2018\nJVM:          9.0.4 (Oracle Corporation 9.0.4+11)\nOS:           Mac OS X 10.13.5 x86_64\n</code></pre>\n<p>Here is an example protobuf. the import of the column_type.proto fails.</p>\n<pre><code>syntax = &quot;proto3&quot;;\n\npackage tech.tablesaw.service.common;\n\nimport &quot;tech/tablesaw/service/common/column_type.proto&quot;;\n\noption java_multiple_files = true;\noption java_package = &quot;tech.tablesaw.service.common&quot;;\noption java_outer_classname = &quot;ColumnMetaProto&quot;;\noption objc_class_prefix = &quot;TSW&quot;;\n\n// Proto file describing column metadata message.\n\n// A column metadata object\nmessage ColumnMetadata {\n\n  string name = 1;\n  int32 size = 2;\n  ColumnTypeEnum.ColumnType column_type = 3;\n}\n\n</code></pre>\n<p>And here is the file i'm trying to import:</p>\n<pre><code>syntax = &quot;proto3&quot;;\n\npackage tech.tablesaw.service.common;\n\noption java_multiple_files = true;\noption java_package = &quot;tech.tablesaw.service.common&quot;;\noption java_outer_classname = &quot;ColumnTypeEnum&quot;;\noption objc_class_prefix = &quot;TSW&quot;;\n\nenum ColumnType {\n  SHORT = 0;\n  INTEGER = 1;\n  LONG = 2;\n  FLOAT = 3;\n  BOOLEAN = 4;\n  STRING = 5;\n  DOUBLE = 6;\n  LOCAL_DATE = 7;\n  LOCAL_TIME = 8;\n  LOCAL_DATE_TIME = 9;\n  INSTANT = 10;\n  TEXT = 11;\n  SKIP = 12;\n}\n\n</code></pre>\n<p>Finally, here's where the protobufs sit in the file system.</p>\n<pre><code>src &gt; main &gt; java\n           &gt; proto &gt; tech &gt; tablesaw &gt; service &gt; common &gt; column_metadata.proto\n                                                        &gt; column_type.proto\n</code></pre>\n"},{"tags":["java","selenium-webdriver","intellij-idea","cucumber","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692697144,"creation_date":1692697144,"answer_id":76951998,"question_id":76921858,"body_markdown":"I can&#39;t say if you are making your executable jar correctly. I&#39;m not familiar with Gradle.\r\n\r\nBut I can see that what you execute is not correct.\r\n\r\nSpecifically:\r\n\r\n```\r\n &quot;-t&quot;, &quot;@rediff_Tc111&quot;,&quot;@729452&quot;,\r\n```\r\n\r\nShould probably be \r\n\r\n```\r\n &quot;-t&quot;, &quot;@rediff_Tc111 or @729452&quot;,\r\n```\r\n\r\nOr maybe \r\n\r\n```\r\n &quot;-t&quot;, &quot;@rediff_Tc111 and @729452&quot;,\r\n```\r\n\r\nDepending if you want to include all scenarios with either one of the tags, or only scenarios that have both tags.\r\n\r\nAlso this looks like a mistake:\r\n\r\n```\r\n&quot;-p&quot; , &quot;true&quot;\r\n```","title":"Unable to execute tests through Runnable jar using CLI Commands","body":"<p>I can't say if you are making your executable jar correctly. I'm not familiar with Gradle.</p>\n<p>But I can see that what you execute is not correct.</p>\n<p>Specifically:</p>\n<pre><code> &quot;-t&quot;, &quot;@rediff_Tc111&quot;,&quot;@729452&quot;,\n</code></pre>\n<p>Should probably be</p>\n<pre><code> &quot;-t&quot;, &quot;@rediff_Tc111 or @729452&quot;,\n</code></pre>\n<p>Or maybe</p>\n<pre><code> &quot;-t&quot;, &quot;@rediff_Tc111 and @729452&quot;,\n</code></pre>\n<p>Depending if you want to include all scenarios with either one of the tags, or only scenarios that have both tags.</p>\n<p>Also this looks like a mistake:</p>\n<pre><code>&quot;-p&quot; , &quot;true&quot;\n</code></pre>\n"}],"owner":{"account_id":5787262,"reputation":687,"user_id":4566024,"accept_rate":0,"display_name":"Balaji Singh .Y"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692697144,"creation_date":1692277875,"question_id":76921858,"body_markdown":"I am working on test automation using the below technologies like java,selenium,cucumber &amp; Gradle.\r\n\r\nThough Iam able to create a jar successfully but still while executing with Cli Commands it throws an exception saying, &quot;**Failed to parse &#39;729452**&#39;&quot;.\r\n\r\nI am not sure what is the issue for which it is not working.\r\n\r\nPlease find my build.gradle file\r\n\r\n    enter code here\r\n\t/*\r\n\t * This file was generated by the Gradle &#39;init&#39; task.\r\n\t *\r\n\t * This generated file contains a sample Java Library project to get you started.\r\n\t * For more details take a look at the Java Libraries chapter in the Gradle\r\n\t * User Manual available at https://docs.gradle.org/6.3/userguide/java_library_plugin.html\r\n\t\r\n   \r\n\t\r\n\tplugins {\r\n\t    // Apply the java-library plugin to add support for Java Library\r\n\t    id &#39;java&#39;\t\t\r\n\t\tid &#39;java-library&#39;\r\n\t\tid &quot;ua.eshepelyuk.ManifestClasspath&quot; version &quot;1.0.0&quot;\r\n\t\t\r\n\t}\r\n\t\r\n\tapply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse&#39;\r\n    apply plugin: &#39;java-library-distribution&#39;\r\n\t\r\n\tcompileJava {\r\n\t\tsourceCompatibility = 1.8\r\n\t\ttargetCompatibility = 1.8\r\n\t}\r\n\t\r\n\t\t\t\r\n\trepositories {\r\n\t    // Use jcenter for resolving dependencies.\r\n\t    // You can declare any Maven/Ivy/file repository here.\r\n\t    jcenter()\r\n\t\tmavenCentral()\r\n\t\t//maven { url &quot;https://jitpack.io&quot; }\r\n\t}\r\n\t\r\n\t\t\r\n\text {\r\n             \r\n             \r\n             //Selenium Api\r\n             seleniumServerversion = &#39;4.0.0-alpha-2&#39;\r\n\t\t     seleniumVersion = &#39;4.1.1&#39;\r\n\t\t     seleniumHtmlUnitDriverVersion = &#39;2.52.0&#39;\r\n\t\t     \r\n\t\t     //WebDriverManager\r\n\t\t     webdriverManagerVersion = &#39;5.2.0&#39;\r\n\t\t     \r\n            //Cucumber\r\n             cucumberVersion = &#39;7.2.3&#39;  \r\n\t\t      \r\n\t\t     //Log4j\r\n\t\t     Log4jVersion = &#39;1.2.17&#39;\r\n\t\t     \r\n\t\t     //slf4j-api\r\n\t\t     slf4jVersion = &#39;1.7.30&#39;\r\n\t\t     \t\t  \r\n\t\t     \r\n\t\t     //commons-configuration\r\n\t         commonsConfigurationVersion = &#39;1.10&#39;\r\n\t         \r\n\t      \r\n\t\t\t//Commons\r\n\t\t\t  commonsCodecVersion = &#39;1.6&#39;\r\n\t\t\t  commonsLoggingVersion = &#39;1.1.3&#39;\r\n\t\t\t\r\n\t\t\t//Dom4j\r\n\t\t\t  dom4jVersion = &#39;2.1.3&#39;\r\n\t\t\t\r\n\t\t\t  \r\n\t\t    //ExtentReport\t  \r\n   \t\t\t  extentreportVersion = &#39;5.0.3&#39;\r\n  \r\n        }\r\n\r\n\tdependencies {\r\n\t\r\n\t     \r\n\t\r\n\t    //--------------------------------------courgette Dependency ----------------------------------------------------\t\r\n\t\t\t//Courgette Plugin for parallel Testing\r\n\t\t\t//compile &#39;io.github.prashant-ramcharan:courgette-jvm:6.4.2&#39;\r\n\t\t\t\r\n\t\t\t// https://mvnrepository.com/artifact/io.github.prashant-ramcharan/courgette-jvm\r\n            implementation group: &#39;io.github.prashant-ramcharan&#39;, name: &#39;courgette-jvm&#39;, version: &#39;6.5.0&#39;\r\n\t\t\t//compile &#39;io.github.prashant-ramcharan:webdriver-binary-downloader:1.3.0&#39;\r\n\t\t\t\r\n\t\t\t// https://mvnrepository.com/artifact/io.github.prashant-ramcharan/webdriver-binary-downloader\r\n           // implementation group: &#39;io.github.prashant-ramcharan&#39;, name: &#39;webdriver-binary-downloader&#39;, version: &#39;1.3.0&#39;\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t//-----------------------------------Selenium Apis---------------------------------------------------------------\r\n\t\t\t// https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-server\r\n\t        implementation group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-server&#39;, version: seleniumServerversion\r\n\t        implementation group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-java&#39;, version: seleniumVersion\r\n\t\t\timplementation group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-htmlunit-driver&#39;, version: seleniumHtmlUnitDriverVersion\r\n\t\t\timplementation &#39;com.paulhammant:ngwebdriver:1.1.4&#39;\t\r\n\t\t\r\n\t\t//--------------------------------------Webdriver manager-------------------------------------------------------\r\n\t\t\t// https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager\r\n\t\t    implementation group: &#39;io.github.bonigarcia&#39;, name: &#39;webdrivermanager&#39;, version: webdriverManagerVersion\r\n\r\n\r\n       \t//-----------------------------------------Cucumber------------------------------------------------------------\t\r\n\t\t\r\n\t\t\t// https://mvnrepository.com/artifact/io.cucumber/cucumber-core\r\n\t        implementation group: &#39;io.cucumber&#39;, name: &#39;cucumber-core&#39;, version: cucumberVersion\r\n\t\t\t// https://mvnrepository.com/artifact/io.cucumber/cucumber-java\r\n\t\t\timplementation group: &#39;io.cucumber&#39;, name: &#39;cucumber-java&#39;, version: cucumberVersion\r\n\t\t\t// https://mvnrepository.com/artifact/io.cucumber/cucumber-java8\r\n\t        //implementation group: &#39;io.cucumber&#39;, name: &#39;cucumber-java8&#39;, version: cucumberVersion\r\n\t\t\t// https://mvnrepository.com/artifact/io.cucumber/cucumber-junit\r\n\t       // testImplementation group: &#39;io.cucumber&#39;, name: &#39;cucumber-junit&#39;, version: cucumberVersion\r\n\t\t\t// https://mvnrepository.com/artifact/io.cucumber/cucumber-testng\r\n\t        implementation group: &#39;io.cucumber&#39;, name: &#39;cucumber-testng&#39;, version: cucumberVersion\t   \t   \r\n\t        \r\n\t        // https://mvnrepository.com/artifact/io.cucumber/cucumber-jvm-deps\r\n\t        compileOnly group: &#39;io.cucumber&#39;, name: &#39;cucumber-jvm-deps&#39;, version: &#39;1.0.6&#39;\t        \r\n\t        \r\n\t        // https://mvnrepository.com/artifact/io.cucumber/gherkin\r\n\t        //implementation group: &#39;io.cucumber&#39;, name: &#39;gherkin&#39;, version: gherkinVersion\r\n\t              \r\n\t        \r\n\t    //---------------------------------------TestNg--------------------------------------------------------------------------\r\n\t\t\t//testImplementation &quot;org.testng:testng:${testngVersion}&quot;\r\n\t\t\t//testCompile group: &#39;org.testng&#39;, name: &#39;testng&#39;, version: &#39;6.13.1&#39;\r\n\t\t\timplementation group: &#39;org.testng&#39;, name: &#39;testng&#39;, version: testngVersion\r\n\t\t   \t\r\n\t   //-------------------------------------Log4j Logs------------------------------------------------------------------------------\r\n\t\t\timplementation &quot;log4j:log4j:${Log4jVersion}&quot;  //Do not change from implementation to testImplementation otherwise  PropertyConfigurator and Logger will throw errors\r\n\t\t\r\n\t\t\timplementation group: &#39;org.slf4j&#39;, name: &#39;slf4j-api&#39;, version: slf4jVersion\r\n\t\t\ttestImplementation group: &#39;org.slf4j&#39;, name: &#39;slf4j-simple&#39;, version: slf4jVersion   \r\n\t  \r\n\t   //-------------------------------------commons-configuration--------------------------------------------------------------------------------\t\r\n\t\t\timplementation group: &#39;commons-configuration&#39;, name: &#39;commons-configuration&#39;, version: commonsConfigurationVersion\r\n\t\t\r\n\t\t\r\n   \t   //-------------------------------------Json Schema validator--------------------------------------------------------------------------------\r\n\t\t   //Json Schema validator\t\r\n\t\t\t implementation group: &#39;io.rest-assured&#39;, name: &#39;json-schema-validator&#39;, version: jsonSchemaValidatorVersion\r\n\r\n        //-----------------------------------------Commons-------------------------------------------------------------------------\r\n\t\t\t//Commons Codec\r\n\t\t\t\timplementation group: &#39;commons-codec&#39;, name: &#39;commons-codec&#39;, version: commonsCodecVersion\r\n\t\t\t//Commons Logging\r\n\t\t\t\timplementation group: &#39;commons-logging&#39;, name: &#39;commons-logging&#39;, version: commonsLoggingVersion\r\n\r\n\r\n   \t\t//-----------------------------------------Dom4j-------------------------------------------------------------------------\r\n\t\t\timplementation group: &#39;org.dom4j&#39;, name: &#39;dom4j&#39;, version: dom4jVersion\t\t\t\r\n\t\t\r\n\r\n       //---------------------------------------AspectJweaver--------------------------------------------------------\r\n\t\t\timplementation group: &#39;org.aspectj&#39;, name: &#39;aspectjweaver&#39;, version: aspectJWeaverVersion\t\r\n\t\t\t\r\n\t\t\t\t\t\r\n\t\t//--------extentreports------------------------------------------------------------------------------------------------\r\n\t\t    implementation &quot;com.aventstack:extentreports:$extentreportVersion&quot;\r\n\t\t\r\n             \r\n\r\n\t}\r\n\t\r\n\t sourceSets {\r\n\t\t\t\t       main {\r\n\t\t\t\t                   java   {\r\n\t\t\t\t                            srcDirs = [&#39;src/main/java&#39;,&#39;src/test/java&#39;]\r\n\t\t\t\t                          }\r\n\t\t\t\t                     \r\n\t\t\t\t                resources {\r\n\t\t\t\t                            srcDirs = [&#39;src/main/resources&#39;,&#39;src/test/resources&#39;]\r\n\t\t\t\t                          }\r\n\t\t\t\t            \r\n\t\t\t\t            }\r\n                    }\r\n                    \r\n                    \r\n                    \r\n             distZip.shouldRunAfter(build)\r\n\r\n         jar {\r\n\t\t\t    // Keep jar clean:\r\n\t\t\t    exclude &#39;META-INF/*.SF&#39;, &#39;META-INF/*.DSA&#39;, &#39;META-INF/*.RSA&#39;, &#39;META-INF/*.MF&#39;\r\n\t\t\t   \r\n\t\t\t    from sourceSets.main.output   \r\n\t\t\t    manifest {\r\n\t\t\t                   attributes &#39;Main-Class&#39;: &#39;com.rediff.test.runners.RediffMain&#39;,\r\n\t\t\t                   &#39;Class-Path&#39;: configurations.runtimeClasspath.files.collect { &quot;lib/$it.name&quot; }.join(&#39; &#39;)\r\n\t\t\t    }\r\n\t\t\t    \r\n            }  \r\n                    \r\n                \t\r\n\t\t\r\n\ttasks.withType(Test) {\r\n\tsystemProperties = System.getProperties()\r\n\tsystemProperties.remove(&quot;java.endorsed.dirs&quot;)\r\n  }\r\n\t\r\n\t\t/* TestNG Specific Tasks\r\n\t----------------------------------------------------\r\n\t*/\r\n\ttask runTest(type: Test, dependsOn: compileTestJava) {\r\n\t\tuseTestNG()\r\n\t\r\n\t\t\r\n\t    systemProperty &quot;UserRole&quot;, project.findProperty(&quot;role&quot;) ?: &quot;&quot;\r\n\t\tsystemProperty &quot;environment&quot;, project.findProperty(&quot;env&quot;) ?: &quot;QA&quot;\r\n\t\tsystemProperty &quot;platform&quot;, project.findProperty(&quot;plt&quot;)  ?: &quot;UI&quot;\r\n\t\tsystemProperty &quot;browser&quot;, project.findProperty(&quot;browser&quot;)  ?: &quot;CHROME&quot;\r\n\t\tsystemProperty &quot;bsBrowser&quot;, project.findProperty(&quot;bsBrowser&quot;) ?: &quot;CHROME&quot;\r\n\t\tsystemProperty &quot;bsBrowserVersion&quot;, project.findProperty(&quot;bsBrowserVersion&quot;)\r\n\t\tsystemProperty &quot;bsDevice&quot;, project.findProperty(&quot;bsDevice&quot;)  ?: &quot;Desktop&quot;\r\n\t\tsystemProperty &quot;bsDesktopOS&quot;, project.findProperty(&quot;bsDesktopOS&quot;)  ?: &quot;Windows&quot;\r\n\t\tsystemProperty &quot;bsOSVersion&quot;, project.findProperty(&quot;bsOSVersion&quot;)  ?: &quot;10&quot;\r\n\t\tsystemProperty &quot;bsMobileOS&quot;, project.findProperty(&quot;bsMobileOS&quot;)  ?: &quot;Android&quot;\r\n\t\tsystemProperty &quot;cucumber.tags&quot;, project.findProperty(&quot;testTag&quot;)  ?: &quot;@sanity&quot;\r\n\t\tsystemProperty &quot;courgette.threads&quot;, project.findProperty(&quot;threads&quot;)  ?: &quot;1&quot;\r\n\t\tsystemProperty &quot;courgette.rerunFailedScenarios&quot;, project.findProperty(&quot;rerunfailed&quot;)  ?: &quot;false&quot;\r\n\t\r\n\t\tinclude &#39;src/main/java/*.class&#39;\r\n\t\tinclude &#39;src/test/java/*.class&#39;\r\n\t\tinclude &#39;src/main/resources/configfile/*.*&#39;\r\n\t\tinclude &#39;src/test/resources/*.*&#39;\r\n\t\r\n\t\tinclude &#39;**/rediff/test/runners/Rediff_Runner.class&#39; // pass the runner class path\r\n\t\t//include &#39;**/suites/testng/ChromeTestSuite.class&#39;\r\n\t\toutputs.upToDateWhen { false }\r\n\t}\r\n\t\r\n\t\r\n\t\t\r\n\tstatic def getDate() {\r\n\t\treturn new Date().format(&#39;ddMMMyyyy_HH_mm&#39;)\r\n\t}\r\n\r\n\r\n\tdef archiveFileName(){\r\n\t\r\n\t\tif (project.findProperty(&quot;plt&quot;).toString().equalsIgnoreCase(&quot;browserstack&quot;)){\r\n\t\t\treturn (project.findProperty(&quot;testTag&quot;).toString().replace(&quot; &quot;,&quot;&quot;).replace(&quot;or&quot;,&quot;_&quot;)+ &quot;_&quot;+\r\n\t\t\t\t\tproject.findProperty(&quot;env&quot;).toString().toUpperCase()+&quot;_&quot;+\r\n\t\t\t\t\tproject.findProperty(&quot;bsDevice&quot;).toString().toUpperCase()+&quot;_&quot;+\r\n\t\t\t\t\tgetDate()).replace(&quot;@&quot;,&quot;&quot;).toUpperCase()\r\n\t\t}else{\r\n\t\t\treturn (project.findProperty(&quot;testTag&quot;).toString().replace(&quot; &quot;,&quot;&quot;).replace(&quot;or&quot;,&quot;_&quot;)+ &quot;_&quot;+\r\n\t\t\t\t\tproject.findProperty(&quot;env&quot;).toString()+&quot;_&quot;+\r\n\t\t\t\t\tgetDate()).replace(&quot;@&quot;,&quot;&quot;).toUpperCase()\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n\ttask archiveReports(type: Zip) {\r\n\t\tarchiveFileName = archiveFileName()+&quot;.zip&quot;\r\n\t\tdestinationDirectory = file(&quot;Archive&quot;)\r\n\t\tfrom &quot;./Automation_Report&quot;\r\n\t\r\n\t}\r\n\t\t\r\n\trunTest.finalizedBy &#39;archiveReports&#39;\r\n\t\t\r\n\r\n   My Main class details\r\n==========================\r\n\r\n    enter code here\r\npublic class RediffMain {\r\n\r\n\tpublic static void main( String args[])throws Throwable\r\n\t{\r\n\t\tSystem.out.println(&quot; Inside Main class Method &quot;);\r\n\t\tSystem.out.println(&quot; ========================= &quot;);\r\n\t\t\r\n\t\r\n\t\ttry {\r\n\t\t\r\n\t\t\tString [] argv = new String[]{\r\n\t\t              &quot;-g&quot; ,  &quot;com.rediff.test.stepdefs&quot;,\r\n\t\t              &quot;-g&quot; ,  &quot;com.initDriver&quot;,\r\n\t\t              &quot;classpath:features&quot;,\r\n\t\t             \r\n\t\t              &quot;-g&quot; ,   &quot;ConfigFile&quot;,\r\n                   \r\n              \t\t&quot;-t&quot;, &quot;@rediff_Tc111&quot;,&quot;@729452&quot;,\r\n              \t\t\r\n              \t\t&quot;-p&quot; , &quot;true&quot;,\r\n              \t\t&quot;-p&quot; , &quot;pretty&quot;,\r\n              \t\t&quot;-p&quot;,  &quot;json:target/Rediff.json&quot;,\r\n              \t\t\r\n              \t\t      };\r\n\t\t\t\r\n\t\t\t\r\n\t\tio.cucumber.core.cli.Main.main(argv);\r\n\t\t//cucumber.api.cli.Main(arguments);\r\n\t\t\r\n\t\t \r\n\t\t}catch(Exception e) {\r\n\t\t\t\tSystem.out.println(&quot;Main method exception&quot;);\r\n\t\t\t\tSystem.out.println(&quot; Exception : &quot;+e.getMessage());\r\n\t\t}\t\t\r\n\t}\r\n}\r\n\r\n\r\nPlease find the snapshot of Jar \r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\n\r\nBelow is the issue while executing jar with CLI command\r\n\r\njava -jar SampleMavenProj_2023.jar gradle runTest  -PtestTag=&quot;@UHC_TC210&quot; -Penv=QA -Pbrowser=CHROMIUM -Pplt=UI -Pthreads=1\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lXs1y.png\r\n  [2]: https://i.stack.imgur.com/HWevi.png\r\n  [3]: https://i.stack.imgur.com/FEY1q.png\r\n\r\n\r\nI see that main method is getting executed but not sure at what statement this exception is thrown.\r\n\r\nJust for your information I am using **Java 8 , Cucumber 7.2.3 , Gradle 7.1**.\r\n\r\nI sincerely request everyone to please look into this issue and provide your advice here. \r\n\r\nI am really fed-up with all the trails, but nothing worked..","title":"Unable to execute tests through Runnable jar using CLI Commands","body":"<p>I am working on test automation using the below technologies like java,selenium,cucumber &amp; Gradle.</p>\n<p>Though Iam able to create a jar successfully but still while executing with Cli Commands it throws an exception saying, &quot;<strong>Failed to parse '729452</strong>'&quot;.</p>\n<p>I am not sure what is the issue for which it is not working.</p>\n<p>Please find my build.gradle file</p>\n<pre><code>enter code here\n/*\n * This file was generated by the Gradle 'init' task.\n *\n * This generated file contains a sample Java Library project to get you started.\n * For more details take a look at the Java Libraries chapter in the Gradle\n * User Manual available at https://docs.gradle.org/6.3/userguide/java_library_plugin.html\n\n\n\nplugins {\n    // Apply the java-library plugin to add support for Java Library\n    id 'java'       \n    id 'java-library'\n    id &quot;ua.eshepelyuk.ManifestClasspath&quot; version &quot;1.0.0&quot;\n    \n}\n\napply plugin: 'java'\napply plugin: 'eclipse'\napply plugin: 'java-library-distribution'\n\ncompileJava {\n    sourceCompatibility = 1.8\n    targetCompatibility = 1.8\n}\n\n        \nrepositories {\n    // Use jcenter for resolving dependencies.\n    // You can declare any Maven/Ivy/file repository here.\n    jcenter()\n    mavenCentral()\n    //maven { url &quot;https://jitpack.io&quot; }\n}\n\n    \next {\n         \n         \n         //Selenium Api\n         seleniumServerversion = '4.0.0-alpha-2'\n         seleniumVersion = '4.1.1'\n         seleniumHtmlUnitDriverVersion = '2.52.0'\n         \n         //WebDriverManager\n         webdriverManagerVersion = '5.2.0'\n         \n        //Cucumber\n         cucumberVersion = '7.2.3'  \n          \n         //Log4j\n         Log4jVersion = '1.2.17'\n         \n         //slf4j-api\n         slf4jVersion = '1.7.30'\n                  \n         \n         //commons-configuration\n         commonsConfigurationVersion = '1.10'\n         \n      \n        //Commons\n          commonsCodecVersion = '1.6'\n          commonsLoggingVersion = '1.1.3'\n        \n        //Dom4j\n          dom4jVersion = '2.1.3'\n        \n          \n        //ExtentReport    \n          extentreportVersion = '5.0.3'\n\n    }\n\ndependencies {\n\n     \n\n    //--------------------------------------courgette Dependency ----------------------------------------------------   \n        //Courgette Plugin for parallel Testing\n        //compile 'io.github.prashant-ramcharan:courgette-jvm:6.4.2'\n        \n        // https://mvnrepository.com/artifact/io.github.prashant-ramcharan/courgette-jvm\n        implementation group: 'io.github.prashant-ramcharan', name: 'courgette-jvm', version: '6.5.0'\n        //compile 'io.github.prashant-ramcharan:webdriver-binary-downloader:1.3.0'\n        \n        // https://mvnrepository.com/artifact/io.github.prashant-ramcharan/webdriver-binary-downloader\n       // implementation group: 'io.github.prashant-ramcharan', name: 'webdriver-binary-downloader', version: '1.3.0'           \n        \n        \n    //-----------------------------------Selenium Apis---------------------------------------------------------------\n        // https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-server\n        implementation group: 'org.seleniumhq.selenium', name: 'selenium-server', version: seleniumServerversion\n        implementation group: 'org.seleniumhq.selenium', name: 'selenium-java', version: seleniumVersion\n        implementation group: 'org.seleniumhq.selenium', name: 'selenium-htmlunit-driver', version: seleniumHtmlUnitDriverVersion\n        implementation 'com.paulhammant:ngwebdriver:1.1.4'  \n    \n    //--------------------------------------Webdriver manager-------------------------------------------------------\n        // https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager\n        implementation group: 'io.github.bonigarcia', name: 'webdrivermanager', version: webdriverManagerVersion\n\n\n    //-----------------------------------------Cucumber------------------------------------------------------------ \n    \n        // https://mvnrepository.com/artifact/io.cucumber/cucumber-core\n        implementation group: 'io.cucumber', name: 'cucumber-core', version: cucumberVersion\n        // https://mvnrepository.com/artifact/io.cucumber/cucumber-java\n        implementation group: 'io.cucumber', name: 'cucumber-java', version: cucumberVersion\n        // https://mvnrepository.com/artifact/io.cucumber/cucumber-java8\n        //implementation group: 'io.cucumber', name: 'cucumber-java8', version: cucumberVersion\n        // https://mvnrepository.com/artifact/io.cucumber/cucumber-junit\n       // testImplementation group: 'io.cucumber', name: 'cucumber-junit', version: cucumberVersion\n        // https://mvnrepository.com/artifact/io.cucumber/cucumber-testng\n        implementation group: 'io.cucumber', name: 'cucumber-testng', version: cucumberVersion         \n        \n        // https://mvnrepository.com/artifact/io.cucumber/cucumber-jvm-deps\n        compileOnly group: 'io.cucumber', name: 'cucumber-jvm-deps', version: '1.0.6'           \n        \n        // https://mvnrepository.com/artifact/io.cucumber/gherkin\n        //implementation group: 'io.cucumber', name: 'gherkin', version: gherkinVersion\n              \n        \n    //---------------------------------------TestNg--------------------------------------------------------------------------\n        //testImplementation &quot;org.testng:testng:${testngVersion}&quot;\n        //testCompile group: 'org.testng', name: 'testng', version: '6.13.1'\n        implementation group: 'org.testng', name: 'testng', version: testngVersion\n        \n   //-------------------------------------Log4j Logs------------------------------------------------------------------------------\n        implementation &quot;log4j:log4j:${Log4jVersion}&quot;  //Do not change from implementation to testImplementation otherwise  PropertyConfigurator and Logger will throw errors\n    \n        implementation group: 'org.slf4j', name: 'slf4j-api', version: slf4jVersion\n        testImplementation group: 'org.slf4j', name: 'slf4j-simple', version: slf4jVersion   \n  \n   //-------------------------------------commons-configuration-------------------------------------------------------------------------------- \n        implementation group: 'commons-configuration', name: 'commons-configuration', version: commonsConfigurationVersion\n    \n    \n   //-------------------------------------Json Schema validator--------------------------------------------------------------------------------\n       //Json Schema validator  \n         implementation group: 'io.rest-assured', name: 'json-schema-validator', version: jsonSchemaValidatorVersion\n\n    //-----------------------------------------Commons-------------------------------------------------------------------------\n        //Commons Codec\n            implementation group: 'commons-codec', name: 'commons-codec', version: commonsCodecVersion\n        //Commons Logging\n            implementation group: 'commons-logging', name: 'commons-logging', version: commonsLoggingVersion\n\n\n    //-----------------------------------------Dom4j-------------------------------------------------------------------------\n        implementation group: 'org.dom4j', name: 'dom4j', version: dom4jVersion         \n    \n\n   //---------------------------------------AspectJweaver--------------------------------------------------------\n        implementation group: 'org.aspectj', name: 'aspectjweaver', version: aspectJWeaverVersion   \n        \n                \n    //--------extentreports------------------------------------------------------------------------------------------------\n        implementation &quot;com.aventstack:extentreports:$extentreportVersion&quot;\n    \n         \n\n}\n\n sourceSets {\n                   main {\n                               java   {\n                                        srcDirs = ['src/main/java','src/test/java']\n                                      }\n                                 \n                            resources {\n                                        srcDirs = ['src/main/resources','src/test/resources']\n                                      }\n                        \n                        }\n                }\n                \n                \n                \n         distZip.shouldRunAfter(build)\n\n     jar {\n            // Keep jar clean:\n            exclude 'META-INF/*.SF', 'META-INF/*.DSA', 'META-INF/*.RSA', 'META-INF/*.MF'\n           \n            from sourceSets.main.output   \n            manifest {\n                           attributes 'Main-Class': 'com.rediff.test.runners.RediffMain',\n                           'Class-Path': configurations.runtimeClasspath.files.collect { &quot;lib/$it.name&quot; }.join(' ')\n            }\n            \n        }  \n                \n                \n    \ntasks.withType(Test) {\nsystemProperties = System.getProperties()\nsystemProperties.remove(&quot;java.endorsed.dirs&quot;)\n</code></pre>\n<p>}</p>\n<pre><code>    /* TestNG Specific Tasks\n----------------------------------------------------\n*/\ntask runTest(type: Test, dependsOn: compileTestJava) {\n    useTestNG()\n\n    \n    systemProperty &quot;UserRole&quot;, project.findProperty(&quot;role&quot;) ?: &quot;&quot;\n    systemProperty &quot;environment&quot;, project.findProperty(&quot;env&quot;) ?: &quot;QA&quot;\n    systemProperty &quot;platform&quot;, project.findProperty(&quot;plt&quot;)  ?: &quot;UI&quot;\n    systemProperty &quot;browser&quot;, project.findProperty(&quot;browser&quot;)  ?: &quot;CHROME&quot;\n    systemProperty &quot;bsBrowser&quot;, project.findProperty(&quot;bsBrowser&quot;) ?: &quot;CHROME&quot;\n    systemProperty &quot;bsBrowserVersion&quot;, project.findProperty(&quot;bsBrowserVersion&quot;)\n    systemProperty &quot;bsDevice&quot;, project.findProperty(&quot;bsDevice&quot;)  ?: &quot;Desktop&quot;\n    systemProperty &quot;bsDesktopOS&quot;, project.findProperty(&quot;bsDesktopOS&quot;)  ?: &quot;Windows&quot;\n    systemProperty &quot;bsOSVersion&quot;, project.findProperty(&quot;bsOSVersion&quot;)  ?: &quot;10&quot;\n    systemProperty &quot;bsMobileOS&quot;, project.findProperty(&quot;bsMobileOS&quot;)  ?: &quot;Android&quot;\n    systemProperty &quot;cucumber.tags&quot;, project.findProperty(&quot;testTag&quot;)  ?: &quot;@sanity&quot;\n    systemProperty &quot;courgette.threads&quot;, project.findProperty(&quot;threads&quot;)  ?: &quot;1&quot;\n    systemProperty &quot;courgette.rerunFailedScenarios&quot;, project.findProperty(&quot;rerunfailed&quot;)  ?: &quot;false&quot;\n\n    include 'src/main/java/*.class'\n    include 'src/test/java/*.class'\n    include 'src/main/resources/configfile/*.*'\n    include 'src/test/resources/*.*'\n\n    include '**/rediff/test/runners/Rediff_Runner.class' // pass the runner class path\n    //include '**/suites/testng/ChromeTestSuite.class'\n    outputs.upToDateWhen { false }\n}\n\n\n    \nstatic def getDate() {\n    return new Date().format('ddMMMyyyy_HH_mm')\n}\n\n\ndef archiveFileName(){\n\n    if (project.findProperty(&quot;plt&quot;).toString().equalsIgnoreCase(&quot;browserstack&quot;)){\n        return (project.findProperty(&quot;testTag&quot;).toString().replace(&quot; &quot;,&quot;&quot;).replace(&quot;or&quot;,&quot;_&quot;)+ &quot;_&quot;+\n                project.findProperty(&quot;env&quot;).toString().toUpperCase()+&quot;_&quot;+\n                project.findProperty(&quot;bsDevice&quot;).toString().toUpperCase()+&quot;_&quot;+\n                getDate()).replace(&quot;@&quot;,&quot;&quot;).toUpperCase()\n    }else{\n        return (project.findProperty(&quot;testTag&quot;).toString().replace(&quot; &quot;,&quot;&quot;).replace(&quot;or&quot;,&quot;_&quot;)+ &quot;_&quot;+\n                project.findProperty(&quot;env&quot;).toString()+&quot;_&quot;+\n                getDate()).replace(&quot;@&quot;,&quot;&quot;).toUpperCase()\n    }\n\n}\n\ntask archiveReports(type: Zip) {\n    archiveFileName = archiveFileName()+&quot;.zip&quot;\n    destinationDirectory = file(&quot;Archive&quot;)\n    from &quot;./Automation_Report&quot;\n\n}\n    \nrunTest.finalizedBy 'archiveReports'\n    \n</code></pre>\n<h1>My Main class details</h1>\n<pre><code>enter code here\n</code></pre>\n<p>public class RediffMain {</p>\n<pre><code>public static void main( String args[])throws Throwable\n{\n    System.out.println(&quot; Inside Main class Method &quot;);\n    System.out.println(&quot; ========================= &quot;);\n    \n\n    try {\n    \n        String [] argv = new String[]{\n                  &quot;-g&quot; ,  &quot;com.rediff.test.stepdefs&quot;,\n                  &quot;-g&quot; ,  &quot;com.initDriver&quot;,\n                  &quot;classpath:features&quot;,\n                 \n                  &quot;-g&quot; ,   &quot;ConfigFile&quot;,\n               \n                &quot;-t&quot;, &quot;@rediff_Tc111&quot;,&quot;@729452&quot;,\n                \n                &quot;-p&quot; , &quot;true&quot;,\n                &quot;-p&quot; , &quot;pretty&quot;,\n                &quot;-p&quot;,  &quot;json:target/Rediff.json&quot;,\n                \n                      };\n        \n        \n    io.cucumber.core.cli.Main.main(argv);\n    //cucumber.api.cli.Main(arguments);\n    \n     \n    }catch(Exception e) {\n            System.out.println(&quot;Main method exception&quot;);\n            System.out.println(&quot; Exception : &quot;+e.getMessage());\n    }       \n}\n</code></pre>\n<p>}</p>\n<p>Please find the snapshot of Jar\n<a href=\"https://i.stack.imgur.com/lXs1y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lXs1y.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/HWevi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HWevi.png\" alt=\"enter image description here\" /></a></p>\n<p>Below is the issue while executing jar with CLI command</p>\n<p>java -jar SampleMavenProj_2023.jar gradle runTest  -PtestTag=&quot;@UHC_TC210&quot; -Penv=QA -Pbrowser=CHROMIUM -Pplt=UI -Pthreads=1</p>\n<p><a href=\"https://i.stack.imgur.com/FEY1q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FEY1q.png\" alt=\"enter image description here\" /></a></p>\n<p>I see that main method is getting executed but not sure at what statement this exception is thrown.</p>\n<p>Just for your information I am using <strong>Java 8 , Cucumber 7.2.3 , Gradle 7.1</strong>.</p>\n<p>I sincerely request everyone to please look into this issue and provide your advice here.</p>\n<p>I am really fed-up with all the trails, but nothing worked..</p>\n"},{"tags":["java","java-8","hashmap"],"comments":[{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":1,"creation_date":1692696562,"post_id":76951758,"comment_id":135655930,"body_markdown":"I think this question was answered here: https://stackoverflow.com/questions/35534906/java-hashmap-getobject-infinite-loop","body":"I think this question was answered here: <a href=\"https://stackoverflow.com/questions/35534906/java-hashmap-getobject-infinite-loop\" title=\"java hashmap getobject infinite loop\">stackoverflow.com/questions/35534906/&hellip;</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1692696779,"post_id":76951758,"comment_id":135655994,"body_markdown":"Technically it is not really a bug. A `HashMap` is not threadsafe, so trying to use it concurrently without proper external synchronization can exhibit any number of incorrect behaviours. The bug is attempting to use a `HashMap` in that way.","body":"Technically it is not really a bug. A <code>HashMap</code> is not threadsafe, so trying to use it concurrently without proper external synchronization can exhibit any number of incorrect behaviours. The bug is attempting to use a <code>HashMap</code> in that way."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1692697136,"post_id":76951758,"comment_id":135656066,"body_markdown":"@MarkRotteveel What&#39;s impressive is that they managed to tackle somewhat of it using the lo high bits.","body":"@MarkRotteveel What&#39;s impressive is that they managed to tackle somewhat of it using the lo high bits."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1692789584,"post_id":76951758,"comment_id":135671374,"body_markdown":"@MarkRotteveel not only technically. There is no bug in `HashMap` and never was (in this context). And the articles conclusion that HashMap is not suitable for high concurrency scenarios is totally wrong. As you already said, `HashMap ` is not suitable for concurrency scenarios at all when not using correct external synchronization. Theres also no evidence that the changes made to `HashMap` were to fix the bug. All I can see, are performance optimizations.","body":"@MarkRotteveel not only technically. There is no bug in <code>HashMap</code> and never was (in this context). And the articles conclusion that HashMap is not suitable for high concurrency scenarios is totally wrong. As you already said, <code>HashMap </code> is not suitable for concurrency scenarios at all when not using correct external synchronization. Theres also no evidence that the changes made to <code>HashMap</code> were to fix the bug. All I can see, are performance optimizations."}],"answers":[{"comments":[{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1692697171,"post_id":76951943,"comment_id":135656077,"body_markdown":"Thanks so much, I am still learning how to navigate the JDK bug tracker","body":"Thanks so much, I am still learning how to navigate the JDK bug tracker"},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":2,"creation_date":1692697232,"post_id":76951943,"comment_id":135656086,"body_markdown":"You are welcome. I&#39;ve found the issue with the following Yandex/Google query: `site:bugs.openjdk.org dead loop HashMap.get`. The very first link brought me there","body":"You are welcome. I&#39;ve found the issue with the following Yandex/Google query: <code>site:bugs.openjdk.org dead loop HashMap.get</code>. The very first link brought me there"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1692789882,"post_id":76951943,"comment_id":135671451,"body_markdown":"To be clear: the first linked bug is about a bug in `SunLayoutEngine` (to use `HashMap` without synchronization, which has been fixed by not using `HashMap` anymore), not a bug in `HashMap`. Whereas the last linked bug is totally unrelated to the topic, it just happens to be about an infinite loop. Its about a different class, a different operation, and a different kind of wrong usage. In fact, its not even about multi-threading.","body":"To be clear: the first linked bug is about a bug in <code>SunLayoutEngine</code> (to use <code>HashMap</code> without synchronization, which has been fixed by not using <code>HashMap</code> anymore), not a bug in <code>HashMap</code>. Whereas the last linked bug is totally unrelated to the topic, it just happens to be about an infinite loop. Its about a different class, a different operation, and a different kind of wrong usage. In fact, its not even about multi-threading."}],"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692697048,"creation_date":1692696666,"answer_id":76951943,"question_id":76951758,"body_markdown":"Here is the bug in JDK tracker: https://bugs.openjdk.org/browse/JDK-7027300\r\n\r\nAnd the similar question was answered in https://stackoverflow.com/questions/35534906/java-hashmap-getobject-infinite-loop. Here is the link to exact place in the code causing the issue: https://stackoverflow.com/a/44180452/12473843\r\n\r\nP.S. This one is for CHM: https://bugs.openjdk.org/browse/JDK-8142175","title":"What is the dead loop bug in HashMap in earlier versions?","body":"<p>Here is the bug in JDK tracker: <a href=\"https://bugs.openjdk.org/browse/JDK-7027300\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-7027300</a></p>\n<p>And the similar question was answered in <a href=\"https://stackoverflow.com/questions/35534906/java-hashmap-getobject-infinite-loop\">Java HashMap.get(Object) infinite loop</a>. Here is the link to exact place in the code causing the issue: <a href=\"https://stackoverflow.com/a/44180452/12473843\">https://stackoverflow.com/a/44180452/12473843</a></p>\n<p>P.S. This one is for CHM: <a href=\"https://bugs.openjdk.org/browse/JDK-8142175\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8142175</a></p>\n"}],"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1692697610,"accepted_answer_id":76951943,"answer_count":1,"score":2,"last_activity_date":1692697048,"creation_date":1692695326,"question_id":76951758,"body_markdown":"I have been reading https://www.alibabacloud.com/blog/the-clever-design-of-java-map_597979 for the internal implementation of the `HashMap` and `CHM`.\r\n\r\nThere is an interesting line for which I could not find more explanation for :\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCan someone point me to the bug this refers to?\r\n\r\nI could only find the bug related to `HashMap` improvement with RB-Trees, but nothing about the dead loop.\r\n\r\nhttps://github.com/openjdk/jdk/commit/0fb014c2b3cff00c15e9e7cb6653818d061216e9\r\n\r\nhttps://bugs.openjdk.org/browse/JDK-8023463\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mo968.png","title":"What is the dead loop bug in HashMap in earlier versions?","body":"<p>I have been reading <a href=\"https://www.alibabacloud.com/blog/the-clever-design-of-java-map_597979\" rel=\"nofollow noreferrer\">https://www.alibabacloud.com/blog/the-clever-design-of-java-map_597979</a> for the internal implementation of the <code>HashMap</code> and <code>CHM</code>.</p>\n<p>There is an interesting line for which I could not find more explanation for :</p>\n<p><a href=\"https://i.stack.imgur.com/mo968.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mo968.png\" alt=\"enter image description here\" /></a></p>\n<p>Can someone point me to the bug this refers to?</p>\n<p>I could only find the bug related to <code>HashMap</code> improvement with RB-Trees, but nothing about the dead loop.</p>\n<p><a href=\"https://github.com/openjdk/jdk/commit/0fb014c2b3cff00c15e9e7cb6653818d061216e9\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/commit/0fb014c2b3cff00c15e9e7cb6653818d061216e9</a></p>\n<p><a href=\"https://bugs.openjdk.org/browse/JDK-8023463\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8023463</a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9900,"page":234,"page_size":100}
