{"items":[{"tags":["java","date","datetime","timestamp","epoch"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1500466577,"post_id":45189859,"comment_id":77347591,"body_markdown":"It’s not 100 % clear to me. Are you saying that you are receiving `2017.07.19 11:42:30:423` as a string and you want to convert it to number of milliseconds since the epoch?","body":"It’s not 100 % clear to me. Are you saying that you are receiving <code>2017.07.19 11:42:30:423</code> as a string and you want to convert it to number of milliseconds since the epoch?"},{"owner":{"account_id":6000506,"reputation":757,"user_id":4713933,"accept_rate":81,"display_name":"Mark Smith"},"score":1,"creation_date":1500466887,"post_id":45189859,"comment_id":77347857,"body_markdown":"Thats right - the timestamp value is being used later in the code and is used to make a string of variables - the part that returns the timestamp is &quot;+formatter.format(time)&quot; without the quotes - this is why I was hoping that I could amend the (&quot;yyyy.MM.dd HH:mm:ss:sss&quot;)  part of the code to return the epoc in milliseconds as I am not sure how to amend the code to use the other methods people have suggested here...","body":"Thats right - the timestamp value is being used later in the code and is used to make a string of variables - the part that returns the timestamp is &quot;+formatter.format(time)&quot; without the quotes - this is why I was hoping that I could amend the (&quot;yyyy.MM.dd HH:mm:ss:sss&quot;)  part of the code to return the epoc in milliseconds as I am not sure how to amend the code to use the other methods people have suggested here..."}],"answers":[{"comments":[{"owner":{"account_id":6000506,"reputation":757,"user_id":4713933,"accept_rate":81,"display_name":"Mark Smith"},"score":0,"creation_date":1500465946,"post_id":45189939,"comment_id":77347091,"body_markdown":"Thanks for your comment - the code I reference above is part of a block of code and I am not sure how I can integrate what you have suggested - ideally I need to understand if/how I can use the &quot;SimpleDateFormat&quot; function to return an epoch timestamp as this would mean that I wont need to re-jig any of the other code as my understanding is limited","body":"Thanks for your comment - the code I reference above is part of a block of code and I am not sure how I can integrate what you have suggested - ideally I need to understand if/how I can use the &quot;SimpleDateFormat&quot; function to return an epoch timestamp as this would mean that I wont need to re-jig any of the other code as my understanding is limited"},{"owner":{"account_id":11175092,"reputation":45706,"user_id":8200937,"display_name":"glytching"},"score":0,"creation_date":1500466280,"post_id":45189939,"comment_id":77347353,"body_markdown":"I&#39;ve updated the answer to include an example, hope that helps.","body":"I&#39;ve updated the answer to include an example, hope that helps."},{"owner":{"account_id":6000506,"reputation":757,"user_id":4713933,"accept_rate":81,"display_name":"Mark Smith"},"score":0,"creation_date":1500466479,"post_id":45189939,"comment_id":77347515,"body_markdown":"Thank you glitch - this does help with my understanding!","body":"Thank you glitch - this does help with my understanding!"}],"tags":[],"owner":{"account_id":11175092,"reputation":45706,"user_id":8200937,"display_name":"glytching"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500466257,"creation_date":1500465701,"answer_id":45189939,"question_id":45189859,"body_markdown":"If you have a `java.util.Date` then invoking `getTime()` will return the number of millis since the epoch. For example:\r\n\r\n    SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy.MM.dd HH:mm:ss:sss&quot;);\r\n\r\n    Date dateToBeFormatted = new Date();\r\n\r\n    // this will print a datetime literal on the above format\r\n    System.out.println(formatter.format(dateToBeFormatted));\r\n\r\n    // this will print the number of millis since the Java epoch\r\n    System.out.println(dateToBeFormatted.getTime());\r\n\r\nThe key point here is that in order to get the number of millis since the epoch you do not need a `SimpleDateFormatter` because the number of millis since the epoch is a property of the `Date`.","title":"Java - SimpleDateFormat formatter to return epoch time with milliseconds","body":"<p>If you have a <code>java.util.Date</code> then invoking <code>getTime()</code> will return the number of millis since the epoch. For example:</p>\n\n<pre><code>SimpleDateFormat formatter = new SimpleDateFormat(\"yyyy.MM.dd HH:mm:ss:sss\");\n\nDate dateToBeFormatted = new Date();\n\n// this will print a datetime literal on the above format\nSystem.out.println(formatter.format(dateToBeFormatted));\n\n// this will print the number of millis since the Java epoch\nSystem.out.println(dateToBeFormatted.getTime());\n</code></pre>\n\n<p>The key point here is that in order to get the number of millis since the epoch you do not need a <code>SimpleDateFormatter</code> because the number of millis since the epoch is a property of the <code>Date</code>.</p>\n"},{"comments":[{"owner":{"account_id":6000506,"reputation":757,"user_id":4713933,"accept_rate":81,"display_name":"Mark Smith"},"score":0,"creation_date":1500465935,"post_id":45189945,"comment_id":77347083,"body_markdown":"Thanks for your comment - the code I reference above is part of a block of code and I am not sure how I can integrate what you have suggested - ideally I need to understand if/how I can use the &quot;SimpleDateFormat&quot; function to return an epoch timestamp as this would mean that I wont need to re-jig any of the other code as my understanding is limited","body":"Thanks for your comment - the code I reference above is part of a block of code and I am not sure how I can integrate what you have suggested - ideally I need to understand if/how I can use the &quot;SimpleDateFormat&quot; function to return an epoch timestamp as this would mean that I wont need to re-jig any of the other code as my understanding is limited"},{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"score":1,"creation_date":1500465988,"post_id":45189945,"comment_id":77347126,"body_markdown":"yes. instead of using ***SimpleDateFormat***  use the ***DateTimeFormatter***","body":"yes. instead of using <b><i>SimpleDateFormat</i></b>  use the <b><i>DateTimeFormatter</i></b>"},{"owner":{"account_id":6000506,"reputation":757,"user_id":4713933,"accept_rate":81,"display_name":"Mark Smith"},"score":0,"creation_date":1500466306,"post_id":45189945,"comment_id":77347370,"body_markdown":"Thank you, I will have a play and see if I can literally exchange &quot;SimpleDateFormat &quot; for &quot;DateTimeFormatter&quot; in the code and use &quot;SSS&quot; as a formatter (?) - I am very new to java so please forgive my ignorance!","body":"Thank you, I will have a play and see if I can literally exchange &quot;SimpleDateFormat &quot; for &quot;DateTimeFormatter&quot; in the code and use &quot;SSS&quot; as a formatter (?) - I am very new to java so please forgive my ignorance!"},{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"score":1,"creation_date":1500466437,"post_id":45189945,"comment_id":77347475,"body_markdown":"you will need java 8 to use that class","body":"you will need java 8 to use that class"}],"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500465714,"creation_date":1500465714,"answer_id":45189945,"question_id":45189859,"body_markdown":"First advice is to move to java8 java.time API instead of learning the broken java.date API\r\n\r\nthen do:\r\n\r\n    Instant i = Instant.now();\r\n    System.out.println(i.toEpochMilli());\r\n\r\nin your case you can do:\r\n\r\n\r\n    LocalDateTime myldt = LocalDateTime.parse(&quot;2017-06-14 14:29:04&quot;,\r\n            DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;));\r\n    System.out.println(myldt.toInstant(ZoneOffset.UTC).toEpochMilli());\r\n\r\n\r\nnote that as soon as you play more with the api you will find more ways to achieve the same thing, at  the end you will end invoking [toEpochMilli][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#toEpochMilli--","title":"Java - SimpleDateFormat formatter to return epoch time with milliseconds","body":"<p>First advice is to move to java8 java.time API instead of learning the broken java.date API</p>\n\n<p>then do:</p>\n\n<pre><code>Instant i = Instant.now();\nSystem.out.println(i.toEpochMilli());\n</code></pre>\n\n<p>in your case you can do:</p>\n\n<pre><code>LocalDateTime myldt = LocalDateTime.parse(\"2017-06-14 14:29:04\",\n        DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss\"));\nSystem.out.println(myldt.toInstant(ZoneOffset.UTC).toEpochMilli());\n</code></pre>\n\n<p>note that as soon as you play more with the api you will find more ways to achieve the same thing, at  the end you will end invoking <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#toEpochMilli--\" rel=\"nofollow noreferrer\">toEpochMilli</a></p>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1500466153,"post_id":45189982,"comment_id":77347256,"body_markdown":"Nice code, but lacking explanation. Code-only answers are seldom helpful, so please explain how you are solving the asker’s issue.","body":"Nice code, but lacking explanation. Code-only answers are seldom helpful, so please explain how you are solving the asker’s issue."},{"owner":{"account_id":9796248,"reputation":21,"user_id":7259191,"display_name":"Vilius"},"score":2,"creation_date":1500466373,"post_id":45189982,"comment_id":77347426,"body_markdown":"This thread could be helpful https://stackoverflow.com/questions/6687433/convert-a-date-format-in-epoch","body":"This thread could be helpful <a href=\"https://stackoverflow.com/questions/6687433/convert-a-date-format-in-epoch\" title=\"convert a date format in epoch\">stackoverflow.com/questions/6687433/&hellip;</a>"}],"tags":[],"owner":{"account_id":9796248,"reputation":21,"user_id":7259191,"display_name":"Vilius"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500465799,"creation_date":1500465799,"answer_id":45189982,"question_id":45189859,"body_markdown":"        String strDate = &quot;Jun 13 2003 23:11:52.454 UTC&quot;;\r\n        DateTimeFormatter dtf  = DateTimeFormatter.ofPattern(&quot;MMM dd yyyy HH:mm:ss.SSS zzz&quot;);\r\n        ZonedDateTime     zdt  = ZonedDateTime.parse(strDate,dtf);        \r\n        System.out.println(zdt.toInstant().toEpochMilli());  // 1055545912454  ","title":"Java - SimpleDateFormat formatter to return epoch time with milliseconds","body":"<pre><code>    String strDate = \"Jun 13 2003 23:11:52.454 UTC\";\n    DateTimeFormatter dtf  = DateTimeFormatter.ofPattern(\"MMM dd yyyy HH:mm:ss.SSS zzz\");\n    ZonedDateTime     zdt  = ZonedDateTime.parse(strDate,dtf);        \n    System.out.println(zdt.toInstant().toEpochMilli());  // 1055545912454  \n</code></pre>\n"},{"comments":[{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"score":0,"creation_date":1500466661,"post_id":45190148,"comment_id":77347664,"body_markdown":"I think op wants to get the millis from a string date","body":"I think op wants to get the millis from a string date"},{"owner":{"account_id":10934496,"reputation":3172,"user_id":8036670,"accept_rate":81,"display_name":"assembler"},"score":1,"creation_date":1500466796,"post_id":45190148,"comment_id":77347777,"body_markdown":"you are right... nevertheless that is not specified on the question","body":"you are right... nevertheless that is not specified on the question"},{"owner":{"account_id":10934496,"reputation":3172,"user_id":8036670,"accept_rate":81,"display_name":"assembler"},"score":0,"creation_date":1500474913,"post_id":45190148,"comment_id":77354752,"body_markdown":"this is only a response for a question... it was assumed the author was taking the date from the system","body":"this is only a response for a question... it was assumed the author was taking the date from the system"}],"tags":[],"owner":{"account_id":10934496,"reputation":3172,"user_id":8036670,"accept_rate":81,"display_name":"assembler"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500466220,"creation_date":1500466220,"answer_id":45190148,"question_id":45189859,"body_markdown":"You can try \r\n\r\n    long time = System.currentTimeMillis();\r\n\r\n","title":"Java - SimpleDateFormat formatter to return epoch time with milliseconds","body":"<p>You can try </p>\n\n<pre><code>long time = System.currentTimeMillis();\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user7605325"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500474353,"creation_date":1500466895,"answer_id":45190453,"question_id":45189859,"body_markdown":"First of all, check the [documentation of `SimpleDateFormat`][1]. The pattern that corresponds to **milliseconds** is an **uppercase** `S`, while the **lowercase** `s` corresponds to **seconds**. The problem is that `SimpleDateFormat` usually doesn&#39;t complain and try to parse `423` as seconds, adding this amount to your end date (giving an incorrect result).\n\nAnyway, `SimpleDateFormat` just parses a `String` to a `java.util.Date` or formats the `Date` to a `String`. If you want the epoch millis value, you must get it from the `Date` object:\n\n    // input string\n    String s = &quot;2017.07.19 11:42:30:423&quot;;\n    // use correct format (&#39;S&#39; for milliseconds)\n    SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy.MM.dd HH:mm:ss:SSS&quot;);\n    // parse to a date\n    Date date = formatter.parse(s);\n    // get epoch millis\n    long millis = date.getTime();\n    System.out.println(millis); // 1500475350423\n\nThe problem is that `SimpleDateFormat` uses the system&#39;s default timezone, so the final value above (`1500475350423`) will be equivalent to the specificed date and time in my system&#39;s timezone (which can be different from yours - just for the record, my system&#39;s default timezone is `America/Sao_Paulo`). If you want to specify in what timezone this date is, you need to set in the formatter (before calling `parse`):\n\n    // set a timezone to the formatter (using UTC as example)\n    formatter.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\n\nWith this, the result for `millis` will be `1500464550423` (the equivalent to the specificed date and time in UTC).\n\nTo do the opposite (create a date from the millis value), you must create a `Date` object and then pass it to the formatter (also taking care of setting a timezone to the formatter):\n\n    // create date from millis\n    Date date = new Date(1500464550423L);\n    // use correct format (&#39;S&#39; for milliseconds)\n    SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy.MM.dd HH:mm:ss:SSS&quot;);\n    formatter.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\n    // format date\n    String formatted = formatter.format(date);\n\n---\n# Java new date/time API\n\nThe old classes (`Date`, `Calendar` and `SimpleDateFormat`) have [lots of problems](https://stackoverflow.com/questions/1571265/why-is-the-java-date-api-java-util-date-calendar-such-a-mess) and [design issues](https://stackoverflow.com/questions/1969442/whats-wrong-with-java-date-time-api), and they&#39;re being replaced by the new APIs.\n\nIf you&#39;re using **Java 8**, consider using the [new java.time API](https://docs.oracle.com/javase/tutorial/datetime/). It&#39;s easier, [less bugged and less error-prone than the old APIs](https://stackoverflow.com/questions/1969442/whats-wrong-with-java-date-time-api).\n\nIf you&#39;re using **Java &lt;= 7**, you can use the [ThreeTen Backport](http://www.threeten.org/threetenbp/), a great backport for Java 8&#39;s new date/time classes. And for **Android**, there&#39;s the [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP) (more on how to use it [here](https://stackoverflow.com/a/38922755/7605325)).\n\nThe code below works for both.\nThe only difference is the package names (in Java 8 is `java.time` and in ThreeTen Backport (or Android&#39;s ThreeTenABP) is `org.threeten.bp`), but the classes and methods **names** are the same.\n\nAs the input `String` has no timezone information (only date and time), first I parsed it to a `LocalDateTime` (a class that represents a date and time without timezone). Then I convert this date/time to a specific timezone and get the millis value from it:\n\n    // input string\n    String s = &quot;2017.07.19 11:42:30:423&quot;;\n    // use correct format (&#39;S&#39; for milliseconds)\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy.MM.dd HH:mm:ss:SSS&quot;);\n    // as the input string has no timezone information, parse it to a LocalDateTime\n    LocalDateTime dt = LocalDateTime.parse(s, formatter);\n\n    // convert the LocalDateTime to a timezone\n    ZonedDateTime zdt = dt.atZone(ZoneId.of(&quot;Europe/London&quot;));\n    // get the millis value\n    long millis = zdt.toInstant().toEpochMilli(); // 1500460950423\n\nThe value is now `1500460950423`, equivalent to the specified date and time in London timezone.\n\nNote that the API uses [IANA timezones names](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones) (always in the format `Region/City`, like `America/Sao_Paulo` or `Europe/Berlin`).\nAvoid using the 3-letter abbreviations (like `CST` or `PST`) because they are [ambiguous and not standard](https://stackoverflow.com/questions/18405262/what-are-the-standard-timezone-abbreviations/18407231#18407231).\n\nYou can get a list of available timezones (and choose the one that fits best your system) by calling `ZoneId.getAvailableZoneIds()`.\n\nYou can also use `ZoneOffset.UTC` constant if you want to use UTC.\n\nTo do the opposite, you can get the millis value to create an Instant, convert it to a timezone and pass it to the formatter:\n\n    // create Instant from millis value \n    Instant instant = Instant.ofEpochMilli(1500460950423L);\n    // use correct format (&#39;S&#39; for milliseconds)\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy.MM.dd HH:mm:ss:SSS&quot;);\n    // convert to timezone\n    ZonedDateTime z = instant.atZone(ZoneId.of(&quot;Europe/London&quot;));\n    // format\n    String formatted = z.format(formatter);\n\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\n\n\n\n\n","title":"Java - SimpleDateFormat formatter to return epoch time with milliseconds","body":"<p>First of all, check the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">documentation of <code>SimpleDateFormat</code></a>. The pattern that corresponds to <strong>milliseconds</strong> is an <strong>uppercase</strong> <code>S</code>, while the <strong>lowercase</strong> <code>s</code> corresponds to <strong>seconds</strong>. The problem is that <code>SimpleDateFormat</code> usually doesn't complain and try to parse <code>423</code> as seconds, adding this amount to your end date (giving an incorrect result).</p>\n<p>Anyway, <code>SimpleDateFormat</code> just parses a <code>String</code> to a <code>java.util.Date</code> or formats the <code>Date</code> to a <code>String</code>. If you want the epoch millis value, you must get it from the <code>Date</code> object:</p>\n<pre><code>// input string\nString s = &quot;2017.07.19 11:42:30:423&quot;;\n// use correct format ('S' for milliseconds)\nSimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy.MM.dd HH:mm:ss:SSS&quot;);\n// parse to a date\nDate date = formatter.parse(s);\n// get epoch millis\nlong millis = date.getTime();\nSystem.out.println(millis); // 1500475350423\n</code></pre>\n<p>The problem is that <code>SimpleDateFormat</code> uses the system's default timezone, so the final value above (<code>1500475350423</code>) will be equivalent to the specificed date and time in my system's timezone (which can be different from yours - just for the record, my system's default timezone is <code>America/Sao_Paulo</code>). If you want to specify in what timezone this date is, you need to set in the formatter (before calling <code>parse</code>):</p>\n<pre><code>// set a timezone to the formatter (using UTC as example)\nformatter.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\n</code></pre>\n<p>With this, the result for <code>millis</code> will be <code>1500464550423</code> (the equivalent to the specificed date and time in UTC).</p>\n<p>To do the opposite (create a date from the millis value), you must create a <code>Date</code> object and then pass it to the formatter (also taking care of setting a timezone to the formatter):</p>\n<pre><code>// create date from millis\nDate date = new Date(1500464550423L);\n// use correct format ('S' for milliseconds)\nSimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy.MM.dd HH:mm:ss:SSS&quot;);\nformatter.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\n// format date\nString formatted = formatter.format(date);\n</code></pre>\n<hr />\n<h1>Java new date/time API</h1>\n<p>The old classes (<code>Date</code>, <code>Calendar</code> and <code>SimpleDateFormat</code>) have <a href=\"https://stackoverflow.com/questions/1571265/why-is-the-java-date-api-java-util-date-calendar-such-a-mess\">lots of problems</a> and <a href=\"https://stackoverflow.com/questions/1969442/whats-wrong-with-java-date-time-api\">design issues</a>, and they're being replaced by the new APIs.</p>\n<p>If you're using <strong>Java 8</strong>, consider using the <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">new java.time API</a>. It's easier, <a href=\"https://stackoverflow.com/questions/1969442/whats-wrong-with-java-date-time-api\">less bugged and less error-prone than the old APIs</a>.</p>\n<p>If you're using <strong>Java &lt;= 7</strong>, you can use the <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen Backport</a>, a great backport for Java 8's new date/time classes. And for <strong>Android</strong>, there's the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a> (more on how to use it <a href=\"https://stackoverflow.com/a/38922755/7605325\">here</a>).</p>\n<p>The code below works for both.\nThe only difference is the package names (in Java 8 is <code>java.time</code> and in ThreeTen Backport (or Android's ThreeTenABP) is <code>org.threeten.bp</code>), but the classes and methods <strong>names</strong> are the same.</p>\n<p>As the input <code>String</code> has no timezone information (only date and time), first I parsed it to a <code>LocalDateTime</code> (a class that represents a date and time without timezone). Then I convert this date/time to a specific timezone and get the millis value from it:</p>\n<pre><code>// input string\nString s = &quot;2017.07.19 11:42:30:423&quot;;\n// use correct format ('S' for milliseconds)\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy.MM.dd HH:mm:ss:SSS&quot;);\n// as the input string has no timezone information, parse it to a LocalDateTime\nLocalDateTime dt = LocalDateTime.parse(s, formatter);\n\n// convert the LocalDateTime to a timezone\nZonedDateTime zdt = dt.atZone(ZoneId.of(&quot;Europe/London&quot;));\n// get the millis value\nlong millis = zdt.toInstant().toEpochMilli(); // 1500460950423\n</code></pre>\n<p>The value is now <code>1500460950423</code>, equivalent to the specified date and time in London timezone.</p>\n<p>Note that the API uses <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">IANA timezones names</a> (always in the format <code>Region/City</code>, like <code>America/Sao_Paulo</code> or <code>Europe/Berlin</code>).\nAvoid using the 3-letter abbreviations (like <code>CST</code> or <code>PST</code>) because they are <a href=\"https://stackoverflow.com/questions/18405262/what-are-the-standard-timezone-abbreviations/18407231#18407231\">ambiguous and not standard</a>.</p>\n<p>You can get a list of available timezones (and choose the one that fits best your system) by calling <code>ZoneId.getAvailableZoneIds()</code>.</p>\n<p>You can also use <code>ZoneOffset.UTC</code> constant if you want to use UTC.</p>\n<p>To do the opposite, you can get the millis value to create an Instant, convert it to a timezone and pass it to the formatter:</p>\n<pre><code>// create Instant from millis value \nInstant instant = Instant.ofEpochMilli(1500460950423L);\n// use correct format ('S' for milliseconds)\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy.MM.dd HH:mm:ss:SSS&quot;);\n// convert to timezone\nZonedDateTime z = instant.atZone(ZoneId.of(&quot;Europe/London&quot;));\n// format\nString formatted = z.format(formatter);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6000506,"reputation":757,"user_id":4713933,"accept_rate":81,"display_name":"Mark Smith"},"score":0,"creation_date":1500468498,"post_id":45190694,"comment_id":77349195,"body_markdown":"Thank you for the great explanation - I am struggling to understand how I can integrate this into my code as I am very new to Java, however I don&#39;t doubt what you have suggested is correct - I will need to spend some time to work this out","body":"Thank you for the great explanation - I am struggling to understand how I can integrate this into my code as I am very new to Java, however I don&#39;t doubt what you have suggested is correct - I will need to spend some time to work this out"}],"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1500470020,"creation_date":1500467486,"answer_id":45190694,"question_id":45189859,"body_markdown":"You have a simple error in the use of case in your format pattern string (these are case sensitive). And worse, you are using the old and troublesome `SimpleDateFormat` class. One of the many problems with it is it’s not telling you what the problem is.\r\n\r\nSo I recommend you use the modern Java date and time API instead (I am deliberately using your format pattern string verbatim):\r\n\r\n\t\tString receivedTimetamp = &quot;2017.07.19 11:42:30:423&quot;;\r\n\t\tDateTimeFormatter parseFormatter\r\n\t\t\t\t= DateTimeFormatter.ofPattern(&quot;yyyy.MM.dd HH:mm:ss:sss&quot;);\r\n\t\tLocalDateTime dateTime = LocalDateTime.parse(receivedTimetamp, parseFormatter);\r\n\t\tSystem.out.println(dateTime);\r\n\r\nThis code throws an `IllegalArgumentException: Too many pattern letters: s`. I hope this calls your awareness to the fact that you are using two s’s for seconds and three s’s for fraction of second. If it still isn’t clear, [the documentation](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html) will tell you that lowercase `s` is correct for seconds, while you need uppercase `S` for the fraction. Let’s repair:\r\n\r\n\t\tDateTimeFormatter parseFormatter\r\n\t\t\t\t= DateTimeFormatter.ofPattern(&quot;yyyy.MM.dd HH:mm:ss:SSS&quot;);\r\n\r\nNow the code prints `2017-07-19T11:42:30.423`, so we have managed to parse the string correctly.\r\n\r\nTo convert to milliseconds we are still missing a crucial piece of information: in what time zone should the timestamp be interpreted? I think the two obvious guesses are UTC and your local time zone (which I don’t know). Try UTC:\r\n\r\n\t\tSystem.out.println(dateTime.atOffset(ZoneOffset.UTC).toInstant().toEpochMilli());\r\n\r\nThis produces `1500464550423`, which is the number you asked for. I suppose we’re done.\r\n\r\nIf you wanted your JVM’s time zone setting instead, use `.atZone(ZoneId.systemDefault())` instead of `.atOffset(ZoneOffset.UTC)`, but beware that the setting may be altered by other software running in the same JVM, so this is fragile.","title":"Java - SimpleDateFormat formatter to return epoch time with milliseconds","body":"<p>You have a simple error in the use of case in your format pattern string (these are case sensitive). And worse, you are using the old and troublesome <code>SimpleDateFormat</code> class. One of the many problems with it is it’s not telling you what the problem is.</p>\n\n<p>So I recommend you use the modern Java date and time API instead (I am deliberately using your format pattern string verbatim):</p>\n\n<pre><code>    String receivedTimetamp = \"2017.07.19 11:42:30:423\";\n    DateTimeFormatter parseFormatter\n            = DateTimeFormatter.ofPattern(\"yyyy.MM.dd HH:mm:ss:sss\");\n    LocalDateTime dateTime = LocalDateTime.parse(receivedTimetamp, parseFormatter);\n    System.out.println(dateTime);\n</code></pre>\n\n<p>This code throws an <code>IllegalArgumentException: Too many pattern letters: s</code>. I hope this calls your awareness to the fact that you are using two s’s for seconds and three s’s for fraction of second. If it still isn’t clear, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">the documentation</a> will tell you that lowercase <code>s</code> is correct for seconds, while you need uppercase <code>S</code> for the fraction. Let’s repair:</p>\n\n<pre><code>    DateTimeFormatter parseFormatter\n            = DateTimeFormatter.ofPattern(\"yyyy.MM.dd HH:mm:ss:SSS\");\n</code></pre>\n\n<p>Now the code prints <code>2017-07-19T11:42:30.423</code>, so we have managed to parse the string correctly.</p>\n\n<p>To convert to milliseconds we are still missing a crucial piece of information: in what time zone should the timestamp be interpreted? I think the two obvious guesses are UTC and your local time zone (which I don’t know). Try UTC:</p>\n\n<pre><code>    System.out.println(dateTime.atOffset(ZoneOffset.UTC).toInstant().toEpochMilli());\n</code></pre>\n\n<p>This produces <code>1500464550423</code>, which is the number you asked for. I suppose we’re done.</p>\n\n<p>If you wanted your JVM’s time zone setting instead, use <code>.atZone(ZoneId.systemDefault())</code> instead of <code>.atOffset(ZoneOffset.UTC)</code>, but beware that the setting may be altered by other software running in the same JVM, so this is fragile.</p>\n"}],"owner":{"account_id":6000506,"reputation":757,"user_id":4713933,"accept_rate":81,"display_name":"Mark Smith"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25221,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"closed_date":1500491940,"accepted_answer_id":45190694,"answer_count":6,"score":5,"last_activity_date":1681148239,"creation_date":1500465484,"question_id":45189859,"body_markdown":"I am very new to Java and coding in general - I have some code which returns a timestamp in the following format `yyyy.MM.dd HH:mm:ss:ms` which is shown below:\r\n\r\n    SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy.MM.dd HH:mm:ss:sss&quot;);\r\n\r\nThis returns:\r\n\r\n    2017.07.19 11:42:30:423\r\n\r\nIs there a way to edit the &quot;SimpleDateFormat formatter&quot; code above to return the date/time as an epoch timestamp that includes milliseconds so that the value returned is formatted as per the below?\r\n\r\n    1500464550423\r\n\r\nI&#39;m hoping that I can amend the `(&quot;yyyy.MM.dd HH:mm:ss:sss&quot;)` part of the `SimpleDateFormat formatter` code to do this.\r\n","title":"Java - SimpleDateFormat formatter to return epoch time with milliseconds","body":"<p>I am very new to Java and coding in general - I have some code which returns a timestamp in the following format <code>yyyy.MM.dd HH:mm:ss:ms</code> which is shown below:</p>\n<pre><code>SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy.MM.dd HH:mm:ss:sss&quot;);\n</code></pre>\n<p>This returns:</p>\n<pre><code>2017.07.19 11:42:30:423\n</code></pre>\n<p>Is there a way to edit the &quot;SimpleDateFormat formatter&quot; code above to return the date/time as an epoch timestamp that includes milliseconds so that the value returned is formatted as per the below?</p>\n<pre><code>1500464550423\n</code></pre>\n<p>I'm hoping that I can amend the <code>(&quot;yyyy.MM.dd HH:mm:ss:sss&quot;)</code> part of the <code>SimpleDateFormat formatter</code> code to do this.</p>\n"},{"tags":["java","artifactory"],"comments":[{"owner":{"account_id":1828145,"reputation":563,"user_id":1660336,"display_name":"Tatarao Vana"},"score":0,"creation_date":1681186195,"post_id":75961540,"comment_id":134011809,"body_markdown":"In general, the Windows operating system requires Administrator access to modify the files inside the C drive. The C drive contains the files and folders of the operating system and those need to be protected. According to the error message, it seems like the user doesn&#39;t have enough permissions to access the cacerts file of JDK. As a workaround, we can change the JDK installation location to any other drive (Ex: D) and point the application to use that custom path. Otherwise, we need to get admin access to import the cert or provide enough permissions to the user(by using admin privilege).","body":"In general, the Windows operating system requires Administrator access to modify the files inside the C drive. The C drive contains the files and folders of the operating system and those need to be protected. According to the error message, it seems like the user doesn&#39;t have enough permissions to access the cacerts file of JDK. As a workaround, we can change the JDK installation location to any other drive (Ex: D) and point the application to use that custom path. Otherwise, we need to get admin access to import the cert or provide enough permissions to the user(by using admin privilege)."},{"owner":{"account_id":14943145,"reputation":1,"user_id":15482963,"display_name":"Lalmohan yadav"},"score":0,"creation_date":1681315848,"post_id":75961540,"comment_id":134037727,"body_markdown":"Thank You for your response. This worked for me, just had to remove keystore and its path.                                                  \n                                                                                                                               keytool -importcert -file C:\\Users\\Ramen\\Desktop\\jfrog.cer  -alias &quot;JFROG_NEW&quot;","body":"Thank You for your response. This worked for me, just had to remove keystore and its path.                                                                                                                                                                                  keytool -importcert -file C:\\Users\\Ramen\\Desktop\\jfrog.cer  -alias &quot;JFROG_NEW&quot;"}],"owner":{"account_id":14943145,"reputation":1,"user_id":15482963,"display_name":"Lalmohan yadav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681147811,"creation_date":1680897060,"question_id":75961540,"body_markdown":"I am trying to import a jfrog certificate into my keystore but getting the titled error. I used the following command to do this task:\r\n\r\n    keytool -importcert -file C:\\Users\\Ramen\\Desktop\\jfrog.cer -keystore &quot;%JAVA_HOME%\\jre1.8.0_202\\lib\\security\\cacerts.jks -alias &quot;JFROG_NEW&quot;\r\n\r\nThen it prompts me to put in password, at the end it says certificate was added to keystore and throws this error &quot;keytool error: \r\n\r\n&gt; java.io.FileNotFoundException: C:\\Program Files\\Java\\jre1.8.0_202\\lib\\security (Access Denied)&quot;\r\n\r\nPlease note that I can not run this command as administrator.\r\n\r\nI tried all the answers I could get from stackoverflow from these links.\r\n\r\nhttps://stackoverflow.com/questions/10321211/java-keytool-error-after-importing-certificate-keytool-error-java-io-filenot\r\n\r\nhttps://stackoverflow.com/questions/32386267/keytool-error-java-io-filenotfoundexception-c-cacerts-access-is-denied\r\n\r\nhttps://stackoverflow.com/questions/53490967/keytool-error-java-io-filenotfoundexception-cacerts-access-is-denied\r\n\r\nIs there any workaround for this issue without logging in as an administrator?","title":"Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied","body":"<p>I am trying to import a jfrog certificate into my keystore but getting the titled error. I used the following command to do this task:</p>\n<pre><code>keytool -importcert -file C:\\Users\\Ramen\\Desktop\\jfrog.cer -keystore &quot;%JAVA_HOME%\\jre1.8.0_202\\lib\\security\\cacerts.jks -alias &quot;JFROG_NEW&quot;\n</code></pre>\n<p>Then it prompts me to put in password, at the end it says certificate was added to keystore and throws this error &quot;keytool error:</p>\n<blockquote>\n<p>java.io.FileNotFoundException: C:\\Program Files\\Java\\jre1.8.0_202\\lib\\security (Access Denied)&quot;</p>\n</blockquote>\n<p>Please note that I can not run this command as administrator.</p>\n<p>I tried all the answers I could get from stackoverflow from these links.</p>\n<p><a href=\"https://stackoverflow.com/questions/10321211/java-keytool-error-after-importing-certificate-keytool-error-java-io-filenot\">Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied&quot;</a></p>\n<p><a href=\"https://stackoverflow.com/questions/32386267/keytool-error-java-io-filenotfoundexception-c-cacerts-access-is-denied\">keytool error: java.io.FileNotFoundException: C:\\cacerts (Access is denied)</a></p>\n<p><a href=\"https://stackoverflow.com/questions/53490967/keytool-error-java-io-filenotfoundexception-cacerts-access-is-denied\">keytool error: java.io.FileNotFoundException: cacerts (Access is denied)</a></p>\n<p>Is there any workaround for this issue without logging in as an administrator?</p>\n"},{"tags":["java","scala","utf-8","sbt","sbt-assembly"],"comments":[{"owner":{"account_id":15138451,"reputation":460,"user_id":12083015,"display_name":"Erwin"},"score":2,"creation_date":1680839711,"post_id":75955027,"comment_id":133968329,"body_markdown":"According to the [correct answer](https://stackoverflow.com/a/12111542/12083015) to the link that you gave, the problem was when writing the file, not when downloading the file. Maybe you can check it too.","body":"According to the <a href=\"https://stackoverflow.com/a/12111542/12083015\">correct answer</a> to the link that you gave, the problem was when writing the file, not when downloading the file. Maybe you can check it too."},{"owner":{"account_id":4198672,"reputation":28840,"user_id":3439404,"display_name":"JosefZ"},"score":2,"creation_date":1680878357,"post_id":75955027,"comment_id":133974494,"body_markdown":"`CAFEBABE` is (hexadecimal) Java class file [signature](https://en.wikipedia.org/wiki/List_of_file_signatures) (so called *magic number*) while `EFBFBD` are `UTF-8` bytes for [Replacement Character](https://symbl.cc/en/FFFD/) and `4022320623` is decimal representation for `0xEFBFBDEF` (== 4 leading bytes in **EFBFBDEF**BFBD).","body":"<code>CAFEBABE</code> is (hexadecimal) Java class file <a href=\"https://en.wikipedia.org/wiki/List_of_file_signatures\" rel=\"nofollow noreferrer\">signature</a> (so called <i>magic number</i>) while <code>EFBFBD</code> are <code>UTF-8</code> bytes for <a href=\"https://symbl.cc/en/FFFD/\" rel=\"nofollow noreferrer\">Replacement Character</a> and <code>4022320623</code> is decimal representation for <code>0xEFBFBDEF</code> (== 4 leading bytes in <b>EFBFBDEF</b>BFBD)."}],"answers":[{"comments":[{"owner":{"account_id":28236437,"reputation":23,"user_id":21584819,"display_name":"Bean"},"score":1,"creation_date":1680847471,"post_id":75955286,"comment_id":133969052,"body_markdown":"Thanks for your answer. I&#39;ll check the merge strategy.","body":"Thanks for your answer. I&#39;ll check the merge strategy."},{"owner":{"account_id":28236437,"reputation":23,"user_id":21584819,"display_name":"Bean"},"score":1,"creation_date":1681132466,"post_id":75955286,"comment_id":134003262,"body_markdown":"Thank you very much, the reason is that I mistakenly merge the class files.","body":"Thank you very much, the reason is that I mistakenly merge the class files."},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1681139613,"post_id":75955286,"comment_id":134004702,"body_markdown":"@Bean Great! Congrats.","body":"@Bean Great! Congrats."}],"tags":[],"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681147604,"creation_date":1680838590,"answer_id":75955286,"question_id":75955027,"body_markdown":"It&#39;s hard to say without `libraryDependencies` and `assemblyMergeStrategy` of your `build.sbt` and without a specific class of assembly jar that is not valid.\r\n\r\nI suspect that `MergeStrategy.concat` or `MergeStrategy.filterDistinctLines` was incorrectly applied to some `.class` files and this leads to not valid class files. `MergeStrategy.concat / filterDistinctLines` are for config files, `.properties` files, service files (i.e. files with names `com.example.SomeInterface` and contents `com.example.impl.SomeImplementation`) etc., not for `.class` files. \r\n\r\nYou can temporarily change `assemblyMergeStrategy` to\r\n\r\n```\r\nassembly / assemblyMergeStrategy := {\r\n  case _ =&gt; MergeStrategy.singleOrError\r\n}\r\n```\r\nto see all the duplicates, or to\r\n```\r\nThisBuild / assemblyMergeStrategy := {\r\n  case PathList(ps @ _*) if ps.last endsWith &quot;.class&quot; =&gt; MergeStrategy.singleOrError\r\n  case x =&gt;\r\n    val standardStrategy = (ThisBuild / assemblyMergeStrategy).value\r\n    standardStrategy(x)\r\n}\r\n```\r\nto see all the `.class` duplicates. You should see among them the class files that become not valid upon `MergeStrategy.concat/filterDistinctLines`.\r\n\r\nSbt 1.3.13 is quite old, current is 1.8.2.","title":"SBT assembly output 0xEFBFBD instead of 0xCAFEBABE in class file","body":"<p>It's hard to say without <code>libraryDependencies</code> and <code>assemblyMergeStrategy</code> of your <code>build.sbt</code> and without a specific class of assembly jar that is not valid.</p>\n<p>I suspect that <code>MergeStrategy.concat</code> or <code>MergeStrategy.filterDistinctLines</code> was incorrectly applied to some <code>.class</code> files and this leads to not valid class files. <code>MergeStrategy.concat / filterDistinctLines</code> are for config files, <code>.properties</code> files, service files (i.e. files with names <code>com.example.SomeInterface</code> and contents <code>com.example.impl.SomeImplementation</code>) etc., not for <code>.class</code> files.</p>\n<p>You can temporarily change <code>assemblyMergeStrategy</code> to</p>\n<pre><code>assembly / assemblyMergeStrategy := {\n  case _ =&gt; MergeStrategy.singleOrError\n}\n</code></pre>\n<p>to see all the duplicates, or to</p>\n<pre><code>ThisBuild / assemblyMergeStrategy := {\n  case PathList(ps @ _*) if ps.last endsWith &quot;.class&quot; =&gt; MergeStrategy.singleOrError\n  case x =&gt;\n    val standardStrategy = (ThisBuild / assemblyMergeStrategy).value\n    standardStrategy(x)\n}\n</code></pre>\n<p>to see all the <code>.class</code> duplicates. You should see among them the class files that become not valid upon <code>MergeStrategy.concat/filterDistinctLines</code>.</p>\n<p>Sbt 1.3.13 is quite old, current is 1.8.2.</p>\n"}],"owner":{"account_id":28236437,"reputation":23,"user_id":21584819,"display_name":"Bean"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75955286,"answer_count":1,"score":2,"last_activity_date":1681147604,"creation_date":1680833710,"question_id":75955027,"body_markdown":"| Tools    | Version  |\r\n| -------- | -------- |\r\n| OS       | Win10    |\r\n| JavaJDK  | 11       |\r\n| Scala    | 2.13.5   |\r\n| SBT      | 1.3.13   |\r\n| Assembly | 2.1.0    |\r\n\r\n[The repository of sbt-assembly](https://github.com/sbt/sbt-assembly)\r\n\r\n\r\n1. The Error message.\r\n\r\nI run `assembly` in sbt shell and it prints [success].\r\n\r\nThen I try to run the output *.jar* with `java -jar MyProject.jar` in cmd, and get this error: \r\n```\r\njava.lang.ClassFormatError: Incompatible magic value 4022320623 in class file Main\r\n```\r\nThe same error message as this one: [Java Incompatible magic value 4022320623](https://stackoverflow.com/questions/12111065/java-incompatible-magic-value-4022320623)\r\n\r\nBut all my work are done locally without any upload or download operation.\r\n\r\n\r\n2. The header of the class files.\r\n\r\nI decompression the *.jar* package and find that all *.class* files are started with `0xEFBFBD EFBFBD`, which means the character cannot be recognized by `UTF-8`.\r\n\r\nI&#39;ve run `sbt package` before, in that case, every java class file is started with `0xCAFE BABE`.\r\n\r\nI compared these two class files in binary form. Most of them are the same, but the one generated by assembly command has several `0xEFBFBD` in it.\r\n\r\n\r\n3. What I&#39;m trying to do.\r\n\r\nI&#39;m trying to assembly a large project with multiple modules to one *.jar* file.\r\n\r\n- The whole project is encoded in `UTF-8` =&gt; \r\n    IDEA: Global / Project Encoding: `UTF-8`\r\n\r\n- SBT has VM option: `-Dfile.encoding=UTF-8`\r\n\r\n- build.sbt has line: `javaOptions ++= Seq(&quot;-encoding&quot;, &quot;UTF-8&quot;)`\r\n\r\nI tried everything I can to make sure all the files are encoded &amp; decoded in `UTF-8`.\r\n\r\n\r\n4. Other versions of assembly.\r\n\r\nI also tried sbt-assembly releases *2.1.1* and *2.0.0*, and got the same results.\r\n\r\nI need to customize the Merge Strategy which is supported after *2.0.0*, so I didn&#39;t try more versions.\r\n\r\n\r\nI can&#39;t show any code here since I don&#39;t have right to do so. But if you need more information about this issue please let me know.","title":"SBT assembly output 0xEFBFBD instead of 0xCAFEBABE in class file","body":"<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Tools</th>\n<th>Version</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>OS</td>\n<td>Win10</td>\n</tr>\n<tr>\n<td>JavaJDK</td>\n<td>11</td>\n</tr>\n<tr>\n<td>Scala</td>\n<td>2.13.5</td>\n</tr>\n<tr>\n<td>SBT</td>\n<td>1.3.13</td>\n</tr>\n<tr>\n<td>Assembly</td>\n<td>2.1.0</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><a href=\"https://github.com/sbt/sbt-assembly\" rel=\"nofollow noreferrer\">The repository of sbt-assembly</a></p>\n<ol>\n<li>The Error message.</li>\n</ol>\n<p>I run <code>assembly</code> in sbt shell and it prints [success].</p>\n<p>Then I try to run the output <em>.jar</em> with <code>java -jar MyProject.jar</code> in cmd, and get this error:</p>\n<pre><code>java.lang.ClassFormatError: Incompatible magic value 4022320623 in class file Main\n</code></pre>\n<p>The same error message as this one: <a href=\"https://stackoverflow.com/questions/12111065/java-incompatible-magic-value-4022320623\">Java Incompatible magic value 4022320623</a></p>\n<p>But all my work are done locally without any upload or download operation.</p>\n<ol start=\"2\">\n<li>The header of the class files.</li>\n</ol>\n<p>I decompression the <em>.jar</em> package and find that all <em>.class</em> files are started with <code>0xEFBFBD EFBFBD</code>, which means the character cannot be recognized by <code>UTF-8</code>.</p>\n<p>I've run <code>sbt package</code> before, in that case, every java class file is started with <code>0xCAFE BABE</code>.</p>\n<p>I compared these two class files in binary form. Most of them are the same, but the one generated by assembly command has several <code>0xEFBFBD</code> in it.</p>\n<ol start=\"3\">\n<li>What I'm trying to do.</li>\n</ol>\n<p>I'm trying to assembly a large project with multiple modules to one <em>.jar</em> file.</p>\n<ul>\n<li><p>The whole project is encoded in <code>UTF-8</code> =&gt;\nIDEA: Global / Project Encoding: <code>UTF-8</code></p>\n</li>\n<li><p>SBT has VM option: <code>-Dfile.encoding=UTF-8</code></p>\n</li>\n<li><p>build.sbt has line: <code>javaOptions ++= Seq(&quot;-encoding&quot;, &quot;UTF-8&quot;)</code></p>\n</li>\n</ul>\n<p>I tried everything I can to make sure all the files are encoded &amp; decoded in <code>UTF-8</code>.</p>\n<ol start=\"4\">\n<li>Other versions of assembly.</li>\n</ol>\n<p>I also tried sbt-assembly releases <em>2.1.1</em> and <em>2.0.0</em>, and got the same results.</p>\n<p>I need to customize the Merge Strategy which is supported after <em>2.0.0</em>, so I didn't try more versions.</p>\n<p>I can't show any code here since I don't have right to do so. But if you need more information about this issue please let me know.</p>\n"},{"tags":["java","clang-format"],"owner":{"account_id":166796,"reputation":72317,"user_id":391161,"accept_rate":63,"display_name":"merlin2011"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1704,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":0,"score":7,"last_activity_date":1681147220,"creation_date":1580977993,"question_id":60090666,"body_markdown":"My `clang-format` style file is the following:\r\n\r\n```\r\nBasedOnStyle: Google\r\n---\r\nLanguage: Java\r\nColumnLimit: 100\r\nBreakStringLiterals: true\r\nBreakAfterJavaFieldAnnotations: false\r\nBraceWrapping:\r\n  AfterCaseLabel:  true\r\n  AfterClass:      true\r\n  AfterControlStatement: true\r\n  AfterEnum:       true\r\n  AfterFunction:   true\r\n  AfterNamespace:  true\r\n  AfterObjCDeclaration: true\r\n  AfterStruct:     true\r\n  AfterUnion:      true\r\n  AfterExternBlock: true\r\n  BeforeCatch:     true\r\n  BeforeElse:      true\r\n  IndentBraces:    true\r\n  SplitEmptyFunction: false\r\n  SplitEmptyRecord: false\r\n  SplitEmptyNamespace: false\r\n```\r\nConsider the following input java code:\r\n```\r\npublic class Lambda {\r\n  void handle() {\r\n\r\n    // TODO Try a compiling example next to see if it&#39;s different with clang-format.\r\n    try {\r\n      updateTranscriptResponse = Utils.doWithRetry(\r\n        /* task */\r\n        () -&gt; {\r\n        System.out.println(&quot;This is a bit long-winded sentence so it keeps going on and on.&quot;);\r\n        System.out.println(&quot;This is a bit long-winded sentence so it keeps going on and on.&quot;);\r\n        },\r\n        /* task 2 */\r\n        () -&gt; {\r\n        System.out.println(&quot;This is a bit long-winded sentence so it keeps going on and on and on and on and on.&quot;);\r\n        System.out.println(&quot;This is a bit long-winded sentence so it keeps going on and on.&quot;);\r\n        },\r\n        /* task 3 */\r\n        () -&gt; {\r\n        System.out.println(&quot;This is a bit long-winded sentence so it keeps going on and on and on and on and on.&quot;);\r\n        System.out.println(&quot;This is a bit long-winded sentence so it keeps going on and on.&quot;);\r\n        }\r\n        );\r\n    } catch (Exception e) {\r\n    }\r\n  }\r\n}\r\n```\r\nI am trying to get `clang-format` to indent the body of the lambdas but keep ` () -&gt; {` on a single line. Unfortunately, it gives me the following output:\r\n\r\n```\r\npublic class Lambda {\r\n  void handle() {\r\n    // TODO Try a compiling example next to see if it&#39;s different with clang-format.\r\n    try {\r\n      updateTranscriptResponse = Utils.doWithRetry(\r\n          /* task */\r\n          ()\r\n              -&gt; {\r\n            System.out.println(&quot;This is a bit long-winded sentence so it keeps going on and on.&quot;);\r\n            System.out.println(&quot;This is a bit long-winded sentence so it keeps going on and on.&quot;);\r\n          },\r\n          /* task 2 */\r\n          ()\r\n              -&gt; {\r\n            System.out.println(\r\n                &quot;This is a bit long-winded sentence so it keeps going on and on and on and on and on.&quot;);\r\n            System.out.println(&quot;This is a bit long-winded sentence so it keeps going on and on.&quot;);\r\n          },\r\n          /* task 3 */\r\n          () -&gt; {\r\n            System.out.println(\r\n                &quot;This is a bit long-winded sentence so it keeps going on and on and on and on and on.&quot;);\r\n            System.out.println(&quot;This is a bit long-winded sentence so it keeps going on and on.&quot;);\r\n          });\r\n    } catch (Exception e) {\r\n    }\r\n  }\r\n}\r\n\r\n```\r\n\r\nHow can I configure `clang-format` to not introduce the extra line breaks at Task 1 and Task 2?\r\n\r\nI&#39;m running clang-format 9.","title":"Is it possible to configure clang-format to keep Java lambda arguments on one line with arrow and curly brace?","body":"<p>My <code>clang-format</code> style file is the following:</p>\n\n<pre><code>BasedOnStyle: Google\n---\nLanguage: Java\nColumnLimit: 100\nBreakStringLiterals: true\nBreakAfterJavaFieldAnnotations: false\nBraceWrapping:\n  AfterCaseLabel:  true\n  AfterClass:      true\n  AfterControlStatement: true\n  AfterEnum:       true\n  AfterFunction:   true\n  AfterNamespace:  true\n  AfterObjCDeclaration: true\n  AfterStruct:     true\n  AfterUnion:      true\n  AfterExternBlock: true\n  BeforeCatch:     true\n  BeforeElse:      true\n  IndentBraces:    true\n  SplitEmptyFunction: false\n  SplitEmptyRecord: false\n  SplitEmptyNamespace: false\n</code></pre>\n\n<p>Consider the following input java code:</p>\n\n<pre><code>public class Lambda {\n  void handle() {\n\n    // TODO Try a compiling example next to see if it's different with clang-format.\n    try {\n      updateTranscriptResponse = Utils.doWithRetry(\n        /* task */\n        () -&gt; {\n        System.out.println(\"This is a bit long-winded sentence so it keeps going on and on.\");\n        System.out.println(\"This is a bit long-winded sentence so it keeps going on and on.\");\n        },\n        /* task 2 */\n        () -&gt; {\n        System.out.println(\"This is a bit long-winded sentence so it keeps going on and on and on and on and on.\");\n        System.out.println(\"This is a bit long-winded sentence so it keeps going on and on.\");\n        },\n        /* task 3 */\n        () -&gt; {\n        System.out.println(\"This is a bit long-winded sentence so it keeps going on and on and on and on and on.\");\n        System.out.println(\"This is a bit long-winded sentence so it keeps going on and on.\");\n        }\n        );\n    } catch (Exception e) {\n    }\n  }\n}\n</code></pre>\n\n<p>I am trying to get <code>clang-format</code> to indent the body of the lambdas but keep <code>() -&gt; {</code> on a single line. Unfortunately, it gives me the following output:</p>\n\n<pre><code>public class Lambda {\n  void handle() {\n    // TODO Try a compiling example next to see if it's different with clang-format.\n    try {\n      updateTranscriptResponse = Utils.doWithRetry(\n          /* task */\n          ()\n              -&gt; {\n            System.out.println(\"This is a bit long-winded sentence so it keeps going on and on.\");\n            System.out.println(\"This is a bit long-winded sentence so it keeps going on and on.\");\n          },\n          /* task 2 */\n          ()\n              -&gt; {\n            System.out.println(\n                \"This is a bit long-winded sentence so it keeps going on and on and on and on and on.\");\n            System.out.println(\"This is a bit long-winded sentence so it keeps going on and on.\");\n          },\n          /* task 3 */\n          () -&gt; {\n            System.out.println(\n                \"This is a bit long-winded sentence so it keeps going on and on and on and on and on.\");\n            System.out.println(\"This is a bit long-winded sentence so it keeps going on and on.\");\n          });\n    } catch (Exception e) {\n    }\n  }\n}\n\n</code></pre>\n\n<p>How can I configure <code>clang-format</code> to not introduce the extra line breaks at Task 1 and Task 2?</p>\n\n<p>I'm running clang-format 9.</p>\n"},{"tags":["java","openapi","openapi-generator"],"answers":[{"comments":[{"owner":{"account_id":2652427,"reputation":1200,"user_id":2293768,"accept_rate":17,"display_name":"MiguelAngel_LV"},"score":0,"creation_date":1685948227,"post_id":75979192,"comment_id":134726536,"body_markdown":"Hi. I have a problem. I use the same configuration that @ananya, but  I need read the form content and requestparam only read get params and not the body content sent post content send by form.","body":"Hi. I have a problem. I use the same configuration that @ananya, but  I need read the form content and requestparam only read get params and not the body content sent post content send by form."}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681147118,"creation_date":1681147118,"answer_id":75979192,"question_id":75978209,"body_markdown":"It is not possible to force an open-api POST requestBody with application/x-www-form-urlencoded content to generate a Java Controller method that accepts a  @RequestBody instead of @RequestParam.\r\n\r\nThe reason is that the _The Servlet API requires ServletRequest.getParameter() methods to support **form field** access only for **HTTP POST**_.- from [spring-framework/docs][1]\r\n\r\nAlso [ServletRequest.html#getParameter(java.lang.String)][2]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/6.0.x/reference/html/web.html#filters-http-put\r\n  [2]: https://tomcat.apache.org/tomcat-5.5-doc/servletapi/javax/servlet/ServletRequest.html#getParameter(java.lang.String)","title":"OpenApi -API with X-WWW-FORM-URLEncoded as requestBody","body":"<p>It is not possible to force an open-api POST requestBody with application/x-www-form-urlencoded content to generate a Java Controller method that accepts a  @RequestBody instead of @RequestParam.</p>\n<p>The reason is that the <em>The Servlet API requires ServletRequest.getParameter() methods to support <strong>form field</strong> access only for <strong>HTTP POST</strong></em>.- from <a href=\"https://docs.spring.io/spring-framework/docs/6.0.x/reference/html/web.html#filters-http-put\" rel=\"nofollow noreferrer\">spring-framework/docs</a></p>\n<p>Also <a href=\"https://tomcat.apache.org/tomcat-5.5-doc/servletapi/javax/servlet/ServletRequest.html#getParameter(java.lang.String)\" rel=\"nofollow noreferrer\">ServletRequest.html#getParameter(java.lang.String)</a></p>\n"}],"owner":{"account_id":27845330,"reputation":97,"user_id":21260927,"display_name":"Ananya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75979192,"answer_count":1,"score":2,"last_activity_date":1681147118,"creation_date":1681138840,"question_id":75978209,"body_markdown":"I am using openapi 3.0.3 and I am trying to write an API which accepts data in the form of\r\n&#39;application/x-www-form-urlencoded&#39; by api specification looks something like this:\r\n\r\n\r\n    /path/to/api/v1/testApi:\r\n        post:\r\n          tags:\r\n            - Extract data\r\n          operationId: &quot;testApi&quot;   \r\n        requestBody:\r\n         content:\r\n           application/x-www-form-urlencoded:\r\n             schema:\r\n              type: object\r\n              properties:\r\n                effectiveDate:\r\n                  type: string\r\n         required: true\r\n\r\nusing the above specification when an api is generated automatically, the request is accepted by the api as @RequestParam.\r\n\r\n\r\n    ResponseEntity&lt;String&gt; testAPi(\r\n            @Parameter(name = &quot;effectiveDate&quot;, description = &quot;&quot;) @Valid @RequestParam(value = &quot;effectiveDate&quot;, required = false) String effectiveDate\r\n        ) {\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\r\n    \r\n        }\r\n\r\nIs there a possibility to make it accept @RequestBody instead of @RequestParam with the same x-www-form-urlencoded data?","title":"OpenApi -API with X-WWW-FORM-URLEncoded as requestBody","body":"<p>I am using openapi 3.0.3 and I am trying to write an API which accepts data in the form of\n'application/x-www-form-urlencoded' by api specification looks something like this:</p>\n<pre><code>/path/to/api/v1/testApi:\n    post:\n      tags:\n        - Extract data\n      operationId: &quot;testApi&quot;   \n    requestBody:\n     content:\n       application/x-www-form-urlencoded:\n         schema:\n          type: object\n          properties:\n            effectiveDate:\n              type: string\n     required: true\n</code></pre>\n<p>using the above specification when an api is generated automatically, the request is accepted by the api as @RequestParam.</p>\n<pre><code>ResponseEntity&lt;String&gt; testAPi(\n        @Parameter(name = &quot;effectiveDate&quot;, description = &quot;&quot;) @Valid @RequestParam(value = &quot;effectiveDate&quot;, required = false) String effectiveDate\n    ) {\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\n\n    }\n</code></pre>\n<p>Is there a possibility to make it accept @RequestBody instead of @RequestParam with the same x-www-form-urlencoded data?</p>\n"},{"tags":["java","spring","tomcat","grpc","netty"],"comments":[{"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"score":0,"creation_date":1680617856,"post_id":75923718,"comment_id":133926235,"body_markdown":"What problem do you have?","body":"What problem do you have?"},{"owner":{"account_id":20267680,"reputation":105,"user_id":14864502,"display_name":"User1254"},"score":0,"creation_date":1680624818,"post_id":75923718,"comment_id":133928186,"body_markdown":"Updated the question, my bad. The problem is with the number of .dll files that are generated, in the long run they are a lot, so I need a way to clear them or, much better, to tell &quot;somehow&quot; the application to not create as many dll files but use only one, or the minimum needed","body":"Updated the question, my bad. The problem is with the number of .dll files that are generated, in the long run they are a lot, so I need a way to clear them or, much better, to tell &quot;somehow&quot; the application to not create as many dll files but use only one, or the minimum needed"},{"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"score":0,"creation_date":1680799976,"post_id":75923718,"comment_id":133962552,"body_markdown":"You say &quot;so many .dll files&quot;. How many? 10? 100? The files should be deleted when Tomcat shuts down.","body":"You say &quot;so many .dll files&quot;. How many? 10? 100? The files should be deleted when Tomcat shuts down."},{"owner":{"account_id":20267680,"reputation":105,"user_id":14864502,"display_name":"User1254"},"score":0,"creation_date":1681043115,"post_id":75923718,"comment_id":133992468,"body_markdown":"In my case tomcat doesn&#39;t go down very often, the number could reach hundreds I&#39;d say, but what&#39;s important for me is that at some point the system has no more memory and it crashes, so I need to find a way to delete those .dll files before there is no more memory on the system","body":"In my case tomcat doesn&#39;t go down very often, the number could reach hundreds I&#39;d say, but what&#39;s important for me is that at some point the system has no more memory and it crashes, so I need to find a way to delete those .dll files before there is no more memory on the system"}],"answers":[{"comments":[{"owner":{"account_id":20267680,"reputation":105,"user_id":14864502,"display_name":"User1254"},"score":0,"creation_date":1681751123,"post_id":75979043,"comment_id":134103996,"body_markdown":"Tried with that variable but it creates another .ddl file instead with this name &quot;conscrypt_openjdk_jni-windows-x86_6416817510159210000.dll&quot; every time tomcat is started (the last number is changed everytime) so unfortunately it didn&#39;t really help..","body":"Tried with that variable but it creates another .ddl file instead with this name &quot;conscrypt_openjdk_jni-windows-x86_6416817510159210000.dll&quot; every time tomcat is started (the last number is changed everytime) so unfortunately it didn&#39;t really help.."}],"tags":[],"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681145992,"creation_date":1681145992,"answer_id":75979043,"question_id":75923718,"body_markdown":"The .dlls are not created continually. But they could be created each time you deploy a war. Due to Windows behavior, they can&#39;t be safely deleted while the Java process is running.\r\n\r\nYou can disable netty-tcnative (which may impact performance) by starting tomcat with `-Dio.grpc.netty.shaded.io.netty.handler.ssl.noOpenSsl=true`. The performance difference if using Java 8 can be large. If you use Java 11 or later, the difference is much smaller.","title":"gRpc netty creating .dll files windows","body":"<p>The .dlls are not created continually. But they could be created each time you deploy a war. Due to Windows behavior, they can't be safely deleted while the Java process is running.</p>\n<p>You can disable netty-tcnative (which may impact performance) by starting tomcat with <code>-Dio.grpc.netty.shaded.io.netty.handler.ssl.noOpenSsl=true</code>. The performance difference if using Java 8 can be large. If you use Java 11 or later, the difference is much smaller.</p>\n"}],"owner":{"account_id":20267680,"reputation":105,"user_id":14864502,"display_name":"User1254"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681145992,"creation_date":1680555574,"question_id":75923718,"body_markdown":"In the `temp` folder of tomcat (version 9.0.43) I noticed that there are numerous `.dll` files with this pattern name: `io_grpc_netty_shaded_netty_tcnative_windows_x86_***SOME_RANDOM_NUMBER***.dll.\r\n\r\nI noticed that a `.dll` file is created at least once when tomcat starts, but I&#39;m not sure if it is being created also at runtime by some operations.\r\n\r\nIn this java project these are the dependencies that could matter..\r\n\r\n    &lt;dependencyManagement&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\r\n    \t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-cloud-gcp-starter-vision&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\r\n    \t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.4.3&lt;/version&gt;\r\n    \t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nIn order to not create so many `.dll` files that in the long run can clutter up the system&#39;s memory, is there a way to tell the java webapp to use only one `.dll`?\r\n\r\nI tried a temporary solution found at this [link][1] but it didn&#39;t work out for me.\r\n\r\nThis one is another [solution][2] I found but I&#39;m using an ApplicationRunner of Spring to run some stuff, I don&#39;t know how that one could help..\r\nOne way I guess is to run an instruction inside the ApplicationRunner to delete those `.dll` files but I don&#39;t really like this idea.\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/grpc/grpc/issues/21788\r\n  [2]: https://github.com/elastic/logstash/issues/10182","title":"gRpc netty creating .dll files windows","body":"<p>In the <code>temp</code> folder of tomcat (version 9.0.43) I noticed that there are numerous <code>.dll</code> files with this pattern name: `io_grpc_netty_shaded_netty_tcnative_windows_x86_<em><strong>SOME_RANDOM_NUMBER</strong></em>.dll.</p>\n<p>I noticed that a <code>.dll</code> file is created at least once when tomcat starts, but I'm not sure if it is being created also at runtime by some operations.</p>\n<p>In this java project these are the dependencies that could matter..</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-gcp-starter-vision&lt;/artifactId&gt;\n        &lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;version&gt;2.4.3&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>In order to not create so many <code>.dll</code> files that in the long run can clutter up the system's memory, is there a way to tell the java webapp to use only one <code>.dll</code>?</p>\n<p>I tried a temporary solution found at this <a href=\"https://github.com/grpc/grpc/issues/21788\" rel=\"nofollow noreferrer\">link</a> but it didn't work out for me.</p>\n<p>This one is another <a href=\"https://github.com/elastic/logstash/issues/10182\" rel=\"nofollow noreferrer\">solution</a> I found but I'm using an ApplicationRunner of Spring to run some stuff, I don't know how that one could help..\nOne way I guess is to run an instruction inside the ApplicationRunner to delete those <code>.dll</code> files but I don't really like this idea.</p>\n"},{"tags":["java","arrays","generics","reflection","instantiation"],"comments":[{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":21,"creation_date":1234204449,"post_id":529085,"comment_id":342261,"body_markdown":"Do you really _need_ to use an array here? What about using a Collection?","body":"Do you really <i>need</i> to use an array here? What about using a Collection?"},{"owner":{"account_id":25092,"reputation":25309,"user_id":64250,"accept_rate":76,"display_name":"tatsuhirosatou"},"score":16,"creation_date":1234208872,"post_id":529085,"comment_id":342483,"body_markdown":"Yes I also think that collections are more elegant to for this problem. But this is for a class assignment and they are required :(","body":"Yes I also think that collections are more elegant to for this problem. But this is for a class assignment and they are required :("},{"owner":{"account_id":1733785,"reputation":1540,"user_id":1586797,"display_name":"bronze man"},"score":5,"creation_date":1498790774,"post_id":529085,"comment_id":76656206,"body_markdown":"I do not understand why I need a reflect here.Java grammar is strange: like new java.util.HashMap&lt;String,String&gt;[10] is not valid. new java.util.HashMap&lt;long,long&gt;(10) is not valid. new long[][10] is not valid, new long[10][] is valid. That stuff make write a program that can write java program is more difficult then it looks like.","body":"I do not understand why I need a reflect here.Java grammar is strange: like new java.util.HashMap&lt;String,String&gt;[10] is not valid. new java.util.HashMap&lt;long,long&gt;(10) is not valid. new long[][10] is not valid, new long[10][] is valid. That stuff make write a program that can write java program is more difficult then it looks like."},{"owner":{"account_id":4088741,"reputation":6300,"user_id":3357352,"accept_rate":97,"display_name":"OrenIshShalom"},"score":0,"creation_date":1699694387,"post_id":529085,"comment_id":136565836,"body_markdown":"Very surprising such an important feature has (still) no elegant solution (Java 20)","body":"Very surprising such an important feature has (still) no elegant solution (Java 20)"}],"answers":[{"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":14,"creation_date":1234219298,"post_id":529094,"comment_id":343327,"body_markdown":"The second example (using Array.newInstance()) *is* in fact typesafe. This is possible because the type T of the Class object needs to match the T of the array. It basically forces you to provide the information that the Java runtime discards for generics.","body":"The second example (using Array.newInstance()) <i>is</i> in fact typesafe. This is possible because the type T of the Class object needs to match the T of the array. It basically forces you to provide the information that the Java runtime discards for generics."}],"tags":[],"owner":{"account_id":876878,"reputation":694,"user_id":64081,"display_name":"Ola Bini"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1234200838,"creation_date":1234200838,"answer_id":529094,"question_id":529085,"body_markdown":"The example is using Java reflection to create an array. Doing this is generally not recommended, since it isn&#39;t typesafe. Instead, what you should do is just use an internal List&lt;T&gt;, and avoid the array at all.","title":"How to create a generic array in Java?","body":"<p>The example is using Java reflection to create an array. Doing this is generally not recommended, since it isn't typesafe. Instead, what you should do is just use an internal List, and avoid the array at all.</p>\n"},{"comments":[{"owner":{"account_id":2477436,"reputation":1968,"user_id":2157772,"accept_rate":100,"display_name":"gparyani"},"score":0,"creation_date":1410882388,"post_id":529140,"comment_id":40488507,"body_markdown":"&quot;We&#39;re looking for long answers that provide some explanation and context. Don&#39;t just give a one-line answer; explain why your answer is correct, ideally with citations. Answers without explanations may be removed.&quot;","body":"&quot;We&#39;re looking for long answers that provide some explanation and context. Don&#39;t just give a one-line answer; explain why your answer is correct, ideally with citations. Answers without explanations may be removed.&quot;"},{"owner":{"account_id":3070135,"reputation":579,"user_id":2601010,"accept_rate":55,"display_name":"RamPrasadBismil"},"score":0,"creation_date":1461228958,"post_id":529140,"comment_id":61107325,"body_markdown":"BUt that won`t work in some cases like if your generic class wants to implement Comparable interface.","body":"BUt that won`t work in some cases like if your generic class wants to implement Comparable interface."},{"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"score":0,"creation_date":1461697404,"post_id":529140,"comment_id":61313810,"body_markdown":"Welcome to seven years ago, I suppose.","body":"Welcome to seven years ago, I suppose."},{"owner":{"account_id":6523765,"reputation":9872,"user_id":5083516,"display_name":"plugwash"},"score":1,"creation_date":1499863924,"post_id":529140,"comment_id":77089723,"body_markdown":"This will not work if you try to return the array from the generic code to a non-generic caller. There will be a head-scrating classcastexception.","body":"This will not work if you try to return the array from the generic code to a non-generic caller. There will be a head-scrating classcastexception."}],"tags":[],"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"comment_count":4,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1234201615,"creation_date":1234201615,"answer_id":529140,"question_id":529085,"body_markdown":"You could create an Object array and cast it to E everywhere. Yeah, it&#39;s not very clean way to do it but it should at least work.","title":"How to create a generic array in Java?","body":"<p>You could create an Object array and cast it to E everywhere. Yeah, it's not very clean way to do it but it should at least work.</p>\n"},{"tags":[],"owner":{"account_id":22825,"reputation":6383,"user_id":56708,"display_name":"Jeff Olson"},"comment_count":0,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1472489819,"creation_date":1234205442,"answer_id":529358,"question_id":529085,"body_markdown":"This is covered in Chapter 5 (Generics) of [Effective Java, 2nd Edition][1], item 25...**Prefer lists to arrays**\r\n\r\nYour code will work, although it will generate an unchecked warning (which you could suppress with the following annotation:\r\n\r\n    @SuppressWarnings({&quot;unchecked&quot;})\r\n\r\nHowever, it would probably be better to use a List instead of an Array.\r\n\r\nThere&#39;s an interesting discussion of this bug/feature on [the OpenJDK project site][2].\r\n\r\n  [1]: http://java.sun.com/docs/books/effective/\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-5105887","title":"How to create a generic array in Java?","body":"<p>This is covered in Chapter 5 (Generics) of <a href=\"http://java.sun.com/docs/books/effective/\" rel=\"noreferrer\">Effective Java, 2nd Edition</a>, item 25...<strong>Prefer lists to arrays</strong></p>\n\n<p>Your code will work, although it will generate an unchecked warning (which you could suppress with the following annotation:</p>\n\n<pre><code>@SuppressWarnings({\"unchecked\"})\n</code></pre>\n\n<p>However, it would probably be better to use a List instead of an Array.</p>\n\n<p>There's an interesting discussion of this bug/feature on <a href=\"https://bugs.openjdk.java.net/browse/JDK-5105887\" rel=\"noreferrer\">the OpenJDK project site</a>.</p>\n"},{"comments":[{"owner":{"account_id":1124287,"reputation":6080,"user_id":1111929,"accept_rate":87,"display_name":"user1111929"},"score":8,"creation_date":1347076371,"post_id":530289,"comment_id":16546335,"body_markdown":"What would performance-wise be the best option? I need to get elements from this array quite often (within a loop). So a collection is probably slower, but which of these two is fastest?","body":"What would performance-wise be the best option? I need to get elements from this array quite often (within a loop). So a collection is probably slower, but which of these two is fastest?"},{"owner":{"account_id":1946663,"reputation":15594,"user_id":1751640,"accept_rate":75,"display_name":"Mordechai"},"score":4,"creation_date":1365400743,"post_id":530289,"comment_id":22594633,"body_markdown":"And if the generic type is bounded, the backing array should be of the bounding type.","body":"And if the generic type is bounded, the backing array should be of the bounding type."},{"owner":{"account_id":79153,"reputation":513965,"user_id":224671,"accept_rate":67,"display_name":"kennytm"},"score":5,"creation_date":1380197852,"post_id":530289,"comment_id":28115958,"body_markdown":"@AaronDigulla Just to clarify that&#39;s not assignment, but initialization of a local variable. You can&#39;t annotate an expression/statement.","body":"@AaronDigulla Just to clarify that&#39;s not assignment, but initialization of a local variable. You can&#39;t annotate an expression/statement."},{"owner":{"account_id":400676,"reputation":463,"user_id":766778,"accept_rate":78,"display_name":"Dhawan Gayash"},"score":1,"creation_date":1409248406,"post_id":530289,"comment_id":39904978,"body_markdown":"@Varkhan Is there a way to resize these arrays from within the class implementation. For example if I want to resize after overflow like ArrayList. I looked up the Implementation of ArrayList they have `Object[] EMPTY_ELEMENTDATA = {}` for storage. Can I use this mechanism to resize without knowing the type using generics?","body":"@Varkhan Is there a way to resize these arrays from within the class implementation. For example if I want to resize after overflow like ArrayList. I looked up the Implementation of ArrayList they have <code>Object[] EMPTY_ELEMENTDATA = {}</code> for storage. Can I use this mechanism to resize without knowing the type using generics?"},{"owner":{"account_id":5214978,"reputation":3032,"user_id":4170242,"accept_rate":95,"display_name":"Daniel Kvist"},"score":2,"creation_date":1426257867,"post_id":530289,"comment_id":46311012,"body_markdown":"For those who want to make a method with a generic type (which was what I was looking for), use this: `public void &lt;T&gt; T[] newArray(Class&lt;T&gt; type, int length) { ... }`","body":"For those who want to make a method with a generic type (which was what I was looking for), use this: <code>public void &lt;T&gt; T[] newArray(Class&lt;T&gt; type, int length) { ... }</code>"},{"owner":{"account_id":103460,"reputation":8169,"user_id":277113,"accept_rate":53,"display_name":"gozzilli"},"score":1,"creation_date":1433790492,"post_id":530289,"comment_id":49491843,"body_markdown":"Does this mean that every time I instantiate ``GenSet`` of some type, say for example ``new GenSet&lt;Float&gt;`` I have to pass the Type.class (that is ``new GenSet&lt;Float&gt;(Float.class, 10)``? Is there no way to write it as ``new GenSet&lt;Float&gt;(10)`` and still maintain the strong typing?","body":"Does this mean that every time I instantiate <code>GenSet</code> of some type, say for example <code>new GenSet&lt;Float&gt;</code> I have to pass the Type.class (that is <code>new GenSet&lt;Float&gt;(Float.class, 10)</code>? Is there no way to write it as <code>new GenSet&lt;Float&gt;(10)</code> and still maintain the strong typing?"},{"owner":{"account_id":169541,"reputation":5448,"user_id":395685,"accept_rate":100,"display_name":"Nyerguds"},"score":2,"creation_date":1509957841,"post_id":530289,"comment_id":81215266,"body_markdown":"@gozzilli Sadly not, because Java generics are basically, well, fake. You can&#39;t do anything without also having the class object.","body":"@gozzilli Sadly not, because Java generics are basically, well, fake. You can&#39;t do anything without also having the class object."},{"owner":{"account_id":16730831,"reputation":820,"user_id":12093209,"display_name":"qwerty"},"score":0,"creation_date":1591729667,"post_id":530289,"comment_id":110165592,"body_markdown":"Is there any way to get the variable ```c``` of type ```Class&lt;E&gt;``` inside the method itself, without passing it as a parameter?","body":"Is there any way to get the variable <code>c</code> of type <code>Class&lt;E&gt;</code> inside the method itself, without passing it as a parameter?"},{"owner":{"account_id":1816391,"reputation":508,"user_id":2324063,"display_name":"gary"},"score":0,"creation_date":1667736653,"post_id":530289,"comment_id":131233294,"body_markdown":"Why, oh why!, doesn&#39;t the compiler perform the same type erasure on `new E[s]` as it already does on the generic `field E[] a;` The array type of field `a` is translated at compile time to the first class or interface that `E` extends in the declaration. So if `class GenSet&lt;E extends Runnable &amp; B &amp; C&gt;` then the field `a` is declared as type `Runnable[]`, so why not also translate `new E[s]` to `new Runnable[s]` at compile time so we can make a type safe assignment `this.a = new E[s]`?","body":"Why, oh why!, doesn&#39;t the compiler perform the same type erasure on <code>new E[s]</code> as it already does on the generic <code>field E[] a;</code> The array type of field <code>a</code> is translated at compile time to the first class or interface that <code>E</code> extends in the declaration. So if <code>class GenSet&lt;E extends Runnable &amp; B &amp; C&gt;</code> then the field <code>a</code> is declared as type <code>Runnable[]</code>, so why not also translate <code>new E[s]</code> to <code>new Runnable[s]</code> at compile time so we can make a type safe assignment <code>this.a = new E[s]</code>?"}],"tags":[],"owner":{"account_id":25119,"reputation":16621,"user_id":64331,"display_name":"Varkhan"},"comment_count":9,"down_vote_count":4,"up_vote_count":782,"is_accepted":true,"score":778,"last_activity_date":1428293993,"creation_date":1234217971,"answer_id":530289,"question_id":529085,"body_markdown":"I have to ask a question in return: is your `GenSet` &quot;checked&quot; or &quot;unchecked&quot;?\r\nWhat does that mean?\r\n\r\n- **Checked**: *strong typing*. `GenSet` knows explicitly what type of objects it contains (i.e. its constructor was explicitly called with a `Class&lt;E&gt;` argument, and methods will throw an exception when they are passed arguments that are not of type `E`. See [`Collections.checkedCollection`][1].\r\n\r\n  -&gt; in that case, you should write:\r\n\r\n        public class GenSet&lt;E&gt; {\r\n\r\n            private E[] a;\r\n\r\n            public GenSet(Class&lt;E&gt; c, int s) {\r\n                // Use Array native method to create array\r\n                // of a type only known at run time\r\n                @SuppressWarnings(&quot;unchecked&quot;)\r\n                final E[] a = (E[]) Array.newInstance(c, s);\r\n                this.a = a;\r\n            }\r\n\r\n            E get(int i) {\r\n                return a[i];\r\n            }\r\n        }\r\n\r\n\r\n- **Unchecked**: *weak typing*. No type checking is actually done on any of the objects passed as argument.\r\n\r\n  -&gt; in that case, you should write\r\n\r\n        public class GenSet&lt;E&gt; {\r\n\r\n            private Object[] a;\r\n\r\n            public GenSet(int s) {\r\n                a = new Object[s];\r\n            }\r\n\r\n            E get(int i) {\r\n                @SuppressWarnings(&quot;unchecked&quot;)\r\n                final E e = (E) a[i];\r\n                return e;\r\n            }\r\n        }\r\n     \r\n    Note that the component type of the array should be the [*erasure*][2] of the type parameter:\r\n\r\n        public class GenSet&lt;E extends Foo&gt; { // E has an upper bound of Foo\r\n\r\n            private Foo[] a; // E erases to Foo, so use Foo[]\r\n\r\n            public GenSet(int s) {\r\n                a = new Foo[s];\r\n            }\r\n\r\n            ...\r\n        }\r\n\r\nAll of this results from a known, and deliberate, weakness of generics in Java: it was implemented using erasure, so &quot;generic&quot; classes don&#39;t know what type argument they were created with at run time, and therefore can not provide type-safety unless some explicit mechanism (type-checking) is implemented.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#checkedCollection%28java.util.Collection,%20java.lang.Class%29\r\n  [2]: http://docs.oracle.com/javase/tutorial/java/generics/erasure.html","title":"How to create a generic array in Java?","body":"<p>I have to ask a question in return: is your <code>GenSet</code> \"checked\" or \"unchecked\"?\nWhat does that mean?</p>\n\n<ul>\n<li><p><strong>Checked</strong>: <em>strong typing</em>. <code>GenSet</code> knows explicitly what type of objects it contains (i.e. its constructor was explicitly called with a <code>Class&lt;E&gt;</code> argument, and methods will throw an exception when they are passed arguments that are not of type <code>E</code>. See <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#checkedCollection%28java.util.Collection,%20java.lang.Class%29\" rel=\"noreferrer\"><code>Collections.checkedCollection</code></a>.</p>\n\n<p>-> in that case, you should write:</p>\n\n<pre><code>public class GenSet&lt;E&gt; {\n\n    private E[] a;\n\n    public GenSet(Class&lt;E&gt; c, int s) {\n        // Use Array native method to create array\n        // of a type only known at run time\n        @SuppressWarnings(\"unchecked\")\n        final E[] a = (E[]) Array.newInstance(c, s);\n        this.a = a;\n    }\n\n    E get(int i) {\n        return a[i];\n    }\n}\n</code></pre></li>\n<li><p><strong>Unchecked</strong>: <em>weak typing</em>. No type checking is actually done on any of the objects passed as argument.</p>\n\n<p>-> in that case, you should write</p>\n\n<pre><code>public class GenSet&lt;E&gt; {\n\n    private Object[] a;\n\n    public GenSet(int s) {\n        a = new Object[s];\n    }\n\n    E get(int i) {\n        @SuppressWarnings(\"unchecked\")\n        final E e = (E) a[i];\n        return e;\n    }\n}\n</code></pre>\n\n<p>Note that the component type of the array should be the <a href=\"http://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"noreferrer\"><em>erasure</em></a> of the type parameter:</p>\n\n<pre><code>public class GenSet&lt;E extends Foo&gt; { // E has an upper bound of Foo\n\n    private Foo[] a; // E erases to Foo, so use Foo[]\n\n    public GenSet(int s) {\n        a = new Foo[s];\n    }\n\n    ...\n}\n</code></pre></li>\n</ul>\n\n<p>All of this results from a known, and deliberate, weakness of generics in Java: it was implemented using erasure, so \"generic\" classes don't know what type argument they were created with at run time, and therefore can not provide type-safety unless some explicit mechanism (type-checking) is implemented.</p>\n"},{"tags":[],"owner":{"account_id":5059,"reputation":8280,"user_id":7938,"display_name":"Bill Michell"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1234346855,"creation_date":1234346855,"answer_id":536195,"question_id":529085,"body_markdown":"Java generics work by checking types at compile time and inserting appropriate casts, but *erasing* the types in the compiled files. This makes generic libraries usable by code which doesn&#39;t understand generics (which was a deliberate design decision) but which means you can&#39;t normally find out what the type is at run time.\r\n\r\nThe public `Stack(Class&lt;T&gt; clazz,int capacity)` constructor requires you to pass a Class object at run time, which means class information *is* available at runtime to code that needs it. And the `Class&lt;T&gt;` form means that the compiler will check that the Class object you pass is precisely the Class object for type T. Not a subclass of T, not a superclass of T, but precisely T.\r\n\r\nThis then means that you can create an array object of the appropriate type in your constructor, which means that the type of the objects you store in your collection will have their types checked at the point they are added to the collection.","title":"How to create a generic array in Java?","body":"<p>Java generics work by checking types at compile time and inserting appropriate casts, but <em>erasing</em> the types in the compiled files. This makes generic libraries usable by code which doesn't understand generics (which was a deliberate design decision) but which means you can't normally find out what the type is at run time.</p>\n\n<p>The public <code>Stack(Class&lt;T&gt; clazz,int capacity)</code> constructor requires you to pass a Class object at run time, which means class information <em>is</em> available at runtime to code that needs it. And the <code>Class&lt;T&gt;</code> form means that the compiler will check that the Class object you pass is precisely the Class object for type T. Not a subclass of T, not a superclass of T, but precisely T.</p>\n\n<p>This then means that you can create an array object of the appropriate type in your constructor, which means that the type of the objects you store in your collection will have their types checked at the point they are added to the collection.</p>\n"},{"comments":[{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":51,"creation_date":1286813360,"post_id":2924453,"comment_id":4165221,"body_markdown":"This will not work if the array is treated as a typed array of any kind, such as `String[] s=b;` in the above `test()` method.  That&#39;s because the array of E isn&#39;t really, it&#39;s Object[].  This matters if you want, e.g. a `List&lt;String&gt;[]` - you can&#39;t use an `Object[]` for that, you must have a `List[]` specifically.  Which is why you need to use the reflected Class&lt;?&gt; array creation.","body":"This will not work if the array is treated as a typed array of any kind, such as <code>String[] s=b;</code> in the above <code>test()</code> method.  That&#39;s because the array of E isn&#39;t really, it&#39;s Object[].  This matters if you want, e.g. a <code>List&lt;String&gt;[]</code> - you can&#39;t use an <code>Object[]</code> for that, you must have a <code>List[]</code> specifically.  Which is why you need to use the reflected Class&lt;?&gt; array creation."},{"owner":{"account_id":76173,"reputation":919,"user_id":218261,"display_name":"misiu_mp"},"score":0,"creation_date":1313006266,"post_id":2924453,"comment_id":8379797,"body_markdown":"@SoftwareMonkey I tried this with `List&lt;String&gt;` as `E`. Running it with as `t.genericArrayTest(Arrays.asList(&quot;Hello World&quot;));` Works great.","body":"@SoftwareMonkey I tried this with <code>List&lt;String&gt;</code> as <code>E</code>. Running it with as <code>t.genericArrayTest(Arrays.asList(&quot;Hello World&quot;));</code> Works great."},{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":8,"creation_date":1313006643,"post_id":2924453,"comment_id":8379898,"body_markdown":"The corner-case/problem is if you want to do, for example, `public E[] toArray() { return (E[])internalArray.clone(); }` when `internalArray` is typed as `E[]`, and is therefore actually an `Object[]`.  This fails at runtime with a type-cast exception because an `Object[]` cannot be assigned to an array of whatever type `E` happens to be.","body":"The corner-case/problem is if you want to do, for example, <code>public E[] toArray() { return (E[])internalArray.clone(); }</code> when <code>internalArray</code> is typed as <code>E[]</code>, and is therefore actually an <code>Object[]</code>.  This fails at runtime with a type-cast exception because an <code>Object[]</code> cannot be assigned to an array of whatever type <code>E</code> happens to be."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":19,"creation_date":1316815666,"post_id":2924453,"comment_id":9129555,"body_markdown":"Basically, this approach will work as long as you do not return the array or pass it or store it in some place outside of the class that requires an array of a certain type. As long as you&#39;re inside the class you&#39;re fine because E is erased. It&#39;s &quot;dangerous&quot; because if you try to return it or something, you get no warning that it&#39;s unsafe. But if you&#39;re careful then it works.","body":"Basically, this approach will work as long as you do not return the array or pass it or store it in some place outside of the class that requires an array of a certain type. As long as you&#39;re inside the class you&#39;re fine because E is erased. It&#39;s &quot;dangerous&quot; because if you try to return it or something, you get no warning that it&#39;s unsafe. But if you&#39;re careful then it works."},{"owner":{"account_id":49098,"reputation":26659,"user_id":146041,"accept_rate":71,"display_name":"Aaron McDaid"},"score":3,"creation_date":1327175610,"post_id":2924453,"comment_id":11213983,"body_markdown":"It is quite safe. In `E[] b = (E[])new Object[1];` you can clearly see that the only reference to the created array is `b` and that the type of `b` is `E[]`. Therefore there is no danger of you accidentally accessing the same array through a different variable of a different type. If instead, you had `Object[] a = new Object[1]; E[]b = (E[])a; ` then you would need to be paranoid about how you use `a`.","body":"It is quite safe. In <code>E[] b = (E[])new Object[1];</code> you can clearly see that the only reference to the created array is <code>b</code> and that the type of <code>b</code> is <code>E[]</code>. Therefore there is no danger of you accidentally accessing the same array through a different variable of a different type. If instead, you had <code>Object[] a = new Object[1]; E[]b = (E[])a; </code> then you would need to be paranoid about how you use <code>a</code>."},{"owner":{"account_id":30047,"reputation":3185,"user_id":81658,"accept_rate":90,"display_name":"Quantum7"},"score":5,"creation_date":1332549753,"post_id":2924453,"comment_id":12552177,"body_markdown":"At least in Java 1.6, this generates a warning: &quot;Unchecked cast from Object[] to T[]&quot;","body":"At least in Java 1.6, this generates a warning: &quot;Unchecked cast from Object[] to T[]&quot;"},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":1,"creation_date":1332654260,"post_id":2924453,"comment_id":12567084,"body_markdown":"Very odd, I would have been using 1.6 when I made this post, but I&#39;m also seeing a warning now too.","body":"Very odd, I would have been using 1.6 when I made this post, but I&#39;m also seeing a warning now too."},{"owner":{"account_id":228932,"reputation":23614,"user_id":491553,"accept_rate":45,"display_name":"Ryan Shillington"},"score":0,"creation_date":1337199564,"post_id":2924453,"comment_id":13772044,"body_markdown":"Genius!  This works in GWT too, where reflection won&#39;t work.  Thank you!\n\nBTW, add @SuppressWarnings(&quot;unchecked&quot;) to get rid of the warning.","body":"Genius!  This works in GWT too, where reflection won&#39;t work.  Thank you!  BTW, add @SuppressWarnings(&quot;unchecked&quot;) to get rid of the warning."},{"owner":{"account_id":2271363,"reputation":235,"user_id":1998670,"accept_rate":75,"display_name":"Blackzafiro"},"score":1,"creation_date":1426698734,"post_id":2924453,"comment_id":46482654,"body_markdown":"It is not correct because **b is an array of Objects**.  You should just write `Object[] b = new Object[1]`, anything else is cheating yourself and the compiler (perhaps getting it to let you know, if it was your intention to only store Strings inside, when you are not being consistent).  You can store a String in an array of Objects because String inherits from Object, but you certainly have **not** created an array of Strings.","body":"It is not correct because <b>b is an array of Objects</b>.  You should just write <code>Object[] b = new Object[1]</code>, anything else is cheating yourself and the compiler (perhaps getting it to let you know, if it was your intention to only store Strings inside, when you are not being consistent).  You can store a String in an array of Objects because String inherits from Object, but you certainly have <b>not</b> created an array of Strings."},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":1,"creation_date":1426708572,"post_id":2924453,"comment_id":46488672,"body_markdown":"@Blackzafiro like I said, &quot;this `Object[]` is now masquerading as our `E[]` type&quot; - this method should only be used when we can trust the array won&#39;t be passed around or otherwise misused.  For private/internal code, it&#39;s reasonably safe.","body":"@Blackzafiro like I said, &quot;this <code>Object[]</code> is now masquerading as our <code>E[]</code> type&quot; - this method should only be used when we can trust the array won&#39;t be passed around or otherwise misused.  For private/internal code, it&#39;s reasonably safe."},{"owner":{"display_name":"user4229245"},"score":1,"creation_date":1428092932,"post_id":2924453,"comment_id":47047138,"body_markdown":"@dimo414, safe but only for &quot;private/internal code&quot;? To be clear for the not &quot;private/internal code&quot;, I&#39;m sorry guys, but this smacks of being a fairly crummy idiom.  `(E[])(new Object[1])` is just not something a tired engineer at 3am is going to immediately see the pitfalls for and smacks of something that is of the form Disaster Waiting to Happen&#174;.  I wouldn&#39;t use it for something I was writing solely for myself.","body":"@dimo414, safe but only for &quot;private/internal code&quot;? To be clear for the not &quot;private/internal code&quot;, I&#39;m sorry guys, but this smacks of being a fairly crummy idiom.  <code>(E[])(new Object[1])</code> is just not something a tired engineer at 3am is going to immediately see the pitfalls for and smacks of something that is of the form Disaster Waiting to Happen&#174;.  I wouldn&#39;t use it for something I was writing solely for myself."},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":2,"creation_date":1428102382,"post_id":2924453,"comment_id":47050140,"body_markdown":"@tgm1024 it&#39;s fine by me if you don&#39;t want to use it.  You shouldn&#39;t be mixing generics and arrays in the first place, so I don&#39;t think the problem is really with this solution.  It&#39;s about as safe as using raw types, which is certainly not recommended, but for code that doesn&#39;t expose the array, is generally not actively harmful.  As I&#39;ve said, this isn&#39;t ideal, but it is easy.  Sometimes, that tradeoff is ok.","body":"@tgm1024 it&#39;s fine by me if you don&#39;t want to use it.  You shouldn&#39;t be mixing generics and arrays in the first place, so I don&#39;t think the problem is really with this solution.  It&#39;s about as safe as using raw types, which is certainly not recommended, but for code that doesn&#39;t expose the array, is generally not actively harmful.  As I&#39;ve said, this isn&#39;t ideal, but it is easy.  Sometimes, that tradeoff is ok."},{"owner":{"account_id":2239581,"reputation":465,"user_id":1974969,"accept_rate":20,"display_name":"Singagirl"},"score":0,"creation_date":1471848462,"post_id":2924453,"comment_id":65493818,"body_markdown":"It brings cast exception if for example return such array from a method where a caller expects certain type.","body":"It brings cast exception if for example return such array from a method where a caller expects certain type."},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1471872711,"post_id":2924453,"comment_id":65509430,"body_markdown":"@dmitriyr yes, like I said in the answer this isn&#39;t safe for general use; it&#39;s best used for internal data structures where you control access to the array. If you need to return a dynamically-typed array to callers (why? use `List` instead) you need to use reflection.","body":"@dmitriyr yes, like I said in the answer this isn&#39;t safe for general use; it&#39;s best used for internal data structures where you control access to the array. If you need to return a dynamically-typed array to callers (why? use <code>List</code> instead) you need to use reflection."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1541877495,"post_id":2924453,"comment_id":93370545,"body_markdown":"@newacct while you are correct that if you don&#39;t expose the generic array you should be fine, it will only work with unbouded types. For example this will still fail `static &lt;T extends Foo&gt; void testMe(T elem) {\n        T[] array = (T[]) new Object[]{elem};\n    }` because in this case the erased type will be `Foo` and not `Object`","body":"@newacct while you are correct that if you don&#39;t expose the generic array you should be fine, it will only work with unbouded types. For example this will still fail <code>static &lt;T extends Foo&gt; void testMe(T elem) {         T[] array = (T[]) new Object[]{elem};     }</code> because in this case the erased type will be <code>Foo</code> and not <code>Object</code>"},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":1,"creation_date":1541902340,"post_id":2924453,"comment_id":93375680,"body_markdown":"@Eugene: you would use the erasure of `T` as the component type when creating the array. So if the erasure of `T` is `Foo`, then you would do `array = (T[])new Foo[length];`","body":"@Eugene: you would use the erasure of <code>T</code> as the component type when creating the array. So if the erasure of <code>T</code> is <code>Foo</code>, then you would do <code>array = (T[])new Foo[length];</code>"},{"owner":{"account_id":200630,"reputation":27386,"user_id":446591,"accept_rate":65,"display_name":"Brad Mace"},"score":0,"creation_date":1543517358,"post_id":2924453,"comment_id":93957995,"body_markdown":"You *cannot* always do this: https://softwareengineering.stackexchange.com/a/331109/4475","body":"You <i>cannot</i> always do this: <a href=\"https://softwareengineering.stackexchange.com/a/331109/4475\">softwareengineering.stackexchange.com/a/331109/4475</a>"},{"owner":{"account_id":11383064,"reputation":494,"user_id":8345451,"display_name":"Divya Gupta"},"score":0,"creation_date":1663394353,"post_id":2924453,"comment_id":130233920,"body_markdown":"I agree @dimo414. Just want to add one point to it that, if you are implementing a custom data structure which uses generics for its data, then the workaround mentioned here might work, e.g., if a dynamic stack is implemented which doubles its size on capacity threshold reached or shrinks its size when a threshold size is reached, then this code will work as it should. But for a production code, it&#39;s better to use `Collections` framework, as it is more reliable than this &quot;potentially dangerous&quot; piece of code.","body":"I agree @dimo414. Just want to add one point to it that, if you are implementing a custom data structure which uses generics for its data, then the workaround mentioned here might work, e.g., if a dynamic stack is implemented which doubles its size on capacity threshold reached or shrinks its size when a threshold size is reached, then this code will work as it should. But for a production code, it&#39;s better to use <code>Collections</code> framework, as it is more reliable than this &quot;potentially dangerous&quot; piece of code."},{"owner":{"account_id":1816391,"reputation":508,"user_id":2324063,"display_name":"gary"},"score":0,"creation_date":1667737135,"post_id":2924453,"comment_id":131233393,"body_markdown":"This is wrong in general.  If the type E is declared as extending another class, eg `GenSet&lt;E extends C1 &amp; C2 &amp; C3&gt;` then the compiler actually declares the field `E[] a;` of array type `C1[]`. So we cannot assume to make the assignment `this.a = (E[]) new Object[s]`, the correct assignment in this case would be `this.a = (E[]) new C1[s]`. Which is why I&#39;m puzzled the compiler doesn&#39;t perform the same type erasure on the array constructor `new E[s]` as it does on the field array declaration `private E[] a;`.","body":"This is wrong in general.  If the type E is declared as extending another class, eg <code>GenSet&lt;E extends C1 &amp; C2 &amp; C3&gt;</code> then the compiler actually declares the field <code>E[] a;</code> of array type <code>C1[]</code>. So we cannot assume to make the assignment <code>this.a = (E[]) new Object[s]</code>, the correct assignment in this case would be <code>this.a = (E[]) new C1[s]</code>. Which is why I&#39;m puzzled the compiler doesn&#39;t perform the same type erasure on the array constructor <code>new E[s]</code> as it does on the field array declaration <code>private E[] a;</code>."}],"tags":[],"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"comment_count":19,"down_vote_count":14,"up_vote_count":284,"is_accepted":false,"score":270,"last_activity_date":1543533872,"creation_date":1274990445,"answer_id":2924453,"question_id":529085,"body_markdown":"You can do this:\r\n\r\n    E[] arr = (E[])new Object[INITIAL_ARRAY_LENGTH];\r\n\r\nThis is one of the suggested ways of implementing a generic collection in *Effective Java; Item 26*.  No type errors, no need to cast the array repeatedly.  *However* this triggers a warning because it is potentially dangerous, and should be used with caution.  As detailed in the comments, this `Object[]` is now masquerading as our `E[]` type, and can cause unexpected errors or `ClassCastException`s if used unsafely.\r\n\r\nAs a rule of thumb, this behavior is safe as long as the cast array is used internally (e.g. to back a data structure), and not returned or exposed to client code.  Should you need to return an array of a generic type to other code, the reflection `Array` class you mention is the right way to go.\r\n\r\n---\r\n\r\nWorth mentioning that wherever possible, you&#39;ll have a much happier time working with `List`s rather than arrays if you&#39;re using generics.  Certainly sometimes you don&#39;t have a choice, but using the collections framework is far more robust.","title":"How to create a generic array in Java?","body":"<p>You can do this:</p>\n\n<pre><code>E[] arr = (E[])new Object[INITIAL_ARRAY_LENGTH];\n</code></pre>\n\n<p>This is one of the suggested ways of implementing a generic collection in <em>Effective Java; Item 26</em>.  No type errors, no need to cast the array repeatedly.  <em>However</em> this triggers a warning because it is potentially dangerous, and should be used with caution.  As detailed in the comments, this <code>Object[]</code> is now masquerading as our <code>E[]</code> type, and can cause unexpected errors or <code>ClassCastException</code>s if used unsafely.</p>\n\n<p>As a rule of thumb, this behavior is safe as long as the cast array is used internally (e.g. to back a data structure), and not returned or exposed to client code.  Should you need to return an array of a generic type to other code, the reflection <code>Array</code> class you mention is the right way to go.</p>\n\n<hr>\n\n<p>Worth mentioning that wherever possible, you'll have a much happier time working with <code>List</code>s rather than arrays if you're using generics.  Certainly sometimes you don't have a choice, but using the collections framework is far more robust.</p>\n"},{"comments":[{"owner":{"account_id":31518,"reputation":36053,"user_id":86604,"accept_rate":80,"display_name":"Ingo"},"score":6,"creation_date":1300702270,"post_id":4221845,"comment_id":6076870,"body_markdown":"This is useless, it is only a complicated way to write new String[...]. But what is really needed is something like public static &lt;T&gt; T[] newArray(int size) { ... }, and this simply does not exist in java noir can it be simulated with reflection - the reason is that information about how a generic type is instantiated is not available at runtime.","body":"This is useless, it is only a complicated way to write new String[...]. But what is really needed is something like public static &lt;T&gt; T[] newArray(int size) { ... }, and this simply does not exist in java noir can it be simulated with reflection - the reason is that information about how a generic type is instantiated is not available at runtime."},{"owner":{"account_id":211872,"reputation":7501,"user_id":464306,"accept_rate":92,"display_name":"gdejohn"},"score":4,"creation_date":1300883643,"post_id":4221845,"comment_id":6114605,"body_markdown":"@Ingo What are you talking about? My code can be used to create an array of any type.","body":"@Ingo What are you talking about? My code can be used to create an array of any type."},{"owner":{"account_id":31518,"reputation":36053,"user_id":86604,"accept_rate":80,"display_name":"Ingo"},"score":3,"creation_date":1300884504,"post_id":4221845,"comment_id":6114840,"body_markdown":"@Charlatan: Sure, but so can new []. The question is: who knows the type and when. Therefore, if all you have is a generic type, you can&#39;t.","body":"@Charlatan: Sure, but so can new []. The question is: who knows the type and when. Therefore, if all you have is a generic type, you can&#39;t."},{"owner":{"account_id":211872,"reputation":7501,"user_id":464306,"accept_rate":92,"display_name":"gdejohn"},"score":0,"creation_date":1300884869,"post_id":4221845,"comment_id":6114937,"body_markdown":"@Ingo That&#39;s static. This is dynamic. I&#39;m not sure what you don&#39;t understand.","body":"@Ingo That&#39;s static. This is dynamic. I&#39;m not sure what you don&#39;t understand."},{"owner":{"account_id":31518,"reputation":36053,"user_id":86604,"accept_rate":80,"display_name":"Ingo"},"score":2,"creation_date":1300885126,"post_id":4221845,"comment_id":6114993,"body_markdown":"I don&#39;t doubt that. The point is, you don&#39;t get a Class object at runtime for generic type X.","body":"I don&#39;t doubt that. The point is, you don&#39;t get a Class object at runtime for generic type X."},{"owner":{"account_id":211872,"reputation":7501,"user_id":464306,"accept_rate":92,"display_name":"gdejohn"},"score":0,"creation_date":1300885450,"post_id":4221845,"comment_id":6115076,"body_markdown":"@Ingo See the edit to my answer. Is that not what you&#39;re talking about? Because that compiles without warning and returns an array of the desired type.","body":"@Ingo See the edit to my answer. Is that not what you&#39;re talking about? Because that compiles without warning and returns an array of the desired type."},{"owner":{"account_id":31518,"reputation":36053,"user_id":86604,"accept_rate":80,"display_name":"Ingo"},"score":2,"creation_date":1300887064,"post_id":4221845,"comment_id":6115454,"body_markdown":"Almost. I admit that this is more than what can be achieved with new[]. In practice, this will almost always do the job. However, it is still not possible, for instance, to write a container class parameterized with E that has a method E[] toArray() and that indeed returns a true E[] array. Your code could be applied only when there is at least one E-object in the collection. So, a general solution is impossible.","body":"Almost. I admit that this is more than what can be achieved with new[]. In practice, this will almost always do the job. However, it is still not possible, for instance, to write a container class parameterized with E that has a method E[] toArray() and that indeed returns a true E[] array. Your code could be applied only when there is at least one E-object in the collection. So, a general solution is impossible."},{"owner":{"account_id":211872,"reputation":7501,"user_id":464306,"accept_rate":92,"display_name":"gdejohn"},"score":0,"creation_date":1300887953,"post_id":4221845,"comment_id":6115732,"body_markdown":"@Ingo If you wanted that functionality, and you really wanted to avoid needing to suppress any warnings, then you could have an instance field of type `Class` and have the constructors take a corresponding argument to initialize it with. This could be done in a type-safe manner.","body":"@Ingo If you wanted that functionality, and you really wanted to avoid needing to suppress any warnings, then you could have an instance field of type <code>Class</code> and have the constructors take a corresponding argument to initialize it with. This could be done in a type-safe manner."},{"owner":{"account_id":76173,"reputation":919,"user_id":218261,"display_name":"misiu_mp"},"score":0,"creation_date":1313015369,"post_id":4221845,"comment_id":8382382,"body_markdown":"@Charlatan How to get a Class object for type ArrayList&lt;String&gt;, in a type- safe manner? getClass() will return just ArrayList - no parameter. \nGetting ArrayList&lt;String&gt;[] is difficult too. Apparently one &#39;Cannot create a generic array of ArrayList&lt;String&gt;&#39;, but array of ArrayList is fine.","body":"@Charlatan How to get a Class object for type ArrayList&lt;String&gt;, in a type- safe manner? getClass() will return just ArrayList - no parameter.  Getting ArrayList&lt;String&gt;[] is difficult too. Apparently one &#39;Cannot create a generic array of ArrayList&lt;String&gt;&#39;, but array of ArrayList is fine."},{"owner":{"account_id":76173,"reputation":919,"user_id":218261,"display_name":"misiu_mp"},"score":0,"creation_date":1317723049,"post_id":4221845,"comment_id":9287967,"body_markdown":"@Charlatan Ah, so &#39;have an instance field of type Class and have the constructors take a corresponding argument to initialize it with&#39; cannot be done in a type safe manner after all?","body":"@Charlatan Ah, so &#39;have an instance field of type Class and have the constructors take a corresponding argument to initialize it with&#39; cannot be done in a type safe manner after all?"},{"owner":{"account_id":211872,"reputation":7501,"user_id":464306,"accept_rate":92,"display_name":"gdejohn"},"score":0,"creation_date":1317768628,"post_id":4221845,"comment_id":9300712,"body_markdown":"@misiu_mp Yes, it can. That will compile without warnings and give you what you want. It&#39;s obviously just not an option for the preexisting ArrayList implementation.","body":"@misiu_mp Yes, it can. That will compile without warnings and give you what you want. It&#39;s obviously just not an option for the preexisting ArrayList implementation."},{"owner":{"account_id":76173,"reputation":919,"user_id":218261,"display_name":"misiu_mp"},"score":0,"creation_date":1318337976,"post_id":4221845,"comment_id":9399931,"body_markdown":"@Charlatan Try to use ArrayList&lt;String&gt; as the generic argument in your example. \n\nGenSet&lt;ArrayList&lt;String&gt;&gt; foo = new GenSet&lt; ArrayList&lt;String&gt; &gt;( ArrayList&lt;String&gt;[].class, 1);\n\nI get a lot of errors in the ArrayList&lt;String&gt;[].class contraption.","body":"@Charlatan Try to use ArrayList&lt;String&gt; as the generic argument in your example.   GenSet&lt;ArrayList&lt;String&gt;&gt; foo = new GenSet&lt; ArrayList&lt;String&gt; &gt;( ArrayList&lt;String&gt;[].class, 1);  I get a lot of errors in the ArrayList&lt;String&gt;[].class contraption."},{"owner":{"account_id":211872,"reputation":7501,"user_id":464306,"accept_rate":92,"display_name":"gdejohn"},"score":0,"creation_date":1318518916,"post_id":4221845,"comment_id":9441218,"body_markdown":"@misiu_mp You can&#39;t parameterize class literals, due to type erasure.","body":"@misiu_mp You can&#39;t parameterize class literals, due to type erasure."}],"tags":[],"owner":{"account_id":211872,"reputation":7501,"user_id":464306,"accept_rate":92,"display_name":"gdejohn"},"comment_count":13,"down_vote_count":1,"up_vote_count":72,"is_accepted":false,"score":71,"last_activity_date":1681145565,"creation_date":1290137415,"answer_id":4221845,"question_id":529085,"body_markdown":"Here&#39;s how to use generics to get an array of precisely the type you’re looking for while preserving type safety (as opposed to the other answers, which will either give you back an `Object` array or result in warnings at compile time):\r\n\r\n    import java.lang.reflect.Array;  \r\n    \r\n    public class GenSet&lt;E&gt; {  \r\n        private E[] a;  \r\n        \r\n        public GenSet(Class&lt;E[]&gt; type, int length) {  \r\n            a = type.cast(Array.newInstance(type.getComponentType(), length));  \r\n        }  \r\n        \r\n        public static void main(String[] args) {  \r\n            GenSet&lt;String&gt; foo = new GenSet&lt;String&gt;(String[].class, 1);  \r\n            String[] bar = foo.a;  \r\n            foo.a[0] = &quot;xyzzy&quot;;  \r\n            String baz = foo.a[0];  \r\n        }  \r\n    }\r\n\r\nThat compiles without warnings, and as you can see in `main`, for whatever type you declare an instance of `GenSet` as, you can assign `a` to an array of that type, and you can assign an element from `a` to a variable of that type, meaning that the array and the values in the array are of the correct type.\r\n\r\nIt works by using class literals as runtime type tokens, as discussed in the [Java Tutorials](http://download.oracle.com/javase/tutorial/extra/generics/literals.html). Class literals are treated by the compiler as instances of `java.lang.Class`. To use one, simply follow the name of a class with `.class`. So, `String.class` acts as a `Class` object representing the class `String`. This also works for interfaces, enums, any-dimensional arrays (e.g. `String[].class`), primitives (e.g. `int.class`), and the keyword `void` (i.e. `void.class`). \r\n\r\n`Class` itself is generic (declared as `Class&lt;T&gt;`, where `T` stands for the type that the `Class` object is representing), meaning that the type of `String.class` is `Class&lt;String&gt;`.\r\n\r\nSo, whenever you call the constructor for `GenSet`, you pass in a class literal for the first argument representing an array of the `GenSet` instance&#39;s declared type (e.g. `String[].class` for `GenSet&lt;String&gt;`). Note that you won&#39;t be able to get an array of primitives, since primitives can&#39;t be used for type variables.\r\n\r\nInside the constructor, calling the method `cast` returns the passed `Object` argument cast to the class represented by the `Class` object on which the method was called. Calling the static method `newInstance` in `java.lang.reflect.Array` returns as an `Object` an array of the type represented by the `Class` object passed as the first argument and of the length specified by the `int` passed as the second argument. Calling the method `getComponentType` returns a `Class` object representing the component type of the array represented by the `Class` object on which the method was called (e.g. `String.class` for `String[].class`, `null` if the `Class` object doesn&#39;t represent an array).\r\n\r\nThat last sentence isn&#39;t entirely accurate. Calling `String[].class.getComponentType()` returns a `Class` object representing the class `String`, but its type is `Class&lt;?&gt;`, not `Class&lt;String&gt;`, which is why you can&#39;t do something like the following.\r\n\r\n    String foo = String[].class.getComponentType().cast(&quot;bar&quot;); // won&#39;t compile\r\n\r\nSame goes for every method in `Class` that returns a `Class` object.\r\n\r\nRegarding Joachim Sauer&#39;s comment on [this answer](https://stackoverflow.com/questions/529085/java-how-to-generic-array-creation/529094#529094) (I don&#39;t have enough reputation to comment on it myself), the example using the cast to `T[]` will result in a warning because the compiler can&#39;t guarantee type safety in that case.\r\n\r\n\r\n----------\r\n\r\n\r\nEdit regarding Ingo&#39;s comments:\r\n\r\n    public static &lt;T&gt; T[] newArray(Class&lt;T[]&gt; type, int size) {\r\n       return type.cast(Array.newInstance(type.getComponentType(), size));\r\n    }","title":"How to create a generic array in Java?","body":"<p>Here's how to use generics to get an array of precisely the type you’re looking for while preserving type safety (as opposed to the other answers, which will either give you back an <code>Object</code> array or result in warnings at compile time):</p>\n<pre><code>import java.lang.reflect.Array;  \n\npublic class GenSet&lt;E&gt; {  \n    private E[] a;  \n    \n    public GenSet(Class&lt;E[]&gt; type, int length) {  \n        a = type.cast(Array.newInstance(type.getComponentType(), length));  \n    }  \n    \n    public static void main(String[] args) {  \n        GenSet&lt;String&gt; foo = new GenSet&lt;String&gt;(String[].class, 1);  \n        String[] bar = foo.a;  \n        foo.a[0] = &quot;xyzzy&quot;;  \n        String baz = foo.a[0];  \n    }  \n}\n</code></pre>\n<p>That compiles without warnings, and as you can see in <code>main</code>, for whatever type you declare an instance of <code>GenSet</code> as, you can assign <code>a</code> to an array of that type, and you can assign an element from <code>a</code> to a variable of that type, meaning that the array and the values in the array are of the correct type.</p>\n<p>It works by using class literals as runtime type tokens, as discussed in the <a href=\"http://download.oracle.com/javase/tutorial/extra/generics/literals.html\" rel=\"nofollow noreferrer\">Java Tutorials</a>. Class literals are treated by the compiler as instances of <code>java.lang.Class</code>. To use one, simply follow the name of a class with <code>.class</code>. So, <code>String.class</code> acts as a <code>Class</code> object representing the class <code>String</code>. This also works for interfaces, enums, any-dimensional arrays (e.g. <code>String[].class</code>), primitives (e.g. <code>int.class</code>), and the keyword <code>void</code> (i.e. <code>void.class</code>).</p>\n<p><code>Class</code> itself is generic (declared as <code>Class&lt;T&gt;</code>, where <code>T</code> stands for the type that the <code>Class</code> object is representing), meaning that the type of <code>String.class</code> is <code>Class&lt;String&gt;</code>.</p>\n<p>So, whenever you call the constructor for <code>GenSet</code>, you pass in a class literal for the first argument representing an array of the <code>GenSet</code> instance's declared type (e.g. <code>String[].class</code> for <code>GenSet&lt;String&gt;</code>). Note that you won't be able to get an array of primitives, since primitives can't be used for type variables.</p>\n<p>Inside the constructor, calling the method <code>cast</code> returns the passed <code>Object</code> argument cast to the class represented by the <code>Class</code> object on which the method was called. Calling the static method <code>newInstance</code> in <code>java.lang.reflect.Array</code> returns as an <code>Object</code> an array of the type represented by the <code>Class</code> object passed as the first argument and of the length specified by the <code>int</code> passed as the second argument. Calling the method <code>getComponentType</code> returns a <code>Class</code> object representing the component type of the array represented by the <code>Class</code> object on which the method was called (e.g. <code>String.class</code> for <code>String[].class</code>, <code>null</code> if the <code>Class</code> object doesn't represent an array).</p>\n<p>That last sentence isn't entirely accurate. Calling <code>String[].class.getComponentType()</code> returns a <code>Class</code> object representing the class <code>String</code>, but its type is <code>Class&lt;?&gt;</code>, not <code>Class&lt;String&gt;</code>, which is why you can't do something like the following.</p>\n<pre><code>String foo = String[].class.getComponentType().cast(&quot;bar&quot;); // won't compile\n</code></pre>\n<p>Same goes for every method in <code>Class</code> that returns a <code>Class</code> object.</p>\n<p>Regarding Joachim Sauer's comment on <a href=\"https://stackoverflow.com/questions/529085/java-how-to-generic-array-creation/529094#529094\">this answer</a> (I don't have enough reputation to comment on it myself), the example using the cast to <code>T[]</code> will result in a warning because the compiler can't guarantee type safety in that case.</p>\n<hr />\n<p>Edit regarding Ingo's comments:</p>\n<pre><code>public static &lt;T&gt; T[] newArray(Class&lt;T[]&gt; type, int size) {\n   return type.cast(Array.newInstance(type.getComponentType(), size));\n}\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user8389458"},"score":1,"creation_date":1519172100,"post_id":4986724,"comment_id":84798242,"body_markdown":"I can&#39;t get your code running, where does your `Element` class comes from?","body":"I can&#39;t get your code running, where does your <code>Element</code> class comes from?"}],"tags":[],"owner":{"account_id":710849,"reputation":7,"user_id":615417,"display_name":"David Bernard"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1297629454,"creation_date":1297629454,"answer_id":4986724,"question_id":529085,"body_markdown":"try this.\r\n\r\n    private int m = 0;\r\n    private int n = 0;\r\n    private Element&lt;T&gt;[][] elements = null;\r\n\r\n    public MatrixData(int m, int n)\r\n    {\r\n        this.m = m;\r\n        this.n = n;\r\n\r\n        this.elements = new Element[m][n];\r\n        for (int i = 0; i &lt; m; i++)\r\n        {\r\n            for (int j = 0; j &lt; n; j++)\r\n            {\r\n                this.elements[i][j] = new Element&lt;T&gt;();\r\n            }\r\n        }\r\n    }","title":"How to create a generic array in Java?","body":"<p>try this.</p>\n\n<pre><code>private int m = 0;\nprivate int n = 0;\nprivate Element&lt;T&gt;[][] elements = null;\n\npublic MatrixData(int m, int n)\n{\n    this.m = m;\n    this.n = n;\n\n    this.elements = new Element[m][n];\n    for (int i = 0; i &lt; m; i++)\n    {\n        for (int j = 0; j &lt; n; j++)\n        {\n            this.elements[i][j] = new Element&lt;T&gt;();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":766753,"reputation":71,"user_id":798354,"display_name":"puneeth"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1618852429,"creation_date":1308079560,"answer_id":6348905,"question_id":529085,"body_markdown":"Although the thread is dead, I would like to draw your attention to this.\r\n\r\nGenerics are used for type checking during compile time. Therefore, the purpose is to check\r\n\r\n- What comes in is what you need.\r\n- What you return is what the consumer needs.\r\n\r\nCheck this:  \r\n\r\n![enter image description here][1]\r\n\r\nDon&#39;t worry about typecasting warnings when you are writing a generic class; worry when you are using it.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/fCXXe.jpg","title":"How to create a generic array in Java?","body":"<p>Although the thread is dead, I would like to draw your attention to this.</p>\n<p>Generics are used for type checking during compile time. Therefore, the purpose is to check</p>\n<ul>\n<li>What comes in is what you need.</li>\n<li>What you return is what the consumer needs.</li>\n</ul>\n<p>Check this:</p>\n<p><img src=\"https://i.stack.imgur.com/fCXXe.jpg\" alt=\"enter image description here\" /></p>\n<p>Don't worry about typecasting warnings when you are writing a generic class; worry when you are using it.</p>\n"},{"comments":[{"owner":{"account_id":15188,"reputation":15038,"user_id":31818,"display_name":"seh"},"score":0,"creation_date":1349380410,"post_id":8052827,"comment_id":17201391,"body_markdown":"I had to look it up, but yes, the second &quot;length&quot; argument to `Arrays#copyOf()` is independent of the length of the array supplied as the first argument. That&#39;s clever, though it does pay the cost of calls to `Math#min()` and `System#arrayCopy()`, neither of which are strictly necessary to get this job done. http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#copyOf%28T[],%20int%29","body":"I had to look it up, but yes, the second &quot;length&quot; argument to <code>Arrays#copyOf()</code> is independent of the length of the array supplied as the first argument. That&#39;s clever, though it does pay the cost of calls to <code>Math#min()</code> and <code>System#arrayCopy()</code>, neither of which are strictly necessary to get this job done. <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#copyOf%28T[],%20int%29\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/&hellip;</a>"},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":12,"creation_date":1428293592,"post_id":8052827,"comment_id":47093296,"body_markdown":"This does not work if `E` is a type variable. The varargs creates an array of erasure of `E` when `E` is a type variable, making it not much different from `(E[])new Object[n]`. Please see [http://ideone.com/T8xF91](http://ideone.com/T8xF91). It is **by no means** more type safe than any other answer.","body":"This does not work if <code>E</code> is a type variable. The varargs creates an array of erasure of <code>E</code> when <code>E</code> is a type variable, making it not much different from <code>(E[])new Object[n]</code>. Please see <a href=\"http://ideone.com/T8xF91\" rel=\"nofollow noreferrer\">http://ideone.com/T8xF91</a>. It is <b>by no means</b> more type safe than any other answer."},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":1,"creation_date":1431974157,"post_id":8052827,"comment_id":48716264,"body_markdown":"@Radiodef - the solution is provably type-safe at compile time. note that erasure is not exactly part of the language spec; the spec is written carefully so that we could have full reification in future - and then this solution would work perfectly at runtime too, unlike other solutions.","body":"@Radiodef - the solution is provably type-safe at compile time. note that erasure is not exactly part of the language spec; the spec is written carefully so that we could have full reification in future - and then this solution would work perfectly at runtime too, unlike other solutions."},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":0,"creation_date":1431974300,"post_id":8052827,"comment_id":48716340,"body_markdown":"@Radiodef - It&#39;s debatable whether banning generic array creation is a good idea. regardless, the language does leave a backdoor - vararg requires generic array creation. It is as good as if the language have permitted `new E[]`. The problem you showed in your example is a general erasure problem, not unique to this question and this answer.","body":"@Radiodef - It&#39;s debatable whether banning generic array creation is a good idea. regardless, the language does leave a backdoor - vararg requires generic array creation. It is as good as if the language have permitted <code>new E[]</code>. The problem you showed in your example is a general erasure problem, not unique to this question and this answer."},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":0,"creation_date":1431975202,"post_id":8052827,"comment_id":48716831,"body_markdown":"@Radiodef - type safety is a compile time concept. it&#39;s well-known that a type-safe Java program can fail at runtime, even before generics, e.g. array upcasting. you may have a different concept of &#39;type-safe&#39;, so it&#39;s merely a difference in definition. but OP is not wrong by calling it type-safe.","body":"@Radiodef - type safety is a compile time concept. it&#39;s well-known that a type-safe Java program can fail at runtime, even before generics, e.g. array upcasting. you may have a different concept of &#39;type-safe&#39;, so it&#39;s merely a difference in definition. but OP is not wrong by calling it type-safe."},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":0,"creation_date":1431975821,"post_id":8052827,"comment_id":48717179,"body_markdown":"@Radiodef - It is more of an academic distinction. `(E[])new Object[n]` is not type safe; actually it is *obviously* wrong from the language point of a view. It happens to work today, because of erasure. It will fail under full reification. But - who cares? Well, a few, who tries to be type-safe as much as possible, just for the sake of being a purist.","body":"@Radiodef - It is more of an academic distinction. <code>(E[])new Object[n]</code> is not type safe; actually it is <i>obviously</i> wrong from the language point of a view. It happens to work today, because of erasure. It will fail under full reification. But - who cares? Well, a few, who tries to be type-safe as much as possible, just for the sake of being a purist."},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":2,"creation_date":1431976768,"post_id":8052827,"comment_id":48717667,"body_markdown":"@Radiodef - There are some differences. The correctness of this solution is checked by the compiler; it does not rely on human reasoning of forced cast. The difference is not significant for this particular problem. Some people just like to be a little fancy, that&#39;s all. If anyone is misled by OP&#39;s wording, it&#39;s clarified by your comments and mine.","body":"@Radiodef - There are some differences. The correctness of this solution is checked by the compiler; it does not rely on human reasoning of forced cast. The difference is not significant for this particular problem. Some people just like to be a little fancy, that&#39;s all. If anyone is misled by OP&#39;s wording, it&#39;s clarified by your comments and mine."},{"owner":{"account_id":356540,"reputation":339,"user_id":696110,"accept_rate":73,"display_name":"uraj"},"score":0,"creation_date":1439834683,"post_id":8052827,"comment_id":52012619,"body_markdown":"What if E itself is a parameterized type, say List&lt;String&gt;?","body":"What if E itself is a parameterized type, say List&lt;String&gt;?"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1541877928,"post_id":8052827,"comment_id":93370656,"body_markdown":"@irreputable I like this, but I don&#39;t think you need the `length`, you could just write it as `return Arrays.copyOf(Objects.requireNonNull(array), array.length);`","body":"@irreputable I like this, but I don&#39;t think you need the <code>length</code>, you could just write it as <code>return Arrays.copyOf(Objects.requireNonNull(array), array.length);</code>"}],"tags":[],"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"comment_count":9,"down_vote_count":3,"up_vote_count":47,"is_accepted":false,"score":44,"last_activity_date":1428293511,"creation_date":1320766097,"answer_id":8052827,"question_id":529085,"body_markdown":"This is the only answer that is type safe\r\n\r\n    E[] a;\r\n\r\n    a = newArray(size);\r\n\r\n    @SafeVarargs\r\n    static &lt;E&gt; E[] newArray(int length, E... array)\r\n    {\r\n        return Arrays.copyOf(array, length);\r\n    }","title":"How to create a generic array in Java?","body":"<p>This is the only answer that is type safe</p>\n\n<pre><code>E[] a;\n\na = newArray(size);\n\n@SafeVarargs\nstatic &lt;E&gt; E[] newArray(int length, E... array)\n{\n    return Arrays.copyOf(array, length);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":3,"creation_date":1394480634,"post_id":10021028,"comment_id":33899946,"body_markdown":"This doesn&#39;t actually work. `new Holder&lt;Thing&gt;[10]` is a generic array creation.","body":"This doesn&#39;t actually work. <code>new Holder&lt;Thing&gt;[10]</code> is a generic array creation."}],"tags":[],"owner":{"account_id":1381133,"reputation":9,"user_id":1314103,"display_name":"StarMonkey"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1333584645,"creation_date":1333584645,"answer_id":10021028,"question_id":529085,"body_markdown":"An easy, albeit messy workaround to this would be to nest a second &quot;holder&quot; class inside of your main class, and use it to hold your data.\r\n\r\n    public class Whatever&lt;Thing&gt;{\r\n        private class Holder&lt;OtherThing&gt;{\r\n            OtherThing thing;\r\n        }\r\n        public Holder&lt;Thing&gt;[] arrayOfHolders = new Holder&lt;Thing&gt;[10]\r\n    }","title":"How to create a generic array in Java?","body":"<p>An easy, albeit messy workaround to this would be to nest a second \"holder\" class inside of your main class, and use it to hold your data.</p>\n\n<pre><code>public class Whatever&lt;Thing&gt;{\n    private class Holder&lt;OtherThing&gt;{\n        OtherThing thing;\n    }\n    public Holder&lt;Thing&gt;[] arrayOfHolders = new Holder&lt;Thing&gt;[10]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1799806,"reputation":31,"user_id":1638425,"display_name":"Bobster"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1346409568,"creation_date":1346409568,"answer_id":12213683,"question_id":529085,"body_markdown":"I made this code snippet to reflectively instantiate a class which is passed for a simple automated test utility.\r\n\r\n    Object attributeValue = null;\r\n    try {\r\n    \tif(clazz.isArray()){\r\n    \t\tClass&lt;?&gt; arrayType = clazz.getComponentType();\r\n    \t\tattributeValue = Array.newInstance(arrayType, 0);\r\n    \t}\r\n    \telse if(!clazz.isInterface()){\r\n    \t\tattributeValue = BeanUtils.instantiateClass(clazz);\r\n    \t}\r\n    } catch (Exception e) {\r\n    \tlogger.debug(&quot;Cannot instanciate \\&quot;{}\\&quot;&quot;, new Object[]{clazz});\r\n    }\r\n\r\nNote this segment:\r\n\r\n    \tif(clazz.isArray()){\r\n    \t\tClass&lt;?&gt; arrayType = clazz.getComponentType();\r\n    \t\tattributeValue = Array.newInstance(arrayType, 0);\r\n    \t}\r\n\r\nfor array initiating where **Array.newInstance(class of array, size of array)**. Class can be both primitive (int.class) and object (Integer.class).\r\n\r\nBeanUtils is part of Spring.","title":"How to create a generic array in Java?","body":"<p>I made this code snippet to reflectively instantiate a class which is passed for a simple automated test utility.</p>\n\n<pre><code>Object attributeValue = null;\ntry {\n    if(clazz.isArray()){\n        Class&lt;?&gt; arrayType = clazz.getComponentType();\n        attributeValue = Array.newInstance(arrayType, 0);\n    }\n    else if(!clazz.isInterface()){\n        attributeValue = BeanUtils.instantiateClass(clazz);\n    }\n} catch (Exception e) {\n    logger.debug(\"Cannot instanciate \\\"{}\\\"\", new Object[]{clazz});\n}\n</code></pre>\n\n<p>Note this segment:</p>\n\n<pre><code>    if(clazz.isArray()){\n        Class&lt;?&gt; arrayType = clazz.getComponentType();\n        attributeValue = Array.newInstance(arrayType, 0);\n    }\n</code></pre>\n\n<p>for array initiating where <strong>Array.newInstance(class of array, size of array)</strong>. Class can be both primitive (int.class) and object (Integer.class).</p>\n\n<p>BeanUtils is part of Spring.</p>\n"},{"comments":[{"owner":{"account_id":1023059,"reputation":3107,"user_id":1166181,"accept_rate":57,"display_name":"Kevin Cox"},"score":0,"creation_date":1391784578,"post_id":18137953,"comment_id":32686493,"body_markdown":"Yes, you return null, which isn&#39;t the expected empty array.  It is the best you can do, but not ideal.","body":"Yes, you return null, which isn&#39;t the expected empty array.  It is the best you can do, but not ideal."},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":0,"creation_date":1428294983,"post_id":18137953,"comment_id":47093581,"body_markdown":"This can also fail if the `List` has more than one type of object in it e.g. `toArray(Arrays.asList(&quot;abc&quot;, new Object()))` will throw `ArrayStoreException`.","body":"This can also fail if the <code>List</code> has more than one type of object in it e.g. <code>toArray(Arrays.asList(&quot;abc&quot;, new Object()))</code> will throw <code>ArrayStoreException</code>."},{"owner":{"account_id":2369006,"reputation":11938,"user_id":3096687,"accept_rate":67,"display_name":"bbarker"},"score":0,"creation_date":1439168697,"post_id":18137953,"comment_id":51734425,"body_markdown":"I used a stripped down version of this; first thing I was able to use that worked, though admittedly I didn&#39;t try some of the more involved solutions. To avoid a `for` loop and others I used `Arrays.fill(res, obj);` since I wanted the same value for each index.","body":"I used a stripped down version of this; first thing I was able to use that worked, though admittedly I didn&#39;t try some of the more involved solutions. To avoid a <code>for</code> loop and others I used <code>Arrays.fill(res, obj);</code> since I wanted the same value for each index."}],"tags":[],"owner":{"account_id":1285926,"reputation":3609,"user_id":1239006,"accept_rate":91,"display_name":"MatheusJardimB"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1376004747,"creation_date":1376004747,"answer_id":18137953,"question_id":529085,"body_markdown":"Look also to this code:\r\n\r\n    public static &lt;T&gt; T[] toArray(final List&lt;T&gt; obj) {\r\n        if (obj == null || obj.isEmpty()) {\r\n            return null;\r\n        }\r\n        final T t = obj.get(0);\r\n        final T[] res = (T[]) Array.newInstance(t.getClass(), obj.size());\r\n        for (int i = 0; i &lt; obj.size(); i++) {\r\n            res[i] = obj.get(i);\r\n        }\r\n        return res;\r\n    }\r\n\r\nIt converts a list of any kind of object to an array of the same type.","title":"How to create a generic array in Java?","body":"<p>Look also to this code:</p>\n\n<pre><code>public static &lt;T&gt; T[] toArray(final List&lt;T&gt; obj) {\n    if (obj == null || obj.isEmpty()) {\n        return null;\n    }\n    final T t = obj.get(0);\n    final T[] res = (T[]) Array.newInstance(t.getClass(), obj.size());\n    for (int i = 0; i &lt; obj.size(); i++) {\n        res[i] = obj.get(i);\n    }\n    return res;\n}\n</code></pre>\n\n<p>It converts a list of any kind of object to an array of the same type.</p>\n"},{"comments":[{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":6,"creation_date":1376574773,"post_id":18254084,"comment_id":26768111,"body_markdown":"+1 There have been questions about multi-dimensional array creation that get closed as dupes of this post - but no answers had specifically addressed that.","body":"+1 There have been questions about multi-dimensional array creation that get closed as dupes of this post - but no answers had specifically addressed that."}],"tags":[],"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"comment_count":1,"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1389552929,"creation_date":1376574439,"answer_id":18254084,"question_id":529085,"body_markdown":"To extend to more dimensions, just add `[]`&#39;s and dimension parameters to `newInstance()` (`T` is a type parameter, `cls` is a `Class&lt;T&gt;`, `d1` through `d5` are integers):\r\n\r\n    T[] array = (T[])Array.newInstance(cls, d1);\r\n    T[][] array = (T[][])Array.newInstance(cls, d1, d2);\r\n    T[][][] array = (T[][][])Array.newInstance(cls, d1, d2, d3);\r\n    T[][][][] array = (T[][][][])Array.newInstance(cls, d1, d2, d3, d4);\r\n    T[][][][][] array = (T[][][][][])Array.newInstance(cls, d1, d2, d3, d4, d5);\r\n\r\nSee [`Array.newInstance()`][1] for details.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Array.html#newInstance%28java.lang.Class,%20int...%29","title":"How to create a generic array in Java?","body":"<p>To extend to more dimensions, just add <code>[]</code>'s and dimension parameters to <code>newInstance()</code> (<code>T</code> is a type parameter, <code>cls</code> is a <code>Class&lt;T&gt;</code>, <code>d1</code> through <code>d5</code> are integers):</p>\n\n<pre><code>T[] array = (T[])Array.newInstance(cls, d1);\nT[][] array = (T[][])Array.newInstance(cls, d1, d2);\nT[][][] array = (T[][][])Array.newInstance(cls, d1, d2, d3);\nT[][][][] array = (T[][][][])Array.newInstance(cls, d1, d2, d3, d4);\nT[][][][][] array = (T[][][][][])Array.newInstance(cls, d1, d2, d3, d4, d5);\n</code></pre>\n\n<p>See <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Array.html#newInstance%28java.lang.Class,%20int...%29\" rel=\"noreferrer\"><code>Array.newInstance()</code></a> for details.</p>\n"},{"comments":[{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":0,"creation_date":1377102187,"post_id":18362577,"comment_id":26960090,"body_markdown":"Yeah, this is not quite related, but rooted in the same issues (erasure, array covariance). Here&#39;s an example of a post about creating arrays of parameterized types: http://stackoverflow.com/questions/9542076/array-of-parameterized-types","body":"Yeah, this is not quite related, but rooted in the same issues (erasure, array covariance). Here&#39;s an example of a post about creating arrays of parameterized types: <a href=\"http://stackoverflow.com/questions/9542076/array-of-parameterized-types\" title=\"array of parameterized types\">stackoverflow.com/questions/9542076/&hellip;</a>"}],"tags":[],"owner":{"account_id":64815,"reputation":13293,"user_id":191148,"accept_rate":41,"display_name":"Mohsen Afshin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1377101495,"creation_date":1377101495,"answer_id":18362577,"question_id":529085,"body_markdown":"Maybe unrelated to this question but while I was getting the &quot;`generic array creation`&quot; error for using \r\n\r\n    Tuple&lt;Long,String&gt;[] tupleArray = new Tuple&lt;Long,String&gt;[10];\r\n\r\nI find out the following works (and worked for me) with  `@SuppressWarnings({&quot;unchecked&quot;})`:\r\n\r\n     Tuple&lt;Long, String&gt;[] tupleArray = new Tuple[10];","title":"How to create a generic array in Java?","body":"<p>Maybe unrelated to this question but while I was getting the \"<code>generic array creation</code>\" error for using </p>\n\n<pre><code>Tuple&lt;Long,String&gt;[] tupleArray = new Tuple&lt;Long,String&gt;[10];\n</code></pre>\n\n<p>I find out the following works (and worked for me) with  <code>@SuppressWarnings({\"unchecked\"})</code>:</p>\n\n<pre><code> Tuple&lt;Long, String&gt;[] tupleArray = new Tuple[10];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3304996,"reputation":2980,"user_id":2780088,"accept_rate":25,"display_name":"Valentino"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1379193993,"creation_date":1379193993,"answer_id":18806548,"question_id":529085,"body_markdown":"The forced cast suggested by other people did not work for me, throwing an exception of illegal casting.\r\n\r\nHowever, this implicit cast worked fine:\r\n\r\n    Item&lt;K&gt;[] array = new Item[SIZE];\r\n\r\nwhere Item is a class I defined containing the member:\r\n\r\n    private K value;\r\n\r\nThis way you get an array of type K (if the item only has the value) or any generic type you want defined in the class Item.","title":"How to create a generic array in Java?","body":"<p>The forced cast suggested by other people did not work for me, throwing an exception of illegal casting.</p>\n\n<p>However, this implicit cast worked fine:</p>\n\n<pre><code>Item&lt;K&gt;[] array = new Item[SIZE];\n</code></pre>\n\n<p>where Item is a class I defined containing the member:</p>\n\n<pre><code>private K value;\n</code></pre>\n\n<p>This way you get an array of type K (if the item only has the value) or any generic type you want defined in the class Item.</p>\n"},{"comments":[{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":0,"creation_date":1451260163,"post_id":22200232,"comment_id":56714180,"body_markdown":"You don&#39;t really need a special interface like `ArraySupplier` for this, you can declare the constructor as `GenSet(Supplier&lt;E[]&gt; supplier) { ...` and call it with the same line as you have.","body":"You don&#39;t really need a special interface like <code>ArraySupplier</code> for this, you can declare the constructor as <code>GenSet(Supplier&lt;E[]&gt; supplier) { ...</code> and call it with the same line as you have."},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":5,"creation_date":1451319387,"post_id":22200232,"comment_id":56735366,"body_markdown":"@Lii To be the same as my example, it would be `IntFunction&lt;E[]&gt;`, but yes that&#39;s true.","body":"@Lii To be the same as my example, it would be <code>IntFunction&lt;E[]&gt;</code>, but yes that&#39;s true."}],"tags":[],"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1499217425,"creation_date":1394028842,"answer_id":22200232,"question_id":529085,"body_markdown":"In Java 8, we can do a kind of generic array creation using a lambda or method reference. This is similar to the reflective approach (which passes a `Class`), but here we aren&#39;t using reflection.\r\n\r\n    @FunctionalInterface\r\n    interface ArraySupplier&lt;E&gt; {\r\n        E[] get(int length);\r\n    }\r\n\r\n    class GenericSet&lt;E&gt; {\r\n        private final ArraySupplier&lt;E&gt; supplier;\r\n        private E[] array;\r\n\r\n        GenericSet(ArraySupplier&lt;E&gt; supplier) {\r\n            this.supplier = supplier;\r\n            this.array    = supplier.get(10);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            GenericSet&lt;String&gt; ofString =\r\n                new GenericSet&lt;&gt;(String[]::new);\r\n            GenericSet&lt;Double&gt; ofDouble =\r\n                new GenericSet&lt;&gt;(Double[]::new);\r\n        }\r\n    }\r\n\r\nFor example, this is used by [`&lt;A&gt; A[] Stream.toArray(IntFunction&lt;A[]&gt;)`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#toArray-java.util.function.IntFunction-).\r\n\r\nThis *could* also be done pre-Java 8 using anonymous classes but it&#39;s more cumbersome.","title":"How to create a generic array in Java?","body":"<p>In Java 8, we can do a kind of generic array creation using a lambda or method reference. This is similar to the reflective approach (which passes a <code>Class</code>), but here we aren't using reflection.</p>\n\n<pre><code>@FunctionalInterface\ninterface ArraySupplier&lt;E&gt; {\n    E[] get(int length);\n}\n\nclass GenericSet&lt;E&gt; {\n    private final ArraySupplier&lt;E&gt; supplier;\n    private E[] array;\n\n    GenericSet(ArraySupplier&lt;E&gt; supplier) {\n        this.supplier = supplier;\n        this.array    = supplier.get(10);\n    }\n\n    public static void main(String[] args) {\n        GenericSet&lt;String&gt; ofString =\n            new GenericSet&lt;&gt;(String[]::new);\n        GenericSet&lt;Double&gt; ofDouble =\n            new GenericSet&lt;&gt;(Double[]::new);\n    }\n}\n</code></pre>\n\n<p>For example, this is used by <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#toArray-java.util.function.IntFunction-\" rel=\"noreferrer\"><code>&lt;A&gt; A[] Stream.toArray(IntFunction&lt;A[]&gt;)</code></a>.</p>\n\n<p>This <em>could</em> also be done pre-Java 8 using anonymous classes but it's more cumbersome.</p>\n"},{"comments":[{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":0,"creation_date":1428293036,"post_id":24655212,"comment_id":47093163,"body_markdown":"No, this does not work. The varargs creates erasure of `T` when `T` is a type variable, i.e. `zeroArray` returns an `Object[]`. See [http://ideone.com/T8xF91](http://ideone.com/T8xF91).","body":"No, this does not work. The varargs creates erasure of <code>T</code> when <code>T</code> is a type variable, i.e. <code>zeroArray</code> returns an <code>Object[]</code>. See <a href=\"http://ideone.com/T8xF91\" rel=\"nofollow noreferrer\">http://ideone.com/T8xF91</a>."}],"tags":[],"owner":{"account_id":1047552,"reputation":257,"user_id":1052246,"accept_rate":25,"display_name":"Cambot"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1404912995,"creation_date":1404912995,"answer_id":24655212,"question_id":529085,"body_markdown":"I&#39;m wondering if this code would create an effective generic array?\r\n\r\n    public T [] createArray(int desiredSize){\r\n        ArrayList&lt;T&gt; builder = new ArrayList&lt;T&gt;();\r\n        for(int x=0;x&lt;desiredSize;x++){\r\n            builder.add(null);\r\n        }\r\n        return builder.toArray(zeroArray());\r\n    }\r\n    \r\n    //zeroArray should, in theory, create a zero-sized array of T\r\n    //when it is not given any parameters.\r\n\r\n    private T [] zeroArray(T... i){\r\n        return i;\r\n    }\r\n\r\nEdit: Perhaps an alternate way of creating such an array, if the size you required was known and small, would be to simply feed the required number of &quot;null&quot;s into the zeroArray command?\r\n\r\nThough obviously this isn&#39;t as versatile as using the createArray code.","title":"How to create a generic array in Java?","body":"<p>I'm wondering if this code would create an effective generic array?</p>\n\n<pre><code>public T [] createArray(int desiredSize){\n    ArrayList&lt;T&gt; builder = new ArrayList&lt;T&gt;();\n    for(int x=0;x&lt;desiredSize;x++){\n        builder.add(null);\n    }\n    return builder.toArray(zeroArray());\n}\n\n//zeroArray should, in theory, create a zero-sized array of T\n//when it is not given any parameters.\n\nprivate T [] zeroArray(T... i){\n    return i;\n}\n</code></pre>\n\n<p>Edit: Perhaps an alternate way of creating such an array, if the size you required was known and small, would be to simply feed the required number of \"null\"s into the zeroArray command?</p>\n\n<p>Though obviously this isn't as versatile as using the createArray code.</p>\n"},{"comments":[{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":0,"creation_date":1428292853,"post_id":25853468,"comment_id":47093130,"body_markdown":"If you are going to suggest this, you really need to explain its limitations. Never expose `a` to outside the class!","body":"If you are going to suggest this, you really need to explain its limitations. Never expose <code>a</code> to outside the class!"}],"tags":[],"owner":{"account_id":2751478,"reputation":478,"user_id":2370773,"display_name":"samir benzenine"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1410801812,"creation_date":1410801812,"answer_id":25853468,"question_id":529085,"body_markdown":"You could use a cast:\r\n\r\n    public class GenSet&lt;Item&gt; {\r\n        private Item[] a;\r\n\r\n        public GenSet(int s) {\r\n            a = (Item[]) new Object[s];\r\n        }\r\n    }","title":"How to create a generic array in Java?","body":"<p>You could use a cast:</p>\n\n<pre><code>public class GenSet&lt;Item&gt; {\n    private Item[] a;\n\n    public GenSet(int s) {\n        a = (Item[]) new Object[s];\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":84677,"reputation":16500,"user_id":236528,"accept_rate":100,"display_name":"mjuarez"},"score":0,"creation_date":1433311889,"post_id":30611850,"comment_id":49290982,"body_markdown":"You should always add an explanation to your code, and explain why it solves the original posted question.","body":"You should always add an explanation to your code, and explain why it solves the original posted question."}],"tags":[],"owner":{"account_id":6407381,"reputation":11,"user_id":4968113,"display_name":"Zubair Ibrhaim"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1433312181,"creation_date":1433310771,"answer_id":30611850,"question_id":529085,"body_markdown":"    private E a[];\r\n    private int size;\r\n    \r\n    public GenSet(int elem)\r\n    {\r\n        size = elem;\r\n        a = (E[]) new E[size];\r\n    }","title":"How to create a generic array in Java?","body":"<pre><code>private E a[];\nprivate int size;\n\npublic GenSet(int elem)\n{\n    size = elem;\n    a = (E[]) new E[size];\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":235896,"reputation":1859,"user_id":503025,"accept_rate":21,"display_name":"weberjn"},"score":0,"creation_date":1628684029,"post_id":30799960,"comment_id":121486088,"body_markdown":"Gives java.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to [Ljava.util.concurrent.TransferQueue;","body":"Gives java.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to [Ljava.util.concurrent.TransferQueue;"},{"owner":{"account_id":1816391,"reputation":508,"user_id":2324063,"display_name":"gary"},"score":0,"creation_date":1667739939,"post_id":30799960,"comment_id":131233947,"body_markdown":"@weberjn A generic array field `private T[] a` is type erased to the first class that `T` is declared to extend in the class template declaration. eg `class GenSet&lt;T extends TransferQueue&gt;` would declare private field `a` as `TransferQueue[]` not `Object[]`, that&#39;s why you have a `ClassCastException`.","body":"@weberjn A generic array field <code>private T[] a</code> is type erased to the first class that <code>T</code> is declared to extend in the class template declaration. eg <code>class GenSet&lt;T extends TransferQueue&gt;</code> would declare private field <code>a</code> as <code>TransferQueue[]</code> not <code>Object[]</code>, that&#39;s why you have a <code>ClassCastException</code>."}],"tags":[],"owner":{"account_id":5054056,"reputation":174,"user_id":4057800,"display_name":"Pedram Esmaeeli"},"comment_count":2,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1434102834,"creation_date":1434102046,"answer_id":30799960,"question_id":529085,"body_markdown":"Actually an easier way to do so, is to create an array of objects and cast it to your desired type like the following example:\r\n\r\n    T[] array = (T[])new Object[SIZE];\r\n\r\nwhere `SIZE` is a constant and `T` is a type identifier","title":"How to create a generic array in Java?","body":"<p>Actually an easier way to do so, is to create an array of objects and cast it to your desired type like the following example:</p>\n\n<pre><code>T[] array = (T[])new Object[SIZE];\n</code></pre>\n\n<p>where <code>SIZE</code> is a constant and <code>T</code> is a type identifier</p>\n"},{"tags":[],"owner":{"account_id":6523765,"reputation":9872,"user_id":5083516,"display_name":"plugwash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445180098,"creation_date":1445060991,"answer_id":33183279,"question_id":529085,"body_markdown":"No one else has answered the question of what is going on in the example you posted.\r\n\r\n    import java.lang.reflect.Array;\r\n     \r\n    class Stack&lt;T&gt; {\r\n        public Stack(Class&lt;T&gt; clazz, int capacity) {\r\n            array = (T[])Array.newInstance(clazz, capacity);\r\n        }\r\n     \r\n        private final T[] array;\r\n    }\r\n\r\nAs others have said generics are &quot;erased&quot; during compilation. So at runtime an instance of a generic doesn&#39;t know what its component type is. The reason for this is historical, Sun wanted to add generics without breaking the existing interface (both source and binary).\r\n\r\nArrays on the other hand *do* know their component type at runtime.\r\n\r\nThis example works around the problem by having the code that calls the constructor (which does know the type) pass a parameter telling the class the required type.\r\n\r\nSo the application would construct the class with something like\r\n\r\n    Stack&lt;foo&gt; = new Stack&lt;foo&gt;(foo.class,50)\r\n\r\nand the constructor now knows (at runtime) what the component type is and can use that information to construct the array through the reflection API.\r\n\r\n    Array.newInstance(clazz, capacity);\r\n\r\nFinally we have a type cast because the compiler has no way of knowing that the array returned by `Array#newInstance()` is the correct type (even though we know).\r\n\r\nThis style is a bit ugly but it can sometimes be the least bad solution to creating generic types that do need to know their component type at runtime for whatever reason (creating arrays, or creating instances of their component type, etc.).","title":"How to create a generic array in Java?","body":"<p>No one else has answered the question of what is going on in the example you posted.</p>\n\n<pre><code>import java.lang.reflect.Array;\n\nclass Stack&lt;T&gt; {\n    public Stack(Class&lt;T&gt; clazz, int capacity) {\n        array = (T[])Array.newInstance(clazz, capacity);\n    }\n\n    private final T[] array;\n}\n</code></pre>\n\n<p>As others have said generics are \"erased\" during compilation. So at runtime an instance of a generic doesn't know what its component type is. The reason for this is historical, Sun wanted to add generics without breaking the existing interface (both source and binary).</p>\n\n<p>Arrays on the other hand <em>do</em> know their component type at runtime.</p>\n\n<p>This example works around the problem by having the code that calls the constructor (which does know the type) pass a parameter telling the class the required type.</p>\n\n<p>So the application would construct the class with something like</p>\n\n<pre><code>Stack&lt;foo&gt; = new Stack&lt;foo&gt;(foo.class,50)\n</code></pre>\n\n<p>and the constructor now knows (at runtime) what the component type is and can use that information to construct the array through the reflection API.</p>\n\n<pre><code>Array.newInstance(clazz, capacity);\n</code></pre>\n\n<p>Finally we have a type cast because the compiler has no way of knowing that the array returned by <code>Array#newInstance()</code> is the correct type (even though we know).</p>\n\n<p>This style is a bit ugly but it can sometimes be the least bad solution to creating generic types that do need to know their component type at runtime for whatever reason (creating arrays, or creating instances of their component type, etc.).</p>\n"},{"comments":[{"owner":{"account_id":150095,"reputation":2080,"user_id":363039,"accept_rate":69,"display_name":"orlade"},"score":4,"creation_date":1472434902,"post_id":35531219,"comment_id":65735220,"body_markdown":"Neat, but only works if you call it &#39;manually&#39;, i.e. pass the elements individually. If you can&#39;t create a new instance of `T[]`, then you can&#39;t programatically build up a `T[] elems` to pass into the function. And if you could, you wouldn&#39;t need the function.","body":"Neat, but only works if you call it &#39;manually&#39;, i.e. pass the elements individually. If you can&#39;t create a new instance of <code>T[]</code>, then you can&#39;t programatically build up a <code>T[] elems</code> to pass into the function. And if you could, you wouldn&#39;t need the function."}],"tags":[],"owner":{"account_id":1390639,"reputation":23879,"user_id":1321564,"accept_rate":71,"display_name":"Benjamin M"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1456018136,"creation_date":1456018136,"answer_id":35531219,"question_id":529085,"body_markdown":"What about this solution?\r\n\r\n    @SafeVarargs\r\n    public static &lt;T&gt; T[] toGenericArray(T ... elems) {\r\n        return elems;\r\n    }\r\n\r\nIt works and looks too simple to be true. Is there any drawback?","title":"How to create a generic array in Java?","body":"<p>What about this solution?</p>\n\n<pre><code>@SafeVarargs\npublic static &lt;T&gt; T[] toGenericArray(T ... elems) {\n    return elems;\n}\n</code></pre>\n\n<p>It works and looks too simple to be true. Is there any drawback?</p>\n"},{"tags":[],"owner":{"account_id":1122367,"reputation":15418,"user_id":1110437,"accept_rate":71,"display_name":"developer747"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1476881853,"creation_date":1476839094,"answer_id":40120447,"question_id":529085,"body_markdown":"I found a sort of a work around to this problem. \r\n\r\nThe line below throws generic array creation error\r\n\r\n    List&lt;Person&gt;[] personLists=new ArrayList&lt;Person&gt;()[10];\r\n\r\nHowever if I encapsulate `List&lt;Person&gt;` in a separate class, it works.\r\n \r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    \r\n    public class PersonList {\r\n    \r\n        List&lt;Person&gt; people;\r\n    \r\n        public PersonList()\r\n        {\r\n            people=new ArrayList&lt;Person&gt;();\r\n        }\r\n    }\r\n\r\nYou can expose people in the class PersonList thru a getter. The line below will give you an array, that has a `List&lt;Person&gt;` in every element. In other words array of `List&lt;Person&gt;`.\r\n\r\n \r\n\r\n    PersonList[] personLists=new PersonList[10];\r\n\r\nI needed something like this in some code I was working on and this is what I did to get it to work. So far no problems.\r\n\r\n\r\n\r\n\r\n","title":"How to create a generic array in Java?","body":"<p>I found a sort of a work around to this problem. </p>\n\n<p>The line below throws generic array creation error</p>\n\n<pre><code>List&lt;Person&gt;[] personLists=new ArrayList&lt;Person&gt;()[10];\n</code></pre>\n\n<p>However if I encapsulate <code>List&lt;Person&gt;</code> in a separate class, it works.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\n\npublic class PersonList {\n\n    List&lt;Person&gt; people;\n\n    public PersonList()\n    {\n        people=new ArrayList&lt;Person&gt;();\n    }\n}\n</code></pre>\n\n<p>You can expose people in the class PersonList thru a getter. The line below will give you an array, that has a <code>List&lt;Person&gt;</code> in every element. In other words array of <code>List&lt;Person&gt;</code>.</p>\n\n<pre><code>PersonList[] personLists=new PersonList[10];\n</code></pre>\n\n<p>I needed something like this in some code I was working on and this is what I did to get it to work. So far no problems.</p>\n"},{"tags":[],"owner":{"account_id":5937777,"reputation":4839,"user_id":4743275,"accept_rate":86,"display_name":"KeyC0de"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1478724208,"creation_date":1478724208,"answer_id":40515696,"question_id":529085,"body_markdown":"I have found a quick and easy way that works for me. Note that i have only used this on Java JDK 8. I don&#39;t know if it will work with previous versions.\r\n\r\nAlthough we cannot instantiate a generic array of a specific type parameter, we can pass an already created array to a generic class constructor.\r\n\r\n    class GenArray &lt;T&gt; {\r\n        private T theArray[]; // reference array\r\n        \r\n        // ...\r\n        \r\n        GenArray(T[] arr) {\r\n            theArray = arr;\r\n        }\r\n\r\n        // Do whatever with the array...\r\n    }\r\n\r\nNow in main we can create the array like so:\r\n\r\n    class GenArrayDemo {\r\n        public static void main(String[] args) {\r\n            int size = 10; // array size\r\n            // Here we can instantiate the array of the type we want, say Character (no primitive types allowed in generics)\r\n            Character[] ar = new Character[size];\r\n            \r\n            GenArray&lt;Character&gt; = new Character&lt;&gt;(ar); // create the generic Array\r\n            \r\n            // ...\r\n            \r\n        }\r\n    }\r\n\r\nFor more flexibility with your arrays you can use a linked list eg. the ArrayList and other methods found in the Java.util.ArrayList class.","title":"How to create a generic array in Java?","body":"<p>I have found a quick and easy way that works for me. Note that i have only used this on Java JDK 8. I don't know if it will work with previous versions.</p>\n\n<p>Although we cannot instantiate a generic array of a specific type parameter, we can pass an already created array to a generic class constructor.</p>\n\n<pre><code>class GenArray &lt;T&gt; {\n    private T theArray[]; // reference array\n\n    // ...\n\n    GenArray(T[] arr) {\n        theArray = arr;\n    }\n\n    // Do whatever with the array...\n}\n</code></pre>\n\n<p>Now in main we can create the array like so:</p>\n\n<pre><code>class GenArrayDemo {\n    public static void main(String[] args) {\n        int size = 10; // array size\n        // Here we can instantiate the array of the type we want, say Character (no primitive types allowed in generics)\n        Character[] ar = new Character[size];\n\n        GenArray&lt;Character&gt; = new Character&lt;&gt;(ar); // create the generic Array\n\n        // ...\n\n    }\n}\n</code></pre>\n\n<p>For more flexibility with your arrays you can use a linked list eg. the ArrayList and other methods found in the Java.util.ArrayList class.</p>\n"},{"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1498749286,"post_id":44811546,"comment_id":76638391,"body_markdown":"The question was about creating an array of the type of the generic type parameter `T`, not an array of some parameterized type.","body":"The question was about creating an array of the type of the generic type parameter <code>T</code>, not an array of some parameterized type."},{"owner":{"account_id":11036483,"reputation":27,"user_id":8106094,"display_name":"Crab Nebula"},"score":0,"creation_date":1498780243,"post_id":44811546,"comment_id":76653831,"body_markdown":"It completes the same task though and doesn&#39;t require you pushing in a class making your custom collection easier to use.","body":"It completes the same task though and doesn&#39;t require you pushing in a class making your custom collection easier to use."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1498781777,"post_id":44811546,"comment_id":76654228,"body_markdown":"What _task_? It&#39;s literally a different task: an array of a paramaterized type vs an array of a generic type parameter.","body":"What <i>task</i>? It&#39;s literally a different task: an array of a paramaterized type vs an array of a generic type parameter."},{"owner":{"account_id":11036483,"reputation":27,"user_id":8106094,"display_name":"Crab Nebula"},"score":0,"creation_date":1498866828,"post_id":44811546,"comment_id":76692976,"body_markdown":"It allows you to create an array from a generic type? The original problem was initializing an array using a generic type which using my method allows you to do without having to have the user push in a class or give an unchecked error such as trying to cast an Object to a String. Like chill, I&#39;m not the best at what I do, and I haven&#39;t gone to school for programming but I think I still deserve a little input rather than being told off by some other kid on the internet.","body":"It allows you to create an array from a generic type? The original problem was initializing an array using a generic type which using my method allows you to do without having to have the user push in a class or give an unchecked error such as trying to cast an Object to a String. Like chill, I&#39;m not the best at what I do, and I haven&#39;t gone to school for programming but I think I still deserve a little input rather than being told off by some other kid on the internet."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1499814028,"post_id":44811546,"comment_id":77065747,"body_markdown":"I agree with Sotiros.  There are two ways to think of the answer.  Either it is an answer to a different question, or it is an attempt to generalize the question.  Both are wrong / not helpful.  People who are looking for guidance on how to implement a &quot;generic array&quot; class would / stop reading when they read the question title.  And when they find an Q with 30 answers, they are highly unlikely to scroll to the end and read a zero vote answer from a SO newcomer.","body":"I agree with Sotiros.  There are two ways to think of the answer.  Either it is an answer to a different question, or it is an attempt to generalize the question.  Both are wrong / not helpful.  People who are looking for guidance on how to implement a &quot;generic array&quot; class would / stop reading when they read the question title.  And when they find an Q with 30 answers, they are highly unlikely to scroll to the end and read a zero vote answer from a SO newcomer."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1499814105,"post_id":44811546,"comment_id":77065773,"body_markdown":"Finally, if they found your A &quot;organically&quot; and it was relevant, then they were lucky.  You have &quot;filed&quot; it in the wrong place.","body":"Finally, if they found your A &quot;organically&quot; and it was relevant, then they were lucky.  You have &quot;filed&quot; it in the wrong place."}],"tags":[],"owner":{"account_id":11036483,"reputation":27,"user_id":8106094,"display_name":"Crab Nebula"},"comment_count":6,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1498679993,"creation_date":1498679993,"answer_id":44811546,"question_id":529085,"body_markdown":"I actually found a pretty unique solution to bypass the inability to initiate a generic array. What you have to do is create a class that takes in the generic variable T like so:\r\n\r\n    class GenericInvoker &lt;T&gt; {\r\n        T variable;\r\n        public GenericInvoker(T variable){\r\n            this.variable = variable;\r\n        }\r\n    }\r\n\r\nand then in your array class just have it start like so:\r\n\r\n    GenericInvoker&lt;T&gt;[] array;\r\n    public MyArray(){\r\n        array = new GenericInvoker[];\r\n    }\r\n\r\nstarting a `new Generic Invoker[]` will cause an issue with unchecked but there shouldn&#39;t actually be any issues.\r\n\r\nTo get from the array you should call the array[i].variable like so:\r\n\r\n    public T get(int index){\r\n        return array[index].variable;\r\n    }\r\n\r\nThe rest, such as resizing the array can be done with Arrays.copyOf() like so:\r\n\r\n    public void resize(int newSize){\r\n        array = Arrays.copyOf(array, newSize);\r\n    }\r\n\r\nAnd the add function can be added like so:\r\n\r\n    public boolean add(T element){\r\n        // the variable size below is equal to how many times the add function has been called \r\n        // and is used to keep track of where to put the next variable in the array\r\n        arrays[size] = new GenericInvoker(element);\r\n        size++;\r\n    }\r\n\r\n","title":"How to create a generic array in Java?","body":"<p>I actually found a pretty unique solution to bypass the inability to initiate a generic array. What you have to do is create a class that takes in the generic variable T like so:</p>\n\n<pre><code>class GenericInvoker &lt;T&gt; {\n    T variable;\n    public GenericInvoker(T variable){\n        this.variable = variable;\n    }\n}\n</code></pre>\n\n<p>and then in your array class just have it start like so:</p>\n\n<pre><code>GenericInvoker&lt;T&gt;[] array;\npublic MyArray(){\n    array = new GenericInvoker[];\n}\n</code></pre>\n\n<p>starting a <code>new Generic Invoker[]</code> will cause an issue with unchecked but there shouldn't actually be any issues.</p>\n\n<p>To get from the array you should call the array[i].variable like so:</p>\n\n<pre><code>public T get(int index){\n    return array[index].variable;\n}\n</code></pre>\n\n<p>The rest, such as resizing the array can be done with Arrays.copyOf() like so:</p>\n\n<pre><code>public void resize(int newSize){\n    array = Arrays.copyOf(array, newSize);\n}\n</code></pre>\n\n<p>And the add function can be added like so:</p>\n\n<pre><code>public boolean add(T element){\n    // the variable size below is equal to how many times the add function has been called \n    // and is used to keep track of where to put the next variable in the array\n    arrays[size] = new GenericInvoker(element);\n    size++;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1816391,"reputation":508,"user_id":2324063,"display_name":"gary"},"score":0,"creation_date":1667740562,"post_id":45045080,"comment_id":131234083,"body_markdown":"This answer is awesome, for the sake of an unused varargs parameter, you get full array type compatibility without messing with Class objects or Reflection.  Hopefully the JDK can save the cost of constructing a new empty array at every call point, and reuse the same empty array, otherwise the downside is a niggling amount of Object churn.","body":"This answer is awesome, for the sake of an unused varargs parameter, you get full array type compatibility without messing with Class objects or Reflection.  Hopefully the JDK can save the cost of constructing a new empty array at every call point, and reuse the same empty array, otherwise the downside is a niggling amount of Object churn."},{"owner":{"account_id":17911752,"reputation":746,"user_id":13013715,"display_name":"STh"},"score":0,"creation_date":1687263393,"post_id":45045080,"comment_id":134909410,"body_markdown":"It is good to note that even though the compiler is warning about potential [heap pollution](https://stackoverflow.com/questions/12462079/possible-heap-pollution-via-varargs-parameter), but this can safely be ignored by the  `@SafeVarargs`-annotation because there cannot be any &quot;bad value&quot; in the vararg (since there cannot be *any* value).","body":"It is good to note that even though the compiler is warning about potential <a href=\"https://stackoverflow.com/questions/12462079/possible-heap-pollution-via-varargs-parameter\">heap pollution</a>, but this can safely be ignored by the  <code>@SafeVarargs</code>-annotation because there cannot be any &quot;bad value&quot; in the vararg (since there cannot be <i>any</i> value)."}],"tags":[],"owner":{"display_name":"user4910279"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1620600657,"creation_date":1499810035,"answer_id":45045080,"question_id":529085,"body_markdown":"You do not need to pass the Class argument to the constructor.\r\nTry this.\r\n\r\n    public class GenSet&lt;T&gt; {\r\n\r\n        private final T[] array;\r\n\r\n        @SafeVarargs\r\n        public GenSet(int capacity, T... dummy) {\r\n            if (dummy.length &gt; 0)\r\n                throw new IllegalArgumentException(\r\n                  &quot;Do not provide values for dummy argument.&quot;);\r\n            this.array = Arrays.copyOf(dummy, capacity);\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;GenSet of &quot; + array.getClass().getComponentType().getName()\r\n                + &quot;[&quot; + array.length + &quot;]&quot;;\r\n        }\r\n    }\r\n\r\nand\r\n\r\n    GenSet&lt;Integer&gt; intSet = new GenSet&lt;&gt;(3);\r\n    System.out.println(intSet);\r\n    System.out.println(new GenSet&lt;String&gt;(2));\r\n\r\nresult:\r\n\r\n    GenSet of java.lang.Integer[3]\r\n    GenSet of java.lang.String[2]\r\n","title":"How to create a generic array in Java?","body":"<p>You do not need to pass the Class argument to the constructor.\nTry this.</p>\n<pre><code>public class GenSet&lt;T&gt; {\n\n    private final T[] array;\n\n    @SafeVarargs\n    public GenSet(int capacity, T... dummy) {\n        if (dummy.length &gt; 0)\n            throw new IllegalArgumentException(\n              &quot;Do not provide values for dummy argument.&quot;);\n        this.array = Arrays.copyOf(dummy, capacity);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;GenSet of &quot; + array.getClass().getComponentType().getName()\n            + &quot;[&quot; + array.length + &quot;]&quot;;\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>GenSet&lt;Integer&gt; intSet = new GenSet&lt;&gt;(3);\nSystem.out.println(intSet);\nSystem.out.println(new GenSet&lt;String&gt;(2));\n</code></pre>\n<p>result:</p>\n<pre><code>GenSet of java.lang.Integer[3]\nGenSet of java.lang.String[2]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47359,"reputation":2770,"user_id":140234,"accept_rate":40,"display_name":"Rodrigo Asensio"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1505470781,"creation_date":1505470781,"answer_id":46237256,"question_id":529085,"body_markdown":"Passing a list of values...\r\n\r\n\tpublic &lt;T&gt; T[] array(T... values) {\r\n\t\treturn values;\r\n\t}\r\n","title":"How to create a generic array in Java?","body":"<p>Passing a list of values...</p>\n\n<pre><code>public &lt;T&gt; T[] array(T... values) {\n    return values;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2381037,"reputation":1075,"user_id":2083069,"accept_rate":100,"display_name":"Irfan Ul Haq"},"comment_count":0,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1524145559,"creation_date":1524145559,"answer_id":49922710,"question_id":529085,"body_markdown":"Generic array creation is disallowed in java but you can do it like\r\n\r\n    class Stack&lt;T&gt; {\r\n    private final T[] array;\r\n    public Stack(int capacity) {\r\n        array = (T[]) new Object[capacity];\r\n     }\r\n    }\r\n","title":"How to create a generic array in Java?","body":"<p>Generic array creation is disallowed in java but you can do it like</p>\n\n<pre><code>class Stack&lt;T&gt; {\nprivate final T[] array;\npublic Stack(int capacity) {\n    array = (T[]) new Object[capacity];\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1889592,"reputation":1805,"user_id":1708042,"display_name":"user1708042"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1573046612,"creation_date":1573046311,"answer_id":58731117,"question_id":529085,"body_markdown":"If you really want to wrap a generic array of fixed size you will have a method to add data to that array, hence you can initialize properly the array there doing something like this:\r\n\r\n    import java.lang.reflect.Array;\r\n\r\n    class Stack&lt;T&gt; {\r\n        private T[] array = null;\r\n        private final int capacity = 10; // fixed or pass it in the constructor\r\n        private int pos = 0;\r\n\r\n        public void push(T value) {\r\n            if (value == null)\r\n\t\t        throw new IllegalArgumentException(&quot;Stack does not accept nulls&quot;);\r\n            if (array == null)\r\n                array = (T[]) Array.newInstance(value.getClass(), capacity);\r\n\t\t    // put logic: e.g.\r\n            if(pos == capacity)\r\n                 throw new IllegalStateException(&quot;push on full stack&quot;);\r\n            array[pos++] = value;\r\n        }\r\n\r\n        public T pop() throws IllegalStateException {\r\n            if (pos == 0)\r\n                throw new IllegalStateException(&quot;pop on empty stack&quot;);\r\n            return array[--pos];\r\n        }\r\n    }\r\n\r\nin this case you use a java.lang.reflect.Array.newInstance to create the array, and it will not be an Object[], but a real T[].\r\nYou should not worry of it not being final, since it is managed inside your class.\r\nNote that you need a non null object on the push() to be able to get the type to use, so I added a check on the data you push and throw an exception there.\r\n\r\nStill this is somewhat pointless: you store data via push and it is the signature of the method that guarantees only T elements will enter. So it is more or less irrelevant that the array is Object[] or T[].\r\n\r\n","title":"How to create a generic array in Java?","body":"<p>If you really want to wrap a generic array of fixed size you will have a method to add data to that array, hence you can initialize properly the array there doing something like this:</p>\n\n<pre><code>import java.lang.reflect.Array;\n\nclass Stack&lt;T&gt; {\n    private T[] array = null;\n    private final int capacity = 10; // fixed or pass it in the constructor\n    private int pos = 0;\n\n    public void push(T value) {\n        if (value == null)\n            throw new IllegalArgumentException(\"Stack does not accept nulls\");\n        if (array == null)\n            array = (T[]) Array.newInstance(value.getClass(), capacity);\n        // put logic: e.g.\n        if(pos == capacity)\n             throw new IllegalStateException(\"push on full stack\");\n        array[pos++] = value;\n    }\n\n    public T pop() throws IllegalStateException {\n        if (pos == 0)\n            throw new IllegalStateException(\"pop on empty stack\");\n        return array[--pos];\n    }\n}\n</code></pre>\n\n<p>in this case you use a java.lang.reflect.Array.newInstance to create the array, and it will not be an Object[], but a real T[].\nYou should not worry of it not being final, since it is managed inside your class.\nNote that you need a non null object on the push() to be able to get the type to use, so I added a check on the data you push and throw an exception there.</p>\n\n<p>Still this is somewhat pointless: you store data via push and it is the signature of the method that guarantees only T elements will enter. So it is more or less irrelevant that the array is Object[] or T[].</p>\n"},{"tags":[],"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590186175,"creation_date":1590186175,"answer_id":61964765,"question_id":529085,"body_markdown":"According to vnportnoy the syntax\r\n\r\n    GenSet&lt;Integer&gt; intSet[] = new GenSet[3];\r\n\r\ncreates an array of null references, to be filled as\r\n\r\n    for (int i = 0; i &lt; 3; i++)\r\n    {\r\n       intSet[i] = new GenSet&lt;Integer&gt;();\r\n    }\r\n\r\nwhich is type safe.","title":"How to create a generic array in Java?","body":"<p>According to vnportnoy the syntax</p>\n\n<pre><code>GenSet&lt;Integer&gt; intSet[] = new GenSet[3];\n</code></pre>\n\n<p>creates an array of null references, to be filled as</p>\n\n<pre><code>for (int i = 0; i &lt; 3; i++)\n{\n   intSet[i] = new GenSet&lt;Integer&gt;();\n}\n</code></pre>\n\n<p>which is type safe.</p>\n"},{"tags":[],"owner":{"account_id":3261346,"reputation":1761,"user_id":2746883,"accept_rate":56,"display_name":"Acuna"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1670630157,"creation_date":1670630157,"answer_id":74749313,"question_id":529085,"body_markdown":"Arrays does not supports generics (because it&#39;s another type of data), but you can use undeterminated generics while its creation if you don&#39;t need casting, btw it&#39;s better than use a reflection:\r\n\r\n    List&lt;?&gt;[] chars = new List[3];\r\n\r\nSo now we are getting the legal generics array even without `Unchecked type` warning,","title":"How to create a generic array in Java?","body":"<p>Arrays does not supports generics (because it's another type of data), but you can use undeterminated generics while its creation if you don't need casting, btw it's better than use a reflection:</p>\n<pre><code>List&lt;?&gt;[] chars = new List[3];\n</code></pre>\n<p>So now we are getting the legal generics array even without <code>Unchecked type</code> warning,</p>\n"}],"owner":{"account_id":25092,"reputation":25309,"user_id":64250,"accept_rate":76,"display_name":"tatsuhirosatou"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":992593,"favorite_count":0,"down_vote_count":2,"up_vote_count":1237,"accepted_answer_id":530289,"answer_count":32,"score":1235,"last_activity_date":1681145565,"creation_date":1234200644,"question_id":529085,"body_markdown":"Due to the implementation of Java generics, you can&#39;t have code like this: \r\n\r\n    public class GenSet&lt;E&gt; {\r\n        private E a[];\r\n\r\n        public GenSet() {\r\n            a = new E[INITIAL_ARRAY_LENGTH]; // error: generic array creation\r\n        }\r\n    }\r\n\r\nHow can I implement this while maintaining type safety?\r\n\r\nI saw a solution on the Java forums that goes like this:\r\n\r\n    import java.lang.reflect.Array;\r\n     \r\n    class Stack&lt;T&gt; {\r\n        public Stack(Class&lt;T&gt; clazz, int capacity) {\r\n            array = (T[])Array.newInstance(clazz, capacity);\r\n        }\r\n     \r\n        private final T[] array;\r\n    }\r\n\r\nBut I really don&#39;t get what&#39;s going on.","title":"How to create a generic array in Java?","body":"<p>Due to the implementation of Java generics, you can't have code like this: </p>\n\n<pre><code>public class GenSet&lt;E&gt; {\n    private E a[];\n\n    public GenSet() {\n        a = new E[INITIAL_ARRAY_LENGTH]; // error: generic array creation\n    }\n}\n</code></pre>\n\n<p>How can I implement this while maintaining type safety?</p>\n\n<p>I saw a solution on the Java forums that goes like this:</p>\n\n<pre><code>import java.lang.reflect.Array;\n\nclass Stack&lt;T&gt; {\n    public Stack(Class&lt;T&gt; clazz, int capacity) {\n        array = (T[])Array.newInstance(clazz, capacity);\n    }\n\n    private final T[] array;\n}\n</code></pre>\n\n<p>But I really don't get what's going on.</p>\n"},{"tags":["java","spring-boot","maven","intellij-idea","spring-boot-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678213180,"creation_date":1678213180,"answer_id":75665817,"question_id":75665724,"body_markdown":"Since you tagged the question with `#intellij-idea`, I&#39;m assuming you are looking for the solution that is specific to the IDE.\r\n\r\nModify Options | Program Arguments:\r\n\r\n[![Program arguments][1]][1]\r\n\r\n[![Arguments][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MT8sK.png\r\n  [2]: https://i.stack.imgur.com/tjaWB.png\r\n\r\nIf you are looking for a Maven-specific solution, ask a question without IDE tags.","title":"How to add arguments for maven springboot:run?","body":"<p>Since you tagged the question with <code>#intellij-idea</code>, I'm assuming you are looking for the solution that is specific to the IDE.</p>\n<p>Modify Options | Program Arguments:</p>\n<p><a href=\"https://i.stack.imgur.com/MT8sK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MT8sK.png\" alt=\"Program arguments\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/tjaWB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tjaWB.png\" alt=\"Arguments\" /></a></p>\n<p>If you are looking for a Maven-specific solution, ask a question without IDE tags.</p>\n"}],"owner":{"account_id":3362300,"reputation":99,"user_id":2823842,"display_name":"SamPhoenix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75665817,"answer_count":1,"score":1,"last_activity_date":1681145319,"creation_date":1678212630,"question_id":75665724,"body_markdown":"This is a possible duplicate to: https://stackoverflow.com/questions/42274563/how-to-add-program-arguments-for-maven-command-line-project-in-intellij\r\n\r\nWhile the answer was valid 2017, I struggle 2023.\r\n\r\nI was forced to take an App under maintenance that uses Springboot and Maven. I am not really familiar with maven so far and Springboot just stopped being magic.\r\n\r\nThe App needs an argument, but I have no idea how to set this argument in IntelliJ probably to run/debug configurations. I am talking about the argument read by \r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n\r\nThanks so far","title":"How to add arguments for maven springboot:run?","body":"<p>This is a possible duplicate to: <a href=\"https://stackoverflow.com/questions/42274563/how-to-add-program-arguments-for-maven-command-line-project-in-intellij\">how to add program arguments for maven command line project in intellij?</a></p>\n<p>While the answer was valid 2017, I struggle 2023.</p>\n<p>I was forced to take an App under maintenance that uses Springboot and Maven. I am not really familiar with maven so far and Springboot just stopped being magic.</p>\n<p>The App needs an argument, but I have no idea how to set this argument in IntelliJ probably to run/debug configurations. I am talking about the argument read by</p>\n<pre><code>public static void main(String[] args) {\n    SpringApplication.run(Application.class, args);\n}\n</code></pre>\n<p>Thanks so far</p>\n"},{"tags":["java","git","egit","jgit"],"owner":{"account_id":3425729,"reputation":419,"user_id":2871531,"accept_rate":0,"display_name":"DbSchema"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681144587,"creation_date":1680809918,"question_id":75953189,"body_markdown":"If I do pull and one of the local files are modified, I may get an exeception with status &#39;DIRTY_WORKTREE&#39;.\r\nWhich is the best approach to avoid this? What I did:\r\n\r\n```\r\nMergeResult mergeResult = git.pull().setRemote(&quot;origin&quot;).setRemoteBranchName(git.getRepository().getBranch()).call();\r\nif (mergeResult != null) {\r\n  if ( mergeResult.getConflicts() != null &amp;&amp; !mergeResult.getConflicts().isEmpty()) {\r\n  new GitConflictsDialog(FxGitDialog.this, git, new ArrayList&lt;&gt;(mergeResult.getConflicts().keySet())).showDialog();\r\n} else if (mergeResult.getMergeStatus().isSuccessful() ) {\r\n   showInformation(getDialogScene(), mergeResult.toString());\r\n} else {\r\n  final StringBuilder sb = new StringBuilder();\r\n  for ( Map.Entry&lt;String, ResolveMerger.MergeFailureReason&gt; entry : mergeResult.getFailingPaths().entrySet() ){\r\n      String reason = entry.getValue().toString();\r\n      if ( reason.contains(&quot;DIRTY_WORKTREE&quot;)){\r\n         reason = &quot;has un-commited changes. &quot; + reason;\r\n      }\r\n      sb.append( entry.getKey() ).append(&quot; &quot;).append( reason ).append( &quot;\\n\\n&quot;);\r\n   }\r\n   sb.append( mergeResult );\r\n   showError(getDialogScene(), sb.toString() );\r\n}\r\n```","title":"jGit and Dirty Worktree","body":"<p>If I do pull and one of the local files are modified, I may get an exeception with status 'DIRTY_WORKTREE'.\nWhich is the best approach to avoid this? What I did:</p>\n<pre><code>MergeResult mergeResult = git.pull().setRemote(&quot;origin&quot;).setRemoteBranchName(git.getRepository().getBranch()).call();\nif (mergeResult != null) {\n  if ( mergeResult.getConflicts() != null &amp;&amp; !mergeResult.getConflicts().isEmpty()) {\n  new GitConflictsDialog(FxGitDialog.this, git, new ArrayList&lt;&gt;(mergeResult.getConflicts().keySet())).showDialog();\n} else if (mergeResult.getMergeStatus().isSuccessful() ) {\n   showInformation(getDialogScene(), mergeResult.toString());\n} else {\n  final StringBuilder sb = new StringBuilder();\n  for ( Map.Entry&lt;String, ResolveMerger.MergeFailureReason&gt; entry : mergeResult.getFailingPaths().entrySet() ){\n      String reason = entry.getValue().toString();\n      if ( reason.contains(&quot;DIRTY_WORKTREE&quot;)){\n         reason = &quot;has un-commited changes. &quot; + reason;\n      }\n      sb.append( entry.getKey() ).append(&quot; &quot;).append( reason ).append( &quot;\\n\\n&quot;);\n   }\n   sb.append( mergeResult );\n   showError(getDialogScene(), sb.toString() );\n}\n</code></pre>\n"},{"tags":["java","layout","javafx"],"answers":[{"comments":[{"owner":{"account_id":6410016,"reputation":7025,"user_id":4970079,"accept_rate":76,"display_name":"GOXR3PLUS"},"score":0,"creation_date":1479036443,"post_id":40573260,"comment_id":68382135,"body_markdown":"Hello Fabian.Thanks for the answer ,is there any way i can fix it from SceneBuilder , i can write directly to the code but i am curious.Is that the `minWidth` from the Layout drop menu at right ?","body":"Hello Fabian.Thanks for the answer ,is there any way i can fix it from SceneBuilder , i can write directly to the code but i am curious.Is that the <code>minWidth</code> from the Layout drop menu at right ?"},{"owner":{"account_id":225067,"reputation":29525,"user_id":485337,"accept_rate":91,"display_name":"Adam Arold"},"score":0,"creation_date":1517408053,"post_id":40573260,"comment_id":84083620,"body_markdown":"This doesn&#39;t work. Additionally this does not solve the height of the title when there is no need to wrap text (available space is enough).","body":"This doesn&#39;t work. Additionally this does not solve the height of the title when there is no need to wrap text (available space is enough)."},{"owner":{"account_id":14686581,"reputation":155,"user_id":10606381,"display_name":"CTO - Abid Maqbool"},"score":0,"creation_date":1681144590,"post_id":40573260,"comment_id":134005735,"body_markdown":"Something like this can be achieved using this technique.\nhttps://github.com/JPro-one/JPro-tickets/issues/147#issuecomment-1501767227","body":"Something like this can be achieved using this technique. <a href=\"https://github.com/JPro-one/JPro-tickets/issues/147#issuecomment-1501767227\" rel=\"nofollow noreferrer\">github.com/JPro-one/JPro-tickets/issues/&hellip;</a>"}],"tags":[],"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"comment_count":3,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1479039333,"creation_date":1479036314,"answer_id":40573260,"question_id":40572296,"body_markdown":"By default `TitledPane` has a `minWidth` based on the `text`. For it&#39;s parent to resize the node to a smaller size, you have to manually assign a value:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;TitledPane minWidth=&quot;0&quot; fx:id=&quot;titledPane&quot; alignment=&quot;CENTER&quot; contentDisplay=&quot;CENTER&quot; graphicTextGap=&quot;0.0&quot; text=&quot;I am The TilePane and i don&#39;t like wrapping the text!&quot; wrapText=&quot;true&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n       ...\r\n    &lt;/TitledPane&gt;\r\n\r\nThis can be set in the *Layout* section of the inspector of the `TitledPane` (`Min Width`).\r\n\r\nAs for actually wrapping the text:\r\n\r\nThe title part of the `TitledPane` is simply not large enough to allow multiple lines by default. You could change this using a css style sheet:\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    #titledPane&gt;.title {\r\n        -fx-pref-height: 50; /* increase available area */\r\n        -fx-alignment: top-center;\r\n        -fx-padding: 4 4 4 30; /* increase left padding to align text */\r\n    }\r\n    \r\n    #titledPane&gt;.title&gt;.arrow-button {\r\n        -fx-translate-x: -20; /* move back arrow, which is also subject to the padding */\r\n    }","title":"JavaFX TilePane doesn&#39;t wrap the text or showing Ellipsis String","body":"<p>By default <code>TitledPane</code> has a <code>minWidth</code> based on the <code>text</code>. For it's parent to resize the node to a smaller size, you have to manually assign a value:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;TitledPane minWidth=\"0\" fx:id=\"titledPane\" alignment=\"CENTER\" contentDisplay=\"CENTER\" graphicTextGap=\"0.0\" text=\"I am The TilePane and i don't like wrapping the text!\" wrapText=\"true\" BorderPane.alignment=\"CENTER\"&gt;\n   ...\n&lt;/TitledPane&gt;\n</code></pre>\n\n<p>This can be set in the <em>Layout</em> section of the inspector of the <code>TitledPane</code> (<code>Min Width</code>).</p>\n\n<p>As for actually wrapping the text:</p>\n\n<p>The title part of the <code>TitledPane</code> is simply not large enough to allow multiple lines by default. You could change this using a css style sheet:</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>#titledPane&gt;.title {\n    -fx-pref-height: 50; /* increase available area */\n    -fx-alignment: top-center;\n    -fx-padding: 4 4 4 30; /* increase left padding to align text */\n}\n\n#titledPane&gt;.title&gt;.arrow-button {\n    -fx-translate-x: -20; /* move back arrow, which is also subject to the padding */\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14686581,"reputation":155,"user_id":10606381,"display_name":"CTO - Abid Maqbool"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681144526,"creation_date":1681144526,"answer_id":75978891,"question_id":40572296,"body_markdown":"The `TitledPane` -&gt; `Title` *auto height with text-wrapping* can be achieved by using something like this codding:\r\n\r\n```\r\nprivate Node getView() {\r\n    StackPane root = new StackPane();\r\n\r\n    TitledPane titledPane2 = new TitledPane();\r\n    titledPane2.setMinWidth(Region.USE_PREF_SIZE);\r\n    titledPane2.setPrefWidth(400);\r\n    titledPane2.setMaxWidth(Region.USE_PREF_SIZE);\r\n    titledPane2.setAlignment(Pos.TOP_LEFT);\r\n\r\n    Label lbl1 = new Label(\r\n            &quot;5 sample paragraphs for reading test on 1. Traveling in a D. T. C. Bus  2. Look Before You Leap 3. Rising Prices 4. ‘Simple Living, High Thinking’ 5. A Football Match&quot;);\r\n    lbl1.setWrapText(true);\r\n    lbl1.setMinHeight(Region.USE_PREF_SIZE);\r\n    lbl1.setPadding(new Insets(0, 4.3, 0, 0));\r\n\r\n    titledPane2.setGraphic(lbl1);\r\n\r\n    Label lbl12 = new Label(\r\n            &quot;Delhi is a crowded city. There are very few rich people who travel by their own vehicles. The majority of the people cannot afford to hire a taxi or a three-wheeler. They have to depend on D.T.C. buses, which are the cheapest mode of conveyance.&quot;);\r\n    lbl12.setWrapText(true);\r\n    lbl12.setPadding(new Insets(4.3));\r\n\r\n    titledPane2.setContent(lbl12);\r\n\r\n    root.getChildren().addAll(titledPane2);\r\n\r\n    Platform.runLater(() -&gt; {\r\n        Pane title = (Pane) titledPane2.lookup(&quot;.title&quot;);\r\n\r\n        title.prefHeightProperty().bind(lbl1.heightProperty()\r\n                .add(title.getInsets().getTop() + title.getInsets().getBottom()));\r\n    });\r\n\r\n    return root;\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n[![image][1]][1]\r\n\r\nBut it will be more better if it&#39;s fixed in official javafx repository.\r\n\r\n  [1]: https://i.stack.imgur.com/R1fR3.png","title":"JavaFX TilePane doesn&#39;t wrap the text or showing Ellipsis String","body":"<p>The <code>TitledPane</code> -&gt; <code>Title</code> <em>auto height with text-wrapping</em> can be achieved by using something like this codding:</p>\n<pre><code>private Node getView() {\n    StackPane root = new StackPane();\n\n    TitledPane titledPane2 = new TitledPane();\n    titledPane2.setMinWidth(Region.USE_PREF_SIZE);\n    titledPane2.setPrefWidth(400);\n    titledPane2.setMaxWidth(Region.USE_PREF_SIZE);\n    titledPane2.setAlignment(Pos.TOP_LEFT);\n\n    Label lbl1 = new Label(\n            &quot;5 sample paragraphs for reading test on 1. Traveling in a D. T. C. Bus  2. Look Before You Leap 3. Rising Prices 4. ‘Simple Living, High Thinking’ 5. A Football Match&quot;);\n    lbl1.setWrapText(true);\n    lbl1.setMinHeight(Region.USE_PREF_SIZE);\n    lbl1.setPadding(new Insets(0, 4.3, 0, 0));\n\n    titledPane2.setGraphic(lbl1);\n\n    Label lbl12 = new Label(\n            &quot;Delhi is a crowded city. There are very few rich people who travel by their own vehicles. The majority of the people cannot afford to hire a taxi or a three-wheeler. They have to depend on D.T.C. buses, which are the cheapest mode of conveyance.&quot;);\n    lbl12.setWrapText(true);\n    lbl12.setPadding(new Insets(4.3));\n\n    titledPane2.setContent(lbl12);\n\n    root.getChildren().addAll(titledPane2);\n\n    Platform.runLater(() -&gt; {\n        Pane title = (Pane) titledPane2.lookup(&quot;.title&quot;);\n\n        title.prefHeightProperty().bind(lbl1.heightProperty()\n                .add(title.getInsets().getTop() + title.getInsets().getBottom()));\n    });\n\n    return root;\n}\n</code></pre>\n<p>Output:</p>\n<p><a href=\"https://i.stack.imgur.com/R1fR3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R1fR3.png\" alt=\"image\" /></a></p>\n<p>But it will be more better if it's fixed in official javafx repository.</p>\n"}],"owner":{"account_id":6410016,"reputation":7025,"user_id":4970079,"accept_rate":76,"display_name":"GOXR3PLUS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":977,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":40573260,"answer_count":2,"score":1,"last_activity_date":1681144526,"creation_date":1479028706,"question_id":40572296,"body_markdown":"I am using a `TilePane` which contains a `GridPane` inside it and i have created it using `SceneBuilder` and `FXML`.The problem is that `TilePane` works very strange as the title is saying:\r\n\r\nWhen the text is too big i have serious problems with the layouts cause the `TilePane` **isn&#39;t wrapping the text or showing Ellipsis String so when i resize the window all the layouts are failing into the app**.\r\n\r\nWhy this is happening with `TilePane` and is not working as expected inside a `BorderPane`?\r\n\r\n\r\n----------\r\n\r\n\r\n**ScreenShot:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n----------\r\n\r\n\r\nHere is the fxml code:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.ContextMenu?&gt;\r\n    &lt;?import javafx.scene.control.TextField?&gt;\r\n    &lt;?import javafx.scene.control.TitledPane?&gt;\r\n    &lt;?import javafx.scene.control.Tooltip?&gt;\r\n    &lt;?import javafx.scene.layout.BorderPane?&gt;\r\n    &lt;?import javafx.scene.layout.ColumnConstraints?&gt;\r\n    &lt;?import javafx.scene.layout.GridPane?&gt;\r\n    &lt;?import javafx.scene.layout.RowConstraints?&gt;\r\n    &lt;?import javafx.scene.layout.StackPane?&gt;\r\n    \r\n    &lt;fx:root styleClass=&quot;smartController&quot; type=&quot;StackPane&quot; xmlns=&quot;http://javafx.com/javafx/8.0.60&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n       &lt;children&gt;\r\n          &lt;BorderPane fx:id=&quot;mainBorder&quot; style=&quot;-fx-background-color: transparent; -fx-border-color: red;&quot;&gt;\r\n             &lt;top&gt;\r\n                &lt;TitledPane fx:id=&quot;titledPane&quot; alignment=&quot;CENTER&quot; contentDisplay=&quot;CENTER&quot; graphicTextGap=&quot;0.0&quot; text=&quot;I am The TilePane and i don&#39;t like wrapping the text!&quot; wrapText=&quot;true&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n                   &lt;content&gt;\r\n                      &lt;GridPane fx:id=&quot;topGrid&quot; gridLinesVisible=&quot;true&quot; hgap=&quot;5.0&quot; style=&quot;-fx-background-color: rgb(0,0,0,0.85);;&quot;&gt;\r\n                        &lt;columnConstraints&gt;\r\n                          &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; percentWidth=&quot;70.0&quot; /&gt;\r\n                          &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;40.0&quot; percentWidth=&quot;15.0&quot; /&gt;\r\n                            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; percentWidth=&quot;15.0&quot; /&gt;\r\n                        &lt;/columnConstraints&gt;\r\n                        &lt;rowConstraints&gt;\r\n                          &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n                        &lt;/rowConstraints&gt;\r\n                         &lt;children&gt;\r\n                            &lt;TextField fx:id=&quot;pageField&quot; alignment=&quot;CENTER&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;65.0&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;50.0&quot; GridPane.columnIndex=&quot;1&quot; GridPane.halignment=&quot;CENTER&quot; GridPane.valignment=&quot;CENTER&quot;&gt;\r\n                               &lt;tooltip&gt;\r\n                                  &lt;Tooltip text=&quot;current page&quot; /&gt;\r\n                               &lt;/tooltip&gt;\r\n                               &lt;contextMenu&gt;\r\n                                  &lt;ContextMenu /&gt;\r\n                               &lt;/contextMenu&gt;\r\n                            &lt;/TextField&gt;\r\n                         &lt;/children&gt;\r\n                      &lt;/GridPane&gt;\r\n                   &lt;/content&gt;\r\n                &lt;/TitledPane&gt;\r\n             &lt;/top&gt;\r\n          &lt;/BorderPane&gt;\r\n       &lt;/children&gt;\r\n    &lt;/fx:root&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WtkB7.png","title":"JavaFX TilePane doesn&#39;t wrap the text or showing Ellipsis String","body":"<p>I am using a <code>TilePane</code> which contains a <code>GridPane</code> inside it and i have created it using <code>SceneBuilder</code> and <code>FXML</code>.The problem is that <code>TilePane</code> works very strange as the title is saying:</p>\n\n<p>When the text is too big i have serious problems with the layouts cause the <code>TilePane</code> <strong>isn't wrapping the text or showing Ellipsis String so when i resize the window all the layouts are failing into the app</strong>.</p>\n\n<p>Why this is happening with <code>TilePane</code> and is not working as expected inside a <code>BorderPane</code>?</p>\n\n<hr>\n\n<p><strong>ScreenShot:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/WtkB7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WtkB7.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p>Here is the fxml code:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;?import javafx.scene.control.ContextMenu?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.control.TitledPane?&gt;\n&lt;?import javafx.scene.control.Tooltip?&gt;\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n&lt;?import javafx.scene.layout.ColumnConstraints?&gt;\n&lt;?import javafx.scene.layout.GridPane?&gt;\n&lt;?import javafx.scene.layout.RowConstraints?&gt;\n&lt;?import javafx.scene.layout.StackPane?&gt;\n\n&lt;fx:root styleClass=\"smartController\" type=\"StackPane\" xmlns=\"http://javafx.com/javafx/8.0.60\" xmlns:fx=\"http://javafx.com/fxml/1\"&gt;\n   &lt;children&gt;\n      &lt;BorderPane fx:id=\"mainBorder\" style=\"-fx-background-color: transparent; -fx-border-color: red;\"&gt;\n         &lt;top&gt;\n            &lt;TitledPane fx:id=\"titledPane\" alignment=\"CENTER\" contentDisplay=\"CENTER\" graphicTextGap=\"0.0\" text=\"I am The TilePane and i don't like wrapping the text!\" wrapText=\"true\" BorderPane.alignment=\"CENTER\"&gt;\n               &lt;content&gt;\n                  &lt;GridPane fx:id=\"topGrid\" gridLinesVisible=\"true\" hgap=\"5.0\" style=\"-fx-background-color: rgb(0,0,0,0.85);;\"&gt;\n                    &lt;columnConstraints&gt;\n                      &lt;ColumnConstraints hgrow=\"SOMETIMES\" percentWidth=\"70.0\" /&gt;\n                      &lt;ColumnConstraints hgrow=\"SOMETIMES\" minWidth=\"40.0\" percentWidth=\"15.0\" /&gt;\n                        &lt;ColumnConstraints hgrow=\"SOMETIMES\" percentWidth=\"15.0\" /&gt;\n                    &lt;/columnConstraints&gt;\n                    &lt;rowConstraints&gt;\n                      &lt;RowConstraints minHeight=\"10.0\" prefHeight=\"30.0\" vgrow=\"SOMETIMES\" /&gt;\n                    &lt;/rowConstraints&gt;\n                     &lt;children&gt;\n                        &lt;TextField fx:id=\"pageField\" alignment=\"CENTER\" maxHeight=\"-Infinity\" maxWidth=\"65.0\" minHeight=\"-Infinity\" minWidth=\"-Infinity\" prefHeight=\"25.0\" prefWidth=\"50.0\" GridPane.columnIndex=\"1\" GridPane.halignment=\"CENTER\" GridPane.valignment=\"CENTER\"&gt;\n                           &lt;tooltip&gt;\n                              &lt;Tooltip text=\"current page\" /&gt;\n                           &lt;/tooltip&gt;\n                           &lt;contextMenu&gt;\n                              &lt;ContextMenu /&gt;\n                           &lt;/contextMenu&gt;\n                        &lt;/TextField&gt;\n                     &lt;/children&gt;\n                  &lt;/GridPane&gt;\n               &lt;/content&gt;\n            &lt;/TitledPane&gt;\n         &lt;/top&gt;\n      &lt;/BorderPane&gt;\n   &lt;/children&gt;\n&lt;/fx:root&gt;\n</code></pre>\n"},{"tags":["java","json","jsonschema","json-schema-validator","light-4j"],"owner":{"account_id":14768363,"reputation":21,"user_id":10665666,"display_name":"daelynj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2573,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1681143996,"creation_date":1641500039,"question_id":70613113,"body_markdown":"One caveat here is that the OpenAPI Schema is not being used for the purposes of validating requests and responses. The OpenAPI schema can&#39;t be changed to a regular JSON Schema.\r\n\r\nSay we have an OpenAPI schema in the form\r\n\r\nTestSchema.json\r\n```json\r\n{\r\n  &quot;components&quot;: {\r\n    &quot;schemas&quot;: {\r\n      &quot;book&quot;: {\r\n        &quot;type&quot;: &quot;object&quot;,\r\n        &quot;properties&quot;: {\r\n          &quot;title&quot;: {\r\n            &quot;type&quot;: &quot;string&quot;\r\n          },\r\n          &quot;author&quot;: {\r\n            &quot;$ref&quot;: &quot;#/components/schemas/author&quot;\r\n          }\r\n        }\r\n      },\r\n      &quot;author&quot;: {\r\n        &quot;type&quot;: &quot;object&quot;,\r\n        &quot;properties&quot;: {\r\n          &quot;name&quot;: {\r\n            &quot;type&quot;: &quot;string&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nNow imagine we have some JSON taking the form of a &quot;book&quot; as defined in the above schema\r\n```json\r\n{\r\n  &quot;title&quot;: &quot;LOTR&quot;,\r\n  &quot;author&quot;: {\r\n    &quot;name&quot;: &quot;Tolkien&quot;\r\n  }\r\n}\r\n```\r\nUsing the [json-schema-validator](https://github.com/networknt/json-schema-validator) library we&#39;ve written code to perform this validation as follows\r\n```java\r\npublic class SchemaValidator {\r\n    private final ObjectMapper mapper = new ObjectMapper();\r\n    private final JsonSchema schema;\r\n\r\n    public SchemaValidator(FileReader schemaFile) throws IOException {\r\n        schema = getJsonSchemaFromJsonNode(mapper.readTree(schemaFile));\r\n    }\r\n\r\n    public Set&lt;ValidationMessage&gt; validate(String json) throws IOException {\r\n        return schema.validate(mapper.readTree(json));\r\n    }\r\n\r\n    private JsonSchema getJsonSchemaFromJsonNode(JsonNode node) {\r\n        return JsonSchemaFactory.getInstance(VersionFlag.V6).getSchema(node);\r\n    }\r\n}\r\n```\r\n\r\nUsage:\r\n```java\r\n@Test\r\nvoid validate_invalidTitle() throws IOException {\r\n    var schemaValidator = new SchemaValidator(\r\n        new FileReader(&quot;src/test/resources/TestSchema.json&quot;)\r\n    );\r\n    var json = &quot;{\\&quot;title\\&quot;:5,\\&quot;author\\&quot;:{\\&quot;name\\&quot;:\\&quot;Tolkien\\&quot;}}&quot;;\r\n\r\n    assertEquals(\r\n        &quot;$.title: integer found, string expected&quot;,\r\n        schemaValidator.validate(json).stream().findAny().orElseThrow().getMessage()\r\n    );\r\n}\r\n```\r\n\r\nSince the OpenAPI schema has two extra nodes, `&quot;components&quot;` and `&quot;schemas&quot;` this code doesn&#39;t perform validation because we can&#39;t do a 1-1 validation between our &quot;book&quot; json and the schema.\r\n\r\nA way around this is to re-write the constructor with a `.findValue(&quot;book&quot;)`\r\n```java\r\npublic SchemaValidator(FileReader schemaFile) throws IOException {\r\n    schema = getJsonSchemaFromJsonNode(mapper.readTree(schemaFile).findValue(&quot;book&quot;));\r\n}\r\n```\r\nBut this results in an error of\r\n\r\n`#/properties/author/$ref: Reference #/components/schemas/author cannot be resolved`\r\n\r\nAs we have now broken the reference path.\r\n\r\nOne way around this to get the test to pass is to adjust the `$ref` in the schema to `#/author` but the schema itself is then invalid.\r\n\r\nAm I missing a tool in this library or building the objects incorrectly? What needs to be done to make this validation work?\r\n\r\nI dug around in the [open-api-validator](https://github.com/networknt/light-rest-4j/tree/master/openapi-validator) which ends up using the `json-schema-validator` library to perform validation but the request/response validation is not a step I need.","title":"How to validate against an OpenAPI schema with $refs using json-schema-validator","body":"<p>One caveat here is that the OpenAPI Schema is not being used for the purposes of validating requests and responses. The OpenAPI schema can't be changed to a regular JSON Schema.</p>\n<p>Say we have an OpenAPI schema in the form</p>\n<p>TestSchema.json</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;components&quot;: {\n    &quot;schemas&quot;: {\n      &quot;book&quot;: {\n        &quot;type&quot;: &quot;object&quot;,\n        &quot;properties&quot;: {\n          &quot;title&quot;: {\n            &quot;type&quot;: &quot;string&quot;\n          },\n          &quot;author&quot;: {\n            &quot;$ref&quot;: &quot;#/components/schemas/author&quot;\n          }\n        }\n      },\n      &quot;author&quot;: {\n        &quot;type&quot;: &quot;object&quot;,\n        &quot;properties&quot;: {\n          &quot;name&quot;: {\n            &quot;type&quot;: &quot;string&quot;\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>Now imagine we have some JSON taking the form of a &quot;book&quot; as defined in the above schema</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;title&quot;: &quot;LOTR&quot;,\n  &quot;author&quot;: {\n    &quot;name&quot;: &quot;Tolkien&quot;\n  }\n}\n</code></pre>\n<p>Using the <a href=\"https://github.com/networknt/json-schema-validator\" rel=\"nofollow noreferrer\">json-schema-validator</a> library we've written code to perform this validation as follows</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SchemaValidator {\n    private final ObjectMapper mapper = new ObjectMapper();\n    private final JsonSchema schema;\n\n    public SchemaValidator(FileReader schemaFile) throws IOException {\n        schema = getJsonSchemaFromJsonNode(mapper.readTree(schemaFile));\n    }\n\n    public Set&lt;ValidationMessage&gt; validate(String json) throws IOException {\n        return schema.validate(mapper.readTree(json));\n    }\n\n    private JsonSchema getJsonSchemaFromJsonNode(JsonNode node) {\n        return JsonSchemaFactory.getInstance(VersionFlag.V6).getSchema(node);\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid validate_invalidTitle() throws IOException {\n    var schemaValidator = new SchemaValidator(\n        new FileReader(&quot;src/test/resources/TestSchema.json&quot;)\n    );\n    var json = &quot;{\\&quot;title\\&quot;:5,\\&quot;author\\&quot;:{\\&quot;name\\&quot;:\\&quot;Tolkien\\&quot;}}&quot;;\n\n    assertEquals(\n        &quot;$.title: integer found, string expected&quot;,\n        schemaValidator.validate(json).stream().findAny().orElseThrow().getMessage()\n    );\n}\n</code></pre>\n<p>Since the OpenAPI schema has two extra nodes, <code>&quot;components&quot;</code> and <code>&quot;schemas&quot;</code> this code doesn't perform validation because we can't do a 1-1 validation between our &quot;book&quot; json and the schema.</p>\n<p>A way around this is to re-write the constructor with a <code>.findValue(&quot;book&quot;)</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public SchemaValidator(FileReader schemaFile) throws IOException {\n    schema = getJsonSchemaFromJsonNode(mapper.readTree(schemaFile).findValue(&quot;book&quot;));\n}\n</code></pre>\n<p>But this results in an error of</p>\n<p><code>#/properties/author/$ref: Reference #/components/schemas/author cannot be resolved</code></p>\n<p>As we have now broken the reference path.</p>\n<p>One way around this to get the test to pass is to adjust the <code>$ref</code> in the schema to <code>#/author</code> but the schema itself is then invalid.</p>\n<p>Am I missing a tool in this library or building the objects incorrectly? What needs to be done to make this validation work?</p>\n<p>I dug around in the <a href=\"https://github.com/networknt/light-rest-4j/tree/master/openapi-validator\" rel=\"nofollow noreferrer\">open-api-validator</a> which ends up using the <code>json-schema-validator</code> library to perform validation but the request/response validation is not a step I need.</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":3883582,"reputation":32684,"user_id":3215527,"accept_rate":40,"display_name":"wero"},"score":2,"creation_date":1454361890,"post_id":35140408,"comment_id":58001586,"body_markdown":"why do you expect that `toString()` returns the value?","body":"why do you expect that <code>toString()</code> returns the value?"}],"answers":[{"tags":[],"owner":{"account_id":3674405,"reputation":3558,"user_id":3060803,"accept_rate":96,"display_name":"m.aibin"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1454361094,"creation_date":1454361094,"answer_id":35140415,"question_id":35140408,"body_markdown":"Write Getter and Setter for `value` and use:\r\n\r\n    System.out.println(Constants.YES.getValue());\r\n    System.out.println(Constants.NO.getValue());","title":"How to get value from a Java enum","body":"<p>Write Getter and Setter for <code>value</code> and use:</p>\n\n<pre><code>System.out.println(Constants.YES.getValue());\nSystem.out.println(Constants.NO.getValue());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":8,"creation_date":1454361517,"post_id":35140425,"comment_id":58001347,"body_markdown":"Maybe, maybe not. Maybe the OP needs a separate `getValue()` method instead?","body":"Maybe, maybe not. Maybe the OP needs a separate <code>getValue()</code> method instead?"},{"owner":{"account_id":5185952,"reputation":17062,"user_id":4150352,"accept_rate":75,"display_name":"Mohammed Aouf Zouag"},"score":2,"creation_date":1454361647,"post_id":35140425,"comment_id":58001437,"body_markdown":"Maybe, but the OP is explicitly calling the un-overriden `toString()` method of his enum, which pretty much sums it all.","body":"Maybe, but the OP is explicitly calling the un-overriden <code>toString()</code> method of his enum, which pretty much sums it all."},{"owner":{"account_id":7485974,"reputation":297,"user_id":5689162,"accept_rate":67,"display_name":"Mandar"},"score":0,"creation_date":1454368455,"post_id":35140425,"comment_id":58004768,"body_markdown":"What is a better practice. Overriding the toString() method or writing a separate getter method ??","body":"What is a better practice. Overriding the toString() method or writing a separate getter method ??"},{"owner":{"account_id":3674405,"reputation":3558,"user_id":3060803,"accept_rate":96,"display_name":"m.aibin"},"score":2,"creation_date":1454385935,"post_id":35140425,"comment_id":58009490,"body_markdown":"getter method is simplier, but both of solutions are ok.","body":"getter method is simplier, but both of solutions are ok."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":2,"creation_date":1597851938,"post_id":35140425,"comment_id":112270217,"body_markdown":"Although this solution works, it only works for this SPECIFIC problem. If a &quot;googler&quot; comes here and the enum he or she needs to obtain the value from has non-String values, this solution will not work. As as common practice, you should not use the `toString()` to return values. That violates the `Object.toString()` API. In addition, overriding this method works only for `String` values. Instead, you should create a `getValue()` function that returns the appropriate data type. See David Yee&#39;s or Just a Logic Gate&#39;s answer. They are more correct than this one, regardless of the OPs vote.","body":"Although this solution works, it only works for this SPECIFIC problem. If a &quot;googler&quot; comes here and the enum he or she needs to obtain the value from has non-String values, this solution will not work. As as common practice, you should not use the <code>toString()</code> to return values. That violates the <code>Object.toString()</code> API. In addition, overriding this method works only for <code>String</code> values. Instead, you should create a <code>getValue()</code> function that returns the appropriate data type. See David Yee&#39;s or Just a Logic Gate&#39;s answer. They are more correct than this one, regardless of the OPs vote."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1597852097,"post_id":35140425,"comment_id":112270286,"body_markdown":"@Mandar See my previous comment. It is better to create a getter method than to use `toString` for more than one reason.","body":"@Mandar See my previous comment. It is better to create a getter method than to use <code>toString</code> for more than one reason."},{"owner":{"account_id":5185952,"reputation":17062,"user_id":4150352,"accept_rate":75,"display_name":"Mohammed Aouf Zouag"},"score":0,"creation_date":1597931936,"post_id":35140425,"comment_id":112298455,"body_markdown":"@hfontanez The OP is asking why do the `toString` calls not return the result he expected. Your solution changes the code that the OP is trying to get to work.","body":"@hfontanez The OP is asking why do the <code>toString</code> calls not return the result he expected. Your solution changes the code that the OP is trying to get to work."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1598035965,"post_id":35140425,"comment_id":112337607,"body_markdown":"@MohammedAoufZouag incorrect. That is what you assumed he asked and your assumption is wrong. The title is clear &quot;How to get a value from a Java enum&quot;. Then concludes his post with &quot;I am not sure what is wrong here ??&quot; One of the things he is doing wrong is making use of the `Object#toString()` method because it violates the intent of the function. Instead of allowing the OP to create a working incorrect solution, we should advice him/her to create a better solution. Sorry to say, but this answer is not the best. Aside from that, other people who come here for answers will be misinformed.","body":"@MohammedAoufZouag incorrect. That is what you assumed he asked and your assumption is wrong. The title is clear &quot;How to get a value from a Java enum&quot;. Then concludes his post with &quot;I am not sure what is wrong here ??&quot; One of the things he is doing wrong is making use of the <code>Object#toString()</code> method because it violates the intent of the function. Instead of allowing the OP to create a working incorrect solution, we should advice him/her to create a better solution. Sorry to say, but this answer is not the best. Aside from that, other people who come here for answers will be misinformed."},{"owner":{"account_id":5185952,"reputation":17062,"user_id":4150352,"accept_rate":75,"display_name":"Mohammed Aouf Zouag"},"score":0,"creation_date":1598103900,"post_id":35140425,"comment_id":112351901,"body_markdown":"@hfontanez incorrect. The OP is complaining why the current output of his program doesn&#39;t match what he expected, and provided the code he used for that purpose. He gave a specific question (regardless of the generic title), for a specific situation, which requires a specific answer. If you feel like farming some reputation, feel free to post your own answer with all the details you want.","body":"@hfontanez incorrect. The OP is complaining why the current output of his program doesn&#39;t match what he expected, and provided the code he used for that purpose. He gave a specific question (regardless of the generic title), for a specific situation, which requires a specific answer. If you feel like farming some reputation, feel free to post your own answer with all the details you want."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1598469477,"post_id":35140425,"comment_id":112472783,"body_markdown":"@MohammedAoufZouag this is not about &quot;farming reputation&quot;. This is about not reading between the lines. The question is clear and very open-ended &quot;I am not sure what is wrong here ??&quot;  He is doing many things wrong and regardless how good you feel about your answer, it is not the best answer; which is why thee other people answered differently than you and their answer is almost the same when compared to one another. Yes, your answer is technically correct, as I stated on my original post. But in the greater scheme of things, it wasn&#39;t the best advice.","body":"@MohammedAoufZouag this is not about &quot;farming reputation&quot;. This is about not reading between the lines. The question is clear and very open-ended &quot;I am not sure what is wrong here ??&quot;  He is doing many things wrong and regardless how good you feel about your answer, it is not the best answer; which is why thee other people answered differently than you and their answer is almost the same when compared to one another. Yes, your answer is technically correct, as I stated on my original post. But in the greater scheme of things, it wasn&#39;t the best advice."}],"tags":[],"owner":{"account_id":5185952,"reputation":17062,"user_id":4150352,"accept_rate":75,"display_name":"Mohammed Aouf Zouag"},"comment_count":10,"down_vote_count":3,"up_vote_count":38,"is_accepted":true,"score":35,"last_activity_date":1454361116,"creation_date":1454361116,"answer_id":35140425,"question_id":35140408,"body_markdown":"You need to **override** the `toString` method of your enum:\r\n\r\n    public enum Constants{\r\n        YES(&quot;y&quot;), NO(&quot;N&quot;)\r\n        \r\n        // No changes\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return value;\r\n        }\r\n    }","title":"How to get value from a Java enum","body":"<p>You need to <strong>override</strong> the <code>toString</code> method of your enum:</p>\n\n<pre><code>public enum Constants{\n    YES(\"y\"), NO(\"N\")\n\n    // No changes\n\n    @Override\n    public String toString() {\n        return value;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1597852196,"post_id":35140480,"comment_id":112270335,"body_markdown":"Regardless of the OP&#39;s vote, this is the correct solution. See my comment in the &quot;Best Answer&quot; post.","body":"Regardless of the OP&#39;s vote, this is the correct solution. See my comment in the &quot;Best Answer&quot; post."}],"tags":[],"owner":{"account_id":3015171,"reputation":3578,"user_id":2557554,"accept_rate":71,"display_name":"David Yee"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1454361328,"creation_date":1454361328,"answer_id":35140480,"question_id":35140408,"body_markdown":"You can also add a getter to the enumeration and simply call on it to access the instance variable:\r\n\r\n    public enum Constants{\r\n        YES(&quot;Y&quot;), NO(&quot;N&quot;);\r\n        private String value;\r\n        \r\n        public String getResponse() {\r\n            return value;\r\n        }\r\n        \r\n        Constants(String value){\r\n            this.value = value;\r\n        }\r\n    }\r\n\r\n    public class TestConstants{\r\n        public static void main(String[] args){\r\n            System.out.println(Constants.YES.getResponse());\r\n            System.out.println(Constants.NO.getResponse());\r\n        }\r\n    }","title":"How to get value from a Java enum","body":"<p>You can also add a getter to the enumeration and simply call on it to access the instance variable:</p>\n\n<pre><code>public enum Constants{\n    YES(\"Y\"), NO(\"N\");\n    private String value;\n\n    public String getResponse() {\n        return value;\n    }\n\n    Constants(String value){\n        this.value = value;\n    }\n}\n\npublic class TestConstants{\n    public static void main(String[] args){\n        System.out.println(Constants.YES.getResponse());\n        System.out.println(Constants.NO.getResponse());\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1597852199,"post_id":35141026,"comment_id":112270339,"body_markdown":"Regardless of the OP&#39;s vote, this is the correct solution. See my comment in the &quot;Best Answer&quot; post.","body":"Regardless of the OP&#39;s vote, this is the correct solution. See my comment in the &quot;Best Answer&quot; post."}],"tags":[],"owner":{"account_id":7602241,"reputation":133,"user_id":5804887,"display_name":"Just a Logic Gate"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1454363376,"creation_date":1454363376,"answer_id":35141026,"question_id":35140408,"body_markdown":"Create a getValue() method in your enum, and use this instead of toString().\r\n\r\n    public enum Constants{\r\n     YES(&quot;y&quot;), NO(&quot;N&quot;)\r\n     private String value;\r\n\r\n     Constants(String value){\r\n      this.value = value;\r\n     }\r\n    }\r\n\r\n     public String getValue(){\r\n      return value;\r\n     }\r\n\r\nAnd instead of:\r\n\r\n    System.out.println(Constants.YES.toString())\r\n    System.out.println(Constants.NO.toString())\r\n\r\n(Which are also missing a semi-colon), use\r\n\r\n    System.out.println(Constants.YES.getValue());\r\n    System.out.println(Constants.NO.getValue());\r\n\r\nHope this solved your problem. If you do not want to create a method in your enum, you can make your value field public, but this would break encapsulation.\r\n    ","title":"How to get value from a Java enum","body":"<p>Create a getValue() method in your enum, and use this instead of toString().</p>\n\n<pre><code>public enum Constants{\n YES(\"y\"), NO(\"N\")\n private String value;\n\n Constants(String value){\n  this.value = value;\n }\n}\n\n public String getValue(){\n  return value;\n }\n</code></pre>\n\n<p>And instead of:</p>\n\n<pre><code>System.out.println(Constants.YES.toString())\nSystem.out.println(Constants.NO.toString())\n</code></pre>\n\n<p>(Which are also missing a semi-colon), use</p>\n\n<pre><code>System.out.println(Constants.YES.getValue());\nSystem.out.println(Constants.NO.getValue());\n</code></pre>\n\n<p>Hope this solved your problem. If you do not want to create a method in your enum, you can make your value field public, but this would break encapsulation.</p>\n"},{"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1597852304,"post_id":50759114,"comment_id":112270389,"body_markdown":"Why use `valueOf`? This is more error prone than to use the enum itself and call its getter method.","body":"Why use <code>valueOf</code>? This is more error prone than to use the enum itself and call its getter method."}],"tags":[],"owner":{"account_id":484819,"reputation":5634,"user_id":900743,"accept_rate":64,"display_name":"Peter"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528455382,"creation_date":1528455382,"answer_id":50759114,"question_id":35140408,"body_markdown":"    String enumValue = Constants.valueOf(&quot;YES&quot;)\r\n\r\nJava doc ref: https://docs.oracle.com/javase/7/docs/api/java/lang/Enum.html#valueOf(java.lang.Class,%20java.lang.String)","title":"How to get value from a Java enum","body":"<pre><code>String enumValue = Constants.valueOf(\"YES\")\n</code></pre>\n\n<p>Java doc ref: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Enum.html#valueOf(java.lang.Class,%20java.lang.String)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/Enum.html#valueOf(java.lang.Class,%20java.lang.String)</a></p>\n"},{"tags":[],"owner":{"account_id":2464379,"reputation":4305,"user_id":2147814,"accept_rate":62,"display_name":"anand krish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681143880,"creation_date":1681143880,"answer_id":75978823,"question_id":35140408,"body_markdown":"The elegant way to get value of an Enum is by using **ordinal** method.\r\n\r\n    public enum Constants\r\n    {\r\n      YES(&quot;Y&quot;), NO(&quot;N&quot;);\r\n      private String value;\r\n\r\n    public String getResponse() {\r\n        return value;\r\n    }\r\n\r\n    Constants(String value){\r\n        this.value = value;\r\n    }\r\n    public static Constants getConstants(int value){\r\n        for(Constants e : Constants.values()){\r\n            if(value == e.getResponse()) return e;\r\n        }\r\n        return null;\r\n      }\r\n    }\r\n\r\n    public class TestConstants{\r\n    public static void main(String[] args)\r\n      {\r\n        System.out.println(Constants.YES.ordinal());\r\n        System.out.println(Constants.NO.ordinal());\r\n      }\r\n    }","title":"How to get value from a Java enum","body":"<p>The elegant way to get value of an Enum is by using <strong>ordinal</strong> method.</p>\n<pre><code>public enum Constants\n{\n  YES(&quot;Y&quot;), NO(&quot;N&quot;);\n  private String value;\n\npublic String getResponse() {\n    return value;\n}\n\nConstants(String value){\n    this.value = value;\n}\npublic static Constants getConstants(int value){\n    for(Constants e : Constants.values()){\n        if(value == e.getResponse()) return e;\n    }\n    return null;\n  }\n}\n\npublic class TestConstants{\npublic static void main(String[] args)\n  {\n    System.out.println(Constants.YES.ordinal());\n    System.out.println(Constants.NO.ordinal());\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":7485974,"reputation":297,"user_id":5689162,"accept_rate":67,"display_name":"Mandar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153781,"favorite_count":0,"down_vote_count":1,"up_vote_count":28,"accepted_answer_id":35140425,"answer_count":6,"score":27,"last_activity_date":1681143880,"creation_date":1454361056,"question_id":35140408,"body_markdown":"I have a enum which looks like:\r\n\r\n\r\n\r\n    public enum Constants{\r\n      YES(&quot;y&quot;), NO(&quot;N&quot;)\r\n      private String value;\r\n\r\n      Constants(String value){\r\n        this.value = value;\r\n      }\r\n    }\r\n\r\n  I have a test class which looks like\r\n\r\n\r\n\r\n    public class TestConstants{\r\n     public static void main(String[] args){\r\n       System.out.println(Constants.YES.toString())\r\n       System.out.println(Constants.NO.toString())\r\n     }\r\n    }\r\n\r\nThe output is:\r\n\r\n\r\n\r\n\r\n    YES\r\n    NO\r\n\r\ninstead of \r\n\r\n\r\n\r\n    Y\r\n    N\r\n\r\nI am not sure what is wrong here ??","title":"How to get value from a Java enum","body":"<p>I have a enum which looks like:</p>\n\n<pre><code>public enum Constants{\n  YES(\"y\"), NO(\"N\")\n  private String value;\n\n  Constants(String value){\n    this.value = value;\n  }\n}\n</code></pre>\n\n<p>I have a test class which looks like</p>\n\n<pre><code>public class TestConstants{\n public static void main(String[] args){\n   System.out.println(Constants.YES.toString())\n   System.out.println(Constants.NO.toString())\n }\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>YES\nNO\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>Y\nN\n</code></pre>\n\n<p>I am not sure what is wrong here ??</p>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":7055267,"reputation":3170,"user_id":5402881,"display_name":"yacc"},"score":0,"creation_date":1681076772,"post_id":75972971,"comment_id":133996649,"body_markdown":"try `array [i][j] = (last-i == j ? &#39;*&#39; : &#39; &#39;);` instead of the If statement","body":"try <code>array [i][j] = (last-i == j ? &#39;*&#39; : &#39; &#39;);</code> instead of the If statement"},{"owner":{"account_id":28116113,"reputation":33,"user_id":21483200,"display_name":"GrasshopperAtBest"},"score":0,"creation_date":1681077308,"post_id":75972971,"comment_id":133996717,"body_markdown":"I tried the method you previously posted and that worked. I also tried what you posed there and it also worked. I&#39;m not super sound on the &#39;?&#39; principle and its uses. Seems like a lot of people use it so I&#39;m start looking through more info on it.","body":"I tried the method you previously posted and that worked. I also tried what you posed there and it also worked. I&#39;m not super sound on the &#39;?&#39; principle and its uses. Seems like a lot of people use it so I&#39;m start looking through more info on it."},{"owner":{"account_id":7055267,"reputation":3170,"user_id":5402881,"display_name":"yacc"},"score":0,"creation_date":1681077813,"post_id":75972971,"comment_id":133996770,"body_markdown":"You&#39;ll get used to it. It&#39;s like a mini IF..ELSE.","body":"You&#39;ll get used to it. It&#39;s like a mini IF..ELSE."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1681084529,"post_id":75972971,"comment_id":133997511,"body_markdown":"Funny enough, the `if` is an expression in Kotlin. It does the same thing as `expression ? expression : expression` but it is more readable. This is one of the few instances where Java is possibly *too* concise (and, of course, the construct has been taken from C, which is where most of the Java syntax originated).","body":"Funny enough, the <code>if</code> is an expression in Kotlin. It does the same thing as <code>expression ? expression : expression</code> but it is more readable. This is one of the few instances where Java is possibly <i>too</i> concise (and, of course, the construct has been taken from C, which is where most of the Java syntax originated)."}],"answers":[{"comments":[{"owner":{"account_id":28116113,"reputation":33,"user_id":21483200,"display_name":"GrasshopperAtBest"},"score":0,"creation_date":1681077193,"post_id":75973030,"comment_id":133996701,"body_markdown":"I need to be able to leave &#39; &#39; in the other elements to format the chart appropriately","body":"I need to be able to leave &#39; &#39; in the other elements to format the chart appropriately"}],"tags":[],"owner":{"account_id":19905548,"reputation":189,"user_id":14584675,"display_name":"Trics"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681076665,"creation_date":1681076665,"answer_id":75973030,"question_id":75972971,"body_markdown":"You easily loop trought:\r\n\r\nfor (int i = dimensions-1; i &gt;= 0 ; i--)\r\n              array [i][i] = star;\r\n\r\n","title":"How to fill a 2D array from bottom left to top right in java?","body":"<p>You easily loop trought:</p>\n<p>for (int i = dimensions-1; i &gt;= 0 ; i--)\narray [i][i] = star;</p>\n"},{"tags":[],"owner":{"account_id":7055267,"reputation":3170,"user_id":5402881,"display_name":"yacc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681078230,"creation_date":1681078230,"answer_id":75973135,"question_id":75972971,"body_markdown":"Assuming you want an array with stars from bottom-left to top-right, try this loop. It uses the ternary operator but you could stick to your IF if you want.\r\n\r\n    for (int i = 0; i &lt; dimensions; i++) {\r\n        for (int j = 0; j &lt; dimensions; j++)\r\n            array[i][j] = (last-i == j ? &#39;*&#39; : &#39; &#39;);\r\n    }","title":"How to fill a 2D array from bottom left to top right in java?","body":"<p>Assuming you want an array with stars from bottom-left to top-right, try this loop. It uses the ternary operator but you could stick to your IF if you want.</p>\n<pre><code>for (int i = 0; i &lt; dimensions; i++) {\n    for (int j = 0; j &lt; dimensions; j++)\n        array[i][j] = (last-i == j ? '*' : ' ');\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19905548,"reputation":189,"user_id":14584675,"display_name":"Trics"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681143526,"creation_date":1681143526,"answer_id":75978782,"question_id":75972971,"body_markdown":"    diagonal=dimension-1\r\n    for (int i=0; i&lt;dimension; i++){\r\n        for (int j=0; j&lt;dimension;j++) {\r\n             if (j==diagonal) {\r\n                array [i][j] = star;\r\n                diagonal --;\r\n             else array [i][j] = &quot;_PUT HERE WATH YOU WANT OR LEAVE IT BLANK_&quot;\r\n        }\r\n     }\r\n        ","title":"How to fill a 2D array from bottom left to top right in java?","body":"<pre><code>diagonal=dimension-1\nfor (int i=0; i&lt;dimension; i++){\n    for (int j=0; j&lt;dimension;j++) {\n         if (j==diagonal) {\n            array [i][j] = star;\n            diagonal --;\n         else array [i][j] = &quot;_PUT HERE WATH YOU WANT OR LEAVE IT BLANK_&quot;\n    }\n }\n    \n</code></pre>\n"}],"owner":{"account_id":28116113,"reputation":33,"user_id":21483200,"display_name":"GrasshopperAtBest"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75973135,"answer_count":3,"score":0,"last_activity_date":1681143526,"creation_date":1681075832,"question_id":75972971,"body_markdown":"I&#39;m trying to fill a 2D array with stars in a specific pattern, specifically from bottom left to the top right corner. [![You can see that I&#39;ve got it the way I would like going from top left to the bottom right, but I can&#39;t seem to get the last couple of points when going from bottom left to top right](https://i.stack.imgur.com/0l63A.png)](https://i.stack.imgur.com/0l63A.png)\r\n\r\n    public static char[][] rightDiagonal (char star, int dimensions){\r\n        char [][] array = new char [dimensions][dimensions];\r\n        int last = dimensions - 1; // create variable for last number in array\r\n        // for loop to create right diagonal pattern\r\n        for (int i = 0; i &lt; dimensions; i++){\r\n            for (int j = 0; j &lt; dimensions; j++)\r\n                if (i == j)\r\n                    array [i][last-i] = star;\r\n                else \r\n                    array [i][j] = &#39; &#39;;\r\n            }\r\n        return array;\r\n\r\nThis is what I&#39;ve tried and the best result I&#39;ve gotten is the result I&#39;ve posted in the image. ","title":"How to fill a 2D array from bottom left to top right in java?","body":"<p>I'm trying to fill a 2D array with stars in a specific pattern, specifically from bottom left to the top right corner. <a href=\"https://i.stack.imgur.com/0l63A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0l63A.png\" alt=\"You can see that I've got it the way I would like going from top left to the bottom right, but I can't seem to get the last couple of points when going from bottom left to top right\" /></a></p>\n<pre><code>public static char[][] rightDiagonal (char star, int dimensions){\n    char [][] array = new char [dimensions][dimensions];\n    int last = dimensions - 1; // create variable for last number in array\n    // for loop to create right diagonal pattern\n    for (int i = 0; i &lt; dimensions; i++){\n        for (int j = 0; j &lt; dimensions; j++)\n            if (i == j)\n                array [i][last-i] = star;\n            else \n                array [i][j] = ' ';\n        }\n    return array;\n</code></pre>\n<p>This is what I've tried and the best result I've gotten is the result I've posted in the image.</p>\n"},{"tags":["java","java-threads"],"answers":[{"comments":[{"owner":{"account_id":373975,"reputation":24834,"user_id":723920,"accept_rate":60,"display_name":"Kal"},"score":0,"creation_date":1313425689,"post_id":7067660,"comment_id":8455529,"body_markdown":"In your example, when the user decides to end the game, will the JVM block if there are user threads ( and not daemon threads ) still running ?","body":"In your example, when the user decides to end the game, will the JVM block if there are user threads ( and not daemon threads ) still running ?"},{"owner":{"account_id":200733,"reputation":4871,"user_id":446747,"accept_rate":75,"display_name":"josh.trow"},"score":0,"creation_date":1313425745,"post_id":7067660,"comment_id":8455545,"body_markdown":"@Kal: Yes, that is the way it works. User threads will keep the JVM from shutting down.","body":"@Kal: Yes, that is the way it works. User threads will keep the JVM from shutting down."},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1313425788,"post_id":7067660,"comment_id":8455556,"body_markdown":"Yes: if the main method simply returns, the JVM will keep running. Of course, if you call System.exit, it will stop running.","body":"Yes: if the main method simply returns, the JVM will keep running. Of course, if you call System.exit, it will stop running."},{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":0,"creation_date":1335020692,"post_id":7067660,"comment_id":13191189,"body_markdown":"+1 nice answer. But what if I use `System.exit(0);`, is it going to kill all the threads anyway?","body":"+1 nice answer. But what if I use <code>System.exit(0);</code>, is it going to kill all the threads anyway?"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1335024445,"post_id":7067660,"comment_id":13192050,"body_markdown":"Yes. The shutdown hooks are run, and then the JVM halts. See http://docs.oracle.com/javase/6/docs/api/java/lang/Runtime.html#exit%28int%29","body":"Yes. The shutdown hooks are run, and then the JVM halts. See <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Runtime.html#exit%28int%29\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":32719,"reputation":39555,"user_id":90998,"accept_rate":86,"display_name":"Martin Konicek"},"score":0,"creation_date":1368636191,"post_id":7067660,"comment_id":23809628,"body_markdown":"Is the daemon thread killed abruptly, similar to Thread.abort()? If yes, shouldn&#39;t the polling rather be shut down manually when exiting the game?","body":"Is the daemon thread killed abruptly, similar to Thread.abort()? If yes, shouldn&#39;t the polling rather be shut down manually when exiting the game?"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":5,"creation_date":1368697669,"post_id":7067660,"comment_id":23832927,"body_markdown":"It all depends on what the daemon thread does. If it writes to the disk, you&#39;d better stop it correctly to avoid ending up with a corrupted file. If all it does is refreshing the GUI with a number of alerts, for example, you don&#39;t realy care if the thread is stopped abruptly.","body":"It all depends on what the daemon thread does. If it writes to the disk, you&#39;d better stop it correctly to avoid ending up with a corrupted file. If all it does is refreshing the GUI with a number of alerts, for example, you don&#39;t realy care if the thread is stopped abruptly."},{"owner":{"account_id":375461,"reputation":2234,"user_id":726315,"accept_rate":89,"display_name":"arkon"},"score":1,"creation_date":1437979866,"post_id":7067660,"comment_id":51239262,"body_markdown":"@MartinKonicek Yes, it&#39;s killed ungracefully. Generally speaking, you always want to [`addShutdownHook()`](http://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html#addShutdownHook%28java.lang.Thread%29) if you want to shutdown gracefully. It&#39;s supposed to react to system-wide events as well (e.g. user shuts down computer/device.) But **not** abnormal termination (e.g. user kills the process.)","body":"@MartinKonicek Yes, it&#39;s killed ungracefully. Generally speaking, you always want to <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html#addShutdownHook%28java.lang.Thread%29\" rel=\"nofollow noreferrer\"><code>addShutdownHook()</code></a> if you want to shutdown gracefully. It&#39;s supposed to react to system-wide events as well (e.g. user shuts down computer/device.) But <b>not</b> abnormal termination (e.g. user kills the process.)"}],"tags":[],"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":8,"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1313425497,"creation_date":1313425497,"answer_id":7067660,"question_id":7067578,"body_markdown":"The JVM exits when all the running threads are daemon threads. So imagine you&#39;re writing a simple game where your main method loops until you decide to quit. And imagine that at the start of the game, you start a thread that will endlessly poll some website to trigger alerts. You would like the JVM to exit when you decide to end the game. You don&#39;t want the endless polling to prevent the game from ending. So you make this polling thread a daemon thread.","title":"When are daemon threads useful?","body":"<p>The JVM exits when all the running threads are daemon threads. So imagine you're writing a simple game where your main method loops until you decide to quit. And imagine that at the start of the game, you start a thread that will endlessly poll some website to trigger alerts. You would like the JVM to exit when you decide to end the game. You don't want the endless polling to prevent the game from ending. So you make this polling thread a daemon thread.</p>\n"},{"tags":[],"owner":{"account_id":467560,"reputation":15145,"user_id":873025,"accept_rate":90,"display_name":"Felix Glas"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1313425501,"creation_date":1313425501,"answer_id":7067664,"question_id":7067578,"body_markdown":"A Deamon thread is automatically terminated by the JVM when all &quot;normal&quot; threads are terminated. Normal threads are never automatically terminated.","title":"When are daemon threads useful?","body":"<p>A Deamon thread is automatically terminated by the JVM when all \"normal\" threads are terminated. Normal threads are never automatically terminated.</p>\n"},{"tags":[],"owner":{"account_id":74748,"reputation":3592,"user_id":214626,"accept_rate":82,"display_name":"panzerschreck"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1313425571,"creation_date":1313425571,"answer_id":7067680,"question_id":7067578,"body_markdown":"Services that you wish to offer to your consumers without any user-interation by way of essentially user-threads form the primary use-case for setting a user thread as a daemon.\r\n\r\nAs a consequence, until user-threads exist JVM gurantees that daemon threads run continously. You can find examples like GC, UI Thread etc.. those are daemons.\r\n\r\nHope it helps.","title":"When are daemon threads useful?","body":"<p>Services that you wish to offer to your consumers without any user-interation by way of essentially user-threads form the primary use-case for setting a user thread as a daemon.</p>\n\n<p>As a consequence, until user-threads exist JVM gurantees that daemon threads run continously. You can find examples like GC, UI Thread etc.. those are daemons.</p>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1313425646,"creation_date":1313425646,"answer_id":7067692,"question_id":7067578,"body_markdown":"Normally program terminates when all its threads exited their `run()` method. Daemon threads do not prevent program to terminate even if they are still running, i.e. executing `run()`.\r\n\r\nSo, you should use daemon thread if you wish not to prevent program termination when the thread is still running. It is typical for example for long-time periodic tasks but actually depend very much on your program, your design and your taste.","title":"When are daemon threads useful?","body":"<p>Normally program terminates when all its threads exited their <code>run()</code> method. Daemon threads do not prevent program to terminate even if they are still running, i.e. executing <code>run()</code>.</p>\n\n<p>So, you should use daemon thread if you wish not to prevent program termination when the thread is still running. It is typical for example for long-time periodic tasks but actually depend very much on your program, your design and your taste.</p>\n"},{"tags":[],"owner":{"account_id":359438,"reputation":1664,"user_id":700848,"display_name":"M Platvoet"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1313426489,"creation_date":1313426489,"answer_id":7067843,"question_id":7067578,"body_markdown":"As other have pointed, a daemon thread does not prevent the JVM from exiting when the program finishes when this thread is still running.\r\n\r\nIn general you&#39;d rather not create daemon threads, unless you are absolutely certain the thread has no side effects. Since you can&#39;t tell when the thread stops, finalizer blocks are not run, nor are any stack unwound. So try avoiding using IO operations in daemon threads because it can corrupt data.\r\n\r\n","title":"When are daemon threads useful?","body":"<p>As other have pointed, a daemon thread does not prevent the JVM from exiting when the program finishes when this thread is still running.</p>\n\n<p>In general you'd rather not create daemon threads, unless you are absolutely certain the thread has no side effects. Since you can't tell when the thread stops, finalizer blocks are not run, nor are any stack unwound. So try avoiding using IO operations in daemon threads because it can corrupt data.</p>\n"},{"tags":[],"owner":{"account_id":1088545,"reputation":1,"user_id":1083704,"accept_rate":71,"display_name":"Val"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426844758,"creation_date":1426844758,"answer_id":29163580,"question_id":7067578,"body_markdown":"I used them with Timer to delete files that cannot be deleted immediately. That is, I generate .exe files, run and then delete them. But there is 50% chance that `executable.delete` fails, seemingly because image is still blocked by the process in termination. You can reliably delete executable image only after process has finished completely. But, you never know how long it takes. You set .deleteOnExit therefore instead of .delete. But, you do not want to wait until java machine terminates also. It can take very long and you do not want millions of useless stupid .exe files, that you do not need anymore, hanging in the file system. You therefore schedule executable.delete in the timer to happen one-two seconds later. The timer however cannot be usual thread. If it is so, it will block your program from terminating even if there are no files to delete. I can easily make it daemon however because whether my files are deleted or not by timer is immaterial -- the files will be removed either way: either by daemon or java exit. I think it is perfect use of daemon.","title":"When are daemon threads useful?","body":"<p>I used them with Timer to delete files that cannot be deleted immediately. That is, I generate .exe files, run and then delete them. But there is 50% chance that <code>executable.delete</code> fails, seemingly because image is still blocked by the process in termination. You can reliably delete executable image only after process has finished completely. But, you never know how long it takes. You set .deleteOnExit therefore instead of .delete. But, you do not want to wait until java machine terminates also. It can take very long and you do not want millions of useless stupid .exe files, that you do not need anymore, hanging in the file system. You therefore schedule executable.delete in the timer to happen one-two seconds later. The timer however cannot be usual thread. If it is so, it will block your program from terminating even if there are no files to delete. I can easily make it daemon however because whether my files are deleted or not by timer is immaterial -- the files will be removed either way: either by daemon or java exit. I think it is perfect use of daemon.</p>\n"},{"comments":[{"owner":{"account_id":3979489,"reputation":449,"user_id":3281806,"display_name":"Shivendra Prakash Shukla"},"score":1,"creation_date":1474930740,"post_id":39713612,"comment_id":66725295,"body_markdown":"try avoiding using IO operations in daemon threads because it can corrupt data.","body":"try avoiding using IO operations in daemon threads because it can corrupt data."}],"tags":[],"owner":{"account_id":3979489,"reputation":449,"user_id":3281806,"display_name":"Shivendra Prakash Shukla"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1474930565,"creation_date":1474930565,"answer_id":39713612,"question_id":7067578,"body_markdown":"Daemon threads in Java are like a service providers for other threads or objects running in the same process as the daemon thread. Daemon threads are used for background supporting tasks and are only needed while normal threads are executing. If normal threads are not running and remaining threads are daemon threads then the interpreter exits.\r\n\r\nWhen a new thread is created it inherits the daemon status of its parent. Normal thread and daemon threads differ in what happens when they exit. When the JVM halts any remaining daemon threads are abandoned: finally blocks are not executed, stacks are not unwound – JVM just exits. Due to this reason daemon threads should be used sparingly and it is dangerous to use them for tasks that might perform any sort of I/O.","title":"When are daemon threads useful?","body":"<p>Daemon threads in Java are like a service providers for other threads or objects running in the same process as the daemon thread. Daemon threads are used for background supporting tasks and are only needed while normal threads are executing. If normal threads are not running and remaining threads are daemon threads then the interpreter exits.</p>\n\n<p>When a new thread is created it inherits the daemon status of its parent. Normal thread and daemon threads differ in what happens when they exit. When the JVM halts any remaining daemon threads are abandoned: finally blocks are not executed, stacks are not unwound – JVM just exits. Due to this reason daemon threads should be used sparingly and it is dangerous to use them for tasks that might perform any sort of I/O.</p>\n"}],"owner":{"account_id":181158,"reputation":5235,"user_id":414967,"accept_rate":74,"display_name":"user414967"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23218,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"accepted_answer_id":7067660,"answer_count":7,"score":49,"last_activity_date":1681143461,"creation_date":1313425069,"question_id":7067578,"body_markdown":"I know that Deamon threads are background threads. We can create our own daemon thread by calling `setDaemon(true)`. \r\n\r\nMy question is: Why and when do we need to create our thread as a daemon thread?","title":"When are daemon threads useful?","body":"<p>I know that Deamon threads are background threads. We can create our own daemon thread by calling <code>setDaemon(true)</code>.</p>\n<p>My question is: Why and when do we need to create our thread as a daemon thread?</p>\n"},{"tags":["java","java-8","version"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1681134974,"post_id":75974136,"comment_id":134003746,"body_markdown":"“I looked at a compatibility chart” What chart? Provide a link.","body":"“I looked at a compatibility chart” What chart? Provide a link."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1681135323,"post_id":75974136,"comment_id":134003823,"body_markdown":"“downloaded the most recent version of Java” What exactly did you download? From where?","body":"“downloaded the most recent version of Java” What exactly did you download? From where?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1681143298,"post_id":75974136,"comment_id":134005499,"body_markdown":"Post those details as edits to your Question rather than as Comments.","body":"Post those details as edits to your Question rather than as Comments."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1681106183,"creation_date":1681100744,"answer_id":75974258,"question_id":75974136,"body_markdown":"&gt; &quot;I googled and downloaded the most recent version of Java, version 8u361&quot; \r\n\r\nThat is NOT the most recent version of Java. You presumably looked at https://java.com/en which is entitled &quot;Get Java for desktop applications&quot;.  Look here instead: https://oracle.com/au/java/technologies/downloads. \r\n\r\nSince Java 9, Oracle&#39;s position is that it is the developer&#39;s responsibility&lt;sup&gt;1&lt;/sup&gt; to provide the JRE or JDK for running any desktop applications that they develop and distribute. See Oracle’s white paper, [*Java Client Roadmap Update*](https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdatev2020may-6548840.pdf), 2020-05.\r\n\r\nSo you won&#39;t find Oracle or OpenJDK badged JREs for Java after Java 8.  For post-Java 8, your options are:\r\n\r\n  - Instruct your users on how to install an Oracle or OpenJDK JDK.\r\n  - Instruct your users on how to install a 3rd-party JRE.\r\n  - Use a 3rd-party installer generator to create an installer with an embedded JRE (obtained from a 3rd party) or JDK.\r\n  - Use `jlink` to create a custom JRE for your application.\r\n  - For Java 14 and later, use `jpackage` to create a native executable for your application.\r\n\r\nBut to answer your question Java SE 8 (aka JDK 1.8&lt;sup&gt;2&lt;/sup&gt;) is 8uxxx, Java SE 9 is 9uxxx, Java SE 10 is 10uxxx and so on. There is no mystery to the compatibility / equivalency.  \r\n\r\n---------------------\r\n\r\n&lt;sup&gt;1 - Oracle don&#39;t want to (unfairly) cop the blame for out-of-date / insecure Java installations dropped by application installers.  And the don&#39;t want to (unfairly) cop the blame when an official Java patch release installed by the user causes an application to stop working.  Dealing with these things is now 100% *your* responsibility as the app developer / distributor.\r\n&lt;br&gt;2 - The Java 1.N versus Java N stuff is engineering vs marketing nonsense that started back in the early 2000&#39;s.  Don&#39;t be fooled.  And for more information about Java versions, see the Wikipedia [Java Version History][1] page.)&lt;/sup&gt;\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_version_history","title":"Java Versions and Compatibility","body":"<blockquote>\n<p>&quot;I googled and downloaded the most recent version of Java, version 8u361&quot;</p>\n</blockquote>\n<p>That is NOT the most recent version of Java. You presumably looked at <a href=\"https://java.com/en\" rel=\"nofollow noreferrer\">https://java.com/en</a> which is entitled &quot;Get Java for desktop applications&quot;.  Look here instead: <a href=\"https://oracle.com/au/java/technologies/downloads\" rel=\"nofollow noreferrer\">https://oracle.com/au/java/technologies/downloads</a>.</p>\n<p>Since Java 9, Oracle's position is that it is the developer's responsibility<sup>1</sup> to provide the JRE or JDK for running any desktop applications that they develop and distribute. See Oracle’s white paper, <a href=\"https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdatev2020may-6548840.pdf\" rel=\"nofollow noreferrer\"><em>Java Client Roadmap Update</em></a>, 2020-05.</p>\n<p>So you won't find Oracle or OpenJDK badged JREs for Java after Java 8.  For post-Java 8, your options are:</p>\n<ul>\n<li>Instruct your users on how to install an Oracle or OpenJDK JDK.</li>\n<li>Instruct your users on how to install a 3rd-party JRE.</li>\n<li>Use a 3rd-party installer generator to create an installer with an embedded JRE (obtained from a 3rd party) or JDK.</li>\n<li>Use <code>jlink</code> to create a custom JRE for your application.</li>\n<li>For Java 14 and later, use <code>jpackage</code> to create a native executable for your application.</li>\n</ul>\n<p>But to answer your question Java SE 8 (aka JDK 1.8<sup>2</sup>) is 8uxxx, Java SE 9 is 9uxxx, Java SE 10 is 10uxxx and so on. There is no mystery to the compatibility / equivalency.</p>\n<hr />\n<p><sup>1 - Oracle don't want to (unfairly) cop the blame for out-of-date / insecure Java installations dropped by application installers.  And the don't want to (unfairly) cop the blame when an official Java patch release installed by the user causes an application to stop working.  Dealing with these things is now 100% <em>your</em> responsibility as the app developer / distributor.\n<br>2 - The Java 1.N versus Java N stuff is engineering vs marketing nonsense that started back in the early 2000's.  Don't be fooled.  And for more information about Java versions, see the Wikipedia <a href=\"https://en.wikipedia.org/wiki/Java_version_history\" rel=\"nofollow noreferrer\">Java Version History</a> page.)</sup></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681143229,"creation_date":1681133343,"answer_id":75977557,"question_id":75974136,"body_markdown":"Java 20 is the latest and greatest version of Java, as of 2023-04. \r\n\r\nVersions 8, 11, and 17 are designated as *long-term support* version. These versions continue to see updates over many years. The other versions in-between receive updates only for several months. \r\n\r\nAn app compiled for a lower numbered version of Java can be run on the same or higher numbered version of Java. (Unless using a feature later removed, a rare occurrence with Java.)\r\n\r\nSo yes, an app built for Java 8 can run on Java versions 8, 9, … 17, 18, 19, and 20. But not the other way round. An app built for Java 18 can only be run on Java versions 18, 19, and 20. \r\n\r\nYou can get a JDK (an implementation of the Java specifications) from any of several vendors. These vendors include, in no particular order: Amazon, Adoptium (the Eclipse Foundation), SAP, BellSoft, Microsoft, Azul Systems, Oracle, Red Hat, IBM, and more. \r\n\r\nYou said:\r\n\r\n&gt;JDK 20, which I see has some features in testing\r\n\r\nAny feature available by default in Java 20 (or any version) is **entirely ready for production** use. Each release from any of the JDK vendors has gone through extensive testing. \r\n\r\nAny feature *not* ready for production, that is, still in development, is marked as either *incubating* or *preview*. These features are **never available to you by default**. So you cannot use them unwittingly. You have to go out of your way to activate such features. \r\n\r\nSo understand: \r\n\r\n - Every new release of every JDK version is fully ready for production use. \r\n - Java 20 is fully ready for production use. \r\n\r\nYou said:\r\n\r\n&gt;What is the JDK to Java SE equivalence?\r\n\r\n*Java SE* is [a set of specifications][1] published by Oracle Corp. \r\n\r\n*Java* (and *Java SE*) is a trademark owned by Oracle Corp. Available for use only with permission by Oracle. \r\n\r\nA JDK is an implementation of the Java specs, plus a compiler and other tools for development and administration. \r\n\r\nSome JDK products use the trademark “Java”, but only if permitted by Oracle. \r\n\r\n*OpenJDK* is an open-source project developing a codebase for implementing Java across several chip architectures and operating systems. Many companies and individuals contribute. These include Oracle, IBM, Apple, and others. Many JDK products are based largely, if not entirely, on the OpenJDK codebase. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/","title":"Java Versions and Compatibility","body":"<p>Java 20 is the latest and greatest version of Java, as of 2023-04.</p>\n<p>Versions 8, 11, and 17 are designated as <em>long-term support</em> version. These versions continue to see updates over many years. The other versions in-between receive updates only for several months.</p>\n<p>An app compiled for a lower numbered version of Java can be run on the same or higher numbered version of Java. (Unless using a feature later removed, a rare occurrence with Java.)</p>\n<p>So yes, an app built for Java 8 can run on Java versions 8, 9, … 17, 18, 19, and 20. But not the other way round. An app built for Java 18 can only be run on Java versions 18, 19, and 20.</p>\n<p>You can get a JDK (an implementation of the Java specifications) from any of several vendors. These vendors include, in no particular order: Amazon, Adoptium (the Eclipse Foundation), SAP, BellSoft, Microsoft, Azul Systems, Oracle, Red Hat, IBM, and more.</p>\n<p>You said:</p>\n<blockquote>\n<p>JDK 20, which I see has some features in testing</p>\n</blockquote>\n<p>Any feature available by default in Java 20 (or any version) is <strong>entirely ready for production</strong> use. Each release from any of the JDK vendors has gone through extensive testing.</p>\n<p>Any feature <em>not</em> ready for production, that is, still in development, is marked as either <em>incubating</em> or <em>preview</em>. These features are <strong>never available to you by default</strong>. So you cannot use them unwittingly. You have to go out of your way to activate such features.</p>\n<p>So understand:</p>\n<ul>\n<li>Every new release of every JDK version is fully ready for production use.</li>\n<li>Java 20 is fully ready for production use.</li>\n</ul>\n<p>You said:</p>\n<blockquote>\n<p>What is the JDK to Java SE equivalence?</p>\n</blockquote>\n<p><em>Java SE</em> is <a href=\"https://docs.oracle.com/javase/specs/\" rel=\"nofollow noreferrer\">a set of specifications</a> published by Oracle Corp.</p>\n<p><em>Java</em> (and <em>Java SE</em>) is a trademark owned by Oracle Corp. Available for use only with permission by Oracle.</p>\n<p>A JDK is an implementation of the Java specs, plus a compiler and other tools for development and administration.</p>\n<p>Some JDK products use the trademark “Java”, but only if permitted by Oracle.</p>\n<p><em>OpenJDK</em> is an open-source project developing a codebase for implementing Java across several chip architectures and operating systems. Many companies and individuals contribute. These include Oracle, IBM, Apple, and others. Many JDK products are based largely, if not entirely, on the OpenJDK codebase.</p>\n"}],"owner":{"account_id":28260060,"reputation":21,"user_id":21604921,"display_name":"Wesley Peart"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5121,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":75974258,"answer_count":2,"score":-1,"last_activity_date":1681143229,"creation_date":1681098126,"question_id":75974136,"body_markdown":"I am confused about different versions.\r\n\r\nI am a beginner, so forgive me if this is obvious, but...\r\nI am using JDK 20, which I see has some features in testing.  On a separate computer, to test JAR files, I googled and downloaded the most recent version of Java, version 8u361, but not the JDK.  This appears to be what someone who was not a developer would download.\r\n\r\nMy exported JAR files will not open and say that they were made using a more recent version.  I was able to solve this problem by scaling back and using JDK 1.8, which allows java 8u361 to open them.\r\nAm I misunderstanding something.  The most recent version of Java SE can&#39;t run anything that I make with JDK 17, 18, 19 or 20?  I looked at a compatibility chart and couldn&#39;t reconcile this questions.  \r\nWhat is the JDK to Java SE equivalence?","title":"Java Versions and Compatibility","body":"<p>I am confused about different versions.</p>\n<p>I am a beginner, so forgive me if this is obvious, but...\nI am using JDK 20, which I see has some features in testing.  On a separate computer, to test JAR files, I googled and downloaded the most recent version of Java, version 8u361, but not the JDK.  This appears to be what someone who was not a developer would download.</p>\n<p>My exported JAR files will not open and say that they were made using a more recent version.  I was able to solve this problem by scaling back and using JDK 1.8, which allows java 8u361 to open them.\nAm I misunderstanding something.  The most recent version of Java SE can't run anything that I make with JDK 17, 18, 19 or 20?  I looked at a compatibility chart and couldn't reconcile this questions.<br />\nWhat is the JDK to Java SE equivalence?</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1680618798,"post_id":75930534,"comment_id":133926509,"body_markdown":"as important as your personal context is to you, it&#39;s irrelevant to the question and future readers, so edited to remove :)","body":"as important as your personal context is to you, it&#39;s irrelevant to the question and future readers, so edited to remove :)"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1680620189,"post_id":75930534,"comment_id":133926903,"body_markdown":"&quot;Like everything in the entity Publication is null&quot;: You should include some debugging information, including: the full stack trace of your error, your `Publication` constructor (or what generates it), and ideally debugger output showing the issue you mentioned.","body":"&quot;Like everything in the entity Publication is null&quot;: You should include some debugging information, including: the full stack trace of your error, your <code>Publication</code> constructor (or what generates it), and ideally debugger output showing the issue you mentioned."},{"owner":{"account_id":27735461,"reputation":13,"user_id":21173148,"display_name":"lys_18"},"score":0,"creation_date":1681140289,"post_id":75930534,"comment_id":134004831,"body_markdown":"I couldn&#39;t post the debugging information cause I might say that I still don&#39;t know how to use the debug from VScode. But thanks for the hints.","body":"I couldn&#39;t post the debugging information cause I might say that I still don&#39;t know how to use the debug from VScode. But thanks for the hints."}],"answers":[{"tags":[],"owner":{"account_id":27735461,"reputation":13,"user_id":21173148,"display_name":"lys_18"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681142964,"creation_date":1681142964,"answer_id":75978716,"question_id":75930534,"body_markdown":"I finally found the problem which was that the relationships Publication, Tcc, SoftwareReg and Article were with the same request mapping.\r\nSo I changed from ```@RequestMapping(&quot;/registry-api/publication&quot;)``` to a specific one in each class that had the OneToOne relationship.\r\nThat looked like this:\r\n```\r\n@RequestMapping(&quot;/registry-api/tcc&quot;)\r\n@RequestMapping(&quot;/registry-api/soft-reg&quot;)\r\n@RequestMapping(&quot;/registry-api/article&quot;)\r\n```\r\n\r\nThis is a very basic idea that I overlooked.","title":"Not-null property references a null or transient value - OneToOne - Spring Boot","body":"<p>I finally found the problem which was that the relationships Publication, Tcc, SoftwareReg and Article were with the same request mapping.\nSo I changed from <code>@RequestMapping(&quot;/registry-api/publication&quot;)</code> to a specific one in each class that had the OneToOne relationship.\nThat looked like this:</p>\n<pre><code>@RequestMapping(&quot;/registry-api/tcc&quot;)\n@RequestMapping(&quot;/registry-api/soft-reg&quot;)\n@RequestMapping(&quot;/registry-api/article&quot;)\n</code></pre>\n<p>This is a very basic idea that I overlooked.</p>\n"}],"owner":{"account_id":27735461,"reputation":13,"user_id":21173148,"display_name":"lys_18"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75978716,"answer_count":1,"score":0,"last_activity_date":1681142964,"creation_date":1680618118,"question_id":75930534,"body_markdown":"\r\nI have a One to One relationship of Publication with TCC, Article and Software Registration. I also have a relationship of Publication with Student. In the form if I save Publication separated it goes perfectly fine but if I try to do this while related with any of the One to One relationship i get the error mensage:\r\n\r\n    org.hibernate.PropertyValueException: not-null property references a null or transient value : com.codeweb.demo.model.Publication.acessDate\r\n        at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:111) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:55) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.action.internal.AbstractEntityInsertAction.nullifyTransientReferencesIfNotAlready(AbstractEntityInsertAction.java:116) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:72) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:329) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:286) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:192) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:122) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n        at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.25.jar:5.3.25]\r\n        at jdk.proxy4/jdk.proxy4.$Proxy127.persist(Unknown Source) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n        at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.25.jar:5.3.25]\r\n        at jdk.proxy4/jdk.proxy4.$Proxy127.persist(Unknown Source) ~[na:na]\r\n        at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666) ~[spring-data-jpa-2.7.8.jar:2.7.8]\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.8.jar:2.7.8]\r\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.8.jar:2.7.8]\r\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.8.jar:2.7.8]\r\n        at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.8.jar:2.7.8]\r\n        at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.8.jar:2.7.8]\r\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.8.jar:2.7.8]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.25.jar:5.3.25]\r\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.8.jar:2.7.8]\r\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.8.jar:2.7.8]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.25.jar:5.3.25]\r\n        at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.8.jar:2.7.8]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.25.jar:5.3.25]\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.25.jar:5.3.25]\r\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.25.jar:5.3.25]\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.25.jar:5.3.25]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.25.jar:5.3.25]\r\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.25.jar:5.3.25]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.25.jar:5.3.25]\r\n        at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.8.jar:2.7.8]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.25.jar:5.3.25]\r\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.25.jar:5.3.25]        \r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.25.jar:5.3.25]\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.25.jar:5.3.25]\r\n        at jdk.proxy4/jdk.proxy4.$Proxy137.save(Unknown Source) ~[na:na]\r\n        at com.codeweb.demo.service.PublicationService.savePub(PublicationService.java:24) ~[classes/:na]\r\n        at com.codeweb.demo.controller.PublicationController.savedPub(PublicationController.java:35) ~[classes/:na]\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.25.jar:5.3.25]\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.25.jar:5.3.25]    \r\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:696) ~[tomcat-embed-core-9.0.71.jar:4.0.FR]\r\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.71.jar:4.0.FR]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.71.jar:9.0.71]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.25.jar:5.3.25]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.25.jar:5.3.25]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.9.jar:2.7.9]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.25.jar:5.3.25]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\nLike everything in the entity Publication is null. I&#39;ve been trying for weeks now to resolve it but I simple can&#39;t find a resolute answer for my case.\r\n\r\nStudent Model:\r\n\r\n```\r\n@Data\r\n@Entity\r\npublic class Student {\r\n\r\n    @Id\r\n    @Column(columnDefinition = &quot;serial&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long idStudent;\r\n\r\n    @Column(length = 100, nullable = false)\r\n    private String name;\r\n    \r\n    @Column(nullable = false)\r\n    @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\r\n    private Date beginDate;\r\n    \r\n    @Column(nullable = false)\r\n    @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\r\n    private Date endDate;\r\n    \r\n    @Column(nullable = false)\r\n    @Lob\r\n    private String photo;\r\n}\r\n```\r\n\r\nPublication Model:\r\n\r\n```\r\n@Data\r\n@Entity\r\npublic class Publication {\r\n    \r\n    @Id\r\n    @Column(columnDefinition = &quot;serial&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long idPublica;\r\n\r\n    @Column(length = 100, nullable = false)\r\n    private String title;\r\n\r\n    @Column(nullable = false)\r\n    @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\r\n    private Date publicationDate;\r\n    \r\n    @Column(nullable = false)\r\n    @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\r\n    private Date acessDate;\r\n    \r\n    @Column(nullable = false)\r\n    private String link;\r\n    \r\n    @ManyToMany(cascade = {CascadeType.MERGE}, fetch = FetchType.EAGER)\r\n    @JoinTable(\r\n        name = &quot;publicationStudent&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;publica_id&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;student_id&quot;)\r\n    )\r\n    private Set&lt;Student&gt; studentPublication = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\nTcc Model:\r\n\r\n```\r\n@Data\r\n@Entity\r\npublic class Tcc {\r\n    @Id\r\n    @Column(columnDefinition = &quot;serial&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long idTcc;\r\n\r\n    @Column(length = 100, nullable = false)\r\n    private String degree;\r\n\r\n    @Column(length = 100, nullable = false)\r\n    private String course;\r\n    \r\n    @MapsId\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;publica_id&quot;, referencedColumnName = &quot;idPublica&quot;)\r\n    private Publication publication;\r\n}\r\n```\r\n\r\nArticle Model:\r\n\r\n```\r\n@Data\r\n@Entity\r\npublic class Article {\r\n    @Id\r\n    @Column(columnDefinition = &quot;serial&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long idArticle;\r\n    \r\n    @Column(length = 100, nullable = false)\r\n    private String magazine;\r\n    \r\n    @Column(nullable = false)\r\n    private Integer volume;\r\n    \r\n    @Column(nullable = false)\r\n    private Integer numeration;\r\n    \r\n    @Column(nullable = false)\r\n    private Integer initialPage;\r\n    \r\n    @Column(nullable = false)\r\n    private Integer endPage;\r\n    \r\n    @MapsId\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;publica_id&quot;, referencedColumnName = &quot;idPublica&quot;)\r\n    private Publication publication;\r\n}\r\n```\r\n\r\nSoftware Registration Model:\r\n\r\n```\r\n@Data\r\n@Entity\r\npublic class SoftwareReg {\r\n    @Id\r\n    @Column(columnDefinition = &quot;serial&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long idReg;\r\n    \r\n    @Column(length = 50, nullable = false)\r\n    private String editor;\r\n\r\n    @Column(nullable = false)\r\n    private Integer edition;\r\n    \r\n    @MapsId\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;publica_id&quot;, referencedColumnName = &quot;idPublica&quot;)\r\n    private Publication publication;\r\n}\r\n```\r\n\r\nI&#39;ve already tried to save in my services classes of the One to One relationship like the example in Tcc:\r\n\r\n```\r\n@Autowired\r\nprivate TccRepository tccRepo;\r\n\r\n@Autowired\r\nprivate PublicacaoService pubServ;\r\n\r\npublic Tcc saveTcc(Tcc tcc) throws RelationTypeNotFoundException {\r\n    Publication saved = pubServ.savePub(tcc.getPublication());\r\n    Publication pub = pubServ.listId(saved.getIdPublica());\r\n    tcc.setPublication(pub);\r\n\r\n    return tccRepo.save(tcc);\r\n}\r\n```\r\n\r\nTo save in the setPublication function with a constructor that redirects to it:\r\n\r\n```\r\npublic void setPublication(Publication publication) {\r\n    this.publication = publication;\r\n    Publication pb = new Publication(title, publicationDate, acessDate, link, studentPublication);\r\n```\r\n\r\nAnd many of this combination:\r\n\r\n```\r\n@OneToOne(cascade = {CascadeType.MERGE}, fetch = FetchType.EAGER, orphanRemoval = true)\r\n@JoinColumn(name = &quot;publica_id&quot;)\r\n\r\n@OneToOne(fetch = FetchType.LAZY, orphanRemoval = true)\r\n@JoinColumn(name = &quot;publica_id&quot;)\r\n\r\n@OneToOne(fetch = FetchType.LAZY)\r\n@JoinColumn(name = &quot;publica_id&quot;, referencedColumnName = &quot;idPublica&quot;)\r\n\r\n@OneToOne\r\n@MapsId\r\n```\r\n\r\nThe end result would be something like this in Tcc example:\r\n\r\n```\r\ncourse: &quot;course 1 example&quot;\r\ndegree: &quot;degree 1 example&quot;\r\nidTcc: null\r\npublication:\r\n\tacessDate: &quot;2004-02-03&quot;\r\n\tidPublica: null\r\n\tlink: &quot;examplelink.com&quot;\r\n\tpublicationDate: &quot;2004-02-03&quot;\r\n\tstudentPublication: [{idStudent: 1, nome: &quot;Student 1&quot;, beginDate: &quot;2005-04-05T00:00:00.000+00:00&quot;,…}]\r\n\ttitle: &quot;title 1&quot;\r\n```","title":"Not-null property references a null or transient value - OneToOne - Spring Boot","body":"<p>I have a One to One relationship of Publication with TCC, Article and Software Registration. I also have a relationship of Publication with Student. In the form if I save Publication separated it goes perfectly fine but if I try to do this while related with any of the One to One relationship i get the error mensage:</p>\n<pre><code>org.hibernate.PropertyValueException: not-null property references a null or transient value : com.codeweb.demo.model.Publication.acessDate\n    at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:111) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:55) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.action.internal.AbstractEntityInsertAction.nullifyTransientReferencesIfNotAlready(AbstractEntityInsertAction.java:116) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:72) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:329) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:286) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:192) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:122) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.25.jar:5.3.25]\n    at jdk.proxy4/jdk.proxy4.$Proxy127.persist(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.25.jar:5.3.25]\n    at jdk.proxy4/jdk.proxy4.$Proxy127.persist(Unknown Source) ~[na:na]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666) ~[spring-data-jpa-2.7.8.jar:2.7.8]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.8.jar:2.7.8]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.8.jar:2.7.8]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.8.jar:2.7.8]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.8.jar:2.7.8]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.8.jar:2.7.8]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.8.jar:2.7.8]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.8.jar:2.7.8]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.8.jar:2.7.8]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.8.jar:2.7.8]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.25.jar:5.3.25]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.25.jar:5.3.25]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.8.jar:2.7.8]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.25.jar:5.3.25]        \n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.25.jar:5.3.25]\n    at jdk.proxy4/jdk.proxy4.$Proxy137.save(Unknown Source) ~[na:na]\n    at com.codeweb.demo.service.PublicationService.savePub(PublicationService.java:24) ~[classes/:na]\n    at com.codeweb.demo.controller.PublicationController.savedPub(PublicationController.java:35) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.25.jar:5.3.25]    \n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:696) ~[tomcat-embed-core-9.0.71.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.71.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.9.jar:2.7.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>Like everything in the entity Publication is null. I've been trying for weeks now to resolve it but I simple can't find a resolute answer for my case.</p>\n<p>Student Model:</p>\n<pre><code>@Data\n@Entity\npublic class Student {\n\n    @Id\n    @Column(columnDefinition = &quot;serial&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long idStudent;\n\n    @Column(length = 100, nullable = false)\n    private String name;\n    \n    @Column(nullable = false)\n    @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\n    private Date beginDate;\n    \n    @Column(nullable = false)\n    @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\n    private Date endDate;\n    \n    @Column(nullable = false)\n    @Lob\n    private String photo;\n}\n</code></pre>\n<p>Publication Model:</p>\n<pre><code>@Data\n@Entity\npublic class Publication {\n    \n    @Id\n    @Column(columnDefinition = &quot;serial&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long idPublica;\n\n    @Column(length = 100, nullable = false)\n    private String title;\n\n    @Column(nullable = false)\n    @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\n    private Date publicationDate;\n    \n    @Column(nullable = false)\n    @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\n    private Date acessDate;\n    \n    @Column(nullable = false)\n    private String link;\n    \n    @ManyToMany(cascade = {CascadeType.MERGE}, fetch = FetchType.EAGER)\n    @JoinTable(\n        name = &quot;publicationStudent&quot;,\n        joinColumns = @JoinColumn(name = &quot;publica_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;student_id&quot;)\n    )\n    private Set&lt;Student&gt; studentPublication = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>Tcc Model:</p>\n<pre><code>@Data\n@Entity\npublic class Tcc {\n    @Id\n    @Column(columnDefinition = &quot;serial&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long idTcc;\n\n    @Column(length = 100, nullable = false)\n    private String degree;\n\n    @Column(length = 100, nullable = false)\n    private String course;\n    \n    @MapsId\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;publica_id&quot;, referencedColumnName = &quot;idPublica&quot;)\n    private Publication publication;\n}\n</code></pre>\n<p>Article Model:</p>\n<pre><code>@Data\n@Entity\npublic class Article {\n    @Id\n    @Column(columnDefinition = &quot;serial&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long idArticle;\n    \n    @Column(length = 100, nullable = false)\n    private String magazine;\n    \n    @Column(nullable = false)\n    private Integer volume;\n    \n    @Column(nullable = false)\n    private Integer numeration;\n    \n    @Column(nullable = false)\n    private Integer initialPage;\n    \n    @Column(nullable = false)\n    private Integer endPage;\n    \n    @MapsId\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;publica_id&quot;, referencedColumnName = &quot;idPublica&quot;)\n    private Publication publication;\n}\n</code></pre>\n<p>Software Registration Model:</p>\n<pre><code>@Data\n@Entity\npublic class SoftwareReg {\n    @Id\n    @Column(columnDefinition = &quot;serial&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long idReg;\n    \n    @Column(length = 50, nullable = false)\n    private String editor;\n\n    @Column(nullable = false)\n    private Integer edition;\n    \n    @MapsId\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;publica_id&quot;, referencedColumnName = &quot;idPublica&quot;)\n    private Publication publication;\n}\n</code></pre>\n<p>I've already tried to save in my services classes of the One to One relationship like the example in Tcc:</p>\n<pre><code>@Autowired\nprivate TccRepository tccRepo;\n\n@Autowired\nprivate PublicacaoService pubServ;\n\npublic Tcc saveTcc(Tcc tcc) throws RelationTypeNotFoundException {\n    Publication saved = pubServ.savePub(tcc.getPublication());\n    Publication pub = pubServ.listId(saved.getIdPublica());\n    tcc.setPublication(pub);\n\n    return tccRepo.save(tcc);\n}\n</code></pre>\n<p>To save in the setPublication function with a constructor that redirects to it:</p>\n<pre><code>public void setPublication(Publication publication) {\n    this.publication = publication;\n    Publication pb = new Publication(title, publicationDate, acessDate, link, studentPublication);\n</code></pre>\n<p>And many of this combination:</p>\n<pre><code>@OneToOne(cascade = {CascadeType.MERGE}, fetch = FetchType.EAGER, orphanRemoval = true)\n@JoinColumn(name = &quot;publica_id&quot;)\n\n@OneToOne(fetch = FetchType.LAZY, orphanRemoval = true)\n@JoinColumn(name = &quot;publica_id&quot;)\n\n@OneToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;publica_id&quot;, referencedColumnName = &quot;idPublica&quot;)\n\n@OneToOne\n@MapsId\n</code></pre>\n<p>The end result would be something like this in Tcc example:</p>\n<pre><code>course: &quot;course 1 example&quot;\ndegree: &quot;degree 1 example&quot;\nidTcc: null\npublication:\n    acessDate: &quot;2004-02-03&quot;\n    idPublica: null\n    link: &quot;examplelink.com&quot;\n    publicationDate: &quot;2004-02-03&quot;\n    studentPublication: [{idStudent: 1, nome: &quot;Student 1&quot;, beginDate: &quot;2005-04-05T00:00:00.000+00:00&quot;,…}]\n    title: &quot;title 1&quot;\n</code></pre>\n"},{"tags":["java","maven","grails","pom.xml"],"answers":[{"tags":[],"owner":{"account_id":11150791,"reputation":3332,"user_id":8184112,"display_name":"Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681142306,"creation_date":1681142306,"answer_id":75978644,"question_id":75960909,"body_markdown":"According to the plugin source https://github.com/grails/grails-maven/tags the latest released version is 2.4.6.  I do not believe you should update this to version 4.0.3, as it does not exist.\r\n\r\nInstead, you can set the grails version in the configuration per the documentation:\r\n\r\n    &lt;plugin&gt;\r\n    &lt;groupId&gt;org.grails&lt;/groupId&gt;\r\n    &lt;artifactId&gt;grails-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.4.3&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;grailsVersion&gt;2.3.10&lt;/grailsVersion&gt;\r\n        &lt;!-- In the 2.4.3 release of grails-maven-plugin, you need to explicitly set the grailsVersion --&gt;\r\n        &lt;!-- otherwise 2.4.2 will be used --&gt;\r\n        &lt;!--&lt;grailsVersion&gt;2.4.3&lt;/grailsVersion&gt;--&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n(Pasted from https://github.com/grails/grails-maven/blob/master/README.md )\r\n&lt;br/&gt;&lt;br/&gt;\r\nNote that this documentation is nine years old and may not be applicable to versions of grails released after that point.","title":"Grails maven plugin is not found at repository","body":"<p>According to the plugin source <a href=\"https://github.com/grails/grails-maven/tags\" rel=\"nofollow noreferrer\">https://github.com/grails/grails-maven/tags</a> the latest released version is 2.4.6.  I do not believe you should update this to version 4.0.3, as it does not exist.</p>\n<p>Instead, you can set the grails version in the configuration per the documentation:</p>\n<pre><code>&lt;plugin&gt;\n&lt;groupId&gt;org.grails&lt;/groupId&gt;\n&lt;artifactId&gt;grails-maven-plugin&lt;/artifactId&gt;\n&lt;version&gt;2.4.3&lt;/version&gt;\n&lt;configuration&gt;\n    &lt;grailsVersion&gt;2.3.10&lt;/grailsVersion&gt;\n    &lt;!-- In the 2.4.3 release of grails-maven-plugin, you need to explicitly set the grailsVersion --&gt;\n    &lt;!-- otherwise 2.4.2 will be used --&gt;\n    &lt;!--&lt;grailsVersion&gt;2.4.3&lt;/grailsVersion&gt;--&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n(Pasted from https://github.com/grails/grails-maven/blob/master/README.md )\n<br/><br/>\nNote that this documentation is nine years old and may not be applicable to versions of grails released after that point.\n"}],"owner":{"account_id":3077175,"reputation":1125,"user_id":2606227,"accept_rate":33,"display_name":"Shamnad P S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681142306,"creation_date":1680890311,"question_id":75960909,"body_markdown":"I am trying to update my grails-maven-plugin from 2.4.6 to 4.0.3 and getting the below error.\r\nhttps://repo.maven.apache.org/maven2 only seem to have versions upto 2.4.6\r\n\r\n\r\n    Unresolveable build extension: Plugin org.grails:grails-maven-plugin:4.0.3 or one of its dependencies could not be resolved: The following artifacts could not be resolved: org.grails:grails-maven-plugin:jar:4.0.3 (absent): Could not find artifact org.grails:grails-maven-plugin:jar:4.0.3 in central (https://repo.maven.apache.org/maven2) -&gt; [Help 2]\r\n    [ERROR]     Unknown packaging: grails-plugin @ line 9, column 16\r\n\r\nWhat should I do to fix this?.\r\n\r\npom.xml has the below plugin config\r\n\r\n    &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.grails&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;grails-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;4.0.3&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;grailsVersion&gt;${grails.version}&lt;/grailsVersion&gt;\r\n                        &lt;webXml&gt;${basedir}/web.xml&lt;/webXml&gt;\r\n                        &lt;fork&gt;true&lt;/fork&gt;\r\n                        &lt;forkOptions&gt;\r\n                            &lt;executable&gt;java&lt;/executable&gt;\r\n                            &lt;argLine&gt;-Xmx1024m -Xms1024m -XX:MaxPermSize=256m&lt;/argLine&gt;\r\n                        &lt;/forkOptions&gt;\r\n                        &lt;webdriverBinaries&gt;\r\n                            &lt;chromedriver&gt;\r\n                                &lt;version&gt;79.0.3945.36&lt;/version&gt;\r\n                                &lt;architecture&gt;${env.CIRCLECI != null ? &#39;X86_64&#39; : (Environment.current == Environment.DEVELOPMENT || Environment.current == Environment.TEST) ? &#39;X86&#39; : &#39;X86_64&#39;}&lt;/architecture&gt;\r\n                            &lt;/chromedriver&gt;\r\n                            &lt;geckodriver&gt;0.24.0&lt;/geckodriver&gt;\r\n                        &lt;/webdriverBinaries&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;extensions&gt;true&lt;/extensions&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;init&lt;/goal&gt;\r\n                                &lt;goal&gt;maven-clean&lt;/goal&gt;\r\n                                &lt;goal&gt;validate&lt;/goal&gt;\r\n                                &lt;goal&gt;config-directories&lt;/goal&gt;\r\n                                &lt;goal&gt;maven-compile&lt;/goal&gt;\r\n                                &lt;goal&gt;maven-test&lt;/goal&gt;\r\n                                &lt;goal&gt;maven-war&lt;/goal&gt;\r\n                                &lt;goal&gt;maven-functional-test&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n\r\n    enter code here","title":"Grails maven plugin is not found at repository","body":"<p>I am trying to update my grails-maven-plugin from 2.4.6 to 4.0.3 and getting the below error.\n<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a> only seem to have versions upto 2.4.6</p>\n<pre><code>Unresolveable build extension: Plugin org.grails:grails-maven-plugin:4.0.3 or one of its dependencies could not be resolved: The following artifacts could not be resolved: org.grails:grails-maven-plugin:jar:4.0.3 (absent): Could not find artifact org.grails:grails-maven-plugin:jar:4.0.3 in central (https://repo.maven.apache.org/maven2) -&gt; [Help 2]\n[ERROR]     Unknown packaging: grails-plugin @ line 9, column 16\n</code></pre>\n<p>What should I do to fix this?.</p>\n<p>pom.xml has the below plugin config</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.grails&lt;/groupId&gt;\n                &lt;artifactId&gt;grails-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;4.0.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;grailsVersion&gt;${grails.version}&lt;/grailsVersion&gt;\n                    &lt;webXml&gt;${basedir}/web.xml&lt;/webXml&gt;\n                    &lt;fork&gt;true&lt;/fork&gt;\n                    &lt;forkOptions&gt;\n                        &lt;executable&gt;java&lt;/executable&gt;\n                        &lt;argLine&gt;-Xmx1024m -Xms1024m -XX:MaxPermSize=256m&lt;/argLine&gt;\n                    &lt;/forkOptions&gt;\n                    &lt;webdriverBinaries&gt;\n                        &lt;chromedriver&gt;\n                            &lt;version&gt;79.0.3945.36&lt;/version&gt;\n                            &lt;architecture&gt;${env.CIRCLECI != null ? 'X86_64' : (Environment.current == Environment.DEVELOPMENT || Environment.current == Environment.TEST) ? 'X86' : 'X86_64'}&lt;/architecture&gt;\n                        &lt;/chromedriver&gt;\n                        &lt;geckodriver&gt;0.24.0&lt;/geckodriver&gt;\n                    &lt;/webdriverBinaries&gt;\n                &lt;/configuration&gt;\n                &lt;extensions&gt;true&lt;/extensions&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;init&lt;/goal&gt;\n                            &lt;goal&gt;maven-clean&lt;/goal&gt;\n                            &lt;goal&gt;validate&lt;/goal&gt;\n                            &lt;goal&gt;config-directories&lt;/goal&gt;\n                            &lt;goal&gt;maven-compile&lt;/goal&gt;\n                            &lt;goal&gt;maven-test&lt;/goal&gt;\n                            &lt;goal&gt;maven-war&lt;/goal&gt;\n                            &lt;goal&gt;maven-functional-test&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\nenter code here\n</code></pre>\n"},{"tags":["java","netbeans","jframe","jpanel"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1681141962,"post_id":75978426,"comment_id":134005205,"body_markdown":"The error is telling you exactly what is wrong -- your JPanel that your getting the layout from is using GroupLayout, not Cardlayout. The solution is to use CardLayout and not GroupLayout. I suggest that you avoid NetBeans code generation until you understand how Swing and especially how the layout managers work.","body":"The error is telling you exactly what is wrong -- your JPanel that your getting the layout from is using GroupLayout, not Cardlayout. The solution is to use CardLayout and not GroupLayout. I suggest that you avoid NetBeans code generation until you understand how Swing and especially how the layout managers work."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1681142203,"post_id":75978426,"comment_id":134005268,"body_markdown":"In fact, where do you call `setLayout(new CardLayout())` on any container? CardLayout won&#39;t magically appear, you have to add it to the GUI to the container that uses it.","body":"In fact, where do you call <code>setLayout(new CardLayout())</code> on any container? CardLayout won&#39;t magically appear, you have to add it to the GUI to the container that uses it."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1681142330,"post_id":75978426,"comment_id":134005292,"body_markdown":"Please check out the [CardLayout Tutorial](https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html). It will show you how to use this layout and is a much better resource for this problem then ChatGPT.","body":"Please check out the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\">CardLayout Tutorial</a>. It will show you how to use this layout and is a much better resource for this problem then ChatGPT."}],"owner":{"account_id":19757022,"reputation":1,"user_id":14467076,"display_name":"Rizki Aswangga Adiluhur"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681142236,"answer_count":0,"score":0,"last_activity_date":1681142284,"creation_date":1681140569,"question_id":75978426,"body_markdown":"i&#39;m new to Java and JFrame. on my project, i&#39;m learning to make multiple panels on the same JFrame using JPanel. but when i code a function of the button on my 1st JPanel (i want it to go show another JPanel) it gives me an error, here is my full code :\r\n\r\n\r\n```\r\n/*\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template\r\n */\r\npackage Main;\r\n\r\nimport GUI.Menu;\r\nimport java.awt.*;\r\n\r\n/**\r\n *\r\n * @author rizkiaswangga\r\n */\r\npublic class Start extends javax.swing.JFrame {\r\n\r\n    /**\r\n     * Creates new form Start\r\n     */\r\n    public Start() {\r\n        initComponents();\r\n    }\r\n\r\n    /**\r\n     * This method is called from within the constructor to initialize the form.\r\n     * WARNING: Do NOT modify this code. The content of this method is always\r\n     * regenerated by the Form Editor.\r\n     */\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n    private void initComponents() {\r\n\r\n        windowPanel = new javax.swing.JPanel();\r\n        jScrollPane1 = new javax.swing.JScrollPane();\r\n        jTextPane1 = new javax.swing.JTextPane();\r\n        jLayeredPane1 = new javax.swing.JLayeredPane();\r\n        Menu = new javax.swing.JPanel();\r\n        Browse = new javax.swing.JButton();\r\n        Library = new javax.swing.JPanel();\r\n        jLabel1 = new javax.swing.JLabel();\r\n\r\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n\r\n        jTextPane1.setEditable(false);\r\n        jTextPane1.setFont(new java.awt.Font(&quot;sansserif&quot;, 0, 24)); // NOI18N\r\n        jTextPane1.setText(&quot;Game Store&quot;);\r\n        jScrollPane1.setViewportView(jTextPane1);\r\n\r\n        javax.swing.GroupLayout windowPanelLayout = new javax.swing.GroupLayout(windowPanel);\r\n        windowPanel.setLayout(windowPanelLayout);\r\n        windowPanelLayout.setHorizontalGroup(\r\n            windowPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(windowPanelLayout.createSequentialGroup()\r\n                .addGap(404, 404, 404)\r\n                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n        );\r\n        windowPanelLayout.setVerticalGroup(\r\n            windowPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(windowPanelLayout.createSequentialGroup()\r\n                .addGap(35, 35, 35)\r\n                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addContainerGap(50, Short.MAX_VALUE))\r\n        );\r\n\r\n        jLayeredPane1.setLayout(new java.awt.CardLayout());\r\n\r\n        Browse.setText(&quot;Browse&quot;);\r\n        Browse.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                BrowseActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        javax.swing.GroupLayout MenuLayout = new javax.swing.GroupLayout(Menu);\r\n        Menu.setLayout(MenuLayout);\r\n        MenuLayout.setHorizontalGroup(\r\n            MenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, MenuLayout.createSequentialGroup()\r\n                .addContainerGap(813, Short.MAX_VALUE)\r\n                .addComponent(Browse)\r\n                .addGap(146, 146, 146))\r\n        );\r\n        MenuLayout.setVerticalGroup(\r\n            MenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, MenuLayout.createSequentialGroup()\r\n                .addContainerGap(231, Short.MAX_VALUE)\r\n                .addComponent(Browse)\r\n                .addGap(187, 187, 187))\r\n        );\r\n\r\n        jLayeredPane1.add(Menu, &quot;card2&quot;);\r\n\r\n        jLabel1.setText(&quot;test&quot;);\r\n\r\n        javax.swing.GroupLayout LibraryLayout = new javax.swing.GroupLayout(Library);\r\n        Library.setLayout(LibraryLayout);\r\n        LibraryLayout.setHorizontalGroup(\r\n            LibraryLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(LibraryLayout.createSequentialGroup()\r\n                .addGap(188, 188, 188)\r\n                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 55, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addContainerGap(790, Short.MAX_VALUE))\r\n        );\r\n        LibraryLayout.setVerticalGroup(\r\n            LibraryLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(LibraryLayout.createSequentialGroup()\r\n                .addGap(124, 124, 124)\r\n                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 51, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addContainerGap(268, Short.MAX_VALUE))\r\n        );\r\n\r\n        jLayeredPane1.add(Library, &quot;card3&quot;);\r\n\r\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n        getContentPane().setLayout(layout);\r\n        layout.setHorizontalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addContainerGap()\r\n                        .addComponent(windowPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n                    .addComponent(jLayeredPane1))\r\n                .addContainerGap())\r\n        );\r\n        layout.setVerticalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addComponent(windowPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                .addComponent(jLayeredPane1))\r\n        );\r\n\r\n        pack();\r\n    }// &lt;/editor-fold&gt;                        \r\n\r\n    private void BrowseActionPerformed(java.awt.event.ActionEvent evt) {                                       \r\n        // TODO add your handling code here:\r\n    CardLayout cardLayout = (CardLayout) getContentPane().getLayout();\r\n    cardLayout.show(getContentPane(), &quot;Library&quot;);\r\n    }                                      \r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String args[]) {\r\n        /* Set the Nimbus look and feel */\r\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \r\n         */\r\n        try {\r\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                    break;\r\n                }\r\n            }\r\n        } catch (ClassNotFoundException ex) {\r\n            java.util.logging.Logger.getLogger(Start.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (InstantiationException ex) {\r\n            java.util.logging.Logger.getLogger(Start.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (IllegalAccessException ex) {\r\n            java.util.logging.Logger.getLogger(Start.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n            java.util.logging.Logger.getLogger(Start.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        }\r\n        //&lt;/editor-fold&gt;\r\n\r\n        /* Create and display the form */\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new Start().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n    \r\n    public void switchPanels(Menu panel){\r\n        \r\n    }\r\n\r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.JButton Browse;\r\n    private javax.swing.JPanel Library;\r\n    private javax.swing.JPanel Menu;\r\n    private javax.swing.JLabel jLabel1;\r\n    private javax.swing.JLayeredPane jLayeredPane1;\r\n    private javax.swing.JScrollPane jScrollPane1;\r\n    private javax.swing.JTextPane jTextPane1;\r\n    private javax.swing.JPanel windowPanel;\r\n    // End of variables declaration                   \r\n}\r\n\r\n```\r\n\r\nmost of the code is generated automatically by Netbeans&#39; JFrame Form Design tab. the only part that i modify is :\r\n\r\n\r\n```\r\n    private void BrowseActionPerformed(java.awt.event.ActionEvent evt) {                                       \r\n        // TODO add your handling code here:\r\n    CardLayout cardLayout = (CardLayout) getContentPane().getLayout();\r\n    cardLayout.show(getContentPane(), &quot;Library&quot;);\r\n    } \r\n```\r\n\r\ni watched online tutorials on how to show JPanel from another JPanel, but on my cased it failed by giving me a message on the output whenever i click the button :\r\n\r\n\r\n```\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.ClassCastException: class javax.swing.GroupLayout cannot be cast to class java.awt.CardLayout (javax.swing.GroupLayout and java.awt.CardLayout are in module java.desktop of loader &#39;bootstrap&#39;)\r\n\tat Main.Start.BrowseActionPerformed(Start.java:139)\r\n\tat Main.Start$1.actionPerformed(Start.java:70)\r\n\tat java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\r\n\tat java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\r\n\tat java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\r\n\tat java.desktop/java.awt.Component.processMouseEvent(Component.java:6620)\r\n\tat java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3398)\r\n\tat java.desktop/java.awt.Component.processEvent(Component.java:6385)\r\n\tat java.desktop/java.awt.Container.processEvent(Container.java:2266)\r\n\tat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:4995)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4827)\r\n\tat java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\r\n\tat java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\r\n\tat java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\r\n\tat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4827)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:775)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:747)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:744)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n\r\n```\r\n\r\nbelow is the screenshot of the Navigator tab of my components (at that part is showing the &quot;Menu&quot;  panel which has the button that i would want to show the &quot;Library&quot; panel when clicked :\r\n\r\n[enter image description here](https://i.stack.imgur.com/FgXoa.png)\r\n\r\ni&#39;m sure something is wrong on my code :(...any help would be appreciated\r\n\r\nI tried asking the code from ChatGPT and watching online tutorials","title":"Why did i failed calling JPanel from another JPanel on the same JFrame?","body":"<p>i'm new to Java and JFrame. on my project, i'm learning to make multiple panels on the same JFrame using JPanel. but when i code a function of the button on my 1st JPanel (i want it to go show another JPanel) it gives me an error, here is my full code :</p>\n<pre><code>/*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template\n */\npackage Main;\n\nimport GUI.Menu;\nimport java.awt.*;\n\n/**\n *\n * @author rizkiaswangga\n */\npublic class Start extends javax.swing.JFrame {\n\n    /**\n     * Creates new form Start\n     */\n    public Start() {\n        initComponents();\n    }\n\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        windowPanel = new javax.swing.JPanel();\n        jScrollPane1 = new javax.swing.JScrollPane();\n        jTextPane1 = new javax.swing.JTextPane();\n        jLayeredPane1 = new javax.swing.JLayeredPane();\n        Menu = new javax.swing.JPanel();\n        Browse = new javax.swing.JButton();\n        Library = new javax.swing.JPanel();\n        jLabel1 = new javax.swing.JLabel();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n        jTextPane1.setEditable(false);\n        jTextPane1.setFont(new java.awt.Font(&quot;sansserif&quot;, 0, 24)); // NOI18N\n        jTextPane1.setText(&quot;Game Store&quot;);\n        jScrollPane1.setViewportView(jTextPane1);\n\n        javax.swing.GroupLayout windowPanelLayout = new javax.swing.GroupLayout(windowPanel);\n        windowPanel.setLayout(windowPanelLayout);\n        windowPanelLayout.setHorizontalGroup(\n            windowPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(windowPanelLayout.createSequentialGroup()\n                .addGap(404, 404, 404)\n                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n        );\n        windowPanelLayout.setVerticalGroup(\n            windowPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(windowPanelLayout.createSequentialGroup()\n                .addGap(35, 35, 35)\n                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addContainerGap(50, Short.MAX_VALUE))\n        );\n\n        jLayeredPane1.setLayout(new java.awt.CardLayout());\n\n        Browse.setText(&quot;Browse&quot;);\n        Browse.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                BrowseActionPerformed(evt);\n            }\n        });\n\n        javax.swing.GroupLayout MenuLayout = new javax.swing.GroupLayout(Menu);\n        Menu.setLayout(MenuLayout);\n        MenuLayout.setHorizontalGroup(\n            MenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, MenuLayout.createSequentialGroup()\n                .addContainerGap(813, Short.MAX_VALUE)\n                .addComponent(Browse)\n                .addGap(146, 146, 146))\n        );\n        MenuLayout.setVerticalGroup(\n            MenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, MenuLayout.createSequentialGroup()\n                .addContainerGap(231, Short.MAX_VALUE)\n                .addComponent(Browse)\n                .addGap(187, 187, 187))\n        );\n\n        jLayeredPane1.add(Menu, &quot;card2&quot;);\n\n        jLabel1.setText(&quot;test&quot;);\n\n        javax.swing.GroupLayout LibraryLayout = new javax.swing.GroupLayout(Library);\n        Library.setLayout(LibraryLayout);\n        LibraryLayout.setHorizontalGroup(\n            LibraryLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(LibraryLayout.createSequentialGroup()\n                .addGap(188, 188, 188)\n                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 55, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addContainerGap(790, Short.MAX_VALUE))\n        );\n        LibraryLayout.setVerticalGroup(\n            LibraryLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(LibraryLayout.createSequentialGroup()\n                .addGap(124, 124, 124)\n                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 51, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addContainerGap(268, Short.MAX_VALUE))\n        );\n\n        jLayeredPane1.add(Library, &quot;card3&quot;);\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addGroup(layout.createSequentialGroup()\n                        .addContainerGap()\n                        .addComponent(windowPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n                    .addComponent(jLayeredPane1))\n                .addContainerGap())\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addComponent(windowPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addComponent(jLayeredPane1))\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    private void BrowseActionPerformed(java.awt.event.ActionEvent evt) {                                       \n        // TODO add your handling code here:\n    CardLayout cardLayout = (CardLayout) getContentPane().getLayout();\n    cardLayout.show(getContentPane(), &quot;Library&quot;);\n    }                                      \n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(Start.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(Start.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(Start.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(Start.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new Start().setVisible(true);\n            }\n        });\n    }\n    \n    public void switchPanels(Menu panel){\n        \n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JButton Browse;\n    private javax.swing.JPanel Library;\n    private javax.swing.JPanel Menu;\n    private javax.swing.JLabel jLabel1;\n    private javax.swing.JLayeredPane jLayeredPane1;\n    private javax.swing.JScrollPane jScrollPane1;\n    private javax.swing.JTextPane jTextPane1;\n    private javax.swing.JPanel windowPanel;\n    // End of variables declaration                   \n}\n\n</code></pre>\n<p>most of the code is generated automatically by Netbeans' JFrame Form Design tab. the only part that i modify is :</p>\n<pre><code>    private void BrowseActionPerformed(java.awt.event.ActionEvent evt) {                                       \n        // TODO add your handling code here:\n    CardLayout cardLayout = (CardLayout) getContentPane().getLayout();\n    cardLayout.show(getContentPane(), &quot;Library&quot;);\n    } \n</code></pre>\n<p>i watched online tutorials on how to show JPanel from another JPanel, but on my cased it failed by giving me a message on the output whenever i click the button :</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ClassCastException: class javax.swing.GroupLayout cannot be cast to class java.awt.CardLayout (javax.swing.GroupLayout and java.awt.CardLayout are in module java.desktop of loader 'bootstrap')\n    at Main.Start.BrowseActionPerformed(Start.java:139)\n    at Main.Start$1.actionPerformed(Start.java:70)\n    at java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\n    at java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\n    at java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\n    at java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\n    at java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\n    at java.desktop/java.awt.Component.processMouseEvent(Component.java:6620)\n    at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3398)\n    at java.desktop/java.awt.Component.processEvent(Component.java:6385)\n    at java.desktop/java.awt.Container.processEvent(Container.java:2266)\n    at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:4995)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4827)\n    at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\n    at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\n    at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\n    at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4827)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:775)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:747)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:744)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n\n</code></pre>\n<p>below is the screenshot of the Navigator tab of my components (at that part is showing the &quot;Menu&quot;  panel which has the button that i would want to show the &quot;Library&quot; panel when clicked :</p>\n<p><a href=\"https://i.stack.imgur.com/FgXoa.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>i'm sure something is wrong on my code :(...any help would be appreciated</p>\n<p>I tried asking the code from ChatGPT and watching online tutorials</p>\n"},{"tags":["java","apache-beam","auto-value"],"answers":[{"comments":[{"owner":{"account_id":6680217,"reputation":526,"user_id":5153670,"display_name":"Valentyn"},"score":1,"creation_date":1590712873,"post_id":60140367,"comment_id":109791910,"body_markdown":"For how to set this in Intellij: https://stackoverflow.com/questions/39217830/how-to-use-parameters-javac-option-in-intellij\n\nFor gradle users: https://stackoverflow.com/questions/37463902/how-to-pass-parameters-javac-flag-to-java-compiler-via-gradle","body":"For how to set this in Intellij: <a href=\"https://stackoverflow.com/questions/39217830/how-to-use-parameters-javac-option-in-intellij\" title=\"how to use parameters javac option in intellij\">stackoverflow.com/questions/39217830/&hellip;</a>  For gradle users: <a href=\"https://stackoverflow.com/questions/37463902/how-to-pass-parameters-javac-flag-to-java-compiler-via-gradle\" title=\"how to pass parameters javac flag to java compiler via gradle\">stackoverflow.com/questions/37463902/&hellip;</a>"},{"owner":{"account_id":9049064,"reputation":406,"user_id":6814598,"display_name":"DataMacGyver"},"score":0,"creation_date":1606986299,"post_id":60140367,"comment_id":115131545,"body_markdown":"I didn&#39;t require further settings in IntelliJ. Simply adding the above to Maven worked a treat. Do make sure you comment out the config that you don&#39;t need for your plugin version.","body":"I didn&#39;t require further settings in IntelliJ. Simply adding the above to Maven worked a treat. Do make sure you comment out the config that you don&#39;t need for your plugin version."}],"tags":[],"owner":{"account_id":1306443,"reputation":10605,"user_id":1255356,"accept_rate":84,"display_name":"Pablo"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1681141468,"creation_date":1581275761,"answer_id":60140367,"question_id":60140366,"body_markdown":"This error occurs because ByteBuddy and the Java reflection utilities are not able to infer the parameter names of your `@SchemaCreate` method (thus complaining about some unknown parameter `arg0` - this is the default name).\r\n\r\nTo ensure Java reflection can find the parameter names, you need to instruct the compiler to include this information. If you are building with Maven, you can do it this way:\r\n\r\n```\r\n&lt;properties&gt;\r\n    &lt;!-- PLUGIN VERSIONS --&gt;\r\n    &lt;maven-compiler-plugin.version&gt;3.1&lt;/maven-compiler-plugin.version&gt;\r\n\r\n    &lt;!-- OTHER PROPERTIES --&gt;\r\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n&lt;/properties&gt;\r\n\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;!-- Original answer --&gt;\r\n                &lt;compilerArgument&gt;-parameters&lt;/compilerArgument&gt;\r\n                &lt;!-- Or, if you use the plugin version &gt;= 3.6.2 --&gt;\r\n                &lt;parameters&gt;true&lt;/parameters&gt;\r\n                &lt;testCompilerArgument&gt;-parameters&lt;/testCompilerArgument&gt;\r\n                &lt;source&gt;${java.version}&lt;/source&gt;\r\n                &lt;target&gt;${java.version}&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\n**Note:** To accomplish the same thing with Gradle, use [this answer](https://stackoverflow.com/a/37482148/1255356).","title":"Using AutoValueSchema in Apache Beam PCollection gives `RuntimeException: Creator parameter arg0 Doesn&#39;t correspond to a schema field`","body":"<p>This error occurs because ByteBuddy and the Java reflection utilities are not able to infer the parameter names of your <code>@SchemaCreate</code> method (thus complaining about some unknown parameter <code>arg0</code> - this is the default name).</p>\n<p>To ensure Java reflection can find the parameter names, you need to instruct the compiler to include this information. If you are building with Maven, you can do it this way:</p>\n<pre><code>&lt;properties&gt;\n    &lt;!-- PLUGIN VERSIONS --&gt;\n    &lt;maven-compiler-plugin.version&gt;3.1&lt;/maven-compiler-plugin.version&gt;\n\n    &lt;!-- OTHER PROPERTIES --&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;!-- Original answer --&gt;\n                &lt;compilerArgument&gt;-parameters&lt;/compilerArgument&gt;\n                &lt;!-- Or, if you use the plugin version &gt;= 3.6.2 --&gt;\n                &lt;parameters&gt;true&lt;/parameters&gt;\n                &lt;testCompilerArgument&gt;-parameters&lt;/testCompilerArgument&gt;\n                &lt;source&gt;${java.version}&lt;/source&gt;\n                &lt;target&gt;${java.version}&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p><strong>Note:</strong> To accomplish the same thing with Gradle, use <a href=\"https://stackoverflow.com/a/37482148/1255356\">this answer</a>.</p>\n"}],"owner":{"account_id":1306443,"reputation":10605,"user_id":1255356,"accept_rate":84,"display_name":"Pablo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1548,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60140367,"answer_count":1,"score":2,"last_activity_date":1681141468,"creation_date":1581275761,"question_id":60140366,"body_markdown":"I am trying to have a PCollection of AutoValue-defined objects that I have created, and I&#39;ve added the appropriate annotations to infer the Schema via `DefaultSchema(AutoValueSchema.class)`. Like so:\r\n\r\n```\r\n@DefaultSchema(AutoValueSchema.class)\r\n@AutoValue\r\npublic abstract class MyAutoClas {\r\n  public abstract String getMyStr();\r\n  public abstract Integer getMyInt();\r\n\r\n  @CreateSchema\r\n  public static MyAutoClass create(String myStr, Integer myInt) {\r\n    return new AutoValue_MyAutoClass(myStr, myInt);\r\n  }\r\n}\r\n```\r\n\r\nI have a small test case that looks like this:\r\n\r\n```\r\nPCollection&lt;KV&lt;String, MyAutoClass&gt;&gt; result = pipeline\r\n    .apply(Create.of(MyAutoClass.create(&quot;abc&quot;, 1)))\r\n    .apply(WithKeys.of(in -&gt; in.getMyStr()));\r\n\r\nPAssert.that(result).containsInAnyOrder(KV.of(&quot;abc&quot;, MyAutoClass.create(&quot;abc&quot;, 1)));\r\npipeline.run().waitUntilFinish();\r\n```\r\n\r\nWhen I try to run this, I am seeing the following errors:\r\n\r\n```\r\n[ERROR] testMyAutoValueClass(.....)  Time elapsed: 1.891 s  &lt;&lt;&lt; ERROR!\r\njava.lang.RuntimeException: Creator parameter arg0 Doesn&#39;t correspond to a schema field\r\n\tat org.apache.beam.sdk.schemas.utils.ByteBuddyUtils$InvokeUserCreateInstruction.&lt;init&gt;(ByteBuddyUtils.java:717)\r\n\tat org.apache.beam.sdk.schemas.utils.ByteBuddyUtils$StaticFactoryMethodInstruction.&lt;init&gt;(ByteBuddyUtils.java:660)\r\n\tat org.apache.beam.sdk.schemas.utils.JavaBeanUtils.createStaticCreator(JavaBeanUtils.java:284)\r\n\tat org.apache.beam.sdk.schemas.utils.JavaBeanUtils.lambda$getStaticCreator$4(JavaBeanUtils.java:273)\r\n\tat java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1664)\r\n\tat org.apache.beam.sdk.schemas.utils.JavaBeanUtils.getStaticCreator(JavaBeanUtils.java:269)\r\n\tat org.apache.beam.sdk.schemas.AutoValueSchema.lambda$schemaTypeCreatorFactory$673bce5b$1(AutoValueSchema.java:80)\r\n\tat org.apache.beam.sdk.schemas.UserTypeCreatorFactory.create(UserTypeCreatorFactory.java:21)\r\n  ....... [ETCETERA] ......\r\n```","title":"Using AutoValueSchema in Apache Beam PCollection gives `RuntimeException: Creator parameter arg0 Doesn&#39;t correspond to a schema field`","body":"<p>I am trying to have a PCollection of AutoValue-defined objects that I have created, and I've added the appropriate annotations to infer the Schema via <code>DefaultSchema(AutoValueSchema.class)</code>. Like so:</p>\n\n<pre><code>@DefaultSchema(AutoValueSchema.class)\n@AutoValue\npublic abstract class MyAutoClas {\n  public abstract String getMyStr();\n  public abstract Integer getMyInt();\n\n  @CreateSchema\n  public static MyAutoClass create(String myStr, Integer myInt) {\n    return new AutoValue_MyAutoClass(myStr, myInt);\n  }\n}\n</code></pre>\n\n<p>I have a small test case that looks like this:</p>\n\n<pre><code>PCollection&lt;KV&lt;String, MyAutoClass&gt;&gt; result = pipeline\n    .apply(Create.of(MyAutoClass.create(\"abc\", 1)))\n    .apply(WithKeys.of(in -&gt; in.getMyStr()));\n\nPAssert.that(result).containsInAnyOrder(KV.of(\"abc\", MyAutoClass.create(\"abc\", 1)));\npipeline.run().waitUntilFinish();\n</code></pre>\n\n<p>When I try to run this, I am seeing the following errors:</p>\n\n<pre><code>[ERROR] testMyAutoValueClass(.....)  Time elapsed: 1.891 s  &lt;&lt;&lt; ERROR!\njava.lang.RuntimeException: Creator parameter arg0 Doesn't correspond to a schema field\n    at org.apache.beam.sdk.schemas.utils.ByteBuddyUtils$InvokeUserCreateInstruction.&lt;init&gt;(ByteBuddyUtils.java:717)\n    at org.apache.beam.sdk.schemas.utils.ByteBuddyUtils$StaticFactoryMethodInstruction.&lt;init&gt;(ByteBuddyUtils.java:660)\n    at org.apache.beam.sdk.schemas.utils.JavaBeanUtils.createStaticCreator(JavaBeanUtils.java:284)\n    at org.apache.beam.sdk.schemas.utils.JavaBeanUtils.lambda$getStaticCreator$4(JavaBeanUtils.java:273)\n    at java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1664)\n    at org.apache.beam.sdk.schemas.utils.JavaBeanUtils.getStaticCreator(JavaBeanUtils.java:269)\n    at org.apache.beam.sdk.schemas.AutoValueSchema.lambda$schemaTypeCreatorFactory$673bce5b$1(AutoValueSchema.java:80)\n    at org.apache.beam.sdk.schemas.UserTypeCreatorFactory.create(UserTypeCreatorFactory.java:21)\n  ....... [ETCETERA] ......\n</code></pre>\n"},{"tags":["java","garbage-collection","jvm","jvm-arguments","cassandra-2.1"],"comments":[{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":3,"creation_date":1636556091,"post_id":69913079,"comment_id":123589018,"body_markdown":"`-Xlog:gc=info:file=/var/log/cassandra/gc.log::filecount=10,filesize=10M` should work. Make sure `/var/log/cassandra` directory exists and writable.","body":"<code>-Xlog:gc=info:file=&#47;var&#47;log&#47;cassandra&#47;gc.log::filecount=10,f&zwnj;&#8203;ilesize=10M</code> should work. Make sure <code>&#47;var&#47;log&#47;cassandra</code> directory exists and writable."},{"owner":{"account_id":280090,"reputation":6832,"user_id":575596,"accept_rate":94,"display_name":"MeanwhileInHell"},"score":0,"creation_date":1636567616,"post_id":69913079,"comment_id":123594139,"body_markdown":"Thanks for your suggestion.  I&#39;m still getting `Invalid -Xlog option &#39;-Xlog:gc=info:file=/var/log/cassandra/gc.log::filecount=10,filesize=10M&#39;, see error log for details.` with that.  It must be something else at play, what you&#39;ve suggested should 100% work.  Java version is `11.0.11` `Java HotSpot(TM) 64-Bit Server`","body":"Thanks for your suggestion.  I&#39;m still getting <code>Invalid -Xlog option &#39;-Xlog:gc=info:file=&#47;var&#47;log&#47;cassandra&#47;gc.log::filecount=10,&zwnj;&#8203;filesize=10M&#39;, see error log for details.</code> with that.  It must be something else at play, what you&#39;ve suggested should 100% work.  Java version is <code>11.0.11</code> <code>Java HotSpot(TM) 64-Bit Server</code>"},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1636587533,"post_id":69913079,"comment_id":123600543,"body_markdown":"Look for the error messages *above* this `Invalid -Xlog option` message. Apparently, the JVM cannot create the given file due to some I/O problem.","body":"Look for the error messages <i>above</i> this <code>Invalid -Xlog option</code> message. Apparently, the JVM cannot create the given file due to some I/O problem."}],"answers":[{"tags":[],"owner":{"account_id":60456,"reputation":55971,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681141367,"creation_date":1681141367,"answer_id":75978530,"question_id":69913079,"body_markdown":"If this is for getting Cassandra 2.1 to run, the highest Java version you can run it on is Java 8.\r\n\r\nIf you want to run Cassandra on Java 11, you need to upgrade to Cassandra 4.0 or 4.1.","title":"JVM 11 GC log rotation : Initialization of output &#39;file=/var/log/cassandra/gc.log&#39; using options &#39;(null)&#39; failed","body":"<p>If this is for getting Cassandra 2.1 to run, the highest Java version you can run it on is Java 8.</p>\n<p>If you want to run Cassandra on Java 11, you need to upgrade to Cassandra 4.0 or 4.1.</p>\n"}],"owner":{"account_id":280090,"reputation":6832,"user_id":575596,"accept_rate":94,"display_name":"MeanwhileInHell"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2950,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75978530,"answer_count":1,"score":3,"last_activity_date":1681141367,"creation_date":1636546409,"question_id":69913079,"body_markdown":"I am trying to update some older JVM GC log rotation options to be compatible with Java 11.  Previously, using Java 8 I had:\r\n\r\n```\r\n-Xloggc:/var/log/cassandra/gc.log&quot;\r\n-XX:+UseGCLogFileRotation&quot;\r\n-XX:NumberOfGCLogFiles=10&quot;\r\n-XX:GCLogFileSize=10M\r\n```\r\n\r\nHowever, now the last three are invalid and I have been trying in vain to figure out the correct replacement.  I have looked at any number of blogs and SO questions, but cannot get them right.\r\n\r\nThe last attempt was:\r\n\r\n```\r\nJVM_OPTS=&quot;$JVM_OPTS -Xloggc:filesize=10M:filecount=10&quot;\r\nJVM_OPTS=&quot;$JVM_OPTS -Xloggc:/var/log/cassandra/gc.log&quot;\r\n```\r\n\r\nwhich resulted in:\r\n\r\n```\r\n[0.002s][warning][gc] -Xloggc is deprecated. Will use -Xlog:gc:filesize=10M:filecount=10 instead.\r\n[0.002s][warning][gc] -Xloggc is deprecated. Will use -Xlog:gc:/var/log/cassandra/gc.log instead.\r\n[0.002s][error  ][logging] Initialization of output &#39;file=/var/log/cassandra/gc.log&#39; using options &#39;(null)&#39; failed.\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n```\r\n(Oddly, if i change my option to include the additional `:` it tells me its invalid)\r\n\r\nI have tried:\r\n\r\n```\r\n-Xlog:gc:none:/var/log/cassandra/gc.log:filesize=10M:filecount=10\r\n\r\n-Xlog:gc:none:file=/var/log/cassandra/gc.log:filesize=10M:filecount=10\r\n\r\n-Xloggc:/var/log/cassandra/gc.log\r\n-Xlog:gc:::filesize=10M:filecount=10\r\n\r\n-Xlog:gc,safepoint:gc.log::filecount=10,filesize=10M\r\n\r\n-Xlog:gc*,safepoint:gc.log:time,uptime:filecount=10,filesize=10M\r\n```\r\n\r\nNothing I have tried works, with either an error of an invalid arg, or the `(null)` error above.\r\n\r\nAll I am trying to achieve is to have my `gc.log` files roll over when they hit 10M, keep 10 of them, and to write to `/var/log/cassandra/gc.log`.\r\n\r\n** EDIT **\r\n\r\nRemoving the rotation args entirely and just keeping\r\n```\r\n-Xloggc:/var/log/cassandra/gc.log\r\n```\r\ngives me the same error \r\n```\r\n[0.002s][error  ][logging] Initialization of output &#39;file=/var/log/cassandra/gc.log&#39; using options &#39;(null)&#39; failed.\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n```","title":"JVM 11 GC log rotation : Initialization of output &#39;file=/var/log/cassandra/gc.log&#39; using options &#39;(null)&#39; failed","body":"<p>I am trying to update some older JVM GC log rotation options to be compatible with Java 11.  Previously, using Java 8 I had:</p>\n<pre><code>-Xloggc:/var/log/cassandra/gc.log&quot;\n-XX:+UseGCLogFileRotation&quot;\n-XX:NumberOfGCLogFiles=10&quot;\n-XX:GCLogFileSize=10M\n</code></pre>\n<p>However, now the last three are invalid and I have been trying in vain to figure out the correct replacement.  I have looked at any number of blogs and SO questions, but cannot get them right.</p>\n<p>The last attempt was:</p>\n<pre><code>JVM_OPTS=&quot;$JVM_OPTS -Xloggc:filesize=10M:filecount=10&quot;\nJVM_OPTS=&quot;$JVM_OPTS -Xloggc:/var/log/cassandra/gc.log&quot;\n</code></pre>\n<p>which resulted in:</p>\n<pre><code>[0.002s][warning][gc] -Xloggc is deprecated. Will use -Xlog:gc:filesize=10M:filecount=10 instead.\n[0.002s][warning][gc] -Xloggc is deprecated. Will use -Xlog:gc:/var/log/cassandra/gc.log instead.\n[0.002s][error  ][logging] Initialization of output 'file=/var/log/cassandra/gc.log' using options '(null)' failed.\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n<p>(Oddly, if i change my option to include the additional <code>:</code> it tells me its invalid)</p>\n<p>I have tried:</p>\n<pre><code>-Xlog:gc:none:/var/log/cassandra/gc.log:filesize=10M:filecount=10\n\n-Xlog:gc:none:file=/var/log/cassandra/gc.log:filesize=10M:filecount=10\n\n-Xloggc:/var/log/cassandra/gc.log\n-Xlog:gc:::filesize=10M:filecount=10\n\n-Xlog:gc,safepoint:gc.log::filecount=10,filesize=10M\n\n-Xlog:gc*,safepoint:gc.log:time,uptime:filecount=10,filesize=10M\n</code></pre>\n<p>Nothing I have tried works, with either an error of an invalid arg, or the <code>(null)</code> error above.</p>\n<p>All I am trying to achieve is to have my <code>gc.log</code> files roll over when they hit 10M, keep 10 of them, and to write to <code>/var/log/cassandra/gc.log</code>.</p>\n<p>** EDIT **</p>\n<p>Removing the rotation args entirely and just keeping</p>\n<pre><code>-Xloggc:/var/log/cassandra/gc.log\n</code></pre>\n<p>gives me the same error</p>\n<pre><code>[0.002s][error  ][logging] Initialization of output 'file=/var/log/cassandra/gc.log' using options '(null)' failed.\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n"},{"tags":["java","maven","plugins","maven-plugin"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1681073570,"post_id":75972786,"comment_id":133996319,"body_markdown":"As i know there is no possibility to order plugin executions in the same phase","body":"As i know there is no possibility to order plugin executions in the same phase"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1681077355,"post_id":75972786,"comment_id":133996724,"body_markdown":"The cleanest way is to use different life cycle phases... otherwise the order of the plugins in the xml is relevant... That means the echo-maven-plugin is defined in the same phase as the antrun-plugin and defined before the antrun-plugin (ordered in the xml file) which means both execution of the echo-maven-plugin will be done before... the question is why do you need that? And why do you bind antrun plugin into compile phase? For What purpose?","body":"The cleanest way is to use different life cycle phases... otherwise the order of the plugins in the xml is relevant... That means the echo-maven-plugin is defined in the same phase as the antrun-plugin and defined before the antrun-plugin (ordered in the xml file) which means both execution of the echo-maven-plugin will be done before... the question is why do you need that? And why do you bind antrun plugin into compile phase? For What purpose?"},{"owner":{"account_id":15204139,"reputation":11,"user_id":13899961,"display_name":"Jacek Karwatka"},"score":0,"creation_date":1681139108,"post_id":75972786,"comment_id":134004592,"body_markdown":"In my original problem, I had two plugins called in the same phase. The first plugin sets properties, the second one uses them for work. Sometimes that solution does not work properly,  so I want to display the values of properties using echo-maven-plugin before and after the first plugin run.  I want to use echo-maven-plugin temporarily as a debugger to inspect the values of properties, but I am unable to precisely control the order of calling them. Is it even possible?","body":"In my original problem, I had two plugins called in the same phase. The first plugin sets properties, the second one uses them for work. Sometimes that solution does not work properly,  so I want to display the values of properties using echo-maven-plugin before and after the first plugin run.  I want to use echo-maven-plugin temporarily as a debugger to inspect the values of properties, but I am unable to precisely control the order of calling them. Is it even possible?"}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681141347,"creation_date":1681141347,"answer_id":75978528,"question_id":75972786,"body_markdown":"Put the plugins into different life cycle phases. Everything else is just brittle.","title":"How to set the order of maven plugins executions in the same phase and from different plugins","body":"<p>Put the plugins into different life cycle phases. Everything else is just brittle.</p>\n"}],"owner":{"account_id":15204139,"reputation":11,"user_id":13899961,"display_name":"Jacek Karwatka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681141347,"creation_date":1681073140,"question_id":75972786,"body_markdown":"I want to print messages before I run the maven plugin and after it.\r\n\r\nI try something like that:\r\n\r\n```\r\n&lt;plugins&gt;\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;com.soebes.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;echo-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;0.5.0&lt;/version&gt;\r\n    &lt;executions&gt;\r\n      &lt;execution&gt;\r\n        &lt;id&gt;echo-before-call-plugin&lt;/id&gt;\r\n        &lt;phase&gt;compile&lt;/phase&gt;\r\n        &lt;goals&gt;\r\n          &lt;goal&gt;echo&lt;/goal&gt;\r\n        &lt;/goals&gt;\r\n        &lt;configuration&gt;\r\n        &lt;echos&gt;\r\n          &lt;echo&gt;Before run plugin antrun.&lt;/echo&gt;\r\n        &lt;/echos&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/execution&gt;\r\n  &lt;/plugin&gt;\r\n\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n    &lt;executions&gt;\r\n      &lt;execution&gt;\r\n        &lt;phase&gt;compile&lt;/phase&gt;\r\n          &lt;configuration&gt;\r\n            &lt;tasks&gt;\r\n                    .....\r\n            &lt;/tasks&gt;\r\n          &lt;/configuration&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;run&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n  &lt;/plugin&gt;\r\n\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;com.soebes.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;echo-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;0.5.0&lt;/version&gt;\r\n    &lt;executions&gt;\r\n      &lt;execution&gt;\r\n        &lt;id&gt;echo-before-call-plugin&lt;/id&gt;\r\n        &lt;phase&gt;compile&lt;/phase&gt;\r\n        &lt;goals&gt;\r\n          &lt;goal&gt;echo&lt;/goal&gt;\r\n        &lt;/goals&gt;\r\n        &lt;configuration&gt;\r\n        &lt;echos&gt;\r\n          &lt;echo&gt;After run plugin antrun.&lt;/echo&gt;\r\n        &lt;/echos&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/execution&gt;\r\n  &lt;/plugin&gt;\r\n&lt;/plugins&gt;\r\n```\r\n\r\nBut it gets an error - in the \\*.pom file we can use the plugin only once.\r\n\r\nNext I try like this:\r\n\r\n```\r\n&lt;plugins&gt;\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;com.soebes.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;echo-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;0.5.0&lt;/version&gt;\r\n    &lt;executions&gt;\r\n      &lt;execution&gt;\r\n        &lt;id&gt;echo-before-call-plugin&lt;/id&gt;\r\n        &lt;phase&gt;compile&lt;/phase&gt;\r\n        &lt;goals&gt;\r\n          &lt;goal&gt;echo&lt;/goal&gt;\r\n        &lt;/goals&gt;\r\n        &lt;configuration&gt;\r\n        &lt;echos&gt;\r\n          &lt;echo&gt;Before run plugin antrun.&lt;/echo&gt;\r\n        &lt;/echos&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/execution&gt;\r\n    \r\n     &lt;execution&gt;\r\n        &lt;id&gt;echo-after-call-plugin&lt;/id&gt;\r\n        &lt;phase&gt;compile&lt;/phase&gt;\r\n        &lt;goals&gt;\r\n          &lt;goal&gt;echo&lt;/goal&gt;\r\n        &lt;/goals&gt;\r\n        &lt;configuration&gt;\r\n        &lt;echos&gt;\r\n          &lt;echo&gt;After run plugin antrun.&lt;/echo&gt;\r\n        &lt;/echos&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/execution&gt;\r\n  &lt;/plugin&gt;\r\n\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n    &lt;executions&gt;\r\n      &lt;execution&gt;\r\n        &lt;phase&gt;compile&lt;/phase&gt;\r\n          &lt;configuration&gt;\r\n            &lt;tasks&gt;\r\n                    .....\r\n            &lt;/tasks&gt;\r\n          &lt;/configuration&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;run&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n  &lt;/plugin&gt;\r\n&lt;/plugins&gt;\r\n```\r\n\r\nThere is no error but both messages are printed before runing the antrun plugin. How to force to print the first mesege before runig plugin, and second after it.","title":"How to set the order of maven plugins executions in the same phase and from different plugins","body":"<p>I want to print messages before I run the maven plugin and after it.</p>\n<p>I try something like that:</p>\n<pre><code>&lt;plugins&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;com.soebes.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;echo-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.5.0&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;echo-before-call-plugin&lt;/id&gt;\n        &lt;phase&gt;compile&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;echo&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n        &lt;echos&gt;\n          &lt;echo&gt;Before run plugin antrun.&lt;/echo&gt;\n        &lt;/echos&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/plugin&gt;\n\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;phase&gt;compile&lt;/phase&gt;\n          &lt;configuration&gt;\n            &lt;tasks&gt;\n                    .....\n            &lt;/tasks&gt;\n          &lt;/configuration&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;run&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n\n  &lt;plugin&gt;\n    &lt;groupId&gt;com.soebes.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;echo-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.5.0&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;echo-before-call-plugin&lt;/id&gt;\n        &lt;phase&gt;compile&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;echo&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n        &lt;echos&gt;\n          &lt;echo&gt;After run plugin antrun.&lt;/echo&gt;\n        &lt;/echos&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n<p>But it gets an error - in the *.pom file we can use the plugin only once.</p>\n<p>Next I try like this:</p>\n<pre><code>&lt;plugins&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;com.soebes.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;echo-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.5.0&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;echo-before-call-plugin&lt;/id&gt;\n        &lt;phase&gt;compile&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;echo&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n        &lt;echos&gt;\n          &lt;echo&gt;Before run plugin antrun.&lt;/echo&gt;\n        &lt;/echos&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n    \n     &lt;execution&gt;\n        &lt;id&gt;echo-after-call-plugin&lt;/id&gt;\n        &lt;phase&gt;compile&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;echo&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n        &lt;echos&gt;\n          &lt;echo&gt;After run plugin antrun.&lt;/echo&gt;\n        &lt;/echos&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/plugin&gt;\n\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;phase&gt;compile&lt;/phase&gt;\n          &lt;configuration&gt;\n            &lt;tasks&gt;\n                    .....\n            &lt;/tasks&gt;\n          &lt;/configuration&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;run&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n<p>There is no error but both messages are printed before runing the antrun plugin. How to force to print the first mesege before runig plugin, and second after it.</p>\n"},{"tags":["java","spring-boot","docker"],"answers":[{"tags":[],"owner":{"account_id":25821567,"reputation":1,"user_id":19560554,"display_name":"seroze"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657960128,"creation_date":1657960128,"answer_id":73002708,"question_id":73002090,"body_markdown":"add springboot-docker dir to your $PATH variable. \r\n\r\nbasically the shell is not able to find the mvnw command, it looks for all the locations in the $PATH var. since your mvnw binary is located in your project dir you need to add it. \r\n\r\nif this was in a linux environment it would be done like this\r\nexport PATH=$PATH:./springboot-docker\r\n\r\nfor windows you can search online how this can be edited.","title":"unable to start container process: exec: &quot;mvnw&quot;: executable file not found in $PATH: unknown","body":"<p>add springboot-docker dir to your $PATH variable.</p>\n<p>basically the shell is not able to find the mvnw command, it looks for all the locations in the $PATH var. since your mvnw binary is located in your project dir you need to add it.</p>\n<p>if this was in a linux environment it would be done like this\nexport PATH=$PATH:./springboot-docker</p>\n<p>for windows you can search online how this can be edited.</p>\n"},{"tags":[],"owner":{"account_id":277005,"reputation":1859,"user_id":570724,"accept_rate":40,"display_name":"tianwei"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657963831,"creation_date":1657963831,"answer_id":73003075,"question_id":73002090,"body_markdown":"Change  `CMD [ &quot;mvnw&quot;, &quot;spring-boot:run&quot; ]` to `CMD [ &quot;./mvnw&quot;, &quot;spring-boot:run&quot; ]` \r\n\r\nWhen your docker want to execute command `mvnw springboot:run`, it needs to find   file `mvnw` in environment  $PATH， but find none.\r\n\r\nChange `mvnw` to `./mvnw` which will tell docker to execute the `mvnw` file in current work directory(where you have copied `mvnw` before).","title":"unable to start container process: exec: &quot;mvnw&quot;: executable file not found in $PATH: unknown","body":"<p>Change  <code>CMD [ &quot;mvnw&quot;, &quot;spring-boot:run&quot; ]</code> to <code>CMD [ &quot;./mvnw&quot;, &quot;spring-boot:run&quot; ]</code></p>\n<p>When your docker want to execute command <code>mvnw springboot:run</code>, it needs to find   file <code>mvnw</code> in environment  $PATH， but find none.</p>\n<p>Change <code>mvnw</code> to <code>./mvnw</code> which will tell docker to execute the <code>mvnw</code> file in current work directory(where you have copied <code>mvnw</code> before).</p>\n"},{"tags":[],"owner":{"account_id":14136698,"reputation":421,"user_id":10212903,"display_name":"Otobong Jerome"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666939426,"creation_date":1666939426,"answer_id":74231531,"question_id":73002090,"body_markdown":"it&#39;s a permission problem, common on linux docker compose.\r\nIn my case it worked when I REMOVED sudo.\r\n\r\ni.e\r\n\r\n```docker-compose up``` instead of ``` sudo docker-compose up``` \r\n\r\nyou can also try adding ```sudo chmod -R a+rwx``` to the working directory in Dockerfile","title":"unable to start container process: exec: &quot;mvnw&quot;: executable file not found in $PATH: unknown","body":"<p>it's a permission problem, common on linux docker compose.\nIn my case it worked when I REMOVED sudo.</p>\n<p>i.e</p>\n<p><code>docker-compose up</code> instead of <code> sudo docker-compose up</code></p>\n<p>you can also try adding <code>sudo chmod -R a+rwx</code> to the working directory in Dockerfile</p>\n"}],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2328,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1681140799,"creation_date":1657953708,"question_id":73002090,"body_markdown":"This is my source code https://github.com/donhuvy/springboot-docker . I follow guide at tutorial video https://www.youtube.com/watch?v=7BCtc9cAS6o . File `Dockerfile`\r\n\r\n```\r\n# syntax=docker/dockerfile:1\r\n#Which &quot;official Java image&quot; ?\r\nFROM openjdk:oraclelinux8\r\n#working directory\r\nWORKDIR /app\r\n#copy from your Host(PC, laptop) to container\r\nCOPY .mvn/ .mvn\r\nCOPY mvnw pom.xml ./\r\n#Run this inside the image\r\nRUN ./mvnw dependency:go-offline\r\nCOPY src ./src\r\n#run inside container\r\nCMD [ &quot;mvnw&quot;, &quot;spring-boot:run&quot; ]\r\n```\r\n\r\nLog\r\n\r\n```\r\nC:\\Users\\donhu&gt;docker pull donhuvy/springboot-docker:v1.0.0\r\nv1.0.0: Pulling from donhuvy/springboot-docker\r\ne54b73e95ef3: Pull complete\r\ne6e62647f09f: Pull complete\r\nda8e06a8884e: Pull complete\r\nd8cbf9b4e6de: Pull complete\r\n9971eb650313: Pull complete\r\n366b24bf882f: Pull complete\r\n35b5c085babf: Pull complete\r\nb51a76bbfa65: Pull complete\r\nDigest: sha256:f637c16c3b2a930d048e95f89f2a7aa53754f349e08e0c5a86398c5481eb07f1\r\nStatus: Downloaded newer image for donhuvy/springboot-docker:v1.0.0\r\ndocker.io/donhuvy/springboot-docker:v1.0.0\r\n\r\nC:\\Users\\donhu&gt;docker run donhuvy/springboot-docker:v1.0.0\r\ndocker: Error response from daemon: failed to create shim task: OCI runtime create failed: runc create failed: unable to start container process: exec: &quot;mvnw&quot;: executable file not found in $PATH: unknown.\r\n\r\nC:\\Users\\donhu&gt;\r\n```\r\n\r\nHow to fix it?\r\n\r\n","title":"unable to start container process: exec: &quot;mvnw&quot;: executable file not found in $PATH: unknown","body":"<p>This is my source code <a href=\"https://github.com/donhuvy/springboot-docker\" rel=\"nofollow noreferrer\">https://github.com/donhuvy/springboot-docker</a> . I follow guide at tutorial video <a href=\"https://www.youtube.com/watch?v=7BCtc9cAS6o\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=7BCtc9cAS6o</a> . File <code>Dockerfile</code></p>\n<pre><code># syntax=docker/dockerfile:1\n#Which &quot;official Java image&quot; ?\nFROM openjdk:oraclelinux8\n#working directory\nWORKDIR /app\n#copy from your Host(PC, laptop) to container\nCOPY .mvn/ .mvn\nCOPY mvnw pom.xml ./\n#Run this inside the image\nRUN ./mvnw dependency:go-offline\nCOPY src ./src\n#run inside container\nCMD [ &quot;mvnw&quot;, &quot;spring-boot:run&quot; ]\n</code></pre>\n<p>Log</p>\n<pre><code>C:\\Users\\donhu&gt;docker pull donhuvy/springboot-docker:v1.0.0\nv1.0.0: Pulling from donhuvy/springboot-docker\ne54b73e95ef3: Pull complete\ne6e62647f09f: Pull complete\nda8e06a8884e: Pull complete\nd8cbf9b4e6de: Pull complete\n9971eb650313: Pull complete\n366b24bf882f: Pull complete\n35b5c085babf: Pull complete\nb51a76bbfa65: Pull complete\nDigest: sha256:f637c16c3b2a930d048e95f89f2a7aa53754f349e08e0c5a86398c5481eb07f1\nStatus: Downloaded newer image for donhuvy/springboot-docker:v1.0.0\ndocker.io/donhuvy/springboot-docker:v1.0.0\n\nC:\\Users\\donhu&gt;docker run donhuvy/springboot-docker:v1.0.0\ndocker: Error response from daemon: failed to create shim task: OCI runtime create failed: runc create failed: unable to start container process: exec: &quot;mvnw&quot;: executable file not found in $PATH: unknown.\n\nC:\\Users\\donhu&gt;\n</code></pre>\n<p>How to fix it?</p>\n"},{"tags":["java","http","request","get","guice"],"answers":[{"tags":[],"owner":{"account_id":4635838,"reputation":3,"user_id":3757117,"display_name":"Alex Levinson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681140696,"creation_date":1681140332,"answer_id":75978386,"question_id":75867906,"body_markdown":"Your title has the question:\r\n\r\n&gt; How values from one HTTP get request are used as @QueryParams in another get request in Google Guice?\r\n\r\nBut @QueryParam is a JAX-RS annotation. You need a REST-API implementation tool to handle those, which Google&#39;s Guice is not.\r\n\r\nGoogle&#39;s Guice is a Dependency Injection tool. It theoretically has nothing to do with a HTTP request. However! Guice does have some utility to scope dependency injections to an HTTP request, so it can confuse people like it may have done here for you. BUT do not mistake Guice as an API tool.\r\n\r\n&gt; I am having problem with understanding how exactly multiple HTTP get requests work together...And actually I don&#39;t get how this &#39;code&#39; is getting passed to the second GET request because the first request returns it and the second uses it but it does not have explicit call inside.\r\n\r\nThis is a separate question, but I&#39;d answer it by saying your intuition is correct. It doesn&#39;t pass the two pieces together magically. \r\n\r\nEither your HTTP client is saving the request of the first call and passing it into the second call, or you are receiving nulls as your second parameter, and possibly still setting it via a new DB lookup. \r\n\r\nSeveral linting tools suggest treating HTTP parameter fields as final to avoid confusion like this.\r\n\r\nPerhaps your code looks like this, which would be why you&#39;re confused. Note: this is not advice on how to change your code.\r\n\r\n    @GET\r\n    @Path(&quot;/{id}/calculateSmth&quot;)\r\n    public CustomCalculations getCalculations (@PathParam(&quot;id&quot;) int id, ..., @QueryParam(&quot;code&quot;) Integer code) {\r\n        if (code == null) {\r\n            code = db.lookup(id).getCode();\r\n        }\r\n    }\r\n\r\nFeel free to ask further questions, but please consider upvoting this as an answer to your initial question.","title":"How values from one HTTP get request are used as @QueryParams in another get request in Google Guice?","body":"<p>Your title has the question:</p>\n<blockquote>\n<p>How values from one HTTP get request are used as @QueryParams in another get request in Google Guice?</p>\n</blockquote>\n<p>But @QueryParam is a JAX-RS annotation. You need a REST-API implementation tool to handle those, which Google's Guice is not.</p>\n<p>Google's Guice is a Dependency Injection tool. It theoretically has nothing to do with a HTTP request. However! Guice does have some utility to scope dependency injections to an HTTP request, so it can confuse people like it may have done here for you. BUT do not mistake Guice as an API tool.</p>\n<blockquote>\n<p>I am having problem with understanding how exactly multiple HTTP get requests work together...And actually I don't get how this 'code' is getting passed to the second GET request because the first request returns it and the second uses it but it does not have explicit call inside.</p>\n</blockquote>\n<p>This is a separate question, but I'd answer it by saying your intuition is correct. It doesn't pass the two pieces together magically.</p>\n<p>Either your HTTP client is saving the request of the first call and passing it into the second call, or you are receiving nulls as your second parameter, and possibly still setting it via a new DB lookup.</p>\n<p>Several linting tools suggest treating HTTP parameter fields as final to avoid confusion like this.</p>\n<p>Perhaps your code looks like this, which would be why you're confused. Note: this is not advice on how to change your code.</p>\n<pre><code>@GET\n@Path(&quot;/{id}/calculateSmth&quot;)\npublic CustomCalculations getCalculations (@PathParam(&quot;id&quot;) int id, ..., @QueryParam(&quot;code&quot;) Integer code) {\n    if (code == null) {\n        code = db.lookup(id).getCode();\n    }\n}\n</code></pre>\n<p>Feel free to ask further questions, but please consider upvoting this as an answer to your initial question.</p>\n"}],"owner":{"display_name":"user19128690"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681140696,"creation_date":1680015624,"question_id":75867906,"body_markdown":"I am having problem with understanding how exactly multiple HTTP get requests work together. Let&#39;s say I have a GET request which returns a collection of CustomObjects according to a given id.\r\n\r\n```java\r\nclass CustomObject {\r\n    private final Integer code;\r\n}\r\n```\r\nCustomObject has other fields inside but they are not related to the task.\r\n\r\n```java\r\n@GET\r\n@Path(&quot;/{id}/testPoint&quot;)\r\npublic Collection&lt;CustomObject&gt; getCustomObject(@PathParam(&quot;id&quot;) int objectId) {\r\n    // ...\r\n}\r\n```\r\nAnd I have another GET request which is called after this one.\r\n\r\n```java\r\n@GET\r\n@Path(&quot;/{id}/calculateSmth&quot;)\r\npublic CustomCalculations getCalculations (@PathParam(&quot;id&quot;) int id,......,  @QueryParam(&quot;code&quot;) Integer code\r\n\r\n```\r\nAnd actually I don&#39;t get how this &#39;code&#39; is getting passed to the second GET request because the first request returns it and the second uses it but it does not have explicit call inside,  I don&#39;t get how things are getting passed around. \r\nAll data is taken from database.\r\n\r\n\r\nI am having trouble understanding how things are passed across multiple GET requests. ","title":"How values from one HTTP get request are used as @QueryParams in another get request in Google Guice?","body":"<p>I am having problem with understanding how exactly multiple HTTP get requests work together. Let's say I have a GET request which returns a collection of CustomObjects according to a given id.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class CustomObject {\n    private final Integer code;\n}\n</code></pre>\n<p>CustomObject has other fields inside but they are not related to the task.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GET\n@Path(&quot;/{id}/testPoint&quot;)\npublic Collection&lt;CustomObject&gt; getCustomObject(@PathParam(&quot;id&quot;) int objectId) {\n    // ...\n}\n</code></pre>\n<p>And I have another GET request which is called after this one.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GET\n@Path(&quot;/{id}/calculateSmth&quot;)\npublic CustomCalculations getCalculations (@PathParam(&quot;id&quot;) int id,......,  @QueryParam(&quot;code&quot;) Integer code\n\n</code></pre>\n<p>And actually I don't get how this 'code' is getting passed to the second GET request because the first request returns it and the second uses it but it does not have explicit call inside,  I don't get how things are getting passed around.\nAll data is taken from database.</p>\n<p>I am having trouble understanding how things are passed across multiple GET requests.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1681024439,"post_id":75969211,"comment_id":133990573,"body_markdown":"What necessitates these requirements? What inputs are you working on?","body":"What necessitates these requirements? What inputs are you working on?"},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":1,"creation_date":1681024464,"post_id":75969211,"comment_id":133990578,"body_markdown":"Please add examples of valid and invalid input.","body":"Please add examples of valid and invalid input."},{"owner":{"account_id":7113913,"reputation":2404,"user_id":5440883,"display_name":"Chris Maurer"},"score":0,"creation_date":1681025203,"post_id":75969211,"comment_id":133990649,"body_markdown":"Notice that your regex will scan a number between 6 &amp; 31 characters, not 5 &amp; 30.  That initial digit is an extra character. Is that what you meant?","body":"Notice that your regex will scan a number between 6 &amp; 31 characters, not 5 &amp; 30.  That initial digit is an extra character. Is that what you meant?"},{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1681026102,"post_id":75969211,"comment_id":133990715,"body_markdown":"You really should consider to _not_ check each and every requirement with a regular expression. For the pattern requirement, a regular expresseion seems to be a good fit. But for the length ... why not simply check the input string and/or the number in it? No need to complicate things ...","body":"You really should consider to <i>not</i> check each and every requirement with a regular expression. For the pattern requirement, a regular expresseion seems to be a good fit. But for the length ... why not simply check the input string and/or the number in it? No need to complicate things ..."}],"answers":[{"tags":[],"owner":{"account_id":1088492,"reputation":43453,"user_id":1083663,"accept_rate":69,"display_name":"GOTO 0"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681025280,"creation_date":1681025280,"answer_id":75969276,"question_id":75969211,"body_markdown":"&gt; BUT how do I restrict it NOT to have 10 or 12 characters length.\r\n\r\nYou could insert a negative lookahead at the start of the pattern to not expect 10 or 12 characters: `(?!.{10}$|.{12}$)`.\r\n\r\nThe whole pattern would then be:\r\n\r\n```\r\n^(?!.{10}$|.{12}$)[0-9][a-zA-Z0-9-_.\\\\\\s+]{5,30}$\r\n```\r\n\r\n","title":"RegEx to match alphanumeric number of certain length starting with a number","body":"<blockquote>\n<p>BUT how do I restrict it NOT to have 10 or 12 characters length.</p>\n</blockquote>\n<p>You could insert a negative lookahead at the start of the pattern to not expect 10 or 12 characters: <code>(?!.{10}$|.{12}$)</code>.</p>\n<p>The whole pattern would then be:</p>\n<pre><code>^(?!.{10}$|.{12}$)[0-9][a-zA-Z0-9-_.\\\\\\s+]{5,30}$\n</code></pre>\n"},{"comments":[{"owner":{"account_id":468289,"reputation":178225,"user_id":874188,"accept_rate":62,"display_name":"tripleee"},"score":6,"creation_date":1681026628,"post_id":75969288,"comment_id":133990763,"body_markdown":"Not my downvote, but probably add an explanation of what you did and why. Code-only answers are discouraged because using it i  hit or miss if you don&#39;t understand the code.","body":"Not my downvote, but probably add an explanation of what you did and why. Code-only answers are discouraged because using it i  hit or miss if you don&#39;t understand the code."}],"tags":[],"owner":{"account_id":28145438,"reputation":9,"user_id":21507826,"display_name":"ye xue"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1681026553,"creation_date":1681025434,"answer_id":75969288,"question_id":75969211,"body_markdown":"```\r\n^(?!.*\\b\\d{10}\\b)(?!.*\\b\\d{12}\\b)[0-9][a-zA-Z0-9\\-_.\\\\s+]{4,29}$\r\n```","title":"RegEx to match alphanumeric number of certain length starting with a number","body":"<pre><code>^(?!.*\\b\\d{10}\\b)(?!.*\\b\\d{12}\\b)[0-9][a-zA-Z0-9\\-_.\\\\s+]{4,29}$\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681140415,"creation_date":1681140415,"answer_id":75978399,"question_id":75969211,"body_markdown":"As the pattern should start with a digit, you might do that first and then add to negative lookaheads to prevent the lookaheads to fire when the string does not start with a digit.\r\n\r\nIf you don&#39;t want to match newlines, using Java you can change `\\s` to `\\h` to match horizontal whitespace characters.\r\n\r\n    ^[0-9](?!.{9}$|.{11}$)[a-zA-Z0-9-_.\\\\\\h+]{4,29}$\r\n\r\nSee a [regex demo](https://regex101.com/r/ZzQYrN/1).\r\n\r\nA longer version without using lookaheads, but making use of a greedy quantifier and optional [atomic groups](https://www.regular-expressions.info/atomic.html).\r\n\r\nThe pattern matches either 5-9 chars, 11 chars or 13-30 chars.\r\n\r\n    ^[0-9][a-zA-Z0-9-_.\\\\h+]{4,8}+(?&gt;[a-zA-Z0-9-_.\\\\h+]{2}(?&gt;[a-zA-Z0-9-_.\\\\h+]{2,19})?)?$\r\n\r\nSee another [regex demo](https://regex101.com/r/WdAtXg/1).","title":"RegEx to match alphanumeric number of certain length starting with a number","body":"<p>As the pattern should start with a digit, you might do that first and then add to negative lookaheads to prevent the lookaheads to fire when the string does not start with a digit.</p>\n<p>If you don't want to match newlines, using Java you can change <code>\\s</code> to <code>\\h</code> to match horizontal whitespace characters.</p>\n<pre><code>^[0-9](?!.{9}$|.{11}$)[a-zA-Z0-9-_.\\\\\\h+]{4,29}$\n</code></pre>\n<p>See a <a href=\"https://regex101.com/r/ZzQYrN/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n<p>A longer version without using lookaheads, but making use of a greedy quantifier and optional <a href=\"https://www.regular-expressions.info/atomic.html\" rel=\"nofollow noreferrer\">atomic groups</a>.</p>\n<p>The pattern matches either 5-9 chars, 11 chars or 13-30 chars.</p>\n<pre><code>^[0-9][a-zA-Z0-9-_.\\\\h+]{4,8}+(?&gt;[a-zA-Z0-9-_.\\\\h+]{2}(?&gt;[a-zA-Z0-9-_.\\\\h+]{2,19})?)?$\n</code></pre>\n<p>See another <a href=\"https://regex101.com/r/WdAtXg/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n"}],"owner":{"account_id":18028082,"reputation":305,"user_id":13103493,"display_name":"sidd"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75969276,"answer_count":3,"score":3,"last_activity_date":1681140415,"creation_date":1681024261,"question_id":75969211,"body_markdown":"I have a requirement for regex - starting with a number and then can have letter numbers and special characters `-_.\\\\s+` for hyphen, dot, underscore and space, etc. My other important requirement is that the length of the number is to be between 5 and 30 (inclusive) BUT it should not be 10 or 12 characters in length. I have prepared a regex as below:\r\n\r\n```\r\n^[0-9][a-zA-Z0-9-_.\\\\\\s+]{5,30}$\r\n```\r\nI understand that the above regex regulates length between 5 and 30 characters BUT how do I restrict it NOT to have 10 or 12 characters length.\r\n\r\nPlease help. ","title":"RegEx to match alphanumeric number of certain length starting with a number","body":"<p>I have a requirement for regex - starting with a number and then can have letter numbers and special characters <code>-_.\\\\s+</code> for hyphen, dot, underscore and space, etc. My other important requirement is that the length of the number is to be between 5 and 30 (inclusive) BUT it should not be 10 or 12 characters in length. I have prepared a regex as below:</p>\n<pre><code>^[0-9][a-zA-Z0-9-_.\\\\\\s+]{5,30}$\n</code></pre>\n<p>I understand that the above regex regulates length between 5 and 30 characters BUT how do I restrict it NOT to have 10 or 12 characters length.</p>\n<p>Please help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1681140711,"post_id":75978354,"comment_id":134004932,"body_markdown":"Does this answer your question? [java.lang.VerifyError: Stack map does not match the one at exception handler](https://stackoverflow.com/questions/54804355/java-lang-verifyerror-stack-map-does-not-match-the-one-at-exception-handler)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/54804355/java-lang-verifyerror-stack-map-does-not-match-the-one-at-exception-handler\">java.lang.VerifyError: Stack map does not match the one at exception handler</a>"}],"owner":{"account_id":1864571,"reputation":23738,"user_id":1688441,"accept_rate":82,"display_name":"Menelaos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1681140378,"creation_date":1681139948,"question_id":75978354,"body_markdown":"Problem\r\n-\r\n\r\nI had the following catch statement which was a problem:\r\n\r\n    } catch (DataException | JSONException exception) {\r\n    \tthrow new RuntimeException(exception);\r\n    }\r\n\r\nI was seeing the following exception / error in the logs:\r\n\r\n WARN annotation.ExceptionHandlerExceptionResolver: Resolved [org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.VerifyError: Stack map does not match the one at exception handler 93\r\nException Details:\r\n  Location:\r\n\r\n        my/code/aspose/AsposeDataSourceBuilder.getDataSource(Ljava/lang/Object;)Lcom/aspose/words/net/System/Data/DataSet; @93: astore_1\r\n      Reason:\r\n        Type &#39;org/json/JSONException&#39; (current frame, stack[0]) is not assignable to &#39;java/lang/RuntimeException&#39; (stack map, stack[0])\r\n      Current Frame:\r\n        bci: @0\r\n        flags: { }\r\n        locals: { &#39;java/lang/Object&#39; }\r\n        stack: { &#39;org/json/JSONException&#39; }\r\n      Stackmap Frame:\r\n        bci: @93\r\n        flags: { }\r\n        locals: { &#39;java/lang/Object&#39; }\r\n        stack: { &#39;java/lang/RuntimeException&#39; }\r\n      Bytecode:\r\n        0x0000000: bb00 0259 b700 03b6 0004 b600 054c 2b2a\r\n        0x0000010: b600 064d bb00 0759 2cb7 0008 4ebb 0009\r\n        0x0000020: 59b7 000a 120b b600 0c2d b800 0db6 000c\r\n        0x0000030: 120e b600 0cb6 000f 3a04 bb00 1059 1211\r\n        0x0000040: b700 123a 0519 05bb 0013 5919 04b2 0014\r\n        0x0000050: b600 15b7 0016 b600 1757 1905 b04c bb00\r\n        0x0000060: 1a59 2bb7 001b bf\r\n      Exception Handler Table:\r\n        bci [0, 92] =&gt; handler: 93\r\n        bci [0, 92] =&gt; handler: 93\r\n      Stackmap Table:\r\n        same_locals_1_stack_item_extended(@93,Object[#67])\r\n\r\nI ran across the following Github issue/commits where they split a single catch into multiple ones - and this seemed to fix the error.\r\n\r\nhttps://github.com/Wikidata/Wikidata-Toolkit/commit/0d214bb8870c29c0b688db4fda71ce8a64b4a46e\r\nhttps://github.com/Wikidata/Wikidata-Toolkit/issues/58\r\n[![enter image description here][1]][1]\r\n\r\nSo I split the catch statement and now it also works for me:\r\n\r\n    } catch (DataException e1) {\r\n    \t\t\tthrow new RuntimeException(e1);\r\n    \t\t}catch(JSONException e2){\r\n    \t\t\tthrow new RuntimeException(e2);\r\n    \t\t}\r\n\r\nUpdate\r\n\r\n\r\nIn case it helps, here are the two inheritence trees from the two exception types:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\nQuestion\r\n-\r\n\r\nWhy does splitting the catch statement solve the error?\r\n\r\nThere&#39;s a similar question by MatKuhr [here][3] ... but I don&#39;t understand the problem/solution yet.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/po9q0.png\r\n  [2]: https://i.stack.imgur.com/ToQl4.png\r\n  [3]: https://github.com/Wikidata/Wikidata-Toolkit/issues/58#issuecomment-627280175","title":"Why does splitting a composite catch statement get rid of a verifyError?","body":"<h2>Problem</h2>\n<p>I had the following catch statement which was a problem:</p>\n<pre><code>} catch (DataException | JSONException exception) {\n    throw new RuntimeException(exception);\n}\n</code></pre>\n<p>I was seeing the following exception / error in the logs:</p>\n<p>WARN annotation.ExceptionHandlerExceptionResolver: Resolved [org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.VerifyError: Stack map does not match the one at exception handler 93\nException Details:\nLocation:</p>\n<pre><code>    my/code/aspose/AsposeDataSourceBuilder.getDataSource(Ljava/lang/Object;)Lcom/aspose/words/net/System/Data/DataSet; @93: astore_1\n  Reason:\n    Type 'org/json/JSONException' (current frame, stack[0]) is not assignable to 'java/lang/RuntimeException' (stack map, stack[0])\n  Current Frame:\n    bci: @0\n    flags: { }\n    locals: { 'java/lang/Object' }\n    stack: { 'org/json/JSONException' }\n  Stackmap Frame:\n    bci: @93\n    flags: { }\n    locals: { 'java/lang/Object' }\n    stack: { 'java/lang/RuntimeException' }\n  Bytecode:\n    0x0000000: bb00 0259 b700 03b6 0004 b600 054c 2b2a\n    0x0000010: b600 064d bb00 0759 2cb7 0008 4ebb 0009\n    0x0000020: 59b7 000a 120b b600 0c2d b800 0db6 000c\n    0x0000030: 120e b600 0cb6 000f 3a04 bb00 1059 1211\n    0x0000040: b700 123a 0519 05bb 0013 5919 04b2 0014\n    0x0000050: b600 15b7 0016 b600 1757 1905 b04c bb00\n    0x0000060: 1a59 2bb7 001b bf\n  Exception Handler Table:\n    bci [0, 92] =&gt; handler: 93\n    bci [0, 92] =&gt; handler: 93\n  Stackmap Table:\n    same_locals_1_stack_item_extended(@93,Object[#67])\n</code></pre>\n<p>I ran across the following Github issue/commits where they split a single catch into multiple ones - and this seemed to fix the error.</p>\n<p><a href=\"https://github.com/Wikidata/Wikidata-Toolkit/commit/0d214bb8870c29c0b688db4fda71ce8a64b4a46e\" rel=\"nofollow noreferrer\">https://github.com/Wikidata/Wikidata-Toolkit/commit/0d214bb8870c29c0b688db4fda71ce8a64b4a46e</a>\n<a href=\"https://github.com/Wikidata/Wikidata-Toolkit/issues/58\" rel=\"nofollow noreferrer\">https://github.com/Wikidata/Wikidata-Toolkit/issues/58</a>\n<a href=\"https://i.stack.imgur.com/po9q0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/po9q0.png\" alt=\"enter image description here\" /></a></p>\n<p>So I split the catch statement and now it also works for me:</p>\n<pre><code>} catch (DataException e1) {\n            throw new RuntimeException(e1);\n        }catch(JSONException e2){\n            throw new RuntimeException(e2);\n        }\n</code></pre>\n<p>Update</p>\n<p>In case it helps, here are the two inheritence trees from the two exception types:</p>\n<p><a href=\"https://i.stack.imgur.com/ToQl4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ToQl4.png\" alt=\"enter image description here\" /></a></p>\n<h2>Question</h2>\n<p>Why does splitting the catch statement solve the error?</p>\n<p>There's a similar question by MatKuhr <a href=\"https://github.com/Wikidata/Wikidata-Toolkit/issues/58#issuecomment-627280175\" rel=\"nofollow noreferrer\">here</a> ... but I don't understand the problem/solution yet.</p>\n"},{"tags":["java","multithreading","locking","wait"],"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1473437550,"post_id":39415636,"comment_id":66156108,"body_markdown":"I&#39;m not sure, but one thing that comes to mind is that it&#39;s not clear from the docs whether LockSupport&#39;s methods provide any of the memory visibility guarantees that synchronization provides (happens-before edges and all that).","body":"I&#39;m not sure, but one thing that comes to mind is that it&#39;s not clear from the docs whether LockSupport&#39;s methods provide any of the memory visibility guarantees that synchronization provides (happens-before edges and all that)."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1473440444,"post_id":39415636,"comment_id":66157521,"body_markdown":"See also question [Practical examples of LockSupport/AbstractQueuedSynchronizer](http://stackoverflow.com/questions/3311811/any-practical-example-of-locksupport-abstractqueuedsynchronizer-use).","body":"See also question <a href=\"http://stackoverflow.com/questions/3311811/any-practical-example-of-locksupport-abstractqueuedsynchronizer-use\">Practical examples of LockSupport/AbstractQueuedSynchronizer</a>."}],"answers":[{"comments":[{"owner":{"account_id":1299659,"reputation":2884,"user_id":1249851,"display_name":"dyng"},"score":1,"creation_date":1473640741,"post_id":39416130,"comment_id":66206233,"body_markdown":"After exploring javadoc of related Classes, I have realized that replacement for `wait()` is `Condition`, and for `synchroinzed` it is `Lock`. `Condition` need to be derived from `Lock` also mirrors the relationship of `wait()` and `synchronized`. `LockSupport.park()` is the base of them.","body":"After exploring javadoc of related Classes, I have realized that replacement for <code>wait()</code> is <code>Condition</code>, and for <code>synchroinzed</code> it is <code>Lock</code>. <code>Condition</code> need to be derived from <code>Lock</code> also mirrors the relationship of <code>wait()</code> and <code>synchronized</code>. <code>LockSupport.park()</code> is the base of them."}],"tags":[],"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1681139894,"creation_date":1473439064,"answer_id":39416130,"question_id":39415636,"body_markdown":"These two things, wait and park, seem alike but they&#39;re pretty different.\r\n\r\nCalls to `wait` happen in the context of locking with `synchronized`. You have some condition the thread is testing, where you&#39;re testing the state of the object you&#39;re synchronizing on, to decide if the thread can proceed. The wait/notify process uses the lock as a middleman for sending notifications where the OS scheduler is in charge of who gets notified. So the use case here is that you have some component with state you want to protect from concurrent access and if a thread can&#39;t make progress, you want it to wait until it can.\r\n\r\nA core part of this is that you are not playing puppet master with the waiting threads, your code doesn&#39;t care who gets notified next, that gets delegated to the scheduler.\r\n\r\nFor park, things are different, there is no locking like what you have with wait, and it is much more of a hands-on puppet master situation. Your code is telling individual threads to go dormant or wake up.\r\n\r\nThere is a warning in [the API documentation for LockSupport][1]:\r\n\r\n&gt; These methods are designed to be used as tools for creating higher-level synchronization utilities, and are not in themselves useful for most concurrency control applications. The park method is designed for use only in constructions of the form:\r\n \r\n     while (!canProceed()) { ... LockSupport.park(this); }\r\n\r\n&gt; where neither canProceed nor any other actions prior to the call to park entail locking or blocking. Because only one permit is associated with each thread, any intermediary uses of park could interfere with its intended effects.\r\n\r\nYour specific example depends on having a lock around the test for the condition, which is what the documentation is telling you not to do with park. Also you need the lock around the &quot;do stuff&quot; part after the wait. \r\n\r\nIf you are needing something more powerful than `synchronized` then you might look at ReentrantLock or at different nonblocking approaches but park/unpark is more of a low-level helper than something ready to use in your application.\r\n\r\nNote in your second example your condition needs to be volatile or Atomic or otherwise something where its updates are visible across threads.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/LockSupport.html","title":"Can `LockSupport.park()` replace `Object.wait()`?","body":"<p>These two things, wait and park, seem alike but they're pretty different.</p>\n<p>Calls to <code>wait</code> happen in the context of locking with <code>synchronized</code>. You have some condition the thread is testing, where you're testing the state of the object you're synchronizing on, to decide if the thread can proceed. The wait/notify process uses the lock as a middleman for sending notifications where the OS scheduler is in charge of who gets notified. So the use case here is that you have some component with state you want to protect from concurrent access and if a thread can't make progress, you want it to wait until it can.</p>\n<p>A core part of this is that you are not playing puppet master with the waiting threads, your code doesn't care who gets notified next, that gets delegated to the scheduler.</p>\n<p>For park, things are different, there is no locking like what you have with wait, and it is much more of a hands-on puppet master situation. Your code is telling individual threads to go dormant or wake up.</p>\n<p>There is a warning in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/LockSupport.html\" rel=\"nofollow noreferrer\">the API documentation for LockSupport</a>:</p>\n<blockquote>\n<p>These methods are designed to be used as tools for creating higher-level synchronization utilities, and are not in themselves useful for most concurrency control applications. The park method is designed for use only in constructions of the form:</p>\n</blockquote>\n<pre><code> while (!canProceed()) { ... LockSupport.park(this); }\n</code></pre>\n<blockquote>\n<p>where neither canProceed nor any other actions prior to the call to park entail locking or blocking. Because only one permit is associated with each thread, any intermediary uses of park could interfere with its intended effects.</p>\n</blockquote>\n<p>Your specific example depends on having a lock around the test for the condition, which is what the documentation is telling you not to do with park. Also you need the lock around the &quot;do stuff&quot; part after the wait.</p>\n<p>If you are needing something more powerful than <code>synchronized</code> then you might look at ReentrantLock or at different nonblocking approaches but park/unpark is more of a low-level helper than something ready to use in your application.</p>\n<p>Note in your second example your condition needs to be volatile or Atomic or otherwise something where its updates are visible across threads.</p>\n"},{"tags":[],"owner":{"account_id":9857077,"reputation":710,"user_id":7301259,"display_name":"AwesomeHunter"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609913181,"creation_date":1609913181,"answer_id":65590962,"question_id":39415636,"body_markdown":"No, Locksupport.park()/unpark() can&#39;t replace Object.wait().\r\n\r\nLocksupport.park()/unpark() doesn&#39;t require you to acquire a lock, but Object.wait() does require you to have synchronized keyword to protect it. Let me tell you why,\r\n\r\n    while (condition != true) \r\n      LockSupport.park();\r\nWithout synchronized or other protections, some other threads can change the condition variable between these two lines of code.  So your code might park/unpark when it really shouldn&#39;t.","title":"Can `LockSupport.park()` replace `Object.wait()`?","body":"<p>No, Locksupport.park()/unpark() can't replace Object.wait().</p>\n<p>Locksupport.park()/unpark() doesn't require you to acquire a lock, but Object.wait() does require you to have synchronized keyword to protect it. Let me tell you why,</p>\n<pre><code>while (condition != true) \n  LockSupport.park();\n</code></pre>\n<p>Without synchronized or other protections, some other threads can change the condition variable between these two lines of code.  So your code might park/unpark when it really shouldn't.</p>\n"}],"owner":{"account_id":1299659,"reputation":2884,"user_id":1249851,"display_name":"dyng"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1357,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":39416130,"answer_count":2,"score":3,"last_activity_date":1681139894,"creation_date":1473437181,"question_id":39415636,"body_markdown":"Currently I&#39;m learning concurrency programming in Java. I notice `LockSupport.park()` introduced in Java 1.6 is much easier than `Object.wait()` to use, a typical usage of `Object.wait()` is like\r\n\r\n    // Thread1\r\n    synchronized (lock) {\r\n        while (condition != true) {\r\n            lock.wait()\r\n        }\r\n\r\n        // do stuff\r\n    }\r\n\r\n    // Thread2\r\n    synchronized (lock) {\r\n        condition = true;\r\n        lock.notify();\r\n    }\r\n\r\nAnd I think I can rewrite it using `LockSupport.park()` like\r\n\r\n    // Thread1\r\n    while (condition != true) {\r\n        LockSupport.park();\r\n    }\r\n\r\n    // do stuff\r\n\r\n    // Thread2\r\n    condition = true;\r\n    LockSupport.unpark(Thread1);\r\n\r\nBy using `LockSupport.park()`, tedious `synchroinzed` block disappears. \r\n \r\nMy question is, should I always prefer `LockSupport.park()` than `Object.wait()`? Is there any aspect that `Object.wait()` does better than `LockSupport.park()` such as performance?","title":"Can `LockSupport.park()` replace `Object.wait()`?","body":"<p>Currently I'm learning concurrency programming in Java. I notice <code>LockSupport.park()</code> introduced in Java 1.6 is much easier than <code>Object.wait()</code> to use, a typical usage of <code>Object.wait()</code> is like</p>\n\n<pre><code>// Thread1\nsynchronized (lock) {\n    while (condition != true) {\n        lock.wait()\n    }\n\n    // do stuff\n}\n\n// Thread2\nsynchronized (lock) {\n    condition = true;\n    lock.notify();\n}\n</code></pre>\n\n<p>And I think I can rewrite it using <code>LockSupport.park()</code> like</p>\n\n<pre><code>// Thread1\nwhile (condition != true) {\n    LockSupport.park();\n}\n\n// do stuff\n\n// Thread2\ncondition = true;\nLockSupport.unpark(Thread1);\n</code></pre>\n\n<p>By using <code>LockSupport.park()</code>, tedious <code>synchroinzed</code> block disappears. </p>\n\n<p>My question is, should I always prefer <code>LockSupport.park()</code> than <code>Object.wait()</code>? Is there any aspect that <code>Object.wait()</code> does better than <code>LockSupport.park()</code> such as performance?</p>\n"},{"tags":["java","arrays","json","object","linkedhashmap"],"answers":[{"tags":[],"owner":{"account_id":1511115,"reputation":2926,"user_id":1413222,"display_name":"devwebcl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681133416,"creation_date":1681133416,"answer_id":75977567,"question_id":75977468,"body_markdown":"A JSONObject is an unordered collection of name/value pairs. \r\n\r\nhttps://www.javadoc.io/doc/org.json/json/20171018/org/json/JSONObject.html\r\n","title":"How to add an empty JSON Array to JSON Object in a specific order","body":"<p>A JSONObject is an unordered collection of name/value pairs.</p>\n<p><a href=\"https://www.javadoc.io/doc/org.json/json/20171018/org/json/JSONObject.html\" rel=\"nofollow noreferrer\">https://www.javadoc.io/doc/org.json/json/20171018/org/json/JSONObject.html</a></p>\n"}],"owner":{"account_id":5399993,"reputation":49,"user_id":4300130,"display_name":"matthewoak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681139579,"creation_date":1681132493,"question_id":75977468,"body_markdown":"I am trying to create this structure for a JSON - \r\n\r\n    \r\n\r\n```\r\n\r\n    {\r\n      &quot;pricing&quot;: {\r\n        &quot;quantity&quot;: 4200,\r\n        &quot;minQuantity&quot;: 10,\r\n        &quot;pricePerUnit&quot;: {\r\n          &quot;amount&quot;: 0.2865,\r\n          &quot;currency&quot;: &quot;USD&quot;\r\n        },\r\n        &quot;discounts&quot;: []\r\n      },\r\n      &quot;description&quot;: &quot;test&quot;,\r\n      &quot;guaranteedDeliveryTime&quot;: &quot;testTime&quot;,\r\n      &quot;offerType&quot;: &quot;Currency&quot;\r\n    }\r\n\r\n```\r\nI have came up with a solution that is pretty close. However the ordering seems a bit off. \r\nHere is the code I am using - \r\n\r\n    Map&lt;String, Object&gt; pricePerUnit = new LinkedHashMap&lt;&gt;();\r\n        pricePerUnit.put(&quot;amount&quot;, 0.2865);\r\n        pricePerUnit.put(&quot;currency&quot;, &quot;USD&quot;);\r\n\r\n        Map&lt;String, Object&gt; pricing = new LinkedHashMap&lt;&gt;(8, 0.6f, false);\r\n        pricing.put(&quot;quantity&quot;, 2342);\r\n        pricing.put(&quot;minQuantity&quot;, 2342);\r\n        pricing.put(&quot;pricePerUnit&quot;, pricePerUnit);\r\n        pricing.put(&quot;discounts&quot;, new JSONArray());\r\n\r\n        JSONObject obj1 = new JSONObject();\r\n        obj1.put(&quot;pricing&quot;, pricing);\r\n        obj1.put(&quot;guaranteedDeliveryTime&quot;, &quot;testTime&quot;);\r\n        obj1.put(&quot;description&quot;, &quot;test&quot;);\r\n        obj1.put(&quot;offerTime&quot;, &quot;Currency&quot;);\r\n\r\nAnd the final output is as follows. \r\n\r\n```\r\n    {\r\n      &quot;guaranteedDeliveryTime&quot;: &quot;testTime&quot;,\r\n      &quot;description&quot;: &quot;test&quot;,\r\n      &quot;pricing&quot;: {\r\n        &quot;quantity&quot;: 2342,\r\n        &quot;minQuantity&quot;: 2342,\r\n        &quot;discounts&quot;: [],\r\n        &quot;pricePerUnit&quot;: {\r\n          &quot;amount&quot;: 0.2865,\r\n          &quot;currency&quot;: &quot;USD&quot;\r\n        }\r\n      },\r\n      &quot;offerTime&quot;: &quot;Currency&quot;\r\n    }\r\n```\r\n\r\nThe ordering seems off. I assume it is an issue as I am using a LinkedHashMap. I also tried setting the access order to see if that would change the ordering. Any advice would be greatly appreciated. Thanks.\r\n\r\n","title":"How to add an empty JSON Array to JSON Object in a specific order","body":"<p>I am trying to create this structure for a JSON -</p>\n<pre><code>\n    {\n      &quot;pricing&quot;: {\n        &quot;quantity&quot;: 4200,\n        &quot;minQuantity&quot;: 10,\n        &quot;pricePerUnit&quot;: {\n          &quot;amount&quot;: 0.2865,\n          &quot;currency&quot;: &quot;USD&quot;\n        },\n        &quot;discounts&quot;: []\n      },\n      &quot;description&quot;: &quot;test&quot;,\n      &quot;guaranteedDeliveryTime&quot;: &quot;testTime&quot;,\n      &quot;offerType&quot;: &quot;Currency&quot;\n    }\n\n</code></pre>\n<p>I have came up with a solution that is pretty close. However the ordering seems a bit off.\nHere is the code I am using -</p>\n<pre><code>Map&lt;String, Object&gt; pricePerUnit = new LinkedHashMap&lt;&gt;();\n    pricePerUnit.put(&quot;amount&quot;, 0.2865);\n    pricePerUnit.put(&quot;currency&quot;, &quot;USD&quot;);\n\n    Map&lt;String, Object&gt; pricing = new LinkedHashMap&lt;&gt;(8, 0.6f, false);\n    pricing.put(&quot;quantity&quot;, 2342);\n    pricing.put(&quot;minQuantity&quot;, 2342);\n    pricing.put(&quot;pricePerUnit&quot;, pricePerUnit);\n    pricing.put(&quot;discounts&quot;, new JSONArray());\n\n    JSONObject obj1 = new JSONObject();\n    obj1.put(&quot;pricing&quot;, pricing);\n    obj1.put(&quot;guaranteedDeliveryTime&quot;, &quot;testTime&quot;);\n    obj1.put(&quot;description&quot;, &quot;test&quot;);\n    obj1.put(&quot;offerTime&quot;, &quot;Currency&quot;);\n</code></pre>\n<p>And the final output is as follows.</p>\n<pre><code>    {\n      &quot;guaranteedDeliveryTime&quot;: &quot;testTime&quot;,\n      &quot;description&quot;: &quot;test&quot;,\n      &quot;pricing&quot;: {\n        &quot;quantity&quot;: 2342,\n        &quot;minQuantity&quot;: 2342,\n        &quot;discounts&quot;: [],\n        &quot;pricePerUnit&quot;: {\n          &quot;amount&quot;: 0.2865,\n          &quot;currency&quot;: &quot;USD&quot;\n        }\n      },\n      &quot;offerTime&quot;: &quot;Currency&quot;\n    }\n</code></pre>\n<p>The ordering seems off. I assume it is an issue as I am using a LinkedHashMap. I also tried setting the access order to see if that would change the ordering. Any advice would be greatly appreciated. Thanks.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1681054761,"post_id":75971335,"comment_id":133993966,"body_markdown":"No. There is no such filter attribute for entity scan. Recommended solution is to reorganize your package structure.","body":"No. There is no such filter attribute for entity scan. Recommended solution is to reorganize your package structure."}],"answers":[{"tags":[],"owner":{"account_id":24109083,"reputation":150,"user_id":18079889,"display_name":"Mohammed Fataka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681065583,"creation_date":1681065583,"answer_id":75972265,"question_id":75971335,"body_markdown":"by default spring picks every entities to be read, if you want specific package to be excluded, unfortunately there is no such attribute to exclude specific package, but alternatively you can use ```@EntityScan(basePackages={YOUR_FIRST_PACKAGE,YOUR_SECOND_PACKAGE})```  so spring will only pick from those specified packages ","title":"spring boot how to load entity classes using @EntityScan and exclude some classes based on certain pattern?","body":"<p>by default spring picks every entities to be read, if you want specific package to be excluded, unfortunately there is no such attribute to exclude specific package, but alternatively you can use <code>@EntityScan(basePackages={YOUR_FIRST_PACKAGE,YOUR_SECOND_PACKAGE})</code>  so spring will only pick from those specified packages</p>\n"}],"owner":{"account_id":14197901,"reputation":3,"user_id":11145475,"display_name":"Mohammed Gamal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":654,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681139112,"creation_date":1681053634,"question_id":75971335,"body_markdown":"the scenario here is like:\r\n\r\na simple java spring project where there&#39;re some entities in their own package, when i add the entity classes to the project i use \r\n```\r\n@EntityScan(basePackage=&quot;com.path.to.entities&quot;)\r\n```\r\ni want to exclude a certain @Entity or some of them based on a pattern i.e name or regEx and don&#39;t want it to be added\r\n\r\n\r\ni&#39;ve searched and found a similar implementation for @ComponentScan by using @Filter to include or exclude components, is there a similar approach for @EntityScan to do the same with entities?","title":"spring boot how to load entity classes using @EntityScan and exclude some classes based on certain pattern?","body":"<p>the scenario here is like:</p>\n<p>a simple java spring project where there're some entities in their own package, when i add the entity classes to the project i use</p>\n<pre><code>@EntityScan(basePackage=&quot;com.path.to.entities&quot;)\n</code></pre>\n<p>i want to exclude a certain @Entity or some of them based on a pattern i.e name or regEx and don't want it to be added</p>\n<p>i've searched and found a similar implementation for @ComponentScan by using @Filter to include or exclude components, is there a similar approach for @EntityScan to do the same with entities?</p>\n"},{"tags":["java","json","spring-boot","rest","post"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":1,"creation_date":1681120204,"post_id":75975860,"comment_id":134001171,"body_markdown":"You must specify different paths for same HTTP method. E.g. `@PostMapping(&quot;/people&quot;)`","body":"You must specify different paths for same HTTP method. E.g. <code>@PostMapping(&quot;&#47;people&quot;)</code>"},{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1681122843,"post_id":75975860,"comment_id":134001634,"body_markdown":"Even if such a workaround would exist it would not be recommended. Better to redesign your client calls to call different endpoints.","body":"Even if such a workaround would exist it would not be recommended. Better to redesign your client calls to call different endpoints."},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1681123645,"post_id":75975860,"comment_id":134001735,"body_markdown":"For the specific example, using a its specific property spring framework can accept the `Person` object as a array and convert it to a list of one element erasing the need of the `insertPerson` method.","body":"For the specific example, using a its specific property spring framework can accept the <code>Person</code> object as a array and convert it to a list of one element erasing the need of the <code>insertPerson</code> method."}],"answers":[{"comments":[{"owner":{"account_id":28263832,"reputation":1,"user_id":21608101,"display_name":"Hooded Dormammu"},"score":0,"creation_date":1681188725,"post_id":75976028,"comment_id":134012019,"body_markdown":"That makes sense everyone, thanks! I&#39;ll make the methods have different paths","body":"That makes sense everyone, thanks! I&#39;ll make the methods have different paths"}],"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681120410,"creation_date":1681120410,"answer_id":75976028,"question_id":75975860,"body_markdown":"No, you can not do that. The methods have to have different paths such as \r\n\r\n    @PostMapping(&quot;/people&quot;)\r\n        public void insertPeople(@RequestBody List&lt;Person&gt; people) {\r\n            personService.addPeople(people);\r\n        }\r\n    \r\n    @PostMapping(&quot;/person&quot;)\r\n        public void insertPerson(@RequestBody Person person) {\r\n            personService.addPerson(person);\r\n        }\r\n\r\n","title":"Can I add multiple POST methods with rest api?","body":"<p>No, you can not do that. The methods have to have different paths such as</p>\n<pre><code>@PostMapping(&quot;/people&quot;)\n    public void insertPeople(@RequestBody List&lt;Person&gt; people) {\n        personService.addPeople(people);\n    }\n\n@PostMapping(&quot;/person&quot;)\n    public void insertPerson(@RequestBody Person person) {\n        personService.addPerson(person);\n    }\n</code></pre>\n"}],"owner":{"account_id":28263832,"reputation":1,"user_id":21608101,"display_name":"Hooded Dormammu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681138477,"creation_date":1681118919,"question_id":75975860,"body_markdown":"```java\r\n@PostMapping\r\npublic void insertPerson(@RequestBody Person person) {\r\n    personService.addPerson(person);\r\n}\r\n\r\n@PostMapping\r\npublic void insertPeople(@RequestBody List&lt;Person&gt; people) {\r\n    personService.addPeople(people);\r\n}\r\n```\r\n\r\nI want to be able to have multiple POST methods that would be called depending on what JSON format is passed in (I am using postman for this). For example, in the above code, if I pass in just one Person object, I want to call the first method but if I pass in a List of Person objects I want to call the second method. \r\n\r\nIs there an easy way solve this or will I need to come up with some kind of work around method that checks the JSON format and then calls personService.addPerson or personService.addPeople based on the format?\r\n\r\nRunning both at the same time causes an error understandably, and I have checked each method individually, to make sure that they work by themselves.\r\n\r\nI am kind of new to SpringBoot/RestAPI so if anyone has any tips/suggestions on resources I could use to learn better, that would be appreciated!\r\n\r\nThanks!","title":"Can I add multiple POST methods with rest api?","body":"<pre class=\"lang-java prettyprint-override\"><code>@PostMapping\npublic void insertPerson(@RequestBody Person person) {\n    personService.addPerson(person);\n}\n\n@PostMapping\npublic void insertPeople(@RequestBody List&lt;Person&gt; people) {\n    personService.addPeople(people);\n}\n</code></pre>\n<p>I want to be able to have multiple POST methods that would be called depending on what JSON format is passed in (I am using postman for this). For example, in the above code, if I pass in just one Person object, I want to call the first method but if I pass in a List of Person objects I want to call the second method.</p>\n<p>Is there an easy way solve this or will I need to come up with some kind of work around method that checks the JSON format and then calls personService.addPerson or personService.addPeople based on the format?</p>\n<p>Running both at the same time causes an error understandably, and I have checked each method individually, to make sure that they work by themselves.</p>\n<p>I am kind of new to SpringBoot/RestAPI so if anyone has any tips/suggestions on resources I could use to learn better, that would be appreciated!</p>\n<p>Thanks!</p>\n"},{"tags":["java","file","sorting"],"comments":[{"owner":{"account_id":63405,"reputation":68974,"user_id":187697,"accept_rate":100,"display_name":"keyboardP"},"score":4,"creation_date":1263831881,"post_id":2087469,"comment_id":2019451,"body_markdown":"Is there a reason you can&#39;t use a database system? DBs are made for scenarios like this because they are so efficient at sorting through large amounts of data.","body":"Is there a reason you can&#39;t use a database system? DBs are made for scenarios like this because they are so efficient at sorting through large amounts of data."},{"owner":{"account_id":672801,"reputation":511,"user_id":253333,"display_name":"Erika Gomez"},"score":0,"creation_date":1263831953,"post_id":2087469,"comment_id":2019463,"body_markdown":"Yes, the system has been up for 10 years and they are not willing to change it.","body":"Yes, the system has been up for 10 years and they are not willing to change it."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":11,"creation_date":1263832382,"post_id":2087469,"comment_id":2019523,"body_markdown":"@Erika: how is introducing a light-weight not-installed database different from introducing a custom-written program that does whatever you wants but is not as well-tested? Both are &quot;changing the system&quot;, technically.","body":"@Erika: how is introducing a light-weight not-installed database different from introducing a custom-written program that does whatever you wants but is not as well-tested? Both are &quot;changing the system&quot;, technically."},{"owner":{"account_id":672801,"reputation":511,"user_id":253333,"display_name":"Erika Gomez"},"score":8,"creation_date":1263832733,"post_id":2087469,"comment_id":2019556,"body_markdown":"Try feeding this to an executive who doesn&#39;t know sh!t about programming. If you can sell it to him, you are my mentor!","body":"Try feeding this to an executive who doesn&#39;t know sh!t about programming. If you can sell it to him, you are my mentor!"},{"owner":{"account_id":63405,"reputation":68974,"user_id":187697,"accept_rate":100,"display_name":"keyboardP"},"score":6,"creation_date":1263835947,"post_id":2087469,"comment_id":2019924,"body_markdown":"Email him the link to this thread :D","body":"Email him the link to this thread :D"},{"owner":{"account_id":36493,"reputation":11667,"user_id":104117,"accept_rate":89,"display_name":"Valentin Rocher"},"score":4,"creation_date":1263891073,"post_id":2087469,"comment_id":2025017,"body_markdown":"if it&#39;s an embedded DB, the executive does not have to know about it","body":"if it&#39;s an embedded DB, the executive does not have to know about it"}],"answers":[{"comments":[{"owner":{"account_id":672801,"reputation":511,"user_id":253333,"display_name":"Erika Gomez"},"score":0,"creation_date":1263831979,"post_id":2087488,"comment_id":2019472,"body_markdown":"Elaboration please? Thanks for the response.","body":"Elaboration please? Thanks for the response."}],"tags":[],"owner":{"account_id":75807,"reputation":81445,"user_id":217332,"accept_rate":100,"display_name":"danben"},"comment_count":1,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1423404813,"creation_date":1263831911,"answer_id":2087488,"question_id":2087469,"body_markdown":"I would spin up an EC2 cluster and run Hadoop&#39;s [MergeSort][1].\r\n\r\n**Edit**: not sure how much detail you would like, or on what.  EC2 is Amazon&#39;s Elastic Compute Cloud - it lets you rent virtual servers by the hour at low cost.  Here is their [website][2].\r\n\r\nHadoop is an open-source MapReduce framework designed for parallel processing of large data sets.  A job is a good candidate for MapReduce when it can be split into subsets that can be processed individually and then merged together, usually by sorting on keys (ie the divide-and-conquer strategy).  Here is its [website][3].\r\n\r\nAs mentioned by the other posters, external sorting is also a good strategy.  I think the way I would decide between the two depends on the size of the data and speed requirements.  A single machine is likely going to be limited to processing a single file at a time (since you will be using up available memory).  So look into something like EC2 only if you need to process files faster than that.\r\n\r\n\r\n  [1]: https://hadoop.apache.org/docs/r1.2.1/api/org/apache/hadoop/util/MergeSort.html\r\n  [2]: http://aws.amazon.com/ec2/\r\n  [3]: http://hadoop.apache.org/","title":"Sort a file with huge volume of data given memory constraint","body":"<p>I would spin up an EC2 cluster and run Hadoop's <a href=\"https://hadoop.apache.org/docs/r1.2.1/api/org/apache/hadoop/util/MergeSort.html\" rel=\"nofollow noreferrer\">MergeSort</a>.</p>\n\n<p><strong>Edit</strong>: not sure how much detail you would like, or on what.  EC2 is Amazon's Elastic Compute Cloud - it lets you rent virtual servers by the hour at low cost.  Here is their <a href=\"http://aws.amazon.com/ec2/\" rel=\"nofollow noreferrer\">website</a>.</p>\n\n<p>Hadoop is an open-source MapReduce framework designed for parallel processing of large data sets.  A job is a good candidate for MapReduce when it can be split into subsets that can be processed individually and then merged together, usually by sorting on keys (ie the divide-and-conquer strategy).  Here is its <a href=\"http://hadoop.apache.org/\" rel=\"nofollow noreferrer\">website</a>.</p>\n\n<p>As mentioned by the other posters, external sorting is also a good strategy.  I think the way I would decide between the two depends on the size of the data and speed requirements.  A single machine is likely going to be limited to processing a single file at a time (since you will be using up available memory).  So look into something like EC2 only if you need to process files faster than that.</p>\n"},{"comments":[{"owner":{"account_id":672801,"reputation":511,"user_id":253333,"display_name":"Erika Gomez"},"score":4,"creation_date":1263833101,"post_id":2087506,"comment_id":2019601,"body_markdown":"From my research, what I understood is that if you have 1000 records in a file and you read 100 at a time, sort that 100 and put the sorted version in a temp file which will create 10 temp sorted files. Then read two files sequentially and create another sorted (larger now) file and delete the other two which just have been read. Continue until you have one file. SERIOUSLY? Now, say you have 10 million records in a file and you read 5000 at a time, how many temp you created and how much time it&#39;s gonna cost you to get the final version?","body":"From my research, what I understood is that if you have 1000 records in a file and you read 100 at a time, sort that 100 and put the sorted version in a temp file which will create 10 temp sorted files. Then read two files sequentially and create another sorted (larger now) file and delete the other two which just have been read. Continue until you have one file. SERIOUSLY? Now, say you have 10 million records in a file and you read 5000 at a time, how many temp you created and how much time it&#39;s gonna cost you to get the final version?"},{"owner":{"account_id":90757,"reputation":4591,"user_id":249667,"accept_rate":88,"display_name":"phisch"},"score":0,"creation_date":1263833702,"post_id":2087506,"comment_id":2019668,"body_markdown":"An external sort is always slower compared to an in-memory sorty, but you are no longer limited by your ram. \nif speed is important to you and you have several machines at hand, take a look at hadoop (mentioned in other replies). It does an external sort where all individual sort operations can happen on many machines in parallel.","body":"An external sort is always slower compared to an in-memory sorty, but you are no longer limited by your ram.  if speed is important to you and you have several machines at hand, take a look at hadoop (mentioned in other replies). It does an external sort where all individual sort operations can happen on many machines in parallel."},{"owner":{"account_id":16106,"reputation":20920,"user_id":34771,"display_name":"Vatine"},"score":0,"creation_date":1263834841,"post_id":2087506,"comment_id":2019797,"body_markdown":"Erika: When you merge the (sorted, smaller) files, you can have more than two open, it&#39;s just slightly more straightforward describing the algorithm using just two temp files.\n\nBut, if you need a file taht&#39;s larger than the available memory sorted, you&#39;ll have to (eventually) do it that way anyway and the merging operation is (relatively) fast, as all it needs to do is keep N file pointers open and find the lowest of N &quot;next record&quot;s to know what to emit next.\n\nI guess the critical piece of tuning is choosing how many records to keep in each temporary file.","body":"Erika: When you merge the (sorted, smaller) files, you can have more than two open, it&#39;s just slightly more straightforward describing the algorithm using just two temp files.  But, if you need a file taht&#39;s larger than the available memory sorted, you&#39;ll have to (eventually) do it that way anyway and the merging operation is (relatively) fast, as all it needs to do is keep N file pointers open and find the lowest of N &quot;next record&quot;s to know what to emit next.  I guess the critical piece of tuning is choosing how many records to keep in each temporary file."}],"tags":[],"owner":{"account_id":90757,"reputation":4591,"user_id":249667,"accept_rate":88,"display_name":"phisch"},"comment_count":3,"down_vote_count":0,"up_vote_count":57,"is_accepted":true,"score":57,"last_activity_date":1470392380,"creation_date":1263832036,"answer_id":2087506,"question_id":2087469,"body_markdown":"It looks like what you are looking for is \r\n[external sorting][1].\r\n\r\nBasically, you sort small chunks of data first, write it back to the disk and then iterate over those to sort all.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/External_sorting","title":"Sort a file with huge volume of data given memory constraint","body":"<p>It looks like what you are looking for is \n<a href=\"http://en.wikipedia.org/wiki/External_sorting\" rel=\"noreferrer\">external sorting</a>.</p>\n\n<p>Basically, you sort small chunks of data first, write it back to the disk and then iterate over those to sort all.</p>\n"},{"comments":[{"owner":{"account_id":672801,"reputation":511,"user_id":253333,"display_name":"Erika Gomez"},"score":0,"creation_date":1263833006,"post_id":2087514,"comment_id":2019595,"body_markdown":"From my research, what I understood is that if you have 1000 records in a file and you read 100 at a time, sort that 100 and put the sorted version in a temp file which will create 10 temp sorted files. Then read two files sequentially and create another sorted (larger now) file and delete the other two which just have been read. Continue until you have one file. SERIOUSLY? Now, say you have 10 million records in a file and you read 5000 at a time, how many temp you created and how much time it&#39;s gonna cost you to get the final version?","body":"From my research, what I understood is that if you have 1000 records in a file and you read 100 at a time, sort that 100 and put the sorted version in a temp file which will create 10 temp sorted files. Then read two files sequentially and create another sorted (larger now) file and delete the other two which just have been read. Continue until you have one file. SERIOUSLY? Now, say you have 10 million records in a file and you read 5000 at a time, how many temp you created and how much time it&#39;s gonna cost you to get the final version?"},{"owner":{"account_id":85022,"reputation":13917,"user_id":237321,"accept_rate":75,"display_name":"x4u"},"score":0,"creation_date":1263834704,"post_id":2087514,"comment_id":2019778,"body_markdown":"You do the merging by taking the two smallest temporary files and merge them to one larger temporary file. This causes log2(n) times more file I/O operations than sorting everything in memory (n is the number of temporary files you started with). So for 8 parts at the beginning this will be 300% I/O overhead, for 128 parts it will be 700%.","body":"You do the merging by taking the two smallest temporary files and merge them to one larger temporary file. This causes log2(n) times more file I/O operations than sorting everything in memory (n is the number of temporary files you started with). So for 8 parts at the beginning this will be 300% I/O overhead, for 128 parts it will be 700%."}],"tags":[],"owner":{"account_id":85022,"reputation":13917,"user_id":237321,"accept_rate":75,"display_name":"x4u"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1263835449,"creation_date":1263832123,"answer_id":2087514,"question_id":2087469,"body_markdown":"You can read the files in smaller parts, sort these and write them to temporrary files. Then you read two of them sequentially again and merge them to a bigger temporary file and so on. If there is only one left you have your file sorted. Basically that&#39;s the Megresort algorithm performed on external files. It scales quite well with aribitrary large files but causes some extra file I/O.\r\n\r\nEdit: If you have some knowledge about the likely variance of the lines in your files you can employ a more efficient algorithm (distribution sort). Simplified you would read the original file once and write each line to a temporary file that takes only lines with the same first char (or a certain range of first chars). Then you iterate over all the (now small) temporary files in ascending order, sort them in memory and append them directly to the output file. If a temporary file turns out to be too big for sorting in memory, you can reapeat the same process for this based on the 2nd char in the lines and so on. So if your first partitioning was good enough to produce small enough files, you will have only 100% I/O overhead regardless how large the file is, but in the worst case it can become much more than with the performance wise stable merge sort.","title":"Sort a file with huge volume of data given memory constraint","body":"<p>You can read the files in smaller parts, sort these and write them to temporrary files. Then you read two of them sequentially again and merge them to a bigger temporary file and so on. If there is only one left you have your file sorted. Basically that's the Megresort algorithm performed on external files. It scales quite well with aribitrary large files but causes some extra file I/O.</p>\n\n<p>Edit: If you have some knowledge about the likely variance of the lines in your files you can employ a more efficient algorithm (distribution sort). Simplified you would read the original file once and write each line to a temporary file that takes only lines with the same first char (or a certain range of first chars). Then you iterate over all the (now small) temporary files in ascending order, sort them in memory and append them directly to the output file. If a temporary file turns out to be too big for sorting in memory, you can reapeat the same process for this based on the 2nd char in the lines and so on. So if your first partitioning was good enough to produce small enough files, you will have only 100% I/O overhead regardless how large the file is, but in the worst case it can become much more than with the performance wise stable merge sort.</p>\n"},{"comments":[{"owner":{"account_id":672801,"reputation":511,"user_id":253333,"display_name":"Erika Gomez"},"score":0,"creation_date":1263833565,"post_id":2087605,"comment_id":2019656,"body_markdown":"I write programs which get deployed in the production server. That server is handled by some other team in some other countries. I don&#39;t have the direct access to the server!","body":"I write programs which get deployed in the production server. That server is handled by some other team in some other countries. I don&#39;t have the direct access to the server!"},{"owner":{"account_id":71512,"reputation":528,"user_id":206854,"accept_rate":100,"display_name":"PaulP1975"},"score":0,"creation_date":1263834671,"post_id":2087605,"comment_id":2019773,"body_markdown":"You don&#39;t need access to the server... try using the embedded option.  I used am embedded hsqldb to map database IDs when migrating data from 1 db to another and I couldn&#39;t maintain my IDs from the original.  It worked really well... the performance was surprisingly good.","body":"You don&#39;t need access to the server... try using the embedded option.  I used am embedded hsqldb to map database IDs when migrating data from 1 db to another and I couldn&#39;t maintain my IDs from the original.  It worked really well... the performance was surprisingly good."},{"owner":{"account_id":12007,"reputation":17671,"user_id":23424,"accept_rate":92,"display_name":"VoidPointer"},"score":0,"creation_date":1264972393,"post_id":2087605,"comment_id":2119413,"body_markdown":"but if you use the embedded database only in-memory, the data will still need to fit into the available memory. I&#39;m sure hsqldb can work with a temporary storage file so that would still work. Just wanted to point out that running purely in memory cannot be an option.","body":"but if you use the embedded database only in-memory, the data will still need to fit into the available memory. I&#39;m sure hsqldb can work with a temporary storage file so that would still work. Just wanted to point out that running purely in memory cannot be an option."}],"tags":[],"owner":{"account_id":71512,"reputation":528,"user_id":206854,"accept_rate":100,"display_name":"PaulP1975"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1263832929,"creation_date":1263832929,"answer_id":2087605,"question_id":2087469,"body_markdown":"I know you mentioned not using a database no matter how light... so, maybe this is not an option.  But, what about hsqldb in memory... submit it, sort it by query, purge it.  Just a thought.","title":"Sort a file with huge volume of data given memory constraint","body":"<p>I know you mentioned not using a database no matter how light... so, maybe this is not an option.  But, what about hsqldb in memory... submit it, sort it by query, purge it.  Just a thought.</p>\n"},{"comments":[{"owner":{"account_id":12007,"reputation":17671,"user_id":23424,"accept_rate":92,"display_name":"VoidPointer"},"score":1,"creation_date":1263833953,"post_id":2087653,"comment_id":2019696,"body_markdown":"Any solution you find that does not put strain on your VM&#39;s heap space  has to be based on some notion of intermediate file storage. So basically you start to implement your own database. Thus you might just use an existing one that is known to work.","body":"Any solution you find that does not put strain on your VM&#39;s heap space  has to be based on some notion of intermediate file storage. So basically you start to implement your own database. Thus you might just use an existing one that is known to work."}],"tags":[],"owner":{"account_id":48774,"reputation":3662,"user_id":145019,"accept_rate":83,"display_name":"FRotthowe"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1263833324,"creation_date":1263833324,"answer_id":2087653,"question_id":2087469,"body_markdown":"If your restriction is only to not use an *external* database system, you could try an embedded database (e.g. [Apache Derby][1]). That way, you get all the advantages of a database without any external infrastructure dependencies.\r\n\r\n\r\n  [1]: http://db.apache.org/derby/","title":"Sort a file with huge volume of data given memory constraint","body":"<p>If your restriction is only to not use an <em>external</em> database system, you could try an embedded database (e.g. <a href=\"http://db.apache.org/derby/\" rel=\"nofollow noreferrer\">Apache Derby</a>). That way, you get all the advantages of a database without any external infrastructure dependencies.</p>\n"},{"comments":[{"owner":{"account_id":49175,"reputation":23807,"user_id":146347,"accept_rate":100,"display_name":"KLE"},"score":0,"creation_date":1263890053,"post_id":2087671,"comment_id":2024929,"body_markdown":"@Erika Well, it is an example, so that we get the idea. There is a choice to be made between the temp file size, and the number of them.","body":"@Erika Well, it is an example, so that we get the idea. There is a choice to be made between the temp file size, and the number of them."}],"tags":[],"owner":{"account_id":49175,"reputation":23807,"user_id":146347,"accept_rate":100,"display_name":"KLE"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1263892881,"creation_date":1263833520,"answer_id":2087671,"question_id":2087469,"body_markdown":"As other mentionned, you can process in steps.  \r\nI would like to explain this with my own words (differs on point 3) :\r\n\r\n1. Read the file sequentially, process N records at a time in memory (N is arbitrary, depending on your memory constraint and the number T of temporary files that you want).\r\n\r\n2. Sort the N records in memory, write them to a temp file. Loop on T until you are done.\r\n\r\n3. **Open all the T temp files at the same time, but read only one record per file.** (Of course, with buffers). For each of these T records, find the smaller, write it to the final file, and advance only in that file.\r\n\r\n--------------------\r\n\r\nAdvantages:\r\n\r\n* The **memory** consumption is as low as you want.\r\n* You only do the **double of disk accesses** comparing to a everything-in-memory policy. Not bad! :-)\r\n\r\n------------------\r\n\r\nExemple with numbers:\r\n\r\n1. Original file with 1 million records.\r\n2. Choose to have 100 temp files, so read and sort 10 000 records at a time, and drop these in their own temp file.\r\n3. Open the 100 temp file at a time, read the first record in memory.\r\n4. Compare the first records, write the smaller and advance this temp file.\r\n5. Loop on step 5, one million times.\r\n\r\n----------------------\r\n\r\n**EDITED**\r\n\r\nYou mentionned a multi-threaded application, so I wonder ...\r\n\r\nAs we seen from these discussions on this need, using less memory gives less performance, with a dramatic factor in this case. So I could also suggest to **use only one thread** to process only one sort at a time, not as a multi-threaded application.\r\n\r\nIf you process ten threads, each with a tenth of the memory available, your performance will be miserable, much much less than a tenth of the initial time. If you use only one thread, and queue the 9 other demands and process them in turn, you global performance will be much better, you will finish the ten tasks much faster.\r\n\r\n--------------------\r\n\r\nAfter reading this response :\r\nhttps://stackoverflow.com/questions/2087469/sort-a-file-with-huge-volume-of-data-given-memory-constraint/2087514#2087514\r\nI suggest you consider this distribution sort. It could be huge gain in your context.\r\n\r\nThe improvement over my proposal is that you don&#39;t need to open all the temp files at once, you only open one of them. It saves your day! :-)","title":"Sort a file with huge volume of data given memory constraint","body":"<p>As other mentionned, you can process in steps.<br>\nI would like to explain this with my own words (differs on point 3) :</p>\n\n<ol>\n<li><p>Read the file sequentially, process N records at a time in memory (N is arbitrary, depending on your memory constraint and the number T of temporary files that you want).</p></li>\n<li><p>Sort the N records in memory, write them to a temp file. Loop on T until you are done.</p></li>\n<li><p><strong>Open all the T temp files at the same time, but read only one record per file.</strong> (Of course, with buffers). For each of these T records, find the smaller, write it to the final file, and advance only in that file.</p></li>\n</ol>\n\n<hr>\n\n<p>Advantages:</p>\n\n<ul>\n<li>The <strong>memory</strong> consumption is as low as you want.</li>\n<li>You only do the <strong>double of disk accesses</strong> comparing to a everything-in-memory policy. Not bad! :-)</li>\n</ul>\n\n<hr>\n\n<p>Exemple with numbers:</p>\n\n<ol>\n<li>Original file with 1 million records.</li>\n<li>Choose to have 100 temp files, so read and sort 10 000 records at a time, and drop these in their own temp file.</li>\n<li>Open the 100 temp file at a time, read the first record in memory.</li>\n<li>Compare the first records, write the smaller and advance this temp file.</li>\n<li>Loop on step 5, one million times.</li>\n</ol>\n\n<hr>\n\n<p><strong>EDITED</strong></p>\n\n<p>You mentionned a multi-threaded application, so I wonder ...</p>\n\n<p>As we seen from these discussions on this need, using less memory gives less performance, with a dramatic factor in this case. So I could also suggest to <strong>use only one thread</strong> to process only one sort at a time, not as a multi-threaded application.</p>\n\n<p>If you process ten threads, each with a tenth of the memory available, your performance will be miserable, much much less than a tenth of the initial time. If you use only one thread, and queue the 9 other demands and process them in turn, you global performance will be much better, you will finish the ten tasks much faster.</p>\n\n<hr>\n\n<p>After reading this response :\n<a href=\"https://stackoverflow.com/questions/2087469/sort-a-file-with-huge-volume-of-data-given-memory-constraint/2087514#2087514\">Sort a file with huge volume of data given memory constraint</a>\nI suggest you consider this distribution sort. It could be huge gain in your context.</p>\n\n<p>The improvement over my proposal is that you don't need to open all the temp files at once, you only open one of them. It saves your day! :-)</p>\n"},{"comments":[{"owner":{"account_id":32525,"reputation":11418,"user_id":90328,"accept_rate":72,"display_name":"Mark"},"score":0,"creation_date":1448065480,"post_id":2087814,"comment_id":55441739,"body_markdown":"Swapping lines in a file would require you to rewrite the entire file between the two lines you&#39;re swapping. That is, of course, unless you&#39;re sorting a file with fixed line lengths.","body":"Swapping lines in a file would require you to rewrite the entire file between the two lines you&#39;re swapping. That is, of course, unless you&#39;re sorting a file with fixed line lengths."}],"tags":[],"owner":{"account_id":76254,"reputation":659,"user_id":218447,"display_name":"user218447"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1442331863,"creation_date":1263834957,"answer_id":2087814,"question_id":2087469,"body_markdown":"If you can move forward/backward in a file (seek), and rewrite parts of the file, then you should use [bubble sort][1].\r\n\r\nYou will have to scan lines in the file, and only have to have 2 rows in memory at the moment, and then swap them if they are not in the right order. Repeat the process until there are no files to swap.\r\n\r\n[1]: http://en.wikipedia.org/wiki/Bubble_sort","title":"Sort a file with huge volume of data given memory constraint","body":"<p>If you can move forward/backward in a file (seek), and rewrite parts of the file, then you should use <a href=\"http://en.wikipedia.org/wiki/Bubble_sort\" rel=\"nofollow noreferrer\">bubble sort</a>.</p>\n\n<p>You will have to scan lines in the file, and only have to have 2 rows in memory at the moment, and then swap them if they are not in the right order. Repeat the process until there are no files to swap.</p>\n"},{"comments":[{"owner":{"account_id":4633185,"reputation":730,"user_id":3755079,"display_name":"Adel Ben Hamadi"},"score":1,"creation_date":1606230777,"post_id":2087828,"comment_id":114896910,"body_markdown":"I know this is an old answer but concatenating the 3 sorted files will not always lead to a a sorted version..Please readers do not consider this a valid anwser.","body":"I know this is an old answer but concatenating the 3 sorted files will not always lead to a a sorted version..Please readers do not consider this a valid anwser."}],"tags":[],"owner":{"account_id":12007,"reputation":17671,"user_id":23424,"accept_rate":92,"display_name":"VoidPointer"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1263835420,"creation_date":1263835042,"answer_id":2087828,"question_id":2087469,"body_markdown":"You could use the following divide-and-conquer strategy:\r\n\r\nCreate a function H() that can assign each record in the input file a number. For a record r2 that will be sorted behind a record r1 it must return a larger number for r2 than for r1. Use this function to partition all the records into separate files that will fit into memory so you can sort them. Once you have done that you can just concatenate the sorted files to get one large sorted file.\r\n\r\nSuppose you have this input file where each line represents a record\r\n  \r\n    Alan Smith\r\n    Jon Doe\r\n    Bill Murray\r\n    Johnny Cash\r\n\r\nLets just build H() so that it uses the first letter in the record so you might get up to 26 files but in this example you will just get 3:\r\n\r\n    &lt;file1&gt;\r\n    Alan Smith\r\n\r\n    &lt;file2&gt;\r\n    Bill Murray\r\n\r\n    &lt;file10&gt;\r\n    Jon Doe\r\n    Johnny Cash\r\n    \r\n\r\nNow you can sort each individual file. Which would swap &quot;Jon Doe&quot; and &quot;Johnny Cash&quot; in &amp;lt;file10&amp;gt;. Now, if you just concatenate the 3 files you&#39;ll have a sorted version of the input.\r\n\r\nNote that you divide first and only conquer (sort) later. However, you make sure to do the partitioning in a way that the resulting parts which you need to sort don&#39;t overlap which will make merging the result much simpler. \r\n\r\nThe method by which you implement the partitioning function H() depends very much on the nature of your input data. Once you have that part figured out the rest should be a breeze.\r\n","title":"Sort a file with huge volume of data given memory constraint","body":"<p>You could use the following divide-and-conquer strategy:</p>\n\n<p>Create a function H() that can assign each record in the input file a number. For a record r2 that will be sorted behind a record r1 it must return a larger number for r2 than for r1. Use this function to partition all the records into separate files that will fit into memory so you can sort them. Once you have done that you can just concatenate the sorted files to get one large sorted file.</p>\n\n<p>Suppose you have this input file where each line represents a record</p>\n\n<pre><code>Alan Smith\nJon Doe\nBill Murray\nJohnny Cash\n</code></pre>\n\n<p>Lets just build H() so that it uses the first letter in the record so you might get up to 26 files but in this example you will just get 3:</p>\n\n<pre><code>&lt;file1&gt;\nAlan Smith\n\n&lt;file2&gt;\nBill Murray\n\n&lt;file10&gt;\nJon Doe\nJohnny Cash\n</code></pre>\n\n<p>Now you can sort each individual file. Which would swap \"Jon Doe\" and \"Johnny Cash\" in &lt;file10&gt;. Now, if you just concatenate the 3 files you'll have a sorted version of the input.</p>\n\n<p>Note that you divide first and only conquer (sort) later. However, you make sure to do the partitioning in a way that the resulting parts which you need to sort don't overlap which will make merging the result much simpler. </p>\n\n<p>The method by which you implement the partitioning function H() depends very much on the nature of your input data. Once you have that part figured out the rest should be a breeze.</p>\n"},{"comments":[{"owner":{"account_id":32525,"reputation":11418,"user_id":90328,"accept_rate":72,"display_name":"Mark"},"score":3,"creation_date":1448065290,"post_id":2087931,"comment_id":55441689,"body_markdown":"Likely faster to insert first, then create the index.","body":"Likely faster to insert first, then create the index."}],"tags":[],"owner":{"account_id":585602,"reputation":221,"user_id":253395,"display_name":"Eduardo"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1434876556,"creation_date":1263835914,"answer_id":2087931,"question_id":2087469,"body_markdown":"In spite of your restriction, I would use embedded database [SQLITE3][1]. Like yourself, I work weekly with 10-15 millions of flat file lines and it is very, very fast to import and generate sorted data, and you only need a little free of charge executable (sqlite3.exe). For example: Once you download the `.exe` file, in a command prompt you can do this:\r\n\r\n    C:&gt; sqlite3.exe dbLines.db\r\n    sqlite&gt; create table tabLines(line varchar(5000));\r\n    sqlite&gt; create index idx1 on tabLines(line);\r\n    sqlite&gt; .separator &#39;\\r\\n&#39;\r\n    sqlite&gt; .import &#39;FileToImport&#39; TabLines\r\n\r\nthen:\r\n\r\n    sqlite&gt; select * from tabLines order by line;\r\n\r\n    or save to a file:\r\n    sqlite&gt; .output out.txt\r\n    sqlite&gt; select * from tabLines order by line;\r\n    sqlite&gt; .output stdout\r\n\r\n\r\n  [1]: http://sqlite.org/","title":"Sort a file with huge volume of data given memory constraint","body":"<p>In spite of your restriction, I would use embedded database <a href=\"http://sqlite.org/\" rel=\"noreferrer\">SQLITE3</a>. Like yourself, I work weekly with 10-15 millions of flat file lines and it is very, very fast to import and generate sorted data, and you only need a little free of charge executable (sqlite3.exe). For example: Once you download the <code>.exe</code> file, in a command prompt you can do this:</p>\n\n<pre><code>C:&gt; sqlite3.exe dbLines.db\nsqlite&gt; create table tabLines(line varchar(5000));\nsqlite&gt; create index idx1 on tabLines(line);\nsqlite&gt; .separator '\\r\\n'\nsqlite&gt; .import 'FileToImport' TabLines\n</code></pre>\n\n<p>then:</p>\n\n<pre><code>sqlite&gt; select * from tabLines order by line;\n\nor save to a file:\nsqlite&gt; .output out.txt\nsqlite&gt; select * from tabLines order by line;\nsqlite&gt; .output stdout\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2366038,"reputation":305,"user_id":2071703,"display_name":"user2071703"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360840159,"creation_date":1360840159,"answer_id":14873421,"question_id":2087469,"body_markdown":"You can use SQL Lite file db, load the data to the db and then let it sort and return the results for you.\r\nAdvantages: No need to worry about writing the best sorting algorithm.\r\nDisadvantage: You will need disk space, slower processing.\r\nhttps://sites.google.com/site/arjunwebworld/Home/programming/sorting-large-data-files\r\n","title":"Sort a file with huge volume of data given memory constraint","body":"<p>You can use SQL Lite file db, load the data to the db and then let it sort and return the results for you.\nAdvantages: No need to worry about writing the best sorting algorithm.\nDisadvantage: You will need disk space, slower processing.\n<a href=\"https://sites.google.com/site/arjunwebworld/Home/programming/sorting-large-data-files\" rel=\"nofollow\">https://sites.google.com/site/arjunwebworld/Home/programming/sorting-large-data-files</a></p>\n"},{"tags":[],"owner":{"account_id":3859261,"reputation":11,"user_id":3197393,"display_name":"MayurRB"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432009741,"creation_date":1431917313,"answer_id":30294391,"question_id":2087469,"body_markdown":"Here is a way to do it without heavy use of sorting in-side Java and without using DB.\r\nAssumptions : You have 1TB space and files contain or start with unique number, but are unsorted\r\n\r\nDivide the files N times.\r\n\r\nRead those N files one by one, and create one file for each line/number\r\n\r\nName that file with corresponding number.While naming keep a counter updated to store least count.\r\n\r\nNow you can already have the root folder of files marked for sorting by name or pause your program to give you the time to fire command on your OS to sort the files by names. You can do it programmatically too. \r\n\r\nNow you have a folder with files sorted with their name, using the counter start taking each file one by one, put  numbers  in your OUTPUT file, close it.\r\n\r\nWhen you are done you will have a large file with sorted numbers.\r\n\r\n","title":"Sort a file with huge volume of data given memory constraint","body":"<p>Here is a way to do it without heavy use of sorting in-side Java and without using DB.\nAssumptions : You have 1TB space and files contain or start with unique number, but are unsorted</p>\n\n<p>Divide the files N times.</p>\n\n<p>Read those N files one by one, and create one file for each line/number</p>\n\n<p>Name that file with corresponding number.While naming keep a counter updated to store least count.</p>\n\n<p>Now you can already have the root folder of files marked for sorting by name or pause your program to give you the time to fire command on your OS to sort the files by names. You can do it programmatically too. </p>\n\n<p>Now you have a folder with files sorted with their name, using the counter start taking each file one by one, put  numbers  in your OUTPUT file, close it.</p>\n\n<p>When you are done you will have a large file with sorted numbers.</p>\n"},{"comments":[{"owner":{"account_id":76636,"reputation":5757,"user_id":219229,"accept_rate":71,"display_name":"syockit"},"score":0,"creation_date":1616465336,"post_id":43662473,"comment_id":118005289,"body_markdown":"If I understand this algorithm correctly, it&#39;s some sort of a bubble sort of the sorted group. Suppose the datasize is `P*K` with K as the buffer size, then the complexity is roughly `P^2 K log K`, quadratic in P. If P is going to be big, you&#39;re better off with merge sort strategy shown in the other answers (like the one by KLE), even if you have to compromise some locality (how good is the disk cache anyway?).","body":"If I understand this algorithm correctly, it&#39;s some sort of a bubble sort of the sorted group. Suppose the datasize is <code>P*K</code> with K as the buffer size, then the complexity is roughly <code>P^2 K log K</code>, quadratic in P. If P is going to be big, you&#39;re better off with merge sort strategy shown in the other answers (like the one by KLE), even if you have to compromise some locality (how good is the disk cache anyway?)."}],"tags":[],"owner":{"account_id":10782077,"reputation":1,"user_id":7932299,"display_name":"user7932299"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493798540,"creation_date":1493308267,"answer_id":43662473,"question_id":2087469,"body_markdown":"You can do it with only two temp files - source and destination - and as little memory as you want.\r\nOn first step your source is the original file, on last step the destination is the result file.\r\n\r\nOn each iteration:\r\n\r\n * read from the source file into a sliding buffer a chunk of data half size of the buffer; \r\n * sort the whole buffer\r\n * write to the destination file the first half of the buffer. \r\n * shift the second half of the buffer to the beginning and repeat \r\n\r\nKeep a boolean flag that says whether you had to move some records in current iteration.\r\nIf the flag remains false, your file is sorted.\r\nIf it&#39;s raised, repeat the process using the destination file as a source.\r\n\r\nMax number of iterations: (file size)/(buffer size)*2\r\n ","title":"Sort a file with huge volume of data given memory constraint","body":"<p>You can do it with only two temp files - source and destination - and as little memory as you want.\nOn first step your source is the original file, on last step the destination is the result file.</p>\n\n<p>On each iteration:</p>\n\n<ul>\n<li>read from the source file into a sliding buffer a chunk of data half size of the buffer; </li>\n<li>sort the whole buffer</li>\n<li>write to the destination file the first half of the buffer. </li>\n<li>shift the second half of the buffer to the beginning and repeat </li>\n</ul>\n\n<p>Keep a boolean flag that says whether you had to move some records in current iteration.\nIf the flag remains false, your file is sorted.\nIf it's raised, repeat the process using the destination file as a source.</p>\n\n<p>Max number of iterations: (file size)/(buffer size)*2</p>\n"},{"tags":[],"owner":{"account_id":4601261,"reputation":23897,"user_id":6654942,"accept_rate":25,"display_name":"js2010"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612901318,"creation_date":1612845652,"answer_id":66113074,"question_id":2087469,"body_markdown":"You *could* download gnu sort for windows: http://gnuwin32.sourceforge.net/packages/coreutils.htm Even if that uses too much memory, it can merge smaller sorted files as well.  It automatically uses temp files.\r\n\r\nThere&#39;s also the sort that comes with windows within cmd.exe.  Both of these commands can specify the character column to sort by.\r\n","title":"Sort a file with huge volume of data given memory constraint","body":"<p>You <em>could</em> download gnu sort for windows: <a href=\"http://gnuwin32.sourceforge.net/packages/coreutils.htm\" rel=\"nofollow noreferrer\">http://gnuwin32.sourceforge.net/packages/coreutils.htm</a> Even if that uses too much memory, it can merge smaller sorted files as well.  It automatically uses temp files.</p>\n<p>There's also the sort that comes with windows within cmd.exe.  Both of these commands can specify the character column to sort by.</p>\n"},{"comments":[{"owner":{"account_id":3547959,"reputation":2574,"user_id":2963422,"display_name":"Procrastinator"},"score":0,"creation_date":1642749771,"post_id":70751570,"comment_id":125159508,"body_markdown":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - [From Review](/review/late-answers/30844079)","body":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/late-answers/30844079\">From Review</a>"}],"tags":[],"owner":{"account_id":23973519,"reputation":1,"user_id":17961887,"display_name":"lianzhouxiaowu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642490071,"creation_date":1642490071,"answer_id":70751570,"question_id":2087469,"body_markdown":"File sort software for big file  https://github.com/lianzhoutw/filesort/ .\r\nIt is based on file merge sort algorithm.","title":"Sort a file with huge volume of data given memory constraint","body":"<p>File sort software for big file  <a href=\"https://github.com/lianzhoutw/filesort/\" rel=\"nofollow noreferrer\">https://github.com/lianzhoutw/filesort/</a> .\nIt is based on file merge sort algorithm.</p>\n"},{"tags":[],"owner":{"account_id":4147437,"reputation":1,"user_id":3400753,"display_name":"by he"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681138447,"creation_date":1680711170,"answer_id":75941780,"question_id":2087469,"body_markdown":"Try using **bigsort**, it supports sorting very big file/stream both ascending and descending. It also supports other operations such as shuffle and uniq. \r\nYou can install using the command\r\n&gt; pip install bigsort\r\n\r\nand then sort with the following command\r\n&gt; cat unsorted.txt | bigsort &gt; sorted.txt\r\n\r\n","title":"Sort a file with huge volume of data given memory constraint","body":"<p>Try using <strong>bigsort</strong>, it supports sorting very big file/stream both ascending and descending. It also supports other operations such as shuffle and uniq.\nYou can install using the command</p>\n<blockquote>\n<p>pip install bigsort</p>\n</blockquote>\n<p>and then sort with the following command</p>\n<blockquote>\n<p>cat unsorted.txt | bigsort &gt; sorted.txt</p>\n</blockquote>\n"}],"owner":{"account_id":672801,"reputation":511,"user_id":253333,"display_name":"Erika Gomez"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87201,"favorite_count":0,"down_vote_count":1,"up_vote_count":51,"accepted_answer_id":2087506,"answer_count":15,"score":50,"last_activity_date":1681138447,"creation_date":1263831743,"question_id":2087469,"body_markdown":"Points: \r\n\r\n- We process thousands of flat files in a day, concurrently. \r\n- Memory constraint is a major issue. \r\n- We use thread for each file process.\r\n- We don&#39;t sort by columns. Each line (record) in the file is treated as one column.\r\n\r\nCan&#39;t Do:\r\n\r\n- We cannot use unix/linux&#39;s sort commands.\r\n- We cannot use any database system no matter how light they can be.\r\n\r\nNow, we cannot just load everything in a collection and use the sort mechanism. It will eat up all the memory and the program is gonna get a heap error.\r\n\r\nIn that situation, how would you sort the records/lines in a file?","title":"Sort a file with huge volume of data given memory constraint","body":"<p>Points: </p>\n\n<ul>\n<li>We process thousands of flat files in a day, concurrently. </li>\n<li>Memory constraint is a major issue. </li>\n<li>We use thread for each file process.</li>\n<li>We don't sort by columns. Each line (record) in the file is treated as one column.</li>\n</ul>\n\n<p>Can't Do:</p>\n\n<ul>\n<li>We cannot use unix/linux's sort commands.</li>\n<li>We cannot use any database system no matter how light they can be.</li>\n</ul>\n\n<p>Now, we cannot just load everything in a collection and use the sort mechanism. It will eat up all the memory and the program is gonna get a heap error.</p>\n\n<p>In that situation, how would you sort the records/lines in a file?</p>\n"},{"tags":["java","android","seekbar"],"owner":{"account_id":27589178,"reputation":1,"user_id":21413844,"display_name":"Felipe O."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681138258,"creation_date":1680903715,"question_id":75962143,"body_markdown":"When creating my custom `seekBar` I&#39;m having problems, because the thumb is exceeding the progress bar of the seekBar, I would like the thumb to reach the end of the seekbar margin without exceeding it, Problem:\r\n\r\n[![Problem][1]][1]\r\n\r\nI wanted the thumb not to go beyond the progress bar of the seekbar just touching its margin. E.g.:\r\n\r\n[![Example 1][2]][2]\r\n\r\n[![Example 2][3]][3]\r\n\r\nLinear code of seekbar:\r\n```java\r\nLinearLayout linearLayout = new LinearLayout(this);\r\nLinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(-1, dp(30));\r\nlinearLayout.setPadding(5, 5, 0, 5);       \r\nlayoutParams.setMargins(dp(3), dp(1), dp(2), dp(4));       \r\nlinearLayout.setOrientation(LinearLayout.VERTICAL);\r\nlinearLayout.setGravity(Gravity.CENTER);       linearLayout.setBackgroundColor(Color.parseColor(&quot;#000000&quot;));\r\nlinearLayout.getBackground().setAlpha(1);\r\nlinearLayout.setLayoutParams(layoutParams);\r\n```\r\n\r\nCode of seekbar:\r\n\r\n```java\r\n        seekBar.setProgressDrawable(seekbarProgressOff);\r\n        seekBar.setPadding(25, 10, 35, 10);\r\n        seekBar.setSplitTrack(false);\r\n        seekBar.setLayoutParams(new LinearLayout.LayoutParams(-1, dp(18)));\r\n        seekBar.setMax(max);\r\n        seekBar.setProgress(prog);\r\n\t\tseekBar.setElevation(0);\r\n        seekBar.setProgressDrawable(seekbarProgressOff);\r\n        seekBar.setPadding(25, 10, 35, 10);\r\n        seekBar.setSplitTrack(false);\r\n        seekBar.setLayoutParams(new LinearLayout.LayoutParams(-1, dp(18)));\r\n        seekBar.setMax(max);\r\n        seekBar.setProgress(prog);\r\n\t\tseekBar.setElevation(0);\r\n```\r\n        \r\nThanks for help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kbiD1.png\r\n  [2]: https://i.stack.imgur.com/edjR0.png\r\n  [3]: https://i.stack.imgur.com/8AFmp.png","title":"How to make the seekbar thumb not exceed the progress margin?","body":"<p>When creating my custom <code>seekBar</code> I'm having problems, because the thumb is exceeding the progress bar of the seekBar, I would like the thumb to reach the end of the seekbar margin without exceeding it, Problem:</p>\n<p><a href=\"https://i.stack.imgur.com/kbiD1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kbiD1.png\" alt=\"Problem\" /></a></p>\n<p>I wanted the thumb not to go beyond the progress bar of the seekbar just touching its margin. E.g.:</p>\n<p><a href=\"https://i.stack.imgur.com/edjR0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/edjR0.png\" alt=\"Example 1\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/8AFmp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8AFmp.png\" alt=\"Example 2\" /></a></p>\n<p>Linear code of seekbar:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LinearLayout linearLayout = new LinearLayout(this);\nLinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(-1, dp(30));\nlinearLayout.setPadding(5, 5, 0, 5);       \nlayoutParams.setMargins(dp(3), dp(1), dp(2), dp(4));       \nlinearLayout.setOrientation(LinearLayout.VERTICAL);\nlinearLayout.setGravity(Gravity.CENTER);       linearLayout.setBackgroundColor(Color.parseColor(&quot;#000000&quot;));\nlinearLayout.getBackground().setAlpha(1);\nlinearLayout.setLayoutParams(layoutParams);\n</code></pre>\n<p>Code of seekbar:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        seekBar.setProgressDrawable(seekbarProgressOff);\n        seekBar.setPadding(25, 10, 35, 10);\n        seekBar.setSplitTrack(false);\n        seekBar.setLayoutParams(new LinearLayout.LayoutParams(-1, dp(18)));\n        seekBar.setMax(max);\n        seekBar.setProgress(prog);\n        seekBar.setElevation(0);\n        seekBar.setProgressDrawable(seekbarProgressOff);\n        seekBar.setPadding(25, 10, 35, 10);\n        seekBar.setSplitTrack(false);\n        seekBar.setLayoutParams(new LinearLayout.LayoutParams(-1, dp(18)));\n        seekBar.setMax(max);\n        seekBar.setProgress(prog);\n        seekBar.setElevation(0);\n</code></pre>\n<p>Thanks for help.</p>\n"},{"tags":["java","eclipse","ide","intellij-idea"],"comments":[{"owner":{"account_id":137228,"reputation":5803,"user_id":341275,"accept_rate":100,"display_name":"tamasd"},"score":59,"creation_date":1310064387,"post_id":6615516,"comment_id":7809120,"body_markdown":"You can put the cursor inside the method/variable and press ctrl+q (on PC) or ctrl+j (on mac).","body":"You can put the cursor inside the method/variable and press ctrl+q (on PC) or ctrl+j (on mac)."},{"owner":{"account_id":229776,"reputation":2576,"user_id":589302,"accept_rate":83,"display_name":"Andras Bal&#225;zs Lajtha"},"score":3,"creation_date":1349882722,"post_id":6615516,"comment_id":17345185,"body_markdown":"Should be nice to have that popup while typing the parameters...","body":"Should be nice to have that popup while typing the parameters..."},{"owner":{"account_id":5073215,"reputation":940,"user_id":4071413,"display_name":"killjoy"},"score":1,"creation_date":1496432825,"post_id":6615516,"comment_id":75676597,"body_markdown":"I am still unable to see this after enabling as mentioned below for 2017.1 EAP. I even restarted and nada, I hovered for long.","body":"I am still unable to see this after enabling as mentioned below for 2017.1 EAP. I even restarted and nada, I hovered for long."},{"owner":{"account_id":3478875,"reputation":534,"user_id":2911452,"display_name":"Luc"},"score":0,"creation_date":1641820629,"post_id":6615516,"comment_id":124898863,"body_markdown":"In case none of the answers are working, make sure that you&#39;re not still in a debugging session by accident, which was the case for me.","body":"In case none of the answers are working, make sure that you&#39;re not still in a debugging session by accident, which was the case for me."}],"answers":[{"comments":[{"owner":{"account_id":73312,"reputation":5791,"user_id":211197,"display_name":"maksimov"},"score":1,"creation_date":1444679436,"post_id":6615678,"comment_id":53994338,"body_markdown":"Thanks, I&#39;d rather use the keyboard than mouse hovers.","body":"Thanks, I&#39;d rather use the keyboard than mouse hovers."}],"tags":[],"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"comment_count":1,"down_vote_count":0,"up_vote_count":149,"is_accepted":false,"score":149,"last_activity_date":1371050169,"creation_date":1310065183,"answer_id":6615678,"question_id":6615516,"body_markdown":"Up until IntelliJ version 11, no, not just by hovering over it. If the cursor is inside the method- or attribute name, then &lt;kbd&gt;CTRL&lt;/kbd&gt;+&lt;kbd&gt;Q&lt;/kbd&gt; will show the JavaDoc on *nix and Windows. On MacOSX, this is &lt;kbd&gt;CTRL&lt;/kbd&gt;+&lt;kbd&gt;J&lt;/kbd&gt;.\r\n\r\nQuote: _&quot;No, the only way to see the full javadoc is to use Quick Doc (Ctrl-Q).&quot;_ -- http://devnet.jetbrains.net/thread/121174\r\n\r\n## EDIT\r\n\r\nSince IntelliJ 12.1, this *is* possible. See @ADNow&#39;s answer.","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>Up until IntelliJ version 11, no, not just by hovering over it. If the cursor is inside the method- or attribute name, then <kbd>CTRL</kbd>+<kbd>Q</kbd> will show the JavaDoc on *nix and Windows. On MacOSX, this is <kbd>CTRL</kbd>+<kbd>J</kbd>.</p>\n\n<p>Quote: <em>\"No, the only way to see the full javadoc is to use Quick Doc (Ctrl-Q).\"</em> -- <a href=\"http://devnet.jetbrains.net/thread/121174\" rel=\"noreferrer\">http://devnet.jetbrains.net/thread/121174</a></p>\n\n<h2>EDIT</h2>\n\n<p>Since IntelliJ 12.1, this <em>is</em> possible. See @ADNow's answer.</p>\n"},{"tags":[],"owner":{"account_id":1730261,"reputation":413,"user_id":1584016,"display_name":"liberty"},"comment_count":0,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1382594872,"creation_date":1358923663,"answer_id":14473955,"question_id":6615516,"body_markdown":"After doing &lt;kbd&gt;CTRL&lt;/kbd&gt;+&lt;kbd&gt;Q&lt;/kbd&gt;, you can \r\n\r\n 1. Pin the tooltip (top right corner)\r\n 2. Check *Docked Mode* (under gear in top right after pinning)\r\n 3. Size as desired\r\n 3. Click icon for *Auto show documentation for selected item* \r\n\r\nThen when you move your cursor, the documentation will appear in this box.  It costs you a little screen real estate, but I find it&#39;s worth it.\r\n\r\nI&#39;d post a screenshot but SO won&#39;t let me post images.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/bKiZr.png","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>After doing <kbd>CTRL</kbd>+<kbd>Q</kbd>, you can </p>\n\n<ol>\n<li>Pin the tooltip (top right corner)</li>\n<li>Check <em>Docked Mode</em> (under gear in top right after pinning)</li>\n<li>Size as desired</li>\n<li>Click icon for <em>Auto show documentation for selected item</em> </li>\n</ol>\n\n<p>Then when you move your cursor, the documentation will appear in this box.  It costs you a little screen real estate, but I find it's worth it.</p>\n\n<p>I'd post a screenshot but SO won't let me post images.</p>\n"},{"comments":[{"owner":{"account_id":1630428,"reputation":2285,"user_id":1505098,"display_name":"Ed Orsi"},"score":3,"creation_date":1380728354,"post_id":16357065,"comment_id":28309316,"body_markdown":"This worked perfectly for me in 12.1.5 Ultimate, but is there a way to change this exposed in the settings menu?","body":"This worked perfectly for me in 12.1.5 Ultimate, but is there a way to change this exposed in the settings menu?"},{"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"score":0,"creation_date":1385453357,"post_id":16357065,"comment_id":30137587,"body_markdown":"This does not do anything in my 133.79 Beta on Linux.","body":"This does not do anything in my 133.79 Beta on Linux."},{"owner":{"account_id":85697,"reputation":392,"user_id":238768,"display_name":"kpsfoo"},"score":0,"creation_date":1397572793,"post_id":16357065,"comment_id":35285581,"body_markdown":"Any idea why I am not getting Syntax highlighting in the documentation popup? http://stackoverflow.com/q/23086511/238768","body":"Any idea why I am not getting Syntax highlighting in the documentation popup? <a href=\"http://stackoverflow.com/q/23086511/238768\">stackoverflow.com/q/23086511/238768</a>"}],"tags":[],"owner":{"account_id":72326,"reputation":8452,"user_id":208881,"accept_rate":89,"display_name":"Andrei Drynov"},"comment_count":3,"down_vote_count":1,"up_vote_count":101,"is_accepted":false,"score":100,"last_activity_date":1367577926,"creation_date":1367577926,"answer_id":16357065,"question_id":6615516,"body_markdown":"It is possible in 12.1.\r\n\r\nFind **idea.properties** in the BIN folder inside of wherever your IDE is installed, e.g. C:\\Program Files (x86)\\JetBrains\\IntelliJ\\bin\r\n\r\nAdd a new line to the end of that file:\r\n\r\n    auto.show.quick.doc=true\r\n\r\nStart IDEA and just hover your mouse over something:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Itwst.png","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>It is possible in 12.1.</p>\n\n<p>Find <strong>idea.properties</strong> in the BIN folder inside of wherever your IDE is installed, e.g. C:\\Program Files (x86)\\JetBrains\\IntelliJ\\bin</p>\n\n<p>Add a new line to the end of that file:</p>\n\n<pre><code>auto.show.quick.doc=true\n</code></pre>\n\n<p>Start IDEA and just hover your mouse over something:</p>\n\n<p><img src=\"https://i.stack.imgur.com/Itwst.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":484179,"reputation":1892,"user_id":899698,"accept_rate":78,"display_name":"meoww-"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1370133785,"creation_date":1370133785,"answer_id":16878699,"question_id":6615516,"body_markdown":"Adding on to what ADNow said. On the Macintosh: \r\n\r\n1. Right click on IntelliJ IDEA 12\r\n2. Click on the **Show Package Contents** menu option\r\n3. Open the **bin** folder\r\n4. Open **idea.properties**\r\n5. Add the line:\r\n\r\n     auto.show.quick.doc=true","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>Adding on to what ADNow said. On the Macintosh: </p>\n\n<ol>\n<li>Right click on IntelliJ IDEA 12</li>\n<li>Click on the <strong>Show Package Contents</strong> menu option</li>\n<li>Open the <strong>bin</strong> folder</li>\n<li>Open <strong>idea.properties</strong></li>\n<li><p>Add the line:</p>\n\n<p>auto.show.quick.doc=true</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1376093,"reputation":134,"user_id":1310066,"display_name":"Cjkjvfnby"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376031554,"creation_date":1376031554,"answer_id":18141568,"question_id":6615516,"body_markdown":"IDEA has &quot;**find action**&quot;:\r\n\r\nOpen &quot;Help&quot; menu, type &quot;doc&quot;, move cursor to &quot;**Quick Documentation**&quot; it will be highlighted.\r\n\r\nAlso &quot;find action&quot; can be called from hot key (you can find it in settings-&gt;hotkeys)\r\n\r\n\r\n  \r\n\r\n","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>IDEA has \"<strong>find action</strong>\":</p>\n\n<p>Open \"Help\" menu, type \"doc\", move cursor to \"<strong>Quick Documentation</strong>\" it will be highlighted.</p>\n\n<p>Also \"find action\" can be called from hot key (you can find it in settings->hotkeys)</p>\n"},{"tags":[],"owner":{"account_id":1029073,"reputation":3238,"user_id":1037754,"accept_rate":100,"display_name":"Michal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381844608,"creation_date":1381844608,"answer_id":19382821,"question_id":6615516,"body_markdown":"On my IntelliJ U on Mac I need to point with cursor on some method, variable etc. and press [cntrl] or [cmd] key. Then click on the link inside popup window which appeared to see JavaDocs ","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>On my IntelliJ U on Mac I need to point with cursor on some method, variable etc. and press [cntrl] or [cmd] key. Then click on the link inside popup window which appeared to see JavaDocs </p>\n"},{"comments":[{"owner":{"account_id":1051458,"reputation":3493,"user_id":1055295,"accept_rate":96,"display_name":"Andrei B&#226;rsan"},"score":8,"creation_date":1392824381,"post_id":20746942,"comment_id":33138347,"body_markdown":"This worked perfectly for me, and was exactly what I was looking for when I googled my issue. This seems to be the most up-to-date solution.","body":"This worked perfectly for me, and was exactly what I was looking for when I googled my issue. This seems to be the most up-to-date solution."},{"owner":{"account_id":21815,"reputation":19742,"user_id":53328,"accept_rate":78,"display_name":"Martin Wickman"},"score":26,"creation_date":1396261734,"post_id":20746942,"comment_id":34694062,"body_markdown":"File/Settings | IDE Settings / Editor. Check &quot;Show quick doc on mouse move&quot;","body":"File/Settings | IDE Settings / Editor. Check &quot;Show quick doc on mouse move&quot;"},{"owner":{"account_id":273068,"reputation":4940,"user_id":564449,"accept_rate":83,"display_name":"Cristiano Fontes"},"score":34,"creation_date":1401278598,"post_id":20746942,"comment_id":36819871,"body_markdown":"Thanks it works on 13.1 but Jesus, that is not intuitive at all.","body":"Thanks it works on 13.1 but Jesus, that is not intuitive at all."},{"owner":{"account_id":44027,"reputation":88500,"user_id":128967,"accept_rate":85,"display_name":"Naftuli Kay"},"score":33,"creation_date":1409337997,"post_id":20746942,"comment_id":39941814,"body_markdown":"Can anyone comment on why this isn&#39;t enabled _by default_? I thought that IntelliJ simply didn&#39;t have the feature. It should be opt-out, enabled by default.","body":"Can anyone comment on why this isn&#39;t enabled <i>by default</i>? I thought that IntelliJ simply didn&#39;t have the feature. It should be opt-out, enabled by default."},{"owner":{"account_id":3677093,"reputation":1137,"user_id":3062939,"accept_rate":79,"display_name":"einsteinsci"},"score":0,"creation_date":1419275214,"post_id":20746942,"comment_id":43640008,"body_markdown":"Anybody know where it is in IntelliJ 14? The Editor page only has links to its subpages, and the option doesn&#39;t seem to be in any of them.","body":"Anybody know where it is in IntelliJ 14? The Editor page only has links to its subpages, and the option doesn&#39;t seem to be in any of them."},{"owner":{"account_id":1152709,"reputation":9229,"user_id":1134080,"accept_rate":68,"display_name":"ADTC"},"score":15,"creation_date":1426915607,"post_id":20746942,"comment_id":46575910,"body_markdown":"The problem is, it doesn&#39;t STICK! As soon as I move the mouse away, it disappears. This is unlike Eclipse, where I can move into the doc pop-up and make it stick - very useful for reading longer docs and navigating. How can I get IntelliJ doc pop-up to stick?! Starting to hate the fact that Android Studio is now official...","body":"The problem is, it doesn&#39;t STICK! As soon as I move the mouse away, it disappears. This is unlike Eclipse, where I can move into the doc pop-up and make it stick - very useful for reading longer docs and navigating. How can I get IntelliJ doc pop-up to stick?! Starting to hate the fact that Android Studio is now official..."},{"owner":{"account_id":941299,"reputation":27984,"user_id":969325,"accept_rate":100,"display_name":"Warpzit"},"score":1,"creation_date":1432551637,"post_id":20746942,"comment_id":48956842,"body_markdown":"It can&#39;t compare to eclipses, simply garbage compared to. Also if you edit String resources and copy text from somewhere else it will pop up and take focus so you have to click inside studio again, (and again and again). Can be extremly anoing, and drive me to disable it T_T","body":"It can&#39;t compare to eclipses, simply garbage compared to. Also if you edit String resources and copy text from somewhere else it will pop up and take focus so you have to click inside studio again, (and again and again). Can be extremly anoing, and drive me to disable it T_T"},{"owner":{"account_id":51636,"reputation":4812,"user_id":154325,"accept_rate":83,"display_name":"Niks"},"score":3,"creation_date":1441261562,"post_id":20746942,"comment_id":52608555,"body_markdown":"That&#39;s one ugly popup X-(","body":"That&#39;s one ugly popup X-("},{"owner":{"account_id":2301874,"reputation":4015,"user_id":2022021,"accept_rate":82,"display_name":"neric"},"score":7,"creation_date":1443107658,"post_id":20746942,"comment_id":53368997,"body_markdown":"To fix the disappearing immediately on mouse move problem, hold down Ctrl while on your way to the popup. That makes it stick around for me on Linux IntelliJ 14","body":"To fix the disappearing immediately on mouse move problem, hold down Ctrl while on your way to the popup. That makes it stick around for me on Linux IntelliJ 14"},{"owner":{"account_id":1912339,"reputation":380,"user_id":1725803,"display_name":"Jacek Obarymski"},"score":1,"creation_date":1459250089,"post_id":20746942,"comment_id":60191252,"body_markdown":"It should be enabled by default.","body":"It should be enabled by default."},{"owner":{"account_id":2251762,"reputation":278561,"user_id":1983854,"accept_rate":96,"display_name":"fedorqui"},"score":0,"creation_date":1460812574,"post_id":20746942,"comment_id":60921274,"body_markdown":"@ADTC I discovered how to stick the pop up. Find my answer (with images) in [How to keep popup on one screen in Intellij IDEA?](http://stackoverflow.com/a/36448311/1983854). The key here is using the pin!","body":"@ADTC I discovered how to stick the pop up. Find my answer (with images) in <a href=\"http://stackoverflow.com/a/36448311/1983854\">How to keep popup on one screen in Intellij IDEA?</a>. The key here is using the pin!"},{"owner":{"account_id":117598,"reputation":553,"user_id":307901,"display_name":"Anders Eriksson"},"score":0,"creation_date":1472711576,"post_id":20746942,"comment_id":65863598,"body_markdown":"As we are talking about &quot;hovering&quot; it should be called &quot;hover&quot; or so, so that it become searchable in preferences. I spent quite sometime offline searching for this setting. Had to go online and google up this...","body":"As we are talking about &quot;hovering&quot; it should be called &quot;hover&quot; or so, so that it become searchable in preferences. I spent quite sometime offline searching for this setting. Had to go online and google up this..."},{"owner":{"account_id":430960,"reputation":16088,"user_id":814702,"accept_rate":100,"display_name":"informatik01"},"score":6,"creation_date":1485271276,"post_id":20746942,"comment_id":70850375,"body_markdown":"**UPDATE** For IntelliJ IDEA **2016.3.3** this setting is located in _Settings &gt; Editor &gt; General_, scroll down to &quot;_Other_&quot; section and check &quot;**Show quick documentation on mouse move**&quot;.","body":"<b>UPDATE</b> For IntelliJ IDEA <b>2016.3.3</b> this setting is located in <i>Settings &gt; Editor &gt; General</i>, scroll down to &quot;<i>Other</i>&quot; section and check &quot;<b>Show quick documentation on mouse move</b>&quot;."},{"owner":{"account_id":2193335,"reputation":548,"user_id":2225183,"accept_rate":60,"display_name":"Dan Whitehouse"},"score":0,"creation_date":1493121933,"post_id":20746942,"comment_id":74269126,"body_markdown":"The above screenshot also applies for version 2017.1.x","body":"The above screenshot also applies for version 2017.1.x"},{"owner":{"account_id":159637,"reputation":2203,"user_id":379173,"display_name":"Enrico Giurin"},"score":2,"creation_date":1493980810,"post_id":20746942,"comment_id":74644852,"body_markdown":"[Ctrl]+[Shift]+[A] and type &quot;Show quick doc on mouse move&quot;. You&#39;ll be redirect to the settings panel, mark the corresponding option","body":"[Ctrl]+[Shift]+[A] and type &quot;Show quick doc on mouse move&quot;. You&#39;ll be redirect to the settings panel, mark the corresponding option"},{"owner":{"account_id":9744856,"reputation":985,"user_id":7225171,"accept_rate":67,"display_name":"Serob_b"},"score":0,"creation_date":1495819280,"post_id":20746942,"comment_id":75426551,"body_markdown":"@MartinWickman  What is the difference between this one and &quot;Show quick doc on mouse move&quot;?","body":"@MartinWickman  What is the difference between this one and &quot;Show quick doc on mouse move&quot;?"},{"owner":{"account_id":1026132,"reputation":4488,"user_id":1035411,"accept_rate":94,"display_name":"Gruber"},"score":2,"creation_date":1497950475,"post_id":20746942,"comment_id":76282909,"body_markdown":"This very basic feature doesn&#39;t work well at all in IntelliJ. It overlays exceptions and other messages, and if you hit Esc it removes everything... :-(","body":"This very basic feature doesn&#39;t work well at all in IntelliJ. It overlays exceptions and other messages, and if you hit Esc it removes everything... :-("},{"owner":{"account_id":1766283,"reputation":1821,"user_id":1612093,"accept_rate":89,"display_name":"Mike"},"score":0,"creation_date":1503502175,"post_id":20746942,"comment_id":78645591,"body_markdown":"I found that enabling this option caused my IntelliJ to get INCREDIBLY slow. Be warned, if you enable this option and you later notice a big slowdown.","body":"I found that enabling this option caused my IntelliJ to get INCREDIBLY slow. Be warned, if you enable this option and you later notice a big slowdown."},{"owner":{"account_id":2714938,"reputation":6041,"user_id":2342529,"accept_rate":98,"display_name":"Alexandru Severin"},"score":1,"creation_date":1520510285,"post_id":20746942,"comment_id":85349918,"body_markdown":"Is there any way to disable the pop-up when hovering over an error or warning? The documentation goes on top of error/warning message.","body":"Is there any way to disable the pop-up when hovering over an error or warning? The documentation goes on top of error/warning message."},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":1,"creation_date":1531325561,"post_id":20746942,"comment_id":89557834,"body_markdown":"The problem with enabling it by default is that it can mess up your typing.  When it popped up in eclipse it didn&#39;t seem so intrusive, with intellij it actually does something strange  Haven&#39;t spent a lot of time playing with it, I just know I don&#39;t like it enough that I re-disabled it. :)","body":"The problem with enabling it by default is that it can mess up your typing.  When it popped up in eclipse it didn&#39;t seem so intrusive, with intellij it actually does something strange  Haven&#39;t spent a lot of time playing with it, I just know I don&#39;t like it enough that I re-disabled it. :)"},{"owner":{"account_id":430994,"reputation":3083,"user_id":814752,"accept_rate":79,"display_name":"Danny Bullis"},"score":5,"creation_date":1537893424,"post_id":20746942,"comment_id":91946469,"body_markdown":"**IntelliJ 2018.2.4 (Community Edition):** `Preferences &gt; Editor &gt; General: Other (subsection) &gt; Show quick documentation on mouse move`","body":"<b>IntelliJ 2018.2.4 (Community Edition):</b> <code>Preferences &gt; Editor &gt; General: Other (subsection) &gt; Show quick documentation on mouse move</code>"},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":0,"creation_date":1550532900,"post_id":20746942,"comment_id":96295264,"body_markdown":"Danny Bullis comment ^ works on **2018.3.4CE** as well","body":"Danny Bullis comment ^ works on <b>2018.3.4CE</b> as well"},{"owner":{"account_id":1003933,"reputation":3792,"user_id":1018154,"display_name":"CodeToLife"},"score":0,"creation_date":1580378901,"post_id":20746942,"comment_id":106080908,"body_markdown":"in case where &quot;show quick docs on mouse move&quot; Editor -&gt; General and on right hand you have to :  **SCROLL THE PANE DOWN**!","body":"in case where &quot;show quick docs on mouse move&quot; Editor -&gt; General and on right hand you have to :  <b>SCROLL THE PANE DOWN</b>!"}],"tags":[],"owner":{"account_id":421155,"reputation":11582,"user_id":799227,"display_name":"vikasing"},"comment_count":23,"down_vote_count":1,"up_vote_count":942,"is_accepted":true,"score":941,"last_activity_date":1608283739,"creation_date":1387814308,"answer_id":20746942,"question_id":6615516,"body_markdown":"For **IntelliJ 13**, there is a checkbox in Editor&#39;s page in IDE Settings\r\n\r\n![enter image description here][1]\r\n\r\n**EDIT:** For **IntelliJ 14**, the option has been moved to Editor &gt; General page. It&#39;s the last option in the &quot;Other&quot; group. (For Mac the option is under the menu &quot;IntelliJ Idea&quot; &gt; &quot;Preferences&quot;).\r\n\r\n**EDIT:** For **IntelliJ 16**, it&#39;s the second-to-last option in Editor &gt; General &gt; Other. \r\n\r\n**EDIT:** For **IntelliJ Ultimate 2016.1**, it&#39;s been moved to Editor &gt; General &gt; Code Completion. \r\n[![enter image description here][2]][2]\r\n\r\n**EDIT:** For **IntelliJ Ultimate 2017.2, aka IntelliJ IDEA 2017.2.3**, there are actually two options:\r\n\r\n 1. In Editor &gt; General &gt; Other (section) &gt; **Show quick documentation on mouse move - delay 500 ms**\r\n - Select this check box to show quick documentation for the symbol at caret. The quick documentation pop-up window appears after the specified delay.\r\n 1. In Editor &gt; General &gt; Code Completion (sub-item) &gt; **Autopopup documention in 1000 ms, for explicitly invoked completion**\r\n - Select this check box to have IntelliJ IDEA automatically show a pop-up window with the documentation for the class, method, or field currently highlighted in the lookup list. If this check box is not selected, use &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Q&lt;/kbd&gt;&#160;to show quick documentation for the element at caret.\r\n - Quick documentation window will automatically pop up with the specified delay in those cases only, when code completion has been invoked explicitly. For the automatic code completion list, documentation window will only show up on pressing &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Q&lt;/kbd&gt;.\r\n\r\n**EDIT**: For **IntelliJ Ultimate 2020.3**, the first option is now located under Editor &gt; Code Editing &gt; Quick Documentation &gt; **Show quick documentation on mouse move**\r\n\r\n  [1]: http://i.stack.imgur.com/K0Z2p.jpg\r\n  [2]: http://i.stack.imgur.com/mZTMg.png","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>For <strong>IntelliJ 13</strong>, there is a checkbox in Editor's page in IDE Settings</p>\n<p><img src=\"https://i.stack.imgur.com/K0Z2p.jpg\" alt=\"enter image description here\" /></p>\n<p><strong>EDIT:</strong> For <strong>IntelliJ 14</strong>, the option has been moved to Editor &gt; General page. It's the last option in the &quot;Other&quot; group. (For Mac the option is under the menu &quot;IntelliJ Idea&quot; &gt; &quot;Preferences&quot;).</p>\n<p><strong>EDIT:</strong> For <strong>IntelliJ 16</strong>, it's the second-to-last option in Editor &gt; General &gt; Other.</p>\n<p><strong>EDIT:</strong> For <strong>IntelliJ Ultimate 2016.1</strong>, it's been moved to Editor &gt; General &gt; Code Completion.\n<a href=\"https://i.stack.imgur.com/mZTMg.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/mZTMg.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>EDIT:</strong> For <strong>IntelliJ Ultimate 2017.2, aka IntelliJ IDEA 2017.2.3</strong>, there are actually two options:</p>\n<ol>\n<li>In Editor &gt; General &gt; Other (section) &gt; <strong>Show quick documentation on mouse move - delay 500 ms</strong></li>\n</ol>\n<ul>\n<li>Select this check box to show quick documentation for the symbol at caret. The quick documentation pop-up window appears after the specified delay.</li>\n</ul>\n<ol>\n<li>In Editor &gt; General &gt; Code Completion (sub-item) &gt; <strong>Autopopup documention in 1000 ms, for explicitly invoked completion</strong></li>\n</ol>\n<ul>\n<li>Select this check box to have IntelliJ IDEA automatically show a pop-up window with the documentation for the class, method, or field currently highlighted in the lookup list. If this check box is not selected, use <kbd>Ctrl</kbd>+<kbd>Q</kbd> to show quick documentation for the element at caret.</li>\n<li>Quick documentation window will automatically pop up with the specified delay in those cases only, when code completion has been invoked explicitly. For the automatic code completion list, documentation window will only show up on pressing <kbd>Ctrl</kbd>+<kbd>Q</kbd>.</li>\n</ul>\n<p><strong>EDIT</strong>: For <strong>IntelliJ Ultimate 2020.3</strong>, the first option is now located under Editor &gt; Code Editing &gt; Quick Documentation &gt; <strong>Show quick documentation on mouse move</strong></p>\n"},{"comments":[{"owner":{"account_id":226762,"reputation":11452,"user_id":2162226,"accept_rate":70,"display_name":"Gene Bo"},"score":0,"creation_date":1429806943,"post_id":22646434,"comment_id":47785298,"body_markdown":"In terms of getting exactly the same UX as eclipse, this looks like the best answer to me .. thanks !","body":"In terms of getting exactly the same UX as eclipse, this looks like the best answer to me .. thanks !"},{"owner":{"account_id":9744856,"reputation":985,"user_id":7225171,"accept_rate":67,"display_name":"Serob_b"},"score":0,"creation_date":1495819173,"post_id":22646434,"comment_id":75426490,"body_markdown":"This one works. But what &quot;Autopopup documentation in in(ms)&quot; in other answers stands for?","body":"This one works. But what &quot;Autopopup documentation in in(ms)&quot; in other answers stands for?"}],"tags":[],"owner":{"account_id":938834,"reputation":1564,"user_id":967288,"display_name":"Matthew Chen"},"comment_count":2,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1395782226,"creation_date":1395782226,"answer_id":22646434,"question_id":6615516,"body_markdown":"In Intellij13, you can use Editor configuration like below:\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/X3LmL.png","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>In Intellij13, you can use Editor configuration like below:\n<img src=\"https://i.stack.imgur.com/X3LmL.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":5129456,"reputation":954,"user_id":4110190,"display_name":"Jonas Pedersen"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1415314297,"creation_date":1415314297,"answer_id":26790949,"question_id":6615516,"body_markdown":"In IntelliJ IDEA 14, it has moved to: File -&gt; Settings -&gt; Editor -&gt; General -&gt; &quot;Show quick doc on mouse move&quot;","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>In IntelliJ IDEA 14, it has moved to: File -> Settings -> Editor -> General -> \"Show quick doc on mouse move\"</p>\n"},{"tags":[],"owner":{"account_id":5474958,"reputation":151,"user_id":4353178,"display_name":"Amap"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1418373326,"creation_date":1418373326,"answer_id":27439666,"question_id":6615516,"body_markdown":"File--&gt;Settings--&gt;Editor\r\n\r\nCheck &quot;*Show quick doc on mouse*&quot;\r\n\r\n\r\nNow when you put the mouse over a method a tooltip with the documentation will appear. Sometimes the tooltip size is too small and you will have to resize it moving the mouse down to the bottom of the tooltip.\r\n\r\n","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>File-->Settings-->Editor</p>\n\n<p>Check \"<em>Show quick doc on mouse</em>\"</p>\n\n<p>Now when you put the mouse over a method a tooltip with the documentation will appear. Sometimes the tooltip size is too small and you will have to resize it moving the mouse down to the bottom of the tooltip.</p>\n"},{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1423239086,"creation_date":1423238060,"answer_id":28369627,"question_id":6615516,"body_markdown":"IntelliJ IDEA 14.0.3 Ultimate: &lt;br/&gt;&lt;br/&gt;Press &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;S&lt;/kbd&gt;, then choose `Editor\\General` choose `Show quick domentation on mouse move`&lt;br/&gt;&lt;br/&gt;\r\n![enter image description here][1]\r\n\r\nTips: Look at the top right conner (gear icon) at JavaDoc pop-up window, You can choose:&lt;br/&gt;\r\n- Show Toolbar &lt;br/&gt;\r\n- Pinded Mode &lt;br/&gt;\r\n- Docked Mode &lt;br/&gt;\r\n- Floatting Mode &lt;br/&gt;\r\n- Split Mode &lt;br/&gt;&lt;br/&gt;\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/1SV0h.png\r\n  [2]: http://i.stack.imgur.com/rsPEf.png","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>IntelliJ IDEA 14.0.3 Ultimate: <br/><br/>Press <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>S</kbd>, then choose <code>Editor\\General</code> choose <code>Show quick domentation on mouse move</code><br/><br/>\n<img src=\"https://i.stack.imgur.com/1SV0h.png\" alt=\"enter image description here\"></p>\n\n<p>Tips: Look at the top right conner (gear icon) at JavaDoc pop-up window, You can choose:<br/>\n- Show Toolbar <br/>\n- Pinded Mode <br/>\n- Docked Mode <br/>\n- Floatting Mode <br/>\n- Split Mode <br/><br/>\n<img src=\"https://i.stack.imgur.com/rsPEf.png\" alt=\"enter image description here\"></p>\n"},{"comments":[{"owner":{"account_id":438602,"reputation":5680,"user_id":3538289,"display_name":"cevaris"},"score":0,"creation_date":1438030131,"post_id":30297703,"comment_id":51270543,"body_markdown":"This does not show docs, just the possible method invocation and their parameter types.","body":"This does not show docs, just the possible method invocation and their parameter types."},{"owner":{"account_id":438602,"reputation":5680,"user_id":3538289,"display_name":"cevaris"},"score":0,"creation_date":1438088150,"post_id":30297703,"comment_id":51295782,"body_markdown":"how do you &quot;explicitly invoke completion&quot;","body":"how do you &quot;explicitly invoke completion&quot;"},{"owner":{"account_id":4645337,"reputation":6283,"user_id":3763850,"accept_rate":83,"display_name":"Gemtastic"},"score":0,"creation_date":1438093830,"post_id":30297703,"comment_id":51300309,"body_markdown":"I don&#39;t understand what you mean by that","body":"I don&#39;t understand what you mean by that"},{"owner":{"account_id":438602,"reputation":5680,"user_id":3538289,"display_name":"cevaris"},"score":0,"creation_date":1438099887,"post_id":30297703,"comment_id":51305134,"body_markdown":"This is just code completion with types right? No doc info?","body":"This is just code completion with types right? No doc info?"},{"owner":{"account_id":4645337,"reputation":6283,"user_id":3763850,"accept_rate":83,"display_name":"Gemtastic"},"score":0,"creation_date":1438150280,"post_id":30297703,"comment_id":51325762,"body_markdown":"It&#39;s supposed to show the JavaDoc, it does for me. The JavaDoc window will popup after 1000ms, now you may have to have a look at where it pops up. Sometimes it pops up as a tab in the right toolbar by the maven tab.","body":"It&#39;s supposed to show the JavaDoc, it does for me. The JavaDoc window will popup after 1000ms, now you may have to have a look at where it pops up. Sometimes it pops up as a tab in the right toolbar by the maven tab."},{"owner":{"account_id":438602,"reputation":5680,"user_id":3538289,"display_name":"cevaris"},"score":0,"creation_date":1438173857,"post_id":30297703,"comment_id":51340550,"body_markdown":"Hmm. Maybe because I am using Scala.","body":"Hmm. Maybe because I am using Scala."},{"owner":{"account_id":4645337,"reputation":6283,"user_id":3763850,"accept_rate":83,"display_name":"Gemtastic"},"score":0,"creation_date":1438174633,"post_id":30297703,"comment_id":51341114,"body_markdown":"I can&#39;t verify that plugins will work. It doesn&#39;t work for the JS/Node plugin either so that&#39;s probably why.","body":"I can&#39;t verify that plugins will work. It doesn&#39;t work for the JS/Node plugin either so that&#39;s probably why."}],"tags":[],"owner":{"account_id":4645337,"reputation":6283,"user_id":3763850,"accept_rate":83,"display_name":"Gemtastic"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1431935261,"creation_date":1431935261,"answer_id":30297703,"question_id":6615516,"body_markdown":"On mac in IntelliJ Ultimate (trial) 14 I have mine under `Settings &gt; Editor &gt; General &gt; Code completion`. The tooltip short is F1 on my laptop.\r\n\r\nIt&#39;s called &quot;Autopopup documentation in (ms):&quot;\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Ow0P3.png","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>On mac in IntelliJ Ultimate (trial) 14 I have mine under <code>Settings &gt; Editor &gt; General &gt; Code completion</code>. The tooltip short is F1 on my laptop.</p>\n\n<p>It's called \"Autopopup documentation in (ms):\"</p>\n\n<p><img src=\"https://i.stack.imgur.com/Ow0P3.png\" alt=\"enter image description here\"></p>\n"},{"comments":[{"owner":{"account_id":9744856,"reputation":985,"user_id":7225171,"accept_rate":67,"display_name":"Serob_b"},"score":1,"creation_date":1495819163,"post_id":36449603,"comment_id":75426482,"body_markdown":"This one works. But what &quot;Autopopup documentation in in(ms)&quot; in other answers stands for?","body":"This one works. But what &quot;Autopopup documentation in in(ms)&quot; in other answers stands for?"},{"owner":{"account_id":2251762,"reputation":278561,"user_id":1983854,"accept_rate":96,"display_name":"fedorqui"},"score":1,"creation_date":1495836908,"post_id":36449603,"comment_id":75433947,"body_markdown":"@Serob_b I am not sure what you mean here.","body":"@Serob_b I am not sure what you mean here."},{"owner":{"account_id":9744856,"reputation":985,"user_id":7225171,"accept_rate":67,"display_name":"Serob_b"},"score":0,"creation_date":1495892048,"post_id":36449603,"comment_id":75445602,"body_markdown":"In my version of Intellij (2017.1.3) there is an option that you are talking about, but also &quot;Autopopup documentation in(ms):&quot;  option in Editor &gt; General &gt; Code Completion (as accepted answer informs). So, what is the difference between these two? Just checking the second one (Autopopup) didn&#39;t solve the problem.","body":"In my version of Intellij (2017.1.3) there is an option that you are talking about, but also &quot;Autopopup documentation in(ms):&quot;  option in Editor &gt; General &gt; Code Completion (as accepted answer informs). So, what is the difference between these two? Just checking the second one (Autopopup) didn&#39;t solve the problem."},{"owner":{"account_id":2251762,"reputation":278561,"user_id":1983854,"accept_rate":96,"display_name":"fedorqui"},"score":0,"creation_date":1496654018,"post_id":36449603,"comment_id":75732274,"body_markdown":"@Serob_b they are the same. I asked it in [What is the difference between Quick documentation and Autopopup documentation in Intellij IDEA?](https://stackoverflow.com/q/44326900/1983854).","body":"@Serob_b they are the same. I asked it in <a href=\"https://stackoverflow.com/q/44326900/1983854\">What is the difference between Quick documentation and Autopopup documentation in Intellij IDEA?</a>."},{"owner":{"account_id":9744856,"reputation":985,"user_id":7225171,"accept_rate":67,"display_name":"Serob_b"},"score":1,"creation_date":1496693262,"post_id":36449603,"comment_id":75754649,"body_markdown":"Thanks. I&#39;ve actually figured out that &quot;Autopopup documentation in (ms)&quot; is for ctrl + space and has nothing to do with mouse hover, and of course &quot;Show quick documentation on mouse move&quot; is what shows docs on hover.\n In Intellij 2017","body":"Thanks. I&#39;ve actually figured out that &quot;Autopopup documentation in (ms)&quot; is for ctrl + space and has nothing to do with mouse hover, and of course &quot;Show quick documentation on mouse move&quot; is what shows docs on hover.  In Intellij 2017"}],"tags":[],"owner":{"account_id":2251762,"reputation":278561,"user_id":1983854,"accept_rate":96,"display_name":"fedorqui"},"comment_count":5,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1459941611,"creation_date":1459941611,"answer_id":36449603,"question_id":6615516,"body_markdown":"For Intellij 15, use the checkbox in `File &gt; Settings &gt; Editor &gt; General` option **Show quick documentation on mouse move**.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nYou can also get there by typing &quot;quick&quot; or something similar in the search box:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/3JJ8A.png\r\n  [2]: http://i.stack.imgur.com/gUrkt.png","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>For Intellij 15, use the checkbox in <code>File &gt; Settings &gt; Editor &gt; General</code> option <strong>Show quick documentation on mouse move</strong>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/3JJ8A.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3JJ8A.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can also get there by typing \"quick\" or something similar in the search box:</p>\n\n<p><a href=\"https://i.stack.imgur.com/gUrkt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/gUrkt.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":2710669,"reputation":301,"user_id":2339206,"display_name":"ozzylee"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500773028,"creation_date":1500773028,"answer_id":45260744,"question_id":6615516,"body_markdown":"A note for Android Studio (2.3.3 at least) users, because this page came up for my google search &quot;android studio hover javadoc&quot;, and android studio is based on Intellij:\r\n\r\nSee File-&gt;Settings-&gt;Editor-&gt;General: &quot;show quick documentation on mouse moves&quot;,\r\nrather than File-&gt;Settings-&gt;Editor-&gt;General-&gt;Code Completion\r\n&quot;Autopopup documentation in (ms) for explicitly invoked completion&quot; \r\nand &quot;Autopopup in (ms)&quot;, which has been previously talked about.","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>A note for Android Studio (2.3.3 at least) users, because this page came up for my google search \"android studio hover javadoc\", and android studio is based on Intellij:</p>\n\n<p>See File->Settings->Editor->General: \"show quick documentation on mouse moves\",\nrather than File->Settings->Editor->General->Code Completion\n\"Autopopup documentation in (ms) for explicitly invoked completion\" \nand \"Autopopup in (ms)\", which has been previously talked about.</p>\n"},{"tags":[],"owner":{"account_id":159637,"reputation":2203,"user_id":379173,"display_name":"Enrico Giurin"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1501536639,"creation_date":1501536153,"answer_id":45425514,"question_id":6615516,"body_markdown":"The easiest way, at least for me, was:\r\n\r\n - &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;A&lt;/kbd&gt;\r\n - Type: *show document*\r\n - *Show quick documentation on mouse move* (set it to ON)\r\n\r\n","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>The easiest way, at least for me, was:</p>\n\n<ul>\n<li><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>A</kbd></li>\n<li>Type: <em>show document</em></li>\n<li><em>Show quick documentation on mouse move</em> (set it to ON)</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":12915723,"reputation":1,"user_id":9340059,"display_name":"pcxpert"},"score":0,"creation_date":1518203906,"post_id":48712628,"comment_id":84424447,"body_markdown":"The best answer is: eg. Mercedes Sara= new Mercedes();  1. put your cursor in (). 2. Press ctrl + P 3. Press alt + P  result: now all variables are auto-formatted and you can type the values while reading the variables. (build 2018)","body":"The best answer is: eg. Mercedes Sara= new Mercedes();  1. put your cursor in (). 2. Press ctrl + P 3. Press alt + P  result: now all variables are auto-formatted and you can type the values while reading the variables. (build 2018)"},{"owner":{"account_id":3476620,"reputation":1368,"user_id":2909636,"accept_rate":100,"display_name":"chaserb"},"score":0,"creation_date":1529431884,"post_id":48712628,"comment_id":88867643,"body_markdown":"Disagree that this is the best answer. The question was for a mouse hover over a symbol, which is provided OOTB in Eclipse. What I typically find is that I&#39;m interested in something that&#39;s on the screen, but not under the cursor. So, to move the cursor to the symbol (mouse movement), type a short cut (keyboard), and then mouse back to where I was editing (another mouse movement) is too much work. A single mouse movement to get the information I need is perfect, as I can resume typing immediately.","body":"Disagree that this is the best answer. The question was for a mouse hover over a symbol, which is provided OOTB in Eclipse. What I typically find is that I&#39;m interested in something that&#39;s on the screen, but not under the cursor. So, to move the cursor to the symbol (mouse movement), type a short cut (keyboard), and then mouse back to where I was editing (another mouse movement) is too much work. A single mouse movement to get the information I need is perfect, as I can resume typing immediately."}],"tags":[],"owner":{"account_id":12915723,"reputation":1,"user_id":9340059,"display_name":"pcxpert"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1546570048,"creation_date":1518203659,"answer_id":48712628,"question_id":6615516,"body_markdown":"**The answer is &lt;kbd&gt;CTRL&lt;/kbd&gt; + &lt;kbd&gt;P&lt;/kbd&gt; (NOT &lt;kbd&gt;CTRL&lt;/kbd&gt; + &lt;kbd&gt;Q&lt;/kbd&gt;)**\r\n\r\nSomeone else posted this answer on JetBrains forum:\r\nThe idea is a different IDE. Try to discover its features and try to make the best of it, rather than trying to emulate whatever you used before.\r\nFor the most part, Idea has very high usability (much better than Eclipse IMHO) and is streamlined for supporting code editing as best as possible (rather than relying on wizards too much for example).\r\n\r\n - Javadoc: &lt;kbd&gt;Ctrl&lt;/kbd&gt;-&lt;kbd&gt;Q&lt;/kbd&gt; \r\n - A quick view of the implementation:  &lt;kbd&gt;Ctrl&lt;/kbd&gt;-&lt;kbd&gt;Shift&lt;/kbd&gt;-&lt;kbd&gt;I&lt;/kbd&gt;\r\n - Show context:  &lt;kbd&gt;Alt&lt;/kbd&gt;-&lt;kbd&gt;Q&lt;/kbd&gt;\r\n - Show parameters (in a method call):  &lt;kbd&gt;Ctrl&lt;/kbd&gt;-&lt;kbd&gt;P&lt;/kbd&gt;\r\n - Show error description.  &lt;kbd&gt;Ctrl&lt;/kbd&gt;-&lt;kbd&gt;F1&lt;/kbd&gt;\r\n\r\n... plus many more shortcuts to navigate in code and different idea views.\r\n\r\nI think it rather nice that you can see just the specific bit of information you are interested in with a simple keystroke.\r\nHave a look at the menus which will also show the possibly modified shortcuts for your keymap.\r\n\r\n0\r\nAvatar\r\nJens Vo&#223;\r\nCreated June 12, 2008, 09:26\r\nAnd, elsandros, in addition to what Stephen writes: Since you seem to be interested in IDEA&#39;s keyboard shortcuts, I highly recommend the &quot;Key Promoter&quot; plugin which helps you memorize the relevant shortcuts quickly.\r\n\r\nAlso very useful is the &quot;Goto Action&quot; feature, invoked by &lt;kbd&gt;Ctrl&lt;/kbd&gt;-&lt;kbd&gt;Shift&lt;/kbd&gt;-&lt;kbd&gt;A&lt;/kbd&gt;. In the popup, you can enter a keyword (e.g. &quot;Javadoc&quot;), and the IDE tells you the available actions matching your search, along with keyboard shortcuts and the containing action groups (which often also give you a clue about how to navigate to the action using the menu).\r\n","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p><strong>The answer is <kbd>CTRL</kbd> + <kbd>P</kbd> (NOT <kbd>CTRL</kbd> + <kbd>Q</kbd>)</strong></p>\n\n<p>Someone else posted this answer on JetBrains forum:\nThe idea is a different IDE. Try to discover its features and try to make the best of it, rather than trying to emulate whatever you used before.\nFor the most part, Idea has very high usability (much better than Eclipse IMHO) and is streamlined for supporting code editing as best as possible (rather than relying on wizards too much for example).</p>\n\n<ul>\n<li>Javadoc: <kbd>Ctrl</kbd>-<kbd>Q</kbd> </li>\n<li>A quick view of the implementation:  <kbd>Ctrl</kbd>-<kbd>Shift</kbd>-<kbd>I</kbd></li>\n<li>Show context:  <kbd>Alt</kbd>-<kbd>Q</kbd></li>\n<li>Show parameters (in a method call):  <kbd>Ctrl</kbd>-<kbd>P</kbd></li>\n<li>Show error description.  <kbd>Ctrl</kbd>-<kbd>F1</kbd></li>\n</ul>\n\n<p>... plus many more shortcuts to navigate in code and different idea views.</p>\n\n<p>I think it rather nice that you can see just the specific bit of information you are interested in with a simple keystroke.\nHave a look at the menus which will also show the possibly modified shortcuts for your keymap.</p>\n\n<p>0\nAvatar\nJens Voß\nCreated June 12, 2008, 09:26\nAnd, elsandros, in addition to what Stephen writes: Since you seem to be interested in IDEA's keyboard shortcuts, I highly recommend the \"Key Promoter\" plugin which helps you memorize the relevant shortcuts quickly.</p>\n\n<p>Also very useful is the \"Goto Action\" feature, invoked by <kbd>Ctrl</kbd>-<kbd>Shift</kbd>-<kbd>A</kbd>. In the popup, you can enter a keyword (e.g. \"Javadoc\"), and the IDE tells you the available actions matching your search, along with keyboard shortcuts and the containing action groups (which often also give you a clue about how to navigate to the action using the menu).</p>\n"},{"tags":[],"owner":{"account_id":6983262,"reputation":2982,"user_id":5355272,"accept_rate":25,"display_name":"avp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527878811,"creation_date":1527878811,"answer_id":50649413,"question_id":6615516,"body_markdown":"All of the above methods are useful but one basic thing missing you need to have **src.zip** in your JDK (C:\\Program Files\\Java\\jdk1.8.0_171). I assumed it comes preinstalled but for some reason, it was not present in my installation. Another thing to check is if your project is using the specified (1.8.0_171 in this case) JDK.","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>All of the above methods are useful but one basic thing missing you need to have <strong>src.zip</strong> in your JDK (C:\\Program Files\\Java\\jdk1.8.0_171). I assumed it comes preinstalled but for some reason, it was not present in my installation. Another thing to check is if your project is using the specified (1.8.0_171 in this case) JDK.</p>\n"},{"tags":[],"owner":{"account_id":2252907,"reputation":2755,"user_id":1984767,"accept_rate":50,"display_name":"Leviand"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1583739713,"creation_date":1537802347,"answer_id":52482504,"question_id":6615516,"body_markdown":"From **IntelliJ Ultimate 2018.1.5, aka IntelliJ IDEA 2018.1.5, till 2019.3** ,  there are actually two options under File -&gt; Preferences:\r\n\r\n 1. In Editor &gt; General &gt; Other (section) &gt; **Show quick documentation on mouse move - delay 500 ms**\r\n - Select this check box to show quick documentation for the symbol at caret. The quick documentation pop-up window appears after the specified delay.\r\n 1. In Editor &gt; General &gt; Code Completion (sub-item) &gt; **Auto-display documentation in 1000 ms**\r\n - Select this check box to have IntelliJ IDEA automatically show a pop-up window with the documentation for the class, method, or field currently highlighted in the lookup list. If this check box is not selected, use &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Q&lt;/kbd&gt; to show quick documentation for the element at caret.\r\n - Quick documentation window will automatically pop up with the specified delay in those cases only, when code completion has been invoked explicitly. For the automatic code completion list, documentation window will only show up on pressing &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Q&lt;/kbd&gt;.","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>From <strong>IntelliJ Ultimate 2018.1.5, aka IntelliJ IDEA 2018.1.5, till 2019.3</strong> ,  there are actually two options under File -> Preferences:</p>\n\n<ol>\n<li>In Editor > General > Other (section) > <strong>Show quick documentation on mouse move - delay 500 ms</strong>\n\n<ul>\n<li>Select this check box to show quick documentation for the symbol at caret. The quick documentation pop-up window appears after the specified delay.</li>\n</ul></li>\n<li>In Editor > General > Code Completion (sub-item) > <strong>Auto-display documentation in 1000 ms</strong>\n\n<ul>\n<li>Select this check box to have IntelliJ IDEA automatically show a pop-up window with the documentation for the class, method, or field currently highlighted in the lookup list. If this check box is not selected, use <kbd>Ctrl</kbd>+<kbd>Q</kbd> to show quick documentation for the element at caret.</li>\n<li>Quick documentation window will automatically pop up with the specified delay in those cases only, when code completion has been invoked explicitly. For the automatic code completion list, documentation window will only show up on pressing <kbd>Ctrl</kbd>+<kbd>Q</kbd>.</li>\n</ul></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1781971,"reputation":1210,"user_id":1624454,"accept_rate":67,"display_name":"Praveen Tiwari"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568978890,"creation_date":1568978890,"answer_id":58027514,"question_id":6615516,"body_markdown":"I tried many ways mentioned here, especially the preference - editor - general - code completion - show documentation popup in.. isn&#39;t working in **version 2019.2.2**\r\n\r\nFinally, i am just using `F1` while caret is on the type/method and it displays the documentation nicely. This is not ideal but helpful.","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>I tried many ways mentioned here, especially the preference - editor - general - code completion - show documentation popup in.. isn't working in <strong>version 2019.2.2</strong></p>\n\n<p>Finally, i am just using <code>F1</code> while caret is on the type/method and it displays the documentation nicely. This is not ideal but helpful.</p>\n"},{"comments":[{"owner":{"account_id":8074479,"reputation":193,"user_id":6222252,"display_name":"Slimane Deb"},"score":0,"creation_date":1577535415,"post_id":59510152,"comment_id":105193483,"body_markdown":"what do you mean ?","body":"what do you mean ?"},{"owner":{"account_id":64431,"reputation":8472,"user_id":190200,"accept_rate":100,"display_name":"Matt Stephenson"},"score":2,"creation_date":1581345672,"post_id":59510152,"comment_id":106391161,"body_markdown":"This is the answer for 2019.3. I love playing hide-and-seek with this feature every major release! Thank you JetBrains &lt;3","body":"This is the answer for 2019.3. I love playing hide-and-seek with this feature every major release! Thank you JetBrains &lt;3"},{"owner":{"account_id":2772116,"reputation":2797,"user_id":2386514,"accept_rate":100,"display_name":"Jonathan E. Landrum"},"score":2,"creation_date":1597426357,"post_id":59510152,"comment_id":112138823,"body_markdown":"@MattStephenson now to find it again for 2020.2 &gt;_&lt;","body":"@MattStephenson now to find it again for 2020.2 &gt;_&lt;"}],"tags":[],"owner":{"account_id":8074479,"reputation":193,"user_id":6222252,"display_name":"Slimane Deb"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1577529834,"creation_date":1577529834,"answer_id":59510152,"question_id":6615516,"body_markdown":"In Intellij 2019, I did:  File &gt; Settings &gt; Editor &gt; General option Show quick documentation on mouse move.","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>In Intellij 2019, I did:  File > Settings > Editor > General option Show quick documentation on mouse move.</p>\n"},{"tags":[],"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589558743,"creation_date":1589558743,"answer_id":61823619,"question_id":6615516,"body_markdown":"In 2020.1 there is [in editor javadocs](https://www.jetbrains.com/help/idea/working-with-code-documentation.html#toggle-rendered-view) rendering has been added. Screen shots borrowed from intellij documentation.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dfzGp.png\r\n  [2]: https://i.stack.imgur.com/0u3Me.png\r\n  [3]: https://i.stack.imgur.com/VrW9L.png\r\n  [4]: https://i.stack.imgur.com/FyJHL.png","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>In 2020.1 there is <a href=\"https://www.jetbrains.com/help/idea/working-with-code-documentation.html#toggle-rendered-view\" rel=\"nofollow noreferrer\">in editor javadocs</a> rendering has been added. Screen shots borrowed from intellij documentation.</p>\n\n<p><a href=\"https://i.stack.imgur.com/dfzGp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dfzGp.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/0u3Me.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0u3Me.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/VrW9L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VrW9L.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/FyJHL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FyJHL.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":23537034,"reputation":21,"user_id":17581844,"display_name":"Grobenek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681138028,"creation_date":1681138028,"answer_id":75978098,"question_id":6615516,"body_markdown":"If you are on MacOS, the fix was for me to disable:\r\nSettings -&gt; Appearance &amp; Behavior -&gt; Appearance -&gt; Support screen readers\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gMwpV.png","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>If you are on MacOS, the fix was for me to disable:\nSettings -&gt; Appearance &amp; Behavior -&gt; Appearance -&gt; Support screen readers\n<a href=\"https://i.stack.imgur.com/gMwpV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gMwpV.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188060,"favorite_count":0,"down_vote_count":1,"up_vote_count":676,"accepted_answer_id":20746942,"answer_count":22,"score":675,"last_activity_date":1681138028,"creation_date":1310064152,"question_id":6615516,"body_markdown":"In Eclipse, when hovering over a method, variable, etc. a tooltip is displayed with the corresponding JavaDocs. Is there such a feature in IntelliJ?","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>In Eclipse, when hovering over a method, variable, etc. a tooltip is displayed with the corresponding JavaDocs. Is there such a feature in IntelliJ?</p>\n"},{"tags":["java","maven","intellij-idea","jar","dependencies"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1681138571,"post_id":75978079,"comment_id":134004504,"body_markdown":"The correct way would be to import the project from Maven per https://www.jetbrains.com/help/idea/maven-support.html#maven_import_project_start. All the dependencies must be defined in `pom.xml` file. IDE will configure them automatically.","body":"The correct way would be to import the project from Maven per <a href=\"https://www.jetbrains.com/help/idea/maven-support.html#maven_import_project_start\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>. All the dependencies must be defined in <code>pom.xml</code> file. IDE will configure them automatically."},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1681195998,"post_id":75978079,"comment_id":134013015,"body_markdown":"what is in your pom.xml? have you defined any dependencies","body":"what is in your pom.xml? have you defined any dependencies"}],"owner":{"account_id":24492337,"reputation":45,"user_id":18409225,"display_name":"Tasbeeh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681137876,"creation_date":1681137876,"question_id":75978079,"body_markdown":"I have jar files in .m2 folder, but they are not added as maven libraries when I open my project in intellij. I know how to add them one by one from (File &gt; Project Structure &gt; Plus sign &gt; search locally for the jar file &gt; choose it), But I need to add all of them at once since there are many of them (65 Jar file) and it&#39;s hard to add them individually. ","title":"How to add all Jar files exist in .m2 folder to maven libraries at once?","body":"<p>I have jar files in .m2 folder, but they are not added as maven libraries when I open my project in intellij. I know how to add them one by one from (File &gt; Project Structure &gt; Plus sign &gt; search locally for the jar file &gt; choose it), But I need to add all of them at once since there are many of them (65 Jar file) and it's hard to add them individually.</p>\n"},{"tags":["java","android","xml","google-maps-android-api-2","google-street-view-static-api"],"comments":[{"owner":{"account_id":3726977,"reputation":3340,"user_id":3100601,"display_name":"ror"},"score":0,"creation_date":1681137237,"post_id":75977977,"comment_id":134004221,"body_markdown":"oh my but error says it all for you? &quot;is in the      &lt;application&gt; element of AndroidManifest.x&quot;","body":"oh my but error says it all for you? &quot;is in the      &lt;application&gt; element of AndroidManifest.x&quot;"},{"owner":{"account_id":2197099,"reputation":2498,"user_id":1942463,"display_name":"Rajasekaran M"},"score":0,"creation_date":1681137277,"post_id":75977977,"comment_id":134004230,"body_markdown":"you forgot to add meta tag for google API key. error showing clearly. So add `&lt;meta-data     android:name=&quot;com.google.android.geo.API_KEY&quot; android:value=&quot;your API key&quot;/&gt;` in manifest inside application tag","body":"you forgot to add meta tag for google API key. error showing clearly. So add <code>&lt;meta-data     android:name=&quot;com.google.android.geo.API_KEY&quot; android:value=&quot;your API key&quot;&#47;&gt;</code> in manifest inside application tag"},{"owner":{"account_id":28236680,"reputation":19,"user_id":21585033,"display_name":"bofa"},"score":0,"creation_date":1681138609,"post_id":75977977,"comment_id":134004509,"body_markdown":"I did add the meta data tag though? It&#39;s clearly in the manifest xml file","body":"I did add the meta data tag though? It&#39;s clearly in the manifest xml file"}],"owner":{"account_id":28236680,"reputation":19,"user_id":21585033,"display_name":"bofa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681136937,"creation_date":1681136937,"question_id":75977977,"body_markdown":"I&#39;ve been struggling w this project for weeks now. Specifically getting the API Keys to work, I&#39;m not sure what I&#39;m doing wrong. My code is as follows:\r\n\r\n```\r\npackage com.example.hopefullyfinalgeoguessr;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport com.google.android.gms.maps.OnStreetViewPanoramaReadyCallback;\r\nimport com.google.android.gms.maps.StreetViewPanorama;\r\nimport com.google.android.gms.maps.StreetViewPanoramaView;\r\nimport com.google.android.gms.maps.SupportStreetViewPanoramaFragment;\r\nimport com.google.android.gms.maps.model.LatLng;\r\nimport com.google.android.material.snackbar.Snackbar;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.view.View;\r\n\r\nimport androidx.navigation.NavController;\r\nimport androidx.navigation.Navigation;\r\nimport androidx.navigation.ui.AppBarConfiguration;\r\nimport androidx.navigation.ui.NavigationUI;\r\n\r\nimport com.example.hopefullyfinalgeoguessr.databinding.ActivityMainBinding;\r\n\r\nimport android.view.Menu;\r\nimport android.view.MenuItem;\r\n\r\nimport java.util.Random;\r\n\r\npublic class MainActivity extends AppCompatActivity implements OnStreetViewPanoramaReadyCallback {\r\n\r\n    private StreetViewPanorama streetViewPanorama;\r\n    private boolean secondlocation = false;\r\n    private static final double MIN_LATITUDE = -90;\r\n    private static final double MAX_LATITUDE = 90;\r\n    private static final double MIN_LONGITUDE = -180;\r\n    private static final double MAX_LONGITUDE = 180;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        SupportStreetViewPanoramaFragment streetViewPanoramaFragment = (SupportStreetViewPanoramaFragment)getSupportFragmentManager().findFragmentById(R.id.googlemapstreetview);\r\n        streetViewPanoramaFragment.getStreetViewPanoramaAsync(this);\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onStreetViewPanoramaReady(StreetViewPanorama streetViewPanorama) {\r\n\r\n        Random random = new Random();\r\n        double lat = MIN_LATITUDE + (MAX_LATITUDE - MIN_LATITUDE) * random.nextDouble();\r\n        double lng = MIN_LONGITUDE + (MAX_LONGITUDE - MIN_LONGITUDE) * random.nextDouble();\r\n        LatLng randomLocation = new LatLng(lat,lng);\r\n\r\n        this.streetViewPanorama.setPosition(randomLocation);\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nmanifest xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Hopefullyfinalgeoguessr&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/Theme.Hopefullyfinalgeoguessr.NoActionBar&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;meta-data\r\n                android:name=&quot;com.google.android.maps.API_KEY&quot;\r\n                android:value=&quot;redacted&quot; /&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;com.google.android.geo.API_KEY&quot;\r\n                android:value=&quot;redacted&quot; /&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;com.google.android.streetview.API_KEY&quot;\r\n                android:value=&quot;redacted&quot; /&gt;\r\n\r\n\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\nlayout xml:\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n        &lt;fragment\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n                android:layout_centerInParent=&quot;true&quot;\r\n                android:id=&quot;@+id/googlemapstreetview&quot;\r\n                android:name=&quot;com.google.android.gms.maps.SupportStreetViewPanoramaFragment&quot; /&gt;\r\n\r\n\r\n\r\n\r\n&lt;/RelativeLayout&gt;\r\n\r\n```\r\nI tried GPT to walk me through this and several YouTube tutorials. I was expecting my street view to load onto the emulator however this is the error message I&#39;m receiving in my logcat:\r\n\r\n\r\n    \r\n```\r\nCaused by: java.lang.RuntimeException: API key not found.  Check that &lt;meta-data     android:name=&quot;com.google.android.geo.API_KEY&quot; android:value=&quot;your API key&quot;/&gt; is in the      &lt;application&gt; element of AndroidManifest.xml\r\n```\r\n\r\nI think that it&#39;s due to my project not recognzing the API.","title":"API Key not Found for google maps sdk for android","body":"<p>I've been struggling w this project for weeks now. Specifically getting the API Keys to work, I'm not sure what I'm doing wrong. My code is as follows:</p>\n<pre><code>package com.example.hopefullyfinalgeoguessr;\n\nimport android.os.Bundle;\n\nimport com.google.android.gms.maps.OnStreetViewPanoramaReadyCallback;\nimport com.google.android.gms.maps.StreetViewPanorama;\nimport com.google.android.gms.maps.StreetViewPanoramaView;\nimport com.google.android.gms.maps.SupportStreetViewPanoramaFragment;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.material.snackbar.Snackbar;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.view.View;\n\nimport androidx.navigation.NavController;\nimport androidx.navigation.Navigation;\nimport androidx.navigation.ui.AppBarConfiguration;\nimport androidx.navigation.ui.NavigationUI;\n\nimport com.example.hopefullyfinalgeoguessr.databinding.ActivityMainBinding;\n\nimport android.view.Menu;\nimport android.view.MenuItem;\n\nimport java.util.Random;\n\npublic class MainActivity extends AppCompatActivity implements OnStreetViewPanoramaReadyCallback {\n\n    private StreetViewPanorama streetViewPanorama;\n    private boolean secondlocation = false;\n    private static final double MIN_LATITUDE = -90;\n    private static final double MAX_LATITUDE = 90;\n    private static final double MIN_LONGITUDE = -180;\n    private static final double MAX_LONGITUDE = 180;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        SupportStreetViewPanoramaFragment streetViewPanoramaFragment = (SupportStreetViewPanoramaFragment)getSupportFragmentManager().findFragmentById(R.id.googlemapstreetview);\n        streetViewPanoramaFragment.getStreetViewPanoramaAsync(this);\n\n    }\n\n\n    @Override\n    public void onStreetViewPanoramaReady(StreetViewPanorama streetViewPanorama) {\n\n        Random random = new Random();\n        double lat = MIN_LATITUDE + (MAX_LATITUDE - MIN_LATITUDE) * random.nextDouble();\n        double lng = MIN_LONGITUDE + (MAX_LONGITUDE - MIN_LONGITUDE) * random.nextDouble();\n        LatLng randomLocation = new LatLng(lat,lng);\n\n        this.streetViewPanorama.setPosition(randomLocation);\n\n    }\n}\n\n</code></pre>\n<p>manifest xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Hopefullyfinalgeoguessr&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:theme=&quot;@style/Theme.Hopefullyfinalgeoguessr.NoActionBar&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;meta-data\n                android:name=&quot;com.google.android.maps.API_KEY&quot;\n                android:value=&quot;redacted&quot; /&gt;\n            &lt;meta-data\n                android:name=&quot;com.google.android.geo.API_KEY&quot;\n                android:value=&quot;redacted&quot; /&gt;\n            &lt;meta-data\n                android:name=&quot;com.google.android.streetview.API_KEY&quot;\n                android:value=&quot;redacted&quot; /&gt;\n\n\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n\nlayout xml:\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n        &lt;fragment\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n                android:layout_centerInParent=&quot;true&quot;\n                android:id=&quot;@+id/googlemapstreetview&quot;\n                android:name=&quot;com.google.android.gms.maps.SupportStreetViewPanoramaFragment&quot; /&gt;\n\n\n\n\n&lt;/RelativeLayout&gt;\n\n</code></pre>\n<p>I tried GPT to walk me through this and several YouTube tutorials. I was expecting my street view to load onto the emulator however this is the error message I'm receiving in my logcat:</p>\n<pre><code>Caused by: java.lang.RuntimeException: API key not found.  Check that &lt;meta-data     android:name=&quot;com.google.android.geo.API_KEY&quot; android:value=&quot;your API key&quot;/&gt; is in the      &lt;application&gt; element of AndroidManifest.xml\n</code></pre>\n<p>I think that it's due to my project not recognzing the API.</p>\n"},{"tags":["java","spring-boot","java-8"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1681135816,"post_id":75977751,"comment_id":134003944,"body_markdown":"Some context is missing, but possibly use of strategy pattern or maybe the decorator pattern.","body":"Some context is missing, but possibly use of strategy pattern or maybe the decorator pattern."},{"owner":{"account_id":3383678,"reputation":4957,"user_id":2840178,"accept_rate":88,"display_name":"kar"},"score":0,"creation_date":1681136554,"post_id":75977751,"comment_id":134004108,"body_markdown":"@AndrewS Strategy is more of a selection of 1 functionality from 2 or more functionalities whereas I am looking to add on multiple functionalities. Guess decorator might fit.","body":"@AndrewS Strategy is more of a selection of 1 functionality from 2 or more functionalities whereas I am looking to add on multiple functionalities. Guess decorator might fit."}],"answers":[{"comments":[{"owner":{"account_id":3383678,"reputation":4957,"user_id":2840178,"accept_rate":88,"display_name":"kar"},"score":0,"creation_date":1681137082,"post_id":75977952,"comment_id":134004200,"body_markdown":"This fits to what I was looking for. Only thing is this is for one method. I wanted to be  able to add on more methods as needed. In that case would the idea be to take in a \nList&lt;IFieldReplacer&gt; and loop over it and call accept for all the methods in it.","body":"This fits to what I was looking for. Only thing is this is for one method. I wanted to be  able to add on more methods as needed. In that case would the idea be to take in a  List&lt;IFieldReplacer&gt; and loop over it and call accept for all the methods in it."},{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":1,"creation_date":1681137415,"post_id":75977952,"comment_id":134004263,"body_markdown":"@kar - Another approach would be to build an IFieldReplacer that holds onto a list of subordinate IFieldReplacers. It&#39;s accept() method would iterate over them. With this approach, callers can choose to pass a single instance if desired. That single instance might be a composite. Or a composite of composites ...","body":"@kar - Another approach would be to build an IFieldReplacer that holds onto a list of subordinate IFieldReplacers. It&#39;s accept() method would iterate over them. With this approach, callers can choose to pass a single instance if desired. That single instance might be a composite. Or a composite of composites ..."}],"tags":[],"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681136717,"creation_date":1681136717,"answer_id":75977952,"question_id":75977751,"body_markdown":"If you just want to replace fields referencing a String, you could pass in a `Function&lt;String,String&gt;`. \r\n\r\n    public void parse(Object obj, \r\n       java.util.function.Function&lt;String,String&gt; replaceFn ) \r\n    throws IllegalAccessException { ... }\r\n\r\nIf you want to be more general, you could pass in something that accepts an object and a field, and does something with it. Defining that as a specific interface makes it easier to find all implementations.\r\n\r\n    @FunctionalInterface\r\n\tpublic interface IFieldReplacer {\r\n\t\tpublic void accept(Object o, Field f) throws IllegalAccessException;\r\n\t}\r\n\t\r\n\tpublic class MyFieldReplacerA implements IFieldReplacer {\r\n\r\n\t\t@Override\r\n\t\tpublic void accept(Object o, Field f) \r\n        throws IllegalAccessException {\r\n\r\n\t\t\t// TODO Get the value, transmogrify it, and set it.\r\n\r\n\t\t}\r\n\t}\r\n\r\n    public void parse(Object obj, IFieldReplacer fieldReplacer ) {\r\n      ...\r\n    }\r\n\r\nBoth of these allow the caller to pass in a lambda expression.","title":"Pass in functionality to a method without any further changes to the class","body":"<p>If you just want to replace fields referencing a String, you could pass in a <code>Function&lt;String,String&gt;</code>.</p>\n<pre><code>public void parse(Object obj, \n   java.util.function.Function&lt;String,String&gt; replaceFn ) \nthrows IllegalAccessException { ... }\n</code></pre>\n<p>If you want to be more general, you could pass in something that accepts an object and a field, and does something with it. Defining that as a specific interface makes it easier to find all implementations.</p>\n<pre><code>@FunctionalInterface\npublic interface IFieldReplacer {\n    public void accept(Object o, Field f) throws IllegalAccessException;\n}\n\npublic class MyFieldReplacerA implements IFieldReplacer {\n\n    @Override\n    public void accept(Object o, Field f) \n    throws IllegalAccessException {\n\n        // TODO Get the value, transmogrify it, and set it.\n\n    }\n}\n\npublic void parse(Object obj, IFieldReplacer fieldReplacer ) {\n  ...\n}\n</code></pre>\n<p>Both of these allow the caller to pass in a lambda expression.</p>\n"}],"owner":{"account_id":3383678,"reputation":4957,"user_id":2840178,"accept_rate":88,"display_name":"kar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75977952,"answer_count":1,"score":2,"last_activity_date":1681136717,"creation_date":1681134985,"question_id":75977751,"body_markdown":"I have the following logic which works fine where I am iterating an object and replacing string values if applicable. \r\n\r\nBut I am trying to make this more generic: I want the `replace` logic to come externally.\r\n\r\nIt is because I want the flexibility to be able to add on more manipulation functionality as needed.\r\n\r\nI don&#39;t want to keep coming into this class and modify it each time. Instead looking to make it configurable. \r\n\r\nIs there any approach I could take to achieve this?\r\n\r\nFor example I may want another logic where if the value is a string, I want to append &quot;hello&quot; to the string. \r\n\r\nI *don&#39;t* want to do this:\r\n\r\n    private String addHello(String value) {\r\n        return value + &quot;hello&quot;;\r\n    }\r\n    \r\n    // then in the parse method. \r\n    if (fieldValue instanceof String) {\r\n        field.set(obj, switchName((String) fieldValue));\r\n        field.set(obj, addHello((String) fieldValue)); // new hello logic inserted\r\n    }\r\n\r\nThis would mean I am amending the class every time. Not exactly following [SOLID][1] principle.\r\n\r\nIt should be closed for modifications.\r\n\r\nI am looking for advice on how I could turn this into being configurable so that I can stop touching the following implementation, but still be able to add on further logic to it. \r\n\r\n    import org.apache.commons.lang.reflect.FieldUtils;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import java.lang.reflect.Field;\r\n    import java.lang.reflect.Modifier;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n\r\n    @Component\r\n    public class Helper {\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public void parse(Object obj) throws IllegalAccessException {\r\n            if (obj == null) {\r\n                return;\r\n            }\r\n    \r\n            for (Field field : obj.getClass().getDeclaredFields()) {\r\n                field.setAccessible(true);\r\n                int modifiers = field.getModifiers();\r\n                Object fieldValue = FieldUtils.readField(obj, field.getName(), true);\r\n                if (fieldValue instanceof String) {\r\n                    field.set(obj, switchName((String) fieldValue));\r\n                }\r\n                else {\r\n                    parse(fieldValue);\r\n                }\r\n            }\r\n        }\r\n    \r\n        private String switchName(String value) {\r\n            return value.replace(&quot;apple&quot;, &quot;orange&quot;);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/SOLID","title":"Pass in functionality to a method without any further changes to the class","body":"<p>I have the following logic which works fine where I am iterating an object and replacing string values if applicable.</p>\n<p>But I am trying to make this more generic: I want the <code>replace</code> logic to come externally.</p>\n<p>It is because I want the flexibility to be able to add on more manipulation functionality as needed.</p>\n<p>I don't want to keep coming into this class and modify it each time. Instead looking to make it configurable.</p>\n<p>Is there any approach I could take to achieve this?</p>\n<p>For example I may want another logic where if the value is a string, I want to append &quot;hello&quot; to the string.</p>\n<p>I <em>don't</em> want to do this:</p>\n<pre><code>private String addHello(String value) {\n    return value + &quot;hello&quot;;\n}\n\n// then in the parse method. \nif (fieldValue instanceof String) {\n    field.set(obj, switchName((String) fieldValue));\n    field.set(obj, addHello((String) fieldValue)); // new hello logic inserted\n}\n</code></pre>\n<p>This would mean I am amending the class every time. Not exactly following <a href=\"https://en.wikipedia.org/wiki/SOLID\" rel=\"nofollow noreferrer\">SOLID</a> principle.</p>\n<p>It should be closed for modifications.</p>\n<p>I am looking for advice on how I could turn this into being configurable so that I can stop touching the following implementation, but still be able to add on further logic to it.</p>\n<pre><code>import org.apache.commons.lang.reflect.FieldUtils;\nimport org.springframework.stereotype.Component;\n\nimport java.lang.reflect.Field;\nimport java.lang.reflect.Modifier;\nimport java.util.List;\nimport java.util.Map;\n\n@Component\npublic class Helper {\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public void parse(Object obj) throws IllegalAccessException {\n        if (obj == null) {\n            return;\n        }\n\n        for (Field field : obj.getClass().getDeclaredFields()) {\n            field.setAccessible(true);\n            int modifiers = field.getModifiers();\n            Object fieldValue = FieldUtils.readField(obj, field.getName(), true);\n            if (fieldValue instanceof String) {\n                field.set(obj, switchName((String) fieldValue));\n            }\n            else {\n                parse(fieldValue);\n            }\n        }\n    }\n\n    private String switchName(String value) {\n        return value.replace(&quot;apple&quot;, &quot;orange&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","overriding","equals","hashcode"],"comments":[{"owner":{"account_id":232333,"reputation":21533,"user_id":497106,"display_name":"Patashu"},"score":0,"creation_date":1364268305,"post_id":15628807,"comment_id":22171859,"body_markdown":"In hashCode() result = 31... should be result *= 31... so you don&#39;t lose the value already in there.","body":"In hashCode() result = 31... should be result *= 31... so you don&#39;t lose the value already in there."},{"owner":{"account_id":1432036,"reputation":14206,"user_id":1354251,"accept_rate":95,"display_name":"Kyle"},"score":1,"creation_date":1364268439,"post_id":15628807,"comment_id":22171889,"body_markdown":"He has result in the equation, 31 * result + (otherstuff). So it isn&#39;t lost. Just my 2 cents, but I think you&#39;re going at it the right way. Your equals method looks good to me.","body":"He has result in the equation, 31 * result + (otherstuff). So it isn&#39;t lost. Just my 2 cents, but I think you&#39;re going at it the right way. Your equals method looks good to me."},{"owner":{"account_id":1867908,"reputation":4350,"user_id":1690982,"display_name":"ddmps"},"score":0,"creation_date":1364268690,"post_id":15628807,"comment_id":22171935,"body_markdown":"Why would your code violate the contract? Your gut must be nervous, don&#39;t listen to it ;)","body":"Why would your code violate the contract? Your gut must be nervous, don&#39;t listen to it ;)"},{"owner":{"account_id":2431412,"reputation":3003,"user_id":2122215,"display_name":"Jazzer"},"score":1,"creation_date":1364268979,"post_id":15628807,"comment_id":22171991,"body_markdown":"I might just be a little on the overly-cautious side, but I&#39;m not entirely sure how the equalsIgnoreCase() and toLowerCase() methods works with special characters and differing locales. I don&#39;t think that will apply for this application, but I&#39;m trying to do things as bullet-proof as possible to develop that habit.","body":"I might just be a little on the overly-cautious side, but I&#39;m not entirely sure how the equalsIgnoreCase() and toLowerCase() methods works with special characters and differing locales. I don&#39;t think that will apply for this application, but I&#39;m trying to do things as bullet-proof as possible to develop that habit."},{"owner":{"account_id":168764,"reputation":10177,"user_id":394431,"accept_rate":87,"display_name":"Robert Tupelo-Schneck"},"score":0,"creation_date":1368024586,"post_id":15628807,"comment_id":23584860,"body_markdown":"Conventional wisdom is that you should never rely on the default `Locale`, but should always use `String.toLowerCase(Locale)` with an explicit `Locale`.  Otherwise you hit the &quot;infamous Turkish Locale bug&quot;.","body":"Conventional wisdom is that you should never rely on the default <code>Locale</code>, but should always use <code>String.toLowerCase(Locale)</code> with an explicit <code>Locale</code>.  Otherwise you hit the &quot;infamous Turkish Locale bug&quot;."}],"answers":[{"tags":[],"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1364270976,"creation_date":1364270976,"answer_id":15629238,"question_id":15628807,"body_markdown":"You are right. We can loop through all one-char strings, and find pairs `s1,s2` that `s1.equalsIgnoreCase(s2) &amp;&amp; !s1.toLowerCase().equals(s2.toLowerCase())`. There are quite some pairs. For example\r\n\r\n    s1=0049   &#39;LATIN CAPITAL LETTER I&#39;\r\n    s2=0131   &#39;LATIN SMALL LETTER DOTLESS I&#39;\r\n\r\n    s1.lowercase = 0069   &#39;LATIN SMALL LETTER I&#39;\r\n    s2.lowercase = 0131   itself\r\n\r\n\r\nIt also depends on locale: for s1, *Turkish and Azerbaijani use U+0131 for lowercase* ( see http://www.fileformat.info/info/unicode/char/0049/index.htm )\r\n","title":"Overriding hashCode with overridden equals using equalsIgnoreCase to check equality","body":"<p>You are right. We can loop through all one-char strings, and find pairs <code>s1,s2</code> that <code>s1.equalsIgnoreCase(s2) &amp;&amp; !s1.toLowerCase().equals(s2.toLowerCase())</code>. There are quite some pairs. For example</p>\n\n<pre><code>s1=0049   'LATIN CAPITAL LETTER I'\ns2=0131   'LATIN SMALL LETTER DOTLESS I'\n\ns1.lowercase = 0069   'LATIN SMALL LETTER I'\ns2.lowercase = 0131   itself\n</code></pre>\n\n<p>It also depends on locale: for s1, <em>Turkish and Azerbaijani use U+0131 for lowercase</em> ( see <a href=\"http://www.fileformat.info/info/unicode/char/0049/index.htm\" rel=\"nofollow\">http://www.fileformat.info/info/unicode/char/0049/index.htm</a> )</p>\n"},{"comments":[{"owner":{"account_id":2431412,"reputation":3003,"user_id":2122215,"display_name":"Jazzer"},"score":0,"creation_date":1364273981,"post_id":15629247,"comment_id":22173167,"body_markdown":"So using the character &#223; as an example, if we had a player with the first/last name &quot;&#223;illy &#223;ob&quot;, comparing him to another player named &quot;SSilly SSob&quot; would make them be equal in the eyes of equalsIgnoreCase but then generate two different hashCodes (the problem).   Assuming this is &#39;okay&#39; for my application, could we generate a hashCode that is equal when they are considered equal by equalsIgnoreCase by using toUpperCase where I was using toLowerCase?","body":"So using the character &#223; as an example, if we had a player with the first/last name &quot;&#223;illy &#223;ob&quot;, comparing him to another player named &quot;SSilly SSob&quot; would make them be equal in the eyes of equalsIgnoreCase but then generate two different hashCodes (the problem).   Assuming this is &#39;okay&#39; for my application, could we generate a hashCode that is equal when they are considered equal by equalsIgnoreCase by using toUpperCase where I was using toLowerCase?"},{"owner":{"account_id":57112,"reputation":37790,"user_id":171061,"accept_rate":76,"display_name":"Steven Schlansker"},"score":0,"creation_date":1364409621,"post_id":15629247,"comment_id":22237045,"body_markdown":"I&#39;m sure you could find a counterexample the other way too.","body":"I&#39;m sure you could find a counterexample the other way too."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1367011845,"post_id":15629247,"comment_id":23242475,"body_markdown":"@Jazzer: Does `equalsIgnoreCase` define an equivalence relation, i.e. is it impossible to have three strings x, y, and z, such that x.equalsIgnoreCase(y) and y.equalsIgnoreCase(z), but not x.equalsIgnoreCase(z)?  By the sound of it, &quot;&#223;&quot;.equalsIgnoreCase(&quot;SS&quot;) would be true, and &quot;ss&quot;.equalsIgnoreCase(&quot;SS&quot;) would be true, but &quot;&#223;&quot;.equalsIgnoreCase(&quot;ss&quot;) would be false.  To override `equals` with a function that does not implement an equivalence relation would be broken, even if `hashCode` always returned matching values for matching strings.","body":"@Jazzer: Does <code>equalsIgnoreCase</code> define an equivalence relation, i.e. is it impossible to have three strings x, y, and z, such that x.equalsIgnoreCase(y) and y.equalsIgnoreCase(z), but not x.equalsIgnoreCase(z)?  By the sound of it, &quot;&#223;&quot;.equalsIgnoreCase(&quot;SS&quot;) would be true, and &quot;ss&quot;.equalsIgnoreCase(&quot;SS&quot;) would be true, but &quot;&#223;&quot;.equalsIgnoreCase(&quot;ss&quot;) would be false.  To override <code>equals</code> with a function that does not implement an equivalence relation would be broken, even if <code>hashCode</code> always returned matching values for matching strings."},{"owner":{"account_id":168764,"reputation":10177,"user_id":394431,"accept_rate":87,"display_name":"Robert Tupelo-Schneck"},"score":0,"creation_date":1367938209,"post_id":15629247,"comment_id":23547880,"body_markdown":"`&quot;&#223;&quot;.equalsIgnoreCase(&quot;SS&quot;)` is false, because `equalsIgnoreCase` uses `Character.toUpperCase` and `Character.toLowerCase` instead of `String.toUpperCase` and `String.toLowerCase`.  This gives hope for a `hashCode` consistent with `equalsIgnoreCase`; see my answer.","body":"<code>&quot;&#223;&quot;.equalsIgnoreCase(&quot;SS&quot;)</code> is false, because <code>equalsIgnoreCase</code> uses <code>Character.toUpperCase</code> and <code>Character.toLowerCase</code> instead of <code>String.toUpperCase</code> and <code>String.toLowerCase</code>.  This gives hope for a <code>hashCode</code> consistent with <code>equalsIgnoreCase</code>; see my answer."}],"tags":[],"owner":{"account_id":57112,"reputation":37790,"user_id":171061,"accept_rate":76,"display_name":"Steven Schlansker"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1364271019,"creation_date":1364271019,"answer_id":15629247,"question_id":15628807,"body_markdown":"You&#39;re right to be worried.  [Read the contract for `equalsIgnoreCase`][1].\r\n\r\nTwo characters c1 and c2 are considered the same ignoring case if at least one of the following is true:\r\n\r\n* The two characters are the same (as compared by the == operator)\r\n* Applying the method Character.toUpperCase(char) to each character produces the same result\r\n* Applying the method Character.toLowerCase(char) to each character produces the same result\r\n\r\nSo, if there is a character that is equal when converted to _upper_ case but not the other way around, you will be in trouble.\r\n\r\nLet&#39;s take the example of the German character [&#223;][2], which turns into a [two character sequence `SS`][3] when converted to upper case.  That means that the string &quot;&#223;&quot; and &quot;SS&quot; are &quot;equalsIgnoreCase&quot; but will not have the same representation when converted to lower case!\r\n\r\nSo your approach here is broken.  Unfortunately, I am not sure that you will be able to design a hashCode that adequately expresses your need here.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#equalsIgnoreCase%28java.lang.String%29\r\n  [2]: http://en.wikipedia.org/wiki/%C3%9F#Substitution_and_all_caps\r\n  [3]: http://www.fileformat.info/info/unicode/char/df/index.htm","title":"Overriding hashCode with overridden equals using equalsIgnoreCase to check equality","body":"<p>You're right to be worried.  <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#equalsIgnoreCase%28java.lang.String%29\" rel=\"nofollow\">Read the contract for <code>equalsIgnoreCase</code></a>.</p>\n\n<p>Two characters c1 and c2 are considered the same ignoring case if at least one of the following is true:</p>\n\n<ul>\n<li>The two characters are the same (as compared by the == operator)</li>\n<li>Applying the method Character.toUpperCase(char) to each character produces the same result</li>\n<li>Applying the method Character.toLowerCase(char) to each character produces the same result</li>\n</ul>\n\n<p>So, if there is a character that is equal when converted to <em>upper</em> case but not the other way around, you will be in trouble.</p>\n\n<p>Let's take the example of the German character <a href=\"http://en.wikipedia.org/wiki/%C3%9F#Substitution_and_all_caps\" rel=\"nofollow\">ß</a>, which turns into a <a href=\"http://www.fileformat.info/info/unicode/char/df/index.htm\" rel=\"nofollow\">two character sequence <code>SS</code></a> when converted to upper case.  That means that the string \"ß\" and \"SS\" are \"equalsIgnoreCase\" but will not have the same representation when converted to lower case!</p>\n\n<p>So your approach here is broken.  Unfortunately, I am not sure that you will be able to design a hashCode that adequately expresses your need here.</p>\n"},{"comments":[{"owner":{"account_id":168764,"reputation":10177,"user_id":394431,"accept_rate":87,"display_name":"Robert Tupelo-Schneck"},"score":0,"creation_date":1367939627,"post_id":16422257,"comment_id":23548909,"body_markdown":"And `String.compareToIgnoreCase` uses this method explicitly.","body":"And <code>String.compareToIgnoreCase</code> uses this method explicitly."},{"owner":{"account_id":57112,"reputation":37790,"user_id":171061,"accept_rate":76,"display_name":"Steven Schlansker"},"score":0,"creation_date":1367952390,"post_id":16422257,"comment_id":23555865,"body_markdown":"I&#39;ll +1 for a new approach, but you should be really careful.  The Javadocs even warn you: `In general, String.toLowerCase() should be used to map characters to lowercase. String case mapping methods have several benefits over Character case mapping methods. String case mapping methods can perform locale-sensitive mappings, context-sensitive mappings, and 1:M character mappings, whereas the Character case mapping methods cannot.`  Plus this behavior doesn&#39;t seem guaranteed by the spec, so it may change out from other you.  Caution!","body":"I&#39;ll +1 for a new approach, but you should be really careful.  The Javadocs even warn you: <code>In general, String.toLowerCase() should be used to map characters to lowercase. String case mapping methods have several benefits over Character case mapping methods. String case mapping methods can perform locale-sensitive mappings, context-sensitive mappings, and 1:M character mappings, whereas the Character case mapping methods cannot.</code>  Plus this behavior doesn&#39;t seem guaranteed by the spec, so it may change out from other you.  Caution!"},{"owner":{"account_id":168764,"reputation":10177,"user_id":394431,"accept_rate":87,"display_name":"Robert Tupelo-Schneck"},"score":1,"creation_date":1368024436,"post_id":16422257,"comment_id":23584785,"body_markdown":"Right... I would say `String.equalsIgnoreCase()` (and `String.compareToIgnoreCase()`), being based on the `Character` case-mapping methods, should come with the same caveat.  In terms of writing a `hashCode()` consistent with `equals()`, you should either use `Character`-based case-mapping in both, or `String`-based case-mapping in both.  In fact, the original questioner may really want to keep his `hashCode()` method and change his `equals()` method to use `s1.toLowerCase().equals(s2.toLowerCase())` instead of `equalsIgnoreCase()`.","body":"Right... I would say <code>String.equalsIgnoreCase()</code> (and <code>String.compareToIgnoreCase()</code>), being based on the <code>Character</code> case-mapping methods, should come with the same caveat.  In terms of writing a <code>hashCode()</code> consistent with <code>equals()</code>, you should either use <code>Character</code>-based case-mapping in both, or <code>String</code>-based case-mapping in both.  In fact, the original questioner may really want to keep his <code>hashCode()</code> method and change his <code>equals()</code> method to use <code>s1.toLowerCase().equals(s2.toLowerCase())</code> instead of <code>equalsIgnoreCase()</code>."}],"tags":[],"owner":{"account_id":168764,"reputation":10177,"user_id":394431,"accept_rate":87,"display_name":"Robert Tupelo-Schneck"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1367938643,"creation_date":1367938643,"answer_id":16422257,"question_id":15628807,"body_markdown":"    @Override\r\n\tpublic int hashCode() {\r\n\t\tint result = 17;\r\n\t\tresult = 31 * result + characterwiseCaseNormalize(getFirstName()).hashCode();\r\n\t\tresult = 31 * result + characterwiseCaseNormalize(getLastName()).hashCode();\r\n\t\treturn result;\r\n\t}\r\n\r\n    private static String characterwiseCaseNormalize(String s) {\r\n        StringBuilder sb = new StringBuilder(s);\r\n        for(int i = 0; i &lt; sb.length(); i++) {\r\n            sb.setCharAt(i,Character.toLowerCase(Character.toUpperCase(sb.charAt(i))));\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\nThis `hashCode` will be consistent with an `equals` defined using `equalsIgnoreCase`.  In principle, according to the contract of `equalsIgnoreCase`, this seems to rely on it being the case that \r\n\r\n    Character.toLowerCase(Character.toUpperCase(c1))==Character.toLowerCase(Character.toUpperCase(c2))\r\n\r\nwhenever \r\n\r\n    Character.toLowerCase(c1)==Character.toLowerCase(c2).  \r\n\r\nI don&#39;t have proof that that is true, but the [OpenJDK implementation of equalsIgnoreCase](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/lang/String.java#String.regionMatches%28boolean%2Cint%2Cjava.lang.String%2Cint%2Cint%29) actually does it consistently with this method; it checks whether corresponding characters are equals, then whether their upper case versions are equals, then whether *the lower case versions of the upper case versions* are equal.","title":"Overriding hashCode with overridden equals using equalsIgnoreCase to check equality","body":"<pre><code>@Override\npublic int hashCode() {\n    int result = 17;\n    result = 31 * result + characterwiseCaseNormalize(getFirstName()).hashCode();\n    result = 31 * result + characterwiseCaseNormalize(getLastName()).hashCode();\n    return result;\n}\n\nprivate static String characterwiseCaseNormalize(String s) {\n    StringBuilder sb = new StringBuilder(s);\n    for(int i = 0; i &lt; sb.length(); i++) {\n        sb.setCharAt(i,Character.toLowerCase(Character.toUpperCase(sb.charAt(i))));\n    }\n    return sb.toString();\n}\n</code></pre>\n\n<p>This <code>hashCode</code> will be consistent with an <code>equals</code> defined using <code>equalsIgnoreCase</code>.  In principle, according to the contract of <code>equalsIgnoreCase</code>, this seems to rely on it being the case that </p>\n\n<pre><code>Character.toLowerCase(Character.toUpperCase(c1))==Character.toLowerCase(Character.toUpperCase(c2))\n</code></pre>\n\n<p>whenever </p>\n\n<pre><code>Character.toLowerCase(c1)==Character.toLowerCase(c2).  \n</code></pre>\n\n<p>I don't have proof that that is true, but the <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/lang/String.java#String.regionMatches%28boolean%2Cint%2Cjava.lang.String%2Cint%2Cint%29\" rel=\"noreferrer\">OpenJDK implementation of equalsIgnoreCase</a> actually does it consistently with this method; it checks whether corresponding characters are equals, then whether their upper case versions are equals, then whether <em>the lower case versions of the upper case versions</em> are equal.</p>\n"},{"comments":[{"owner":{"account_id":168764,"reputation":10177,"user_id":394431,"accept_rate":87,"display_name":"Robert Tupelo-Schneck"},"score":0,"creation_date":1368024883,"post_id":16443846,"comment_id":23585048,"body_markdown":"In some circumstances, in fact, you really want to use some fancy Unicode normalization on your Strings as well as case-folding.  See http://userguide.icu-project.org/transforms/normalization .","body":"In some circumstances, in fact, you really want to use some fancy Unicode normalization on your Strings as well as case-folding.  See <a href=\"http://userguide.icu-project.org/transforms/normalization\" rel=\"nofollow noreferrer\">userguide.icu-project.org/transforms/normalization</a> ."}],"tags":[],"owner":{"account_id":168764,"reputation":10177,"user_id":394431,"accept_rate":87,"display_name":"Robert Tupelo-Schneck"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1368024789,"creation_date":1368024789,"answer_id":16443846,"question_id":15628807,"body_markdown":"In terms of writing a `hashCode()` consistent with `equals()`, you should either use `Character`-based case-mapping in both, or `String`-based case-mapping in both.  In my other answer I showed how to write a `hashCode()` using `Character`-based case-mapping; but there&#39;s another solution, which is to change `equals()` instead to use `String`-based case-mapping.  (Note that `String.equalsIgnoreCase()` uses `Character`-based case-mapping.)\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (o == this) return true;\r\n        if (! (o instanceof Player)) return false;\r\n        Player p = (Player) o;\r\n        return getFirstName().toLowerCase().equals(p.getFirstName().toLowerCase()) &amp;&amp; \r\n            getLastName().toLowerCase().equals(p.getLastName().toLowerCase());\r\n    }","title":"Overriding hashCode with overridden equals using equalsIgnoreCase to check equality","body":"<p>In terms of writing a <code>hashCode()</code> consistent with <code>equals()</code>, you should either use <code>Character</code>-based case-mapping in both, or <code>String</code>-based case-mapping in both.  In my other answer I showed how to write a <code>hashCode()</code> using <code>Character</code>-based case-mapping; but there's another solution, which is to change <code>equals()</code> instead to use <code>String</code>-based case-mapping.  (Note that <code>String.equalsIgnoreCase()</code> uses <code>Character</code>-based case-mapping.)</p>\n\n<pre><code>@Override\npublic boolean equals(Object o) {\n    if (o == this) return true;\n    if (! (o instanceof Player)) return false;\n    Player p = (Player) o;\n    return getFirstName().toLowerCase().equals(p.getFirstName().toLowerCase()) &amp;&amp; \n        getLastName().toLowerCase().equals(p.getLastName().toLowerCase());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7141983,"reputation":261,"user_id":5459233,"display_name":"Lof"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681135748,"creation_date":1681135748,"answer_id":75977836,"question_id":15628807,"body_markdown":"```\r\n\r\n@Override\r\npublic boolean equals(Object o) {\r\n\r\n    if (o == this) {\r\n      return true;\r\n    }\r\n   \r\n   if (o == null) {\r\n       return false;\r\n   }\r\n\r\n   if (! (o instanceof Player)) {\r\n       return false;\r\n   }\r\n\r\n    Player p = (Player) o;\r\n\r\n    return equalsIgnoreCase(this.getFirstName(), p.getFirstName())\r\n           &amp;&amp; \r\n           equalsIgnoreCase(this.getLastName(), p.getLastName());\r\n\r\n}\r\n\r\n\r\npublic boolean equalsIgnoreCase (String s1, String s2) {\r\n\r\n   if (s1 == null &amp;&amp; s2 == null) {\r\n\t\treturn true;\r\n\t}\r\n\t\t\r\n\tif (s1 != null) {\r\n\t\treturn s1.equalsIgnoreCase(s2);\r\n\t} else {\r\n\t\treturn s2.equalsIgnoreCase(s1);\r\n\t}\r\n\r\n}\r\n```","title":"Overriding hashCode with overridden equals using equalsIgnoreCase to check equality","body":"<pre><code>\n@Override\npublic boolean equals(Object o) {\n\n    if (o == this) {\n      return true;\n    }\n   \n   if (o == null) {\n       return false;\n   }\n\n   if (! (o instanceof Player)) {\n       return false;\n   }\n\n    Player p = (Player) o;\n\n    return equalsIgnoreCase(this.getFirstName(), p.getFirstName())\n           &amp;&amp; \n           equalsIgnoreCase(this.getLastName(), p.getLastName());\n\n}\n\n\npublic boolean equalsIgnoreCase (String s1, String s2) {\n\n   if (s1 == null &amp;&amp; s2 == null) {\n        return true;\n    }\n        \n    if (s1 != null) {\n        return s1.equalsIgnoreCase(s2);\n    } else {\n        return s2.equalsIgnoreCase(s1);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":2431412,"reputation":3003,"user_id":2122215,"display_name":"Jazzer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3145,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":16422257,"answer_count":5,"score":9,"last_activity_date":1681135748,"creation_date":1364268228,"question_id":15628807,"body_markdown":"I&#39;ve currently got an overridden `equals(Object)` that looks like this:\r\n\r\n    @Override\r\n\tpublic boolean equals(Object o) {\r\n\t\tif (o == this) return true;\r\n\t\tif (! (o instanceof Player)) return false;\r\n\t\tPlayer p = (Player) o;\r\n\t\treturn getFirstName().equalsIgnoreCase(p.getFirstName()) &amp;&amp; \r\n\t\t\t\tgetLastName().equalsIgnoreCase(p.getLastName());\r\n\t}\r\n\r\nMy `hashCode()` currently looks like this:\r\n\r\n    @Override\r\n\tpublic int hashCode() {\r\n\t\tint result = 17;\r\n\t\tresult = 31 * result + getFirstName().toLowerCase().hashCode();\r\n\t\tresult = 31 * result + getLastName().toLowerCase().hashCode();\r\n\t\treturn result;\r\n\t}\r\n\r\nMy question is regarding my overridden hashCode() method. I know that I need hashCode() to return the same value for two objects if they are considered equal by the equals(Object) method. My gut tells me there is *some* case where this hashCode() will violate the contract. \r\n\r\nIs there an acceptable way to use the equalsIgnoreCase(String) method in an overridden equals(Object) method and generate a hashcode that doesn&#39;t violate the contract?","title":"Overriding hashCode with overridden equals using equalsIgnoreCase to check equality","body":"<p>I've currently got an overridden <code>equals(Object)</code> that looks like this:</p>\n\n<pre><code>@Override\npublic boolean equals(Object o) {\n    if (o == this) return true;\n    if (! (o instanceof Player)) return false;\n    Player p = (Player) o;\n    return getFirstName().equalsIgnoreCase(p.getFirstName()) &amp;&amp; \n            getLastName().equalsIgnoreCase(p.getLastName());\n}\n</code></pre>\n\n<p>My <code>hashCode()</code> currently looks like this:</p>\n\n<pre><code>@Override\npublic int hashCode() {\n    int result = 17;\n    result = 31 * result + getFirstName().toLowerCase().hashCode();\n    result = 31 * result + getLastName().toLowerCase().hashCode();\n    return result;\n}\n</code></pre>\n\n<p>My question is regarding my overridden hashCode() method. I know that I need hashCode() to return the same value for two objects if they are considered equal by the equals(Object) method. My gut tells me there is <em>some</em> case where this hashCode() will violate the contract. </p>\n\n<p>Is there an acceptable way to use the equalsIgnoreCase(String) method in an overridden equals(Object) method and generate a hashcode that doesn't violate the contract?</p>\n"},{"tags":["java","list","java-stream"],"comments":[{"owner":{"account_id":10350867,"reputation":1227,"user_id":7634317,"display_name":"El."},"score":5,"creation_date":1680952037,"post_id":75964784,"comment_id":133983308,"body_markdown":"have you tried `distinct` on concatenated stream?","body":"have you tried <code>distinct</code> on concatenated stream?"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":2,"creation_date":1680952237,"post_id":75964784,"comment_id":133983328,"body_markdown":"If the whole list of clients fits in memory - as in your code - then you can implement it much simpler using a HashSet. Adding new clients to it will do the trick. Only objects not yet contained will be added. This is how a set works.","body":"If the whole list of clients fits in memory - as in your code - then you can implement it much simpler using a HashSet. Adding new clients to it will do the trick. Only objects not yet contained will be added. This is how a set works."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681135610,"creation_date":1681135007,"answer_id":75977754,"question_id":75964784,"body_markdown":"&gt; My question is: Is there a simpler way of doing this?\r\n\r\nIf you use a set for the `newTestObjects` data structure, it can be simpler.\r\n```\r\nList&lt;TestObject&gt; testObjects = new ArrayList&lt;&gt;(\r\n        List.of(new TestObject(1, &quot;+111&quot;, &quot;email1&quot;, &quot;Ivan&quot;),\r\n                new TestObject(2, &quot;+222&quot;, &quot;email2&quot;, &quot;Ilya&quot;),\r\n                new TestObject(3, &quot;+333&quot;, &quot;email3&quot;, &quot;Pavel&quot;)));\r\nSet&lt;TestObject&gt; newTestObjects = new HashSet&lt;&gt;(\r\n        List.of(new TestObject(null, &quot;+444&quot;, &quot;email4&quot;, &quot;Anna&quot;),\r\n                new TestObject(null, &quot;+111&quot;, &quot;email1&quot;, &quot;Ivan&quot;),\r\n                new TestObject(null, &quot;+222&quot;, &quot;email2&quot;, &quot;Ivan&quot;)));\r\n```\r\n- first remove the existing objects from the new ones.\r\n- then add back into the original list any that were not removed from the set.\r\n```\r\nnewTestObjects.removeAll(testObjects);\r\ntestObjects.addAll(newTestObjects);\r\n\r\ntestObjects.forEach(System.out::println);\r\n```\r\nprints\r\n```\r\nTestObject [1, +111, email1, Ivan]\r\nTestObject [2, +222, email2, Ilya]\r\nTestObject [3, +333, email3, Pavel]\r\nTestObject [null, +444, email4, Anna]\r\n\r\n```\r\nif you need to preserve the original `testObjects` list, you can do it like this.\r\n```\r\nList&lt;TestObject&gt; newList = new ArrayList&lt;&gt;(testObjects);\r\nnewList.addAll(newTestObjects);\r\n```\r\nUsing a set for the `newTestObjects` can be significantly faster for large numbers of objects since then objects are hashed, resulting in a faster lookup.\r\n","title":"Concatenate List of objects without duplicates","body":"<blockquote>\n<p>My question is: Is there a simpler way of doing this?</p>\n</blockquote>\n<p>If you use a set for the <code>newTestObjects</code> data structure, it can be simpler.</p>\n<pre><code>List&lt;TestObject&gt; testObjects = new ArrayList&lt;&gt;(\n        List.of(new TestObject(1, &quot;+111&quot;, &quot;email1&quot;, &quot;Ivan&quot;),\n                new TestObject(2, &quot;+222&quot;, &quot;email2&quot;, &quot;Ilya&quot;),\n                new TestObject(3, &quot;+333&quot;, &quot;email3&quot;, &quot;Pavel&quot;)));\nSet&lt;TestObject&gt; newTestObjects = new HashSet&lt;&gt;(\n        List.of(new TestObject(null, &quot;+444&quot;, &quot;email4&quot;, &quot;Anna&quot;),\n                new TestObject(null, &quot;+111&quot;, &quot;email1&quot;, &quot;Ivan&quot;),\n                new TestObject(null, &quot;+222&quot;, &quot;email2&quot;, &quot;Ivan&quot;)));\n</code></pre>\n<ul>\n<li>first remove the existing objects from the new ones.</li>\n<li>then add back into the original list any that were not removed from the set.</li>\n</ul>\n<pre><code>newTestObjects.removeAll(testObjects);\ntestObjects.addAll(newTestObjects);\n\ntestObjects.forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>TestObject [1, +111, email1, Ivan]\nTestObject [2, +222, email2, Ilya]\nTestObject [3, +333, email3, Pavel]\nTestObject [null, +444, email4, Anna]\n\n</code></pre>\n<p>if you need to preserve the original <code>testObjects</code> list, you can do it like this.</p>\n<pre><code>List&lt;TestObject&gt; newList = new ArrayList&lt;&gt;(testObjects);\nnewList.addAll(newTestObjects);\n</code></pre>\n<p>Using a set for the <code>newTestObjects</code> can be significantly faster for large numbers of objects since then objects are hashed, resulting in a faster lookup.</p>\n"}],"owner":{"account_id":25940493,"reputation":105,"user_id":19660081,"display_name":"Ivan Dvurechenskiy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681135610,"creation_date":1680951091,"question_id":75964784,"body_markdown":"I have a list of clients stored in a database. I need to implement the functionality of updating this list, with a check for duplicates. Checking for customer equality is done by comparing email and phone number. So the task boils down to merging the two lists, adding only those customers whose email address and phone number are not in the database.\r\n\r\nMy question is: Is there a simpler way of doing this?\r\n\r\n```\r\npublic class DateTest {\r\n    public static void main(String[] args) {\r\n        TestObject t1 = new TestObject(1, &quot;+111&quot;, &quot;email1&quot;, &quot;Ivan&quot;);\r\n        TestObject t2 = new TestObject(2, &quot;+222&quot;, &quot;email2&quot;, &quot;Ilya&quot;);\r\n        TestObject t3 = new TestObject(3, &quot;+333&quot;, &quot;email3&quot;, &quot;Pavel&quot;);\r\n        TestObject t4 = new TestObject(null, &quot;+444&quot;, &quot;email4&quot;, &quot;Anna&quot;);\r\n        TestObject t5 = new TestObject(null, &quot;+111&quot;, &quot;email1&quot;, &quot;Ivan&quot;);\r\n        TestObject t6 = new TestObject(null, &quot;+222&quot;, &quot;email2&quot;, &quot;Ivan&quot;);\r\n        List&lt;TestObject&gt; testObjects = Arrays.asList(t1, t2, t3);\r\n        List&lt;TestObject&gt; newTestObjects = Arrays.asList(t4, t5, t6);\r\n        List&lt;TestObject&gt; notPresentObj = newTestObjects.stream().filter(client -&gt; !testObjects.contains(client)).collect(Collectors.toList());\r\n        List&lt;TestObject&gt; newList  = Stream.concat(testObjects.stream(),notPresentObj.stream()).collect(Collectors.toList());\r\n        System.out.println(newList);\r\n    }\r\n\r\n}\r\n\r\nclass TestObject {\r\n    private Integer id;\r\n    private String phoneNubmer;\r\n    private String email;\r\n    private String name;\r\n\r\n\r\n    public TestObject(Integer id, String phoneNubmer, String email, String name) {\r\n        this.id = id;\r\n        this.phoneNubmer = phoneNubmer;\r\n        this.email = email;\r\n        this.name = name;\r\n    }\r\n\r\n  //getters, setters and toString\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        TestObject that = (TestObject) o;\r\n        return Objects.equals(phoneNubmer, that.phoneNubmer) &amp;&amp; Objects.equals(email, that.email);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(phoneNubmer, email);\r\n    }\r\n   \r\n```","title":"Concatenate List of objects without duplicates","body":"<p>I have a list of clients stored in a database. I need to implement the functionality of updating this list, with a check for duplicates. Checking for customer equality is done by comparing email and phone number. So the task boils down to merging the two lists, adding only those customers whose email address and phone number are not in the database.</p>\n<p>My question is: Is there a simpler way of doing this?</p>\n<pre><code>public class DateTest {\n    public static void main(String[] args) {\n        TestObject t1 = new TestObject(1, &quot;+111&quot;, &quot;email1&quot;, &quot;Ivan&quot;);\n        TestObject t2 = new TestObject(2, &quot;+222&quot;, &quot;email2&quot;, &quot;Ilya&quot;);\n        TestObject t3 = new TestObject(3, &quot;+333&quot;, &quot;email3&quot;, &quot;Pavel&quot;);\n        TestObject t4 = new TestObject(null, &quot;+444&quot;, &quot;email4&quot;, &quot;Anna&quot;);\n        TestObject t5 = new TestObject(null, &quot;+111&quot;, &quot;email1&quot;, &quot;Ivan&quot;);\n        TestObject t6 = new TestObject(null, &quot;+222&quot;, &quot;email2&quot;, &quot;Ivan&quot;);\n        List&lt;TestObject&gt; testObjects = Arrays.asList(t1, t2, t3);\n        List&lt;TestObject&gt; newTestObjects = Arrays.asList(t4, t5, t6);\n        List&lt;TestObject&gt; notPresentObj = newTestObjects.stream().filter(client -&gt; !testObjects.contains(client)).collect(Collectors.toList());\n        List&lt;TestObject&gt; newList  = Stream.concat(testObjects.stream(),notPresentObj.stream()).collect(Collectors.toList());\n        System.out.println(newList);\n    }\n\n}\n\nclass TestObject {\n    private Integer id;\n    private String phoneNubmer;\n    private String email;\n    private String name;\n\n\n    public TestObject(Integer id, String phoneNubmer, String email, String name) {\n        this.id = id;\n        this.phoneNubmer = phoneNubmer;\n        this.email = email;\n        this.name = name;\n    }\n\n  //getters, setters and toString\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        TestObject that = (TestObject) o;\n        return Objects.equals(phoneNubmer, that.phoneNubmer) &amp;&amp; Objects.equals(email, that.email);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(phoneNubmer, email);\n    }\n   \n</code></pre>\n"},{"tags":["java","sql","spring","relationship","crud"],"owner":{"account_id":27784879,"reputation":389,"user_id":21212553,"display_name":"galalem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681134414,"creation_date":1681134414,"question_id":75977680,"body_markdown":"Let&#39;s say I have an Entity `Post` which has Many `Tag`s. Users can do standard BREAD operations. (Browse, Read, Edit, Add, Delete). \r\n\r\nMy question is about the *Edit* part. when Creating (Adding) a post, the user adds some tags. The request looks like this\r\n```json\r\n{\r\n  &quot;title&quot;: &quot;Lorem ipsum&quot;,\r\n  &quot;Body&quot;: &quot;Lorem Ipsum foo bar todododo&quot;,\r\n  ...\r\n  &quot;tags&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;Tag 1&quot;,\r\n      &quot;category&quot;: 52\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;Tag 2&quot;,\r\n      &quot;category&quot;: 37\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;Tag 3&quot;,\r\n      &quot;category&quot;: 52\r\n    }\r\n  ]\r\n} \r\n```\r\n\r\nWhen Editing the post, the user can **delete** some tags, **edit** the tags, **add** new tags. So I&#39;m wondering how to deal with this when saving changes.\r\n\r\nI have 2 approaches in mind\r\n1. Delete all old tags, then save all new tags\r\n2. Keep track of tags IDs, update the old tags, create the new ones, delete the old tags that no longer exist after comparing old ids with new one.\r\n\r\nWhich one is the best practice?\r\n\r\n##### Note\r\nI&#39;m using Spring, so with JPARepositories `rep.save(entity)` works for both *create* &amp; *update*\r\n\r\n###### First Approach\r\n```java\r\ntagRepository.deleteByPostId(postId);\r\nfor(Tag tag: request.getTags()){\r\n  tag.setPostId(postId);\r\n  tagRepository.save(tag);\r\n}\r\n```\r\n\r\n###### SecondApproach\r\n```java\r\nList&lt;Tag&gt; tags = request.getTags();\r\n\r\nList&lt;Long&gt; keepIds = tags.stream().filter(tag.getId() != null).map(tag -&gt; tag.getId()).toList();\r\ntagRepository.deleteByPostIdWhereIdNotIn(postId, keepIds);\r\n\r\nfor(Tag tag: tags){\r\n  /* if tag is old tag id would be already set so entity will be updated \r\n   * else id would be null and new entity will be created */\r\n  tag.setPostId(postId);\r\n  tagRepository.save(tag);\r\n}\r\n```\r\nI&#39;m interested in the performace of each approach (if tags are few VS if tags are in hundreds). If there&#39;s a better method I&#39;m all ears.\r\n\r\nThanks :)","title":"Spring - Updating multiple relationships simultaneously best practice","body":"<p>Let's say I have an Entity <code>Post</code> which has Many <code>Tag</code>s. Users can do standard BREAD operations. (Browse, Read, Edit, Add, Delete).</p>\n<p>My question is about the <em>Edit</em> part. when Creating (Adding) a post, the user adds some tags. The request looks like this</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;title&quot;: &quot;Lorem ipsum&quot;,\n  &quot;Body&quot;: &quot;Lorem Ipsum foo bar todododo&quot;,\n  ...\n  &quot;tags&quot;: [\n    {\n      &quot;name&quot;: &quot;Tag 1&quot;,\n      &quot;category&quot;: 52\n    },\n    {\n      &quot;name&quot;: &quot;Tag 2&quot;,\n      &quot;category&quot;: 37\n    },\n    {\n      &quot;name&quot;: &quot;Tag 3&quot;,\n      &quot;category&quot;: 52\n    }\n  ]\n} \n</code></pre>\n<p>When Editing the post, the user can <strong>delete</strong> some tags, <strong>edit</strong> the tags, <strong>add</strong> new tags. So I'm wondering how to deal with this when saving changes.</p>\n<p>I have 2 approaches in mind</p>\n<ol>\n<li>Delete all old tags, then save all new tags</li>\n<li>Keep track of tags IDs, update the old tags, create the new ones, delete the old tags that no longer exist after comparing old ids with new one.</li>\n</ol>\n<p>Which one is the best practice?</p>\n<h5>Note</h5>\n<p>I'm using Spring, so with JPARepositories <code>rep.save(entity)</code> works for both <em>create</em> &amp; <em>update</em></p>\n<h6>First Approach</h6>\n<pre class=\"lang-java prettyprint-override\"><code>tagRepository.deleteByPostId(postId);\nfor(Tag tag: request.getTags()){\n  tag.setPostId(postId);\n  tagRepository.save(tag);\n}\n</code></pre>\n<h6>SecondApproach</h6>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Tag&gt; tags = request.getTags();\n\nList&lt;Long&gt; keepIds = tags.stream().filter(tag.getId() != null).map(tag -&gt; tag.getId()).toList();\ntagRepository.deleteByPostIdWhereIdNotIn(postId, keepIds);\n\nfor(Tag tag: tags){\n  /* if tag is old tag id would be already set so entity will be updated \n   * else id would be null and new entity will be created */\n  tag.setPostId(postId);\n  tagRepository.save(tag);\n}\n</code></pre>\n<p>I'm interested in the performace of each approach (if tags are few VS if tags are in hundreds). If there's a better method I'm all ears.</p>\n<p>Thanks :)</p>\n"},{"tags":["java","lambda","java-8","java-stream"],"comments":[{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":2,"creation_date":1439434158,"post_id":27677256,"comment_id":51863208,"body_markdown":"possible duplicate of [Collect stream with grouping, counting and filtering operations](http://stackoverflow.com/questions/30515792/collect-stream-with-grouping-counting-and-filtering-operations)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/30515792/collect-stream-with-grouping-counting-and-filtering-operations\">Collect stream with grouping, counting and filtering operations</a>"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1525338137,"post_id":27677256,"comment_id":87319676,"body_markdown":"If you don&#39;t want to collect the stream, this essentially boils down to &quot;how can I look at more than one item at once in a stream&quot;?","body":"If you don&#39;t want to collect the stream, this essentially boils down to &quot;how can I look at more than one item at once in a stream&quot;?"},{"owner":{"account_id":6145873,"reputation":83,"user_id":4791885,"display_name":"Saroj Kumar Sahoo"},"score":1,"creation_date":1599284801,"post_id":27677256,"comment_id":112733109,"body_markdown":"Set&lt;Integer&gt; items = new HashSet();                                                                                                           \n numbers.stream().filter(n -&gt; i!tems.add(n)).collect(Collectors.toSet());","body":"Set&lt;Integer&gt; items = new HashSet();                                                                                                             numbers.stream().filter(n -&gt; i!tems.add(n)).collect(Collectors.toSet());"}],"answers":[{"comments":[{"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"score":15,"creation_date":1430976566,"post_id":27691091,"comment_id":48297730,"body_markdown":"Isn&#39;t that an O(n^2) operation?","body":"Isn&#39;t that an O(n^2) operation?"},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":4,"creation_date":1441953773,"post_id":27691091,"comment_id":52892387,"body_markdown":"Try to use `numbers = Arrays.asList(400, 400, 500, 500);`","body":"Try to use <code>numbers = Arrays.asList(400, 400, 500, 500);</code>"},{"owner":{"account_id":2602101,"reputation":449,"user_id":2254192,"accept_rate":18,"display_name":"redigaffi"},"score":1,"creation_date":1559817734,"post_id":27691091,"comment_id":99542018,"body_markdown":"Is this similar to creating a 2 depth loop? for(..) { for(..) } Just curios how internally it works","body":"Is this similar to creating a 2 depth loop? for(..) { for(..) } Just curios how internally it works"},{"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"score":1,"creation_date":1598345665,"post_id":27691091,"comment_id":112421309,"body_markdown":"Though it is a nice approach, yet having `stream` inside `stream` is costly.","body":"Though it is a nice approach, yet having <code>stream</code> inside <code>stream</code> is costly."}],"tags":[],"owner":{"account_id":908333,"reputation":1660,"user_id":942772,"accept_rate":80,"display_name":"Oussama Zoghlami"},"comment_count":4,"down_vote_count":7,"up_vote_count":16,"is_accepted":false,"score":9,"last_activity_date":1583321014,"creation_date":1419864901,"answer_id":27691091,"question_id":27677256,"body_markdown":"You can get the duplicated like this :\r\n\r\n    List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 1, 3, 4, 4);\r\n    Set&lt;Integer&gt; duplicated = numbers\r\n      .stream()\r\n      .filter(n -&gt; numbers\r\n            .stream()\r\n            .filter(x -&gt; x == n)\r\n            .count() &gt; 1)\r\n       .collect(Collectors.toSet());","title":"Java 8, Streams to find the duplicate elements","body":"<p>You can get the duplicated like this :</p>\n\n<pre><code>List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 1, 3, 4, 4);\nSet&lt;Integer&gt; duplicated = numbers\n  .stream()\n  .filter(n -&gt; numbers\n        .stream()\n        .filter(x -&gt; x == n)\n        .count() &gt; 1)\n   .collect(Collectors.toSet());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"score":0,"creation_date":1436535601,"post_id":30741906,"comment_id":50668520,"body_markdown":"I think this is the most efficient solution.","body":"I think this is the most efficient solution."},{"owner":{"account_id":20061,"reputation":20239,"user_id":47552,"accept_rate":91,"display_name":"Matt McHenry"},"score":24,"creation_date":1443023038,"post_id":30741906,"comment_id":53328685,"body_markdown":"`filter()` requires a stateless predicate.  Your &quot;solution&quot; is strikingly similar to the example of a stateful predicate given in the javadoc: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Statelessness","body":"<code>filter()</code> requires a stateless predicate.  Your &quot;solution&quot; is strikingly similar to the example of a stateful predicate given in the javadoc: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Statelessness\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/stream/&hellip;</a>"},{"owner":{"account_id":92537,"reputation":6275,"user_id":253575,"accept_rate":83,"display_name":"IcedDante"},"score":2,"creation_date":1471617518,"post_id":30741906,"comment_id":65433066,"body_markdown":"@MattMcHenry: does that mean this solution has the potential to produce unexpected behavior, or is it just bad practice?","body":"@MattMcHenry: does that mean this solution has the potential to produce unexpected behavior, or is it just bad practice?"},{"owner":{"account_id":20061,"reputation":20239,"user_id":47552,"accept_rate":91,"display_name":"Matt McHenry"},"score":9,"creation_date":1471806093,"post_id":30741906,"comment_id":65483824,"body_markdown":"@IcedDante In a localized case like there where you know for sure that the stream is `sequential()`, it&#39;s *probably* safe.  In the more general case where the stream may be `parallel()`, it&#39;s pretty much guaranteed to break in weird ways.","body":"@IcedDante In a localized case like there where you know for sure that the stream is <code>sequential()</code>, it&#39;s <i>probably</i> safe.  In the more general case where the stream may be <code>parallel()</code>, it&#39;s pretty much guaranteed to break in weird ways."},{"owner":{"account_id":1709031,"reputation":6388,"user_id":1567452,"accept_rate":50,"display_name":"jwilner"},"score":6,"creation_date":1522753923,"post_id":30741906,"comment_id":86264013,"body_markdown":"In addition to producing unexpected behavior in some situations, this mixes paradigms as Bloch argues you shouldn&#39;t in the third edition of Effective Java. If you find yourself writing this, just use a for loop.","body":"In addition to producing unexpected behavior in some situations, this mixes paradigms as Bloch argues you shouldn&#39;t in the third edition of Effective Java. If you find yourself writing this, just use a for loop."},{"owner":{"account_id":7723307,"reputation":3631,"user_id":5848808,"display_name":"Boris Schegolev"},"score":0,"creation_date":1524166816,"post_id":30741906,"comment_id":86873923,"body_markdown":"Although the approach is up to discussion for a production-level code, this is a pretty good coding exercise. Parallel execution can be fixed with synchronization, it won&#39;t break anything. Further more, this can be done in a one-liner - without declaring the `Set&lt;Integer&gt; allItems = new HashSet&lt;&gt;();`","body":"Although the approach is up to discussion for a production-level code, this is a pretty good coding exercise. Parallel execution can be fixed with synchronization, it won&#39;t break anything. Further more, this can be done in a one-liner - without declaring the <code>Set&lt;Integer&gt; allItems = new HashSet&lt;&gt;();</code>"},{"owner":{"account_id":4599512,"reputation":967,"user_id":3730661,"display_name":"Dave"},"score":9,"creation_date":1531426981,"post_id":30741906,"comment_id":89604370,"body_markdown":"Found this in the wild being used by Hibernate Validator [UniqueElements](https://github.com/hibernate/hibernate-validator/blob/fb6450dfec46d19eb1411362bff9cb2b1ab240b4/engine/src/main/java/org/hibernate/validator/internal/constraintvalidators/hv/UniqueElementsValidator.java#L64) constraint.","body":"Found this in the wild being used by Hibernate Validator <a href=\"https://github.com/hibernate/hibernate-validator/blob/fb6450dfec46d19eb1411362bff9cb2b1ab240b4/engine/src/main/java/org/hibernate/validator/internal/constraintvalidators/hv/UniqueElementsValidator.java#L64\" rel=\"nofollow noreferrer\">UniqueElements</a> constraint."}],"tags":[],"owner":{"account_id":4599512,"reputation":967,"user_id":3730661,"display_name":"Dave"},"comment_count":7,"down_vote_count":5,"up_vote_count":72,"is_accepted":false,"score":67,"last_activity_date":1433880684,"creation_date":1433880684,"answer_id":30741906,"question_id":27677256,"body_markdown":"You need a set (`allItems` below) to hold the entire array contents, but this is O(n):\r\n\r\n\tInteger[] numbers = new Integer[] { 1, 2, 1, 3, 4, 4 };\r\n\tSet&lt;Integer&gt; allItems = new HashSet&lt;&gt;();\r\n\tSet&lt;Integer&gt; duplicates = Arrays.stream(numbers)\r\n\t\t\t.filter(n -&gt; !allItems.add(n)) //Set.add() returns false if the item was already in the set.\r\n\t\t\t.collect(Collectors.toSet());\r\n\tSystem.out.println(duplicates); // [1, 4]\r\n\r\n\r\n","title":"Java 8, Streams to find the duplicate elements","body":"<p>You need a set (<code>allItems</code> below) to hold the entire array contents, but this is O(n):</p>\n\n<pre><code>Integer[] numbers = new Integer[] { 1, 2, 1, 3, 4, 4 };\nSet&lt;Integer&gt; allItems = new HashSet&lt;&gt;();\nSet&lt;Integer&gt; duplicates = Arrays.stream(numbers)\n        .filter(n -&gt; !allItems.add(n)) //Set.add() returns false if the item was already in the set.\n        .collect(Collectors.toSet());\nSystem.out.println(duplicates); // [1, 4]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1709031,"reputation":6388,"user_id":1567452,"accept_rate":50,"display_name":"jwilner"},"score":14,"creation_date":1563719065,"post_id":31341963,"comment_id":100784074,"body_markdown":"This answer is the correct one imo because it is linear and doesn&#39;t violate the &quot;stateless predicate&quot; rule.","body":"This answer is the correct one imo because it is linear and doesn&#39;t violate the &quot;stateless predicate&quot; rule."},{"owner":{"account_id":1909200,"reputation":366,"user_id":1723471,"display_name":"kidnan1991"},"score":0,"creation_date":1619672038,"post_id":31341963,"comment_id":118976742,"body_markdown":"@jwilner Its not really, `Collectors.counting()` is the same as the above answer. and IMHO, in a small set the above one is much simpler and cleaner","body":"@jwilner Its not really, <code>Collectors.counting()</code> is the same as the above answer. and IMHO, in a small set the above one is much simpler and cleaner"},{"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"score":1,"creation_date":1619794916,"post_id":31341963,"comment_id":119020331,"body_markdown":"@kidnan1991 it is not the same. In above answer, each item is filtered against it&#39;s frequency, for each item again. That is really something else than making a map.","body":"@kidnan1991 it is not the same. In above answer, each item is filtered against it&#39;s frequency, for each item again. That is really something else than making a map."}],"tags":[],"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"comment_count":3,"down_vote_count":0,"up_vote_count":103,"is_accepted":false,"score":103,"last_activity_date":1610468147,"creation_date":1436534708,"answer_id":31341963,"question_id":27677256,"body_markdown":"Basic example. First-half builds the frequency-map, second-half reduces it to a filtered list. Probably not as efficient as Dave&#39;s answer, but more versatile (like if you want to detect exactly two etc.)\r\n\r\n    List&lt;Integer&gt; duplicates = IntStream.of( 1, 2, 3, 2, 1, 2, 3, 4, 2, 2, 2 )\r\n       .boxed()\r\n       .collect( Collectors.groupingBy( Function.identity(), Collectors.counting() ) )\r\n       .entrySet()\r\n       .stream()\r\n       .filter( p -&gt; p.getValue() &gt; 1 )\r\n       .map( Map.Entry::getKey )\r\n       .collect( Collectors.toList() );","title":"Java 8, Streams to find the duplicate elements","body":"<p>Basic example. First-half builds the frequency-map, second-half reduces it to a filtered list. Probably not as efficient as Dave's answer, but more versatile (like if you want to detect exactly two etc.)</p>\n<pre><code>List&lt;Integer&gt; duplicates = IntStream.of( 1, 2, 3, 2, 1, 2, 3, 4, 2, 2, 2 )\n   .boxed()\n   .collect( Collectors.groupingBy( Function.identity(), Collectors.counting() ) )\n   .entrySet()\n   .stream()\n   .filter( p -&gt; p.getValue() &gt; 1 )\n   .map( Map.Entry::getKey )\n   .collect( Collectors.toList() );\n</code></pre>\n"},{"comments":[{"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1692253682,"post_id":31928132,"comment_id":135598806,"body_markdown":"Looks like the same solution as Dave&#39;s above - https://stackoverflow.com/a/30741906/435605","body":"Looks like the same solution as Dave&#39;s above - <a href=\"https://stackoverflow.com/a/30741906/435605\">stackoverflow.com/a/30741906/435605</a>"}],"tags":[],"owner":{"account_id":4822249,"reputation":389,"user_id":4598712,"display_name":"Thomas Mathew"},"comment_count":1,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1439237281,"creation_date":1439236937,"answer_id":31928132,"question_id":27677256,"body_markdown":"An O(n) way would be as below:\r\n \r\n\r\n    List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 1, 3, 4, 4);\r\n    Set&lt;Integer&gt; duplicatedNumbersRemovedSet = new HashSet&lt;&gt;();\r\n    Set&lt;Integer&gt; duplicatedNumbersSet = numbers.stream().filter(n -&gt; !duplicatedNumbersRemovedSet.add(n)).collect(Collectors.toSet());\r\n\r\nThe space complexity would go double in this approach, but that space is not a waste; in-fact, we now have the duplicated alone only as a Set as well as another Set with all the duplicates removed too.","title":"Java 8, Streams to find the duplicate elements","body":"<p>An O(n) way would be as below:</p>\n\n<pre><code>List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 1, 3, 4, 4);\nSet&lt;Integer&gt; duplicatedNumbersRemovedSet = new HashSet&lt;&gt;();\nSet&lt;Integer&gt; duplicatedNumbersSet = numbers.stream().filter(n -&gt; !duplicatedNumbersRemovedSet.add(n)).collect(Collectors.toSet());\n</code></pre>\n\n<p>The space complexity would go double in this approach, but that space is not a waste; in-fact, we now have the duplicated alone only as a Set as well as another Set with all the duplicates removed too.</p>\n"},{"comments":[{"owner":{"account_id":123542,"reputation":5681,"user_id":318054,"accept_rate":50,"display_name":"ﾤ ﾡ"},"score":35,"creation_date":1494483947,"post_id":31978745,"comment_id":74849084,"body_markdown":"The question is about Java Streams, not third-party libraries.","body":"The question is about Java Streams, not third-party libraries."}],"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"comment_count":1,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1441954046,"creation_date":1439434428,"answer_id":31978745,"question_id":27677256,"body_markdown":"My [StreamEx](https://github.com/amaembo/streamex) library which enhances the Java 8 streams provides a special operation [`distinct(atLeast)`](http://amaembo.github.io/streamex/javadoc/javax/util/streamex/StreamEx.html#distinct-long-) which can retain only elements appearing at least the specified number of times. So your problem can be solved like this:\r\n\r\n    List&lt;Integer&gt; repeatingNumbers = StreamEx.of(numbers).distinct(2).toList();\r\n\r\nInternally it&#39;s similar to @Dave solution, it counts objects, to support other wanted quantities and it&#39;s parallel-friendly (it uses `ConcurrentHashMap` for parallelized stream, but `HashMap` for sequential). For big amounts of data you can get a speed-up using `.parallel().distinct(2)`.","title":"Java 8, Streams to find the duplicate elements","body":"<p>My <a href=\"https://github.com/amaembo/streamex\" rel=\"noreferrer\">StreamEx</a> library which enhances the Java 8 streams provides a special operation <a href=\"http://amaembo.github.io/streamex/javadoc/javax/util/streamex/StreamEx.html#distinct-long-\" rel=\"noreferrer\"><code>distinct(atLeast)</code></a> which can retain only elements appearing at least the specified number of times. So your problem can be solved like this:</p>\n\n<pre><code>List&lt;Integer&gt; repeatingNumbers = StreamEx.of(numbers).distinct(2).toList();\n</code></pre>\n\n<p>Internally it's similar to @Dave solution, it counts objects, to support other wanted quantities and it's parallel-friendly (it uses <code>ConcurrentHashMap</code> for parallelized stream, but <code>HashMap</code> for sequential). For big amounts of data you can get a speed-up using <code>.parallel().distinct(2)</code>.</p>\n"},{"comments":[{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":13,"creation_date":1441953571,"post_id":32516817,"comment_id":52892307,"body_markdown":"The same O(n^2) performance as in @OussamaZoghlami [answer](http://stackoverflow.com/a/27691091/4856258), though probably simpler. Nevertheless here&#39;s an upvote. Welcome to StackOverflow!","body":"The same O(n^2) performance as in @OussamaZoghlami <a href=\"http://stackoverflow.com/a/27691091/4856258\">answer</a>, though probably simpler. Nevertheless here&#39;s an upvote. Welcome to StackOverflow!"},{"owner":{"account_id":1709031,"reputation":6388,"user_id":1567452,"accept_rate":50,"display_name":"jwilner"},"score":10,"creation_date":1522753685,"post_id":32516817,"comment_id":86263860,"body_markdown":"As mentioned, this is a n^2 solution where a trivial linear solution exists. I wouldn&#39;t accept this in CR.","body":"As mentioned, this is a n^2 solution where a trivial linear solution exists. I wouldn&#39;t accept this in CR."},{"owner":{"account_id":10062835,"reputation":1541,"user_id":7438853,"accept_rate":68,"display_name":"wheeleruniverse"},"score":3,"creation_date":1547848024,"post_id":32516817,"comment_id":95347849,"body_markdown":"It may be slower than @Dave option, but it&#39;s prettier so I&#39;ll take the performance hit.","body":"It may be slower than @Dave option, but it&#39;s prettier so I&#39;ll take the performance hit."},{"owner":{"account_id":4945970,"reputation":832,"user_id":3981312,"accept_rate":40,"display_name":"mancocapac"},"score":0,"creation_date":1563684546,"post_id":32516817,"comment_id":100777140,"body_markdown":"@jwilner is your point regarding n^2 solution referring to the use of Collections.frequency in a filter?","body":"@jwilner is your point regarding n^2 solution referring to the use of Collections.frequency in a filter?"},{"owner":{"account_id":1709031,"reputation":6388,"user_id":1567452,"accept_rate":50,"display_name":"jwilner"},"score":6,"creation_date":1563718043,"post_id":32516817,"comment_id":100783803,"body_markdown":"@mancocapac yes, it&#39;s quadratic because the frequency call has to visit every element in numbers, and it&#39;s being called on every element. Thus, for each element, we visit every element -- n^2 and needlessly inefficient.","body":"@mancocapac yes, it&#39;s quadratic because the frequency call has to visit every element in numbers, and it&#39;s being called on every element. Thus, for each element, we visit every element -- n^2 and needlessly inefficient."}],"tags":[],"owner":{"account_id":6936168,"reputation":1559,"user_id":5323996,"display_name":"Bao Dinh"},"comment_count":5,"down_vote_count":11,"up_vote_count":158,"is_accepted":false,"score":147,"last_activity_date":1441953632,"creation_date":1441952518,"answer_id":32516817,"question_id":27677256,"body_markdown":"You can use [`Collections.frequency`](https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#frequency-java.util.Collection-java.lang.Object-):\r\n\r\n    numbers.stream().filter(i -&gt; Collections.frequency(numbers, i) &gt;1)\r\n                    .collect(Collectors.toSet()).forEach(System.out::println);","title":"Java 8, Streams to find the duplicate elements","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#frequency-java.util.Collection-java.lang.Object-\"><code>Collections.frequency</code></a>:</p>\n\n<pre><code>numbers.stream().filter(i -&gt; Collections.frequency(numbers, i) &gt;1)\n                .collect(Collectors.toSet()).forEach(System.out::println);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":93255,"reputation":8911,"user_id":255244,"accept_rate":93,"display_name":"Marty Neal"},"score":1,"creation_date":1528400932,"post_id":42649106,"comment_id":88505812,"body_markdown":"Warning: If `Objects.hash` produces the same value for `(v.a_1, v.b_1, v.c_1, v.d_1)` and `(v.a_2, v.b_2, v.c_2, v.d_2)`, then they are going to be considered equal and be removed as duplicates, without actually checking that the a&#39;s, b&#39;s, c&#39;s, and d&#39;s are the same.  This may be an acceptable risk, or you may want to use a function other than `Objects.hash` which is guaranteed to produce a unique result across your domain.","body":"Warning: If <code>Objects.hash</code> produces the same value for <code>(v.a_1, v.b_1, v.c_1, v.d_1)</code> and <code>(v.a_2, v.b_2, v.c_2, v.d_2)</code>, then they are going to be considered equal and be removed as duplicates, without actually checking that the a&#39;s, b&#39;s, c&#39;s, and d&#39;s are the same.  This may be an acceptable risk, or you may want to use a function other than <code>Objects.hash</code> which is guaranteed to produce a unique result across your domain."}],"tags":[],"owner":{"account_id":8900304,"reputation":722,"user_id":6643968,"display_name":"Zhurov Konstantin"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1494484265,"creation_date":1488891901,"answer_id":42649106,"question_id":27677256,"body_markdown":"I think I have good solution how to fix problem like this - List&lt;Something&gt; =&gt; List&lt;Something&gt; with grouping by Something.a &amp; Something.b.\r\nThere is extended definition:\r\n\r\n    public class Test {\r\n\r\n        public static void test() {\r\n\r\n            class A {\r\n                private int a;\r\n                private int b;\r\n                private float c;\r\n                private float d;\r\n\r\n                public A(int a, int b, float c, float d) {\r\n                    this.a = a;\r\n                    this.b = b;\r\n                    this.c = c;\r\n                    this.d = d;\r\n                }\r\n            }\r\n\r\n\r\n            List&lt;A&gt; list1 = new ArrayList&lt;A&gt;();\r\n\r\n            list1.addAll(Arrays.asList(new A(1, 2, 3, 4),\r\n                    new A(2, 3, 4, 5),\r\n                    new A(1, 2, 3, 4),\r\n                    new A(2, 3, 4, 5),\r\n                    new A(1, 2, 3, 4)));\r\n\r\n            Map&lt;Integer, A&gt; map = list1.stream()\r\n                    .collect(HashMap::new, (m, v) -&gt; m.put(\r\n                            Objects.hash(v.a, v.b, v.c, v.d), v),\r\n                            HashMap::putAll);\r\n\r\n            list1.clear();\r\n            list1.addAll(map.values());\r\n\r\n            System.out.println(list1);\r\n        }\r\n\r\n    }\r\n\r\nclass A, list1 it&#39;s just incoming data - magic is in the Objects.hash(...) :)\r\n","title":"Java 8, Streams to find the duplicate elements","body":"<p>I think I have good solution how to fix problem like this - List => List with grouping by Something.a &amp; Something.b.\nThere is extended definition:</p>\n\n<pre><code>public class Test {\n\n    public static void test() {\n\n        class A {\n            private int a;\n            private int b;\n            private float c;\n            private float d;\n\n            public A(int a, int b, float c, float d) {\n                this.a = a;\n                this.b = b;\n                this.c = c;\n                this.d = d;\n            }\n        }\n\n\n        List&lt;A&gt; list1 = new ArrayList&lt;A&gt;();\n\n        list1.addAll(Arrays.asList(new A(1, 2, 3, 4),\n                new A(2, 3, 4, 5),\n                new A(1, 2, 3, 4),\n                new A(2, 3, 4, 5),\n                new A(1, 2, 3, 4)));\n\n        Map&lt;Integer, A&gt; map = list1.stream()\n                .collect(HashMap::new, (m, v) -&gt; m.put(\n                        Objects.hash(v.a, v.b, v.c, v.d), v),\n                        HashMap::putAll);\n\n        list1.clear();\n        list1.addAll(map.values());\n\n        System.out.println(list1);\n    }\n\n}\n</code></pre>\n\n<p>class A, list1 it's just incoming data - magic is in the Objects.hash(...) :)</p>\n"},{"tags":[],"owner":{"account_id":533594,"reputation":3851,"user_id":903998,"accept_rate":75,"display_name":"Victor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524161856,"creation_date":1524161856,"answer_id":49927670,"question_id":27677256,"body_markdown":"Do you have to use the java 8 idioms (steams)? Perphaps a simple solution would be to move the complexity to a map alike data structure that holds numbers as key (without repeating) and the times it ocurrs as a value. You could them iterate that map an only do something with those numbers that are ocurrs &gt; 1.\r\n\r\n    import java.lang.Math;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.HashMap;\r\n    import java.util.Iterator;\r\n    \r\n    public class RemoveDuplicates\r\n    {\r\n      public static void main(String[] args)\r\n      {\r\n       List&lt;Integer&gt; numbers = Arrays.asList(new Integer[]{1,2,1,3,4,4});\r\n       Map&lt;Integer,Integer&gt; countByNumber = new HashMap&lt;Integer,Integer&gt;();\r\n       for(Integer n:numbers)\r\n       {\r\n         Integer count = countByNumber.get(n);\r\n         if (count != null) {\r\n           countByNumber.put(n,count + 1);\r\n         } else {\r\n           countByNumber.put(n,1);\r\n         }\r\n       }\r\n       System.out.println(countByNumber);\r\n       Iterator it = countByNumber.entrySet().iterator();\r\n        while (it.hasNext()) {\r\n            Map.Entry pair = (Map.Entry)it.next();\r\n            System.out.println(pair.getKey() + &quot; = &quot; + pair.getValue());\r\n        }\r\n      }\r\n    }","title":"Java 8, Streams to find the duplicate elements","body":"<p>Do you have to use the java 8 idioms (steams)? Perphaps a simple solution would be to move the complexity to a map alike data structure that holds numbers as key (without repeating) and the times it ocurrs as a value. You could them iterate that map an only do something with those numbers that are ocurrs > 1.</p>\n\n<pre><code>import java.lang.Math;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.HashMap;\nimport java.util.Iterator;\n\npublic class RemoveDuplicates\n{\n  public static void main(String[] args)\n  {\n   List&lt;Integer&gt; numbers = Arrays.asList(new Integer[]{1,2,1,3,4,4});\n   Map&lt;Integer,Integer&gt; countByNumber = new HashMap&lt;Integer,Integer&gt;();\n   for(Integer n:numbers)\n   {\n     Integer count = countByNumber.get(n);\n     if (count != null) {\n       countByNumber.put(n,count + 1);\n     } else {\n       countByNumber.put(n,1);\n     }\n   }\n   System.out.println(countByNumber);\n   Iterator it = countByNumber.entrySet().iterator();\n    while (it.hasNext()) {\n        Map.Entry pair = (Map.Entry)it.next();\n        System.out.println(pair.getKey() + \" = \" + pair.getValue());\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10397170,"reputation":1,"user_id":7666613,"display_name":"Ilia Galperin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526367916,"creation_date":1526364139,"answer_id":50343261,"question_id":27677256,"body_markdown":"Try this solution:\r\n\r\n    public class Anagramm {\r\n\r\n\tpublic static boolean isAnagramLetters(String word, String anagramm) {\r\n\t\tif (anagramm.isEmpty()) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tMap&lt;Character, Integer&gt; mapExistString = CharCountMap(word);\r\n\t    Map&lt;Character, Integer&gt; mapCheckString = CharCountMap(anagramm);\r\n\t    return enoughLetters(mapExistString, mapCheckString);\r\n\t}\r\n\r\n\tprivate static Map&lt;Character, Integer&gt; CharCountMap(String chars) {\r\n\t    HashMap&lt;Character, Integer&gt; charCountMap = new HashMap&lt;Character, Integer&gt;();\r\n\t    for (char c : chars.toCharArray()) {\r\n\t        if (charCountMap.containsKey(c)) {\r\n\t            charCountMap.put(c, charCountMap.get(c) + 1);\r\n\t        } else {\r\n\t            charCountMap.put(c, 1);\r\n\t        }\r\n\t    }\r\n\t    return charCountMap;\r\n\t}\r\n\t\r\n\tstatic boolean enoughLetters(Map&lt;Character, Integer&gt; mapExistString, Map&lt;Character,Integer&gt; mapCheckString) {\r\n\t    for( Entry&lt;Character, Integer&gt; e : mapCheckString.entrySet() ) {\r\n\t        Character letter = e.getKey();\r\n\t        Integer available = mapExistString.get(letter);\r\n\t        if (available == null || e.getValue() &gt; available) return false;\r\n\t    }\r\n\t    return true;\r\n\t}\r\n\r\n    }","title":"Java 8, Streams to find the duplicate elements","body":"<p>Try this solution:</p>\n\n<pre><code>public class Anagramm {\n\npublic static boolean isAnagramLetters(String word, String anagramm) {\n    if (anagramm.isEmpty()) {\n        return false;\n    }\n\n    Map&lt;Character, Integer&gt; mapExistString = CharCountMap(word);\n    Map&lt;Character, Integer&gt; mapCheckString = CharCountMap(anagramm);\n    return enoughLetters(mapExistString, mapCheckString);\n}\n\nprivate static Map&lt;Character, Integer&gt; CharCountMap(String chars) {\n    HashMap&lt;Character, Integer&gt; charCountMap = new HashMap&lt;Character, Integer&gt;();\n    for (char c : chars.toCharArray()) {\n        if (charCountMap.containsKey(c)) {\n            charCountMap.put(c, charCountMap.get(c) + 1);\n        } else {\n            charCountMap.put(c, 1);\n        }\n    }\n    return charCountMap;\n}\n\nstatic boolean enoughLetters(Map&lt;Character, Integer&gt; mapExistString, Map&lt;Character,Integer&gt; mapCheckString) {\n    for( Entry&lt;Character, Integer&gt; e : mapCheckString.entrySet() ) {\n        Character letter = e.getKey();\n        Integer available = mapExistString.get(letter);\n        if (available == null || e.getValue() &gt; available) return false;\n    }\n    return true;\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3127180,"reputation":419,"user_id":2645831,"accept_rate":54,"display_name":"Prashant"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1531143917,"creation_date":1531143917,"answer_id":51247097,"question_id":27677256,"body_markdown":"I think basic solutions to the question should be as below:\r\n\r\n    Supplier supplier=HashSet::new; \r\n    HashSet has=ls.stream().collect(Collectors.toCollection(supplier));\r\n\r\n    List lst = (List) ls.stream().filter(e-&gt;Collections.frequency(ls,e)&gt;1).distinct().collect(Collectors.toList());\r\n\r\nwell, it is not recommended to perform a filter operation, but for better understanding, i have used it, moreover, there should be some custom filtration in future versions.","title":"Java 8, Streams to find the duplicate elements","body":"<p>I think basic solutions to the question should be as below:</p>\n\n<pre><code>Supplier supplier=HashSet::new; \nHashSet has=ls.stream().collect(Collectors.toCollection(supplier));\n\nList lst = (List) ls.stream().filter(e-&gt;Collections.frequency(ls,e)&gt;1).distinct().collect(Collectors.toList());\n</code></pre>\n\n<p>well, it is not recommended to perform a filter operation, but for better understanding, i have used it, moreover, there should be some custom filtration in future versions.</p>\n"},{"tags":[],"owner":{"account_id":4243811,"reputation":4011,"user_id":3473046,"accept_rate":20,"display_name":"num&#233;ro6"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1531227557,"creation_date":1531227557,"answer_id":51265925,"question_id":27677256,"body_markdown":"A multiset is a structure maintaining the number of occurrences for each element. Using Guava implementation:\r\n\r\n    Set&lt;Integer&gt; duplicated =\r\n            ImmutableMultiset.copyOf(numbers).entrySet().stream()\r\n                    .filter(entry -&gt; entry.getCount() &gt; 1)\r\n                    .map(Multiset.Entry::getElement)\r\n                    .collect(Collectors.toSet());","title":"Java 8, Streams to find the duplicate elements","body":"<p>A multiset is a structure maintaining the number of occurrences for each element. Using Guava implementation:</p>\n\n<pre><code>Set&lt;Integer&gt; duplicated =\n        ImmutableMultiset.copyOf(numbers).entrySet().stream()\n                .filter(entry -&gt; entry.getCount() &gt; 1)\n                .map(Multiset.Entry::getElement)\n                .collect(Collectors.toSet());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2577707,"reputation":2286,"user_id":2235015,"display_name":"Florian Albrecht"},"score":1,"creation_date":1538488578,"post_id":52609565,"comment_id":92154053,"body_markdown":"Should work fine, but also O(n^2) performance as some other solutions here.","body":"Should work fine, but also O(n^2) performance as some other solutions here."}],"tags":[],"owner":{"account_id":14461654,"reputation":11,"user_id":10446324,"display_name":"bagom"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538487888,"creation_date":1538487525,"answer_id":52609565,"question_id":27677256,"body_markdown":"What about checking of indexes?\r\n\r\n            numbers.stream()\r\n                .filter(integer -&gt; numbers.indexOf(integer) != numbers.lastIndexOf(integer))\r\n                .collect(Collectors.toSet())\r\n                .forEach(System.out::println);","title":"Java 8, Streams to find the duplicate elements","body":"<p>What about checking of indexes?</p>\n\n<pre><code>        numbers.stream()\n            .filter(integer -&gt; numbers.indexOf(integer) != numbers.lastIndexOf(integer))\n            .collect(Collectors.toSet())\n            .forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5223366,"reputation":1297,"user_id":4176104,"display_name":"Patrick"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1561396884,"creation_date":1561396884,"answer_id":56741276,"question_id":27677256,"body_markdown":"If you only need to detect the presence of duplicates (instead of listing them, which is what the OP wanted), just convert them into both a List and Set, then compare the sizes:\r\n```\r\n    List&lt;Integer&gt; list = ...;\r\n    Set&lt;Integer&gt; set = new HashSet&lt;&gt;(list);\r\n    if (list.size() != set.size()) {\r\n      // duplicates detected\r\n    }\r\n```\r\nI like this approach because it has less places for mistakes.","title":"Java 8, Streams to find the duplicate elements","body":"<p>If you only need to detect the presence of duplicates (instead of listing them, which is what the OP wanted), just convert them into both a List and Set, then compare the sizes:</p>\n\n<pre><code>    List&lt;Integer&gt; list = ...;\n    Set&lt;Integer&gt; set = new HashSet&lt;&gt;(list);\n    if (list.size() != set.size()) {\n      // duplicates detected\n    }\n</code></pre>\n\n<p>I like this approach because it has less places for mistakes.</p>\n"},{"tags":[],"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1563722431,"creation_date":1563516922,"answer_id":57106549,"question_id":27677256,"body_markdown":"_the creating of an additional map or stream is time- and space-consuming…_\r\n\r\n    Set&lt;Integer&gt; duplicates = numbers.stream().collect( Collectors.collectingAndThen(\r\n      Collectors.groupingBy( Function.identity(), Collectors.counting() ),\r\n      map -&gt; {\r\n        map.values().removeIf( cnt -&gt; cnt &lt; 2 );\r\n        return( map.keySet() );\r\n      } ) );  // [1, 4]\r\n\r\n&lt;br /&gt;_…and for the question of which is claimed to be a_ [\\[duplicate\\]][1]\r\n\r\n    public static int[] getDuplicatesStreamsToArray( int[] input ) {\r\n      return( IntStream.of( input ).boxed().collect( Collectors.collectingAndThen(\r\n          Collectors.groupingBy( Function.identity(), Collectors.counting() ),\r\n          map -&gt; {\r\n            map.values().removeIf( cnt -&gt; cnt &lt; 2 );\r\n            return( map.keySet() );\r\n          } ) ).stream().mapToInt( i -&gt; i ).toArray() );\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/57083672/java-8-streams-how-to-avoid-filtering-with-map-or-set","title":"Java 8, Streams to find the duplicate elements","body":"<p><em>the creating of an additional map or stream is time- and space-consuming…</em></p>\n\n<pre><code>Set&lt;Integer&gt; duplicates = numbers.stream().collect( Collectors.collectingAndThen(\n  Collectors.groupingBy( Function.identity(), Collectors.counting() ),\n  map -&gt; {\n    map.values().removeIf( cnt -&gt; cnt &lt; 2 );\n    return( map.keySet() );\n  } ) );  // [1, 4]\n</code></pre>\n\n<p><br /><em>…and for the question of which is claimed to be a</em> <a href=\"https://stackoverflow.com/questions/57083672/java-8-streams-how-to-avoid-filtering-with-map-or-set\">[duplicate]</a></p>\n\n<pre><code>public static int[] getDuplicatesStreamsToArray( int[] input ) {\n  return( IntStream.of( input ).boxed().collect( Collectors.collectingAndThen(\n      Collectors.groupingBy( Function.identity(), Collectors.counting() ),\n      map -&gt; {\n        map.values().removeIf( cnt -&gt; cnt &lt; 2 );\n        return( map.keySet() );\n      } ) ).stream().mapToInt( i -&gt; i ).toArray() );\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":257029,"reputation":3131,"user_id":538160,"accept_rate":62,"display_name":"supernova"},"score":0,"creation_date":1663266227,"post_id":67580858,"comment_id":130205039,"body_markdown":"Why is this not the best and easiest answer of them all ?\nSome benchmark test shows its fastest too.  https://mkyong.com/java8/java-8-find-duplicate-elements-in-a-stream/","body":"Why is this not the best and easiest answer of them all ? Some benchmark test shows its fastest too.  <a href=\"https://mkyong.com/java8/java-8-find-duplicate-elements-in-a-stream/\" rel=\"nofollow noreferrer\">mkyong.com/java8/java-8-find-duplicate-elements-in-a-stream</a>"}],"tags":[],"owner":{"account_id":1099760,"reputation":7046,"user_id":1092450,"accept_rate":74,"display_name":"itro"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621318574,"creation_date":1621318574,"answer_id":67580858,"question_id":27677256,"body_markdown":"**Set.add()** is faster if you&#39;re looking for performance.\r\n\r\n    public class FindDuplicatedBySet {\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; list = Arrays.asList(5, 3, 4, 1, 3, 7, 2,3,1, 9, 9, 4,1);\r\n        Set&lt;Integer&gt; result = findDuplicatedBySetAdd(list);\r\n        result.forEach(System.out::println);\r\n      }\r\n\r\n    public static &lt;T&gt; Set&lt;T&gt; findDuplicatedBySetAdd(List&lt;T&gt; list) {\r\n        Set&lt;T&gt; items = new HashSet&lt;&gt;();\r\n        return list.stream()\r\n                .filter(n -&gt; !items.add(n))\r\n                .collect(Collectors.toSet());\r\n      }\r\n    }","title":"Java 8, Streams to find the duplicate elements","body":"<p><strong>Set.add()</strong> is faster if you're looking for performance.</p>\n<pre><code>public class FindDuplicatedBySet {\n\npublic static void main(String[] args) {\n    List&lt;Integer&gt; list = Arrays.asList(5, 3, 4, 1, 3, 7, 2,3,1, 9, 9, 4,1);\n    Set&lt;Integer&gt; result = findDuplicatedBySetAdd(list);\n    result.forEach(System.out::println);\n  }\n\npublic static &lt;T&gt; Set&lt;T&gt; findDuplicatedBySetAdd(List&lt;T&gt; list) {\n    Set&lt;T&gt; items = new HashSet&lt;&gt;();\n    return list.stream()\n            .filter(n -&gt; !items.add(n))\n            .collect(Collectors.toSet());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12858978,"reputation":231,"user_id":9301392,"display_name":"AnushaSP07"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677066137,"creation_date":1664007486,"answer_id":73835726,"question_id":27677256,"body_markdown":"Using stream\r\n\r\n    Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n    list.stream()\r\n         .filter(data -&gt; !set.add(data))\r\n         .forEach(data -&gt; System.out.println(&quot;duplicates &quot;+data));\r\n","title":"Java 8, Streams to find the duplicate elements","body":"<p>Using stream</p>\n<pre><code>Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\nlist.stream()\n     .filter(data -&gt; !set.add(data))\n     .forEach(data -&gt; System.out.println(&quot;duplicates &quot;+data));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3702062,"reputation":341,"user_id":4480707,"display_name":"John Churchill"},"score":0,"creation_date":1688695050,"post_id":74218306,"comment_id":135111651,"body_markdown":"The question is how to find the duplicates, not remove them.","body":"The question is how to find the duplicates, not remove them."}],"tags":[],"owner":{"account_id":21910001,"reputation":247,"user_id":16194563,"display_name":"Ramya Musunuru"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666855813,"creation_date":1666855813,"answer_id":74218306,"question_id":27677256,"body_markdown":"   Using distinct on stream would filter duplicates, you can either collect as set or List.\r\n\r\n     numbers.stream().distinct().collect(Collectors.toSet())","title":"Java 8, Streams to find the duplicate elements","body":"<p>Using distinct on stream would filter duplicates, you can either collect as set or List.</p>\n<pre><code> numbers.stream().distinct().collect(Collectors.toSet())\n</code></pre>\n"},{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1681136331,"post_id":75977624,"comment_id":134004060,"body_markdown":"part 1 is not an answer to the question, part 2 is (basically) a copy of an earlier answer - what news am I missing? btw: please format your answer properly (in code, indentation matters and not-in-code should be .. not formatted as such ;)","body":"part 1 is not an answer to the question, part 2 is (basically) a copy of an earlier answer - what news am I missing? btw: please format your answer properly (in code, indentation matters and not-in-code should be .. not formatted as such ;)"}],"tags":[],"owner":{"account_id":3289024,"reputation":49,"user_id":2767738,"display_name":"Amit Thakur"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1681133994,"creation_date":1681133994,"answer_id":75977624,"question_id":27677256,"body_markdown":"    **How to find Non-Repeated Numbers from the array using java8**\r\n    \r\n    Integer[] intArr = {1,1,3,2,2,5,4,4,7,6,6,9,8,8,10,13};\r\n    \r\n    Set&lt;Integer&gt; result = Arrays.asList(intArr).stream().\r\n    filter(x -&gt; Collections.frequency(Arrays.asList(intArr), x) == 1).\r\n    \t\tcollect(Collectors.toSet());\r\n    \r\n     System.out.println(result); //output : [3, 5, 7, 9, 10, 13] **Non-duplicate** values\r\n    \r\n    \r\n    **How to find repeated Numbers from array using java8**\r\n    \r\n    Set&lt;Integer&gt; set = new HashSet();\r\n    \r\n    Set&lt;Integer&gt; result = Arrays.asList(intArr).stream().filter(x -&gt; !set.add(x)).collect(Collectors.toSet());\r\n    \t\r\n    System.out.println(result); // output : [1, 2, 4, 6, 8]  it returns **Duplicates values.**","title":"Java 8, Streams to find the duplicate elements","body":"<pre><code>**How to find Non-Repeated Numbers from the array using java8**\n\nInteger[] intArr = {1,1,3,2,2,5,4,4,7,6,6,9,8,8,10,13};\n\nSet&lt;Integer&gt; result = Arrays.asList(intArr).stream().\nfilter(x -&gt; Collections.frequency(Arrays.asList(intArr), x) == 1).\n        collect(Collectors.toSet());\n\n System.out.println(result); //output : [3, 5, 7, 9, 10, 13] **Non-duplicate** values\n\n\n**How to find repeated Numbers from array using java8**\n\nSet&lt;Integer&gt; set = new HashSet();\n\nSet&lt;Integer&gt; result = Arrays.asList(intArr).stream().filter(x -&gt; !set.add(x)).collect(Collectors.toSet());\n    \nSystem.out.println(result); // output : [1, 2, 4, 6, 8]  it returns **Duplicates values.**\n</code></pre>\n"}],"owner":{"account_id":3753886,"reputation":1249,"user_id":3120743,"display_name":"Siva"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241815,"favorite_count":0,"down_vote_count":1,"up_vote_count":119,"answer_count":18,"score":118,"last_activity_date":1681133994,"creation_date":1419776396,"question_id":27677256,"body_markdown":"I am trying to list out duplicate elements in the integer list say for eg,\r\n\r\n    List&lt;Integer&gt; numbers = Arrays.asList(new Integer[]{1,2,1,3,4,4});    \r\n\r\nusing Streams of jdk 8. Has anybody tried out. To remove the duplicates we can use the distinct() api. But what about finding the duplicated elements ? Anybody can help me out ?\r\n","title":"Java 8, Streams to find the duplicate elements","body":"<p>I am trying to list out duplicate elements in the integer list say for eg,</p>\n\n<pre><code>List&lt;Integer&gt; numbers = Arrays.asList(new Integer[]{1,2,1,3,4,4});    \n</code></pre>\n\n<p>using Streams of jdk 8. Has anybody tried out. To remove the duplicates we can use the distinct() api. But what about finding the duplicated elements ? Anybody can help me out ?</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"answers":[{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1680440043,"post_id":75910614,"comment_id":133895401,"body_markdown":"`producerListener()` is undefined?","body":"<code>producerListener()</code> is undefined?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1680530194,"post_id":75910614,"comment_id":133909402,"body_markdown":"This is totally incorrect; `sendOffsetsToTransaction` is for sending offsets for a **consumer** record to the transaction, not the offsets of a record that was just produced. It is used for exactly once semantics for a `consume-&gt;process-&gt;produce` scenario.","body":"This is totally incorrect; <code>sendOffsetsToTransaction</code> is for sending offsets for a <b>consumer</b> record to the transaction, not the offsets of a record that was just produced. It is used for exactly once semantics for a <code>consume-&gt;process-&gt;produce</code> scenario."}],"tags":[],"owner":{"account_id":7800091,"reputation":21,"user_id":5899859,"display_name":"Akash Kumar"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680419759,"creation_date":1680419759,"answer_id":75910614,"question_id":75910507,"body_markdown":"    import org.apache.kafka.clients.producer.ProducerRecord;\r\n    import org.apache.kafka.clients.producer.RecordMetadata;\r\n    import org.springframework.kafka.core.KafkaOperations;\r\n    import org.springframework.kafka.support.ProducerListener;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class CustomProducerListener&lt;K, V&gt; implements ProducerListener&lt;K, V&gt; {\r\n    \r\n        private final KafkaOperations&lt;K, V&gt; kafkaTemplate;\r\n    \r\n        public CustomProducerListener(KafkaOperations&lt;K, V&gt; kafkaTemplate) {\r\n            this.kafkaTemplate = kafkaTemplate;\r\n        }\r\n    \r\n        @Override\r\n        public void onSuccess(ProducerRecord&lt;K, V&gt; producerRecord, RecordMetadata recordMetadata) {\r\n            // Commit the record when it is successfully sent to Kafka\r\n            kafkaTemplate.sendOffsetsToTransaction(Collections.singletonMap(\r\n                new TopicPartition(producerRecord.topic(), producerRecord.partition()), \r\n                new OffsetAndMetadata(recordMetadata.offset() + 1)), \r\n                producerRecord.key());\r\n        }\r\n    \r\n        @Override\r\n        public void onError(ProducerRecord&lt;K, V&gt; producerRecord, RecordMetadata recordMetadata, Exception exception) {\r\n            // Rollback the transaction when an exception occurs\r\n            kafkaTemplate.rollbackTransaction();\r\n        }\r\n    }\r\n\r\n\r\nCustomProducerListener is a custom implementation of the ProducerListener interface, which has two methods: onSuccess and onError.\r\n\r\nIn the onSuccess method, we commit the Kafka producer record by calling sendOffsetsToTransaction method with the current record&#39;s topic, partition, and offset. This ensures that the record is persisted to the Kafka broker and won&#39;t be lost in case of a failure.\r\n\r\nIn the onError method, we rollback the transaction by calling rollbackTransaction method. This method will discard all the records that have been produced so far and reset the transaction state..\r\n\r\nTo use this custom ProducerListener, you can configure it in your Spring Boot Kafka configuration class as follows:\r\n\r\n    import org.apache.kafka.clients.producer.ProducerConfig;\r\n    import org.apache.kafka.common.serialization.StringSerializer;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.kafka.annotation.EnableKafka;\r\n    import org.springframework.kafka.core.DefaultKafkaProducerFactory;\r\n    import org.springframework.kafka.core.KafkaTemplate;\r\n    import org.springframework.kafka.core.ProducerFactory;\r\n    import org.springframework.kafka.support.ProducerListener;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    @Configuration\r\n    @EnableKafka\r\n    public class KafkaProducerConfig {\r\n    \r\n        @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\r\n        private String bootstrapServers;\r\n    \r\n        @Bean\r\n        public Map&lt;String, Object&gt; producerConfigs() {\r\n            Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n            props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\r\n            props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n            props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n            props.put(ProducerConfig.TRANSACTIONAL_ID_CONFIG, &quot;my-transaction-id&quot;);\r\n    \r\n            return props;\r\n        }\r\n    \r\n        @Bean\r\n        public ProducerFactory&lt;String, String&gt; producerFactory() {\r\n            DefaultKafkaProducerFactory&lt;String, String&gt; producerFactory = new DefaultKafkaProducerFactory&lt;&gt;(producerConfigs());\r\n            producerFactory.setTransactionIdPrefix(&quot;my-transaction-prefix&quot;);\r\n    \r\n            return producerFactory;\r\n        }\r\n    \r\n        @Bean\r\n        public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\r\n            KafkaTemplate&lt;String, String&gt; kafkaTemplate = new KafkaTemplate&lt;&gt;(producerFactory());\r\n            kafkaTemplate.setProducerListener(producerListener());\r\n    \r\n            return kafkaTemplate;\r\n        }\r\n\r\n   \r\n\r\n\r\n\r\n\r\n","title":"How to implement Kafka Transactions with Transaction Manager in Spring for Apache Kafka","body":"<pre><code>import org.apache.kafka.clients.producer.ProducerRecord;\nimport org.apache.kafka.clients.producer.RecordMetadata;\nimport org.springframework.kafka.core.KafkaOperations;\nimport org.springframework.kafka.support.ProducerListener;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class CustomProducerListener&lt;K, V&gt; implements ProducerListener&lt;K, V&gt; {\n\n    private final KafkaOperations&lt;K, V&gt; kafkaTemplate;\n\n    public CustomProducerListener(KafkaOperations&lt;K, V&gt; kafkaTemplate) {\n        this.kafkaTemplate = kafkaTemplate;\n    }\n\n    @Override\n    public void onSuccess(ProducerRecord&lt;K, V&gt; producerRecord, RecordMetadata recordMetadata) {\n        // Commit the record when it is successfully sent to Kafka\n        kafkaTemplate.sendOffsetsToTransaction(Collections.singletonMap(\n            new TopicPartition(producerRecord.topic(), producerRecord.partition()), \n            new OffsetAndMetadata(recordMetadata.offset() + 1)), \n            producerRecord.key());\n    }\n\n    @Override\n    public void onError(ProducerRecord&lt;K, V&gt; producerRecord, RecordMetadata recordMetadata, Exception exception) {\n        // Rollback the transaction when an exception occurs\n        kafkaTemplate.rollbackTransaction();\n    }\n}\n</code></pre>\n<p>CustomProducerListener is a custom implementation of the ProducerListener interface, which has two methods: onSuccess and onError.</p>\n<p>In the onSuccess method, we commit the Kafka producer record by calling sendOffsetsToTransaction method with the current record's topic, partition, and offset. This ensures that the record is persisted to the Kafka broker and won't be lost in case of a failure.</p>\n<p>In the onError method, we rollback the transaction by calling rollbackTransaction method. This method will discard all the records that have been produced so far and reset the transaction state..</p>\n<p>To use this custom ProducerListener, you can configure it in your Spring Boot Kafka configuration class as follows:</p>\n<pre><code>import org.apache.kafka.clients.producer.ProducerConfig;\nimport org.apache.kafka.common.serialization.StringSerializer;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.annotation.EnableKafka;\nimport org.springframework.kafka.core.DefaultKafkaProducerFactory;\nimport org.springframework.kafka.core.KafkaTemplate;\nimport org.springframework.kafka.core.ProducerFactory;\nimport org.springframework.kafka.support.ProducerListener;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n@Configuration\n@EnableKafka\npublic class KafkaProducerConfig {\n\n    @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\n    private String bootstrapServers;\n\n    @Bean\n    public Map&lt;String, Object&gt; producerConfigs() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        props.put(ProducerConfig.TRANSACTIONAL_ID_CONFIG, &quot;my-transaction-id&quot;);\n\n        return props;\n    }\n\n    @Bean\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\n        DefaultKafkaProducerFactory&lt;String, String&gt; producerFactory = new DefaultKafkaProducerFactory&lt;&gt;(producerConfigs());\n        producerFactory.setTransactionIdPrefix(&quot;my-transaction-prefix&quot;);\n\n        return producerFactory;\n    }\n\n    @Bean\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\n        KafkaTemplate&lt;String, String&gt; kafkaTemplate = new KafkaTemplate&lt;&gt;(producerFactory());\n        kafkaTemplate.setProducerListener(producerListener());\n\n        return kafkaTemplate;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27835226,"reputation":25,"user_id":21252826,"display_name":"Dave"},"score":0,"creation_date":1680558827,"post_id":75920301,"comment_id":133916009,"body_markdown":"It&#39;s a producer-only transactions, and I have to loop through a list of producer objects and rollback all the records if an exception is thrown, and return error message.\nE.g. \n1) `loop 10 records, if 1 exception thrown, then rollback all 10 records and return error`\n2) `loop 10 records, if no exception thrown, then commit all 10 records`","body":"It&#39;s a producer-only transactions, and I have to loop through a list of producer objects and rollback all the records if an exception is thrown, and return error message. E.g.  1) <code>loop 10 records, if 1 exception thrown, then rollback all 10 records and return error</code> 2) <code>loop 10 records, if no exception thrown, then commit all 10 records</code>"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1680559737,"post_id":75920301,"comment_id":133916154,"body_markdown":"So just use normal Spring transaction management as I described, with the `KafkaTransactionManager`. Or you can use `template.executeInTransaction` with all the sends in the scope of the callback. See https://docs.spring.io/spring-kafka/reference/html/#kafkatemplate-local-transactions which is in the doc section you pointed to. The transaction will commit if the callback exits normally or roll back if it throws an exception.","body":"So just use normal Spring transaction management as I described, with the <code>KafkaTransactionManager</code>. Or you can use <code>template.executeInTransaction</code> with all the sends in the scope of the callback. See <a href=\"https://docs.spring.io/spring-kafka/reference/html/#kafkatemplate-local-transactions\" rel=\"nofollow noreferrer\">docs.spring.io/spring-kafka/reference/html/&hellip;</a> which is in the doc section you pointed to. The transaction will commit if the callback exits normally or roll back if it throws an exception."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1680560004,"post_id":75920301,"comment_id":133916205,"body_markdown":"Note that a rollback does not remove the published records; it simply marks them as rolled back so that `isolation.level: read_committed` consumers will not see them. `isolation.level` is `read_uncommitted` by default so such consumers will see the rolled back records.","body":"Note that a rollback does not remove the published records; it simply marks them as rolled back so that <code>isolation.level: read_committed</code> consumers will not see them. <code>isolation.level</code> is <code>read_uncommitted</code> by default so such consumers will see the rolled back records."},{"owner":{"account_id":27835226,"reputation":25,"user_id":21252826,"display_name":"Dave"},"score":0,"creation_date":1681069860,"post_id":75920301,"comment_id":133995872,"body_markdown":"How can we use `template.executeInTransaction` with the NEW approach that I recently added?","body":"How can we use <code>template.executeInTransaction</code> with the NEW approach that I recently added?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1681133614,"post_id":75920301,"comment_id":134003486,"body_markdown":"See the edit; I added an example.","body":"See the edit; I added an example."},{"owner":{"account_id":27835226,"reputation":25,"user_id":21252826,"display_name":"Dave"},"score":0,"creation_date":1681489057,"post_id":75920301,"comment_id":134070027,"body_markdown":"Thanks, it solved the problem. Can we write the unit tests to cover successful commit and failure rollback scenarios using `MockProducer` instead of embedded Kafka/TestContainers?","body":"Thanks, it solved the problem. Can we write the unit tests to cover successful commit and failure rollback scenarios using <code>MockProducer</code> instead of embedded Kafka/TestContainers?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1681563374,"post_id":75920301,"comment_id":134078576,"body_markdown":"Yes. Just create a mock producer factory that returns a mock producer that is suitably configured for each test.","body":"Yes. Just create a mock producer factory that returns a mock producer that is suitably configured for each test."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681133584,"creation_date":1680530434,"answer_id":75920301,"question_id":75910507,"body_markdown":"You need to describe your scenario in more detail.\r\n\r\nFor producer-only transactions, just use the normal Spring `@Transactional` annotation on the method and all sends within the method will participate in the transaction.\r\n\r\nOr you can use `KafkaTemplate.executeInTransaction()`; see https://docs.spring.io/spring-kafka/reference/html/#kafkatemplate-local-transactions\r\n\r\nWhen the method exits, the transaction will be committed (or rolled back if an exception is thrown).\r\n\r\nFor `consume-&gt;process-&gt;produce` scenarios, the situation is similar but, instead of using `@Transactional` the listener container will start the transaction before calling the listener method.\r\n\r\n__EDIT__\r\n\r\nHere is an example of using local transactions; if the send, or getting the result of a future, throws an exception, the transaction will be rolled back; otherwise it will be committed.\r\n\r\n```java\r\n@Bean\r\nApplicationRunner runner(KafkaTemplate&lt;String, String&gt; template) {\r\n\tList&lt;String&gt; data = List.of(&quot;foo&quot;, &quot;bar&quot;);\r\n\treturn args -&gt; {\r\n\t\tboolean success = template.executeInTransaction(t -&gt; {\r\n\t\t\tList&lt;CompletableFuture&lt;SendResult&lt;String, String&gt;&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n\t\t\tdata.forEach(item-&gt; {\r\n\t\t\t\tfutures.add(t.send(&quot;so75910507&quot;, item));\r\n\t\t\t});\r\n\t\t\tfutures.forEach(future -&gt; {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tfuture.get(10, TimeUnit.SECONDS);\r\n\t\t\t\t}\r\n\t\t\t\tcatch (InterruptedException e) {\r\n\t\t\t\t\tThread.currentThread().interrupt();\r\n\t\t\t\t\tthrow new IllegalStateException(e);\r\n\t\t\t\t}\r\n\t\t\t\tcatch (ExecutionException | TimeoutException e) {\r\n\t\t\t\t\tthrow new IllegalStateException(e);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn true;\r\n\t\t});\r\n\t};\r\n}\r\n```","title":"How to implement Kafka Transactions with Transaction Manager in Spring for Apache Kafka","body":"<p>You need to describe your scenario in more detail.</p>\n<p>For producer-only transactions, just use the normal Spring <code>@Transactional</code> annotation on the method and all sends within the method will participate in the transaction.</p>\n<p>Or you can use <code>KafkaTemplate.executeInTransaction()</code>; see <a href=\"https://docs.spring.io/spring-kafka/reference/html/#kafkatemplate-local-transactions\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/reference/html/#kafkatemplate-local-transactions</a></p>\n<p>When the method exits, the transaction will be committed (or rolled back if an exception is thrown).</p>\n<p>For <code>consume-&gt;process-&gt;produce</code> scenarios, the situation is similar but, instead of using <code>@Transactional</code> the listener container will start the transaction before calling the listener method.</p>\n<p><strong>EDIT</strong></p>\n<p>Here is an example of using local transactions; if the send, or getting the result of a future, throws an exception, the transaction will be rolled back; otherwise it will be committed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nApplicationRunner runner(KafkaTemplate&lt;String, String&gt; template) {\n    List&lt;String&gt; data = List.of(&quot;foo&quot;, &quot;bar&quot;);\n    return args -&gt; {\n        boolean success = template.executeInTransaction(t -&gt; {\n            List&lt;CompletableFuture&lt;SendResult&lt;String, String&gt;&gt;&gt; futures = new ArrayList&lt;&gt;();\n            data.forEach(item-&gt; {\n                futures.add(t.send(&quot;so75910507&quot;, item));\n            });\n            futures.forEach(future -&gt; {\n                try {\n                    future.get(10, TimeUnit.SECONDS);\n                }\n                catch (InterruptedException e) {\n                    Thread.currentThread().interrupt();\n                    throw new IllegalStateException(e);\n                }\n                catch (ExecutionException | TimeoutException e) {\n                    throw new IllegalStateException(e);\n                }\n            });\n            return true;\n        });\n    };\n}\n</code></pre>\n"}],"owner":{"account_id":27835226,"reputation":25,"user_id":21252826,"display_name":"Dave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1861,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75920301,"answer_count":2,"score":0,"last_activity_date":1681133584,"creation_date":1680418041,"question_id":75910507,"body_markdown":"I have to write a method to commit/send all the Kafka producer records on success and rollback all the records on failures based on the Kafka related exception occurred using the latest version of Spring Boot (Preferred) or with Java configuration.\r\n\r\nAnd I am planning to follow the same approach in this [Spring Boot ref](https://docs.spring.io/spring-kafka/reference/html/#transactions), but not able to find out an example code.\r\n\r\n```\r\npublic interface ProducerListener&lt;K, V&gt; {\r\n\r\nvoid onSuccess(ProducerRecord&lt;K, V&gt; producerRecord, RecordMetadata recordMetadata);\r\n\r\nvoid onError(ProducerRecord&lt;K, V&gt; producerRecord, RecordMetadata recordMetadata,\r\n        Exception exception);\r\n\r\n}\r\n```\r\n\r\n\r\nThe NEW approach (Recently added)\r\n\r\n    public ProducerResult produceData(String topic, List&lt;Data&gt; data) {\r\n    \r\n        data.forEach(\r\n                d -&gt; {\r\n                    final ProducerRecord&lt;String, Data&gt; record = createRecord(topic, d);\r\n                    CompletableFuture&lt;SendResult&lt;Integer, Data&gt;&gt; future = template.send(record);\r\n    \r\n                    future.whenComplete((result, ex) -&gt; {\r\n                        if (ex != null) {\r\n                            //Need to roll back the transaction\r\n                            return new ProducerResult(false);\r\n                        }\r\n                    });\r\n                }\r\n        );\r\n        //Need to commit the transaction\r\n        return new ProducerResult(true);\r\n    }\r\n\r\nThe method `createRecord(topic, d)` returns `new ProducerRecord&lt;&gt;(topic, d)` And then how to proceed with template.executeInTransaction?","title":"How to implement Kafka Transactions with Transaction Manager in Spring for Apache Kafka","body":"<p>I have to write a method to commit/send all the Kafka producer records on success and rollback all the records on failures based on the Kafka related exception occurred using the latest version of Spring Boot (Preferred) or with Java configuration.</p>\n<p>And I am planning to follow the same approach in this <a href=\"https://docs.spring.io/spring-kafka/reference/html/#transactions\" rel=\"nofollow noreferrer\">Spring Boot ref</a>, but not able to find out an example code.</p>\n<pre><code>public interface ProducerListener&lt;K, V&gt; {\n\nvoid onSuccess(ProducerRecord&lt;K, V&gt; producerRecord, RecordMetadata recordMetadata);\n\nvoid onError(ProducerRecord&lt;K, V&gt; producerRecord, RecordMetadata recordMetadata,\n        Exception exception);\n\n}\n</code></pre>\n<p>The NEW approach (Recently added)</p>\n<pre><code>public ProducerResult produceData(String topic, List&lt;Data&gt; data) {\n\n    data.forEach(\n            d -&gt; {\n                final ProducerRecord&lt;String, Data&gt; record = createRecord(topic, d);\n                CompletableFuture&lt;SendResult&lt;Integer, Data&gt;&gt; future = template.send(record);\n\n                future.whenComplete((result, ex) -&gt; {\n                    if (ex != null) {\n                        //Need to roll back the transaction\n                        return new ProducerResult(false);\n                    }\n                });\n            }\n    );\n    //Need to commit the transaction\n    return new ProducerResult(true);\n}\n</code></pre>\n<p>The method <code>createRecord(topic, d)</code> returns <code>new ProducerRecord&lt;&gt;(topic, d)</code> And then how to proceed with template.executeInTransaction?</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"display_name":"user73774"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1244068108,"creation_date":1244068108,"answer_id":947595,"question_id":947586,"body_markdown":"How about checksumming the JAR file and comparing it to the spring.jar files in the distributions from SpringSource?  Might take an hour or so to do the downloads, but it should be definitive.","title":"Need Spring version# - only have spring.jar file","body":"<p>How about checksumming the JAR file and comparing it to the spring.jar files in the distributions from SpringSource?  Might take an hour or so to do the downloads, but it should be definitive.</p>\n"},{"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1244069825,"post_id":947679,"comment_id":755878,"body_markdown":"I tested this against Spring JARs I have on my desktop.  It was able to distinguish between 2.5.2, 2.5.6, and 3.0.0.M2, so I say the code is correct.  Besides, it&#39;s a class from Spring - are you gonna doubt them?  Looks like you have 1.2.","body":"I tested this against Spring JARs I have on my desktop.  It was able to distinguish between 2.5.2, 2.5.6, and 3.0.0.M2, so I say the code is correct.  Besides, it&#39;s a class from Spring - are you gonna doubt them?  Looks like you have 1.2."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1244070070,"post_id":947679,"comment_id":755891,"body_markdown":"Just checked it against another spring.jar that&#39;s some earlier work.  I had no idea of the version, but the code came back with 1.2.6.  I&#39;m not sure why you only get 1.2.","body":"Just checked it against another spring.jar that&#39;s some earlier work.  I had no idea of the version, but the code came back with 1.2.6.  I&#39;m not sure why you only get 1.2."},{"owner":{"account_id":9672,"reputation":4912,"user_id":17967,"accept_rate":66,"display_name":"Gary Kephart"},"score":0,"creation_date":1244070891,"post_id":947679,"comment_id":755955,"body_markdown":"Except that there&#39;s no download for just &quot;1.2&quot;. There&#39;s 1.2.0, 1.2.0.RC1 and 1.2.0.RC2. I took the time to download all of them, and it looks like I have either RC1 or RC2, both of which have the `prepareView` method. Just 1.2.0 does not have it though.","body":"Except that there&#39;s no download for just &quot;1.2&quot;. There&#39;s 1.2.0, 1.2.0.RC1 and 1.2.0.RC2. I took the time to download all of them, and it looks like I have either RC1 or RC2, both of which have the <code>prepareView</code> method. Just 1.2.0 does not have it though."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1244071325,"post_id":947679,"comment_id":755979,"body_markdown":"Yeah, that 3.0.0.M2 JAR that I had included even that last bit.  I&#39;m surprised that it didn&#39;t show up for you.","body":"Yeah, that 3.0.0.M2 JAR that I had included even that last bit.  I&#39;m surprised that it didn&#39;t show up for you."},{"owner":{"account_id":9672,"reputation":4912,"user_id":17967,"accept_rate":66,"display_name":"Gary Kephart"},"score":0,"creation_date":1244071409,"post_id":947679,"comment_id":755986,"body_markdown":"But, thanks for getting me close with the SpringVersion.getVersion method.","body":"But, thanks for getting me close with the SpringVersion.getVersion method."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1244071519,"post_id":947679,"comment_id":755990,"body_markdown":"Thank you - I didn&#39;t know it was there until I looked for it.  I learned something, too.","body":"Thank you - I didn&#39;t know it was there until I looked for it.  I learned something, too."},{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":3,"creation_date":1244079408,"post_id":947679,"comment_id":756331,"body_markdown":"Perhaps someone compiled the JAR themselves from source?","body":"Perhaps someone compiled the JAR themselves from source?"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1244080345,"post_id":947679,"comment_id":756376,"body_markdown":"But if that source included the SpringVersion class from Rod Johnson&#39;s guys, I&#39;d imagine that it would still report the version number faithfully.  It&#39;s odd that it does not act like the 1.x, 2.x, and 3.x examples that I have.","body":"But if that source included the SpringVersion class from Rod Johnson&#39;s guys, I&#39;d imagine that it would still report the version number faithfully.  It&#39;s odd that it does not act like the 1.x, 2.x, and 3.x examples that I have."},{"owner":{"account_id":101108,"reputation":13957,"user_id":272180,"accept_rate":62,"display_name":"yglodt"},"score":1,"creation_date":1355997399,"post_id":947679,"comment_id":19272037,"body_markdown":"getVersion() should be accessed in a static way: SpringVersion.getVersion()","body":"getVersion() should be accessed in a static way: SpringVersion.getVersion()"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1355997759,"post_id":947679,"comment_id":19272234,"body_markdown":"That wasn&#39;t true when I wrote this 3.5 years ago.","body":"That wasn&#39;t true when I wrote this 3.5 years ago."},{"owner":{"account_id":4716379,"reputation":1255,"user_id":3901138,"accept_rate":41,"display_name":"Park JongBum"},"score":0,"creation_date":1548378753,"post_id":947679,"comment_id":95530172,"body_markdown":"To me, output was &quot;version: 4.3.0.RELEASE&quot;","body":"To me, output was &quot;version: 4.3.0.RELEASE&quot;"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1548379425,"post_id":947679,"comment_id":95530293,"body_markdown":"Sound right.  That&#39;s an older version - current production version is 5.x.","body":"Sound right.  That&#39;s an older version - current production version is 5.x."}],"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":12,"down_vote_count":0,"up_vote_count":79,"is_accepted":true,"score":79,"last_activity_date":1417647700,"creation_date":1244069189,"answer_id":947679,"question_id":947586,"body_markdown":"This will do it:\r\n\r\n    import org.springframework.core.SpringVersion;\r\n\r\n    public class VersionChecker\r\n    {\r\n        public static void main(String [] args)\r\n        {\r\n            System.out.println(&quot;version: &quot; + SpringVersion.getVersion());\r\n        }\r\n    }\r\n\r\nCompile and run this with spring.jar in your CLASSPATH and it&#39;ll display the version for you.  See the [javadocs][1] as well.\r\n\r\n\r\n  [1]: http://static.springframework.org/spring/docs/2.0.x/api/org/springframework/core/SpringVersion.html","title":"Need Spring version# - only have spring.jar file","body":"<p>This will do it:</p>\n\n<pre><code>import org.springframework.core.SpringVersion;\n\npublic class VersionChecker\n{\n    public static void main(String [] args)\n    {\n        System.out.println(\"version: \" + SpringVersion.getVersion());\n    }\n}\n</code></pre>\n\n<p>Compile and run this with spring.jar in your CLASSPATH and it'll display the version for you.  See the <a href=\"http://static.springframework.org/spring/docs/2.0.x/api/org/springframework/core/SpringVersion.html\" rel=\"noreferrer\">javadocs</a> as well.</p>\n"},{"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1244070645,"post_id":947734,"comment_id":755934,"body_markdown":"I don&#39;t see how size is relevant for determining version.  The 1.2.6 version I have is 1.8MB, but they don&#39;t choose the version number based on size.  Did I miss something about your suggestion?","body":"I don&#39;t see how size is relevant for determining version.  The 1.2.6 version I have is 1.8MB, but they don&#39;t choose the version number based on size.  Did I miss something about your suggestion?"}],"tags":[],"owner":{"account_id":26963,"reputation":35564,"user_id":70616,"accept_rate":74,"display_name":"victor hugo"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1244069994,"creation_date":1244069994,"answer_id":947734,"question_id":947586,"body_markdown":"According to [mvnrepository.com][1] 1.2.9 weights 2.2MB and 1.2.1 weights 2.0MB, that page also has a link for downloading both. I think the weight difference is enough for comparing the files. If you can&#39;t see the difference just checksum. If you can&#39;t see a relation neither with 1.2.1 nor 1.2.9 you can use the page to download any other version quickly (I use it often)\r\n\r\nNOTE: If your JAR is below 2.0MB then I&#39;m afraid duffymo has reason and your JAR is 1.2\r\n\r\n\r\n  [1]: http://www.mvnrepository.com/artifact/org.springframework/spring","title":"Need Spring version# - only have spring.jar file","body":"<p>According to <a href=\"http://www.mvnrepository.com/artifact/org.springframework/spring\" rel=\"nofollow noreferrer\">mvnrepository.com</a> 1.2.9 weights 2.2MB and 1.2.1 weights 2.0MB, that page also has a link for downloading both. I think the weight difference is enough for comparing the files. If you can't see the difference just checksum. If you can't see a relation neither with 1.2.1 nor 1.2.9 you can use the page to download any other version quickly (I use it often)</p>\n\n<p>NOTE: If your JAR is below 2.0MB then I'm afraid duffymo has reason and your JAR is 1.2</p>\n"},{"tags":[],"owner":{"account_id":40662,"reputation":20954,"user_id":117839,"accept_rate":74,"display_name":"Michael Wiles"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1244189877,"creation_date":1244189877,"answer_id":954804,"question_id":947586,"body_markdown":"You can try looking inside the jar&#39;s MANIFEST.MF in the META-INF directory - it should indicate what version yo&#39;re working with.","title":"Need Spring version# - only have spring.jar file","body":"<p>You can try looking inside the jar's MANIFEST.MF in the META-INF directory - it should indicate what version yo're working with.</p>\n"},{"tags":[],"owner":{"account_id":140068,"reputation":666,"user_id":346099,"display_name":"vehnae"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1281536360,"creation_date":1281536360,"answer_id":3459278,"question_id":947586,"body_markdown":"The really easy way is to get the MD5 sum of the archive and google it. Many sites that store .jar archives also index the MD5 sums which Google then finds easily. This works really well for pretty much any Java components.\r\n\r\n    $ md5sum spring-2.5.5.jar\r\n    82a2134b227f717066da4f4b059925d3\r\n\r\n[http://www.google.com/search?q=82a2134b227f717066da4f4b059925d3][1]\r\n\r\n\r\n  [1]: http://www.google.com/search?q=82a2134b227f717066da4f4b059925d3\r\n","title":"Need Spring version# - only have spring.jar file","body":"<p>The really easy way is to get the MD5 sum of the archive and google it. Many sites that store .jar archives also index the MD5 sums which Google then finds easily. This works really well for pretty much any Java components.</p>\n\n<pre><code>$ md5sum spring-2.5.5.jar\n82a2134b227f717066da4f4b059925d3\n</code></pre>\n\n<p><a href=\"http://www.google.com/search?q=82a2134b227f717066da4f4b059925d3\" rel=\"noreferrer\">http://www.google.com/search?q=82a2134b227f717066da4f4b059925d3</a></p>\n"},{"tags":[],"owner":{"account_id":3107921,"reputation":294,"user_id":2630344,"display_name":"misterGrosar"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1466167730,"creation_date":1466167730,"answer_id":37881981,"question_id":947586,"body_markdown":"You cann check it in pom.xml file in `&lt;org.springframework-version&gt;` tag.","title":"Need Spring version# - only have spring.jar file","body":"<p>You cann check it in pom.xml file in <code>&lt;org.springframework-version&gt;</code> tag.</p>\n"},{"tags":[],"owner":{"account_id":8871542,"reputation":7,"user_id":6625123,"display_name":"shaik rizwan"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1469381619,"creation_date":1469381619,"answer_id":38554827,"question_id":947586,"body_markdown":"go to MATA-INF directory and open manifest file.It will be there what version you are using.","title":"Need Spring version# - only have spring.jar file","body":"<p>go to MATA-INF directory and open manifest file.It will be there what version you are using.</p>\n"},{"comments":[{"owner":{"account_id":9558024,"reputation":648,"user_id":7099872,"display_name":"kavinda"},"score":2,"creation_date":1610987323,"post_id":63361168,"comment_id":116300334,"body_markdown":"This answer was helpful than others, since I couldn&#39;t compile the project that wanted to check its spring version. (I wanted to check spring version to create hibernate config :-) and to omit the compile errors)","body":"This answer was helpful than others, since I couldn&#39;t compile the project that wanted to check its spring version. (I wanted to check spring version to create hibernate config :-) and to omit the compile errors)"}],"tags":[],"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1597158812,"creation_date":1597158812,"answer_id":63361168,"question_id":947586,"body_markdown":"If your project uses Maven, you can run the following at the command line to see it:\r\n\r\n    $ mvn dependency:tree | grep org.springframework | grep &#39;spring-core:jar&#39;\r\n\r\n","title":"Need Spring version# - only have spring.jar file","body":"<p>If your project uses Maven, you can run the following at the command line to see it:</p>\n<pre><code>$ mvn dependency:tree | grep org.springframework | grep 'spring-core:jar'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3201379,"reputation":1388,"user_id":2703365,"display_name":"JR Sahoo.&#39;JS&#39;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608040290,"creation_date":1608040290,"answer_id":65307257,"question_id":947586,"body_markdown":"open the jar &amp; check in spring.jar &gt; META-INF &gt; MANIFEST.MF\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wtiMd.png","title":"Need Spring version# - only have spring.jar file","body":"<p>open the jar &amp; check in spring.jar &gt; META-INF &gt; MANIFEST.MF</p>\n<p><a href=\"https://i.stack.imgur.com/wtiMd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wtiMd.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":9672,"reputation":4912,"user_id":17967,"accept_rate":66,"display_name":"Gary Kephart"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75384,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":947679,"answer_count":9,"score":38,"last_activity_date":1681133341,"creation_date":1244067938,"question_id":947586,"body_markdown":"I&#39;ve inherited an app that uses Spring. The original developers are not available. The Spring jar file is just &quot;spring.jar&quot;, so there&#39;s no version# in the filename to help me. I&#39;d like to download the Spring source corresponding to the jar file. The MANIFEST.MF file has &quot;Spring-Version: 1.2&quot; however that&#39;s not precise enough. I&#39;ve looked at version 1.2.1 and 1.2.9 and it doesn&#39;t match up quite right. The key thing is that `org.springframework.web.servlet.view.AbstractCachingViewResolver` has a `prepareView` method which is called from `resolveViewName` and it does not seem to be in 1.2.1 or 1.2.9.\r\n\r\nIs there any easy way to track down the right version?\r\n","title":"Need Spring version# - only have spring.jar file","body":"<p>I've inherited an app that uses Spring. The original developers are not available. The Spring jar file is just \"spring.jar\", so there's no version# in the filename to help me. I'd like to download the Spring source corresponding to the jar file. The MANIFEST.MF file has \"Spring-Version: 1.2\" however that's not precise enough. I've looked at version 1.2.1 and 1.2.9 and it doesn't match up quite right. The key thing is that <code>org.springframework.web.servlet.view.AbstractCachingViewResolver</code> has a <code>prepareView</code> method which is called from <code>resolveViewName</code> and it does not seem to be in 1.2.1 or 1.2.9.</p>\n\n<p>Is there any easy way to track down the right version?</p>\n"},{"tags":["java","apache","maven","csv","format"],"answers":[{"tags":[],"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681133168,"creation_date":1681133168,"answer_id":75977536,"question_id":36560513,"body_markdown":"IgnoreSurroundingSpaces ignore spaces around the double quotes. It does not trim inside the double quotes.\r\nWhat you want is :\r\n\r\n    String test = CSVFormat.DEFAULT.builder().setTrim(true).setQuoteMode(QuoteMode.ALL).build()\r\n    .format(&quot;&quot;,&quot; &quot;,&quot; Test1&quot;,&quot;Test2&quot;,&quot;   Test3     &quot;);\r\n    System.out.println(test);\r\n\r\n","title":"Apache CSV not working properly when withIgnoreSurroundingSpaces is used","body":"<p>IgnoreSurroundingSpaces ignore spaces around the double quotes. It does not trim inside the double quotes.\nWhat you want is :</p>\n<pre><code>String test = CSVFormat.DEFAULT.builder().setTrim(true).setQuoteMode(QuoteMode.ALL).build()\n.format(&quot;&quot;,&quot; &quot;,&quot; Test1&quot;,&quot;Test2&quot;,&quot;   Test3     &quot;);\nSystem.out.println(test);\n</code></pre>\n"}],"owner":{"account_id":4982414,"reputation":1977,"user_id":4006969,"accept_rate":60,"display_name":"Pratiyush Kumar Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75977536,"answer_count":1,"score":2,"last_activity_date":1681133168,"creation_date":1460414190,"question_id":36560513,"body_markdown":"While using Apache CSV with below maven dependency. I am getting un expected results.\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand code\r\n\r\n    \tString test = CSVFormat.DEFAULT.withIgnoreSurroundingSpaces(true)\r\n                      .format(&quot;&quot;,&quot; &quot;,&quot; Test1&quot;,&quot;Test2&quot;,&quot;   Test3     &quot;);\r\n    \tSystem.out.println(test);\r\n\r\nActual Output \r\n\r\n    &quot;&quot;,&quot; &quot;,&quot; Test1&quot;,Test2,&quot;   Test3     &quot;\r\nExpected Output\r\n\r\n    &quot;&quot;,&quot;&quot;,&quot;Test1&quot;,&quot;Test2&quot;,&quot;Test3&quot;\r\n\r\nErrors in output:\r\n1. Extra space is not trimmed.\r\n2. Test2 is printed without quotes is it normal behavior.\r\n","title":"Apache CSV not working properly when withIgnoreSurroundingSpaces is used","body":"<p>While using Apache CSV with below maven dependency. I am getting un expected results.</p>\n\n<pre><code>  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\n    &lt;version&gt;1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>and code</p>\n\n<pre><code>    String test = CSVFormat.DEFAULT.withIgnoreSurroundingSpaces(true)\n                  .format(\"\",\" \",\" Test1\",\"Test2\",\"   Test3     \");\n    System.out.println(test);\n</code></pre>\n\n<p>Actual Output </p>\n\n<pre><code>\"\",\" \",\" Test1\",Test2,\"   Test3     \"\n</code></pre>\n\n<p>Expected Output</p>\n\n<pre><code>\"\",\"\",\"Test1\",\"Test2\",\"Test3\"\n</code></pre>\n\n<p>Errors in output:\n1. Extra space is not trimmed.\n2. Test2 is printed without quotes is it normal behavior.</p>\n"},{"tags":["java","jakarta-ee","jersey"],"comments":[{"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"score":0,"creation_date":1682253252,"post_id":75977532,"comment_id":134182851,"body_markdown":"Can you refer to `Container in Jakarta specification`?","body":"Can you refer to <code>Container in Jakarta specification</code>?"}],"owner":{"account_id":7689435,"reputation":161,"user_id":6789749,"display_name":"Rohan Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681133122,"creation_date":1681133122,"question_id":75977532,"body_markdown":"I have been trying to implement a JAX-RS based jersey server. I came across an interface ‘Container’ which can be managed using ‘ApplicationHandler’ class. My question is if this interface is directly related to the general definition of Container in Jakarta specification? ","title":"Is Container interface defined in jersey-server library is a Jakarta EE Container?","body":"<p>I have been trying to implement a JAX-RS based jersey server. I came across an interface ‘Container’ which can be managed using ‘ApplicationHandler’ class. My question is if this interface is directly related to the general definition of Container in Jakarta specification?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1681133580,"post_id":75977452,"comment_id":134003479,"body_markdown":"The `root` is a `Node`, and has all the properties that other nodes have. The `Scene` is not a `Node`, presumably because it needs properties that nodes don&#39;t need (e.g. a `camera`) and doesn&#39;t need properties that `Node`s have (bounds, transforms, layout coordinates, etc.). But you&#39;re asking here for us to guess the minds of the designers of the API, which is going to make this question primarily opinion based.","body":"The <code>root</code> is a <code>Node</code>, and has all the properties that other nodes have. The <code>Scene</code> is not a <code>Node</code>, presumably because it needs properties that nodes don&#39;t need (e.g. a <code>camera</code>) and doesn&#39;t need properties that <code>Node</code>s have (bounds, transforms, layout coordinates, etc.). But you&#39;re asking here for us to guess the minds of the designers of the API, which is going to make this question primarily opinion based."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1681134283,"post_id":75977452,"comment_id":134003623,"body_markdown":"And if you could place an arbitrary number of `Node`s directly in the scene, then `Scene` would need a layout mechanism. That would either require replicating code (because `Node` subclasses already have a layout mechanism) or factoring layout into classes separate from the scene graph hierarchy, which is simply not the design choice that was made. Swing/AWT uses that mechanism, and many of the JavaFX API designers worked extensively on Swing, so that choice was made with a considerable amount of experience.","body":"And if you could place an arbitrary number of <code>Node</code>s directly in the scene, then <code>Scene</code> would need a layout mechanism. That would either require replicating code (because <code>Node</code> subclasses already have a layout mechanism) or factoring layout into classes separate from the scene graph hierarchy, which is simply not the design choice that was made. Swing/AWT uses that mechanism, and many of the JavaFX API designers worked extensively on Swing, so that choice was made with a considerable amount of experience."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1681133016,"creation_date":1681133016,"answer_id":75977523,"question_id":75977452,"body_markdown":"From [Understanding the JavaFX Architecture][1]&lt;sup&gt;1&lt;/sup&gt;\r\n&gt; The JavaFX scene graph ... is a hierarchical tree of nodes that represents all of the visual elements of the application&#39;s user interface\r\n\r\nA tree of nodes must have a single, root node.  \r\nEach node must have a parent node &amp;ndash; except, of-course, for the root node.\r\n\r\n&lt;sup&gt;1&lt;/sup&gt; Part of Oracle&#39;s JavaFX tutorials.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/javafx/get-started-tutorial/jfx-architecture.htm","title":"What is the &quot;point&quot; of root node in JavaFX?","body":"<p>From <a href=\"https://docs.oracle.com/javase/8/javafx/get-started-tutorial/jfx-architecture.htm\" rel=\"nofollow noreferrer\">Understanding the JavaFX Architecture</a><sup>1</sup></p>\n<blockquote>\n<p>The JavaFX scene graph ... is a hierarchical tree of nodes that represents all of the visual elements of the application's user interface</p>\n</blockquote>\n<p>A tree of nodes must have a single, root node.<br />\nEach node must have a parent node – except, of-course, for the root node.</p>\n<p><sup>1</sup> Part of Oracle's JavaFX tutorials.</p>\n"}],"owner":{"account_id":28220672,"reputation":13,"user_id":21571451,"display_name":"jachai.sotaro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1681136362,"answer_count":1,"score":-2,"last_activity_date":1681133016,"creation_date":1681132379,"question_id":75977452,"body_markdown":"Why `Scene` object needs to have a **root node**? Why `Scene` object can&#39;t be just a placeholder for collection of nodes without them being nested under the root one?","title":"What is the &quot;point&quot; of root node in JavaFX?","body":"<p>Why <code>Scene</code> object needs to have a <strong>root node</strong>? Why <code>Scene</code> object can't be just a placeholder for collection of nodes without them being nested under the root one?</p>\n"},{"tags":["java","lambda"],"answers":[{"tags":[],"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681042391,"creation_date":1681042391,"answer_id":75970433,"question_id":75969919,"body_markdown":"All lambda function are immutable because they reference the passed parameter but do not modify the parameter&#39;s value to reach their result. However these expressions can use variables defined in an outer scope, local variables must be (effectively) final.\r\n\r\nLuckily you can declare (and modify) multiple variables in for loop.\r\n\r\n\r\n```java\r\n@Test \r\nvoid testApplyToAllString() { \r\n    StapelMitArray&lt;String&gt; Stapel = new StapelMitArray(5);\r\n    for (int i = 0; i &lt; a.length; i++) { \r\n        Stapel.insert(&quot;String&quot; + i);\r\n    }\r\n    \r\n    for (int i = 0, count = 1; i &lt; a.length; i++, count++) {\r\n        Stapel.applyToAll(wert -&gt; wert.substring(0,count)); \r\n    } \r\n    assertEquals(&quot;Strin&quot;, Stapel.remove());\r\n    assertEquals(&quot;Stri&quot;, Stapel.remove());\r\n    assertEquals(&quot;Str&quot;, Stapel.remove());\r\n    assertEquals(&quot;St&quot;, Stapel.remove());\r\n    assertEquals(&quot;S&quot;, Stapel.remove()); \r\n}\r\n```\r\nBecause the `count` is always `i+1` it can simplify\r\n\r\n```java\r\nfor (int i = 0; i &lt; a.length; i++) {\r\n    Stapel.applyToAll(wert -&gt; wert.substring(0, i+1)); \r\n} \r\n```","title":"Increase a value in lambda function","body":"<p>All lambda function are immutable because they reference the passed parameter but do not modify the parameter's value to reach their result. However these expressions can use variables defined in an outer scope, local variables must be (effectively) final.</p>\n<p>Luckily you can declare (and modify) multiple variables in for loop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test \nvoid testApplyToAllString() { \n    StapelMitArray&lt;String&gt; Stapel = new StapelMitArray(5);\n    for (int i = 0; i &lt; a.length; i++) { \n        Stapel.insert(&quot;String&quot; + i);\n    }\n    \n    for (int i = 0, count = 1; i &lt; a.length; i++, count++) {\n        Stapel.applyToAll(wert -&gt; wert.substring(0,count)); \n    } \n    assertEquals(&quot;Strin&quot;, Stapel.remove());\n    assertEquals(&quot;Stri&quot;, Stapel.remove());\n    assertEquals(&quot;Str&quot;, Stapel.remove());\n    assertEquals(&quot;St&quot;, Stapel.remove());\n    assertEquals(&quot;S&quot;, Stapel.remove()); \n}\n</code></pre>\n<p>Because the <code>count</code> is always <code>i+1</code> it can simplify</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; a.length; i++) {\n    Stapel.applyToAll(wert -&gt; wert.substring(0, i+1)); \n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681132138,"creation_date":1681132138,"answer_id":75977418,"question_id":75969919,"body_markdown":"Make [variable] `count` an array having one element.\r\n```java\r\nint[] count = new int[1]; // all array elements implicitly initialized to 0 (zero)\r\nfor (int i = 0; i &lt; a.length; i++) {\r\n    count[0]++; \r\n    Stapel.applyToAll(wert -&gt; wert.substring(0, count[0])); \r\n}\r\n```\r\nAlternatively, use a &quot;wrapper&quot;, for example [AtomicInteger][1].\r\n```java\r\nAtomicInteger count = new AtomicInteger();\r\nfor (int i = 0; i &lt; a.length; i++) {\r\n    Stapel.applyToAll(wert -&gt; wert.substring(0, count.incrementAndGet())); \r\n}\r\n```\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html","title":"Increase a value in lambda function","body":"<p>Make [variable] <code>count</code> an array having one element.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] count = new int[1]; // all array elements implicitly initialized to 0 (zero)\nfor (int i = 0; i &lt; a.length; i++) {\n    count[0]++; \n    Stapel.applyToAll(wert -&gt; wert.substring(0, count[0])); \n}\n</code></pre>\n<p>Alternatively, use a &quot;wrapper&quot;, for example <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html\" rel=\"nofollow noreferrer\">AtomicInteger</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>AtomicInteger count = new AtomicInteger();\nfor (int i = 0; i &lt; a.length; i++) {\n    Stapel.applyToAll(wert -&gt; wert.substring(0, count.incrementAndGet())); \n}\n</code></pre>\n"}],"owner":{"account_id":26345092,"reputation":11,"user_id":20003608,"display_name":"FunkyPhil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1681132577,"creation_date":1681035351,"question_id":75969919,"body_markdown":"How do I increase a value in the following lambda expression?\r\n```java\r\nvalue -&gt; value + (count++)\r\n```\r\nIt is not working because the variable (`count`) has to be final.  \r\nIs there a workaround?\r\n\r\nThe code is just a project/test for the university, so nothing special.  \r\nThe two java `for` loops are just for testing reasons.\r\n\r\nHere&#39;s the code:\r\n```java\r\n@Test \r\nvoid testApplyToAllString() { \r\n    StapelMitArray&lt;String&gt; Stapel = new StapelMitArray(5);\r\n    for (int i = 0; i &lt; a.length; i++) { \r\n        Stapel.insert(&quot;String&quot; + i);\r\n    }\r\n    int count = 1; \r\n    for (int i = 0; i &lt; a.length; i++) {\r\n        count ++; \r\n        Stapel.applyToAll(wert -&gt; wert.substring(0, count)); \r\n    }\r\n    assertEquals(&quot;Strin&quot;, Stapel.remove());\r\n    assertEquals(&quot;Stri&quot;, Stapel.remove());\r\n    assertEquals(&quot;Str&quot;, Stapel.remove());\r\n    assertEquals(&quot;St&quot;, Stapel.remove());\r\n    assertEquals(&quot;S&quot;, Stapel.remove()); \r\n}\r\n```\r\nI tried this as well:\r\n```java\r\nfor (int i = 0; i &lt; a.length; i++) {\r\n    final int count = a.length - i;\r\n    Stapel.applyToAll(wert -&gt; wert.substring(0, count));\r\n}\r\n```\r\n\r\nIt worked for the first of the following `assertEquals`:\r\n```java\r\nassertEquals(&quot;S&quot;, Stapel.remove());\r\nassertEquals(&quot;St&quot;, Stapel.remove());\r\nassertEquals(&quot;Str&quot;, Stapel.remove());\r\nassertEquals(&quot;Stri&quot;, Stapel.remove());\r\nassertEquals(&quot;Strin&quot;, Stapel.remove());\r\n```\r\n","title":"Increase a value in lambda function","body":"<p>How do I increase a value in the following lambda expression?</p>\n<pre class=\"lang-java prettyprint-override\"><code>value -&gt; value + (count++)\n</code></pre>\n<p>It is not working because the variable (<code>count</code>) has to be final.<br />\nIs there a workaround?</p>\n<p>The code is just a project/test for the university, so nothing special.<br />\nThe two java <code>for</code> loops are just for testing reasons.</p>\n<p>Here's the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test \nvoid testApplyToAllString() { \n    StapelMitArray&lt;String&gt; Stapel = new StapelMitArray(5);\n    for (int i = 0; i &lt; a.length; i++) { \n        Stapel.insert(&quot;String&quot; + i);\n    }\n    int count = 1; \n    for (int i = 0; i &lt; a.length; i++) {\n        count ++; \n        Stapel.applyToAll(wert -&gt; wert.substring(0, count)); \n    }\n    assertEquals(&quot;Strin&quot;, Stapel.remove());\n    assertEquals(&quot;Stri&quot;, Stapel.remove());\n    assertEquals(&quot;Str&quot;, Stapel.remove());\n    assertEquals(&quot;St&quot;, Stapel.remove());\n    assertEquals(&quot;S&quot;, Stapel.remove()); \n}\n</code></pre>\n<p>I tried this as well:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; a.length; i++) {\n    final int count = a.length - i;\n    Stapel.applyToAll(wert -&gt; wert.substring(0, count));\n}\n</code></pre>\n<p>It worked for the first of the following <code>assertEquals</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertEquals(&quot;S&quot;, Stapel.remove());\nassertEquals(&quot;St&quot;, Stapel.remove());\nassertEquals(&quot;Str&quot;, Stapel.remove());\nassertEquals(&quot;Stri&quot;, Stapel.remove());\nassertEquals(&quot;Strin&quot;, Stapel.remove());\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":3116542,"reputation":1299,"user_id":3450840,"accept_rate":56,"display_name":"Florian F"},"score":0,"creation_date":1681074114,"post_id":26213414,"comment_id":133996374,"body_markdown":"If it complains about raw types, write `ServletRegistrationBean&lt;DispatcherServlet&gt;` instead of `ServletRegistrationBean`.","body":"If it complains about raw types, write <code>ServletRegistrationBean&lt;DispatcherServlet&gt;</code> instead of <code>ServletRegistrationBean</code>."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1681132433,"post_id":26213414,"comment_id":134003252,"body_markdown":"Or just `DispatcherServletRegistrationBean`. At the time I wrote this answer there was no that generic type on the `ServletRegistrationBean`.","body":"Or just <code>DispatcherServletRegistrationBean</code>. At the time I wrote this answer there was no that generic type on the <code>ServletRegistrationBean</code>."}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":2,"down_vote_count":1,"up_vote_count":17,"is_accepted":true,"score":16,"last_activity_date":1681132479,"creation_date":1412587814,"answer_id":26213414,"question_id":26213050,"body_markdown":"You just need to define `dispatcherServlet` `@Bean`:\r\n\r\n    @Bean\r\n    public ServletRegistrationBean&lt;DispatcherServlet&gt; dispatcherServlet() {\r\n        DispatcherServletRegistrationBean registration = new DispatcherServletRegistrationBean(\r\n                new DispatcherServlet(), &quot;/&quot;);\r\n        registration.setAsyncSupported(true);\r\n        return registration;\r\n    }\r\n\r\nIt overrides that default one from `DispatcherServletAutoConfiguration`.\r\n\r\n","title":"Spring Boot enable &lt;async-supported&gt; like in web.xml","body":"<p>You just need to define <code>dispatcherServlet</code> <code>@Bean</code>:</p>\n<pre><code>@Bean\npublic ServletRegistrationBean&lt;DispatcherServlet&gt; dispatcherServlet() {\n    DispatcherServletRegistrationBean registration = new DispatcherServletRegistrationBean(\n            new DispatcherServlet(), &quot;/&quot;);\n    registration.setAsyncSupported(true);\n    return registration;\n}\n</code></pre>\n<p>It overrides that default one from <code>DispatcherServletAutoConfiguration</code>.</p>\n"},{"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1576831517,"post_id":46209538,"comment_id":105030859,"body_markdown":"Does that practice include deploying Spring app on tomcat and not standalone app?","body":"Does that practice include deploying Spring app on tomcat and not standalone app?"},{"owner":{"account_id":5002957,"reputation":118,"user_id":4021379,"display_name":"AlexK"},"score":0,"creation_date":1580961317,"post_id":46209538,"comment_id":106272267,"body_markdown":"@Antoniossss that my answer was made during a migration project of a monolith spring (not spring boot) application to a set of standalone spring boot services. Previous, monolithic, non-spring boot version of the app had to turn on async-supported explicitly as far as I remember.","body":"@Antoniossss that my answer was made during a migration project of a monolith spring (not spring boot) application to a set of standalone spring boot services. Previous, monolithic, non-spring boot version of the app had to turn on async-supported explicitly as far as I remember."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1580982898,"post_id":46209538,"comment_id":106279987,"body_markdown":"This turns out not to be true.","body":"This turns out not to be true."},{"owner":{"account_id":5002957,"reputation":118,"user_id":4021379,"display_name":"AlexK"},"score":0,"creation_date":1580995801,"post_id":46209538,"comment_id":106287185,"body_markdown":"The behavior has changed in Spring Boot? The abovementioned statement was made by Spring Boot authors in 2014.....","body":"The behavior has changed in Spring Boot? The abovementioned statement was made by Spring Boot authors in 2014....."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1580998030,"post_id":46209538,"comment_id":106288587,"body_markdown":"I say it too but too but it was just not wrorking. We had to ass something like @EnableAsync somewhere - cannot remember exactly, but it was a matter of singe annotation (that does not relates to this at first glance)","body":"I say it too but too but it was just not wrorking. We had to ass something like @EnableAsync somewhere - cannot remember exactly, but it was a matter of singe annotation (that does not relates to this at first glance)"}],"tags":[],"owner":{"account_id":5002957,"reputation":118,"user_id":4021379,"display_name":"AlexK"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510033725,"creation_date":1505355990,"answer_id":46209538,"question_id":26213050,"body_markdown":"Maybe it worth to mention that Spring Boot has async-support enabled by default for dispatcher servlet and all filters\r\n\r\nQuotation from [github][1]:\r\n\r\n&gt; We automatically set async-supported to true\r\n&gt; because the DispatcherServlet knows how to work with such requests and\r\n&gt; it&#39;s basically up to individual controller methods to return something\r\n&gt; like a DeferredResult. Furthermore, we also set async-supported for\r\n&gt; any filter (provided via getServletFilters) along with setting the\r\n&gt; DispatcherType for each filter to include ASYNC.\r\n\r\nAt least my practice supports this statement\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/1665","title":"Spring Boot enable &lt;async-supported&gt; like in web.xml","body":"<p>Maybe it worth to mention that Spring Boot has async-support enabled by default for dispatcher servlet and all filters</p>\n\n<p>Quotation from <a href=\"https://github.com/spring-projects/spring-boot/issues/1665\" rel=\"nofollow noreferrer\">github</a>:</p>\n\n<blockquote>\n  <p>We automatically set async-supported to true\n  because the DispatcherServlet knows how to work with such requests and\n  it's basically up to individual controller methods to return something\n  like a DeferredResult. Furthermore, we also set async-supported for\n  any filter (provided via getServletFilters) along with setting the\n  DispatcherType for each filter to include ASYNC.</p>\n</blockquote>\n\n<p>At least my practice supports this statement</p>\n"},{"comments":[{"owner":{"account_id":139481,"reputation":1907,"user_id":1623342,"accept_rate":59,"display_name":"Halil"},"score":0,"creation_date":1595619106,"post_id":61895963,"comment_id":111548362,"body_markdown":"I used this filter and it solved my problem. Note that, I didn&#39;t add the filter into the filter chain. Spring is handling that automatically.","body":"I used this filter and it solved my problem. Note that, I didn&#39;t add the filter into the filter chain. Spring is handling that automatically."}],"tags":[],"owner":{"account_id":4009180,"reputation":4758,"user_id":3303074,"display_name":"Prasanth Rajendran"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1589905391,"creation_date":1589905391,"answer_id":61895963,"question_id":26213050,"body_markdown":"Even though I am late to the party I am posting my working solution for posterity.\r\n\r\nI had faced the same issue and tried the solution suggested by @Artem Bilan. But after debugging the code, I came to know that the `servletRegistrationBean.isAsyncSupported()` is by default `true`.\r\n\r\n[![enter image description here][1]][1].\r\n\r\nThe actual error is being generated by the code block is from the method `org.springframework.web.context.request.async.StandardServletAsyncWebRequest.startAsync()`  and we are getting this error when `getRequest().isAsyncSupported()` is `false`. Despite the `ServletRegistrationBean#asyncSupported` value is `true`, `HttpServletRequest#isAsyncSupported()` method value is always set to `false` for all API requests.\r\n \r\nThe Exerpt of the code block [Code Reference][2]\r\n```\r\nAssert.state(getRequest().isAsyncSupported(),\r\n\t\t\t\t&quot;Async support must be enabled on a servlet and for all filters involved &quot; +\r\n\t\t\t\t&quot;in async request processing. This is done in Java code using the Servlet API &quot; +\r\n\t\t\t\t&quot;or by adding \\&quot;&lt;async-supported&gt;true&lt;/async-supported&gt;\\&quot; to servlet and &quot; +\r\n\t\t\t\t&quot;filter declarations in web.xml.&quot;);\r\n\r\n```\r\n\r\nWhen analyzing further, I came to know that requestAttributes -&gt; Globals.ASYNC_SUPPORTED_ATTR decides whether the request has to be processed in an Async way or not. \r\n\r\nDuring the normal scenario, the requests do not have `Globals.ASYNC_SUPPORTED_ATTR` requestAttribute, hence `request.asyncSupported` will be false, if we manually add that requestAttribute `ASYNC_SUPPORTED_ATTR` value as true for all the requests using something like filters then `request#asyncSupported` value will be set to `true` as per the below code block [Code Reference][3]\r\n\r\n```\r\nspecialAttributes.put(Globals.ASYNC_SUPPORTED_ATTR,\r\n                new SpecialAttributeAdapter() {\r\n                    @Override\r\n                    public Object get(Request request, String name) {\r\n                        return request.asyncSupported;\r\n                    }\r\n\r\n                    @Override\r\n                    public void set(Request request, String name, Object value) {\r\n                        Boolean oldValue = request.asyncSupported;\r\n                        request.asyncSupported = (Boolean)value;\r\n                        request.notifyAttributeAssigned(name, value, oldValue);\r\n                    }\r\n                });\r\n\r\n```\t\t\t\t\r\n\r\nThough there is no explicit answer, I have implemented a workaround for this issue. To Summarize all the required changes are listed below:\r\n\r\n 1. Add a filter to set the request attribute as `request.setAttribute(Globals.ASYNC_SUPPORTED_ATTR, true)` \r\n\r\n```\r\n\r\n@Component\r\npublic class AsyncSupportFilter extends OncePerRequestFilter {\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n        request.setAttribute(Globals.ASYNC_SUPPORTED_ATTR, true);\r\n        chain.doFilter(request, response);\r\n    }\r\n}\r\n\r\n```\r\n\r\n 2. Add filter to into your filter chain, in my case I have registered my filter into the spring context as below.\r\n\r\n ```\r\n\r\n@Component\r\n@EnableWebSecurity\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    @Autowired\r\n    private AsyncSupportFilter asyncSupportFilter = null;\r\n    @Override\r\n    public void configure(HttpSecurity httpSecurity) {\r\n\r\n        httpSecurity.addFilter(asyncSupportFilter);\r\n        // we can add the filter before any filter like as httpSecurity.addFilterBefore(asyncSupportFilter , BasicAuthenticationFilter.class);\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/I8soK.jpg\r\n  [2]: https://github.com/spring-projects/spring-framework/blob/da071c1fceb48ac32ebab105d04a204d1ac8642e/spring-web/src/main/java/org/springframework/web/context/request/async/StandardServletAsyncWebRequest.java#L112\r\n  [3]: https://github.com/apache/tomcat/blob/61b8b76571bc10a0fd7e8199122ae96154992fad/java/org/apache/catalina/connector/Request.java#L3435","title":"Spring Boot enable &lt;async-supported&gt; like in web.xml","body":"<p>Even though I am late to the party I am posting my working solution for posterity.</p>\n\n<p>I had faced the same issue and tried the solution suggested by @Artem Bilan. But after debugging the code, I came to know that the <code>servletRegistrationBean.isAsyncSupported()</code> is by default <code>true</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/I8soK.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I8soK.jpg\" alt=\"enter image description here\"></a>.</p>\n\n<p>The actual error is being generated by the code block is from the method <code>org.springframework.web.context.request.async.StandardServletAsyncWebRequest.startAsync()</code>  and we are getting this error when <code>getRequest().isAsyncSupported()</code> is <code>false</code>. Despite the <code>ServletRegistrationBean#asyncSupported</code> value is <code>true</code>, <code>HttpServletRequest#isAsyncSupported()</code> method value is always set to <code>false</code> for all API requests.</p>\n\n<p>The Exerpt of the code block <a href=\"https://github.com/spring-projects/spring-framework/blob/da071c1fceb48ac32ebab105d04a204d1ac8642e/spring-web/src/main/java/org/springframework/web/context/request/async/StandardServletAsyncWebRequest.java#L112\" rel=\"nofollow noreferrer\">Code Reference</a></p>\n\n<pre><code>Assert.state(getRequest().isAsyncSupported(),\n                \"Async support must be enabled on a servlet and for all filters involved \" +\n                \"in async request processing. This is done in Java code using the Servlet API \" +\n                \"or by adding \\\"&lt;async-supported&gt;true&lt;/async-supported&gt;\\\" to servlet and \" +\n                \"filter declarations in web.xml.\");\n\n</code></pre>\n\n<p>When analyzing further, I came to know that requestAttributes -> Globals.ASYNC_SUPPORTED_ATTR decides whether the request has to be processed in an Async way or not. </p>\n\n<p>During the normal scenario, the requests do not have <code>Globals.ASYNC_SUPPORTED_ATTR</code> requestAttribute, hence <code>request.asyncSupported</code> will be false, if we manually add that requestAttribute <code>ASYNC_SUPPORTED_ATTR</code> value as true for all the requests using something like filters then <code>request#asyncSupported</code> value will be set to <code>true</code> as per the below code block <a href=\"https://github.com/apache/tomcat/blob/61b8b76571bc10a0fd7e8199122ae96154992fad/java/org/apache/catalina/connector/Request.java#L3435\" rel=\"nofollow noreferrer\">Code Reference</a></p>\n\n<pre><code>specialAttributes.put(Globals.ASYNC_SUPPORTED_ATTR,\n                new SpecialAttributeAdapter() {\n                    @Override\n                    public Object get(Request request, String name) {\n                        return request.asyncSupported;\n                    }\n\n                    @Override\n                    public void set(Request request, String name, Object value) {\n                        Boolean oldValue = request.asyncSupported;\n                        request.asyncSupported = (Boolean)value;\n                        request.notifyAttributeAssigned(name, value, oldValue);\n                    }\n                });\n\n</code></pre>\n\n<p>Though there is no explicit answer, I have implemented a workaround for this issue. To Summarize all the required changes are listed below:</p>\n\n<ol>\n<li>Add a filter to set the request attribute as <code>request.setAttribute(Globals.ASYNC_SUPPORTED_ATTR, true)</code> </li>\n</ol>\n\n<pre><code>\n@Component\npublic class AsyncSupportFilter extends OncePerRequestFilter {\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws IOException, ServletException {\n        request.setAttribute(Globals.ASYNC_SUPPORTED_ATTR, true);\n        chain.doFilter(request, response);\n    }\n}\n\n</code></pre>\n\n<ol start=\"2\">\n<li>Add filter to into your filter chain, in my case I have registered my filter into the spring context as below.</li>\n</ol>\n\n<pre><code>\n@Component\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n   @Autowired\n   private AsyncSupportFilter asyncSupportFilter = null;\n   @Override\n   public void configure(HttpSecurity httpSecurity) {\n\n       httpSecurity.addFilter(asyncSupportFilter);\n       // we can add the filter before any filter like as httpSecurity.addFilterBefore(asyncSupportFilter , BasicAuthenticationFilter.class);\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21301968,"reputation":1,"user_id":15677652,"display_name":"jl ss"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631065920,"creation_date":1631065920,"answer_id":69096101,"question_id":26213050,"body_markdown":"mysolution:\r\n\r\n    @WebFilter(value = {&quot;/subscriberinfo/query/single/*&quot;})\r\n    public class ...Filter{\r\n    } \r\n\r\n\r\nTO\r\n\r\n    @WebFilter(value = {&quot;/subscriberinfo/query/single/*&quot;}, asyncSupported = true)\r\n    public class ...Filter{\r\n    } ","title":"Spring Boot enable &lt;async-supported&gt; like in web.xml","body":"<p>mysolution:</p>\n<pre><code>@WebFilter(value = {&quot;/subscriberinfo/query/single/*&quot;})\npublic class ...Filter{\n} \n</code></pre>\n<p>TO</p>\n<pre><code>@WebFilter(value = {&quot;/subscriberinfo/query/single/*&quot;}, asyncSupported = true)\npublic class ...Filter{\n} \n</code></pre>\n"}],"owner":{"account_id":3222130,"reputation":415,"user_id":2719317,"accept_rate":75,"display_name":"Arthur Gurov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14040,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":26213414,"answer_count":4,"score":6,"last_activity_date":1681132479,"creation_date":1412586580,"question_id":26213050,"body_markdown":"I have a problem with Spring Boot configuration. I got exception on some mobile devices which should use sockets:\r\n\r\n    java.lang.IllegalArgumentException: Async support must be enabled on a servlet and for all filters involved in async request processing. This is done in Java code using the Servlet API or by adding &quot;&lt;async-supported&gt;true&lt;/async-supported&gt;&quot; to servlet and filter declarations in web.xml. Also you must use a Servlet 3.0+ container\r\n\t    at org.springframework.util.Assert.isTrue(Assert.java:65)\r\n\t\tat org.springframework.http.server.ServletServerHttpAsyncRequestControl.&lt;init&gt;(ServletServerHttpAsyncRequestControl.java:59)\r\n\t\tat org.springframework.http.server.ServletServerHttpRequest.getAsyncRequestControl(ServletServerHttpRequest.java:202)\r\n\t\tat org.springframework.web.socket.sockjs.transport.session.AbstractHttpSockJsSession.handleInitialRequest(AbstractHttpSockJsSession.java:202)\r\n\t\tat org.springframework.web.socket.sockjs.transport.handler.AbstractHttpSendingTransportHandler.handleRequestInternal(AbstractHttpSendingTransportHandler.java:66)\r\n\t\tat org.springframework.web.socket.sockjs.transport.handler.AbstractHttpSendingTransportHandler.handleRequest(AbstractHttpSendingTransportHandler.java:58)\r\n\t\tat org.springframework.web.socket.sockjs.transport.TransportHandlingSockJsService.handleTransportRequest(TransportHandlingSockJsService.java:254)\r\n\t\tat org.springframework.web.socket.sockjs.support.AbstractSockJsService.handleRequest(AbstractSockJsService.java:322)\r\n\t\tat org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler.handleRequest(SockJsHttpRequestHandler.java:88)\r\n\t\tat org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:51)\r\n\t\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:938)\r\n\t\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:870)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:961)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:863)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:646)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:837)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:727)\r\n        ...\r\n\r\nAs I see from the exception, I have to enable async processing by adding &lt;async-supported&gt;true&lt;/async-supported&gt; into the web.xml file. But this is the problem because I don&#39;t have it - our project uses Spring Boot. \r\n\r\nIs there any way to provide the same functionality in Spring Boot like &lt;async-supported&gt; does?","title":"Spring Boot enable &lt;async-supported&gt; like in web.xml","body":"<p>I have a problem with Spring Boot configuration. I got exception on some mobile devices which should use sockets:</p>\n\n<pre><code>java.lang.IllegalArgumentException: Async support must be enabled on a servlet and for all filters involved in async request processing. This is done in Java code using the Servlet API or by adding \"&lt;async-supported&gt;true&lt;/async-supported&gt;\" to servlet and filter declarations in web.xml. Also you must use a Servlet 3.0+ container\n    at org.springframework.util.Assert.isTrue(Assert.java:65)\n    at org.springframework.http.server.ServletServerHttpAsyncRequestControl.&lt;init&gt;(ServletServerHttpAsyncRequestControl.java:59)\n    at org.springframework.http.server.ServletServerHttpRequest.getAsyncRequestControl(ServletServerHttpRequest.java:202)\n    at org.springframework.web.socket.sockjs.transport.session.AbstractHttpSockJsSession.handleInitialRequest(AbstractHttpSockJsSession.java:202)\n    at org.springframework.web.socket.sockjs.transport.handler.AbstractHttpSendingTransportHandler.handleRequestInternal(AbstractHttpSendingTransportHandler.java:66)\n    at org.springframework.web.socket.sockjs.transport.handler.AbstractHttpSendingTransportHandler.handleRequest(AbstractHttpSendingTransportHandler.java:58)\n    at org.springframework.web.socket.sockjs.transport.TransportHandlingSockJsService.handleTransportRequest(TransportHandlingSockJsService.java:254)\n    at org.springframework.web.socket.sockjs.support.AbstractSockJsService.handleRequest(AbstractSockJsService.java:322)\n    at org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler.handleRequest(SockJsHttpRequestHandler.java:88)\n    at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:51)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:938)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:870)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:961)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:863)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:837)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)\n    ...\n</code></pre>\n\n<p>As I see from the exception, I have to enable async processing by adding true into the web.xml file. But this is the problem because I don't have it - our project uses Spring Boot. </p>\n\n<p>Is there any way to provide the same functionality in Spring Boot like  does?</p>\n"},{"tags":["java","android","class","libgdx"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1681131475,"post_id":75977321,"comment_id":134003057,"body_markdown":"If `theClass = Class.forName(className);` fails, variable `theClass` the class remains `null`. In this scenario you need better error handling than simply printing stacktrace.","body":"If <code>theClass = Class.forName(className);</code> fails, variable <code>theClass</code> the class remains <code>null</code>. In this scenario you need better error handling than simply printing stacktrace."},{"owner":{"account_id":24269076,"reputation":29,"user_id":18217490,"display_name":"HermannGo"},"score":0,"creation_date":1681132456,"post_id":75977321,"comment_id":134003260,"body_markdown":"how can I do that?","body":"how can I do that?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1681133726,"post_id":75977321,"comment_id":134003515,"body_markdown":"One way is to throw unchecked exception and handle it properly somewhere else (if the error is not recoverable, this one is not, most of the time). Or you can return an empty list. Depends on what you need to happen if exception occurs when instantiating `theClass`","body":"One way is to throw unchecked exception and handle it properly somewhere else (if the error is not recoverable, this one is not, most of the time). Or you can return an empty list. Depends on what you need to happen if exception occurs when instantiating <code>theClass</code>"}],"answers":[{"comments":[{"owner":{"account_id":24269076,"reputation":29,"user_id":18217490,"display_name":"HermannGo"},"score":0,"creation_date":1681135136,"post_id":75977386,"comment_id":134003787,"body_markdown":"okay, but what can i do?","body":"okay, but what can i do?"},{"owner":{"account_id":60456,"reputation":55971,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"score":0,"creation_date":1681136252,"post_id":75977386,"comment_id":134004045,"body_markdown":"@HermannGo it depends on what you&#39;re trying to do overall.  But for starters, perhaps also catching for a `NullPointerException` and/or `ClassNotFoundException`with a custom error message would do it.  Something like: `&quot;Class.forName for &quot; + className + &quot; has failed.  Please check the validity of className&quot;`","body":"@HermannGo it depends on what you&#39;re trying to do overall.  But for starters, perhaps also catching for a <code>NullPointerException</code> and/or <code>ClassNotFoundException</code>with a custom error message would do it.  Something like: <code>&quot;Class.forName for &quot; + className + &quot; has failed.  Please check the validity of className&quot;</code>"}],"tags":[],"owner":{"account_id":60456,"reputation":55971,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681131901,"creation_date":1681131901,"answer_id":75977386,"question_id":75977321,"body_markdown":"This is happening because the result of the `try`/`catch` could result in `theClass` still being null.  One way to handle this would be to include your list logic _inside_ of the `try`, like this:\r\n\r\n    try\r\n    {\r\n        theClass = Class.forName(className);\r\n\r\n        for (Actor a : stage.getActors())\r\n        {\r\n            if ( theClass.isInstance( a ) )\r\n                list.add( (BaseActor)a );\r\n        }\r\n    }\r\n    catch (Exception error)\r\n    {  error.printStackTrace();  }\r\n\r\n    return list;\r\n\r\nAnd Chaosfire is right; you may need to do more than just print the stack trace.","title":"Java Nullpointer Exception in ArrayList (Lib GDX)","body":"<p>This is happening because the result of the <code>try</code>/<code>catch</code> could result in <code>theClass</code> still being null.  One way to handle this would be to include your list logic <em>inside</em> of the <code>try</code>, like this:</p>\n<pre><code>try\n{\n    theClass = Class.forName(className);\n\n    for (Actor a : stage.getActors())\n    {\n        if ( theClass.isInstance( a ) )\n            list.add( (BaseActor)a );\n    }\n}\ncatch (Exception error)\n{  error.printStackTrace();  }\n\nreturn list;\n</code></pre>\n<p>And Chaosfire is right; you may need to do more than just print the stack trace.</p>\n"}],"owner":{"account_id":24269076,"reputation":29,"user_id":18217490,"display_name":"HermannGo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1681131901,"creation_date":1681131305,"question_id":75977321,"body_markdown":"I have a problem with a &quot;Nullpointer Exception&quot; in LIb GDX.\r\nWhen calling the method &quot; public static ArrayList&lt;BaseActor&gt; getList(Stage stage, String className)&quot;\r\nI get the Nullpointer Exception.\r\n\r\nWould be very grateful for help...\r\n\r\n\r\n[![`enter image description here`][1]][1]\r\n\r\n\r\nHere the function:\r\n\r\n     public  static ArrayList&lt;BaseActor&gt; getList(Stage stage, String className)\r\n    {\r\n        ArrayList&lt;BaseActor&gt; list = new ArrayList&lt;BaseActor&gt;();\r\n\r\n        Class theClass;\r\n        theClass=null;\r\n\r\n        try\r\n        {\r\n            theClass = Class.forName(className);  }\r\n        catch (Exception error)\r\n        {  error.printStackTrace();  }\r\n\r\n        for (Actor a : stage.getActors())\r\n        {\r\n            if ( theClass.isInstance( a ) )\r\n                list.add( (BaseActor)a );\r\n        }\r\n\r\n        return list;\r\n    }\r\n\r\nHere is the call to the function:\r\n\r\n     public void update(float dt)\r\n    {\r\n\r\n        try{\r\n            for (BaseActor rockActor : BaseActor.getList(mainStage, &quot;Rock&quot;))\r\n                turtle.preventOverlap(rockActor);\r\n        }\r\n        catch (Exception error)\r\n        {  error.printStackTrace();  } ......\r\n...\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/niwEy.png","title":"Java Nullpointer Exception in ArrayList (Lib GDX)","body":"<p>I have a problem with a &quot;Nullpointer Exception&quot; in LIb GDX.\nWhen calling the method &quot; public static ArrayList getList(Stage stage, String className)&quot;\nI get the Nullpointer Exception.</p>\n<p>Would be very grateful for help...</p>\n<p><a href=\"https://i.stack.imgur.com/niwEy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/niwEy.png\" alt=\"enter image description here\" /></a></p>\n<p>Here the function:</p>\n<pre><code> public  static ArrayList&lt;BaseActor&gt; getList(Stage stage, String className)\n{\n    ArrayList&lt;BaseActor&gt; list = new ArrayList&lt;BaseActor&gt;();\n\n    Class theClass;\n    theClass=null;\n\n    try\n    {\n        theClass = Class.forName(className);  }\n    catch (Exception error)\n    {  error.printStackTrace();  }\n\n    for (Actor a : stage.getActors())\n    {\n        if ( theClass.isInstance( a ) )\n            list.add( (BaseActor)a );\n    }\n\n    return list;\n}\n</code></pre>\n<p>Here is the call to the function:</p>\n<pre><code> public void update(float dt)\n{\n\n    try{\n        for (BaseActor rockActor : BaseActor.getList(mainStage, &quot;Rock&quot;))\n            turtle.preventOverlap(rockActor);\n    }\n    catch (Exception error)\n    {  error.printStackTrace();  } ......\n</code></pre>\n<p>...</p>\n"},{"tags":["java","list"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1681117646,"post_id":75975696,"comment_id":134000740,"body_markdown":"Why do you use `List&lt;List&lt;String&gt;&gt;`? Judging from the names, your class `Mitarbeiter` represents the elements, and your list should be `List&lt;Mitarbeiter&gt;`.","body":"Why do you use <code>List&lt;List&lt;String&gt;&gt;</code>? Judging from the names, your class <code>Mitarbeiter</code> represents the elements, and your list should be <code>List&lt;Mitarbeiter&gt;</code>."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1681117741,"post_id":75975696,"comment_id":134000755,"body_markdown":"You have `MitarbeiterList`... Why not use it?","body":"You have <code>MitarbeiterList</code>... Why not use it?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1681118459,"post_id":75975696,"comment_id":134000874,"body_markdown":"Aside from your main question, the private fields like `private static String mitarbeitername` or `mitarbeiterguid` or `mitarbeiteralter` shouldn&#39;t be `static`. The `static` members belong to *class* NOT to *instance*, so those fields would hold only *last* value it was set to them.","body":"Aside from your main question, the private fields like <code>private static String mitarbeitername</code> or <code>mitarbeiterguid</code> or <code>mitarbeiteralter</code> shouldn&#39;t be <code>static</code>. The <code>static</code> members belong to <i>class</i> NOT to <i>instance</i>, so those fields would hold only <i>last</i> value it was set to them."}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681118983,"creation_date":1681118983,"answer_id":75975875,"question_id":75975696,"body_markdown":"You can define a comparator that looks for the double field in the inner list:\r\n\r\n    // TODO: add a better name here\r\n    Comparator&lt;List&lt;String&gt;&gt; compareByDoubleDescending = Comparator.&lt;List&lt;String&gt;&gt;comparingDouble(\r\n        innerList -&gt; Double.parseDouble(innerList.get(2))).reversed();\r\n\r\nThen you can use `stream().sorted(...).toList()` that will create a new, sorted list instead of altering the one you have:\r\n\r\n    List&lt;List&lt;String&gt;&gt; sorted = Mitarbeiterdb.stream()\r\n    \t\t.sorted(compareByDoubleDescending)\r\n    \t\t.toList();\r\n    \r\n    System.out.println(sorted);\r\n\r\nOr you can use `Collections.sort`, as you mention. This will modify the current collection:\r\n\r\n    Collections.sort(Mitarbeiterdb, compareByDoubleDescending);\r\n    System.out.println(Mitarbeiterdb);\r\n\r\nPS: I would also encourage you to use an object instead of the inner list. Instead of this:\r\n\r\n    Mitarbeiterdb.get(0).add( &quot;Fischer&quot;);\r\n    Mitarbeiterdb.get(0).add( &quot;0815&quot;);\r\n    Mitarbeiterdb.get(0).add( &quot;0.782311&quot;);\r\n\r\nit will be much safer and clean to use something like this:\r\n\r\n    Mitarbeiterdb.add(new Player(&quot;Fischer&quot;, &quot;0815&quot;, &quot;0.782311&quot;));\r\n    \r\n","title":"Sorting a List&lt;List&lt;String&gt;&gt;","body":"<p>You can define a comparator that looks for the double field in the inner list:</p>\n<pre><code>// TODO: add a better name here\nComparator&lt;List&lt;String&gt;&gt; compareByDoubleDescending = Comparator.&lt;List&lt;String&gt;&gt;comparingDouble(\n    innerList -&gt; Double.parseDouble(innerList.get(2))).reversed();\n</code></pre>\n<p>Then you can use <code>stream().sorted(...).toList()</code> that will create a new, sorted list instead of altering the one you have:</p>\n<pre><code>List&lt;List&lt;String&gt;&gt; sorted = Mitarbeiterdb.stream()\n        .sorted(compareByDoubleDescending)\n        .toList();\n\nSystem.out.println(sorted);\n</code></pre>\n<p>Or you can use <code>Collections.sort</code>, as you mention. This will modify the current collection:</p>\n<pre><code>Collections.sort(Mitarbeiterdb, compareByDoubleDescending);\nSystem.out.println(Mitarbeiterdb);\n</code></pre>\n<p>PS: I would also encourage you to use an object instead of the inner list. Instead of this:</p>\n<pre><code>Mitarbeiterdb.get(0).add( &quot;Fischer&quot;);\nMitarbeiterdb.get(0).add( &quot;0815&quot;);\nMitarbeiterdb.get(0).add( &quot;0.782311&quot;);\n</code></pre>\n<p>it will be much safer and clean to use something like this:</p>\n<pre><code>Mitarbeiterdb.add(new Player(&quot;Fischer&quot;, &quot;0815&quot;, &quot;0.782311&quot;));\n</code></pre>\n"}],"owner":{"account_id":27542271,"reputation":3,"user_id":21018815,"display_name":"DooPexXx"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75975875,"answer_count":1,"score":0,"last_activity_date":1681131819,"creation_date":1681117341,"question_id":75975696,"body_markdown":"I&#39;m trying to sort a List with Collection.sort.\r\n\r\nI&#39;m searching for an approach to sort the values&#160;\r\n&quot;0.782311&quot; , &quot;0.45614&quot;  descendant.  \r\n```\r\npackage example.jdbc.movies;\r\n\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n/**\r\n * This class is used get links from HTML using Jsoup.\r\n * @author w3spoint\r\n */\r\npublic class Mitarbeiter {\r\n\r\n    private static String mitarbeitername =&quot;&quot;;\r\n\r\n    private static String mitarbeiterguid = &quot;&quot;;\r\n\r\n    private static int mitarbeiteralter = 0;\r\n\r\n    static List&lt;Mitarbeiter&gt; MitarbeiterList = new ArrayList&lt;&gt;();\r\n\r\n    public Mitarbeiter(String Name,String GUID,int Alter)\r\n    {\r\n        this.mitarbeitername = Name;\r\n        this.mitarbeiterguid = GUID;\r\n        this.mitarbeiteralter =Alter;\r\n    }\r\n\r\n    public String getMitarbeitername()\r\n    {\r\n        return this.mitarbeitername;\r\n    }\r\n\r\n    public String getGUID()\r\n    {\r\n        return this.mitarbeiterguid;\r\n    }\r\n\r\n    public int getAlter()\r\n    {\r\n        return this.mitarbeiteralter;\r\n    }\r\n\r\n    public void setMitarbeitername(String Name)\r\n    {\r\n        this.mitarbeitername = Name;\r\n    }\r\n\r\n    public void setGUID(String guid)\r\n    {\r\n        this.mitarbeiterguid = guid;\r\n    }\r\n\r\n    public void setAlter(int Alter)\r\n    {\r\n        this.mitarbeiteralter = Alter;\r\n    }\r\n\r\n    public static void main(String args[]){\r\n\r\n        List&lt;List&lt;String&gt;&gt; Mitarbeiterdb = new ArrayList&lt;List&lt;String&gt;&gt;();\r\n\r\n        Mitarbeiterdb.add(new ArrayList&lt;String&gt;());\r\n        Mitarbeiterdb.get(0).add( &quot;Fischer&quot;);\r\n        Mitarbeiterdb.get(0).add( &quot;0815&quot;);\r\n        Mitarbeiterdb.get(0).add( &quot;0.782311&quot;);\r\n        Mitarbeiterdb.add(new ArrayList&lt;String&gt;());\r\n        Mitarbeiterdb.get(1).add( &quot;Schulze&quot;);\r\n        Mitarbeiterdb.get(1).add( &quot;0817&quot;);\r\n        Mitarbeiterdb.get(1).add( &quot;0.124665&quot;);\r\n        Mitarbeiterdb.add(new ArrayList&lt;String&gt;());\r\n        Mitarbeiterdb.get(2).add( &quot;Wagner&quot;);\r\n        Mitarbeiterdb.get(2).add( &quot;2133&quot;);\r\n        Mitarbeiterdb.get(2).add(&quot;0.45614&quot;);\r\n\r\n\r\n        System.out.println(Mitarbeiterdb.get(1).get(0));\r\n\r\n      //  Collections.sort(Mitarbeiterdb, Comparator.comparing(item-&gt;Mitarbeiterdb.indexOf(item)));\r\n\r\n        int cntMitDB = 0;\r\n        /*do {\r\n            Arrays.sort((Double)Mitarbeiterdb.get(cntMitDB));\r\n\r\n\r\n            cntMitDB = cntMitDB +1;\r\n        }while(cntMitDB &lt; Mitarbeiterdb.size());*/\r\n\r\n    }\r\n}\r\n```\r\nI tried to sort in a Loop. ","title":"Sorting a List&lt;List&lt;String&gt;&gt;","body":"<p>I'm trying to sort a List with Collection.sort.</p>\n<p>I'm searching for an approach to sort the values \n&quot;0.782311&quot; , &quot;0.45614&quot;  descendant.</p>\n<pre><code>package example.jdbc.movies;\n\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n/**\n * This class is used get links from HTML using Jsoup.\n * @author w3spoint\n */\npublic class Mitarbeiter {\n\n    private static String mitarbeitername =&quot;&quot;;\n\n    private static String mitarbeiterguid = &quot;&quot;;\n\n    private static int mitarbeiteralter = 0;\n\n    static List&lt;Mitarbeiter&gt; MitarbeiterList = new ArrayList&lt;&gt;();\n\n    public Mitarbeiter(String Name,String GUID,int Alter)\n    {\n        this.mitarbeitername = Name;\n        this.mitarbeiterguid = GUID;\n        this.mitarbeiteralter =Alter;\n    }\n\n    public String getMitarbeitername()\n    {\n        return this.mitarbeitername;\n    }\n\n    public String getGUID()\n    {\n        return this.mitarbeiterguid;\n    }\n\n    public int getAlter()\n    {\n        return this.mitarbeiteralter;\n    }\n\n    public void setMitarbeitername(String Name)\n    {\n        this.mitarbeitername = Name;\n    }\n\n    public void setGUID(String guid)\n    {\n        this.mitarbeiterguid = guid;\n    }\n\n    public void setAlter(int Alter)\n    {\n        this.mitarbeiteralter = Alter;\n    }\n\n    public static void main(String args[]){\n\n        List&lt;List&lt;String&gt;&gt; Mitarbeiterdb = new ArrayList&lt;List&lt;String&gt;&gt;();\n\n        Mitarbeiterdb.add(new ArrayList&lt;String&gt;());\n        Mitarbeiterdb.get(0).add( &quot;Fischer&quot;);\n        Mitarbeiterdb.get(0).add( &quot;0815&quot;);\n        Mitarbeiterdb.get(0).add( &quot;0.782311&quot;);\n        Mitarbeiterdb.add(new ArrayList&lt;String&gt;());\n        Mitarbeiterdb.get(1).add( &quot;Schulze&quot;);\n        Mitarbeiterdb.get(1).add( &quot;0817&quot;);\n        Mitarbeiterdb.get(1).add( &quot;0.124665&quot;);\n        Mitarbeiterdb.add(new ArrayList&lt;String&gt;());\n        Mitarbeiterdb.get(2).add( &quot;Wagner&quot;);\n        Mitarbeiterdb.get(2).add( &quot;2133&quot;);\n        Mitarbeiterdb.get(2).add(&quot;0.45614&quot;);\n\n\n        System.out.println(Mitarbeiterdb.get(1).get(0));\n\n      //  Collections.sort(Mitarbeiterdb, Comparator.comparing(item-&gt;Mitarbeiterdb.indexOf(item)));\n\n        int cntMitDB = 0;\n        /*do {\n            Arrays.sort((Double)Mitarbeiterdb.get(cntMitDB));\n\n\n            cntMitDB = cntMitDB +1;\n        }while(cntMitDB &lt; Mitarbeiterdb.size());*/\n\n    }\n}\n</code></pre>\n<p>I tried to sort in a Loop.</p>\n"},{"tags":["java","api","rest","rest-assured"],"comments":[{"owner":{"account_id":24018413,"reputation":65,"user_id":18001059,"display_name":"Adil Raza"},"score":0,"creation_date":1681118977,"post_id":75975864,"comment_id":134000970,"body_markdown":"@https://stackoverflow.com/users/7574461/lucas-nguyen-17","body":"@<a href=\"https://stackoverflow.com/users/7574461/lucas-nguyen-17\">stackoverflow.com/users/7574461/lucas-nguyen-17</a>"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1681119371,"post_id":75975864,"comment_id":134001022,"body_markdown":"a simple solution will be to directly add the authorization header before calling .build() ```.addHeader(&quot;Authorization&quot;, &quot;bearer eyJhbGciOiJFZERTQSJ9&quot;).build()```. Other options would b to set your user and password pass them through this `AuthenticationScheme auth` parameter.","body":"a simple solution will be to directly add the authorization header before calling .build() <code>.addHeader(&quot;Authorization&quot;, &quot;bearer eyJhbGciOiJFZERTQSJ9&quot;).build()</code>. Other options would b to set your user and password pass them through this <code>AuthenticationScheme auth</code> parameter."}],"answers":[{"tags":[],"owner":{"account_id":14110680,"reputation":16,"user_id":10193619,"display_name":"Zulpikar Uygur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681131780,"creation_date":1681131780,"answer_id":75977382,"question_id":75975864,"body_markdown":"You should put your token in header. \r\n\r\n`\r\nreq.header(&quot;Authorization&quot;, &quot;Bearer &lt;your_token_here&gt;&quot;);\r\n`","title":"How to set bearer token in RequestSpecification spec builder in restAssured java","body":"<p>You should put your token in header.</p>\n<p><code>req.header(&quot;Authorization&quot;, &quot;Bearer &lt;your_token_here&gt;&quot;);</code></p>\n"}],"owner":{"account_id":24018413,"reputation":65,"user_id":18001059,"display_name":"Adil Raza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75977382,"answer_count":1,"score":0,"last_activity_date":1681131780,"creation_date":1681118930,"question_id":75975864,"body_markdown":"I am trying to add my bearer token in the RequestSpecBuilder where my specbuilder\r\nlooks like \r\n\r\n    public static RequestSpecification requestSpecBuilderWithAuthorization(String baseURL, AuthenticationScheme auth) {\r\n        RequestSpecification req = new RequestSpecBuilder().setBaseUri(baseURL)\r\n                .setContentType(ContentType.JSON).setAccept(&quot;*/*&quot;)\r\n                .setAuth(auth)\r\n                .build();\r\n        return req;\r\n    }\r\n\r\nAnd let say I have a bearer token as &quot;bearer eyJhbGciOiJFZERTQSJ9&quot; . So my main objective here is to pass bearer token in RequestSpecification.\r\n\r\nSo how can I pass this token as a AuthenticationScheme in setAuth() or is it even possible to parameterised a specBuilder where I can pass bearer token.","title":"How to set bearer token in RequestSpecification spec builder in restAssured java","body":"<p>I am trying to add my bearer token in the RequestSpecBuilder where my specbuilder\nlooks like</p>\n<pre><code>public static RequestSpecification requestSpecBuilderWithAuthorization(String baseURL, AuthenticationScheme auth) {\n    RequestSpecification req = new RequestSpecBuilder().setBaseUri(baseURL)\n            .setContentType(ContentType.JSON).setAccept(&quot;*/*&quot;)\n            .setAuth(auth)\n            .build();\n    return req;\n}\n</code></pre>\n<p>And let say I have a bearer token as &quot;bearer eyJhbGciOiJFZERTQSJ9&quot; . So my main objective here is to pass bearer token in RequestSpecification.</p>\n<p>So how can I pass this token as a AuthenticationScheme in setAuth() or is it even possible to parameterised a specBuilder where I can pass bearer token.</p>\n"},{"tags":["java","algorithm","parallel-processing","primes","sieve-of-eratosthenes"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1681131604,"post_id":75977334,"comment_id":134003093,"body_markdown":"Option 2 has another problem: you have to sieve the first sqrt(n) numbers before you find the primes in them.","body":"Option 2 has another problem: you have to sieve the first sqrt(n) numbers before you find the primes in them."},{"owner":{"account_id":25333394,"reputation":23,"user_id":20415613,"display_name":"feter"},"score":0,"creation_date":1681131824,"post_id":75977334,"comment_id":134003136,"body_markdown":"Will this take to long though? Since to grt the primes up to sqrt(n) i only sieve(sqrt(sqrt(n)))","body":"Will this take to long though? Since to grt the primes up to sqrt(n) i only sieve(sqrt(sqrt(n)))"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1681131860,"post_id":75977334,"comment_id":134003139,"body_markdown":"It&#39;s good that you are doing this kind of analysis, now you should actually implement both ideas and look at the results.","body":"It&#39;s good that you are doing this kind of analysis, now you should actually implement both ideas and look at the results."},{"owner":{"account_id":25333394,"reputation":23,"user_id":20415613,"display_name":"feter"},"score":0,"creation_date":1681132073,"post_id":75977334,"comment_id":134003187,"body_markdown":"I have implemented the second one, and will do the first. Just wondering if there is a clear way to see it","body":"I have implemented the second one, and will do the first. Just wondering if there is a clear way to see it"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1681135538,"post_id":75977334,"comment_id":134003875,"body_markdown":"Neither of these is really adequate.  I recommend looking up &quot;parallel sieve of Eratosthenes,&quot; or looking at, for example, https://stackoverflow.com/q/9307180/869736.","body":"Neither of these is really adequate.  I recommend looking up &quot;parallel sieve of Eratosthenes,&quot; or looking at, for example, <a href=\"https://stackoverflow.com/q/9307180/869736\">stackoverflow.com/q/9307180/869736</a>."}],"owner":{"account_id":25333394,"reputation":23,"user_id":20415613,"display_name":"feter"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1681135194,"answer_count":0,"score":1,"last_activity_date":1681131409,"creation_date":1681131409,"question_id":75977334,"body_markdown":"I have two ideas on how to parallelize the sieve\r\n\r\n 1. n is the number we want to find the primes up to, so what I do is divide the n into segments, where I each thread will get a segment, the threads will now sieve through their segment and store their primes in their local list of primes. In the end when all primes are finnished we will merge the list of primes.\r\n\r\n 2. we start by sequentially finding the primes up to sqrt(n) we now have a list of all the primes needed to sieve the rest of the numbers. I will now divide evenly the primes found to all the thrrads. Each thread will now sieve from the primes they have to n, in the end all primes will be marked i we will collect them\r\n\r\n\r\n\r\nWhich one is the best way? Option 2 has a problem since sll the threads has access to the byte array making it slower when synchin while option 1 does have their own locsl one","title":"Which way is the best way to do sieve of eratosthenes in parallel?","body":"<p>I have two ideas on how to parallelize the sieve</p>\n<ol>\n<li><p>n is the number we want to find the primes up to, so what I do is divide the n into segments, where I each thread will get a segment, the threads will now sieve through their segment and store their primes in their local list of primes. In the end when all primes are finnished we will merge the list of primes.</p>\n</li>\n<li><p>we start by sequentially finding the primes up to sqrt(n) we now have a list of all the primes needed to sieve the rest of the numbers. I will now divide evenly the primes found to all the thrrads. Each thread will now sieve from the primes they have to n, in the end all primes will be marked i we will collect them</p>\n</li>\n</ol>\n<p>Which one is the best way? Option 2 has a problem since sll the threads has access to the byte array making it slower when synchin while option 1 does have their own locsl one</p>\n"},{"tags":["java","installation","netbeans","reset","windows-11"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1681129429,"post_id":75976320,"comment_id":134002701,"body_markdown":"Not all versions of NetBeans work with all versions of Java - for example, see the [download notes](https://netbeans.apache.org/download/nb122/nb122.html) for NetBeans 12.2, where it states &quot;_Apache NetBeans 12.2 runs on JDK LTS releases 8 and 11, as well as on JDK 15, i.e., the current JDK release at the time of this NetBeans release._&quot;.","body":"Not all versions of NetBeans work with all versions of Java - for example, see the <a href=\"https://netbeans.apache.org/download/nb122/nb122.html\" rel=\"nofollow noreferrer\">download notes</a> for NetBeans 12.2, where it states &quot;<i>Apache NetBeans 12.2 runs on JDK LTS releases 8 and 11, as well as on JDK 15, i.e., the current JDK release at the time of this NetBeans release.</i>&quot;."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1681129463,"post_id":75976320,"comment_id":134002706,"body_markdown":"Downgrade Java (or install an additional, compatible version) or upgrade NetBeans.","body":"Downgrade Java (or install an additional, compatible version) or upgrade NetBeans."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1681132268,"post_id":75976320,"comment_id":134003228,"body_markdown":"Now is 2023, Apache NetBeans 17.","body":"Now is 2023, Apache NetBeans 17."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1681137028,"post_id":75976320,"comment_id":134004191,"body_markdown":"Just to add: It is often helpful to see what the NetBeans log file contains, in these situations. See [this comment](https://stackoverflow.com/questions/73832367/apache-netbeans-12-6-not-opening-on-windows-10#comment130375101_73832367) for notes on where to find the log file.","body":"Just to add: It is often helpful to see what the NetBeans log file contains, in these situations. See <a href=\"https://stackoverflow.com/questions/73832367/apache-netbeans-12-6-not-opening-on-windows-10#comment130375101_73832367\">this comment</a> for notes on where to find the log file."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681554652,"post_id":75977333,"comment_id":134077457,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75977333/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28265446,"reputation":1,"user_id":21609474,"display_name":"Caleb Wacht"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681131400,"creation_date":1681131400,"answer_id":75977333,"question_id":75976320,"body_markdown":"I&#39;m using a Netbeans on version 12.5 and jdk on version 8 or 11 depending on my project, maybe you can try do a downgrade on your jdk for using on your netbeans. If this process don&#39;t work to you, must be necessary reinstall your netbeans and indicates the new jdk on this process, it goes without saying the version of jdk can be changing acording to the dependency of your project ;).","title":"Netbeans 12.2 does not open on my win 11. I have already installed jdk 19.0.2. Does anyone know what is wrong?","body":"<p>I'm using a Netbeans on version 12.5 and jdk on version 8 or 11 depending on my project, maybe you can try do a downgrade on your jdk for using on your netbeans. If this process don't work to you, must be necessary reinstall your netbeans and indicates the new jdk on this process, it goes without saying the version of jdk can be changing acording to the dependency of your project ;).</p>\n"}],"owner":{"account_id":26952340,"reputation":1,"user_id":20521345,"display_name":"Psamuel_jr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":599,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681131400,"creation_date":1681122883,"question_id":75976320,"body_markdown":"I have already installed jdk 19.0.2. Then I installed netbeans 12.2 but it does not open after the installation. I reset my pc but it still does not work\r\n\r\nI installed java before netbeans but before that I have netbeans installed and I uninstalled it some time ago and now it does not open after reinstallation\r\n","title":"Netbeans 12.2 does not open on my win 11. I have already installed jdk 19.0.2. Does anyone know what is wrong?","body":"<p>I have already installed jdk 19.0.2. Then I installed netbeans 12.2 but it does not open after the installation. I reset my pc but it still does not work</p>\n<p>I installed java before netbeans but before that I have netbeans installed and I uninstalled it some time ago and now it does not open after reinstallation</p>\n"},{"tags":["java","itext","digital-signature","itext7"],"comments":[{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1681230977,"post_id":75977309,"comment_id":134021801,"body_markdown":"Do you have an example document? (Append mode is active so should be ok)","body":"Do you have an example document? (Append mode is active so should be ok)"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1681288864,"post_id":75977309,"comment_id":134030884,"body_markdown":"Indeed, please share an example before and after your code runs.","body":"Indeed, please share an example before and after your code runs."},{"owner":{"account_id":19243260,"reputation":106,"user_id":14062833,"display_name":"siamak"},"score":0,"creation_date":1681319839,"post_id":75977309,"comment_id":134038663,"body_markdown":"this is a pdf without any signature :\nhttps://drive.google.com/file/d/1n61SomPOf7H9PmDhZwCt-TdwpUfEqU9K/view?usp=sharing\nthis is a pdf with first signature:\nhttps://drive.google.com/file/d/1mGHFhRbUDMhatea0nh7LNeHVaLKH-k9i/view?usp=share_link\nafter I sign this document for second time I got the error, this is the document after second signature:\nhttps://drive.google.com/file/d/1AN7--YfHItqTlqqe3SvoGrG4JdjCX82T/view?usp=share_link","body":"this is a pdf without any signature : <a href=\"https://drive.google.com/file/d/1n61SomPOf7H9PmDhZwCt-TdwpUfEqU9K/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1n61SomPOf7H9PmDhZwCt-TdwpUfEqU9K/&hellip;</a> this is a pdf with first signature: <a href=\"https://drive.google.com/file/d/1mGHFhRbUDMhatea0nh7LNeHVaLKH-k9i/view?usp=share_link\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1mGHFhRbUDMhatea0nh7LNeHVaLKH-k9i/&hellip;</a> after I sign this document for second time I got the error, this is the document after second signature: <a href=\"https://drive.google.com/file/d/1AN7--YfHItqTlqqe3SvoGrG4JdjCX82T/view?usp=share_link\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1AN7--YfHItqTlqqe3SvoGrG4JdjCX82T/&hellip;</a>"},{"owner":{"account_id":19243260,"reputation":106,"user_id":14062833,"display_name":"siamak"},"score":0,"creation_date":1681320739,"post_id":75977309,"comment_id":134038879,"body_markdown":"and this is the document after I run the above code on the document with one signature(the document with placeholder for the second signature ):\nhttps://drive.google.com/file/d/1AN7--YfHItqTlqqe3SvoGrG4JdjCX82T/view?usp=share_link","body":"and this is the document after I run the above code on the document with one signature(the document with placeholder for the second signature ): <a href=\"https://drive.google.com/file/d/1AN7--YfHItqTlqqe3SvoGrG4JdjCX82T/view?usp=share_link\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1AN7--YfHItqTlqqe3SvoGrG4JdjCX82T/&hellip;</a>"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1681405094,"post_id":75977309,"comment_id":134054746,"body_markdown":"You shared the same link twice.","body":"You shared the same link twice."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1681406968,"post_id":75977309,"comment_id":134055116,"body_markdown":"Comparing one_signature.pdf and two_signature.pdf one sees that after adding the first signature but before adding the second one the PDF is processed in non-append mode. This appears not to happen in the code you show.","body":"Comparing one_signature.pdf and two_signature.pdf one sees that after adding the first signature but before adding the second one the PDF is processed in non-append mode. This appears not to happen in the code you show."},{"owner":{"account_id":19243260,"reputation":106,"user_id":14062833,"display_name":"siamak"},"score":0,"creation_date":1681732719,"post_id":75977309,"comment_id":134099049,"body_markdown":"thanks @mkl . my understanding from your comment is that append mode is playing an important role in the process. I will check all my code for the possible non append mode.","body":"thanks @mkl . my understanding from your comment is that append mode is playing an important role in the process. I will check all my code for the possible non append mode."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1681734533,"post_id":75977309,"comment_id":134099542,"body_markdown":"@siamak *&quot;my understanding from your comment is that append mode is playing an important role in the process&quot;* - Indeed it does! Whenever you manipulate a PDF without using append mode, you garble all included digital signatures and time stamps.","body":"@siamak <i>&quot;my understanding from your comment is that append mode is playing an important role in the process&quot;</i> - Indeed it does! Whenever you manipulate a PDF without using append mode, you garble all included digital signatures and time stamps."}],"owner":{"account_id":19243260,"reputation":106,"user_id":14062833,"display_name":"siamak"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681131166,"creation_date":1681131166,"question_id":75977309,"body_markdown":"I have the code below that add a **placeholder** for signature and write pre-sign file and then get a hash from it. \r\n\r\n**extra explanation:** (and after that I sent the **hash** to the client(where the private key is) to sign the hash and finally after that i will add the signed hash to pdf.)\r\n**Problem:** when I try to sign a pdf without the digital signature on it , this approach work perfect but if I want to sign a pdf that already has been signed by other people it will break the first signature.\r\n\r\n```\r\n    public PadesDigestRes digest(PadesDigestReq req) throws Exception {\r\n        try {\r\n            // create result object\r\n            PadesDigestRes result = new PadesDigestRes();\r\n\r\n            // generate id for pdf document\r\n            String fileId = UUID.randomUUID().toString();\r\n\r\n            // read pdf from base64 document\r\n            com.itextpdf.text.pdf.PdfReader pdfReader = new com.itextpdf.text.pdf.PdfReader(new ByteArrayInputStream(Base64Utils.decodeFromString(req.getBase64Document())));\r\n\r\n            // create destination file output stream\r\n            File file = new File(TEMP_DIR + fileId + &quot;.pdf&quot;);\r\n\r\n            // create stamper to add properties to the pdf document\r\n            PdfStamper pdfStamper = PdfStamper.createSignature(pdfReader, null, &#39;\\0&#39;, file, true);\r\n\r\n            // read previous signatures from pdf document\r\n            ArrayList&lt;String&gt; signatureNames = pdfStamper.getAcroFields().getSignatureNames();\r\n\r\n            // check if there is no signature field on the pdf document\r\n            // then add new page at the end of the pdf document to add new signature field\r\n            if (signatureNames.size() == 0) {\r\n                com.itextpdf.text.pdf.PdfReader tempReader = pdfStamper.getReader();\r\n                int numberOfPages = tempReader.getNumberOfPages();\r\n                pdfStamper.insertPage(numberOfPages + 1, tempReader.getPageSize(1));\r\n            }\r\n\r\n            // get signature appearance &amp;&amp; set required properties\r\n            com.itextpdf.text.pdf.PdfSignatureAppearance signatureAppearance = pdfStamper.getSignatureAppearance();\r\n            //read the user certificate \r\n            X509Certificate certificate = PadesUtil.getX509CertificateFromBase64String(req.getBase64Certificate());\r\n            signatureAppearance.setCertificate(certificate);\r\n            signatureAppearance.setReason(&quot;test&quot;);\r\n            signatureAppearance.setLocation(&quot;Berlin&quot;);\r\n\r\n            //read user data from certificate\r\n            X500Name certificateName = PadesUtil.getX500NameByCertificate(certificate);\r\n            RDN nationalCode = PadesUtil.getRDN(certificateName);\r\n            String signDate = PadesUtil.generateSignDate();\r\n\r\n            String signatureInfo = PadesUtil.generateSignatureStringInfo(signatureNames.size(), certificate, nationalCode, signDate);\r\n            \r\n            signatureAppearance.setLayer2Text(signatureInfo);\r\n            signatureAppearance.setLayer4Text(signatureInfo);\r\n\r\n            //building ui for the signature\r\n            float width = pdfStamper.getReader().getPageSizeWithRotation(1).getWidth();\r\n            int whoMany = (int) Math.floor(width / (150 + 25));\r\n            int signatureIndex = signatureNames.size() + 1;\r\n            float lowerLeftX = (((signatureIndex % whoMany) - 1) * 150 + 25) * signatureIndex;\r\n            float lowerLeftY = (signatureIndex / whoMany) * 100 + 50;\r\n            Rectangle rectangle = new Rectangle(lowerLeftX, lowerLeftY, 150, 100);\r\n            \r\n            \r\n            String fieldName = PadesUtil.generateUserInfo(certificate);\r\n            signatureAppearance.setVisibleSignature(rectangle, pdfStamper.getReader().getNumberOfPages(), fieldName);\r\n            \r\n            // set both digital and image signature on render mode\r\n            signatureAppearance.setRenderingMode(PdfSignatureAppearance.RenderingMode.DESCRIPTION);\r\n\r\n            // create signature container\r\n            com.itextpdf.text.pdf.security.ExternalBlankSignatureContainer external = new com.itextpdf.text.pdf.security.ExternalBlankSignatureContainer(com.itextpdf.text.pdf.PdfName.ADOBE_PPKLITE, com.itextpdf.text.pdf.PdfName.ADBE_PKCS7_DETACHED);\r\n            MakeSignature.signExternalContainer(signatureAppearance, external, 10000);\r\n\r\n            // read generated document(pre-signed pdf with placeholder) from file and get hashable byte range\r\n            PdfReader pdfReaderForHash = new PdfReader(TEMP_DIR + fileId + &quot;.pdf&quot;);\r\n            PdfDocument pdfDocument = new PdfDocument(pdfReaderForHash);\r\n            SignatureUtil signatureUtil = new SignatureUtil(pdfDocument);\r\n            PdfSignature pdfSignature = signatureUtil.getSignature(fieldName);\r\n\r\n            if (pdfSignature == null) {\r\n                throw (new com.itextpdf.kernel.PdfException(&quot;There is no field in the document with such name: {0}.&quot;))\r\n                        .setMessageParams(new Object[]{fieldName});\r\n            } else if (!signatureUtil.signatureCoversWholeDocument(fieldName)) {\r\n                throw (new PdfException(&quot;Signature with name {0} is not the last. It doesn&#39;t cover the whole document.&quot;))\r\n                        .setMessageParams(new Object[]{fieldName});\r\n            } else {\r\n                PdfArray byteRange = pdfSignature.getByteRange();\r\n                long[] gaps = byteRange.toLongArray();\r\n                IRandomAccessSource readerSource = pdfDocument.getReader().getSafeFile().createSourceView();\r\n                InputStream data = new RASInputStream((new RandomAccessSourceFactory()).createRanged(readerSource, gaps));\r\n\r\n                byte[] bytes = Files.readAllBytes(Paths.get(&quot;./path/to/chain.p7b&quot;));\r\n                Certificate[] certificates = readCertificatesFromPKCS7(bytes);\r\n\r\n                // create hash from whole document\r\n                ExternalDigest digestBC = new com.itextpdf.text.pdf.security.BouncyCastleDigest();\r\n                String algorithm = DigestAlgorithms.SHA256;\r\n                com.itextpdf.text.pdf.security.PdfPKCS7 pkcs7 = new com.itextpdf.text.pdf.security.PdfPKCS7(null, certificates, algorithm, null, digestBC, false);\r\n                byte[] documentHash = DigestAlgorithms.digest(data, digestBC.getMessageDigest(algorithm));\r\n                byte[] authedAttrBytes = pkcs7.getAuthenticatedAttributeBytes(documentHash, null, null, MakeSignature.CryptoStandard.CMS);\r\n\r\n                // set response fields\r\n                result.setFileId(fileId);\r\n                result.setBase64Pkcs7(Base64Utils.encodeToString(authedAttrBytes));\r\n                result.setBase64DocumentDigest(Base64Utils.encodeToString(documentHash));\r\n\r\n                return result;\r\n            }\r\n        } catch (IOException e) {\r\n            log.warn(&quot;Could not read document with base64document value : &quot; + e);\r\n            throw new IOException(e.getMessage());\r\n        } catch (DocumentException e) {\r\n            log.warn(&quot;Could not create signature using pdfStamper : &quot; + e);\r\n            throw new DocumentException(e.getMessage());\r\n        } catch (PdfException e) {\r\n            log.warn(e.getMessage());\r\n            throw new PdfException(e.getMessage());\r\n        } catch (Exception e) {\r\n            log.warn(&quot;Internal error : &quot; + e);\r\n            throw new Exception(e.getMessage());\r\n        }\r\n    }\r\n```\r\n\r\n\r\n\r\nThis is a error that i get from the Adobe Acrobat Reader&quot;[![the second signature is ok but it broke the first valid signature](https://i.stack.imgur.com/UInwL.png)](https://i.stack.imgur.com/UInwL.png)\r\n","title":"signing a document with existing digital signature","body":"<p>I have the code below that add a <strong>placeholder</strong> for signature and write pre-sign file and then get a hash from it.</p>\n<p><strong>extra explanation:</strong> (and after that I sent the <strong>hash</strong> to the client(where the private key is) to sign the hash and finally after that i will add the signed hash to pdf.)\n<strong>Problem:</strong> when I try to sign a pdf without the digital signature on it , this approach work perfect but if I want to sign a pdf that already has been signed by other people it will break the first signature.</p>\n<pre><code>    public PadesDigestRes digest(PadesDigestReq req) throws Exception {\n        try {\n            // create result object\n            PadesDigestRes result = new PadesDigestRes();\n\n            // generate id for pdf document\n            String fileId = UUID.randomUUID().toString();\n\n            // read pdf from base64 document\n            com.itextpdf.text.pdf.PdfReader pdfReader = new com.itextpdf.text.pdf.PdfReader(new ByteArrayInputStream(Base64Utils.decodeFromString(req.getBase64Document())));\n\n            // create destination file output stream\n            File file = new File(TEMP_DIR + fileId + &quot;.pdf&quot;);\n\n            // create stamper to add properties to the pdf document\n            PdfStamper pdfStamper = PdfStamper.createSignature(pdfReader, null, '\\0', file, true);\n\n            // read previous signatures from pdf document\n            ArrayList&lt;String&gt; signatureNames = pdfStamper.getAcroFields().getSignatureNames();\n\n            // check if there is no signature field on the pdf document\n            // then add new page at the end of the pdf document to add new signature field\n            if (signatureNames.size() == 0) {\n                com.itextpdf.text.pdf.PdfReader tempReader = pdfStamper.getReader();\n                int numberOfPages = tempReader.getNumberOfPages();\n                pdfStamper.insertPage(numberOfPages + 1, tempReader.getPageSize(1));\n            }\n\n            // get signature appearance &amp;&amp; set required properties\n            com.itextpdf.text.pdf.PdfSignatureAppearance signatureAppearance = pdfStamper.getSignatureAppearance();\n            //read the user certificate \n            X509Certificate certificate = PadesUtil.getX509CertificateFromBase64String(req.getBase64Certificate());\n            signatureAppearance.setCertificate(certificate);\n            signatureAppearance.setReason(&quot;test&quot;);\n            signatureAppearance.setLocation(&quot;Berlin&quot;);\n\n            //read user data from certificate\n            X500Name certificateName = PadesUtil.getX500NameByCertificate(certificate);\n            RDN nationalCode = PadesUtil.getRDN(certificateName);\n            String signDate = PadesUtil.generateSignDate();\n\n            String signatureInfo = PadesUtil.generateSignatureStringInfo(signatureNames.size(), certificate, nationalCode, signDate);\n            \n            signatureAppearance.setLayer2Text(signatureInfo);\n            signatureAppearance.setLayer4Text(signatureInfo);\n\n            //building ui for the signature\n            float width = pdfStamper.getReader().getPageSizeWithRotation(1).getWidth();\n            int whoMany = (int) Math.floor(width / (150 + 25));\n            int signatureIndex = signatureNames.size() + 1;\n            float lowerLeftX = (((signatureIndex % whoMany) - 1) * 150 + 25) * signatureIndex;\n            float lowerLeftY = (signatureIndex / whoMany) * 100 + 50;\n            Rectangle rectangle = new Rectangle(lowerLeftX, lowerLeftY, 150, 100);\n            \n            \n            String fieldName = PadesUtil.generateUserInfo(certificate);\n            signatureAppearance.setVisibleSignature(rectangle, pdfStamper.getReader().getNumberOfPages(), fieldName);\n            \n            // set both digital and image signature on render mode\n            signatureAppearance.setRenderingMode(PdfSignatureAppearance.RenderingMode.DESCRIPTION);\n\n            // create signature container\n            com.itextpdf.text.pdf.security.ExternalBlankSignatureContainer external = new com.itextpdf.text.pdf.security.ExternalBlankSignatureContainer(com.itextpdf.text.pdf.PdfName.ADOBE_PPKLITE, com.itextpdf.text.pdf.PdfName.ADBE_PKCS7_DETACHED);\n            MakeSignature.signExternalContainer(signatureAppearance, external, 10000);\n\n            // read generated document(pre-signed pdf with placeholder) from file and get hashable byte range\n            PdfReader pdfReaderForHash = new PdfReader(TEMP_DIR + fileId + &quot;.pdf&quot;);\n            PdfDocument pdfDocument = new PdfDocument(pdfReaderForHash);\n            SignatureUtil signatureUtil = new SignatureUtil(pdfDocument);\n            PdfSignature pdfSignature = signatureUtil.getSignature(fieldName);\n\n            if (pdfSignature == null) {\n                throw (new com.itextpdf.kernel.PdfException(&quot;There is no field in the document with such name: {0}.&quot;))\n                        .setMessageParams(new Object[]{fieldName});\n            } else if (!signatureUtil.signatureCoversWholeDocument(fieldName)) {\n                throw (new PdfException(&quot;Signature with name {0} is not the last. It doesn't cover the whole document.&quot;))\n                        .setMessageParams(new Object[]{fieldName});\n            } else {\n                PdfArray byteRange = pdfSignature.getByteRange();\n                long[] gaps = byteRange.toLongArray();\n                IRandomAccessSource readerSource = pdfDocument.getReader().getSafeFile().createSourceView();\n                InputStream data = new RASInputStream((new RandomAccessSourceFactory()).createRanged(readerSource, gaps));\n\n                byte[] bytes = Files.readAllBytes(Paths.get(&quot;./path/to/chain.p7b&quot;));\n                Certificate[] certificates = readCertificatesFromPKCS7(bytes);\n\n                // create hash from whole document\n                ExternalDigest digestBC = new com.itextpdf.text.pdf.security.BouncyCastleDigest();\n                String algorithm = DigestAlgorithms.SHA256;\n                com.itextpdf.text.pdf.security.PdfPKCS7 pkcs7 = new com.itextpdf.text.pdf.security.PdfPKCS7(null, certificates, algorithm, null, digestBC, false);\n                byte[] documentHash = DigestAlgorithms.digest(data, digestBC.getMessageDigest(algorithm));\n                byte[] authedAttrBytes = pkcs7.getAuthenticatedAttributeBytes(documentHash, null, null, MakeSignature.CryptoStandard.CMS);\n\n                // set response fields\n                result.setFileId(fileId);\n                result.setBase64Pkcs7(Base64Utils.encodeToString(authedAttrBytes));\n                result.setBase64DocumentDigest(Base64Utils.encodeToString(documentHash));\n\n                return result;\n            }\n        } catch (IOException e) {\n            log.warn(&quot;Could not read document with base64document value : &quot; + e);\n            throw new IOException(e.getMessage());\n        } catch (DocumentException e) {\n            log.warn(&quot;Could not create signature using pdfStamper : &quot; + e);\n            throw new DocumentException(e.getMessage());\n        } catch (PdfException e) {\n            log.warn(e.getMessage());\n            throw new PdfException(e.getMessage());\n        } catch (Exception e) {\n            log.warn(&quot;Internal error : &quot; + e);\n            throw new Exception(e.getMessage());\n        }\n    }\n</code></pre>\n<p>This is a error that i get from the Adobe Acrobat Reader&quot;<a href=\"https://i.stack.imgur.com/UInwL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UInwL.png\" alt=\"the second signature is ok but it broke the first valid signature\" /></a></p>\n"},{"tags":["java","linked-list","reverse"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1681125811,"post_id":75976574,"comment_id":134002067,"body_markdown":"`reverseList` needs to create a new set of nodes.","body":"<code>reverseList</code> needs to create a new set of nodes."},{"owner":{"account_id":27107994,"reputation":3,"user_id":20653559,"display_name":"Anchal Shivank"},"score":0,"creation_date":1681128517,"post_id":75976574,"comment_id":134002543,"body_markdown":"@tgdavies Do I need to recreate the original list while reversing?","body":"@tgdavies Do I need to recreate the original list while reversing?"}],"answers":[{"tags":[],"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681130572,"creation_date":1681130572,"answer_id":75977218,"question_id":75976574,"body_markdown":"This sounds like a class project.\r\n\r\nTry this:\r\n\r\n  1. Run the original list and store each value on a stack.\r\nWhen you finish the original list the stack (top down) will contain the values\r\nin reverse order.\r\n  1. pop the stack and add the values to a new list.","title":"How to reverse a linked list without affecting the original one?","body":"<p>This sounds like a class project.</p>\n<p>Try this:</p>\n<ol>\n<li>Run the original list and store each value on a stack.\nWhen you finish the original list the stack (top down) will contain the values\nin reverse order.</li>\n<li>pop the stack and add the values to a new list.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9779820,"reputation":9719,"user_id":7248342,"display_name":"Thomas Fritsch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681130958,"creation_date":1681130958,"answer_id":75977279,"question_id":75976574,"body_markdown":"As @tgdavies already commented, you need to build a new list from scratch.\r\nWalk through the original list from head to tail,\r\nand while walking build the reversed list from tail to head.\r\n\r\n    public ListNode reverseList(ListNode head) {\r\n\t   \tListNode reversed = null;\r\n    \tListNode curr = head;\r\n    \twhile (curr != null) {\r\n    \t\treversed = new ListNode(curr.val, reversed);\r\n    \t\tcurr = curr.next;\r\n    \t}\r\n    \treturn reversed;\r\n    }\r\n\r\n","title":"How to reverse a linked list without affecting the original one?","body":"<p>As @tgdavies already commented, you need to build a new list from scratch.\nWalk through the original list from head to tail,\nand while walking build the reversed list from tail to head.</p>\n<pre><code>public ListNode reverseList(ListNode head) {\n    ListNode reversed = null;\n    ListNode curr = head;\n    while (curr != null) {\n        reversed = new ListNode(curr.val, reversed);\n        curr = curr.next;\n    }\n    return reversed;\n}\n</code></pre>\n"}],"owner":{"account_id":27107994,"reputation":3,"user_id":20653559,"display_name":"Anchal Shivank"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75977279,"answer_count":2,"score":0,"last_activity_date":1681130958,"creation_date":1681125170,"question_id":75976574,"body_markdown":"I want to reverse a LinkedList, I wrote the basic program as follows: -\r\n\r\n```\r\npublic class ListNode{\r\n    int val;\r\n    ListNode next;\r\n    ListNode(){}\r\n    ListNode(int val){this.val = val;}\r\n    ListNode(int val, ListNode next){this.val = val; this.next = next;}\r\n}\r\n```\r\n\r\n```\r\n   public ListNode reverseList(ListNode head) {\r\n        ListNode prev = null;\r\n        ListNode curr = head;\r\n        while(curr!=null){\r\n            ListNode next = curr.next;\r\n            curr.next = prev;\r\n            prev = curr;\r\n            curr = next;  \r\n\r\n        }\r\n        return prev;\r\n    }\r\n```\r\n\r\nHere is the program to print the LinkedList\r\n\r\n```\r\n    public void print(ListNode curr){\r\n        while(curr!=null){\r\n            System.out.print(curr.val+&quot; &quot;);\r\n            curr = curr.next;\r\n        }\r\n        System.out.println();\r\n    }\r\n```\r\n\r\nNow my list is \\[1,2,21\\]\r\n\r\nwhen I print it output is as follows\r\n\r\n```\r\n1 2 3 1\r\n```\r\n\r\nwhen I reverse it and print head and reversed the output is as follows: -\r\n\r\n```\r\nListNode reversed = reverseList(head);\r\nprint(head);\r\nprint(reversed)\r\n```\r\n\r\n**Output**\r\n\r\n```\r\n1\r\n1 3 2 1\r\n```\r\n\r\nCan someone explain how to keep head unchanged?\r\n\r\nI tried to reverse the linked list. I was successful but after reversing the list , it altered my current list. I want to keep it unchanged.","title":"How to reverse a linked list without affecting the original one?","body":"<p>I want to reverse a LinkedList, I wrote the basic program as follows: -</p>\n<pre><code>public class ListNode{\n    int val;\n    ListNode next;\n    ListNode(){}\n    ListNode(int val){this.val = val;}\n    ListNode(int val, ListNode next){this.val = val; this.next = next;}\n}\n</code></pre>\n<pre><code>   public ListNode reverseList(ListNode head) {\n        ListNode prev = null;\n        ListNode curr = head;\n        while(curr!=null){\n            ListNode next = curr.next;\n            curr.next = prev;\n            prev = curr;\n            curr = next;  \n\n        }\n        return prev;\n    }\n</code></pre>\n<p>Here is the program to print the LinkedList</p>\n<pre><code>    public void print(ListNode curr){\n        while(curr!=null){\n            System.out.print(curr.val+&quot; &quot;);\n            curr = curr.next;\n        }\n        System.out.println();\n    }\n</code></pre>\n<p>Now my list is [1,2,21]</p>\n<p>when I print it output is as follows</p>\n<pre><code>1 2 3 1\n</code></pre>\n<p>when I reverse it and print head and reversed the output is as follows: -</p>\n<pre><code>ListNode reversed = reverseList(head);\nprint(head);\nprint(reversed)\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>1\n1 3 2 1\n</code></pre>\n<p>Can someone explain how to keep head unchanged?</p>\n<p>I tried to reverse the linked list. I was successful but after reversing the list , it altered my current list. I want to keep it unchanged.</p>\n"},{"tags":["java","spring","spring-boot","spring-validation"],"answers":[{"comments":[{"owner":{"account_id":16856617,"reputation":51,"user_id":12188392,"display_name":"Michael"},"score":0,"creation_date":1681126753,"post_id":75976714,"comment_id":134002241,"body_markdown":"I have tried that already, it still doesn&#39;t work, all the fields are still null","body":"I have tried that already, it still doesn&#39;t work, all the fields are still null"}],"tags":[],"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681126307,"creation_date":1681126307,"answer_id":75976714,"question_id":75976477,"body_markdown":"Based on stacktrace bean validation didn&#39;t stopped working. It works, but all fields in dto are null.\r\n\r\nThat&#39;s because wrong annotation used on method parameters.\r\nUsing correct annotation will solve the problem\r\n\r\n```java\r\n// use this annotation to specify @RequestBody\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\n\r\nResponseEntity&lt;Object&gt; registerUser(\r\n        @RequestBody @Valid RegisterDto register,\r\n        HttpServletRequest request,\r\n        Locale locale);","title":"Spring Validation seemed to stop working (Logging that all fields are null)","body":"<p>Based on stacktrace bean validation didn't stopped working. It works, but all fields in dto are null.</p>\n<p>That's because wrong annotation used on method parameters.\nUsing correct annotation will solve the problem</p>\n<pre class=\"lang-java prettyprint-override\"><code>// use this annotation to specify @RequestBody\nimport org.springframework.web.bind.annotation.RequestBody;\n\nResponseEntity&lt;Object&gt; registerUser(\n        @RequestBody @Valid RegisterDto register,\n        HttpServletRequest request,\n        Locale locale);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14183035,"reputation":3277,"user_id":10245948,"display_name":"Hero Wanders"},"score":1,"creation_date":1681131802,"post_id":75977265,"comment_id":134003130,"body_markdown":"I&#39;ve never seen `@Data` causing this. You can use `delombok` to investigate further, if you want to understand the problem in more detail. It replaces the `@Data` annotation by the actual source code. Starting from this, you could analyze the actual root cause by setting breakpoints or removing more and more generated code until it works.","body":"I&#39;ve never seen <code>@Data</code> causing this. You can use <code>delombok</code> to investigate further, if you want to understand the problem in more detail. It replaces the <code>@Data</code> annotation by the actual source code. Starting from this, you could analyze the actual root cause by setting breakpoints or removing more and more generated code until it works."}],"tags":[],"owner":{"account_id":16856617,"reputation":51,"user_id":12188392,"display_name":"Michael"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681130846,"creation_date":1681130846,"answer_id":75977265,"question_id":75976477,"body_markdown":"Okay so...\r\nI had to remove Lombok&#39;s `@Data` annotation and use only `@Getter` and `@Setter` annotations instead, and I also had to add Spring&#39;s `@RequestBody` in addition to Swagger&#39;s `@RequestBody`...\r\n\r\nSome articles said that the Data annotation also generates hashCode and toString methods, which might not work well with Jacksons Serialization","title":"Spring Validation seemed to stop working (Logging that all fields are null)","body":"<p>Okay so...\nI had to remove Lombok's <code>@Data</code> annotation and use only <code>@Getter</code> and <code>@Setter</code> annotations instead, and I also had to add Spring's <code>@RequestBody</code> in addition to Swagger's <code>@RequestBody</code>...</p>\n<p>Some articles said that the Data annotation also generates hashCode and toString methods, which might not work well with Jacksons Serialization</p>\n"}],"owner":{"account_id":16856617,"reputation":51,"user_id":12188392,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681130846,"creation_date":1681124238,"question_id":75976477,"body_markdown":"So I have an endpoint to register a user, that takes a RegisterDto with validations as RequestBody. I sadly don&#39;t know since when the validation stopped working, but at the moment even with every field filled out it returns a bad request and logs the following:\r\n`2023-04-10T12:50:57.981+02:00  WARN 1836 --- [nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity&lt;java.lang.Object&gt; app.dcuobroker.backend.boundary.v1.api.auth.AuthApiImpl.registerUser(app.dcuobroker.backend.boundary.v1.dto.auth.RegisterDto,jakarta.servlet.http.HttpServletRequest,java.util.Locale) with 6 errors: [Field error in object &#39;registerDto&#39; on field &#39;username&#39;: rejected value [null]; codes [NotNull.registerDto.username,NotNull.username,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerDto.username,username]; arguments []; default message [username]]; default message [darf nicht null sein]] [Field error in object &#39;registerDto&#39; on field &#39;password&#39;: rejected value [null]; codes [NotBlank.registerDto.password,NotBlank.password,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerDto.password,password]; arguments []; default message [password]]; default message [darf nicht leer sein]] [Field error in object &#39;registerDto&#39; on field &#39;username&#39;: rejected value [null]; codes [NotBlank.registerDto.username,NotBlank.username,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerDto.username,username]; arguments []; default message [username]]; default message [darf nicht leer sein]] [Field error in object &#39;registerDto&#39; on field &#39;email&#39;: rejected value [null]; codes [NotNull.registerDto.email,NotNull.email,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerDto.email,email]; arguments []; default message [email]]; default message [darf nicht null sein]] [Field error in object &#39;registerDto&#39; on field &#39;password&#39;: rejected value [null]; codes [NotNull.registerDto.password,NotNull.password,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerDto.password,password]; arguments []; default message [password]]; default message [darf nicht null sein]] [Field error in object &#39;registerDto&#39; on field &#39;email&#39;: rejected value [null]; codes [NotBlank.registerDto.email,NotBlank.email,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerDto.email,email]; arguments []; default message [email]]; default message [darf nicht leer sein]] ]`\r\n\r\nThe RegisterDto:\r\n```java\r\n@Data\r\npublic class RegisterDto {\r\n    @NotNull\r\n    @NotBlank\r\n    @Size(min = 3, max = 20)\r\n    @Pattern(regexp = &quot;^(?=.{3,20}$)(?![_.])(?!.*[_.]{2})[a-zA-Z0-9._]+(?&lt;![_.])$&quot;)\r\n    private String username;\r\n\r\n    @NotNull\r\n    @NotBlank\r\n    @Email\r\n    @Size(max = 50)\r\n    private String email;\r\n\r\n    @NotNull\r\n    @NotBlank\r\n    @Size(min = 8, max = 50)\r\n    @Pattern(regexp = &quot;^(?=.*[a-z])(?=.*[A-Z])(?=.*\\\\d)[a-zA-Z\\\\d]{8,}$&quot;)\r\n    private String password;\r\n\r\n    @JsonProperty(&quot;first_name&quot;)\r\n    @Size(min = 1, max = 50)\r\n    @Pattern(regexp = &quot;/^[a-z ,.&#39;-]+$/i&quot;)\r\n    private String firstName;\r\n\r\n    @JsonProperty(&quot;last_name&quot;)\r\n    @Size(min = 1, max = 50)\r\n    @Pattern(regexp = &quot;/^[a-z ,.&#39;-]+$/i&quot;)\r\n    private String lastName;\r\n}\r\n```\r\n\r\nThis is the request body:\r\n```json\r\n{\r\n    &quot;email&quot;: &quot;test.user@example.com&quot;,\r\n    &quot;username&quot;: &quot;testuser&quot;,\r\n    &quot;password&quot;: &quot;TestPw1!&quot;,\r\n    &quot;first_name&quot;: &quot;Some&quot;,\r\n    &quot;last_name&quot;: &quot;Name&quot;\r\n}\r\n```\r\n\r\nAnd this is the endpoint:\r\n```java\r\n@Operation(summary = &quot;Register a user using the details of the provided dto&quot;)\r\n@ApiResponse(responseCode = &quot;200&quot;, description = &quot;User was registered successfully&quot;,\r\n        content = {@Content(mediaType = MediaType.APPLICATION_JSON_VALUE,\r\n                schema = @Schema(implementation = UserDto.class))})\r\n@ApiResponse(responseCode = &quot;400&quot;, description = &quot;Invalid request body&quot;,\r\n        content = {@Content(mediaType = MediaType.APPLICATION_JSON_VALUE,\r\n                schema = @Schema(implementation = ErrorDto.class))})\r\n@ApiResponse(responseCode = &quot;409&quot;, description = &quot;Username or email is already in use&quot;,\r\n        content = {@Content(mediaType = MediaType.APPLICATION_JSON_VALUE,\r\n                schema = @Schema(implementation = ErrorDto.class))})\r\n@PostMapping(value = &quot;/register&quot;, produces = MediaType.APPLICATION_JSON_VALUE, consumes = MediaType.APPLICATION_JSON_VALUE)\r\nResponseEntity&lt;Object&gt; registerUser(\r\n        @RequestBody(description = &quot;Dto used to register the user&quot;, required = true,\r\n                content = @Content(mediaType = MediaType.APPLICATION_JSON_VALUE,\r\n                        schema = @Schema(implementation = RegisterDto.class)))\r\n        @Valid RegisterDto register,\r\n        HttpServletRequest request,\r\n        Locale locale);\r\n```\r\n\r\nEDIT: Apparently the request body is not being set at all, since removing the @Valid annotation from it returns an internal server error on the http request, as all of the request body&#39;s fields are null. I&#39;ve tried using Spring&#39;s RequestBody annotation instead of Swagger&#39;s requestbody, doesn&#39;t work either.\r\n\r\nI also tried writing getters setters and NoArgs/AllArgs constructors myself instead of using Lombok but that doesn&#39;t fix the issue.","title":"Spring Validation seemed to stop working (Logging that all fields are null)","body":"<p>So I have an endpoint to register a user, that takes a RegisterDto with validations as RequestBody. I sadly don't know since when the validation stopped working, but at the moment even with every field filled out it returns a bad request and logs the following:\n<code>2023-04-10T12:50:57.981+02:00  WARN 1836 --- [nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity&lt;java.lang.Object&gt; app.dcuobroker.backend.boundary.v1.api.auth.AuthApiImpl.registerUser(app.dcuobroker.backend.boundary.v1.dto.auth.RegisterDto,jakarta.servlet.http.HttpServletRequest,java.util.Locale) with 6 errors: [Field error in object 'registerDto' on field 'username': rejected value [null]; codes [NotNull.registerDto.username,NotNull.username,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerDto.username,username]; arguments []; default message [username]]; default message [darf nicht null sein]] [Field error in object 'registerDto' on field 'password': rejected value [null]; codes [NotBlank.registerDto.password,NotBlank.password,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerDto.password,password]; arguments []; default message [password]]; default message [darf nicht leer sein]] [Field error in object 'registerDto' on field 'username': rejected value [null]; codes [NotBlank.registerDto.username,NotBlank.username,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerDto.username,username]; arguments []; default message [username]]; default message [darf nicht leer sein]] [Field error in object 'registerDto' on field 'email': rejected value [null]; codes [NotNull.registerDto.email,NotNull.email,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerDto.email,email]; arguments []; default message [email]]; default message [darf nicht null sein]] [Field error in object 'registerDto' on field 'password': rejected value [null]; codes [NotNull.registerDto.password,NotNull.password,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerDto.password,password]; arguments []; default message [password]]; default message [darf nicht null sein]] [Field error in object 'registerDto' on field 'email': rejected value [null]; codes [NotBlank.registerDto.email,NotBlank.email,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerDto.email,email]; arguments []; default message [email]]; default message [darf nicht leer sein]] ]</code></p>\n<p>The RegisterDto:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class RegisterDto {\n    @NotNull\n    @NotBlank\n    @Size(min = 3, max = 20)\n    @Pattern(regexp = &quot;^(?=.{3,20}$)(?![_.])(?!.*[_.]{2})[a-zA-Z0-9._]+(?&lt;![_.])$&quot;)\n    private String username;\n\n    @NotNull\n    @NotBlank\n    @Email\n    @Size(max = 50)\n    private String email;\n\n    @NotNull\n    @NotBlank\n    @Size(min = 8, max = 50)\n    @Pattern(regexp = &quot;^(?=.*[a-z])(?=.*[A-Z])(?=.*\\\\d)[a-zA-Z\\\\d]{8,}$&quot;)\n    private String password;\n\n    @JsonProperty(&quot;first_name&quot;)\n    @Size(min = 1, max = 50)\n    @Pattern(regexp = &quot;/^[a-z ,.'-]+$/i&quot;)\n    private String firstName;\n\n    @JsonProperty(&quot;last_name&quot;)\n    @Size(min = 1, max = 50)\n    @Pattern(regexp = &quot;/^[a-z ,.'-]+$/i&quot;)\n    private String lastName;\n}\n</code></pre>\n<p>This is the request body:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;email&quot;: &quot;test.user@example.com&quot;,\n    &quot;username&quot;: &quot;testuser&quot;,\n    &quot;password&quot;: &quot;TestPw1!&quot;,\n    &quot;first_name&quot;: &quot;Some&quot;,\n    &quot;last_name&quot;: &quot;Name&quot;\n}\n</code></pre>\n<p>And this is the endpoint:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Operation(summary = &quot;Register a user using the details of the provided dto&quot;)\n@ApiResponse(responseCode = &quot;200&quot;, description = &quot;User was registered successfully&quot;,\n        content = {@Content(mediaType = MediaType.APPLICATION_JSON_VALUE,\n                schema = @Schema(implementation = UserDto.class))})\n@ApiResponse(responseCode = &quot;400&quot;, description = &quot;Invalid request body&quot;,\n        content = {@Content(mediaType = MediaType.APPLICATION_JSON_VALUE,\n                schema = @Schema(implementation = ErrorDto.class))})\n@ApiResponse(responseCode = &quot;409&quot;, description = &quot;Username or email is already in use&quot;,\n        content = {@Content(mediaType = MediaType.APPLICATION_JSON_VALUE,\n                schema = @Schema(implementation = ErrorDto.class))})\n@PostMapping(value = &quot;/register&quot;, produces = MediaType.APPLICATION_JSON_VALUE, consumes = MediaType.APPLICATION_JSON_VALUE)\nResponseEntity&lt;Object&gt; registerUser(\n        @RequestBody(description = &quot;Dto used to register the user&quot;, required = true,\n                content = @Content(mediaType = MediaType.APPLICATION_JSON_VALUE,\n                        schema = @Schema(implementation = RegisterDto.class)))\n        @Valid RegisterDto register,\n        HttpServletRequest request,\n        Locale locale);\n</code></pre>\n<p>EDIT: Apparently the request body is not being set at all, since removing the @Valid annotation from it returns an internal server error on the http request, as all of the request body's fields are null. I've tried using Spring's RequestBody annotation instead of Swagger's requestbody, doesn't work either.</p>\n<p>I also tried writing getters setters and NoArgs/AllArgs constructors myself instead of using Lombok but that doesn't fix the issue.</p>\n"},{"tags":["java","spring-boot","spring-mvc","asynchronous","spring-annotations"],"answers":[{"tags":[],"owner":{"account_id":6812029,"reputation":635,"user_id":5383834,"accept_rate":88,"display_name":"Wit"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681130689,"creation_date":1681130689,"answer_id":75977238,"question_id":67742125,"body_markdown":"**Question 1** - @Async needs @EnableAsync but could be implicitly. Do you have a dependency to spring-boot-starter-actuator? According to [this answer](https://stackoverflow.com/questions/72299721/async-working-without-enableasync-in-springboot#comment127730637_72299721), it enables async and scheduling by default.\r\n\r\n**Question 2** - Adding @EnableAsync will effect all @Async. In fact, if you can prove that your existing application is already executing your @Async endpoint with a different thread, then all @Async are already working without adding @EnableAsync; as mentioned in Question 1.\r\n\r\n**Question 3** - Yes, you can use any of them or even create a new class if you think existing ones are irrelevant.","title":"Does @Async ever work without @EnableAsync","body":"<p><strong>Question 1</strong> - @Async needs @EnableAsync but could be implicitly. Do you have a dependency to spring-boot-starter-actuator? According to <a href=\"https://stackoverflow.com/questions/72299721/async-working-without-enableasync-in-springboot#comment127730637_72299721\">this answer</a>, it enables async and scheduling by default.</p>\n<p><strong>Question 2</strong> - Adding @EnableAsync will effect all @Async. In fact, if you can prove that your existing application is already executing your @Async endpoint with a different thread, then all @Async are already working without adding @EnableAsync; as mentioned in Question 1.</p>\n<p><strong>Question 3</strong> - Yes, you can use any of them or even create a new class if you think existing ones are irrelevant.</p>\n"}],"owner":{"account_id":21066112,"reputation":61,"user_id":15483345,"display_name":"kimimishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":590,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1681130689,"creation_date":1622217550,"question_id":67742125,"body_markdown":"I am new to Java and working on an existing Spring MVC application. The project has a controller where many endponts are decorated with @Async annotation. But nowhere in the project did I find @EnableAsync annotation.I know @EnableAsync should be placed in one of the @Configuration classes or @SpringBootApplication classes. So I am not sure how the @Async is working of these existing endpoints\r\n\r\n    @RequestMapping(method= RequestMethod.POST, values= /endpoint1, consumes=&quot;application/json&quot;\r\n    @Async\r\n    Public CompletableFuture&lt;String&gt; resultsForEndpoint1()\r\n    {\r\n    }\r\n\r\n**Question1**- Can someone please explain if @Async can work without @EnableAsync\r\n\r\n**Question2**- I need to implement a asynchronous method and perform a long running task on a separate thread and return response from an API without waiting for this long running task to complete. For this i will have to use @EnableAsync. Will Adding @EnableAsync to @SpringBootApplication affect other existing Apis which are decorated with @Async\r\n\r\n**Question3** - There are many classes decorated with @Configuration. Can I use any of these to decorate with @EnableAsync. Which one can I use since many classes have @Configuration","title":"Does @Async ever work without @EnableAsync","body":"<p>I am new to Java and working on an existing Spring MVC application. The project has a controller where many endponts are decorated with @Async annotation. But nowhere in the project did I find @EnableAsync annotation.I know @EnableAsync should be placed in one of the @Configuration classes or @SpringBootApplication classes. So I am not sure how the @Async is working of these existing endpoints</p>\n<pre><code>@RequestMapping(method= RequestMethod.POST, values= /endpoint1, consumes=&quot;application/json&quot;\n@Async\nPublic CompletableFuture&lt;String&gt; resultsForEndpoint1()\n{\n}\n</code></pre>\n<p><strong>Question1</strong>- Can someone please explain if @Async can work without @EnableAsync</p>\n<p><strong>Question2</strong>- I need to implement a asynchronous method and perform a long running task on a separate thread and return response from an API without waiting for this long running task to complete. For this i will have to use @EnableAsync. Will Adding @EnableAsync to @SpringBootApplication affect other existing Apis which are decorated with @Async</p>\n<p><strong>Question3</strong> - There are many classes decorated with @Configuration. Can I use any of these to decorate with @EnableAsync. Which one can I use since many classes have @Configuration</p>\n"},{"tags":["java","binary-tree","postorder"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1680983033,"post_id":75967194,"comment_id":133987199,"body_markdown":"while is testing `current != null` so that will continue to be true for the `if` as well and it will always go that way. You possibly should remove that bit from the `while` condition.","body":"while is testing <code>current != null</code> so that will continue to be true for the <code>if</code> as well and it will always go that way. You possibly should remove that bit from the <code>while</code> condition."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681130631,"creation_date":1681130631,"answer_id":75977228,"question_id":75967194,"body_markdown":"You have dead code because the `while` loop condition ensures that when an iteration is made, `current` is not null.\r\n\r\nBy consequence, the `if (current != null)` block will be executed as long as the loop makes iterations, and never the `else` block.\r\n\r\nThe mistake is that the loop condition is a logical AND, while it should be a logical OR.\r\n\r\nSome other remarks/problems:\r\n\r\n* The spelling of `rigth` is wrong. Please change to `right` everywhere in your code\r\n\r\n* With `TreeNode temp = stack.pop().rigth;` you lose track of the node that you popped from the stack, and it will never be in the output.\r\n\r\n* The same loss happens with `temp == stack.pop().rigth`... You can solve these two problems by calling `.peek()` instead.\r\n\r\n* In the inner `while` loop you use the `&amp;` **bitwise** operator: it does not perform short circuit evaluation. That means that even when the left side operand is false (i.e. the stack is empty), the right side operand will be evaluated, leading to a stack-related exception. You should use the logical operator `&amp;&amp;`.\r\n\r\nIf you fix the above problems, the code will work:\r\n\r\n```\r\n    public void postOrder() {\r\n        TreeNode current = root;\r\n        Stack&lt;TreeNode&gt; stack = new Stack&lt;&gt;();\r\n        while (!stack.isEmpty() || current != null) { // Should be logical OR\r\n            if (current != null) {\r\n                stack.push(current);\r\n                current = current.left;\r\n            } else {\r\n                TreeNode temp = stack.peek().right; // peek() instead of pop()\r\n                if (temp == null) {\r\n                    temp = stack.pop();\r\n                    System.out.println(temp.data + &quot; &quot;);\r\n                    // Use logical &amp;&amp; operator, and use peek() instead of pop():\r\n                    while (!stack.isEmpty() &amp;&amp; temp == stack.peek().right) {\r\n                        temp = stack.pop();\r\n                        System.out.println(temp.data + &quot; &quot;);\r\n                    }\r\n                } else {\r\n                    current = temp;\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n","title":"Postorder Traverse in Binary Tree faced dead code","body":"<p>You have dead code because the <code>while</code> loop condition ensures that when an iteration is made, <code>current</code> is not null.</p>\n<p>By consequence, the <code>if (current != null)</code> block will be executed as long as the loop makes iterations, and never the <code>else</code> block.</p>\n<p>The mistake is that the loop condition is a logical AND, while it should be a logical OR.</p>\n<p>Some other remarks/problems:</p>\n<ul>\n<li><p>The spelling of <code>rigth</code> is wrong. Please change to <code>right</code> everywhere in your code</p>\n</li>\n<li><p>With <code>TreeNode temp = stack.pop().rigth;</code> you lose track of the node that you popped from the stack, and it will never be in the output.</p>\n</li>\n<li><p>The same loss happens with <code>temp == stack.pop().rigth</code>... You can solve these two problems by calling <code>.peek()</code> instead.</p>\n</li>\n<li><p>In the inner <code>while</code> loop you use the <code>&amp;</code> <strong>bitwise</strong> operator: it does not perform short circuit evaluation. That means that even when the left side operand is false (i.e. the stack is empty), the right side operand will be evaluated, leading to a stack-related exception. You should use the logical operator <code>&amp;&amp;</code>.</p>\n</li>\n</ul>\n<p>If you fix the above problems, the code will work:</p>\n<pre><code>    public void postOrder() {\n        TreeNode current = root;\n        Stack&lt;TreeNode&gt; stack = new Stack&lt;&gt;();\n        while (!stack.isEmpty() || current != null) { // Should be logical OR\n            if (current != null) {\n                stack.push(current);\n                current = current.left;\n            } else {\n                TreeNode temp = stack.peek().right; // peek() instead of pop()\n                if (temp == null) {\n                    temp = stack.pop();\n                    System.out.println(temp.data + &quot; &quot;);\n                    // Use logical &amp;&amp; operator, and use peek() instead of pop():\n                    while (!stack.isEmpty() &amp;&amp; temp == stack.peek().right) {\n                        temp = stack.pop();\n                        System.out.println(temp.data + &quot; &quot;);\n                    }\n                } else {\n                    current = temp;\n                }\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":28002067,"reputation":1,"user_id":21386103,"display_name":"user21386103"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681130631,"creation_date":1680980826,"question_id":75967194,"body_markdown":"Here I am trying to traverse my binary tree ( hard coded ) in post order. but after the first esle ( I have marked it by ***** is dead code. Would you please help? Here is my code.\r\n   `package BnaryTree;\r\n\r\n    import java.util.Stack;\r\n\r\n    public class PostOrder {\r\n\tprivate TreeNode root;\r\n\r\n\tprivate class TreeNode {\r\n\t\tprivate TreeNode left;\r\n\t\tprivate TreeNode rigth;\r\n\t\tprivate int data;\r\n\r\n\t\tpublic TreeNode(int data) {\r\n\t\t\tthis.data = data;\r\n\t\t}\r\n\r\n\t}\r\n\tpublic void createBinaryTree() {\r\n\t\tTreeNode first = new TreeNode(1);\r\n\t\tTreeNode second = new TreeNode(2);\r\n\t\tTreeNode three = new TreeNode(3);\r\n\t\tTreeNode four = new TreeNode(4);\r\n\t\tTreeNode five = new TreeNode(5);\r\n\r\n\r\n\t\troot = first;\r\n\t\tfirst.left = second;\r\n\t\tfirst.rigth= three;\r\n\t\tsecond.left=four; \r\n\t\tsecond.rigth= five;\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tPostOrder post= new PostOrder();\r\n\t\tpost.createBinaryTree();\r\n\t\tpost.postOrder();\r\n\t}\r\n\r\n\tpublic void postOrder() {\r\n\t\tTreeNode current = root;\r\n\t\tStack&lt;TreeNode&gt; stack = new Stack&lt;&gt;();\r\n\t\twhile (!stack.isEmpty() &amp;&amp; current != null) {\r\n\t\t\tif (current != null) {\r\n\t\t\t\tstack.push(current);\r\n\t\t\t\tcurrent = current.left;\r\n                        //*****\r\n\t\t\t} else {\r\n\t\t\t\tTreeNode temp = stack.pop().rigth;\r\n\t\t\t\tif (temp == null) {\r\n\t\t\t\t\ttemp = stack.pop();\r\n\t\t\t\t\tSystem.out.println(temp.data + &quot; &quot;);\r\n\t\t\t\t\twhile (!stack.isEmpty() &amp; temp == stack.pop().rigth) {\r\n\t\t\t\t\t\ttemp = stack.pop();\r\n\t\t\t\t\t\tSystem.out.println(temp.data + &quot; &quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcurrent = temp;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n    }`\r\n\r\nEclipse is messaging (Dead code ) but i am not sure why .Thank you.","title":"Postorder Traverse in Binary Tree faced dead code","body":"<p>Here I am trying to traverse my binary tree ( hard coded ) in post order. but after the first esle ( I have marked it by ***** is dead code. Would you please help? Here is my code.\n`package BnaryTree;</p>\n<pre><code>import java.util.Stack;\n\npublic class PostOrder {\nprivate TreeNode root;\n\nprivate class TreeNode {\n    private TreeNode left;\n    private TreeNode rigth;\n    private int data;\n\n    public TreeNode(int data) {\n        this.data = data;\n    }\n\n}\npublic void createBinaryTree() {\n    TreeNode first = new TreeNode(1);\n    TreeNode second = new TreeNode(2);\n    TreeNode three = new TreeNode(3);\n    TreeNode four = new TreeNode(4);\n    TreeNode five = new TreeNode(5);\n\n\n    root = first;\n    first.left = second;\n    first.rigth= three;\n    second.left=four; \n    second.rigth= five;\n    \n    \n}\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    PostOrder post= new PostOrder();\n    post.createBinaryTree();\n    post.postOrder();\n}\n\npublic void postOrder() {\n    TreeNode current = root;\n    Stack&lt;TreeNode&gt; stack = new Stack&lt;&gt;();\n    while (!stack.isEmpty() &amp;&amp; current != null) {\n        if (current != null) {\n            stack.push(current);\n            current = current.left;\n                    //*****\n        } else {\n            TreeNode temp = stack.pop().rigth;\n            if (temp == null) {\n                temp = stack.pop();\n                System.out.println(temp.data + &quot; &quot;);\n                while (!stack.isEmpty() &amp; temp == stack.pop().rigth) {\n                    temp = stack.pop();\n                    System.out.println(temp.data + &quot; &quot;);\n                }\n            } else {\n                current = temp;\n            }\n        }\n    }\n}\n}`\n</code></pre>\n<p>Eclipse is messaging (Dead code ) but i am not sure why .Thank you.</p>\n"},{"tags":["java","openrewrite"],"comments":[{"owner":{"account_id":5441459,"reputation":127,"user_id":4329439,"display_name":"Timor"},"score":2,"creation_date":1674422786,"post_id":75204013,"comment_id":132706154,"body_markdown":"May a simple &quot;Replace in files&quot; or, more CLI-ish, a bunch of `sed` commands be suitable for the job?","body":"May a simple &quot;Replace in files&quot; or, more CLI-ish, a bunch of <code>sed</code> commands be suitable for the job?"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1674429032,"post_id":75204013,"comment_id":132706969,"body_markdown":"I would do this using global text replacement in my IDE, but some command based on `find . | xargs sed -i` would work too","body":"I would do this using global text replacement in my IDE, but some command based on <code>find . | xargs sed -i</code> would work too"},{"owner":{"account_id":27194678,"reputation":53,"user_id":20727776,"display_name":"Vincent Botteman"},"score":1,"creation_date":1674729829,"post_id":75204013,"comment_id":132777847,"body_markdown":"@Bohemian Thanks for the suggestion, but I want to execute the replacement in an OpenRewrite recipe as it will be part of a larger migration recipe. Sorry for the misunderstanding, I have updated the ticket.","body":"@Bohemian Thanks for the suggestion, but I want to execute the replacement in an OpenRewrite recipe as it will be part of a larger migration recipe. Sorry for the misunderstanding, I have updated the ticket."},{"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"score":0,"creation_date":1675336066,"post_id":75204013,"comment_id":132908710,"body_markdown":"Hi @VincentBotteman; sorry it took a while to spot your question; we&#39;re a little more active on [Slack](https://join.slack.com/t/rewriteoss/shared_invite/zt-nj42n3ea-b~62rIHzb3Vo0E1APKCXEA), but will be monitoring StackOverflow as well. I&#39;ve logged your question as [a feature request](https://github.com/openrewrite/rewrite/issues/2755), as it seems like a good (and even easy) addition. Hope that helps!","body":"Hi @VincentBotteman; sorry it took a while to spot your question; we&#39;re a little more active on <a href=\"https://join.slack.com/t/rewriteoss/shared_invite/zt-nj42n3ea-b~62rIHzb3Vo0E1APKCXEA\" rel=\"nofollow noreferrer\">Slack</a>, but will be monitoring StackOverflow as well. I&#39;ve logged your question as <a href=\"https://github.com/openrewrite/rewrite/issues/2755\" rel=\"nofollow noreferrer\">a feature request</a>, as it seems like a good (and even easy) addition. Hope that helps!"},{"owner":{"account_id":27194678,"reputation":53,"user_id":20727776,"display_name":"Vincent Botteman"},"score":1,"creation_date":1681119888,"post_id":75204013,"comment_id":134001096,"body_markdown":"@Tim The new recipe ReplaceConstantWithAnotherConstant solves my issue. Thanks.","body":"@Tim The new recipe ReplaceConstantWithAnotherConstant solves my issue. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681130466,"creation_date":1681130466,"answer_id":75977205,"question_id":75204013,"body_markdown":"This has [since been implemented][1], and [documented here][2]. It can be used  with an example `rewrite.yml` file:\r\n\r\n```yaml\r\ntype: specs.openrewrite.org/v1beta/recipe\r\nname: com.yourorg.ReplaceConstantWithAnotherConstantExample\r\ndisplayName: Replace constant with another constant example\r\nrecipeList:\r\n  - org.openrewrite.java.ReplaceConstantWithAnotherConstant:\r\n      existingFullyQualifiedConstantName: javax.ws.rs.core.MediaType.APPLICATION_JSON\r\n      fullyQualifiedConstantName: org.springframework.http.MediaType.APPLICATION_JSON_VALUE\r\n```\r\n\r\nThanks for the suggestion!\r\n\r\n  [1]: https://github.com/openrewrite/rewrite/pull/3037\r\n  [2]: https://docs.openrewrite.org/reference/recipes/java/replaceconstantwithanotherconstant","title":"How to replace static imports of class constants in OpenRewrite?","body":"<p>This has <a href=\"https://github.com/openrewrite/rewrite/pull/3037\" rel=\"nofollow noreferrer\">since been implemented</a>, and <a href=\"https://docs.openrewrite.org/reference/recipes/java/replaceconstantwithanotherconstant\" rel=\"nofollow noreferrer\">documented here</a>. It can be used  with an example <code>rewrite.yml</code> file:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>type: specs.openrewrite.org/v1beta/recipe\nname: com.yourorg.ReplaceConstantWithAnotherConstantExample\ndisplayName: Replace constant with another constant example\nrecipeList:\n  - org.openrewrite.java.ReplaceConstantWithAnotherConstant:\n      existingFullyQualifiedConstantName: javax.ws.rs.core.MediaType.APPLICATION_JSON\n      fullyQualifiedConstantName: org.springframework.http.MediaType.APPLICATION_JSON_VALUE\n</code></pre>\n<p>Thanks for the suggestion!</p>\n"}],"owner":{"account_id":27194678,"reputation":53,"user_id":20727776,"display_name":"Vincent Botteman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1681130466,"creation_date":1674422630,"question_id":75204013,"body_markdown":"I want to replace static imports of class constants with other class constants.\r\n\r\nExample:\r\n\r\nOriginal code\r\n\r\n```\r\nimport javax.ws.rs.*;\r\nimport static javax.ws.rs.core.MediaType.APPLICATION_JSON;\r\n\r\nclass ControllerClass {\r\n    @Produces(APPLICATION_JSON)\r\n    public String getHelloWorldJSON(String name) {\r\n        return &quot;{}&quot;;\r\n    }\r\n}\r\n```\r\n\r\nExpected code\r\n\r\n```\r\nimport javax.ws.rs.*;\r\nimport static org.springframework.http.MediaType.APPLICATION_JSON_VALUE;\r\n\r\nclass ControllerClass {\r\n    @Produces(APPLICATION_JSON_VALUE)\r\n    public String getHelloWorldJSON(String name) {\r\n        return &quot;{}&quot;;\r\n    }\r\n}\r\n```\r\n\r\nSo I don&#39;t want to only replace the class type (`javax.ws.rs.core.MediaType` -\\&gt; `org.springframework.http.MediaType` ) but also the name of the class constant (`APPLICATION_JSON` -\\&gt; `APPLICATION_JSON_VALUE`)\r\n\r\nI tried using the OpenRewrite `ChangeType` recipe but that only changed the class type, not the class constant.\r\nI want to execute this replacement in an OpenRewrite recipe as it will be part of a larger migration.","title":"How to replace static imports of class constants in OpenRewrite?","body":"<p>I want to replace static imports of class constants with other class constants.</p>\n<p>Example:</p>\n<p>Original code</p>\n<pre><code>import javax.ws.rs.*;\nimport static javax.ws.rs.core.MediaType.APPLICATION_JSON;\n\nclass ControllerClass {\n    @Produces(APPLICATION_JSON)\n    public String getHelloWorldJSON(String name) {\n        return &quot;{}&quot;;\n    }\n}\n</code></pre>\n<p>Expected code</p>\n<pre><code>import javax.ws.rs.*;\nimport static org.springframework.http.MediaType.APPLICATION_JSON_VALUE;\n\nclass ControllerClass {\n    @Produces(APPLICATION_JSON_VALUE)\n    public String getHelloWorldJSON(String name) {\n        return &quot;{}&quot;;\n    }\n}\n</code></pre>\n<p>So I don't want to only replace the class type (<code>javax.ws.rs.core.MediaType</code> -&gt; <code>org.springframework.http.MediaType</code> ) but also the name of the class constant (<code>APPLICATION_JSON</code> -&gt; <code>APPLICATION_JSON_VALUE</code>)</p>\n<p>I tried using the OpenRewrite <code>ChangeType</code> recipe but that only changed the class type, not the class constant.\nI want to execute this replacement in an OpenRewrite recipe as it will be part of a larger migration.</p>\n"},{"tags":["java","android","android-studio","google-vr-sdk"],"owner":{"account_id":28257273,"reputation":1,"user_id":21602548,"display_name":"pr1510"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681130421,"creation_date":1681047945,"question_id":75970895,"body_markdown":"I want to play audio from an external folder (music/data or any other) using the [GvrAudioEngine API](https://developers.google.com/vr/reference/android/com/google/vr/sdk/audio/GvrAudioEngine) by Google VR in an Android Studio App. However, I am unable to do so. The only thing that seems to work is an audio file placed in the Assets folder. However, that does not serve my problem.\r\n**Is there any workaround to solve the problem?**\r\n**Or is there any other Library/API I could use for spatial audio rendering?**\r\n\r\nCode is as follows:\r\n-\r\n\r\n```\r\nGvrAudioEngine gvrAudioEngine = new GvrAudioEngine(this, GvrAudioEngine.RenderingMode.BINAURAL_HIGH_QUALITY);\r\nString SOUND_FILE = &quot;cube_sound.wav&quot;  // Preload the sound file  \r\ngvrAudioEngine.preloadSoundFile(SOUND_FILE); // Create the &#39;sourceId&#39; sound object. // You can create multiple sound objects using the same sound file. \r\nint sourceId = gvrAudioEngine.createSoundObject(SOUND_FILE);\r\n```\r\n\r\nwhere cube_sound.wav is located in the Assets Folder (this works)\r\nHowever, if I replace the SOUND_FILE with an external storage path(/storage/emulated/0/cube_sound.wav), I get `sourceId` = -1 (Invalid). I have ensured that the audio file is located at this place.","title":"Is it possible to add/play audio from the external storage (/storage/emulated/0) in Android Studio using the GvrAudioEngine API?","body":"<p>I want to play audio from an external folder (music/data or any other) using the <a href=\"https://developers.google.com/vr/reference/android/com/google/vr/sdk/audio/GvrAudioEngine\" rel=\"nofollow noreferrer\">GvrAudioEngine API</a> by Google VR in an Android Studio App. However, I am unable to do so. The only thing that seems to work is an audio file placed in the Assets folder. However, that does not serve my problem.\n<strong>Is there any workaround to solve the problem?</strong>\n<strong>Or is there any other Library/API I could use for spatial audio rendering?</strong></p>\n<h2>Code is as follows:</h2>\n<pre><code>GvrAudioEngine gvrAudioEngine = new GvrAudioEngine(this, GvrAudioEngine.RenderingMode.BINAURAL_HIGH_QUALITY);\nString SOUND_FILE = &quot;cube_sound.wav&quot;  // Preload the sound file  \ngvrAudioEngine.preloadSoundFile(SOUND_FILE); // Create the 'sourceId' sound object. // You can create multiple sound objects using the same sound file. \nint sourceId = gvrAudioEngine.createSoundObject(SOUND_FILE);\n</code></pre>\n<p>where cube_sound.wav is located in the Assets Folder (this works)\nHowever, if I replace the SOUND_FILE with an external storage path(/storage/emulated/0/cube_sound.wav), I get <code>sourceId</code> = -1 (Invalid). I have ensured that the audio file is located at this place.</p>\n"},{"tags":["java","android","voice-recognition","voice-control"],"answers":[{"comments":[{"owner":{"account_id":28234750,"reputation":11,"user_id":21583398,"display_name":"ihavenoideawhatimdoing"},"score":0,"creation_date":1680955909,"post_id":75953218,"comment_id":133983742,"body_markdown":"Thank you so much! I tried it but the app still crashes everytime I open it. I think there&#39;s still a problem with the onCreate method.","body":"Thank you so much! I tried it but the app still crashes everytime I open it. I think there&#39;s still a problem with the onCreate method."}],"tags":[],"owner":{"account_id":17753197,"reputation":108,"user_id":12973648,"display_name":"VladDz"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680810161,"creation_date":1680810161,"answer_id":75953218,"question_id":75952573,"body_markdown":"the first thing I would like to draw your attention to is the presence of permission in the manifest and requesting permission from the system, without this the microphone will not work.\r\nCheck if the following line of code is present in the manifest:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n\r\nAnd update the onCreate method like this:\r\n\r\n    \r\n    private static final int RECORD_AUDIO_REQUEST_CODE = 983;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n        ...\r\n\r\n        if (ContextCompat.checkSelfPermission(this, android.Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(this, new String[]{android.Manifest.permission.RECORD_AUDIO}, RECORD_AUDIO_REQUEST_CODE);\r\n        } else {\r\n            initializeTextToSpeach();\r\n            initializeSpeechRecognizer();\r\n        }\r\n    }\r\nAnd check the result of the permission request:\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n        if (requestCode == RECORD_AUDIO_REQUEST_CODE &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n            initializeTextToSpeach();\r\n            initializeSpeechRecognizer();\r\n        }\r\n    }\r\n\r\n\r\nNext, it seems that after registering the listener, you missed a few instructions to start recognition, namely creating an intent. To do this, update your method &quot;initializeSpeechRecognizer&quot; at the end in a similar way:\r\n\r\n    private void initializeSpeechRecognizer() {\r\n    ...\r\n    Intent recognizerIntent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\r\n            recognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, RecognizerIntent.LANGUAGE_MODEL_WEB_SEARCH);\r\n            recognizerIntent.putExtra(RecognizerIntent.EXTRA_CALLING_PACKAGE, this.getPackageName());\r\n            recognizerIntent.putExtra(RecognizerIntent.EXTRA_MAX_RESULTS, 3);\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                recognizerIntent.putExtra(RecognizerIntent.EXTRA_PREFER_OFFLINE, true);\r\n            }\r\n      mySpeechRecognizer.startListening(recognizerIntent);\r\n\r\n\r\nAnd the last thing I recommend is to display information about what error occurred in the onError(int i) method, so that in the future you can understand what could go wrong:\r\n\r\n    @Override\r\n    public void onError(int i) {\r\n        Log.e(&quot;SpeechRecognizer&quot;, &quot;onError, code=&quot; + i);\r\n    }\r\n\r\n\r\nI also want to share that once I was working on an application with a continuous-speech-recognition. Google&#39;s approach to voice recognition did not suit me due to the limitations of working from services. The vosk-api\r\nlibrary helped me here https://github.com/alphacep/vosk-api, which is an api for working with the kaldi voice recognition solution. The essence of this decision is that the application must contain an additional language model of about 50 megabytes in size, and this is only for one language. Of course, this is a big disadvantage of this approach, and the recognition accuracy is worse than that of Google&#39;s solution. But in my case it was enough.","title":"How to implement continuous voice recognition?","body":"<p>the first thing I would like to draw your attention to is the presence of permission in the manifest and requesting permission from the system, without this the microphone will not work.\nCheck if the following line of code is present in the manifest:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n</code></pre>\n<p>And update the onCreate method like this:</p>\n<pre><code>private static final int RECORD_AUDIO_REQUEST_CODE = 983;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n\n    ...\n\n    if (ContextCompat.checkSelfPermission(this, android.Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED) {\n        ActivityCompat.requestPermissions(this, new String[]{android.Manifest.permission.RECORD_AUDIO}, RECORD_AUDIO_REQUEST_CODE);\n    } else {\n        initializeTextToSpeach();\n        initializeSpeechRecognizer();\n    }\n}\n</code></pre>\n<p>And check the result of the permission request:</p>\n<pre><code>@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n    if (requestCode == RECORD_AUDIO_REQUEST_CODE &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n        initializeTextToSpeach();\n        initializeSpeechRecognizer();\n    }\n}\n</code></pre>\n<p>Next, it seems that after registering the listener, you missed a few instructions to start recognition, namely creating an intent. To do this, update your method &quot;initializeSpeechRecognizer&quot; at the end in a similar way:</p>\n<pre><code>private void initializeSpeechRecognizer() {\n...\nIntent recognizerIntent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\n        recognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, RecognizerIntent.LANGUAGE_MODEL_WEB_SEARCH);\n        recognizerIntent.putExtra(RecognizerIntent.EXTRA_CALLING_PACKAGE, this.getPackageName());\n        recognizerIntent.putExtra(RecognizerIntent.EXTRA_MAX_RESULTS, 3);\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            recognizerIntent.putExtra(RecognizerIntent.EXTRA_PREFER_OFFLINE, true);\n        }\n  mySpeechRecognizer.startListening(recognizerIntent);\n</code></pre>\n<p>And the last thing I recommend is to display information about what error occurred in the onError(int i) method, so that in the future you can understand what could go wrong:</p>\n<pre><code>@Override\npublic void onError(int i) {\n    Log.e(&quot;SpeechRecognizer&quot;, &quot;onError, code=&quot; + i);\n}\n</code></pre>\n<p>I also want to share that once I was working on an application with a continuous-speech-recognition. Google's approach to voice recognition did not suit me due to the limitations of working from services. The vosk-api\nlibrary helped me here <a href=\"https://github.com/alphacep/vosk-api\" rel=\"nofollow noreferrer\">https://github.com/alphacep/vosk-api</a>, which is an api for working with the kaldi voice recognition solution. The essence of this decision is that the application must contain an additional language model of about 50 megabytes in size, and this is only for one language. Of course, this is a big disadvantage of this approach, and the recognition accuracy is worse than that of Google's solution. But in my case it was enough.</p>\n"},{"comments":[{"owner":{"account_id":28234750,"reputation":11,"user_id":21583398,"display_name":"ihavenoideawhatimdoing"},"score":0,"creation_date":1681148134,"post_id":75967761,"comment_id":134006440,"body_markdown":"I tried it and I created my own wake word and rhino speech to intent. However, I had a problem adding them to the app. I tried to use their android demo to see how it&#39;s supposed to work but the app still crashes every time I click the start button I don&#39;t know why.","body":"I tried it and I created my own wake word and rhino speech to intent. However, I had a problem adding them to the app. I tried to use their android demo to see how it&#39;s supposed to work but the app still crashes every time I click the start button I don&#39;t know why."}],"tags":[],"owner":{"account_id":28252518,"reputation":1,"user_id":21598519,"display_name":"JISUS AECOM"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680989274,"creation_date":1680989274,"answer_id":75967761,"question_id":75952573,"body_markdown":"just two days ago I started developing an application that does something very similar to yours. It&#39;s very difficult to find information on the internet about this, but I think you can use the tool that I used. Here&#39;s the link: https://picovoice.ai/. It&#39;s really easy to work with, it has default words for detection, and you can also create your own keyword. I also highly recommend this GitHub repository, which is part of the same tool, but remember that an example of code makes things infinitely easier. If you need more help, don&#39;t hesitate to let me know.","title":"How to implement continuous voice recognition?","body":"<p>just two days ago I started developing an application that does something very similar to yours. It's very difficult to find information on the internet about this, but I think you can use the tool that I used. Here's the link: <a href=\"https://picovoice.ai/\" rel=\"nofollow noreferrer\">https://picovoice.ai/</a>. It's really easy to work with, it has default words for detection, and you can also create your own keyword. I also highly recommend this GitHub repository, which is part of the same tool, but remember that an example of code makes things infinitely easier. If you need more help, don't hesitate to let me know.</p>\n"}],"owner":{"account_id":28234750,"reputation":11,"user_id":21583398,"display_name":"ihavenoideawhatimdoing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1681130178,"creation_date":1680804947,"question_id":75952573,"body_markdown":"I&#39;m making an application that helps people by calling the police when they say &quot;Help&quot;. However, I&#39;m currently having a problem with the continuous voice recognition.\r\n\r\n\r\nI tried to use the voice recognizer in Android Studio but i don&#39;t know how to make it listen for the trigger word i.e.&quot;Help&quot; (here is a tutorial explaining exactly what I want but for some reason it doesn&#39;t work for me: https://betterprogramming.pub/implement-continuous-speech-recognition-on-android-1dd2f4b562fd)\r\nfor reference, here is my current code:\r\n\r\n```java\r\npublic class MainActivity extends AppCompatActivity {\r\n    private TextToSpeech myTTS;\r\n    private SpeechRecognizer mySpeechRecognizer;\r\n\r\n    private AppBarConfiguration appBarConfiguration;\r\n    private ActivityMainBinding binding;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        setSupportActionBar(binding.toolbar);\r\n\r\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\r\n        appBarConfiguration = new AppBarConfiguration.Builder(navController.getGraph()).build();\r\n        NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\r\n        initializeTextToSpeach();\r\n        initializeSpeechRecognizer();\r\n    }\r\n\r\n    private void initializeSpeechRecognizer() {\r\n        if(SpeechRecognizer.isRecognitionAvailable(this)) {\r\n            mySpeechRecognizer = SpeechRecognizer.createSpeechRecognizer(this);\r\n            mySpeechRecognizer.setRecognitionListener(new RecognitionListener() {\r\n                @Override\r\n                public void onReadyForSpeech(Bundle bundle) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onBeginningOfSpeech() {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onRmsChanged(float v) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onBufferReceived(byte[] bytes) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onEndOfSpeech() {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onError(int i) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onResults(Bundle bundle) {\r\n                    List&lt;String&gt; results = bundle.getStringArrayList(\r\n                            SpeechRecognizer.RESULTS_RECOGNITION\r\n                    );\r\n                    processResult(results.get(0));\r\n                }\r\n\r\n                @Override\r\n                public void onPartialResults(Bundle bundle) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onEvent(int i, Bundle bundle) {\r\n\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private void processResult(String command) {\r\n        command = command.toLowerCase();\r\n        if(command.indexOf(&quot;help&quot;) !=-1) {\r\n            Uri number= Uri.parse(&quot;tel:123&quot;);\r\n            Intent intent= new Intent(Intent.ACTION_DIAL, number);\r\n        startActivity(intent);\r\n        }\r\n    }\r\n\r\n    private void initializeTextToSpeach() {\r\n        myTTS = new TextToSpeech(this, new TextToSpeech.OnInitListener() {\r\n            @Override\r\n            public void onInit(int i) {\r\n                if(myTTS.getEngines().size() ==0){\r\n                    Toast.makeText(MainActivity.this, &quot;There is no voice recognizing engine in your device&quot;, Toast.LENGTH_LONG).show();\r\n                finish();\r\n                } else {\r\n                    myTTS.setLanguage(Locale.US);\r\n                    speak(&quot;Hello, I&#39;m ready&quot;);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private void speak(String message) {\r\n        if (Build.VERSION.SDK_INT &gt;= 21) {\r\n            myTTS.speak(message, TextToSpeech.QUEUE_FLUSH, null, null);\r\n        }\r\n        else {\r\n            myTTS.speak(message, TextToSpeech.QUEUE_FLUSH, null);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        myTTS.shutdown();\r\n    }\r\n\r\n}\r\n```","title":"How to implement continuous voice recognition?","body":"<p>I'm making an application that helps people by calling the police when they say &quot;Help&quot;. However, I'm currently having a problem with the continuous voice recognition.</p>\n<p>I tried to use the voice recognizer in Android Studio but i don't know how to make it listen for the trigger word i.e.&quot;Help&quot; (here is a tutorial explaining exactly what I want but for some reason it doesn't work for me: <a href=\"https://betterprogramming.pub/implement-continuous-speech-recognition-on-android-1dd2f4b562fd\" rel=\"nofollow noreferrer\">https://betterprogramming.pub/implement-continuous-speech-recognition-on-android-1dd2f4b562fd</a>)\nfor reference, here is my current code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends AppCompatActivity {\n    private TextToSpeech myTTS;\n    private SpeechRecognizer mySpeechRecognizer;\n\n    private AppBarConfiguration appBarConfiguration;\n    private ActivityMainBinding binding;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        setSupportActionBar(binding.toolbar);\n\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\n        appBarConfiguration = new AppBarConfiguration.Builder(navController.getGraph()).build();\n        NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\n        initializeTextToSpeach();\n        initializeSpeechRecognizer();\n    }\n\n    private void initializeSpeechRecognizer() {\n        if(SpeechRecognizer.isRecognitionAvailable(this)) {\n            mySpeechRecognizer = SpeechRecognizer.createSpeechRecognizer(this);\n            mySpeechRecognizer.setRecognitionListener(new RecognitionListener() {\n                @Override\n                public void onReadyForSpeech(Bundle bundle) {\n\n                }\n\n                @Override\n                public void onBeginningOfSpeech() {\n\n                }\n\n                @Override\n                public void onRmsChanged(float v) {\n\n                }\n\n                @Override\n                public void onBufferReceived(byte[] bytes) {\n\n                }\n\n                @Override\n                public void onEndOfSpeech() {\n\n                }\n\n                @Override\n                public void onError(int i) {\n\n                }\n\n                @Override\n                public void onResults(Bundle bundle) {\n                    List&lt;String&gt; results = bundle.getStringArrayList(\n                            SpeechRecognizer.RESULTS_RECOGNITION\n                    );\n                    processResult(results.get(0));\n                }\n\n                @Override\n                public void onPartialResults(Bundle bundle) {\n\n                }\n\n                @Override\n                public void onEvent(int i, Bundle bundle) {\n\n                }\n            });\n        }\n    }\n\n    private void processResult(String command) {\n        command = command.toLowerCase();\n        if(command.indexOf(&quot;help&quot;) !=-1) {\n            Uri number= Uri.parse(&quot;tel:123&quot;);\n            Intent intent= new Intent(Intent.ACTION_DIAL, number);\n        startActivity(intent);\n        }\n    }\n\n    private void initializeTextToSpeach() {\n        myTTS = new TextToSpeech(this, new TextToSpeech.OnInitListener() {\n            @Override\n            public void onInit(int i) {\n                if(myTTS.getEngines().size() ==0){\n                    Toast.makeText(MainActivity.this, &quot;There is no voice recognizing engine in your device&quot;, Toast.LENGTH_LONG).show();\n                finish();\n                } else {\n                    myTTS.setLanguage(Locale.US);\n                    speak(&quot;Hello, I'm ready&quot;);\n                }\n            }\n        });\n    }\n\n    private void speak(String message) {\n        if (Build.VERSION.SDK_INT &gt;= 21) {\n            myTTS.speak(message, TextToSpeech.QUEUE_FLUSH, null, null);\n        }\n        else {\n            myTTS.speak(message, TextToSpeech.QUEUE_FLUSH, null);\n        }\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        myTTS.shutdown();\n    }\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10298861,"reputation":111,"user_id":7598149,"display_name":"kesaven"},"score":0,"creation_date":1681038951,"post_id":75970160,"comment_id":133992029,"body_markdown":"Too little information to help for this request","body":"Too little information to help for this request"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1681039032,"post_id":75970160,"comment_id":133992037,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nIt is unclear what you are asking or what the problem is. The obvious answer would be an `if()` statement, but that is most likely not what you have in mind. Please [edit] your question to include a more detailed description of the problem you have.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. It is unclear what you are asking or what the problem is. The obvious answer would be an <code>if()</code> statement, but that is most likely not what you have in mind. Please <a href=\"https://stackoverflow.com/posts/75970160/edit\">edit</a> your question to include a more detailed description of the problem you have."},{"owner":{"account_id":27534826,"reputation":29,"user_id":21012691,"display_name":"netcat_dd"},"score":0,"creation_date":1681039488,"post_id":75970160,"comment_id":133992082,"body_markdown":"@Progman I added the additional explanation of what i want to achieve at the end of the question. Will that do?","body":"@Progman I added the additional explanation of what i want to achieve at the end of the question. Will that do?"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1681039844,"post_id":75970160,"comment_id":133992115,"body_markdown":"@netcat_dd No, it doesn&#39;t explain why you don&#39;t want to use `if()` or `switch()`. You can use &quot;reflection&quot; to find the correct method, but that is overkill for what you are trying to do. Please [edit] your question to explain why exactly `if()` or `switch()` is not a reliable solution/approach in your case. It is still not clear what the problem is.","body":"@netcat_dd No, it doesn&#39;t explain why you don&#39;t want to use <code>if()</code> or <code>switch()</code>. You can use &quot;reflection&quot; to find the correct method, but that is overkill for what you are trying to do. Please <a href=\"https://stackoverflow.com/posts/75970160/edit\">edit</a> your question to explain why exactly <code>if()</code> or <code>switch()</code> is not a reliable solution/approach in your case. It is still not clear what the problem is."},{"owner":{"account_id":27534826,"reputation":29,"user_id":21012691,"display_name":"netcat_dd"},"score":0,"creation_date":1681040276,"post_id":75970160,"comment_id":133992159,"body_markdown":"@Progman I already stated that i would like to minimize my code as much as possible. This is the reason, i do not have any additional reasons for my question. \nWhy do you think &quot;reflection&quot; would be overkill? Also, i would like to understand how to handle similar situations in future.","body":"@Progman I already stated that i would like to minimize my code as much as possible. This is the reason, i do not have any additional reasons for my question.  Why do you think &quot;reflection&quot; would be overkill? Also, i would like to understand how to handle similar situations in future."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1681046215,"post_id":75970160,"comment_id":133992845,"body_markdown":"The version with the minimum amount of code will use ifs and switches.","body":"The version with the minimum amount of code will use ifs and switches."},{"owner":{"account_id":27534826,"reputation":29,"user_id":21012691,"display_name":"netcat_dd"},"score":0,"creation_date":1681049495,"post_id":75970160,"comment_id":133993271,"body_markdown":"@LouisWasserman i doubt that. Please consider that HTTP has 8 + custom verbs.","body":"@LouisWasserman i doubt that. Please consider that HTTP has 8 + custom verbs."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1681129274,"post_id":75970160,"comment_id":134002667,"body_markdown":"You don’t need to execute different methods.  I assume you’re using Apache’s SimpleRequestBuilder, which has a [create(String)](https://hc.apache.org/httpcomponents-client-5.2.x/current/httpclient5/apidocs/org/apache/hc/client5/http/async/methods/SimpleRequestBuilder.html#create-java.lang.String-) method.  You can just write `SimpleRequestBuilder.create(someVariable).setURI(uri).setBody(requestBody)` etc.","body":"You don’t need to execute different methods.  I assume you’re using Apache’s SimpleRequestBuilder, which has a <a href=\"https://hc.apache.org/httpcomponents-client-5.2.x/current/httpclient5/apidocs/org/apache/hc/client5/http/async/methods/SimpleRequestBuilder.html#create-java.lang.String-\" rel=\"nofollow noreferrer\">create(String)</a> method.  You can just write <code>SimpleRequestBuilder.create(someVariable).setURI(uri).setBod&zwnj;&#8203;y(requestBody)</code> etc."}],"answers":[{"comments":[{"owner":{"account_id":27534826,"reputation":29,"user_id":21012691,"display_name":"netcat_dd"},"score":0,"creation_date":1681056401,"post_id":75970316,"comment_id":133994191,"body_markdown":"Can you evaluate on &quot;method_mapping.get(method)(uri)&quot;? this doesn&#39;t seem to work. It says &quot;Cannot resolve method &#39;setBody&#39; in &#39;URI&#39;&quot; and the program doesn&#39;t recognize the &quot;(uri)&quot; parameter in &quot;.get(method)(uri)&quot; snippet","body":"Can you evaluate on &quot;method_mapping.get(method)(uri)&quot;? this doesn&#39;t seem to work. It says &quot;Cannot resolve method &#39;setBody&#39; in &#39;URI&#39;&quot; and the program doesn&#39;t recognize the &quot;(uri)&quot; parameter in &quot;.get(method)(uri)&quot; snippet"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1681090104,"post_id":75970316,"comment_id":133997951,"body_markdown":"Ah.  Maybe `Consumer&lt;URI&gt;` should be `Function&lt;URI, SimpleRequestBuilder&gt;`.  Try it and let me know.","body":"Ah.  Maybe <code>Consumer&lt;URI&gt;</code> should be <code>Function&lt;URI, SimpleRequestBuilder&gt;</code>.  Try it and let me know."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1681121741,"post_id":75970316,"comment_id":134001470,"body_markdown":"`method_mapping.get(method)(uri)` is not valid Java.","body":"<code>method_mapping.get(method)(uri)</code> is not valid Java."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1681129900,"creation_date":1681041038,"answer_id":75970316,"question_id":75970160,"body_markdown":"You can avoid using `if` or `switch` statements but it won&#39;t &quot;minimize&quot; your code to any significant degree.\r\n\r\nFor example, the following approach makes use of function references:\r\n\r\n    Map&lt;String, Function&lt;URI, SimpleRequestBuilder&gt;&gt; method_mapping = \r\n    new HashMap&lt;&gt;() {{\r\n       put(&quot;get&quot;, SimpleRequestBuilder::get);\r\n       put(&quot;post&quot;, SimpleRequestBuilder::post);\r\n    }}\r\n\r\n    SimpleHttpRequest http_request = method_mapping.get(method)\r\n        .apply(uri)\r\n        .setBody(request_body)\r\n        .setHeaders(request_headers)\r\n        .build();\r\n\r\nBut this is more or less equivalent to a `switch` statement or a chain of `if` statements.  And ... more complicated, IMO.\r\n\r\n-----------------------\r\n\r\n&gt; The `SimpleRequestBuilder` call should change dynamically, no matter what value `some_variable` contains.\r\n\r\nWell to the extent that it is possible, the above `Map` approach does that.  But the problem is that if `method_mapping` doesn&#39;t have an entry for a specific method string, then **no scheme** will be able to handle this.\r\n\r\n(The code should really test that `method_mapping.get(method)` returns a non-null function reference before it tries to call it.)\r\n\r\n\r\n-----------------------\r\n\r\nAnd here&#39;s a version using a Java 12+ `switch` expression:\r\n\r\n    Function&lt;URI, SimpleRequestBuilder&gt; request_builder = \r\n    switch(method) {\r\n        case &quot;get&quot; -&gt; SimpleRequestBuilder::get;\r\n        case &quot;post&quot; -&gt; SimpleRequestBuilder::post;\r\n        default -&gt; DummyBuilder::error405;\r\n    }\r\n    request_builder\r\n        .apply(uri)\r\n        .setBody(request_body)\r\n        .setHeaders(request_headers)\r\n        .build();\r\n\r\nwhere `DummyBuilder::error405` handles the case of an unsupported method.\r\n    ","title":"Changing the method call dynamically, without using case statements","body":"<p>You can avoid using <code>if</code> or <code>switch</code> statements but it won't &quot;minimize&quot; your code to any significant degree.</p>\n<p>For example, the following approach makes use of function references:</p>\n<pre><code>Map&lt;String, Function&lt;URI, SimpleRequestBuilder&gt;&gt; method_mapping = \nnew HashMap&lt;&gt;() {{\n   put(&quot;get&quot;, SimpleRequestBuilder::get);\n   put(&quot;post&quot;, SimpleRequestBuilder::post);\n}}\n\nSimpleHttpRequest http_request = method_mapping.get(method)\n    .apply(uri)\n    .setBody(request_body)\n    .setHeaders(request_headers)\n    .build();\n</code></pre>\n<p>But this is more or less equivalent to a <code>switch</code> statement or a chain of <code>if</code> statements.  And ... more complicated, IMO.</p>\n<hr />\n<blockquote>\n<p>The <code>SimpleRequestBuilder</code> call should change dynamically, no matter what value <code>some_variable</code> contains.</p>\n</blockquote>\n<p>Well to the extent that it is possible, the above <code>Map</code> approach does that.  But the problem is that if <code>method_mapping</code> doesn't have an entry for a specific method string, then <strong>no scheme</strong> will be able to handle this.</p>\n<p>(The code should really test that <code>method_mapping.get(method)</code> returns a non-null function reference before it tries to call it.)</p>\n<hr />\n<p>And here's a version using a Java 12+ <code>switch</code> expression:</p>\n<pre><code>Function&lt;URI, SimpleRequestBuilder&gt; request_builder = \nswitch(method) {\n    case &quot;get&quot; -&gt; SimpleRequestBuilder::get;\n    case &quot;post&quot; -&gt; SimpleRequestBuilder::post;\n    default -&gt; DummyBuilder::error405;\n}\nrequest_builder\n    .apply(uri)\n    .setBody(request_body)\n    .setHeaders(request_headers)\n    .build();\n</code></pre>\n<p>where <code>DummyBuilder::error405</code> handles the case of an unsupported method.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681043200,"creation_date":1681042236,"answer_id":75970416,"question_id":75970160,"body_markdown":"You can use reflection, but it won&#39;t be elegant.\r\n\r\nYou can minimise the code by first creating a request, then applying the common code:\r\n\r\n```\r\nSimpleHttpRequest http_request = (some_variable.equals(&quot;post&quot;) ? SimpleRequestBuilder.post(uri) : SimpleRequestBuilder.get(uri))\r\n  .setBody(request_body)\r\n  .setHeaders(request_headers)\r\n  .build();","title":"Changing the method call dynamically, without using case statements","body":"<p>You can use reflection, but it won't be elegant.</p>\n<p>You can minimise the code by first creating a request, then applying the common code:</p>\n<pre><code>SimpleHttpRequest http_request = (some_variable.equals(&quot;post&quot;) ? SimpleRequestBuilder.post(uri) : SimpleRequestBuilder.get(uri))\n  .setBody(request_body)\n  .setHeaders(request_headers)\n  .build();\n</code></pre>\n"}],"owner":{"account_id":27534826,"reputation":29,"user_id":21012691,"display_name":"netcat_dd"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75970316,"answer_count":2,"score":-1,"last_activity_date":1681129900,"creation_date":1681038767,"question_id":75970160,"body_markdown":"How can I modify the following code to make it execute method represented by &quot;some_variable&quot;, instead of just &quot;get(uri)&quot;, without using case statements?\r\n\r\n```java\r\nSimpleHttpRequest http_request = SimpleRequestBuilder.get(uri)\r\n    .setBody(request_body)\r\n    .setHeaders(request_headers)\r\n    .build();\r\n```\r\n\r\nFor example, assuming that `String some_variable = &quot;post&quot;;`, I would like my program to do the following:\r\n```java\r\nSimpleHttpRequest http_request = SimpleRequestBuilder.post(uri)\r\n    .setBody(request_body)\r\n    .setHeaders(request_headers)\r\n    .build()\r\n```\r\n\r\nBecause I&#39;d like to minimize my code as much as I can, I don&#39;t want to use &quot;if&quot; statements or &quot;case&quot; statements. The `SimpleRequestBuilder` call should change dynamically, no matter what value `some_variable` contains.","title":"Changing the method call dynamically, without using case statements","body":"<p>How can I modify the following code to make it execute method represented by &quot;some_variable&quot;, instead of just &quot;get(uri)&quot;, without using case statements?</p>\n<pre class=\"lang-java prettyprint-override\"><code>SimpleHttpRequest http_request = SimpleRequestBuilder.get(uri)\n    .setBody(request_body)\n    .setHeaders(request_headers)\n    .build();\n</code></pre>\n<p>For example, assuming that <code>String some_variable = &quot;post&quot;;</code>, I would like my program to do the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SimpleHttpRequest http_request = SimpleRequestBuilder.post(uri)\n    .setBody(request_body)\n    .setHeaders(request_headers)\n    .build()\n</code></pre>\n<p>Because I'd like to minimize my code as much as I can, I don't want to use &quot;if&quot; statements or &quot;case&quot; statements. The <code>SimpleRequestBuilder</code> call should change dynamically, no matter what value <code>some_variable</code> contains.</p>\n"},{"tags":["java","android","json","string","gson"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1680527189,"post_id":75919656,"comment_id":133908503,"body_markdown":"Based on question title you may be looking for [Gson: Directly convert String to JsonObject (no POJO)](https://stackoverflow.com/q/4110664). But based on `String json2 = gson2.toJson(obj);` I am not sure what you want to achieve...","body":"Based on question title you may be looking for <a href=\"https://stackoverflow.com/q/4110664\">Gson: Directly convert String to JsonObject (no POJO)</a>. But based on <code>String json2 = gson2.toJson(obj);</code> I am not sure what you want to achieve..."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1680530049,"post_id":75919656,"comment_id":133909352,"body_markdown":"So it looks like you want to create *single* JSON structure containing data from two JSON objects. In that case create `JsonObject` representing first JSON (here `String json`) and add to it new property representing *deviceId* : *67814f71b5bdb4d3* (like `jsonObject.addProperty(&quot;deviceId&quot;, &quot;67814f71b5bdb4d3&quot;)`). Then convert it back to String and publish that String.","body":"So it looks like you want to create <i>single</i> JSON structure containing data from two JSON objects. In that case create <code>JsonObject</code> representing first JSON (here <code>String json</code>) and add to it new property representing <i>deviceId</i> : <i>67814f71b5bdb4d3</i> (like <code>jsonObject.addProperty(&quot;deviceId&quot;, &quot;67814f71b5bdb4d3&quot;)</code>). Then convert it back to String and publish that String."}],"answers":[{"comments":[{"owner":{"account_id":7031093,"reputation":517,"user_id":8772085,"display_name":"Dreamer"},"score":0,"creation_date":1680536601,"post_id":75920456,"comment_id":133911277,"body_markdown":"I modified the code try now.","body":"I modified the code try now."}],"tags":[],"owner":{"account_id":7031093,"reputation":517,"user_id":8772085,"display_name":"Dreamer"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680536558,"creation_date":1680531409,"answer_id":75920456,"question_id":75919656,"body_markdown":"Code is not clear for me but you can try something like this \r\n\r\n   \r\n\r\n        String json = gson.toJson(ibeacon);\r\n\r\n       JSONObject jsonObj = new JSONObject(json );\r\n\r\n        try {\r\n            jsonObj.put(&quot;deviceId&quot;, &quot;67814f71b5bdb4d3&quot;);\r\n        } catch (JSONException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n        String myJSON = JSON.stringify(jsonObj);","title":"how to convert the string to JSON?","body":"<p>Code is not clear for me but you can try something like this</p>\n<pre><code>    String json = gson.toJson(ibeacon);\n\n   JSONObject jsonObj = new JSONObject(json );\n\n    try {\n        jsonObj.put(&quot;deviceId&quot;, &quot;67814f71b5bdb4d3&quot;);\n    } catch (JSONException e) {\n        throw new RuntimeException(e);\n    }\n\n    String myJSON = JSON.stringify(jsonObj);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24049779,"reputation":43,"user_id":18028402,"display_name":"matchaLover"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681129696,"creation_date":1680594099,"answer_id":75926705,"question_id":75919656,"body_markdown":"I created a `Gateway` class object and used `gson` on it. The following code example worked for me:\r\n\r\n    public class Gateway {\r\n        private String deviceId;\r\n    \r\n        public Gateway(String deviceId) {\r\n            this.deviceId = deviceId;\r\n        }\r\n    \r\n        public String getDeviceId() { return deviceId; }\r\n    \r\n        public void setDeviceId(String deviceId) {\r\n            this.deviceId = deviceId;\r\n        }\r\n    }\r\n\r\n    Gateway gateway = new Gateway(&quot;67814f71b5bdb4d3&quot;);\r\n    Gson gson2 = new Gson();\r\n    String json2 = gson2.toJson(gateway);","title":"how to convert the string to JSON?","body":"<p>I created a <code>Gateway</code> class object and used <code>gson</code> on it. The following code example worked for me:</p>\n<pre><code>public class Gateway {\n    private String deviceId;\n\n    public Gateway(String deviceId) {\n        this.deviceId = deviceId;\n    }\n\n    public String getDeviceId() { return deviceId; }\n\n    public void setDeviceId(String deviceId) {\n        this.deviceId = deviceId;\n    }\n}\n\nGateway gateway = new Gateway(&quot;67814f71b5bdb4d3&quot;);\nGson gson2 = new Gson();\nString json2 = gson2.toJson(gateway);\n</code></pre>\n"}],"owner":{"account_id":24049779,"reputation":43,"user_id":18028402,"display_name":"matchaLover"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75926705,"answer_count":2,"score":1,"last_activity_date":1681129696,"creation_date":1680526064,"question_id":75919656,"body_markdown":"    private IBeaconListener createIBeaconListener() {\r\n            return new SimpleIBeaconListener() {\r\n                @Override\r\n                public void onIBeaconDiscovered(IBeaconDevice ibeacon, IBeaconRegion region) {\r\n                    Gson gson = new Gson();\r\n                    String json = gson.toJson(ibeacon);\r\n    \r\n                    Gson gson2 = new Gson();\r\n                    String deviceId = &quot;{deviceId : 67814f71b5bdb4d3}&quot;;\r\n                    String json2 = gson2.toJson(obj);\r\n    \r\n                    Log.i(&quot;Beacon&quot;, &quot;IBeacon discovered: &quot; + json);\r\n                    Log.i(&quot;Gateway&quot;, &quot;Gateway discovered: &quot; + json2);\r\n    \r\n                    new Handler().postDelayed(new Runnable(){\r\n                        @Override\r\n                        public void run() {\r\n                            publish(json + json2);\r\n                        }\r\n                    }, 5000);\r\n                }\r\n            };\r\n        }\r\n\r\nI want to convert *deviceId* to JSON Object so that I can publish it together with *json*. Does anyone know how to do it?\r\nThis is the result I got:\r\n\r\n    {&quot;address&quot;:&quot;05:B2:68:5B:BC:92&quot;,&quot;batteryPower&quot;:-1,&quot;distance&quot;:2.0765944282461007E9,&quot;firmwareVersion&quot;:&quot;-1&quot;,&quot;hashCodeBuilder&quot;:{&quot;iConstant&quot;:37,&quot;iTotal&quot;:17},&quot;major&quot;:1,&quot;minor&quot;:0,&quot;proximity&quot;:&quot;FAR&quot;,&quot;proximityUUID&quot;:&quot;2686f39c-bada-4658-854a-a62e7e5e8b8d&quot;,&quot;rssi&quot;:-94,&quot;shuffled&quot;:false,&quot;timestamp&quot;:1680527328760,&quot;txPower&quot;:11}&quot;{deviceId : 67814f71b5bdb4d3}&quot;\r\n\r\nHowever, I want the output to be like this:\r\n\r\n    {&quot;address&quot;:&quot;05:B2:68:5B:BC:92&quot;,&quot;batteryPower&quot;:-1,&quot;distance&quot;:2.0765944282461007E9,&quot;firmwareVersion&quot;:&quot;-1&quot;,&quot;hashCodeBuilder&quot;:{&quot;iConstant&quot;:37,&quot;iTotal&quot;:17},&quot;major&quot;:1,&quot;minor&quot;:0,&quot;proximity&quot;:&quot;FAR&quot;,&quot;proximityUUID&quot;:&quot;2686f39c-bada-4658-854a-a62e7e5e8b8d&quot;,&quot;rssi&quot;:-94,&quot;shuffled&quot;:false,&quot;timestamp&quot;:1680527328760,&quot;txPower&quot;:11,&quot;deviceId&quot;:&quot;67814f71b5bdb4d3&quot;}","title":"how to convert the string to JSON?","body":"<pre><code>private IBeaconListener createIBeaconListener() {\n        return new SimpleIBeaconListener() {\n            @Override\n            public void onIBeaconDiscovered(IBeaconDevice ibeacon, IBeaconRegion region) {\n                Gson gson = new Gson();\n                String json = gson.toJson(ibeacon);\n\n                Gson gson2 = new Gson();\n                String deviceId = &quot;{deviceId : 67814f71b5bdb4d3}&quot;;\n                String json2 = gson2.toJson(obj);\n\n                Log.i(&quot;Beacon&quot;, &quot;IBeacon discovered: &quot; + json);\n                Log.i(&quot;Gateway&quot;, &quot;Gateway discovered: &quot; + json2);\n\n                new Handler().postDelayed(new Runnable(){\n                    @Override\n                    public void run() {\n                        publish(json + json2);\n                    }\n                }, 5000);\n            }\n        };\n    }\n</code></pre>\n<p>I want to convert <em>deviceId</em> to JSON Object so that I can publish it together with <em>json</em>. Does anyone know how to do it?\nThis is the result I got:</p>\n<pre><code>{&quot;address&quot;:&quot;05:B2:68:5B:BC:92&quot;,&quot;batteryPower&quot;:-1,&quot;distance&quot;:2.0765944282461007E9,&quot;firmwareVersion&quot;:&quot;-1&quot;,&quot;hashCodeBuilder&quot;:{&quot;iConstant&quot;:37,&quot;iTotal&quot;:17},&quot;major&quot;:1,&quot;minor&quot;:0,&quot;proximity&quot;:&quot;FAR&quot;,&quot;proximityUUID&quot;:&quot;2686f39c-bada-4658-854a-a62e7e5e8b8d&quot;,&quot;rssi&quot;:-94,&quot;shuffled&quot;:false,&quot;timestamp&quot;:1680527328760,&quot;txPower&quot;:11}&quot;{deviceId : 67814f71b5bdb4d3}&quot;\n</code></pre>\n<p>However, I want the output to be like this:</p>\n<pre><code>{&quot;address&quot;:&quot;05:B2:68:5B:BC:92&quot;,&quot;batteryPower&quot;:-1,&quot;distance&quot;:2.0765944282461007E9,&quot;firmwareVersion&quot;:&quot;-1&quot;,&quot;hashCodeBuilder&quot;:{&quot;iConstant&quot;:37,&quot;iTotal&quot;:17},&quot;major&quot;:1,&quot;minor&quot;:0,&quot;proximity&quot;:&quot;FAR&quot;,&quot;proximityUUID&quot;:&quot;2686f39c-bada-4658-854a-a62e7e5e8b8d&quot;,&quot;rssi&quot;:-94,&quot;shuffled&quot;:false,&quot;timestamp&quot;:1680527328760,&quot;txPower&quot;:11,&quot;deviceId&quot;:&quot;67814f71b5bdb4d3&quot;}\n</code></pre>\n"},{"tags":["java","testing","configuration","evosuite"],"owner":{"account_id":21228225,"reputation":1,"user_id":15613483,"display_name":"Juvemanu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681129526,"creation_date":1681129526,"question_id":75977108,"body_markdown":"I&#39;m working with evosuite 1.0.6 to generate tests for my project, and each test class comes with a scaffolding file that contains a `setSystemProperties `method with machine-specific properties. This makes it difficult to run the tests on different machines without performing manual configurations on each one. I&#39;ve considered several options, such as removing the `setSystemProperties `method or the scaffolding class, but this could affect the functionality of the tests. I&#39;ve also thought about using environment variables, but this requires each user to correctly configure these variables on their machine.\r\n\r\nI&#39;ve tried several approaches, such as removing the `setSystemProperties `method and the scaffolding class, and using environment variables to configure the properties. However, these options either affect the functionality of the tests or require manual configurations on each machine. I was expecting to find a way to run the evosuite-generated tests on different machines without having to perform manual configurations on each one.\r\n\r\n\r\n I&#39;m looking for suggestions or solutions that could help me overcome this problem.","title":"How to run evosuite-generated tests if scaffolding file contains specific configurations for each machine?","body":"<p>I'm working with evosuite 1.0.6 to generate tests for my project, and each test class comes with a scaffolding file that contains a <code>setSystemProperties </code>method with machine-specific properties. This makes it difficult to run the tests on different machines without performing manual configurations on each one. I've considered several options, such as removing the <code>setSystemProperties </code>method or the scaffolding class, but this could affect the functionality of the tests. I've also thought about using environment variables, but this requires each user to correctly configure these variables on their machine.</p>\n<p>I've tried several approaches, such as removing the <code>setSystemProperties </code>method and the scaffolding class, and using environment variables to configure the properties. However, these options either affect the functionality of the tests or require manual configurations on each machine. I was expecting to find a way to run the evosuite-generated tests on different machines without having to perform manual configurations on each one.</p>\n<p>I'm looking for suggestions or solutions that could help me overcome this problem.</p>\n"},{"tags":["java","spring","elasticsearch"],"comments":[{"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"score":0,"creation_date":1681129571,"post_id":75976970,"comment_id":134002731,"body_markdown":"The standard analyzer will remove the special characters, you need to search for the keyword type field or generate another analyzer to avoid removing the characters.","body":"The standard analyzer will remove the special characters, you need to search for the keyword type field or generate another analyzer to avoid removing the characters."}],"answers":[{"tags":[],"owner":{"account_id":14795454,"reputation":2021,"user_id":10685211,"display_name":"Musab Dogan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681129311,"creation_date":1681129311,"answer_id":75977085,"question_id":75976970,"body_markdown":"The [standard analyzer][1] uses, [standard tokenizer][2]. Standard tokenizer uses [Unicode Standard Annex #29][3] that tokenizes your &quot;text&quot; and removes `+` and `#` in your case.\r\n\r\nWhat you can do?\r\n----------------\r\n\r\n 1. You can use the `.keyword` field. It won&#39;t be analyzed by default.\r\n 2. You can create a new field with the [custom analyzer][4].\r\n    \r\nDetails:\r\n\r\n    GET _analyze\r\n    {\r\n      &quot;text&quot;: [&quot;test+test#test  ### +++&quot;]\r\n    }\r\n    {\r\n      &quot;tokens&quot;: [\r\n        {\r\n          &quot;token&quot;: &quot;test&quot;,\r\n          &quot;start_offset&quot;: 0,\r\n          &quot;end_offset&quot;: 4,\r\n          &quot;type&quot;: &quot;&lt;ALPHANUM&gt;&quot;,\r\n          &quot;position&quot;: 0\r\n        },\r\n        {\r\n          &quot;token&quot;: &quot;test&quot;,\r\n          &quot;start_offset&quot;: 5,\r\n          &quot;end_offset&quot;: 9,\r\n          &quot;type&quot;: &quot;&lt;ALPHANUM&gt;&quot;,\r\n          &quot;position&quot;: 1\r\n        },\r\n        {\r\n          &quot;token&quot;: &quot;test&quot;,\r\n          &quot;start_offset&quot;: 10,\r\n          &quot;end_offset&quot;: 14,\r\n          &quot;type&quot;: &quot;&lt;ALPHANUM&gt;&quot;,\r\n          &quot;position&quot;: 2\r\n        }\r\n      ]\r\n    }\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-standard-analyzer.html\r\n  [2]: https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-standard-tokenizer.html\r\n  [3]: https://unicode.org/reports/tr29/\r\n  [4]: https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-custom-analyzer.html","title":"Searching for special character like # and + using Elastic Search","body":"<p>The <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-standard-analyzer.html\" rel=\"nofollow noreferrer\">standard analyzer</a> uses, <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-standard-tokenizer.html\" rel=\"nofollow noreferrer\">standard tokenizer</a>. Standard tokenizer uses <a href=\"https://unicode.org/reports/tr29/\" rel=\"nofollow noreferrer\">Unicode Standard Annex #29</a> that tokenizes your &quot;text&quot; and removes <code>+</code> and <code>#</code> in your case.</p>\n<h2>What you can do?</h2>\n<ol>\n<li>You can use the <code>.keyword</code> field. It won't be analyzed by default.</li>\n<li>You can create a new field with the <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-custom-analyzer.html\" rel=\"nofollow noreferrer\">custom analyzer</a>.</li>\n</ol>\n<p>Details:</p>\n<pre><code>GET _analyze\n{\n  &quot;text&quot;: [&quot;test+test#test  ### +++&quot;]\n}\n{\n  &quot;tokens&quot;: [\n    {\n      &quot;token&quot;: &quot;test&quot;,\n      &quot;start_offset&quot;: 0,\n      &quot;end_offset&quot;: 4,\n      &quot;type&quot;: &quot;&lt;ALPHANUM&gt;&quot;,\n      &quot;position&quot;: 0\n    },\n    {\n      &quot;token&quot;: &quot;test&quot;,\n      &quot;start_offset&quot;: 5,\n      &quot;end_offset&quot;: 9,\n      &quot;type&quot;: &quot;&lt;ALPHANUM&gt;&quot;,\n      &quot;position&quot;: 1\n    },\n    {\n      &quot;token&quot;: &quot;test&quot;,\n      &quot;start_offset&quot;: 10,\n      &quot;end_offset&quot;: 14,\n      &quot;type&quot;: &quot;&lt;ALPHANUM&gt;&quot;,\n      &quot;position&quot;: 2\n    }\n  ]\n}\n</code></pre>\n"}],"owner":{"account_id":7718592,"reputation":119,"user_id":5845487,"display_name":"Hassan Golshani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681129311,"creation_date":1681128397,"question_id":75976970,"body_markdown":"I am using standard analyzer in my project but when i want to search jobs based on title with some special character like # or + it does not works and return items contains the requested text. \r\n\r\n\r\n\r\n```\r\n@Data\r\n@Document(indexName = &quot;jobs&quot;)\r\npublic final class Job {\r\n\r\n    @Id\r\n    private Long id;\r\n\r\n    @Field(type = FieldType.Long)\r\n    private Long userId;\r\n\r\n    @Field(type = FieldType.Text, analyzer = &quot;standard&quot;)\r\n    private String title;\r\n\r\n    @Field(type = FieldType.Text, analyzer = &quot;standard&quot;)\r\n    private String description;\r\n\r\n    @Field(type = FieldType.Keyword)\r\n    private JobStatus status;\r\n}\r\n```","title":"Searching for special character like # and + using Elastic Search","body":"<p>I am using standard analyzer in my project but when i want to search jobs based on title with some special character like # or + it does not works and return items contains the requested text.</p>\n<pre><code>@Data\n@Document(indexName = &quot;jobs&quot;)\npublic final class Job {\n\n    @Id\n    private Long id;\n\n    @Field(type = FieldType.Long)\n    private Long userId;\n\n    @Field(type = FieldType.Text, analyzer = &quot;standard&quot;)\n    private String title;\n\n    @Field(type = FieldType.Text, analyzer = &quot;standard&quot;)\n    private String description;\n\n    @Field(type = FieldType.Keyword)\n    private JobStatus status;\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","function","url","aws-lambda"],"answers":[{"tags":[],"owner":{"account_id":15910691,"reputation":1091,"user_id":11480721,"display_name":"Ausgefuchster"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681121700,"creation_date":1681121700,"answer_id":75976205,"question_id":75975933,"body_markdown":"Try using `Map&lt;String, Object&gt;` or create a custom pojo for the expected object.\r\n\r\nAWS also has example for this:\r\n\r\nhttps://github.com/awsdocs/aws-lambda-developer-guide/blob/main/sample-apps/java-basic/src/main/java/example/HandlerWeatherData.java","title":"AWS lambda function URLs with JSON input in Java giving JSON parse exception","body":"<p>Try using <code>Map&lt;String, Object&gt;</code> or create a custom pojo for the expected object.</p>\n<p>AWS also has example for this:</p>\n<p><a href=\"https://github.com/awsdocs/aws-lambda-developer-guide/blob/main/sample-apps/java-basic/src/main/java/example/HandlerWeatherData.java\" rel=\"nofollow noreferrer\">https://github.com/awsdocs/aws-lambda-developer-guide/blob/main/sample-apps/java-basic/src/main/java/example/HandlerWeatherData.java</a></p>\n"}],"owner":{"account_id":1570034,"reputation":25,"user_id":1457926,"display_name":"Santosh Keleti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":361,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75976205,"answer_count":1,"score":0,"last_activity_date":1681129232,"creation_date":1681119499,"question_id":75975933,"body_markdown":"I have created a AWS Lambda function as follows,\r\n\r\n```java\r\npublic class PiiDecryptionLambda implements RequestHandler&lt;Map&lt;String, String&gt;, String&gt; {\r\n\r\n    public PiiDecryptionLambda() {\r\n    }\r\n\r\n    @Override\r\n    public String handleRequest(Map&lt;String, String&gt; requestData, Context context) {\r\n        LambdaLogger logger = context.getLogger();\r\n        logger.log(&quot;inside the lamda and the data is :&quot;+requestData);\r\n        return requestData.get(&quot;name&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThen i have configured the Funtion URL for the lambda function. when try to access this from post using Function URLs given the AWS lambda, getting following error\r\n\r\n&gt; An error occurred during JSON parsing: java.lang.RuntimeException\r\n&gt; java.lang.RuntimeException: An error occurred during JSON parsing\r\n&gt; Caused by: java.io.UncheckedIOException:\r\n&gt; com.fasterxml.jackson.databind.JsonMappingException: Can not\r\n&gt; deserialize instance of java.lang.String out of START_OBJECT token  at\r\n&gt; [Source: lambdainternal.util.NativeMemoryAsInputStream@42e26948; line:\r\n&gt; 1, column: 1] Caused by:\r\n&gt; com.fasterxml.jackson.databind.JsonMappingException: Can not\r\n&gt; deserialize instance of java.lang.String out of START_OBJECT token  at\r\n&gt; [Source: lambdainternal.util.NativeMemoryAsInputStream@42e26948; line:\r\n&gt; 1, column: 1] \tat\r\n&gt; com.fasterxml.jackson.databind.JsonMappingException.from(JsonMappingException.java:148)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.DeserializationContext.mappingException(DeserializationContext.java:857)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.std.StringDeserializer.deserialize(StringDeserializer.java:62)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.std.StringDeserializer.deserialize(StringDeserializer.java:11)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:1511)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1102)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here](https://i.stack.imgur.com/v2XZk.png)](https://i.stack.imgur.com/v2XZk.png)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qEnGg.png","title":"AWS lambda function URLs with JSON input in Java giving JSON parse exception","body":"<p>I have created a AWS Lambda function as follows,</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PiiDecryptionLambda implements RequestHandler&lt;Map&lt;String, String&gt;, String&gt; {\n\n    public PiiDecryptionLambda() {\n    }\n\n    @Override\n    public String handleRequest(Map&lt;String, String&gt; requestData, Context context) {\n        LambdaLogger logger = context.getLogger();\n        logger.log(&quot;inside the lamda and the data is :&quot;+requestData);\n        return requestData.get(&quot;name&quot;);\n    }\n}\n</code></pre>\n<p>Then i have configured the Funtion URL for the lambda function. when try to access this from post using Function URLs given the AWS lambda, getting following error</p>\n<blockquote>\n<p>An error occurred during JSON parsing: java.lang.RuntimeException\njava.lang.RuntimeException: An error occurred during JSON parsing\nCaused by: java.io.UncheckedIOException:\ncom.fasterxml.jackson.databind.JsonMappingException: Can not\ndeserialize instance of java.lang.String out of START_OBJECT token  at\n[Source: lambdainternal.util.NativeMemoryAsInputStream@42e26948; line:\n1, column: 1] Caused by:\ncom.fasterxml.jackson.databind.JsonMappingException: Can not\ndeserialize instance of java.lang.String out of START_OBJECT token  at\n[Source: lambdainternal.util.NativeMemoryAsInputStream@42e26948; line:\n1, column: 1]     at\ncom.fasterxml.jackson.databind.JsonMappingException.from(JsonMappingException.java:148)\nat\ncom.fasterxml.jackson.databind.DeserializationContext.mappingException(DeserializationContext.java:857)\nat\ncom.fasterxml.jackson.databind.deser.std.StringDeserializer.deserialize(StringDeserializer.java:62)\nat\ncom.fasterxml.jackson.databind.deser.std.StringDeserializer.deserialize(StringDeserializer.java:11)\nat\ncom.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:1511)\nat\ncom.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1102)</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/qEnGg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qEnGg.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/v2XZk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v2XZk.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","xor-drawing"],"answers":[{"tags":[],"owner":{"account_id":22060406,"reputation":44,"user_id":16323206,"display_name":"jazznbass"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681128353,"creation_date":1681126646,"answer_id":75976752,"question_id":74151494,"body_markdown":"I have tried to export SVG files with Batik&#39;s SVGGenerator from Graphics2D objects with XOR composite but it seems that it is not supported (not using setXORMode that is also not supported). I have managed to add it as a filter in Batik source but the result is not the same as the original java object. It seems that if you use operators like XOR as a filter in SVG the outcome is very different to almost useless. The only correct Batik conversion is SRC_OVER, this one is being composed as direct alpha values not as a filter.\r\n\r\nIf someone could approximate XOR operator in direct alpha values that could be great but I am not sure **if this is possible**, considering the differences between XOR and SRC_OVER operators.\r\n\r\nAn other option could be this library, it seems to support composite but I do not know to what extent: https://github.com/jfree/jfreesvg","title":"XOR Mode is not supported by Graphics2D SVG Generator","body":"<p>I have tried to export SVG files with Batik's SVGGenerator from Graphics2D objects with XOR composite but it seems that it is not supported (not using setXORMode that is also not supported). I have managed to add it as a filter in Batik source but the result is not the same as the original java object. It seems that if you use operators like XOR as a filter in SVG the outcome is very different to almost useless. The only correct Batik conversion is SRC_OVER, this one is being composed as direct alpha values not as a filter.</p>\n<p>If someone could approximate XOR operator in direct alpha values that could be great but I am not sure <strong>if this is possible</strong>, considering the differences between XOR and SRC_OVER operators.</p>\n<p>An other option could be this library, it seems to support composite but I do not know to what extent: <a href=\"https://github.com/jfree/jfreesvg\" rel=\"nofollow noreferrer\">https://github.com/jfree/jfreesvg</a></p>\n"}],"owner":{"account_id":22607594,"reputation":13,"user_id":16788285,"display_name":"Manuel Kaufmann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75976752,"answer_count":1,"score":0,"last_activity_date":1681128353,"creation_date":1666344061,"question_id":74151494,"body_markdown":"How to Perform XOR from Graphics2D in SVGGraphics2D\r\n\r\n```\r\nGraphics2D g2D = (Graphics2D) svgGraphics2D;\r\n\r\n// Using white as the XOR color.\r\ng2D.setXORMode(Color.white);\r\n\r\n// Draw two overlapping rectangles.\r\nRectangle2D r = new Rectangle2D.Double(50, 50, 150, 100);\r\ng2D.setPaint(Color.BLACK);\r\ng2D.fill(r);\r\ng2D.transform(AffineTransform.getTranslateInstance(25, 25));\r\ng2D.fill(r);\r\n```\r\nsout-&gt; XOR Mode is not supported by Graphics2D SVG Generator\r\n\r\n\r\nIs there a simple convert, or can I check while drawing a Pixel if its already Black. \r\nI Need to perform Black and White Overlapping for Fonts, BufferedImages, ... too. So I cant just .setPaint().","title":"XOR Mode is not supported by Graphics2D SVG Generator","body":"<p>How to Perform XOR from Graphics2D in SVGGraphics2D</p>\n<pre><code>Graphics2D g2D = (Graphics2D) svgGraphics2D;\n\n// Using white as the XOR color.\ng2D.setXORMode(Color.white);\n\n// Draw two overlapping rectangles.\nRectangle2D r = new Rectangle2D.Double(50, 50, 150, 100);\ng2D.setPaint(Color.BLACK);\ng2D.fill(r);\ng2D.transform(AffineTransform.getTranslateInstance(25, 25));\ng2D.fill(r);\n</code></pre>\n<p>sout-&gt; XOR Mode is not supported by Graphics2D SVG Generator</p>\n<p>Is there a simple convert, or can I check while drawing a Pixel if its already Black.\nI Need to perform Black and White Overlapping for Fonts, BufferedImages, ... too. So I cant just .setPaint().</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":1494497,"reputation":252,"user_id":1400778,"accept_rate":50,"display_name":"Naqi"},"score":0,"creation_date":1615180161,"post_id":66524227,"comment_id":117602076,"body_markdown":"can you share the code from which this exception is thrown?","body":"can you share the code from which this exception is thrown?"},{"owner":{"account_id":10336867,"reputation":31,"user_id":7624680,"display_name":"NubMaster"},"score":0,"creation_date":1615182709,"post_id":66524227,"comment_id":117602568,"body_markdown":"i was trying to save the entity using springJpa where customerid was null.","body":"i was trying to save the entity using springJpa where customerid was null."},{"owner":{"account_id":1494497,"reputation":252,"user_id":1400778,"accept_rate":50,"display_name":"Naqi"},"score":0,"creation_date":1615184140,"post_id":66524227,"comment_id":117602881,"body_markdown":"have you check the database table? Reconfirm that the column is nullable in database. Make sure to refresh any database client window you have already opened.","body":"have you check the database table? Reconfirm that the column is nullable in database. Make sure to refresh any database client window you have already opened."},{"owner":{"account_id":10336867,"reputation":31,"user_id":7624680,"display_name":"NubMaster"},"score":0,"creation_date":1615184710,"post_id":66524227,"comment_id":117602992,"body_markdown":"yes column in database table does not contain any constraints.","body":"yes column in database table does not contain any constraints."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1615187790,"post_id":66524227,"comment_id":117603734,"body_markdown":"Strange. I always assumed this was how it was supposed to work: That the DB abstraction layer enforced it so you didn’t have to have a column constraint","body":"Strange. I always assumed this was how it was supposed to work: That the DB abstraction layer enforced it so you didn’t have to have a column constraint"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1615201486,"post_id":66524227,"comment_id":117609103,"body_markdown":"If the property is supposed to accept `null`s and there&#39;s no DB constraint, why did you use `nullable = false` in the first place?","body":"If the property is supposed to accept <code>null</code>s and there&#39;s no DB constraint, why did you use <code>nullable = false</code> in the first place?"},{"owner":{"account_id":10336867,"reputation":31,"user_id":7624680,"display_name":"NubMaster"},"score":0,"creation_date":1615205151,"post_id":66524227,"comment_id":117610629,"body_markdown":"@crizzis this is an old project, there are lot of instances like this in the codebase, so i dont want to manually remove nullable=false from every place.","body":"@crizzis this is an old project, there are lot of instances like this in the codebase, so i dont want to manually remove nullable=false from every place."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1615225486,"post_id":66524227,"comment_id":117620176,"body_markdown":"@NubMaster how hard can it be to globally replace `, nullable = false` with a blank using an editor?","body":"@NubMaster how hard can it be to globally replace <code>, nullable = false</code> with a blank using an editor?"}],"answers":[{"comments":[{"owner":{"account_id":10336867,"reputation":31,"user_id":7624680,"display_name":"NubMaster"},"score":0,"creation_date":1615254565,"post_id":66539503,"comment_id":117628939,"body_markdown":"hey thanks, but i already tried this. and there is no such property in my config file.\nEarlier it was working fine but the the spring boot upgrade also hibernate version, this is issue has come","body":"hey thanks, but i already tried this. and there is no such property in my config file. Earlier it was working fine but the the spring boot upgrade also hibernate version, this is issue has come"},{"owner":{"account_id":5072322,"reputation":29,"user_id":4070768,"display_name":"PDiddly"},"score":2,"creation_date":1615258757,"post_id":66539503,"comment_id":117629806,"body_markdown":"Do you have have Hibernate Validators enabled?\nFrom SessionFactoryOptionsBuilder (Hibernate core)\n\n    this.checkNullability = cfgService.getSetting( CHECK_NULLABILITY, BOOLEAN, true );\n\nAnd from TypeSafeActivator\n\n    // de-activate not-null tracking at the core level when Bean Validation is present unless the user explicitly\n    // asks for it\n    if ( cfgService.getSettings().get( Environment.CHECK_NULLABILITY ) == null ) {\n \n \n \n activationContext.getSessionFactory().getSessionFactoryOptions().setCheckNullability( false );\n    }","body":"Do you have have Hibernate Validators enabled? From SessionFactoryOptionsBuilder (Hibernate core)      this.checkNullability = cfgService.getSetting( CHECK_NULLABILITY, BOOLEAN, true );  And from TypeSafeActivator      // de-activate not-null tracking at the core level when Bean Validation is present unless the user explicitly     // asks for it     if ( cfgService.getSettings().get( Environment.CHECK_NULLABILITY ) == null ) {        activationContext.getSessionFactory().getSessionFactoryOptio&zwnj;&#8203;ns().setCheckNullabi&zwnj;&#8203;lity( false );     }"}],"tags":[],"owner":{"account_id":5072322,"reputation":29,"user_id":4070768,"display_name":"PDiddly"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615253172,"creation_date":1615253172,"answer_id":66539503,"question_id":66524227,"body_markdown":"I can&#39;t comment above (rep isn&#39;t high enough), and there&#39;s not enough to know that this will answer the question, but\r\nTake a look here: https://www.baeldung.com/hibernate-notnull-vs-nullable and https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/appendices/Configurations.html\r\nIf you have this set, Hibernate will check null before the DB.\r\n```\r\nspring.jpa.properties.hibernate.check_nullability\r\n```\r\n\r\nSo I&#39;m thinking you have that property set.\r\n","title":"@Column(nullable=false) validating the null check at application level","body":"<p>I can't comment above (rep isn't high enough), and there's not enough to know that this will answer the question, but\nTake a look here: <a href=\"https://www.baeldung.com/hibernate-notnull-vs-nullable\" rel=\"nofollow noreferrer\">https://www.baeldung.com/hibernate-notnull-vs-nullable</a> and <a href=\"https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/appendices/Configurations.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/appendices/Configurations.html</a>\nIf you have this set, Hibernate will check null before the DB.</p>\n<pre><code>spring.jpa.properties.hibernate.check_nullability\n</code></pre>\n<p>So I'm thinking you have that property set.</p>\n"},{"tags":[],"owner":{"account_id":2509854,"reputation":641,"user_id":2207837,"display_name":"Jaap"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681127822,"creation_date":1664957351,"answer_id":73957513,"question_id":66524227,"body_markdown":"This is due to a change in Spring Boot 2.3.x:\r\n\r\nhttps://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.3-Release-Notes#validation-starter-no-longer-included-in-web-starters\r\n\r\n&gt; As of #19550, Web and WebFlux starters do not depend on the validation starter by default any more. If your application is using validation features, for example you find that `javax.validation.*` imports are not being resolved, you’ll need to add the starter yourself.\r\n\r\nAs of 2.3.0, the Validation starter is no longer included in the Web starters. That means that Bean Validation is no longer on the classpath, causing a change in Hibernate&#39;s behaviour. This is indicated in the Hibernate docs here:\r\n\r\nhttps://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#_bean_validation_options\r\n\r\n&gt; hibernate.check_nullability (e.g. true or false)\r\n&gt; Enable nullability checking. Raises an exception if a property marked as not-null is null.\r\n\r\n&gt; Default to false if Bean Validation is present in the classpath and Hibernate Annotations is used, true otherwise.\r\n\r\nSo, the sudden validation taking place can be resolved in two ways:\r\n\r\n- By setting `spring.jpa.properties.hibernate.check_nullability` to `false` as indicated in PDiddly&#39;s answer\r\n- Or by adding the `spring-boot-starter-validation` dependency to your project:\r\n\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\n(or the individual dependencies for bean validation if you prefer so)\r\n","title":"@Column(nullable=false) validating the null check at application level","body":"<p>This is due to a change in Spring Boot 2.3.x:</p>\n<p><a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.3-Release-Notes#validation-starter-no-longer-included-in-web-starters\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.3-Release-Notes#validation-starter-no-longer-included-in-web-starters</a></p>\n<blockquote>\n<p>As of #19550, Web and WebFlux starters do not depend on the validation starter by default any more. If your application is using validation features, for example you find that <code>javax.validation.*</code> imports are not being resolved, you’ll need to add the starter yourself.</p>\n</blockquote>\n<p>As of 2.3.0, the Validation starter is no longer included in the Web starters. That means that Bean Validation is no longer on the classpath, causing a change in Hibernate's behaviour. This is indicated in the Hibernate docs here:</p>\n<p><a href=\"https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#_bean_validation_options\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#_bean_validation_options</a></p>\n<blockquote>\n<p>hibernate.check_nullability (e.g. true or false)\nEnable nullability checking. Raises an exception if a property marked as not-null is null.</p>\n</blockquote>\n<blockquote>\n<p>Default to false if Bean Validation is present in the classpath and Hibernate Annotations is used, true otherwise.</p>\n</blockquote>\n<p>So, the sudden validation taking place can be resolved in two ways:</p>\n<ul>\n<li>By setting <code>spring.jpa.properties.hibernate.check_nullability</code> to <code>false</code> as indicated in PDiddly's answer</li>\n<li>Or by adding the <code>spring-boot-starter-validation</code> dependency to your project:</li>\n</ul>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>(or the individual dependencies for bean validation if you prefer so)</p>\n"}],"owner":{"account_id":10336867,"reputation":31,"user_id":7624680,"display_name":"NubMaster"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1963,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1681127822,"creation_date":1615176958,"question_id":66524227,"body_markdown":"From my understanding nullable = false(let say for column customerid) is only useful for creating schemas using hibernate and it should not do any kind of validation before persisting. My database column has no such constraint(it can take null values), while persisting the entity with customerid null, getting this error\r\n\r\n    Caused by: org.hibernate.PropertyValueException: not-null property references a null or transient value :b\r\n    \tat org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:111) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n    \tat org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:55) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n    \tat \r\n\r\nThis error started keep coming after i update my spring boot version to 2.4.2\r\n\r\n\r\nEntity class\r\n\r\n    public class FaceIndexResponse extends AuditEntity {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n        @Column(name=&quot;customer_id&quot;,nullable = false)\r\n        private String customerId;\r\n        @Column(name=&quot;application_id&quot;)\r\n        private String appid;}\r\n\r\nService class where i was trying to save the above entity\r\n\r\n    public IndexFacesResult handle(FaceIndexModel model) throws IOException{\r\n        FaceIndexResponse response=new FaceIndexResponse();\r\n        response.setAppid(model.getApplicationId);\r\n        faceIndexResponseJpa.save(response);\r\n     }\r\n\r\n\r\n                                       Table &quot;public.face_index_response&quot;\r\n         Column     |            Type             | Collation | Nullable |             Default              \r\n    ----------------+-----------------------------+-----------+----------+----------------------------------\r\n     id             | integer                     |           | not null | generated by default as identity\r\n     customer_id    | character varying(64)       |           |          | \r\n     application_id | character varying(64)       |           |          | \r\n\r\n\r\n","title":"@Column(nullable=false) validating the null check at application level","body":"<p>From my understanding nullable = false(let say for column customerid) is only useful for creating schemas using hibernate and it should not do any kind of validation before persisting. My database column has no such constraint(it can take null values), while persisting the entity with customerid null, getting this error</p>\n<pre><code>Caused by: org.hibernate.PropertyValueException: not-null property references a null or transient value :b\n    at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:111) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:55) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at \n</code></pre>\n<p>This error started keep coming after i update my spring boot version to 2.4.2</p>\n<p>Entity class</p>\n<pre><code>public class FaceIndexResponse extends AuditEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    @Column(name=&quot;customer_id&quot;,nullable = false)\n    private String customerId;\n    @Column(name=&quot;application_id&quot;)\n    private String appid;}\n</code></pre>\n<p>Service class where i was trying to save the above entity</p>\n<pre><code>public IndexFacesResult handle(FaceIndexModel model) throws IOException{\n    FaceIndexResponse response=new FaceIndexResponse();\n    response.setAppid(model.getApplicationId);\n    faceIndexResponseJpa.save(response);\n }\n\n\n                                   Table &quot;public.face_index_response&quot;\n     Column     |            Type             | Collation | Nullable |             Default              \n----------------+-----------------------------+-----------+----------+----------------------------------\n id             | integer                     |           | not null | generated by default as identity\n customer_id    | character varying(64)       |           |          | \n application_id | character varying(64)       |           |          | \n</code></pre>\n"},{"tags":["java","git","jgit"],"comments":[{"owner":{"account_id":2837108,"reputation":27359,"user_id":2437508,"accept_rate":25,"display_name":"eftshift0"},"score":0,"creation_date":1623080174,"post_id":67874573,"comment_id":119970777,"body_markdown":"Would need to see more of the exception to see what thee real cause is.... however, 2 things come to mind easy: permissions of the user that is running the process _and_ that the process be actually standing on that repo directory as its PWD.","body":"Would need to see more of the exception to see what thee real cause is.... however, 2 things come to mind easy: permissions of the user that is running the process <i>and</i> that the process be actually standing on that repo directory as its PWD."},{"owner":{"account_id":6648529,"reputation":939,"user_id":5131614,"display_name":"arjunkhera"},"score":0,"creation_date":1623080652,"post_id":67874573,"comment_id":119971020,"body_markdown":"To do a quick test, I just wrote a simple java program with the just the deletion code, It worked fine. Looking at the error I can make out it has access issues for the particular mentioned git file. What I cannot figure out is why specifically it does not work for this. I will do some more check, maybe am missing something obvious","body":"To do a quick test, I just wrote a simple java program with the just the deletion code, It worked fine. Looking at the error I can make out it has access issues for the particular mentioned git file. What I cannot figure out is why specifically it does not work for this. I will do some more check, maybe am missing something obvious"},{"owner":{"account_id":2837108,"reputation":27359,"user_id":2437508,"accept_rate":25,"display_name":"eftshift0"},"score":0,"creation_date":1623080961,"post_id":67874573,"comment_id":119971202,"body_markdown":"Is it running on a windows box? If that&#39;s the case, _perhaps_ the file is open at the time (which is a **no-go** in windows, if the file is open).","body":"Is it running on a windows box? If that&#39;s the case, <i>perhaps</i> the file is open at the time (which is a <b>no-go</b> in windows, if the file is open)."},{"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"score":0,"creation_date":1623108425,"post_id":67874573,"comment_id":119980196,"body_markdown":"What does `GitUtils.getRepositoryPath` do exactly? You certainly need to close the repo before deleting it, see also https://stackoverflow.com/questions/45266021/java-jgit-files-delete-fails-to-delete-a-file-but-file-delete-succeeds","body":"What does <code>GitUtils.getRepositoryPath</code> do exactly? You certainly need to close the repo before deleting it, see also <a href=\"https://stackoverflow.com/questions/45266021/java-jgit-files-delete-fails-to-delete-a-file-but-file-delete-succeeds\" title=\"java jgit files delete fails to delete a file but file delete succeeds\">stackoverflow.com/questions/45266021/&hellip;</a>"},{"owner":{"account_id":6648529,"reputation":939,"user_id":5131614,"display_name":"arjunkhera"},"score":0,"creation_date":1623164003,"post_id":67874573,"comment_id":119996652,"body_markdown":"I was using try with resource semantics as documented here https://github.com/centic9/jgit-cookbook/blob/master/src/main/java/org/dstadler/jgit/porcelain/CloneRemoteRepository.java#L46. The function you are asking is just a utility to obtain the path where I want to clone the repo.","body":"I was using try with resource semantics as documented here <a href=\"https://github.com/centic9/jgit-cookbook/blob/master/src/main/java/org/dstadler/jgit/porcelain/CloneRemoteRepository.java#L46\" rel=\"nofollow noreferrer\">github.com/centic9/jgit-cookbook/blob/master/src/main/java/o&zwnj;&#8203;rg/&hellip;</a>. The function you are asking is just a utility to obtain the path where I want to clone the repo."},{"owner":{"account_id":6648529,"reputation":939,"user_id":5131614,"display_name":"arjunkhera"},"score":0,"creation_date":1623164292,"post_id":67874573,"comment_id":119996849,"body_markdown":"@eftshift0 the files were not open. I have been bitten by that mistake before so am careful about this. And yes, for better or worse, I am working on windows :)","body":"@eftshift0 the files were not open. I have been bitten by that mistake before so am careful about this. And yes, for better or worse, I am working on windows :)"},{"owner":{"account_id":2837108,"reputation":27359,"user_id":2437508,"accept_rate":25,"display_name":"eftshift0"},"score":0,"creation_date":1623165050,"post_id":67874573,"comment_id":119997277,"body_markdown":"Just in case, I don&#39;t mean the project files but the _repo_ files. I am assuming that you are closing the repo before trying to delete it.","body":"Just in case, I don&#39;t mean the project files but the <i>repo</i> files. I am assuming that you are closing the repo before trying to delete it."},{"owner":{"account_id":6648529,"reputation":939,"user_id":5131614,"display_name":"arjunkhera"},"score":0,"creation_date":1623165342,"post_id":67874573,"comment_id":119997433,"body_markdown":"As of now, I have just started from clone, which as you can see from the code I attached, that I check no previous repo was present, on that path before cloning. But if there was, I need to delete it. Currently I am not working on the repo files anywhere else that would lead to locking of files by jgit.","body":"As of now, I have just started from clone, which as you can see from the code I attached, that I check no previous repo was present, on that path before cloning. But if there was, I need to delete it. Currently I am not working on the repo files anywhere else that would lead to locking of files by jgit."}],"answers":[{"tags":[],"owner":{"account_id":6648529,"reputation":939,"user_id":5131614,"display_name":"arjunkhera"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1623163911,"creation_date":1623163911,"answer_id":67889453,"question_id":67874573,"body_markdown":"Apparently the Apache Commons IO function was throwing the error. Recursively traversing all files and deleting them using the `java.io` delete command worked perfectly fine.\r\n\r\nHere is the code snippet used for reference,\r\n\r\n    public static boolean deleteDirectory(File file) {\r\n        File[] children = file.listFiles();\r\n        if (children != null) {\r\n            for (File child : children) {\r\n                deleteDirectory(child);\r\n            }\r\n        }\r\n        return file.delete();\r\n    }\r\n","title":"Cannot Delete Repository Folder created by JGIT","body":"<p>Apparently the Apache Commons IO function was throwing the error. Recursively traversing all files and deleting them using the <code>java.io</code> delete command worked perfectly fine.</p>\n<p>Here is the code snippet used for reference,</p>\n<pre><code>public static boolean deleteDirectory(File file) {\n    File[] children = file.listFiles();\n    if (children != null) {\n        for (File child : children) {\n            deleteDirectory(child);\n        }\n    }\n    return file.delete();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8474188,"reputation":26,"user_id":6355920,"display_name":"Karanshah81295"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681127819,"creation_date":1681127819,"answer_id":75976893,"question_id":67874573,"body_markdown":"Use .close() method post Git clone and this will solve your issue.\r\n```\r\ntry (Git git = Git.cloneRepository()\r\n        .setURI(repoUrl)\r\n        .setDirectory(file)\r\n        .setBranchesToClone(List.of(&quot;refs/heads/&quot; + branchToClone))\r\n        .setBranch(&quot;refs/heads/&quot; + branchToClone)\r\n        .setCredentialsProvider(new UsernamePasswordCredentialsProvider( &quot;token&quot;, this.credentials.getGitToken()))\r\n        .call()\r\n        .close();\r\n```","title":"Cannot Delete Repository Folder created by JGIT","body":"<p>Use .close() method post Git clone and this will solve your issue.</p>\n<pre><code>try (Git git = Git.cloneRepository()\n        .setURI(repoUrl)\n        .setDirectory(file)\n        .setBranchesToClone(List.of(&quot;refs/heads/&quot; + branchToClone))\n        .setBranch(&quot;refs/heads/&quot; + branchToClone)\n        .setCredentialsProvider(new UsernamePasswordCredentialsProvider( &quot;token&quot;, this.credentials.getGitToken()))\n        .call()\n        .close();\n</code></pre>\n"}],"owner":{"account_id":6648529,"reputation":939,"user_id":5131614,"display_name":"arjunkhera"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":964,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67889453,"answer_count":2,"score":1,"last_activity_date":1681127819,"creation_date":1623080067,"question_id":67874573,"body_markdown":"I am unable to delete folder containing a cloned repository created using `jgit`. I have tried all kinds of utility delete methods but none works. The error thrown while using `FileUtils.deleteDirectory(file)` is as follows  \r\n\r\n`java.nio.file.AccessDeniedException: \\repositories\\Test\\Test\\.git\\objects\\pack\\pack-21cdd19e90e9e6bd2e8d295ea04201969594fe96.idx`\r\n\r\nTried the following,    \r\n1. I have seen a range of other answers, for example [1] and [2]. They are all concerned with cases wherein they created a repository with `jgit` first and then deleted it immediately after that. In my current scenario I want to check if a repository is already cloned at given path and delete if present. After doing this task, I want to clone a repository using `jgit` on the same path.\r\n2. I tried cases wherein I created the repository with `jgit`, shut down my server. Started it again and then simply called a function to delete the folder created earlier. This again failed with the same error.\r\n3. I also completely removed jgit from my initial code and from pom since it might be getting into loaded into classpath. I still get the same error when trying to delete. Tried again after restarting just to check, the issue still persists.\r\n4. However, when I run the same deletion code from another Java program, it succeeds.\r\n\r\n\r\n[1] https://stackoverflow.com/questions/65124176/how-to-remove-local-repository-by-java-code-that-was-cloned-by-jgit-java-library  \r\n[2] https://stackoverflow.com/questions/31764311/how-do-i-release-file-system-locks-after-cloning-repo-via-jgit  \r\n\r\nHere is the original code snippet for reference, \r\n\r\n        File file = null;\r\n        try {\r\n            file = new File(localRepositoryPath);\r\n\r\n            // Delete directory if already present\r\n            String localRepositoryParentPath = GitUtils.getRepositoryPath(projectName, null);\r\n            File parentDirectory = new File(localRepositoryParentPath);\r\n            FileUtils.deleteDirectory(parentDirectory);\r\n\r\n            // Create directory where repository will be cloned\r\n            if(!file.mkdirs()) {\r\n                throw new GitServiceException(\r\n                    GitUtils.getCloneFailureMessage(&quot;Unable to create directory&quot;,\r\n                        projectName,\r\n                        repoName));\r\n            }\r\n        } catch (NullPointerException | SecurityException | IOException e) {\r\n            logger.info(Arrays.toString(e.getStackTrace()));\r\n            logger.error(&quot;IO Error cloning repository {} and project {}. Stacktrace {} &quot;,\r\n                repoName,\r\n                projectName,\r\n                e.getStackTrace());\r\n            throw new GitServiceException(\r\n                GitUtils.getCloneFailureMessage(&quot;IO Error while cloning&quot;,\r\n                    projectName,\r\n                    repoName));\r\n        }\r\n\r\n        // Clone the git repository\r\n        try (Git git = Git.cloneRepository()\r\n                .setURI(repoUrl)\r\n                .setDirectory(file)\r\n                .setBranchesToClone(List.of(&quot;refs/heads/&quot; + branchToClone))\r\n                .setBranch(&quot;refs/heads/&quot; + branchToClone)\r\n                .setCredentialsProvider(new UsernamePasswordCredentialsProvider( &quot;token&quot;, this.credentials.getGitToken()))\r\n                .call();\r\n        ) {\r\n            logger.info(&quot;Successfully cloned branch {} on path {} for repository {} and project {}&quot;,\r\n                branchToClone,\r\n                localRepositoryPath,\r\n                repoName,\r\n                projectName);\r\n        } catch (Exception exception) {\r\n            logger.error(&quot;Error cloning repository {} and project {}. Stacktrace {} &quot;,\r\n                repoName,\r\n                projectName,\r\n                exception.getStackTrace());\r\n            throw new GitServiceException(\r\n                GitUtils.getCloneFailureMessage(&quot;Unable to clone repository locally&quot;,\r\n                    projectName,\r\n                    repoName));\r\n        }\r\n\r\n\r\n**Edit**\r\n\r\nAdding error stacktrace\r\n\r\n    org.apache.commons.io.IOExceptionList: 1 exceptions: [java.io.IOException: Unable to delete file: \\repositories\\Test\\Test\\.git]\r\n\tat org.apache.commons.io.FileUtils.cleanDirectory(FileUtils.java:345)\r\n\tat org.apache.commons.io.FileUtils.deleteDirectory(FileUtils.java:1206)\r\n\tat com.adobe.mdloc.controller.TestController.post(TestController.java:57)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:652)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.adobe.asr.filter.AsrRequestResponseFilter.doFilterInternal(AsrRequestResponseFilter.java:88)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.adobe.asr.logging.http.servlet.AsrLoggingFilter.doFilter(AsrLoggingFilter.java:71)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.adobe.asr.filter.AsrRequestIdFilter.doFilterInternal(AsrRequestIdFilter.java:99)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.adobe.asr.exception.AsrExceptionFilter.doFilterInternal(AsrExceptionFilter.java:82)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:888)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1597)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n    Caused by: java.io.IOException: Unable to delete file: \\repositories\\Test\\Test\\.git\r\n\tat org.apache.commons.io.FileUtils.forceDelete(FileUtils.java:1425)\r\n\tat org.apache.commons.io.FileUtils.cleanDirectory(FileUtils.java:338)\r\n\t... 71 more\r\n\r\n    Caused by: java.nio.file.AccessDeniedException: \\repositories\\Test\\Test\\.git\\objects\\pack\\pack-21cdd19e90e9e6bd2e8d295ea04201969594fe96.idx\r\n\tat java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:89)\r\n\tat java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\r\n\tat java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\r\n\tat java.base/sun.nio.fs.WindowsFileSystemProvider.implDelete(WindowsFileSystemProvider.java:274)\r\n\tat java.base/sun.nio.fs.AbstractFileSystemProvider.deleteIfExists(AbstractFileSystemProvider.java:110)\r\n\tat java.base/java.nio.file.Files.deleteIfExists(Files.java:1180)\r\n\tat org.apache.commons.io.file.DeletingPathVisitor.visitFile(DeletingPathVisitor.java:142)\r\n\tat org.apache.commons.io.file.DeletingPathVisitor.visitFile(DeletingPathVisitor.java:36)\r\n\tat java.base/java.nio.file.Files.walkFileTree(Files.java:2724)\r\n\tat java.base/java.nio.file.Files.walkFileTree(Files.java:2796)\r\n\tat org.apache.commons.io.file.PathUtils.visitFileTree(PathUtils.java:687)\r\n\tat org.apache.commons.io.file.PathUtils.deleteDirectory(PathUtils.java:328)\r\n\tat org.apache.commons.io.file.PathUtils.delete(PathUtils.java:303)\r\n\tat org.apache.commons.io.file.PathUtils.delete(PathUtils.java:280)\r\n\tat org.apache.commons.io.FileUtils.forceDelete(FileUtils.java:1423)\r\n\t... 72 more\r\n\r\n","title":"Cannot Delete Repository Folder created by JGIT","body":"<p>I am unable to delete folder containing a cloned repository created using <code>jgit</code>. I have tried all kinds of utility delete methods but none works. The error thrown while using <code>FileUtils.deleteDirectory(file)</code> is as follows</p>\n<p><code>java.nio.file.AccessDeniedException: \\repositories\\Test\\Test\\.git\\objects\\pack\\pack-21cdd19e90e9e6bd2e8d295ea04201969594fe96.idx</code></p>\n<p>Tried the following,</p>\n<ol>\n<li>I have seen a range of other answers, for example [1] and [2]. They are all concerned with cases wherein they created a repository with <code>jgit</code> first and then deleted it immediately after that. In my current scenario I want to check if a repository is already cloned at given path and delete if present. After doing this task, I want to clone a repository using <code>jgit</code> on the same path.</li>\n<li>I tried cases wherein I created the repository with <code>jgit</code>, shut down my server. Started it again and then simply called a function to delete the folder created earlier. This again failed with the same error.</li>\n<li>I also completely removed jgit from my initial code and from pom since it might be getting into loaded into classpath. I still get the same error when trying to delete. Tried again after restarting just to check, the issue still persists.</li>\n<li>However, when I run the same deletion code from another Java program, it succeeds.</li>\n</ol>\n<p>[1] <a href=\"https://stackoverflow.com/questions/65124176/how-to-remove-local-repository-by-java-code-that-was-cloned-by-jgit-java-library\">How to remove local repository by Java code that was cloned by JGit java library?</a><br />\n[2] <a href=\"https://stackoverflow.com/questions/31764311/how-do-i-release-file-system-locks-after-cloning-repo-via-jgit\">How do I release file system locks after cloning repo via JGit</a></p>\n<p>Here is the original code snippet for reference,</p>\n<pre><code>    File file = null;\n    try {\n        file = new File(localRepositoryPath);\n\n        // Delete directory if already present\n        String localRepositoryParentPath = GitUtils.getRepositoryPath(projectName, null);\n        File parentDirectory = new File(localRepositoryParentPath);\n        FileUtils.deleteDirectory(parentDirectory);\n\n        // Create directory where repository will be cloned\n        if(!file.mkdirs()) {\n            throw new GitServiceException(\n                GitUtils.getCloneFailureMessage(&quot;Unable to create directory&quot;,\n                    projectName,\n                    repoName));\n        }\n    } catch (NullPointerException | SecurityException | IOException e) {\n        logger.info(Arrays.toString(e.getStackTrace()));\n        logger.error(&quot;IO Error cloning repository {} and project {}. Stacktrace {} &quot;,\n            repoName,\n            projectName,\n            e.getStackTrace());\n        throw new GitServiceException(\n            GitUtils.getCloneFailureMessage(&quot;IO Error while cloning&quot;,\n                projectName,\n                repoName));\n    }\n\n    // Clone the git repository\n    try (Git git = Git.cloneRepository()\n            .setURI(repoUrl)\n            .setDirectory(file)\n            .setBranchesToClone(List.of(&quot;refs/heads/&quot; + branchToClone))\n            .setBranch(&quot;refs/heads/&quot; + branchToClone)\n            .setCredentialsProvider(new UsernamePasswordCredentialsProvider( &quot;token&quot;, this.credentials.getGitToken()))\n            .call();\n    ) {\n        logger.info(&quot;Successfully cloned branch {} on path {} for repository {} and project {}&quot;,\n            branchToClone,\n            localRepositoryPath,\n            repoName,\n            projectName);\n    } catch (Exception exception) {\n        logger.error(&quot;Error cloning repository {} and project {}. Stacktrace {} &quot;,\n            repoName,\n            projectName,\n            exception.getStackTrace());\n        throw new GitServiceException(\n            GitUtils.getCloneFailureMessage(&quot;Unable to clone repository locally&quot;,\n                projectName,\n                repoName));\n    }\n</code></pre>\n<p><strong>Edit</strong></p>\n<p>Adding error stacktrace</p>\n<pre><code>org.apache.commons.io.IOExceptionList: 1 exceptions: [java.io.IOException: Unable to delete file: \\repositories\\Test\\Test\\.git]\nat org.apache.commons.io.FileUtils.cleanDirectory(FileUtils.java:345)\nat org.apache.commons.io.FileUtils.deleteDirectory(FileUtils.java:1206)\nat com.adobe.mdloc.controller.TestController.post(TestController.java:57)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:652)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat com.adobe.asr.filter.AsrRequestResponseFilter.doFilterInternal(AsrRequestResponseFilter.java:88)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat com.adobe.asr.logging.http.servlet.AsrLoggingFilter.doFilter(AsrLoggingFilter.java:71)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat com.adobe.asr.filter.AsrRequestIdFilter.doFilterInternal(AsrRequestIdFilter.java:99)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat com.adobe.asr.exception.AsrExceptionFilter.doFilterInternal(AsrExceptionFilter.java:82)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:888)\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1597)\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.base/java.lang.Thread.run(Thread.java:834)\n\nCaused by: java.io.IOException: Unable to delete file: \\repositories\\Test\\Test\\.git\nat org.apache.commons.io.FileUtils.forceDelete(FileUtils.java:1425)\nat org.apache.commons.io.FileUtils.cleanDirectory(FileUtils.java:338)\n... 71 more\n\nCaused by: java.nio.file.AccessDeniedException: \\repositories\\Test\\Test\\.git\\objects\\pack\\pack-21cdd19e90e9e6bd2e8d295ea04201969594fe96.idx\nat java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:89)\nat java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\nat java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\nat java.base/sun.nio.fs.WindowsFileSystemProvider.implDelete(WindowsFileSystemProvider.java:274)\nat java.base/sun.nio.fs.AbstractFileSystemProvider.deleteIfExists(AbstractFileSystemProvider.java:110)\nat java.base/java.nio.file.Files.deleteIfExists(Files.java:1180)\nat org.apache.commons.io.file.DeletingPathVisitor.visitFile(DeletingPathVisitor.java:142)\nat org.apache.commons.io.file.DeletingPathVisitor.visitFile(DeletingPathVisitor.java:36)\nat java.base/java.nio.file.Files.walkFileTree(Files.java:2724)\nat java.base/java.nio.file.Files.walkFileTree(Files.java:2796)\nat org.apache.commons.io.file.PathUtils.visitFileTree(PathUtils.java:687)\nat org.apache.commons.io.file.PathUtils.deleteDirectory(PathUtils.java:328)\nat org.apache.commons.io.file.PathUtils.delete(PathUtils.java:303)\nat org.apache.commons.io.file.PathUtils.delete(PathUtils.java:280)\nat org.apache.commons.io.FileUtils.forceDelete(FileUtils.java:1423)\n... 72 more\n</code></pre>\n"},{"tags":["java","stax"],"owner":{"account_id":6236150,"reputation":15,"user_id":4851394,"display_name":"OHA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681127803,"creation_date":1681126112,"question_id":75976686,"body_markdown":"I&#39;d like to split a big XML file into many parts using StAX technology, based on a split-basis node.&lt;br/&gt;\r\nThe problem is when split-basis nodes are juxtaposed (no whitespace, no tab and no breakline between them). Those seems not be read by the parser while transform instruction. However when I put in comment transform instruction, those nodes are correctly read and outputted into the console.\r\n\r\nBellow XML sample. Split-basis is `AB` node.\r\n\r\n    &lt; ?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt; root&gt;\r\n    \t&lt; AB Id=&quot;1&quot;&gt;&lt; BC attB=&quot;valB1&quot;&gt;b1&lt; /BC&gt;&lt; CD attC=&quot;valC1&quot;&gt;&lt; EF attE=&quot;valD1&quot;&gt;c1&lt; /EF&gt;&lt; /CD&gt;&lt; /AB&gt;&lt; AB Id=&quot;2&quot;&gt;&lt; BC attB=&quot;valB2&quot;&gt;b2&lt; /BC&gt;&lt; CD attC=&quot;valC2&quot;&gt;&lt; EF attE=&quot;valD2&quot;&gt;c2&lt; /EF&gt;&lt; /CD&gt;&lt; /AB&gt;\r\n        &lt; AB Id=&quot;3&quot;&gt;\r\n            &lt; BC attB=&quot;valB3&quot;&gt;b3&lt; /BC&gt;\r\n            &lt; CD attC=&quot;valC3&quot;&gt;\r\n                &lt; EF attE=&quot;valD3&quot;&gt;c3&lt; /EF&gt;\r\n            &lt; /CD&gt;\r\n        &lt; /AB&gt;\r\n    &lt; /root&gt;\r\n\r\nThe expected output should be 3 files named `Part_1.xml`, `Part_2.xml` and `Part_3.xml`. Each file should respectively contain `&lt; AB Id=&quot;1&quot;&gt;` and its sub-tags, `&lt; AB Id=&quot;2&quot;&gt;` and its sub-tags and `&lt; AB Id=&quot;3&quot;&gt;` and its sub-tags. All of them should also have `&lt; root &gt;` node parent.\r\n\r\nUnfortunately, I only obtain `Part_1.xml` and `Part_2.xml` files. Inside `Part_1.xml` I get `&lt; AB id = &quot;1&quot;&gt;` and its sub-tags. But inside `Part_2.xml`, I get `&lt; AB id = &quot;3&quot;&gt;` and its sub-tags instead of `&lt; AB id = &quot;2&quot;&gt;` and its sub-tags. `&lt; AB id = &quot;2&quot;&gt;` and its sub-tags are not written.\r\n\r\nWhen I put in comment ```transformer.transform(staxs, staxr);``` line. StreamReader reads correclty `&lt; AB id = &quot;2&quot;&gt;`.\r\n\r\n&lt;b&gt;code&lt;/b&gt;:\r\n``` lang-java\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileOutputStream;\r\nimport javax.xml.stream.XMLInputFactory;\r\nimport javax.xml.stream.XMLOutputFactory;\r\nimport javax.xml.stream.XMLStreamException;\r\nimport javax.xml.stream.XMLStreamReader;\r\nimport javax.xml.stream.XMLStreamWriter;\r\nimport javax.xml.stream.events.XMLEvent;\r\nimport javax.xml.transform.Transformer;\r\nimport javax.xml.transform.TransformerException;\r\nimport javax.xml.transform.TransformerFactory;\r\nimport javax.xml.transform.stax.StAXResult;\r\nimport javax.xml.transform.stax.StAXSource;\r\nimport org.apache.commons.lang3.StringUtils;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\nfinal class Split {\r\n    private static final Logger LOG = LoggerFactory.getLogger(Split.class);\r\n    private static final String inputXmlFile = &quot;Big xml file to split. Above a dummy sample&quot;;\r\n    private static final String pathToOutputFolder = System.getProperty(&quot;java.io.tmpdir&quot;);\r\n    private static final String[] parentTags = new String[] {&quot;&lt;root&gt;&quot;};\r\n    private static final String splitTag = &quot;&lt;AB&gt;&quot;;\r\n    private static final String chunkNumber = &quot;1&quot;;\r\n\tpublic void run() {\r\n\t\tfinal Transformer transformer;\r\n\t\tXMLStreamReader xsr = null;\r\n\t\tXMLStreamWriter xsw = null;\r\n\t\ttry {\r\n\t\t\ttransformer = TransformerFactory.newInstance().newTransformer();\r\n\t\t\tfinal XMLInputFactory xif = XMLInputFactory.newInstance();\r\n\t\t\txsr = xif.createXMLStreamReader(new FileInputStream(inputXmlFile));\r\n\t\t\tShort fileNumber = 0;\r\n\t\t\tShort dataRepetitions = 0;\r\n\t\t\txsw = write(pathToOutputFolder, ++fileNumber, parentTags);\r\n\t\t\tint tagCount = 0;\r\n\t\t\twhile (xsr.hasNext()) {\r\n\t\t\t\txsr.next();\r\n\t\t\t\tif (xsr.getEventType() == XMLEvent.START_ELEMENT) {\r\n\t\t\t\t\ttagCount++;\r\n\t\t\t\t\tSystem.out.println(&quot;Tag _&quot; + tagCount + &quot;: &quot; + xsr.getLocalName());\r\n\t\t\t\t\tif (xsr.getLocalName().equals(splitTag)) {\r\n\t\t\t\t\t\tSystem.out.println(xsr.getLocalName() + &quot;: [&quot; + xsr.getAttributeLocalName(0) + &quot;, &quot; + xsr.getAttributeValue(0) + &quot;]&quot;);\r\n\t\t\t\t\t\tif (dataRepetitions.equals(1)) {\r\n\t\t\t\t\t\t\txsw.flush();\r\n\t\t\t\t\t\t    xsw.writeEndDocument();\r\n\t\t\t\t\t\t\txsw.close();\r\n\t\t\t\t\t\t\txsw = write(pathToOutputFolder, ++fileNumber, parentTags);\r\n\t\t\t\t\t\t\tdataRepetitions = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfinal StAXSource staxs = new StAXSource(xsr);\r\n\t\t\t\t\t\tfinal StAXResult staxr = new StAXResult(xsw);\r\n\t\t\t\t\t\ttransformer.transform(staxs, staxr);\r\n\t\t\t\t\t\tdataRepetitions++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (final TransformerException | FileNotFoundException | XMLStreamException e) {\r\n\t\t\tthrow new SplitXmlRuntimeException(e.getMessage());\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\txsr.close();\r\n\t\t\t\tif (xsw != null) {\r\n\t\t\t\t\txsw.flush();\r\n\t\t\t\t\txsw.writeEndDocument();\r\n\t\t\t\t\txsw.close();\r\n\t\t\t\t}\r\n\t\t\t} catch (final XMLStreamException e) {\r\n\t\t\t\tLOG.error(e.getMessage());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate XMLStreamWriter write(final String pathToOutputFolder, final Short fileNumber, final String[] rootTags) throws XMLStreamException, FileNotFoundException  {\r\n\t\tXMLOutputFactory xmlOutputFactory = XMLOutputFactory.newInstance();\r\n\t\tXMLStreamWriter writer = xmlOutputFactory.createXMLStreamWriter(new FileOutputStream(new File(pathToOutputFolder, &quot;Part_&quot; + fileNumber), true));\r\n\t\twriter.writeStartDocument();\r\n\t\tfor (final String s : rootTags) {\r\n\t\t\twriter.writeStartElement(s);\r\n\t\t}\r\n\t\treturn writer;\r\n\t}\r\n}\r\n```\r\n ","title":"Stax transform seems not working when nodes are juxtaposed","body":"<p>I'd like to split a big XML file into many parts using StAX technology, based on a split-basis node.<br/>\nThe problem is when split-basis nodes are juxtaposed (no whitespace, no tab and no breakline between them). Those seems not be read by the parser while transform instruction. However when I put in comment transform instruction, those nodes are correctly read and outputted into the console.</p>\n<p>Bellow XML sample. Split-basis is <code>AB</code> node.</p>\n<pre><code>&lt; ?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt; root&gt;\n    &lt; AB Id=&quot;1&quot;&gt;&lt; BC attB=&quot;valB1&quot;&gt;b1&lt; /BC&gt;&lt; CD attC=&quot;valC1&quot;&gt;&lt; EF attE=&quot;valD1&quot;&gt;c1&lt; /EF&gt;&lt; /CD&gt;&lt; /AB&gt;&lt; AB Id=&quot;2&quot;&gt;&lt; BC attB=&quot;valB2&quot;&gt;b2&lt; /BC&gt;&lt; CD attC=&quot;valC2&quot;&gt;&lt; EF attE=&quot;valD2&quot;&gt;c2&lt; /EF&gt;&lt; /CD&gt;&lt; /AB&gt;\n    &lt; AB Id=&quot;3&quot;&gt;\n        &lt; BC attB=&quot;valB3&quot;&gt;b3&lt; /BC&gt;\n        &lt; CD attC=&quot;valC3&quot;&gt;\n            &lt; EF attE=&quot;valD3&quot;&gt;c3&lt; /EF&gt;\n        &lt; /CD&gt;\n    &lt; /AB&gt;\n&lt; /root&gt;\n</code></pre>\n<p>The expected output should be 3 files named <code>Part_1.xml</code>, <code>Part_2.xml</code> and <code>Part_3.xml</code>. Each file should respectively contain <code>&lt; AB Id=&quot;1&quot;&gt;</code> and its sub-tags, <code>&lt; AB Id=&quot;2&quot;&gt;</code> and its sub-tags and <code>&lt; AB Id=&quot;3&quot;&gt;</code> and its sub-tags. All of them should also have <code>&lt; root &gt;</code> node parent.</p>\n<p>Unfortunately, I only obtain <code>Part_1.xml</code> and <code>Part_2.xml</code> files. Inside <code>Part_1.xml</code> I get <code>&lt; AB id = &quot;1&quot;&gt;</code> and its sub-tags. But inside <code>Part_2.xml</code>, I get <code>&lt; AB id = &quot;3&quot;&gt;</code> and its sub-tags instead of <code>&lt; AB id = &quot;2&quot;&gt;</code> and its sub-tags. <code>&lt; AB id = &quot;2&quot;&gt;</code> and its sub-tags are not written.</p>\n<p>When I put in comment <code>transformer.transform(staxs, staxr);</code> line. StreamReader reads correclty <code>&lt; AB id = &quot;2&quot;&gt;</code>.</p>\n<p><b>code</b>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport javax.xml.stream.XMLInputFactory;\nimport javax.xml.stream.XMLOutputFactory;\nimport javax.xml.stream.XMLStreamException;\nimport javax.xml.stream.XMLStreamReader;\nimport javax.xml.stream.XMLStreamWriter;\nimport javax.xml.stream.events.XMLEvent;\nimport javax.xml.transform.Transformer;\nimport javax.xml.transform.TransformerException;\nimport javax.xml.transform.TransformerFactory;\nimport javax.xml.transform.stax.StAXResult;\nimport javax.xml.transform.stax.StAXSource;\nimport org.apache.commons.lang3.StringUtils;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.stereotype.Component;\n\n@Component\nfinal class Split {\n    private static final Logger LOG = LoggerFactory.getLogger(Split.class);\n    private static final String inputXmlFile = &quot;Big xml file to split. Above a dummy sample&quot;;\n    private static final String pathToOutputFolder = System.getProperty(&quot;java.io.tmpdir&quot;);\n    private static final String[] parentTags = new String[] {&quot;&lt;root&gt;&quot;};\n    private static final String splitTag = &quot;&lt;AB&gt;&quot;;\n    private static final String chunkNumber = &quot;1&quot;;\n    public void run() {\n        final Transformer transformer;\n        XMLStreamReader xsr = null;\n        XMLStreamWriter xsw = null;\n        try {\n            transformer = TransformerFactory.newInstance().newTransformer();\n            final XMLInputFactory xif = XMLInputFactory.newInstance();\n            xsr = xif.createXMLStreamReader(new FileInputStream(inputXmlFile));\n            Short fileNumber = 0;\n            Short dataRepetitions = 0;\n            xsw = write(pathToOutputFolder, ++fileNumber, parentTags);\n            int tagCount = 0;\n            while (xsr.hasNext()) {\n                xsr.next();\n                if (xsr.getEventType() == XMLEvent.START_ELEMENT) {\n                    tagCount++;\n                    System.out.println(&quot;Tag _&quot; + tagCount + &quot;: &quot; + xsr.getLocalName());\n                    if (xsr.getLocalName().equals(splitTag)) {\n                        System.out.println(xsr.getLocalName() + &quot;: [&quot; + xsr.getAttributeLocalName(0) + &quot;, &quot; + xsr.getAttributeValue(0) + &quot;]&quot;);\n                        if (dataRepetitions.equals(1)) {\n                            xsw.flush();\n                            xsw.writeEndDocument();\n                            xsw.close();\n                            xsw = write(pathToOutputFolder, ++fileNumber, parentTags);\n                            dataRepetitions = 0;\n                        }\n                        final StAXSource staxs = new StAXSource(xsr);\n                        final StAXResult staxr = new StAXResult(xsw);\n                        transformer.transform(staxs, staxr);\n                        dataRepetitions++;\n                    }\n                }\n            }\n        } catch (final TransformerException | FileNotFoundException | XMLStreamException e) {\n            throw new SplitXmlRuntimeException(e.getMessage());\n        } finally {\n            try {\n                xsr.close();\n                if (xsw != null) {\n                    xsw.flush();\n                    xsw.writeEndDocument();\n                    xsw.close();\n                }\n            } catch (final XMLStreamException e) {\n                LOG.error(e.getMessage());\n            }\n        }\n    }\n    \n    private XMLStreamWriter write(final String pathToOutputFolder, final Short fileNumber, final String[] rootTags) throws XMLStreamException, FileNotFoundException  {\n        XMLOutputFactory xmlOutputFactory = XMLOutputFactory.newInstance();\n        XMLStreamWriter writer = xmlOutputFactory.createXMLStreamWriter(new FileOutputStream(new File(pathToOutputFolder, &quot;Part_&quot; + fileNumber), true));\n        writer.writeStartDocument();\n        for (final String s : rootTags) {\n            writer.writeStartElement(s);\n        }\n        return writer;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","maven","intellij-idea"],"comments":[{"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"score":0,"creation_date":1678706280,"post_id":75719050,"comment_id":133579362,"body_markdown":"your problem is likely unrelated to maven, but alive `Thread`s. make sure you have started non-daemon threads in your module, otherwise SpringBoot app dies immediately after the start.","body":"your problem is likely unrelated to maven, but alive <code>Thread</code>s. make sure you have started non-daemon threads in your module, otherwise SpringBoot app dies immediately after the start."}],"answers":[{"tags":[],"owner":{"account_id":7098633,"reputation":426,"user_id":5431153,"accept_rate":100,"display_name":"Mohammad Hossein Shojaeinia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681127669,"creation_date":1681127669,"answer_id":75976869,"question_id":75719050,"body_markdown":"Finally I found the issue. The problem was because of an unused and extra dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nafter removing this dependency, everything worked correctly. It seems this dependency, didn&#39;t let Tomcat to be launched after running with ```java -jar```.\r\n\r\nThanks","title":"multi-module maven spring boot application stops immediately after running","body":"<p>Finally I found the issue. The problem was because of an unused and extra dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;2.7.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>after removing this dependency, everything worked correctly. It seems this dependency, didn't let Tomcat to be launched after running with <code>java -jar</code>.</p>\n<p>Thanks</p>\n"}],"owner":{"account_id":7098633,"reputation":426,"user_id":5431153,"accept_rate":100,"display_name":"Mohammad Hossein Shojaeinia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75976869,"answer_count":1,"score":0,"last_activity_date":1681127669,"creation_date":1678692685,"question_id":75719050,"body_markdown":"I&#39;m creating a multi-module spring boot application using maven in IntelliJ. When I run it using IntelliJ, everything works fine. But when I use maven package (IntelliJ maven plugin), the pom file in root of project, does not work. But when I use jar file from ```gateway``` module, it has all the components. But two things:\r\n\r\n - It does not read my ```application.properties``` file\r\n - It starts the project and ```Started MyappGatewayApplication in 5.009 seconds (JVM running for 5.257)``` message appears, but immediately ```SpringApplicationShutdownHook``` triggers and stops the application.\r\n\r\nHere are my pom.xml files (parent, gateway, service and util modules) consecutively:\r\n\r\n//parent pom.xml\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\t\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;com.mysite&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;myapp&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n\t&lt;version&gt;3.0.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;myapp&lt;/name&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.4.1&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;shade&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;transformers&gt;\r\n\t\t\t\t\t\t\t\t&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;mainClass&gt;com.mysite.gateway.MyappGatewayApplication&lt;/mainClass&gt;\r\n\t\t\t\t\t\t\t\t&lt;/transformer&gt;\r\n\t\t\t\t\t\t\t&lt;/transformers&gt;\r\n\t\t\t\t\t\t\t&lt;filters&gt;\r\n\t\t\t\t\t\t\t\t&lt;filter&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;artifact&gt;*:*&lt;/artifact&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t\t\t\t\t&lt;/filter&gt;\r\n\t\t\t\t\t\t\t&lt;/filters&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.3.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t&lt;manifest&gt;\r\n\t\t\t\t\t\t\t&lt;mainClass&gt;com.mysite.gateway.myappGatewayApplication&lt;/mainClass&gt;\r\n\t\t\t\t\t\t&lt;/manifest&gt;\r\n\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;17&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;17&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7.8&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.18.24&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.8.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.vladimir-bukhtoyarov&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;bucket4j-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.5.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20220924&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.11.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;modules&gt;\r\n\t\t&lt;module&gt;myapp-gateway&lt;/module&gt;\r\n\t\t&lt;module&gt;myapp-service&lt;/module&gt;\r\n\t\t&lt;module&gt;myapp-util&lt;/module&gt;\r\n\t&lt;/modules&gt;\r\n\t&lt;/project&gt;\r\n\r\n\r\n//gateway module pom.xml\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;com.mysite&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;myapp&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;groupId&gt;com.mysite&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;myapp-gateway&lt;/artifactId&gt;\r\n\t&lt;version&gt;3&lt;/version&gt;\r\n\t&lt;name&gt;myapp-gateway&lt;/name&gt;\r\n\t&lt;description&gt;myapp Gateway Module&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysite&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;myapp-service&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysite&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;myapp-util&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;/project&gt;\r\n\r\n\r\n//service module pom.xml\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;com.mysite&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;myapp&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;groupId&gt;com.mysite&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;myapp-service&lt;/artifactId&gt;\r\n\t&lt;version&gt;3&lt;/version&gt;\r\n\t&lt;name&gt;myapp-service&lt;/name&gt;\r\n\t&lt;description&gt;myapp Service Module&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysite&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;myapp-util&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;/project&gt;\r\n\r\n\r\n//util module pom.xml\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n\t\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t\t&lt;parent&gt;\r\n\t\t\t&lt;groupId&gt;com.mysite&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;myapp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;/parent&gt;\r\n\r\n\t\t&lt;groupId&gt;com.mysite&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;myapp-util&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3&lt;/version&gt;\r\n\t\t&lt;name&gt;myapp-util&lt;/name&gt;\r\n\t\t&lt;description&gt;myapp Utility Module&lt;/description&gt;\r\n\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n\t\t\t&lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n\t\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;/properties&gt;\r\n\t\t\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.rabbitmq&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;amqp-client&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;5.16.0&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.10.1&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/project&gt;\r\n\r\n","title":"multi-module maven spring boot application stops immediately after running","body":"<p>I'm creating a multi-module spring boot application using maven in IntelliJ. When I run it using IntelliJ, everything works fine. But when I use maven package (IntelliJ maven plugin), the pom file in root of project, does not work. But when I use jar file from <code>gateway</code> module, it has all the components. But two things:</p>\n<ul>\n<li>It does not read my <code>application.properties</code> file</li>\n<li>It starts the project and <code>Started MyappGatewayApplication in 5.009 seconds (JVM running for 5.257)</code> message appears, but immediately <code>SpringApplicationShutdownHook</code> triggers and stops the application.</li>\n</ul>\n<p>Here are my pom.xml files (parent, gateway, service and util modules) consecutively:</p>\n<p>//parent pom.xml\n</p>\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;com.mysite&lt;/groupId&gt;\n&lt;artifactId&gt;myapp&lt;/artifactId&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n&lt;version&gt;3.0.0-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;myapp&lt;/name&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.4.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;transformers&gt;\n                            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\n                            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                &lt;mainClass&gt;com.mysite.gateway.MyappGatewayApplication&lt;/mainClass&gt;\n                            &lt;/transformer&gt;\n                        &lt;/transformers&gt;\n                        &lt;filters&gt;\n                            &lt;filter&gt;\n                                &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                &lt;excludes&gt;\n                                    &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                    &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                    &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                                &lt;/excludes&gt;\n                            &lt;/filter&gt;\n                        &lt;/filters&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;mainClass&gt;com.mysite.gateway.myappGatewayApplication&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;17&lt;/source&gt;\n                &lt;target&gt;17&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;version&gt;2.7.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;2.7.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;version&gt;2.7.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;version&gt;2.7.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;version&gt;2.7.8&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;version&gt;2.7.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.24&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;5.8.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n        &lt;version&gt;0.11.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n        &lt;version&gt;0.11.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n        &lt;version&gt;0.11.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.vladimir-bukhtoyarov&lt;/groupId&gt;\n        &lt;artifactId&gt;bucket4j-core&lt;/artifactId&gt;\n        &lt;version&gt;7.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20220924&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;2.11.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;modules&gt;\n    &lt;module&gt;myapp-gateway&lt;/module&gt;\n    &lt;module&gt;myapp-service&lt;/module&gt;\n    &lt;module&gt;myapp-util&lt;/module&gt;\n&lt;/modules&gt;\n&lt;/project&gt;\n</code></pre>\n<p>//gateway module pom.xml\n\n</p>\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;com.mysite&lt;/groupId&gt;\n    &lt;artifactId&gt;myapp&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0-SNAPSHOT&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;groupId&gt;com.mysite&lt;/groupId&gt;\n&lt;artifactId&gt;myapp-gateway&lt;/artifactId&gt;\n&lt;version&gt;3&lt;/version&gt;\n&lt;name&gt;myapp-gateway&lt;/name&gt;\n&lt;description&gt;myapp Gateway Module&lt;/description&gt;\n\n&lt;properties&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mysite&lt;/groupId&gt;\n        &lt;artifactId&gt;myapp-service&lt;/artifactId&gt;\n        &lt;version&gt;3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mysite&lt;/groupId&gt;\n        &lt;artifactId&gt;myapp-util&lt;/artifactId&gt;\n        &lt;version&gt;3&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>//service module pom.xml\n\n</p>\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;com.mysite&lt;/groupId&gt;\n    &lt;artifactId&gt;myapp&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0-SNAPSHOT&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;groupId&gt;com.mysite&lt;/groupId&gt;\n&lt;artifactId&gt;myapp-service&lt;/artifactId&gt;\n&lt;version&gt;3&lt;/version&gt;\n&lt;name&gt;myapp-service&lt;/name&gt;\n&lt;description&gt;myapp Service Module&lt;/description&gt;\n\n&lt;properties&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mysite&lt;/groupId&gt;\n        &lt;artifactId&gt;myapp-util&lt;/artifactId&gt;\n        &lt;version&gt;3&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>//util module pom.xml\n\n</p>\n<pre><code>    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;com.mysite&lt;/groupId&gt;\n        &lt;artifactId&gt;myapp&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.mysite&lt;/groupId&gt;\n    &lt;artifactId&gt;myapp-util&lt;/artifactId&gt;\n    &lt;version&gt;3&lt;/version&gt;\n    &lt;name&gt;myapp-util&lt;/name&gt;\n    &lt;description&gt;myapp Utility Module&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    \n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.rabbitmq&lt;/groupId&gt;\n            &lt;artifactId&gt;amqp-client&lt;/artifactId&gt;\n            &lt;version&gt;5.16.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.10.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","intellij-idea","spring-security","pom.xml"],"answers":[{"comments":[{"owner":{"account_id":23077784,"reputation":1,"user_id":17190503,"display_name":"GreenEngineer"},"score":0,"creation_date":1681142919,"post_id":75976852,"comment_id":134005414,"body_markdown":"My java version is correct, I have done invalidate caches and restart and reload project. Nothing changed. However, I want to say that firstly, I have opened the project on Eclipse IDE. After that, I opened it Intellij IDE and I am seeing these which are .classpath and .project with Eclipse logo. Can it cause the problem? If I code the project using direct Intellij IDE, can the problem be solved?","body":"My java version is correct, I have done invalidate caches and restart and reload project. Nothing changed. However, I want to say that firstly, I have opened the project on Eclipse IDE. After that, I opened it Intellij IDE and I am seeing these which are .classpath and .project with Eclipse logo. Can it cause the problem? If I code the project using direct Intellij IDE, can the problem be solved?"},{"owner":{"account_id":12261394,"reputation":461,"user_id":8948995,"display_name":"Phong Bui"},"score":0,"creation_date":1681186250,"post_id":75976852,"comment_id":134011814,"body_markdown":"you can try these:\n- run `mvn clean`\n- delete all the files which is not related to your project  especially the hidden files (if you using Git, just re-clone it for the refresh repo)\n- reimport the project using IntelliJ\n- verify Java version, Maven version,... are correct\n*actually the eclipse files are not really the problem","body":"you can try these: - run <code>mvn clean</code> - delete all the files which is not related to your project  especially the hidden files (if you using Git, just re-clone it for the refresh repo) - reimport the project using IntelliJ - verify Java version, Maven version,... are correct *actually the eclipse files are not really the problem"},{"owner":{"account_id":23077784,"reputation":1,"user_id":17190503,"display_name":"GreenEngineer"},"score":0,"creation_date":1681205337,"post_id":75976852,"comment_id":134014987,"body_markdown":"Hello, finally I could solve my problem. I rebuilded the project and everything is good. Can you offer to me some books, youtube channels to make my Spring knowledge better? I have good Java knowledge but my Spring knowledge is not as good as Java.","body":"Hello, finally I could solve my problem. I rebuilded the project and everything is good. Can you offer to me some books, youtube channels to make my Spring knowledge better? I have good Java knowledge but my Spring knowledge is not as good as Java."}],"tags":[],"owner":{"account_id":12261394,"reputation":461,"user_id":8948995,"display_name":"Phong Bui"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681127520,"creation_date":1681127520,"answer_id":75976852,"question_id":75976656,"body_markdown":"If you can run `mvn package` in Terminal without any compilation errors then check your IntelliJ configuration.\r\n- Make sure you configured the right version of Java (17 is your case) [![Project Structure][1]][1]\r\n- Make sure you configured the right version of Maven (compare with `mvn --version` in Terminal where you built your project without any compilation errors) [![Maven config][2]][2]\r\n- Reimport your Maven project (right click on the root module)[![Reload Maven project][3]][3]\r\n- If 3 steps above are not helping, try Invalidate Caches and Restart [![Invalidate Caches and Restart][4]][4]\r\n\r\n\r\n\r\nIF YOU TRIED EVERYTHING AND THE ISSUE IS STILL NOT FIXED, RESTART YOUR COMPUTER!!!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/E9Lkr.png\r\n  [2]: https://i.stack.imgur.com/TANQs.png\r\n  [3]: https://i.stack.imgur.com/hTVeK.png\r\n  [4]: https://i.stack.imgur.com/dabUY.png","title":"&quot;java: cannot find symbol&quot; error in Spring Security","body":"<p>If you can run <code>mvn package</code> in Terminal without any compilation errors then check your IntelliJ configuration.</p>\n<ul>\n<li>Make sure you configured the right version of Java (17 is your case) <a href=\"https://i.stack.imgur.com/E9Lkr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E9Lkr.png\" alt=\"Project Structure\" /></a></li>\n<li>Make sure you configured the right version of Maven (compare with <code>mvn --version</code> in Terminal where you built your project without any compilation errors) <a href=\"https://i.stack.imgur.com/TANQs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TANQs.png\" alt=\"Maven config\" /></a></li>\n<li>Reimport your Maven project (right click on the root module)<a href=\"https://i.stack.imgur.com/hTVeK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hTVeK.png\" alt=\"Reload Maven project\" /></a></li>\n<li>If 3 steps above are not helping, try Invalidate Caches and Restart <a href=\"https://i.stack.imgur.com/dabUY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dabUY.png\" alt=\"Invalidate Caches and Restart\" /></a></li>\n</ul>\n<p>IF YOU TRIED EVERYTHING AND THE ISSUE IS STILL NOT FIXED, RESTART YOUR COMPUTER!!!</p>\n"}],"owner":{"account_id":23077784,"reputation":1,"user_id":17190503,"display_name":"GreenEngineer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2100,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1681127520,"creation_date":1681125819,"question_id":75976656,"body_markdown":"I have been trying to run the application but it throws an error called like that\r\n\r\n    java: cannot find symbol\r\n      symbol:   class UserDetailsServiceImpl\r\n      location: package com.project.questapp.services\r\n\r\nI am taking 8 errors. 3 of them are these. I have checked the locations of the classes which causes error but I could not find any mistake. My pom.xml maybe incorrect, but I rerun it lonely, it run clearly. What is the reason behind the error? \r\n\r\n    package com.project.questapp.config;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.http.HttpMethod;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.http.SessionCreationPolicy;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    import org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n    import org.springframework.web.cors.CorsConfiguration;\r\n    import org.springframework.web.cors.UrlBasedCorsConfigurationSource;\r\n    import org.springframework.web.filter.CorsFilter;\r\n    \r\n    import com.project.questapp.security.JwtAuthenticationEntryPoint; // it causes to the error\r\n    import com.project.questapp.security.JwtAuthenticationFilter; // it causes to the error\r\n    import com.project.questapp.services.UserDetailsServiceImpl; // it causes to the error\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig{\r\n        private UserDetailsServiceImpl userDetailsService;\r\n    \r\n        private JwtAuthenticationEntryPoint handler;\r\n    \r\n        public SecurityConfig(UserDetailsServiceImpl userDetailsService, JwtAuthenticationEntryPoint handler) {\r\n            this.userDetailsService = userDetailsService;\r\n            this.handler = handler;\r\n        }\r\n    \r\n        @Bean\r\n        public JwtAuthenticationFilter jwtAuthenticationFilter() {\r\n            return new JwtAuthenticationFilter();\r\n        }\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n            return authenticationConfiguration.getAuthenticationManager();\r\n        }\r\n    \r\n        @Bean\r\n        public CorsFilter corsFilter() {\r\n            UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n            CorsConfiguration config = new CorsConfiguration();\r\n            config.setAllowCredentials(true);\r\n            config.addAllowedOrigin(&quot;*&quot;);\r\n            config.addAllowedHeader(&quot;*&quot;);\r\n            config.addAllowedMethod(&quot;OPTIONS&quot;);\r\n            config.addAllowedMethod(&quot;HEAD&quot;);\r\n            config.addAllowedMethod(&quot;GET&quot;);\r\n            config.addAllowedMethod(&quot;PUT&quot;);\r\n            config.addAllowedMethod(&quot;POST&quot;);\r\n            config.addAllowedMethod(&quot;DELETE&quot;);\r\n            config.addAllowedMethod(&quot;PATCH&quot;);\r\n            source.registerCorsConfiguration(&quot;/**&quot;, config);\r\n            return new CorsFilter(source);\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\r\n            httpSecurity\r\n                    .cors()\r\n                    .and()\r\n                    .csrf().disable()\r\n                    .exceptionHandling().authenticationEntryPoint(handler).and()\r\n                    .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                    .authorizeHttpRequests()\r\n                    .requestMatchers(HttpMethod.GET, &quot;/posts&quot;)\r\n                    .permitAll()\r\n                    .requestMatchers(HttpMethod.GET, &quot;/comments&quot;)\r\n                    .permitAll()\r\n                    .requestMatchers(&quot;/auth/**&quot;)\r\n                    .permitAll()\r\n                    .anyRequest().authenticated();\r\n    \r\n            httpSecurity.addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n            return httpSecurity.build();\r\n        }\r\n    }\r\n    \r\n     \r\nmy pom.xml is this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.project&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;questapp&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;questapp&lt;/name&gt;\r\n    \t&lt;description&gt;QuestApp project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.9.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n\r\n","title":"&quot;java: cannot find symbol&quot; error in Spring Security","body":"<p>I have been trying to run the application but it throws an error called like that</p>\n<pre><code>java: cannot find symbol\n  symbol:   class UserDetailsServiceImpl\n  location: package com.project.questapp.services\n</code></pre>\n<p>I am taking 8 errors. 3 of them are these. I have checked the locations of the classes which causes error but I could not find any mistake. My pom.xml maybe incorrect, but I rerun it lonely, it run clearly. What is the reason behind the error?</p>\n<pre><code>package com.project.questapp.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\nimport org.springframework.web.cors.CorsConfiguration;\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\nimport org.springframework.web.filter.CorsFilter;\n\nimport com.project.questapp.security.JwtAuthenticationEntryPoint; // it causes to the error\nimport com.project.questapp.security.JwtAuthenticationFilter; // it causes to the error\nimport com.project.questapp.services.UserDetailsServiceImpl; // it causes to the error\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig{\n    private UserDetailsServiceImpl userDetailsService;\n\n    private JwtAuthenticationEntryPoint handler;\n\n    public SecurityConfig(UserDetailsServiceImpl userDetailsService, JwtAuthenticationEntryPoint handler) {\n        this.userDetailsService = userDetailsService;\n        this.handler = handler;\n    }\n\n    @Bean\n    public JwtAuthenticationFilter jwtAuthenticationFilter() {\n        return new JwtAuthenticationFilter();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public CorsFilter corsFilter() {\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        CorsConfiguration config = new CorsConfiguration();\n        config.setAllowCredentials(true);\n        config.addAllowedOrigin(&quot;*&quot;);\n        config.addAllowedHeader(&quot;*&quot;);\n        config.addAllowedMethod(&quot;OPTIONS&quot;);\n        config.addAllowedMethod(&quot;HEAD&quot;);\n        config.addAllowedMethod(&quot;GET&quot;);\n        config.addAllowedMethod(&quot;PUT&quot;);\n        config.addAllowedMethod(&quot;POST&quot;);\n        config.addAllowedMethod(&quot;DELETE&quot;);\n        config.addAllowedMethod(&quot;PATCH&quot;);\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\n        return new CorsFilter(source);\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity\n                .cors()\n                .and()\n                .csrf().disable()\n                .exceptionHandling().authenticationEntryPoint(handler).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                .authorizeHttpRequests()\n                .requestMatchers(HttpMethod.GET, &quot;/posts&quot;)\n                .permitAll()\n                .requestMatchers(HttpMethod.GET, &quot;/comments&quot;)\n                .permitAll()\n                .requestMatchers(&quot;/auth/**&quot;)\n                .permitAll()\n                .anyRequest().authenticated();\n\n        httpSecurity.addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\n        return httpSecurity.build();\n    }\n}\n\n \n</code></pre>\n<p>my pom.xml is this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.project&lt;/groupId&gt;\n    &lt;artifactId&gt;questapp&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;questapp&lt;/name&gt;\n    &lt;description&gt;QuestApp project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","json","spring","hibernate"],"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1681102022,"post_id":75974280,"comment_id":133998835,"body_markdown":"Which attribute of ProductModel  you want o map with the group_id key? I don&#39;t see any variable to hold this info in your ProductModel  class.","body":"Which attribute of ProductModel  you want o map with the group_id key? I don&#39;t see any variable to hold this info in your ProductModel  class."},{"owner":{"account_id":23167954,"reputation":1,"user_id":17267600,"display_name":"Сэм Қыпшақ"},"score":0,"creation_date":1681127157,"post_id":75974280,"comment_id":134002312,"body_markdown":"I want to set group attibute with ProductModel value found by group_id","body":"I want to set group attibute with ProductModel value found by group_id"},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1681131139,"post_id":75974280,"comment_id":134003000,"body_markdown":"So, in that case it can only populate group_id not complete object ProductModel. Is that what you are looking for?","body":"So, in that case it can only populate group_id not complete object ProductModel. Is that what you are looking for?"},{"owner":{"account_id":23167954,"reputation":1,"user_id":17267600,"display_name":"Сэм Қыпшақ"},"score":0,"creation_date":1681202495,"post_id":75974280,"comment_id":134014314,"body_markdown":"Gaurav Jeswani  I have to write code to find group_id. Is there another way just putting annotion on field and spring itself convert group id into ProductModel by uuid group id contains.\n var group_id=productModel.getGroup_id();\n         if(group_id!=null &amp;&amp; group_id.length()&gt;0){\n             var group=productRepo.findById(UUID.fromString(group_id)).get();\n             if(group!=null){\n                 productModel.setGroup(group);\n             }\n         }","body":"Gaurav Jeswani  I have to write code to find group_id. Is there another way just putting annotion on field and spring itself convert group id into ProductModel by uuid group id contains.  var group_id=productModel.getGroup_id();          if(group_id!=null &amp;&amp; group_id.length()&gt;0){              var group=productRepo.findById(UUID.fromString(group_id)).get();              if(group!=null){                  productModel.setGroup(group);              }          }"}],"answers":[{"tags":[],"owner":{"account_id":21465978,"reputation":36,"user_id":21570258,"display_name":"PraveenJubburu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681102138,"creation_date":1681102138,"answer_id":75974329,"question_id":75974280,"body_markdown":"With the help of group_id, you can fetch it from the database\r\n\r\nexample code :\r\n\r\n```\r\n@CrossOrigin\r\n@PostMapping(value = &quot;/product/save&quot;,produces = &quot;application/json&quot;, consumes=&quot;application/json&quot;)\r\nvoid saveProduct(@RequestBody ProductModel productModel){\r\n    var group_id = productModel.getGroup_id();\r\n    if(group_id != null &amp;&amp; !group_id.isEmpty()){\r\n        UUID groupId = UUID.fromString(group_id);\r\n        Optional&lt;ProductModel&gt; optionalGroup = productRepo.findById(groupId);\r\n        if(optionalGroup.isPresent()){\r\n            ProductModel group = optionalGroup.get();\r\n            productModel.setGroup(group);\r\n        } else {\r\n            // handle error - group not found\r\n        }\r\n    }\r\n    productRepo.save(productModel);\r\n}\r\n```","title":"How to set object field in better way in spring app?","body":"<p>With the help of group_id, you can fetch it from the database</p>\n<p>example code :</p>\n<pre><code>@CrossOrigin\n@PostMapping(value = &quot;/product/save&quot;,produces = &quot;application/json&quot;, consumes=&quot;application/json&quot;)\nvoid saveProduct(@RequestBody ProductModel productModel){\n    var group_id = productModel.getGroup_id();\n    if(group_id != null &amp;&amp; !group_id.isEmpty()){\n        UUID groupId = UUID.fromString(group_id);\n        Optional&lt;ProductModel&gt; optionalGroup = productRepo.findById(groupId);\n        if(optionalGroup.isPresent()){\n            ProductModel group = optionalGroup.get();\n            productModel.setGroup(group);\n        } else {\n            // handle error - group not found\n        }\n    }\n    productRepo.save(productModel);\n}\n</code></pre>\n"}],"owner":{"account_id":23167954,"reputation":1,"user_id":17267600,"display_name":"Сэм Қыпшақ"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681127515,"creation_date":1681101163,"question_id":75974280,"body_markdown":"I have entity in spring app below.\r\n\r\n\r\n```\r\n\r\n@Entity(name = &quot;products&quot;)\r\npublic class ProductModel {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private  UUID id;\r\n    private  String name;\r\n    private  String code;\r\n\r\n    private boolean is_group;\r\n\r\n    @ManyToOne\r\n    private ProductModel group;\r\n```\r\n\r\n\r\nand json from frontend app\r\n\r\n\r\n```\r\n{   &quot;id&quot;:&quot;50bfddf4-d5f8-11ed-afa1-0242ac120002&quot;,  \r\n    &quot;name&quot;:&quot;Phone&quot;,   \r\n    &quot;group_id&quot;:&quot;7bd886d0-d5f8-11ed-afa1-0242ac120002&quot;\r\n }\r\n```\r\n\r\n\r\nthis is my controller where I have to find by id productrepo\r\n\r\n```\r\n @CrossOrigin\r\n    @PostMapping(value = &quot;/product/save&quot;,produces = &quot;application/json&quot;, consumes=&quot;application/json&quot;)\r\n    void saveProduct(@RequestBody ProductModel productModel){\r\n         var group_id=productModel.getGroup_id();\r\n         if(group_id!=null &amp;&amp; group_id.length()&gt;0){\r\n             var group=productRepo.findById(UUID.fromString(group_id)).get();\r\n             if(group!=null){\r\n                 productModel.setGroup(group);\r\n             }\r\n         }\r\n         productRepo.save(productModel);\r\n    }\r\n```\r\n\r\n\r\nhow can I convert group_id from json to ProductModel by any annotation or another settings without using findById () method ?\r\n\r\nI expect example of code","title":"How to set object field in better way in spring app?","body":"<p>I have entity in spring app below.</p>\n<pre><code>\n@Entity(name = &quot;products&quot;)\npublic class ProductModel {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private  UUID id;\n    private  String name;\n    private  String code;\n\n    private boolean is_group;\n\n    @ManyToOne\n    private ProductModel group;\n</code></pre>\n<p>and json from frontend app</p>\n<pre><code>{   &quot;id&quot;:&quot;50bfddf4-d5f8-11ed-afa1-0242ac120002&quot;,  \n    &quot;name&quot;:&quot;Phone&quot;,   \n    &quot;group_id&quot;:&quot;7bd886d0-d5f8-11ed-afa1-0242ac120002&quot;\n }\n</code></pre>\n<p>this is my controller where I have to find by id productrepo</p>\n<pre><code> @CrossOrigin\n    @PostMapping(value = &quot;/product/save&quot;,produces = &quot;application/json&quot;, consumes=&quot;application/json&quot;)\n    void saveProduct(@RequestBody ProductModel productModel){\n         var group_id=productModel.getGroup_id();\n         if(group_id!=null &amp;&amp; group_id.length()&gt;0){\n             var group=productRepo.findById(UUID.fromString(group_id)).get();\n             if(group!=null){\n                 productModel.setGroup(group);\n             }\n         }\n         productRepo.save(productModel);\n    }\n</code></pre>\n<p>how can I convert group_id from json to ProductModel by any annotation or another settings without using findById () method ?</p>\n<p>I expect example of code</p>\n"},{"tags":["java","https","cxf"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681140305,"post_id":75976832,"comment_id":134004838,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28024604,"reputation":1,"user_id":21404845,"display_name":"谢佳豪"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681127386,"creation_date":1681127320,"question_id":75976832,"body_markdown":"The cxf client sends a request to the server through Https，\r\ncan i reuse the socket link？\r\n\r\nI already set the following parameters：\r\n\r\nhttp.maxConnections=200.\r\n\r\nhttp.keepalive=true.\r\n\r\nit doesn&#39;t work\r\nbecause this method parm var2 always different,var1 have same host and port .\r\nvar2 always be different SSLSocketFactory.\r\n\r\n**sun.net.www.http.KeepAliveCache#put(URL var1, Object var2, HttpClient var3)**\r\n\r\nhow can i make connection reuse ？\r\n\r\n\r\n","title":"cxf client Java HttpURLConnection and pooling","body":"<p>The cxf client sends a request to the server through Https，\ncan i reuse the socket link？</p>\n<p>I already set the following parameters：</p>\n<p>http.maxConnections=200.</p>\n<p>http.keepalive=true.</p>\n<p>it doesn't work\nbecause this method parm var2 always different,var1 have same host and port .\nvar2 always be different SSLSocketFactory.</p>\n<p><strong>sun.net.www.http.KeepAliveCache#put(URL var1, Object var2, HttpClient var3)</strong></p>\n<p>how can i make connection reuse ？</p>\n"},{"tags":["java","rest","ssl","jersey","grizzly"],"answers":[{"comments":[{"owner":{"account_id":1480362,"reputation":275,"user_id":1389906,"accept_rate":60,"display_name":"user1389906"},"score":0,"creation_date":1389662442,"post_id":21100804,"comment_id":31750891,"body_markdown":"Thanks for the response! This doesn&#39;t work, but it got me on a search path that I hope will lead to the solution. The server now starts up secured, but it dies on handshake when I try using `openssl s_client -connect localhost:9999` I&#39;m thinking I might just need to migrate everything over to the newest version of Jersey, which is drastically different from Jersey 1.12, as I understand it. I&#39;ll post back if I figure it out.","body":"Thanks for the response! This doesn&#39;t work, but it got me on a search path that I hope will lead to the solution. The server now starts up secured, but it dies on handshake when I try using <code>openssl s_client -connect localhost:9999</code> I&#39;m thinking I might just need to migrate everything over to the newest version of Jersey, which is drastically different from Jersey 1.12, as I understand it. I&#39;ll post back if I figure it out."},{"owner":{"account_id":1103579,"reputation":1959,"user_id":1095452,"display_name":"alexey"},"score":1,"creation_date":1389742547,"post_id":21100804,"comment_id":31790331,"body_markdown":"You can enable SSL debugging: &quot;-Djavax.net.debug=all&quot; and see why handshake fails","body":"You can enable SSL debugging: &quot;-Djavax.net.debug=all&quot; and see why handshake fails"},{"owner":{"account_id":1480362,"reputation":275,"user_id":1389906,"accept_rate":60,"display_name":"user1389906"},"score":1,"creation_date":1389810560,"post_id":21100804,"comment_id":31824553,"body_markdown":"Thanks so much! The debugging info showed that it was trying to authenticate the client (which I didn&#39;t want it to do). Looking through grizzly documentation, I found that in constructing SSLEngineConfigurator, I can pass in booleans telling it not to authenticate the client. That did it!","body":"Thanks so much! The debugging info showed that it was trying to authenticate the client (which I didn&#39;t want it to do). Looking through grizzly documentation, I found that in constructing SSLEngineConfigurator, I can pass in booleans telling it not to authenticate the client. That did it!"},{"owner":{"account_id":11042,"reputation":7158,"user_id":3540161,"accept_rate":56,"display_name":"Rolf"},"score":0,"creation_date":1446471472,"post_id":21100804,"comment_id":54742516,"body_markdown":"I think he referred to this: new SSLEngineConfigurator(sslContextConfigurator).setNeedClientAuth(false)","body":"I think he referred to this: new SSLEngineConfigurator(sslContextConfigurator).setNeedClientA&zwnj;&#8203;uth(false)"},{"owner":{"account_id":11042,"reputation":7158,"user_id":3540161,"accept_rate":56,"display_name":"Rolf"},"score":0,"creation_date":1446555044,"post_id":21100804,"comment_id":54782743,"body_markdown":"Don&#39;t forget to disable client mode, see this StackOverflow question: https://stackoverflow.com/questions/22724862/grizzly-with-tls-handshaking-issue","body":"Don&#39;t forget to disable client mode, see this StackOverflow question: <a href=\"https://stackoverflow.com/questions/22724862/grizzly-with-tls-handshaking-issue\" title=\"grizzly with tls handshaking issue\">stackoverflow.com/questions/22724862/&hellip;</a>"}],"tags":[],"owner":{"account_id":1103579,"reputation":1959,"user_id":1095452,"display_name":"alexey"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1389645940,"creation_date":1389645173,"answer_id":21100804,"question_id":21098105,"body_markdown":"IMO you can use different Factory method to initialize secured Grizzly HttpServer:\r\n\r\n    HttpServer secure = GrizzlyServerFactory.createHttpServer(BASE_URI_SECURED,\r\n                            ContainerFactory.createContainer(HttpHandler.class, rc),\r\n                            true,\r\n                            new SSLEngineConfigurator(sslCon));\r\n\r\nIf you initialize the server like this, you don&#39;t need to stop and reconfigure it again.\r\n\r\nHope this will help.","title":"SSL with Grizzly and Jersey","body":"<p>IMO you can use different Factory method to initialize secured Grizzly HttpServer:</p>\n\n<pre><code>HttpServer secure = GrizzlyServerFactory.createHttpServer(BASE_URI_SECURED,\n                        ContainerFactory.createContainer(HttpHandler.class, rc),\n                        true,\n                        new SSLEngineConfigurator(sslCon));\n</code></pre>\n\n<p>If you initialize the server like this, you don't need to stop and reconfigure it again.</p>\n\n<p>Hope this will help.</p>\n"},{"comments":[{"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"score":0,"creation_date":1680903995,"post_id":22363770,"comment_id":133979179,"body_markdown":"URL is 404. Therefore, StackOverflow recommends self-contained answers.","body":"URL is 404. Therefore, StackOverflow recommends self-contained answers."}],"tags":[],"owner":{"account_id":1362100,"reputation":635,"user_id":1299267,"display_name":"Daniel Nuriyev"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1394658242,"creation_date":1394658242,"answer_id":22363770,"question_id":21098105,"body_markdown":"I have a nice and tested example using Grizzly 2.3.3 in:\r\nhttps://github.com/danielnuriyev/scriptedstuff/tree/master/src/com/scriptedstuff/server","title":"SSL with Grizzly and Jersey","body":"<p>I have a nice and tested example using Grizzly 2.3.3 in:\n<a href=\"https://github.com/danielnuriyev/scriptedstuff/tree/master/src/com/scriptedstuff/server\" rel=\"nofollow\">https://github.com/danielnuriyev/scriptedstuff/tree/master/src/com/scriptedstuff/server</a></p>\n"},{"tags":[],"owner":{"account_id":1620438,"reputation":15219,"user_id":1497139,"accept_rate":68,"display_name":"Wolfgang Fahl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1399706647,"creation_date":1399706342,"answer_id":23578270,"question_id":21098105,"body_markdown":"The following code works with Grizzly 2.3.7 and I am using Jersey 1.18 - this includes code for SSL Client Authentication - if you don&#39;t have the keystores this feature will simply be ignored.\r\n\r\n\r\n    /**\r\n\t * create a Server based on an url and possibly a ResourceConfig\r\n\t * \r\n\t * @param url\r\n\t * @param rc\r\n\t * @param secure\r\n\t *          - true if SSL should be used\r\n\t * @param contextPath \r\n\t * @return\r\n\t * @throws Exception\r\n\t */\r\n\tpublic HttpServer createHttpServer(String url, ResourceConfig rc,\r\n\t\t\tboolean secure, String contextPath) throws Exception {\r\n\t\t// HttpServer result = GrizzlyServerFactory.createHttpServer(url, rc);\r\n\t\t// http://grepcode.com/file/repo1.maven.org/maven2/com.sun.jersey/jersey-grizzly2/1.6/com/sun/jersey/api/container/grizzly2/GrizzlyServerFactory.java#GrizzlyServerFactory.createHttpServer%28java.net.URI%2Ccom.sun.jersey.api.container.grizzly2.ResourceConfig%29\r\n\t\tHttpServer result = new HttpServer();\r\n\t\tfinal NetworkListener listener = new NetworkListener(&quot;grizzly&quot;,\r\n\t\t\t\tsettings.getHost(), settings.getPort());\r\n\t\tresult.addListener(listener);\r\n\t\t// do we need SSL?\r\n\t\tif (secure) {\r\n\t\t\tlistener.setSecure(secure);\r\n\t\t\tSSLEngineConfigurator sslEngineConfigurator = createSSLConfig(true);\r\n\t\t\tlistener.setSSLEngineConfig(sslEngineConfigurator);\r\n\t\t}\r\n\t\t// Map the path to the processor.\r\n\t\tfinal ServerConfiguration config = result.getServerConfiguration();\r\n\t\tfinal HttpHandler handler = ContainerFactory.createContainer(\r\n\t\t\t\tHttpHandler.class, rc);\r\n\t\tconfig.addHttpHandler(handler, contextPath);\r\n\t\treturn result;\r\n\t}\r\n\r\n      /**\r\n\t * create SSL Configuration\r\n\t * \r\n\t * @param isServer\r\n\t *          true if this is for the server\r\n\t * @return\r\n\t * @throws Exception\r\n\t */\r\n\tprivate SSLEngineConfigurator createSSLConfig(boolean isServer)\r\n\t\t\tthrows Exception {\r\n\t\tfinal SSLContextConfigurator sslContextConfigurator = new SSLContextConfigurator();\r\n\t\t// override system properties\r\n\t\tfinal File cacerts = getStoreFile(&quot;server truststore&quot;,\r\n\t\t\t\t&quot;truststore_server.jks&quot;);\r\n\t\tif (cacerts != null) {\r\n\t\t\tsslContextConfigurator.setTrustStoreFile(cacerts.getAbsolutePath());\r\n\t\t\tsslContextConfigurator.setTrustStorePass(TRUSTSTORE_PASSWORD);\r\n\t\t}\r\n\r\n\t\t// override system properties\r\n\t\tfinal File keystore = getStoreFile(&quot;server keystore&quot;, &quot;keystore_server.jks&quot;);\r\n\t\tif (keystore != null) {\r\n\t\t\tsslContextConfigurator.setKeyStoreFile(keystore.getAbsolutePath());\r\n\t\t\tsslContextConfigurator.setKeyStorePass(TRUSTSTORE_PASSWORD);\r\n\t\t}\r\n\r\n\t\t//\r\n\t\tboolean clientMode = false;\r\n\t\t// force client Authentication ...\r\n\t\tboolean needClientAuth = settings.isNeedClientAuth();\r\n\t\tboolean wantClientAuth = settings.isWantClientAuth();\r\n\t\tSSLEngineConfigurator result = new SSLEngineConfigurator(\r\n\t\t\t\tsslContextConfigurator.createSSLContext(), clientMode, needClientAuth,\r\n\t\t\t\twantClientAuth);\r\n\t\treturn result;\r\n\t}","title":"SSL with Grizzly and Jersey","body":"<p>The following code works with Grizzly 2.3.7 and I am using Jersey 1.18 - this includes code for SSL Client Authentication - if you don't have the keystores this feature will simply be ignored.</p>\n\n<pre><code>/**\n * create a Server based on an url and possibly a ResourceConfig\n * \n * @param url\n * @param rc\n * @param secure\n *          - true if SSL should be used\n * @param contextPath \n * @return\n * @throws Exception\n */\npublic HttpServer createHttpServer(String url, ResourceConfig rc,\n        boolean secure, String contextPath) throws Exception {\n    // HttpServer result = GrizzlyServerFactory.createHttpServer(url, rc);\n    // http://grepcode.com/file/repo1.maven.org/maven2/com.sun.jersey/jersey-grizzly2/1.6/com/sun/jersey/api/container/grizzly2/GrizzlyServerFactory.java#GrizzlyServerFactory.createHttpServer%28java.net.URI%2Ccom.sun.jersey.api.container.grizzly2.ResourceConfig%29\n    HttpServer result = new HttpServer();\n    final NetworkListener listener = new NetworkListener(\"grizzly\",\n            settings.getHost(), settings.getPort());\n    result.addListener(listener);\n    // do we need SSL?\n    if (secure) {\n        listener.setSecure(secure);\n        SSLEngineConfigurator sslEngineConfigurator = createSSLConfig(true);\n        listener.setSSLEngineConfig(sslEngineConfigurator);\n    }\n    // Map the path to the processor.\n    final ServerConfiguration config = result.getServerConfiguration();\n    final HttpHandler handler = ContainerFactory.createContainer(\n            HttpHandler.class, rc);\n    config.addHttpHandler(handler, contextPath);\n    return result;\n}\n\n  /**\n * create SSL Configuration\n * \n * @param isServer\n *          true if this is for the server\n * @return\n * @throws Exception\n */\nprivate SSLEngineConfigurator createSSLConfig(boolean isServer)\n        throws Exception {\n    final SSLContextConfigurator sslContextConfigurator = new SSLContextConfigurator();\n    // override system properties\n    final File cacerts = getStoreFile(\"server truststore\",\n            \"truststore_server.jks\");\n    if (cacerts != null) {\n        sslContextConfigurator.setTrustStoreFile(cacerts.getAbsolutePath());\n        sslContextConfigurator.setTrustStorePass(TRUSTSTORE_PASSWORD);\n    }\n\n    // override system properties\n    final File keystore = getStoreFile(\"server keystore\", \"keystore_server.jks\");\n    if (keystore != null) {\n        sslContextConfigurator.setKeyStoreFile(keystore.getAbsolutePath());\n        sslContextConfigurator.setKeyStorePass(TRUSTSTORE_PASSWORD);\n    }\n\n    //\n    boolean clientMode = false;\n    // force client Authentication ...\n    boolean needClientAuth = settings.isNeedClientAuth();\n    boolean wantClientAuth = settings.isWantClientAuth();\n    SSLEngineConfigurator result = new SSLEngineConfigurator(\n            sslContextConfigurator.createSSLContext(), clientMode, needClientAuth,\n            wantClientAuth);\n    return result;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1176036,"reputation":2433,"user_id":1324406,"accept_rate":62,"display_name":"Amber"},"score":0,"creation_date":1454514212,"post_id":25982595,"comment_id":58079764,"body_markdown":"This was very helpful.  I noticed when I start my server with bogus credentials (keystore location/password) I don&#39;t get any exceptions, but the service is unavailable.  Does your ConfigLoader do some validation, or have you found another way to catch errors?","body":"This was very helpful.  I noticed when I start my server with bogus credentials (keystore location/password) I don&#39;t get any exceptions, but the service is unavailable.  Does your ConfigLoader do some validation, or have you found another way to catch errors?"}],"tags":[],"owner":{"account_id":1480362,"reputation":275,"user_id":1389906,"accept_rate":60,"display_name":"user1389906"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1411417525,"creation_date":1411417525,"answer_id":25982595,"question_id":21098105,"body_markdown":"Sorry to take so long to post this up here. Alexey&#39;s answer led me to the working solution, which is a lot like Wolfgang Fahl&#39;s code. Here&#39;s what I ended up with:\r\n\r\n\r\n    static HttpServer startSecureServer() throws IOException\r\n    {\r\n        System.out.println(&quot;Starting server on port &quot; + ConfigLoader.getHttpsServerPort());\r\n        ResourceConfig rc = new PackagesResourceConfig(&quot;com.kinpoint.server.grizzlyresources&quot;);\r\n\r\n        SSLContextConfigurator sslCon = new SSLContextConfigurator();\r\n\r\n        sslCon.setKeyStoreFile(ConfigLoader.getKeystoreLocation()); // contains server keypair\r\n        sslCon.setKeyStorePass(ConfigLoader.getKeystorePassword());\r\n\r\n        HttpHandler hand = ContainerFactory.createContainer(HttpHandler.class, rc);\r\n\r\n        HttpServer secure = GrizzlyServerFactory.createHttpServer(BASE_URI_SECURED, hand, true,\r\n                new SSLEngineConfigurator(sslCon, false, false, false));\r\n\r\n        return secure;\r\n    }\r\n\r\nThe second parameter in the SSLEngineConfigurator tells it not to use client mode. That was what was messing me up. Thanks for the help.","title":"SSL with Grizzly and Jersey","body":"<p>Sorry to take so long to post this up here. Alexey's answer led me to the working solution, which is a lot like Wolfgang Fahl's code. Here's what I ended up with:</p>\n\n<pre><code>static HttpServer startSecureServer() throws IOException\n{\n    System.out.println(\"Starting server on port \" + ConfigLoader.getHttpsServerPort());\n    ResourceConfig rc = new PackagesResourceConfig(\"com.kinpoint.server.grizzlyresources\");\n\n    SSLContextConfigurator sslCon = new SSLContextConfigurator();\n\n    sslCon.setKeyStoreFile(ConfigLoader.getKeystoreLocation()); // contains server keypair\n    sslCon.setKeyStorePass(ConfigLoader.getKeystorePassword());\n\n    HttpHandler hand = ContainerFactory.createContainer(HttpHandler.class, rc);\n\n    HttpServer secure = GrizzlyServerFactory.createHttpServer(BASE_URI_SECURED, hand, true,\n            new SSLEngineConfigurator(sslCon, false, false, false));\n\n    return secure;\n}\n</code></pre>\n\n<p>The second parameter in the SSLEngineConfigurator tells it not to use client mode. That was what was messing me up. Thanks for the help.</p>\n"},{"tags":[],"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681127222,"creation_date":1681122864,"answer_id":75976316,"question_id":21098105,"body_markdown":"With the new SeBootstrap functionality, you can start a server with\r\n\r\n```java\r\n    static void startServer(CountDownLatch latch) {\r\n        SSLContext sslContext = getSslContext();\r\n        SeBootstrap.Configuration configuration = SeBootstrap.Configuration\r\n                .builder()\r\n                .sslContext(sslContext)\r\n                .protocol(&quot;HTTPS&quot;)\r\n                .port(6051)\r\n                .build();\r\n        SeBootstrap.start(Application.class, configuration).thenAccept(instance -&gt; {\r\n            instance.stopOnShutdown(stopResult -&gt;\r\n                    System.out.printf(&quot;Stop result: %s [Native stop result: %s].%n&quot;, stopResult,\r\n                            stopResult.unwrap(Object.class)));\r\n            final URI uri = instance.configuration().baseUri();\r\n            System.out.printf(&quot;Instance %s running at %s [Native handle: %s].%n&quot;, instance, uri,\r\n                    instance.unwrap(Object.class));\r\n            System.out.println(&quot;Send SIGKILL to shutdown.&quot;);\r\n            serverInstance = instance;\r\n            latch.countDown();\r\n        });\r\n    }\r\n```\r\n\r\n(Based on https://github.com/jakartaee/rest/blob/master/examples/src/main/java/jaxrs/examples/bootstrap/BasicJavaSeBootstrapExample.java)\r\n\r\nThe important ingredient is in `getSslContext()`:\r\n\r\n```java\r\n    private static SSLContext getSslContext() {\r\n        SSLContextConfigurator sslContextConfig = new SSLContextConfigurator();\r\n        String keystorePath = Path.of(&quot;c:\\\\temp\\\\server.p12&quot;).toString();\r\n        sslContextConfig.setKeyStoreFile(keystorePath);\r\n        sslContextConfig.setKeyStorePass(&quot;changeit&quot;);\r\n        return sslContextConfig.createSSLContext();\r\n    }\r\n```\r\n\r\nThe last important ingredient is the SSL certificate. Use [mkcert](https://github.com/FiloSottile/mkcert#mkcert) to create one:\r\n\r\n1. As admin `choco install mkcert`\r\n2. As admin: `mkcert -install`\r\n3. `cd c:\\temp`\r\n4. `mkcert -pkcs12 myapp localhost 127.0.0.1 ::1`\r\n5. Rename the file to `server.p12`\r\n\r\n(Based on https://stackoverflow.com/a/57511038/873282)\r\n\r\nThe important thing is that `mkcert` automatically generates alternative names, which is required to have Google Chrome accepting an SSL certificate (especially for `localhost`). See &lt;https://stackoverflow.com/a/42917227/873282&gt; for details.\r\n\r\nThe official SSL minimal example is available at &lt;https://github.com/jakartaee/rest/blob/master/examples/src/main/java/jaxrs/examples/bootstrap/TlsJavaSeBootstrapExample.java&gt;.","title":"SSL with Grizzly and Jersey","body":"<p>With the new SeBootstrap functionality, you can start a server with</p>\n<pre class=\"lang-java prettyprint-override\"><code>    static void startServer(CountDownLatch latch) {\n        SSLContext sslContext = getSslContext();\n        SeBootstrap.Configuration configuration = SeBootstrap.Configuration\n                .builder()\n                .sslContext(sslContext)\n                .protocol(&quot;HTTPS&quot;)\n                .port(6051)\n                .build();\n        SeBootstrap.start(Application.class, configuration).thenAccept(instance -&gt; {\n            instance.stopOnShutdown(stopResult -&gt;\n                    System.out.printf(&quot;Stop result: %s [Native stop result: %s].%n&quot;, stopResult,\n                            stopResult.unwrap(Object.class)));\n            final URI uri = instance.configuration().baseUri();\n            System.out.printf(&quot;Instance %s running at %s [Native handle: %s].%n&quot;, instance, uri,\n                    instance.unwrap(Object.class));\n            System.out.println(&quot;Send SIGKILL to shutdown.&quot;);\n            serverInstance = instance;\n            latch.countDown();\n        });\n    }\n</code></pre>\n<p>(Based on <a href=\"https://github.com/jakartaee/rest/blob/master/examples/src/main/java/jaxrs/examples/bootstrap/BasicJavaSeBootstrapExample.java\" rel=\"nofollow noreferrer\">https://github.com/jakartaee/rest/blob/master/examples/src/main/java/jaxrs/examples/bootstrap/BasicJavaSeBootstrapExample.java</a>)</p>\n<p>The important ingredient is in <code>getSslContext()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static SSLContext getSslContext() {\n        SSLContextConfigurator sslContextConfig = new SSLContextConfigurator();\n        String keystorePath = Path.of(&quot;c:\\\\temp\\\\server.p12&quot;).toString();\n        sslContextConfig.setKeyStoreFile(keystorePath);\n        sslContextConfig.setKeyStorePass(&quot;changeit&quot;);\n        return sslContextConfig.createSSLContext();\n    }\n</code></pre>\n<p>The last important ingredient is the SSL certificate. Use <a href=\"https://github.com/FiloSottile/mkcert#mkcert\" rel=\"nofollow noreferrer\">mkcert</a> to create one:</p>\n<ol>\n<li>As admin <code>choco install mkcert</code></li>\n<li>As admin: <code>mkcert -install</code></li>\n<li><code>cd c:\\temp</code></li>\n<li><code>mkcert -pkcs12 myapp localhost 127.0.0.1 ::1</code></li>\n<li>Rename the file to <code>server.p12</code></li>\n</ol>\n<p>(Based on <a href=\"https://stackoverflow.com/a/57511038/873282\">https://stackoverflow.com/a/57511038/873282</a>)</p>\n<p>The important thing is that <code>mkcert</code> automatically generates alternative names, which is required to have Google Chrome accepting an SSL certificate (especially for <code>localhost</code>). See <a href=\"https://stackoverflow.com/a/42917227/873282\">https://stackoverflow.com/a/42917227/873282</a> for details.</p>\n<p>The official SSL minimal example is available at <a href=\"https://github.com/jakartaee/rest/blob/master/examples/src/main/java/jaxrs/examples/bootstrap/TlsJavaSeBootstrapExample.java\" rel=\"nofollow noreferrer\">https://github.com/jakartaee/rest/blob/master/examples/src/main/java/jaxrs/examples/bootstrap/TlsJavaSeBootstrapExample.java</a>.</p>\n"}],"owner":{"account_id":1480362,"reputation":275,"user_id":1389906,"accept_rate":60,"display_name":"user1389906"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12453,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":21100804,"answer_count":5,"score":11,"last_activity_date":1681127222,"creation_date":1389635770,"question_id":21098105,"body_markdown":"I&#39;m trying to get grizzly to use SSL encryption and still work fine with Jersey. I&#39;ve looked all over the Internet, and I find all kinds of different attempts at SSL with Grizzly and Jersey. Seems like there are different ways of doing it depending on which version you are using, and how you decided to implement it. I haven&#39;t been able to get any examples to work with my code yet.\r\n\r\nHere&#39;s how I start up my server:\r\n\r\n\r\n    static HttpServer startSecureServer() throws IOException{\r\n    \t\tResourceConfig rc=new PackagesResourceConfig(&quot;server.grizzlyresources&quot;);\r\n    \t\tSSLContextConfigurator sslCon=new SSLContextConfigurator();\r\n    \r\n    \t\tsslCon.setKeyStoreFile(ConfigLoader.getKeystoreLocation()); // contains server keypair\r\n    \t\tsslCon.setKeyStorePass(ConfigLoader.getKeystorePassword());\r\n\r\n    \t\tSystem.out.println(&quot;Starting server on port &quot;+ConfigLoader.getHttpsServerPort());\r\n    \t\tHttpServer secure=GrizzlyServerFactory.createHttpServer(BASE_URI_SECURED, rc);\r\n    \t\tsecure.stop();\r\n\r\n    \t\tHashSet&lt;NetworkListener&gt; lists=new HashSet&lt;NetworkListener&gt;(secure.getListeners());\r\n    \t\tfor (NetworkListener listener : lists){\r\n    \t\t\tlistener.setSecure(true);\r\n    \t\t\tSSLEngineConfigurator ssle=new SSLEngineConfigurator(sslCon);\r\n    \t\t\tlistener.setSSLEngineConfig(ssle);\r\n    \t\t\tsecure.addListener(listener);\r\n    \t\t\tSystem.out.println(listener);\r\n    \t\t}\r\n\r\n    \t\tsecure.start();\r\n    \t\treturn secure;\r\n    }\r\n\r\n\tprivate static URI getBaseURISecured(){\r\n\t\treturn UriBuilder.fromUri(&quot;https://0.0.0.0/&quot;).port(ConfigLoader.getHttpsServerPort()).build();\r\n\t}\r\n\t\r\n\tprivate static final URI BASE_URI_SECURED = getBaseURISecured();\r\n\r\n\r\nConfigLoader loads in information from a config file. When I run this code, it starts up the server, it finds the resources in the server.grizzlyresources package, and it works great! Except for one thing. The server isn&#39;t secured. I can telnet into it and send an HTTP request in plain text for one of my resources, and it will return it. So the code works for starting up the server, but the whole SSL part of it is just being bypassed. Any ideas how to fix this or why it might be doing this?\r\n\r\nHere&#39;s the output to the console when I run it:\r\n\r\n    Starting server on port 9999\r\n    Jan 13, 2014 9:51:08 AM com.sun.jersey.api.core.PackagesResourceConfig init\r\n    INFO: Scanning for root resource and provider classes in the packages:\r\n      server.grizzlyresources\r\n    Jan 13, 2014 9:51:08 AM com.sun.jersey.api.core.ScanningResourceConfig logClasses\r\n    INFO: Root resource classes found:\r\n      class server.grizzlyresources.SessionResource\r\n      class server.grizzlyresources.LoginResource\r\n    Jan 13, 2014 9:51:08 AM com.sun.jersey.api.core.ScanningResourceConfig init\r\n    INFO: No provider classes found.\r\n    Jan 13, 2014 9:51:08 AM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate\r\n    INFO: Initiating Jersey application, version &#39;Jersey: 1.12 02/15/2012 04:51 PM&#39;\r\n    Jan 13, 2014 9:51:09 AM org.glassfish.grizzly.http.server.NetworkListener start\r\n    INFO: Started listener bound to [0.0.0.0:9999]\r\n    Jan 13, 2014 9:51:09 AM org.glassfish.grizzly.http.server.HttpServer start\r\n    INFO: [HttpServer] Started.\r\n    Jan 13, 2014 9:51:09 AM org.glassfish.grizzly.http.server.NetworkListener stop\r\n    INFO: Stopped listener bound to [0.0.0.0:9999]\r\n    NetworkListener{name=&#39;grizzly&#39;, host=&#39;0.0.0.0&#39;, port=9999, secure=true}\r\n    Jan 13, 2014 9:51:09 AM org.glassfish.grizzly.http.server.NetworkListener start\r\n    INFO: Started listener bound to [0.0.0.0:9999]\r\n    Jan 13, 2014 9:51:09 AM org.glassfish.grizzly.http.server.HttpServer start\r\n    INFO: [HttpServer] Started.\r\n\r\nI&#39;m using Grizzly 2.2.1, and Jersey 1.12.\r\n\r\nThanks a bunch!","title":"SSL with Grizzly and Jersey","body":"<p>I'm trying to get grizzly to use SSL encryption and still work fine with Jersey. I've looked all over the Internet, and I find all kinds of different attempts at SSL with Grizzly and Jersey. Seems like there are different ways of doing it depending on which version you are using, and how you decided to implement it. I haven't been able to get any examples to work with my code yet.</p>\n\n<p>Here's how I start up my server:</p>\n\n<pre><code>static HttpServer startSecureServer() throws IOException{\n        ResourceConfig rc=new PackagesResourceConfig(\"server.grizzlyresources\");\n        SSLContextConfigurator sslCon=new SSLContextConfigurator();\n\n        sslCon.setKeyStoreFile(ConfigLoader.getKeystoreLocation()); // contains server keypair\n        sslCon.setKeyStorePass(ConfigLoader.getKeystorePassword());\n\n        System.out.println(\"Starting server on port \"+ConfigLoader.getHttpsServerPort());\n        HttpServer secure=GrizzlyServerFactory.createHttpServer(BASE_URI_SECURED, rc);\n        secure.stop();\n\n        HashSet&lt;NetworkListener&gt; lists=new HashSet&lt;NetworkListener&gt;(secure.getListeners());\n        for (NetworkListener listener : lists){\n            listener.setSecure(true);\n            SSLEngineConfigurator ssle=new SSLEngineConfigurator(sslCon);\n            listener.setSSLEngineConfig(ssle);\n            secure.addListener(listener);\n            System.out.println(listener);\n        }\n\n        secure.start();\n        return secure;\n}\n\nprivate static URI getBaseURISecured(){\n    return UriBuilder.fromUri(\"https://0.0.0.0/\").port(ConfigLoader.getHttpsServerPort()).build();\n}\n\nprivate static final URI BASE_URI_SECURED = getBaseURISecured();\n</code></pre>\n\n<p>ConfigLoader loads in information from a config file. When I run this code, it starts up the server, it finds the resources in the server.grizzlyresources package, and it works great! Except for one thing. The server isn't secured. I can telnet into it and send an HTTP request in plain text for one of my resources, and it will return it. So the code works for starting up the server, but the whole SSL part of it is just being bypassed. Any ideas how to fix this or why it might be doing this?</p>\n\n<p>Here's the output to the console when I run it:</p>\n\n<pre><code>Starting server on port 9999\nJan 13, 2014 9:51:08 AM com.sun.jersey.api.core.PackagesResourceConfig init\nINFO: Scanning for root resource and provider classes in the packages:\n  server.grizzlyresources\nJan 13, 2014 9:51:08 AM com.sun.jersey.api.core.ScanningResourceConfig logClasses\nINFO: Root resource classes found:\n  class server.grizzlyresources.SessionResource\n  class server.grizzlyresources.LoginResource\nJan 13, 2014 9:51:08 AM com.sun.jersey.api.core.ScanningResourceConfig init\nINFO: No provider classes found.\nJan 13, 2014 9:51:08 AM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate\nINFO: Initiating Jersey application, version 'Jersey: 1.12 02/15/2012 04:51 PM'\nJan 13, 2014 9:51:09 AM org.glassfish.grizzly.http.server.NetworkListener start\nINFO: Started listener bound to [0.0.0.0:9999]\nJan 13, 2014 9:51:09 AM org.glassfish.grizzly.http.server.HttpServer start\nINFO: [HttpServer] Started.\nJan 13, 2014 9:51:09 AM org.glassfish.grizzly.http.server.NetworkListener stop\nINFO: Stopped listener bound to [0.0.0.0:9999]\nNetworkListener{name='grizzly', host='0.0.0.0', port=9999, secure=true}\nJan 13, 2014 9:51:09 AM org.glassfish.grizzly.http.server.NetworkListener start\nINFO: Started listener bound to [0.0.0.0:9999]\nJan 13, 2014 9:51:09 AM org.glassfish.grizzly.http.server.HttpServer start\nINFO: [HttpServer] Started.\n</code></pre>\n\n<p>I'm using Grizzly 2.2.1, and Jersey 1.12.</p>\n\n<p>Thanks a bunch!</p>\n"},{"tags":["java","android","android-studio","delphi","r.java-file"],"answers":[{"tags":[],"owner":{"account_id":26318201,"reputation":5076,"user_id":19980636,"display_name":"Krokomot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681127212,"creation_date":1681070977,"answer_id":75972640,"question_id":73892624,"body_markdown":"You can (and should) use at least one of these:\r\n\r\n - The code shrinker [**r8**][1], which has been [introduced][2] to replace ProGuard (together with d8 which replaced dx). For a start take a look at the corresponding Android Dev Docs on how to [shrink, obfuscate, and optimize your app][3] and this [guide][4]. Especially the doc&#39;s section on [resource shrinking][5] may be of interest.\r\n\r\n - The code inspector [**lint**][6] will help you to find various problems with the code, inter alia unused resources which also unnecessarily bloat your `R.java` file.\r\n\r\n------------\r\n\r\nFor an elaboration on purpose and structure of resource IDs in `R.java` you might take a look at [this Stackoverflow thread][7].\r\n\r\nNote, that it&#39;s highly unrecommended to manipulate `R.java` manually. As it is written in *B.Burd &amp; J.P.Mueller, [Android Application Development All-in-One For Dummies][8], 3rd Ed., 2020, Wiley, pp.87* (a serious book, despite the name) in respect to `R.java` and Android Studio:\r\n\r\n&gt; Each Android project has an `R.java` file. Android Studio generates this file and protects it as if the file were made of gold. You, the developer, never create or modify the `R.java` file’s text.\r\n\r\nas well as\r\n\r\n&gt; Android’s documentation tells you to put `R.java` and its hex values out of your mind, and that’s probably good advice.\r\n\r\nand finally \r\n\r\n&gt; You cannot edit `R.java`. Long after the creation of a project, your IDE continues to monitor (and, if necessary, update) the contents of the `R.java` file. If you delete `R.java`, Android Studio recreates the file. If you edit `R.java`, Android Studio undoes your edit.\r\n\r\nThough I don&#39;t agree on such kind of paternalism, one really shouldn&#39;t manually edit `R.java` (even if one could when not using Android Studio, like in your case). As I&#39;ve put it once [somewhere][9]:\r\n\r\n&gt; Though human-readable, this file should never be edited manually as it is highly probable to crash the app because of erroneous references. There is no good reason imaginable why one should want to edit `R.java` anyway.\r\n\r\nThe last sentence would also be valid in your case.\r\n\r\n\r\n  [1]: https://r8.googlesource.com/r8\r\n  [2]: https://android-developers.googleblog.com/2018/11/r8-new-code-shrinker-from-google-is.html?m=1\r\n  [3]: https://developer.android.com/build/shrink-code\r\n  [4]: https://blog.logrocket.com/r8-code-shrinking-android-guide\r\n  [5]: https://developer.android.com/build/shrink-code#shrink-resources\r\n  [6]: https://developer.android.com/studio/write/lint\r\n  [7]: https://stackoverflow.com/questions/74382059/why-aapt2-does-not-generate-the-same-id-than-aapt-and-what-the-purpose-of-ids-l/75975892#75975892\r\n  [8]: https://www.oreilly.com/library/view/android-application-development/9781119660453/\r\n  [9]: https://timeout.userpage.fu-berlin.de/apkbuilder/#resources","title":"How to manually generate R.java","body":"<p>You can (and should) use at least one of these:</p>\n<ul>\n<li><p>The code shrinker <a href=\"https://r8.googlesource.com/r8\" rel=\"nofollow noreferrer\"><strong>r8</strong></a>, which has been <a href=\"https://android-developers.googleblog.com/2018/11/r8-new-code-shrinker-from-google-is.html?m=1\" rel=\"nofollow noreferrer\">introduced</a> to replace ProGuard (together with d8 which replaced dx). For a start take a look at the corresponding Android Dev Docs on how to <a href=\"https://developer.android.com/build/shrink-code\" rel=\"nofollow noreferrer\">shrink, obfuscate, and optimize your app</a> and this <a href=\"https://blog.logrocket.com/r8-code-shrinking-android-guide\" rel=\"nofollow noreferrer\">guide</a>. Especially the doc's section on <a href=\"https://developer.android.com/build/shrink-code#shrink-resources\" rel=\"nofollow noreferrer\">resource shrinking</a> may be of interest.</p>\n</li>\n<li><p>The code inspector <a href=\"https://developer.android.com/studio/write/lint\" rel=\"nofollow noreferrer\"><strong>lint</strong></a> will help you to find various problems with the code, inter alia unused resources which also unnecessarily bloat your <code>R.java</code> file.</p>\n</li>\n</ul>\n<hr />\n<p>For an elaboration on purpose and structure of resource IDs in <code>R.java</code> you might take a look at <a href=\"https://stackoverflow.com/questions/74382059/why-aapt2-does-not-generate-the-same-id-than-aapt-and-what-the-purpose-of-ids-l/75975892#75975892\">this Stackoverflow thread</a>.</p>\n<p>Note, that it's highly unrecommended to manipulate <code>R.java</code> manually. As it is written in <em>B.Burd &amp; J.P.Mueller, <a href=\"https://www.oreilly.com/library/view/android-application-development/9781119660453/\" rel=\"nofollow noreferrer\">Android Application Development All-in-One For Dummies</a>, 3rd Ed., 2020, Wiley, pp.87</em> (a serious book, despite the name) in respect to <code>R.java</code> and Android Studio:</p>\n<blockquote>\n<p>Each Android project has an <code>R.java</code> file. Android Studio generates this file and protects it as if the file were made of gold. You, the developer, never create or modify the <code>R.java</code> file’s text.</p>\n</blockquote>\n<p>as well as</p>\n<blockquote>\n<p>Android’s documentation tells you to put <code>R.java</code> and its hex values out of your mind, and that’s probably good advice.</p>\n</blockquote>\n<p>and finally</p>\n<blockquote>\n<p>You cannot edit <code>R.java</code>. Long after the creation of a project, your IDE continues to monitor (and, if necessary, update) the contents of the <code>R.java</code> file. If you delete <code>R.java</code>, Android Studio recreates the file. If you edit <code>R.java</code>, Android Studio undoes your edit.</p>\n</blockquote>\n<p>Though I don't agree on such kind of paternalism, one really shouldn't manually edit <code>R.java</code> (even if one could when not using Android Studio, like in your case). As I've put it once <a href=\"https://timeout.userpage.fu-berlin.de/apkbuilder/#resources\" rel=\"nofollow noreferrer\">somewhere</a>:</p>\n<blockquote>\n<p>Though human-readable, this file should never be edited manually as it is highly probable to crash the app because of erroneous references. There is no good reason imaginable why one should want to edit <code>R.java</code> anyway.</p>\n</blockquote>\n<p>The last sentence would also be valid in your case.</p>\n"}],"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75972640,"answer_count":1,"score":2,"last_activity_date":1681127212,"creation_date":1664440672,"question_id":73892624,"body_markdown":"My project (made in Delphi) need to manually generate for each package it&#39;s include the R.java file manually. Actually I put all resources of each library in a single .res directory and I run aapt.exe on this directory for each package like this for android.support.compat:\r\n\r\n\r\n    &quot;aapt.exe&quot; package -v -f -m \r\n      -M &quot;\\libraries\\android.support.compat\\AndroidManifest.xml&quot;\r\n      -I &quot;C:\\SDKs\\android\\platforms\\android-32\\android.jar&quot; \r\n      -S &quot;.\\res&quot;\r\n      -J &quot;.\\tmp\\src&quot; \r\n      --auto-add-overlay \r\n      --output-text-symbols .\\tmp\\\r\n\r\nand this for each package ex for android.support.coreui\r\n\r\n    &quot;aapt.exe&quot; package -v -f -m \r\n      -M &quot;\\libraries\\android.support.coreui\\AndroidManifest.xml&quot;\r\n      -I &quot;C:\\SDKs\\android\\platforms\\android-32\\android.jar&quot; \r\n      -S &quot;.\\res&quot;\r\n      -J &quot;.\\tmp\\src&quot; \r\n      --auto-add-overlay \r\n      --output-text-symbols .\\tmp\\\r\n\r\nThe problem is that at the end I have for each package **the same R.java that is quite big** because it&#39;s include all resources ids of the whole App. ex :\r\n\r\n    package androidx.core;\r\n    \r\n    public final class R {\r\n       public static final class styleable {\r\n          public static final int[] ActionBar = new int[]{2130771969, 2130771971, 2130771972, 2130771973, 2130771974, 2130771975, 2130771976, 2130771977, 2130771978, 2130771979, 2130771980, 2130771981, 2130771982, 2130771983, 2130771984, 2130771985, 2130771986, 2130771987, 2130771988, 2130771989, 2130771990, 2130771991, 2130771992, 2130771993, 2130771994, 2130771995, 2130771996, 2130771997, 2130772082};\r\n          public static final int ActionBar_background = 10;\r\n          public static final int ActionBar_backgroundSplit = 12;\r\n    ....\r\n\r\nand\r\n\r\n    package android.support.coreui;\r\n    \r\n    public final class R {\r\n       public static final class styleable {\r\n          public static final int[] ActionBar = new int[]{2130771969, 2130771971, 2130771972, 2130771973, 2130771974, 2130771975, 2130771976, 2130771977, 2130771978, 2130771979, 2130771980, 2130771981, 2130771982, 2130771983, 2130771984, 2130771985, 2130771986, 2130771987, 2130771988, 2130771989, 2130771990, 2130771991, 2130771992, 2130771993, 2130771994, 2130771995, 2130771996, 2130771997, 2130772082};\r\n          public static final int ActionBar_background = 10;\r\n          public static final int ActionBar_backgroundSplit = 12;\r\n    \r\nIs there a way to generate for each package a R.java with only the resource ids need by the package?","title":"How to manually generate R.java","body":"<p>My project (made in Delphi) need to manually generate for each package it's include the R.java file manually. Actually I put all resources of each library in a single .res directory and I run aapt.exe on this directory for each package like this for android.support.compat:</p>\n<pre><code>&quot;aapt.exe&quot; package -v -f -m \n  -M &quot;\\libraries\\android.support.compat\\AndroidManifest.xml&quot;\n  -I &quot;C:\\SDKs\\android\\platforms\\android-32\\android.jar&quot; \n  -S &quot;.\\res&quot;\n  -J &quot;.\\tmp\\src&quot; \n  --auto-add-overlay \n  --output-text-symbols .\\tmp\\\n</code></pre>\n<p>and this for each package ex for android.support.coreui</p>\n<pre><code>&quot;aapt.exe&quot; package -v -f -m \n  -M &quot;\\libraries\\android.support.coreui\\AndroidManifest.xml&quot;\n  -I &quot;C:\\SDKs\\android\\platforms\\android-32\\android.jar&quot; \n  -S &quot;.\\res&quot;\n  -J &quot;.\\tmp\\src&quot; \n  --auto-add-overlay \n  --output-text-symbols .\\tmp\\\n</code></pre>\n<p>The problem is that at the end I have for each package <strong>the same R.java that is quite big</strong> because it's include all resources ids of the whole App. ex :</p>\n<pre><code>package androidx.core;\n\npublic final class R {\n   public static final class styleable {\n      public static final int[] ActionBar = new int[]{2130771969, 2130771971, 2130771972, 2130771973, 2130771974, 2130771975, 2130771976, 2130771977, 2130771978, 2130771979, 2130771980, 2130771981, 2130771982, 2130771983, 2130771984, 2130771985, 2130771986, 2130771987, 2130771988, 2130771989, 2130771990, 2130771991, 2130771992, 2130771993, 2130771994, 2130771995, 2130771996, 2130771997, 2130772082};\n      public static final int ActionBar_background = 10;\n      public static final int ActionBar_backgroundSplit = 12;\n....\n</code></pre>\n<p>and</p>\n<pre><code>package android.support.coreui;\n\npublic final class R {\n   public static final class styleable {\n      public static final int[] ActionBar = new int[]{2130771969, 2130771971, 2130771972, 2130771973, 2130771974, 2130771975, 2130771976, 2130771977, 2130771978, 2130771979, 2130771980, 2130771981, 2130771982, 2130771983, 2130771984, 2130771985, 2130771986, 2130771987, 2130771988, 2130771989, 2130771990, 2130771991, 2130771992, 2130771993, 2130771994, 2130771995, 2130771996, 2130771997, 2130772082};\n      public static final int ActionBar_background = 10;\n      public static final int ActionBar_backgroundSplit = 12;\n</code></pre>\n<p>Is there a way to generate for each package a R.java with only the resource ids need by the package?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":3,"creation_date":1681127349,"post_id":75976785,"comment_id":134002342,"body_markdown":"Do not use static fields for your calculations, these are messing up your calculations, specially when you call `PressButton()` multiple times. Use return values and/or local variables instead.","body":"Do not use static fields for your calculations, these are messing up your calculations, specially when you call <code>PressButton()</code> multiple times. Use return values and/or local variables instead."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1681129649,"post_id":75976785,"comment_id":134002747,"body_markdown":"Basically, you want the number of [permutations](https://en.wikipedia.org/wiki/Permutation) of _n_ things. (In your question, each &quot;thing&quot; is a number.) For 3 things, the number of permutations is 6. Why do you say that it should be 7? And why is it 14 for 4 things?","body":"Basically, you want the number of <a href=\"https://en.wikipedia.org/wiki/Permutation\" rel=\"nofollow noreferrer\">permutations</a> of <i>n</i> things. (In your question, each &quot;thing&quot; is a number.) For 3 things, the number of permutations is 6. Why do you say that it should be 7? And why is it 14 for 4 things?"}],"owner":{"account_id":28264839,"reputation":1,"user_id":21608963,"display_name":"David"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681129258,"answer_count":0,"score":0,"last_activity_date":1681126964,"creation_date":1681126964,"question_id":75976785,"body_markdown":"Task:\r\n\r\nA lock has n buttons in it, numbered from 1 to n. To open the lock, you have to press all buttons in some order, i.e. a key to the lock is a permutation of the first n integers. If you push the right button in the right order, it will be pressed into the lock. Otherwise all pressed buttons will pop out. When all buttons are pressed into the lock, it opens.\r\n\r\nYour task is to calculate the number of times you&#39;ve got to push buttons in order to open the lock in the worst-case scenario.\r\n\r\nMy decision:\r\n\r\n```\r\npublic class Main {\r\n    public static long pressCounter = 0;\r\n    public static long step = 2;\r\n\r\n    public static long PressButton(long n)\r\n    {\r\n        if (n == 0) return 0;\r\n        if (n == 1) return 1;\r\n        if (n == 2) return 2;\r\n\r\n        long temp = (n - step) * step + 1;\r\n        pressCounter += temp;\r\n        \r\n        if ((n - step) != 0) {\r\n            step++;\r\n            PressButton(n);\r\n        }\r\n        \r\n        long result = n + pressCounter;\r\n        return result;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(PressButton(3));\r\n        System.out.println(PressButton(4));\r\n    }\r\n}\r\n```\r\n\r\n\r\nTwo or more runs of this method give an unexpected solution. I think it&#39;s the pressCounter and step variables. How can I fix it?\r\n\r\n```\r\nSystem.out.println(PressButton(3)); \r\n```\r\nexpecting - 7  \r\n```\r\nSystem.out.println(PressButton(4)); \r\n```\r\nexpecting - 14","title":"Problem with initialization outside the method","body":"<p>Task:</p>\n<p>A lock has n buttons in it, numbered from 1 to n. To open the lock, you have to press all buttons in some order, i.e. a key to the lock is a permutation of the first n integers. If you push the right button in the right order, it will be pressed into the lock. Otherwise all pressed buttons will pop out. When all buttons are pressed into the lock, it opens.</p>\n<p>Your task is to calculate the number of times you've got to push buttons in order to open the lock in the worst-case scenario.</p>\n<p>My decision:</p>\n<pre><code>public class Main {\n    public static long pressCounter = 0;\n    public static long step = 2;\n\n    public static long PressButton(long n)\n    {\n        if (n == 0) return 0;\n        if (n == 1) return 1;\n        if (n == 2) return 2;\n\n        long temp = (n - step) * step + 1;\n        pressCounter += temp;\n        \n        if ((n - step) != 0) {\n            step++;\n            PressButton(n);\n        }\n        \n        long result = n + pressCounter;\n        return result;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(PressButton(3));\n        System.out.println(PressButton(4));\n    }\n}\n</code></pre>\n<p>Two or more runs of this method give an unexpected solution. I think it's the pressCounter and step variables. How can I fix it?</p>\n<pre><code>System.out.println(PressButton(3)); \n</code></pre>\n<p>expecting - 7</p>\n<pre><code>System.out.println(PressButton(4)); \n</code></pre>\n<p>expecting - 14</p>\n"},{"tags":["java","android","frameworks","executorservice","android-lifecycle"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563548775,"creation_date":1563548775,"answer_id":57115197,"question_id":57115092,"body_markdown":"If a thread is still running, it continues to run even after onDestroy is called.  A thread cannot safely be cancelled by outside the thread itself, so nothing in the system will try. (Why not-  because its possible this will cause deadlock.  The system doesn&#39;t know what conditions a thread may be waiting for or locks it may be holding, or resources it may have claimed that will block other threads).\r\n\r\nIf all threads are finished, then shutting down the executorservice will kill all the threads.\r\n\r\nAs an aside-  your comments in the first paragraph shows you may not fully be aware of all the ins and outs of various asynchronous technologies available.  The reason you&#39;d use thread pools and async tasks are very different, and a Service has nothing to do with threading on Android.","title":"Will a thread pool automatically be shut down when changing Activities (should it even be used)?","body":"<p>If a thread is still running, it continues to run even after onDestroy is called.  A thread cannot safely be cancelled by outside the thread itself, so nothing in the system will try. (Why not-  because its possible this will cause deadlock.  The system doesn't know what conditions a thread may be waiting for or locks it may be holding, or resources it may have claimed that will block other threads).</p>\n\n<p>If all threads are finished, then shutting down the executorservice will kill all the threads.</p>\n\n<p>As an aside-  your comments in the first paragraph shows you may not fully be aware of all the ins and outs of various asynchronous technologies available.  The reason you'd use thread pools and async tasks are very different, and a Service has nothing to do with threading on Android.</p>\n"},{"comments":[{"owner":{"account_id":7219356,"reputation":1156,"user_id":9057867,"accept_rate":75,"display_name":"Jo Momma"},"score":0,"creation_date":1563555706,"post_id":57116542,"comment_id":100752243,"body_markdown":"but, my real question/curiosity is, can you still access it from another activity if it&#39;s public? Or, does it&#39;s variable need to be labeled static","body":"but, my real question/curiosity is, can you still access it from another activity if it&#39;s public? Or, does it&#39;s variable need to be labeled static"}],"tags":[],"owner":{"account_id":3319559,"reputation":2575,"user_id":2791067,"display_name":"Roman"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681126902,"creation_date":1563554392,"answer_id":57116542,"question_id":57115092,"body_markdown":"Thread pool is independent from activity, fragment lifecycle. So, yes it will run even after destroying activity.","title":"Will a thread pool automatically be shut down when changing Activities (should it even be used)?","body":"<p>Thread pool is independent from activity, fragment lifecycle. So, yes it will run even after destroying activity.</p>\n"}],"owner":{"account_id":7219356,"reputation":1156,"user_id":9057867,"accept_rate":75,"display_name":"Jo Momma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":377,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1681126902,"creation_date":1563548376,"question_id":57115092,"body_markdown":"I understand that it may not be the best option to use an `ExecuterService` (thread pools) in an `Android` application. I know how to use `AsyncTaskLoader` and `AsyncTask` as well as `services`. My question is more about better understanding the framework. \r\n\r\nIf I create a thread pool using the Executer framework in my Android application, and I don&#39;t declare the pool as static, will the threads still be available to the rest of the application when I leave the `Activity` it is created in? Will I have created &quot;zombie threads&quot; that aren&#39;t accessible but continue to use memory resources (memory leak). \r\n\r\nI know that you need to shut down the service and this can be done in `onDestroy()`. I&#39;m just curious if the pool is still reachable if it is created, not shutdown and also declared public. Thank you for you explanations in advance.","title":"Will a thread pool automatically be shut down when changing Activities (should it even be used)?","body":"<p>I understand that it may not be the best option to use an <code>ExecuterService</code> (thread pools) in an <code>Android</code> application. I know how to use <code>AsyncTaskLoader</code> and <code>AsyncTask</code> as well as <code>services</code>. My question is more about better understanding the framework. </p>\n\n<p>If I create a thread pool using the Executer framework in my Android application, and I don't declare the pool as static, will the threads still be available to the rest of the application when I leave the <code>Activity</code> it is created in? Will I have created \"zombie threads\" that aren't accessible but continue to use memory resources (memory leak). </p>\n\n<p>I know that you need to shut down the service and this can be done in <code>onDestroy()</code>. I'm just curious if the pool is still reachable if it is created, not shutdown and also declared public. Thank you for you explanations in advance.</p>\n"},{"tags":["java","android"],"owner":{"account_id":27553818,"reputation":150,"user_id":21028409,"display_name":"Khuong Viet Tai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681126757,"creation_date":1681122972,"question_id":75976336,"body_markdown":"hi everyone i am looking to use SharePreference to save values of calculations. i want each time pressing &quot;=&quot; will save the value of the calculation in the form tvMath = tvResult which I don&#39;t know how to do now.\r\n\r\nAfter saving I want to show it on Another screen\r\n\r\nthis is my code\r\n\r\nMain Activity \r\n\r\n```\r\npackage com.khuongviettai.caculatorsharedpreferences;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.os.Environment;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport org.mozilla.javascript.Context;\r\nimport org.mozilla.javascript.Scriptable;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity implements View.OnClickListener {\r\n\r\n    private TextView tvMath, tvResult;\r\n    private Button btnC, btnOpen, btnClose, btnDiv, btn7, btn8, btn9, btnMul, btn4, btn5, btn6, btnSub, btn1, btn2, btn3, btnPlus, btn0, btnDot, btnResult, btnBack;\r\n\r\n\r\n\r\n    private String currentMath = &quot;&quot;;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        tvMath = findViewById(R.id.tvMath);\r\n        tvResult = findViewById(R.id.tvResult);\r\n        assignID(btnC, R.id.btnC);\r\n        assignID(btnOpen, R.id.btnOpen);\r\n        assignID(btnClose, R.id.btnClose);\r\n        assignID(btnDiv, R.id.btnDiv);\r\n        assignID(btn0, R.id.btn0);\r\n        assignID(btn1, R.id.btn1);\r\n        assignID(btn2, R.id.btn2);\r\n        assignID(btn3, R.id.btn3);\r\n        assignID(btn4, R.id.btn4);\r\n        assignID(btn5, R.id.btn5);\r\n        assignID(btn6, R.id.btn6);\r\n        assignID(btn7, R.id.btn7);\r\n        assignID(btn8, R.id.btn8);\r\n        assignID(btn9, R.id.btn9);\r\n        assignID(btnMul, R.id.btnMul);\r\n        assignID(btnSub, R.id.btnSub);\r\n        assignID(btnPlus, R.id.btnPlus);\r\n        assignID(btnDot, R.id.btnDot);\r\n        assignID(btnResult, R.id.btnResult);\r\n        assignID(btnBack, R.id.btnBack);\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    void assignID(Button btn, int id) {\r\n        btn = findViewById(id);\r\n        btn.setOnClickListener(this);\r\n    }\r\n\r\n\r\n\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        Button button = (Button) view;\r\n        String buttonText = button.getText().toString();\r\n        if (buttonText.equals(&quot;=&quot;)) {\r\n            if (currentMath.equals(&quot;&quot;)) {\r\n                tvResult.setText(&quot;0&quot;);\r\n                return;\r\n            }\r\n            String finalResult = getResult(currentMath);\r\n            if (!finalResult.equals(&quot;Err&quot;)) {\r\n\r\n\r\n                tvResult.setText(finalResult);\r\n                Toast.makeText(this, &quot;Saved&quot;, Toast.LENGTH_SHORT).show();\r\n            } else {\r\n                tvResult.setText(&quot;Err&quot;);\r\n            }\r\n            return;\r\n\r\n        } else if (buttonText.equals(&quot;C&quot;)) {\r\n            tvMath.setText(&quot;&quot;);\r\n            tvResult.setText(&quot;0&quot;);\r\n            currentMath = &quot;&quot;;\r\n            return;\r\n\r\n        } else if (buttonText.equals(&quot;BACK&quot;)) {\r\n            Intent intent = new Intent(MainActivity.this, HistoryActivity.class);\r\n\r\n            startActivity(intent);\r\n            return;\r\n\r\n        }\r\n\r\n        currentMath += buttonText;\r\n        tvMath.setText(currentMath);\r\n    }\r\n\r\n\r\n\r\n\r\n    String getResult(String data) {\r\n        try {\r\n            Context context = Context.enter();\r\n            context.setOptimizationLevel(-1);\r\n            Scriptable scriptable = context.initStandardObjects();\r\n            String finalResult = context.evaluateString(scriptable, data, &quot;Javascript&quot;, 1, null).toString();\r\n            if (finalResult.endsWith(&quot;.0&quot;)) {\r\n                finalResult = finalResult.replace(&quot;.0&quot;, &quot;&quot;);\r\n            }\r\n            if (data.equals(&quot;16052001&quot;)) {\r\n                finalResult = &quot;I love Tai&quot;;\r\n            }\r\n            return finalResult;\r\n        } catch (Exception e\r\n        ) {\r\n            return &quot;Err&quot;;\r\n        }\r\n    }\r\n\r\n\r\n```\r\n\r\nHistoryActivity\r\n\r\n```\r\npackage com.khuongviettai.caculatorsharedpreferences;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.ListView;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashSet;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\n\r\npublic class HistoryActivity extends AppCompatActivity {\r\n    private ListView listView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_history);\r\n\r\n        listView = findViewById(R.id.listView);\r\n\r\n    }\r\n}\r\n```\r\n\r\nthe above code when I press BACK will switch to HistoryActyvity\r\n\r\n[![image app][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jVsD6.png","title":"how can save value with SharePreference Android","body":"<p>hi everyone i am looking to use SharePreference to save values of calculations. i want each time pressing &quot;=&quot; will save the value of the calculation in the form tvMath = tvResult which I don't know how to do now.</p>\n<p>After saving I want to show it on Another screen</p>\n<p>this is my code</p>\n<p>Main Activity</p>\n<pre><code>package com.khuongviettai.caculatorsharedpreferences;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport org.mozilla.javascript.Context;\nimport org.mozilla.javascript.Scriptable;\n\nimport java.util.ArrayList;\nimport java.util.HashSet;\nimport java.util.Set;\n\n\npublic class MainActivity extends AppCompatActivity implements View.OnClickListener {\n\n    private TextView tvMath, tvResult;\n    private Button btnC, btnOpen, btnClose, btnDiv, btn7, btn8, btn9, btnMul, btn4, btn5, btn6, btnSub, btn1, btn2, btn3, btnPlus, btn0, btnDot, btnResult, btnBack;\n\n\n\n    private String currentMath = &quot;&quot;;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        tvMath = findViewById(R.id.tvMath);\n        tvResult = findViewById(R.id.tvResult);\n        assignID(btnC, R.id.btnC);\n        assignID(btnOpen, R.id.btnOpen);\n        assignID(btnClose, R.id.btnClose);\n        assignID(btnDiv, R.id.btnDiv);\n        assignID(btn0, R.id.btn0);\n        assignID(btn1, R.id.btn1);\n        assignID(btn2, R.id.btn2);\n        assignID(btn3, R.id.btn3);\n        assignID(btn4, R.id.btn4);\n        assignID(btn5, R.id.btn5);\n        assignID(btn6, R.id.btn6);\n        assignID(btn7, R.id.btn7);\n        assignID(btn8, R.id.btn8);\n        assignID(btn9, R.id.btn9);\n        assignID(btnMul, R.id.btnMul);\n        assignID(btnSub, R.id.btnSub);\n        assignID(btnPlus, R.id.btnPlus);\n        assignID(btnDot, R.id.btnDot);\n        assignID(btnResult, R.id.btnResult);\n        assignID(btnBack, R.id.btnBack);\n\n\n\n\n    }\n\n    void assignID(Button btn, int id) {\n        btn = findViewById(id);\n        btn.setOnClickListener(this);\n    }\n\n\n\n\n    @Override\n    public void onClick(View view) {\n        Button button = (Button) view;\n        String buttonText = button.getText().toString();\n        if (buttonText.equals(&quot;=&quot;)) {\n            if (currentMath.equals(&quot;&quot;)) {\n                tvResult.setText(&quot;0&quot;);\n                return;\n            }\n            String finalResult = getResult(currentMath);\n            if (!finalResult.equals(&quot;Err&quot;)) {\n\n\n                tvResult.setText(finalResult);\n                Toast.makeText(this, &quot;Saved&quot;, Toast.LENGTH_SHORT).show();\n            } else {\n                tvResult.setText(&quot;Err&quot;);\n            }\n            return;\n\n        } else if (buttonText.equals(&quot;C&quot;)) {\n            tvMath.setText(&quot;&quot;);\n            tvResult.setText(&quot;0&quot;);\n            currentMath = &quot;&quot;;\n            return;\n\n        } else if (buttonText.equals(&quot;BACK&quot;)) {\n            Intent intent = new Intent(MainActivity.this, HistoryActivity.class);\n\n            startActivity(intent);\n            return;\n\n        }\n\n        currentMath += buttonText;\n        tvMath.setText(currentMath);\n    }\n\n\n\n\n    String getResult(String data) {\n        try {\n            Context context = Context.enter();\n            context.setOptimizationLevel(-1);\n            Scriptable scriptable = context.initStandardObjects();\n            String finalResult = context.evaluateString(scriptable, data, &quot;Javascript&quot;, 1, null).toString();\n            if (finalResult.endsWith(&quot;.0&quot;)) {\n                finalResult = finalResult.replace(&quot;.0&quot;, &quot;&quot;);\n            }\n            if (data.equals(&quot;16052001&quot;)) {\n                finalResult = &quot;I love Tai&quot;;\n            }\n            return finalResult;\n        } catch (Exception e\n        ) {\n            return &quot;Err&quot;;\n        }\n    }\n\n\n</code></pre>\n<p>HistoryActivity</p>\n<pre><code>package com.khuongviettai.caculatorsharedpreferences;\nimport android.content.SharedPreferences;\nimport android.os.Bundle;\nimport android.widget.ArrayAdapter;\nimport android.widget.ListView;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.util.ArrayList;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\n\npublic class HistoryActivity extends AppCompatActivity {\n    private ListView listView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_history);\n\n        listView = findViewById(R.id.listView);\n\n    }\n}\n</code></pre>\n<p>the above code when I press BACK will switch to HistoryActyvity</p>\n<p><a href=\"https://i.stack.imgur.com/jVsD6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jVsD6.png\" alt=\"image app\" /></a></p>\n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":3836705,"reputation":179,"user_id":3180823,"accept_rate":67,"display_name":"Yousuf Soomro"},"score":0,"creation_date":1390752821,"post_id":21365570,"comment_id":32217546,"body_markdown":"I am creating an order form and I use panels to add details to that order,\nSomething like [this](http://www.mustbebuilt.co.uk/demo/jquery/adding-form-fields/adding-fields-example.php)\nI want to add remove function to that","body":"I am creating an order form and I use panels to add details to that order, Something like <a href=\"http://www.mustbebuilt.co.uk/demo/jquery/adding-form-fields/adding-fields-example.php\" rel=\"nofollow noreferrer\">this</a> I want to add remove function to that"}],"answers":[{"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":4,"creation_date":1390755189,"post_id":21366261,"comment_id":32218450,"body_markdown":"*&quot;your question presupposes a way to do things,&quot;*  Indeed.  This sounds like a classic [XY problem](http://meta.stackexchange.com/q/66377/155831).","body":"<i>&quot;your question presupposes a way to do things,&quot;</i>  Indeed.  This sounds like a classic <a href=\"http://meta.stackexchange.com/q/66377/155831\">XY problem</a>."},{"owner":{"account_id":3836705,"reputation":179,"user_id":3180823,"accept_rate":67,"display_name":"Yousuf Soomro"},"score":0,"creation_date":1390760518,"post_id":21366261,"comment_id":32220456,"body_markdown":"sorry for such question, I am new to this forum, I got XY problem I will try avoiding such questions.\n\n@rcook: Thanks jPanelParent.remove(last); worked.","body":"sorry for such question, I am new to this forum, I got XY problem I will try avoiding such questions.  @rcook: Thanks jPanelParent.remove(last); worked."}],"tags":[],"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1390754692,"creation_date":1390754692,"answer_id":21366261,"question_id":21365570,"body_markdown":"This is a classic case of looking in the wrong place for an answer; your question presupposes a way to do things, and you ask how to do that presupposed and erroneous operation, and confusion ensues.  It doesn&#39;t help that &quot;dispose&quot; is a term used for an operation you don&#39;t need at all, having to do with making memory available for reclaiming in an environment where programmers do these things.\r\n\r\nI *believe* what you want to do is remove the reference that the parent component has to the JPanel.  That would fit your desire that getComponents() in the parent panel not return the panel you are getting rid of. \r\n\r\nIn order for the panel that you are removing to do this, it needs a reference to the parent panel, and then you can remove it from the parent panel just like you&#39;ve removed components from the target panel.  In fact, if the parent panel is the only place that references the target, and the target&#39;s components are only referenced in the target, you don&#39;t have to remove the target components if you just remove the parent panel reference to the target.\r\n\r\nSo pass a reference to your parent panel to your target panel, and do a remove() of the target panel from the parent panel in place of your hypothesized dispose() call.\r\n\r\n","title":"How to Dispose a JPanel - jPanel1.dispose() Or equivalent","body":"<p>This is a classic case of looking in the wrong place for an answer; your question presupposes a way to do things, and you ask how to do that presupposed and erroneous operation, and confusion ensues.  It doesn't help that \"dispose\" is a term used for an operation you don't need at all, having to do with making memory available for reclaiming in an environment where programmers do these things.</p>\n\n<p>I <em>believe</em> what you want to do is remove the reference that the parent component has to the JPanel.  That would fit your desire that getComponents() in the parent panel not return the panel you are getting rid of. </p>\n\n<p>In order for the panel that you are removing to do this, it needs a reference to the parent panel, and then you can remove it from the parent panel just like you've removed components from the target panel.  In fact, if the parent panel is the only place that references the target, and the target's components are only referenced in the target, you don't have to remove the target components if you just remove the parent panel reference to the target.</p>\n\n<p>So pass a reference to your parent panel to your target panel, and do a remove() of the target panel from the parent panel in place of your hypothesized dispose() call.</p>\n"},{"tags":[],"owner":{"account_id":257449,"reputation":39,"user_id":2008850,"display_name":"Douglas Tybel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432758462,"creation_date":1432758462,"answer_id":30492513,"question_id":21365570,"body_markdown":"Dispose em JPanel Netbeans java\r\n\r\n       Component comp = SwingUtilities.getRoot(this);\r\n       ((Window) comp).dispose();","title":"How to Dispose a JPanel - jPanel1.dispose() Or equivalent","body":"<p>Dispose em JPanel Netbeans java</p>\n\n<pre><code>   Component comp = SwingUtilities.getRoot(this);\n   ((Window) comp).dispose();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":400760,"reputation":16402,"user_id":766911,"accept_rate":73,"display_name":"gdbj"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1492539281,"creation_date":1492539281,"answer_id":43479434,"question_id":21365570,"body_markdown":"In my case, my one panel was on a JDialog, and the following can work:\r\n\r\n    public void dispose() {\r\n\t\tJFrame parent = (JFrame) this.getTopLevelAncestor();\r\n        parent.dispose();\r\n\t}\r\n\r\nHowever, I think explicitly keeping a reference to the parent in the panel might be a less error prone way, as described in another answer.","title":"How to Dispose a JPanel - jPanel1.dispose() Or equivalent","body":"<p>In my case, my one panel was on a JDialog, and the following can work:</p>\n\n<pre><code>public void dispose() {\n    JFrame parent = (JFrame) this.getTopLevelAncestor();\n    parent.dispose();\n}\n</code></pre>\n\n<p>However, I think explicitly keeping a reference to the parent in the panel might be a less error prone way, as described in another answer.</p>\n"},{"tags":[],"owner":{"account_id":26501835,"reputation":3,"user_id":20138656,"display_name":"rainbow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681126749,"creation_date":1681126496,"answer_id":75976732,"question_id":21365570,"body_markdown":"I am having similar issues as I switch between panels and the next panel is created only based on a choice from the previous one, so I want to dispose as I return from the second panel to the first one until new selection is made on the first panel. \r\n\r\n```\r\nmypanel.removeAll();\r\n```\r\n\r\n\r\n fixed this issue","title":"How to Dispose a JPanel - jPanel1.dispose() Or equivalent","body":"<p>I am having similar issues as I switch between panels and the next panel is created only based on a choice from the previous one, so I want to dispose as I return from the second panel to the first one until new selection is made on the first panel.</p>\n<pre><code>mypanel.removeAll();\n</code></pre>\n<p>fixed this issue</p>\n"}],"owner":{"account_id":3836705,"reputation":179,"user_id":3180823,"accept_rate":67,"display_name":"Yousuf Soomro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18537,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":21366261,"answer_count":4,"score":0,"last_activity_date":1681126749,"creation_date":1390751504,"question_id":21365570,"body_markdown":"How can we dispose() a JPanel?\r\n\r\nI&#39;ve done `jPanel1.removeAll()` and now I want JPanel to be disposed so that `jPanelParent.getComponents()` can&#39;t return it\r\n\r\n    Component[] components = this.jPanelParent.getComponents();  /// Returns 5 Components      \r\n    JPanel last = (JPanel)components[components.length];\r\n    last.removeAll();\r\n    //last.dispose()   NOT AVAILABLE\r\n\r\n\r\n&gt;Now after above code if I run .getComponents() I don&#39;t want to get &quot;last&quot; in above code","title":"How to Dispose a JPanel - jPanel1.dispose() Or equivalent","body":"<p>How can we dispose() a JPanel?</p>\n\n<p>I've done <code>jPanel1.removeAll()</code> and now I want JPanel to be disposed so that <code>jPanelParent.getComponents()</code> can't return it</p>\n\n<pre><code>Component[] components = this.jPanelParent.getComponents();  /// Returns 5 Components      \nJPanel last = (JPanel)components[components.length];\nlast.removeAll();\n//last.dispose()   NOT AVAILABLE\n</code></pre>\n\n<blockquote>\n  <p>Now after above code if I run .getComponents() I don't want to get \"last\" in above code</p>\n</blockquote>\n"},{"tags":["java","android","proguard","android-r8"],"answers":[{"comments":[{"owner":{"account_id":26136616,"reputation":194,"user_id":19826534,"display_name":"Ozgur Baykal"},"score":0,"creation_date":1681126617,"post_id":75976654,"comment_id":134002214,"body_markdown":"I added what you posted but it didn&#39;t work. Is it possible to find out what exactly is causing the error? Or will I have to scan one by one? My proguard-rules.pro file was like this:\nhttps://codeshare.io/loLlQd","body":"I added what you posted but it didn&#39;t work. Is it possible to find out what exactly is causing the error? Or will I have to scan one by one? My proguard-rules.pro file was like this: <a href=\"https://codeshare.io/loLlQd\" rel=\"nofollow noreferrer\">codeshare.io/loLlQd</a>"},{"owner":{"account_id":9135654,"reputation":81,"user_id":6795426,"display_name":" Godrick"},"score":0,"creation_date":1681128879,"post_id":75976654,"comment_id":134002607,"body_markdown":"No, That I post is just a sample, not real code","body":"No, That I post is just a sample, not real code"},{"owner":{"account_id":9135654,"reputation":81,"user_id":6795426,"display_name":" Godrick"},"score":0,"creation_date":1681129099,"post_id":75976654,"comment_id":134002640,"body_markdown":"I checked your proguard file, A lot of &quot;demo&quot; things in it, read this https://developer.android.com/build/shrink-code","body":"I checked your proguard file, A lot of &quot;demo&quot; things in it, read this <a href=\"https://developer.android.com/build/shrink-code\" rel=\"nofollow noreferrer\">developer.android.com/build/shrink-code</a>"}],"tags":[],"owner":{"account_id":9135654,"reputation":81,"user_id":6795426,"display_name":" Godrick"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681125809,"creation_date":1681125809,"answer_id":75976654,"question_id":75976440,"body_markdown":"You didn&#39;t add any rule for proguard file equals that mix EVERYTHING when compile apks\r\n\r\nHere is a normally proguard file \r\n\r\n    -dontwarn com.android.**\r\n    -keep class * extends com.android.View {*;}\r\n    -keep public class * extends android.webkit.WebChromeClient\r\n    -keep class * implements java.io.Serializable {*;}\r\n    -dontwarn okhttp3.**\r\n    -dontwarn org.**\r\n\r\n    -keep public class * implements com.bumptech.glide.module.GlideModule\r\n    -keep public class * extends com.bumptech.glide.AppGlideModule\r\n\r\n    -keep class com.google.** {*;}\r\n    -keep class com.facebook.** {*;}\r\n    -keep class com.com.appsflyer.** {*;}\r\n\r\n\r\n    -optimizationpasses 5\r\n    -dontusemixedcaseclassnames\r\n    -verbose\r\n    -keepattributes Signature\r\n    -keepattributes SourceFile,LineNumberTable\r\n    -keepclasseswithmembernames class * {\r\n        native &lt;methods&gt;;\r\n     }\r\n    -adaptclassstrings\r\n    -keepattributes InnerClasses, EnclosingMethod, Signature, *Annotation*\r\n\r\n\r\n\r\n    -keep class androidx.**{*;}\r\n\r\n\r\nExcept those items, you still need add your json convert java bean or data class stuff(That&#39;s why your socket structure is broken), and some third party lib need to keep","title":"My project&#39;s structure is broken when using Proguard","body":"<p>You didn't add any rule for proguard file equals that mix EVERYTHING when compile apks</p>\n<p>Here is a normally proguard file</p>\n<pre><code>-dontwarn com.android.**\n-keep class * extends com.android.View {*;}\n-keep public class * extends android.webkit.WebChromeClient\n-keep class * implements java.io.Serializable {*;}\n-dontwarn okhttp3.**\n-dontwarn org.**\n\n-keep public class * implements com.bumptech.glide.module.GlideModule\n-keep public class * extends com.bumptech.glide.AppGlideModule\n\n-keep class com.google.** {*;}\n-keep class com.facebook.** {*;}\n-keep class com.com.appsflyer.** {*;}\n\n\n-optimizationpasses 5\n-dontusemixedcaseclassnames\n-verbose\n-keepattributes Signature\n-keepattributes SourceFile,LineNumberTable\n-keepclasseswithmembernames class * {\n    native &lt;methods&gt;;\n }\n-adaptclassstrings\n-keepattributes InnerClasses, EnclosingMethod, Signature, *Annotation*\n\n\n\n-keep class androidx.**{*;}\n</code></pre>\n<p>Except those items, you still need add your json convert java bean or data class stuff(That's why your socket structure is broken), and some third party lib need to keep</p>\n"}],"owner":{"account_id":26136616,"reputation":194,"user_id":19826534,"display_name":"Ozgur Baykal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681125809,"creation_date":1681123816,"question_id":75976440,"body_markdown":"I&#39;m trying to add proguard rules. Even if I don&#39;t add these rules, some things break in my project the moment I set minifyEnabled to true. For example, the socket structure is broken, while trying to communicate with another device over socket, it receives requests but cannot send a response. Another example is not printing some values while writing xml. All of this happens the moment I set minifyEnabled to true. The project is huge and I&#39;m not sure what caused it.\r\n\r\nCan you suggest an idea or alternative tool to find the source of the problem and solve it?\r\n\r\nAs I said, even if the rules file is empty, even if I just set the minifyEnabled value to true, these problems occur and I have no idea how to prevent these problems by adding them to the rules file.\r\n\r\n**build.gradle**\r\n```\r\n        release {\r\n            shrinkResources false\r\n            minifyEnabled true\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            buildConfigField(&quot;String&quot;, &#39;BUNDLE_DATE&#39;, &#39;&quot;17.06.2021 09:08&quot;&#39;)\r\n            buildConfigField(&quot;String&quot;, &#39;BUNDLE_ID&#39;, &#39;&quot;13&quot;&#39;)\r\n        }\r\n        debug {\r\n            minifyEnabled true\r\n            shrinkResources false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            ext.enableCrashlytics = false\r\n            ext.alwaysUpdateBuildId = false\r\n            aaptOptions {\r\n                cruncherEnabled false\r\n            }\r\n\r\n```\r\n\r\n**implementations**\r\n\r\n```\r\n    implementation &#39;org.bouncycastle:bcprov-jdk15to18:1.68&#39;\r\n    implementation &#39;org.owasp.encoder:encoder:1.2.3&#39;\r\n\r\n    compile fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n    compile project(&#39;:logfilemanager&#39;)\r\n    compile files(&#39;libs/ormlite-android-4.48.jar&#39;)\r\n    compile files(&#39;libs/ormlite-core-4.48.jar&#39;)\r\n    compile files(&#39;libs/zxing.jar&#39;)\r\n    compile files(&#39;libs/calimero-2.0.4.jar&#39;)\r\n    implementation &#39;com.android.volley:volley:1.2.1&#39;\r\n    implementation &#39;androidx.multidex:multidex:2.0.1&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.5.1&#39;\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n    implementation &#39;cat.ereza:customactivityoncrash:2.4.0&#39;\r\n    compile group: &#39;cz.msebera.android&#39;, name: &#39;httpclient&#39;, version: &#39;4.5.8&#39;\r\n    implementation &#39;com.google.android.gms:play-services-location:20.0.0&#39;\r\n    implementation &#39;org.kie.modules:org-apache-commons-net:6.5.0.Final&#39;\r\n    implementation &#39;com.github.bumptech.glide:glide:4.13.2&#39;\r\n    implementation &#39;com.github.justzak:dilatingdotsprogressbar:1.0.1&#39;\r\n    implementation &#39;com.google.code.gson:gson:2.9.1&#39;\r\n    implementation &quot;androidx.recyclerview:recyclerview:1.2.1&quot;\r\n    implementation &#39;org.java-websocket:Java-WebSocket:1.5.3&#39;\r\n    implementation(&quot;com.squareup.okhttp3:okhttp:4.10.0&quot;)\r\n    implementation group: &#39;commons-fileupload&#39;, name: &#39;commons-fileupload&#39;, version: &#39;1.4&#39;\r\n    implementation &#39;javax.servlet:javax.servlet-api:4.0.1&#39;\r\n```","title":"My project&#39;s structure is broken when using Proguard","body":"<p>I'm trying to add proguard rules. Even if I don't add these rules, some things break in my project the moment I set minifyEnabled to true. For example, the socket structure is broken, while trying to communicate with another device over socket, it receives requests but cannot send a response. Another example is not printing some values while writing xml. All of this happens the moment I set minifyEnabled to true. The project is huge and I'm not sure what caused it.</p>\n<p>Can you suggest an idea or alternative tool to find the source of the problem and solve it?</p>\n<p>As I said, even if the rules file is empty, even if I just set the minifyEnabled value to true, these problems occur and I have no idea how to prevent these problems by adding them to the rules file.</p>\n<p><strong>build.gradle</strong></p>\n<pre><code>        release {\n            shrinkResources false\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n            buildConfigField(&quot;String&quot;, 'BUNDLE_DATE', '&quot;17.06.2021 09:08&quot;')\n            buildConfigField(&quot;String&quot;, 'BUNDLE_ID', '&quot;13&quot;')\n        }\n        debug {\n            minifyEnabled true\n            shrinkResources false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n            ext.enableCrashlytics = false\n            ext.alwaysUpdateBuildId = false\n            aaptOptions {\n                cruncherEnabled false\n            }\n\n</code></pre>\n<p><strong>implementations</strong></p>\n<pre><code>    implementation 'org.bouncycastle:bcprov-jdk15to18:1.68'\n    implementation 'org.owasp.encoder:encoder:1.2.3'\n\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    compile project(':logfilemanager')\n    compile files('libs/ormlite-android-4.48.jar')\n    compile files('libs/ormlite-core-4.48.jar')\n    compile files('libs/zxing.jar')\n    compile files('libs/calimero-2.0.4.jar')\n    implementation 'com.android.volley:volley:1.2.1'\n    implementation 'androidx.multidex:multidex:2.0.1'\n    implementation 'androidx.appcompat:appcompat:1.5.1'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'cat.ereza:customactivityoncrash:2.4.0'\n    compile group: 'cz.msebera.android', name: 'httpclient', version: '4.5.8'\n    implementation 'com.google.android.gms:play-services-location:20.0.0'\n    implementation 'org.kie.modules:org-apache-commons-net:6.5.0.Final'\n    implementation 'com.github.bumptech.glide:glide:4.13.2'\n    implementation 'com.github.justzak:dilatingdotsprogressbar:1.0.1'\n    implementation 'com.google.code.gson:gson:2.9.1'\n    implementation &quot;androidx.recyclerview:recyclerview:1.2.1&quot;\n    implementation 'org.java-websocket:Java-WebSocket:1.5.3'\n    implementation(&quot;com.squareup.okhttp3:okhttp:4.10.0&quot;)\n    implementation group: 'commons-fileupload', name: 'commons-fileupload', version: '1.4'\n    implementation 'javax.servlet:javax.servlet-api:4.0.1'\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6388117,"reputation":706,"user_id":4955304,"accept_rate":89,"display_name":"Adam Gerard"},"score":1,"creation_date":1494034912,"post_id":43815455,"comment_id":74670956,"body_markdown":"Does .antMatchers(&quot;/*.html&quot;).permitAll() work for you? I was under the impression that ** is for directories and * for characters: http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/AntPathMatcher.html","body":"Does .antMatchers(&quot;/*.html&quot;).permitAll() work for you? I was under the impression that ** is for directories and * for characters: <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/AntPathMatcher.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":159676,"reputation":88203,"user_id":379235,"accept_rate":62,"display_name":"daydreamer"},"score":0,"creation_date":1494037034,"post_id":43815455,"comment_id":74671262,"body_markdown":"that does not work either","body":"that does not work either"},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1494063359,"post_id":43815455,"comment_id":74676318,"body_markdown":"Did you annotate your `WebSecurityConfig` class with `@Configuration`? And show your `LoginFilter` and `TokenFilter`.","body":"Did you annotate your <code>WebSecurityConfig</code> class with <code>@Configuration</code>? And show your <code>LoginFilter</code> and <code>TokenFilter</code>."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1494063644,"post_id":43815455,"comment_id":74676401,"body_markdown":"And what response do you get? 401, 403 or ...","body":"And what response do you get? 401, 403 or ..."}],"answers":[{"comments":[{"owner":{"account_id":159676,"reputation":88203,"user_id":379235,"accept_rate":62,"display_name":"daydreamer"},"score":0,"creation_date":1494052400,"post_id":43816569,"comment_id":74673785,"body_markdown":"nope, there is somethings about the order I guess which is wrong","body":"nope, there is somethings about the order I guess which is wrong"},{"owner":{"account_id":2067188,"reputation":2606,"user_id":1842482,"accept_rate":100,"display_name":"chaoluo"},"score":1,"creation_date":1494058801,"post_id":43816569,"comment_id":74675166,"body_markdown":"You can debug in `org.springframework.security.web.FilterChainProxy#doFilterInternal` to watch all the filter chains. or you can enable the spring security debugger to watch the logger.","body":"You can debug in <code>org.springframework.security.web.FilterChainProxy#doFilterIn&zwnj;&#8203;ternal</code> to watch all the filter chains. or you can enable the spring security debugger to watch the logger."}],"tags":[],"owner":{"account_id":2067188,"reputation":2606,"user_id":1842482,"accept_rate":100,"display_name":"chaoluo"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494051879,"creation_date":1494043083,"answer_id":43816569,"question_id":43815455,"body_markdown":"try to change to `/**/index.html`. For Ant path matcher\r\n\r\n\r\n    ? matches one character\r\n    * matches zero or more characters\r\n    ** matches zero or more directories in a path\r\n    {spring:[a-z]+} matches the regexp [a-z]+ as a path variable named &quot;spring&quot;","title":"Spring Boot doesn&#39;t serve HTML after Spring Security is enabled","body":"<p>try to change to <code>/**/index.html</code>. For Ant path matcher</p>\n\n<pre><code>? matches one character\n* matches zero or more characters\n** matches zero or more directories in a path\n{spring:[a-z]+} matches the regexp [a-z]+ as a path variable named \"spring\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17558126,"reputation":53,"user_id":13350024,"display_name":"Abraham Zsombor Nagy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681125740,"creation_date":1681124443,"answer_id":75976504,"question_id":43815455,"body_markdown":"I came across the same issue. I followed [this](https://stackoverflow.com/questions/24661289/spring-boot-not-serving-static-content) to solve basic static content issue where adding a configuration class that extends WebMvcConfigurer solved that issue.\r\n\r\nBut it was just a `@Configuration` bean.\r\n\r\nWhen I changed it to `@EnableWebMvc` as mentioned [here](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/WebMvcConfigurer.html), static content loaded after enabling Spring Security.\r\n\r\nInterestingly when I had both annotation, it didn&#39;t work.","title":"Spring Boot doesn&#39;t serve HTML after Spring Security is enabled","body":"<p>I came across the same issue. I followed <a href=\"https://stackoverflow.com/questions/24661289/spring-boot-not-serving-static-content\">this</a> to solve basic static content issue where adding a configuration class that extends WebMvcConfigurer solved that issue.</p>\n<p>But it was just a <code>@Configuration</code> bean.</p>\n<p>When I changed it to <code>@EnableWebMvc</code> as mentioned <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/WebMvcConfigurer.html\" rel=\"nofollow noreferrer\">here</a>, static content loaded after enabling Spring Security.</p>\n<p>Interestingly when I had both annotation, it didn't work.</p>\n"}],"owner":{"account_id":159676,"reputation":88203,"user_id":379235,"accept_rate":62,"display_name":"daydreamer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1033,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1681125740,"creation_date":1494030612,"question_id":43815455,"body_markdown":"In my Spring Boot application, I configure Spring Security as\r\n\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n      @Override\r\n      public void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable().authorizeRequests()\r\n            .antMatchers(&quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/images/**&quot;, &quot;**/index.html&quot;).permitAll()\r\n            .antMatchers(&quot;/**.html&quot;).permitAll()\r\n            .antMatchers(HttpMethod.POST, &quot;/login&quot;).permitAll()\r\n            .anyRequest().authenticated()\r\n            .and()\r\n            .addFilterBefore(new LoginFilter(&quot;/login&quot;), BasicAuthenticationFilter.class)\r\n            .addFilterBefore(new TokenFilter(), BasicAuthenticationFilter.class);\r\n      }\r\n    }\r\n\r\nI have `index.html` under `resources/static/index.html`. This stopped serving after I enabled security. What am I missing?\r\n \r\nIf I go back when I do not have any security, I get my HTML rendered on server.","title":"Spring Boot doesn&#39;t serve HTML after Spring Security is enabled","body":"<p>In my Spring Boot application, I configure Spring Security as</p>\n\n<pre><code>@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n  @Override\n  public void configure(HttpSecurity http) throws Exception {\n    http.csrf().disable().authorizeRequests()\n        .antMatchers(\"/css/**\", \"/js/**\", \"/images/**\", \"**/index.html\").permitAll()\n        .antMatchers(\"/**.html\").permitAll()\n        .antMatchers(HttpMethod.POST, \"/login\").permitAll()\n        .anyRequest().authenticated()\n        .and()\n        .addFilterBefore(new LoginFilter(\"/login\"), BasicAuthenticationFilter.class)\n        .addFilterBefore(new TokenFilter(), BasicAuthenticationFilter.class);\n  }\n}\n</code></pre>\n\n<p>I have <code>index.html</code> under <code>resources/static/index.html</code>. This stopped serving after I enabled security. What am I missing?</p>\n\n<p>If I go back when I do not have any security, I get my HTML rendered on server.</p>\n"},{"tags":["java","drools","optaplanner","constraint-programming","optaweb-employee-rostering"],"owner":{"account_id":27452345,"reputation":3,"user_id":20944374,"display_name":"Ubaid Ghante"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681125366,"creation_date":1681125366,"question_id":75976595,"body_markdown":"I have this constraint\r\n```\r\nConstraint noOverlappingShifts(ConstraintFactory constraintFactory) {\r\n        return constraintFactory.forEachUniquePair(Shift.class,\r\n                equal(Shift::getEmployee),\r\n                overlapping(Shift::getStartDateTime, Shift::getEndDateTime),\r\n                equal(Shift::getstatus))\r\n                .penalizeConfigurableLong(CONSTRAINT_NO_OVERLAPPING_SHIFTS,\r\n                        (shift, otherShift) -&gt; otherShift.getLengthInMinutes());\r\n    }\r\n```\r\nNow i want to change the second equal to not equal but Joiner class in optaplanner does not contain this. There is a filtering method but not sure how to use it.I am using employee rostering pre complied optaplanner, if possible suggest code changes in the above code rather than core.\r\n\r\nAlso this is how the filtering method is defined\r\n```\r\npublic static &lt;A, B&gt; BiJoiner&lt;A, B&gt; filtering(BiPredicate&lt;A, B&gt; filter) {\r\n        return JoinerSupport.getJoinerService()\r\n                .newBiJoiner(filter);\r\n    }\r\n```\r\nThanks in advance.\r\nAlso can you let me know where can i ask optaplanner related queries.\r\n\r\nI tried filter like this\r\n```\r\nConstraint noOverlappingShifts(ConstraintFactory constraintFactory) {\r\n        return constraintFactory.forEachUniquePair(Shift.class,\r\n                equal(Shift::getEmployee),\r\n                overlapping(Shift::getStartDateTime, Shift::getEndDateTime),\r\n                filtering((shift, otherShift) -&gt; !Objects.equals(shift.getstatus(), \r\n                .penalizeConfigurableLong(CONSTRAINT_NO_OVERLAPPING_SHIFTS,\r\n                        (shift, otherShift) -&gt; otherShift.getLengthInMinutes());\r\n    } \r\n```\r\n\r\nInstead of using java can i directly use a drool file to write constraints. If so how do link it in my code.","title":"How to change constraints in optaplanner?","body":"<p>I have this constraint</p>\n<pre><code>Constraint noOverlappingShifts(ConstraintFactory constraintFactory) {\n        return constraintFactory.forEachUniquePair(Shift.class,\n                equal(Shift::getEmployee),\n                overlapping(Shift::getStartDateTime, Shift::getEndDateTime),\n                equal(Shift::getstatus))\n                .penalizeConfigurableLong(CONSTRAINT_NO_OVERLAPPING_SHIFTS,\n                        (shift, otherShift) -&gt; otherShift.getLengthInMinutes());\n    }\n</code></pre>\n<p>Now i want to change the second equal to not equal but Joiner class in optaplanner does not contain this. There is a filtering method but not sure how to use it.I am using employee rostering pre complied optaplanner, if possible suggest code changes in the above code rather than core.</p>\n<p>Also this is how the filtering method is defined</p>\n<pre><code>public static &lt;A, B&gt; BiJoiner&lt;A, B&gt; filtering(BiPredicate&lt;A, B&gt; filter) {\n        return JoinerSupport.getJoinerService()\n                .newBiJoiner(filter);\n    }\n</code></pre>\n<p>Thanks in advance.\nAlso can you let me know where can i ask optaplanner related queries.</p>\n<p>I tried filter like this</p>\n<pre><code>Constraint noOverlappingShifts(ConstraintFactory constraintFactory) {\n        return constraintFactory.forEachUniquePair(Shift.class,\n                equal(Shift::getEmployee),\n                overlapping(Shift::getStartDateTime, Shift::getEndDateTime),\n                filtering((shift, otherShift) -&gt; !Objects.equals(shift.getstatus(), \n                .penalizeConfigurableLong(CONSTRAINT_NO_OVERLAPPING_SHIFTS,\n                        (shift, otherShift) -&gt; otherShift.getLengthInMinutes());\n    } \n</code></pre>\n<p>Instead of using java can i directly use a drool file to write constraints. If so how do link it in my code.</p>\n"},{"tags":["java","spring","spring-boot","open-telemetry","spring-cloud-sleuth"],"owner":{"account_id":246941,"reputation":1582,"user_id":521347,"accept_rate":60,"display_name":"Sumit Desai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681125150,"creation_date":1681124086,"question_id":75976465,"body_markdown":"I had created a Spring-boot micro-service using spring-cloud-sleuth for distributed-tracing. I had a otel-collector which was receiving logs and traces from the application and it was exporting it to Datadog. The flow was working properly.\r\n\r\nHowever, starting from Spring-boot 3.0.5, support of sleuth is removed and observability has been split into two parts some in Spring-boot itself and some part in micrometer. I upgraded my spring-boot version and made changes to export traces to otel-collector but I am not able to get it working. I enabled the Spring debug logs and I can see that the bean for [OpenTelemetryAutoConfiguration][1] is being created. Can someone help me understand if I am doing anything wrong? I am posting the debug logs related to class OpenTelemetryAutoConfiguration below. The messages indicate all the beans in this class are properly loaded. I am expecting an error saying unable to connect at some IP and port but getting nothing\r\n\r\n    OpenTelemetryAutoConfiguration matched:\r\n          - @ConditionalOnClass found required classes &#39;io.micrometer.tracing.otel.bridge.OtelTracer&#39;, &#39;io.opentelemetry.sdk.trace.SdkTracerProvider&#39;, &#39;io.opentelemetry.api.OpenTelemetry&#39; (OnClassCondition)\r\n          - @ConditionalOnProperty (management.tracing.enabled) matched (OnPropertyCondition)\r\n    \r\n       OpenTelemetryAutoConfiguration#micrometerOtelTracer matched:\r\n          - @ConditionalOnMissingBean (types: io.micrometer.tracing.Tracer; SearchStrategy: all) did not find any beans (OnBeanCondition)\r\n    \r\n       OpenTelemetryAutoConfiguration#openTelemetry matched:\r\n          - @ConditionalOnMissingBean (types: io.opentelemetry.api.OpenTelemetry; SearchStrategy: all) did not find any beans (OnBeanCondition)\r\n    \r\n       OpenTelemetryAutoConfiguration#otelContextPropagators matched:\r\n          - @ConditionalOnMissingBean (types: io.opentelemetry.context.propagation.ContextPropagators; SearchStrategy: all) did not find any beans (OnBeanCondition)\r\n    \r\n       OpenTelemetryAutoConfiguration#otelCurrentTraceContext matched:\r\n          - @ConditionalOnMissingBean (types: io.micrometer.tracing.otel.bridge.OtelCurrentTraceContext; SearchStrategy: all) did not find any beans (OnBeanCondition)\r\n    \r\n       OpenTelemetryAutoConfiguration#otelPropagator matched:\r\n          - @ConditionalOnMissingBean (types: io.micrometer.tracing.otel.bridge.OtelPropagator; SearchStrategy: all) did not find any beans (OnBeanCondition)\r\n    \r\n       OpenTelemetryAutoConfiguration#otelSampler matched:\r\n          - @ConditionalOnMissingBean (types: io.opentelemetry.sdk.trace.samplers.Sampler; SearchStrategy: all) did not find any beans (OnBeanCondition)\r\n    \r\n       OpenTelemetryAutoConfiguration#otelSdkTracerProvider matched:\r\n          - @ConditionalOnMissingBean (types: io.opentelemetry.sdk.trace.SdkTracerProvider; SearchStrategy: all) did not find any beans (OnBeanCondition)\r\n    \r\n       OpenTelemetryAutoConfiguration#otelSlf4JEventListener matched:\r\n          - @ConditionalOnMissingBean (types: io.micrometer.tracing.otel.bridge.Slf4JEventListener; SearchStrategy: all) did not find any beans (OnBeanCondition)\r\n    \r\n       OpenTelemetryAutoConfiguration#otelSpanCustomizer matched:\r\n          - @ConditionalOnMissingBean (types: io.micrometer.tracing.SpanCustomizer; SearchStrategy: all) did not find any beans (OnBeanCondition)\r\n    \r\n       OpenTelemetryAutoConfiguration#otelTracer matched:\r\n          - @ConditionalOnMissingBean (types: io.opentelemetry.api.trace.Tracer; SearchStrategy: all) did not find any beans (OnBeanCondition)\r\n    \r\n       OpenTelemetryAutoConfiguration#otelTracerEventPublisher matched:\r\n          - @ConditionalOnMissingBean (types: io.micrometer.tracing.otel.bridge.OtelTracer$EventPublisher; SearchStrategy: all) did not find any beans (OnBeanCondition)\r\n    \r\n       OpenTelemetryAutoConfiguration.BaggageConfiguration matched:\r\n          - @ConditionalOnProperty (management.tracing.baggage.enabled) matched (OnPropertyCondition)\r\n    \r\n       OpenTelemetryAutoConfiguration.BaggageConfiguration#otelSlf4JBaggageEventListener matched:\r\n          - @ConditionalOnProperty (management.tracing.baggage.correlation.enabled) matched (OnPropertyCondition)\r\n          - @ConditionalOnMissingBean (types: io.micrometer.tracing.otel.bridge.Slf4JBaggageEventListener; SearchStrategy: all) did not find any beans (OnBeanCondition)\r\n    \r\n       OpenTelemetryAutoConfiguration.BaggageConfiguration#w3cTextMapPropagatorWithBaggage matched:\r\n          - @ConditionalOnProperty (management.tracing.propagation.type=W3C) matched (OnPropertyCondition)\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/tracing/OpenTelemetryAutoConfiguration.java","title":"Unable to get automatic-instrumentation with Spring boot and otel-collector working","body":"<p>I had created a Spring-boot micro-service using spring-cloud-sleuth for distributed-tracing. I had a otel-collector which was receiving logs and traces from the application and it was exporting it to Datadog. The flow was working properly.</p>\n<p>However, starting from Spring-boot 3.0.5, support of sleuth is removed and observability has been split into two parts some in Spring-boot itself and some part in micrometer. I upgraded my spring-boot version and made changes to export traces to otel-collector but I am not able to get it working. I enabled the Spring debug logs and I can see that the bean for <a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/tracing/OpenTelemetryAutoConfiguration.java\" rel=\"nofollow noreferrer\">OpenTelemetryAutoConfiguration</a> is being created. Can someone help me understand if I am doing anything wrong? I am posting the debug logs related to class OpenTelemetryAutoConfiguration below. The messages indicate all the beans in this class are properly loaded. I am expecting an error saying unable to connect at some IP and port but getting nothing</p>\n<pre><code>OpenTelemetryAutoConfiguration matched:\n      - @ConditionalOnClass found required classes 'io.micrometer.tracing.otel.bridge.OtelTracer', 'io.opentelemetry.sdk.trace.SdkTracerProvider', 'io.opentelemetry.api.OpenTelemetry' (OnClassCondition)\n      - @ConditionalOnProperty (management.tracing.enabled) matched (OnPropertyCondition)\n\n   OpenTelemetryAutoConfiguration#micrometerOtelTracer matched:\n      - @ConditionalOnMissingBean (types: io.micrometer.tracing.Tracer; SearchStrategy: all) did not find any beans (OnBeanCondition)\n\n   OpenTelemetryAutoConfiguration#openTelemetry matched:\n      - @ConditionalOnMissingBean (types: io.opentelemetry.api.OpenTelemetry; SearchStrategy: all) did not find any beans (OnBeanCondition)\n\n   OpenTelemetryAutoConfiguration#otelContextPropagators matched:\n      - @ConditionalOnMissingBean (types: io.opentelemetry.context.propagation.ContextPropagators; SearchStrategy: all) did not find any beans (OnBeanCondition)\n\n   OpenTelemetryAutoConfiguration#otelCurrentTraceContext matched:\n      - @ConditionalOnMissingBean (types: io.micrometer.tracing.otel.bridge.OtelCurrentTraceContext; SearchStrategy: all) did not find any beans (OnBeanCondition)\n\n   OpenTelemetryAutoConfiguration#otelPropagator matched:\n      - @ConditionalOnMissingBean (types: io.micrometer.tracing.otel.bridge.OtelPropagator; SearchStrategy: all) did not find any beans (OnBeanCondition)\n\n   OpenTelemetryAutoConfiguration#otelSampler matched:\n      - @ConditionalOnMissingBean (types: io.opentelemetry.sdk.trace.samplers.Sampler; SearchStrategy: all) did not find any beans (OnBeanCondition)\n\n   OpenTelemetryAutoConfiguration#otelSdkTracerProvider matched:\n      - @ConditionalOnMissingBean (types: io.opentelemetry.sdk.trace.SdkTracerProvider; SearchStrategy: all) did not find any beans (OnBeanCondition)\n\n   OpenTelemetryAutoConfiguration#otelSlf4JEventListener matched:\n      - @ConditionalOnMissingBean (types: io.micrometer.tracing.otel.bridge.Slf4JEventListener; SearchStrategy: all) did not find any beans (OnBeanCondition)\n\n   OpenTelemetryAutoConfiguration#otelSpanCustomizer matched:\n      - @ConditionalOnMissingBean (types: io.micrometer.tracing.SpanCustomizer; SearchStrategy: all) did not find any beans (OnBeanCondition)\n\n   OpenTelemetryAutoConfiguration#otelTracer matched:\n      - @ConditionalOnMissingBean (types: io.opentelemetry.api.trace.Tracer; SearchStrategy: all) did not find any beans (OnBeanCondition)\n\n   OpenTelemetryAutoConfiguration#otelTracerEventPublisher matched:\n      - @ConditionalOnMissingBean (types: io.micrometer.tracing.otel.bridge.OtelTracer$EventPublisher; SearchStrategy: all) did not find any beans (OnBeanCondition)\n\n   OpenTelemetryAutoConfiguration.BaggageConfiguration matched:\n      - @ConditionalOnProperty (management.tracing.baggage.enabled) matched (OnPropertyCondition)\n\n   OpenTelemetryAutoConfiguration.BaggageConfiguration#otelSlf4JBaggageEventListener matched:\n      - @ConditionalOnProperty (management.tracing.baggage.correlation.enabled) matched (OnPropertyCondition)\n      - @ConditionalOnMissingBean (types: io.micrometer.tracing.otel.bridge.Slf4JBaggageEventListener; SearchStrategy: all) did not find any beans (OnBeanCondition)\n\n   OpenTelemetryAutoConfiguration.BaggageConfiguration#w3cTextMapPropagatorWithBaggage matched:\n      - @ConditionalOnProperty (management.tracing.propagation.type=W3C) matched (OnPropertyCondition)\n</code></pre>\n"},{"tags":["java","postgresql","jpa","spring-data-jpa","nativequery"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1681124484,"post_id":75976346,"comment_id":134001854,"body_markdown":"`right` is a reserved keyword. So you need double quotes: `where &quot;right&quot; = ...`. If you are using a native query in JPQL, the `ARRAY[...]` syntax should work. Alternatively use a string constant for the array `where &quot;right&quot; = &#39;{1,2}&#39;`","body":"<code>right</code> is a reserved keyword. So you need double quotes: <code>where &quot;right&quot; = ...</code>. If you are using a native query in JPQL, the <code>ARRAY[...]</code> syntax should work. Alternatively use a string constant for the array <code>where &quot;right&quot; = &#39;{1,2}&#39;</code>"},{"owner":{"account_id":25192367,"reputation":55,"user_id":19032411,"display_name":"stakeika"},"score":0,"creation_date":1681125383,"post_id":75976346,"comment_id":134001989,"body_markdown":"@a_horse_with_no_name I&#39;m sorry for confusion, the field name is actually `authority_right`, I shortened it intentionally in the question. I&#39;ve tried your suggestion `where &quot;right&quot; = &#39;{1,2}&#39;`, unfortunately it produces another validation error `person is not mapped`","body":"@a_horse_with_no_name I&#39;m sorry for confusion, the field name is actually <code>authority_right</code>, I shortened it intentionally in the question. I&#39;ve tried your suggestion <code>where &quot;right&quot; = &#39;{1,2}&#39;</code>, unfortunately it produces another validation error <code>person is not mapped</code>"}],"owner":{"account_id":25192367,"reputation":55,"user_id":19032411,"display_name":"stakeika"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681125064,"creation_date":1681123067,"question_id":75976346,"body_markdown":"My query is:\r\n\r\n    SELECT id\r\n    FROM person\r\n    WHERE authority_right = ARRAY[1,2]\r\n\r\n`authority_right` is integer array. My goal is to find people who have \r\n`authority_right` exactly equal to [1,2], not [1] and not [2]. This query is executed successfully in console, but a validation error occurs when I launch my application with `@Query` using the exact same code.\r\nError occurs in this area: `ARRAY[1,2]`. \r\nMessage in logs:\r\n\r\n    expecting CLOSE_BRACKET, found &#39;,&#39;\r\n\r\nMessage in editor:\r\n\r\n    &lt;expression&gt;, &lt;operator&gt;, GROUP, HAVING or ORDER expected, got &#39;{&#39;\r\n\r\nI also tried using `INT{1, 2}` and some combinations of brackets, but I haven&#39;t succeed. How can I make it work?\r\n","title":"JPA Native Query doesn&#39;t seem to support PostgreSQL ARRAY function","body":"<p>My query is:</p>\n<pre><code>SELECT id\nFROM person\nWHERE authority_right = ARRAY[1,2]\n</code></pre>\n<p><code>authority_right</code> is integer array. My goal is to find people who have\n<code>authority_right</code> exactly equal to [1,2], not [1] and not [2]. This query is executed successfully in console, but a validation error occurs when I launch my application with <code>@Query</code> using the exact same code.\nError occurs in this area: <code>ARRAY[1,2]</code>.\nMessage in logs:</p>\n<pre><code>expecting CLOSE_BRACKET, found ','\n</code></pre>\n<p>Message in editor:</p>\n<pre><code>&lt;expression&gt;, &lt;operator&gt;, GROUP, HAVING or ORDER expected, got '{'\n</code></pre>\n<p>I also tried using <code>INT{1, 2}</code> and some combinations of brackets, but I haven't succeed. How can I make it work?</p>\n"},{"tags":["java","gradle","environment-variables","gradle-task","system-variable"],"comments":[{"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"score":0,"creation_date":1680523291,"post_id":75900667,"comment_id":133907516,"body_markdown":"Assume this is to have the variable available during build/deploy time, but not during runtime?","body":"Assume this is to have the variable available during build/deploy time, but not during runtime?"},{"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"score":0,"creation_date":1680616460,"post_id":75900667,"comment_id":133925862,"body_markdown":"It looks like you referenced this question, https://stackoverflow.com/questions/36322536/how-to-set-an-environment-variable-from-a-gradle-build .  The issue is scope for most of these...  You set an env var for a task, but then it disappears when the task completes.  For the `Exec` task, environment lasts for the task, same with most others.  In the same question, it suggested `run.doFirst { environment &#39;A&#39;, &#39;B&#39; }`.  I assume you tried that as well?  The `run` would apply the env value for a `run`, but it depends what your target task and type are.","body":"It looks like you referenced this question, <a href=\"https://stackoverflow.com/questions/36322536/how-to-set-an-environment-variable-from-a-gradle-build\" title=\"how to set an environment variable from a gradle build\">stackoverflow.com/questions/36322536/&hellip;</a> .  The issue is scope for most of these...  You set an env var for a task, but then it disappears when the task completes.  For the <code>Exec</code> task, environment lasts for the task, same with most others.  In the same question, it suggested <code>run.doFirst { environment &#39;A&#39;, &#39;B&#39; }</code>.  I assume you tried that as well?  The <code>run</code> would apply the env value for a <code>run</code>, but it depends what your target task and type are."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":3,"creation_date":1680626470,"post_id":75900667,"comment_id":133928615,"body_markdown":"Stepping back a moment, what are you trying to achieve by setting this environment variable? The notions of scope are already addressed: your variable only lives as long as the thing that defined it (unix shells have `.bashrc`, programs on both OSes inherit env variables from their parent process). Ask yourself this as well: do you have any other storage medium that _would_ be persistent (e.g. a file in a common config dir)?","body":"Stepping back a moment, what are you trying to achieve by setting this environment variable? The notions of scope are already addressed: your variable only lives as long as the thing that defined it (unix shells have <code>.bashrc</code>, programs on both OSes inherit env variables from their parent process). Ask yourself this as well: do you have any other storage medium that <i>would</i> be persistent (e.g. a file in a common config dir)?"}],"answers":[{"tags":[],"owner":{"account_id":288740,"reputation":36435,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680736627,"creation_date":1680736627,"answer_id":75944663,"question_id":75900667,"body_markdown":"&gt; The problem I&#39;m facing is that if I specify it like this\r\n&gt; ```\r\n&gt; test {\r\n&gt;     environment &#39;PROJECT_DIR&#39;, &quot;${projectDir}&quot;\r\n&gt; }\r\n&gt; ```\r\n\r\nThis is exactly the right way to set an environment variable that is accessible while you are executing the `test` task.\r\n\r\n&gt; and access it like this from my java file\r\n&gt; ```\r\n&gt; String projectDir = System.getenv(&quot;PROJECT_DIR&quot;);\r\n&gt; ```\r\n&gt; projectDir is null because I assume it&#39;s not part of test files. \r\n\r\nIt does not matter whether it is a &quot;test file&quot; or a &quot;production file&quot;.\r\nAs you set the environment variable on the `test` task, it will be available and accessible during execution of the `test` task. So it can hardly be that it is `null` during the exeuction of the test task, except if you have a typo somewhere or missed to provide complete information.\r\n\r\n&gt; If I specify it like this\r\n&gt; ```\r\n&gt; task MyTask(type: Exec) {\r\n&gt;     environment &#39;PROJECT_DIR&#39;, &quot;${projectDir}&quot;\r\n&gt; }\r\n&gt; \r\n&gt; tasks.withType(JavaCompile) {\r\n&gt;     compileTask -&gt; compileTask.dependsOn MyTask\r\n&gt; }\r\n&gt; ```\r\n\r\nThis does not make any sense, really.\r\nYou define an `Exec` task, which is a task that executes some executable.\r\nDuring execution of that executable, the environment variable would be set.\r\nBut you do not configure which executable to execute, so what should happen?\r\n\r\nThen you make your Java compilation task depend on that `Exec` task which makes even less sense. Besides that any `dependsOn` is a code-smell (except if a lifecycle task is on the left-hand side) and should be avoided.\r\n\r\n&gt; and accessing the same way as before, it gives an error saying \r\n&gt; ```\r\n&gt; Execution failed for task &#39;&lt;project-name&gt;:MyTask&#39;.\r\n&gt; &gt; execCommand == null!\r\n&gt; ```\r\n\r\nYep, that is because you did not tell the `Exec` task which executable to execute as I just explained above.\r\n\r\n&gt; If I try to do something similar for system property like \r\n&gt; ```\r\n&gt; task setProp(type: Exec) {\r\n&gt;     systemProperty &#39;PROJECT_DIR&#39;, &quot;${projectDir}&quot;\r\n&gt; }\r\n&gt; tasks.withType(JavaCompile) {\r\n&gt;     compileTask -&gt; compileTask.dependsOn MyTask\r\n&gt; }\r\n&gt; ```\r\n&gt; and accessing it like\r\n&gt; ```\r\n&gt; String projectDir = System.getProperty(&quot;PROJECT_DIR&quot;);\r\n&gt; ```\r\n&gt; it ends up with this error\r\n&gt; ```\r\n&gt; Could not find method systemProperty() for arguments [PROJECT_DIR, &lt;path&gt;]\r\n&gt; ```\r\n\r\nSame comments as with the last example above.\r\nBut additionally, what should a system property be in the context of an `Exec` task that executes an arbitrary executable.\r\nSystem properties are a Java specific thing, so you cannot set a system property on a generic `Exec` task.\r\n\r\n&gt; At the end of the day, I could find nothing that works out. However, both `environment &#39;PROJECT_DIR&#39;, &quot;${projectDir}&quot;` and `systemProperty &#39;PROJECT_DIR&#39;, &quot;${projectDir}&quot;` work if I include them in an existing JavaExec task. The problem is that my file cannot be triggered by any kind of JavaExec tasks as it is part of a bigger deployed service, so setting it through build.gradle seems like my only resort. \r\n\r\nIf I got you right here, then this paragraph is the most important in your question.\r\nDo I get you right, that you want to set this property at build time using your build script, but then expect it to be available to your production code when running outside of Gradle in the &quot;bigger deployed service&quot;?\r\n\r\nThis cannot work, what you set in Gradle is only available during the execution of the task you are setting them on. They cannot be persisted automagically or something like that. That would also be completely against what they are for. They are there so that you can configure things at runtime, not at build time, so that for example a user of a program can configure certain things.\r\n\r\nIf you want to set the property at build time and then access it at runtime, you need to generate this value into a file. For this you can for example use a task of type `WriteProperties`, but be aware that you should properly configure it as task generating resources, by giving it to `sourceSets.main.resources.srcDir(...)` as argument, or maybe the easier way is to have a template file in your resources and then configure the `processResources` task to fill in the placeholders in the template for example using `expand`. Then at runtime you can read that properties file to get the value you need.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Cannot set environment variable or property in Gradle outside test","body":"<blockquote>\n<p>The problem I'm facing is that if I specify it like this</p>\n<pre><code>test {\n    environment 'PROJECT_DIR', &quot;${projectDir}&quot;\n}\n</code></pre>\n</blockquote>\n<p>This is exactly the right way to set an environment variable that is accessible while you are executing the <code>test</code> task.</p>\n<blockquote>\n<p>and access it like this from my java file</p>\n<pre><code>String projectDir = System.getenv(&quot;PROJECT_DIR&quot;);\n</code></pre>\n<p>projectDir is null because I assume it's not part of test files.</p>\n</blockquote>\n<p>It does not matter whether it is a &quot;test file&quot; or a &quot;production file&quot;.\nAs you set the environment variable on the <code>test</code> task, it will be available and accessible during execution of the <code>test</code> task. So it can hardly be that it is <code>null</code> during the exeuction of the test task, except if you have a typo somewhere or missed to provide complete information.</p>\n<blockquote>\n<p>If I specify it like this</p>\n<pre><code>task MyTask(type: Exec) {\n    environment 'PROJECT_DIR', &quot;${projectDir}&quot;\n}\n\ntasks.withType(JavaCompile) {\n    compileTask -&gt; compileTask.dependsOn MyTask\n}\n</code></pre>\n</blockquote>\n<p>This does not make any sense, really.\nYou define an <code>Exec</code> task, which is a task that executes some executable.\nDuring execution of that executable, the environment variable would be set.\nBut you do not configure which executable to execute, so what should happen?</p>\n<p>Then you make your Java compilation task depend on that <code>Exec</code> task which makes even less sense. Besides that any <code>dependsOn</code> is a code-smell (except if a lifecycle task is on the left-hand side) and should be avoided.</p>\n<blockquote>\n<p>and accessing the same way as before, it gives an error saying</p>\n<pre><code>Execution failed for task '&lt;project-name&gt;:MyTask'.\n&gt; execCommand == null!\n</code></pre>\n</blockquote>\n<p>Yep, that is because you did not tell the <code>Exec</code> task which executable to execute as I just explained above.</p>\n<blockquote>\n<p>If I try to do something similar for system property like</p>\n<pre><code>task setProp(type: Exec) {\n    systemProperty 'PROJECT_DIR', &quot;${projectDir}&quot;\n}\ntasks.withType(JavaCompile) {\n    compileTask -&gt; compileTask.dependsOn MyTask\n}\n</code></pre>\n<p>and accessing it like</p>\n<pre><code>String projectDir = System.getProperty(&quot;PROJECT_DIR&quot;);\n</code></pre>\n<p>it ends up with this error</p>\n<pre><code>Could not find method systemProperty() for arguments [PROJECT_DIR, &lt;path&gt;]\n</code></pre>\n</blockquote>\n<p>Same comments as with the last example above.\nBut additionally, what should a system property be in the context of an <code>Exec</code> task that executes an arbitrary executable.\nSystem properties are a Java specific thing, so you cannot set a system property on a generic <code>Exec</code> task.</p>\n<blockquote>\n<p>At the end of the day, I could find nothing that works out. However, both <code>environment 'PROJECT_DIR', &quot;${projectDir}&quot;</code> and <code>systemProperty 'PROJECT_DIR', &quot;${projectDir}&quot;</code> work if I include them in an existing JavaExec task. The problem is that my file cannot be triggered by any kind of JavaExec tasks as it is part of a bigger deployed service, so setting it through build.gradle seems like my only resort.</p>\n</blockquote>\n<p>If I got you right here, then this paragraph is the most important in your question.\nDo I get you right, that you want to set this property at build time using your build script, but then expect it to be available to your production code when running outside of Gradle in the &quot;bigger deployed service&quot;?</p>\n<p>This cannot work, what you set in Gradle is only available during the execution of the task you are setting them on. They cannot be persisted automagically or something like that. That would also be completely against what they are for. They are there so that you can configure things at runtime, not at build time, so that for example a user of a program can configure certain things.</p>\n<p>If you want to set the property at build time and then access it at runtime, you need to generate this value into a file. For this you can for example use a task of type <code>WriteProperties</code>, but be aware that you should properly configure it as task generating resources, by giving it to <code>sourceSets.main.resources.srcDir(...)</code> as argument, or maybe the easier way is to have a template file in your resources and then configure the <code>processResources</code> task to fill in the placeholders in the template for example using <code>expand</code>. Then at runtime you can read that properties file to get the value you need.</p>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681125031,"creation_date":1681080093,"answer_id":75973235,"question_id":75900667,"body_markdown":"If your goal is to ensure that a particular environment variable (or system property) is set when your program (that one you build with gradle …) starts, then you may want to have a look to [this answer][1].\r\n\r\nGradle generates a start script for each application, and that – as anything else, too – can be configured. The linked answer gives a starting point on how this can be achieved.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/51111231/1554195","title":"Cannot set environment variable or property in Gradle outside test","body":"<p>If your goal is to ensure that a particular environment variable (or system property) is set when your program (that one you build with gradle …) starts, then you may want to have a look to <a href=\"https://stackoverflow.com/a/51111231/1554195\">this answer</a>.</p>\n<p>Gradle generates a start script for each application, and that – as anything else, too – can be configured. The linked answer gives a starting point on how this can be achieved.</p>\n"}],"owner":{"account_id":8495965,"reputation":155,"user_id":6370552,"accept_rate":100,"display_name":"scottstots"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":900,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1681125031,"creation_date":1680279193,"question_id":75900667,"body_markdown":"I have been trying to set a simple environment variable (or system property, whatever works really) through build.gradle file to access it from a java method (which is not part of integration tests) but after exhausting almost every answer on this forum and elsewhere that I could find, I have still not been able to find a working solution. For reference I have to access it from a file in src/main folder.\r\n\r\nThe problem I&#39;m facing is that if I specify it like this\r\n```\r\ntest {\r\n    environment &#39;PROJECT_DIR&#39;, &quot;${projectDir}&quot;\r\n}\r\n```\r\nand access it like this from my java file\r\n```\r\nString projectDir = System.getenv(&quot;PROJECT_DIR&quot;);\r\n```\r\nprojectDir is null because I assume it&#39;s not part of test files. \r\n\r\nIf I specify it like this\r\n```\r\ntask MyTask(type: Exec) {\r\n    environment &#39;PROJECT_DIR&#39;, &quot;${projectDir}&quot;\r\n}\r\n\r\ntasks.withType(JavaCompile) {\r\n    compileTask -&gt; compileTask.dependsOn MyTask\r\n}\r\n```\r\nand accessing the same way as before, it gives an error saying \r\n```\r\nExecution failed for task &#39;&lt;project-name&gt;:MyTask&#39;.\r\n&gt; execCommand == null!\r\n```\r\nIf I try to do something similar for system property like \r\n```\r\ntask setProp(type: Exec) {\r\n    systemProperty &#39;PROJECT_DIR&#39;, &quot;${projectDir}&quot;\r\n}\r\ntasks.withType(JavaCompile) {\r\n    compileTask -&gt; compileTask.dependsOn MyTask\r\n}\r\n```\r\nand accessing it like\r\n```\r\nString projectDir = System.getProperty(&quot;PROJECT_DIR&quot;);\r\n```\r\nit ends up with this error\r\n```\r\nCould not find method systemProperty() for arguments [PROJECT_DIR, &lt;path&gt;]\r\n```\r\nAt the end of the day, I could find nothing that works out. However, both `environment &#39;PROJECT_DIR&#39;, &quot;${projectDir}&quot;` and `systemProperty &#39;PROJECT_DIR&#39;, &quot;${projectDir}&quot;` work if I include them in an existing JavaExec task. The problem is that my file cannot be triggered by any kind of JavaExec tasks as it is part of a bigger deployed service, so setting it through build.gradle seems like my only resort. \r\n\r\nI wanted to check if there is something I&#39;ve missed or some other way I could just make the project directory accessible to my java class. ","title":"Cannot set environment variable or property in Gradle outside test","body":"<p>I have been trying to set a simple environment variable (or system property, whatever works really) through build.gradle file to access it from a java method (which is not part of integration tests) but after exhausting almost every answer on this forum and elsewhere that I could find, I have still not been able to find a working solution. For reference I have to access it from a file in src/main folder.</p>\n<p>The problem I'm facing is that if I specify it like this</p>\n<pre><code>test {\n    environment 'PROJECT_DIR', &quot;${projectDir}&quot;\n}\n</code></pre>\n<p>and access it like this from my java file</p>\n<pre><code>String projectDir = System.getenv(&quot;PROJECT_DIR&quot;);\n</code></pre>\n<p>projectDir is null because I assume it's not part of test files.</p>\n<p>If I specify it like this</p>\n<pre><code>task MyTask(type: Exec) {\n    environment 'PROJECT_DIR', &quot;${projectDir}&quot;\n}\n\ntasks.withType(JavaCompile) {\n    compileTask -&gt; compileTask.dependsOn MyTask\n}\n</code></pre>\n<p>and accessing the same way as before, it gives an error saying</p>\n<pre><code>Execution failed for task '&lt;project-name&gt;:MyTask'.\n&gt; execCommand == null!\n</code></pre>\n<p>If I try to do something similar for system property like</p>\n<pre><code>task setProp(type: Exec) {\n    systemProperty 'PROJECT_DIR', &quot;${projectDir}&quot;\n}\ntasks.withType(JavaCompile) {\n    compileTask -&gt; compileTask.dependsOn MyTask\n}\n</code></pre>\n<p>and accessing it like</p>\n<pre><code>String projectDir = System.getProperty(&quot;PROJECT_DIR&quot;);\n</code></pre>\n<p>it ends up with this error</p>\n<pre><code>Could not find method systemProperty() for arguments [PROJECT_DIR, &lt;path&gt;]\n</code></pre>\n<p>At the end of the day, I could find nothing that works out. However, both <code>environment 'PROJECT_DIR', &quot;${projectDir}&quot;</code> and <code>systemProperty 'PROJECT_DIR', &quot;${projectDir}&quot;</code> work if I include them in an existing JavaExec task. The problem is that my file cannot be triggered by any kind of JavaExec tasks as it is part of a bigger deployed service, so setting it through build.gradle seems like my only resort.</p>\n<p>I wanted to check if there is something I've missed or some other way I could just make the project directory accessible to my java class.</p>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":22100069,"reputation":21,"user_id":16356680,"display_name":"SomeDevDoingStuff"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681124798,"creation_date":1679675254,"answer_id":75836107,"question_id":69928785,"body_markdown":"In the end, we managed to implement a separate integration server that used the following class to send the test responses:\r\n\r\n    @Component\r\n    public class MllpRoute extends EndpointRouteBuilder {\r\n    \r\n        @Override\r\n        public void configure() {\r\n            onException(HL7Exception.class)\r\n                    .log(&quot;Handling Exception&quot;)\r\n                    .transform(ack(AcknowledgmentCode.AE,&quot;Error transforming the message&quot;,\r\n                            ErrorCode.UNSUPPORTED_MESSAGE_TYPE))\r\n                    .handled(true)\r\n                    .end();\r\n    \r\n            // Successful ack\r\n            from(&quot;mllp://4441&quot;)\r\n                    .log(&quot;Message Received...&quot;)\r\n                    .unmarshal().hl7()\r\n                    .log(&quot;Done unmarshalling...&quot;)\r\n                    .validate(messageConforms())\r\n                    .log(&quot;Done validation...&quot;)\r\n                    .setProperty(MLLP_ACKNOWLEDGEMENT_STRING, ack(AcknowledgmentCode.valueOf(&quot;AA&quot;)))\r\n                    .end();\r\n    \r\n            // Internal Error ack\r\n            from(&quot;mllp://4442&quot;)\r\n                    .log(&quot;Message Received...&quot;)\r\n                    .unmarshal().hl7()\r\n                    .log(&quot;Done unmarshalling...&quot;)\r\n                    .validate(messageConforms())\r\n                    .log(&quot;Done validation...&quot;)\r\n                    .setProperty(MLLP_ACKNOWLEDGEMENT_STRING, ack(AcknowledgmentCode.valueOf(&quot;AE&quot;)))\r\n                    .end();\r\n    \r\n            // Unknown ack\r\n            from(&quot;mllp:4443&quot;)\r\n                    .log(&quot;Message Received...&quot;)\r\n                    .unmarshal().hl7()\r\n                    .log(&quot;Done unmarshalling...&quot;)\r\n                    .validate(messageConforms())\r\n                    .log(&quot;Done validation...&quot;)\r\n                    .setProperty(MLLP_ACKNOWLEDGEMENT_STRING, () -&gt; &quot;UNKNOWN&quot;)\r\n                    .end();\r\n        }\r\n    }\r\n\r\nFor additional context around `messageConforms()` see page: \r\nhttps://camel.apache.org/components/3.20.x/languages/hl7terser-language.html","title":"How to handle [MLLP] acknowledgments using [apache-camel]","body":"<p>In the end, we managed to implement a separate integration server that used the following class to send the test responses:</p>\n<pre><code>@Component\npublic class MllpRoute extends EndpointRouteBuilder {\n\n    @Override\n    public void configure() {\n        onException(HL7Exception.class)\n                .log(&quot;Handling Exception&quot;)\n                .transform(ack(AcknowledgmentCode.AE,&quot;Error transforming the message&quot;,\n                        ErrorCode.UNSUPPORTED_MESSAGE_TYPE))\n                .handled(true)\n                .end();\n\n        // Successful ack\n        from(&quot;mllp://4441&quot;)\n                .log(&quot;Message Received...&quot;)\n                .unmarshal().hl7()\n                .log(&quot;Done unmarshalling...&quot;)\n                .validate(messageConforms())\n                .log(&quot;Done validation...&quot;)\n                .setProperty(MLLP_ACKNOWLEDGEMENT_STRING, ack(AcknowledgmentCode.valueOf(&quot;AA&quot;)))\n                .end();\n\n        // Internal Error ack\n        from(&quot;mllp://4442&quot;)\n                .log(&quot;Message Received...&quot;)\n                .unmarshal().hl7()\n                .log(&quot;Done unmarshalling...&quot;)\n                .validate(messageConforms())\n                .log(&quot;Done validation...&quot;)\n                .setProperty(MLLP_ACKNOWLEDGEMENT_STRING, ack(AcknowledgmentCode.valueOf(&quot;AE&quot;)))\n                .end();\n\n        // Unknown ack\n        from(&quot;mllp:4443&quot;)\n                .log(&quot;Message Received...&quot;)\n                .unmarshal().hl7()\n                .log(&quot;Done unmarshalling...&quot;)\n                .validate(messageConforms())\n                .log(&quot;Done validation...&quot;)\n                .setProperty(MLLP_ACKNOWLEDGEMENT_STRING, () -&gt; &quot;UNKNOWN&quot;)\n                .end();\n    }\n}\n</code></pre>\n<p>For additional context around <code>messageConforms()</code> see page:\n<a href=\"https://camel.apache.org/components/3.20.x/languages/hl7terser-language.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.20.x/languages/hl7terser-language.html</a></p>\n"}],"owner":{"account_id":22100069,"reputation":21,"user_id":16356680,"display_name":"SomeDevDoingStuff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75836107,"answer_count":1,"score":2,"last_activity_date":1681124798,"creation_date":1636635923,"question_id":69928785,"body_markdown":"I&#39;m attempting to send a HL7 message between two MLLP apache-camel components: \r\n\r\n```\r\n@Component\r\npublic class Producer extends RouteBuilder {\r\n\r\n    @Override\r\n    public void configure() {\r\n        from(&quot;direct:hl7-recipient&quot;)\r\n                .marshal(new HL7DataFormat())\r\n                .to(mllp(&quot;localhost:4444&quot;))\r\n                .end();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n    \r\n```\r\n@Component\r\npublic class Consumer extends RouteBuilder {\r\n\r\n    @Override\r\n    public void configure() {\r\n        from(mllp(&quot;localhost:4444&quot;))\r\n                .log(&quot;received&quot;)\r\n                .unmarshal(new HL7DataFormat())\r\n                .log(&quot;unmarshalled&quot;)\r\n                .setProperty(MLLP_ACKNOWLEDGEMENT_TYPE, ack(AcknowledgmentCode.AA))\r\n                .log(&quot;responding&quot;)\r\n                .end();\r\n    }\r\n}\r\n\r\n```\r\n\r\nI can see the `received`, `unmarshalled` and `responding` log messages.  \r\n\r\nThe exception that is occurring:\r\n\r\n    java.net.SocketTimeoutException: Read timed out\r\n\r\nWith this extract from the stacktrace:\r\n\r\n    Failed delivery for (MessageId: 0D423F22CDC26D9-0000000000000000 on ExchangeId: 0D423F22CDC26D9-0000000000000000). Exhausted after delivery attempt: 1 caught: org.apache.camel.component.mllp.MllpAcknowledgementTimeoutException: process(0D423F22CDC26D9-0000000000000000) [Socket[addr=localhost/127.0.0.1,port=4444,localport=64357]] - timeout receiving MLLP Acknowledgment\r\n\r\n\r\nIt appears that the acknowledgment is not being returned. \r\n\r\n\r\nI have been following the apache-camel [official documentation][1] by setting the acknowledgment property on the exchange.\r\n\r\nThank you for any support.   \r\n\r\n\r\n  [1]: https://camel.apache.org/components/3.12.x/mllp-component.html#_exchange_properties","title":"How to handle [MLLP] acknowledgments using [apache-camel]","body":"<p>I'm attempting to send a HL7 message between two MLLP apache-camel components:</p>\n<pre><code>@Component\npublic class Producer extends RouteBuilder {\n\n    @Override\n    public void configure() {\n        from(&quot;direct:hl7-recipient&quot;)\n                .marshal(new HL7DataFormat())\n                .to(mllp(&quot;localhost:4444&quot;))\n                .end();\n    }\n}\n\n</code></pre>\n<pre><code>@Component\npublic class Consumer extends RouteBuilder {\n\n    @Override\n    public void configure() {\n        from(mllp(&quot;localhost:4444&quot;))\n                .log(&quot;received&quot;)\n                .unmarshal(new HL7DataFormat())\n                .log(&quot;unmarshalled&quot;)\n                .setProperty(MLLP_ACKNOWLEDGEMENT_TYPE, ack(AcknowledgmentCode.AA))\n                .log(&quot;responding&quot;)\n                .end();\n    }\n}\n\n</code></pre>\n<p>I can see the <code>received</code>, <code>unmarshalled</code> and <code>responding</code> log messages.</p>\n<p>The exception that is occurring:</p>\n<pre><code>java.net.SocketTimeoutException: Read timed out\n</code></pre>\n<p>With this extract from the stacktrace:</p>\n<pre><code>Failed delivery for (MessageId: 0D423F22CDC26D9-0000000000000000 on ExchangeId: 0D423F22CDC26D9-0000000000000000). Exhausted after delivery attempt: 1 caught: org.apache.camel.component.mllp.MllpAcknowledgementTimeoutException: process(0D423F22CDC26D9-0000000000000000) [Socket[addr=localhost/127.0.0.1,port=4444,localport=64357]] - timeout receiving MLLP Acknowledgment\n</code></pre>\n<p>It appears that the acknowledgment is not being returned.</p>\n<p>I have been following the apache-camel <a href=\"https://camel.apache.org/components/3.12.x/mllp-component.html#_exchange_properties\" rel=\"nofollow noreferrer\">official documentation</a> by setting the acknowledgment property on the exchange.</p>\n<p>Thank you for any support.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":1,"creation_date":1598277434,"post_id":63562389,"comment_id":112398088,"body_markdown":"Related [How to open user system preferred editor for given file?](https://stackoverflow.com/questions/526037/how-to-open-user-system-preferred-editor-for-given-file), but without a documented way to determine what application was run.","body":"Related <a href=\"https://stackoverflow.com/questions/526037/how-to-open-user-system-preferred-editor-for-given-file\">How to open user system preferred editor for given file?</a>, but without a documented way to determine what application was run."},{"owner":{"account_id":5175641,"reputation":830,"user_id":4142878,"display_name":"Carlos Bazilio"},"score":0,"creation_date":1598277544,"post_id":63562389,"comment_id":112398151,"body_markdown":".example is a Java application? Is it a jar file?","body":".example is a Java application? Is it a jar file?"},{"owner":{"account_id":16478274,"reputation":393,"user_id":11905620,"display_name":"MaS"},"score":1,"creation_date":1598279097,"post_id":63562389,"comment_id":112398993,"body_markdown":"I don&#39;t think there is a general answer for every OS. But maybe the answer [here](https://stackoverflow.com/a/13576250/11905620) might help you for Windows.","body":"I don&#39;t think there is a general answer for every OS. But maybe the answer <a href=\"https://stackoverflow.com/a/13576250/11905620\">here</a> might help you for Windows."},{"owner":{"account_id":9929807,"reputation":562,"user_id":7350192,"accept_rate":100,"display_name":"KUSH42"},"score":0,"creation_date":1598279361,"post_id":63562389,"comment_id":112399126,"body_markdown":"@MaS does not work for Java 11/12","body":"@MaS does not work for Java 11/12"}],"answers":[{"tags":[],"owner":{"account_id":9929807,"reputation":562,"user_id":7350192,"accept_rate":100,"display_name":"KUSH42"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1598278310,"creation_date":1598278310,"answer_id":63562770,"question_id":63562389,"body_markdown":"I do not think that this is possible just using *pure* Java.\r\n\r\nThe only way that comes to my mind right now (using Java) is to use [JNA][1] to directly interface with the Win32-API (note that this is written in C and not Java). See [this answer][2] for how to achieve the Win32-API-part and [this link][3] for how to use JNA.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_Native_Access\r\n  [2]: https://stackoverflow.com/a/17773402/7350192\r\n  [3]: https://www.techbeamers.com/write-a-simple-jna-program-in-java/","title":"Get application associated with a file java","body":"<p>I do not think that this is possible just using <em>pure</em> Java.</p>\n<p>The only way that comes to my mind right now (using Java) is to use <a href=\"https://en.wikipedia.org/wiki/Java_Native_Access\" rel=\"nofollow noreferrer\">JNA</a> to directly interface with the Win32-API (note that this is written in C and not Java). See <a href=\"https://stackoverflow.com/a/17773402/7350192\">this answer</a> for how to achieve the Win32-API-part and <a href=\"https://www.techbeamers.com/write-a-simple-jna-program-in-java/\" rel=\"nofollow noreferrer\">this link</a> for how to use JNA.</p>\n"}],"owner":{"account_id":17322209,"reputation":54,"user_id":12547339,"display_name":"hms11"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":63562770,"answer_count":1,"score":-1,"last_activity_date":1681124751,"creation_date":1598276974,"question_id":63562389,"body_markdown":"I am trying to get the associated program of a file, for example\r\nif I have a file ```C:/foo/bar.example``` I want to get what program\r\nopens ```.example``` (Kind of like Notepad.exe opens .txt Files).\r\n\r\nI tried creating a process to open that file using ```runtime.exec(&quot;rundll32 url.dll,FileProtocolHandler C:/foo/bar.example&quot;)``` \r\nbut there is no way to get the associated application using [Process][1].\r\n\r\nThis example shows what I am trying to achieve in Windows, although I want something cross platform.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html","title":"Get application associated with a file java","body":"<p>I am trying to get the associated program of a file, for example\nif I have a file <code>C:/foo/bar.example</code> I want to get what program\nopens <code>.example</code> (Kind of like Notepad.exe opens .txt Files).</p>\n<p>I tried creating a process to open that file using <code>runtime.exec(&quot;rundll32 url.dll,FileProtocolHandler C:/foo/bar.example&quot;)</code>\nbut there is no way to get the associated application using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html\" rel=\"nofollow noreferrer\">Process</a>.</p>\n<p>This example shows what I am trying to achieve in Windows, although I want something cross platform.</p>\n"},{"tags":["java","linux","kotlin","raspberry-pi","raspberry-pi-os"],"owner":{"account_id":18596311,"reputation":1,"user_id":13552237,"display_name":"Govind yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681124740,"creation_date":1681124259,"question_id":75976481,"body_markdown":"I have a Raspberry PI 4 with a dual display setup I wanted to show different operations on both displays depending on some logic.\r\n\r\nMy application is built with compose multiplatform I can make two screens by just following the code\r\n\r\n```\r\n\r\nfun main(args: Array&lt;String&gt;) = application {\r\n\r\n    Window(\r\n        onCloseRequest = app::onDestroy, title = &quot; WINDOW 1 &quot;, state = \r\n    rememberWindowState(\r\n            placement = WindowPlacement.Fullscreen\r\n        )\r\n    ) {\r\n        App(app)\r\n    }\r\n\r\n    Window(\r\n        onCloseRequest = app::onDestroy, title = &quot; WINDOW 2 &quot;, state = \r\n     rememberWindowState(\r\n            placement = WindowPlacement.Fullscreen\r\n        )\r\n    ) {\r\n        App(app)\r\n    }\r\n   \r\n}\r\n\r\n```\r\n\r\nBut I want to set WINDOW 1 to HDMI 1 and WINDOW 2 to HDMI 2 in full screen programmatically any idea how can I do that?\r\n\r\nCan anyone help me with it I tried using screen but no luck \r\n\r\n```\r\nsudo apt-get install screen \r\n```","title":"Changing HDMI diplay for specific scrrens programmatically (PI-4)","body":"<p>I have a Raspberry PI 4 with a dual display setup I wanted to show different operations on both displays depending on some logic.</p>\n<p>My application is built with compose multiplatform I can make two screens by just following the code</p>\n<pre><code>\nfun main(args: Array&lt;String&gt;) = application {\n\n    Window(\n        onCloseRequest = app::onDestroy, title = &quot; WINDOW 1 &quot;, state = \n    rememberWindowState(\n            placement = WindowPlacement.Fullscreen\n        )\n    ) {\n        App(app)\n    }\n\n    Window(\n        onCloseRequest = app::onDestroy, title = &quot; WINDOW 2 &quot;, state = \n     rememberWindowState(\n            placement = WindowPlacement.Fullscreen\n        )\n    ) {\n        App(app)\n    }\n   \n}\n\n</code></pre>\n<p>But I want to set WINDOW 1 to HDMI 1 and WINDOW 2 to HDMI 2 in full screen programmatically any idea how can I do that?</p>\n<p>Can anyone help me with it I tried using screen but no luck</p>\n<pre><code>sudo apt-get install screen \n</code></pre>\n"},{"tags":["java","android-softkeyboard","custom-keyboard","android-input-method"],"comments":[{"owner":{"account_id":1950118,"reputation":1353,"user_id":1754401,"display_name":"tagy22"},"score":0,"creation_date":1678965528,"post_id":55417232,"comment_id":133636838,"body_markdown":"I don&#39;t think `onCreateInputView` is being called. I tried setting the label in a function that I manually call and it works as expected.","body":"I don&#39;t think <code>onCreateInputView</code> is being called. I tried setting the label in a function that I manually call and it works as expected."}],"answers":[{"comments":[{"owner":{"account_id":14688437,"reputation":5100,"user_id":10607772,"display_name":"double-beep"},"score":1,"creation_date":1559055966,"post_id":56345063,"comment_id":99295217,"body_markdown":"This post doesn&#39;t look like an attempt to answer this question. Every post here is expected to be an explicit attempt to *answer* this question; if you have a critique or need a clarification of the question or another answer, you can [post a comment](//stackoverflow.com/help/privileges/comment) (like this one) directly below it. Please remove this answer and create either a comment or a new question. See: [Ask questions, get answers, no distractions](//stackoverflow.com/tour).","body":"This post doesn&#39;t look like an attempt to answer this question. Every post here is expected to be an explicit attempt to <i>answer</i> this question; if you have a critique or need a clarification of the question or another answer, you can <a href=\"//stackoverflow.com/help/privileges/comment\">post a comment</a> (like this one) directly below it. Please remove this answer and create either a comment or a new question. See: <a href=\"//stackoverflow.com/tour\">Ask questions, get answers, no distractions</a>."},{"owner":{"display_name":"user9599745"},"score":0,"creation_date":1559070673,"post_id":56345063,"comment_id":99302287,"body_markdown":"I did answer the question. Except for the other nicities.","body":"I did answer the question. Except for the other nicities."},{"owner":{"account_id":14688437,"reputation":5100,"user_id":10607772,"display_name":"double-beep"},"score":0,"creation_date":1559070760,"post_id":56345063,"comment_id":99302325,"body_markdown":"Currently, it isn&#39;t very clear. Can you [edit] your answer to both format your code according to [editing help](/editing-help) and make it a clearer answer.","body":"Currently, it isn&#39;t very clear. Can you <a href=\"https://stackoverflow.com/posts/56345063/edit\">edit</a> your answer to both format your code according to <a href=\"/editing-help\">editing help</a> and make it a clearer answer."}],"tags":[],"owner":{"display_name":"user9599745"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1559070759,"creation_date":1559055627,"answer_id":56345063,"question_id":55417232,"body_markdown":"List&lt;&gt;.get() returns the key with the particular index, not the key with the particular code. For example, List&lt;&gt;.get(0) returns the first key.","title":"How to change key label of the custom android keyboard in java","body":"<p>List&lt;>.get() returns the key with the particular index, not the key with the particular code. For example, List&lt;>.get(0) returns the first key.</p>\n"},{"tags":[],"owner":{"account_id":3188886,"reputation":189,"user_id":2693743,"accept_rate":60,"display_name":"flide"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681124422,"creation_date":1681124422,"answer_id":75976501,"question_id":55417232,"body_markdown":"I had a similar issue with my keyboard. I wanted to have a button showing currency symbol most relevant to the user based on the user&#39;s locale.\r\n\r\nSo, the first hurdle in changing the label for a button is to identify the button. I added a static label to the key using which I identify the key in the code.\r\n\r\n            &lt;Key\r\n                android:isRepeatable=&quot;true&quot;\r\n                android:keyLabel=&quot;@string/currencySymbol&quot;\r\n                android:keyWidth=&quot;25%p&quot;/&gt;\r\n\r\nNext item of business was to change the label to my desire. In the view class, during initialisation (Object construction), I setup the label.\r\n\r\n    public NumberKeypadView(Context context, AttributeSet attrs, int defStyleAttr) {\r\n        super(context, attrs, defStyleAttr);\r\n        initialize(context);\r\n    }\r\n\r\n    public void initialize(Context context) {\r\n        ...\r\n        setCurrencySymbolBasedOnLocale(keyboard);\r\n        ...\r\n    }\r\n\r\n    private void setCurrencySymbolBasedOnLocale(Keyboard keyboard) {\r\n        for (Keyboard.Key key: keyboard.getKeys()) {\r\n            if(key.label != null &amp;&amp; key.label.toString().equals(getResources().getString(R.string.currencySymbol))) {\r\n            Currency currency = Currency.getInstance(Locale.getDefault());\r\n            key.label = currency.getSymbol();\r\n            key.text = currency.getSymbol();\r\n            }\r\n        }\r\n    } \r\n\r\n\r\nAnd that is all.\r\n","title":"How to change key label of the custom android keyboard in java","body":"<p>I had a similar issue with my keyboard. I wanted to have a button showing currency symbol most relevant to the user based on the user's locale.</p>\n<p>So, the first hurdle in changing the label for a button is to identify the button. I added a static label to the key using which I identify the key in the code.</p>\n<pre><code>        &lt;Key\n            android:isRepeatable=&quot;true&quot;\n            android:keyLabel=&quot;@string/currencySymbol&quot;\n            android:keyWidth=&quot;25%p&quot;/&gt;\n</code></pre>\n<p>Next item of business was to change the label to my desire. In the view class, during initialisation (Object construction), I setup the label.</p>\n<pre><code>public NumberKeypadView(Context context, AttributeSet attrs, int defStyleAttr) {\n    super(context, attrs, defStyleAttr);\n    initialize(context);\n}\n\npublic void initialize(Context context) {\n    ...\n    setCurrencySymbolBasedOnLocale(keyboard);\n    ...\n}\n\nprivate void setCurrencySymbolBasedOnLocale(Keyboard keyboard) {\n    for (Keyboard.Key key: keyboard.getKeys()) {\n        if(key.label != null &amp;&amp; key.label.toString().equals(getResources().getString(R.string.currencySymbol))) {\n        Currency currency = Currency.getInstance(Locale.getDefault());\n        key.label = currency.getSymbol();\n        key.text = currency.getSymbol();\n        }\n    }\n} \n</code></pre>\n<p>And that is all.</p>\n"}],"owner":{"account_id":15630506,"reputation":1,"user_id":11276950,"display_name":"pete_yoe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":835,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681124422,"creation_date":1553861618,"question_id":55417232,"body_markdown":"I want to change the key label on my custom keyboard at run time, passing through java. I can&#39;t find any solution anywhere.\r\n\r\njava file\r\n```\r\n\r\npublic class MyKeyboardService extends InputMethodService implements KeyboardView.OnKeyboardActionListener {\r\n\r\n    public final static int keyToChange = 257;\r\n\r\n\r\n    KeyboardView kv;\r\n    Intent intent;\r\n\r\n    void updateInputView() {\r\n        if (kv == null)\r\n            return;\r\n        Keyboard currentKeyboard = kv.getKeyboard();\r\n        List&lt;Keyboard.Key&gt; keys = currentKeyboard.getKeys();\r\n        keys.get(keyToChange).label = &quot;Change Label&quot;;\r\n        kv.invalidateKey(keyToChange);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateInputView() {\r\n\r\n        checkIfFirstRun();\r\n\r\n        KeyboardView kv = (KeyboardView) getLayoutInflater().inflate(R.layout.keyboard, null);\r\n        Keyboard keyboard = new Keyboard(this, R.xml.layout_keys);\r\n\r\n        kv.setKeyboard(keyboard);\r\n        kv.setPreviewEnabled(false);\r\n        kv.setOnKeyboardActionListener(this);\r\n        updateInputView();\r\n\r\n\r\n        return kv;\r\n```\r\n\r\nxml file\r\n```\r\n        &lt;Key\r\n            android:codes=&quot;257&quot;\r\n            android:keyWidth=&quot;60%p&quot;/&gt;\r\n```\r\n\r\nNow, I still get blank label on the key.\r\nI want it to display &quot;Change Label&quot;","title":"How to change key label of the custom android keyboard in java","body":"<p>I want to change the key label on my custom keyboard at run time, passing through java. I can't find any solution anywhere.</p>\n<p>java file</p>\n<pre><code>\npublic class MyKeyboardService extends InputMethodService implements KeyboardView.OnKeyboardActionListener {\n\n    public final static int keyToChange = 257;\n\n\n    KeyboardView kv;\n    Intent intent;\n\n    void updateInputView() {\n        if (kv == null)\n            return;\n        Keyboard currentKeyboard = kv.getKeyboard();\n        List&lt;Keyboard.Key&gt; keys = currentKeyboard.getKeys();\n        keys.get(keyToChange).label = &quot;Change Label&quot;;\n        kv.invalidateKey(keyToChange);\n    }\n\n    @Override\n    public View onCreateInputView() {\n\n        checkIfFirstRun();\n\n        KeyboardView kv = (KeyboardView) getLayoutInflater().inflate(R.layout.keyboard, null);\n        Keyboard keyboard = new Keyboard(this, R.xml.layout_keys);\n\n        kv.setKeyboard(keyboard);\n        kv.setPreviewEnabled(false);\n        kv.setOnKeyboardActionListener(this);\n        updateInputView();\n\n\n        return kv;\n</code></pre>\n<p>xml file</p>\n<pre><code>        &lt;Key\n            android:codes=&quot;257&quot;\n            android:keyWidth=&quot;60%p&quot;/&gt;\n</code></pre>\n<p>Now, I still get blank label on the key.\nI want it to display &quot;Change Label&quot;</p>\n"},{"tags":["java","android","image","bitmap","crop"],"answers":[{"tags":[],"owner":{"account_id":22264521,"reputation":329,"user_id":20837030,"display_name":"jcredking"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681124395,"creation_date":1681124395,"answer_id":75976497,"question_id":75970748,"body_markdown":"For Image crop, you can use the below dependency. It&#39;s very simple and easy to use more useful I personally use it \r\n\r\n\r\n        implementation &#39;com.isseiaoki:simplecropview:1.1.8&#39;\r\n\r\n \r\n\r\n - For How To Implement this visit this on [GitHub here][1] \r\n\r\n    \r\n\r\n\r\n  [1]: https://github.com/igreenwood/SimpleCropView","title":"Android java: Crop image function not working","body":"<p>For Image crop, you can use the below dependency. It's very simple and easy to use more useful I personally use it</p>\n<pre><code>    implementation 'com.isseiaoki:simplecropview:1.1.8'\n</code></pre>\n<ul>\n<li>For How To Implement this visit this on <a href=\"https://github.com/igreenwood/SimpleCropView\" rel=\"nofollow noreferrer\">GitHub here</a></li>\n</ul>\n"}],"owner":{"account_id":25518433,"reputation":1,"user_id":21601999,"display_name":"Dylan Reik Salas Deza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681124395,"creation_date":1681046202,"question_id":75970748,"body_markdown":"The function calls the name of the image then where it is going to be put then from where to where it is going to be cropped and to where but it doesn&#39;t seem to work correctly it doesn&#39;t execute it\r\n\r\n```\r\npublic void _cropImage(final ImageView _img, final String _nameImg, final double _x, final double _y, final double _x1, final double _y1) {\r\n\t\t    // Get the resource ID of the drawable image specified\r\n\t\t    int resId = getResources().getIdentifier(_nameImg, &quot;drawable&quot;, getPackageName());\r\n\t\t\r\n\t\t    // Decode the image resource into a Bitmap object\r\n\t\t    Bitmap originalBitmap = BitmapFactory.decodeResource(getResources(), resId);\r\n\t\t\r\n\t\t    // Calculate the scale factor to convert pixels to image coordinates\r\n\t\t    float scaleFactor = (float) originalBitmap.getWidth() / (float) _img.getWidth();\r\n\t\t\r\n\t\t    // Convert the clip dimensions from pixels to image coordinates\r\n\t\t    int x_1 = (int) (_x * scaleFactor);\r\n\t\t    int y_1 = (int) (_y * scaleFactor);\r\n\t\t    int x_2 = (int) ((_x + _x1) * scaleFactor);\r\n\t\t    int y_2 = (int) ((_y + _y1) * scaleFactor);\r\n\t\t\r\n\t\t    // Ensure that the crop dimensions are within the bounds of the original bitmap\r\n\t\t    x_1 = Math.max(x_1, 0);\r\n\t\t    y_1 = Math.max(y_1, 0);\r\n\t\t    x_2 = Math.min(x_2, originalBitmap.getWidth());\r\n\t\t    y_2 = Math.min(y_2, originalBitmap.getHeight());\r\n\t\t\r\n\t\t    // Create a new bitmap to hold the clipped region\r\n\t\t    Bitmap croppedBitmap = Bitmap.createBitmap(originalBitmap, x_1, y_1, x_2 - x_1, y_2 - y_1);\r\n\t\t\r\n\t\t    // Display the cropped bitmap in the ImageView\r\n\t\t    _img.setImageBitmap(croppedBitmap);\r\n\t}\r\n```\r\n\r\n\r\nThe function doesn&#39;t crop the image from x,y at x,y","title":"Android java: Crop image function not working","body":"<p>The function calls the name of the image then where it is going to be put then from where to where it is going to be cropped and to where but it doesn't seem to work correctly it doesn't execute it</p>\n<pre><code>public void _cropImage(final ImageView _img, final String _nameImg, final double _x, final double _y, final double _x1, final double _y1) {\n            // Get the resource ID of the drawable image specified\n            int resId = getResources().getIdentifier(_nameImg, &quot;drawable&quot;, getPackageName());\n        \n            // Decode the image resource into a Bitmap object\n            Bitmap originalBitmap = BitmapFactory.decodeResource(getResources(), resId);\n        \n            // Calculate the scale factor to convert pixels to image coordinates\n            float scaleFactor = (float) originalBitmap.getWidth() / (float) _img.getWidth();\n        \n            // Convert the clip dimensions from pixels to image coordinates\n            int x_1 = (int) (_x * scaleFactor);\n            int y_1 = (int) (_y * scaleFactor);\n            int x_2 = (int) ((_x + _x1) * scaleFactor);\n            int y_2 = (int) ((_y + _y1) * scaleFactor);\n        \n            // Ensure that the crop dimensions are within the bounds of the original bitmap\n            x_1 = Math.max(x_1, 0);\n            y_1 = Math.max(y_1, 0);\n            x_2 = Math.min(x_2, originalBitmap.getWidth());\n            y_2 = Math.min(y_2, originalBitmap.getHeight());\n        \n            // Create a new bitmap to hold the clipped region\n            Bitmap croppedBitmap = Bitmap.createBitmap(originalBitmap, x_1, y_1, x_2 - x_1, y_2 - y_1);\n        \n            // Display the cropped bitmap in the ImageView\n            _img.setImageBitmap(croppedBitmap);\n    }\n</code></pre>\n<p>The function doesn't crop the image from x,y at x,y</p>\n"},{"tags":["java","testng"],"answers":[{"comments":[{"owner":{"account_id":1005202,"reputation":1197,"user_id":1019159,"accept_rate":45,"display_name":"ricb"},"score":0,"creation_date":1405455571,"post_id":24766349,"comment_id":38431178,"body_markdown":"Good idea. This will meet my needs. Thanks. If anybody knows of a more testng-y way, I would like to learn it as well.","body":"Good idea. This will meet my needs. Thanks. If anybody knows of a more testng-y way, I would like to learn it as well."},{"owner":{"account_id":8417919,"reputation":125,"user_id":6317667,"display_name":"Yogesh"},"score":0,"creation_date":1543347552,"post_id":24766349,"comment_id":93883632,"body_markdown":"Hi, where do we get &#39;TestRepository&#39; class from? is it part of any library? or is it new class that you have created","body":"Hi, where do we get &#39;TestRepository&#39; class from? is it part of any library? or is it new class that you have created"},{"owner":{"account_id":1288640,"reputation":8167,"user_id":1241193,"display_name":"Bob Dalgleish"},"score":0,"creation_date":1543414863,"post_id":24766349,"comment_id":93911805,"body_markdown":"`TestRepository` would be a class that you create for the purpose of returning acting as a repository.","body":"<code>TestRepository</code> would be a class that you create for the purpose of returning acting as a repository."}],"tags":[],"owner":{"account_id":1288640,"reputation":8167,"user_id":1241193,"display_name":"Bob Dalgleish"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1405451698,"creation_date":1405451698,"answer_id":24766349,"question_id":24766147,"body_markdown":"Use a factory to create a repository. The repository stores &quot;interesting test state&quot; properties.\r\n\r\n      TestRepository tr = TestRepositoryFactory.getInstance();\r\n      ...\r\n      tr.store(&quot;test13.PKID&quot;, pkid.toString());\r\n\r\nand then in your subsequent code, repeat the call to the factory and then get the value:\r\n\r\n      String spkid = tr.get(&quot;test13.PKID&quot;);\r\n\r\n","title":"TestNG - sharing state between test classes","body":"<p>Use a factory to create a repository. The repository stores \"interesting test state\" properties.</p>\n\n<pre><code>  TestRepository tr = TestRepositoryFactory.getInstance();\n  ...\n  tr.store(\"test13.PKID\", pkid.toString());\n</code></pre>\n\n<p>and then in your subsequent code, repeat the call to the factory and then get the value:</p>\n\n<pre><code>  String spkid = tr.get(\"test13.PKID\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2276132,"reputation":404,"user_id":2002340,"accept_rate":100,"display_name":"raman rayat"},"score":2,"creation_date":1533717103,"post_id":38792029,"comment_id":90444029,"body_markdown":"its not working when I try to use in another test class","body":"its not working when I try to use in another test class"}],"tags":[],"owner":{"account_id":3034445,"reputation":315,"user_id":2572861,"accept_rate":62,"display_name":"Dmitry Glushonkov"},"comment_count":1,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1470408315,"creation_date":1470408315,"answer_id":38792029,"question_id":24766147,"body_markdown":"Really Testng-y way to do this is to set ITestContext attribute with desired value and then get it from other test class.\r\n\r\nSet value:\r\n\r\n    @Test\r\n    public void setvaluetest(ITestContext context) {\r\n            String customerId = &quot;GDFg34fDF&quot;;\r\n            context.setAttribute(&quot;customerId&quot;, customerId);\r\n    }\r\n\r\nGet value:\r\n\r\n    @Test\r\n    public void getvaluetest(ITestContext context) {\r\n            String id = context.getAttribute(&quot;customerId&quot;);\r\n    }","title":"TestNG - sharing state between test classes","body":"<p>Really Testng-y way to do this is to set ITestContext attribute with desired value and then get it from other test class.</p>\n\n<p>Set value:</p>\n\n<pre><code>@Test\npublic void setvaluetest(ITestContext context) {\n        String customerId = \"GDFg34fDF\";\n        context.setAttribute(\"customerId\", customerId);\n}\n</code></pre>\n\n<p>Get value:</p>\n\n<pre><code>@Test\npublic void getvaluetest(ITestContext context) {\n        String id = context.getAttribute(\"customerId\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3191086,"reputation":2391,"user_id":2695298,"accept_rate":79,"display_name":"Ivan Gerasimenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522759457,"creation_date":1521552956,"answer_id":49385709,"question_id":24766147,"body_markdown":"Another way is to use means of object oriented programming.\r\n\r\nCommon structure of tests for example:\r\n\r\n - `TestBase.java` (parent class for all other test classes, has methods like @BeforeTest, @AfterSuite, etc.)\r\n  - `RegistrationTests.java` (extends TestBase, )\r\n  - `ShoppingTests.java` (extends TestBase)\r\n  - and `WhateverElseTests.java` (extends TestBase)\r\n\r\nSo `TestBase` has all shared data as static fields e.g. `Customer` object:\r\n\r\n    public class TestBase {\r\n    \r\n        protected static final BrowserManager bw = new BrowserManager();\r\n        protected static Customer customer;\r\n    \r\n        @BeforeSuite\r\n        public void initBrowser() {\r\n            bw.init();\r\n        }\r\n    \r\n        @AfterSuite\r\n        public void terminateBrowser() {\r\n            bw.terminate();\r\n        }\r\n    \r\n    }\r\n\r\nAnd access to `customer` in tests, e.g. `ShoppingTests.java`:\r\n\r\n    public class ShoppingTests extends TestBase {\r\n\r\n        @Test\r\n        public void doSomethingTest() {\r\n            \r\n            bw.navigateTo().shoppingPage();\r\n\r\n            bw.shoppingPreparationHelper().checkDisplayedName(customer.name);\r\n            ...\r\n\r\n**N.B.:** tests that share objects should go in a strict sequence (first - test that init object, then - test that uses object&#39;s data), so use `@Test(dependsOnMethods = &quot;someMethodTest&quot;)`. Otherwise you are in risk of NullPointerException for `customer`.\r\n\r\n**P.S.:** Object-oriented way has great advantage over `ITestContext` because you can pass any object(s) from test to test (also between classes), not just string attribute.","title":"TestNG - sharing state between test classes","body":"<p>Another way is to use means of object oriented programming.</p>\n\n<p>Common structure of tests for example:</p>\n\n<ul>\n<li><code>TestBase.java</code> (parent class for all other test classes, has methods like @BeforeTest, @AfterSuite, etc.)\n\n<ul>\n<li><code>RegistrationTests.java</code> (extends TestBase, )</li>\n<li><code>ShoppingTests.java</code> (extends TestBase)</li>\n<li>and <code>WhateverElseTests.java</code> (extends TestBase)</li>\n</ul></li>\n</ul>\n\n<p>So <code>TestBase</code> has all shared data as static fields e.g. <code>Customer</code> object:</p>\n\n<pre><code>public class TestBase {\n\n    protected static final BrowserManager bw = new BrowserManager();\n    protected static Customer customer;\n\n    @BeforeSuite\n    public void initBrowser() {\n        bw.init();\n    }\n\n    @AfterSuite\n    public void terminateBrowser() {\n        bw.terminate();\n    }\n\n}\n</code></pre>\n\n<p>And access to <code>customer</code> in tests, e.g. <code>ShoppingTests.java</code>:</p>\n\n<pre><code>public class ShoppingTests extends TestBase {\n\n    @Test\n    public void doSomethingTest() {\n\n        bw.navigateTo().shoppingPage();\n\n        bw.shoppingPreparationHelper().checkDisplayedName(customer.name);\n        ...\n</code></pre>\n\n<p><strong>N.B.:</strong> tests that share objects should go in a strict sequence (first - test that init object, then - test that uses object's data), so use <code>@Test(dependsOnMethods = \"someMethodTest\")</code>. Otherwise you are in risk of NullPointerException for <code>customer</code>.</p>\n\n<p><strong>P.S.:</strong> Object-oriented way has great advantage over <code>ITestContext</code> because you can pass any object(s) from test to test (also between classes), not just string attribute.</p>\n"},{"tags":[],"owner":{"account_id":2729575,"reputation":536,"user_id":2353652,"display_name":"Sam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550106926,"creation_date":1550106926,"answer_id":54681845,"question_id":24766147,"body_markdown":"\r\nAs we know from TestNG JavaDoc, ITestContext defines a test context which contains all the information for a given test run. An instance of this context is passed to the test listeners so they can query information about their environment.\r\nSo we can share generated data from one class in this test with another class in this test.\r\n\r\nProducer.java\r\n\r\n    public List&lt;String&gt; groupIds = ...;\r\n    @AfterClass(alwaysRun = true)\r\n    public void reserveGroupIds(ITestContext ctx) {\r\n        ctx.setAttribute(GROUPS_ATTR, groupIds);\r\n    }\r\n\r\nConsumer.java\r\n\r\n    public List&lt;String&gt; groupIds;\r\n    @BeforeClass(alwaysRun = true)\r\n    public void fetchGroupIds(ITestContext ctx) {\r\n        groupIds = (List&lt;String&gt;) ctx.getAttribute(Producer.GROUPS_ATTR);\r\n    }\r\n\r\nmySuite.xml\r\n\r\n    ...\r\n    &lt;test&gt;\r\n      &lt;classes&gt;\r\n        &lt;class name= &quot;Producer&quot;/&gt;\r\n        &lt;class name= &quot;Consumer&quot;/&gt;\r\n      &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n    ...\r\n","title":"TestNG - sharing state between test classes","body":"<p>As we know from TestNG JavaDoc, ITestContext defines a test context which contains all the information for a given test run. An instance of this context is passed to the test listeners so they can query information about their environment.\nSo we can share generated data from one class in this test with another class in this test.</p>\n\n<p>Producer.java</p>\n\n<pre><code>public List&lt;String&gt; groupIds = ...;\n@AfterClass(alwaysRun = true)\npublic void reserveGroupIds(ITestContext ctx) {\n    ctx.setAttribute(GROUPS_ATTR, groupIds);\n}\n</code></pre>\n\n<p>Consumer.java</p>\n\n<pre><code>public List&lt;String&gt; groupIds;\n@BeforeClass(alwaysRun = true)\npublic void fetchGroupIds(ITestContext ctx) {\n    groupIds = (List&lt;String&gt;) ctx.getAttribute(Producer.GROUPS_ATTR);\n}\n</code></pre>\n\n<p>mySuite.xml</p>\n\n<pre><code>...\n&lt;test&gt;\n  &lt;classes&gt;\n    &lt;class name= \"Producer\"/&gt;\n    &lt;class name= \"Consumer\"/&gt;\n  &lt;/classes&gt;\n&lt;/test&gt;\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3106827,"reputation":762,"user_id":2629440,"display_name":"Vivek Goel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681124331,"creation_date":1681124331,"answer_id":75976490,"question_id":24766147,"body_markdown":"ITestContext will work fine if both the test cases are in same test scope. If we have to share data between tests in different test context but same suite then we have to set the data in suite context.\r\n\r\n    public class SharingDataSuiteLevelISuiteFirstTest {\r\n    \t\r\n    \t// Passing ITestContext as a parameter to @Test method to use it. \r\n    \t@Test\r\n    \tpublic void generateData(ITestContext context)\r\n    \t{\r\n    \t\tString firstName = &quot;Amod&quot;;\r\n    \t\t// Get the suite\r\n    \t\tISuite suite = context.getSuite();\r\n    \t\t// Setting an attribute with name and its value at suite level in stead of test level\r\n    \t\tsuite.setAttribute(&quot;FirstName&quot;, firstName);\r\n    \t}\r\n    }\r\n\r\n    public class SharingDataSuiteLevelISuiteSecondTest {\r\n    \t\r\n    \t// Passing ITestContext as a parameter to @Test method to use it. \r\n    \t@Test\r\n    \tpublic void useData(ITestContext context)\r\n    \t{\r\n    \t\tString lastName = &quot;Mahajan&quot;;\r\n    \t\t// Retrieving attribute value set in ITestContext\r\n    \t\tISuite suite = context.getSuite();\r\n    \t\tString FN = (String) suite.getAttribute(&quot;FirstName&quot;);\r\n    \t\tString fullName = FN +&quot; &quot;+lastName;\r\n    \t\tSystem.out.println(&quot;Full Name is : &quot;+fullName);\r\n    \t}\r\n    }\r\n\r\nMore explanation to the above problem can be found here: http://makeseleniumeasy.com/2020/01/06/testng-tutorials-68-sharing-data-between-tests-in-a-suite-using-isuite-itestcontext/\r\n\r\n","title":"TestNG - sharing state between test classes","body":"<p>ITestContext will work fine if both the test cases are in same test scope. If we have to share data between tests in different test context but same suite then we have to set the data in suite context.</p>\n<pre><code>public class SharingDataSuiteLevelISuiteFirstTest {\n    \n    // Passing ITestContext as a parameter to @Test method to use it. \n    @Test\n    public void generateData(ITestContext context)\n    {\n        String firstName = &quot;Amod&quot;;\n        // Get the suite\n        ISuite suite = context.getSuite();\n        // Setting an attribute with name and its value at suite level in stead of test level\n        suite.setAttribute(&quot;FirstName&quot;, firstName);\n    }\n}\n\npublic class SharingDataSuiteLevelISuiteSecondTest {\n    \n    // Passing ITestContext as a parameter to @Test method to use it. \n    @Test\n    public void useData(ITestContext context)\n    {\n        String lastName = &quot;Mahajan&quot;;\n        // Retrieving attribute value set in ITestContext\n        ISuite suite = context.getSuite();\n        String FN = (String) suite.getAttribute(&quot;FirstName&quot;);\n        String fullName = FN +&quot; &quot;+lastName;\n        System.out.println(&quot;Full Name is : &quot;+fullName);\n    }\n}\n</code></pre>\n<p>More explanation to the above problem can be found here: <a href=\"http://makeseleniumeasy.com/2020/01/06/testng-tutorials-68-sharing-data-between-tests-in-a-suite-using-isuite-itestcontext/\" rel=\"nofollow noreferrer\">http://makeseleniumeasy.com/2020/01/06/testng-tutorials-68-sharing-data-between-tests-in-a-suite-using-isuite-itestcontext/</a></p>\n"}],"owner":{"account_id":1005202,"reputation":1197,"user_id":1019159,"accept_rate":45,"display_name":"ricb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6097,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":24766349,"answer_count":5,"score":6,"last_activity_date":1681124331,"creation_date":1405451059,"question_id":24766147,"body_markdown":"I have a [tag:TestNG] suite of test classes that I am running via a testng.xml file. This works fine. All tests are run serially, so no parallel-execution hurdles.\r\n\r\nMy goal now is to take state that was generated by the test methods in one test class (e.g., a `customerId` primary key value generated by a database insert) and pass it along to another test class, so that the test methods in that second class can take further action based on that shared state (e.g., look up the just-inserted customer using the `customerId` value from the first class).\r\n\r\nIt&#39;s easy to share state between test methods in a single class, of course, via class member variables, but I don&#39;t see how to share it across test classes.","title":"TestNG - sharing state between test classes","body":"<p>I have a <a href=\"/questions/tagged/testng\" class=\"post-tag\" title=\"show questions tagged &#39;testng&#39;\" rel=\"tag\">testng</a> suite of test classes that I am running via a testng.xml file. This works fine. All tests are run serially, so no parallel-execution hurdles.</p>\n\n<p>My goal now is to take state that was generated by the test methods in one test class (e.g., a <code>customerId</code> primary key value generated by a database insert) and pass it along to another test class, so that the test methods in that second class can take further action based on that shared state (e.g., look up the just-inserted customer using the <code>customerId</code> value from the first class).</p>\n\n<p>It's easy to share state between test methods in a single class, of course, via class member variables, but I don't see how to share it across test classes.</p>\n"},{"tags":["java","jsoup","pretty-print"],"answers":[{"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1600757000,"post_id":59402227,"comment_id":113179711,"body_markdown":"Okay, after 9 months without a single comment or alternative answer, I am accepting my own workaround as an answer. My request on the mailing list also was not answered. So I am not expecting any progress there feature-wise. &#128532;","body":"Okay, after 9 months without a single comment or alternative answer, I am accepting my own workaround as an answer. My request on the mailing list also was not answered. So I am not expecting any progress there feature-wise. 😔"}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681123711,"creation_date":1576719270,"answer_id":59402227,"question_id":59367234,"body_markdown":"What I ended up doing, because I got no answer here so far and found no better solution either, is horrible, but it works:\r\n\r\n  1. **Parse** + clean document\r\n  2. Get (via `toString()`) + preserve pretty-printed HTML content\r\n  3. Deactivate pretty-printing, then get (via `toString()`) + **re-parse** content in original formatting into temporary document\r\n  4. **Re-parse** pretty-printed content from step 2 and assign to original document (overwriting it), then deactivate pretty-printing for the newly assigned document\r\n  5. Replace content for which pretty-printing would destroy formatting (e.g. elements with CSS `white-space: pre-wrap`) by preserved original from step 2 via iterating over both documents in parallel via something like\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    for (int i = 0; i &lt; elementsToBeFixed.size(); i++) \r\n      elementsToBeFixed.get(i).replaceWith(originalElements.get(i));\r\n\r\nConclusion: This is ugly because the same document which has already been parsed + cleaned up before needs to be re-parsed two more times, i.e. we have a total of 3 `Jsoup.parse(..)` calls. But - it works. `:-/`\r\n\r\nI am still waiting for a better answer here, though.","title":"Selectively deactivate pretty-print in jsoup for certain regions in a document","body":"<p>What I ended up doing, because I got no answer here so far and found no better solution either, is horrible, but it works:</p>\n<ol>\n<li><strong>Parse</strong> + clean document</li>\n<li>Get (via <code>toString()</code>) + preserve pretty-printed HTML content</li>\n<li>Deactivate pretty-printing, then get (via <code>toString()</code>) + <strong>re-parse</strong> content in original formatting into temporary document</li>\n<li><strong>Re-parse</strong> pretty-printed content from step 2 and assign to original document (overwriting it), then deactivate pretty-printing for the newly assigned document</li>\n<li>Replace content for which pretty-printing would destroy formatting (e.g. elements with CSS <code>white-space: pre-wrap</code>) by preserved original from step 2 via iterating over both documents in parallel via something like</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; elementsToBeFixed.size(); i++) \n  elementsToBeFixed.get(i).replaceWith(originalElements.get(i));\n</code></pre>\n<p>Conclusion: This is ugly because the same document which has already been parsed + cleaned up before needs to be re-parsed two more times, i.e. we have a total of 3 <code>Jsoup.parse(..)</code> calls. But - it works. <code>:-/</code></p>\n<p>I am still waiting for a better answer here, though.</p>\n"}],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59402227,"answer_count":1,"score":2,"last_activity_date":1681123711,"creation_date":1576553389,"question_id":59367234,"body_markdown":"When cleaning HTML documents with _**jsoup**_ I like the fact that it automatically applies pretty-printing. I know I can deactivate it on a per-document basis, but I like to apply it for most of the document with the exception of certain problematic regions in which jsoup does not do a good job.\r\n\r\nAn example would be `DIV` tags with [CSS specifying `white-space: pre-wrap;`](https://css-tricks.com/almanac/properties/w/whitespace/), i.e. semantically they behave like `PRE` tags, which means that the browser will be sensitive to line feeds and other whitespace (indentation). It gets worse if inside those regions there are more tags like `BR`, `SPAN` etc. because pretty-printing is applied and destroys the intended formatting of those regions.\r\n\r\nSo instead of deactivating pretty-printing completely for the whole HTML document, I like to selectively deactivate it whenever the parser meets something like `div.listing` (yes, I know the CSS class name of the problematic region) and retain the original HTML there. How would I go about implementing this?\r\n\r\n**Update:** I forgot to mention that I print the cleaned document using \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    output.print(document);\r\n\r\nwhere `output` is a `PrintStream` and `document` is the jsoup `Document` instance. So if there is a better way to output the document, I am also open for suggestions.","title":"Selectively deactivate pretty-print in jsoup for certain regions in a document","body":"<p>When cleaning HTML documents with <em><strong>jsoup</strong></em> I like the fact that it automatically applies pretty-printing. I know I can deactivate it on a per-document basis, but I like to apply it for most of the document with the exception of certain problematic regions in which jsoup does not do a good job.</p>\n\n<p>An example would be <code>DIV</code> tags with <a href=\"https://css-tricks.com/almanac/properties/w/whitespace/\" rel=\"nofollow noreferrer\">CSS specifying <code>white-space: pre-wrap;</code></a>, i.e. semantically they behave like <code>PRE</code> tags, which means that the browser will be sensitive to line feeds and other whitespace (indentation). It gets worse if inside those regions there are more tags like <code>BR</code>, <code>SPAN</code> etc. because pretty-printing is applied and destroys the intended formatting of those regions.</p>\n\n<p>So instead of deactivating pretty-printing completely for the whole HTML document, I like to selectively deactivate it whenever the parser meets something like <code>div.listing</code> (yes, I know the CSS class name of the problematic region) and retain the original HTML there. How would I go about implementing this?</p>\n\n<p><strong>Update:</strong> I forgot to mention that I print the cleaned document using </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>output.print(document);\n</code></pre>\n\n<p>where <code>output</code> is a <code>PrintStream</code> and <code>document</code> is the jsoup <code>Document</code> instance. So if there is a better way to output the document, I am also open for suggestions.</p>\n"},{"tags":["java","rest","ssl","grizzly"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1448038591,"post_id":33831480,"comment_id":55429233,"body_markdown":"You only need the client cert in the server trust store for mutual (two way) ssl. If the server cert is self signed, what you will need to do is add the server cert to the client trust store","body":"You only need the client cert in the server trust store for mutual (two way) ssl. If the server cert is self signed, what you will need to do is add the server cert to the client trust store"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":1,"creation_date":1448039269,"post_id":33831480,"comment_id":55429647,"body_markdown":"Take a look at [this example](https://github.com/jersey/jersey/tree/master/examples/https-clientserver-grizzly)","body":"Take a look at <a href=\"https://github.com/jersey/jersey/tree/master/examples/https-clientserver-grizzly\" rel=\"nofollow noreferrer\">this example</a>"},{"owner":{"account_id":293805,"reputation":233,"user_id":3426462,"accept_rate":20,"display_name":"jmsimpson68"},"score":0,"creation_date":1448041526,"post_id":33831480,"comment_id":55430927,"body_markdown":"@peetskillet - that is the example I started with.  The only difference is that I&#39;m not using the jersey-container-grizzly2-servlet setup.  Just using the regular jersey-container-grizzly2-http version as a dependency.  I don&#39;t think that would make any difference.","body":"@peetskillet - that is the example I started with.  The only difference is that I&#39;m not using the jersey-container-grizzly2-servlet setup.  Just using the regular jersey-container-grizzly2-http version as a dependency.  I don&#39;t think that would make any difference."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1448041869,"post_id":33831480,"comment_id":55431101,"body_markdown":"Are you using the Jersey client or a different client? Did you follow the instructions to create the stores and imports? The example as is works for me (also create new stores from the instructions). You can see the Jersey client set up in the test case. I don&#39;t think changing from the servlet to http config should make a different, though I didn&#39;t test","body":"Are you using the Jersey client or a different client? Did you follow the instructions to create the stores and imports? The example as is works for me (also create new stores from the instructions). You can see the Jersey client set up in the test case. I don&#39;t think changing from the servlet to http config should make a different, though I didn&#39;t test"},{"owner":{"account_id":293805,"reputation":233,"user_id":3426462,"accept_rate":20,"display_name":"jmsimpson68"},"score":0,"creation_date":1448042565,"post_id":33831480,"comment_id":55431482,"body_markdown":"Right now I&#39;m just using a web browser (Safari, Firefox, Chrome) to attempt to access the resource.  No luck with them.  It should be setup to allow simple 1-way SSL with a browser.  I&#39;m not using a special client.","body":"Right now I&#39;m just using a web browser (Safari, Firefox, Chrome) to attempt to access the resource.  No luck with them.  It should be setup to allow simple 1-way SSL with a browser.  I&#39;m not using a special client."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1448042725,"post_id":33831480,"comment_id":55431572,"body_markdown":"Does it at least show you something asking if you want to trust the cert when testing in the browser?","body":"Does it at least show you something asking if you want to trust the cert when testing in the browser?"},{"owner":{"account_id":293805,"reputation":233,"user_id":3426462,"accept_rate":20,"display_name":"jmsimpson68"},"score":0,"creation_date":1448043407,"post_id":33831480,"comment_id":55431931,"body_markdown":"Unfortunately, no.  That was what I was expecting (the &quot;get me out of here&quot; dialog).  It just fails in the handshake before it gets there and the browser tell me that the connection was unsecure and interrupted.","body":"Unfortunately, no.  That was what I was expecting (the &quot;get me out of here&quot; dialog).  It just fails in the handshake before it gets there and the browser tell me that the connection was unsecure and interrupted."},{"owner":{"account_id":293805,"reputation":233,"user_id":3426462,"accept_rate":20,"display_name":"jmsimpson68"},"score":0,"creation_date":1448044621,"post_id":33831480,"comment_id":55432596,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/95735/discussion-between-jms-and-peeskillet).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/95735/discussion-between-jms-and-peeskillet\">continue this discussion in chat</a>."},{"owner":{"account_id":9111310,"reputation":871,"user_id":6779950,"display_name":"Steve Owens"},"score":0,"creation_date":1520366975,"post_id":33831480,"comment_id":85283467,"body_markdown":"I sure would have loved to been in on that chat, I am having the same issue with my configuration.  Just hangs waiting for the certs.","body":"I sure would have loved to been in on that chat, I am having the same issue with my configuration.  Just hangs waiting for the certs."},{"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"score":0,"creation_date":1681123047,"post_id":33831480,"comment_id":134001658,"body_markdown":"Similar question: https://stackoverflow.com/q/21098105/873282","body":"Similar question: <a href=\"https://stackoverflow.com/q/21098105/873282\">stackoverflow.com/q/21098105/873282</a>"}],"answers":[{"tags":[],"owner":{"account_id":293805,"reputation":233,"user_id":3426462,"accept_rate":20,"display_name":"jmsimpson68"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1448046706,"creation_date":1448046706,"answer_id":33834327,"question_id":33831480,"body_markdown":"I have seen this type of handshake issue come up in other posts while trying to run this issue to ground.  In all of these handshake posts, the server key algorithm was never discussed - I wish it had been.  It would have saved me a couple of hours.  The issue that caused the above errors stemmed from assuming that the keystores that were created as part of the Jersey sample project would work.  The server key was the problem.\r\n\r\nThe sample server certs are generated using the DSA algorithm.  Apparently this is an issue.\r\n\r\nI recreated the server keys using a RSA algorithm and 2048 bit strength.  I restarted the server and the everything started to work like one would expect.  \r\n\r\nThe error was that I assumed that the &quot;sample&quot; keys would work.  Oops.","title":"How to setup basic Jersey/Grizzly 2.21 SSL startup configuration","body":"<p>I have seen this type of handshake issue come up in other posts while trying to run this issue to ground.  In all of these handshake posts, the server key algorithm was never discussed - I wish it had been.  It would have saved me a couple of hours.  The issue that caused the above errors stemmed from assuming that the keystores that were created as part of the Jersey sample project would work.  The server key was the problem.</p>\n\n<p>The sample server certs are generated using the DSA algorithm.  Apparently this is an issue.</p>\n\n<p>I recreated the server keys using a RSA algorithm and 2048 bit strength.  I restarted the server and the everything started to work like one would expect.  </p>\n\n<p>The error was that I assumed that the \"sample\" keys would work.  Oops.</p>\n"},{"comments":[{"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"score":0,"creation_date":1681123162,"post_id":37175710,"comment_id":134001669,"body_markdown":"Note that this misses `AltName`, thus it won&#39;t work in newest Chrome: https://stackoverflow.com/a/42917227/873282.","body":"Note that this misses <code>AltName</code>, thus it won&#39;t work in newest Chrome: <a href=\"https://stackoverflow.com/a/42917227/873282\">stackoverflow.com/a/42917227/873282</a>."}],"tags":[],"owner":{"account_id":5509958,"reputation":59,"user_id":4376572,"display_name":"Steve Low"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1463015828,"creation_date":1463015828,"answer_id":37175710,"question_id":33831480,"body_markdown":"To add on top of JMS comment, his answer solve my problem too .\r\nHere is the command i used to generate the RSA certificate .\r\n\r\n    keytool -genkey -keystore ./keystore_client -alias clientKey -keyalg RSA -keypass changeit -storepass changeit -dname &quot;CN=Client, OU=Jersey, O=changeit, L=KL, ST=SEL, C=MY&quot;\r\n    keytool -export -alias clientKey -storepass changeit -keystore ./keystore_client -file ./client.cert\r\n    keytool -import -alias clientCert -file ./client.cert -storepass changeit -keystore ./truststore_server\r\n    \r\n    \r\n    keytool -genkey -keystore ./keystore_server -alias serverKey -keyalg RSA -keyalg RSA -keypass changeit -storepass changeit -dname &quot;CN=changeit, OU=Jersey, O=changeit, L=KL, ST=SEL, C=MY&quot;\r\n    keytool -export -alias serverKey -storepass changeit -keystore ./keystore_server -file ./server.cert\r\n    keytool -import -alias serverCert -file ./server.cert -storepass changeit -keystore ./truststore_client","title":"How to setup basic Jersey/Grizzly 2.21 SSL startup configuration","body":"<p>To add on top of JMS comment, his answer solve my problem too .\nHere is the command i used to generate the RSA certificate .</p>\n\n<pre><code>keytool -genkey -keystore ./keystore_client -alias clientKey -keyalg RSA -keypass changeit -storepass changeit -dname \"CN=Client, OU=Jersey, O=changeit, L=KL, ST=SEL, C=MY\"\nkeytool -export -alias clientKey -storepass changeit -keystore ./keystore_client -file ./client.cert\nkeytool -import -alias clientCert -file ./client.cert -storepass changeit -keystore ./truststore_server\n\n\nkeytool -genkey -keystore ./keystore_server -alias serverKey -keyalg RSA -keyalg RSA -keypass changeit -storepass changeit -dname \"CN=changeit, OU=Jersey, O=changeit, L=KL, ST=SEL, C=MY\"\nkeytool -export -alias serverKey -storepass changeit -keystore ./keystore_server -file ./server.cert\nkeytool -import -alias serverCert -file ./server.cert -storepass changeit -keystore ./truststore_client\n</code></pre>\n"},{"tags":[],"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681123371,"creation_date":1681123371,"answer_id":75976392,"question_id":33831480,"body_markdown":"The SSL certificate needs an `AltName`. See &lt;https://stackoverflow.com/a/42917227/873282&gt; for details.\r\n\r\nUse [`mkcert`](https://github.com/FiloSottile/mkcert) to generate a valid SSL certificate (based on &lt;https://stackoverflow.com/a/57511038/873282&gt;)\r\n\r\n1. As admin `choco install mkcert`\r\n2. As admin: `mkcert -install`\r\n3. `cd \\temp`\r\n4. `mkcert -pkcs12 app localhost 127.0.0.1 ::1`\r\n5. Rename the file to `server.p12`\r\n\r\nIn Java, you can use that file as keystore:\r\n\r\n```java\r\n        SSLContextConfigurator sslContextConfig = new SSLContextConfigurator();\r\n        sslContextConfig.setKeyStoreFile(Path.of(&quot;c:\\\\temp\\\\server.p12&quot;).toString());\r\n        sslContextConfig.setKeyStorePass(&quot;changeit&quot;);\r\n        sslContextConfig.createSSLContext();\r\n```","title":"How to setup basic Jersey/Grizzly 2.21 SSL startup configuration","body":"<p>The SSL certificate needs an <code>AltName</code>. See <a href=\"https://stackoverflow.com/a/42917227/873282\">https://stackoverflow.com/a/42917227/873282</a> for details.</p>\n<p>Use <a href=\"https://github.com/FiloSottile/mkcert\" rel=\"nofollow noreferrer\"><code>mkcert</code></a> to generate a valid SSL certificate (based on <a href=\"https://stackoverflow.com/a/57511038/873282\">https://stackoverflow.com/a/57511038/873282</a>)</p>\n<ol>\n<li>As admin <code>choco install mkcert</code></li>\n<li>As admin: <code>mkcert -install</code></li>\n<li><code>cd \\temp</code></li>\n<li><code>mkcert -pkcs12 app localhost 127.0.0.1 ::1</code></li>\n<li>Rename the file to <code>server.p12</code></li>\n</ol>\n<p>In Java, you can use that file as keystore:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        SSLContextConfigurator sslContextConfig = new SSLContextConfigurator();\n        sslContextConfig.setKeyStoreFile(Path.of(&quot;c:\\\\temp\\\\server.p12&quot;).toString());\n        sslContextConfig.setKeyStorePass(&quot;changeit&quot;);\n        sslContextConfig.createSSLContext();\n</code></pre>\n"}],"owner":{"account_id":293805,"reputation":233,"user_id":3426462,"accept_rate":20,"display_name":"jmsimpson68"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1945,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1681123371,"creation_date":1448036805,"question_id":33831480,"body_markdown":"I&#39;m trying to get a very basic Grizzly server up and running to allow for one-way SSL (HTTPS) connections to access jax-rs REST services.  Eventually I want two-way SSL security.\r\n\r\nI&#39;ve gone through many of the examples and I just can&#39;t get anything to work.  I keep running into a SSL Handshake error.  Clearly I must be doing something stupid.  Any help is appreciated.\r\n\r\nHere is my code to start my embedded Grizzly server using the Jersey wrapper classes:\r\n\r\n\r\n\r\n    public static HttpServer startHttpsServer(URI listenerURI) throws IOException  {\r\n      ResourceConfig resourceConfig = new ResourceConfig().packages(&quot;ws.argo.experiment.ssl&quot;);\r\n    \r\n      // First I tried this configuration using the certs from the Jersey sample code\r\n      // Grizzly ssl configuration\r\n      SSLContextConfigurator sslContext = new SSLContextConfigurator();\r\n    \r\n      // set up security context\r\n      sslContext.setKeyStoreFile(&quot;./src/main/resources/keystore_server&quot;); // contains server keypair\r\n      sslContext.setKeyStorePass(&quot;asdfgh&quot;);\r\n      sslContext.setTrustStoreFile(&quot;./src/main/resources/truststore_server&quot;); // contains client certificate\r\n      sslContext.setTrustStorePass(&quot;asdfgh&quot;);\r\n       \r\n      // Then I tried just using a default config - didn&#39;t work either\r\n      //    sslContext = SSLContextConfigurator.DEFAULT_CONFIG;\r\n    \r\n    \r\n      if (!sslContext.validateConfiguration(true)) {\r\n        LOGGER.severe(&quot;Context is not valid&quot;);\r\n      \r\n      }\r\n    \r\n      LOGGER.finer(&quot;Starting Jersey-Grizzly2 JAX-RS secure server...&quot;);\r\n      HttpServer httpServer; //=   GrizzlyHttpServerFactory.createHttpServer(listenerURI, resourceConfig, false);\r\n    \r\n    \r\n      httpServer= GrizzlyHttpServerFactory.createHttpServer(\r\n          listenerURI,\r\n          resourceConfig,\r\n          true,\r\n          new   SSLEngineConfigurator(sslContext).setClientMode(false).setNeedClientAuth(false)\r\n          );\r\n    \r\n    \r\n    \r\n      httpServer.getServerConfiguration().setName(&quot;Test HTTPS Server&quot;);\r\n      httpServer.start();\r\n      LOGGER.info(&quot;Started Jersey-Grizzly2 JAX-RS secure server.&quot;);\r\n    \r\n      return httpServer;\r\n    }\r\n\r\nI also tried replaced SSLEngineConfigurator(sslContext).setClientMode(false).setNeedClientAuth(false)  with null to see if that would help.  Nope.\r\n\r\nI always get the following error:\r\n\r\n    grizzly-nio-kernel(3) SelectorRunner, fatal error: 40: no cipher suites in common\r\n    javax.net.ssl.SSLHandshakeException: no cipher suites in common\r\n    %% Invalidated:  [Session-2, SSL_NULL_WITH_NULL_NULL]\r\n    grizzly-nio-kernel(3) SelectorRunner, SEND TLSv1.2 ALERT:  fatal, description = handshake_failure\r\n    grizzly-nio-kernel(3) SelectorRunner, WRITE: TLSv1.2 Alert, length = 2\r\n    grizzly-nio-kernel(3) SelectorRunner, fatal: engine already closed.  Rethrowing javax.net.ssl.SSLHandshakeException: no cipher suites in common\r\n\r\n","title":"How to setup basic Jersey/Grizzly 2.21 SSL startup configuration","body":"<p>I'm trying to get a very basic Grizzly server up and running to allow for one-way SSL (HTTPS) connections to access jax-rs REST services.  Eventually I want two-way SSL security.</p>\n\n<p>I've gone through many of the examples and I just can't get anything to work.  I keep running into a SSL Handshake error.  Clearly I must be doing something stupid.  Any help is appreciated.</p>\n\n<p>Here is my code to start my embedded Grizzly server using the Jersey wrapper classes:</p>\n\n<pre><code>public static HttpServer startHttpsServer(URI listenerURI) throws IOException  {\n  ResourceConfig resourceConfig = new ResourceConfig().packages(\"ws.argo.experiment.ssl\");\n\n  // First I tried this configuration using the certs from the Jersey sample code\n  // Grizzly ssl configuration\n  SSLContextConfigurator sslContext = new SSLContextConfigurator();\n\n  // set up security context\n  sslContext.setKeyStoreFile(\"./src/main/resources/keystore_server\"); // contains server keypair\n  sslContext.setKeyStorePass(\"asdfgh\");\n  sslContext.setTrustStoreFile(\"./src/main/resources/truststore_server\"); // contains client certificate\n  sslContext.setTrustStorePass(\"asdfgh\");\n\n  // Then I tried just using a default config - didn't work either\n  //    sslContext = SSLContextConfigurator.DEFAULT_CONFIG;\n\n\n  if (!sslContext.validateConfiguration(true)) {\n    LOGGER.severe(\"Context is not valid\");\n\n  }\n\n  LOGGER.finer(\"Starting Jersey-Grizzly2 JAX-RS secure server...\");\n  HttpServer httpServer; //=   GrizzlyHttpServerFactory.createHttpServer(listenerURI, resourceConfig, false);\n\n\n  httpServer= GrizzlyHttpServerFactory.createHttpServer(\n      listenerURI,\n      resourceConfig,\n      true,\n      new   SSLEngineConfigurator(sslContext).setClientMode(false).setNeedClientAuth(false)\n      );\n\n\n\n  httpServer.getServerConfiguration().setName(\"Test HTTPS Server\");\n  httpServer.start();\n  LOGGER.info(\"Started Jersey-Grizzly2 JAX-RS secure server.\");\n\n  return httpServer;\n}\n</code></pre>\n\n<p>I also tried replaced SSLEngineConfigurator(sslContext).setClientMode(false).setNeedClientAuth(false)  with null to see if that would help.  Nope.</p>\n\n<p>I always get the following error:</p>\n\n<pre><code>grizzly-nio-kernel(3) SelectorRunner, fatal error: 40: no cipher suites in common\njavax.net.ssl.SSLHandshakeException: no cipher suites in common\n%% Invalidated:  [Session-2, SSL_NULL_WITH_NULL_NULL]\ngrizzly-nio-kernel(3) SelectorRunner, SEND TLSv1.2 ALERT:  fatal, description = handshake_failure\ngrizzly-nio-kernel(3) SelectorRunner, WRITE: TLSv1.2 Alert, length = 2\ngrizzly-nio-kernel(3) SelectorRunner, fatal: engine already closed.  Rethrowing javax.net.ssl.SSLHandshakeException: no cipher suites in common\n</code></pre>\n"},{"tags":["java","opencv","cmake"],"owner":{"account_id":17784177,"reputation":47,"user_id":12914645,"display_name":"Alyona"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681123076,"creation_date":1680854205,"question_id":75956530,"body_markdown":"I develop an Android application that uses face recognition. But the standard library does not contain the org.opencv.face package. \r\n\r\nAs I found out, it needs to be generated from OpenCV Contrib using cmake. I used the following command to do this. \r\n\r\n```\r\ncmake -D CMAKE_BUILD_TYPE=Release -D OPENCV_EXTRA_MODULES_PATH=&lt;path to opencv_contrib&gt; &lt;opencv_source_directory&gt;\r\n```\r\n\r\nBut there is no Java code in the generated files. \r\n\r\nThe console displays the following output. \r\n\r\n```\r\n-- Java:\r\n-- ant:                         NO.\r\n-- JNI:                         C:/Program Files/Java/jdk-17/include C:/Program Files/Java/jdk-17/include/win32 C:/Program Files/Java/jdk-17/include\r\n-- Java wrappers:               NO\r\n-- Java tests:                  NO\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI tried adding the following parameters to the command.\r\n\r\n```\r\n-D BUILD_opencv_java=ON\r\n-D WITH_JAVA=ON\r\n```\r\n\r\nBut nothing changes. ","title":"Generating additional OpenCV libraries for Java using cmake","body":"<p>I develop an Android application that uses face recognition. But the standard library does not contain the org.opencv.face package.</p>\n<p>As I found out, it needs to be generated from OpenCV Contrib using cmake. I used the following command to do this.</p>\n<pre><code>cmake -D CMAKE_BUILD_TYPE=Release -D OPENCV_EXTRA_MODULES_PATH=&lt;path to opencv_contrib&gt; &lt;opencv_source_directory&gt;\n</code></pre>\n<p>But there is no Java code in the generated files.</p>\n<p>The console displays the following output.</p>\n<pre><code>-- Java:\n-- ant:                         NO.\n-- JNI:                         C:/Program Files/Java/jdk-17/include C:/Program Files/Java/jdk-17/include/win32 C:/Program Files/Java/jdk-17/include\n-- Java wrappers:               NO\n-- Java tests:                  NO\n</code></pre>\n<p>I tried adding the following parameters to the command.</p>\n<pre><code>-D BUILD_opencv_java=ON\n-D WITH_JAVA=ON\n</code></pre>\n<p>But nothing changes.</p>\n"},{"tags":["java","java-11","lib",".so"],"comments":[{"owner":{"account_id":7258992,"reputation":2411,"user_id":5536516,"accept_rate":86,"display_name":"nyg"},"score":0,"creation_date":1691328451,"post_id":75976241,"comment_id":135473952,"body_markdown":"“_Based on java official documentation, Agent_OnAttach is present in libmanagement_agent.so._” Do you have a link? Looking at the [source code](https://github.com/openjdk/jdk/blob/jdk-11%2B28/src/jdk.management.agent/unix/native/libmanagement_agent/FileSystemImpl.c) `Agent_OnAttach` is not present.","body":"“<i>Based on java official documentation, Agent_OnAttach is present in libmanagement_agent.so.</i>” Do you have a link? Looking at the <a href=\"https://github.com/openjdk/jdk/blob/jdk-11%2B28/src/jdk.management.agent/unix/native/libmanagement_agent/FileSystemImpl.c\" rel=\"nofollow noreferrer\">source code</a> <code>Agent_OnAttach</code> is not present."}],"owner":{"account_id":28262251,"reputation":1,"user_id":21606747,"display_name":"user1234"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681122773,"creation_date":1681122043,"question_id":75976241,"body_markdown":"**QUESTION-1**\r\n\r\nI&#39;m trying to load the management_agent (libmanagement_agent.so library) into the jvm to set gc compilation vm argument on runtime.\r\nThis is my code snippet \r\n\r\n```\r\nlong pid = getProcessId();\r\nVirtualMachine vm = VirtualMachine.attach(Long.toString(pid));\r\nvm = VirtualMachine.attach(Long.toString(pid));\r\nProperties agentProperties = vm.getAgentProperties();\r\n\r\nString options = agentProperties.getProperty(&quot;sun.jvm.args&quot;);\t\t\t\t\r\nString connectorAddress = vm.getAgentProperties().getProperty(&quot;com.sun.management.jmxremote.localConnectorAddress&quot;);\r\noptions += &quot; -Xlog:gc*:file=gc.log&quot;;\r\nagentProperties.setProperty(&quot;sun.jvm.args&quot;, options);\r\n\t\t\t\r\nvm.loadAgentLibrary(&quot;management_agent&quot;,options);\r\nvm.detach();\r\n```\r\nI&#39;m trying to load the manage_agent library along with the updated set of vm arguments\r\n\r\nBut the agent is not loaded, I&#39;m getting the following error\r\n \r\n&gt; com.sun.tools.attach.AgentLoadException: Failed to load agent library: Agent_OnAttach is not available in management_agent\r\n\tat jdk.attach/sun.tools.attach.VirtualMachineImpl.execute(VirtualMachineImpl.java:220)\r\n\tat jdk.attach/sun.tools.attach.HotSpotVirtualMachine.loadAgentLibrary(HotSpotVirtualMachine.java:94)\r\n\tat jdk.attach/sun.tools.attach.HotSpotVirtualMachine.loadAgentLibrary(HotSpotVirtualMachine.java:119)\r\n\tat JdkLogs.main(gclogs.java:48)\r\n\r\nBased on java official documentation, Agent_OnAttach is present in libmanagement_agent.so. My java version is 11.\r\n\r\n\r\n**QUESTION-2**\r\n\r\nI can load the agent by uing local manage agent\r\n`vm.startLocalManagementAgent();`\r\n\r\nIs there any possibility to add the vm argument to the agent loaded by this way\r\n\r\n------------------\r\n\r\nAny help would be appreciated","title":"Failed to load agent library: Agent_OnAttach is not available in management_agent","body":"<p><strong>QUESTION-1</strong></p>\n<p>I'm trying to load the management_agent (libmanagement_agent.so library) into the jvm to set gc compilation vm argument on runtime.\nThis is my code snippet</p>\n<pre><code>long pid = getProcessId();\nVirtualMachine vm = VirtualMachine.attach(Long.toString(pid));\nvm = VirtualMachine.attach(Long.toString(pid));\nProperties agentProperties = vm.getAgentProperties();\n\nString options = agentProperties.getProperty(&quot;sun.jvm.args&quot;);               \nString connectorAddress = vm.getAgentProperties().getProperty(&quot;com.sun.management.jmxremote.localConnectorAddress&quot;);\noptions += &quot; -Xlog:gc*:file=gc.log&quot;;\nagentProperties.setProperty(&quot;sun.jvm.args&quot;, options);\n            \nvm.loadAgentLibrary(&quot;management_agent&quot;,options);\nvm.detach();\n</code></pre>\n<p>I'm trying to load the manage_agent library along with the updated set of vm arguments</p>\n<p>But the agent is not loaded, I'm getting the following error</p>\n<blockquote>\n<p>com.sun.tools.attach.AgentLoadException: Failed to load agent library: Agent_OnAttach is not available in management_agent\nat jdk.attach/sun.tools.attach.VirtualMachineImpl.execute(VirtualMachineImpl.java:220)\nat jdk.attach/sun.tools.attach.HotSpotVirtualMachine.loadAgentLibrary(HotSpotVirtualMachine.java:94)\nat jdk.attach/sun.tools.attach.HotSpotVirtualMachine.loadAgentLibrary(HotSpotVirtualMachine.java:119)\nat JdkLogs.main(gclogs.java:48)</p>\n</blockquote>\n<p>Based on java official documentation, Agent_OnAttach is present in libmanagement_agent.so. My java version is 11.</p>\n<p><strong>QUESTION-2</strong></p>\n<p>I can load the agent by uing local manage agent\n<code>vm.startLocalManagementAgent();</code></p>\n<p>Is there any possibility to add the vm argument to the agent loaded by this way</p>\n<hr />\n<p>Any help would be appreciated</p>\n"},{"tags":["java","loops","chess"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1681058717,"post_id":75971611,"comment_id":133994509,"body_markdown":"Please add some sourcecode of your existing routines, so we can see what it actually does - and not just what you described ;-) You could insert a comment at the position where you would like to test the possible blockings of a check.","body":"Please add some sourcecode of your existing routines, so we can see what it actually does - and not just what you described ;-) You could insert a comment at the position where you would like to test the possible blockings of a check."},{"owner":{"account_id":27424694,"reputation":7,"user_id":20922422,"display_name":"deprexit"},"score":0,"creation_date":1681059922,"post_id":75971611,"comment_id":133994683,"body_markdown":"@cyberbrain Sorry about that! I added the method I&#39;m trying to use, let me know if there&#39;s anything else you&#39;d like me to add :)","body":"@cyberbrain Sorry about that! I added the method I&#39;m trying to use, let me know if there&#39;s anything else you&#39;d like me to add :)"}],"answers":[{"comments":[{"owner":{"account_id":27424694,"reputation":7,"user_id":20922422,"display_name":"deprexit"},"score":0,"creation_date":1681081882,"post_id":75972787,"comment_id":133997238,"body_markdown":"Oh my god, I&#39;m so dumb. I was doing it backwards. You&#39;re brilliant tysm :)","body":"Oh my god, I&#39;m so dumb. I was doing it backwards. You&#39;re brilliant tysm :)"}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1681073159,"creation_date":1681073159,"answer_id":75972787,"question_id":75971611,"body_markdown":"You need to identify all fields that a figure can move to.\r\nIf one of the enemy figures can move to your king&#39;s field, a check is active (you have it with `seenSquares()`).\r\n\r\nNext understand which fields need to be blocked to prevent this. This list depends on the position and the type of the figure initiating the check. This includes the field of that figure (a horse will only have that field as a possibility to remove the check).\r\n\r\nNext check, which of your figures can access such a field. Of those evaluated moves pick the one most suitable.\r\nDo not forget to compare moving your king out of the check condition as well.\r\n\r\nBut all this is algorithm, not java related.","title":"How do I see if a chess piece can move to block a check?","body":"<p>You need to identify all fields that a figure can move to.\nIf one of the enemy figures can move to your king's field, a check is active (you have it with <code>seenSquares()</code>).</p>\n<p>Next understand which fields need to be blocked to prevent this. This list depends on the position and the type of the figure initiating the check. This includes the field of that figure (a horse will only have that field as a possibility to remove the check).</p>\n<p>Next check, which of your figures can access such a field. Of those evaluated moves pick the one most suitable.\nDo not forget to compare moving your king out of the check condition as well.</p>\n<p>But all this is algorithm, not java related.</p>\n"}],"owner":{"account_id":27424694,"reputation":7,"user_id":20922422,"display_name":"deprexit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":1,"score":-3,"last_activity_date":1681122035,"creation_date":1681057201,"question_id":75971611,"body_markdown":"I&#39;m working on a chess bot for a personal project (in Java) and for the life of me, I can&#39;t figure out how to see if a piece can block a check. Here is the setup:\r\n\r\nBoard: Holds a 2d array of Squares, all of the Squares on the Board, and all of the Pieces. All of these fields are static so I didn&#39;t have to make like 80 getters. Also holds these ArrayLists: white&#39;s legal moves, black&#39;s legal moves, all of white&#39;s moves, all of black&#39;s moves, all of white&#39;s pieces, and all of black&#39;s pieces.\r\n\r\nSquare: Holds Pieces.\r\n\r\nPiece (And its child classes): Has two ArrayLists: moveset (all of the squares it could move to on an empty board from its current position, this is how I&#39;m going to deal with pins) and seen squares (all of the squares it can move to without hitting a piece of its own color). King has a boolean inCheck field.\r\n\r\nMove: Takes a piece and a square, has a play() method that deals with the logic of actually moving a piece, setting the square&#39;s new piece, etc.\r\n\r\nLogic: The Board&#39;s vision() method gets called after every move.  This updates the moveset and seen squares for all of the pieces and sets the King&#39;s inCheck field. It then adds all possible moves to the all moves ArrayLists. And then it should add all of the legal moves (taking checks into account) to the legal moves ArrayLists. \r\n\r\nAccounting for checks is where I&#39;m having trouble. The first part of is easy: Loop through all of white&#39;s moves, and if the King is in check, the King can move, so add it to the legal list. All moves that block a check would also be added (unless that piece is pinned), and everything else would be illegal until the King gets out of check.\r\n\r\nBut how do I see if a piece can block a check? This is the last thing I have to do before I get to actually work on the bot logic which is the part I&#39;m really excited about.\r\n\r\nI&#39;ve tried:\r\n\r\n-Seeing if one of white&#39;s pieces sees the same square as a piece giving the check (I think this is the right approach, I just can&#39;t figure out how to do it).\r\n\r\n-I made a method that returns an ArrayList of pieces that are giving checks, but got nowhere with that too.\r\n\r\nThank you for reading this! I know this was a novel lol I just wanted to make sure I gave all of the relevant information.\r\n\r\nHere is the vision method and the get checking pieces method:\r\n\r\n    public static void vision() {\r\n\r\n\r\n         //updateBoardVision is an overridden method in all of the\r\n         //Piece subclasses. It reevaluates all theoretically possible moves \r\n         //from the current square and all the squares it can move to\r\n\r\n        for (Piece p : whitePieces) {\r\n            p.updateBoardVision();\r\n        }\r\n\r\n        for (Piece p : blackPieces) {\r\n            p.updateBoardVision();\r\n        }\r\n        \r\n         //if a white piece can see the square the black king is on,\r\n         //the black king is in check\r\n        for (Piece p : whitePieces) {\r\n            if (p.seenSquares.contains(Board.bK.square)) {\r\n                Board.bK.setInCheck(true);\r\n            }\r\n        }\r\n        \r\n        //and vice versa\r\n        for (Piece p : blackPieces) {\r\n            if (p.seenSquares.contains(Board.wK.square)) {\r\n                Board.wK.setInCheck(true);\r\n            }\r\n        }\r\n        \r\n       //all possible moves, discounting checks\r\n        for (Piece p : whitePieces) {\r\n            for (Square s : p.seenSquares) {\r\n                Move m = new Move(p, s);\r\n                allWhiteMoves.add(m);\r\n            }\r\n        }\r\n        \r\n        for (Piece p : blackPieces) {\r\n            for (Square s : p.seenSquares) {\r\n                Move m = new Move(p, s);\r\n                allBlackMoves.add(m);\r\n            }\r\n        }\r\n        \r\n        //set every move to invalid\r\n        for (Move wm : allWhiteMoves) {\r\n            wm.setValid(false);\r\n        }\r\n        \r\n        for (Move bm : allBlackMoves) {\r\n            bm.setValid(false);\r\n        }\r\n        \r\n\r\n        \r\n        for (Move aWhiteMove : allWhiteMoves) {\r\n            \r\n            //if the king is in check\r\n            if (wK.isInCheck()) {\r\n                \r\n                //then we can move it\r\n                if (aWhiteMove.getPiece().equals(wK)) {\r\n                    aWhiteMove.setValid(true);\r\n                }\r\n                \r\n                //if there is a white piece, in white moves, that\r\n                //sees the same square as a checking piece, it can\r\n                //block the check so it&#39;s valid,\r\n                //but I also need to account for double checks.\r\n                //and then i need to do the same for black\r\n                //this whole part is where I&#39;m confused \r\n            }\r\n        }\r\n        \r\n        //after that i&#39;ll add all of the legal moves\r\n        for (Move r : allWhiteMoves) {\r\n            if (r.isValid()) {\r\n                whiteLegalMoves.add(r);\r\n            }\r\n        }\r\n        \r\n        for (Move s : allBlackMoves) {\r\n            if (s.isValid()) {\r\n                blackLegalMoves.add(s);\r\n            }\r\n        }\r\n        \r\n\r\n    }\r\n    \r\n     //this is where i see what piece(s) is/are giving the check\r\n     //it&#39;s an arraylist not a piece to account for multiple\r\n     //pieces giving a check at the same time\r\n    public static ArrayList&lt;Piece&gt; findCheckPieceWhite() {\r\n        ArrayList&lt;Piece&gt; checkPieces = new ArrayList();\r\n        \r\n        for (Piece p : blackPieces) {\r\n            if (p.seenSquares.contains(wK.square)) {\r\n                checkPieces.add(p);\r\n            }\r\n        }\r\n        \r\n        return checkPieces;\r\n    }\r\n    \r\n    public static ArrayList&lt;Piece&gt; findCheckPieceBlack() {\r\n        ArrayList&lt;Piece&gt; checkPieces = new ArrayList();\r\n        \r\n        for (Piece p : whitePieces) {\r\n            if (p.seenSquares.contains(bK.square)) {\r\n                checkPieces.add(p);\r\n            }\r\n        }\r\n        \r\n        return checkPieces;\r\n    }","title":"How do I see if a chess piece can move to block a check?","body":"<p>I'm working on a chess bot for a personal project (in Java) and for the life of me, I can't figure out how to see if a piece can block a check. Here is the setup:</p>\n<p>Board: Holds a 2d array of Squares, all of the Squares on the Board, and all of the Pieces. All of these fields are static so I didn't have to make like 80 getters. Also holds these ArrayLists: white's legal moves, black's legal moves, all of white's moves, all of black's moves, all of white's pieces, and all of black's pieces.</p>\n<p>Square: Holds Pieces.</p>\n<p>Piece (And its child classes): Has two ArrayLists: moveset (all of the squares it could move to on an empty board from its current position, this is how I'm going to deal with pins) and seen squares (all of the squares it can move to without hitting a piece of its own color). King has a boolean inCheck field.</p>\n<p>Move: Takes a piece and a square, has a play() method that deals with the logic of actually moving a piece, setting the square's new piece, etc.</p>\n<p>Logic: The Board's vision() method gets called after every move.  This updates the moveset and seen squares for all of the pieces and sets the King's inCheck field. It then adds all possible moves to the all moves ArrayLists. And then it should add all of the legal moves (taking checks into account) to the legal moves ArrayLists.</p>\n<p>Accounting for checks is where I'm having trouble. The first part of is easy: Loop through all of white's moves, and if the King is in check, the King can move, so add it to the legal list. All moves that block a check would also be added (unless that piece is pinned), and everything else would be illegal until the King gets out of check.</p>\n<p>But how do I see if a piece can block a check? This is the last thing I have to do before I get to actually work on the bot logic which is the part I'm really excited about.</p>\n<p>I've tried:</p>\n<p>-Seeing if one of white's pieces sees the same square as a piece giving the check (I think this is the right approach, I just can't figure out how to do it).</p>\n<p>-I made a method that returns an ArrayList of pieces that are giving checks, but got nowhere with that too.</p>\n<p>Thank you for reading this! I know this was a novel lol I just wanted to make sure I gave all of the relevant information.</p>\n<p>Here is the vision method and the get checking pieces method:</p>\n<pre><code>public static void vision() {\n\n\n     //updateBoardVision is an overridden method in all of the\n     //Piece subclasses. It reevaluates all theoretically possible moves \n     //from the current square and all the squares it can move to\n\n    for (Piece p : whitePieces) {\n        p.updateBoardVision();\n    }\n\n    for (Piece p : blackPieces) {\n        p.updateBoardVision();\n    }\n    \n     //if a white piece can see the square the black king is on,\n     //the black king is in check\n    for (Piece p : whitePieces) {\n        if (p.seenSquares.contains(Board.bK.square)) {\n            Board.bK.setInCheck(true);\n        }\n    }\n    \n    //and vice versa\n    for (Piece p : blackPieces) {\n        if (p.seenSquares.contains(Board.wK.square)) {\n            Board.wK.setInCheck(true);\n        }\n    }\n    \n   //all possible moves, discounting checks\n    for (Piece p : whitePieces) {\n        for (Square s : p.seenSquares) {\n            Move m = new Move(p, s);\n            allWhiteMoves.add(m);\n        }\n    }\n    \n    for (Piece p : blackPieces) {\n        for (Square s : p.seenSquares) {\n            Move m = new Move(p, s);\n            allBlackMoves.add(m);\n        }\n    }\n    \n    //set every move to invalid\n    for (Move wm : allWhiteMoves) {\n        wm.setValid(false);\n    }\n    \n    for (Move bm : allBlackMoves) {\n        bm.setValid(false);\n    }\n    \n\n    \n    for (Move aWhiteMove : allWhiteMoves) {\n        \n        //if the king is in check\n        if (wK.isInCheck()) {\n            \n            //then we can move it\n            if (aWhiteMove.getPiece().equals(wK)) {\n                aWhiteMove.setValid(true);\n            }\n            \n            //if there is a white piece, in white moves, that\n            //sees the same square as a checking piece, it can\n            //block the check so it's valid,\n            //but I also need to account for double checks.\n            //and then i need to do the same for black\n            //this whole part is where I'm confused \n        }\n    }\n    \n    //after that i'll add all of the legal moves\n    for (Move r : allWhiteMoves) {\n        if (r.isValid()) {\n            whiteLegalMoves.add(r);\n        }\n    }\n    \n    for (Move s : allBlackMoves) {\n        if (s.isValid()) {\n            blackLegalMoves.add(s);\n        }\n    }\n    \n\n}\n\n //this is where i see what piece(s) is/are giving the check\n //it's an arraylist not a piece to account for multiple\n //pieces giving a check at the same time\npublic static ArrayList&lt;Piece&gt; findCheckPieceWhite() {\n    ArrayList&lt;Piece&gt; checkPieces = new ArrayList();\n    \n    for (Piece p : blackPieces) {\n        if (p.seenSquares.contains(wK.square)) {\n            checkPieces.add(p);\n        }\n    }\n    \n    return checkPieces;\n}\n\npublic static ArrayList&lt;Piece&gt; findCheckPieceBlack() {\n    ArrayList&lt;Piece&gt; checkPieces = new ArrayList();\n    \n    for (Piece p : whitePieces) {\n        if (p.seenSquares.contains(bK.square)) {\n            checkPieces.add(p);\n        }\n    }\n    \n    return checkPieces;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-aop","spring-cloud-sleuth"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1681030354,"post_id":75649841,"comment_id":133991150,"body_markdown":"Welcome to SO. Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Thank you. Your error message helps. I think I know what is happening. But in order to help you, I need to see your code. Only then, I can tell you how to fix it.","body":"Welcome to SO. Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Thank you. Your error message helps. I think I know what is happening. But in order to help you, I need to see your code. Only then, I can tell you how to fix it."}],"owner":{"account_id":1518554,"reputation":175,"user_id":1418931,"accept_rate":0,"display_name":"Shankar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681121875,"creation_date":1678099478,"question_id":75649841,"body_markdown":"I am trying to integrate Spring Sleuth with an existing Spring Boot application with below version. For some reason, during the start up, it;s failing to create bean with below error\r\n\r\nThe BatchEnrollment class as @EnableScheduling and @Scheduled methods\r\n\r\n```xml\r\n&lt;spring-cloud.version&gt;2021.0.3&lt;/spring-cloud.version&gt;\r\n&lt;spring-cloud-starter-sleuth.version&gt;3.1.3&lt;/spring-cloud-starter-sleuth.version&gt;\r\n\r\n  &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n  &lt;version&gt;2.6.13&lt;/version&gt;\r\n  &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n  &lt;version&gt;2.6.13&lt;/version&gt;\r\n```\r\n\r\n&gt; org.springframework.aop.framework.AopConfigException: Could not\r\n&gt; generate CGLIB subclass of class com.scheduler.BatchEnrollment: Common\r\n&gt; causes of this problem include using a final class or a non-visible\r\n&gt; class; nested exception is java.lang.IllegalArgumentException: No\r\n&gt; visible constructors in class","title":"Spring Sleuth - AOP Bean Creation Exception","body":"<p>I am trying to integrate Spring Sleuth with an existing Spring Boot application with below version. For some reason, during the start up, it;s failing to create bean with below error</p>\n<p>The BatchEnrollment class as @EnableScheduling and @Scheduled methods</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;spring-cloud.version&gt;2021.0.3&lt;/spring-cloud.version&gt;\n&lt;spring-cloud-starter-sleuth.version&gt;3.1.3&lt;/spring-cloud-starter-sleuth.version&gt;\n\n  &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n  &lt;version&gt;2.6.13&lt;/version&gt;\n  &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n  &lt;version&gt;2.6.13&lt;/version&gt;\n</code></pre>\n<blockquote>\n<p>org.springframework.aop.framework.AopConfigException: Could not\ngenerate CGLIB subclass of class com.scheduler.BatchEnrollment: Common\ncauses of this problem include using a final class or a non-visible\nclass; nested exception is java.lang.IllegalArgumentException: No\nvisible constructors in class</p>\n</blockquote>\n"},{"tags":["java","mongodb","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":3197891,"reputation":157,"user_id":2700673,"accept_rate":47,"display_name":"The Old County"},"score":0,"creation_date":1680378423,"post_id":75907726,"comment_id":133889787,"body_markdown":"but it needs to use the Java Springboot framework as I started -- and sort by distance which is a virtual field that needs to be tabulated from the lat/lng of the users against the logged in persons lat/lng","body":"but it needs to use the Java Springboot framework as I started -- and sort by distance which is a virtual field that needs to be tabulated from the lat/lng of the users against the logged in persons lat/lng"},{"owner":{"account_id":25550460,"reputation":33,"user_id":20507625,"display_name":"Vaibhav Tamakuwala"},"score":0,"creation_date":1681635444,"post_id":75907726,"comment_id":134085592,"body_markdown":"Doesn&#39;t matter if it&#39;s Java Springboot or javascript MongoDB aggregation is the same for all. And Yes, sorting will also work in virtual fields. use sorting once you declare the virtual field.  You can also use `$near` for location near by lat/long. Here is the [link](https://www.mongodb.com/docs/manual/reference/operator/query/near/)","body":"Doesn&#39;t matter if it&#39;s Java Springboot or javascript MongoDB aggregation is the same for all. And Yes, sorting will also work in virtual fields. use sorting once you declare the virtual field.  You can also use <code>$near</code> for location near by lat/long. Here is the <a href=\"https://www.mongodb.com/docs/manual/reference/operator/query/near/\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":3197891,"reputation":157,"user_id":2700673,"accept_rate":47,"display_name":"The Old County"},"score":0,"creation_date":1681723221,"post_id":75907726,"comment_id":134096857,"body_markdown":"It did matter to be awarded the bounty for this problem.","body":"It did matter to be awarded the bounty for this problem."},{"owner":{"account_id":25550460,"reputation":33,"user_id":20507625,"display_name":"Vaibhav Tamakuwala"},"score":0,"creation_date":1681743801,"post_id":75907726,"comment_id":134102148,"body_markdown":"Can you send me your aggregation query with 2-3 sample data? so I can test it on my side.","body":"Can you send me your aggregation query with 2-3 sample data? so I can test it on my side."},{"owner":{"account_id":3197891,"reputation":157,"user_id":2700673,"accept_rate":47,"display_name":"The Old County"},"score":0,"creation_date":1681789269,"post_id":75907726,"comment_id":134109697,"body_markdown":"I&#39;ve added the usercontroller here - https://jsfiddle.net/0jxvoybt/ - but I had to comment out an attempt as a class isnt defined.","body":"I&#39;ve added the usercontroller here - <a href=\"https://jsfiddle.net/0jxvoybt/\" rel=\"nofollow noreferrer\">jsfiddle.net/0jxvoybt</a> - but I had to comment out an attempt as a class isnt defined."}],"tags":[],"owner":{"account_id":25550460,"reputation":33,"user_id":20507625,"display_name":"Vaibhav Tamakuwala"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680369243,"creation_date":1680369243,"answer_id":75907726,"question_id":75825625,"body_markdown":"I have worked with MongoDB, not with springboot but as i understand you issue is you want to do sorting/filtering in aggregation with different fields. Right?\r\n\r\nFor sorting, you can use:\r\n\r\n```\r\ncollectionName.aggregate([\r\n  {\r\n    $match: {\r\n     //... use the filter from the req body, just make sure that which fields you are filtering are introduced/used in aggregation.\r\n    }\r\n  },\r\n  {\r\n    $sort :{\r\n     //... use the sorting option from the req body that will help you with custom fields, just make sure that which fields you are sorting are introduced/used before this portion of aggregation.\r\n    }\r\n  }\r\n])\r\n``` \r\nHere is the reference [link][1] for sorting.\r\n\r\n\r\n  [1]: https://www.mongodb.com/docs/manual/reference/operator/aggregation/sort/","title":"Aggerate distance in a query that sorts via distance between a logged in user and user lists using mongodb/java springboot","body":"<p>I have worked with MongoDB, not with springboot but as i understand you issue is you want to do sorting/filtering in aggregation with different fields. Right?</p>\n<p>For sorting, you can use:</p>\n<pre><code>collectionName.aggregate([\n  {\n    $match: {\n     //... use the filter from the req body, just make sure that which fields you are filtering are introduced/used in aggregation.\n    }\n  },\n  {\n    $sort :{\n     //... use the sorting option from the req body that will help you with custom fields, just make sure that which fields you are sorting are introduced/used before this portion of aggregation.\n    }\n  }\n])\n</code></pre>\n<p>Here is the reference <a href=\"https://www.mongodb.com/docs/manual/reference/operator/aggregation/sort/\" rel=\"nofollow noreferrer\">link</a> for sorting.</p>\n"}],"owner":{"account_id":3197891,"reputation":157,"user_id":2700673,"accept_rate":47,"display_name":"The Old County"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1681121381,"creation_date":1679588961,"question_id":75825625,"body_markdown":"\r\nI am working on a Java/Mongodb system - where each user has their own lat/lng coordinates\r\n\r\nI have made an api query to user collection -- and I want to start filtering/sorting through the users.\r\n\r\nI want to complete this sort process -- it works fine for options 2-5 -- but I need to work out how to create an aggregate I think in mongo (which I am new at).\r\n\r\na user record looks like this - where I have placed the coordinates in a locations object, the other filters are mostly in the root - like createdAt, lastLoginAt ...\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHow do I start creating the required aggregate using the current code base -- so I can sort a user that is logged in -- get their coordinates - and sort against those with the viewed list.\r\n\r\nusing the springframework imports\r\n\r\n    import org.springframework.data.mongodb.core.query.Criteria;\r\n    import org.springframework.data.mongodb.core.query.Query;\r\n\r\n----------\r\n\r\n\r\n    @CrossOrigin\r\n    @GetMapping(&quot;/api/users&quot;)\r\n    @ResponseBody\r\n    public BasicDBObject listUsers (@RequestHeader(&quot;Authorization&quot;) String bearerToken, @RequestParam(&quot;sort_by&quot;) String sort_by, @RequestParam(defaultValue = &quot;0&quot;) int page,\r\n    @RequestParam(defaultValue = &quot;3&quot;) int size) {\r\n\r\n        String email = tokenHandler.getEmailFromBearerToken(bearerToken);\r\n\r\n        //get logged in user\r\n        Query q = new Query();\r\n        q.addCriteria(Criteria.where(&quot;email&quot;).is(email));\r\n        List&lt;Person&gt; lp = MongoApp.mongoOps().find(q, Person.class);\r\n        Person loggedInUser = null;\r\n        if (!lp.isEmpty()) {\r\n            for (Person person : lp) {\r\n                loggedInUser = person;\r\n            }\r\n        }\r\n\r\n\r\n        String field = &quot;&quot;;//createdAt\r\n        switch (sort_by) {\r\n            case &quot;1&quot;:\r\n                System.out.println(&quot;Distance&quot;);\r\n                break;\r\n            case &quot;2&quot;:\r\n                System.out.println(&quot;Last online&quot;);\r\n                field = &quot;lastLoginAt&quot;;\r\n                break;\r\n            case &quot;3&quot;:\r\n                System.out.println(&quot;Latest joined&quot;);\r\n                field = &quot;createdAt&quot;;\r\n                break;\r\n            case &quot;4&quot;:\r\n                System.out.println(&quot;Newest photo&quot;);\r\n                field = &quot;newestImageAt&quot;;\r\n                break;\r\n            case &quot;5&quot;:\r\n                System.out.println(&quot;Recently Updated&quot;);\r\n                field = &quot;updatedAt&quot;;\r\n                break;\r\n            default:\r\n                System.out.println(&quot;default&quot;);\r\n                field = &quot;createdAt&quot;;\r\n        }\r\n\r\n        Query query = new Query();\r\n\r\n        long totalUsercount = MongoApp.mongoOps().count(query, Person.class);\r\n\r\n        //only show isActive users\r\n        query.addCriteria(Criteria.where(&quot;isActive&quot;).is(true));\r\n\r\n        //dont show yourself - loggedin user excluded from list\r\n        query.addCriteria(Criteria.where(&quot;id&quot;).ne(loggedInUser.getId()));\r\n \r\n        query.with(Sort.by(Sort.Direction.DESC, field));\r\n\r\n        Pageable pageable = PageRequest.of(page, size);\r\n        List&lt;Person&gt; totalPeople = new ArrayList&lt;&gt;();\r\n        totalPeople = queryPeopleAddImages(totalPeople, query);\r\n        long totalCount = totalPeople.size();\r\n        query.with(pageable);\r\n\r\n        // List People\r\n        List&lt;Person&gt; people = new ArrayList&lt;&gt;();\r\n        people = queryPeopleAddImages(people, query);\r\n\r\n        BasicDBObject obj = userListResponse(loggedInUser, people, totalCount, totalUsercount);\r\n\r\n        return obj;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n-----------\r\n\r\nI&#39;ve added some research links here - which I think is on track to complete this functionality\r\n\r\n\r\nResearch\r\n\r\nhttps://stackoverflow.com/questions/43137589/how-to-write-mongodb-aggregation-for-this-criteria-query\r\n\r\n    AggregationOperation match = Aggregation.match(Criteria.where(&quot;careGiverId&quot;).is(careTakerId).and(&quot;careType&quot;).is(careType));\r\n     AggregationOperation count = Aggregation.count().as(&quot;count&quot;);\r\n     Aggregation agg = Aggregation.newAggregation(match, count);\r\n     mongoOperations.aggregate(agg, CareLogBean.class);\r\n\r\nhttps://stackoverflow.com/questions/18521009/spring-mongodb-query-sorting\r\n\r\n\r\n    AggregationOperation match = Aggregation.match(matching criteria);\r\n    AggregationOperation group = Aggregation.group(&quot;fieldname&quot;);\r\n    AggregationOperation sort = Aggregation.sort(Sort.Direction.ASC, &quot;fieldname&quot;);\r\n    Aggregation aggregation = Aggregation.newAggregation(Aggregation.unwind(&quot;fieldname&quot;),match,group,sort);\r\n\r\n\r\n\r\nhttps://stackoverflow.com/questions/33864461/mongodb-print-distance-between-two-points\r\n\r\n     db.new_stores.aggregate([\r\n        { &quot;$geoNear&quot;: {\r\n            &quot;near&quot;: {\r\n                &quot;type&quot;: &quot;Point&quot;,\r\n                &quot;coordinates&quot;: [ -81.093699, 32.074673 ]\r\n            }, \r\n            &quot;maxDistance&quot;: 500 * 1609,\r\n            &quot;key&quot; : &quot;myLocation&quot;,\r\n            &quot;spherical&quot;: true,\r\n            &quot;distanceField&quot;: &quot;distance&quot;,\r\n            &quot;distanceMultiplier&quot;: 0.000621371\r\n        }}\r\n    ]).pretty()\r\n\r\n&gt; &quot;This allows you to specify &quot;distanceField&quot; which will produce another\r\n&gt; field in the output documents containing the distance from the queried\r\n&gt; point. You can also use &quot;distanceMultiplier&quot; to apply any conversion\r\n&gt; to the output distance as required ( i.e meters to miles, and noting\r\n&gt; that all GeoJSON distances are returned in meters )\r\n&gt; \r\n&gt; There is also the geoNear command with similar options, but it of\r\n&gt; course does not return a cursor as output.\r\n&gt; \r\n&gt; if you have more than one 2dsphere, you should specify a &quot;key&quot;.&quot;\r\n\r\n\r\n-----\r\n\r\nI have this working on the frontend to calculate distance in km\r\n\r\nhttps://stackoverflow.com/questions/27928/calculate-distance-between-two-latitude-longitude-points-haversine-formula/27943#27943\r\n\r\nusing the ‘Haversine’ formula\r\n\r\n\r\n    function getDistanceFromLatLonInKm(lat1,lon1,lat2,lon2) {\r\n      var R = 6371; // Radius of the earth in km\r\n      var dLat = deg2rad(lat2-lat1);  // deg2rad below\r\n      var dLon = deg2rad(lon2-lon1); \r\n      var a = \r\n        Math.sin(dLat/2) * Math.sin(dLat/2) +\r\n        Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) * \r\n        Math.sin(dLon/2) * Math.sin(dLon/2)\r\n        ; \r\n      var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)); \r\n      var d = R * c; // Distance in km\r\n      return d;\r\n    }\r\n    \r\n    function deg2rad(deg) {\r\n      return deg * (Math.PI/180)\r\n    }\r\n\r\n\r\n----------------------\r\n28th March 2023\r\ncurrent research\r\n\r\n\r\nI am working on a mongobdb application - using Java springboot.\r\n\r\nIts a user website -- where members will log in and be able to search/filter/sort for other members.\r\n\r\nI&#39;ve started building an api with basic queries --\r\n\r\nI need to complete part of the api to allow you to sort via distance. Each user has lat/lng details -- I believe its a case of building an aggregate query.\r\n\r\nhttps://stackoverflow.com/questions/75825625/aggerate-distance-in-a-query-that-sorts-via-distance-between-a-logged-in-user-an\r\n\r\n---\r\n\r\n* Handle the distance sorting -- aggregate query part.\r\n* I want to clean the codebase up - as there are separate apis made to do similar/same searches but for specific filters -- getUsers, getFavs, getBlocks, getViewedMe -\r\n* Also make pagination options optional -(or have a part of the code in its own function to isolate it with optional pagination handling - aka reduce repeated code effort)- so I could acquire ALL user data and not chunks of it for analysis - again similar searches/same but scalable - aka provide just 5 of the latest results, provide paginated data with or with sorting/filtering.\r\n* Be able to add multiple types of filters -- with AND and OR operations -- image only, blonde hair, blue eyes, ethnicities\r\n\r\n--- \r\n\r\n\r\n-- so you can see here -- that the other cases work - because they are actual fields --- lastLoginAt, createdAt ----- etc.. -- whereas distance is like a virtual field that needs to be made -- I think with the aggregate\r\n\r\n    String field = &quot;&quot;;//createdAt\r\n    switch (sort_by) {\r\n    case &quot;1&quot;:\r\n    System.out.println(&quot;Distance&quot;);\r\n    break;\r\n    case &quot;2&quot;:\r\n    System.out.println(&quot;Last online&quot;);\r\n    field = &quot;lastLoginAt&quot;;\r\n    break;\r\n    case &quot;3&quot;:\r\n    System.out.println(&quot;Latest joined&quot;);\r\n    field = &quot;createdAt&quot;;\r\n    break;\r\n    case &quot;4&quot;:\r\n    System.out.println(&quot;Newest photo&quot;);\r\n    field = &quot;newestImageAt&quot;;\r\n    break;\r\n    case &quot;5&quot;:\r\n    System.out.println(&quot;Recently Updated&quot;);\r\n    field = &quot;updatedAt&quot;;\r\n    break;\r\n    default:\r\n    System.out.println(&quot;default&quot;);\r\n    field = &quot;createdAt&quot;;\r\n    }\r\n    \r\n    Query query = new Query();\r\n    \r\n    long totalUsercount = MongoApp.mongoOps().count(query, Person.class);\r\n    System.out.println(&quot;totalUsercount &quot;+ totalUsercount);\r\n    \r\n    ///default filters (only active users, no admins, no self)\r\n    query = addDefaultFilters(query, loggedInUser);\r\n    ///default filters\r\n    \r\n    //country filter\r\n    //query.addCriteria(Criteria.where(&quot;country&quot;).is(&quot;AR&quot;));\r\n    \r\n    query.with(Sort.by(Sort.Direction.DESC, field));\r\n\r\n\r\n----------------\r\n\r\n&quot;MongoDB Compass terminal which is great to test out queries and aggregations&quot;\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAdded here documentations for indexes in mongodb and the 2dsphere index type.\r\n\r\n\r\n2dshpere: https://www.mongodb.com/docs/manual/core/2dsphere/#:~:text=A%202dsphere%20index%20supports%20queries,geospatial%20queries%2C%20see%20Geospatial%20Queries.\r\nIndexes: https://www.mongodb.com/docs/manual/indexes/\r\n\r\n\r\nThe 2dsphere index is required for MongoDB&#39;s $geoNear aggregation stage to work correctly with geospatial data. This is because $geoNear uses the 2dsphere index to efficiently perform geospatial queries\r\n\r\n\r\nthere is already a default filter in place\r\n\r\n    public Query addDefaultFilters(Query query, Person loggedInUser) {\r\n    \r\n    ///default filters\r\n    //only show isActive users\r\n    query.addCriteria(Criteria.where(&quot;isActive&quot;).is(true));\r\n    \r\n    //dont show admins\r\n    query.addCriteria(Criteria.where(&quot;role&quot;).ne(&quot;ROLE_ADMIN&quot;));\r\n    \r\n    //dont show yourself - loggedin user excluded from list\r\n    query.addCriteria(Criteria.where(&quot;id&quot;).ne(loggedInUser.getId()));\r\n    ///default filters\r\n    \r\n    return query;\r\n    }\r\n\r\n--\r\n\r\n\r\n    Query query = new Query();\r\n    \r\n    long totalUsercount = MongoApp.mongoOps().count(query, Person.class);\r\n    System.out.println(&quot;totalUsercount &quot;+ totalUsercount);\r\n    \r\n    ///default filters (only active users, no admins, no self)\r\n    query = addDefaultFilters(query, loggedInUser);\r\n    ///default filters\r\n    \r\n    //country filter\r\n    //query.addCriteria(Criteria.where(&quot;country&quot;).is(&quot;AR&quot;));\r\n    \r\n    query.with(Sort.by(Sort.Direction.DESC, field));\r\n    \r\n    Pageable pageable = PageRequest.of(page, size);\r\n    List totalPeople = new ArrayList();\r\n    totalPeople = queryPeopleAddImages(totalPeople, query);\r\n    long totalCount = totalPeople.size();\r\n    System.out.println(&quot;xxxxxxxxxxxxxtotalCount &quot;+totalCount);\r\n    query.with(pageable);\r\n    \r\n    // List People\r\n    //List people = MongoApp.mongoOps().findAll(Person.class);\r\n    List people = new ArrayList();\r\n    people = queryPeopleAddImages(people, query);\r\n\r\n--------\r\n[![enter image description here][3]][3]\r\n\r\n-------\r\n[![enter image description here][4]][4]\r\n\r\n[![enter image description here][5]][5]\r\n[![enter image description here][6]][6]\r\n[![enter image description here][7]][7]\r\n[![enter image description here][8]][8]\r\n[![enter image description here][9]][9]\r\n[![enter image description here][10]][10]\r\n[![enter image description here][11]][11]\r\n\r\n-----\r\nanother java example\r\n[![enter image description here][12]][12]\r\n[![enter image description here][13]][13]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RL8yb.png\r\n  [2]: https://i.stack.imgur.com/ivmww.png\r\n  [3]: https://i.stack.imgur.com/VQdXg.png\r\n  [4]: https://i.stack.imgur.com/9cIzk.png\r\n  [5]: https://i.stack.imgur.com/HmGr4.png\r\n  [6]: https://i.stack.imgur.com/2zOsT.png\r\n  [7]: https://i.stack.imgur.com/3yZU9.png\r\n  [8]: https://i.stack.imgur.com/ZvjTm.png\r\n  [9]: https://i.stack.imgur.com/6yXcZ.png\r\n  [10]: https://i.stack.imgur.com/foOxF.png\r\n  [11]: https://i.stack.imgur.com/0p25x.png\r\n  [12]: https://i.stack.imgur.com/CDIbF.png\r\n  [13]: https://i.stack.imgur.com/OYPst.png\r\n\r\n\r\n-----------\r\n10th April 2023\r\n\r\nthere was another solution given to me that may solve these issues -please evaluate.\r\n\r\n----\r\n\r\nTo handle the distance sorting using MongoDB aggregation query, you can use the following steps:\r\n\r\nCreate a GeoJSON object for the user&#39;s location, using the coordinates stored in the user&#39;s document.\r\n\r\nUse the $geoNear stage in the aggregation pipeline to find other users who are within a certain radius of the user&#39;s location. You can specify the maximum distance and the field that contains the other users&#39; location information.\r\n\r\nUse the $sort stage to sort the results based on the distance from the user&#39;s location.\r\n\r\nHere&#39;s an example code snippet that demonstrates how you can implement this in Java using Spring Boot and the MongoDB Java driver:\r\n\r\n----------------------\r\n\r\n    import org.springframework.data.mongodb.core.geo.GeoJsonPoint;\r\n    import org.springframework.data.mongodb.core.query.Criteria;\r\n    import org.springframework.data.mongodb.core.query.Query;\r\n    import org.springframework.data.mongodb.core.aggregation.Aggregation;\r\n    import org.springframework.data.mongodb.core.aggregation.AggregationResults;\r\n    import org.springframework.data.mongodb.core.aggregation.GeoNearAggregation;\r\n    import org.springframework.data.mongodb.core.aggregation.SortOperation;\r\n    import org.springframework.data.mongodb.core.aggregation.TypedAggregation;\r\n    \r\n    import static org.springframework.data.mongodb.core.aggregation.Aggregation.*;\r\n    \r\n    GeoJsonPoint userLocation = new GeoJsonPoint(user.getLongitude(), user.getLatitude());\r\n    double maxDistance = 10000.0; // 10km\r\n    \r\n    GeoNearAggregation geoNearAggregation = new GeoNearAggregation(\r\n        near(userLocation).spherical(true).maxDistance(maxDistance),\r\n        &quot;distance&quot;\r\n    );\r\n    \r\n    SortOperation sortOperation = sort(Sort.by(&quot;distance&quot;));\r\n    \r\n    TypedAggregation[User] aggregation = newAggregation(User.class, geoNearAggregation, sortOperation);\r\n    AggregationResults[User] results = mongoTemplate.aggregate(aggregation, User.class);\r\n    List[User] nearbyUsers = results.getMappedResults();\r\n\r\n---------------------------------\r\n\r\n\r\nTo clean up the codebase and reduce repeated code effort, you can create a generic search function that takes in filter parameters and pagination options as parameters. You can use the Query class to build up the filter criteria and the PageRequest class to handle pagination.\r\n\r\nHere&#39;s an example code snippet that demonstrates how you can implement this:\r\n\r\n\r\n-----------------------------------\r\n\r\n\r\n    public Page[User] searchUsers(String keyword, List[Criteria] filters, Sort sort, int page, int size) {\r\n        Query query = new Query();\r\n    \r\n        // Add the keyword search criteria\r\n        if (keyword != null) {\r\n            Criteria keywordCriteria = new Criteria()\r\n                .orOperator(\r\n                    Criteria.where(&quot;firstName&quot;).regex(keyword, &quot;i&quot;),\r\n                    Criteria.where(&quot;lastName&quot;).regex(keyword, &quot;i&quot;)\r\n                );\r\n            query.addCriteria(keywordCriteria);\r\n        }\r\n    \r\n        // Add the filters\r\n        if (filters != null) {\r\n            Criteria filterCriteria = new Criteria().andOperator(filters.toArray(new Criteria[0]));\r\n            query.addCriteria(filterCriteria);\r\n        }\r\n    \r\n        // Add the pagination options\r\n        PageRequest pageRequest = PageRequest.of(page, size, sort);\r\n    \r\n        query.with(pageRequest);\r\n    \r\n        return mongoTemplate.find(query, User.class, &quot;users&quot;);\r\n    }\r\n\r\n","title":"Aggerate distance in a query that sorts via distance between a logged in user and user lists using mongodb/java springboot","body":"<p>I am working on a Java/Mongodb system - where each user has their own lat/lng coordinates</p>\n<p>I have made an api query to user collection -- and I want to start filtering/sorting through the users.</p>\n<p>I want to complete this sort process -- it works fine for options 2-5 -- but I need to work out how to create an aggregate I think in mongo (which I am new at).</p>\n<p>a user record looks like this - where I have placed the coordinates in a locations object, the other filters are mostly in the root - like createdAt, lastLoginAt ...</p>\n<p><a href=\"https://i.stack.imgur.com/RL8yb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RL8yb.png\" alt=\"enter image description here\" /></a></p>\n<p>How do I start creating the required aggregate using the current code base -- so I can sort a user that is logged in -- get their coordinates - and sort against those with the viewed list.</p>\n<p>using the springframework imports</p>\n<pre><code>import org.springframework.data.mongodb.core.query.Criteria;\nimport org.springframework.data.mongodb.core.query.Query;\n</code></pre>\n<hr />\n<pre><code>@CrossOrigin\n@GetMapping(&quot;/api/users&quot;)\n@ResponseBody\npublic BasicDBObject listUsers (@RequestHeader(&quot;Authorization&quot;) String bearerToken, @RequestParam(&quot;sort_by&quot;) String sort_by, @RequestParam(defaultValue = &quot;0&quot;) int page,\n@RequestParam(defaultValue = &quot;3&quot;) int size) {\n\n    String email = tokenHandler.getEmailFromBearerToken(bearerToken);\n\n    //get logged in user\n    Query q = new Query();\n    q.addCriteria(Criteria.where(&quot;email&quot;).is(email));\n    List&lt;Person&gt; lp = MongoApp.mongoOps().find(q, Person.class);\n    Person loggedInUser = null;\n    if (!lp.isEmpty()) {\n        for (Person person : lp) {\n            loggedInUser = person;\n        }\n    }\n\n\n    String field = &quot;&quot;;//createdAt\n    switch (sort_by) {\n        case &quot;1&quot;:\n            System.out.println(&quot;Distance&quot;);\n            break;\n        case &quot;2&quot;:\n            System.out.println(&quot;Last online&quot;);\n            field = &quot;lastLoginAt&quot;;\n            break;\n        case &quot;3&quot;:\n            System.out.println(&quot;Latest joined&quot;);\n            field = &quot;createdAt&quot;;\n            break;\n        case &quot;4&quot;:\n            System.out.println(&quot;Newest photo&quot;);\n            field = &quot;newestImageAt&quot;;\n            break;\n        case &quot;5&quot;:\n            System.out.println(&quot;Recently Updated&quot;);\n            field = &quot;updatedAt&quot;;\n            break;\n        default:\n            System.out.println(&quot;default&quot;);\n            field = &quot;createdAt&quot;;\n    }\n\n    Query query = new Query();\n\n    long totalUsercount = MongoApp.mongoOps().count(query, Person.class);\n\n    //only show isActive users\n    query.addCriteria(Criteria.where(&quot;isActive&quot;).is(true));\n\n    //dont show yourself - loggedin user excluded from list\n    query.addCriteria(Criteria.where(&quot;id&quot;).ne(loggedInUser.getId()));\n\n    query.with(Sort.by(Sort.Direction.DESC, field));\n\n    Pageable pageable = PageRequest.of(page, size);\n    List&lt;Person&gt; totalPeople = new ArrayList&lt;&gt;();\n    totalPeople = queryPeopleAddImages(totalPeople, query);\n    long totalCount = totalPeople.size();\n    query.with(pageable);\n\n    // List People\n    List&lt;Person&gt; people = new ArrayList&lt;&gt;();\n    people = queryPeopleAddImages(people, query);\n\n    BasicDBObject obj = userListResponse(loggedInUser, people, totalCount, totalUsercount);\n\n    return obj;\n}\n</code></pre>\n<hr />\n<p>I've added some research links here - which I think is on track to complete this functionality</p>\n<p>Research</p>\n<p><a href=\"https://stackoverflow.com/questions/43137589/how-to-write-mongodb-aggregation-for-this-criteria-query\">How to write MongoDb Aggregation for this Criteria query</a></p>\n<pre><code>AggregationOperation match = Aggregation.match(Criteria.where(&quot;careGiverId&quot;).is(careTakerId).and(&quot;careType&quot;).is(careType));\n AggregationOperation count = Aggregation.count().as(&quot;count&quot;);\n Aggregation agg = Aggregation.newAggregation(match, count);\n mongoOperations.aggregate(agg, CareLogBean.class);\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/18521009/spring-mongodb-query-sorting\">Spring MongoDB query sorting</a></p>\n<pre><code>AggregationOperation match = Aggregation.match(matching criteria);\nAggregationOperation group = Aggregation.group(&quot;fieldname&quot;);\nAggregationOperation sort = Aggregation.sort(Sort.Direction.ASC, &quot;fieldname&quot;);\nAggregation aggregation = Aggregation.newAggregation(Aggregation.unwind(&quot;fieldname&quot;),match,group,sort);\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/33864461/mongodb-print-distance-between-two-points\">MongoDB print distance between two points</a></p>\n<pre><code> db.new_stores.aggregate([\n    { &quot;$geoNear&quot;: {\n        &quot;near&quot;: {\n            &quot;type&quot;: &quot;Point&quot;,\n            &quot;coordinates&quot;: [ -81.093699, 32.074673 ]\n        }, \n        &quot;maxDistance&quot;: 500 * 1609,\n        &quot;key&quot; : &quot;myLocation&quot;,\n        &quot;spherical&quot;: true,\n        &quot;distanceField&quot;: &quot;distance&quot;,\n        &quot;distanceMultiplier&quot;: 0.000621371\n    }}\n]).pretty()\n</code></pre>\n<blockquote>\n<p>&quot;This allows you to specify &quot;distanceField&quot; which will produce another\nfield in the output documents containing the distance from the queried\npoint. You can also use &quot;distanceMultiplier&quot; to apply any conversion\nto the output distance as required ( i.e meters to miles, and noting\nthat all GeoJSON distances are returned in meters )</p>\n<p>There is also the geoNear command with similar options, but it of\ncourse does not return a cursor as output.</p>\n<p>if you have more than one 2dsphere, you should specify a &quot;key&quot;.&quot;</p>\n</blockquote>\n<hr />\n<p>I have this working on the frontend to calculate distance in km</p>\n<p><a href=\"https://stackoverflow.com/questions/27928/calculate-distance-between-two-latitude-longitude-points-haversine-formula/27943#27943\">Calculate distance between two latitude-longitude points? (Haversine formula)</a></p>\n<p>using the ‘Haversine’ formula</p>\n<pre><code>function getDistanceFromLatLonInKm(lat1,lon1,lat2,lon2) {\n  var R = 6371; // Radius of the earth in km\n  var dLat = deg2rad(lat2-lat1);  // deg2rad below\n  var dLon = deg2rad(lon2-lon1); \n  var a = \n    Math.sin(dLat/2) * Math.sin(dLat/2) +\n    Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) * \n    Math.sin(dLon/2) * Math.sin(dLon/2)\n    ; \n  var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)); \n  var d = R * c; // Distance in km\n  return d;\n}\n\nfunction deg2rad(deg) {\n  return deg * (Math.PI/180)\n}\n</code></pre>\n<hr />\n<p>28th March 2023\ncurrent research</p>\n<p>I am working on a mongobdb application - using Java springboot.</p>\n<p>Its a user website -- where members will log in and be able to search/filter/sort for other members.</p>\n<p>I've started building an api with basic queries --</p>\n<p>I need to complete part of the api to allow you to sort via distance. Each user has lat/lng details -- I believe its a case of building an aggregate query.</p>\n<p><a href=\"https://stackoverflow.com/questions/75825625/aggerate-distance-in-a-query-that-sorts-via-distance-between-a-logged-in-user-an\">Aggerate distance in a query that sorts via distance between a logged in user and user lists using mongodb/java springboot</a></p>\n<hr />\n<ul>\n<li>Handle the distance sorting -- aggregate query part.</li>\n<li>I want to clean the codebase up - as there are separate apis made to do similar/same searches but for specific filters -- getUsers, getFavs, getBlocks, getViewedMe -</li>\n<li>Also make pagination options optional -(or have a part of the code in its own function to isolate it with optional pagination handling - aka reduce repeated code effort)- so I could acquire ALL user data and not chunks of it for analysis - again similar searches/same but scalable - aka provide just 5 of the latest results, provide paginated data with or with sorting/filtering.</li>\n<li>Be able to add multiple types of filters -- with AND and OR operations -- image only, blonde hair, blue eyes, ethnicities</li>\n</ul>\n<hr />\n<p>-- so you can see here -- that the other cases work - because they are actual fields --- lastLoginAt, createdAt ----- etc.. -- whereas distance is like a virtual field that needs to be made -- I think with the aggregate</p>\n<pre><code>String field = &quot;&quot;;//createdAt\nswitch (sort_by) {\ncase &quot;1&quot;:\nSystem.out.println(&quot;Distance&quot;);\nbreak;\ncase &quot;2&quot;:\nSystem.out.println(&quot;Last online&quot;);\nfield = &quot;lastLoginAt&quot;;\nbreak;\ncase &quot;3&quot;:\nSystem.out.println(&quot;Latest joined&quot;);\nfield = &quot;createdAt&quot;;\nbreak;\ncase &quot;4&quot;:\nSystem.out.println(&quot;Newest photo&quot;);\nfield = &quot;newestImageAt&quot;;\nbreak;\ncase &quot;5&quot;:\nSystem.out.println(&quot;Recently Updated&quot;);\nfield = &quot;updatedAt&quot;;\nbreak;\ndefault:\nSystem.out.println(&quot;default&quot;);\nfield = &quot;createdAt&quot;;\n}\n\nQuery query = new Query();\n\nlong totalUsercount = MongoApp.mongoOps().count(query, Person.class);\nSystem.out.println(&quot;totalUsercount &quot;+ totalUsercount);\n\n///default filters (only active users, no admins, no self)\nquery = addDefaultFilters(query, loggedInUser);\n///default filters\n\n//country filter\n//query.addCriteria(Criteria.where(&quot;country&quot;).is(&quot;AR&quot;));\n\nquery.with(Sort.by(Sort.Direction.DESC, field));\n</code></pre>\n<hr />\n<p>&quot;MongoDB Compass terminal which is great to test out queries and aggregations&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/ivmww.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ivmww.png\" alt=\"enter image description here\" /></a></p>\n<p>Added here documentations for indexes in mongodb and the 2dsphere index type.</p>\n<p>2dshpere: <a href=\"https://www.mongodb.com/docs/manual/core/2dsphere/#:%7E:text=A%202dsphere%20index%20supports%20queries,geospatial%20queries%2C%20see%20Geospatial%20Queries\" rel=\"nofollow noreferrer\">https://www.mongodb.com/docs/manual/core/2dsphere/#:~:text=A%202dsphere%20index%20supports%20queries,geospatial%20queries%2C%20see%20Geospatial%20Queries</a>.\nIndexes: <a href=\"https://www.mongodb.com/docs/manual/indexes/\" rel=\"nofollow noreferrer\">https://www.mongodb.com/docs/manual/indexes/</a></p>\n<p>The 2dsphere index is required for MongoDB's $geoNear aggregation stage to work correctly with geospatial data. This is because $geoNear uses the 2dsphere index to efficiently perform geospatial queries</p>\n<p>there is already a default filter in place</p>\n<pre><code>public Query addDefaultFilters(Query query, Person loggedInUser) {\n\n///default filters\n//only show isActive users\nquery.addCriteria(Criteria.where(&quot;isActive&quot;).is(true));\n\n//dont show admins\nquery.addCriteria(Criteria.where(&quot;role&quot;).ne(&quot;ROLE_ADMIN&quot;));\n\n//dont show yourself - loggedin user excluded from list\nquery.addCriteria(Criteria.where(&quot;id&quot;).ne(loggedInUser.getId()));\n///default filters\n\nreturn query;\n}\n</code></pre>\n<p>--</p>\n<pre><code>Query query = new Query();\n\nlong totalUsercount = MongoApp.mongoOps().count(query, Person.class);\nSystem.out.println(&quot;totalUsercount &quot;+ totalUsercount);\n\n///default filters (only active users, no admins, no self)\nquery = addDefaultFilters(query, loggedInUser);\n///default filters\n\n//country filter\n//query.addCriteria(Criteria.where(&quot;country&quot;).is(&quot;AR&quot;));\n\nquery.with(Sort.by(Sort.Direction.DESC, field));\n\nPageable pageable = PageRequest.of(page, size);\nList totalPeople = new ArrayList();\ntotalPeople = queryPeopleAddImages(totalPeople, query);\nlong totalCount = totalPeople.size();\nSystem.out.println(&quot;xxxxxxxxxxxxxtotalCount &quot;+totalCount);\nquery.with(pageable);\n\n// List People\n//List people = MongoApp.mongoOps().findAll(Person.class);\nList people = new ArrayList();\npeople = queryPeopleAddImages(people, query);\n</code></pre>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/VQdXg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VQdXg.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/9cIzk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9cIzk.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/HmGr4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HmGr4.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/2zOsT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2zOsT.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/3yZU9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3yZU9.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/ZvjTm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZvjTm.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/6yXcZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6yXcZ.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/foOxF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/foOxF.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/0p25x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0p25x.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>another java example\n<a href=\"https://i.stack.imgur.com/CDIbF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CDIbF.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/OYPst.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OYPst.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>10th April 2023</p>\n<p>there was another solution given to me that may solve these issues -please evaluate.</p>\n<hr />\n<p>To handle the distance sorting using MongoDB aggregation query, you can use the following steps:</p>\n<p>Create a GeoJSON object for the user's location, using the coordinates stored in the user's document.</p>\n<p>Use the $geoNear stage in the aggregation pipeline to find other users who are within a certain radius of the user's location. You can specify the maximum distance and the field that contains the other users' location information.</p>\n<p>Use the $sort stage to sort the results based on the distance from the user's location.</p>\n<p>Here's an example code snippet that demonstrates how you can implement this in Java using Spring Boot and the MongoDB Java driver:</p>\n<hr />\n<pre><code>import org.springframework.data.mongodb.core.geo.GeoJsonPoint;\nimport org.springframework.data.mongodb.core.query.Criteria;\nimport org.springframework.data.mongodb.core.query.Query;\nimport org.springframework.data.mongodb.core.aggregation.Aggregation;\nimport org.springframework.data.mongodb.core.aggregation.AggregationResults;\nimport org.springframework.data.mongodb.core.aggregation.GeoNearAggregation;\nimport org.springframework.data.mongodb.core.aggregation.SortOperation;\nimport org.springframework.data.mongodb.core.aggregation.TypedAggregation;\n\nimport static org.springframework.data.mongodb.core.aggregation.Aggregation.*;\n\nGeoJsonPoint userLocation = new GeoJsonPoint(user.getLongitude(), user.getLatitude());\ndouble maxDistance = 10000.0; // 10km\n\nGeoNearAggregation geoNearAggregation = new GeoNearAggregation(\n    near(userLocation).spherical(true).maxDistance(maxDistance),\n    &quot;distance&quot;\n);\n\nSortOperation sortOperation = sort(Sort.by(&quot;distance&quot;));\n\nTypedAggregation[User] aggregation = newAggregation(User.class, geoNearAggregation, sortOperation);\nAggregationResults[User] results = mongoTemplate.aggregate(aggregation, User.class);\nList[User] nearbyUsers = results.getMappedResults();\n</code></pre>\n<hr />\n<p>To clean up the codebase and reduce repeated code effort, you can create a generic search function that takes in filter parameters and pagination options as parameters. You can use the Query class to build up the filter criteria and the PageRequest class to handle pagination.</p>\n<p>Here's an example code snippet that demonstrates how you can implement this:</p>\n<hr />\n<pre><code>public Page[User] searchUsers(String keyword, List[Criteria] filters, Sort sort, int page, int size) {\n    Query query = new Query();\n\n    // Add the keyword search criteria\n    if (keyword != null) {\n        Criteria keywordCriteria = new Criteria()\n            .orOperator(\n                Criteria.where(&quot;firstName&quot;).regex(keyword, &quot;i&quot;),\n                Criteria.where(&quot;lastName&quot;).regex(keyword, &quot;i&quot;)\n            );\n        query.addCriteria(keywordCriteria);\n    }\n\n    // Add the filters\n    if (filters != null) {\n        Criteria filterCriteria = new Criteria().andOperator(filters.toArray(new Criteria[0]));\n        query.addCriteria(filterCriteria);\n    }\n\n    // Add the pagination options\n    PageRequest pageRequest = PageRequest.of(page, size, sort);\n\n    query.with(pageRequest);\n\n    return mongoTemplate.find(query, User.class, &quot;users&quot;);\n}\n</code></pre>\n"},{"tags":["java","editorconfig"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1681161188,"post_id":75976157,"comment_id":134009135,"body_markdown":"I don&#39;t use IntelliJ, so no idea how to enforce the rules there. I&#39;d just have the linter run in a pre-commit hook. Check the pre-commit framework.","body":"I don&#39;t use IntelliJ, so no idea how to enforce the rules there. I&#39;d just have the linter run in a pre-commit hook. Check the pre-commit framework."}],"owner":{"account_id":16637097,"reputation":1,"user_id":12023509,"display_name":"mani shankar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681121361,"creation_date":1681121361,"question_id":75976157,"body_markdown":"I have configured editorconfig in intellij which is helping me in formatting the code as i require. Is there any way i can throw compile time errors when .editorconfig rules are not followed. \r\n\r\nI went through some existing plugins they are fine but wondering if there is any formal way or universally accpeted way. It would be helpful if anyone can point be in right way.\r\n\r\nFollowing plugin is close to my requirements.\r\n[editorconfig-maven-plugin](https://ec4j.github.io/editorconfig-maven-plugin/)","title":"how to enforce that a java/spring boot project is following .editorconfig rules","body":"<p>I have configured editorconfig in intellij which is helping me in formatting the code as i require. Is there any way i can throw compile time errors when .editorconfig rules are not followed.</p>\n<p>I went through some existing plugins they are fine but wondering if there is any formal way or universally accpeted way. It would be helpful if anyone can point be in right way.</p>\n<p>Following plugin is close to my requirements.\n<a href=\"https://ec4j.github.io/editorconfig-maven-plugin/\" rel=\"nofollow noreferrer\">editorconfig-maven-plugin</a></p>\n"},{"tags":["java","spring","design-patterns","service","dto"],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681120889,"creation_date":1681120889,"answer_id":75976084,"question_id":75975645,"body_markdown":"It looks like you drew the boundaries between the services based on the data model rather than use cases. One option would be to change them and allow OperationService to save Posts (or even rename/ create a different service called CreateOperationSevice or CreateOperationUseCase for this purpose). If you find this approach interesting, take a look at this [video][1].\r\n\r\nOn the other hand, if you want to keep them decoupled like this, you can create a common facade that calls the 2 services in turn, inside the same transaction. something like this:\r\n\r\n    @Component\r\n    class OperationFacade {\r\n        final OperationService operationService;\r\n        final PostService postService;\r\n    \r\n        @Transactional\r\n        public void createOperation(CreateOperationDto dto) {\r\n            long operationId = operationService.save(dto.operation());\r\n            postService.saveAll(dto.posts(), operationId);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=YDNR_gfBk0Q","title":"Service pattern store one to one with Dtos","body":"<p>It looks like you drew the boundaries between the services based on the data model rather than use cases. One option would be to change them and allow OperationService to save Posts (or even rename/ create a different service called CreateOperationSevice or CreateOperationUseCase for this purpose). If you find this approach interesting, take a look at this <a href=\"https://www.youtube.com/watch?v=YDNR_gfBk0Q\" rel=\"nofollow noreferrer\">video</a>.</p>\n<p>On the other hand, if you want to keep them decoupled like this, you can create a common facade that calls the 2 services in turn, inside the same transaction. something like this:</p>\n<pre><code>@Component\nclass OperationFacade {\n    final OperationService operationService;\n    final PostService postService;\n\n    @Transactional\n    public void createOperation(CreateOperationDto dto) {\n        long operationId = operationService.save(dto.operation());\n        postService.saveAll(dto.posts(), operationId);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9201088,"reputation":113,"user_id":6837992,"display_name":"Jan K&#252;ck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75976084,"answer_count":1,"score":0,"last_activity_date":1681120889,"creation_date":1681116888,"question_id":75975645,"body_markdown":"I have a OperationService and a PostService, they handle some operations and business logic about operations and posts. On database level the operation has a one to one relationship to a post. What is the design approach to persists this? My services return only Dtos. And no concrete database entities. For example i persists a operation with a CreateOperationDto but in this there should only the id of the post. Than i have the postservice how return me a PostDto but i can not persists the PostDto directly. Hopefully can help someone.","title":"Service pattern store one to one with Dtos","body":"<p>I have a OperationService and a PostService, they handle some operations and business logic about operations and posts. On database level the operation has a one to one relationship to a post. What is the design approach to persists this? My services return only Dtos. And no concrete database entities. For example i persists a operation with a CreateOperationDto but in this there should only the id of the post. Than i have the postservice how return me a PostDto but i can not persists the PostDto directly. Hopefully can help someone.</p>\n"},{"tags":["java","spring","spring-boot","parameters"],"comments":[{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":2,"creation_date":1681118301,"post_id":75975664,"comment_id":134000853,"body_markdown":"Why invent a paging parameters DTO when Spring Boot auto-configures support for [Pageable as a controller method argument](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#core.web.basic.paging-and-sorting)?","body":"Why invent a paging parameters DTO when Spring Boot auto-configures support for <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#core.web.basic.paging-and-sorting\" rel=\"nofollow noreferrer\">Pageable as a controller method argument</a>?"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1681119734,"post_id":75975664,"comment_id":134001072,"body_markdown":"the API should look the same. maybe they did the change for a different display in swagger-ui / openAPI?","body":"the API should look the same. maybe they did the change for a different display in swagger-ui / openAPI?"},{"owner":{"account_id":22506547,"reputation":980,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1681121910,"post_id":75975664,"comment_id":134001497,"body_markdown":"@ChinHuang Good to know, but I think even if I changed to Pageable, it is still considered as violating the rules","body":"@ChinHuang Good to know, but I think even if I changed to Pageable, it is still considered as violating the rules"},{"owner":{"account_id":22506547,"reputation":980,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1681122453,"post_id":75975664,"comment_id":134001574,"body_markdown":"@EmanuelTrandafir Yeah, probably. If you got a minute, could you like share some information on the difference it will make to swagger ui when provided with / without PageDTO?","body":"@EmanuelTrandafir Yeah, probably. If you got a minute, could you like share some information on the difference it will make to swagger ui when provided with / without PageDTO?"}],"owner":{"account_id":22506547,"reputation":980,"user_id":16702058,"display_name":"Hi computer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681120769,"creation_date":1681117025,"question_id":75975664,"body_markdown":"I&#39;m working on a Spring project, and the class shown below is one that some GET requests use as &quot;paging parameters.&quot;\r\n\r\n```\r\n// PageDTO.java\r\npublic class PageDTO {\r\n    int size = 10;\r\n    int current = 0;\r\n}\r\n\r\n// RoomController.java - how I would use PageDTO\r\n@GetMapping(&quot;get/rooms&quot;)\r\npublic List&lt;Room&gt; getUserRooms(\r\n    PageDTO pageDTO, \r\n    @RequestParam(value = &quot;user_id&quot;, required = true) Integer userId\r\n) {\r\n    List&lt;Room&gt; rooms = roomMapper.getByUserId(userId, pageDTO.getCurrent(), pageDTO.getSize());\r\n    return rooms;\r\n}\r\n```\r\n\r\nProblem is: \r\n\r\nAccording to the regulations we use at work, PageDTO for GET requests is a bad design, but it did not explain why. The parameters should be changed to:\r\n\r\n```\r\nPageDTO pageDTO, \r\n@RequestParam(value = &quot;user_id&quot;, required = true) Integer userId\r\n\r\n// -&gt;\r\n\r\n@RequestParam(value = &quot;current&quot;, defaultValue = &quot;0&quot;, required = false) Integer current,\r\n@RequestParam(value = &quot;size&quot;, defaultValue = &quot;10&quot;, required = false) Integer size,\r\n@RequestParam(value = &quot;user_id&quot;, required = true) Integer userId\r\n```\r\n\r\nI see a lot of same code on Internet that use PageDTO or other similar classes. Can you clarify whether this design has any drawbacks? why it might be detrimental?","title":"Spring paging parameters put to one DTO","body":"<p>I'm working on a Spring project, and the class shown below is one that some GET requests use as &quot;paging parameters.&quot;</p>\n<pre><code>// PageDTO.java\npublic class PageDTO {\n    int size = 10;\n    int current = 0;\n}\n\n// RoomController.java - how I would use PageDTO\n@GetMapping(&quot;get/rooms&quot;)\npublic List&lt;Room&gt; getUserRooms(\n    PageDTO pageDTO, \n    @RequestParam(value = &quot;user_id&quot;, required = true) Integer userId\n) {\n    List&lt;Room&gt; rooms = roomMapper.getByUserId(userId, pageDTO.getCurrent(), pageDTO.getSize());\n    return rooms;\n}\n</code></pre>\n<p>Problem is:</p>\n<p>According to the regulations we use at work, PageDTO for GET requests is a bad design, but it did not explain why. The parameters should be changed to:</p>\n<pre><code>PageDTO pageDTO, \n@RequestParam(value = &quot;user_id&quot;, required = true) Integer userId\n\n// -&gt;\n\n@RequestParam(value = &quot;current&quot;, defaultValue = &quot;0&quot;, required = false) Integer current,\n@RequestParam(value = &quot;size&quot;, defaultValue = &quot;10&quot;, required = false) Integer size,\n@RequestParam(value = &quot;user_id&quot;, required = true) Integer userId\n</code></pre>\n<p>I see a lot of same code on Internet that use PageDTO or other similar classes. Can you clarify whether this design has any drawbacks? why it might be detrimental?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9713,"page":512,"page_size":100}
