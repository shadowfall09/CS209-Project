{"items":[{"tags":["java","apache-camel","spring-camel"],"comments":[{"owner":{"account_id":61478,"reputation":3618,"user_id":183217,"accept_rate":80,"display_name":"batwad"},"score":0,"creation_date":1554304450,"post_id":55355851,"comment_id":97704095,"body_markdown":"What exactly is the exchange you find at #3?  Is it one of the splitter sub-exchanges?  You should be able to use the `exchangeId` property to trace where it has come from.","body":"What exactly is the exchange you find at #3?  Is it one of the splitter sub-exchanges?  You should be able to use the <code>exchangeId</code> property to trace where it has come from."}],"answers":[{"tags":[],"owner":{"account_id":3919047,"reputation":175,"user_id":3242097,"accept_rate":60,"display_name":"ah.narayanan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553633767,"creation_date":1553633767,"answer_id":55366058,"question_id":55355851,"body_markdown":"The exception happening inside split may not be propagated all the way to your `onException`. You may try defining a `doTry/doCatch` inside split to handle this error.","title":"Apache Camel: How to persist property or header between multiple Exchanges after split and subsequent Exception?","body":"<p>The exception happening inside split may not be propagated all the way to your <code>onException</code>. You may try defining a <code>doTry/doCatch</code> inside split to handle this error.</p>\n"},{"tags":[],"owner":{"account_id":10933061,"reputation":6811,"user_id":8035582,"accept_rate":100,"display_name":"burki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553839423,"creation_date":1553839423,"answer_id":55411349,"question_id":55355851,"body_markdown":"Just guessing, but since there is a [Splitter][1] between the property creation and the property use, it could be the reason to lose properties. \r\n\r\nA Splitter creates new messages with parts of existing messages. The key question here is: **does Camel copy over all the properties and headers from the incoming message to all splitted, outgoing messages?** \r\n\r\nYou could easily try this out by moving the creation of the property inside the Splitter. If the property is then available in the Exception handler, the Splitter is responsible. \r\n\r\nIn this case you could implement the Splitter logic yourself (just a Java Bean, see chapter &quot;Using a Pojo to do the splitting&quot; of the [Splitter docs][1]). Your implementation can take care about the properties. \r\n\r\n\r\n  [1]: http://camel.apache.org/splitter.html","title":"Apache Camel: How to persist property or header between multiple Exchanges after split and subsequent Exception?","body":"<p>Just guessing, but since there is a <a href=\"http://camel.apache.org/splitter.html\" rel=\"nofollow noreferrer\">Splitter</a> between the property creation and the property use, it could be the reason to lose properties. </p>\n\n<p>A Splitter creates new messages with parts of existing messages. The key question here is: <strong>does Camel copy over all the properties and headers from the incoming message to all splitted, outgoing messages?</strong> </p>\n\n<p>You could easily try this out by moving the creation of the property inside the Splitter. If the property is then available in the Exception handler, the Splitter is responsible. </p>\n\n<p>In this case you could implement the Splitter logic yourself (just a Java Bean, see chapter \"Using a Pojo to do the splitting\" of the <a href=\"http://camel.apache.org/splitter.html\" rel=\"nofollow noreferrer\">Splitter docs</a>). Your implementation can take care about the properties. </p>\n"},{"tags":[],"owner":{"account_id":61478,"reputation":3618,"user_id":183217,"accept_rate":80,"display_name":"batwad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554304519,"creation_date":1554304519,"answer_id":55498602,"question_id":55355851,"body_markdown":"Try setting ``.shareUnitOfWork()`` on your splitters, you may find exceptions are propagated as you expect.\r\n\r\n[Relevant docs here][1] \r\n\r\n  [1]: http://people.apache.org/~dkulp/camel/splitter.html","title":"Apache Camel: How to persist property or header between multiple Exchanges after split and subsequent Exception?","body":"<p>Try setting <code>.shareUnitOfWork()</code> on your splitters, you may find exceptions are propagated as you expect.</p>\n\n<p><a href=\"http://people.apache.org/~dkulp/camel/splitter.html\" rel=\"nofollow noreferrer\">Relevant docs here</a> </p>\n"}],"owner":{"account_id":7796007,"reputation":2642,"user_id":5897065,"display_name":"Sanjeev Saha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3276,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":3,"score":9,"last_activity_date":1653513543,"creation_date":1553599037,"question_id":55355851,"body_markdown":"I have a complex route which is as below (partly):\r\n\r\n\t.when(header(&quot;KEY_1&quot;).isNull())\r\n    .choice()\r\n        .when(header(&quot;KEY_2&quot;).isNull())\r\n            .split().method(SplitExample.class, &quot;invokeSplitter&quot;).streaming().parallelProcessing().executorService(threadPoolExecutor)   // first split                  \r\n                .policy(requires_new)\r\n                    .bean(SplitExample.class, &quot;enrich&quot;)\r\n                    .bean(persister,&quot;populateRecordAndXRef&quot;)\r\n                    .bean(initializer, &quot;initialize&quot;)\r\n                    .bean(validator, &quot;validateInMsg&quot;)\r\n                    .bean(suppressResolver, &quot;resolve&quot;)\r\n                    .choice()\r\n                        .when(header(&quot;KEY_3&quot;).isNull())\r\n                            .bean(MsgConverter.class,&quot;doInvoke&quot; )  // #1 property or header set here\r\n                            .split(body()) // second split\r\n                            .bean(validator, &quot;validateOutMsg&quot;)                                 \r\n                            .to(toURI.toArray(new String[ toURI.size()]))\r\n                            .process(new Processor() {\r\n                                @Override\r\n                                public void process(Exchange exchange) throws Exception {\r\n                                    System.out.println(exchange.getException());  // #2 queue server is shut down here so that transaction failure occurs                                       \r\n                                }\r\n                            })\r\n                        .endChoice() //end when                            \r\n                    .end() //end choice\r\n                .end() //end policy                     \r\n            .end() //end split                      \r\n    .endChoice() //end when \r\n\t\t\t\t\r\nI have also defined following exception policy:\r\n\r\n     onException(JMSException.class)\t\t\r\n    \t.handled(true)\r\n    \t.process(new QueueOperationFailureProcessor()); // #3 property or header should be accessible here\r\n\r\n       \r\n\t\t\t\r\n\t\t\t\r\nNow, my intention is to set a bean as Exchange property (&quot;RECOVERY_DETAIL&quot;) in `MsgConverter (#1)` and retrieve the same bean in `QueueOperationFailureProcessor (#3)`.\r\n\r\nBy debugging, I can see the property (&quot;RECOVERY_DETAIL&quot;) in the `in-line processor (#2)`. On JMSException, when my exception policy kicks in, I would like to retrieve the property (&quot;RECOVERY_DETAIL&quot;) in `QueueOperationFailureProcessor (#3)`. \r\n\r\nBut as it happens - the Exchange available in `QueueOperationFailureProcessor (#3)` is different from the one that is available at `in-line processor (#2)` and the property (&quot;RECOVERY_DETAIL&quot;) is no where to be found. \r\n\r\nPlease help me out.\r\n\r\nP.S. My camel version is 2.16.0 and I may not able to use any solution which requires version up-gradation.","title":"Apache Camel: How to persist property or header between multiple Exchanges after split and subsequent Exception?","body":"<p>I have a complex route which is as below (partly):</p>\n\n<pre><code>.when(header(\"KEY_1\").isNull())\n.choice()\n    .when(header(\"KEY_2\").isNull())\n        .split().method(SplitExample.class, \"invokeSplitter\").streaming().parallelProcessing().executorService(threadPoolExecutor)   // first split                  \n            .policy(requires_new)\n                .bean(SplitExample.class, \"enrich\")\n                .bean(persister,\"populateRecordAndXRef\")\n                .bean(initializer, \"initialize\")\n                .bean(validator, \"validateInMsg\")\n                .bean(suppressResolver, \"resolve\")\n                .choice()\n                    .when(header(\"KEY_3\").isNull())\n                        .bean(MsgConverter.class,\"doInvoke\" )  // #1 property or header set here\n                        .split(body()) // second split\n                        .bean(validator, \"validateOutMsg\")                                 \n                        .to(toURI.toArray(new String[ toURI.size()]))\n                        .process(new Processor() {\n                            @Override\n                            public void process(Exchange exchange) throws Exception {\n                                System.out.println(exchange.getException());  // #2 queue server is shut down here so that transaction failure occurs                                       \n                            }\n                        })\n                    .endChoice() //end when                            \n                .end() //end choice\n            .end() //end policy                     \n        .end() //end split                      \n.endChoice() //end when \n</code></pre>\n\n<p>I have also defined following exception policy:</p>\n\n<pre><code> onException(JMSException.class)        \n    .handled(true)\n    .process(new QueueOperationFailureProcessor()); // #3 property or header should be accessible here\n</code></pre>\n\n<p>Now, my intention is to set a bean as Exchange property (\"RECOVERY_DETAIL\") in <code>MsgConverter (#1)</code> and retrieve the same bean in <code>QueueOperationFailureProcessor (#3)</code>.</p>\n\n<p>By debugging, I can see the property (\"RECOVERY_DETAIL\") in the <code>in-line processor (#2)</code>. On JMSException, when my exception policy kicks in, I would like to retrieve the property (\"RECOVERY_DETAIL\") in <code>QueueOperationFailureProcessor (#3)</code>. </p>\n\n<p>But as it happens - the Exchange available in <code>QueueOperationFailureProcessor (#3)</code> is different from the one that is available at <code>in-line processor (#2)</code> and the property (\"RECOVERY_DETAIL\") is no where to be found. </p>\n\n<p>Please help me out.</p>\n\n<p>P.S. My camel version is 2.16.0 and I may not able to use any solution which requires version up-gradation.</p>\n"},{"tags":["java","json","akka"],"answers":[{"tags":[],"owner":{"account_id":21735601,"reputation":962,"user_id":16043632,"display_name":"Phoenix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653513323,"creation_date":1653513323,"answer_id":72384275,"question_id":72383546,"body_markdown":"From the [JavaDocs][1] the method you called will return &quot;null if this object contains no mapping for the name&quot;:\r\n\r\n&gt; JsonString getJsonString(String name)\r\n&gt;\r\n&gt; Returns the string value to which the specified name is mapped. This is a convenience method for (JsonString)get(name) to get the value.\r\n&gt;\r\n&gt; Parameters:\r\nname - the name whose associated value is to be returned\r\n&gt;\r\n&gt; Returns:\r\nthe string value to which the specified name is mapped, or null if this object contains no mapping for the name\r\n&gt;\r\n&gt; Throws: ClassCastException - if the value to which the specified name is mapped is not assignable to JsonString type\r\n\r\nTherefore, I would suggest:\r\n\r\n    tea = itemBarcode.getString(&quot;tea&quot;)!=null? itemBarcode.getString(&quot;tea&quot;): &quot;&quot;;\r\n\r\nOr alternatively:\r\n\r\n    tea = itemBarcode.getString(&quot;tea&quot;);\r\n    if(tea==null) tea = &quot;&quot;;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/json/JsonObject.html#getJsonString-java.lang.String-","title":"JSON formatting in java / akka","body":"<p>From the <a href=\"https://docs.oracle.com/javaee/7/api/javax/json/JsonObject.html#getJsonString-java.lang.String-\" rel=\"nofollow noreferrer\">JavaDocs</a> the method you called will return &quot;null if this object contains no mapping for the name&quot;:</p>\n<blockquote>\n<p>JsonString getJsonString(String name)</p>\n<p>Returns the string value to which the specified name is mapped. This is a convenience method for (JsonString)get(name) to get the value.</p>\n<p>Parameters:\nname - the name whose associated value is to be returned</p>\n<p>Returns:\nthe string value to which the specified name is mapped, or null if this object contains no mapping for the name</p>\n<p>Throws: ClassCastException - if the value to which the specified name is mapped is not assignable to JsonString type</p>\n</blockquote>\n<p>Therefore, I would suggest:</p>\n<pre><code>tea = itemBarcode.getString(&quot;tea&quot;)!=null? itemBarcode.getString(&quot;tea&quot;): &quot;&quot;;\n</code></pre>\n<p>Or alternatively:</p>\n<pre><code>tea = itemBarcode.getString(&quot;tea&quot;);\nif(tea==null) tea = &quot;&quot;;\n</code></pre>\n"}],"owner":{"account_id":16894421,"reputation":1,"user_id":12217307,"display_name":"Timothy Lefkowitz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653513323,"creation_date":1653508865,"question_id":72383546,"body_markdown":"Holla all, I&#39;ve been having a simple error at work and need some help \r\n\r\nour json object is erroring out with the wrong format for null\r\n\r\nThis is what we want for the json \r\n&quot;tea&quot; : &quot;&quot;,   &lt;- success\r\nthis is what we are getting \r\n&quot;tea&quot; : null, &lt;- failing\r\n\r\nHere is the code I&#39;m working with \r\n\r\n    List&lt;Delivery_Request&gt; process(BasicSourceObject payload, shardRoutingEnvelope){\r\n      JSONObject itemBarcode = null;\r\n      String tea = null;\r\n\r\n      if(payload != null){\r\n      String itemRequestJSON = new String(payload.getPayload());\r\n      JSONObject jsonOBJ = null;\r\n      try{\r\n        jsonObj = new JSONObject(pricingRequestJson);\r\n        if(!itemBarcode.isNull(&quot;tea&quot;)){\r\n\r\n        Here I&#39;m getting the String from the json TEA but how to I replace it with a correct json value?\r\n\r\n        tea = itemBarcode.getString(&quot;tea&quot;);\r\n        }\r\n        }\r\n        } \r\n\r\n","title":"JSON formatting in java / akka","body":"<p>Holla all, I've been having a simple error at work and need some help</p>\n<p>our json object is erroring out with the wrong format for null</p>\n<p>This is what we want for the json\n&quot;tea&quot; : &quot;&quot;,   &lt;- success\nthis is what we are getting\n&quot;tea&quot; : null, &lt;- failing</p>\n<p>Here is the code I'm working with</p>\n<pre><code>List&lt;Delivery_Request&gt; process(BasicSourceObject payload, shardRoutingEnvelope){\n  JSONObject itemBarcode = null;\n  String tea = null;\n\n  if(payload != null){\n  String itemRequestJSON = new String(payload.getPayload());\n  JSONObject jsonOBJ = null;\n  try{\n    jsonObj = new JSONObject(pricingRequestJson);\n    if(!itemBarcode.isNull(&quot;tea&quot;)){\n\n    Here I'm getting the String from the json TEA but how to I replace it with a correct json value?\n\n    tea = itemBarcode.getString(&quot;tea&quot;);\n    }\n    }\n    } \n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1832500,"reputation":4685,"user_id":1663592,"display_name":"Smit"},"score":0,"creation_date":1414095370,"post_id":26536512,"comment_id":41699099,"body_markdown":"I dont think you can read and write to same file having both instances pointed to same file","body":"I dont think you can read and write to same file having both instances pointed to same file"},{"owner":{"account_id":3049953,"reputation":1893,"user_id":2584754,"accept_rate":50,"display_name":"Jazzwave06"},"score":0,"creation_date":1414095468,"post_id":26536512,"comment_id":41699156,"body_markdown":"Is your FileWriter in Append mode?","body":"Is your FileWriter in Append mode?"},{"owner":{"account_id":3551654,"reputation":57,"user_id":2966385,"accept_rate":50,"display_name":"Abszol"},"score":0,"creation_date":1414095554,"post_id":26536512,"comment_id":41699199,"body_markdown":"Yes, its in append mode","body":"Yes, its in append mode"},{"owner":{"account_id":1933434,"reputation":2060,"user_id":1742350,"accept_rate":78,"display_name":"Slowcoder"},"score":0,"creation_date":1414096004,"post_id":26536512,"comment_id":41699433,"body_markdown":"Trying using [RandomAccessFile](http://docs.oracle.com/javase/6/docs/api/java/io/RandomAccessFile.html) to read and write the file at a particular location.","body":"Trying using <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/RandomAccessFile.html\" rel=\"nofollow noreferrer\">RandomAccessFile</a> to read and write the file at a particular location."}],"answers":[{"tags":[],"owner":{"account_id":5053995,"reputation":58,"user_id":4057752,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1414095681,"creation_date":1414095307,"answer_id":26536622,"question_id":26536512,"body_markdown":"I suggest reading the whole file into a variable (string, array or list). You can easily modify specific lines then and write everything back to the file.\r\n\r\n1) Reading File into an array:\r\nhttps://stackoverflow.com/questions/16100175/store-text-file-content-line-by-line-into-array\r\n\r\n2) Manipulate array:\r\n\r\n    for (int i = 0; i &lt; lines.length; i++) {\r\n    \t\t\tString line = lines[i];\r\n    \t\t\tif (line.contains(&quot;Done&quot;)) {\r\n    \t\t\t\tlines[i] = line + &quot;\\nCHECK!\\n&quot;;\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    }\r\n\r\n \r\n\r\n\r\n3) Write string array to file:\r\nhttps://stackoverflow.com/questions/18871341/writing-a-string-array-to-file-using-java-separate-lines\r\n\r\nThe problem also can be related to this line:\r\n\r\n    writer.write(&quot;\\nCHECK!\\n&quot;);\r\n\r\nthe first &quot;\\n&quot; forces the &quot;CHECK&quot; to be written in a new line. This assumes that your &quot;Done&quot; line is the last line and does not end with &quot;\\n&quot;.\r\n","title":"Writing to specified line in Java?","body":"<p>I suggest reading the whole file into a variable (string, array or list). You can easily modify specific lines then and write everything back to the file.</p>\n\n<p>1) Reading File into an array:\n<a href=\"https://stackoverflow.com/questions/16100175/store-text-file-content-line-by-line-into-array\">Store text file content line by line into array</a></p>\n\n<p>2) Manipulate array:</p>\n\n<pre><code>for (int i = 0; i &lt; lines.length; i++) {\n            String line = lines[i];\n            if (line.contains(\"Done\")) {\n                lines[i] = line + \"\\nCHECK!\\n\";\n                break;\n            }\n}\n</code></pre>\n\n<p>3) Write string array to file:\n<a href=\"https://stackoverflow.com/questions/18871341/writing-a-string-array-to-file-using-java-separate-lines\">Writing a string array to file using Java - separate lines</a></p>\n\n<p>The problem also can be related to this line:</p>\n\n<pre><code>writer.write(\"\\nCHECK!\\n\");\n</code></pre>\n\n<p>the first \"\\n\" forces the \"CHECK\" to be written in a new line. This assumes that your \"Done\" line is the last line and does not end with \"\\n\".</p>\n"},{"tags":[],"owner":{"account_id":4550045,"reputation":1200,"user_id":3695628,"accept_rate":100,"display_name":"Roan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414096047,"creation_date":1414095736,"answer_id":26536736,"question_id":26536512,"body_markdown":"This is my way of doing it.The idea is simple write everything including the new line to a temp file and then rename the temp file to the Original file and delete the orginal one. NOTE: I pulled this code staigt from one of my project and therefore I may have forgotten to change something. So if it doesn&#39;t work let me know and I will have a look. Hope this helps :)\r\n\r\n\r\n                String line;//You need to specify those\r\n                File infile;\r\n \r\n                // temp file\r\n\t\t\t    File outFile = new File(&quot;$$$$$$$$.tmp&quot;);\r\n\t\t\t     \r\n\t\t\t    // input\r\n\t\t\t    FileInputStream fis = null;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tfis = new FileInputStream(inFile);\r\n\t\t\t\t} catch (FileNotFoundException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t    BufferedReader in = new BufferedReader(new InputStreamReader(fis));\r\n\r\n\t\t\t    // output         \r\n\t\t\t    FileOutputStream fos = null;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tfos = new FileOutputStream(outFile);\r\n\t\t\t\t} catch (FileNotFoundException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t    PrintWriter out = new PrintWriter(fos);\r\n\t\t\t    String thisLine = &quot;&quot;;\r\n\t\t\t    int i =1;\r\n\t\t\t    try {\r\n\t\t\t\t\twhile ((thisLine = in.readLine()) != null) {\r\n\t\t\t\t\t   if(in.contains(&quot;Done&quot;))//the check for done \r\n                           out.println(line);\t\t\t       \r\n                       }\r\n                       out.println(thisLine);\r\n\t\t\t\t\t   i++;\r\n\t\t\t\t    }\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t    out.flush();\r\n\t\t\t    out.close();\r\n\t\t\t    try {\r\n\t\t\t\t\tin.close();\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t    inFile.delete();\r\n\t\t\t    outFile.renameTo(inFile);","title":"Writing to specified line in Java?","body":"<p>This is my way of doing it.The idea is simple write everything including the new line to a temp file and then rename the temp file to the Original file and delete the orginal one. NOTE: I pulled this code staigt from one of my project and therefore I may have forgotten to change something. So if it doesn't work let me know and I will have a look. Hope this helps :)</p>\n\n<pre><code>            String line;//You need to specify those\n            File infile;\n\n            // temp file\n            File outFile = new File(\"$$$$$$$$.tmp\");\n\n            // input\n            FileInputStream fis = null;\n            try {\n                fis = new FileInputStream(inFile);\n            } catch (FileNotFoundException e) {\n                e.printStackTrace();\n            }\n            BufferedReader in = new BufferedReader(new InputStreamReader(fis));\n\n            // output         \n            FileOutputStream fos = null;\n            try {\n                fos = new FileOutputStream(outFile);\n            } catch (FileNotFoundException e) {\n                e.printStackTrace();\n            }\n            PrintWriter out = new PrintWriter(fos);\n            String thisLine = \"\";\n            int i =1;\n            try {\n                while ((thisLine = in.readLine()) != null) {\n                   if(in.contains(\"Done\"))//the check for done \n                       out.println(line);                  \n                   }\n                   out.println(thisLine);\n                   i++;\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            out.flush();\n            out.close();\n            try {\n                in.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            inFile.delete();\n            outFile.renameTo(inFile);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4259399,"reputation":8159,"user_id":3484146,"display_name":"ifloop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414097941,"creation_date":1414096299,"answer_id":26536892,"question_id":26536512,"body_markdown":"When using **Java 8**, you might try this:\r\n\r\n    final Path myFile = Paths.get(&quot;path\\\\to\\\\yourFile.txt&quot;);\r\n    final int lineNumWhereToInsert = 2;\r\n    final String stringToInsert = &quot;insertion test&quot;;\r\n\r\n    try {\r\n        final List&lt;String&gt; lines = Files.lines(myFile).collect(Collectors.toList());\r\n        lines.add(Math.min(lineNumWhereToInsert, lines.size()), stringToInsert);\r\n\r\n        try (final BufferedWriter out = Files.newBufferedWriter(myFile, Charset.forName(&quot;UTF-8&quot;))) {\r\n            for (final String line : lines) {\r\n                out.append(line).append(System.lineSeparator());\r\n            }\r\n        }\r\n    } catch (IOException) {\r\n        ex.printStrackTrace();\r\n    }\r\n","title":"Writing to specified line in Java?","body":"<p>When using <strong>Java 8</strong>, you might try this:</p>\n\n<pre><code>final Path myFile = Paths.get(\"path\\\\to\\\\yourFile.txt\");\nfinal int lineNumWhereToInsert = 2;\nfinal String stringToInsert = \"insertion test\";\n\ntry {\n    final List&lt;String&gt; lines = Files.lines(myFile).collect(Collectors.toList());\n    lines.add(Math.min(lineNumWhereToInsert, lines.size()), stringToInsert);\n\n    try (final BufferedWriter out = Files.newBufferedWriter(myFile, Charset.forName(\"UTF-8\"))) {\n        for (final String line : lines) {\n            out.append(line).append(System.lineSeparator());\n        }\n    }\n} catch (IOException) {\n    ex.printStrackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":3551654,"reputation":57,"user_id":2966385,"accept_rate":50,"display_name":"Abszol"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2945,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1653513180,"creation_date":1414094845,"question_id":26536512,"body_markdown":"To clarify my question, I am writing to a text file located on my computer which has text content already in it. The code below writes to the text file without erasing any of its contents but now I want to specify what line it writes to. Currently it has an if statement to catch if the word &#39;Done&#39; exists within in the line, it is recognized since it does write to the file. My problem is trying to get it to write to the line that says &#39;Done&#39;. It writes to the very bottom, last line of code. How can I fix this?\r\n\r\nThe method readNumLines is the number of lines contained within the file. Reading is the text file name.\r\n\r\n    int i = 0;\r\n\t\tBufferedReader reader = new BufferedReader(new FileReader(path+reading));\r\n\t\tBufferedWriter writer = new BufferedWriter(new FileWriter(path+reading, true));\r\n\t\tString line = null;\r\n\t\twhile ((line = reader.readLine()) != null &amp;&amp; i &lt; readNumLines(reading)-1) {\r\n\t\t\tif(line.contains(&quot;Done&quot;)){\r\n\t\t\t\twriter.write(&quot;\\nCHECK!\\n&quot;);\r\n\t\t\t\twriter.close();\r\n\t\t\t}\r\n\t\t\ti++;\r\n\t\t}","title":"Writing to specified line in Java?","body":"<p>To clarify my question, I am writing to a text file located on my computer which has text content already in it. The code below writes to the text file without erasing any of its contents but now I want to specify what line it writes to. Currently it has an if statement to catch if the word 'Done' exists within in the line, it is recognized since it does write to the file. My problem is trying to get it to write to the line that says 'Done'. It writes to the very bottom, last line of code. How can I fix this?</p>\n\n<p>The method readNumLines is the number of lines contained within the file. Reading is the text file name.</p>\n\n<pre><code>int i = 0;\n    BufferedReader reader = new BufferedReader(new FileReader(path+reading));\n    BufferedWriter writer = new BufferedWriter(new FileWriter(path+reading, true));\n    String line = null;\n    while ((line = reader.readLine()) != null &amp;&amp; i &lt; readNumLines(reading)-1) {\n        if(line.contains(\"Done\")){\n            writer.write(\"\\nCHECK!\\n\");\n            writer.close();\n        }\n        i++;\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1653402945,"post_id":72364765,"comment_id":127840952,"body_markdown":"Do you also have the list of hostnames in the database? You could join the data in a SELECT statement. Otherwise, the `Map` is the ideal data structure for these kinds of lookups.","body":"Do you also have the list of hostnames in the database? You could join the data in a SELECT statement. Otherwise, the <code>Map</code> is the ideal data structure for these kinds of lookups."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1653403286,"post_id":72364765,"comment_id":127841103,"body_markdown":"How long is the list?","body":"How long is the list?"},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":2,"creation_date":1653403560,"post_id":72364765,"comment_id":127841224,"body_markdown":"a [mcve] would be helpful.","body":"a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would be helpful."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1653403634,"post_id":72364765,"comment_id":127841258,"body_markdown":"I would used a combination of `Map&lt;Hostname, Server&gt;` and `List&lt;Server&gt;`.  If the map contains the hostname, you have it.  Otherwise, search the `list` and if found, use it and also add to the map for the next round.","body":"I would used a combination of <code>Map&lt;Hostname, Server&gt;</code> and <code>List&lt;Server&gt;</code>.  If the map contains the hostname, you have it.  Otherwise, search the <code>list</code> and if found, use it and also add to the map for the next round."},{"owner":{"account_id":183525,"reputation":1766,"user_id":418950,"display_name":"ScottWelker"},"score":1,"creation_date":1653403657,"post_id":72364765,"comment_id":127841276,"body_markdown":"The downvote is not mine. However, please see [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask)","body":"The downvote is not mine. However, please see <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1653407053,"post_id":72364765,"comment_id":127842790,"body_markdown":"is your database SQL based?","body":"is your database SQL based?"},{"owner":{"account_id":15137261,"reputation":73,"user_id":10923401,"display_name":"Daniel Becker"},"score":0,"creation_date":1653512537,"post_id":72364765,"comment_id":127873966,"body_markdown":"The Info that a map ist ideal was all I wanted to know. Thanks for all the help and people who tried to make more out of the problem than it was.","body":"The Info that a map ist ideal was all I wanted to know. Thanks for all the help and people who tried to make more out of the problem than it was."}],"answers":[{"tags":[],"owner":{"account_id":15137261,"reputation":73,"user_id":10923401,"display_name":"Daniel Becker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653512836,"creation_date":1653512836,"answer_id":72384188,"question_id":72364765,"body_markdown":"To answer the question: when a map of objects with a key is the best way, then that ist all I need to know.","title":"Better way to search a list of objects in java","body":"<p>To answer the question: when a map of objects with a key is the best way, then that ist all I need to know.</p>\n"}],"owner":{"account_id":15137261,"reputation":73,"user_id":10923401,"display_name":"Daniel Becker"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1653512836,"creation_date":1653402774,"question_id":72364765,"body_markdown":"I have an object for servers with hostname and some sort of other fields. I&#39;m searching my Database and get a `List&lt;Server&gt;`. So now I have another list of orders, which have besides some other fields a field for hostname.\r\n\r\nAt the moment I&#39;m either iterating through list 1, get the hostname and then iterate trough list 2 and try to find the equal hostname, or I&#39;m not making a list of servers but a `HashMap&lt;Hostname, Server&gt;` and look with contains if there is my hostname.\r\n\r\nI want to know if there is a more elegant way to do this?","title":"Better way to search a list of objects in java","body":"<p>I have an object for servers with hostname and some sort of other fields. I'm searching my Database and get a <code>List&lt;Server&gt;</code>. So now I have another list of orders, which have besides some other fields a field for hostname.</p>\n<p>At the moment I'm either iterating through list 1, get the hostname and then iterate trough list 2 and try to find the equal hostname, or I'm not making a list of servers but a <code>HashMap&lt;Hostname, Server&gt;</code> and look with contains if there is my hostname.</p>\n<p>I want to know if there is a more elegant way to do this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19675466,"reputation":43,"user_id":14403738,"display_name":"Neo"},"score":0,"creation_date":1653509883,"post_id":72383680,"comment_id":127873164,"body_markdown":"Can’t figured out any logic. Is this really possible?","body":"Can’t figured out any logic. Is this really possible?"},{"owner":{"account_id":19675466,"reputation":43,"user_id":14403738,"display_name":"Neo"},"score":0,"creation_date":1653510147,"post_id":72383680,"comment_id":127873255,"body_markdown":"multiply is not possible, 1*3*4 same output as 1*2*6. The output needs to be unique such a way that it should provide unique number as always as output for 3 combination of number","body":"multiply is not possible, 1*3*4 same output as 1*2*6. The output needs to be unique such a way that it should provide unique number as always as output for 3 combination of number"},{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":1,"creation_date":1653510251,"post_id":72383680,"comment_id":127873286,"body_markdown":"This seems very vague. Why do you want to do this and what should the logic be?","body":"This seems very vague. Why do you want to do this and what should the logic be?"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1653510359,"post_id":72383680,"comment_id":127873330,"body_markdown":"ok, so multiplying will not work. you say that same combination of numbers. Must the result be the same given different order? 1,3,6 must give same result as 6,1,3 or 1, 6, 3?","body":"ok, so multiplying will not work. you say that same combination of numbers. Must the result be the same given different order? 1,3,6 must give same result as 6,1,3 or 1, 6, 3?"},{"owner":{"account_id":19675466,"reputation":43,"user_id":14403738,"display_name":"Neo"},"score":0,"creation_date":1653510532,"post_id":72383680,"comment_id":127873379,"body_markdown":"1,3,6 and 6,1,3 needs to provide different output.","body":"1,3,6 and 6,1,3 needs to provide different output."},{"owner":{"account_id":19675466,"reputation":43,"user_id":14403738,"display_name":"Neo"},"score":0,"creation_date":1653510687,"post_id":72383680,"comment_id":127873426,"body_markdown":"@experimentunit1998X concatenation is also not a option here. What if i use maximum values of Long?","body":"@experimentunit1998X concatenation is also not a option here. What if i use maximum values of Long?"},{"owner":{"account_id":19675466,"reputation":43,"user_id":14403738,"display_name":"Neo"},"score":0,"creation_date":1653510948,"post_id":72383680,"comment_id":127873501,"body_markdown":"@ndc85430 The requirement is like creating a random number based on three numbers provided as input. But whenever we use the same number in same order, it should return the same unique number.","body":"@ndc85430 The requirement is like creating a random number based on three numbers provided as input. But whenever we use the same number in same order, it should return the same unique number."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":5,"creation_date":1653511183,"post_id":72383680,"comment_id":127873561,"body_markdown":"Shift and Xor? But you can&#39;t get a ***unique*** long for *every* three longs. There are 2^192 possible values of three longs, and only 2^64 possible values of one.","body":"Shift and Xor? But you can&#39;t get a <b><i>unique</i></b> long for <i>every</i> three longs. There are 2^192 possible values of three longs, and only 2^64 possible values of one."},{"owner":{"account_id":19675466,"reputation":43,"user_id":14403738,"display_name":"Neo"},"score":0,"creation_date":1653511228,"post_id":72383680,"comment_id":127873573,"body_markdown":"@experimentunit1998X not required.","body":"@experimentunit1998X not required."}],"answers":[{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653511782,"creation_date":1653511451,"answer_id":72383950,"question_id":72383680,"body_markdown":"How about this?\r\n\r\n    long combine(long a, long b, long c) {\r\n        return Long.rotateLeft(a, 32) ^ Long.rotateLeft(b, 16) ^ c;\r\n    }\r\n\r\nI used rotate rather than shift because you said &quot;Concatenation is also not a option here. What if I use maximum values of Long?&quot; Shift would shift some bits right out, but rotate will only move them around. The output will depend on all the bits of all three longs, but because they are rotated by different amounts, `combine(a, b, c)` will produce a different result than `combine(c, a, b)` (unless `a == b` and `b == c`, of course).","title":"Create Unique number based on input numbers","body":"<p>How about this?</p>\n<pre><code>long combine(long a, long b, long c) {\n    return Long.rotateLeft(a, 32) ^ Long.rotateLeft(b, 16) ^ c;\n}\n</code></pre>\n<p>I used rotate rather than shift because you said &quot;Concatenation is also not a option here. What if I use maximum values of Long?&quot; Shift would shift some bits right out, but rotate will only move them around. The output will depend on all the bits of all three longs, but because they are rotated by different amounts, <code>combine(a, b, c)</code> will produce a different result than <code>combine(c, a, b)</code> (unless <code>a == b</code> and <code>b == c</code>, of course).</p>\n"},{"tags":[],"owner":{"account_id":21735601,"reputation":962,"user_id":16043632,"display_name":"Phoenix"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653512091,"creation_date":1653512091,"answer_id":72384069,"question_id":72383680,"body_markdown":"Seems like a [hash function][1] may be what you need.\r\n\r\nHash functions map an input set to an output set, usually with the goal of it not being &quot;easy&quot; to know what the output will be from the input and such that small changes to the input yield different outputs. In your case the input is a tuple of three longs, and the output is a long.\r\n\r\nIt is deterministic, which fulfills your requirement for identical input yielding identical output.\r\n\r\nFrom Wikipedia:\r\n\r\n&gt; A hash procedure must be deterministic—meaning that for a given input value it must always generate the same hash value. In other words, it must be a function of the data to be hashed, in the mathematical sense of the term.\r\n\r\nIt is impossible to guarantee that the two different inputs will have the same outputs because of the [Pigeonhole Principle][2], but a good hash function will be [*collision-resistant*][3], meaning it is hard to find two inputs with the same output.\r\n\r\nThere are plenty of hash functions out there. For some examples:\r\n\r\n - [SHA-2][4]\r\n - [SHA-3][5]\r\n - [BLAKE3][6]\r\n\r\nFor a more extensive list see this Wikipedia article:\r\n\r\n[List of Hash Functions][7]\r\n\r\nThe exact way to approach this is up to you, one implementation off the top of my head is to convert the longs to strings, concatenate them, and hash that concatted string, then return that hash as a long.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Hash_function\r\n  [2]: https://en.wikipedia.org/wiki/Pigeonhole_principle\r\n  [3]: https://en.wikipedia.org/wiki/Collision_resistance\r\n  [4]: https://en.wikipedia.org/wiki/SHA-2\r\n  [5]: https://en.wikipedia.org/wiki/SHA-3\r\n  [6]: https://en.wikipedia.org/wiki/BLAKE_(hash_function)#:~:text=wolfSSL-,BLAKE3,-%5Bedit%5D\r\n  [7]: https://en.wikipedia.org/wiki/List_of_hash_functions","title":"Create Unique number based on input numbers","body":"<p>Seems like a <a href=\"https://en.wikipedia.org/wiki/Hash_function\" rel=\"nofollow noreferrer\">hash function</a> may be what you need.</p>\n<p>Hash functions map an input set to an output set, usually with the goal of it not being &quot;easy&quot; to know what the output will be from the input and such that small changes to the input yield different outputs. In your case the input is a tuple of three longs, and the output is a long.</p>\n<p>It is deterministic, which fulfills your requirement for identical input yielding identical output.</p>\n<p>From Wikipedia:</p>\n<blockquote>\n<p>A hash procedure must be deterministic—meaning that for a given input value it must always generate the same hash value. In other words, it must be a function of the data to be hashed, in the mathematical sense of the term.</p>\n</blockquote>\n<p>It is impossible to guarantee that the two different inputs will have the same outputs because of the <a href=\"https://en.wikipedia.org/wiki/Pigeonhole_principle\" rel=\"nofollow noreferrer\">Pigeonhole Principle</a>, but a good hash function will be <a href=\"https://en.wikipedia.org/wiki/Collision_resistance\" rel=\"nofollow noreferrer\"><em>collision-resistant</em></a>, meaning it is hard to find two inputs with the same output.</p>\n<p>There are plenty of hash functions out there. For some examples:</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/SHA-2\" rel=\"nofollow noreferrer\">SHA-2</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/SHA-3\" rel=\"nofollow noreferrer\">SHA-3</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/BLAKE_(hash_function)#:%7E:text=wolfSSL-,BLAKE3,-%5Bedit%5D\" rel=\"nofollow noreferrer\">BLAKE3</a></li>\n</ul>\n<p>For a more extensive list see this Wikipedia article:</p>\n<p><a href=\"https://en.wikipedia.org/wiki/List_of_hash_functions\" rel=\"nofollow noreferrer\">List of Hash Functions</a></p>\n<p>The exact way to approach this is up to you, one implementation off the top of my head is to convert the longs to strings, concatenate them, and hash that concatted string, then return that hash as a long.</p>\n"}],"owner":{"account_id":19675466,"reputation":43,"user_id":14403738,"display_name":"Neo"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1653894701,"answer_count":2,"score":-2,"last_activity_date":1653512091,"creation_date":1653509702,"question_id":72383680,"body_markdown":"I have three numbers of type Long. Say, 1001, 2005, 8001.\r\nI need a method to generate a new number of type Long based on these three numbers. Any logic can be applied. Output should be always same whenever we use the same combination of numbers otherwise not.\r\nI need to solve this using Java.","title":"Create Unique number based on input numbers","body":"<p>I have three numbers of type Long. Say, 1001, 2005, 8001.\nI need a method to generate a new number of type Long based on these three numbers. Any logic can be applied. Output should be always same whenever we use the same combination of numbers otherwise not.\nI need to solve this using Java.</p>\n"},{"tags":["java","maven","visual-studio-code","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1653437232,"post_id":72361901,"comment_id":127851292,"body_markdown":"@Abra I don&#39;t think the process described results in a fat jar (I didn&#39;t actually try running it to make sure).  I think it results in a thin app jar file and dependent jars in a lib directory.  But the code is all run off the class path, which will fail in the same way that a &quot;fat jar&quot; would.  The fix is easier than for a fat jar.  The only thing additionally needed is to place the jars with the modules on the module path rather than the classpath.","body":"@Abra I don&#39;t think the process described results in a fat jar (I didn&#39;t actually try running it to make sure).  I think it results in a thin app jar file and dependent jars in a lib directory.  But the code is all run off the class path, which will fail in the same way that a &quot;fat jar&quot; would.  The fix is easier than for a fat jar.  The only thing additionally needed is to place the jars with the modules on the module path rather than the classpath."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653511817,"creation_date":1653436672,"answer_id":72370649,"question_id":72361901,"body_markdown":"Although this is a long answer for explanatory purposes, the fix is actually very simple.\r\n\r\nThe only thing additionally needed is to place the jars with the modules on the module path rather than the classpath.\r\n\r\n----\r\n\r\nAnswering your question to explain why your original approach fails.\r\n\r\n&gt; The problem occurs when I run the following command:\r\n&gt; \r\n&gt; &gt;  java -jar /Users/user/Documents/prosjekt/target/prosjekt_boilerplate-1.0-SNAPSHOT.jar \r\n&gt; \r\n&gt;     Error: JavaFX runtime components are missing, and are required to run this application\r\n&gt; I don&#39;t understand why I get this error, since all the JavaFX files are located and visible in the libs folder.\r\n\r\nThe reason you get this error is that you are running all code off of the classpath rather than the module path.\r\n\r\nModern JavaFX versions are not designed or supported to be run from the classpath.  They should be run from the module path.\r\n\r\nYou have done the following things, which will make the program execute only on the classpath:\r\n\r\n 1. Created a jar with your application.\r\n 2. Created a manifest in the jar which specifies your execution class.\r\n 3. Added a library path to the manifest.\r\n\r\n**Background Info**\r\n\r\nYour application classes don&#39;t need to be modular and other (non-JavaFX) libraries that are able to be executed from the classpath rather than the module path will function when placed on the classpath, but the JavaFX libraries will fail.\r\n\r\nThe solution is to put, at a minimum, the JavaFX classes on the module path.  Ideally, you might also make your application modular (define a `module-info.java` file for it) and use only non-automatic modular jars (those which also define a `module-info.java`) in your application.  But the ideal is not required (unless you want to package your application using jlink), only having JavaFX classes on the module path is required.\r\n\r\nYou cannot (currently) add other jars or folders to the module path via a jar manifest as you can currently do with the classpath.  For information on this see the answer to this question (and the comments on this answer):\r\n\r\n *  https://stackoverflow.com/questions/66818887/java-modules-and-the-jar-manifest-class-path-attribute\r\n\r\nInstead, you need to specify the location of modules you add in the command line (or rely on a JRE image created by jlink that pre-bundles the required modules).  \r\n\r\nAdditionally, if your application is modular you should use the `-m` switch to specify the main class qualified by the module it is in and your application jar should also be on the module path.  If your application is not modular, then you can still use the `-jar` specifier and encode the main class name in the jar manifest rather than as a command-line switch.\r\n\r\n**Examples**\r\n\r\nSo, let&#39;s say you have your application distributed as a zip that contains your app jar and dependent libraries in a sub-folder named lib.\r\n\r\nFor these examples, the application jar is a normal thin jar (it is not a fat jar which has been shaded or includes JavaFX runtime code).\r\n\r\nFor a non-modular application, this is discussed in [eden coding](https://edencoding.com/runtime-components-error/#jar).  After the user has unzipped your package, and assuming the main class name is encoded in the manifest, then the application can be run via:\r\n\r\n    java -jar myJar.jar --module-path lib --add-modules javafx.controls,javafx.fxml\r\n\r\nIf you use additional JavaFX modules like javafx-media which are not transitive dependencies, then also include these.\r\n\r\nIf your application is modular, then you don&#39;t need to encode extra info in the jar manifest, but you do need to include a `module-info.java` in your jar file.  When doing this it is probably best to put your jar in the same lib directory as the rest of the modules you are using so that you don&#39;t need to also add it separately to the module path.  After doing this, you can run the application like this (this example is from the [jenkov tutorial on Java modules](https://jenkov.com/tutorials/java/modules.html#setting-the-jar-main-class)):\r\n\r\n     java --module-path lib -m com.jenkov.mymodule/com.jenkov.mymodule.Main\r\n\r\nYou can use a jar command to set a main class to run the modular jar file (also demonstrated in the jenkov tutorial).  Then you can run that modular jar without providing the main class explicitly, but specifying the jar file and the module path (module path is still needed for JavaFX apps):\r\n\r\n     jar -c --file=lib/com-jenkov-mymodule.jar --main-class=com.jenkov.mymodule.Main -C out/com.jenkov.mymodule .\r\n     java --module-path lib -jar lib/com-jenkov-javafx.jar\r\n\r\nI don&#39;t know exactly what the jar command does to put add the execution commands into the jar file, but I don&#39;t think it uses the manifest to do this.  At the moment, I don&#39;t think the maven jar command is capable of doing this correctly (I think it just puts info in the manifest and not modular main class execution info in the jar).\r\n\r\nIn summary using Java modules and using the classpath is different and confusing . . . :-)\r\n\r\n**Hack**\r\n\r\nThere is (for Java 17 at least) a hack to create a separate launcher class that bypasses the runtime check to allow the startup of the JavaFX framework from the module path rather than the classpath, but it is not supported.  I don&#39;t recommend it, so I won&#39;t explain it further here.\r\n\r\n**Further recommendations**\r\n\r\nBecause the command line switches are easy to get wrong or mistype, it is best when deploying JavaFX applications to provide a platform-specific execution script (unix/mac shell script or windows batch file) that a user can more easily use to execute the application.  \r\n\r\nAlso consider distributing with a Java runtime, either via a zipped jlink image or a jpackage created installer.  That makes it easier on your users because then they don&#39;t need to find and install an appropriate java runtime to use your application.  As a bonus, jlink can create an example shell script to execute your application.  Doing this via maven is easy, using the jlink option of the maven-javafx-plugin and specifying the jlinkZipName.\r\n\r\njpackage can create an OS level icon the user can just click on to run the app, but can&#39;t be used directly from the maven-javafx-plugin.\r\n\r\n**Additional resources**\r\n\r\n * Further info including links to packaging options like [JPackageScriptFX][1] in the [javafx tag info packaging resources][2].\r\n\r\n * Related question: https://stackoverflow.com/questions/70806482/how-can-i-create-an-all-in-one-jar-for-a-javafx-project-with-the-maven-assembly/70809214#70809214j\r\n\r\n\r\n  [1]: https://github.com/dlemmermann/JPackageScriptFX\r\n  [2]: https://stackoverflow.com/tags/javafx/info","title":"VSCode: JavaFX runtime components are missing","body":"<p>Although this is a long answer for explanatory purposes, the fix is actually very simple.</p>\n<p>The only thing additionally needed is to place the jars with the modules on the module path rather than the classpath.</p>\n<hr />\n<p>Answering your question to explain why your original approach fails.</p>\n<blockquote>\n<p>The problem occurs when I run the following command:</p>\n<blockquote>\n<p>java -jar /Users/user/Documents/prosjekt/target/prosjekt_boilerplate-1.0-SNAPSHOT.jar</p>\n</blockquote>\n<pre><code>Error: JavaFX runtime components are missing, and are required to run this application\n</code></pre>\n<p>I don't understand why I get this error, since all the JavaFX files are located and visible in the libs folder.</p>\n</blockquote>\n<p>The reason you get this error is that you are running all code off of the classpath rather than the module path.</p>\n<p>Modern JavaFX versions are not designed or supported to be run from the classpath.  They should be run from the module path.</p>\n<p>You have done the following things, which will make the program execute only on the classpath:</p>\n<ol>\n<li>Created a jar with your application.</li>\n<li>Created a manifest in the jar which specifies your execution class.</li>\n<li>Added a library path to the manifest.</li>\n</ol>\n<p><strong>Background Info</strong></p>\n<p>Your application classes don't need to be modular and other (non-JavaFX) libraries that are able to be executed from the classpath rather than the module path will function when placed on the classpath, but the JavaFX libraries will fail.</p>\n<p>The solution is to put, at a minimum, the JavaFX classes on the module path.  Ideally, you might also make your application modular (define a <code>module-info.java</code> file for it) and use only non-automatic modular jars (those which also define a <code>module-info.java</code>) in your application.  But the ideal is not required (unless you want to package your application using jlink), only having JavaFX classes on the module path is required.</p>\n<p>You cannot (currently) add other jars or folders to the module path via a jar manifest as you can currently do with the classpath.  For information on this see the answer to this question (and the comments on this answer):</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/66818887/java-modules-and-the-jar-manifest-class-path-attribute\">Java modules and the JAR MANIFEST Class-Path attribute</a></li>\n</ul>\n<p>Instead, you need to specify the location of modules you add in the command line (or rely on a JRE image created by jlink that pre-bundles the required modules).</p>\n<p>Additionally, if your application is modular you should use the <code>-m</code> switch to specify the main class qualified by the module it is in and your application jar should also be on the module path.  If your application is not modular, then you can still use the <code>-jar</code> specifier and encode the main class name in the jar manifest rather than as a command-line switch.</p>\n<p><strong>Examples</strong></p>\n<p>So, let's say you have your application distributed as a zip that contains your app jar and dependent libraries in a sub-folder named lib.</p>\n<p>For these examples, the application jar is a normal thin jar (it is not a fat jar which has been shaded or includes JavaFX runtime code).</p>\n<p>For a non-modular application, this is discussed in <a href=\"https://edencoding.com/runtime-components-error/#jar\" rel=\"nofollow noreferrer\">eden coding</a>.  After the user has unzipped your package, and assuming the main class name is encoded in the manifest, then the application can be run via:</p>\n<pre><code>java -jar myJar.jar --module-path lib --add-modules javafx.controls,javafx.fxml\n</code></pre>\n<p>If you use additional JavaFX modules like javafx-media which are not transitive dependencies, then also include these.</p>\n<p>If your application is modular, then you don't need to encode extra info in the jar manifest, but you do need to include a <code>module-info.java</code> in your jar file.  When doing this it is probably best to put your jar in the same lib directory as the rest of the modules you are using so that you don't need to also add it separately to the module path.  After doing this, you can run the application like this (this example is from the <a href=\"https://jenkov.com/tutorials/java/modules.html#setting-the-jar-main-class\" rel=\"nofollow noreferrer\">jenkov tutorial on Java modules</a>):</p>\n<pre><code> java --module-path lib -m com.jenkov.mymodule/com.jenkov.mymodule.Main\n</code></pre>\n<p>You can use a jar command to set a main class to run the modular jar file (also demonstrated in the jenkov tutorial).  Then you can run that modular jar without providing the main class explicitly, but specifying the jar file and the module path (module path is still needed for JavaFX apps):</p>\n<pre><code> jar -c --file=lib/com-jenkov-mymodule.jar --main-class=com.jenkov.mymodule.Main -C out/com.jenkov.mymodule .\n java --module-path lib -jar lib/com-jenkov-javafx.jar\n</code></pre>\n<p>I don't know exactly what the jar command does to put add the execution commands into the jar file, but I don't think it uses the manifest to do this.  At the moment, I don't think the maven jar command is capable of doing this correctly (I think it just puts info in the manifest and not modular main class execution info in the jar).</p>\n<p>In summary using Java modules and using the classpath is different and confusing . . . :-)</p>\n<p><strong>Hack</strong></p>\n<p>There is (for Java 17 at least) a hack to create a separate launcher class that bypasses the runtime check to allow the startup of the JavaFX framework from the module path rather than the classpath, but it is not supported.  I don't recommend it, so I won't explain it further here.</p>\n<p><strong>Further recommendations</strong></p>\n<p>Because the command line switches are easy to get wrong or mistype, it is best when deploying JavaFX applications to provide a platform-specific execution script (unix/mac shell script or windows batch file) that a user can more easily use to execute the application.</p>\n<p>Also consider distributing with a Java runtime, either via a zipped jlink image or a jpackage created installer.  That makes it easier on your users because then they don't need to find and install an appropriate java runtime to use your application.  As a bonus, jlink can create an example shell script to execute your application.  Doing this via maven is easy, using the jlink option of the maven-javafx-plugin and specifying the jlinkZipName.</p>\n<p>jpackage can create an OS level icon the user can just click on to run the app, but can't be used directly from the maven-javafx-plugin.</p>\n<p><strong>Additional resources</strong></p>\n<ul>\n<li><p>Further info including links to packaging options like <a href=\"https://github.com/dlemmermann/JPackageScriptFX\" rel=\"nofollow noreferrer\">JPackageScriptFX</a> in the <a href=\"https://stackoverflow.com/tags/javafx/info\">javafx tag info packaging resources</a>.</p>\n</li>\n<li><p>Related question: <a href=\"https://stackoverflow.com/questions/70806482/how-can-i-create-an-all-in-one-jar-for-a-javafx-project-with-the-maven-assembly/70809214#70809214j\">How can I create an all-in-one jar for a JavaFX project with the Maven Assembly plugin?</a></p>\n</li>\n</ul>\n"}],"owner":{"account_id":25369620,"reputation":33,"user_id":19183659,"display_name":"Viljan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1628,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72370649,"answer_count":1,"score":1,"last_activity_date":1653511817,"creation_date":1653390920,"question_id":72361901,"body_markdown":"I have a maven project that I want to export into a runnable .jar file. \r\n\r\nIn VSCode the project works without a problem. The exported project includes a .jar file and a `libs` folder with all javaFX files:\r\n\r\n``` &lt;pre&gt;\r\nDocuments/prosjekt/target\r\n├── classes\r\n├── generated-sources\r\n├── generated-test-sources\r\n├── libs\r\n│&#160;&#160; ├── apiguardian-api-1.1.0.jar\r\n│&#160;&#160; ├── javafx-base-18.0.1-mac-aarch64.jar\r\n│&#160;&#160; ├── javafx-base-18.0.1.jar\r\n│&#160;&#160; ├── javafx-controls-18.0.1-mac-aarch64.jar\r\n│&#160;&#160; ├── javafx-controls-18.0.1.jar\r\n│&#160;&#160; ├── javafx-fxml-18.0.1-mac-aarch64.jar\r\n│&#160;&#160; ├── javafx-fxml-18.0.1.jar\r\n│&#160;&#160; ├── javafx-graphics-18.0.1-mac-aarch64.jar\r\n│&#160;&#160; ├── javafx-graphics-18.0.1.jar\r\n│&#160;&#160; ├── javafx-media-18.0.1-mac-aarch64.jar\r\n│&#160;&#160; ├── javafx-media-18.0.1.jar\r\n│&#160;&#160; ├── junit-jupiter-api-5.7.0.jar\r\n│&#160;&#160; ├── junit-jupiter-engine-5.7.0.jar\r\n│&#160;&#160; ├── junit-platform-commons-1.7.0.jar\r\n│&#160;&#160; ├── junit-platform-engine-1.7.0.jar\r\n│&#160;&#160; └── opentest4j-1.2.0.jar\r\n├── maven-archiver\r\n├── maven-status\r\n├── surefire-reports\r\n├── prosjekt_boilerplate-1.0-SNAPSHOT.jar\r\n└── test-classes\r\n```\r\n\r\nThe problem occurs when I run the following command:\r\n\r\n``` &lt;pre&gt;\r\n❯ java -jar /Users/user/Documents/prosjekt/target/prosjekt_boilerplate-1.0-SNAPSHOT.jar \r\nError: JavaFX runtime components are missing, and are required to run this application\r\n```\r\n\r\nI don&#39;t understand why I get this error, since all the JavaFX files are located and visible in the `libs` folder.\r\n\r\n\r\n\r\n----------\r\n\r\n\r\nI currently use Java Temurin 18.0.1 from SDKman.\r\n``` &lt;pre&gt;\r\n❯ java -version\r\nopenjdk version &quot;18.0.1&quot; 2022-04-19\r\nOpenJDK Runtime Environment Temurin-18.0.1+10 (build 18.0.1+10)\r\nOpenJDK 64-Bit Server VM Temurin-18.0.1+10 (build 18.0.1+10, mixed mode)\r\n```\r\n\r\n`Pom.xml` file:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n \r\n    &lt;groupId&gt;project&lt;/groupId&gt;\r\n    &lt;artifactId&gt;prosjekt_boilerplate&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n \r\n    &lt;name&gt;prosjekt_boilerplate&lt;/name&gt;\r\n\t\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;18.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\r\n            &lt;version&gt;18.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- JUnit 5 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n\t    &lt;plugins&gt;\r\n\t        &lt;plugin&gt;\r\n\t\t        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t        &lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t        &lt;configuration&gt;\r\n\t\t            &lt;release&gt;17&lt;/release&gt;\r\n\t\t        &lt;/configuration&gt;\r\n\t        &lt;/plugin&gt;\r\n\t        &lt;plugin&gt;\r\n\t\t        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t        &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;argLine&gt;--enable-preview&lt;/argLine&gt;\r\n                &lt;/configuration&gt;\r\n\t        &lt;/plugin&gt;\r\n\t        &lt;plugin&gt;\r\n\t\t        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;argLine&gt;--enable-preview&lt;/argLine&gt;\r\n                    &lt;/configuration&gt;\r\n\t        &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;\r\n                                ${project.build.directory}/libs\r\n                            &lt;/outputDirectory&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;classpathPrefix&gt;libs/&lt;/classpathPrefix&gt;\r\n                            &lt;mainClass&gt;\r\n                                asteroids.AsteroidsApp\r\n                            &lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n# Edit #\r\nI tried downloading the JavaFX SDK and running the following command:\r\n``` &lt;pre&gt;\r\n❯ java -jar --module-path /Users/user/Downloads/javafx-sdk-18.0.1/lib \\\r\n--add-modules=javafx.controls,javafx.media,javafx.fxml,javafx.graphics \\\r\n/Users/user/Documents/prosjekt/target/prosjekt_boilerplate-1.0-SNAPSHOT.jar\r\n```\r\nand it worked! But it still doesn&#39;t answer my original question.\r\n\r\n","title":"VSCode: JavaFX runtime components are missing","body":"<p>I have a maven project that I want to export into a runnable .jar file.</p>\n<p>In VSCode the project works without a problem. The exported project includes a .jar file and a <code>libs</code> folder with all javaFX files:</p>\n<pre><code>Documents/prosjekt/target\n├── classes\n├── generated-sources\n├── generated-test-sources\n├── libs\n│   ├── apiguardian-api-1.1.0.jar\n│   ├── javafx-base-18.0.1-mac-aarch64.jar\n│   ├── javafx-base-18.0.1.jar\n│   ├── javafx-controls-18.0.1-mac-aarch64.jar\n│   ├── javafx-controls-18.0.1.jar\n│   ├── javafx-fxml-18.0.1-mac-aarch64.jar\n│   ├── javafx-fxml-18.0.1.jar\n│   ├── javafx-graphics-18.0.1-mac-aarch64.jar\n│   ├── javafx-graphics-18.0.1.jar\n│   ├── javafx-media-18.0.1-mac-aarch64.jar\n│   ├── javafx-media-18.0.1.jar\n│   ├── junit-jupiter-api-5.7.0.jar\n│   ├── junit-jupiter-engine-5.7.0.jar\n│   ├── junit-platform-commons-1.7.0.jar\n│   ├── junit-platform-engine-1.7.0.jar\n│   └── opentest4j-1.2.0.jar\n├── maven-archiver\n├── maven-status\n├── surefire-reports\n├── prosjekt_boilerplate-1.0-SNAPSHOT.jar\n└── test-classes\n</code></pre>\n<p>The problem occurs when I run the following command:</p>\n<pre><code>❯ java -jar /Users/user/Documents/prosjekt/target/prosjekt_boilerplate-1.0-SNAPSHOT.jar \nError: JavaFX runtime components are missing, and are required to run this application\n</code></pre>\n<p>I don't understand why I get this error, since all the JavaFX files are located and visible in the <code>libs</code> folder.</p>\n<hr />\n<p>I currently use Java Temurin 18.0.1 from SDKman.</p>\n<pre><code>❯ java -version\nopenjdk version &quot;18.0.1&quot; 2022-04-19\nOpenJDK Runtime Environment Temurin-18.0.1+10 (build 18.0.1+10)\nOpenJDK 64-Bit Server VM Temurin-18.0.1+10 (build 18.0.1+10, mixed mode)\n</code></pre>\n<p><code>Pom.xml</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n \n    &lt;groupId&gt;project&lt;/groupId&gt;\n    &lt;artifactId&gt;prosjekt_boilerplate&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n \n    &lt;name&gt;prosjekt_boilerplate&lt;/name&gt;\n    \n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;18.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\n            &lt;version&gt;18.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- JUnit 5 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;17&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;--enable-preview&lt;/argLine&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.0-M5&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;argLine&gt;--enable-preview&lt;/argLine&gt;\n                    &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;\n                                ${project.build.directory}/libs\n                            &lt;/outputDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;classpathPrefix&gt;libs/&lt;/classpathPrefix&gt;\n                            &lt;mainClass&gt;\n                                asteroids.AsteroidsApp\n                            &lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<h1>Edit</h1>\n<p>I tried downloading the JavaFX SDK and running the following command:</p>\n<pre><code>❯ java -jar --module-path /Users/user/Downloads/javafx-sdk-18.0.1/lib \\\n--add-modules=javafx.controls,javafx.media,javafx.fxml,javafx.graphics \\\n/Users/user/Documents/prosjekt/target/prosjekt_boilerplate-1.0-SNAPSHOT.jar\n</code></pre>\n<p>and it worked! But it still doesn't answer my original question.</p>\n"},{"tags":["java","spring","maven","unit-testing","junit"],"comments":[{"owner":{"account_id":7025899,"reputation":2192,"user_id":5383281,"display_name":"Mebin Joe"},"score":0,"creation_date":1559815571,"post_id":56289662,"comment_id":99540913,"body_markdown":"Good to refer: https://stackoverflow.com/questions/1161297/why-are-we-getting-closedbyinterruptexception-from-filechannel-map-in-java-1-6","body":"Good to refer: <a href=\"https://stackoverflow.com/questions/1161297/why-are-we-getting-closedbyinterruptexception-from-filechannel-map-in-java-1-6\" title=\"why are we getting closedbyinterruptexception from filechannel map in java 1 6\">stackoverflow.com/questions/1161297/&hellip;</a>"},{"owner":{"account_id":13863832,"reputation":3144,"user_id":10008771,"display_name":"Edward Aung"},"score":0,"creation_date":1559882927,"post_id":56289662,"comment_id":99565528,"body_markdown":"Do you have Spring Tool Suite (3 or 4) installed in your Eclipse ? JUnit in Eclipse usually means there is a cycle supported by STS.","body":"Do you have Spring Tool Suite (3 or 4) installed in your Eclipse ? JUnit in Eclipse usually means there is a cycle supported by STS."},{"owner":{"account_id":6905825,"reputation":599,"user_id":5654696,"display_name":"Canatto Filipe"},"score":1,"creation_date":1612536708,"post_id":56289662,"comment_id":116805340,"body_markdown":"Check if some previous test calls Thread.currentThread().interrupt()","body":"Check if some previous test calls Thread.currentThread().interrupt()"}],"answers":[{"tags":[],"owner":{"account_id":6372402,"reputation":177,"user_id":4944448,"display_name":"Ravirajsinh Vaghela"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578051035,"creation_date":1578051035,"answer_id":59577867,"question_id":56289662,"body_markdown":"I faced the same problem, the solution is as below.\r\n\r\nNow spock framework has support of JUnit 5, now you can run spock test cases with JUnit 5.\r\n\r\nUpgrade your spock to latest version [**2.0-M1-groovy-2.5** (not released yet but we can use now for solution)]\r\n\r\nAnd add below new dependencies to your project.\r\n\r\n    testCompile group: &#39;org.junit.platform&#39;, name: &#39;junit-platform-engine&#39;, version: &#39;1.5.2&#39;\r\n    compile group: &#39;org.junit.platform&#39;, name: &#39;junit-platform-commons&#39;, version: &#39;1.5.2&#39;\r\n\r\n\r\nNow run your `gradle test` task, it will run both spock and JUnit5 test cases without failure.\r\n\r\nHappy Coding... :) \r\n","title":"Test with Spring annotations causes ClosedByInterruptException when executed in maven test run","body":"<p>I faced the same problem, the solution is as below.</p>\n\n<p>Now spock framework has support of JUnit 5, now you can run spock test cases with JUnit 5.</p>\n\n<p>Upgrade your spock to latest version [<strong>2.0-M1-groovy-2.5</strong> (not released yet but we can use now for solution)]</p>\n\n<p>And add below new dependencies to your project.</p>\n\n<pre><code>testCompile group: 'org.junit.platform', name: 'junit-platform-engine', version: '1.5.2'\ncompile group: 'org.junit.platform', name: 'junit-platform-commons', version: '1.5.2'\n</code></pre>\n\n<p>Now run your <code>gradle test</code> task, it will run both spock and JUnit5 test cases without failure.</p>\n\n<p>Happy Coding... :) </p>\n"},{"tags":[],"owner":{"account_id":1843851,"reputation":3637,"user_id":1672678,"display_name":"anre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653511805,"creation_date":1653511805,"answer_id":72384015,"question_id":56289662,"body_markdown":"As pointed out by Canatto Filipe check if your production or test code uses\r\n\r\n    Thread.currentThread().interrupt()\r\n\r\nIf it does, you can clear the interrupted state of the thread with:\r\n\r\n    Thread.interrupted()\r\n\r\n\r\nIn our case it was failing at an attempted write using java.nio.file.Files.write\r\nin one of the tests with:\r\n\r\n\tjava.nio.channels.ClosedByInterruptException\r\n\t\tat java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)\r\n\t\tat sun.nio.ch.FileChannelImpl.write(FileChannelImpl.java:216)\r\n\t\tat java.nio.channels.Channels.writeFullyImpl(Channels.java:78)\r\n\t\tat java.nio.channels.Channels.writeFully(Channels.java:101)\r\n\t\tat java.nio.channels.Channels.access$000(Channels.java:61)\r\n\t\tat java.nio.channels.Channels$1.write(Channels.java:174)\r\n\t\tat java.nio.file.Files.write(Files.java:3297)\r\n\r\nbecause the production code correctly responded to InterruptedException by interrupting the thread:\r\n\r\n        } catch (InterruptedException e) {\r\n            Thread.currentThread().interrupt();\r\n\r\nand this was also tested in one of the tests.\r\nNow in corresponding test we additionally check that the thread was interrupted and clear the interrupted state at the same time:\r\n\r\n        Assert.assertTrue(Thread.interrupted());\r\n\r\nBefore the change, it depended if this other test is executed before or after the test which failed.","title":"Test with Spring annotations causes ClosedByInterruptException when executed in maven test run","body":"<p>As pointed out by Canatto Filipe check if your production or test code uses</p>\n<pre><code>Thread.currentThread().interrupt()\n</code></pre>\n<p>If it does, you can clear the interrupted state of the thread with:</p>\n<pre><code>Thread.interrupted()\n</code></pre>\n<p>In our case it was failing at an attempted write using java.nio.file.Files.write\nin one of the tests with:</p>\n<pre><code>java.nio.channels.ClosedByInterruptException\n    at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)\n    at sun.nio.ch.FileChannelImpl.write(FileChannelImpl.java:216)\n    at java.nio.channels.Channels.writeFullyImpl(Channels.java:78)\n    at java.nio.channels.Channels.writeFully(Channels.java:101)\n    at java.nio.channels.Channels.access$000(Channels.java:61)\n    at java.nio.channels.Channels$1.write(Channels.java:174)\n    at java.nio.file.Files.write(Files.java:3297)\n</code></pre>\n<p>because the production code correctly responded to InterruptedException by interrupting the thread:</p>\n<pre><code>    } catch (InterruptedException e) {\n        Thread.currentThread().interrupt();\n</code></pre>\n<p>and this was also tested in one of the tests.\nNow in corresponding test we additionally check that the thread was interrupted and clear the interrupted state at the same time:</p>\n<pre><code>    Assert.assertTrue(Thread.interrupted());\n</code></pre>\n<p>Before the change, it depended if this other test is executed before or after the test which failed.</p>\n"}],"owner":{"account_id":5741643,"reputation":986,"user_id":4534183,"accept_rate":78,"display_name":"Jdv"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1052,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1653511805,"creation_date":1558690086,"question_id":56289662,"body_markdown":"I have a test class which looks like this:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(classes = TestClass.TestConfig.class)\r\n    public class TestClass{\r\n    \r\n    \t@Configuration\r\n    \t@EnableAspectJAutoProxy\r\n    \t@ComponentScan(basePackages = &quot;package.with.dummy.provider.and.aspect&quot;, includeFilters = { \r\n    \t\t\t@Filter(Aspect.class), @Filter(Provider.class) })\r\n    \tpublic static class TestConfig {\r\n    \r\n    \t\t@Bean\r\n    \t\tCustomApplicationListener listener() {\r\n    \t\t\treturn new CustomApplicationListener ();\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \t@Autowired\r\n    \tCustomApplicationListener listener;\r\n    \r\n    \t@Test\r\n    \tpublic void testMethod() {\r\n    \t\t// Do something with the listener\r\n    \t}    \r\n    }\r\n\r\nWhen I run it with JUnit from Eclipse, it works just fine. But when the test is executed in my maven build/test cycle, it fails with the following exception:\r\n\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n         at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125)\r\n    [...]\r\n    Caused by: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [Path\\To\\Aspect\\DummyAspect.class]; nested exception is java.nio.channels.ClosedByInterruptException\r\n         at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:454)\r\n    [...]\r\n    Caused by: java.nio.channels.ClosedByInterruptException\r\n         [java] \tat java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:220)\r\n         [java] \tat sun.nio.ch.FileChannelImpl.size(FileChannelImpl.java:327)\r\n         [java] \tat sun.nio.ch.ChannelInputStream.available(ChannelInputStream.java:128)\r\n         [java] \tat java.io.BufferedInputStream.available(BufferedInputStream.java:421)\r\n         [java] \tat org.springframework.asm.ClassReader.readClass(ClassReader.java:479)\r\n         [java] \tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:445)\r\n         [java] \tat org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:54)\r\n         [java] \tat org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\r\n         [java] \tat org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123)\r\n         [java] \tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:430)\r\n\r\nI&#39;d like to know the differences in executing tests from Eclipse vs from maven which may cause the observed situation to happen.\r\n\r\n&lt;s&gt;**Update**\r\nWhen removing `basePackages = &quot;package.with.dummy.provider.and.aspect&quot;` from the `@ComponentScan` annotation, everything works as expected! The package path is correct though. Now if someone could explain why this happens... &lt;/s&gt;\r\n\r\n**Update 2**\r\nWell looks like it&#39;s even stranger. After some more tests I can confirm that the test passes _once_ whenever I change the value of `basePackages`. After the first update where I removed the value and the test passed ran, it failed the text time and every time after that. I then tried to change the value to `package.with.dummy.provider.and`, removing one level, and it passed - once. Sounds like maybe some files generated by maven in the build and test process are not properly cleaned up, therefore the `@ComponentScan` finds and tries to read the files multiple times which causes the `ClosedByInterruptException`. ","title":"Test with Spring annotations causes ClosedByInterruptException when executed in maven test run","body":"<p>I have a test class which looks like this:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = TestClass.TestConfig.class)\npublic class TestClass{\n\n    @Configuration\n    @EnableAspectJAutoProxy\n    @ComponentScan(basePackages = \"package.with.dummy.provider.and.aspect\", includeFilters = { \n            @Filter(Aspect.class), @Filter(Provider.class) })\n    public static class TestConfig {\n\n        @Bean\n        CustomApplicationListener listener() {\n            return new CustomApplicationListener ();\n        }\n\n    }\n\n    @Autowired\n    CustomApplicationListener listener;\n\n    @Test\n    public void testMethod() {\n        // Do something with the listener\n    }    \n}\n</code></pre>\n\n<p>When I run it with JUnit from Eclipse, it works just fine. But when the test is executed in my maven build/test cycle, it fails with the following exception:</p>\n\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext\n     at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125)\n[...]\nCaused by: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [Path\\To\\Aspect\\DummyAspect.class]; nested exception is java.nio.channels.ClosedByInterruptException\n     at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:454)\n[...]\nCaused by: java.nio.channels.ClosedByInterruptException\n     [java]     at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:220)\n     [java]     at sun.nio.ch.FileChannelImpl.size(FileChannelImpl.java:327)\n     [java]     at sun.nio.ch.ChannelInputStream.available(ChannelInputStream.java:128)\n     [java]     at java.io.BufferedInputStream.available(BufferedInputStream.java:421)\n     [java]     at org.springframework.asm.ClassReader.readClass(ClassReader.java:479)\n     [java]     at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:445)\n     [java]     at org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:54)\n     [java]     at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\n     [java]     at org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123)\n     [java]     at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:430)\n</code></pre>\n\n<p>I'd like to know the differences in executing tests from Eclipse vs from maven which may cause the observed situation to happen.</p>\n\n<p><s><strong>Update</strong>\nWhen removing <code>basePackages = \"package.with.dummy.provider.and.aspect\"</code> from the <code>@ComponentScan</code> annotation, everything works as expected! The package path is correct though. Now if someone could explain why this happens... </s></p>\n\n<p><strong>Update 2</strong>\nWell looks like it's even stranger. After some more tests I can confirm that the test passes <em>once</em> whenever I change the value of <code>basePackages</code>. After the first update where I removed the value and the test passed ran, it failed the text time and every time after that. I then tried to change the value to <code>package.with.dummy.provider.and</code>, removing one level, and it passed - once. Sounds like maybe some files generated by maven in the build and test process are not properly cleaned up, therefore the <code>@ComponentScan</code> finds and tries to read the files multiple times which causes the <code>ClosedByInterruptException</code>. </p>\n"},{"tags":["java","maven-plugin","maven-compiler-plugin"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1653506993,"post_id":72383185,"comment_id":127872310,"body_markdown":"&quot;*I am using maven-compiler-plugin setting it&#39;s source/target to 1.8*&quot; **Show, don&#39;t tell**. Post the actual configuration.","body":"&quot;<i>I am using maven-compiler-plugin setting it&#39;s source/target to 1.8</i>&quot; <b>Show, don&#39;t tell</b>. Post the actual configuration."},{"owner":{"account_id":24506724,"reputation":61,"user_id":18421645,"display_name":"askaquestion"},"score":0,"creation_date":1653509956,"post_id":72383185,"comment_id":127873183,"body_markdown":"Stack Overflow doesn&#39;t allow me to embed my pictures unless I get more than 10 reputation.","body":"Stack Overflow doesn&#39;t allow me to embed my pictures unless I get more than 10 reputation."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1653510224,"post_id":72383185,"comment_id":127873273,"body_markdown":"You shouldn&#39;t use an image for that, even if you could. Post the text.","body":"You shouldn&#39;t use an image for that, even if you could. Post the text."}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653508173,"creation_date":1653507854,"answer_id":72383359,"question_id":72383185,"body_markdown":"There&#39;s a difference between language level (e.g. the existence or non-existence of lambdas) and the standard library. Your issue is with the latter.\r\n\r\nMaven (delegating to javac), will always use the standard library of whatever JDK you&#39;re using to compile, because how could it use anything else?\r\n\r\nSuppose you&#39;re trying to target Java 8, but you&#39;re compiling with JDK 17. Suppose you used a class which existed in Java 8 but was removed in Java 9. How is Java 17 supposed to handle that gracefully? It doesn&#39;t have that class, because it was deleted. How can it do type-checking against something that doesn&#39;t exist? It can&#39;t.\r\n\r\nYour case is the opposite: you&#39;re relying on a class which was introduced in a more recent version of Java than you&#39;re targeting, but fundamentally the issue is the same.\r\n\r\nJava really has no way to track which classes and methods were introduced at what stage, besides annotations which can&#39;t express the full set of possible changes (e.g. the delete case I already mentioned - you can&#39;t add an annotation to something that doesn&#39;t exist). To be able to properly support the kind of behaviour that you&#39;re expecting, the JDK would need knowledge of all signatures of all methods of all classes for all previous versions, and it doesn&#39;t have that.\r\n\r\nIf this is an issue for you, and I could see why it would be, then you should compile with the a version of the JDK which matches the version you&#39;re actually targeting.\r\n\r\nThere might be an additional plugin you could use, but if there is then I&#39;m not aware of it. IntelliJ&#39;s inspections are aware of the API incompatibility, which is at least proof that&#39;s it&#39;s technically feasible to detect this programmatically. ","title":"maven-compiler-plugin source not work as expect","body":"<p>There's a difference between language level (e.g. the existence or non-existence of lambdas) and the standard library. Your issue is with the latter.</p>\n<p>Maven (delegating to javac), will always use the standard library of whatever JDK you're using to compile, because how could it use anything else?</p>\n<p>Suppose you're trying to target Java 8, but you're compiling with JDK 17. Suppose you used a class which existed in Java 8 but was removed in Java 9. How is Java 17 supposed to handle that gracefully? It doesn't have that class, because it was deleted. How can it do type-checking against something that doesn't exist? It can't.</p>\n<p>Your case is the opposite: you're relying on a class which was introduced in a more recent version of Java than you're targeting, but fundamentally the issue is the same.</p>\n<p>Java really has no way to track which classes and methods were introduced at what stage, besides annotations which can't express the full set of possible changes (e.g. the delete case I already mentioned - you can't add an annotation to something that doesn't exist). To be able to properly support the kind of behaviour that you're expecting, the JDK would need knowledge of all signatures of all methods of all classes for all previous versions, and it doesn't have that.</p>\n<p>If this is an issue for you, and I could see why it would be, then you should compile with the a version of the JDK which matches the version you're actually targeting.</p>\n<p>There might be an additional plugin you could use, but if there is then I'm not aware of it. IntelliJ's inspections are aware of the API incompatibility, which is at least proof that's it's technically feasible to detect this programmatically.</p>\n"}],"owner":{"account_id":24506724,"reputation":61,"user_id":18421645,"display_name":"askaquestion"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":807,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72383359,"answer_count":1,"score":0,"last_activity_date":1653511641,"creation_date":1653506845,"question_id":72383185,"body_markdown":"I have java11 on my local, and I am using maven-compiler-plugin setting it&#39;s source/target to 1.8, in my code I am using `Objects.requireNonNullElse(null, new Object());` which is not support in java 8. When I run mvn package it works without any issue. I know the source param in maven-compiler-plugin specifies which java version you want to used to compile your source code, I am setting it to 1.8, but mvn package still compiles the source code successfully even I use some method not support in java 8. How could this happen? Thanks. \r\n\r\nYou can find my local settings here \r\n```\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n```\r\n$ java -version\r\nopenjdk version &quot;11.0.12&quot; 2021-07-20\r\nOpenJDK Runtime Environment 18.9 (build 11.0.12+7)\r\nOpenJDK 64-Bit Server VM 18.9 (build 11.0.12+7, mixed mode)\r\n```","title":"maven-compiler-plugin source not work as expect","body":"<p>I have java11 on my local, and I am using maven-compiler-plugin setting it's source/target to 1.8, in my code I am using <code>Objects.requireNonNullElse(null, new Object());</code> which is not support in java 8. When I run mvn package it works without any issue. I know the source param in maven-compiler-plugin specifies which java version you want to used to compile your source code, I am setting it to 1.8, but mvn package still compiles the source code successfully even I use some method not support in java 8. How could this happen? Thanks.</p>\n<p>You can find my local settings here</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<pre><code>$ java -version\nopenjdk version &quot;11.0.12&quot; 2021-07-20\nOpenJDK Runtime Environment 18.9 (build 11.0.12+7)\nOpenJDK 64-Bit Server VM 18.9 (build 11.0.12+7, mixed mode)\n</code></pre>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":210652,"reputation":1331,"user_id":1000000,"accept_rate":54,"display_name":"Confluence"},"score":7,"creation_date":1350920999,"post_id":13014947,"comment_id":17662222,"body_markdown":"Parsing Java code with regex is not something I&#39;d recommend.","body":"Parsing Java code with regex is not something I&#39;d recommend."},{"owner":{"account_id":209257,"reputation":1091,"user_id":460184,"accept_rate":76,"display_name":"hanumant"},"score":0,"creation_date":1350921124,"post_id":13014947,"comment_id":17662299,"body_markdown":"@Confluence, I am not sure what could be the best option to achieve the result? Can you suggest one.","body":"@Confluence, I am not sure what could be the best option to achieve the result? Can you suggest one."},{"owner":{"account_id":1156609,"reputation":9392,"user_id":1137043,"accept_rate":100,"display_name":"brimborium"},"score":0,"creation_date":1350921138,"post_id":13014947,"comment_id":17662307,"body_markdown":"What regex did you try? As you already say that you have tried something, you can as well just paste it here, so we can see your approach. We can go into more/less details about the solutions depending on your experience.","body":"What regex did you try? As you already say that you have tried something, you can as well just paste it here, so we can see your approach. We can go into more/less details about the solutions depending on your experience."},{"owner":{"account_id":209257,"reputation":1091,"user_id":460184,"accept_rate":76,"display_name":"hanumant"},"score":0,"creation_date":1350921551,"post_id":13014947,"comment_id":17662535,"body_markdown":"/\\\\*.*\\\\/ this is what I used ...And it removed whole string after the first match","body":"/\\*.*\\\\/ this is what I used ...And it removed whole string after the first match"},{"owner":{"account_id":4964963,"reputation":428,"user_id":3994640,"display_name":"psykid"},"score":0,"creation_date":1626267645,"post_id":13014947,"comment_id":120846773,"body_markdown":"from https://www.oreilly.com/library/view/regular-expressions-cookbook/9781449327453/ch07s06.html, you can use either `/\\*.*?\\*/` or `/\\*[\\s\\S]*?\\*/`","body":"from <a href=\"https://www.oreilly.com/library/view/regular-expressions-cookbook/9781449327453/ch07s06.html\" rel=\"nofollow noreferrer\">oreilly.com/library/view/regular-expressions-cookbook/&hellip;</a>, you can use either <code>&#47;\\*.*?\\*&#47;</code> or <code>&#47;\\*[\\s\\S]*?\\*&#47;</code>"}],"answers":[{"tags":[],"owner":{"account_id":1151383,"reputation":36217,"user_id":1133011,"accept_rate":96,"display_name":"David Kroukamp"},"down_vote_count":1,"up_vote_count":23,"is_accepted":true,"score":22,"last_activity_date":1518571560,"creation_date":1350920808,"answer_id":13014995,"question_id":13014947,"body_markdown":"Try using this regex (Single line comments only):\r\n\r\n    String src =&quot;How are things today /* this is comment */ and is your code /* this is another comment */ working?&quot;;\r\n    String result=src.replaceAll(&quot;/\\\\*.*?\\\\*/&quot;,&quot;&quot;);//single line comments\r\n    System.out.println(result);\r\n\r\n\r\n**REGEX explained:**\r\n\r\n&gt; Match the character &quot;/&quot; literally\r\n&gt; \r\n&gt; Match the character &quot;*&quot; literally\r\n&gt; \r\n&gt; &quot;.&quot; Match any single character\r\n&gt; \r\n&gt; &quot;*?&quot; Between zero and unlimited times, as few times as possible, expanding\r\n&gt; as needed (lazy)\r\n&gt; \r\n&gt; Match the character &quot;*&quot; literally\r\n&gt; \r\n&gt; Match the character &quot;/&quot; literally\r\n\r\nAlternatively here is regex for single and multi-line comments by adding *(?s)*:\r\n\r\n    //note the added \\n which wont work with previous regex\r\n    String src =&quot;How are things today /* this\\n is comment */ and is your code /* this is another comment */ working?&quot;;\r\n    String result=src.replaceAll(&quot;(?s)/\\\\*.*?\\\\*/&quot;,&quot;&quot;);\r\n    System.out.println(result);\r\n\r\n**Reference:**\r\n\r\n- https://www.regular-expressions.info/examplesprogrammer.html","title":"Regex to match a C-style multiline comment","body":"<p>Try using this regex (Single line comments only):</p>\n\n<pre><code>String src =\"How are things today /* this is comment */ and is your code /* this is another comment */ working?\";\nString result=src.replaceAll(\"/\\\\*.*?\\\\*/\",\"\");//single line comments\nSystem.out.println(result);\n</code></pre>\n\n<p><strong>REGEX explained:</strong></p>\n\n<blockquote>\n  <p>Match the character \"/\" literally</p>\n  \n  <p>Match the character \"*\" literally</p>\n  \n  <p>\".\" Match any single character</p>\n  \n  <p>\"*?\" Between zero and unlimited times, as few times as possible, expanding\n  as needed (lazy)</p>\n  \n  <p>Match the character \"*\" literally</p>\n  \n  <p>Match the character \"/\" literally</p>\n</blockquote>\n\n<p>Alternatively here is regex for single and multi-line comments by adding <em>(?s)</em>:</p>\n\n<pre><code>//note the added \\n which wont work with previous regex\nString src =\"How are things today /* this\\n is comment */ and is your code /* this is another comment */ working?\";\nString result=src.replaceAll(\"(?s)/\\\\*.*?\\\\*/\",\"\");\nSystem.out.println(result);\n</code></pre>\n\n<p><strong>Reference:</strong></p>\n\n<ul>\n<li><a href=\"https://www.regular-expressions.info/examplesprogrammer.html\" rel=\"noreferrer\">https://www.regular-expressions.info/examplesprogrammer.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1923703,"reputation":2264,"user_id":1734635,"display_name":"jens-na"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1350921584,"creation_date":1350921584,"answer_id":13015198,"question_id":13014947,"body_markdown":"    System.out.println(src.replaceAll(&quot;\\\\/\\\\*.*?\\\\*\\\\/ ?&quot;, &quot;&quot;));\r\n\r\nYou have to use the non-greedy-quantifier ? to get the regex working.\r\nI also added a &#39; ?&#39; at the end of the regex to remove one space.","title":"Regex to match a C-style multiline comment","body":"<pre><code>System.out.println(src.replaceAll(\"\\\\/\\\\*.*?\\\\*\\\\/ ?\", \"\"));\n</code></pre>\n\n<p>You have to use the non-greedy-quantifier ? to get the regex working.\nI also added a ' ?' at the end of the regex to remove one space.</p>\n"},{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":3,"up_vote_count":61,"is_accepted":false,"score":58,"last_activity_date":1596306854,"creation_date":1459415196,"answer_id":36328890,"question_id":13014947,"body_markdown":"The *best multiline comment regex* is an unrolled version of `(?s)/\\*.*?\\*/` that looks like\r\n\r\n    String pat = &quot;/\\\\*[^*]*\\\\*+(?:[^/*][^*]*\\\\*+)*/&quot;;\r\n\r\nSee the [regex demo and explanation at regex101.com][1].\r\n\r\nIn short,\r\n\r\n - `/\\*` - match the comment start `/*`\r\n - `[^*]*\\*+` - match 0+ characters other than `*` followed with 1+ literal `*`\r\n - `(?:[^/*][^*]*\\*+)*` - 0+ sequences of:\r\n   - `[^/*][^*]*\\*+` - not a `/` or `*` (matched with `[^/*]`) followed with 0+ non-asterisk characters (`[^*]*`) followed with 1+ asterisks (`\\*+`)\r\n - `/` - closing `/`\r\n\r\n[David&#39;s regex](https://regex101.com/r/dU5fO8/2) needs *26 steps* to find the match in my example string, and [my regex][2] needs just *12 steps*. With huge inputs, David&#39;s regex is likely to fail with a stack overflow issue or something similar because the `.*?` lazy dot matching is inefficient due to lazy pattern expansion at each location the regex engine performs, while my pattern matches linear chunks of text in one go.\r\n\r\n\r\n  [1]: https://regex101.com/r/dU5fO8/73\r\n  [2]: https://regex101.com/r/KBZ5Y0/1","title":"Regex to match a C-style multiline comment","body":"<p>The <em>best multiline comment regex</em> is an unrolled version of <code>(?s)/\\*.*?\\*/</code> that looks like</p>\n<pre><code>String pat = &quot;/\\\\*[^*]*\\\\*+(?:[^/*][^*]*\\\\*+)*/&quot;;\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/dU5fO8/73\" rel=\"noreferrer\">regex demo and explanation at regex101.com</a>.</p>\n<p>In short,</p>\n<ul>\n<li><code>/\\*</code> - match the comment start <code>/*</code></li>\n<li><code>[^*]*\\*+</code> - match 0+ characters other than <code>*</code> followed with 1+ literal <code>*</code></li>\n<li><code>(?:[^/*][^*]*\\*+)*</code> - 0+ sequences of:\n<ul>\n<li><code>[^/*][^*]*\\*+</code> - not a <code>/</code> or <code>*</code> (matched with <code>[^/*]</code>) followed with 0+ non-asterisk characters (<code>[^*]*</code>) followed with 1+ asterisks (<code>\\*+</code>)</li>\n</ul>\n</li>\n<li><code>/</code> - closing <code>/</code></li>\n</ul>\n<p><a href=\"https://regex101.com/r/dU5fO8/2\" rel=\"noreferrer\">David's regex</a> needs <em>26 steps</em> to find the match in my example string, and <a href=\"https://regex101.com/r/KBZ5Y0/1\" rel=\"noreferrer\">my regex</a> needs just <em>12 steps</em>. With huge inputs, David's regex is likely to fail with a stack overflow issue or something similar because the <code>.*?</code> lazy dot matching is inefficient due to lazy pattern expansion at each location the regex engine performs, while my pattern matches linear chunks of text in one go.</p>\n"},{"tags":[],"owner":{"account_id":1027472,"reputation":1826,"user_id":2007222,"accept_rate":54,"display_name":"Digerkam"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1520719679,"creation_date":1520719679,"answer_id":49214507,"question_id":13014947,"body_markdown":"Try this which worked for me:  \r\n\r\n    System.out.println(src.replaceAll(&quot;(\\/\\*.*?\\*\\/)+&quot;,&quot;&quot;));","title":"Regex to match a C-style multiline comment","body":"<p>Try this which worked for me:  </p>\n\n<pre><code>System.out.println(src.replaceAll(\"(\\/\\*.*?\\*\\/)+\",\"\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14165524,"reputation":99,"user_id":10233601,"display_name":"Akshay"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1534832493,"creation_date":1534832493,"answer_id":51942711,"question_id":13014947,"body_markdown":"Try this one:\r\n\r\n    (//[^\\n]*$|/(?!\\\\)\\*[\\s\\S]*?\\*(?!\\\\)/)\r\n\r\nIf you want to exclude the parts enclused in &quot; &quot;\r\nthen use:\r\n\r\n    (\\&quot;[^\\&quot;]*\\&quot;(?!\\\\))|(//[^\\n]*$|/(?!\\\\)\\*[\\s\\S]*?\\*(?!\\\\)/)\r\n\r\nthe first capturing group identifies all &quot; &quot; parts and second capturing group gives you comments (both single line and multi line)\r\n\r\ncopy the regular expression to [regex101][1] if you want explanation\r\n\r\n\r\n  [1]: http://regex101.com","title":"Regex to match a C-style multiline comment","body":"<p>Try this one:</p>\n\n<pre><code>(//[^\\n]*$|/(?!\\\\)\\*[\\s\\S]*?\\*(?!\\\\)/)\n</code></pre>\n\n<p>If you want to exclude the parts enclused in \" \"\nthen use:</p>\n\n<pre><code>(\\\"[^\\\"]*\\\"(?!\\\\))|(//[^\\n]*$|/(?!\\\\)\\*[\\s\\S]*?\\*(?!\\\\)/)\n</code></pre>\n\n<p>the first capturing group identifies all \" \" parts and second capturing group gives you comments (both single line and multi line)</p>\n\n<p>copy the regular expression to <a href=\"http://regex101.com\" rel=\"nofollow noreferrer\">regex101</a> if you want explanation</p>\n"},{"tags":[],"owner":{"account_id":11390163,"reputation":378,"user_id":8350518,"display_name":"Mahesh Yadav"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1572848613,"creation_date":1572848613,"answer_id":58688182,"question_id":13014947,"body_markdown":"This could be the best approach for multi-line comments \r\n\r\n`System.out.println(text.replaceAll(&quot;\\\\/\\\\*[\\\\s\\\\S]*?\\\\*\\\\/&quot;, &quot;&quot;));`","title":"Regex to match a C-style multiline comment","body":"<p>This could be the best approach for multi-line comments </p>\n\n<p><code>System.out.println(text.replaceAll(\"\\\\/\\\\*[\\\\s\\\\S]*?\\\\*\\\\/\", \"\"));</code></p>\n"},{"tags":[],"owner":{"display_name":"user12097764"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1573344387,"creation_date":1573343011,"answer_id":58784551,"question_id":13014947,"body_markdown":"Can&#39;t parse C/C++ style comments in Java source directly.  \r\nQuoted strings have to be parsed at the same time and within the same regex  \r\nbecause the string may embed `/*` or `//`, the start of a comment when it is just part  \r\nof the string.  \r\n\r\nNote there is additional regex consideration needs if _raw strings_ constructs  \r\nare possible in the language.\r\n\r\nThe regex that does this feat is this.  \r\nWhere group 1 contains the _**Comment**_ and group 2 contains the _**Non-Comment**_.  \r\nFor example if you were removing comments  it would be:  \r\n\r\nFind  \r\n`(/\\*[^*]*\\*+(?:[^/*][^*]*\\*+)*/|//(?:[^\\\\]|\\\\(?:\\r?\\n)?)*?(?:\\r?\\n|$))|(&quot;[^&quot;\\\\]*(?:\\\\[\\S\\s][^&quot;\\\\]*)*&quot;|&#39;[^&#39;\\\\]*(?:\\\\[\\S\\s][^&#39;\\\\]*)*&#39;|[\\S\\s][^/&quot;&#39;\\\\]*)`\r\n\r\nReplace  \r\n`$2`\r\n\r\n__________________\r\n\r\nStringed:  \r\n`&quot;(/\\\\*[^*]*\\\\*+(?:[^/*][^*]*\\\\*+)*/|//(?:[^\\\\\\\\]|\\\\\\\\(?:\\\\r?\\\\n)?)*?(?:\\\\r?\\\\n|$))|(\\&quot;[^\\&quot;\\\\\\\\]*(?:\\\\\\\\[\\\\S\\\\s][^\\&quot;\\\\\\\\]*)*\\&quot;|&#39;[^&#39;\\\\\\\\]*(?:\\\\\\\\[\\\\S\\\\s][^&#39;\\\\\\\\]*)*&#39;|[\\\\S\\\\s][^/\\&quot;&#39;\\\\\\\\]*)&quot;`","title":"Regex to match a C-style multiline comment","body":"<p>Can't parse C/C++ style comments in Java source directly.<br>\nQuoted strings have to be parsed at the same time and within the same regex<br>\nbecause the string may embed <code>/*</code> or <code>//</code>, the start of a comment when it is just part<br>\nof the string.  </p>\n\n<p>Note there is additional regex consideration needs if <em>raw strings</em> constructs<br>\nare possible in the language.</p>\n\n<p>The regex that does this feat is this.<br>\nWhere group 1 contains the <em><strong>Comment</strong></em> and group 2 contains the <em><strong>Non-Comment</strong></em>.<br>\nFor example if you were removing comments  it would be:  </p>\n\n<p>Find<br>\n<code>(/\\*[^*]*\\*+(?:[^/*][^*]*\\*+)*/|//(?:[^\\\\]|\\\\(?:\\r?\\n)?)*?(?:\\r?\\n|$))|(\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'|[\\S\\s][^/\"'\\\\]*)</code></p>\n\n<p>Replace<br>\n<code>$2</code></p>\n\n<hr>\n\n<p>Stringed:<br>\n<code>\"(/\\\\*[^*]*\\\\*+(?:[^/*][^*]*\\\\*+)*/|//(?:[^\\\\\\\\]|\\\\\\\\(?:\\\\r?\\\\n)?)*?(?:\\\\r?\\\\n|$))|(\\\"[^\\\"\\\\\\\\]*(?:\\\\\\\\[\\\\S\\\\s][^\\\"\\\\\\\\]*)*\\\"|'[^'\\\\\\\\]*(?:\\\\\\\\[\\\\S\\\\s][^'\\\\\\\\]*)*'|[\\\\S\\\\s][^/\\\"'\\\\\\\\]*)\"</code></p>\n"},{"tags":[],"owner":{"account_id":19288240,"reputation":11,"user_id":14098821,"display_name":"Maneskin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653510813,"creation_date":1653510649,"answer_id":72383826,"question_id":13014947,"body_markdown":"```\r\n(?s)(?i)(^|\\s+?)(\\/\\*)((.)(?!\\*\\/))*?(this)(.*?)(\\*\\/)\r\n```\r\n\r\nYou can find inner comment&#39;s words:\r\n\r\n![][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yOP6v.png","title":"Regex to match a C-style multiline comment","body":"<pre><code>(?s)(?i)(^|\\s+?)(\\/\\*)((.)(?!\\*\\/))*?(this)(.*?)(\\*\\/)\n</code></pre>\n<p>You can find inner comment's words:</p>\n<p><img src=\"https://i.stack.imgur.com/yOP6v.png\" alt=\"\" /></p>\n"}],"owner":{"account_id":209257,"reputation":1091,"user_id":460184,"accept_rate":76,"display_name":"hanumant"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35029,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":13014995,"answer_count":8,"score":26,"last_activity_date":1653510813,"creation_date":1350920688,"question_id":13014947,"body_markdown":"I have a string for e.g.\r\n\r\n    String src = &quot;How are things today /* this is comment *\\*/ and is your code  /*\\* this is another comment */ working?&quot;\r\n\r\nI want to remove `/* this is comment *\\*/`  and `/** this is another comment */` substrings from the `src` string.\r\n\r\nI tried to use regex but failed due to less experience.\r\n","title":"Regex to match a C-style multiline comment","body":"<p>I have a string for e.g.</p>\n\n<pre><code>String src = \"How are things today /* this is comment *\\*/ and is your code  /*\\* this is another comment */ working?\"\n</code></pre>\n\n<p>I want to remove <code>/* this is comment *\\*/</code>  and <code>/** this is another comment */</code> substrings from the <code>src</code> string.</p>\n\n<p>I tried to use regex but failed due to less experience.</p>\n"},{"tags":["java","spring","hibernate"],"answers":[{"tags":[],"owner":{"account_id":18576371,"reputation":1314,"user_id":13536950,"display_name":"rafaelpadu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653510531,"creation_date":1653510531,"answer_id":72383811,"question_id":72383451,"body_markdown":"Found out what was happening, in my `boatFilter.getBoatProfile()`, I set this attr as String, but since the original attr is an enum, all I needed to do was also set this guy as the same enum class...","title":"CriteriaBuilder Equals two Strings","body":"<p>Found out what was happening, in my <code>boatFilter.getBoatProfile()</code>, I set this attr as String, but since the original attr is an enum, all I needed to do was also set this guy as the same enum class...</p>\n"}],"owner":{"account_id":18576371,"reputation":1314,"user_id":13536950,"display_name":"rafaelpadu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653510531,"creation_date":1653508427,"question_id":72383451,"body_markdown":"I need to create a predicate that compares two strings, but for some reason its breaking...\r\n\r\n    predicates.add(builder.equal(rootBoat.get(&quot;boatProfile&quot;), boatFilter.getBoatProfile()));\r\n\r\nIn the database there&#39;s a column called boat_profile that can be two values, `&quot;RECURRENT&quot; or &quot;EVENTUAL&quot;`. So I want to bring only boats that corresponds to eventual or recurrent, depending on the parameter passed by the user... My goal in query native is something like: &quot;...where b.boat_profile = &#39;filter_boat_profile&#39;...&quot;\r\n\r\nThere&#39;s an important detail: the BoatProfile field from `rootBoat.get(&quot;boatProfile&quot;)` corresponds to an enum:\r\n\r\n    @Enumerated(EnumType.STRING)\r\n \tprivate BoatProfile boatProfile;\r\n\r\nBoatProfile:\r\n\r\n    public enum BoatProfile {\r\n        RECURRENT,\r\n        EVENTUAL\r\n    }\r\n\r\nAlso, I keep getting this error:\r\n\r\n&gt; nested exception is java.lang.IllegalArgumentException: Parameter\r\n&gt; value [RECURRENT] did not match expected type\r\n&gt; [br.com.easymarine.model.boat.Boat (n/a)]\r\n","title":"CriteriaBuilder Equals two Strings","body":"<p>I need to create a predicate that compares two strings, but for some reason its breaking...</p>\n<pre><code>predicates.add(builder.equal(rootBoat.get(&quot;boatProfile&quot;), boatFilter.getBoatProfile()));\n</code></pre>\n<p>In the database there's a column called boat_profile that can be two values, <code>&quot;RECURRENT&quot; or &quot;EVENTUAL&quot;</code>. So I want to bring only boats that corresponds to eventual or recurrent, depending on the parameter passed by the user... My goal in query native is something like: &quot;...where b.boat_profile = 'filter_boat_profile'...&quot;</p>\n<p>There's an important detail: the BoatProfile field from <code>rootBoat.get(&quot;boatProfile&quot;)</code> corresponds to an enum:</p>\n<pre><code>@Enumerated(EnumType.STRING)\nprivate BoatProfile boatProfile;\n</code></pre>\n<p>BoatProfile:</p>\n<pre><code>public enum BoatProfile {\n    RECURRENT,\n    EVENTUAL\n}\n</code></pre>\n<p>Also, I keep getting this error:</p>\n<blockquote>\n<p>nested exception is java.lang.IllegalArgumentException: Parameter\nvalue [RECURRENT] did not match expected type\n[br.com.easymarine.model.boat.Boat (n/a)]</p>\n</blockquote>\n"},{"tags":["java","intellij-idea","glassfish"],"comments":[{"owner":{"account_id":7708765,"reputation":1,"user_id":5838870,"display_name":"R.A"},"score":1,"creation_date":1453753062,"post_id":35000975,"comment_id":57731092,"body_markdown":"Hi, this topic was previously covered in this post : [here](http://stackoverflow.com/questions/26931211/idea-failed-to-start-a-local-glassfish-server)","body":"Hi, this topic was previously covered in this post : <a href=\"http://stackoverflow.com/questions/26931211/idea-failed-to-start-a-local-glassfish-server\">here</a>"}],"answers":[{"tags":[],"owner":{"account_id":73753,"reputation":4903,"user_id":212224,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453796102,"creation_date":1453796102,"answer_id":35009380,"question_id":35000975,"body_markdown":"There is a lock file on the server.log. GlassFish won&#39;t start if it can&#39;t write to that log. Try deleting the lock file: `C:\\Program Files\\glassfish4\\glassfish\\domains\\domain1\\logs\\server.log.lck`","title":"Can not start GlassFish in IntelijIdea","body":"<p>There is a lock file on the server.log. GlassFish won't start if it can't write to that log. Try deleting the lock file: <code>C:\\Program Files\\glassfish4\\glassfish\\domains\\domain1\\logs\\server.log.lck</code></p>\n"},{"tags":[],"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653510500,"creation_date":1653510500,"answer_id":72383805,"question_id":35000975,"body_markdown":"This is because of the path for your installed Glassfish server:\r\n\r\n&gt; C:\\Program Files\\glassfish4\r\n\r\nThis directory in Windows need **admin permission** in order to perform edit to **server.log**\r\n\r\n**Relocate Glassfish server directory** to get rid of the error, for example move it to:\r\n\r\n&gt; C:\\glassfish4\r\n\r\nAs a notice don&#39;t forget to edit configuration of Glassfish server inside IntelliJ IDEA.","title":"Can not start GlassFish in IntelijIdea","body":"<p>This is because of the path for your installed Glassfish server:</p>\n<blockquote>\n<p>C:\\Program Files\\glassfish4</p>\n</blockquote>\n<p>This directory in Windows need <strong>admin permission</strong> in order to perform edit to <strong>server.log</strong></p>\n<p><strong>Relocate Glassfish server directory</strong> to get rid of the error, for example move it to:</p>\n<blockquote>\n<p>C:\\glassfish4</p>\n</blockquote>\n<p>As a notice don't forget to edit configuration of Glassfish server inside IntelliJ IDEA.</p>\n"}],"owner":{"account_id":7527074,"reputation":11,"user_id":5716851,"display_name":"Volodymyr Krokhmaliuk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2300,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1653510500,"creation_date":1453751072,"question_id":35000975,"body_markdown":"    My Log Detected server admin port: 4848\r\n    Detected server http port: 8080\r\n    java.nio.file.AccessDeniedException: C:\\Program Files\\glassfish4\\glassfish\\domains\\domain1\\logs\\server.log.lck\r\n    Attempting to start domain1.... Please look at the server log for more details.....\r\n    \tat sun.nio.fs.WindowsException.translateToIOException(Unknown Source)\r\n    \tat sun.nio.fs.WindowsException.rethrowAsIOException(Unknown Source)\r\n    \tat sun.nio.fs.WindowsException.rethrowAsIOException(Unknown Source)\r\n    \tat sun.nio.fs.WindowsFileSystemProvider.newFileChannel(Unknown Source)\r\n    \tat java.nio.channels.FileChannel.open(Unknown Source)\r\n    \tat java.nio.channels.FileChannel.open(Unknown Source)\r\n    \tat java.util.logging.FileHandler.openFiles(Unknown Source)\r\n    \tat java.util.logging.FileHandler.&lt;init&gt;(Unknown Source)\r\n    \tat com.sun.enterprise.admin.launcher.GFLauncherLogger.addLogFileHandler(GFLauncherLogger.java:99)\r\n    \tat com.sun.enterprise.admin.launcher.GFLauncher.setup(GFLauncher.java:192)\r\n    \tat com.sun.enterprise.admin.servermgmt.cli.StartDomainCommand.createLauncher(StartDomainCommand.java:228)\r\n    \tat com.sun.enterprise.admin.servermgmt.cli.StartDomainCommand.executeCommand(StartDomainCommand.java:124)\r\n    \tat com.sun.enterprise.admin.cli.CLICommand.execute(CLICommand.java:322)\r\n    \tat com.sun.enterprise.admin.cli.AdminMain.executeCommand(AdminMain.java:366)\r\n    \tat com.sun.enterprise.admin.cli.AdminMain.doMain(AdminMain.java:300)\r\n    \tat org.glassfish.admin.cli.AsadminMain.main(AsadminMain.java:56)\r\n\r\n","title":"Can not start GlassFish in IntelijIdea","body":"<pre><code>My Log Detected server admin port: 4848\nDetected server http port: 8080\njava.nio.file.AccessDeniedException: C:\\Program Files\\glassfish4\\glassfish\\domains\\domain1\\logs\\server.log.lck\nAttempting to start domain1.... Please look at the server log for more details.....\n    at sun.nio.fs.WindowsException.translateToIOException(Unknown Source)\n    at sun.nio.fs.WindowsException.rethrowAsIOException(Unknown Source)\n    at sun.nio.fs.WindowsException.rethrowAsIOException(Unknown Source)\n    at sun.nio.fs.WindowsFileSystemProvider.newFileChannel(Unknown Source)\n    at java.nio.channels.FileChannel.open(Unknown Source)\n    at java.nio.channels.FileChannel.open(Unknown Source)\n    at java.util.logging.FileHandler.openFiles(Unknown Source)\n    at java.util.logging.FileHandler.&lt;init&gt;(Unknown Source)\n    at com.sun.enterprise.admin.launcher.GFLauncherLogger.addLogFileHandler(GFLauncherLogger.java:99)\n    at com.sun.enterprise.admin.launcher.GFLauncher.setup(GFLauncher.java:192)\n    at com.sun.enterprise.admin.servermgmt.cli.StartDomainCommand.createLauncher(StartDomainCommand.java:228)\n    at com.sun.enterprise.admin.servermgmt.cli.StartDomainCommand.executeCommand(StartDomainCommand.java:124)\n    at com.sun.enterprise.admin.cli.CLICommand.execute(CLICommand.java:322)\n    at com.sun.enterprise.admin.cli.AdminMain.executeCommand(AdminMain.java:366)\n    at com.sun.enterprise.admin.cli.AdminMain.doMain(AdminMain.java:300)\n    at org.glassfish.admin.cli.AsadminMain.main(AsadminMain.java:56)\n</code></pre>\n"},{"tags":["java","hibernate","jboss","hibernate-envers"],"answers":[{"tags":[],"owner":{"account_id":3782996,"reputation":81,"user_id":3141883,"display_name":"Tales Knechtel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441978420,"creation_date":1441978420,"answer_id":32524778,"question_id":31476538,"body_markdown":"In `persistence.xml` existing a property to specify a custom `AuditStrategey`: `org.hibernate.envers.audit_strategy`.\r\nChange,\r\nFrom:\r\n\r\n    &lt;property name=&quot;org.hibernate.envers.audit_strategy&quot; value=&quot;org.hibernate.envers.strategy.ValidityAuditStrategy&quot;/&gt;  \r\n\r\nTo:\r\n\r\n    &lt;property name=&quot;org.hibernate.envers.audit_strategy&quot; value=&quot;com.app.your.pack.YourCustomValidityAuditStrategy&quot;/&gt;\r\n\r\nSo now you can extend `ValidityAuditStrategy` and override `perform()` to not throw a `RuntimeException` when there is no previous revision for the entity, like this:\r\n\r\n    public class YourCustomValidityAuditStrategy extends ValidityAuditStrategy {\r\n    \r\n    \tprivate final Log logger = LogFactory.getLog(getClass());\r\n    \t\r\n    \t@Override\r\n    \tpublic void perform(Session session, String entityName, AuditConfiguration auditCfg, Serializable id, Object data, Object revision) {\r\n    \t\ttry {\r\n    \t\t\tsuper.perform(session, entityName, auditCfg, id, data, revision);\t\t\t\r\n    \t\t} catch (RuntimeException re) {\r\n    \t\t\tif (logger.isDebugEnabled()) {\r\n    \t\t\t\tlogger.debug(&quot;IGNORE RuntimeException: Cannot update previous revision for entity.&quot;, re);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n\r\n","title":"Envers throws RuntimeException in ValidityAuditStrategy when no audit records (table partitioning)","body":"<p>In <code>persistence.xml</code> existing a property to specify a custom <code>AuditStrategey</code>: <code>org.hibernate.envers.audit_strategy</code>.\nChange,\nFrom:</p>\n\n<pre><code>&lt;property name=\"org.hibernate.envers.audit_strategy\" value=\"org.hibernate.envers.strategy.ValidityAuditStrategy\"/&gt;  \n</code></pre>\n\n<p>To:</p>\n\n<pre><code>&lt;property name=\"org.hibernate.envers.audit_strategy\" value=\"com.app.your.pack.YourCustomValidityAuditStrategy\"/&gt;\n</code></pre>\n\n<p>So now you can extend <code>ValidityAuditStrategy</code> and override <code>perform()</code> to not throw a <code>RuntimeException</code> when there is no previous revision for the entity, like this:</p>\n\n<pre><code>public class YourCustomValidityAuditStrategy extends ValidityAuditStrategy {\n\n    private final Log logger = LogFactory.getLog(getClass());\n\n    @Override\n    public void perform(Session session, String entityName, AuditConfiguration auditCfg, Serializable id, Object data, Object revision) {\n        try {\n            super.perform(session, entityName, auditCfg, id, data, revision);           \n        } catch (RuntimeException re) {\n            if (logger.isDebugEnabled()) {\n                logger.debug(\"IGNORE RuntimeException: Cannot update previous revision for entity.\", re);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6892763,"reputation":24,"user_id":5295641,"display_name":"NzoP"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1442330867,"creation_date":1442330867,"answer_id":32589954,"question_id":31476538,"body_markdown":"Overriding just the perform method and catching the RuntimeException won&#39;t help you as the code throwing the RuntimeException is enclosed in an anonymous class of type BeforeTransactionCompletionProcess and is executed later.\r\n\r\nThe ValidityAuditStrategy is not very flexible so the only solution i see is ugly but should work : you must copy the entire ValidityAuditStrategy code in a custom class and catch the RuntimeException in the BeforeTransactionCompletionProcess anonymous class. Then specify your custom class in the persistence.xml :  \r\n\r\n    &lt;property name=&quot;org.hibernate.envers.audit_strategy &quot;value=&quot;com.app.xxx.CustomValidityAuditStrategy&quot;/&gt;\r\n\r\nThe perform() method should look like the following : \r\n\r\n    @Override\r\n\tpublic void perform(\r\n\t\t\tfinal Session session,\r\n\t\t\tfinal String entityName,\r\n\t\t\tfinal EnversService enversService,\r\n\t\t\tfinal Serializable id,\r\n\t\t\tfinal Object data,\r\n\t\t\tfinal Object revision) {\r\n\t\tfinal AuditEntitiesConfiguration audEntitiesCfg = enversService.getAuditEntitiesConfiguration();\r\n\t\tfinal String auditedEntityName = audEntitiesCfg.getAuditEntityName( entityName );\r\n\t\tfinal String revisionInfoEntityName = enversService.getAuditEntitiesConfiguration().getRevisionInfoEntityName();\r\n\r\n\t\t// Save the audit data\r\n\t\tsession.save( auditedEntityName, data );\r\n\r\n\t\t// Update the end date of the previous row.\r\n\t\t//\r\n\t\t// When application reuses identifiers of previously removed entities:\r\n\t\t// The UPDATE statement will no-op if an entity with a given identifier has been\r\n\t\t// inserted for the first time. But in case a deleted primary key value was\r\n\t\t// reused, this guarantees correct strategy behavior: exactly one row with\r\n\t\t// null end date exists for each identifier.\r\n\t\tfinal boolean reuseEntityIdentifier = enversService.getGlobalConfiguration().isAllowIdentifierReuse();\r\n\t\tif ( reuseEntityIdentifier || getRevisionType( enversService, data ) != RevisionType.ADD ) {\r\n\t\t\t// Register transaction completion process to guarantee execution of UPDATE statement after INSERT.\r\n\t\t\t( (EventSource) session ).getActionQueue().registerProcess( new BeforeTransactionCompletionProcess() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void doBeforeTransactionCompletion(final SessionImplementor sessionImplementor) {\r\n\t\t\t\t\tfinal Queryable productionEntityQueryable = getQueryable( entityName, sessionImplementor );\r\n\t\t\t\t\tfinal Queryable rootProductionEntityQueryable = getQueryable(\r\n\t\t\t\t\t\t\tproductionEntityQueryable.getRootEntityName(), sessionImplementor\r\n\t\t\t\t\t);\r\n\t\t\t\t\tfinal Queryable auditedEntityQueryable = getQueryable( auditedEntityName, sessionImplementor );\r\n\t\t\t\t\tfinal Queryable rootAuditedEntityQueryable = getQueryable(\r\n\t\t\t\t\t\t\tauditedEntityQueryable.getRootEntityName(), sessionImplementor\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tfinal String updateTableName;\r\n\t\t\t\t\t\r\n\t\t\t\t\t/*commented code*/\r\n\t\t\t\t\t...\r\n\r\n\t\t\t\t\t/*comment the following piece of code*/\r\n\t\t\t\t\t/*if ( rowCount != 1 &amp;&amp; ( !reuseEntityIdentifier || ( getRevisionType( enversService, data ) != RevisionType.ADD ) ) ) {\r\n\t\t\t\t\t\tthrow new RuntimeException(\r\n\t\t\t\t\t\t\t\t&quot;Cannot update previous revision for entity &quot; + auditedEntityName + &quot; and id &quot; + id\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}*/\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tsessionCacheCleaner.scheduleAuditDataRemoval( session, data );\r\n\t}\r\nAs i said its ugly...","title":"Envers throws RuntimeException in ValidityAuditStrategy when no audit records (table partitioning)","body":"<p>Overriding just the perform method and catching the RuntimeException won't help you as the code throwing the RuntimeException is enclosed in an anonymous class of type BeforeTransactionCompletionProcess and is executed later.</p>\n\n<p>The ValidityAuditStrategy is not very flexible so the only solution i see is ugly but should work : you must copy the entire ValidityAuditStrategy code in a custom class and catch the RuntimeException in the BeforeTransactionCompletionProcess anonymous class. Then specify your custom class in the persistence.xml :  </p>\n\n<pre><code>&lt;property name=\"org.hibernate.envers.audit_strategy \"value=\"com.app.xxx.CustomValidityAuditStrategy\"/&gt;\n</code></pre>\n\n<p>The perform() method should look like the following : </p>\n\n<pre><code>@Override\npublic void perform(\n        final Session session,\n        final String entityName,\n        final EnversService enversService,\n        final Serializable id,\n        final Object data,\n        final Object revision) {\n    final AuditEntitiesConfiguration audEntitiesCfg = enversService.getAuditEntitiesConfiguration();\n    final String auditedEntityName = audEntitiesCfg.getAuditEntityName( entityName );\n    final String revisionInfoEntityName = enversService.getAuditEntitiesConfiguration().getRevisionInfoEntityName();\n\n    // Save the audit data\n    session.save( auditedEntityName, data );\n\n    // Update the end date of the previous row.\n    //\n    // When application reuses identifiers of previously removed entities:\n    // The UPDATE statement will no-op if an entity with a given identifier has been\n    // inserted for the first time. But in case a deleted primary key value was\n    // reused, this guarantees correct strategy behavior: exactly one row with\n    // null end date exists for each identifier.\n    final boolean reuseEntityIdentifier = enversService.getGlobalConfiguration().isAllowIdentifierReuse();\n    if ( reuseEntityIdentifier || getRevisionType( enversService, data ) != RevisionType.ADD ) {\n        // Register transaction completion process to guarantee execution of UPDATE statement after INSERT.\n        ( (EventSource) session ).getActionQueue().registerProcess( new BeforeTransactionCompletionProcess() {\n            @Override\n            public void doBeforeTransactionCompletion(final SessionImplementor sessionImplementor) {\n                final Queryable productionEntityQueryable = getQueryable( entityName, sessionImplementor );\n                final Queryable rootProductionEntityQueryable = getQueryable(\n                        productionEntityQueryable.getRootEntityName(), sessionImplementor\n                );\n                final Queryable auditedEntityQueryable = getQueryable( auditedEntityName, sessionImplementor );\n                final Queryable rootAuditedEntityQueryable = getQueryable(\n                        auditedEntityQueryable.getRootEntityName(), sessionImplementor\n                );\n\n                final String updateTableName;\n\n                /*commented code*/\n                ...\n\n                /*comment the following piece of code*/\n                /*if ( rowCount != 1 &amp;&amp; ( !reuseEntityIdentifier || ( getRevisionType( enversService, data ) != RevisionType.ADD ) ) ) {\n                    throw new RuntimeException(\n                            \"Cannot update previous revision for entity \" + auditedEntityName + \" and id \" + id\n                    );\n                }*/\n            }\n        });\n    }\n    sessionCacheCleaner.scheduleAuditDataRemoval( session, data );\n}\n</code></pre>\n\n<p>As i said its ugly...</p>\n"},{"tags":[],"owner":{"account_id":17172877,"reputation":11,"user_id":12429644,"display_name":"Michael Igler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604407076,"creation_date":1604407076,"answer_id":64663013,"question_id":31476538,"body_markdown":"Setting org.hibernate.envers.allow_identifier_reuse: true helped in my scenario.","title":"Envers throws RuntimeException in ValidityAuditStrategy when no audit records (table partitioning)","body":"<p>Setting org.hibernate.envers.allow_identifier_reuse: true helped in my scenario.</p>\n"},{"tags":[],"owner":{"account_id":2965471,"reputation":923,"user_id":2518705,"display_name":"RAM237"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653510198,"creation_date":1653510198,"answer_id":72383759,"question_id":31476538,"body_markdown":"Not exactly answers the original question, but on the outside looks the same: `Cannot update previous revision for entity my.package.MyEntity_AUD and id caa4ce8e`.\r\n\r\nI am using hibernate-envers-5.4.1 and for whatever reason (probably some buggy import in the past) suddenly faced the same error.\r\n\r\nDirect query to the database `select * from myentity_aud where id=&#39;caa4ce8e&#39;` resulted in:\r\n\r\n    rev     revend  revtype id       ...\r\n    2121736\tNULL    0\t    caa4ce8e ...\r\n    2121737\tNULL    1\t    caa4ce8e ...\r\n    2121738\tNULL    1\t    caa4ce8e ...\r\n-- as seen, `revend` is `NULL` for all records.  \r\nThe issue is: envers expects only one (the latest) to be `NULL`, all the rest must have the &quot;overriding&quot; `rev` to be set as `revend`.\r\n\r\nSo, to fix this particular case, it was enough to update to:\r\n\r\n    rev     revend  revtype id       ...\r\n    2121736\t2121737\t0\t    caa4ce8e ...\r\n    2121737\t2121738\t1\t    caa4ce8e ...\r\n    2121738\tNULL    1\t    caa4ce8e ...\r\nand after that everything worked like a charm.\r\n\r\nHowever, if you have millions of such records, you may want to write some script which will take care of them automatically.","title":"Envers throws RuntimeException in ValidityAuditStrategy when no audit records (table partitioning)","body":"<p>Not exactly answers the original question, but on the outside looks the same: <code>Cannot update previous revision for entity my.package.MyEntity_AUD and id caa4ce8e</code>.</p>\n<p>I am using hibernate-envers-5.4.1 and for whatever reason (probably some buggy import in the past) suddenly faced the same error.</p>\n<p>Direct query to the database <code>select * from myentity_aud where id='caa4ce8e'</code> resulted in:</p>\n<pre><code>rev     revend  revtype id       ...\n2121736 NULL    0       caa4ce8e ...\n2121737 NULL    1       caa4ce8e ...\n2121738 NULL    1       caa4ce8e ...\n</code></pre>\n<p>-- as seen, <code>revend</code> is <code>NULL</code> for all records.<br />\nThe issue is: envers expects only one (the latest) to be <code>NULL</code>, all the rest must have the &quot;overriding&quot; <code>rev</code> to be set as <code>revend</code>.</p>\n<p>So, to fix this particular case, it was enough to update to:</p>\n<pre><code>rev     revend  revtype id       ...\n2121736 2121737 0       caa4ce8e ...\n2121737 2121738 1       caa4ce8e ...\n2121738 NULL    1       caa4ce8e ...\n</code></pre>\n<p>and after that everything worked like a charm.</p>\n<p>However, if you have millions of such records, you may want to write some script which will take care of them automatically.</p>\n"}],"owner":{"account_id":3782996,"reputation":81,"user_id":3141883,"display_name":"Tales Knechtel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4664,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1653510198,"creation_date":1437138349,"question_id":31476538,"body_markdown":"In envers (`persistence.xml`), I enabled the strategy for table partitioning, according to the development guide: [http://docs.jboss.org/hibernate/orm/4.2/devguide/en-US/html/ch15.html#envers-partitioning][1]\r\n\r\nThe class: **`ValidityAuditStrategy`**, throws `RuntimeException` when there is no audit record. This exception occurs when the Envers try to update an audit record with a date of final revision (revend_tstmp), but this audit record does not exist.\r\n\r\nThe database of my application receives data load from external applications and is not possible change these external applications to include their audit records.\r\n\r\nI have no chance to handle this exception (I don&#39;t know how).\r\n\r\nIn method `ValidityAuditStrategy#updateLastRevision`:\r\n\r\n    if (l.size() == 1) {\r\n      //... doStuff - OK\r\n    } else {\r\n      throw new RuntimeException(&quot;Cannot find previous revision for entity &quot; + auditedEntityName + &quot; and id &quot; + id);\r\n    }\r\n\r\nIn method `ValidityAuditStrategy#perform`:\r\n\r\n    if ( rowCount != 1 ) \r\n      throw new RuntimeException(&quot;Cannot update previous revision for entity &quot; + auditedEntityName + &quot; and id &quot; + id);\r\n\r\n\r\nA similar issue occurred in this link: [https://developer.jboss.org/thread/160195?tstart=0][2] but had no solution.\r\n\r\nIt&#39;s possible apply a workaround?\r\n\r\nI use **`hibernate-envers-4.1.3-Final`** version.\r\n\r\nLog:\r\n\r\n    2015-07-17 10:23:28,653 DEBUG [-] [org.hibernate.SQL] (http-/0.0.0.0:8080-5) update MY_ENTITY_AUD set ID_REV_FINAL=?, DATE_HOUR_REV_FINAL=? where ID_ENTITY=? and ID_REV &lt;&gt; ? and ID_REV_FINAL is null\r\n    2015-07-17 10:23:28,677 TRACE [-] [org.hibernate.type.descriptor.sql.BasicBinder] (http-/0.0.0.0:8080-5) binding parameter [1] as [INTEGER] - 422\r\n    2015-07-17 10:23:28,677 TRACE [-] [org.hibernate.type.descriptor.sql.BasicBinder] (http-/0.0.0.0:8080-5) binding parameter [2] as [TIMESTAMP] - Thu Jul 17 10:23:28 BRT 2015\r\n    2015-07-17 10:23:28,677 TRACE [-] [org.hibernate.type.descriptor.sql.BasicBinder] (http-/0.0.0.0:8080-5) binding parameter [3] as [INTEGER] - 12345\r\n    2015-07-17 10:23:28,678 TRACE [-] [org.hibernate.type.descriptor.sql.BasicBinder] (http-/0.0.0.0:8080-5) binding parameter [4] as [INTEGER] - 422\r\n    2015-07-17 10:23:28,803 ERROR [-] [org.hibernate.AssertionFailure] (http-/0.0.0.0:8080-5) HHH000099: an assertion failure occured (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): java.lang.RuntimeException: Cannot update previous revision for entity my.package.MyEntity_AUD and id 12345\r\n    2015-07-17 10:23:28,841 WARN  [-] [com.arjuna.ats.arjuna] (http-/0.0.0.0:8080-5) ARJUNA012125: TwoPhaseCoordinator.beforeCompletion - failed for SynchronizationImple&lt; 0:ffffac1c045d:-3a5600e4:55a7c120:131, org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@5619c5a3 &gt;: org.hibernate.AssertionFailure: Unable to perform beforeTransactionCompletion callback\r\n    \tat org.hibernate.engine.spi.ActionQueue$BeforeTransactionCompletionProcessQueue.beforeTransactionCompletion(ActionQueue.java:754) [hibernate-core-4.1.3-Final.jar:4.1.3-Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.beforeTransactionCompletion(ActionQueue.java:338) [hibernate-core-4.1.3-Final.jar:4.1.3-Final]\r\n    \tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:490) [hibernate-core-4.1.3-Final.jar:4.1.3-Final]\r\n    \tat org.hibernate.engine.transaction.synchronization.internal.SynchronizationCallbackCoordinatorNonTrackingImpl.beforeCompletion(SynchronizationCallbackCoordinatorNonTrackingImpl.java:114) [hibernate-core-4.1.3-Final.jar:4.1.3-Final]\r\n    \tat org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization.beforeCompletion(RegisteredSynchronization.java:53) [hibernate-core-4.1.3-Final.jar:4.1.3-Final]\r\n    \tat com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.beforeCompletion(SynchronizationImple.java:76)\r\n    \tat com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.beforeCompletion(TwoPhaseCoordinator.java:273)\r\n    \tat com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:93)\r\n    \tat com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:162)\r\n    \tat com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1189)\r\n    \tat com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:126)\r\n    \tat com.arjuna.ats.jbossatx.BaseTransactionManagerDelegate.commit(BaseTransactionManagerDelegate.java:75)\r\n    \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction(CMTTxInterceptor.java:92) [jboss-as-ejb3-7.4.0.Final-redhat-19.jar:7.4.0.Final-redhat-19]\r\n    \t...\r\n    Caused by: java.lang.RuntimeException: Cannot update previous revision for entity entity my.package.MyEntity_AUD and id 12345\r\n    \tat org.hibernate.envers.strategy.ValidityAuditStrategy.perform(ValidityAuditStrategy.java:210) [hibernate-core-4.1.3-Final.jar:4.1.3-Final]\r\n    \tat org.hibernate.envers.synchronization.work.AbstractAuditWorkUnit.perform(AbstractAuditWorkUnit.java:76) [hibernate-core-4.1.3-Final.jar:4.1.3-Final]\r\n    \tat org.hibernate.envers.synchronization.AuditProcess.executeInSession(AuditProcess.java:116) [hibernate-core-4.1.3-Final.jar:4.1.3-Final]\r\n    \tat org.hibernate.envers.synchronization.AuditProcess.doBeforeTransactionCompletion(AuditProcess.java:155) [hibernate-core-4.1.3-Final.jar:4.1.3-Final]\r\n    \tat org.hibernate.envers.synchronization.AuditProcessManager$1.doBeforeTransactionCompletion(AuditProcessManager.java:62) [hibernate-core-4.1.3-Final.jar:4.1.3-Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue$BeforeTransactionCompletionProcessQueue.beforeTransactionCompletion(ActionQueue.java:748) [hibernate-core-4.1.3-Final.jar:4.1.3-Final]\r\n    \t... 90 more\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/4.2/devguide/en-US/html/ch15.html#envers-partitioning\r\n  [2]: https://developer.jboss.org/thread/160195?tstart=0","title":"Envers throws RuntimeException in ValidityAuditStrategy when no audit records (table partitioning)","body":"<p>In envers (<code>persistence.xml</code>), I enabled the strategy for table partitioning, according to the development guide: <a href=\"http://docs.jboss.org/hibernate/orm/4.2/devguide/en-US/html/ch15.html#envers-partitioning\" rel=\"nofollow\">http://docs.jboss.org/hibernate/orm/4.2/devguide/en-US/html/ch15.html#envers-partitioning</a></p>\n\n<p>The class: <strong><code>ValidityAuditStrategy</code></strong>, throws <code>RuntimeException</code> when there is no audit record. This exception occurs when the Envers try to update an audit record with a date of final revision (revend_tstmp), but this audit record does not exist.</p>\n\n<p>The database of my application receives data load from external applications and is not possible change these external applications to include their audit records.</p>\n\n<p>I have no chance to handle this exception (I don't know how).</p>\n\n<p>In method <code>ValidityAuditStrategy#updateLastRevision</code>:</p>\n\n<pre><code>if (l.size() == 1) {\n  //... doStuff - OK\n} else {\n  throw new RuntimeException(\"Cannot find previous revision for entity \" + auditedEntityName + \" and id \" + id);\n}\n</code></pre>\n\n<p>In method <code>ValidityAuditStrategy#perform</code>:</p>\n\n<pre><code>if ( rowCount != 1 ) \n  throw new RuntimeException(\"Cannot update previous revision for entity \" + auditedEntityName + \" and id \" + id);\n</code></pre>\n\n<p>A similar issue occurred in this link: <a href=\"https://developer.jboss.org/thread/160195?tstart=0\" rel=\"nofollow\">https://developer.jboss.org/thread/160195?tstart=0</a> but had no solution.</p>\n\n<p>It's possible apply a workaround?</p>\n\n<p>I use <strong><code>hibernate-envers-4.1.3-Final</code></strong> version.</p>\n\n<p>Log:</p>\n\n<pre><code>2015-07-17 10:23:28,653 DEBUG [-] [org.hibernate.SQL] (http-/0.0.0.0:8080-5) update MY_ENTITY_AUD set ID_REV_FINAL=?, DATE_HOUR_REV_FINAL=? where ID_ENTITY=? and ID_REV &lt;&gt; ? and ID_REV_FINAL is null\n2015-07-17 10:23:28,677 TRACE [-] [org.hibernate.type.descriptor.sql.BasicBinder] (http-/0.0.0.0:8080-5) binding parameter [1] as [INTEGER] - 422\n2015-07-17 10:23:28,677 TRACE [-] [org.hibernate.type.descriptor.sql.BasicBinder] (http-/0.0.0.0:8080-5) binding parameter [2] as [TIMESTAMP] - Thu Jul 17 10:23:28 BRT 2015\n2015-07-17 10:23:28,677 TRACE [-] [org.hibernate.type.descriptor.sql.BasicBinder] (http-/0.0.0.0:8080-5) binding parameter [3] as [INTEGER] - 12345\n2015-07-17 10:23:28,678 TRACE [-] [org.hibernate.type.descriptor.sql.BasicBinder] (http-/0.0.0.0:8080-5) binding parameter [4] as [INTEGER] - 422\n2015-07-17 10:23:28,803 ERROR [-] [org.hibernate.AssertionFailure] (http-/0.0.0.0:8080-5) HHH000099: an assertion failure occured (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): java.lang.RuntimeException: Cannot update previous revision for entity my.package.MyEntity_AUD and id 12345\n2015-07-17 10:23:28,841 WARN  [-] [com.arjuna.ats.arjuna] (http-/0.0.0.0:8080-5) ARJUNA012125: TwoPhaseCoordinator.beforeCompletion - failed for SynchronizationImple&lt; 0:ffffac1c045d:-3a5600e4:55a7c120:131, org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@5619c5a3 &gt;: org.hibernate.AssertionFailure: Unable to perform beforeTransactionCompletion callback\n    at org.hibernate.engine.spi.ActionQueue$BeforeTransactionCompletionProcessQueue.beforeTransactionCompletion(ActionQueue.java:754) [hibernate-core-4.1.3-Final.jar:4.1.3-Final]\n    at org.hibernate.engine.spi.ActionQueue.beforeTransactionCompletion(ActionQueue.java:338) [hibernate-core-4.1.3-Final.jar:4.1.3-Final]\n    at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:490) [hibernate-core-4.1.3-Final.jar:4.1.3-Final]\n    at org.hibernate.engine.transaction.synchronization.internal.SynchronizationCallbackCoordinatorNonTrackingImpl.beforeCompletion(SynchronizationCallbackCoordinatorNonTrackingImpl.java:114) [hibernate-core-4.1.3-Final.jar:4.1.3-Final]\n    at org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization.beforeCompletion(RegisteredSynchronization.java:53) [hibernate-core-4.1.3-Final.jar:4.1.3-Final]\n    at com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.beforeCompletion(SynchronizationImple.java:76)\n    at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.beforeCompletion(TwoPhaseCoordinator.java:273)\n    at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:93)\n    at com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:162)\n    at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1189)\n    at com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:126)\n    at com.arjuna.ats.jbossatx.BaseTransactionManagerDelegate.commit(BaseTransactionManagerDelegate.java:75)\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction(CMTTxInterceptor.java:92) [jboss-as-ejb3-7.4.0.Final-redhat-19.jar:7.4.0.Final-redhat-19]\n    ...\nCaused by: java.lang.RuntimeException: Cannot update previous revision for entity entity my.package.MyEntity_AUD and id 12345\n    at org.hibernate.envers.strategy.ValidityAuditStrategy.perform(ValidityAuditStrategy.java:210) [hibernate-core-4.1.3-Final.jar:4.1.3-Final]\n    at org.hibernate.envers.synchronization.work.AbstractAuditWorkUnit.perform(AbstractAuditWorkUnit.java:76) [hibernate-core-4.1.3-Final.jar:4.1.3-Final]\n    at org.hibernate.envers.synchronization.AuditProcess.executeInSession(AuditProcess.java:116) [hibernate-core-4.1.3-Final.jar:4.1.3-Final]\n    at org.hibernate.envers.synchronization.AuditProcess.doBeforeTransactionCompletion(AuditProcess.java:155) [hibernate-core-4.1.3-Final.jar:4.1.3-Final]\n    at org.hibernate.envers.synchronization.AuditProcessManager$1.doBeforeTransactionCompletion(AuditProcessManager.java:62) [hibernate-core-4.1.3-Final.jar:4.1.3-Final]\n    at org.hibernate.engine.spi.ActionQueue$BeforeTransactionCompletionProcessQueue.beforeTransactionCompletion(ActionQueue.java:748) [hibernate-core-4.1.3-Final.jar:4.1.3-Final]\n    ... 90 more\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":75292,"reputation":60810,"user_id":216021,"accept_rate":82,"display_name":"kostja"},"score":1,"creation_date":1383573415,"post_id":19769030,"comment_id":29381185,"body_markdown":"adding items will not remove already present items. and what do you do on the inverse side of the relation (the items)? operating just on one side of the relation will not remove the whole relation.","body":"adding items will not remove already present items. and what do you do on the inverse side of the relation (the items)? operating just on one side of the relation will not remove the whole relation."},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1383574104,"post_id":19769030,"comment_id":29381624,"body_markdown":"The above code reads like this in fact: add item1. Add item2. Add item3. Add item2... oh, that one already exists, I don&#39;t have to add it again (Set does not allow duplicates). If you want to remove something, use one of the actual removal methods (such as remove()) of the Set interface.","body":"The above code reads like this in fact: add item1. Add item2. Add item3. Add item2... oh, that one already exists, I don&#39;t have to add it again (Set does not allow duplicates). If you want to remove something, use one of the actual removal methods (such as remove()) of the Set interface."},{"owner":{"account_id":3300032,"reputation":1035,"user_id":2776409,"accept_rate":40,"display_name":"Shelly"},"score":0,"creation_date":1383574973,"post_id":19769030,"comment_id":29382141,"body_markdown":"i think that cascade delete-orphan can do it for me.","body":"i think that cascade delete-orphan can do it for me."},{"owner":{"account_id":3300032,"reputation":1035,"user_id":2776409,"accept_rate":40,"display_name":"Shelly"},"score":0,"creation_date":1383575097,"post_id":19769030,"comment_id":29382221,"body_markdown":"@Gimby, as i said i removed the &quot;item1&quot; from Set interface and tried save without this &quot;item1&quot;, but Hibernate don&#39;t remove the &quot;item1&quot; from database.","body":"@Gimby, as i said i removed the &quot;item1&quot; from Set interface and tried save without this &quot;item1&quot;, but Hibernate don&#39;t remove the &quot;item1&quot; from database."}],"answers":[{"tags":[],"owner":{"account_id":6084504,"reputation":2356,"user_id":4749074,"display_name":"Rib47"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653510095,"creation_date":1653510095,"answer_id":72383741,"question_id":19769030,"body_markdown":"First you need to manually remove unwanted items from your collection, then add new items:    \r\n\r\n    consulta.remove(item1);   \r\n    consulta.addItem(item3);    \r\n\r\n ","title":"Delete-Orphan in ManyToMany Relation - JPA","body":"<p>First you need to manually remove unwanted items from your collection, then add new items:</p>\n<pre><code>consulta.remove(item1);   \nconsulta.addItem(item3);    \n</code></pre>\n"}],"owner":{"account_id":3300032,"reputation":1035,"user_id":2776409,"accept_rate":40,"display_name":"Shelly"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":733,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653510095,"creation_date":1383572745,"question_id":19769030,"body_markdown":"Well, I have a table called &#39;Orcamento&#39; that have a lot of &#39;ItemOrcamento&#39;. I have another table called &#39;Consulta&#39; that can have a lot of &#39;ItemOrcamento&#39; too.  \r\n\r\n  The table &#39;Consulta&#39; can have a lot of &#39;ItemOrcamento&#39; and one &#39;ItemOrcamento&#39; can be within many &#39;Consulta&#39;.  \r\n\r\n  After understand the scenario, i will explain my problem: In JPA i did the relation bellow: \r\n\r\n     @ManyToMany(fetch = javax.persistence.FetchType.LAZY)   \r\n        @JoinTable(name = &quot;item_consulta&quot;, joinColumns = { @JoinColumn(name = &quot;id_consulta&quot;) }, inverseJoinColumns = { @JoinColumn(name = &quot;id_item_orcamento&quot;) })   \r\n        private Set&lt;ItemOrcamento&gt; itens;   \r\n\r\nWhen i create a new &quot;Consulta&quot; with a lot of &quot;ItemOrcamento&quot;, the rows are inserted normally in table &quot;item_consulta&quot;. Imagine something like that:  \r\n\r\n\r\n     consulta.addItem(item1);\r\n     consulta.addItem(item2);\r\n\r\nBut now i wanna replace the item1 to item3, so i do it: \r\n  \r\n\r\n     consulta.addItem(item3);\r\n     consulta.addItem(item2);\r\n\r\nIn my mind, Hibernate (JPA) must remove the orphan &quot;item1&quot; and add &quot;item3&quot;, but it just add &quot;item3&quot; and the &quot;item1&quot; continue in database.\r\n\r\nHow can i solve it ?\r\n\r\n**EDIT 1**\r\n\r\nMy relation is UNI-DIRECTIONAL, in &quot;ItemOrcamento&quot; i don&#39;t wanna a Set&lt;Consulta&gt;, because i don&#39;t need, so in ItemOrcamento i don&#39;t have any @ManyToMany anotation referencing the joinTable &quot;item_consulta&quot;","title":"Delete-Orphan in ManyToMany Relation - JPA","body":"<p>Well, I have a table called 'Orcamento' that have a lot of 'ItemOrcamento'. I have another table called 'Consulta' that can have a lot of 'ItemOrcamento' too.  </p>\n\n<p>The table 'Consulta' can have a lot of 'ItemOrcamento' and one 'ItemOrcamento' can be within many 'Consulta'.  </p>\n\n<p>After understand the scenario, i will explain my problem: In JPA i did the relation bellow: </p>\n\n<pre><code> @ManyToMany(fetch = javax.persistence.FetchType.LAZY)   \n    @JoinTable(name = \"item_consulta\", joinColumns = { @JoinColumn(name = \"id_consulta\") }, inverseJoinColumns = { @JoinColumn(name = \"id_item_orcamento\") })   \n    private Set&lt;ItemOrcamento&gt; itens;   \n</code></pre>\n\n<p>When i create a new \"Consulta\" with a lot of \"ItemOrcamento\", the rows are inserted normally in table \"item_consulta\". Imagine something like that:  </p>\n\n<pre><code> consulta.addItem(item1);\n consulta.addItem(item2);\n</code></pre>\n\n<p>But now i wanna replace the item1 to item3, so i do it: </p>\n\n<pre><code> consulta.addItem(item3);\n consulta.addItem(item2);\n</code></pre>\n\n<p>In my mind, Hibernate (JPA) must remove the orphan \"item1\" and add \"item3\", but it just add \"item3\" and the \"item1\" continue in database.</p>\n\n<p>How can i solve it ?</p>\n\n<p><strong>EDIT 1</strong></p>\n\n<p>My relation is UNI-DIRECTIONAL, in \"ItemOrcamento\" i don't wanna a Set, because i don't need, so in ItemOrcamento i don't have any @ManyToMany anotation referencing the joinTable \"item_consulta\"</p>\n"},{"tags":["java","pointers","linked-list"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1653509807,"creation_date":1653509807,"answer_id":72383697,"question_id":72383520,"body_markdown":"&gt; why I don&#39;t compare the values of the pointers, and what is the difference of pointer1==pointer2 and comparing their values\r\n\r\nImagine a case where all the nodes have the same values:\r\n\r\n     headA -&gt; [1] -&gt; [1] -&gt; [1] -&gt; [1] -&gt; [1] -&gt; null\r\n                                 /\r\n                                /\r\n            headB -&gt; [1] -&gt; [1] \r\n\r\nIf you would compare *values*, you&#39;d find an equality the very first time -- when comparing the nodes that `headA` and `headB` point to. Although these have the same value, they are not the same nodes.\r\n\r\nThe goal of the algorithm is to find the first node that is shared by both lists (not just a shared value, but the node itself). So when we traverse with two pointers along the two lists we hope to find a state where both pointers reference the *same* node. This is equivalent to saying that these pointers have the same value.\r\n","title":"Intersection of two linkedlists","body":"<blockquote>\n<p>why I don't compare the values of the pointers, and what is the difference of pointer1==pointer2 and comparing their values</p>\n</blockquote>\n<p>Imagine a case where all the nodes have the same values:</p>\n<pre><code> headA -&gt; [1] -&gt; [1] -&gt; [1] -&gt; [1] -&gt; [1] -&gt; null\n                             /\n                            /\n        headB -&gt; [1] -&gt; [1] \n</code></pre>\n<p>If you would compare <em>values</em>, you'd find an equality the very first time -- when comparing the nodes that <code>headA</code> and <code>headB</code> point to. Although these have the same value, they are not the same nodes.</p>\n<p>The goal of the algorithm is to find the first node that is shared by both lists (not just a shared value, but the node itself). So when we traverse with two pointers along the two lists we hope to find a state where both pointers reference the <em>same</em> node. This is equivalent to saying that these pointers have the same value.</p>\n"}],"owner":{"account_id":23823939,"reputation":1,"user_id":17831270,"display_name":"nadil iyad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72383697,"answer_count":1,"score":-1,"last_activity_date":1653509807,"creation_date":1653508740,"question_id":72383520,"body_markdown":"I have written this code to return the intersection of two linked-lists. Still, at first I was comparing `if(pointer1.val == pointer2.val)` and got an error, then I figured out that it should be `if(pointer1==pointer2)`, I&#39;m still a beginner and I can&#39;t recognize why I don&#39;t compare the values of the pointers, and what is the difference of `pointer1==pointer2` and comparing their values...\r\n\r\n \r\n\r\n    public class Solution {\r\n        public ListNode getIntersectionNode(ListNode headA, ListNode headB) {\r\n            \r\n           if(headA==null || headB==null){\r\n               return null;\r\n           }\r\n            ListNode pointer1=headA;\r\n            ListNode pointer2=headB;\r\n            \r\n            while(pointer1 !=pointer2){\r\n                pointer1=pointer1.next;\r\n                pointer2=pointer2.next;\r\n                \r\n                if(pointer1==pointer2)\r\n                    return pointer1;\r\n                if(pointer1==null){\r\n                    pointer1=headB;\r\n                }\r\n                if(pointer2==null){\r\n                    pointer2=headA;\r\n                }\r\n            }\r\n            return pointer1;\r\n        }\r\n    }","title":"Intersection of two linkedlists","body":"<p>I have written this code to return the intersection of two linked-lists. Still, at first I was comparing <code>if(pointer1.val == pointer2.val)</code> and got an error, then I figured out that it should be <code>if(pointer1==pointer2)</code>, I'm still a beginner and I can't recognize why I don't compare the values of the pointers, and what is the difference of <code>pointer1==pointer2</code> and comparing their values...</p>\n<pre><code>public class Solution {\n    public ListNode getIntersectionNode(ListNode headA, ListNode headB) {\n        \n       if(headA==null || headB==null){\n           return null;\n       }\n        ListNode pointer1=headA;\n        ListNode pointer2=headB;\n        \n        while(pointer1 !=pointer2){\n            pointer1=pointer1.next;\n            pointer2=pointer2.next;\n            \n            if(pointer1==pointer2)\n                return pointer1;\n            if(pointer1==null){\n                pointer1=headB;\n            }\n            if(pointer2==null){\n                pointer2=headA;\n            }\n        }\n        return pointer1;\n    }\n}\n</code></pre>\n"},{"tags":["java","security","veracode"],"answers":[{"tags":[],"owner":{"account_id":1622859,"reputation":2292,"user_id":1499066,"display_name":"John Smith"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1361355265,"creation_date":1361355265,"answer_id":14977273,"question_id":14977207,"body_markdown":"Simply use a regular expression to validate the userName according to the rules your usernames follow:\r\n\r\n    if(userName.matches(&quot;[0-9a-zA-Z_]+&quot;)\r\n         session.setAttribute(Constant.USERNAME, userName);","title":"How to fix Trust Boundary Violation flaw in Java Web application","body":"<p>Simply use a regular expression to validate the userName according to the rules your usernames follow:</p>\n\n<pre><code>if(userName.matches(\"[0-9a-zA-Z_]+\")\n     session.setAttribute(Constant.USERNAME, userName);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9338533,"reputation":41,"user_id":6932046,"display_name":"TonyK"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1506441306,"creation_date":1506441306,"answer_id":46430967,"question_id":14977207,"body_markdown":"VeraCode will require you to file a mitigation with them. They will schedule a consultation with you and there you can show them the code fix(s) implemented and they will then mark the mitigation approved. \r\n\r\nYes, I know this is late but others may trip through and it needs to be pointed out. ","title":"How to fix Trust Boundary Violation flaw in Java Web application","body":"<p>VeraCode will require you to file a mitigation with them. They will schedule a consultation with you and there you can show them the code fix(s) implemented and they will then mark the mitigation approved. </p>\n\n<p>Yes, I know this is late but others may trip through and it needs to be pointed out. </p>\n"},{"tags":[],"owner":{"account_id":5952923,"reputation":1,"user_id":4680431,"display_name":"Sachin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566194520,"creation_date":1566181814,"answer_id":57549875,"question_id":14977207,"body_markdown":"Trust boundary violation happens when user input is set into session. Using this flaw attacker can set any other username in to session and can cause impersonation. Where ever username is accessed is code from `session(session.getattribute)` will give attacker privileges of that user.\r\n\r\n**Mitigation**: before setting user input into session, make sure that username that is set in to session is of authenticated user.","title":"How to fix Trust Boundary Violation flaw in Java Web application","body":"<p>Trust boundary violation happens when user input is set into session. Using this flaw attacker can set any other username in to session and can cause impersonation. Where ever username is accessed is code from <code>session(session.getattribute)</code> will give attacker privileges of that user.</p>\n\n<p><strong>Mitigation</strong>: before setting user input into session, make sure that username that is set in to session is of authenticated user.</p>\n"},{"tags":[],"owner":{"account_id":5361723,"reputation":421,"user_id":4272769,"accept_rate":43,"display_name":"Panneerselvam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610564000,"creation_date":1610563687,"answer_id":65708076,"question_id":14977207,"body_markdown":"   Validate your data using  `ESAPI.validator().getValidInput(...)` and then set the value into a session object.","title":"How to fix Trust Boundary Violation flaw in Java Web application","body":"<p>Validate your data using  <code>ESAPI.validator().getValidInput(...)</code> and then set the value into a session object.</p>\n"}],"owner":{"account_id":1987102,"reputation":299,"user_id":1782009,"accept_rate":10,"display_name":"user1782009"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36076,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1653509795,"creation_date":1361355099,"question_id":14977207,"body_markdown":"I am receiving a Trust Boundary Violation from Veracode.\r\nMy code is \r\n\r\n    userName= req.getParameter(Constant.USERNAME);\r\n    session.setAttribute(Constant.USERNAME, userName); //At this line i am getting Trust Boundry Violation flaw.\r\n\r\nHow can I validate `userName` to avoid a trust boundary violation flaw?","title":"How to fix Trust Boundary Violation flaw in Java Web application","body":"<p>I am receiving a Trust Boundary Violation from Veracode.\nMy code is </p>\n\n<pre><code>userName= req.getParameter(Constant.USERNAME);\nsession.setAttribute(Constant.USERNAME, userName); //At this line i am getting Trust Boundry Violation flaw.\n</code></pre>\n\n<p>How can I validate <code>userName</code> to avoid a trust boundary violation flaw?</p>\n"},{"tags":["java","datetime","java.time.instant"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1652797507,"post_id":72275751,"comment_id":127690176,"body_markdown":"Can you provide some code where this *datetime* is to be accessed/used?","body":"Can you provide some code where this <i>datetime</i> is to be accessed/used?"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1652797684,"post_id":72275751,"comment_id":127690244,"body_markdown":"Hint: `java.time.ZonedDateTime` might be helpful when it comes to daylight saving times in different time zones (which are represented by the class `ZoneId` in `java.time`).","body":"Hint: <code>java.time.ZonedDateTime</code> might be helpful when it comes to daylight saving times in different time zones (which are represented by the class <code>ZoneId</code> in <code>java.time</code>)."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":2,"creation_date":1652798305,"post_id":72275751,"comment_id":127690492,"body_markdown":"Does the value read from the Excel cell have an offset from UTC or a time zone? If not, do you know which time zone or offset it is supposed to have? Again: Please add some code to the question by [edit]ing it. That&#39;s the way to get answers on stackoverflow… For now, I could just guess, which would be appropriate on a guessing site, which stackoverlow just isn&#39;t.","body":"Does the value read from the Excel cell have an offset from UTC or a time zone? If not, do you know which time zone or offset it is supposed to have? Again: Please add some code to the question by <a href=\"https://stackoverflow.com/posts/72275751/edit\">edit</a>ing it. That&#39;s the way to get answers on stackoverflow… For now, I could just guess, which would be appropriate on a guessing site, which stackoverlow just isn&#39;t."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1652798603,"post_id":72275751,"comment_id":127690623,"body_markdown":"Does this answer your question? [How to test date created with LocalDateTime.now()](https://stackoverflow.com/questions/39527752/how-to-test-date-created-with-localdatetime-now). You may also look at [this](https://stackoverflow.com/questions/52956373/writing-and-testing-convenience-methods-using-java-8-date-time-classes) and [this](https://stackoverflow.com/questions/61470651/how-to-change-the-value-new-date-in-java).","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/39527752/how-to-test-date-created-with-localdatetime-now\">How to test date created with LocalDateTime.now()</a>. You may also look at <a href=\"https://stackoverflow.com/questions/52956373/writing-and-testing-convenience-methods-using-java-8-date-time-classes\">this</a> and <a href=\"https://stackoverflow.com/questions/61470651/how-to-change-the-value-new-date-in-java\">this</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1652798771,"post_id":72275751,"comment_id":127690692,"body_markdown":"Does the comparison you are performing depend on system time? If so, I have not understood how. If not, why are you worrying about it at all?","body":"Does the comparison you are performing depend on system time? If so, I have not understood how. If not, why are you worrying about it at all?"},{"owner":{"account_id":6081216,"reputation":709,"user_id":4746931,"accept_rate":64,"display_name":"Archimede"},"score":1,"creation_date":1652798937,"post_id":72275751,"comment_id":127690764,"body_markdown":"Thank you very much for all your reply, now I will write all necessary info in the main question.","body":"Thank you very much for all your reply, now I will write all necessary info in the main question."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1652858174,"post_id":72275751,"comment_id":127705058,"body_markdown":"Isn’t it a bit like asking to test `assertThat(2 + 2).isEqualTo(4)` at different times of year? If there is a fundamental difference, what is it?","body":"Isn’t it a bit like asking to test <code>assertThat(2 + 2).isEqualTo(4)</code> at different times of year? If there is a fundamental difference, what is it?"},{"owner":{"account_id":6081216,"reputation":709,"user_id":4746931,"accept_rate":64,"display_name":"Archimede"},"score":0,"creation_date":1652861701,"post_id":72275751,"comment_id":127706340,"body_markdown":"Not really. The purpose of the test is really complex and not directly connected to my question and I don&#39;t want to bore the user with detail not directly connected to the problem. Anyway, thanks for trying.","body":"Not really. The purpose of the test is really complex and not directly connected to my question and I don&#39;t want to bore the user with detail not directly connected to the problem. Anyway, thanks for trying."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1652862640,"post_id":72275751,"comment_id":127706678,"body_markdown":"Well, if you are not sharing the details needed to understand your problem, do you think we can help? I appreciate, of course, that you don’t want to over-burden us.","body":"Well, if you are not sharing the details needed to understand your problem, do you think we can help? I appreciate, of course, that you don’t want to over-burden us."},{"owner":{"account_id":6081216,"reputation":709,"user_id":4746931,"accept_rate":64,"display_name":"Archimede"},"score":0,"creation_date":1652862814,"post_id":72275751,"comment_id":127706741,"body_markdown":"Obviously not, but in this case the detail you mentioned are not needed to understand the problem of my question. My problem is only, how to force the current datetime, such that the application &quot;believes&quot; that the current datetime is the datetime I give. Noting else. Thank again anyway.","body":"Obviously not, but in this case the detail you mentioned are not needed to understand the problem of my question. My problem is only, how to force the current datetime, such that the application &quot;believes&quot; that the current datetime is the datetime I give. Noting else. Thank again anyway."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1652875347,"post_id":72275751,"comment_id":127711526,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/244837/discussion-between-ole-v-v-and-archimede).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/244837/discussion-between-ole-v-v-and-archimede\">continue this discussion in chat</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1652875733,"post_id":72275751,"comment_id":127711671,"body_markdown":"Does this answer your question? [How can I set the System Time in Java?](https://stackoverflow.com/questions/6203857/how-can-i-set-the-system-time-in-java) (I added more depth in [the chat](https://chat.stackoverflow.com/rooms/244837/discussion-between-ole-v-v-and-archimede), please see it.)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/6203857/how-can-i-set-the-system-time-in-java\">How can I set the System Time in Java?</a> (I added more depth in <a href=\"https://chat.stackoverflow.com/rooms/244837/discussion-between-ole-v-v-and-archimede\">the chat</a>, please see it.)"},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1652918920,"post_id":72275751,"comment_id":127726575,"body_markdown":"Forget how you think this should be done, and explain what your application and its test actually do. Here are some specific problems with your question that you need to fix to get a better answer. &quot;A method in my implementation read the cell and creates a Datetime var&quot;. What do you mean by &quot;Datetime var&quot;? Is it a `DateTime` instance from Joda time? Or just an imprecise reference to a nonspecific temporal type? A `String`? &quot;I should ... implement the test by creating something like assertThat(ExcelCellDateTime).isEqualTo(&quot;&quot;)`. Why would you assert that the datetime is an empty string?","body":"Forget how you think this should be done, and explain what your application and its test actually do. Here are some specific problems with your question that you need to fix to get a better answer. &quot;A method in my implementation read the cell and creates a Datetime var&quot;. What do you mean by &quot;Datetime var&quot;? Is it a <code>DateTime</code> instance from Joda time? Or just an imprecise reference to a nonspecific temporal type? A <code>String</code>? &quot;I should ... implement the test by creating something like assertThat(ExcelCellDateTime).isEqualTo(&quot;&quot;)`. Why would you assert that the datetime is an empty string?"},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1653509722,"post_id":72275751,"comment_id":127873119,"body_markdown":"I have repaired spelling errors, typos, fixed code formatting, revealed hidden code, and fixed case errors in this post. Please use the preview window to ensure your post appears correctly before posting, and please install and use a spell-checker.","body":"I have repaired spelling errors, typos, fixed code formatting, revealed hidden code, and fixed case errors in this post. Please use the preview window to ensure your post appears correctly before posting, and please install and use a spell-checker."},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1654019648,"post_id":72275751,"comment_id":127991110,"body_markdown":"@halfer Thanks for those fixes. Given that information, this is indeed a duplicate. The attempt at clarification (&quot;I want to force the date and execute a test without the new date as parameter&quot;) simply restates the duplicate question, as the duplicate answer doesn&#39;t use the new date as a parameter.","body":"@halfer Thanks for those fixes. Given that information, this is indeed a duplicate. The attempt at clarification (&quot;I want to force the date and execute a test without the new date as parameter&quot;) simply restates the duplicate question, as the duplicate answer doesn&#39;t use the new date as a parameter."}],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652801720,"creation_date":1652801720,"answer_id":72276904,"question_id":72275751,"body_markdown":"Your business logic should be given a [`Clock`][1] instance to provide the current time (and time zone, when necessary) instead of using static methods like `LocalDateTime.now()` which hide a dependency on the environment. It&#39;s like a pluggable factory for various notions of &quot;now.&quot;\r\n\r\nWhen your logic uses a `Clock`, it is simple for tests to use [clocks with a fixed time][2] to test for correct behavior during daylight saving transitions, leap days, and other date-time corner cases.\r\n\r\nWell-designed code is easy to use for any purpose, including testing. This sort of difficulty in testing is a symptom of poor design that indicates the code will be hard to reuse in other ways.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#fixed-java.time.Instant-java.time.ZoneId-","title":"Force the local datetime to a given value, in order to perform a JUnit test","body":"<p>Your business logic should be given a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html\" rel=\"nofollow noreferrer\"><code>Clock</code></a> instance to provide the current time (and time zone, when necessary) instead of using static methods like <code>LocalDateTime.now()</code> which hide a dependency on the environment. It's like a pluggable factory for various notions of &quot;now.&quot;</p>\n<p>When your logic uses a <code>Clock</code>, it is simple for tests to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#fixed-java.time.Instant-java.time.ZoneId-\" rel=\"nofollow noreferrer\">clocks with a fixed time</a> to test for correct behavior during daylight saving transitions, leap days, and other date-time corner cases.</p>\n<p>Well-designed code is easy to use for any purpose, including testing. This sort of difficulty in testing is a symptom of poor design that indicates the code will be hard to reuse in other ways.</p>\n"}],"owner":{"account_id":6081216,"reputation":709,"user_id":4746931,"accept_rate":64,"display_name":"Archimede"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":719,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1653509642,"creation_date":1652797350,"question_id":72275751,"body_markdown":"In my Java application I have to write an Unit Test and I have to check that this test works in both time of the year Daylight savings time / Normal time. To do that, I should set an hardcoded datetime that override the server datetime; execute my test; and restore the real datetime.\r\n\r\nHow can I do that? I found this solution\r\nhttps://www.baeldung.com/java-override-system-time but is not what I really need (it only define a Instant entity to use in specific instruction, but I need to fix the desired date time and then to perform a test by using some methods not directly connected to an Instant).\r\n\r\nJava.time would be preferred.\r\n\r\nEdit\r\n---\r\n\r\nThe test assigned to me should only read a data cell from an Excel file (formatted in Excel as Datetime) and make a comparison with a fixed date.\r\n\r\nThis is a detailed description:\r\n\r\n1. There is an Excel file with a cell formatted as &quot;Datetime&quot;\r\n2. I read this cell by \r\n\r\n        Workbook excelWorkbook = new Workbook(excelFileStream, excelOptions);\r\n        Cells cells = worksheet.getCells();\r\n\r\n3. A cell of the sheet if formatted by dateTime\r\n4. A method in my implementation read the cell and creates a Datetime var\r\n\r\nThat&#39;s all. My task is, create an Unit Test in order to check if the given value is always correct independent from the Daylight saving / Normal time of the year. I should &quot;force&quot; the local date time of the server, implement the test by creating something like \r\n\r\n    assertThat(ExcelCellDateTime).isEqualTo(&quot;&lt;given date time&gt;&quot;);\r\n\r\nAnd restore the datetime of the Java application to the correct Date Time of the server. So the question is:\r\n\r\nHow can I simulate a certain datetime inside a unit test of my Java application, independent from the real date time of the server, such that the application &#39;believes&#39; that the current datetime is the one I forced and the test can be executed &#39;as&#39; now would be equal to the datetime I forced?\r\n\r\nComment on possible duplicate\r\n---\r\n\r\nI don&#39;t think this is a duplicate of the suggested question. I don&#39;t want to force a date and to compare the new date with something else, but I want to force the date and execute a test without the new date as parameter.\r\n","title":"Force the local datetime to a given value, in order to perform a JUnit test","body":"<p>In my Java application I have to write an Unit Test and I have to check that this test works in both time of the year Daylight savings time / Normal time. To do that, I should set an hardcoded datetime that override the server datetime; execute my test; and restore the real datetime.</p>\n<p>How can I do that? I found this solution\n<a href=\"https://www.baeldung.com/java-override-system-time\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-override-system-time</a> but is not what I really need (it only define a Instant entity to use in specific instruction, but I need to fix the desired date time and then to perform a test by using some methods not directly connected to an Instant).</p>\n<p>Java.time would be preferred.</p>\n<h2>Edit</h2>\n<p>The test assigned to me should only read a data cell from an Excel file (formatted in Excel as Datetime) and make a comparison with a fixed date.</p>\n<p>This is a detailed description:</p>\n<ol>\n<li><p>There is an Excel file with a cell formatted as &quot;Datetime&quot;</p>\n</li>\n<li><p>I read this cell by</p>\n<pre><code> Workbook excelWorkbook = new Workbook(excelFileStream, excelOptions);\n Cells cells = worksheet.getCells();\n</code></pre>\n</li>\n<li><p>A cell of the sheet if formatted by dateTime</p>\n</li>\n<li><p>A method in my implementation read the cell and creates a Datetime var</p>\n</li>\n</ol>\n<p>That's all. My task is, create an Unit Test in order to check if the given value is always correct independent from the Daylight saving / Normal time of the year. I should &quot;force&quot; the local date time of the server, implement the test by creating something like</p>\n<pre><code>assertThat(ExcelCellDateTime).isEqualTo(&quot;&lt;given date time&gt;&quot;);\n</code></pre>\n<p>And restore the datetime of the Java application to the correct Date Time of the server. So the question is:</p>\n<p>How can I simulate a certain datetime inside a unit test of my Java application, independent from the real date time of the server, such that the application 'believes' that the current datetime is the one I forced and the test can be executed 'as' now would be equal to the datetime I forced?</p>\n<h2>Comment on possible duplicate</h2>\n<p>I don't think this is a duplicate of the suggested question. I don't want to force a date and to compare the new date with something else, but I want to force the date and execute a test without the new date as parameter.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1653505498,"post_id":72382904,"comment_id":127871884,"body_markdown":"&quot;in searching.sorted folder&quot; you mean that literally (as in &quot;it is in a folder called `searching.sorted`&quot;) or did you mean `searching/sorted`?","body":"&quot;in searching.sorted folder&quot; you mean that literally (as in &quot;it is in a folder called <code>searching.sorted</code>&quot;) or did you mean <code>searching&#47;sorted</code>?"},{"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"score":1,"creation_date":1653505697,"post_id":72382904,"comment_id":127871921,"body_markdown":"As @FedericoklezCulloca said - Ideally you would want to have 2 packages &quot;searching&quot; and a child package inside it &quot;sorted&quot;.  With that, I tested out your code and it compiles alright, although it doesn&#39;t run as you would expect it to, but thats a different question altogether.","body":"As @FedericoklezCulloca said - Ideally you would want to have 2 packages &quot;searching&quot; and a child package inside it &quot;sorted&quot;.  With that, I tested out your code and it compiles alright, although it doesn&#39;t run as you would expect it to, but thats a different question altogether."},{"owner":{"account_id":14005670,"reputation":31,"user_id":10115912,"display_name":"Ishdeep Singh"},"score":0,"creation_date":1653505726,"post_id":72382904,"comment_id":127871923,"body_markdown":"I mean searching/sorted folder. I have also attached the image. Please check it and let me know what change I have to do to make it run","body":"I mean searching/sorted folder. I have also attached the image. Please check it and let me know what change I have to do to make it run"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1653506051,"post_id":72382904,"comment_id":127872037,"body_markdown":"`src` is the root of your project. `searching` should be inside it, not on the same level.","body":"<code>src</code> is the root of your project. <code>searching</code> should be inside it, not on the same level."},{"owner":{"account_id":14005670,"reputation":31,"user_id":10115912,"display_name":"Ishdeep Singh"},"score":0,"creation_date":1653507998,"post_id":72382904,"comment_id":127872583,"body_markdown":"Now I am getting this error at running this code: D:\\IntelliJIdea_Workspace\\DataStructures\\src\\DataStructuresMain.java\njava: package searching.sorted does not exist","body":"Now I am getting this error at running this code: D:\\IntelliJIdea_Workspace\\DataStructures\\src\\DataStructuresM&zwnj;&#8203;ain.java java: package searching.sorted does not exist"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1653508384,"post_id":72382904,"comment_id":127872705,"body_markdown":"@IshdeepSingh I didn&#39;t tell you to rename the folders :) under `src` you put a `searching` folder and under that a `sorted` folder. Inside that folder you put your `BinarySearch.java` file.","body":"@IshdeepSingh I didn&#39;t tell you to rename the folders :) under <code>src</code> you put a <code>searching</code> folder and under that a <code>sorted</code> folder. Inside that folder you put your <code>BinarySearch.java</code> file."},{"owner":{"account_id":14005670,"reputation":31,"user_id":10115912,"display_name":"Ishdeep Singh"},"score":0,"creation_date":1653510275,"post_id":72382904,"comment_id":127873293,"body_markdown":"actually it automatically changes to . separated folders when I try to import the java file in my main. Other than that, there is some issue with name BinarySearch. Ii tried changing the name of the file and it worked successfully. Thanks for your insights :)","body":"actually it automatically changes to . separated folders when I try to import the java file in my main. Other than that, there is some issue with name BinarySearch. Ii tried changing the name of the file and it worked successfully. Thanks for your insights :)"}],"owner":{"account_id":14005670,"reputation":31,"user_id":10115912,"display_name":"Ishdeep Singh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653508301,"creation_date":1653505101,"question_id":72382904,"body_markdown":"[![enter image description here][1]][1]\r\nimport mentioned below is giving me the error as I am trying to import another class which is in searching.sorted folder. That class&#39; code is mentioned below this code\r\n\r\n    import searching.sorted.BinarySearch;\r\n    \r\n    public class DataStricturesMain {\r\n        public static void main(String[] args){\r\n            int array[] = {1,2,3,4,5,6,7,8,9,10};\r\n            BinarySearch bSearch = new BinarySearch();\r\n            int searchElement = 3;\r\n            int foundIndex = bSearch.binarySearch(array,searchElement);\r\n    \r\n            if(foundIndex == -1){\r\n                System.out.println(&quot;Element is not found in the array!&quot;);\r\n            }\r\n            else{\r\n                System.out.println(&quot;Element:&quot;+ searchElement +&quot; is found at Index: &quot;+foundIndex);\r\n            }\r\n        }\r\n    }\r\n\r\n&gt; BinarySearch Class\r\n\r\n    package searching.sorted;\r\n    public class BinarySearch{\r\n    \r\n        public int binarySearch(int array[], int searchElement){\r\n            int size = array.length;\r\n            int start = 0, end = size-1, mid = size/2, foundIndex = -1;\r\n            boolean found = false;\r\n    \r\n            while(start != end){\r\n                if(array[mid] == searchElement){\r\n                    found = true;\r\n                    foundIndex = mid;\r\n                    break;\r\n                }\r\n                else if(searchElement &gt; array[mid]){\r\n                    start = mid+1;\r\n                    mid = (start+end)/2;\r\n                }\r\n                else if(searchElement &lt; array[mid]){\r\n                    end = mid-1;\r\n                    mid = (start+end)/2;\r\n                }\r\n    \r\n            }\r\n             return foundIndex;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YtRZ4.png","title":"Importing classes from different package/folder in java","body":"<p><a href=\"https://i.stack.imgur.com/YtRZ4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YtRZ4.png\" alt=\"enter image description here\" /></a>\nimport mentioned below is giving me the error as I am trying to import another class which is in searching.sorted folder. That class' code is mentioned below this code</p>\n<pre><code>import searching.sorted.BinarySearch;\n\npublic class DataStricturesMain {\n    public static void main(String[] args){\n        int array[] = {1,2,3,4,5,6,7,8,9,10};\n        BinarySearch bSearch = new BinarySearch();\n        int searchElement = 3;\n        int foundIndex = bSearch.binarySearch(array,searchElement);\n\n        if(foundIndex == -1){\n            System.out.println(&quot;Element is not found in the array!&quot;);\n        }\n        else{\n            System.out.println(&quot;Element:&quot;+ searchElement +&quot; is found at Index: &quot;+foundIndex);\n        }\n    }\n}\n</code></pre>\n<blockquote>\n<p>BinarySearch Class</p>\n</blockquote>\n<pre><code>package searching.sorted;\npublic class BinarySearch{\n\n    public int binarySearch(int array[], int searchElement){\n        int size = array.length;\n        int start = 0, end = size-1, mid = size/2, foundIndex = -1;\n        boolean found = false;\n\n        while(start != end){\n            if(array[mid] == searchElement){\n                found = true;\n                foundIndex = mid;\n                break;\n            }\n            else if(searchElement &gt; array[mid]){\n                start = mid+1;\n                mid = (start+end)/2;\n            }\n            else if(searchElement &lt; array[mid]){\n                end = mid-1;\n                mid = (start+end)/2;\n            }\n\n        }\n         return foundIndex;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-recyclerview","nestedrecyclerview","item-decoration"],"comments":[{"owner":{"account_id":16582962,"reputation":3261,"user_id":11983124,"display_name":"Praveen"},"score":0,"creation_date":1653386313,"post_id":72360600,"comment_id":127834063,"body_markdown":"`I tried to make nested Recyclerview but performance was so bad`. How performance was bad? It&#39;s exactly this is done for these cases.","body":"<code>I tried to make nested Recyclerview but performance was so bad</code>. How performance was bad? It&#39;s exactly this is done for these cases."},{"owner":{"account_id":14535125,"reputation":602,"user_id":10498741,"display_name":"logancodemaker"},"score":0,"creation_date":1653386735,"post_id":72360600,"comment_id":127834221,"body_markdown":"The performance problem is certainly due to the nested RecycleView.\n\nYou should think about doing `RecyclerView.setNestedScrollingEnabled(false)` on the child `RecyclerView` in your `ViewHolder`","body":"The performance problem is certainly due to the nested RecycleView.  You should think about doing <code>RecyclerView.setNestedScrollingEnabled(false)</code> on the child <code>RecyclerView</code> in your <code>ViewHolder</code>"},{"owner":{"display_name":"user13954958"},"score":0,"creation_date":1653389716,"post_id":72360600,"comment_id":127835208,"body_markdown":"@Praveen The problem with performance is for when i scroll down. It makes lag on creating second item in parent Recyclerview.","body":"@Praveen The problem with performance is for when i scroll down. It makes lag on creating second item in parent Recyclerview."},{"owner":{"display_name":"user13954958"},"score":0,"creation_date":1653389815,"post_id":72360600,"comment_id":127835245,"body_markdown":"@logancodemaker  The problem with performance is for when i scroll down. It makes lag on creating second item in parent Recyclerview. but I  try your suggestion and update question.","body":"@logancodemaker  The problem with performance is for when i scroll down. It makes lag on creating second item in parent Recyclerview. but I  try your suggestion and update question."},{"owner":{"account_id":14535125,"reputation":602,"user_id":10498741,"display_name":"logancodemaker"},"score":0,"creation_date":1653390077,"post_id":72360600,"comment_id":127835346,"body_markdown":"@forootan please share you code for betting support","body":"@forootan please share you code for betting support"},{"owner":{"display_name":"user13954958"},"score":0,"creation_date":1653396852,"post_id":72360600,"comment_id":127838104,"body_markdown":"@logancodemaker i updated question and add video from my app.","body":"@logancodemaker i updated question and add video from my app."}],"answers":[{"tags":[],"owner":{"account_id":23787141,"reputation":559,"user_id":17799032,"display_name":"Daniel Knauf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653429488,"creation_date":1653428717,"answer_id":72369815,"question_id":72360600,"body_markdown":"You can achieve this with `ConstraintLayout` and [Flow][1].\r\n\r\nEDIT: Sorry, I just realised I wrote everything in Kotlin. If you cannot understand something I can try to translate it to Java.\r\n\r\nxml:\r\n```\r\n &lt;androidx.constraintlayout.widget.ConstraintLayout \r\n        android:id=&quot;@+id/constraintLayout&quot;\r\n        ...&gt;\r\n\r\n        &lt;androidx.constraintlayout.helper.widget.Flow\r\n            android:id=&quot;@+id/flow&quot;\r\n            app:flow_wrapMode=&quot;aligned&quot;\r\n            app:flow_horizontalStyle=&quot;spread_inside&quot;\r\n            app:flow_maxElementsWrap=&quot;4&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nAdding of items:\r\n\r\n```\r\nval constraintLayout = itemView.findViewById(R.id.constraintLayout)\r\nval flow = itemView.findViewById(R.id.flow)\r\nval items // items given to the viewHolder to display\r\n\r\nval layoutInflater = LayoutInflater.from(context)\r\n\r\nitems.forEach { item -&gt;\r\n        val view = // create item view, e.g. DataBinding, ...\r\n        view.id = ViewCompat.generateViewId()         \r\n        constraintLayout.addView(root)\r\n        flow.addView(root)\r\n    }\r\n}\r\n\r\n// if there are less than 4 items you have to add invisible dummy items. Otherwise, the alignment will look different for these ViewHolders\r\n\r\nif(items.size&gt;=4) return\r\n\r\nfor (i in 0..(4-items.size)) {\r\n        val view = // create dummy view\r\n        view.id = ViewCompat.generateViewId()         \r\n        constraintLayout.addView(root)\r\n        flow.addView(root)\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n  [1]: https://developer.android.com/reference/androidx/constraintlayout/helper/widget/Flow","title":"Nested RecyclerView load second item with lag","body":"<p>You can achieve this with <code>ConstraintLayout</code> and <a href=\"https://developer.android.com/reference/androidx/constraintlayout/helper/widget/Flow\" rel=\"nofollow noreferrer\">Flow</a>.</p>\n<p>EDIT: Sorry, I just realised I wrote everything in Kotlin. If you cannot understand something I can try to translate it to Java.</p>\n<p>xml:</p>\n<pre><code> &lt;androidx.constraintlayout.widget.ConstraintLayout \n        android:id=&quot;@+id/constraintLayout&quot;\n        ...&gt;\n\n        &lt;androidx.constraintlayout.helper.widget.Flow\n            android:id=&quot;@+id/flow&quot;\n            app:flow_wrapMode=&quot;aligned&quot;\n            app:flow_horizontalStyle=&quot;spread_inside&quot;\n            app:flow_maxElementsWrap=&quot;4&quot;\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Adding of items:</p>\n<pre><code>val constraintLayout = itemView.findViewById(R.id.constraintLayout)\nval flow = itemView.findViewById(R.id.flow)\nval items // items given to the viewHolder to display\n\nval layoutInflater = LayoutInflater.from(context)\n\nitems.forEach { item -&gt;\n        val view = // create item view, e.g. DataBinding, ...\n        view.id = ViewCompat.generateViewId()         \n        constraintLayout.addView(root)\n        flow.addView(root)\n    }\n}\n\n// if there are less than 4 items you have to add invisible dummy items. Otherwise, the alignment will look different for these ViewHolders\n\nif(items.size&gt;=4) return\n\nfor (i in 0..(4-items.size)) {\n        val view = // create dummy view\n        view.id = ViewCompat.generateViewId()         \n        constraintLayout.addView(root)\n        flow.addView(root)\n}\n\n\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user13954958"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653508139,"creation_date":1653508139,"answer_id":72383399,"question_id":72360600,"body_markdown":"So far, Using vertical RV inside vertical RV has bug. Because of inner RV make long height and outer RV has no idea of this, So it create just first Item, but all items in inner RV. using all solution on Stack O.F. had no effect!","title":"Nested RecyclerView load second item with lag","body":"<p>So far, Using vertical RV inside vertical RV has bug. Because of inner RV make long height and outer RV has no idea of this, So it create just first Item, but all items in inner RV. using all solution on Stack O.F. had no effect!</p>\n"}],"owner":{"display_name":"user13954958"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653508139,"creation_date":1653385091,"question_id":72360600,"body_markdown":"I&#39;m trying to make `Recyclerview` like Shareit app. It uses sticky header and something like `Cardview`. I searched and found somethings for implementing sticky header with itemdecoration and it&#39;s okay. But for `Cardview` part, I tried to make nested `Recyclerview` but performance was so bad, Because using two vertical `Recyclerview` is not good at all. Is there any better way to achieve this?\r\nThe problem with performance is for when i scroll down. It makes lag on creating second item in parent `Recyclerview`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zWrsP.jpg\r\n\r\n\r\n`AppheaderAdapter`:\r\n\r\n```java\r\n    @Override\r\n    public AppHeaderAdapter.HeaderHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        final View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_media_header, parent, false);\r\n        HeaderHolder headerHolder = new HeaderHolder(view);\r\n        return headerHolder;\r\n    }\r\n\r\nclass HeaderHolder extends RecyclerView.ViewHolder { //story\r\n        final ImageView arrow;\r\n        final TextView tarikh;\r\n        final TextView tedad;\r\n        final CheckBox tick;\r\n        final RecyclerView item_recyc;\r\n\r\n        HeaderHolder(View itemView) {\r\n            super(itemView);\r\n\r\n            arrow = itemView.findViewById(R.id.header_arrow);\r\n            tarikh = itemView.findViewById(R.id.header_tarikh);\r\n            tedad = itemView.findViewById(R.id.header_tedad);\r\n            tick = itemView.findViewById(R.id.header_tick);\r\n            item_recyc = itemView.findViewById(R.id.header_recyc);\r\n        }\r\n    }\r\n\r\n@Override\r\n    public void onBindViewHolder(@NonNull AppHeaderAdapter.HeaderHolder headerHolder, int position) {\r\n        final AppHeader appHeader = appHeaders.get(position);\r\n\r\n        ...\r\n\r\n        GridLayoutManager gridLayoutManager = new GridLayoutManager(context, span);\r\n        gridLayoutManager.setRecycleChildrenOnDetach(true);\r\n        headerHolder.item_recyc.setLayoutManager(gridLayoutManager);\r\n        headerHolder.item_recyc.setNestedScrollingEnabled(false);\r\n\r\n        AppItemAdapter adapter = new AppItemAdapter(context, appHeader.getAppList(), fr_parent, width);\r\n        headerHolder.item_recyc.swapAdapter(adapter, true);\r\n\r\n        ...\r\n    }\r\n```\r\n\r\n`item_media_header.xml`:\r\n\r\n```java\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:id=&quot;@+id/header_container&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_margin=&quot;10dp&quot;\r\n    android:background=&quot;@drawable/so_round_so_white&quot;\r\n    app:cardCornerRadius=&quot;10dp&quot;\r\n    app:cardElevation=&quot;5dp&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/header_arrow&quot;\r\n                android:layout_width=&quot;30dp&quot;\r\n                android:layout_height=&quot;30dp&quot;\r\n                android:padding=&quot;8dp&quot;\r\n                android:src=&quot;@drawable/header_arrow&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/header_tarikh&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:textSize=&quot;@dimen/fragment_file&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintLeft_toRightOf=&quot;@id/header_arrow&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/header_tedad&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;2dp&quot;\r\n                android:textColor=&quot;#AAAAAA&quot;\r\n                android:textSize=&quot;@dimen/fragment_file&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintLeft_toRightOf=&quot;@id/header_tarikh&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n            &lt;CheckBox\r\n                android:id=&quot;@+id/header_tick&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginRight=&quot;10dp&quot;\r\n                android:button=&quot;@null&quot;\r\n                android:clickable=&quot;false&quot;\r\n                android:drawableRight=&quot;@drawable/file_checkbox&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/header_recyc&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n&lt;/androidx.cardview.widget.CardView&gt;\r\n```\r\n\r\n**EDIT 1:**\r\nI find that just first `Cardview` is loaded and second one is not loaded until I scroll to end of first one and then load second `CardView` item and it lags because of second `RecyclerView`.\r\nI found that Shareit use previous created adapter and just change its internal datalist, So i do that, but still has lag on second item.\r\n\r\n**Edite 2**:\r\nI use one time created adapter on all `RecyclerView` but still has lag.\r\n\r\n**Edit 3:**\r\nIt&#39;s a known bug that `innerRecyclerView` load all items at first and that cause my lag too. because inner `Recyclerview` is inside `NestedScrollView` (RV) and it loads all content.Using constant height doesn&#39;t work, But  I&#39;ll update question if I find something better.","title":"Nested RecyclerView load second item with lag","body":"<p>I'm trying to make <code>Recyclerview</code> like Shareit app. It uses sticky header and something like <code>Cardview</code>. I searched and found somethings for implementing sticky header with itemdecoration and it's okay. But for <code>Cardview</code> part, I tried to make nested <code>Recyclerview</code> but performance was so bad, Because using two vertical <code>Recyclerview</code> is not good at all. Is there any better way to achieve this?\nThe problem with performance is for when i scroll down. It makes lag on creating second item in parent <code>Recyclerview</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/zWrsP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zWrsP.jpg\" alt=\"enter image description here\" /></a></p>\n<p><code>AppheaderAdapter</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public AppHeaderAdapter.HeaderHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        final View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_media_header, parent, false);\n        HeaderHolder headerHolder = new HeaderHolder(view);\n        return headerHolder;\n    }\n\nclass HeaderHolder extends RecyclerView.ViewHolder { //story\n        final ImageView arrow;\n        final TextView tarikh;\n        final TextView tedad;\n        final CheckBox tick;\n        final RecyclerView item_recyc;\n\n        HeaderHolder(View itemView) {\n            super(itemView);\n\n            arrow = itemView.findViewById(R.id.header_arrow);\n            tarikh = itemView.findViewById(R.id.header_tarikh);\n            tedad = itemView.findViewById(R.id.header_tedad);\n            tick = itemView.findViewById(R.id.header_tick);\n            item_recyc = itemView.findViewById(R.id.header_recyc);\n        }\n    }\n\n@Override\n    public void onBindViewHolder(@NonNull AppHeaderAdapter.HeaderHolder headerHolder, int position) {\n        final AppHeader appHeader = appHeaders.get(position);\n\n        ...\n\n        GridLayoutManager gridLayoutManager = new GridLayoutManager(context, span);\n        gridLayoutManager.setRecycleChildrenOnDetach(true);\n        headerHolder.item_recyc.setLayoutManager(gridLayoutManager);\n        headerHolder.item_recyc.setNestedScrollingEnabled(false);\n\n        AppItemAdapter adapter = new AppItemAdapter(context, appHeader.getAppList(), fr_parent, width);\n        headerHolder.item_recyc.swapAdapter(adapter, true);\n\n        ...\n    }\n</code></pre>\n<p><code>item_media_header.xml</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@+id/header_container&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_margin=&quot;10dp&quot;\n    android:background=&quot;@drawable/so_round_so_white&quot;\n    app:cardCornerRadius=&quot;10dp&quot;\n    app:cardElevation=&quot;5dp&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/header_arrow&quot;\n                android:layout_width=&quot;30dp&quot;\n                android:layout_height=&quot;30dp&quot;\n                android:padding=&quot;8dp&quot;\n                android:src=&quot;@drawable/header_arrow&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/header_tarikh&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:textSize=&quot;@dimen/fragment_file&quot;\n                android:textStyle=&quot;bold&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintLeft_toRightOf=&quot;@id/header_arrow&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/header_tedad&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;2dp&quot;\n                android:textColor=&quot;#AAAAAA&quot;\n                android:textSize=&quot;@dimen/fragment_file&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintLeft_toRightOf=&quot;@id/header_tarikh&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n            &lt;CheckBox\n                android:id=&quot;@+id/header_tick&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginRight=&quot;10dp&quot;\n                android:button=&quot;@null&quot;\n                android:clickable=&quot;false&quot;\n                android:drawableRight=&quot;@drawable/file_checkbox&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n        &lt;androidx.recyclerview.widget.RecyclerView\n            android:id=&quot;@+id/header_recyc&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot; /&gt;\n    &lt;/LinearLayout&gt;\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n<p><strong>EDIT 1:</strong>\nI find that just first <code>Cardview</code> is loaded and second one is not loaded until I scroll to end of first one and then load second <code>CardView</code> item and it lags because of second <code>RecyclerView</code>.\nI found that Shareit use previous created adapter and just change its internal datalist, So i do that, but still has lag on second item.</p>\n<p><strong>Edite 2</strong>:\nI use one time created adapter on all <code>RecyclerView</code> but still has lag.</p>\n<p><strong>Edit 3:</strong>\nIt's a known bug that <code>innerRecyclerView</code> load all items at first and that cause my lag too. because inner <code>Recyclerview</code> is inside <code>NestedScrollView</code> (RV) and it loads all content.Using constant height doesn't work, But  I'll update question if I find something better.</p>\n"},{"tags":["java","cassandra"],"answers":[{"tags":[],"owner":{"account_id":60456,"reputation":55961,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653508129,"creation_date":1653508129,"answer_id":72383398,"question_id":72377903,"body_markdown":"So it sounds to me like your `JAVA_HOME` variable is pointing to a 32-bit JRE.  Reverify/install your Java installation, making sure to use a 64-bit version.\r\n\r\nIf you&#39;re using Cassandra 3, Java 8 is the highest main version that it will work with.  If you&#39;re on Cassandra 4, this is going to be difficult to run natively as Windows support was completely removed from that version.","title":"Error while installing Cassandra (Invalid initial heap size: -Xms4096M)","body":"<p>So it sounds to me like your <code>JAVA_HOME</code> variable is pointing to a 32-bit JRE.  Reverify/install your Java installation, making sure to use a 64-bit version.</p>\n<p>If you're using Cassandra 3, Java 8 is the highest main version that it will work with.  If you're on Cassandra 4, this is going to be difficult to run natively as Windows support was completely removed from that version.</p>\n"}],"owner":{"account_id":24675018,"reputation":71,"user_id":18569536,"display_name":"Rohith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":617,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653508129,"creation_date":1653482711,"question_id":72377903,"body_markdown":"I am trying to run Cassandra on my windows, but I keep on getting this error.\r\n\r\n```\r\nFailed 64-bit check. Re-running to get version from 32-bit\r\nInvalid initial heap size: -Xms4096M\r\nThe specified size exceeds the maximum representable size.\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n```\r\n\r\nCan anyone explain why I am facing this and how to resolve this error.\r\n\r\n","title":"Error while installing Cassandra (Invalid initial heap size: -Xms4096M)","body":"<p>I am trying to run Cassandra on my windows, but I keep on getting this error.</p>\n<pre><code>Failed 64-bit check. Re-running to get version from 32-bit\nInvalid initial heap size: -Xms4096M\nThe specified size exceeds the maximum representable size.\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n<p>Can anyone explain why I am facing this and how to resolve this error.</p>\n"},{"tags":["java","spring-mvc","controller","return-value"],"comments":[{"owner":{"account_id":7283504,"reputation":313,"user_id":5552396,"accept_rate":67,"display_name":"gunescelil"},"score":0,"creation_date":1653510351,"post_id":72382828,"comment_id":127873327,"body_markdown":"`@RequestMapping` is deprecated use `@GetMapping` instead and also remove `method = RequestMethod.GET` inside of it","body":"<code>@RequestMapping</code> is deprecated use <code>@GetMapping</code> instead and also remove <code>method = RequestMethod.GET</code> inside of it"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1653566466,"post_id":72382828,"comment_id":127885531,"body_markdown":"@gunescelil `@RequestMapping` is not deprecated. However, [its javadoc](https://docs.spring.io/spring-framework/docs/5.3.20/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html) says: _&quot;In most cases, at the method level applications will prefer to use one of the HTTP method specific variants `@GetMapping`, [..]&quot;_","body":"@gunescelil <code>@RequestMapping</code> is not deprecated. However, <a href=\"https://docs.spring.io/spring-framework/docs/5.3.20/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html\" rel=\"nofollow noreferrer\">its javadoc</a> says: <i>&quot;In most cases, at the method level applications will prefer to use one of the HTTP method specific variants <code>@GetMapping</code>, [..]&quot;</i>"},{"owner":{"account_id":7283504,"reputation":313,"user_id":5552396,"accept_rate":67,"display_name":"gunescelil"},"score":0,"creation_date":1653567819,"post_id":72382828,"comment_id":127885963,"body_markdown":"Yes I made a mistake. It is not deprecated. But like you said it would be better to choose specific variants. For example SonarLint shows warning that `@RequestMapping` is a minor level code smell","body":"Yes I made a mistake. It is not deprecated. But like you said it would be better to choose specific variants. For example SonarLint shows warning that <code>@RequestMapping</code> is a minor level code smell"}],"answers":[{"tags":[],"owner":{"account_id":19332677,"reputation":302,"user_id":14133911,"display_name":"Rafael da Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653508000,"creation_date":1653508000,"answer_id":72383377,"question_id":72382828,"body_markdown":"Your Java code is right, but first you need to make sure that there is &#39;user&#39; in the session, probably when logging in, the session is not being saved.\r\nwhen logging in, you need to set the &#39;user&#39;, like:\r\n\r\n`ss.setAttribute(&quot;user&quot;, user);`\r\n\r\nafter certifying that the backend is correct, then go to the frontend corrections, if necessary.\r\n\r\nbut according to my tests, the backend is ok, just need to make sure that the &#39;user&#39; is being saved in the session.","title":"How do i fix my controller not working in spring mvc?","body":"<p>Your Java code is right, but first you need to make sure that there is 'user' in the session, probably when logging in, the session is not being saved.\nwhen logging in, you need to set the 'user', like:</p>\n<p><code>ss.setAttribute(&quot;user&quot;, user);</code></p>\n<p>after certifying that the backend is correct, then go to the frontend corrections, if necessary.</p>\n<p>but according to my tests, the backend is ok, just need to make sure that the 'user' is being saved in the session.</p>\n"}],"owner":{"account_id":25302927,"reputation":1,"user_id":19126915,"display_name":"Krulcifer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":441,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1653508000,"creation_date":1653504742,"question_id":72382828,"body_markdown":"I&#39;m new to Spring MVC. I want to get the logged in user&#39;s info by using session but why does my code return nothing in the view? \r\nThere&#39;s no error, the other views are fine. So maybe my controller is not working. Can somebody tell me what&#39;s wrong about the code?\r\nHere is the controller\r\n```\r\n@RequestMapping(value = &quot;manager/main/{userId}&quot;, params = &quot;edit&quot;, method = RequestMethod.GET)\r\n\tpublic String getLoginUser (HttpSession ss, ModelMap model) {\t\r\n\t    \r\n        if (ss.getAttribute(&quot;user&quot;) != null) {\r\n\t\t\tUser tk = (User) ss.getAttribute(&quot;user&quot;);\r\n\t\t\tmodel.addAttribute(&quot;userInfo&quot;, tk);\r\n\t\t\tmodel.addAttribute(&quot;isOpenModalEditUser&quot;, true);\r\n\t\t}\r\n\t\treturn &quot;manage/manager/main&quot;;\r\n\t}\r\n```\r\nHere is my jsp\r\n```\r\n&lt;a href=&quot;manager/main/${userInfo.getUserId()}?edit&quot; class=&quot;dropdown-item&quot; data-toggle=&quot;modal&quot;\r\ndata-target=&quot;#modal-lg&quot;&gt;${userInfo.getEmployee().getFName()} ${userInfo.getEmployee().getLName()}&lt;/a&gt;\r\n```","title":"How do i fix my controller not working in spring mvc?","body":"<p>I'm new to Spring MVC. I want to get the logged in user's info by using session but why does my code return nothing in the view?\nThere's no error, the other views are fine. So maybe my controller is not working. Can somebody tell me what's wrong about the code?\nHere is the controller</p>\n<pre><code>@RequestMapping(value = &quot;manager/main/{userId}&quot;, params = &quot;edit&quot;, method = RequestMethod.GET)\n    public String getLoginUser (HttpSession ss, ModelMap model) {   \n        \n        if (ss.getAttribute(&quot;user&quot;) != null) {\n            User tk = (User) ss.getAttribute(&quot;user&quot;);\n            model.addAttribute(&quot;userInfo&quot;, tk);\n            model.addAttribute(&quot;isOpenModalEditUser&quot;, true);\n        }\n        return &quot;manage/manager/main&quot;;\n    }\n</code></pre>\n<p>Here is my jsp</p>\n<pre><code>&lt;a href=&quot;manager/main/${userInfo.getUserId()}?edit&quot; class=&quot;dropdown-item&quot; data-toggle=&quot;modal&quot;\ndata-target=&quot;#modal-lg&quot;&gt;${userInfo.getEmployee().getFName()} ${userInfo.getEmployee().getLName()}&lt;/a&gt;\n</code></pre>\n"},{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1653506360,"post_id":72382956,"comment_id":127872121,"body_markdown":"Where did you got the path/directory from ? `natives-windows` sounds like the Maven classifier for Windows (Maven is a build and dependency-managment tool for Java and JAR-archives).","body":"Where did you got the path/directory from ? <code>natives-windows</code> sounds like the Maven classifier for Windows (Maven is a build and dependency-managment tool for Java and JAR-archives)."},{"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1653506631,"post_id":72382956,"comment_id":127872191,"body_markdown":"Did you try creating the directory without the colon and following parts?","body":"Did you try creating the directory without the colon and following parts?"},{"owner":{"account_id":25389916,"reputation":11,"user_id":19201090,"display_name":"AshleyGang"},"score":0,"creation_date":1653507279,"post_id":72382956,"comment_id":127872384,"body_markdown":"I got the directory from the game launcher itself, I have not tried without colon, I&#39;ll do that and let you know","body":"I got the directory from the game launcher itself, I have not tried without colon, I&#39;ll do that and let you know"},{"owner":{"account_id":25389916,"reputation":11,"user_id":19201090,"display_name":"AshleyGang"},"score":0,"creation_date":1653507744,"post_id":72382956,"comment_id":127872510,"body_markdown":"leaving the colon out just gives me the same error","body":"leaving the colon out just gives me the same error"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1653508117,"post_id":72382956,"comment_id":127872621,"body_markdown":"leave out the `:natives-windows`, not just the colon. Having said that: some googling suggests that this is a problem  for pirated versions of Minecraft, so the most obvious solution is probably to just shell out the $25 or so and just buy it. But if this is a legal copy, then post a bug report on the minecraft bug tracker anyway, because even if they won&#39;t help you, at least now you have a link to include in your post that shows you first tried the official ways to get help.","body":"leave out the <code>:natives-windows</code>, not just the colon. Having said that: some googling suggests that this is a problem  for pirated versions of Minecraft, so the most obvious solution is probably to just shell out the $25 or so and just buy it. But if this is a legal copy, then post a bug report on the minecraft bug tracker anyway, because even if they won&#39;t help you, at least now you have a link to include in your post that shows you first tried the official ways to get help."},{"owner":{"account_id":25389916,"reputation":11,"user_id":19201090,"display_name":"AshleyGang"},"score":0,"creation_date":1653508729,"post_id":72382956,"comment_id":127872826,"body_markdown":"I do have the legal version of the game haha, it&#39;s an old launcher tho :) I&#39;m making an official bug report as we speak yeah. I have tried your method and leave out :natives-windows but that directory already exists so it doesn&#39;t make sense","body":"I do have the legal version of the game haha, it&#39;s an old launcher tho :) I&#39;m making an official bug report as we speak yeah. I have tried your method and leave out :natives-windows but that directory already exists so it doesn&#39;t make sense"},{"owner":{"account_id":8860436,"reputation":45945,"user_id":7509065,"display_name":"Joseph Sible-Reinstate Monica"},"score":0,"creation_date":1653523583,"post_id":72382956,"comment_id":127876086,"body_markdown":"Why are you using an old launcher? Doesn&#39;t the latest launcher still work on old versions of the game?","body":"Why are you using an old launcher? Doesn&#39;t the latest launcher still work on old versions of the game?"},{"owner":{"account_id":25389916,"reputation":11,"user_id":19201090,"display_name":"AshleyGang"},"score":0,"creation_date":1653588671,"post_id":72382956,"comment_id":127893677,"body_markdown":"The latest launcher requires you to migrate your account, which is not possible for me. They refuse to help me with it too so yeah I&#39;m stuck on the old one","body":"The latest launcher requires you to migrate your account, which is not possible for me. They refuse to help me with it too so yeah I&#39;m stuck on the old one"}],"owner":{"account_id":25389916,"reputation":11,"user_id":19201090,"display_name":"AshleyGang"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":590,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653505939,"creation_date":1653505500,"question_id":72382956,"body_markdown":"So I&#39;m trying to launch a game and I&#39;m having this error thrown at me:\r\n\r\njava.lang.RuntimeException: Could not create directory C:\\Users\\ashley\\AppData\\Roaming\\\\.minecraft\\libraries\\org\\lwjgl\\lwjgl-openal\\3.3.1:natives-windows\r\n\r\nI have tried creating this directory myself, but there is a colon in the name, which seems impossible, does anyone know what is going on here?\r\n\r\nAt the very end there&#39;s a colon in the &quot;3.3.1:natives-windows&quot; part\r\n\r\nI would report the bug to the game manufacturer but it&#39;s on an unsupported legacy version so they won&#39;t help.\r\nAny thoughts or help would be appreciated!","title":"Issue creating directory","body":"<p>So I'm trying to launch a game and I'm having this error thrown at me:</p>\n<p>java.lang.RuntimeException: Could not create directory C:\\Users\\ashley\\AppData\\Roaming\\.minecraft\\libraries\\org\\lwjgl\\lwjgl-openal\\3.3.1:natives-windows</p>\n<p>I have tried creating this directory myself, but there is a colon in the name, which seems impossible, does anyone know what is going on here?</p>\n<p>At the very end there's a colon in the &quot;3.3.1:natives-windows&quot; part</p>\n<p>I would report the bug to the game manufacturer but it's on an unsupported legacy version so they won't help.\nAny thoughts or help would be appreciated!</p>\n"},{"tags":["java","stack"],"comments":[{"owner":{"display_name":"user6073886"},"score":5,"creation_date":1653473137,"post_id":72375580,"comment_id":127859182,"body_markdown":"You are using capacity as a condition for you loop. But just because a stack has a certain capacity doesn&#39;t mean that this is his actual size.","body":"You are using capacity as a condition for you loop. But just because a stack has a certain capacity doesn&#39;t mean that this is his actual size."},{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":2,"creation_date":1653473287,"post_id":72375580,"comment_id":127859242,"body_markdown":"If you want to access by index, `Stack` aint the suitable data structure for you","body":"If you want to access by index, <code>Stack</code> aint the suitable data structure for you"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1653473289,"post_id":72375580,"comment_id":127859243,"body_markdown":"As an aside you&#39;re not using `StackA` as a stack. You should `pop` from it until it&#39;s empty.","body":"As an aside you&#39;re not using <code>StackA</code> as a stack. You should <code>pop</code> from it until it&#39;s empty."},{"owner":{"account_id":25385323,"reputation":13,"user_id":19197197,"display_name":"somenewcoder"},"score":0,"creation_date":1653474827,"post_id":72375580,"comment_id":127859698,"body_markdown":"@OHGODSPIDERS so can I use i &lt; StackA.size()?","body":"@OHGODSPIDERS so can I use i &lt; StackA.size()?"},{"owner":{"account_id":25385323,"reputation":13,"user_id":19197197,"display_name":"somenewcoder"},"score":0,"creation_date":1653474876,"post_id":72375580,"comment_id":127859715,"body_markdown":"@HariHaravelan its the assignment requirement","body":"@HariHaravelan its the assignment requirement"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1653475063,"post_id":72375580,"comment_id":127859787,"body_markdown":"Unrelated: learn about java naming conventions. Fields/variable/method (parameter) names all go camelCase. Only class names go UpperCamelCase!","body":"Unrelated: learn about java naming conventions. Fields/variable/method (parameter) names all go camelCase. Only class names go UpperCamelCase!"}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653474758,"creation_date":1653474758,"answer_id":72375998,"question_id":72375580,"body_markdown":"If what you&#39;re looking is how to add elements into `stackB` without removing the elements from `atackA`, then you could use an `Iterator` to traverse `stackA` and add its elements into `stackB`.\r\n\r\n```\r\n//Adding elements within stackB without consuming stackA\r\nfor (Iterator&lt;Integer&gt; it = stackA.iterator(); it.hasNext(); ) {\r\n    stackB.push(it.next());\r\n}\r\n```\r\n\r\nOtherwise, as it has been suggested in the comments, if consuming the elements within `stackA` is not a problem, you could simply iterate your first stack until it&#39;s empty and popping each element into `stackB` during every iteration.\r\n\r\n```\r\n//Adding elements within stackB by consuming stackA\r\nwhile (!stackA.empty()) {\r\n    stackB.push(stackA.pop());\r\n}\r\n```","title":"How do we pop one stack completely into another stack","body":"<p>If what you're looking is how to add elements into <code>stackB</code> without removing the elements from <code>atackA</code>, then you could use an <code>Iterator</code> to traverse <code>stackA</code> and add its elements into <code>stackB</code>.</p>\n<pre><code>//Adding elements within stackB without consuming stackA\nfor (Iterator&lt;Integer&gt; it = stackA.iterator(); it.hasNext(); ) {\n    stackB.push(it.next());\n}\n</code></pre>\n<p>Otherwise, as it has been suggested in the comments, if consuming the elements within <code>stackA</code> is not a problem, you could simply iterate your first stack until it's empty and popping each element into <code>stackB</code> during every iteration.</p>\n<pre><code>//Adding elements within stackB by consuming stackA\nwhile (!stackA.empty()) {\n    stackB.push(stackA.pop());\n}\n</code></pre>\n"}],"owner":{"account_id":25385323,"reputation":13,"user_id":19197197,"display_name":"somenewcoder"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72375998,"answer_count":1,"score":1,"last_activity_date":1653505899,"creation_date":1653472970,"question_id":72375580,"body_markdown":"I have this code:\r\n\r\n    for (int i = 0; i &lt; StackA.capacity(); i++) {\r\n        StackB.push(StackA.get(i));\r\n    }\r\n\r\nbut it&#39;s giving me this error: \r\n\r\n    Array index out of range: 0\r\n    \tat java.base/java.util.Vector.get\r\n\r\nCan anybody help me identify my mistake?","title":"How do we pop one stack completely into another stack","body":"<p>I have this code:</p>\n<pre><code>for (int i = 0; i &lt; StackA.capacity(); i++) {\n    StackB.push(StackA.get(i));\n}\n</code></pre>\n<p>but it's giving me this error:</p>\n<pre><code>Array index out of range: 0\n    at java.base/java.util.Vector.get\n</code></pre>\n<p>Can anybody help me identify my mistake?</p>\n"},{"tags":["java","saml","opensaml"],"answers":[{"tags":[],"owner":{"account_id":16935747,"reputation":1,"user_id":18738309,"display_name":"YaBoiJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653505428,"creation_date":1653505428,"answer_id":72382950,"question_id":72382002,"body_markdown":"Found the error, This was a mistake from the data I was testing with. I used a deflated/encoded AuthnRequest. Since this is a GET request, I had to also URL decode the SAML Object.","title":"ZipException when Attempting to retrieve AuthnRequest","body":"<p>Found the error, This was a mistake from the data I was testing with. I used a deflated/encoded AuthnRequest. Since this is a GET request, I had to also URL decode the SAML Object.</p>\n"}],"owner":{"account_id":16935747,"reputation":1,"user_id":18738309,"display_name":"YaBoiJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72382950,"answer_count":1,"score":0,"last_activity_date":1653505428,"creation_date":1653499955,"question_id":72382002,"body_markdown":"I&#39;m getting a `java.util.zip.ZipException:  invalid bit length repeat` when attempting to retrieve a AuthnRequest with the opensaml library `HTTPRedirectDeflateDecoder`. I&#39;m receiving the deflated and encoded SAMLObject thorough a GET request. This is the code I&#39;m using to retrieve the object\r\n\r\n```\r\nimport org.opensaml.saml.saml2.binding.decoding.impl.HTTPRedirectDeflateDecoder;\r\n\r\n\r\nprotected String getAuthnRequest(\r\n      HttpServletRequest request,\r\n      HttpServletResponse response) throws Exception {\r\n\r\n    HTTPRedirectDeflateDecoder decoder = new HTTPRedirectDeflateDecoder();\r\n    decoder.setHttpServletRequest(request);\r\n\r\n    try {\r\n      decoder.initialize();\r\n      decoder.decode(); //error occurs here\r\n\r\n    } catch (ComponentInitializationException | MessageDecodingException e) {\r\n      throw new Exception(&quot;error in decoding authnrequest&quot;, e);\r\n    }\r\n    \r\n    MessageContext&lt;SAMLObject&gt; messageContext = decoder.getMessageContext();\r\n\r\n\r\n    ...\r\n}\r\n```\r\n\r\nFull error:\r\n```\r\norg.opensaml.messaging.decoder.MessageDecodingException: Error unmarshalling message from input stream\r\n\tat org.opensaml.messaging.decoder.servlet.BaseHttpServletRequestXMLMessageDecoder.unmarshallMessage(BaseHttpServletRequestXMLMessageDecoder.java:158)\r\n\tat org.opensaml.saml.saml2.binding.decoding.impl.HTTPRedirectDeflateDecoder.doDecode(HTTPRedirectDeflateDecoder.java:108)\r\n\tat org.opensaml.messaging.decoder.AbstractMessageDecoder.decode(AbstractMessageDecoder.java:58)\r\n\tat org.opensaml.messaging.decoder.servlet.AbstractHttpServletRequestMessageDecoder.decode(AbstractHttpServletRequestMessageDecoder.java:55)\r\n\tat org.opensaml.messaging.decoder.servlet.BaseHttpServletRequestXMLMessageDecoder.decode(BaseHttpServletRequestXMLMessageDecoder.java:72)\r\n\tat com.healthtrio.htcweb.common.controller.sso.BaseOutboundController.getAuthnRequestId(BaseOutboundController.java:426)\r\n\t... 129 common frames omitted\r\nCaused by: net.shibboleth.utilities.java.support.xml.XMLParserException: Unable to read data from input stream\r\n\tat net.shibboleth.utilities.java.support.xml.BasicParserPool.parse(BasicParserPool.java:255)\r\n\tat org.opensaml.core.xml.util.XMLObjectSupport.unmarshallFromInputStream(XMLObjectSupport.java:235)\r\n\tat org.opensaml.messaging.decoder.servlet.BaseHttpServletRequestXMLMessageDecoder.unmarshallMessage(BaseHttpServletRequestXMLMessageDecoder.java:154)\r\n\t... 134 common frames omitted\r\nCaused by: java.util.zip.ZipException: invalid bit length repeat\r\n\tat java.base/java.util.zip.InflaterInputStream.read(InflaterInputStream.java:165)\r\n\tat java.base/java.util.zip.InflaterInputStream.read(InflaterInputStream.java:123)\r\n\tat org.apache.xerces.impl.XMLEntityManager$RewindableInputStream.readAndBuffer(Unknown Source)\r\n\tat org.apache.xerces.impl.XMLEntityManager.setupCurrentEntity(Unknown Source)\r\n\tat org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)\r\n\tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\r\n\tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\r\n\tat org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\r\n\tat org.apache.xerces.parsers.DOMParser.parse(Unknown Source)\r\n\tat org.apache.xerces.jaxp.DocumentBuilderImpl.parse(Unknown Source)\r\n\tat java.xml/javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:122)\r\n\tat net.shibboleth.utilities.java.support.xml.BasicParserPool$DocumentBuilderProxy.parse(BasicParserPool.java:785)\r\n\tat net.shibboleth.utilities.java.support.xml.BasicParserPool.parse(BasicParserPool.java:247)\r\n\t... 136 common frames omitted\r\n```\r\nAny help is appreciated,\r\n\r\nThanks","title":"ZipException when Attempting to retrieve AuthnRequest","body":"<p>I'm getting a <code>java.util.zip.ZipException:  invalid bit length repeat</code> when attempting to retrieve a AuthnRequest with the opensaml library <code>HTTPRedirectDeflateDecoder</code>. I'm receiving the deflated and encoded SAMLObject thorough a GET request. This is the code I'm using to retrieve the object</p>\n<pre><code>import org.opensaml.saml.saml2.binding.decoding.impl.HTTPRedirectDeflateDecoder;\n\n\nprotected String getAuthnRequest(\n      HttpServletRequest request,\n      HttpServletResponse response) throws Exception {\n\n    HTTPRedirectDeflateDecoder decoder = new HTTPRedirectDeflateDecoder();\n    decoder.setHttpServletRequest(request);\n\n    try {\n      decoder.initialize();\n      decoder.decode(); //error occurs here\n\n    } catch (ComponentInitializationException | MessageDecodingException e) {\n      throw new Exception(&quot;error in decoding authnrequest&quot;, e);\n    }\n    \n    MessageContext&lt;SAMLObject&gt; messageContext = decoder.getMessageContext();\n\n\n    ...\n}\n</code></pre>\n<p>Full error:</p>\n<pre><code>org.opensaml.messaging.decoder.MessageDecodingException: Error unmarshalling message from input stream\n    at org.opensaml.messaging.decoder.servlet.BaseHttpServletRequestXMLMessageDecoder.unmarshallMessage(BaseHttpServletRequestXMLMessageDecoder.java:158)\n    at org.opensaml.saml.saml2.binding.decoding.impl.HTTPRedirectDeflateDecoder.doDecode(HTTPRedirectDeflateDecoder.java:108)\n    at org.opensaml.messaging.decoder.AbstractMessageDecoder.decode(AbstractMessageDecoder.java:58)\n    at org.opensaml.messaging.decoder.servlet.AbstractHttpServletRequestMessageDecoder.decode(AbstractHttpServletRequestMessageDecoder.java:55)\n    at org.opensaml.messaging.decoder.servlet.BaseHttpServletRequestXMLMessageDecoder.decode(BaseHttpServletRequestXMLMessageDecoder.java:72)\n    at com.healthtrio.htcweb.common.controller.sso.BaseOutboundController.getAuthnRequestId(BaseOutboundController.java:426)\n    ... 129 common frames omitted\nCaused by: net.shibboleth.utilities.java.support.xml.XMLParserException: Unable to read data from input stream\n    at net.shibboleth.utilities.java.support.xml.BasicParserPool.parse(BasicParserPool.java:255)\n    at org.opensaml.core.xml.util.XMLObjectSupport.unmarshallFromInputStream(XMLObjectSupport.java:235)\n    at org.opensaml.messaging.decoder.servlet.BaseHttpServletRequestXMLMessageDecoder.unmarshallMessage(BaseHttpServletRequestXMLMessageDecoder.java:154)\n    ... 134 common frames omitted\nCaused by: java.util.zip.ZipException: invalid bit length repeat\n    at java.base/java.util.zip.InflaterInputStream.read(InflaterInputStream.java:165)\n    at java.base/java.util.zip.InflaterInputStream.read(InflaterInputStream.java:123)\n    at org.apache.xerces.impl.XMLEntityManager$RewindableInputStream.readAndBuffer(Unknown Source)\n    at org.apache.xerces.impl.XMLEntityManager.setupCurrentEntity(Unknown Source)\n    at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)\n    at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n    at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n    at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n    at org.apache.xerces.parsers.DOMParser.parse(Unknown Source)\n    at org.apache.xerces.jaxp.DocumentBuilderImpl.parse(Unknown Source)\n    at java.xml/javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:122)\n    at net.shibboleth.utilities.java.support.xml.BasicParserPool$DocumentBuilderProxy.parse(BasicParserPool.java:785)\n    at net.shibboleth.utilities.java.support.xml.BasicParserPool.parse(BasicParserPool.java:247)\n    ... 136 common frames omitted\n</code></pre>\n<p>Any help is appreciated,</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-data"],"owner":{"account_id":6769937,"reputation":87,"user_id":5213587,"display_name":"Carlos Villadiego"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":746,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653505320,"creation_date":1653505320,"question_id":72382930,"body_markdown":"I&#39;m trying to test a mongo db repository using flapdoodle embed mongo, my test looks like:\r\n\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest()\r\n@TestPropertySource(properties = &quot;spring.mongodb.embedded.version=5.0.6&quot;)\r\npublic class TaskToDoRepositoryAdapterTest {\r\n\r\n    @Autowired\r\n    private TaskToDoRepositoryAdapter adapter;\r\n\r\n    private final TaskToDo task1 = TaskToDo.builder().id(&quot;1&quot;).name(&quot;Task 1&quot;).description(&quot;Task Desc 1&quot;).assignedUserId(&quot;56&quot;).build();\r\n    private final TaskToDo task2 = TaskToDo.builder().id(&quot;2&quot;).name(&quot;Task 2&quot;).description(&quot;Task Desc 2&quot;).assignedUserId(&quot;56&quot;).build();\r\n    private final TaskToDo task3 = TaskToDo.builder().id(&quot;3&quot;).name(&quot;Task 3&quot;).description(&quot;Task Desc 3&quot;).assignedUserId(&quot;57&quot;).build();\r\n    private final TaskToDo task4 = TaskToDo.builder().id(&quot;4&quot;).name(&quot;Task 4&quot;).description(&quot;Task Desc 4&quot;).assignedUserId(&quot;56&quot;).done(true).build();\r\n\r\n    @BeforeEach\r\n    public void saveInitialData() {\r\n        final Mono&lt;Void&gt; result = adapter.saveAll(just(task1, task2, task3, task4));\r\n        StepVerifier.create(result).verifyComplete();\r\n    }\r\n\r\n    @Test\r\n    public void shouldFindAll() {\r\n        StepVerifier.create(adapter.findAll().collectList())\r\n            .assertNext(tasks -&gt; assertThat(tasks).contains(task1, task2, task3, task4)).verifyComplete();\r\n    }\r\n\r\n\r\n    @Test\r\n    public void findAllUserOpenTasks() {\r\n        final Flux&lt;TaskToDo&gt; openTasks = adapter.findAllUserOpenTasks(&quot;56&quot;);\r\n        StepVerifier.create(openTasks.collectList()).assertNext(tasks -&gt;\r\n            assertThat(tasks).containsOnly(task1, task2))\r\n            .verifyComplete();\r\n    }\r\n\r\n}\r\n```\r\nand my gradle dependencies includes spring data mongodb and flapdoodle embed mongo:\r\n\r\n```\r\n implementation &quot;org.springframework.boot:spring-boot-starter-data-mongodb-reactive:2.7.0&quot;\r\n testImplementation &#39;de.flapdoodle.embed:de.flapdoodle.embed.mongo:3.4.6&#39;\r\n```\r\n\r\nWhen I run my test, I&#39;m getting this error:\r\n\r\n```\r\njava.lang.AssertionError: expectation &quot;expectComplete&quot; failed (expected: onComplete(); actual: onError(org.springframework.dao.DataAccessResourceFailureException: Timed out after 30000 ms while waiting for a server that matches WritableServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=localhost:52130, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketReadTimeoutException: Timeout while receiving message}, caused by {java.nio.channels.InterruptedByTimeoutException}}]; nested exception is com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting for a server that matches WritableServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=localhost:52130, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketReadTimeoutException: Timeout while receiving message}, caused by {java.nio.channels.InterruptedByTimeoutException}}]))\r\n\tat reactor.test.MessageFormatter.assertionError(MessageFormatter.java:115)\r\n\tat reactor.test.MessageFormatter.failPrefix(MessageFormatter.java:104)\r\n\tat reactor.test.MessageFormatter.fail(MessageFormatter.java:73)\r\n\tat reactor.test.MessageFormatter.failOptional(MessageFormatter.java:88)\r\n\tat reactor.test.DefaultStepVerifierBuilder.lambda$expectComplete$4(DefaultStepVerifierBuilder.java:336)\r\n\tat reactor.test.DefaultStepVerifierBuilder$SignalEvent.test(DefaultStepVerifierBuilder.java:2218)\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSignal(DefaultStepVerifierBuilder.java:1490)\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onExpectation(DefaultStepVerifierBuilder.java:1438)\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onError(DefaultStepVerifierBuilder.java:1091)\r\n\tat reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)\r\n\tat reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.deferredError(FluxUsingWhen.java:398)\r\n\tat reactor.core.publisher.FluxUsingWhen$RollbackInner.onComplete(FluxUsingWhen.java:475)\r\n\tat reactor.core.publisher.Operators.complete(Operators.java:137)\r\n\tat reactor.core.publisher.MonoEmpty.subscribe(MonoEmpty.java:46)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4400)\r\n\tat reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.onError(FluxUsingWhen.java:364)\r\n\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:842)\r\n\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:608)\r\n\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.drain(FluxFlatMap.java:588)\r\n\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.innerError(FluxFlatMap.java:863)\r\n\tat reactor.core.publisher.FluxFlatMap$FlatMapInner.onError(FluxFlatMap.java:990)\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106)\r\n\tat reactor.core.publisher.Operators.error(Operators.java:198)\r\n\tat reactor.core.publisher.MonoError.subscribe(MonoError.java:53)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4400)\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:192)\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:259)\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onError(MonoFlatMap.java:172)\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106)\r\n\tat reactor.core.publisher.Operators.error(Operators.java:198)\r\n\tat reactor.core.publisher.MonoError.subscribe(MonoError.java:53)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4400)\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:192)\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:259)\r\n\tat reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134)\r\n\tat reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\r\n\tat reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134)\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106)\r\n\tat reactor.core.publisher.Operators.error(Operators.java:198)\r\n\tat reactor.core.publisher.MonoError.subscribe(MonoError.java:53)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4400)\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\r\n\tat reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\r\n\tat reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:192)\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:259)\r\n\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)\r\n\tat reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201)\r\n\tat com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$30(MongoOperationPublisher.java:545)\r\n\tat com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:124)\r\n\tat com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:48)\r\n\tat com.mongodb.internal.operation.CommandOperationHelper.lambda$exceptionTransformingCallback$23(CommandOperationHelper.java:632)\r\n\tat com.mongodb.internal.async.function.AsyncCallbackSupplier.lambda$whenComplete$1(AsyncCallbackSupplier.java:95)\r\n\tat com.mongodb.internal.async.function.RetryingAsyncCallbackSupplier$RetryingCallback.onResult(RetryingAsyncCallbackSupplier.java:109)\r\n\tat com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:48)\r\n\tat com.mongodb.internal.operation.OperationHelper.lambda$withAsyncSuppliedResource$7(OperationHelper.java:649)\r\n\tat com.mongodb.internal.binding.AsyncClusterBinding$2.onResult(AsyncClusterBinding.java:151)\r\n\tat com.mongodb.internal.binding.AsyncClusterBinding$2.onResult(AsyncClusterBinding.java:147)\r\n\tat com.mongodb.internal.connection.BaseCluster$ServerSelectionRequest.onResult(BaseCluster.java:449)\r\n\tat com.mongodb.internal.connection.BaseCluster.handleServerSelectionRequest(BaseCluster.java:320)\r\n\tat com.mongodb.internal.connection.BaseCluster.access$700(BaseCluster.java:66)\r\n\tat com.mongodb.internal.connection.BaseCluster$WaitQueueHandler.run(BaseCluster.java:499)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\tSuppressed: org.springframework.dao.DataAccessResourceFailureException: Timed out after 30000 ms while waiting for a server that matches WritableServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=localhost:52130, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketReadTimeoutException: Timeout while receiving message}, caused by {java.nio.channels.InterruptedByTimeoutException}}]; nested exception is com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting for a server that matches WritableServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=localhost:52130, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketReadTimeoutException: Timeout while receiving message}, caused by {java.nio.channels.InterruptedByTimeoutException}}]\r\n\t\tat org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:95)\r\n\t\tat org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2954)\r\n\t\tat org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$89(ReactiveMongoTemplate.java:2937)\r\n\t\tat reactor.core.publisher.Mono.lambda$onErrorMap$31(Mono.java:3733)\r\n\t\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)\r\n\t\t... 31 more\r\n\tCaused by: com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting for a server that matches WritableServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=localhost:52130, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketReadTimeoutException: Timeout while receiving message}, caused by {java.nio.channels.InterruptedByTimeoutException}}]\r\n\t\tat com.mongodb.internal.connection.BaseCluster.createTimeoutException(BaseCluster.java:424)\r\n```\r\n\r\nDid anybody know what I&#39;m doing wrong?, I can&#39;t figure out why this is happening\r\n\r\nRegards","title":"Mongodb embedded timedout for Spring unit test","body":"<p>I'm trying to test a mongo db repository using flapdoodle embed mongo, my test looks like:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest()\n@TestPropertySource(properties = &quot;spring.mongodb.embedded.version=5.0.6&quot;)\npublic class TaskToDoRepositoryAdapterTest {\n\n    @Autowired\n    private TaskToDoRepositoryAdapter adapter;\n\n    private final TaskToDo task1 = TaskToDo.builder().id(&quot;1&quot;).name(&quot;Task 1&quot;).description(&quot;Task Desc 1&quot;).assignedUserId(&quot;56&quot;).build();\n    private final TaskToDo task2 = TaskToDo.builder().id(&quot;2&quot;).name(&quot;Task 2&quot;).description(&quot;Task Desc 2&quot;).assignedUserId(&quot;56&quot;).build();\n    private final TaskToDo task3 = TaskToDo.builder().id(&quot;3&quot;).name(&quot;Task 3&quot;).description(&quot;Task Desc 3&quot;).assignedUserId(&quot;57&quot;).build();\n    private final TaskToDo task4 = TaskToDo.builder().id(&quot;4&quot;).name(&quot;Task 4&quot;).description(&quot;Task Desc 4&quot;).assignedUserId(&quot;56&quot;).done(true).build();\n\n    @BeforeEach\n    public void saveInitialData() {\n        final Mono&lt;Void&gt; result = adapter.saveAll(just(task1, task2, task3, task4));\n        StepVerifier.create(result).verifyComplete();\n    }\n\n    @Test\n    public void shouldFindAll() {\n        StepVerifier.create(adapter.findAll().collectList())\n            .assertNext(tasks -&gt; assertThat(tasks).contains(task1, task2, task3, task4)).verifyComplete();\n    }\n\n\n    @Test\n    public void findAllUserOpenTasks() {\n        final Flux&lt;TaskToDo&gt; openTasks = adapter.findAllUserOpenTasks(&quot;56&quot;);\n        StepVerifier.create(openTasks.collectList()).assertNext(tasks -&gt;\n            assertThat(tasks).containsOnly(task1, task2))\n            .verifyComplete();\n    }\n\n}\n</code></pre>\n<p>and my gradle dependencies includes spring data mongodb and flapdoodle embed mongo:</p>\n<pre><code> implementation &quot;org.springframework.boot:spring-boot-starter-data-mongodb-reactive:2.7.0&quot;\n testImplementation 'de.flapdoodle.embed:de.flapdoodle.embed.mongo:3.4.6'\n</code></pre>\n<p>When I run my test, I'm getting this error:</p>\n<pre><code>java.lang.AssertionError: expectation &quot;expectComplete&quot; failed (expected: onComplete(); actual: onError(org.springframework.dao.DataAccessResourceFailureException: Timed out after 30000 ms while waiting for a server that matches WritableServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=localhost:52130, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketReadTimeoutException: Timeout while receiving message}, caused by {java.nio.channels.InterruptedByTimeoutException}}]; nested exception is com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting for a server that matches WritableServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=localhost:52130, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketReadTimeoutException: Timeout while receiving message}, caused by {java.nio.channels.InterruptedByTimeoutException}}]))\n    at reactor.test.MessageFormatter.assertionError(MessageFormatter.java:115)\n    at reactor.test.MessageFormatter.failPrefix(MessageFormatter.java:104)\n    at reactor.test.MessageFormatter.fail(MessageFormatter.java:73)\n    at reactor.test.MessageFormatter.failOptional(MessageFormatter.java:88)\n    at reactor.test.DefaultStepVerifierBuilder.lambda$expectComplete$4(DefaultStepVerifierBuilder.java:336)\n    at reactor.test.DefaultStepVerifierBuilder$SignalEvent.test(DefaultStepVerifierBuilder.java:2218)\n    at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSignal(DefaultStepVerifierBuilder.java:1490)\n    at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onExpectation(DefaultStepVerifierBuilder.java:1438)\n    at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onError(DefaultStepVerifierBuilder.java:1091)\n    at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)\n    at reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.deferredError(FluxUsingWhen.java:398)\n    at reactor.core.publisher.FluxUsingWhen$RollbackInner.onComplete(FluxUsingWhen.java:475)\n    at reactor.core.publisher.Operators.complete(Operators.java:137)\n    at reactor.core.publisher.MonoEmpty.subscribe(MonoEmpty.java:46)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4400)\n    at reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.onError(FluxUsingWhen.java:364)\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:842)\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:608)\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.drain(FluxFlatMap.java:588)\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.innerError(FluxFlatMap.java:863)\n    at reactor.core.publisher.FluxFlatMap$FlatMapInner.onError(FluxFlatMap.java:990)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106)\n    at reactor.core.publisher.Operators.error(Operators.java:198)\n    at reactor.core.publisher.MonoError.subscribe(MonoError.java:53)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4400)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:192)\n    at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:259)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onError(MonoFlatMap.java:172)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106)\n    at reactor.core.publisher.Operators.error(Operators.java:198)\n    at reactor.core.publisher.MonoError.subscribe(MonoError.java:53)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4400)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:192)\n    at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:259)\n    at reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134)\n    at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\n    at reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106)\n    at reactor.core.publisher.Operators.error(Operators.java:198)\n    at reactor.core.publisher.MonoError.subscribe(MonoError.java:53)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4400)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\n    at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\n    at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:192)\n    at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:259)\n    at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)\n    at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201)\n    at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$30(MongoOperationPublisher.java:545)\n    at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:124)\n    at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:48)\n    at com.mongodb.internal.operation.CommandOperationHelper.lambda$exceptionTransformingCallback$23(CommandOperationHelper.java:632)\n    at com.mongodb.internal.async.function.AsyncCallbackSupplier.lambda$whenComplete$1(AsyncCallbackSupplier.java:95)\n    at com.mongodb.internal.async.function.RetryingAsyncCallbackSupplier$RetryingCallback.onResult(RetryingAsyncCallbackSupplier.java:109)\n    at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:48)\n    at com.mongodb.internal.operation.OperationHelper.lambda$withAsyncSuppliedResource$7(OperationHelper.java:649)\n    at com.mongodb.internal.binding.AsyncClusterBinding$2.onResult(AsyncClusterBinding.java:151)\n    at com.mongodb.internal.binding.AsyncClusterBinding$2.onResult(AsyncClusterBinding.java:147)\n    at com.mongodb.internal.connection.BaseCluster$ServerSelectionRequest.onResult(BaseCluster.java:449)\n    at com.mongodb.internal.connection.BaseCluster.handleServerSelectionRequest(BaseCluster.java:320)\n    at com.mongodb.internal.connection.BaseCluster.access$700(BaseCluster.java:66)\n    at com.mongodb.internal.connection.BaseCluster$WaitQueueHandler.run(BaseCluster.java:499)\n    at java.lang.Thread.run(Thread.java:748)\n    Suppressed: org.springframework.dao.DataAccessResourceFailureException: Timed out after 30000 ms while waiting for a server that matches WritableServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=localhost:52130, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketReadTimeoutException: Timeout while receiving message}, caused by {java.nio.channels.InterruptedByTimeoutException}}]; nested exception is com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting for a server that matches WritableServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=localhost:52130, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketReadTimeoutException: Timeout while receiving message}, caused by {java.nio.channels.InterruptedByTimeoutException}}]\n        at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:95)\n        at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2954)\n        at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$89(ReactiveMongoTemplate.java:2937)\n        at reactor.core.publisher.Mono.lambda$onErrorMap$31(Mono.java:3733)\n        at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)\n        ... 31 more\n    Caused by: com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting for a server that matches WritableServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=localhost:52130, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketReadTimeoutException: Timeout while receiving message}, caused by {java.nio.channels.InterruptedByTimeoutException}}]\n        at com.mongodb.internal.connection.BaseCluster.createTimeoutException(BaseCluster.java:424)\n</code></pre>\n<p>Did anybody know what I'm doing wrong?, I can't figure out why this is happening</p>\n<p>Regards</p>\n"},{"tags":["java","list","stream","java-stream","java-11"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1653298612,"post_id":72346174,"comment_id":127808852,"body_markdown":"what is criteria of collect here?","body":"what is criteria of collect here?"},{"owner":{"account_id":14221070,"reputation":67,"user_id":10273369,"display_name":"Aman"},"score":0,"creation_date":1653298994,"post_id":72346174,"comment_id":127808984,"body_markdown":"The criteria is to collect pairs based on the String. eg: All Integers for the pair p1 and p2 are collected in a list and combined in one object. Similarly, all Integers for the pair p1 and p3 are combined in another object and same goes for p2 and p3 pair.","body":"The criteria is to collect pairs based on the String. eg: All Integers for the pair p1 and p2 are collected in a list and combined in one object. Similarly, all Integers for the pair p1 and p3 are combined in another object and same goes for p2 and p3 pair."},{"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"score":1,"creation_date":1653300355,"post_id":72346174,"comment_id":127809430,"body_markdown":"I don&#39;t understand how you want the resulting data to be organized. What do the curly brackets and square brackets represent?","body":"I don&#39;t understand how you want the resulting data to be organized. What do the curly brackets and square brackets represent?"},{"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"score":0,"creation_date":1653300403,"post_id":72346174,"comment_id":127809450,"body_markdown":"(I do get the impression it&#39;d be easier with a loop instead.)","body":"(I do get the impression it&#39;d be easier with a loop instead.)"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1653303639,"post_id":72346174,"comment_id":127810633,"body_markdown":"Agree with @Shawn the structure of your objects is not clear. What **type** would you expect as a result in Java ? To begin with, please provide the definition of the `Pair` class and your code-attempt to approach this problem (doesn&#39;t matter with streams or loops).","body":"Agree with @Shawn the structure of your objects is not clear. What <b>type</b> would you expect as a result in Java ? To begin with, please provide the definition of the <code>Pair</code> class and your code-attempt to approach this problem (doesn&#39;t matter with streams or loops)."},{"owner":{"account_id":14221070,"reputation":67,"user_id":10273369,"display_name":"Aman"},"score":0,"creation_date":1653472864,"post_id":72346174,"comment_id":127859090,"body_markdown":"I&#39;ve updated the class structures above!","body":"I&#39;ve updated the class structures above!"}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653505063,"creation_date":1653316999,"answer_id":72350458,"question_id":72346174,"body_markdown":"After the clarifications you&#39;ve given about the classes and their structure I&#39;ve updated my answer. \r\n\r\nBasically, you could group the `Pair` elements in your list `pairs` by the keys of the two contained endpoints. To make the code more readable, I&#39;ve added a method in your `Pair` class (`getPairKeys`) which returns the two endpoint&#39;s keys chained together, but you can avoid it by simply chaining the keys right in the stream if you prefer.\r\n\r\nAfter grouping the `Pair` elements by their keys, you&#39;ll get a `Map` where each chained key maps to the n `Pair` instances with the same keys. At this point, you could stream the `Map`s entries, map each entry to a `CustomPair`, sort them by the first number of the first `CustomEndpoint` and ultimately collect the instances.\r\n\r\nTo make my solution work, I&#39;ve assumed that the implementation of `equals` (and so also of `hashCode`) is present in both `Pair` and `Endpoint`. Also, as I said before, I&#39;ve added a `getPairKeys` method within your `Pair` class to get a `String` mapping each `Pair` and a `getFirstPairInitialNumber` method in the `CustomPair` class to establish a sorting order among `CustomPair`. All the code I&#39;ve just mentioned can be consulted in the link below. I preferred not to post it here to avoid a wall of text and focusing only the actual solution.\r\n\r\n```\r\nList&lt;CustomPair&gt; listRes = pairs.stream()\r\n        .collect(Collectors.groupingBy(Pair::getPairKeys))  //Grouping the Pairs by the keys of the two EndPoints (key1:key2)\r\n        .entrySet().stream()    //Streaming the entries of the map\r\n        .map(entry -&gt; {\r\n            String key1 = null, key2 = null;\r\n\r\n            //Lists for the values of the CustomEndpoint\r\n            List&lt;Integer&gt; listValues1 = new ArrayList&lt;&gt;();\r\n            List&lt;Integer&gt; listValues2 = new ArrayList&lt;&gt;();\r\n\r\n            //Retrieving the keys and adding each pair&#39;s number to the respective lists\r\n            for (Pair p : entry.getValue()) {\r\n                key1 = p.getPair().get(0).getKey();\r\n                key2 = p.getPair().get(1).getKey();\r\n\r\n                listValues1.add(p.getPair().get(0).getNumber());\r\n                listValues2.add(p.getPair().get(1).getNumber());\r\n            }\r\n\r\n            //Returning the new CustomPair in place of the two grouped by Pair\r\n            return new CustomPair(new ArrayList&lt;&gt;(List.of(\r\n                    new CustomEndpoint(key1, listValues1),\r\n                    new CustomEndpoint(key2, listValues2))));\r\n        })\r\n        .sorted(Comparator.comparing(CustomPair::getFirstPairInitialNumber))    //Ordering the CustomPair by the beginning of their endpoint range\r\n        .collect(Collectors.toList());  //Collecting the CustomPair\r\n```\r\n\r\nHere is an updated link to test the code\r\n\r\nhttps://ideone.com/G3XlRS\r\n\r\n&lt;h4&gt;Output&lt;/h4&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Psq3W.png","title":"Mapping nested objects using streams to pair all possible combinations in a List","body":"<p>After the clarifications you've given about the classes and their structure I've updated my answer.</p>\n<p>Basically, you could group the <code>Pair</code> elements in your list <code>pairs</code> by the keys of the two contained endpoints. To make the code more readable, I've added a method in your <code>Pair</code> class (<code>getPairKeys</code>) which returns the two endpoint's keys chained together, but you can avoid it by simply chaining the keys right in the stream if you prefer.</p>\n<p>After grouping the <code>Pair</code> elements by their keys, you'll get a <code>Map</code> where each chained key maps to the n <code>Pair</code> instances with the same keys. At this point, you could stream the <code>Map</code>s entries, map each entry to a <code>CustomPair</code>, sort them by the first number of the first <code>CustomEndpoint</code> and ultimately collect the instances.</p>\n<p>To make my solution work, I've assumed that the implementation of <code>equals</code> (and so also of <code>hashCode</code>) is present in both <code>Pair</code> and <code>Endpoint</code>. Also, as I said before, I've added a <code>getPairKeys</code> method within your <code>Pair</code> class to get a <code>String</code> mapping each <code>Pair</code> and a <code>getFirstPairInitialNumber</code> method in the <code>CustomPair</code> class to establish a sorting order among <code>CustomPair</code>. All the code I've just mentioned can be consulted in the link below. I preferred not to post it here to avoid a wall of text and focusing only the actual solution.</p>\n<pre><code>List&lt;CustomPair&gt; listRes = pairs.stream()\n        .collect(Collectors.groupingBy(Pair::getPairKeys))  //Grouping the Pairs by the keys of the two EndPoints (key1:key2)\n        .entrySet().stream()    //Streaming the entries of the map\n        .map(entry -&gt; {\n            String key1 = null, key2 = null;\n\n            //Lists for the values of the CustomEndpoint\n            List&lt;Integer&gt; listValues1 = new ArrayList&lt;&gt;();\n            List&lt;Integer&gt; listValues2 = new ArrayList&lt;&gt;();\n\n            //Retrieving the keys and adding each pair's number to the respective lists\n            for (Pair p : entry.getValue()) {\n                key1 = p.getPair().get(0).getKey();\n                key2 = p.getPair().get(1).getKey();\n\n                listValues1.add(p.getPair().get(0).getNumber());\n                listValues2.add(p.getPair().get(1).getNumber());\n            }\n\n            //Returning the new CustomPair in place of the two grouped by Pair\n            return new CustomPair(new ArrayList&lt;&gt;(List.of(\n                    new CustomEndpoint(key1, listValues1),\n                    new CustomEndpoint(key2, listValues2))));\n        })\n        .sorted(Comparator.comparing(CustomPair::getFirstPairInitialNumber))    //Ordering the CustomPair by the beginning of their endpoint range\n        .collect(Collectors.toList());  //Collecting the CustomPair\n</code></pre>\n<p>Here is an updated link to test the code</p>\n<p><a href=\"https://ideone.com/G3XlRS\" rel=\"nofollow noreferrer\">https://ideone.com/G3XlRS</a></p>\n<h4>Output</h4>\n<p><a href=\"https://i.stack.imgur.com/Psq3W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Psq3W.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":14221070,"reputation":67,"user_id":10273369,"display_name":"Aman"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":773,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72350458,"answer_count":1,"score":0,"last_activity_date":1653505063,"creation_date":1653297947,"question_id":72346174,"body_markdown":"Let&#39;s say I&#39;ve a nested object that contains a distinct pair of String-Integer objects (let&#39;s call each such pair as `endpoint`). There&#39;s a List called `pair` which contains exactly 2 `endpoint` objects. And another List called `pairs` that can contain any number of (say `n`) `pair` entries and I need to collect every unique pair of Strings along with their corresponding Integer values in a new object.\r\n\r\nConsider the following classes for existing object:\r\n```\r\n    public class Endpoint {\r\n        private String key;\r\n        private Integer number;\r\n\r\n        public Endpoint(String key, Integer number) {\r\n            this.key = key;\r\n            this.number = number;\r\n        }\r\n\r\n        // Getters, Setters and toString()\r\n    }\r\n\r\n    public class Pair {\r\n        // It will have exactly 2 entries\r\n        List&lt;Endpoint&gt; pair;\r\n\r\n        public Pair(List&lt;Endpoint&gt; pair) {\r\n            this.pair = pair;\r\n        }\r\n\r\n        // Getters, Setters and toString()\r\n    }\r\n\r\n```\r\n\r\nConsider the following object (before transformation), where `pairs` is a `List&lt;Pair&gt;`. The entries in `pairs` can be in any order:\r\n```\r\npairs: [\r\n        pair: [{&quot;p1&quot;,1000},{&quot;p2&quot;,2000}],\r\n        pair: [{&quot;p1&quot;,3000},{&quot;p3&quot;,4000}],\r\n        pair: [{&quot;p2&quot;,5000},{&quot;p3&quot;,6000}],\r\n        pair: [{&quot;p1&quot;,2000},{&quot;p2&quot;,3000}],\r\n        pair: [{&quot;p1&quot;,2001},{&quot;p2&quot;,3001}],\r\n        pair: [{&quot;p1&quot;,4000},{&quot;p3&quot;,5000}],\r\n        pair: [{&quot;p1&quot;,4001},{&quot;p3&quot;,5001}],\r\n        pair: [{&quot;p2&quot;,6000},{&quot;p3&quot;,7000}],\r\n        pair: [{&quot;p2&quot;,6001},{&quot;p3&quot;,7001}]\r\n\r\n]\r\n```\r\n\r\nConsider the following classes to populate the result:\r\n```\r\n    public class CustomEndpoint {\r\n        private String key;\r\n        // `numbers` can have any number of entries\r\n        private List&lt;Integer&gt; numbers;\r\n\r\n        public CustomEndpoint(String key, List&lt;Integer&gt; numbers) {\r\n            this.key = key;\r\n            this.numbers = numbers;\r\n        }\r\n\r\n        // Getters, Setters and toString()\r\n    }\r\n\r\n    public class CustomPair {\r\n        // It will have exactly 2 entries\r\n        List&lt;CustomEndpoint&gt; pair;\r\n\r\n        public CustomPair(List&lt;CustomEndpoint&gt; pair) {\r\n            this.pair = pair;\r\n        }\r\n\r\n        // Getters, Setters and toString()\r\n    }\r\n```\r\n\r\nI need to collect it as follows:\r\n```\r\ncustom-pairs: [\r\n    custom-pair: {[{&quot;p1&quot;, [1000,2000,2001]}, {&quot;p2&quot;, [2000,3000,3001]}]},\r\n    custom-pair: {[{&quot;p1&quot;, [3000,4000,4001]}, {&quot;p3&quot;, [4000,5000,5001]}]},\r\n    custom-pair: {[{&quot;p2&quot;, [5000,6000,6001]}, {&quot;p3&quot;, [6000,7000,7001]}]}\r\n]\r\n```\r\nwhere `custom-pairs` is a `List&lt;CustomPair&gt;`. The order of entries in the `numbers` List must be maintained as it were for the input `pair`. e.g Since `1000` in p1 was paired with `2000` in p2, if `1000` is the first entry in `numbers` List for p1 then `2000` must also be the first entry in `numbers` List for p2, for the combination where p1 and p2 are paired together.\r\n\r\nHow can I do this using Streams in Java?","title":"Mapping nested objects using streams to pair all possible combinations in a List","body":"<p>Let's say I've a nested object that contains a distinct pair of String-Integer objects (let's call each such pair as <code>endpoint</code>). There's a List called <code>pair</code> which contains exactly 2 <code>endpoint</code> objects. And another List called <code>pairs</code> that can contain any number of (say <code>n</code>) <code>pair</code> entries and I need to collect every unique pair of Strings along with their corresponding Integer values in a new object.</p>\n<p>Consider the following classes for existing object:</p>\n<pre><code>    public class Endpoint {\n        private String key;\n        private Integer number;\n\n        public Endpoint(String key, Integer number) {\n            this.key = key;\n            this.number = number;\n        }\n\n        // Getters, Setters and toString()\n    }\n\n    public class Pair {\n        // It will have exactly 2 entries\n        List&lt;Endpoint&gt; pair;\n\n        public Pair(List&lt;Endpoint&gt; pair) {\n            this.pair = pair;\n        }\n\n        // Getters, Setters and toString()\n    }\n\n</code></pre>\n<p>Consider the following object (before transformation), where <code>pairs</code> is a <code>List&lt;Pair&gt;</code>. The entries in <code>pairs</code> can be in any order:</p>\n<pre><code>pairs: [\n        pair: [{&quot;p1&quot;,1000},{&quot;p2&quot;,2000}],\n        pair: [{&quot;p1&quot;,3000},{&quot;p3&quot;,4000}],\n        pair: [{&quot;p2&quot;,5000},{&quot;p3&quot;,6000}],\n        pair: [{&quot;p1&quot;,2000},{&quot;p2&quot;,3000}],\n        pair: [{&quot;p1&quot;,2001},{&quot;p2&quot;,3001}],\n        pair: [{&quot;p1&quot;,4000},{&quot;p3&quot;,5000}],\n        pair: [{&quot;p1&quot;,4001},{&quot;p3&quot;,5001}],\n        pair: [{&quot;p2&quot;,6000},{&quot;p3&quot;,7000}],\n        pair: [{&quot;p2&quot;,6001},{&quot;p3&quot;,7001}]\n\n]\n</code></pre>\n<p>Consider the following classes to populate the result:</p>\n<pre><code>    public class CustomEndpoint {\n        private String key;\n        // `numbers` can have any number of entries\n        private List&lt;Integer&gt; numbers;\n\n        public CustomEndpoint(String key, List&lt;Integer&gt; numbers) {\n            this.key = key;\n            this.numbers = numbers;\n        }\n\n        // Getters, Setters and toString()\n    }\n\n    public class CustomPair {\n        // It will have exactly 2 entries\n        List&lt;CustomEndpoint&gt; pair;\n\n        public CustomPair(List&lt;CustomEndpoint&gt; pair) {\n            this.pair = pair;\n        }\n\n        // Getters, Setters and toString()\n    }\n</code></pre>\n<p>I need to collect it as follows:</p>\n<pre><code>custom-pairs: [\n    custom-pair: {[{&quot;p1&quot;, [1000,2000,2001]}, {&quot;p2&quot;, [2000,3000,3001]}]},\n    custom-pair: {[{&quot;p1&quot;, [3000,4000,4001]}, {&quot;p3&quot;, [4000,5000,5001]}]},\n    custom-pair: {[{&quot;p2&quot;, [5000,6000,6001]}, {&quot;p3&quot;, [6000,7000,7001]}]}\n]\n</code></pre>\n<p>where <code>custom-pairs</code> is a <code>List&lt;CustomPair&gt;</code>. The order of entries in the <code>numbers</code> List must be maintained as it were for the input <code>pair</code>. e.g Since <code>1000</code> in p1 was paired with <code>2000</code> in p2, if <code>1000</code> is the first entry in <code>numbers</code> List for p1 then <code>2000</code> must also be the first entry in <code>numbers</code> List for p2, for the combination where p1 and p2 are paired together.</p>\n<p>How can I do this using Streams in Java?</p>\n"},{"tags":["java","runtime.exec"],"comments":[{"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"score":1,"creation_date":1653245720,"post_id":72340400,"comment_id":127798835,"body_markdown":"Does the task `cmd.exe /c task.bat task.job` terminate (succesfully or not)? You should first test the command independently. Also, it would be useful not to discard the exitcode of the executed subprocess, but to examine it: `int exitcode = process.waitFor();`","body":"Does the task <code>cmd.exe &#47;c task.bat task.job</code> terminate (succesfully or not)? You should first test the command independently. Also, it would be useful not to discard the exitcode of the executed subprocess, but to examine it: <code>int exitcode = process.waitFor();</code>"},{"owner":{"account_id":5624486,"reputation":415,"user_id":6092097,"accept_rate":50,"display_name":"Jason"},"score":0,"creation_date":1653245981,"post_id":72340400,"comment_id":127798891,"body_markdown":"@MichailAlexakis running command independently meaning running in cmd without java code? and yes it&#39;s terminated successfully","body":"@MichailAlexakis running command independently meaning running in cmd without java code? and yes it&#39;s terminated successfully"},{"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"score":0,"creation_date":1653246065,"post_id":72340400,"comment_id":127798923,"body_markdown":"yes exactly, run in a CMD terminal","body":"yes exactly, run in a CMD terminal"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1653246120,"post_id":72340400,"comment_id":127798932,"body_markdown":"Implement all the suggestions in [When Runtime.exec() won&#39;t](https://www.infoworld.com/article/2071275/when-runtime-exec---won-t.html) then ignore that it uses `exec(..)` &amp; instead use a `ProcessBuilder`. It should either fix the problem or at least provide better information on what is failing.","body":"Implement all the suggestions in <a href=\"https://www.infoworld.com/article/2071275/when-runtime-exec---won-t.html\" rel=\"nofollow noreferrer\">When Runtime.exec() won&#39;t</a> then ignore that it uses <code>exec(..)</code> &amp; instead use a <code>ProcessBuilder</code>. It should either fix the problem or at least provide better information on what is failing."},{"owner":{"account_id":5624486,"reputation":415,"user_id":6092097,"accept_rate":50,"display_name":"Jason"},"score":0,"creation_date":1653246745,"post_id":72340400,"comment_id":127799061,"body_markdown":"@AndrewThompson like this `ProcessBuilder pb = new ProcessBuilder(&quot;cmd.exe /c task.bat task.job&quot;);\npb.start();` ?","body":"@AndrewThompson like this <code>ProcessBuilder pb = new ProcessBuilder(&quot;cmd.exe &#47;c task.bat task.job&quot;); pb.start();</code> ?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1653247569,"post_id":72340400,"comment_id":127799201,"body_markdown":"Always break the command `String` into an array (`String[]`).","body":"Always break the command <code>String</code> into an array (<code>String[]</code>)."},{"owner":{"account_id":5624486,"reputation":415,"user_id":6092097,"accept_rate":50,"display_name":"Jason"},"score":0,"creation_date":1653247802,"post_id":72340400,"comment_id":127799257,"body_markdown":"@AndrewThompson I didn&#39;t get you?","body":"@AndrewThompson I didn&#39;t get you?"},{"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1653250871,"post_id":72340400,"comment_id":127799887,"body_markdown":"See this [answer](https://stackoverflow.com/a/1421220/5730279) which explains passing the array and use the _path relative_ to your Java-execution directory.","body":"See this <a href=\"https://stackoverflow.com/a/1421220/5730279\">answer</a> which explains passing the array and use the <i>path relative</i> to your Java-execution directory."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1653254026,"post_id":72340400,"comment_id":127800444,"body_markdown":"See Ilya’s answer for proper usage of ProcessBuilder.","body":"See Ilya’s answer for proper usage of ProcessBuilder."}],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653505032,"creation_date":1653246497,"answer_id":72340560,"question_id":72340400,"body_markdown":"According to the JavaDoc of class [`Process`][1] some platforms have a limited buffer for the output:\r\n\r\n&gt;  All its standard I/O (i.e. stdin, stdout, stderr) operations [..] can be accessed via [..] `getOutputStream()`, `getInputStream()`, and `getErrorStream()`. \r\n&gt;  Because some native platforms only provide **limited buffer size** for standard input and output streams, failure to promptly write the input stream or read the output stream of the subprocess **may cause the subprocess to block**, or even deadlock.\r\n\r\nTry the following, before you call `process.waitFor()`:\r\n\r\n1. get the output-streams from the process using [`getErrorStream()`][2] and [`getOutputStream()`][3] and\r\n2. read their contents to flush the buffer\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html#getErrorStream--\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html#getOutputStream--","title":"Why process.waitFor() is not returning?","body":"<p>According to the JavaDoc of class <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html\" rel=\"nofollow noreferrer\"><code>Process</code></a> some platforms have a limited buffer for the output:</p>\n<blockquote>\n<p>All its standard I/O (i.e. stdin, stdout, stderr) operations [..] can be accessed via [..] <code>getOutputStream()</code>, <code>getInputStream()</code>, and <code>getErrorStream()</code>.\nBecause some native platforms only provide <strong>limited buffer size</strong> for standard input and output streams, failure to promptly write the input stream or read the output stream of the subprocess <strong>may cause the subprocess to block</strong>, or even deadlock.</p>\n</blockquote>\n<p>Try the following, before you call <code>process.waitFor()</code>:</p>\n<ol>\n<li>get the output-streams from the process using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html#getErrorStream--\" rel=\"nofollow noreferrer\"><code>getErrorStream()</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html#getOutputStream--\" rel=\"nofollow noreferrer\"><code>getOutputStream()</code></a> and</li>\n<li>read their contents to flush the buffer</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1653247431,"creation_date":1653246722,"answer_id":72340588,"question_id":72340400,"body_markdown":"The `exec` command is returning a process-handle (like the PID).\r\n\r\nIf the process has already terminated, you can query its exit-value with \r\n[`process.exitValue()`][1] as `int`:\r\n\r\n&gt;  By convention, the value `0` indicates *normal termination*.\r\n\r\notherwise if the process is still running:\r\n\r\n&gt;    `IllegalThreadStateException` - if the subprocess represented by this Process object has not yet terminated\r\n\r\nSame for `waitFor()`:\r\n\r\n&gt;  This method returns immediately if the subprocess has already terminated. If the subprocess has not yet terminated, the calling thread will be blocked until the subprocess exits.\r\n\r\nSince the blocking is not what you probably want, can set a timeout here, then return of [`waitFor(long, TimeUnit)`][2] changes.\r\n\r\nSo you can wrap in a try-catch block to get complete control:\r\n```java\r\nProcess process = null;\r\nSystem.out.println(&quot;Task will start soon ..&quot;);\r\ntry {\r\n    process = Runtime.getRuntime().exec(&quot;cmd.exe /c task.bat task.job&quot;);\r\n    System.out.println(&quot;Task started.&quot;);\r\n    boolean alreadyTerminated = process.waitFor(50L, TimeUnit.SECONDS);  // you can also set a timeout\r\n    if (!alreadyTerminated)\r\n        System.out.println(&quot;Task still executing. Will wait for 50 seconds.&quot;);\r\n    int exitValue = process.exitValue();\r\n    System.out.println(&quot;Task completed with exit-code: &quot; + exitValue);\r\n} catch (IllegalThreadStateException e) {\r\n    System.out.println(e);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html#exitValue--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html#waitFor-long-java.util.concurrent.TimeUnit-","title":"Why process.waitFor() is not returning?","body":"<p>The <code>exec</code> command is returning a process-handle (like the PID).</p>\n<p>If the process has already terminated, you can query its exit-value with\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html#exitValue--\" rel=\"nofollow noreferrer\"><code>process.exitValue()</code></a> as <code>int</code>:</p>\n<blockquote>\n<p>By convention, the value <code>0</code> indicates <em>normal termination</em>.</p>\n</blockquote>\n<p>otherwise if the process is still running:</p>\n<blockquote>\n<p><code>IllegalThreadStateException</code> - if the subprocess represented by this Process object has not yet terminated</p>\n</blockquote>\n<p>Same for <code>waitFor()</code>:</p>\n<blockquote>\n<p>This method returns immediately if the subprocess has already terminated. If the subprocess has not yet terminated, the calling thread will be blocked until the subprocess exits.</p>\n</blockquote>\n<p>Since the blocking is not what you probably want, can set a timeout here, then return of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html#waitFor-long-java.util.concurrent.TimeUnit-\" rel=\"nofollow noreferrer\"><code>waitFor(long, TimeUnit)</code></a> changes.</p>\n<p>So you can wrap in a try-catch block to get complete control:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Process process = null;\nSystem.out.println(&quot;Task will start soon ..&quot;);\ntry {\n    process = Runtime.getRuntime().exec(&quot;cmd.exe /c task.bat task.job&quot;);\n    System.out.println(&quot;Task started.&quot;);\n    boolean alreadyTerminated = process.waitFor(50L, TimeUnit.SECONDS);  // you can also set a timeout\n    if (!alreadyTerminated)\n        System.out.println(&quot;Task still executing. Will wait for 50 seconds.&quot;);\n    int exitValue = process.exitValue();\n    System.out.println(&quot;Task completed with exit-code: &quot; + exitValue);\n} catch (IllegalThreadStateException e) {\n    System.out.println(e);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8756721,"reputation":1016,"user_id":6548090,"display_name":"Ilya Sazonov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653248285,"creation_date":1653247257,"answer_id":72340645,"question_id":72340400,"body_markdown":"The problem might be that you should read all output (standard and error, so that process could quit)\r\n\r\nSo, you probably need to do this\r\n```java\r\nfinal ProcessBuilder processBuilder = new ProcessBuilder(&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;task.bat&quot;, &quot;task.job&quot;);\r\n\r\n// if you want process output to be printed by you program\r\nprocessBuilder.redirectError(ProcessBuilder.Redirect.INHERIT);\r\nprocessBuilder.redirectOutput(ProcessBuilder.Redirect.INHERIT);\r\n\r\n// if you don&#39;t want to show anything\r\n// processBuilder.redirectError(ProcessBuilder.Redirect.DISCARD);\r\n// processBuilder.redirectOutput(ProcessBuilder.Redirect.DISCARD);\r\n\r\nProcess process = processBuilder.start();\r\nint exitCode = process.waitFor();\r\nSystem.out.println(exitCode);\r\n\r\n```","title":"Why process.waitFor() is not returning?","body":"<p>The problem might be that you should read all output (standard and error, so that process could quit)</p>\n<p>So, you probably need to do this</p>\n<pre class=\"lang-java prettyprint-override\"><code>final ProcessBuilder processBuilder = new ProcessBuilder(&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;task.bat&quot;, &quot;task.job&quot;);\n\n// if you want process output to be printed by you program\nprocessBuilder.redirectError(ProcessBuilder.Redirect.INHERIT);\nprocessBuilder.redirectOutput(ProcessBuilder.Redirect.INHERIT);\n\n// if you don't want to show anything\n// processBuilder.redirectError(ProcessBuilder.Redirect.DISCARD);\n// processBuilder.redirectOutput(ProcessBuilder.Redirect.DISCARD);\n\nProcess process = processBuilder.start();\nint exitCode = process.waitFor();\nSystem.out.println(exitCode);\n\n</code></pre>\n"}],"owner":{"account_id":5624486,"reputation":415,"user_id":6092097,"accept_rate":50,"display_name":"Jason"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":589,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72340588,"answer_count":3,"score":0,"last_activity_date":1653505032,"creation_date":1653245058,"question_id":72340400,"body_markdown":"I&#39;m trying to execute task with [`Runtime.getRuntime().exec`][1].\r\n\r\n### As expected\r\nI am getting &quot;task started&quot; in console.\r\nAnd the task gets executed and was completed.\r\n\r\n### Issue\r\nNever got &quot;task completed&quot; printed.\r\n\r\nDo you know what could be the reason? or How can I handle?\r\n\r\n### Code\r\n```java\r\nSystem.out.println(&quot;task started&quot;);\r\nProcess process = Runtime.getRuntime().exec(&quot;cmd.exe /c task.bat task.job&quot;);\r\nprocess.waitFor();\r\nSystem.out.println(&quot;task completed&quot;);\r\n```\r\n\r\nWhy is [`process.waitFor()`][2] not returning?\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html#exec-java.lang.String:A-java.lang.String:A-java.io.File-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html#waitFor--","title":"Why process.waitFor() is not returning?","body":"<p>I'm trying to execute task with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html#exec-java.lang.String:A-java.lang.String:A-java.io.File-\" rel=\"nofollow noreferrer\"><code>Runtime.getRuntime().exec</code></a>.</p>\n<h3>As expected</h3>\n<p>I am getting &quot;task started&quot; in console.\nAnd the task gets executed and was completed.</p>\n<h3>Issue</h3>\n<p>Never got &quot;task completed&quot; printed.</p>\n<p>Do you know what could be the reason? or How can I handle?</p>\n<h3>Code</h3>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;task started&quot;);\nProcess process = Runtime.getRuntime().exec(&quot;cmd.exe /c task.bat task.job&quot;);\nprocess.waitFor();\nSystem.out.println(&quot;task completed&quot;);\n</code></pre>\n<p>Why is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html#waitFor--\" rel=\"nofollow noreferrer\"><code>process.waitFor()</code></a> not returning?</p>\n"},{"tags":["java","groovy","reactive-programming","flatmap"],"comments":[{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1653461703,"post_id":72370826,"comment_id":127855094,"body_markdown":"where is the return statement in your method?","body":"where is the return statement in your method?"},{"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"score":0,"creation_date":1653503067,"post_id":72370826,"comment_id":127871053,"body_markdown":"It is `groovy` code, so the last expression would be the method result.","body":"It is <code>groovy</code> code, so the last expression would be the method result."}],"answers":[{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653503710,"creation_date":1653503710,"answer_id":72382656,"question_id":72370826,"body_markdown":"Since\r\n\r\n    getTheReport(third.id).flatMap { size -&gt;\r\n        TaskService.createTasks(size).toFlowable().flatMap({})\r\n    }\r\n\r\nresult is a `Flowalbe`, you should call `flatMap` instead of `map` so that the internal function emitted objects get unpacked into a *flat* result:\r\n\r\n    Flowable&lt;Boolean&gt; checkTriggerDaily() {\r\n    \r\n        List&lt;Bson&gt; fields = new ArrayList&lt;Bson&gt;();\r\n        fields.add(exists(&quot;dueDate&quot;, true));\r\n        Bson filter = and (fields);\r\n    \r\n        Flowable.fromPublisher(marketplaceMongoService.getCollection().find(filter))\r\n            .flatMap { third -&gt; // flatMap instead of map\r\n                getTheReport(third.id).flatMap { size -&gt;\r\n                    TaskService.createTasks(size).toFlowable().flatMap({})\r\n                }\r\n            }\r\n    }","title":"Cannot assign io.reactivex.Flowable &lt;io.reactivex.Maybe&gt; to: io.reactivex.Flowable &lt;Object&gt;","body":"<p>Since</p>\n<pre><code>getTheReport(third.id).flatMap { size -&gt;\n    TaskService.createTasks(size).toFlowable().flatMap({})\n}\n</code></pre>\n<p>result is a <code>Flowalbe</code>, you should call <code>flatMap</code> instead of <code>map</code> so that the internal function emitted objects get unpacked into a <em>flat</em> result:</p>\n<pre><code>Flowable&lt;Boolean&gt; checkTriggerDaily() {\n\n    List&lt;Bson&gt; fields = new ArrayList&lt;Bson&gt;();\n    fields.add(exists(&quot;dueDate&quot;, true));\n    Bson filter = and (fields);\n\n    Flowable.fromPublisher(marketplaceMongoService.getCollection().find(filter))\n        .flatMap { third -&gt; // flatMap instead of map\n            getTheReport(third.id).flatMap { size -&gt;\n                TaskService.createTasks(size).toFlowable().flatMap({})\n            }\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":6192917,"reputation":17,"user_id":4825141,"display_name":"Cedez Marie G. Gulane"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653503710,"creation_date":1653438745,"question_id":72370826,"body_markdown":"Hope You&#39;re all doing will. I&#39;m very new to this and I keep getting issues with incompatible types. \r\n\r\n\r\n    Flowable&lt;Boolean&gt; checkTriggerDaily() {\r\n    \r\n            List&lt;Bson&gt; fields = new ArrayList&lt;Bson&gt;();\r\n            fields.add(exists(&quot;dueDate&quot;, true));\r\n            Bson filter = and(fields);\r\n    \r\n            Flowable.fromPublisher(marketplaceMongoService.getCollection().find(filter)).map{ third -&gt;\r\n                        getTheReport(third.id).flatMap { size -&gt;\r\n                         TaskService.createTasks(size).toFlowable().flatMap({})\r\n                        }\r\n                    }\r\n        }\r\n\r\nI keep getting the same error on the title. What this function does is loop through a mongo collection and call getTheReport every item. What the getTheReportReturns, i process it to createTasks function. \r\n\r\ngetTheReport -&gt; returns Maybe\r\ncreateTasks -&gt; returns Maybe \r\n","title":"Cannot assign io.reactivex.Flowable &lt;io.reactivex.Maybe&gt; to: io.reactivex.Flowable &lt;Object&gt;","body":"<p>Hope You're all doing will. I'm very new to this and I keep getting issues with incompatible types.</p>\n<pre><code>Flowable&lt;Boolean&gt; checkTriggerDaily() {\n\n        List&lt;Bson&gt; fields = new ArrayList&lt;Bson&gt;();\n        fields.add(exists(&quot;dueDate&quot;, true));\n        Bson filter = and(fields);\n\n        Flowable.fromPublisher(marketplaceMongoService.getCollection().find(filter)).map{ third -&gt;\n                    getTheReport(third.id).flatMap { size -&gt;\n                     TaskService.createTasks(size).toFlowable().flatMap({})\n                    }\n                }\n    }\n</code></pre>\n<p>I keep getting the same error on the title. What this function does is loop through a mongo collection and call getTheReport every item. What the getTheReportReturns, i process it to createTasks function.</p>\n<p>getTheReport -&gt; returns Maybe\ncreateTasks -&gt; returns Maybe</p>\n"},{"tags":["java","driver","native","libraries","thermal-printer"],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653502138,"creation_date":1653502138,"answer_id":72382381,"question_id":72376169,"body_markdown":"Although you are allowed to set `java.library.path` in code, it won’t have any effect.  From [the documentation of System.getProperties()](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/System.html#getProperties()):\r\n\r\n&gt;**Changing a standard system property may have unpredictable results unless otherwise specified.** Property values may be cached during initialization or on first use. Setting a standard property after initialization using `getProperties()`, `setProperties(Properties)`, `setProperty(String, String)`, or `clearProperty(String)` may not have the desired effect.\r\n\r\n(Emphasis theirs.)\r\n\r\nYou have two options:\r\n\r\n1. Set `java.library.path` when Java starts up:  `java -Djava.library.path=/home/daniel/configuration/devices/printer/CITIZENS2000 -jar MyApplication.jar`\r\n2. Forget about the library path, and load the driver file directly using [System.load(filename)](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/System.html#load(java.lang.String)) instead of Sytem.loadLibrary: `System.load(&quot;/home/daniel/configuration/devices/printer/CITIZENS2000/libCSJjposCom.so&quot;)`\r\n\r\nObviously, the first option is only available if you have the power to specify JVM options.  And the second option will only work on the one computer where that file resides.\r\n\r\nIf you desire portability, you may able to bundle the library with your application, then copy it to the temporary directory and load it from there.\r\n","title":"Java Loading Native Libraries","body":"<p>Although you are allowed to set <code>java.library.path</code> in code, it won’t have any effect.  From <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/System.html#getProperties()\" rel=\"nofollow noreferrer\">the documentation of System.getProperties()</a>:</p>\n<blockquote>\n<p><strong>Changing a standard system property may have unpredictable results unless otherwise specified.</strong> Property values may be cached during initialization or on first use. Setting a standard property after initialization using <code>getProperties()</code>, <code>setProperties(Properties)</code>, <code>setProperty(String, String)</code>, or <code>clearProperty(String)</code> may not have the desired effect.</p>\n</blockquote>\n<p>(Emphasis theirs.)</p>\n<p>You have two options:</p>\n<ol>\n<li>Set <code>java.library.path</code> when Java starts up:  <code>java -Djava.library.path=/home/daniel/configuration/devices/printer/CITIZENS2000 -jar MyApplication.jar</code></li>\n<li>Forget about the library path, and load the driver file directly using <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/System.html#load(java.lang.String)\" rel=\"nofollow noreferrer\">System.load(filename)</a> instead of Sytem.loadLibrary: <code>System.load(&quot;/home/daniel/configuration/devices/printer/CITIZENS2000/libCSJjposCom.so&quot;)</code></li>\n</ol>\n<p>Obviously, the first option is only available if you have the power to specify JVM options.  And the second option will only work on the one computer where that file resides.</p>\n<p>If you desire portability, you may able to bundle the library with your application, then copy it to the temporary directory and load it from there.</p>\n"}],"owner":{"account_id":18525912,"reputation":53,"user_id":14426675,"display_name":"LordCommander"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72382381,"answer_count":1,"score":0,"last_activity_date":1653502138,"creation_date":1653475489,"question_id":72376169,"body_markdown":"I have printer driver on path: `/home/daniel/configuration/devices/printer/CITIZENS2000/libCSJjposCom.so`\r\n \r\nI need to load this driver into my java application, I&#39;m using this code below: &lt;br&gt;&lt;br&gt;\r\n\r\n    @Override\r\n    public void addLibraryPath(String pathToAdd) {\r\n        try {\r\n            System.setProperty(&quot;java.library.path&quot;, System.getProperty(&quot;java.library.path&quot;) + &quot;:/home/daniel/configuration/devices/printer/CITIZENS2000&quot;);\r\n\r\n            System.loadLibrary(&quot;CSJjposCom&quot;);\r\n        } catch (Exception e) {\r\n            throw new IllegalStateException(&quot;Failed to load library&quot;, e);\r\n        }\r\n    }\r\n\r\n&lt;br&gt;But i&#39;m getting exception on \r\n`loadLibrary() method: Method threw &#39;java.lang.UnsatisfiedLinkError&#39;` exception. (no CSJjposCom in java.library.path);\r\n\r\nHow can I fix it?\r\n\r\n","title":"Java Loading Native Libraries","body":"<p>I have printer driver on path: <code>/home/daniel/configuration/devices/printer/CITIZENS2000/libCSJjposCom.so</code></p>\n<p>I need to load this driver into my java application, I'm using this code below: <br><br></p>\n<pre><code>@Override\npublic void addLibraryPath(String pathToAdd) {\n    try {\n        System.setProperty(&quot;java.library.path&quot;, System.getProperty(&quot;java.library.path&quot;) + &quot;:/home/daniel/configuration/devices/printer/CITIZENS2000&quot;);\n\n        System.loadLibrary(&quot;CSJjposCom&quot;);\n    } catch (Exception e) {\n        throw new IllegalStateException(&quot;Failed to load library&quot;, e);\n    }\n}\n</code></pre>\n<p><br>But i'm getting exception on\n<code>loadLibrary() method: Method threw 'java.lang.UnsatisfiedLinkError'</code> exception. (no CSJjposCom in java.library.path);</p>\n<p>How can I fix it?</p>\n"},{"tags":["java","list","loops"],"comments":[{"owner":{"account_id":8617827,"reputation":340,"user_id":6453976,"accept_rate":83,"display_name":"M.Soyturk"},"score":0,"creation_date":1653501350,"post_id":72382220,"comment_id":127870480,"body_markdown":"There is only one loop in the code snippet. Also, you need to explain what attack_pos array holds.","body":"There is only one loop in the code snippet. Also, you need to explain what attack_pos array holds."},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":2,"creation_date":1653501431,"post_id":72382220,"comment_id":127870511,"body_markdown":"It will never run because your loop condition will never be true.  Take out the array  from `int j = attack_pos[1] + 1; j &lt; attack_pos[1] - 1;` and look at your code `int j = 1; j &lt; -1` is your loop condition, of course `1` is not less than `-1`","body":"It will never run because your loop condition will never be true.  Take out the array  from <code>int j = attack_pos[1] + 1; j &lt; attack_pos[1] - 1;</code> and look at your code <code>int j = 1; j &lt; -1</code> is your loop condition, of course <code>1</code> is not less than <code>-1</code>"},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1653501783,"post_id":72382220,"comment_id":127870618,"body_markdown":"It is proceeding to the inner loop but that iteration ends immediately because your initial state fails the test.","body":"It is proceeding to the inner loop but that iteration ends immediately because your initial state fails the test."}],"answers":[{"tags":[],"owner":{"account_id":126903,"reputation":6695,"user_id":323720,"accept_rate":54,"display_name":"Bijan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653501551,"creation_date":1653501551,"answer_id":72382275,"question_id":72382220,"body_markdown":"say attack_pos[1] = 10\r\n\r\ninitial: `j = attack_pos[1] + 1`\r\n\r\n`j` starts at 10+1=11\r\n\r\ncondition: `j &lt; attack_pos[1] - 1`\r\n\r\n`j` is never less than 10-1=9\r\n\r\ntherefore the condition of the inner loop is never satisfied.","title":"Nested for loop not proceeding to the inner loop","body":"<p>say attack_pos[1] = 10</p>\n<p>initial: <code>j = attack_pos[1] + 1</code></p>\n<p><code>j</code> starts at 10+1=11</p>\n<p>condition: <code>j &lt; attack_pos[1] - 1</code></p>\n<p><code>j</code> is never less than 10-1=9</p>\n<p>therefore the condition of the inner loop is never satisfied.</p>\n"}],"owner":{"account_id":19189995,"reputation":5,"user_id":14019933,"display_name":"Matt Lindsey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1653501551,"creation_date":1653501240,"question_id":72382220,"body_markdown":"I have this nested for loop to add values to an array, but for some reason, the internal for loop is being skipped \r\n\r\n``` \r\nfor(int i = attack_pos[0] + 2; i &lt; attack_pos[0] + 5; i++) {\r\n\t radius.add(i);\r\n\t for (int j = attack_pos[1] + 1; j &lt; attack_pos[1] - 1; j ++) {\r\n\t\tradius.add(j);\r\n\t\tradius.add(i);\r\n\t}\r\n\t\t\t\r\n}\r\n```","title":"Nested for loop not proceeding to the inner loop","body":"<p>I have this nested for loop to add values to an array, but for some reason, the internal for loop is being skipped</p>\n<pre><code>for(int i = attack_pos[0] + 2; i &lt; attack_pos[0] + 5; i++) {\n     radius.add(i);\n     for (int j = attack_pos[1] + 1; j &lt; attack_pos[1] - 1; j ++) {\n        radius.add(j);\n        radius.add(i);\n    }\n            \n}\n</code></pre>\n"},{"tags":["java","hibernate","single-table-inheritance","jpa-2.1"],"comments":[{"owner":{"account_id":1161198,"reputation":1653,"user_id":1140659,"accept_rate":75,"display_name":"Roeland Van Heddegem"},"score":0,"creation_date":1509974999,"post_id":36172996,"comment_id":81225357,"body_markdown":"The link in update 3 should be the solution of this issue","body":"The link in update 3 should be the solution of this issue"},{"owner":{"account_id":7215228,"reputation":1692,"user_id":5507961,"accept_rate":75,"display_name":"Javier Toja"},"score":0,"creation_date":1510045233,"post_id":36172996,"comment_id":81256877,"body_markdown":"@rvheddeg updated !","body":"@rvheddeg updated !"}],"answers":[{"tags":[],"owner":{"account_id":7215228,"reputation":1692,"user_id":5507961,"accept_rate":75,"display_name":"Javier Toja"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1563027561,"creation_date":1458849742,"answer_id":36209071,"question_id":36172996,"body_markdown":"As in update one on this [link][1] is more info from Hibernate official forum with a possible solution.\r\n\r\n**UPDATE:** [Link with the solution][2]\r\n\r\n\r\n  [1]: https://forum.hibernate.org/viewtopic.php?f=1&amp;t=1043080\r\n  [2]: https://in.relation.to/2017/02/01/non-temporary-table-bulk-id-strategies/","title":"Hibernate HT_ Temporary Tables ON JOINED inheritance, Migration from Hibernate 3.4.0.GA To 5.1","body":"<p>As in update one on this <a href=\"https://forum.hibernate.org/viewtopic.php?f=1&amp;t=1043080\" rel=\"noreferrer\">link</a> is more info from Hibernate official forum with a possible solution.</p>\n\n<p><strong>UPDATE:</strong> <a href=\"https://in.relation.to/2017/02/01/non-temporary-table-bulk-id-strategies/\" rel=\"noreferrer\">Link with the solution</a></p>\n"},{"tags":[],"owner":{"account_id":9754652,"reputation":156,"user_id":7231810,"display_name":"mihir raj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653501127,"creation_date":1653186003,"answer_id":72334373,"question_id":36172996,"body_markdown":"If you use Oracle Database with Spring and not sure where to define property for hibernate can do the following.\r\nAdd\r\n\r\n    spring.jpa.properties.hibernate.hql.bulk_id_strategy: org.hibernate.hql.spi.id.inline.InlineIdsInClauseBulkIdStrategy\r\n\r\nIn application.yml file from resource folder.","title":"Hibernate HT_ Temporary Tables ON JOINED inheritance, Migration from Hibernate 3.4.0.GA To 5.1","body":"<p>If you use Oracle Database with Spring and not sure where to define property for hibernate can do the following.\nAdd</p>\n<pre><code>spring.jpa.properties.hibernate.hql.bulk_id_strategy: org.hibernate.hql.spi.id.inline.InlineIdsInClauseBulkIdStrategy\n</code></pre>\n<p>In application.yml file from resource folder.</p>\n"}],"owner":{"account_id":7215228,"reputation":1692,"user_id":5507961,"accept_rate":75,"display_name":"Javier Toja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16230,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":36209071,"answer_count":2,"score":19,"last_activity_date":1653501127,"creation_date":1458721380,"question_id":36172996,"body_markdown":"I&#39;m trying to migrate an application from Hibernate 3.4.0.GA to Hibernate 5.1, and after complete the required changes on java code, when I deploy the application I&#39;m watching how Hibernate is trying to **create HT_ tables** (global temporary), one for each **@Inheritance** annotated entity.\r\n\r\nSearching on Google I&#39;ve [found ][1] why the tables are being created.\r\n\r\nBut in my case we are not allow to change de database to add new tables.\r\n\r\nMy Inheritance model only has one level of Inheritance and its simple, [example][2]\r\n\r\nDoes anyone knows any alternative representation for a hierarchical table structure that I can use to **avoid the HT_ tables creation**, or some Hibernate configuration to archive the same purpose?.\r\n\r\nI can change the inheritance hierarchy on our entities or the Hibernate configuration. I can also asume an exception on deploy caused by the non creation of the tables if it&#180;s non blocking for the rest of the deploy.\r\n\r\n\r\nThank you in advance.\r\n\r\n**UPDATE 1:** [New info from Hibernate official forum.][3]\r\n\r\n\r\n**UPDATE 2:** [The Bug was fixed][4]\r\n\r\n**UPDATE 3:** [A blog entry explaining different bulk Strategies related to the issue][5]\r\n\r\n\r\n  [1]: http://in.relation.to/2005/07/20/multitable-bulk-operations/\r\n  [2]: https://imagebin.ca/v/2b8fz1IrTnEt\r\n  [3]: https://forum.hibernate.org/viewtopic.php?f=1&amp;t=1043080\r\n  [4]: https://hibernate.atlassian.net/browse/HHH-11262\r\n  [5]: https://in.relation.to/2017/02/01/non-temporary-table-bulk-id-strategies/","title":"Hibernate HT_ Temporary Tables ON JOINED inheritance, Migration from Hibernate 3.4.0.GA To 5.1","body":"<p>I'm trying to migrate an application from Hibernate 3.4.0.GA to Hibernate 5.1, and after complete the required changes on java code, when I deploy the application I'm watching how Hibernate is trying to <strong>create HT_ tables</strong> (global temporary), one for each <strong>@Inheritance</strong> annotated entity.</p>\n\n<p>Searching on Google I've <a href=\"http://in.relation.to/2005/07/20/multitable-bulk-operations/\" rel=\"nofollow noreferrer\">found </a> why the tables are being created.</p>\n\n<p>But in my case we are not allow to change de database to add new tables.</p>\n\n<p>My Inheritance model only has one level of Inheritance and its simple, <a href=\"https://imagebin.ca/v/2b8fz1IrTnEt\" rel=\"nofollow noreferrer\">example</a></p>\n\n<p>Does anyone knows any alternative representation for a hierarchical table structure that I can use to <strong>avoid the HT_ tables creation</strong>, or some Hibernate configuration to archive the same purpose?.</p>\n\n<p>I can change the inheritance hierarchy on our entities or the Hibernate configuration. I can also asume an exception on deploy caused by the non creation of the tables if it´s non blocking for the rest of the deploy.</p>\n\n<p>Thank you in advance.</p>\n\n<p><strong>UPDATE 1:</strong> <a href=\"https://forum.hibernate.org/viewtopic.php?f=1&amp;t=1043080\" rel=\"nofollow noreferrer\">New info from Hibernate official forum.</a></p>\n\n<p><strong>UPDATE 2:</strong> <a href=\"https://hibernate.atlassian.net/browse/HHH-11262\" rel=\"nofollow noreferrer\">The Bug was fixed</a></p>\n\n<p><strong>UPDATE 3:</strong> <a href=\"https://in.relation.to/2017/02/01/non-temporary-table-bulk-id-strategies/\" rel=\"nofollow noreferrer\">A blog entry explaining different bulk Strategies related to the issue</a></p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1653495194,"post_id":72380849,"comment_id":127868285,"body_markdown":"What is `Shape shape = null; root.getChildren().remove(shape);` (or, equivalently, `root.getChildren().remove(null);`) supposed to do?","body":"What is <code>Shape shape = null; root.getChildren().remove(shape);</code> (or, equivalently, <code>root.getChildren().remove(null);</code>) supposed to do?"},{"owner":{"account_id":9432661,"reputation":568,"user_id":7015657,"display_name":"cmp"},"score":0,"creation_date":1653495349,"post_id":72380849,"comment_id":127868348,"body_markdown":"Create a reference to shape. Without this, I get an error. The idea is then that I can create any shape object called shape, cast it to the required shape and add remove.  root.getChildren().remove(shape); is my attempt at first removing ANY shape in the scene before generating the current required shape. Hope this makes sense!","body":"Create a reference to shape. Without this, I get an error. The idea is then that I can create any shape object called shape, cast it to the required shape and add remove.  root.getChildren().remove(shape); is my attempt at first removing ANY shape in the scene before generating the current required shape. Hope this makes sense!"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1653495416,"post_id":72380849,"comment_id":127868379,"body_markdown":"But you&#39;re just passing a null reference. How is that going to remove the existing shape? Why don&#39;t you just make `shape` an instance variable?","body":"But you&#39;re just passing a null reference. How is that going to remove the existing shape? Why don&#39;t you just make <code>shape</code> an instance variable?"},{"owner":{"account_id":9432661,"reputation":568,"user_id":7015657,"display_name":"cmp"},"score":0,"creation_date":1653495644,"post_id":72380849,"comment_id":127868472,"body_markdown":"Ok....I have just followed your suggestion and now it works. Thank you so much!","body":"Ok....I have just followed your suggestion and now it works. Thank you so much!"}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653501100,"creation_date":1653495652,"answer_id":72381201,"question_id":72380849,"body_markdown":"Just make `shape` an instance variable. Also note there is no need for all the ugly downcasting.\r\n\r\n    public class GenShape extends Application \r\n    {\r\n    \r\n        private Shape shape ;\r\n    \r\n        @Override    \r\n        public void start(Stage stage) \r\n        {       \r\n            // configure text fields for input         \r\n            TextField shapeNoSidesField = new TextField();         \r\n            shapeNoSidesField.setMaxWidth(23);         \r\n            \r\n            // configure label fields        \r\n            Label shapeNoSidesLabel = new Label(&quot;Enter Desired Number Of Shape Sides:&quot;);         \r\n            shapeNoSidesLabel.setTextFill(Color.RED);         \r\n            shapeNoSidesLabel.setFont(Font.font(&quot;Arial&quot;, 10));   \r\n    \r\n            // configure generate shape button         \r\n            Button generateShapeButton = new Button();         \r\n            generateShapeButton.setText(&quot;Generate Shape&quot;);\r\n            \r\n            // configure an HBox input components                       \r\n            HBox inputComponents = new HBox(40);\r\n            inputComponents.setAlignment(Pos.CENTER);        \r\n            inputComponents.getChildren().addAll(shapeNoSidesLabel, shapeNoSidesField);  \r\n            \r\n            // configure vbox\r\n            VBox root = new VBox(50);         \r\n            root.setAlignment(Pos.CENTER);        \r\n            root.getChildren().addAll(inputComponents, generateShapeButton); \r\n            \r\n            \r\n            // Generate shape based on user Integral input. Perform input checks.\r\n            generateShapeButton.setOnAction( e -&gt;                     \r\n            {   \r\n                if (shape != null) {\r\n                    root.getChildren().remove(shape);\r\n                }\r\n    \r\n                // Perform input checks using helper variables. Assert no of sides field not null.\r\n                boolean shapeFieldIsEmpty = shapeNoSidesField.getText().isEmpty();\r\n                if(shapeFieldIsEmpty)        \r\n                {                               \r\n                    System.out.println(&quot;Number of Sides Field Cannot Be Empty. Please Enter a Number Between 3 and 5 Inclusive.&quot;);\r\n                    display.setText(&quot;Number of Sides Field Cannot Be Empty. Please Enter a Number Between 3 and 5 Inclusive.&quot;);\r\n                }\r\n                else \r\n                {\r\n                    // Retrieve user required number of sides\r\n                    int numberOfSides = Integer.parseInt(shapeNoSidesField.getText());\r\n                    switch(numberOfSides) \r\n                    {\r\n                        // User enters shape requirement of three sides (Polygon object)\r\n                        case 3:\r\n                            Polygon poly = new Polygon();\r\n                            poly.getPoints().addAll(new Double[]\r\n                                    {\r\n                                        100., 70.,\r\n                                        100., 250.,\r\n                                        400., 250.\r\n                                    });\r\n                            root.getChildren().add(poly);\r\n                            this.shape = poly ;\r\n                            break;\r\n                        case 4:\r\n                            Rectangle rect = new Rectangle();\r\n                            rect.setX(150f);\r\n                            rect.setY(75.0f); \r\n                            rect.setWidth(300.0f); \r\n                            rect.setHeight(150.0f);\r\n                            root.getChildren().add(rect);\r\n                            this.shape = rect ;\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n          \r\n                }                                                                        \r\n            }                                     \r\n        ); \r\n            \r\n            // create a new scene and add it to the stage         \r\n            Scene scene = new Scene(root, 500, 500);         \r\n            stage.setScene(scene);         \r\n            stage.setTitle(&quot;Shapes&quot;);        \r\n            stage.show();             \r\n            }\r\n        public static void main(String[] args) \r\n        {\r\n            // TODO Auto-generated method stub\r\n            launch(args);     \r\n        }\r\n    }","title":"JavaFX - Remove Shape With Button setOnAction","body":"<p>Just make <code>shape</code> an instance variable. Also note there is no need for all the ugly downcasting.</p>\n<pre><code>public class GenShape extends Application \n{\n\n    private Shape shape ;\n\n    @Override    \n    public void start(Stage stage) \n    {       \n        // configure text fields for input         \n        TextField shapeNoSidesField = new TextField();         \n        shapeNoSidesField.setMaxWidth(23);         \n        \n        // configure label fields        \n        Label shapeNoSidesLabel = new Label(&quot;Enter Desired Number Of Shape Sides:&quot;);         \n        shapeNoSidesLabel.setTextFill(Color.RED);         \n        shapeNoSidesLabel.setFont(Font.font(&quot;Arial&quot;, 10));   \n\n        // configure generate shape button         \n        Button generateShapeButton = new Button();         \n        generateShapeButton.setText(&quot;Generate Shape&quot;);\n        \n        // configure an HBox input components                       \n        HBox inputComponents = new HBox(40);\n        inputComponents.setAlignment(Pos.CENTER);        \n        inputComponents.getChildren().addAll(shapeNoSidesLabel, shapeNoSidesField);  \n        \n        // configure vbox\n        VBox root = new VBox(50);         \n        root.setAlignment(Pos.CENTER);        \n        root.getChildren().addAll(inputComponents, generateShapeButton); \n        \n        \n        // Generate shape based on user Integral input. Perform input checks.\n        generateShapeButton.setOnAction( e -&gt;                     \n        {   \n            if (shape != null) {\n                root.getChildren().remove(shape);\n            }\n\n            // Perform input checks using helper variables. Assert no of sides field not null.\n            boolean shapeFieldIsEmpty = shapeNoSidesField.getText().isEmpty();\n            if(shapeFieldIsEmpty)        \n            {                               \n                System.out.println(&quot;Number of Sides Field Cannot Be Empty. Please Enter a Number Between 3 and 5 Inclusive.&quot;);\n                display.setText(&quot;Number of Sides Field Cannot Be Empty. Please Enter a Number Between 3 and 5 Inclusive.&quot;);\n            }\n            else \n            {\n                // Retrieve user required number of sides\n                int numberOfSides = Integer.parseInt(shapeNoSidesField.getText());\n                switch(numberOfSides) \n                {\n                    // User enters shape requirement of three sides (Polygon object)\n                    case 3:\n                        Polygon poly = new Polygon();\n                        poly.getPoints().addAll(new Double[]\n                                {\n                                    100., 70.,\n                                    100., 250.,\n                                    400., 250.\n                                });\n                        root.getChildren().add(poly);\n                        this.shape = poly ;\n                        break;\n                    case 4:\n                        Rectangle rect = new Rectangle();\n                        rect.setX(150f);\n                        rect.setY(75.0f); \n                        rect.setWidth(300.0f); \n                        rect.setHeight(150.0f);\n                        root.getChildren().add(rect);\n                        this.shape = rect ;\n                        break;\n                    default:\n                        break;\n                }\n      \n            }                                                                        \n        }                                     \n    ); \n        \n        // create a new scene and add it to the stage         \n        Scene scene = new Scene(root, 500, 500);         \n        stage.setScene(scene);         \n        stage.setTitle(&quot;Shapes&quot;);        \n        stage.show();             \n        }\n    public static void main(String[] args) \n    {\n        // TODO Auto-generated method stub\n        launch(args);     \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9432661,"reputation":568,"user_id":7015657,"display_name":"cmp"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":72381201,"answer_count":1,"score":-1,"last_activity_date":1653501100,"creation_date":1653494213,"question_id":72380849,"body_markdown":"I am trying to create an application where a user inputs a number of sides, and upon clicking a button, removes any current shape from the Scene and generates a shape with the specified number of sides. \r\n\r\nWhilst the logic to generate the shape is working, implementation `root.getChildren().remove(shape);` does not appear to be working?\r\n\r\n\r\n    public class genShape extends Application \r\n    {\r\n    \t@Override    \r\n    \tpublic void start(Stage stage) \r\n    \t{\t\t\r\n    \t\t// configure text fields for input         \r\n    \t\tTextField shapeNoSidesField = new TextField();         \r\n    \t\tshapeNoSidesField.setMaxWidth(23);         \r\n    \t\t\r\n    \t\t// configure label fields        \r\n    \t\tLabel shapeNoSidesLabel = new Label(&quot;Enter Desired Number Of Shape Sides:&quot;);         \r\n    \t\tshapeNoSidesLabel.setTextFill(Color.RED);         \r\n    \t\tshapeNoSidesLabel.setFont(Font.font(&quot;Arial&quot;, 10));   \r\n    \r\n    \t\t// configure generate shape button         \r\n    \t\tButton generateShapeButton = new Button();         \r\n    \t\tgenerateShapeButton.setText(&quot;Generate Shape&quot;);\r\n    \t\t\r\n    \t\t// configure an HBox input components                       \r\n    \t\tHBox inputComponents = new HBox(40);\r\n    \t\tinputComponents.setAlignment(Pos.CENTER);        \r\n    \t\tinputComponents.getChildren().addAll(shapeNoSidesLabel, shapeNoSidesField);  \r\n    \t\t\r\n    \t\t// configure vbox\r\n    \t\tVBox root = new VBox(50);         \r\n    \t\troot.setAlignment(Pos.CENTER);        \r\n    \t\troot.getChildren().addAll(inputComponents, generateShapeButton); \r\n    \t\t\r\n    \t\t\r\n    \t\t// Generate shape based on user Integral input. Perform input checks.\r\n    \t\tgenerateShapeButton.setOnAction( e -&gt;                     \r\n    \t\t{   \r\n    \t\t\tShape shape = null;\r\n    \t\t\troot.getChildren().remove(shape);\r\n    \t\t\t// Perform input checks using helper variables. Assert no of sides field not null.\r\n    \t\t\tboolean shapeFieldIsEmpty = shapeNoSidesField.getText().isEmpty();\r\n    \t\t\tif(shapeFieldIsEmpty)        \r\n    \t\t\t{                               \r\n    \t\t\t\tSystem.out.println(&quot;Number of Sides Field Cannot Be Empty. Please Enter a Number Between 3 and 5 Inclusive.&quot;);\r\n    \t\t\t\tdisplay.setText(&quot;Number of Sides Field Cannot Be Empty. Please Enter a Number Between 3 and 5 Inclusive.&quot;);\r\n    \t\t\t}\r\n    \t\t\telse \r\n    \t\t\t{\r\n    \t\t\t\t// Retrieve user required number of sides\r\n    \t\t\t\tint numberOfSides = Integer.parseInt(shapeNoSidesField.getText());\r\n    \t\t\t\tswitch(numberOfSides) \r\n    \t\t\t\t{\r\n    \t\t\t\t    // User enters shape requirement of three sides (Polygon object)\r\n    \t\t\t\t\tcase 3:\r\n    \t\t\t\t\t\tshape = new Polygon();\r\n    \t\t\t\t\t\t((Polygon) shape).getPoints().addAll(new Double[]\r\n    \t\t\t\t\t\t\t\t{\r\n    \t\t\t\t\t        \t    100., 70.,\r\n    \t\t\t\t\t        \t    100., 250.,\r\n    \t\t\t\t\t        \t    400., 250.\r\n    \t\t\t\t        \t    });\r\n    \t\t\t\t\t\troot.getChildren().add(shape);\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase 4:\r\n    \t\t\t\t\t\tshape = new Rectangle();\r\n    \t\t\t\t\t\t((Rectangle) shape).setX(150f);\r\n    \t\t\t\t\t\t((Rectangle) shape).setY(75.0f); \r\n    \t\t\t\t\t\t((Rectangle) shape).setWidth(300.0f); \r\n    \t\t\t\t\t\t((Rectangle) shape).setHeight(150.0f);\r\n    \t\t\t\t\t\troot.getChildren().add(shape);\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tdefault:\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n          \r\n    \t\t\t}                                                                        \r\n    \t\t}                                     \r\n    \t); \r\n    \t\t\r\n    \t\t// create a new scene and add it to the stage         \r\n    \t\tScene scene = new Scene(root, 500, 500);         \r\n    \t\tstage.setScene(scene);         \r\n    \t\tstage.setTitle(&quot;Shapes&quot;);        \r\n    \t\tstage.show();             \r\n    \t\t}\r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tlaunch(args);     \r\n    \t}\r\n    }\r\n\r\nAny help greatly appreciated, thank you!\r\n","title":"JavaFX - Remove Shape With Button setOnAction","body":"<p>I am trying to create an application where a user inputs a number of sides, and upon clicking a button, removes any current shape from the Scene and generates a shape with the specified number of sides.</p>\n<p>Whilst the logic to generate the shape is working, implementation <code>root.getChildren().remove(shape);</code> does not appear to be working?</p>\n<pre><code>public class genShape extends Application \n{\n    @Override    \n    public void start(Stage stage) \n    {       \n        // configure text fields for input         \n        TextField shapeNoSidesField = new TextField();         \n        shapeNoSidesField.setMaxWidth(23);         \n        \n        // configure label fields        \n        Label shapeNoSidesLabel = new Label(&quot;Enter Desired Number Of Shape Sides:&quot;);         \n        shapeNoSidesLabel.setTextFill(Color.RED);         \n        shapeNoSidesLabel.setFont(Font.font(&quot;Arial&quot;, 10));   \n\n        // configure generate shape button         \n        Button generateShapeButton = new Button();         \n        generateShapeButton.setText(&quot;Generate Shape&quot;);\n        \n        // configure an HBox input components                       \n        HBox inputComponents = new HBox(40);\n        inputComponents.setAlignment(Pos.CENTER);        \n        inputComponents.getChildren().addAll(shapeNoSidesLabel, shapeNoSidesField);  \n        \n        // configure vbox\n        VBox root = new VBox(50);         \n        root.setAlignment(Pos.CENTER);        \n        root.getChildren().addAll(inputComponents, generateShapeButton); \n        \n        \n        // Generate shape based on user Integral input. Perform input checks.\n        generateShapeButton.setOnAction( e -&gt;                     \n        {   \n            Shape shape = null;\n            root.getChildren().remove(shape);\n            // Perform input checks using helper variables. Assert no of sides field not null.\n            boolean shapeFieldIsEmpty = shapeNoSidesField.getText().isEmpty();\n            if(shapeFieldIsEmpty)        \n            {                               \n                System.out.println(&quot;Number of Sides Field Cannot Be Empty. Please Enter a Number Between 3 and 5 Inclusive.&quot;);\n                display.setText(&quot;Number of Sides Field Cannot Be Empty. Please Enter a Number Between 3 and 5 Inclusive.&quot;);\n            }\n            else \n            {\n                // Retrieve user required number of sides\n                int numberOfSides = Integer.parseInt(shapeNoSidesField.getText());\n                switch(numberOfSides) \n                {\n                    // User enters shape requirement of three sides (Polygon object)\n                    case 3:\n                        shape = new Polygon();\n                        ((Polygon) shape).getPoints().addAll(new Double[]\n                                {\n                                    100., 70.,\n                                    100., 250.,\n                                    400., 250.\n                                });\n                        root.getChildren().add(shape);\n                        break;\n                    case 4:\n                        shape = new Rectangle();\n                        ((Rectangle) shape).setX(150f);\n                        ((Rectangle) shape).setY(75.0f); \n                        ((Rectangle) shape).setWidth(300.0f); \n                        ((Rectangle) shape).setHeight(150.0f);\n                        root.getChildren().add(shape);\n                        break;\n                    default:\n                        break;\n                }\n      \n            }                                                                        \n        }                                     \n    ); \n        \n        // create a new scene and add it to the stage         \n        Scene scene = new Scene(root, 500, 500);         \n        stage.setScene(scene);         \n        stage.setTitle(&quot;Shapes&quot;);        \n        stage.show();             \n        }\n    public static void main(String[] args) \n    {\n        // TODO Auto-generated method stub\n        launch(args);     \n    }\n}\n</code></pre>\n<p>Any help greatly appreciated, thank you!</p>\n"},{"tags":["java","object"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1653495667,"post_id":72380928,"comment_id":127868482,"body_markdown":"Usage of Strings in the example complicates matters, as there is a dedicated &quot;String Literal&quot; area in memory.  What it means essentially is that the string &quot;Peter Parker&quot; is never garbage collected even if there are no references pointing to it","body":"Usage of Strings in the example complicates matters, as there is a dedicated &quot;String Literal&quot; area in memory.  What it means essentially is that the string &quot;Peter Parker&quot; is never garbage collected even if there are no references pointing to it"}],"answers":[{"tags":[],"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653496163,"creation_date":1653495251,"answer_id":72381105,"question_id":72380928,"body_markdown":"Unfortunately, the doc does not clearly distinguish bewtween variables and objects. There are two objects in this snippet: the array `new string[10]` and the string `&quot;Peter Parker&quot;`. In line 1 the variable `students` is set to a reference of the array object; in line 2 the variable `studentName` is set to a reference of the string object; in line 3 the array element 0 is set to a reference to the string object; and finally in line 4 the variable `studentName` is set to `null`.\r\n\r\nNow the array object cannot be garbage collected because the variable `students` still holds a reference and the string objects cannot be garbage collected because the array element 0 still has a reference.\r\n\r\nIf there were a line 5 where the variable `students` is set to `null` as well, both objects could be garbage collected because both are no longer reachable (a string literal however is never garbage collected - but this for another reason). It does not matter that the array element 0 still has a reference to the string object in this case because the array object itself is no longer reachable.","title":"How to distinguish object and variable in java","body":"<p>Unfortunately, the doc does not clearly distinguish bewtween variables and objects. There are two objects in this snippet: the array <code>new string[10]</code> and the string <code>&quot;Peter Parker&quot;</code>. In line 1 the variable <code>students</code> is set to a reference of the array object; in line 2 the variable <code>studentName</code> is set to a reference of the string object; in line 3 the array element 0 is set to a reference to the string object; and finally in line 4 the variable <code>studentName</code> is set to <code>null</code>.</p>\n<p>Now the array object cannot be garbage collected because the variable <code>students</code> still holds a reference and the string objects cannot be garbage collected because the array element 0 still has a reference.</p>\n<p>If there were a line 5 where the variable <code>students</code> is set to <code>null</code> as well, both objects could be garbage collected because both are no longer reachable (a string literal however is never garbage collected - but this for another reason). It does not matter that the array element 0 still has a reference to the string object in this case because the array object itself is no longer reachable.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653500846,"creation_date":1653500846,"answer_id":72382167,"question_id":72380928,"body_markdown":"This statement is fundamentally wrong on more levels than confusing objects and variables.\r\n\r\nYou are right in that it confuses names and objects, to the highest amount ever seen. Not only is “*reference to the object `studentName`*” wrong as `studentName` is not an object, “*even though that object has been assigned the value `null`*” is even worse, as objects can not be assigned to `null` and what is supposed to explain that setting a reference to `null` does not imply that the referent becomes unreachable, is achieving the opposite.\r\n\r\nBut that’s not the end, as the entire logic is wrong. Let’s remove the names, to avoid that confusion. Then, the phrase reads as “*The array … is not eligible for garbage collection because it has one reference to the object …*”. That’s completely wrong. If `X` has a reference to `Y`, it does not prevent the garbage collection of `X`, as only references *to* `X` matter.\r\n\r\nWhat may prevent the garbage collection of the array, is the variable `students` holding a reference to it, but of course, an author who fails to distinguish between variables and objects, is not able to express this relationship.\r\n\r\nIt’s worth noting, that if `students` is a local variable, it does not prevent the garbage collection of the array in every case, as explained in https://stackoverflow.com/q/24376768/2711488 But skipping this in a tutorial may be acceptable for simplification, see also [Lie-to-children].\r\n\r\nAnother issue is that objects created for string literals like `&quot;Peter Parker&quot;` will stay in memory as long as there’s at least one piece of code in the JVM having a reference to it, as all string literals (and compile-time constants of type string) of the same contents evaluate to the same object.\r\n\r\nIf you want to go the route of simplified reasoning about garbage collection, the `students` variable contains a reference to a `String[]` array instance, which is prevented from garbage collection due to this reference, and the array contains a reference to a `String` object, which prevents the `String` instance from garbage collection (in addition to other references which may exist).\r\n\r\nMost of the time, you shouldn’t try to guess what the garbage collector could collect, because the very purpose of the garbage collector is to remove the burden of thinking about this from the developer.\r\n\r\n[Lie-to-children]: https://en.wikipedia.org/wiki/Lie-to-children","title":"How to distinguish object and variable in java","body":"<p>This statement is fundamentally wrong on more levels than confusing objects and variables.</p>\n<p>You are right in that it confuses names and objects, to the highest amount ever seen. Not only is “<em>reference to the object <code>studentName</code></em>” wrong as <code>studentName</code> is not an object, “<em>even though that object has been assigned the value <code>null</code></em>” is even worse, as objects can not be assigned to <code>null</code> and what is supposed to explain that setting a reference to <code>null</code> does not imply that the referent becomes unreachable, is achieving the opposite.</p>\n<p>But that’s not the end, as the entire logic is wrong. Let’s remove the names, to avoid that confusion. Then, the phrase reads as “<em>The array … is not eligible for garbage collection because it has one reference to the object …</em>”. That’s completely wrong. If <code>X</code> has a reference to <code>Y</code>, it does not prevent the garbage collection of <code>X</code>, as only references <em>to</em> <code>X</code> matter.</p>\n<p>What may prevent the garbage collection of the array, is the variable <code>students</code> holding a reference to it, but of course, an author who fails to distinguish between variables and objects, is not able to express this relationship.</p>\n<p>It’s worth noting, that if <code>students</code> is a local variable, it does not prevent the garbage collection of the array in every case, as explained in <a href=\"https://stackoverflow.com/q/24376768/2711488\">Can java finalize an object when it is still in scope?</a> But skipping this in a tutorial may be acceptable for simplification, see also <a href=\"https://en.wikipedia.org/wiki/Lie-to-children\" rel=\"nofollow noreferrer\">Lie-to-children</a>.</p>\n<p>Another issue is that objects created for string literals like <code>&quot;Peter Parker&quot;</code> will stay in memory as long as there’s at least one piece of code in the JVM having a reference to it, as all string literals (and compile-time constants of type string) of the same contents evaluate to the same object.</p>\n<p>If you want to go the route of simplified reasoning about garbage collection, the <code>students</code> variable contains a reference to a <code>String[]</code> array instance, which is prevented from garbage collection due to this reference, and the array contains a reference to a <code>String</code> object, which prevents the <code>String</code> instance from garbage collection (in addition to other references which may exist).</p>\n<p>Most of the time, you shouldn’t try to guess what the garbage collector could collect, because the very purpose of the garbage collector is to remove the burden of thinking about this from the developer.</p>\n"}],"owner":{"account_id":22771354,"reputation":1,"user_id":16928734,"display_name":"Yanshu Du"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653500846,"creation_date":1653494574,"question_id":72380928,"body_markdown":"I get stuck in this problem in java [docs](https://docs.oracle.com/javase/tutorial/java/javaOO/QandE/objects-answers.html). The second problem&#39;s answer said that after the code execute, &quot;Neither object is eligible for garbage collection. The array `students` is not eligible for garbage collection because it has one reference to the object `studentName` even though that object has been assigned the value null. The object `studentName` is not eligible either because students[0] still refers to it.&quot;\r\nBut I don&#39;t think `studentName` and `students` are object, they just variables to refer to objects, and they will not be garbage recycled. I think only the String &quot;Peter Parker&quot; is an object in the code below. What&#39;s wrong?\r\n```java\r\n...\r\n        String[] students = new String[10];\r\n        String studentName = &quot;Peter Parker&quot;;\r\n        students[0] = studentName;\r\n        studentName = null;\r\n....\r\n```","title":"How to distinguish object and variable in java","body":"<p>I get stuck in this problem in java <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/QandE/objects-answers.html\" rel=\"nofollow noreferrer\">docs</a>. The second problem's answer said that after the code execute, &quot;Neither object is eligible for garbage collection. The array <code>students</code> is not eligible for garbage collection because it has one reference to the object <code>studentName</code> even though that object has been assigned the value null. The object <code>studentName</code> is not eligible either because students[0] still refers to it.&quot;\nBut I don't think <code>studentName</code> and <code>students</code> are object, they just variables to refer to objects, and they will not be garbage recycled. I think only the String &quot;Peter Parker&quot; is an object in the code below. What's wrong?</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\n        String[] students = new String[10];\n        String studentName = &quot;Peter Parker&quot;;\n        students[0] = studentName;\n        studentName = null;\n....\n</code></pre>\n"},{"tags":["java","android","mpandroidchart"],"comments":[{"owner":{"account_id":1528808,"reputation":6784,"user_id":1426565,"accept_rate":29,"display_name":"Cruceo"},"score":0,"creation_date":1469207451,"post_id":38529826,"comment_id":64457737,"body_markdown":"Try: LineData lineData = new LineData(labels, dataSet);","body":"Try: LineData lineData = new LineData(labels, dataSet);"},{"owner":{"account_id":2076550,"reputation":1329,"user_id":1849741,"accept_rate":68,"display_name":"java"},"score":0,"creation_date":1469208934,"post_id":38529826,"comment_id":64458426,"body_markdown":"@Guardanis LineData\n(com.github.mikephil.charting.interfaces.datasets.ILineDataSet...)\nin LineData&#160;cannot be applied\nto\n(java.util.ArrayList&lt;java.lang.String&gt;,\ncom.github.mikephil.charting.data.LineDataSet)","body":"@Guardanis LineData (com.github.mikephil.charting.interfaces.datasets.ILineDataS&zwnj;&#8203;et...) in LineData cannot be applied to (java.util.ArrayList&lt;java.lang.String&gt;, com.github.mikephil.charting.data.LineDataSet)"},{"owner":{"account_id":1528808,"reputation":6784,"user_id":1426565,"accept_rate":29,"display_name":"Cruceo"},"score":1,"creation_date":1469210603,"post_id":38529826,"comment_id":64459240,"body_markdown":"Strange, it&#39;s definitely available in v2.2.5","body":"Strange, it&#39;s definitely available in v2.2.5"},{"owner":{"account_id":2076550,"reputation":1329,"user_id":1849741,"accept_rate":68,"display_name":"java"},"score":0,"creation_date":1469217977,"post_id":38529826,"comment_id":64462690,"body_markdown":"@Guardanis I am using &quot;com.github.PhilJay:MPAndroidChart:v3.0.0-beta1&quot; I will try using 2.2.5 instead.","body":"@Guardanis I am using &quot;com.github.PhilJay:MPAndroidChart:v3.0.0-beta1&quot; I will try using 2.2.5 instead."},{"owner":{"account_id":1006560,"reputation":490,"user_id":1020166,"accept_rate":78,"display_name":"Giuseppe"},"score":0,"creation_date":1469221325,"post_id":38529826,"comment_id":64464140,"body_markdown":"@Guardanis i have the same problem using the beta","body":"@Guardanis i have the same problem using the beta"},{"owner":{"account_id":7549494,"reputation":3218,"user_id":5731450,"display_name":"TR4Android"},"score":1,"creation_date":1469606670,"post_id":38529826,"comment_id":64601127,"body_markdown":"Have you tried sorting the entries by x-index? Also, please note that in version 3.0.0 the first paramater of `Entry` is the x-value, and the second one is the y-value, so chances are you&#39;ll want to switch the order of your `Entry` intialization, so it&#39;s e.g. `new Entry(0, 4f);`.","body":"Have you tried sorting the entries by x-index? Also, please note that in version 3.0.0 the first paramater of <code>Entry</code> is the x-value, and the second one is the y-value, so chances are you&#39;ll want to switch the order of your <code>Entry</code> intialization, so it&#39;s e.g. <code>new Entry(0, 4f);</code>."},{"owner":{"account_id":2076550,"reputation":1329,"user_id":1849741,"accept_rate":68,"display_name":"java"},"score":0,"creation_date":1469644619,"post_id":38529826,"comment_id":64627212,"body_markdown":"Using v2.2.5 worked for me.","body":"Using v2.2.5 worked for me."}],"answers":[{"tags":[],"owner":{"account_id":8659815,"reputation":1,"user_id":6642817,"display_name":"PKPK-Carnage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469605128,"creation_date":1469595616,"answer_id":38604066,"question_id":38529826,"body_markdown":"I&#39;m struggling with this error too.\r\n\r\nI just found a method of avoid error. \r\n\r\n\r\nList can&#39;t store index more than 6.\r\nYou try list store index less than 5.\r\n\r\nExample:\r\n\r\n    ArrayList&lt;Entry&gt; entries = new ArrayList&lt;&gt;();\r\n    entries.add(new Entry(4f, 0));\r\n    entries.add(new Entry(8f, 1));\r\n    entries.add(new Entry(6f, 2));\r\n    entries.add(new Entry(2f, 3));\r\n    entries.add(new Entry(18f, 4));\r\n\r\n    // creating labels\r\n    ArrayList&lt;String&gt; labels = new ArrayList&lt;String&gt;();\r\n    labels.add(&quot;January&quot;);\r\n    labels.add(&quot;February&quot;);\r\n    labels.add(&quot;March&quot;);\r\n    labels.add(&quot;April&quot;);\r\n    labels.add(&quot;May&quot;);\r\n\r\nBut application sometimes finish and get NegativeArraySizeException:-2.\r\n\r\nWhen you try list store index less than 4.\r\n\r\nI think this error is v3.0.0-beta1&#39;s bug.\r\n\r\nSorry for my poor English.\r\nI hope you&#39;ll understand.","title":"MPAndroidChart adding setData compiler error","body":"<p>I'm struggling with this error too.</p>\n\n<p>I just found a method of avoid error. </p>\n\n<p>List can't store index more than 6.\nYou try list store index less than 5.</p>\n\n<p>Example:</p>\n\n<pre><code>ArrayList&lt;Entry&gt; entries = new ArrayList&lt;&gt;();\nentries.add(new Entry(4f, 0));\nentries.add(new Entry(8f, 1));\nentries.add(new Entry(6f, 2));\nentries.add(new Entry(2f, 3));\nentries.add(new Entry(18f, 4));\n\n// creating labels\nArrayList&lt;String&gt; labels = new ArrayList&lt;String&gt;();\nlabels.add(\"January\");\nlabels.add(\"February\");\nlabels.add(\"March\");\nlabels.add(\"April\");\nlabels.add(\"May\");\n</code></pre>\n\n<p>But application sometimes finish and get NegativeArraySizeException:-2.</p>\n\n<p>When you try list store index less than 4.</p>\n\n<p>I think this error is v3.0.0-beta1's bug.</p>\n\n<p>Sorry for my poor English.\nI hope you'll understand.</p>\n"},{"tags":[],"owner":{"account_id":3068374,"reputation":7527,"user_id":2599596,"accept_rate":63,"display_name":"Naveen Kumar M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469606768,"creation_date":1469606768,"answer_id":38607253,"question_id":38529826,"body_markdown":"You are adding LinedataSet object to setDate instead of List of LinedataSet objects\r\n\r\nRefer below code\r\n\r\n    LineDataSet dataSet = new LineDataSet(entries, &quot;# of Calls&quot;);\r\n    ArrayList&lt;ILineDataSet&gt; dataSetList = new ArrayList&lt;ILineDataSet&gt;();\r\n                dataSets.add(dataSet ); // add the datasets\r\n    LineData lineData = new LineData(dataSetList);\r\n    \r\n    graph.setData(lineData);\r\n\r\n","title":"MPAndroidChart adding setData compiler error","body":"<p>You are adding LinedataSet object to setDate instead of List of LinedataSet objects</p>\n\n<p>Refer below code</p>\n\n<pre><code>LineDataSet dataSet = new LineDataSet(entries, \"# of Calls\");\nArrayList&lt;ILineDataSet&gt; dataSetList = new ArrayList&lt;ILineDataSet&gt;();\n            dataSets.add(dataSet ); // add the datasets\nLineData lineData = new LineData(dataSetList);\n\ngraph.setData(lineData);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7549494,"reputation":3218,"user_id":5731450,"display_name":"TR4Android"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1469609198,"creation_date":1469609198,"answer_id":38608067,"question_id":38529826,"body_markdown":"Starting with version `3.0.0-beta1` the `Entry` constructors have changed to `Entry(float x, float y)` so you&#39;ll have to first pass the x-index and then the corresponding y-value. Even though this breaks backwards compatibility it feels more natural now that `float` x-values are supported.\r\n\r\nSo you should change your code to this:\r\n\r\n    LineChart graph = (LineChart) view.findViewById(R.id.chart);\r\n\r\n    // creating list of entry\r\n    ArrayList&lt;Entry&gt; entries = new ArrayList&lt;&gt;();\r\n    entries.add(new Entry(0, 4f));\r\n    entries.add(new Entry(1, 8f));\r\n    entries.add(new Entry(2, 6f));\r\n    entries.add(new Entry(3, 2f));\r\n    entries.add(new Entry(4, 18f));\r\n    entries.add(new Entry(5, 9f));\r\n\r\n    LineDataSet dataSet = new LineDataSet(entries, &quot;# of Calls&quot;);\r\n    LineData lineData = new LineData(dataSet);\r\n\r\n    graph.setData(lineData);\r\n\r\nAlso, in order to do rendering optimizations the entries have to be sorted by x-value, which might be why your chart is crashing (since you&#39;ve switched x- and y-values in your entries). The fixed code above is already properly sorted.","title":"MPAndroidChart adding setData compiler error","body":"<p>Starting with version <code>3.0.0-beta1</code> the <code>Entry</code> constructors have changed to <code>Entry(float x, float y)</code> so you'll have to first pass the x-index and then the corresponding y-value. Even though this breaks backwards compatibility it feels more natural now that <code>float</code> x-values are supported.</p>\n\n<p>So you should change your code to this:</p>\n\n<pre><code>LineChart graph = (LineChart) view.findViewById(R.id.chart);\n\n// creating list of entry\nArrayList&lt;Entry&gt; entries = new ArrayList&lt;&gt;();\nentries.add(new Entry(0, 4f));\nentries.add(new Entry(1, 8f));\nentries.add(new Entry(2, 6f));\nentries.add(new Entry(3, 2f));\nentries.add(new Entry(4, 18f));\nentries.add(new Entry(5, 9f));\n\nLineDataSet dataSet = new LineDataSet(entries, \"# of Calls\");\nLineData lineData = new LineData(dataSet);\n\ngraph.setData(lineData);\n</code></pre>\n\n<p>Also, in order to do rendering optimizations the entries have to be sorted by x-value, which might be why your chart is crashing (since you've switched x- and y-values in your entries). The fixed code above is already properly sorted.</p>\n"},{"tags":[],"owner":{"account_id":4689622,"reputation":2076,"user_id":3796083,"accept_rate":71,"display_name":"AndroidRuntimeException"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501858958,"creation_date":1481553550,"answer_id":41103282,"question_id":38529826,"body_markdown":"The error is caused because you have **unsorted values** (not sorted by x-position). You can fix doing:\r\n\r\n    List&lt;Entry&gt; entries = ...;\r\n    Collections.sort(entries, new EntryXComparator());\r\n\r\nAlso [check the documentation][1] for more information on that issue.\r\n\r\n\r\n  [1]: https://github.com/PhilJay/MPAndroidChart/wiki/Setting-Data#the-order-of-entries","title":"MPAndroidChart adding setData compiler error","body":"<p>The error is caused because you have <strong>unsorted values</strong> (not sorted by x-position). You can fix doing:</p>\n\n<pre><code>List&lt;Entry&gt; entries = ...;\nCollections.sort(entries, new EntryXComparator());\n</code></pre>\n\n<p>Also <a href=\"https://github.com/PhilJay/MPAndroidChart/wiki/Setting-Data#the-order-of-entries\" rel=\"nofollow noreferrer\">check the documentation</a> for more information on that issue.</p>\n"},{"tags":[],"owner":{"account_id":8967886,"reputation":3702,"user_id":6687699,"accept_rate":58,"display_name":"Lutaaya Huzaifah Idris"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1502092102,"creation_date":1500385441,"answer_id":45168595,"question_id":38529826,"body_markdown":"**Try downgrading the dependency to:**\r\n\r\n    compile &#39;com.github.PhilJay:MPAndroidChart:v2.0.9&#39;","title":"MPAndroidChart adding setData compiler error","body":"<p><strong>Try downgrading the dependency to:</strong></p>\n\n<pre><code>compile 'com.github.PhilJay:MPAndroidChart:v2.0.9'\n</code></pre>\n"}],"owner":{"account_id":2076550,"reputation":1329,"user_id":1849741,"accept_rate":68,"display_name":"java"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6161,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":45168595,"answer_count":5,"score":1,"last_activity_date":1653500819,"creation_date":1469200092,"question_id":38529826,"body_markdown":"I am trying to create a line graph using MPAndroidChart.  I have looked at many examples online and they all seem to suggest that you add data to a chart like this:\r\n\r\n        LineChart graph = (LineChart) view.findViewById(R.id.chart);\r\n\r\n        // creating list of entry\r\n        ArrayList&lt;Entry&gt; entries = new ArrayList&lt;&gt;();\r\n        entries.add(new Entry(4f, 0));\r\n        entries.add(new Entry(8f, 1));\r\n        entries.add(new Entry(6f, 2));\r\n        entries.add(new Entry(2f, 3));\r\n        entries.add(new Entry(18f, 4));\r\n        entries.add(new Entry(9f, 5));\r\n        \r\n        // creating labels\r\n        ArrayList&lt;String&gt; labels = new ArrayList&lt;String&gt;();\r\n        labels.add(&quot;January&quot;);\r\n        labels.add(&quot;February&quot;);\r\n        labels.add(&quot;March&quot;);\r\n        labels.add(&quot;April&quot;);\r\n        labels.add(&quot;May&quot;);\r\n        labels.add(&quot;June&quot;);\r\n        \r\n        graph.setData(entries, labels);\r\n\r\nBut I get a compiler error on setData saying:\r\n\r\n&gt; setData (com.github.mikephil.charting.data.LineData) in Chart&#160;cannot\r\n&gt; be applied to\r\n&gt; (java.util.ArrayList&lt;com.github.mikephil.charting.data.Entry&gt;,\r\n&gt; java.util.ArrayList&lt;java.lang.String&gt;)\r\n\r\nI can fix the compiler error by changing my code to:\r\n\r\n    LineDataSet dataSet = new LineDataSet(entries, &quot;# of Calls&quot;);\r\n    LineData lineData = new LineData(dataSet);\r\n\r\n    graph.setData(lineData);\r\n\r\nBut then I get this run time error:\r\n\r\n&gt; FATAL EXCEPTION: main\r\n                                                                  Process: com.ebucher.lisa, PID: 11365\r\n                                                                  java.lang.NegativeArraySizeException: -2\r\n                                                                      at com.github.mikephil.charting.utils.Transformer.generateTransformedValuesLine(Transformer.java:181)\r\n                                                                      at com.github.mikephil.charting.renderer.LineChartRenderer.drawValues(LineChartRenderer.java:570)\r\n                                                                      at com.github.mikephil.charting.charts.BarLineChartBase.onDraw(BarLineChartBase.java:272)\r\n                                                                      at android.view.View.draw(View.java:17469)\r\n                                                                      at android.view.View.updateDisplayListIfDirty(View.java:16464)\r\n                                                                      at android.view.View.draw(View.java:17238)\r\n                                                                      at android.view.ViewGroup.drawChild(ViewGroup.java:3921)\r\n                                                                      at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3711)\r\n                                                                      at android.view.View.draw(View.java:17472)\r\n                                                                      at android.view.View.updateDisplayListIfDirty(View.java:16464)\r\n                                                                      at android.view.View.draw(View.java:17238)\r\n                                                                      at android.view.ViewGroup.drawChild(ViewGroup.java:3921)\r\n                                                                      at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3711)\r\n                                                                      at android.view.View.updateDisplayListIfDirty(View.java:16459)\r\n                                                                      at android.view.View.draw(View.java:17238)\r\n                                                                      at android.view.ViewGroup.drawChild(ViewGroup.java:3921)\r\n                                                                      at android.support.v4.widget.DrawerLayout.drawChild(DrawerLayout.java:1373)\r\n                                                                      at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3711)\r\n                                                                      at android.view.View.updateDisplayListIfDirty(View.java:16459)\r\n                                                                      at android.view.View.draw(View.java:17238)\r\n                                                                      at android.view.ViewGroup.drawChild(ViewGroup.java:3921)\r\n                                                                      at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3711)\r\n                                                                      at android.view.View.updateDisplayListIfDirty(View.java:16459)\r\n                                                                      at android.view.View.draw(View.java:17238)\r\n                                                                      at android.view.ViewGroup.drawChild(ViewGroup.java:3921)\r\n                                                                      at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3711)\r\n                                                                      at android.view.View.updateDisplayListIfDirty(View.java:16459)\r\n                                                                      at android.view.View.draw(View.java:17238)\r\n                                                                      at android.view.ViewGroup.drawChild(ViewGroup.java:3921)\r\n                                                                      at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3711)\r\n                                                                      at android.view.View.updateDisplayListIfDirty(View.java:16459)\r\n                                                                      at android.view.View.draw(View.java:17238)\r\n                                                                      at android.view.ViewGroup.drawChild(ViewGroup.java:3921)\r\n                                                                      at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3711)\r\n                                                                      at android.view.View.updateDisplayListIfDirty(View.java:16459)\r\n                                                                      at android.view.View.draw(View.java:17238)\r\n                                                                      at android.view.ViewGroup.drawChild(ViewGroup.java:3921)\r\n                                                                      at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3711)\r\n                                                                      at android.view.View.draw(View.java:17472)\r\n                                                                      at com.android.internal.policy.PhoneWindow$DecorView.draw(PhoneWindow.java:3205)\r\n                                                                      at android.view.View.updateDisplayListIfDirty(View.java:16464)\r\n                                                                      at android.view.ThreadedRenderer.updateViewTreeDisplayList(ThreadedRenderer.java:325)\r\n                                                                      at android.view.ThreadedRenderer.updateRootDisplayList(ThreadedRenderer.java:331)\r\n                                                                      at android.view.ThreadedRenderer.draw(ThreadedRenderer.java:366)\r\n                                                                      at android.view.ViewRootImpl.draw(ViewRootImpl.java:3134)\r\n                                                                      at android.view.ViewRootImpl.performDraw(ViewRootImpl.java:2933)\r\n                                                                      at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2522)\r\n                                                                      at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1437)\r\n                                                                      at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:7397)\r\n                                                                      at android.view.Choreographer$CallbackRecord.run(Choreographer.java:920)\r\n                                                                      at android.view.Choreographer.doCallbacks(Choreographer.java:695)\r\n                                                                      at android.view.Choreographer.doFrame(Choreographer.java:631)\r\n                                                                      at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:906)\r\n                                                                      at android.os.Handler.handleCallback(Handler.java:739)\r\n                                                                      at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                                                                      at android.os.Looper.loop(Looper.java:158)\r\n                                                                      at android.app.ActivityThread.main(ActivityThread.java:7229)\r\n                                                                      at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\r\n                                                                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\r\n\r\nI get the same errors when I try to create a bar graph instead of a line graph.","title":"MPAndroidChart adding setData compiler error","body":"<p>I am trying to create a line graph using MPAndroidChart.  I have looked at many examples online and they all seem to suggest that you add data to a chart like this:</p>\n\n<pre><code>    LineChart graph = (LineChart) view.findViewById(R.id.chart);\n\n    // creating list of entry\n    ArrayList&lt;Entry&gt; entries = new ArrayList&lt;&gt;();\n    entries.add(new Entry(4f, 0));\n    entries.add(new Entry(8f, 1));\n    entries.add(new Entry(6f, 2));\n    entries.add(new Entry(2f, 3));\n    entries.add(new Entry(18f, 4));\n    entries.add(new Entry(9f, 5));\n\n    // creating labels\n    ArrayList&lt;String&gt; labels = new ArrayList&lt;String&gt;();\n    labels.add(\"January\");\n    labels.add(\"February\");\n    labels.add(\"March\");\n    labels.add(\"April\");\n    labels.add(\"May\");\n    labels.add(\"June\");\n\n    graph.setData(entries, labels);\n</code></pre>\n\n<p>But I get a compiler error on setData saying:</p>\n\n<blockquote>\n  <p>setData (com.github.mikephil.charting.data.LineData) in Chart cannot\n  be applied to\n  (java.util.ArrayList,\n  java.util.ArrayList)</p>\n</blockquote>\n\n<p>I can fix the compiler error by changing my code to:</p>\n\n<pre><code>LineDataSet dataSet = new LineDataSet(entries, \"# of Calls\");\nLineData lineData = new LineData(dataSet);\n\ngraph.setData(lineData);\n</code></pre>\n\n<p>But then I get this run time error:</p>\n\n<blockquote>\n  <p>FATAL EXCEPTION: main\n                                                                    Process: com.ebucher.lisa, PID: 11365\n                                                                    java.lang.NegativeArraySizeException: -2\n                                                                        at com.github.mikephil.charting.utils.Transformer.generateTransformedValuesLine(Transformer.java:181)\n                                                                        at com.github.mikephil.charting.renderer.LineChartRenderer.drawValues(LineChartRenderer.java:570)\n                                                                        at com.github.mikephil.charting.charts.BarLineChartBase.onDraw(BarLineChartBase.java:272)\n                                                                        at android.view.View.draw(View.java:17469)\n                                                                        at android.view.View.updateDisplayListIfDirty(View.java:16464)\n                                                                        at android.view.View.draw(View.java:17238)\n                                                                        at android.view.ViewGroup.drawChild(ViewGroup.java:3921)\n                                                                        at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3711)\n                                                                        at android.view.View.draw(View.java:17472)\n                                                                        at android.view.View.updateDisplayListIfDirty(View.java:16464)\n                                                                        at android.view.View.draw(View.java:17238)\n                                                                        at android.view.ViewGroup.drawChild(ViewGroup.java:3921)\n                                                                        at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3711)\n                                                                        at android.view.View.updateDisplayListIfDirty(View.java:16459)\n                                                                        at android.view.View.draw(View.java:17238)\n                                                                        at android.view.ViewGroup.drawChild(ViewGroup.java:3921)\n                                                                        at android.support.v4.widget.DrawerLayout.drawChild(DrawerLayout.java:1373)\n                                                                        at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3711)\n                                                                        at android.view.View.updateDisplayListIfDirty(View.java:16459)\n                                                                        at android.view.View.draw(View.java:17238)\n                                                                        at android.view.ViewGroup.drawChild(ViewGroup.java:3921)\n                                                                        at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3711)\n                                                                        at android.view.View.updateDisplayListIfDirty(View.java:16459)\n                                                                        at android.view.View.draw(View.java:17238)\n                                                                        at android.view.ViewGroup.drawChild(ViewGroup.java:3921)\n                                                                        at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3711)\n                                                                        at android.view.View.updateDisplayListIfDirty(View.java:16459)\n                                                                        at android.view.View.draw(View.java:17238)\n                                                                        at android.view.ViewGroup.drawChild(ViewGroup.java:3921)\n                                                                        at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3711)\n                                                                        at android.view.View.updateDisplayListIfDirty(View.java:16459)\n                                                                        at android.view.View.draw(View.java:17238)\n                                                                        at android.view.ViewGroup.drawChild(ViewGroup.java:3921)\n                                                                        at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3711)\n                                                                        at android.view.View.updateDisplayListIfDirty(View.java:16459)\n                                                                        at android.view.View.draw(View.java:17238)\n                                                                        at android.view.ViewGroup.drawChild(ViewGroup.java:3921)\n                                                                        at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3711)\n                                                                        at android.view.View.draw(View.java:17472)\n                                                                        at com.android.internal.policy.PhoneWindow$DecorView.draw(PhoneWindow.java:3205)\n                                                                        at android.view.View.updateDisplayListIfDirty(View.java:16464)\n                                                                        at android.view.ThreadedRenderer.updateViewTreeDisplayList(ThreadedRenderer.java:325)\n                                                                        at android.view.ThreadedRenderer.updateRootDisplayList(ThreadedRenderer.java:331)\n                                                                        at android.view.ThreadedRenderer.draw(ThreadedRenderer.java:366)\n                                                                        at android.view.ViewRootImpl.draw(ViewRootImpl.java:3134)\n                                                                        at android.view.ViewRootImpl.performDraw(ViewRootImpl.java:2933)\n                                                                        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2522)\n                                                                        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1437)\n                                                                        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:7397)\n                                                                        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:920)\n                                                                        at android.view.Choreographer.doCallbacks(Choreographer.java:695)\n                                                                        at android.view.Choreographer.doFrame(Choreographer.java:631)\n                                                                        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:906)\n                                                                        at android.os.Handler.handleCallback(Handler.java:739)\n                                                                        at android.os.Handler.dispatchMessage(Handler.java:95)\n                                                                        at android.os.Looper.loop(Looper.java:158)\n                                                                        at android.app.ActivityThread.main(ActivityThread.java:7229)\n                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\n                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)</p>\n</blockquote>\n\n<p>I get the same errors when I try to create a bar graph instead of a line graph.</p>\n"},{"tags":["java","spring-boot","recaptcha","wildfly-10","keycloak"],"answers":[{"tags":[],"owner":{"account_id":10619161,"reputation":31,"user_id":7820781,"display_name":"Ghinea Alex"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1532693294,"creation_date":1532687225,"answer_id":51556028,"question_id":46974448,"body_markdown":"There are a couple of things wrong with your implementation. If you intend to use the Browser Login Feature is better if you just create a new flow for Recaptcha. This Flow will use the UsernamePasswordForm and UsernamePasswordFormFactory, so you need to extend those 2 classes.\r\n\r\nBesides extending those 2 classes, you also have to call the constructors from the UsernamePasswordForm/Factory to the new implementation. Basically, this solution gives you Username + Password + Recaptcha.\r\n\r\nIn the RecaptchaFormFactory you don&#39;t need the buildPage, that&#39;s from the registration captcha, neither the validateRecaptcha and validate (which you will use in action method and authenticate from RecaptchaForm).\r\n\r\nThe only things you need in the Factory are the config and the exact same methods from UsernamePasswordFormFactory.\r\n\r\nIn the RecaptchaForm class, you will have the action method, the authenticate method both with Override and the validateRecaptcha method.\r\n\r\nThe first method called is the authentication method with this structure:\r\n\r\n\t@Override\r\n\tpublic void authenticate(AuthenticationFlowContext context) {\r\n\t\tMultivaluedMap&lt;String, String&gt; formData = context.getHttpRequest().getDecodedFormParameters();\r\n\r\n\t\tcontext.getEvent().detail(Details.AUTH_METHOD, &quot;auth_method&quot;);\r\n\t\tif (logger.isInfoEnabled()) {\r\n\t\t\tlogger.info(\r\n\t\t\t\t\t&quot;validateRecaptcha(AuthenticationFlowContext, boolean, String, String) - inainte de validation&quot;);\r\n\t\t}\r\n\r\n\t\tAuthenticatorConfigModel captchaConfig = context.getAuthenticatorConfig();\r\n\t\tMap&lt;String, String&gt; econd = captchaConfig.getConfig();\r\n\t\tlogger.debug(&quot;Am in config in context: {}&quot;, econd);\r\n\t\tcontext.form().addScript(&quot;https://www.google.com/recaptcha/api.js&quot;);\r\n\t\tcontext.form().setAttribute(&quot;recaptchaRequired&quot;, true);\r\n\t\tcontext.form().setAttribute(&quot;recaptchaSiteKey&quot;, econd.get(SITE_KEY));\r\n\r\n\t\tsuper.authenticate(context);\r\n\t}\r\n\r\nThe validateRecaptcha will have the same structure as the one from RegistrationCaptcha and the action method just needs to change the getEvent to AUTH_METHOD from Registration.\r\n\r\n\t@Override\r\n\tpublic void action(AuthenticationFlowContext context) {\r\n\t\tif (logger.isDebugEnabled()) {\r\n\t\t\tlogger.debug(&quot;action(AuthenticationFlowContext) - start&quot;);\r\n\t\t}\r\n\t\tMultivaluedMap&lt;String, String&gt; formData = context.getHttpRequest().getDecodedFormParameters();\r\n\t\tList&lt;FormMessage&gt; errors = new ArrayList&lt;&gt;();\r\n\t\tboolean success = false;\r\n\t\tcontext.getEvent().detail(Details.AUTH_METHOD, &quot;auth_method&quot;);\r\n\r\n\t\tString captcha = formData.getFirst(G_RECAPTCHA_RESPONSE);\r\n\t\tif (!Validation.isBlank(captcha)) {\r\n\t\t\tAuthenticatorConfigModel captchaConfig = context.getAuthenticatorConfig();\r\n\t\t\tString secret = captchaConfig.getConfig().get(SITE_SECRET);\r\n\r\n\t\t\tsuccess = validateRecaptcha(context, success, captcha, secret);\r\n\t\t}\r\n\t\tif (success) {\r\n\t\t\tsuper.action(context);\r\n\t\t} else {\r\n\t\t\terrors.add(new FormMessage(null, Messages.RECAPTCHA_FAILED));\r\n\t\t\tformData.remove(G_RECAPTCHA_RESPONSE);\r\n\t\t\t// context.error(Errors.INVALID_REGISTRATION);\r\n\t\t\t// context.validationError(formData, errors);\r\n\t\t\t// context.excludeOtherErrors();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (logger.isDebugEnabled()) {\r\n\t\t\tlogger.debug(&quot;action(AuthenticationFlowContext) - end&quot;);\r\n\t\t}\r\n\t}","title":"How to implement Recaptcha on keycloak login page","body":"<p>There are a couple of things wrong with your implementation. If you intend to use the Browser Login Feature is better if you just create a new flow for Recaptcha. This Flow will use the UsernamePasswordForm and UsernamePasswordFormFactory, so you need to extend those 2 classes.</p>\n\n<p>Besides extending those 2 classes, you also have to call the constructors from the UsernamePasswordForm/Factory to the new implementation. Basically, this solution gives you Username + Password + Recaptcha.</p>\n\n<p>In the RecaptchaFormFactory you don't need the buildPage, that's from the registration captcha, neither the validateRecaptcha and validate (which you will use in action method and authenticate from RecaptchaForm).</p>\n\n<p>The only things you need in the Factory are the config and the exact same methods from UsernamePasswordFormFactory.</p>\n\n<p>In the RecaptchaForm class, you will have the action method, the authenticate method both with Override and the validateRecaptcha method.</p>\n\n<p>The first method called is the authentication method with this structure:</p>\n\n<pre><code>@Override\npublic void authenticate(AuthenticationFlowContext context) {\n    MultivaluedMap&lt;String, String&gt; formData = context.getHttpRequest().getDecodedFormParameters();\n\n    context.getEvent().detail(Details.AUTH_METHOD, \"auth_method\");\n    if (logger.isInfoEnabled()) {\n        logger.info(\n                \"validateRecaptcha(AuthenticationFlowContext, boolean, String, String) - inainte de validation\");\n    }\n\n    AuthenticatorConfigModel captchaConfig = context.getAuthenticatorConfig();\n    Map&lt;String, String&gt; econd = captchaConfig.getConfig();\n    logger.debug(\"Am in config in context: {}\", econd);\n    context.form().addScript(\"https://www.google.com/recaptcha/api.js\");\n    context.form().setAttribute(\"recaptchaRequired\", true);\n    context.form().setAttribute(\"recaptchaSiteKey\", econd.get(SITE_KEY));\n\n    super.authenticate(context);\n}\n</code></pre>\n\n<p>The validateRecaptcha will have the same structure as the one from RegistrationCaptcha and the action method just needs to change the getEvent to AUTH_METHOD from Registration.</p>\n\n<pre><code>@Override\npublic void action(AuthenticationFlowContext context) {\n    if (logger.isDebugEnabled()) {\n        logger.debug(\"action(AuthenticationFlowContext) - start\");\n    }\n    MultivaluedMap&lt;String, String&gt; formData = context.getHttpRequest().getDecodedFormParameters();\n    List&lt;FormMessage&gt; errors = new ArrayList&lt;&gt;();\n    boolean success = false;\n    context.getEvent().detail(Details.AUTH_METHOD, \"auth_method\");\n\n    String captcha = formData.getFirst(G_RECAPTCHA_RESPONSE);\n    if (!Validation.isBlank(captcha)) {\n        AuthenticatorConfigModel captchaConfig = context.getAuthenticatorConfig();\n        String secret = captchaConfig.getConfig().get(SITE_SECRET);\n\n        success = validateRecaptcha(context, success, captcha, secret);\n    }\n    if (success) {\n        super.action(context);\n    } else {\n        errors.add(new FormMessage(null, Messages.RECAPTCHA_FAILED));\n        formData.remove(G_RECAPTCHA_RESPONSE);\n        // context.error(Errors.INVALID_REGISTRATION);\n        // context.validationError(formData, errors);\n        // context.excludeOtherErrors();\n        return;\n    }\n\n    if (logger.isDebugEnabled()) {\n        logger.debug(\"action(AuthenticationFlowContext) - end\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":973876,"reputation":66,"user_id":995781,"display_name":"hossein bakhtiari"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1543249395,"creation_date":1537963418,"answer_id":52517325,"question_id":46974448,"body_markdown":"Based On @ghinea-alex response, we made a working `keycloak jboss module` in this [Github Repository](https://github.com/raptor-group/keycloak-login-recaptcha).\r\n\r\nWe made a maven module which is also a JBoss Module.\r\n\r\nfirst extended `UsernamePasswordForm` in `RecaptchaUsernamePasswordForm` and also extended `UsernamePasswordFormFatory` in `RecpatchaUsernamePasswordFormFactory`.\r\n\r\nRecaptchaUsernamePasswordForm:\r\n\r\n    &lt;!-- language: java --&gt;\r\n    import java.io.InputStream;\r\n    import java.util.ArrayList;\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    import javax.ws.rs.core.MultivaluedMap;\r\n    \r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.NameValuePair;\r\n    import org.apache.http.client.HttpClient;\r\n    import org.apache.http.client.entity.UrlEncodedFormEntity;\r\n    import org.apache.http.client.methods.HttpPost;\r\n    import org.apache.http.message.BasicNameValuePair;\r\n    import org.jboss.logging.Logger;\r\n    import org.keycloak.authentication.AuthenticationFlowContext;\r\n    import org.keycloak.authentication.Authenticator;\r\n    import org.keycloak.authentication.authenticators.browser.UsernamePasswordForm;\r\n    import org.keycloak.connections.httpclient.HttpClientProvider;\r\n    import org.keycloak.events.Details;\r\n    import org.keycloak.forms.login.LoginFormsProvider;\r\n    import org.keycloak.models.AuthenticatorConfigModel;\r\n    import org.keycloak.models.utils.FormMessage;\r\n    import org.keycloak.services.ServicesLogger;\r\n    import org.keycloak.services.messages.Messages;\r\n    import org.keycloak.services.validation.Validation;\r\n    import org.keycloak.util.JsonSerialization;\r\n    \r\n    public class RecaptchaUsernamePasswordForm extends UsernamePasswordForm implements Authenticator{\r\n    \tpublic static final String G_RECAPTCHA_RESPONSE = &quot;g-recaptcha-response&quot;;\r\n    \tpublic static final String RECAPTCHA_REFERENCE_CATEGORY = &quot;recaptcha&quot;;\r\n    \tpublic static final String SITE_KEY = &quot;site.key&quot;;\r\n    \tpublic static final String SITE_SECRET = &quot;secret&quot;;\r\n    \tprivate static final Logger logger = Logger.getLogger(RecaptchaUsernamePasswordFormFactory.class);\r\n    \r\n    \t@Override\r\n    \tpublic void authenticate(AuthenticationFlowContext context) {\r\n    \t\tcontext.getEvent().detail(Details.AUTH_METHOD, &quot;auth_method&quot;);\r\n    \t\tif (logger.isInfoEnabled()) {\r\n    \t\t\tlogger.info(\r\n    \t\t\t\t\t&quot;validateRecaptcha(AuthenticationFlowContext, boolean, String, String) - Before the validation&quot;);\r\n    \t\t}\r\n    \r\n    \t\tAuthenticatorConfigModel captchaConfig = context.getAuthenticatorConfig();\r\n    \t\tLoginFormsProvider form = context.form();\r\n    \t\tString userLanguageTag = context.getSession().getContext().resolveLocale(context.getUser()).toLanguageTag();\r\n    \r\n    \t\tif (captchaConfig == null || captchaConfig.getConfig() == null\r\n    \t\t\t\t|| captchaConfig.getConfig().get(SITE_KEY) == null\r\n    \t\t\t\t|| captchaConfig.getConfig().get(SITE_SECRET) == null) {\r\n    \t\t\tform.addError(new FormMessage(null, Messages.RECAPTCHA_NOT_CONFIGURED));\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\tString siteKey = captchaConfig.getConfig().get(SITE_KEY);\r\n    \t\tform.setAttribute(&quot;recaptchaRequired&quot;, true);\r\n    \t\tform.setAttribute(&quot;recaptchaSiteKey&quot;, siteKey);\r\n    \t\tform.addScript(&quot;https://www.google.com/recaptcha/api.js?hl=&quot; + userLanguageTag);\r\n    \r\n    \t\tsuper.authenticate(context);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void action(AuthenticationFlowContext context) {\r\n    \t\tif (logger.isDebugEnabled()) {\r\n    \t\t\tlogger.debug(&quot;action(AuthenticationFlowContext) - start&quot;);\r\n    \t\t}\r\n    \t\tMultivaluedMap&lt;String, String&gt; formData = context.getHttpRequest().getDecodedFormParameters();\r\n    \t\tList&lt;FormMessage&gt; errors = new ArrayList&lt;&gt;();\r\n    \t\tboolean success = false;\r\n    \t\tcontext.getEvent().detail(Details.AUTH_METHOD, &quot;auth_method&quot;);\r\n    \r\n    \t\tString captcha = formData.getFirst(G_RECAPTCHA_RESPONSE);\r\n    \t\tif (!Validation.isBlank(captcha)) {\r\n    \t\t\tAuthenticatorConfigModel captchaConfig = context.getAuthenticatorConfig();\r\n    \t\t\tString secret = captchaConfig.getConfig().get(SITE_SECRET);\r\n    \r\n    \t\t\tsuccess = validateRecaptcha(context, success, captcha, secret);\r\n    \t\t}\r\n    \t\tif (success) {\r\n    \t\t\tsuper.action(context);\r\n    \t\t} else {\r\n    \t\t\terrors.add(new FormMessage(null, Messages.RECAPTCHA_FAILED));\r\n    \t\t\tformData.remove(G_RECAPTCHA_RESPONSE);\r\n    \t\t\t// context.error(Errors.INVALID_REGISTRATION);\r\n    \t\t\t// context.validationError(formData, errors);\r\n    \t\t\t// context.excludeOtherErrors();\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \r\n    \t\tif (logger.isDebugEnabled()) {\r\n    \t\t\tlogger.debug(&quot;action(AuthenticationFlowContext) - end&quot;);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprotected boolean validateRecaptcha(AuthenticationFlowContext context, boolean success, String captcha, String secret) {\r\n    \t\tHttpClient httpClient = context.getSession().getProvider(HttpClientProvider.class).getHttpClient();\r\n    \t\tHttpPost post = new HttpPost(&quot;https://www.google.com/recaptcha/api/siteverify&quot;);\r\n    \t\tList&lt;NameValuePair&gt; formparams = new LinkedList&lt;&gt;();\r\n    \t\tformparams.add(new BasicNameValuePair(&quot;secret&quot;, secret));\r\n    \t\tformparams.add(new BasicNameValuePair(&quot;response&quot;, captcha));\r\n    \t\tformparams.add(new BasicNameValuePair(&quot;remoteip&quot;, context.getConnection().getRemoteAddr()));\r\n    \t\ttry {\r\n    \t\t\tUrlEncodedFormEntity form = new UrlEncodedFormEntity(formparams, &quot;UTF-8&quot;);\r\n    \t\t\tpost.setEntity(form);\r\n    \t\t\tHttpResponse response = httpClient.execute(post);\r\n    \t\t\tInputStream content = response.getEntity().getContent();\r\n    \t\t\ttry {\r\n    \t\t\t\tMap json = JsonSerialization.readValue(content, Map.class);\r\n    \t\t\t\tObject val = json.get(&quot;success&quot;);\r\n    \t\t\t\tsuccess = Boolean.TRUE.equals(val);\r\n    \t\t\t} finally {\r\n    \t\t\t\tcontent.close();\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tServicesLogger.LOGGER.recaptchaFailed(e);\r\n    \t\t}\r\n    \t\treturn success;\r\n    \t}    \r\n    \r\n    }\r\n\r\nRecaptchaUsernamePasswordFormFactory:\r\n\r\n    &lt;!-- language: java --&gt;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import org.keycloak.Config;\r\n    import org.keycloak.OAuth2Constants;\r\n    import org.keycloak.authentication.Authenticator;\r\n    import org.keycloak.authentication.AuthenticatorFactory;\r\n    import org.keycloak.authentication.DisplayTypeAuthenticatorFactory;\r\n    import org.keycloak.authentication.authenticators.browser.UsernamePasswordForm;\r\n    import org.keycloak.authentication.authenticators.browser.UsernamePasswordFormFactory;\r\n    import org.keycloak.authentication.authenticators.console.ConsoleUsernamePasswordAuthenticator;\r\n    import org.keycloak.models.AuthenticationExecutionModel;\r\n    import org.keycloak.models.KeycloakSession;\r\n    import org.keycloak.models.KeycloakSessionFactory;\r\n    import org.keycloak.models.UserCredentialModel;\r\n    import org.keycloak.provider.ProviderConfigProperty;\r\n    \r\n    public class RecaptchaUsernamePasswordFormFactory  implements AuthenticatorFactory, DisplayTypeAuthenticatorFactory {\r\n    \r\n        public static final String PROVIDER_ID = &quot;recaptcha-u-p-form&quot;;\r\n        public static final RecaptchaUsernamePasswordForm SINGLETON = new RecaptchaUsernamePasswordForm();\r\n    \r\n        @Override\r\n        public Authenticator create(KeycloakSession session) {\r\n            return SINGLETON;\r\n        }\r\n    \r\n        @Override\r\n        public Authenticator createDisplay(KeycloakSession session, String displayType) {\r\n            if (displayType == null) return SINGLETON;\r\n            if (!OAuth2Constants.DISPLAY_CONSOLE.equalsIgnoreCase(displayType)) return null;\r\n            return ConsoleUsernamePasswordAuthenticator.SINGLETON;\r\n        }\r\n    \r\n        @Override\r\n        public void init(Config.Scope config) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void postInit(KeycloakSessionFactory factory) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void close() {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public String getId() {\r\n            return PROVIDER_ID;\r\n        }\r\n    \r\n        @Override\r\n        public String getReferenceCategory() {\r\n            return UserCredentialModel.PASSWORD;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isConfigurable() {\r\n            return true;\r\n        }\r\n        \r\n        public static final AuthenticationExecutionModel.Requirement[] REQUIREMENT_CHOICES = {\r\n                AuthenticationExecutionModel.Requirement.REQUIRED\r\n        };\r\n    \r\n        @Override\r\n        public AuthenticationExecutionModel.Requirement[] getRequirementChoices() {\r\n            return REQUIREMENT_CHOICES;\r\n        }\r\n    \r\n        @Override\r\n        public String getDisplayType() {\r\n            return &quot;Recaptcha Username Password Form&quot;;\r\n        }\r\n    \r\n        @Override\r\n        public String getHelpText() {\r\n            return &quot;Validates a username and password from login form + google recaptcha&quot;;\r\n        }\r\n    \r\n    \tprivate static final List&lt;ProviderConfigProperty&gt; CONFIG_PROPERTIES = new ArrayList&lt;ProviderConfigProperty&gt;();\r\n    \r\n    \tstatic {\r\n    \t\tProviderConfigProperty property;\r\n    \t\tproperty = new ProviderConfigProperty();\r\n    \t\tproperty.setName(RecaptchaUsernamePasswordForm.SITE_KEY);\r\n    \t\tproperty.setLabel(&quot;Recaptcha Site Key&quot;);\r\n    \t\tproperty.setType(ProviderConfigProperty.STRING_TYPE);\r\n    \t\tproperty.setHelpText(&quot;Google Recaptcha Site Key&quot;);\r\n    \t\tCONFIG_PROPERTIES.add(property);\r\n    \t\tproperty = new ProviderConfigProperty();\r\n    \t\tproperty.setName(RecaptchaUsernamePasswordForm.SITE_SECRET);\r\n    \t\tproperty.setLabel(&quot;Recaptcha Secret&quot;);\r\n    \t\tproperty.setType(ProviderConfigProperty.STRING_TYPE);\r\n    \t\tproperty.setHelpText(&quot;Google Recaptcha Secret&quot;);\r\n    \t\tCONFIG_PROPERTIES.add(property);\r\n    \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic List&lt;ProviderConfigProperty&gt; getConfigProperties() {\r\n    \t\treturn CONFIG_PROPERTIES;\r\n    \t}\r\n    \r\n        @Override\r\n        public boolean isUserSetupAllowed() {\r\n            return false;\r\n        }\r\n    \r\n    }\r\n\r\nThere must be a `META-INF` in which there must be a `service\\org.keycloak.authentication.AuthenticatorFactory` . which it&#39;s content is:\r\n\r\n    #\r\n    # Copyright 2016 Red Hat, Inc. and/or its affiliates\r\n    # and other contributors as indicated by the @author tags.\r\n    #\r\n    # Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\r\n    # you may not use this file except in compliance with the License.\r\n    # You may obtain a copy of the License at\r\n    #\r\n    # http://www.apache.org/licenses/LICENSE-2.0\r\n    #\r\n    # Unless required by applicable law or agreed to in writing, software\r\n    # distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n    # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n    # See the License for the specific language governing permissions and\r\n    # limitations under the License.\r\n    #\r\n    \r\n    org.keycloak.marjaa.providers.login.recaptcha.authenticator.RecaptchaUsernamePasswordFormFactory\r\n\r\nand also all standalone deployable jboss modules must have a `jboss-deployment-structure.xml`, which describes this modules dependencies:\r\n\r\n    &lt;jboss-deployment-structure&gt;\r\n        &lt;deployment&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;module name=&quot;org.keycloak.keycloak-server-spi&quot; export=&quot;true&quot;/&gt;\r\n                &lt;module name=&quot;org.keycloak.keycloak-server-spi-private&quot; export=&quot;true&quot;/&gt;\r\n                &lt;module name=&quot;org.keycloak.keycloak-core&quot; export=&quot;true&quot;/&gt;\r\n                &lt;module name=&quot;org.jboss.logging&quot; export=&quot;true&quot;/&gt;\r\n                &lt;module name=&quot;org.keycloak.keycloak-services&quot; export=&quot;true&quot;/&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/deployment&gt;\r\n    &lt;/jboss-deployment-structure&gt;\r\n\r\nand in your `login.ftl` in your theme you shoud add this inside `&lt;form&gt;&lt;/form&gt;`:\r\n\r\n    &lt;#if recaptchaRequired??&gt;\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n    \t&lt;div class=&quot;${properties.kcInputWrapperClass!}&quot;&gt;\r\n    \t\t&lt;div class=&quot;g-recaptcha&quot; data-size=&quot;compact&quot; data-sitekey=&quot;${recaptchaSiteKey}&quot;&gt;\t\t\t\r\n    \t\t&lt;/div&gt;\r\n    \t&lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;/#if&gt;\r\n\r\nAnd finally you should enable external origin `https://google.com` like the way in keycloaks&#39;  [Recaptcha Documentation](https://www.keycloak.org/docs/latest/server_admin/index.html#_recaptcha) mentioned.\r\n\r\nhow to use\r\n==========\r\n\r\nin this [github repo](https://github.com/raptor-group/keycloak-login-recaptcha) we&#39;ve created an easy to use maven module and Usage manual.\r\n\r\nJust clone the repo.\r\nyou should have `java` and `maven` installed.\r\nfor building you need to run `mvn clean install`.  it will produce the jar `target/recaptcha-login.jar`.\r\nfor making it accessible in Keycloak you should copy this jar into keycloaks `standalone/deployment/` directory.\r\njust it.\r\nif you&#39;re using it in docker environment you should mount it in `/opt/jboss/keycloak/standalone/deployment/recaptcha-login.jar`.\r\nfor example in my docker compose file:\r\n\r\n    keycloak:\r\n\t    image: jboss/keycloak:4.2.1.Final\r\n\t    .\r\n\t    .\r\n\t    .\r\n\t    volumes:\r\n\t\t    - ./realm-config:/opt/jboss/keycloak/realm-config\r\n\t\t    - ./my-theme/:/opt/jboss/keycloak/themes/my-theme/\r\n\t\t    - ./kc-recaptcha-module/target/recaptcha-login.jar:/opt/jboss/keycloak/standalone/deployments/recaptcha-login.jar\r\n\r\nand in your theme file you should add this piece of code in your login.ftl template file:\r\n\r\n    &lt;#if recaptchaRequired??&gt;\r\n        &lt;div class=&quot;form-group&quot;&gt;\r\n    \t    &lt;div class=&quot;${properties.kcInputWrapperClass!}&quot;&gt;\r\n    \t\t    &lt;div class=&quot;g-recaptcha&quot; data-size=&quot;compact&quot; data-sitekey=&quot;${recaptchaSiteKey}&quot;&gt;\t\t\t\r\n    \t\t    &lt;/div&gt;\r\n    \t    &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/#if&gt;\r\n\r\nyou should past it inside your login `&lt;form&gt;&lt;/form&gt;` in your login template (`login.ftl`)\r\n\r\nAnd finally you should enable external origin `https://google.com` like the way in keycloaks&#39;  [Recaptcha Documentation](https://www.keycloak.org/docs/latest/server_admin/index.html#_recaptcha) mentioned.\r\n\r\nfor enabling it IN GUI do these:\r\nGo To authentication\r\n[![Then Go to Authentication][1]][1]\r\n\r\nthen create a Flow For yourself in this case mine is `BrowserWithRecaptcha`, it should be like keycloaks&#39; default `Browser` except that it has `Recaptcha Username Password Form` instead of `Username Password Form`:\r\n[![enter image description here][2]][2]\r\n\r\nThen Config your `Recaptacha Uusername Password Form` according your google recaptcha keys in:\r\n[![enter image description here][3]][3]\r\n\r\nand then Bind your `Browser Flow` to `BrowserWithRecaptcha` in the next tab:\r\n[![enter image description here][4]][4]\r\n\r\nand it&#39;s also Obligatory to allow google.com to access in `Realm Settings`&gt;`Security Defences`:\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hLEWv.png\r\n  [2]: https://i.stack.imgur.com/1v3io.png\r\n  [3]: https://i.stack.imgur.com/AcXky.png\r\n  [4]: https://i.stack.imgur.com/wkVxw.png\r\n  [5]: https://i.stack.imgur.com/363nm.png","title":"How to implement Recaptcha on keycloak login page","body":"<p>Based On @ghinea-alex response, we made a working <code>keycloak jboss module</code> in this <a href=\"https://github.com/raptor-group/keycloak-login-recaptcha\" rel=\"noreferrer\">Github Repository</a>.</p>\n\n<p>We made a maven module which is also a JBoss Module.</p>\n\n<p>first extended <code>UsernamePasswordForm</code> in <code>RecaptchaUsernamePasswordForm</code> and also extended <code>UsernamePasswordFormFatory</code> in <code>RecpatchaUsernamePasswordFormFactory</code>.</p>\n\n<p>RecaptchaUsernamePasswordForm:</p>\n\n<pre><code>&lt;!-- language: java --&gt;\nimport java.io.InputStream;\nimport java.util.ArrayList;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.Map;\n\nimport javax.ws.rs.core.MultivaluedMap;\n\nimport org.apache.http.HttpResponse;\nimport org.apache.http.NameValuePair;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.entity.UrlEncodedFormEntity;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.message.BasicNameValuePair;\nimport org.jboss.logging.Logger;\nimport org.keycloak.authentication.AuthenticationFlowContext;\nimport org.keycloak.authentication.Authenticator;\nimport org.keycloak.authentication.authenticators.browser.UsernamePasswordForm;\nimport org.keycloak.connections.httpclient.HttpClientProvider;\nimport org.keycloak.events.Details;\nimport org.keycloak.forms.login.LoginFormsProvider;\nimport org.keycloak.models.AuthenticatorConfigModel;\nimport org.keycloak.models.utils.FormMessage;\nimport org.keycloak.services.ServicesLogger;\nimport org.keycloak.services.messages.Messages;\nimport org.keycloak.services.validation.Validation;\nimport org.keycloak.util.JsonSerialization;\n\npublic class RecaptchaUsernamePasswordForm extends UsernamePasswordForm implements Authenticator{\n    public static final String G_RECAPTCHA_RESPONSE = \"g-recaptcha-response\";\n    public static final String RECAPTCHA_REFERENCE_CATEGORY = \"recaptcha\";\n    public static final String SITE_KEY = \"site.key\";\n    public static final String SITE_SECRET = \"secret\";\n    private static final Logger logger = Logger.getLogger(RecaptchaUsernamePasswordFormFactory.class);\n\n    @Override\n    public void authenticate(AuthenticationFlowContext context) {\n        context.getEvent().detail(Details.AUTH_METHOD, \"auth_method\");\n        if (logger.isInfoEnabled()) {\n            logger.info(\n                    \"validateRecaptcha(AuthenticationFlowContext, boolean, String, String) - Before the validation\");\n        }\n\n        AuthenticatorConfigModel captchaConfig = context.getAuthenticatorConfig();\n        LoginFormsProvider form = context.form();\n        String userLanguageTag = context.getSession().getContext().resolveLocale(context.getUser()).toLanguageTag();\n\n        if (captchaConfig == null || captchaConfig.getConfig() == null\n                || captchaConfig.getConfig().get(SITE_KEY) == null\n                || captchaConfig.getConfig().get(SITE_SECRET) == null) {\n            form.addError(new FormMessage(null, Messages.RECAPTCHA_NOT_CONFIGURED));\n            return;\n        }\n        String siteKey = captchaConfig.getConfig().get(SITE_KEY);\n        form.setAttribute(\"recaptchaRequired\", true);\n        form.setAttribute(\"recaptchaSiteKey\", siteKey);\n        form.addScript(\"https://www.google.com/recaptcha/api.js?hl=\" + userLanguageTag);\n\n        super.authenticate(context);\n    }\n\n    @Override\n    public void action(AuthenticationFlowContext context) {\n        if (logger.isDebugEnabled()) {\n            logger.debug(\"action(AuthenticationFlowContext) - start\");\n        }\n        MultivaluedMap&lt;String, String&gt; formData = context.getHttpRequest().getDecodedFormParameters();\n        List&lt;FormMessage&gt; errors = new ArrayList&lt;&gt;();\n        boolean success = false;\n        context.getEvent().detail(Details.AUTH_METHOD, \"auth_method\");\n\n        String captcha = formData.getFirst(G_RECAPTCHA_RESPONSE);\n        if (!Validation.isBlank(captcha)) {\n            AuthenticatorConfigModel captchaConfig = context.getAuthenticatorConfig();\n            String secret = captchaConfig.getConfig().get(SITE_SECRET);\n\n            success = validateRecaptcha(context, success, captcha, secret);\n        }\n        if (success) {\n            super.action(context);\n        } else {\n            errors.add(new FormMessage(null, Messages.RECAPTCHA_FAILED));\n            formData.remove(G_RECAPTCHA_RESPONSE);\n            // context.error(Errors.INVALID_REGISTRATION);\n            // context.validationError(formData, errors);\n            // context.excludeOtherErrors();\n            return;\n        }\n\n        if (logger.isDebugEnabled()) {\n            logger.debug(\"action(AuthenticationFlowContext) - end\");\n        }\n    }\n\n    protected boolean validateRecaptcha(AuthenticationFlowContext context, boolean success, String captcha, String secret) {\n        HttpClient httpClient = context.getSession().getProvider(HttpClientProvider.class).getHttpClient();\n        HttpPost post = new HttpPost(\"https://www.google.com/recaptcha/api/siteverify\");\n        List&lt;NameValuePair&gt; formparams = new LinkedList&lt;&gt;();\n        formparams.add(new BasicNameValuePair(\"secret\", secret));\n        formparams.add(new BasicNameValuePair(\"response\", captcha));\n        formparams.add(new BasicNameValuePair(\"remoteip\", context.getConnection().getRemoteAddr()));\n        try {\n            UrlEncodedFormEntity form = new UrlEncodedFormEntity(formparams, \"UTF-8\");\n            post.setEntity(form);\n            HttpResponse response = httpClient.execute(post);\n            InputStream content = response.getEntity().getContent();\n            try {\n                Map json = JsonSerialization.readValue(content, Map.class);\n                Object val = json.get(\"success\");\n                success = Boolean.TRUE.equals(val);\n            } finally {\n                content.close();\n            }\n        } catch (Exception e) {\n            ServicesLogger.LOGGER.recaptchaFailed(e);\n        }\n        return success;\n    }    \n\n}\n</code></pre>\n\n<p>RecaptchaUsernamePasswordFormFactory:</p>\n\n<pre><code>&lt;!-- language: java --&gt;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.keycloak.Config;\nimport org.keycloak.OAuth2Constants;\nimport org.keycloak.authentication.Authenticator;\nimport org.keycloak.authentication.AuthenticatorFactory;\nimport org.keycloak.authentication.DisplayTypeAuthenticatorFactory;\nimport org.keycloak.authentication.authenticators.browser.UsernamePasswordForm;\nimport org.keycloak.authentication.authenticators.browser.UsernamePasswordFormFactory;\nimport org.keycloak.authentication.authenticators.console.ConsoleUsernamePasswordAuthenticator;\nimport org.keycloak.models.AuthenticationExecutionModel;\nimport org.keycloak.models.KeycloakSession;\nimport org.keycloak.models.KeycloakSessionFactory;\nimport org.keycloak.models.UserCredentialModel;\nimport org.keycloak.provider.ProviderConfigProperty;\n\npublic class RecaptchaUsernamePasswordFormFactory  implements AuthenticatorFactory, DisplayTypeAuthenticatorFactory {\n\n    public static final String PROVIDER_ID = \"recaptcha-u-p-form\";\n    public static final RecaptchaUsernamePasswordForm SINGLETON = new RecaptchaUsernamePasswordForm();\n\n    @Override\n    public Authenticator create(KeycloakSession session) {\n        return SINGLETON;\n    }\n\n    @Override\n    public Authenticator createDisplay(KeycloakSession session, String displayType) {\n        if (displayType == null) return SINGLETON;\n        if (!OAuth2Constants.DISPLAY_CONSOLE.equalsIgnoreCase(displayType)) return null;\n        return ConsoleUsernamePasswordAuthenticator.SINGLETON;\n    }\n\n    @Override\n    public void init(Config.Scope config) {\n\n    }\n\n    @Override\n    public void postInit(KeycloakSessionFactory factory) {\n\n    }\n\n    @Override\n    public void close() {\n\n    }\n\n    @Override\n    public String getId() {\n        return PROVIDER_ID;\n    }\n\n    @Override\n    public String getReferenceCategory() {\n        return UserCredentialModel.PASSWORD;\n    }\n\n    @Override\n    public boolean isConfigurable() {\n        return true;\n    }\n\n    public static final AuthenticationExecutionModel.Requirement[] REQUIREMENT_CHOICES = {\n            AuthenticationExecutionModel.Requirement.REQUIRED\n    };\n\n    @Override\n    public AuthenticationExecutionModel.Requirement[] getRequirementChoices() {\n        return REQUIREMENT_CHOICES;\n    }\n\n    @Override\n    public String getDisplayType() {\n        return \"Recaptcha Username Password Form\";\n    }\n\n    @Override\n    public String getHelpText() {\n        return \"Validates a username and password from login form + google recaptcha\";\n    }\n\n    private static final List&lt;ProviderConfigProperty&gt; CONFIG_PROPERTIES = new ArrayList&lt;ProviderConfigProperty&gt;();\n\n    static {\n        ProviderConfigProperty property;\n        property = new ProviderConfigProperty();\n        property.setName(RecaptchaUsernamePasswordForm.SITE_KEY);\n        property.setLabel(\"Recaptcha Site Key\");\n        property.setType(ProviderConfigProperty.STRING_TYPE);\n        property.setHelpText(\"Google Recaptcha Site Key\");\n        CONFIG_PROPERTIES.add(property);\n        property = new ProviderConfigProperty();\n        property.setName(RecaptchaUsernamePasswordForm.SITE_SECRET);\n        property.setLabel(\"Recaptcha Secret\");\n        property.setType(ProviderConfigProperty.STRING_TYPE);\n        property.setHelpText(\"Google Recaptcha Secret\");\n        CONFIG_PROPERTIES.add(property);\n\n    }\n\n    @Override\n    public List&lt;ProviderConfigProperty&gt; getConfigProperties() {\n        return CONFIG_PROPERTIES;\n    }\n\n    @Override\n    public boolean isUserSetupAllowed() {\n        return false;\n    }\n\n}\n</code></pre>\n\n<p>There must be a <code>META-INF</code> in which there must be a <code>service\\org.keycloak.authentication.AuthenticatorFactory</code> . which it's content is:</p>\n\n<pre><code>#\n# Copyright 2016 Red Hat, Inc. and/or its affiliates\n# and other contributors as indicated by the @author tags.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n# http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n#\n\norg.keycloak.marjaa.providers.login.recaptcha.authenticator.RecaptchaUsernamePasswordFormFactory\n</code></pre>\n\n<p>and also all standalone deployable jboss modules must have a <code>jboss-deployment-structure.xml</code>, which describes this modules dependencies:</p>\n\n<pre><code>&lt;jboss-deployment-structure&gt;\n    &lt;deployment&gt;\n        &lt;dependencies&gt;\n            &lt;module name=\"org.keycloak.keycloak-server-spi\" export=\"true\"/&gt;\n            &lt;module name=\"org.keycloak.keycloak-server-spi-private\" export=\"true\"/&gt;\n            &lt;module name=\"org.keycloak.keycloak-core\" export=\"true\"/&gt;\n            &lt;module name=\"org.jboss.logging\" export=\"true\"/&gt;\n            &lt;module name=\"org.keycloak.keycloak-services\" export=\"true\"/&gt;\n        &lt;/dependencies&gt;\n    &lt;/deployment&gt;\n&lt;/jboss-deployment-structure&gt;\n</code></pre>\n\n<p>and in your <code>login.ftl</code> in your theme you shoud add this inside <code>&lt;form&gt;&lt;/form&gt;</code>:</p>\n\n<pre><code>&lt;#if recaptchaRequired??&gt;\n&lt;div class=\"form-group\"&gt;\n    &lt;div class=\"${properties.kcInputWrapperClass!}\"&gt;\n        &lt;div class=\"g-recaptcha\" data-size=\"compact\" data-sitekey=\"${recaptchaSiteKey}\"&gt;            \n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;/#if&gt;\n</code></pre>\n\n<p>And finally you should enable external origin <code>https://google.com</code> like the way in keycloaks'  <a href=\"https://www.keycloak.org/docs/latest/server_admin/index.html#_recaptcha\" rel=\"noreferrer\">Recaptcha Documentation</a> mentioned.</p>\n\n<h1>how to use</h1>\n\n<p>in this <a href=\"https://github.com/raptor-group/keycloak-login-recaptcha\" rel=\"noreferrer\">github repo</a> we've created an easy to use maven module and Usage manual.</p>\n\n<p>Just clone the repo.\nyou should have <code>java</code> and <code>maven</code> installed.\nfor building you need to run <code>mvn clean install</code>.  it will produce the jar <code>target/recaptcha-login.jar</code>.\nfor making it accessible in Keycloak you should copy this jar into keycloaks <code>standalone/deployment/</code> directory.\njust it.\nif you're using it in docker environment you should mount it in <code>/opt/jboss/keycloak/standalone/deployment/recaptcha-login.jar</code>.\nfor example in my docker compose file:</p>\n\n<pre><code>keycloak:\n    image: jboss/keycloak:4.2.1.Final\n    .\n    .\n    .\n    volumes:\n        - ./realm-config:/opt/jboss/keycloak/realm-config\n        - ./my-theme/:/opt/jboss/keycloak/themes/my-theme/\n        - ./kc-recaptcha-module/target/recaptcha-login.jar:/opt/jboss/keycloak/standalone/deployments/recaptcha-login.jar\n</code></pre>\n\n<p>and in your theme file you should add this piece of code in your login.ftl template file:</p>\n\n<pre><code>&lt;#if recaptchaRequired??&gt;\n    &lt;div class=\"form-group\"&gt;\n        &lt;div class=\"${properties.kcInputWrapperClass!}\"&gt;\n            &lt;div class=\"g-recaptcha\" data-size=\"compact\" data-sitekey=\"${recaptchaSiteKey}\"&gt;            \n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/#if&gt;\n</code></pre>\n\n<p>you should past it inside your login <code>&lt;form&gt;&lt;/form&gt;</code> in your login template (<code>login.ftl</code>)</p>\n\n<p>And finally you should enable external origin <code>https://google.com</code> like the way in keycloaks'  <a href=\"https://www.keycloak.org/docs/latest/server_admin/index.html#_recaptcha\" rel=\"noreferrer\">Recaptcha Documentation</a> mentioned.</p>\n\n<p>for enabling it IN GUI do these:\nGo To authentication\n<a href=\"https://i.stack.imgur.com/hLEWv.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hLEWv.png\" alt=\"Then Go to Authentication\"></a></p>\n\n<p>then create a Flow For yourself in this case mine is <code>BrowserWithRecaptcha</code>, it should be like keycloaks' default <code>Browser</code> except that it has <code>Recaptcha Username Password Form</code> instead of <code>Username Password Form</code>:\n<a href=\"https://i.stack.imgur.com/1v3io.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/1v3io.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then Config your <code>Recaptacha Uusername Password Form</code> according your google recaptcha keys in:\n<a href=\"https://i.stack.imgur.com/AcXky.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/AcXky.png\" alt=\"enter image description here\"></a></p>\n\n<p>and then Bind your <code>Browser Flow</code> to <code>BrowserWithRecaptcha</code> in the next tab:\n<a href=\"https://i.stack.imgur.com/wkVxw.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wkVxw.png\" alt=\"enter image description here\"></a></p>\n\n<p>and it's also Obligatory to allow google.com to access in <code>Realm Settings</code>><code>Security Defences</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/363nm.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/363nm.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":93014,"reputation":4106,"user_id":254662,"accept_rate":25,"display_name":"Anjum...."},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1611213892,"creation_date":1611213892,"answer_id":65822788,"question_id":46974448,"body_markdown":"Here is another approach, may be not elegant as suggested by other great developer however, it may be helpful for those who are looking for theme based solution.\r\n\r\n&gt; Important: You need to enable google re-captcha for the keyCloak registration page  first.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n- Goto theme and add below line of code into ```themes --&gt; base --&gt; login.ftl``` after line number 46\r\n\r\n````HTML\r\n\r\n&lt;script src=&quot;https://www.google.com/recaptcha/api.js&quot; async defer&gt;&lt;/script&gt;\r\n &lt;script&gt;\r\n   function verifyCaptcha() {\r\n     document.getElementById(&#39;kc-login&#39;).disabled = false;\r\n   }\r\n &lt;/script&gt;\r\n\r\n &lt;div class=&quot;g-recaptcha&quot; data-sitekey=&quot;${properties.recaptchaSiteKey!}&quot; data-callback=&quot;verifyCaptcha&quot;&gt;&lt;/div&gt;\r\n\r\n &lt;div id=&quot;kc-form-buttons&quot; class=&quot;${properties.kcFormGroupClass!}&quot;&gt;\r\n &lt;input type=&quot;hidden&quot; id=&quot;id-hidden-input&quot; name=&quot;credentialId&quot; &lt;#if auth.selectedCredential?has_content&gt;value=&quot;${auth.selectedCredential}&quot;&lt;/#if&gt;/&gt;\r\n  &lt;input tabindex=&quot;4&quot; class=&quot;${properties.kcButtonClass!} ${properties.kcButtonPrimaryClass!} ${properties.kcButtonBlockClass!} ${properties.kcButtonLargeClass!}&quot; name=&quot;login&quot; id=&quot;kc-login&quot; disabled type=&quot;submit&quot; value=&quot;${msg(&quot;doLogIn&quot;)}&quot;/&gt;\r\n&lt;/div&gt;\r\n\r\n```` \r\n\r\n- Goto theme and add below line of code into ```themes --&gt; base --&gt; theme.properties```\r\n\r\n````\r\nrecaptchaSiteKey=YourGoogleSiteKeyWhichYouShouldGetFromGoogleSite\r\n````\r\n\r\nRefresh your page and with clearing cache, you will get working captcha. \r\n\r\nIt&#39;s not very strong, as its just disable login button until you/user get success call back from google re-captcha service.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nEWPI.png","title":"How to implement Recaptcha on keycloak login page","body":"<p>Here is another approach, may be not elegant as suggested by other great developer however, it may be helpful for those who are looking for theme based solution.</p>\n<blockquote>\n<p>Important: You need to enable google re-captcha for the keyCloak registration page  first.</p>\n</blockquote>\n<ul>\n<li>Goto theme and add below line of code into <code>themes --&gt; base --&gt; login.ftl</code> after line number 46</li>\n</ul>\n<pre><code>\n&lt;script src=&quot;https://www.google.com/recaptcha/api.js&quot; async defer&gt;&lt;/script&gt;\n &lt;script&gt;\n   function verifyCaptcha() {\n     document.getElementById('kc-login').disabled = false;\n   }\n &lt;/script&gt;\n\n &lt;div class=&quot;g-recaptcha&quot; data-sitekey=&quot;${properties.recaptchaSiteKey!}&quot; data-callback=&quot;verifyCaptcha&quot;&gt;&lt;/div&gt;\n\n &lt;div id=&quot;kc-form-buttons&quot; class=&quot;${properties.kcFormGroupClass!}&quot;&gt;\n &lt;input type=&quot;hidden&quot; id=&quot;id-hidden-input&quot; name=&quot;credentialId&quot; &lt;#if auth.selectedCredential?has_content&gt;value=&quot;${auth.selectedCredential}&quot;&lt;/#if&gt;/&gt;\n  &lt;input tabindex=&quot;4&quot; class=&quot;${properties.kcButtonClass!} ${properties.kcButtonPrimaryClass!} ${properties.kcButtonBlockClass!} ${properties.kcButtonLargeClass!}&quot; name=&quot;login&quot; id=&quot;kc-login&quot; disabled type=&quot;submit&quot; value=&quot;${msg(&quot;doLogIn&quot;)}&quot;/&gt;\n&lt;/div&gt;\n\n</code></pre>\n<ul>\n<li>Goto theme and add below line of code into <code>themes --&gt; base --&gt; theme.properties</code></li>\n</ul>\n<pre><code>recaptchaSiteKey=YourGoogleSiteKeyWhichYouShouldGetFromGoogleSite\n</code></pre>\n<p>Refresh your page and with clearing cache, you will get working captcha.</p>\n<p>It's not very strong, as its just disable login button until you/user get success call back from google re-captcha service.</p>\n<p><a href=\"https://i.stack.imgur.com/nEWPI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nEWPI.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":20167018,"reputation":1,"user_id":18497668,"display_name":"jhoann vanegas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653500605,"creation_date":1653500605,"answer_id":72382124,"question_id":46974448,"body_markdown":"Everything in this code is good, but in the .ftl template you should add tag name, otherwise the keycloak won&#180;t take the value created in the catpcha variable into the spi:\r\npublic static final String G_RECAPTCHA_RESPONSE = &quot;g-recaptcha-response&quot;;\r\n\r\n\r\nsomething like this:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;#if recaptchaRequired??&gt;\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n        &lt;div class=&quot;${properties.kcInputWrapperClass!}&quot;&gt;\r\n            &lt;div class=&quot;g-recaptcha&quot; data-size=&quot;compact&quot; name=&quot;g-recaptcha-response&quot; data-sitekey=&quot;${recaptchaSiteKey}&quot;&gt;            \r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;/#if&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to implement Recaptcha on keycloak login page","body":"<p>Everything in this code is good, but in the .ftl template you should add tag name, otherwise the keycloak won´t take the value created in the catpcha variable into the spi:\npublic static final String G_RECAPTCHA_RESPONSE = &quot;g-recaptcha-response&quot;;</p>\n<p>something like this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;#if recaptchaRequired??&gt;\n&lt;div class=\"form-group\"&gt;\n    &lt;div class=\"${properties.kcInputWrapperClass!}\"&gt;\n        &lt;div class=\"g-recaptcha\" data-size=\"compact\" name=\"g-recaptcha-response\" data-sitekey=\"${recaptchaSiteKey}\"&gt;            \n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;/#if&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":2427741,"reputation":641,"user_id":2119334,"accept_rate":65,"display_name":"Ranveer Singh Rajpurohit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19571,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1653500605,"creation_date":1509105379,"question_id":46974448,"body_markdown":"I want to implement recaptcha in keycloak login page like registration page. I extended UsernamePasswordForm class with desired factory class. I even implenmented action required classes as well. but still i can not see that in provider tab to add in login. i modified existing login.ftl also but no luck. \r\n\r\nbelow is what i tried. \r\n\r\nMy Authenticator class:\r\n\r\n    public class MyLoginAuthenticator extends UsernamePasswordForm {\r\n\r\n\t\t@Override\r\n\t\tpublic void action(AuthenticationFlowContext context) {\r\n\t\t\tMultivaluedMap&lt;String, String&gt; formData = context.getHttpRequest().getDecodedFormParameters();\r\n\t\t\tif (formData.containsKey(&quot;cancel&quot;)) {\r\n\t\t\t\tcontext.cancelLogin();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (!validateForm(context, formData)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tcontext.success();\r\n\t\t}\r\n\r\n\t\tprotected boolean validateForm(AuthenticationFlowContext context, MultivaluedMap&lt;String, String&gt; formData) {\r\n\t\t\treturn validateUserAndPassword(context, formData);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void authenticate(AuthenticationFlowContext context) {\r\n\t\t\tMultivaluedMap&lt;String, String&gt; formData = new MultivaluedMapImpl&lt;&gt;();\r\n\t\t\tString loginHint = context.getAuthenticationSession().getClientNote(OIDCLoginProtocol.LOGIN_HINT_PARAM);\r\n\r\n\t\t\tString rememberMeUsername = AuthenticationManager.getRememberMeUsername(context.getRealm(), context.getHttpRequest().getHttpHeaders());\r\n\r\n\t\t\tif (loginHint != null || rememberMeUsername != null) {\r\n\t\t\t\tif (loginHint != null) {\r\n\t\t\t\t\tformData.add(AuthenticationManager.FORM_USERNAME, loginHint);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tformData.add(AuthenticationManager.FORM_USERNAME, rememberMeUsername);\r\n\t\t\t\t\tformData.add(&quot;rememberMe&quot;, &quot;on&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tResponse challengeResponse = challenge(context, formData);\r\n\t\t\tcontext.challenge(challengeResponse);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic boolean requiresUser() {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tprotected Response challenge(AuthenticationFlowContext context, MultivaluedMap&lt;String, String&gt; formData) {\r\n\t\t\tLoginFormsProvider forms = context.form();\r\n\r\n\t\t\tif (formData.size() &gt; 0) forms.setFormData(formData);\r\n\r\n\t\t\treturn forms.createLogin();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic boolean configuredFor(KeycloakSession session, RealmModel realm, UserModel user) {\r\n\t\t\t// never called\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void setRequiredActions(KeycloakSession session, RealmModel realm, UserModel user) {\r\n\t\t\t// never called\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void close() {\r\n\r\n\t\t}\r\n\t}\r\n\r\nMy Factory Class:\r\n\r\n    public class LoginAuthenticatorFactory extends UsernamePasswordFormFactory {\r\n\r\n\t\tpublic static final String G_RECAPTCHA_RESPONSE = &quot;g-recaptcha-response&quot;;\r\n\t\tpublic static final String RECAPTCHA_REFERENCE_CATEGORY = &quot;login-recaptcha&quot;;\r\n\t\tpublic static final String SITE_KEY = &quot;site.key&quot;;\r\n\t\tpublic static final String SITE_SECRET = &quot;secret&quot;;\r\n\t\tpublic static final String PROVIDER_ID = &quot;auth-username-password-form-recaptcha&quot;;\r\n\r\n\t\tpublic static final MyLoginAuthenticator SINGLETON = new MyLoginAuthenticator();\r\n\r\n\t\t@Override\r\n\t\tpublic String getDisplayType() {\r\n\t\t\tSystem.out.println(&quot;Ranveer Singh getDisplayType &quot;);\r\n\t\t\treturn &quot;Login Recaptcha&quot;;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic String getReferenceCategory() {\r\n\t\t\treturn RECAPTCHA_REFERENCE_CATEGORY;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Authenticator create(KeycloakSession session) {\r\n\t\t\treturn SINGLETON;\r\n\t\t}\r\n\r\n\r\n\t\t@Override\r\n\t\tpublic boolean isConfigurable() {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tprivate static AuthenticationExecutionModel.Requirement[] REQUIREMENT_CHOICES = {AuthenticationExecutionModel.Requirement.REQUIRED, AuthenticationExecutionModel.Requirement.DISABLED};\r\n\r\n\t\t@Override\r\n\t\tpublic AuthenticationExecutionModel.Requirement[] getRequirementChoices() {\r\n\t\t\treturn REQUIREMENT_CHOICES;\r\n\t\t}\r\n\r\n\t\tpublic void buildPage(FormContext context, LoginFormsProvider form) {\r\n\t\t\tSystem.out.println(&quot;Ranveer Singh buildPage&quot;);\r\n\t\t\tAuthenticatorConfigModel captchaConfig = context.getAuthenticatorConfig();\r\n\t\t\tif (captchaConfig == null || captchaConfig.getConfig() == null || captchaConfig.getConfig().get(SITE_KEY) == null || captchaConfig.getConfig().get(SITE_SECRET) == null) {\r\n\t\t\t\tform.addError(new FormMessage(null, Messages.RECAPTCHA_NOT_CONFIGURED));\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tString siteKey = captchaConfig.getConfig().get(SITE_KEY);\r\n\t\t\tform.setAttribute(&quot;recaptchaRequired&quot;, true);\r\n\t\t\tform.setAttribute(&quot;recaptchaSiteKey&quot;, siteKey);\r\n\t\t\tform.addScript(&quot;https://www.google.com/recaptcha/api.js&quot;);\r\n\t\t}\r\n\r\n\t\tpublic void validate(ValidationContext context) {\r\n\t\t\tSystem.out.println(&quot;Ranveer Singh validate&quot;);\r\n\t\t\tMultivaluedMap&lt;String, String&gt; formData = context.getHttpRequest().getDecodedFormParameters();\r\n\t\t\tList&lt;FormMessage&gt; errors = new ArrayList&lt;&gt;();\r\n\t\t\tboolean success = false;\r\n\t\t\tcontext.getEvent().detail(Details.REGISTER_METHOD, &quot;form&quot;);\r\n\r\n\t\t\tString captcha = formData.getFirst(G_RECAPTCHA_RESPONSE);\r\n\t\t\tif (!Validation.isBlank(captcha)) {\r\n\t\t\t\tAuthenticatorConfigModel captchaConfig = context.getAuthenticatorConfig();\r\n\t\t\t\tString secret = captchaConfig.getConfig().get(SITE_SECRET);\r\n\r\n\t\t\t\tsuccess = validateRecaptcha(context, success, captcha, secret);\r\n\t\t\t}\r\n\t\t\tif (success) {\r\n\t\t\t\tcontext.success();\r\n\t\t\t} else {\r\n\t\t\t\terrors.add(new FormMessage(null, Messages.RECAPTCHA_FAILED));\r\n\t\t\t\tformData.remove(G_RECAPTCHA_RESPONSE);\r\n\t\t\t\tcontext.error(Errors.INVALID_REGISTRATION);\r\n\t\t\t\tcontext.validationError(formData, errors);\r\n\t\t\t\treturn;\r\n\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprotected boolean validateRecaptcha(ValidationContext context, boolean success, String captcha, String secret) {\r\n\t\t\tSystem.out.println(&quot;Ranveer Singh &quot;);\r\n\t\t\tHttpClient httpClient = context.getSession().getProvider(HttpClientProvider.class).getHttpClient();\r\n\t\t\tHttpPost post = new HttpPost(&quot;https://www.google.com/recaptcha/api/siteverify&quot;);\r\n\t\t\tList&lt;NameValuePair&gt; formparams = new LinkedList&lt;&gt;();\r\n\t\t\tformparams.add(new BasicNameValuePair(&quot;secret&quot;, secret));\r\n\t\t\tformparams.add(new BasicNameValuePair(&quot;response&quot;, captcha));\r\n\t\t\tformparams.add(new BasicNameValuePair(&quot;remoteip&quot;, context.getConnection().getRemoteAddr()));\r\n\t\t\ttry {\r\n\t\t\t\tUrlEncodedFormEntity form = new UrlEncodedFormEntity(formparams, &quot;UTF-8&quot;);\r\n\t\t\t\tpost.setEntity(form);\r\n\t\t\t\tHttpResponse response = httpClient.execute(post);\r\n\t\t\t\tInputStream content = response.getEntity().getContent();\r\n\t\t\t\ttry {\r\n\t\t\t\t\tMap json = JsonSerialization.readValue(content, Map.class);\r\n\t\t\t\t\tObject val = json.get(&quot;success&quot;);\r\n\t\t\t\t\tsuccess = Boolean.TRUE.equals(val);\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tcontent.close();\r\n\t\t\t\t}\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tServicesLogger.LOGGER.recaptchaFailed(e);\r\n\t\t\t}\r\n\t\t\treturn success;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic boolean isUserSetupAllowed() {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\r\n\t\t@Override\r\n\t\tpublic void close() {\r\n\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void init(Config.Scope config) {\r\n\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void postInit(KeycloakSessionFactory factory) {\r\n\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic String getId() {\r\n\t\t\treturn PROVIDER_ID;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic String getHelpText() {\r\n\t\t\treturn &quot;Adds Google Recaptcha button.  Recaptchas verify that the entity that is registering is a human.  This can only be used on the internet and must be configured after you add it.&quot;;\r\n\t\t}\r\n\r\n\t\tprivate static final List&lt;ProviderConfigProperty&gt; configProperties = new ArrayList&lt;ProviderConfigProperty&gt;();\r\n\r\n\t\tstatic {\r\n\t\t\tProviderConfigProperty property;\r\n\t\t\tproperty = new ProviderConfigProperty();\r\n\t\t\tproperty.setName(SITE_KEY);\r\n\t\t\tproperty.setLabel(&quot;Recaptcha Site Key&quot;);\r\n\t\t\tproperty.setType(ProviderConfigProperty.STRING_TYPE);\r\n\t\t\tproperty.setHelpText(&quot;Google Recaptcha Site Key&quot;);\r\n\t\t\tconfigProperties.add(property);\r\n\t\t\tproperty = new ProviderConfigProperty();\r\n\t\t\tproperty.setName(SITE_SECRET);\r\n\t\t\tproperty.setLabel(&quot;Recaptcha Secret&quot;);\r\n\t\t\tproperty.setType(ProviderConfigProperty.STRING_TYPE);\r\n\t\t\tproperty.setHelpText(&quot;Google Recaptcha Secret&quot;);\r\n\t\t\tconfigProperties.add(property);\r\n\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic List&lt;ProviderConfigProperty&gt; getConfigProperties() {\r\n\t\t\treturn configProperties;\r\n\t\t}\r\n\r\n\t}\r\n\r\nIs there anything that i am missing ? can somebody help me to get recaptcha in login page. Has anybody done this before  ? can someone share sample code so that i can see and try more. \r\n\r\nThanks in advance. ","title":"How to implement Recaptcha on keycloak login page","body":"<p>I want to implement recaptcha in keycloak login page like registration page. I extended UsernamePasswordForm class with desired factory class. I even implenmented action required classes as well. but still i can not see that in provider tab to add in login. i modified existing login.ftl also but no luck.</p>\n<p>below is what i tried.</p>\n<p>My Authenticator class:</p>\n<pre><code>public class MyLoginAuthenticator extends UsernamePasswordForm {\n\n    @Override\n    public void action(AuthenticationFlowContext context) {\n        MultivaluedMap&lt;String, String&gt; formData = context.getHttpRequest().getDecodedFormParameters();\n        if (formData.containsKey(&quot;cancel&quot;)) {\n            context.cancelLogin();\n            return;\n        }\n\n        if (!validateForm(context, formData)) {\n            return;\n        }\n        context.success();\n    }\n\n    protected boolean validateForm(AuthenticationFlowContext context, MultivaluedMap&lt;String, String&gt; formData) {\n        return validateUserAndPassword(context, formData);\n    }\n\n    @Override\n    public void authenticate(AuthenticationFlowContext context) {\n        MultivaluedMap&lt;String, String&gt; formData = new MultivaluedMapImpl&lt;&gt;();\n        String loginHint = context.getAuthenticationSession().getClientNote(OIDCLoginProtocol.LOGIN_HINT_PARAM);\n\n        String rememberMeUsername = AuthenticationManager.getRememberMeUsername(context.getRealm(), context.getHttpRequest().getHttpHeaders());\n\n        if (loginHint != null || rememberMeUsername != null) {\n            if (loginHint != null) {\n                formData.add(AuthenticationManager.FORM_USERNAME, loginHint);\n            } else {\n                formData.add(AuthenticationManager.FORM_USERNAME, rememberMeUsername);\n                formData.add(&quot;rememberMe&quot;, &quot;on&quot;);\n            }\n        }\n        Response challengeResponse = challenge(context, formData);\n        context.challenge(challengeResponse);\n    }\n\n    @Override\n    public boolean requiresUser() {\n        return false;\n    }\n\n    protected Response challenge(AuthenticationFlowContext context, MultivaluedMap&lt;String, String&gt; formData) {\n        LoginFormsProvider forms = context.form();\n\n        if (formData.size() &gt; 0) forms.setFormData(formData);\n\n        return forms.createLogin();\n    }\n\n    @Override\n    public boolean configuredFor(KeycloakSession session, RealmModel realm, UserModel user) {\n        // never called\n        return true;\n    }\n\n    @Override\n    public void setRequiredActions(KeycloakSession session, RealmModel realm, UserModel user) {\n        // never called\n    }\n\n    @Override\n    public void close() {\n\n    }\n}\n</code></pre>\n<p>My Factory Class:</p>\n<pre><code>public class LoginAuthenticatorFactory extends UsernamePasswordFormFactory {\n\n    public static final String G_RECAPTCHA_RESPONSE = &quot;g-recaptcha-response&quot;;\n    public static final String RECAPTCHA_REFERENCE_CATEGORY = &quot;login-recaptcha&quot;;\n    public static final String SITE_KEY = &quot;site.key&quot;;\n    public static final String SITE_SECRET = &quot;secret&quot;;\n    public static final String PROVIDER_ID = &quot;auth-username-password-form-recaptcha&quot;;\n\n    public static final MyLoginAuthenticator SINGLETON = new MyLoginAuthenticator();\n\n    @Override\n    public String getDisplayType() {\n        System.out.println(&quot;Ranveer Singh getDisplayType &quot;);\n        return &quot;Login Recaptcha&quot;;\n    }\n\n    @Override\n    public String getReferenceCategory() {\n        return RECAPTCHA_REFERENCE_CATEGORY;\n    }\n\n    @Override\n    public Authenticator create(KeycloakSession session) {\n        return SINGLETON;\n    }\n\n\n    @Override\n    public boolean isConfigurable() {\n        return true;\n    }\n\n    private static AuthenticationExecutionModel.Requirement[] REQUIREMENT_CHOICES = {AuthenticationExecutionModel.Requirement.REQUIRED, AuthenticationExecutionModel.Requirement.DISABLED};\n\n    @Override\n    public AuthenticationExecutionModel.Requirement[] getRequirementChoices() {\n        return REQUIREMENT_CHOICES;\n    }\n\n    public void buildPage(FormContext context, LoginFormsProvider form) {\n        System.out.println(&quot;Ranveer Singh buildPage&quot;);\n        AuthenticatorConfigModel captchaConfig = context.getAuthenticatorConfig();\n        if (captchaConfig == null || captchaConfig.getConfig() == null || captchaConfig.getConfig().get(SITE_KEY) == null || captchaConfig.getConfig().get(SITE_SECRET) == null) {\n            form.addError(new FormMessage(null, Messages.RECAPTCHA_NOT_CONFIGURED));\n            return;\n        }\n        String siteKey = captchaConfig.getConfig().get(SITE_KEY);\n        form.setAttribute(&quot;recaptchaRequired&quot;, true);\n        form.setAttribute(&quot;recaptchaSiteKey&quot;, siteKey);\n        form.addScript(&quot;https://www.google.com/recaptcha/api.js&quot;);\n    }\n\n    public void validate(ValidationContext context) {\n        System.out.println(&quot;Ranveer Singh validate&quot;);\n        MultivaluedMap&lt;String, String&gt; formData = context.getHttpRequest().getDecodedFormParameters();\n        List&lt;FormMessage&gt; errors = new ArrayList&lt;&gt;();\n        boolean success = false;\n        context.getEvent().detail(Details.REGISTER_METHOD, &quot;form&quot;);\n\n        String captcha = formData.getFirst(G_RECAPTCHA_RESPONSE);\n        if (!Validation.isBlank(captcha)) {\n            AuthenticatorConfigModel captchaConfig = context.getAuthenticatorConfig();\n            String secret = captchaConfig.getConfig().get(SITE_SECRET);\n\n            success = validateRecaptcha(context, success, captcha, secret);\n        }\n        if (success) {\n            context.success();\n        } else {\n            errors.add(new FormMessage(null, Messages.RECAPTCHA_FAILED));\n            formData.remove(G_RECAPTCHA_RESPONSE);\n            context.error(Errors.INVALID_REGISTRATION);\n            context.validationError(formData, errors);\n            return;\n\n\n        }\n    }\n\n    protected boolean validateRecaptcha(ValidationContext context, boolean success, String captcha, String secret) {\n        System.out.println(&quot;Ranveer Singh &quot;);\n        HttpClient httpClient = context.getSession().getProvider(HttpClientProvider.class).getHttpClient();\n        HttpPost post = new HttpPost(&quot;https://www.google.com/recaptcha/api/siteverify&quot;);\n        List&lt;NameValuePair&gt; formparams = new LinkedList&lt;&gt;();\n        formparams.add(new BasicNameValuePair(&quot;secret&quot;, secret));\n        formparams.add(new BasicNameValuePair(&quot;response&quot;, captcha));\n        formparams.add(new BasicNameValuePair(&quot;remoteip&quot;, context.getConnection().getRemoteAddr()));\n        try {\n            UrlEncodedFormEntity form = new UrlEncodedFormEntity(formparams, &quot;UTF-8&quot;);\n            post.setEntity(form);\n            HttpResponse response = httpClient.execute(post);\n            InputStream content = response.getEntity().getContent();\n            try {\n                Map json = JsonSerialization.readValue(content, Map.class);\n                Object val = json.get(&quot;success&quot;);\n                success = Boolean.TRUE.equals(val);\n            } finally {\n                content.close();\n            }\n        } catch (Exception e) {\n            ServicesLogger.LOGGER.recaptchaFailed(e);\n        }\n        return success;\n    }\n\n    @Override\n    public boolean isUserSetupAllowed() {\n        return false;\n    }\n\n\n    @Override\n    public void close() {\n\n    }\n\n    @Override\n    public void init(Config.Scope config) {\n\n    }\n\n    @Override\n    public void postInit(KeycloakSessionFactory factory) {\n\n    }\n\n    @Override\n    public String getId() {\n        return PROVIDER_ID;\n    }\n\n    @Override\n    public String getHelpText() {\n        return &quot;Adds Google Recaptcha button.  Recaptchas verify that the entity that is registering is a human.  This can only be used on the internet and must be configured after you add it.&quot;;\n    }\n\n    private static final List&lt;ProviderConfigProperty&gt; configProperties = new ArrayList&lt;ProviderConfigProperty&gt;();\n\n    static {\n        ProviderConfigProperty property;\n        property = new ProviderConfigProperty();\n        property.setName(SITE_KEY);\n        property.setLabel(&quot;Recaptcha Site Key&quot;);\n        property.setType(ProviderConfigProperty.STRING_TYPE);\n        property.setHelpText(&quot;Google Recaptcha Site Key&quot;);\n        configProperties.add(property);\n        property = new ProviderConfigProperty();\n        property.setName(SITE_SECRET);\n        property.setLabel(&quot;Recaptcha Secret&quot;);\n        property.setType(ProviderConfigProperty.STRING_TYPE);\n        property.setHelpText(&quot;Google Recaptcha Secret&quot;);\n        configProperties.add(property);\n\n    }\n\n    @Override\n    public List&lt;ProviderConfigProperty&gt; getConfigProperties() {\n        return configProperties;\n    }\n\n}\n</code></pre>\n<p>Is there anything that i am missing ? can somebody help me to get recaptcha in login page. Has anybody done this before  ? can someone share sample code so that i can see and try more.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","android-studio","flutter","mobile"],"comments":[{"owner":{"account_id":18728005,"reputation":899,"user_id":13654150,"display_name":"Johny Saini"},"score":1,"creation_date":1597603069,"post_id":63440628,"comment_id":112180592,"body_markdown":"can you please show me error","body":"can you please show me error"},{"owner":{"account_id":19309329,"reputation":11,"user_id":14115468,"display_name":"Samyak Mishra"},"score":0,"creation_date":1597603226,"post_id":63440628,"comment_id":112180635,"body_markdown":"after running few more times Build is now failing...Exception: Gradle task assembleDebug failed with exit code 1. This is the message","body":"after running few more times Build is now failing...Exception: Gradle task assembleDebug failed with exit code 1. This is the message"},{"owner":{"account_id":14777790,"reputation":1605,"user_id":10672131,"display_name":"ByteMe"},"score":0,"creation_date":1597603379,"post_id":63440628,"comment_id":112180669,"body_markdown":"That doesn&#39;t help, copy and paste the other lines before that into your question","body":"That doesn&#39;t help, copy and paste the other lines before that into your question"},{"owner":{"account_id":18728005,"reputation":899,"user_id":13654150,"display_name":"Johny Saini"},"score":0,"creation_date":1597603390,"post_id":63440628,"comment_id":112180674,"body_markdown":"Did you try file&gt;Invailde cache restart","body":"Did you try file&gt;Invailde cache restart"},{"owner":{"account_id":19309329,"reputation":11,"user_id":14115468,"display_name":"Samyak Mishra"},"score":0,"creation_date":1597603664,"post_id":63440628,"comment_id":112180747,"body_markdown":"Tried Invalidate cache/Restart","body":"Tried Invalidate cache/Restart"},{"owner":{"account_id":19309329,"reputation":11,"user_id":14115468,"display_name":"Samyak Mishra"},"score":0,"creation_date":1597603763,"post_id":63440628,"comment_id":112180780,"body_markdown":"Question edited..Pasted the error message in the question","body":"Question edited..Pasted the error message in the question"}],"answers":[{"tags":[],"owner":{"account_id":18471411,"reputation":26,"user_id":14115576,"display_name":"Marc Dobner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597603779,"creation_date":1597603779,"answer_id":63440795,"question_id":63440628,"body_markdown":"have you tried a clean build with `flutter clean`? and could you also post more of your error and code?","title":"Flutter App stuck on &quot;app running gradle task &#39;assembledebug...&quot;","body":"<p>have you tried a clean build with <code>flutter clean</code>? and could you also post more of your error and code?</p>\n"},{"tags":[],"owner":{"account_id":9885798,"reputation":706,"user_id":7320363,"display_name":"Delowar Hossain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597665417,"creation_date":1597665417,"answer_id":63450310,"question_id":63440628,"body_markdown":"Try to empty cache &quot;C:\\Users\\dell\\.gradle\\caches&quot; and re-run the project. You should also check for Event log error when building the project.","title":"Flutter App stuck on &quot;app running gradle task &#39;assembledebug...&quot;","body":"<p>Try to empty cache &quot;C:\\Users\\dell.gradle\\caches&quot; and re-run the project. You should also check for Event log error when building the project.</p>\n"},{"tags":[],"owner":{"account_id":11475268,"reputation":63,"user_id":8410954,"display_name":"Syed Bilal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627930568,"creation_date":1627930568,"answer_id":68626707,"question_id":63440628,"body_markdown":"In your android studio, cd to android directory then run from terminal:\r\ngradlew clean\r\ngradlew build\r\nand then run the application.\r\nIf it wont work try flutter clean.\r\nAlso delete the .gradle folder in Users directory.\r\nit will take some time but it will run.","title":"Flutter App stuck on &quot;app running gradle task &#39;assembledebug...&quot;","body":"<p>In your android studio, cd to android directory then run from terminal:\ngradlew clean\ngradlew build\nand then run the application.\nIf it wont work try flutter clean.\nAlso delete the .gradle folder in Users directory.\nit will take some time but it will run.</p>\n"},{"tags":[],"owner":{"account_id":22001143,"reputation":697,"user_id":16272855,"display_name":"Adeel Nazim"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1653500010,"creation_date":1653499250,"answer_id":72381870,"question_id":63440628,"body_markdown":"Run \r\n```\r\nflutter run -v\r\n```\r\nso you can see which part is taking much time.\r\n**In my case** it was \r\n```Downloading https://services.gradle.org/distributions/gradle-7.4-all.zip```\r\nif you have the same problem [check this][1]\r\n\r\n\r\n  [1]: https://github.com/flutter/flutter/issues/73852","title":"Flutter App stuck on &quot;app running gradle task &#39;assembledebug...&quot;","body":"<p>Run</p>\n<pre><code>flutter run -v\n</code></pre>\n<p>so you can see which part is taking much time.\n<strong>In my case</strong> it was\n<code>Downloading https://services.gradle.org/distributions/gradle-7.4-all.zip</code>\nif you have the same problem <a href=\"https://github.com/flutter/flutter/issues/73852\" rel=\"nofollow noreferrer\">check this</a></p>\n"}],"owner":{"account_id":19309329,"reputation":11,"user_id":14115468,"display_name":"Samyak Mishra"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4973,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1653500010,"creation_date":1597602877,"question_id":63440628,"body_markdown":"This is my first flutter app I tried running the sample given by the flutter but it gets stuck on this message app ` running gradle task &#39;assembledebug....` or after sometime error `Exception: Gradle task assembleDebug failed with exit code 1` appears.\r\n Tried doing all the things answered in similar questions. Using sdk version 30, Android studio ver 3.1 and flutter ver 1.20.1. \r\n\r\n~~~\r\n&gt; Failed to transform artifact &#39;x86_debug.jar (io.flutter:x86_debug:1.0.0-c8e3b9485386425213e2973126d6f57e7ed83c54)&#39; to match attributes {artifactType=android-classes, org.gradle.libraryelements=jar, org.gradle.usage=java-runtime}.\r\n      &gt; Execution failed for JetifyTransform: C:\\Users\\dell\\.gradle\\caches\\modules-2\\files-2.1\\io.flutter\\x86_debug\\1.0.0-c8e3b9485386425213e2973126d6f57e7ed83c54\\570a59b7be41f73458509975d3eefca7ad5561cf\\x86_debug-1.0.0-c8e3b9485386425213e2973126d6f57e7ed83c54.jar.\r\n         &gt; Failed to transform &#39;C:\\Users\\dell\\.gradle\\caches\\modules-2\\files-2.1\\io.flutter\\x86_debug\\1.0.0-c8e3b9485386425213e2973126d6f57e7ed83c54\\570a59b7be41f73458509975d3eefca7ad5561cf\\x86_debug-1.0.0-c8e3b9485386425213e2973126d6f57e7ed83c54.jar&#39; using Jetifier. Reason: Unexpected end of ZLIB input stream. (Run with --stacktrace for more details.)\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n","title":"Flutter App stuck on &quot;app running gradle task &#39;assembledebug...&quot;","body":"<p>This is my first flutter app I tried running the sample given by the flutter but it gets stuck on this message app <code> running gradle task 'assembledebug....</code> or after sometime error <code>Exception: Gradle task assembleDebug failed with exit code 1</code> appears.\nTried doing all the things answered in similar questions. Using sdk version 30, Android studio ver 3.1 and flutter ver 1.20.1.</p>\n<pre><code>&gt; Failed to transform artifact 'x86_debug.jar (io.flutter:x86_debug:1.0.0-c8e3b9485386425213e2973126d6f57e7ed83c54)' to match attributes {artifactType=android-classes, org.gradle.libraryelements=jar, org.gradle.usage=java-runtime}.\n      &gt; Execution failed for JetifyTransform: C:\\Users\\dell\\.gradle\\caches\\modules-2\\files-2.1\\io.flutter\\x86_debug\\1.0.0-c8e3b9485386425213e2973126d6f57e7ed83c54\\570a59b7be41f73458509975d3eefca7ad5561cf\\x86_debug-1.0.0-c8e3b9485386425213e2973126d6f57e7ed83c54.jar.\n         &gt; Failed to transform 'C:\\Users\\dell\\.gradle\\caches\\modules-2\\files-2.1\\io.flutter\\x86_debug\\1.0.0-c8e3b9485386425213e2973126d6f57e7ed83c54\\570a59b7be41f73458509975d3eefca7ad5561cf\\x86_debug-1.0.0-c8e3b9485386425213e2973126d6f57e7ed83c54.jar' using Jetifier. Reason: Unexpected end of ZLIB input stream. (Run with --stacktrace for more details.)\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n</code></pre>\n"},{"tags":["java","json","maven","http","jackson"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653499656,"creation_date":1653499656,"answer_id":72381948,"question_id":72381470,"body_markdown":"This happens because the json response you posted is not a `ResponseData` object representation but it contains  a `ResponseData` object representation at the *&quot;responseData&quot;* property; normally the conversion attempt would end with an error expressed with the appropriate exception but the `@JsonIgnoreProperties(ignoreUnknown = true)` annotation over the class blocks the error report and then the obtained object contains just null fields.\r\n\r\nTo avoid this behaviour you can read your json at the at the *&quot;responseData&quot;* property location as a `JsonNode` object and convert it to a `ResponseData` object  like below:\r\n\r\n~~~\r\nJsonNode root = mapper.readTree(response.getEntity().getContent());\r\nResponseData responseData = mapper.treeToValue(root.at(&quot;/responseData&quot;), ResponseData.class);\r\n~~~","title":"Getting null values on json object read from CloseableHttpResponse using Jackson, but also getting 200","body":"<p>This happens because the json response you posted is not a <code>ResponseData</code> object representation but it contains  a <code>ResponseData</code> object representation at the <em>&quot;responseData&quot;</em> property; normally the conversion attempt would end with an error expressed with the appropriate exception but the <code>@JsonIgnoreProperties(ignoreUnknown = true)</code> annotation over the class blocks the error report and then the obtained object contains just null fields.</p>\n<p>To avoid this behaviour you can read your json at the at the <em>&quot;responseData&quot;</em> property location as a <code>JsonNode</code> object and convert it to a <code>ResponseData</code> object  like below:</p>\n<pre><code>JsonNode root = mapper.readTree(response.getEntity().getContent());\nResponseData responseData = mapper.treeToValue(root.at(&quot;/responseData&quot;), ResponseData.class);\n</code></pre>\n"}],"owner":{"account_id":15861542,"reputation":65,"user_id":14797453,"display_name":"public_void_kee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":856,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72381948,"answer_count":1,"score":1,"last_activity_date":1653499656,"creation_date":1653496928,"question_id":72381470,"body_markdown":"Making a request which returns a json response body fine in Postman, but just returns a 200 when I run my code. I&#39;m pretty sure the classes I&#39;m using to deserialize with Jackson are structured correctly, and the json body of the request appears to be valid. What am I missing?\r\n\r\nHere&#39;s the class where the request is made:\r\n\r\n```\r\nimport ...\r\n\r\n@Service\r\npublic class CPService {\r\n\r\n    @Value(&quot;${cp.url}&quot;)\r\n    private String cpUrl;\r\n\r\n    @Autowired\r\n    private ObjectMapper objectMapper;\r\n\r\n    public ResponseData send(String caseId, String pId, String documentId) throws IOException {\r\n        String version = &quot;1.0&quot;;\r\n\r\n        Request request = Request.builder()\r\n                .requestData(RequestData.builder()\r\n                        .version(version)\r\n                        .transactionId(caseId)\r\n                        .credPublish(CredPublish.builder()\r\n                                .refId(pId)\r\n                                .reportDocumentId(documentId)\r\n                                .build())\r\n                        .build())\r\n                .build();\r\n\r\n        HttpPost httpPost = new HttpPost(cpUrl);\r\n        EntityBuilder builder = createBuilder();\r\n        builder.setContentType(ContentType.APPLICATION_JSON);\r\n        builder.setText(objectMapper.writeValueAsString(request));\r\n\r\n        httpPost.setEntity(builder.build());\r\n\r\n        try (CloseableHttpClient httpClient = createHttpClient()) {\r\n            CloseableHttpResponse response = httpClient.execute(httpPost);\r\n            ResponseData responseData = objectMapper.readValue(response.getEntity().getContent(), ResponseData.class);\r\n            return responseData;\r\n        }\r\n    }\r\n\r\n    EntityBuilder createBuilder() {\r\n        return EntityBuilder.create();\r\n    }\r\n\r\n    CloseableHttpClient createHttpClient() {\r\n        return HttpClients.createDefault();\r\n    }\r\n}\r\n```\r\n\r\nHere are the classes used:\r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\nimport lombok.Data;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\nimport java.util.List;\r\n\r\n@Data\r\n@Getter\r\n@Setter\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class ResponseData {\r\n    private Integer resultCount;\r\n    private String version;\r\n    private CredPublishResponse credPublish;\r\n    private String transactionId;\r\n    private List&lt;ErrorMessage&gt; errors;\r\n}\r\n```\r\n\r\n```\r\nimport lombok.Data;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\n@Data\r\n@Getter\r\n@Setter\r\npublic class CredPublishResponse {\r\n    private String responseMessage;\r\n}\r\n```\r\n\r\nHere is an example of the response from Postman:\r\n\r\n```\r\n{\r\n    &quot;responseData&quot;: {\r\n        &quot;resultCount&quot;: 1,\r\n        &quot;version&quot;: &quot;&quot;,\r\n        &quot;credPublish&quot;: {\r\n            &quot;responseMessage&quot;: &quot;success&quot;\r\n        },\r\n        &quot;transactionId&quot;: &quot;CASE-1234567&quot;\r\n    }\r\n}\r\n```","title":"Getting null values on json object read from CloseableHttpResponse using Jackson, but also getting 200","body":"<p>Making a request which returns a json response body fine in Postman, but just returns a 200 when I run my code. I'm pretty sure the classes I'm using to deserialize with Jackson are structured correctly, and the json body of the request appears to be valid. What am I missing?</p>\n<p>Here's the class where the request is made:</p>\n<pre><code>import ...\n\n@Service\npublic class CPService {\n\n    @Value(&quot;${cp.url}&quot;)\n    private String cpUrl;\n\n    @Autowired\n    private ObjectMapper objectMapper;\n\n    public ResponseData send(String caseId, String pId, String documentId) throws IOException {\n        String version = &quot;1.0&quot;;\n\n        Request request = Request.builder()\n                .requestData(RequestData.builder()\n                        .version(version)\n                        .transactionId(caseId)\n                        .credPublish(CredPublish.builder()\n                                .refId(pId)\n                                .reportDocumentId(documentId)\n                                .build())\n                        .build())\n                .build();\n\n        HttpPost httpPost = new HttpPost(cpUrl);\n        EntityBuilder builder = createBuilder();\n        builder.setContentType(ContentType.APPLICATION_JSON);\n        builder.setText(objectMapper.writeValueAsString(request));\n\n        httpPost.setEntity(builder.build());\n\n        try (CloseableHttpClient httpClient = createHttpClient()) {\n            CloseableHttpResponse response = httpClient.execute(httpPost);\n            ResponseData responseData = objectMapper.readValue(response.getEntity().getContent(), ResponseData.class);\n            return responseData;\n        }\n    }\n\n    EntityBuilder createBuilder() {\n        return EntityBuilder.create();\n    }\n\n    CloseableHttpClient createHttpClient() {\n        return HttpClients.createDefault();\n    }\n}\n</code></pre>\n<p>Here are the classes used:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport lombok.Data;\nimport lombok.Getter;\nimport lombok.Setter;\n\nimport java.util.List;\n\n@Data\n@Getter\n@Setter\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class ResponseData {\n    private Integer resultCount;\n    private String version;\n    private CredPublishResponse credPublish;\n    private String transactionId;\n    private List&lt;ErrorMessage&gt; errors;\n}\n</code></pre>\n<pre><code>import lombok.Data;\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Data\n@Getter\n@Setter\npublic class CredPublishResponse {\n    private String responseMessage;\n}\n</code></pre>\n<p>Here is an example of the response from Postman:</p>\n<pre><code>{\n    &quot;responseData&quot;: {\n        &quot;resultCount&quot;: 1,\n        &quot;version&quot;: &quot;&quot;,\n        &quot;credPublish&quot;: {\n            &quot;responseMessage&quot;: &quot;success&quot;\n        },\n        &quot;transactionId&quot;: &quot;CASE-1234567&quot;\n    }\n}\n</code></pre>\n"},{"tags":["java","recursion"],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1544452803,"creation_date":1544452803,"answer_id":53707916,"question_id":53707888,"body_markdown":"The idea is that if the first character is equal to the `target` character, you simply return the result of `removeChar()` applied on the rest of the `String` (i.e. the `String` without the first character), which removes the first character.\r\n\r\nOn the other hand, if the first character is not equal to the `target` character, you return a `String` starting with the original first character and ending with the result of applying `removeChar()` on the rest of the `String`.\r\n\r\n    public static String removeChar(String str, char target) {\r\n        if(str.length() == 0) {\r\n            return str;\r\n        } else {\r\n            if(str.charAt(0) == target) {\r\n                // remote the first character, and apply the recursive method to\r\n                // the rest of the String\r\n                return removeChar(str.substring(1),target);\r\n            } else {\r\n                // don&#39;t remote the first character, and apply the recursive method to\r\n                // the rest of the String\r\n                return str.charAt(0) + removeChar(str.substring(1),target);\r\n            }\r\n        }\r\n    }","title":"How to recursively remove a character from a string?","body":"<p>The idea is that if the first character is equal to the <code>target</code> character, you simply return the result of <code>removeChar()</code> applied on the rest of the <code>String</code> (i.e. the <code>String</code> without the first character), which removes the first character.</p>\n\n<p>On the other hand, if the first character is not equal to the <code>target</code> character, you return a <code>String</code> starting with the original first character and ending with the result of applying <code>removeChar()</code> on the rest of the <code>String</code>.</p>\n\n<pre><code>public static String removeChar(String str, char target) {\n    if(str.length() == 0) {\n        return str;\n    } else {\n        if(str.charAt(0) == target) {\n            // remote the first character, and apply the recursive method to\n            // the rest of the String\n            return removeChar(str.substring(1),target);\n        } else {\n            // don't remote the first character, and apply the recursive method to\n            // the rest of the String\n            return str.charAt(0) + removeChar(str.substring(1),target);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2095097,"reputation":132,"user_id":6734022,"display_name":"jenald"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544453238,"creation_date":1544453238,"answer_id":53708060,"question_id":53707888,"body_markdown":"You could use the following code inside the else-block:\r\n\r\n    if(str.charAt(0) == target) {\r\n        return removeChar(str.substring(1), target);\r\n    }\r\n    return charAt(0) + removeChar(str.substring(1), target);\r\n\r\nBut I don&#39;t see a need to use recursion here, you could just use\r\n\r\n    str.replace(target, &#39;&#39;);","title":"How to recursively remove a character from a string?","body":"<p>You could use the following code inside the else-block:</p>\n\n<pre><code>if(str.charAt(0) == target) {\n    return removeChar(str.substring(1), target);\n}\nreturn charAt(0) + removeChar(str.substring(1), target);\n</code></pre>\n\n<p>But I don't see a need to use recursion here, you could just use</p>\n\n<pre><code>str.replace(target, '');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544453763,"creation_date":1544453763,"answer_id":53708199,"question_id":53707888,"body_markdown":"You check the index of the 1st occurrence of the char and remove it from that position:\r\n\r\n    public static String removeChar(String str, char target) {\r\n        int index = str.indexOf(target);\r\n        if (index &lt; 0)\r\n            return str;\r\n        else {\r\n            return removeChar(str.substring(0, index) + str.substring(index + 1), target);\r\n        }\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        String str = &quot;0123045607890&quot;;\r\n        System.out.println(removeChar(str, &#39;0&#39;));\r\n    } \r\nwill print:\r\n\r\n    123456789","title":"How to recursively remove a character from a string?","body":"<p>You check the index of the 1st occurrence of the char and remove it from that position:</p>\n\n<pre><code>public static String removeChar(String str, char target) {\n    int index = str.indexOf(target);\n    if (index &lt; 0)\n        return str;\n    else {\n        return removeChar(str.substring(0, index) + str.substring(index + 1), target);\n    }\n}\n\npublic static void main(String[] args) {\n    String str = \"0123045607890\";\n    System.out.println(removeChar(str, '0'));\n} \n</code></pre>\n\n<p>will print:</p>\n\n<pre><code>123456789\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25389159,"reputation":1,"user_id":19200465,"display_name":"Jorge Edgar Aparicio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653499475,"creation_date":1653499475,"answer_id":72381913,"question_id":53707888,"body_markdown":"I suggest this solution.\r\n\r\n    function isLetter(str) {\r\n        return str.length === 1 &amp;&amp; str.match(/[A-Z]/i);\r\n    }\r\n    \r\n    function removeLetters(str) {\r\n        //console.log(str);\r\n        let val = str.substr(0, 1);\r\n        console.log(val);\r\n        if (isLetter(val)) {\r\n            return removeLetters(str.substr(1))\r\n        } else {\r\n            console.log(&quot;Return&quot;, str);\r\n            return str;\r\n        }\r\n    }  ","title":"How to recursively remove a character from a string?","body":"<p>I suggest this solution.</p>\n<pre><code>function isLetter(str) {\n    return str.length === 1 &amp;&amp; str.match(/[A-Z]/i);\n}\n\nfunction removeLetters(str) {\n    //console.log(str);\n    let val = str.substr(0, 1);\n    console.log(val);\n    if (isLetter(val)) {\n        return removeLetters(str.substr(1))\n    } else {\n        console.log(&quot;Return&quot;, str);\n        return str;\n    }\n}  \n</code></pre>\n"}],"owner":{"account_id":14917972,"reputation":21,"user_id":10771205,"display_name":"naa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7406,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1653499475,"creation_date":1544452653,"question_id":53707888,"body_markdown":"How do I remove a target character from string using RECURSION?\r\n\r\nI know it begins like: \r\n\r\n    public static String removeChar(String str, char target) {\r\n        if (str.length() == 0) {\r\n            return str;\r\n        } else {\r\n            if (str.charAt(0) == target) {\r\n                return removeChar(/*what goes in here?*/)\r\n            }\r\n            return removeChar(/*what goes in here?*/)\r\n        }\r\n    }\r\n\r\nthank you!! ","title":"How to recursively remove a character from a string?","body":"<p>How do I remove a target character from string using RECURSION?</p>\n\n<p>I know it begins like: </p>\n\n<pre><code>public static String removeChar(String str, char target) {\n    if (str.length() == 0) {\n        return str;\n    } else {\n        if (str.charAt(0) == target) {\n            return removeChar(/*what goes in here?*/)\n        }\n        return removeChar(/*what goes in here?*/)\n    }\n}\n</code></pre>\n\n<p>thank you!! </p>\n"},{"tags":["java","adobe","aem"],"comments":[{"owner":{"account_id":1503775,"reputation":18065,"user_id":1407656,"accept_rate":81,"display_name":"toniedzwiedz"},"score":0,"creation_date":1653553762,"post_id":72381878,"comment_id":127881503,"body_markdown":"What&#39;s your question? Are you asking which way you should be obtaining the resource resolver?","body":"What&#39;s your question? Are you asking which way you should be obtaining the resource resolver?"},{"owner":{"account_id":11074819,"reputation":1673,"user_id":8131885,"display_name":"Alexander Berndt"},"score":0,"creation_date":1653664187,"post_id":72381878,"comment_id":127913092,"body_markdown":"I strongly recommend using either one of it. Using both could cause very strange behaviors, aka bugs. See my answer to this question: https://stackoverflow.com/a/68847287/8131885","body":"I strongly recommend using either one of it. Using both could cause very strange behaviors, aka bugs. See my answer to this question: <a href=\"https://stackoverflow.com/a/68847287/8131885\">stackoverflow.com/a/68847287/8131885</a>"}],"owner":{"account_id":19321196,"reputation":1,"user_id":14124846,"display_name":"saicharan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653499270,"creation_date":1653499270,"question_id":72381878,"body_markdown":"@Model(adaptables = {Resource.class, SlingHttpServletRequest.class}, defaultInjectionStrategy = DefaultInjectionStrategy.OPTIONAL)\r\npublic class LearningPanelModel {\r\n\r\n    @Inject\r\n    private ResourceResolver resourceResolver;\r\n\r\n    //OR\r\n    @Inject @Source(&quot;sling-object&quot;)\r\n    private ResourceResolver resourceResolver;\r\n\r\n    //OR\r\n    @SlingObject\r\n    private ResourceResolver resourceResolver;\r\n\r\n    //OR\r\n    @ScriptVariable\r\n    private ResourceResolver resolver;\r\n}","title":"why we need to use both Resource and SlingHttpServletRequest in AEM sling models","body":"<p>@Model(adaptables = {Resource.class, SlingHttpServletRequest.class}, defaultInjectionStrategy = DefaultInjectionStrategy.OPTIONAL)\npublic class LearningPanelModel {</p>\n<pre><code>@Inject\nprivate ResourceResolver resourceResolver;\n\n//OR\n@Inject @Source(&quot;sling-object&quot;)\nprivate ResourceResolver resourceResolver;\n\n//OR\n@SlingObject\nprivate ResourceResolver resourceResolver;\n\n//OR\n@ScriptVariable\nprivate ResourceResolver resolver;\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring","compiler-errors","jdbctemplate"],"comments":[{"owner":{"account_id":98291,"reputation":3509,"user_id":266167,"display_name":"Joshua Davis"},"score":0,"creation_date":1523457454,"post_id":49777861,"comment_id":86571035,"body_markdown":"The compile time error is happening during your Maven build?   I&#39;m using Gradle and spring-data 5.0.4 with Java 8 JDK and I have not had any trouble with JdbcTemplate.","body":"The compile time error is happening during your Maven build?   I&#39;m using Gradle and spring-data 5.0.4 with Java 8 JDK and I have not had any trouble with JdbcTemplate."},{"owner":{"account_id":3386007,"reputation":647,"user_id":2841947,"accept_rate":50,"display_name":"Rahul"},"score":0,"creation_date":1523457606,"post_id":49777861,"comment_id":86571140,"body_markdown":"How are you compiling your project? Have you run mvn clean install eclipse:clean eclipse:eclipse? Is the name, package correct in the import statement and wherever you are using JdbcTemplate? Please share the code where you are getting the compilation error.","body":"How are you compiling your project? Have you run mvn clean install eclipse:clean eclipse:eclipse? Is the name, package correct in the import statement and wherever you are using JdbcTemplate? Please share the code where you are getting the compilation error."},{"owner":{"account_id":13343664,"reputation":1228,"user_id":9631122,"display_name":"rahul shalgar"},"score":0,"creation_date":1523460403,"post_id":49777861,"comment_id":86573289,"body_markdown":"On eclipse, it automatically gets compile... I am not able to import the class JdbcTemplate... I have added the code. please check.","body":"On eclipse, it automatically gets compile... I am not able to import the class JdbcTemplate... I have added the code. please check."},{"owner":{"account_id":5707824,"reputation":779,"user_id":4510763,"accept_rate":50,"display_name":"Ben Cheng"},"score":0,"creation_date":1523463921,"post_id":49777861,"comment_id":86575669,"body_markdown":"What is your spring configuration?","body":"What is your spring configuration?"}],"answers":[{"tags":[],"owner":{"account_id":5517236,"reputation":476,"user_id":4381534,"display_name":"biiyamn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1523460212,"creation_date":1523460212,"answer_id":49778924,"question_id":49777861,"body_markdown":" - try to remove spring-jdbc folder from maven repository\r\n - right click on project , maven , update project","title":"JdbcTemplate cannot be resolved to a type","body":"<ul>\n<li>try to remove spring-jdbc folder from maven repository</li>\n<li>right click on project , maven , update project</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":21735145,"reputation":13,"user_id":16043237,"display_name":"Sherlock-Holmes-2-2-1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653499256,"creation_date":1653499256,"answer_id":72381872,"question_id":49777861,"body_markdown":"\r\nAdd this dependency to your pom.xml\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\nThen update your project &lt;br&gt;\r\n(right-click on the project)-&gt;Maven-&gt;Update project&lt;br&gt;\r\nMake sure you have an internet connection while updating.\r\n\r\nIt should resolve the error.  \r\n","title":"JdbcTemplate cannot be resolved to a type","body":"<p>Add this dependency to your pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>Then update your project <br>\n(right-click on the project)-&gt;Maven-&gt;Update project<br>\nMake sure you have an internet connection while updating.</p>\n<p>It should resolve the error.</p>\n"}],"owner":{"account_id":13343664,"reputation":1228,"user_id":9631122,"display_name":"rahul shalgar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11263,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49778924,"answer_count":2,"score":1,"last_activity_date":1653499256,"creation_date":1523457224,"question_id":49777861,"body_markdown":"I am trying to hit the database using spring JdbcTemplate... I have added the required dependency spring-jdbc in pom.xml.. the required jar is successfully added to eclipse library...I can see it in maven dependency folder in eclipse... \r\n\r\nBut still, I am facing an issue with importing the class JdbcTemplate &amp; hence unable to proceed further...\r\n\r\nI am getting this error - JdbcTemplate cannot be resolved to a type\r\n\r\nI had created a new project again in the eclipse... still having the same error....\r\n\r\nCode :\r\n\r\n    import java.util.List;\r\n    import javax.sql.DataSource;\r\n    import com.wocs.services.inventory.model.Customer;\r\n    \r\n    \r\n    public class CustomerDAO implements CustomeryDAOIface{\r\n    \r\n    \t   private DataSource dataSource;\r\n    \t   \r\n    \t   private JdbcTemplate jdbcTemplateObject;\r\n    \t   \r\n    \t   public void setDataSource(DataSource dataSource) {\r\n    \t      this.dataSource = dataSource;\r\n    \t      this.jdbcTemplateObject = new JdbcTemplate(dataSource);\r\n    \t   }\r\n    \t   \r\n           public List&lt;Customer&gt; getManufacturers() {\r\n    \t\t\t\r\n    \t\t\tString sql = &quot;SELECT * FROM Customer&quot;;\r\n    \t\t\t\t\r\n    \t\t\tList&lt;Customer&gt; customers  = \r\n                         getJdbcTemplate().query(sql,\r\n    \t\t\t\t\tnew BeanPropeMtyRowMapper(Customer.class));\r\n    \t\t\t\t\r\n    \t\t\r\n    \t\treturn customers;\r\n    \t}\r\n    }\r\n\r\nsystem &amp; application configuration: \r\nOS: ubuntu 16.0.4\r\nspring version - 5.0.3\r\ntomcat 9 (also tried alternative tomcat 7)\r\njdk 91. (tried alternative 1.7, 1.8 too) \r\nEclipse Oxygen 3\r\n\r\nIt will be very helpful for me if any one can give me the solution...","title":"JdbcTemplate cannot be resolved to a type","body":"<p>I am trying to hit the database using spring JdbcTemplate... I have added the required dependency spring-jdbc in pom.xml.. the required jar is successfully added to eclipse library...I can see it in maven dependency folder in eclipse... </p>\n\n<p>But still, I am facing an issue with importing the class JdbcTemplate &amp; hence unable to proceed further...</p>\n\n<p>I am getting this error - JdbcTemplate cannot be resolved to a type</p>\n\n<p>I had created a new project again in the eclipse... still having the same error....</p>\n\n<p>Code :</p>\n\n<pre><code>import java.util.List;\nimport javax.sql.DataSource;\nimport com.wocs.services.inventory.model.Customer;\n\n\npublic class CustomerDAO implements CustomeryDAOIface{\n\n       private DataSource dataSource;\n\n       private JdbcTemplate jdbcTemplateObject;\n\n       public void setDataSource(DataSource dataSource) {\n          this.dataSource = dataSource;\n          this.jdbcTemplateObject = new JdbcTemplate(dataSource);\n       }\n\n       public List&lt;Customer&gt; getManufacturers() {\n\n            String sql = \"SELECT * FROM Customer\";\n\n            List&lt;Customer&gt; customers  = \n                     getJdbcTemplate().query(sql,\n                    new BeanPropeMtyRowMapper(Customer.class));\n\n\n        return customers;\n    }\n}\n</code></pre>\n\n<p>system &amp; application configuration: \nOS: ubuntu 16.0.4\nspring version - 5.0.3\ntomcat 9 (also tried alternative tomcat 7)\njdk 91. (tried alternative 1.7, 1.8 too) \nEclipse Oxygen 3</p>\n\n<p>It will be very helpful for me if any one can give me the solution...</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10281011,"reputation":620,"user_id":7586172,"display_name":"Khan9797"},"score":1,"creation_date":1650067829,"post_id":71890026,"comment_id":127035992,"body_markdown":"You&#39;re overwriting the value of `dbDemo`. So, it will be always the value of last resultRow&#39;s id.","body":"You&#39;re overwriting the value of <code>dbDemo</code>. So, it will be always the value of last resultRow&#39;s id."},{"owner":{"account_id":10281011,"reputation":620,"user_id":7586172,"display_name":"Khan9797"},"score":1,"creation_date":1650067870,"post_id":71890026,"comment_id":127035998,"body_markdown":"You need to either concatenate strings or you should store it as List&lt;String&gt;","body":"You need to either concatenate strings or you should store it as List&lt;String&gt;"},{"owner":{"account_id":9593085,"reputation":23,"user_id":9469267,"display_name":"AutoQA"},"score":0,"creation_date":1650068353,"post_id":71890026,"comment_id":127036054,"body_markdown":"@Khan9797, I have to store it as `List&lt;EntityClass&gt;` to align with how the hibernate framework works. Please demonstrate the string concatenation method you are referring to.","body":"@Khan9797, I have to store it as <code>List&lt;EntityClass&gt;</code> to align with how the hibernate framework works. Please demonstrate the string concatenation method you are referring to."}],"answers":[{"tags":[],"owner":{"account_id":6095202,"reputation":573,"user_id":4756238,"accept_rate":50,"display_name":"Sinc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653498815,"creation_date":1650075530,"answer_id":71890581,"question_id":71890026,"body_markdown":"My Java is rusty, but the algorithm that @khan9797 is pointing out is:\r\n\r\n```\r\n     dbDemo = &quot;&quot;\r\n      List&lt;EntityClass&gt; queryResultlist = query.getResultList();\r\n      for (EntityClass resultRow : queryResultlist) {\r\n        dbDemo = dbDemo.concat(resultRow.getId());\r\n      }\r\n      System.out.println(dbDemo);\r\n```\r\n\r\nThe problem you encountered is that the dbDemo value takes on one value at a time, rather than collecting all of the return values into one. You need to concatenate them all into one variable, then output that variable (thus outside the loop), and allow it to be stored for access by a caller.\r\n\r\nNote: You may need to insert a separator. I leave that as an exercise for the less rusty.","title":"Why would the size of a looped list decrease in another class?","body":"<p>My Java is rusty, but the algorithm that @khan9797 is pointing out is:</p>\n<pre><code>     dbDemo = &quot;&quot;\n      List&lt;EntityClass&gt; queryResultlist = query.getResultList();\n      for (EntityClass resultRow : queryResultlist) {\n        dbDemo = dbDemo.concat(resultRow.getId());\n      }\n      System.out.println(dbDemo);\n</code></pre>\n<p>The problem you encountered is that the dbDemo value takes on one value at a time, rather than collecting all of the return values into one. You need to concatenate them all into one variable, then output that variable (thus outside the loop), and allow it to be stored for access by a caller.</p>\n<p>Note: You may need to insert a separator. I leave that as an exercise for the less rusty.</p>\n"}],"owner":{"account_id":9593085,"reputation":23,"user_id":9469267,"display_name":"AutoQA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653498815,"creation_date":1650067695,"question_id":71890026,"body_markdown":"I connected to a database and printed a list of results from a query, after a loop. Three records were returned as expected and stored in a variable.\r\n\r\nNow, I tried to use that variable containing the three records in another class, however, only one of the records in the looped list was printed in that new class. The first two records were missing. Only the last one remained. Why would the size of a looped list decrease when called in another class?\r\n\r\n\r\n \r\n\r\n     @Data\r\n     public class ClassA{\r\n     Crud crud = new Crud();\r\n     static EntityManager entityManager;\r\n     private String dbDemo;\r\n        \r\n        \r\n     public void myMethodOne() {\r\n     entityManager = crud.begin();\r\n     Query query =\r\n     entityManager.createQuery(&quot;select b from Table b order by b.createdDateTime desc&quot;).setMaxResults(3); // give me three records\r\n        \r\n          \r\n      List&lt;EntityClass&gt; queryResultlist = query.getResultList();\r\n      for (EntityClass resultRow : queryResultlist) {\r\n      dbDemo = resultRow.getId();\r\n      System.out.println(dbDemo);\r\n      }\r\n      }\r\n\r\nOutput:\r\n\r\n \r\n\r\n Test1\r\n  Test2\r\n  Test3\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    \r\n    public class ClassB{\r\n    \r\n    ClassA ca = new ClassA();\r\n     \r\n     public void verifyMyMethodTwo() {\r\n     ca.myMethodOne();\r\n     System.out.println(ca.dbDemo());\r\n        \r\n      }\r\n    \r\n    }\r\n\r\nOutput:\r\n\r\n    Test3\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Why would the size of a looped list decrease in another class?","body":"<p>I connected to a database and printed a list of results from a query, after a loop. Three records were returned as expected and stored in a variable.</p>\n<p>Now, I tried to use that variable containing the three records in another class, however, only one of the records in the looped list was printed in that new class. The first two records were missing. Only the last one remained. Why would the size of a looped list decrease when called in another class?</p>\n<pre><code> @Data\n public class ClassA{\n Crud crud = new Crud();\n static EntityManager entityManager;\n private String dbDemo;\n    \n    \n public void myMethodOne() {\n entityManager = crud.begin();\n Query query =\n entityManager.createQuery(&quot;select b from Table b order by b.createdDateTime desc&quot;).setMaxResults(3); // give me three records\n    \n      \n  List&lt;EntityClass&gt; queryResultlist = query.getResultList();\n  for (EntityClass resultRow : queryResultlist) {\n  dbDemo = resultRow.getId();\n  System.out.println(dbDemo);\n  }\n  }\n</code></pre>\n<p>Output:</p>\n<p>Test1\nTest2\nTest3</p>\n<pre><code>public class ClassB{\n\nClassA ca = new ClassA();\n \n public void verifyMyMethodTwo() {\n ca.myMethodOne();\n System.out.println(ca.dbDemo());\n    \n  }\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Test3\n</code></pre>\n"},{"tags":["java","code-generation","openapi"],"comments":[{"owner":{"account_id":15152676,"reputation":390,"user_id":10934555,"display_name":"Tony"},"score":0,"creation_date":1652951471,"post_id":72301600,"comment_id":127733828,"body_markdown":"BTW: the same version string appears also each time in the generated method init(), see: \nsetUserAgent(&quot;OpenAPI-Generator/5.0.0-dev.2.uncommitted+enable.actuator.c81cff4/java&quot;);","body":"BTW: the same version string appears also each time in the generated method init(), see:  setUserAgent(&quot;OpenAPI-Generator/5.0.0-dev.2.uncommitted+enab&zwnj;&#8203;le.actuator.c81cff4/&zwnj;&#8203;java&quot;);"},{"owner":{"account_id":39252,"reputation":89812,"user_id":113116,"display_name":"Helen"},"score":1,"creation_date":1652985577,"post_id":72301600,"comment_id":127746755,"body_markdown":"This version is probably taken from the `info.version` value in your OpenAPI file. Can you change it there instead?","body":"This version is probably taken from the <code>info.version</code> value in your OpenAPI file. Can you change it there instead?"}],"answers":[{"tags":[],"owner":{"account_id":15152676,"reputation":390,"user_id":10934555,"display_name":"Tony"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653498808,"creation_date":1653497809,"answer_id":72381618,"question_id":72301600,"body_markdown":"Ok, it has nothing directly to do with the openapi-generator-gradle-plugin, rather than with schema definition. Modifying the version in io.swagger.v3.oas.annotations.info-Annotation fixed this issue.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThere is also another way to modify the version text for the Swagger-Application-Start, but this did not work for me, maybe parameters are not 100% correct. See commented-out line with &#39;forkProperties&#39;. If someone knows anything about this comments are welcome.\r\n\r\n    openApi {\r\n        // http://localhost:58427/openapi/api-docs.yaml\r\n        apiDocsUrl.set(&quot;http://localhost:$openApiPort/openapi/api-docs.yaml&quot;)\r\n        outputDir.set(file(&quot;$openApiYamlLocation&quot;))\r\n        outputFileName.set(&quot;$openApiYamlFileName&quot;)\r\n        //forkProperties = &quot;-Dspring-boot.run.arguments=&#39;--spring.application.version=$productWinVersion&#39;&quot;\r\n        waitTimeInSeconds.set(120)\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zXCse.png","title":"OpenApi - CodeGeneration - Avoid/Modify Generation Of Version In Header Comments","body":"<p>Ok, it has nothing directly to do with the openapi-generator-gradle-plugin, rather than with schema definition. Modifying the version in io.swagger.v3.oas.annotations.info-Annotation fixed this issue.</p>\n<p><a href=\"https://i.stack.imgur.com/zXCse.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zXCse.png\" alt=\"enter image description here\" /></a></p>\n<p>There is also another way to modify the version text for the Swagger-Application-Start, but this did not work for me, maybe parameters are not 100% correct. See commented-out line with 'forkProperties'. If someone knows anything about this comments are welcome.</p>\n<pre><code>openApi {\n    // http://localhost:58427/openapi/api-docs.yaml\n    apiDocsUrl.set(&quot;http://localhost:$openApiPort/openapi/api-docs.yaml&quot;)\n    outputDir.set(file(&quot;$openApiYamlLocation&quot;))\n    outputFileName.set(&quot;$openApiYamlFileName&quot;)\n    //forkProperties = &quot;-Dspring-boot.run.arguments='--spring.application.version=$productWinVersion'&quot;\n    waitTimeInSeconds.set(120)\n}\n</code></pre>\n"}],"owner":{"account_id":15152676,"reputation":390,"user_id":10934555,"display_name":"Tony"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653498808,"creation_date":1652950917,"question_id":72301600,"body_markdown":"We are generating java clients/models by the gradle plugin: \r\n&lt;https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator-gradle-plugin/README.adoc&gt;\r\n\r\nGeneration works fine, and the header of the generated files locks like this, just an example:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIs there a way to change the **version-string** for the generation to a fix value without changing the whole gradle-version? Or even customize the generation of the file-header-comments somehow?\r\n\r\nThis would be very helpful to avoid too much commit-changes in the generated models each time, for files that are not affected by the current modifications.\r\n\r\n\r\n    /**\r\n     * Client classes generation (java)\r\n     */\r\n    task generateApiCodeJavaClient(type: ext.GenerateTask) {\r\n        group = &quot;openapi tools&quot;\r\n        dependsOn &quot;generateOpenApiDocs&quot;\r\n    \r\n        generatorName = &quot;java&quot;\r\n    \r\n        inputSpec = openApiYamlPath\r\n        outputDir = project.ext.javaCodeDir\r\n    \r\n        inputs.file inputSpec\r\n        outputs.dir outputDir\r\n       \r\n        configOptions = [\r\n                dateLibrary: &quot;java8&quot;,\r\n                java8: &quot;true&quot;,\r\n                hideGenerationTimestamp: &quot;true&quot;,\r\n                library: &quot;resttemplate&quot;\r\n        ]\r\n    }\r\n\r\n\r\nAny suggestions? Thanx.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AeZY6.png","title":"OpenApi - CodeGeneration - Avoid/Modify Generation Of Version In Header Comments","body":"<p>We are generating java clients/models by the gradle plugin:\n<a href=\"https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator-gradle-plugin/README.adoc\" rel=\"nofollow noreferrer\">https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator-gradle-plugin/README.adoc</a></p>\n<p>Generation works fine, and the header of the generated files locks like this, just an example:</p>\n<p><a href=\"https://i.stack.imgur.com/AeZY6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AeZY6.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there a way to change the <strong>version-string</strong> for the generation to a fix value without changing the whole gradle-version? Or even customize the generation of the file-header-comments somehow?</p>\n<p>This would be very helpful to avoid too much commit-changes in the generated models each time, for files that are not affected by the current modifications.</p>\n<pre><code>/**\n * Client classes generation (java)\n */\ntask generateApiCodeJavaClient(type: ext.GenerateTask) {\n    group = &quot;openapi tools&quot;\n    dependsOn &quot;generateOpenApiDocs&quot;\n\n    generatorName = &quot;java&quot;\n\n    inputSpec = openApiYamlPath\n    outputDir = project.ext.javaCodeDir\n\n    inputs.file inputSpec\n    outputs.dir outputDir\n   \n    configOptions = [\n            dateLibrary: &quot;java8&quot;,\n            java8: &quot;true&quot;,\n            hideGenerationTimestamp: &quot;true&quot;,\n            library: &quot;resttemplate&quot;\n    ]\n}\n</code></pre>\n<p>Any suggestions? Thanx.</p>\n"},{"tags":["java","string","character"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1653499770,"post_id":72381797,"comment_id":127869914,"body_markdown":"Why not read text line by line (you will still need to press Enter but only at the end of each line)? You can read lines in outer loop and process each character in line via another loop. When you find `dot` stop outer loop (you can do it via `return` or `break` - this may be helpful [How do I break out of nested loops in Java?](https://stackoverflow.com/q/886955))","body":"Why not read text line by line (you will still need to press Enter but only at the end of each line)? You can read lines in outer loop and process each character in line via another loop. When you find <code>dot</code> stop outer loop (you can do it via <code>return</code> or <code>break</code> - this may be helpful <a href=\"https://stackoverflow.com/q/886955\">How do I break out of nested loops in Java?</a>)"},{"owner":{"account_id":23677584,"reputation":89,"user_id":17703613,"display_name":"OrlandoVSilva"},"score":0,"creation_date":1653501344,"post_id":72381797,"comment_id":127870477,"body_markdown":"@Pshemo, thanks, but won&#39;t do, it needs to be as the exercise states, bc it&#39;s to be reviewed by a professor.\nIf it was a personal project, I would consider it, yes.","body":"@Pshemo, thanks, but won&#39;t do, it needs to be as the exercise states, bc it&#39;s to be reviewed by a professor. If it was a personal project, I would consider it, yes."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1653501590,"post_id":72381797,"comment_id":127870559,"body_markdown":"Fact that it will be reviewed doesn&#39;t mean it is wrong. Your assignment doesn&#39;t force you to *read* one character at a time, but to *process* one character at a time (so you can drop rest or characters after first dot).","body":"Fact that it will be reviewed doesn&#39;t mean it is wrong. Your assignment doesn&#39;t force you to <i>read</i> one character at a time, but to <i>process</i> one character at a time (so you can drop rest or characters after first dot)."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1653502199,"post_id":72381797,"comment_id":127870770,"body_markdown":"Other option os to write some GUI (for instance with `swing` package) and create listeners for keys (console doesn&#39;t have that option so we are forced to confirm input with Enter).","body":"Other option os to write some GUI (for instance with <code>swing</code> package) and create listeners for keys (console doesn&#39;t have that option so we are forced to confirm input with Enter)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1653503252,"post_id":72381797,"comment_id":127871117,"body_markdown":"*Once that method meets the dot, it performs the rest of the code. Is that possible*\n**No**\n*or do I always have to hit &quot;enter&quot;, to register a key?*\n**Yes**","body":"<i>Once that method meets the dot, it performs the rest of the code. Is that possible</i> <b>No</b> <i>or do I always have to hit &quot;enter&quot;, to register a key?</i> <b>Yes</b>"}],"owner":{"account_id":23677584,"reputation":89,"user_id":17703613,"display_name":"OrlandoVSilva"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":714,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653498774,"creation_date":1653498774,"question_id":72381797,"body_markdown":"So I have this exercise:\r\n\r\n&quot;Create a program that reads characters from the keyboard until it receives a dot.\r\nThe program must count the number of spaces.\r\nIndicate the total number of spaces at the end of the program.&quot;\r\n\r\nMy problem is, everytime I type a character, I have to press &quot;Enter&quot;, for it to register. This way it acknoledges the dot, but not the spaces, and it&#39;s also not practical, the point is to type the whole sentence, and ackowlegde the dot, and proceed with the rest of the code.\r\n\r\nIf I type the whole sentence (ex.: &quot;I ate food.&quot;), it does not acknowledge the dot, and lets me keep writing.\r\n\r\nThis link: https://stackoverflow.com/questions/36265402/java-scanner-stop-reading-after-the-first-entry, suggests reading character by character, which is a thing I don&#39;t want.\r\n\r\nThis link: https://stackoverflow.com/questions/33135414/java-scanner-stop-reading-input-if-receives-bad-character, this one did not help me either.\r\n\r\n```\r\npackage m1_praticas;\r\n\r\nimport  java.util.Scanner;\r\n\r\npublic class M1_Pratica3_ContarEspacos {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        char input;\r\n        String sentence = &quot;&quot;;\r\n        //int white_spaces = 0;\r\n\r\n        System.out.println(&quot;Escreva uma frase:&quot;);\r\n        do{\r\n            input = scanner.next().charAt(0);\r\n            sentence += input;\r\n        } while(input != &#39;.&#39;);\r\n\r\n        //for(char c : sentence.toCharArray()){\r\n            //if(c == &#39; &#39;){\r\n                //white_spaces++;\r\n            //}\r\n        //}\r\n        System.out.println(sentence);\r\n        System.out.println(white_spaces);\r\n    }\r\n}\r\n```\r\n\r\nIn short, what I want, is when the user is typing a sentence, there is someking of method that is reading the sentence charater, by character.\r\nOnce that method meets the dot, it performs the rest of the code. Is that possible, or do I always have to hit &quot;enter&quot;, to register a key?\r\n\r\nThanks in advance.","title":"Stop reading user&#39;s input when specific character is inserted","body":"<p>So I have this exercise:</p>\n<p>&quot;Create a program that reads characters from the keyboard until it receives a dot.\nThe program must count the number of spaces.\nIndicate the total number of spaces at the end of the program.&quot;</p>\n<p>My problem is, everytime I type a character, I have to press &quot;Enter&quot;, for it to register. This way it acknoledges the dot, but not the spaces, and it's also not practical, the point is to type the whole sentence, and ackowlegde the dot, and proceed with the rest of the code.</p>\n<p>If I type the whole sentence (ex.: &quot;I ate food.&quot;), it does not acknowledge the dot, and lets me keep writing.</p>\n<p>This link: <a href=\"https://stackoverflow.com/questions/36265402/java-scanner-stop-reading-after-the-first-entry\">Java Scanner: stop reading after the first entry</a>, suggests reading character by character, which is a thing I don't want.</p>\n<p>This link: <a href=\"https://stackoverflow.com/questions/33135414/java-scanner-stop-reading-input-if-receives-bad-character\">Java Scanner stop reading input if receives bad character</a>, this one did not help me either.</p>\n<pre><code>package m1_praticas;\n\nimport  java.util.Scanner;\n\npublic class M1_Pratica3_ContarEspacos {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        char input;\n        String sentence = &quot;&quot;;\n        //int white_spaces = 0;\n\n        System.out.println(&quot;Escreva uma frase:&quot;);\n        do{\n            input = scanner.next().charAt(0);\n            sentence += input;\n        } while(input != '.');\n\n        //for(char c : sentence.toCharArray()){\n            //if(c == ' '){\n                //white_spaces++;\n            //}\n        //}\n        System.out.println(sentence);\n        System.out.println(white_spaces);\n    }\n}\n</code></pre>\n<p>In short, what I want, is when the user is typing a sentence, there is someking of method that is reading the sentence charater, by character.\nOnce that method meets the dot, it performs the rest of the code. Is that possible, or do I always have to hit &quot;enter&quot;, to register a key?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","arrays","arraylist","primes"],"comments":[{"owner":{"display_name":"user1196549"},"score":3,"creation_date":1645528980,"post_id":71220381,"comment_id":125889901,"body_markdown":"Translating to English would make the code more readable.","body":"Translating to English would make the code more readable."},{"owner":{"account_id":5916763,"reputation":3250,"user_id":4655324,"accept_rate":79,"display_name":"Mevl&#252;t&#214;zdemir"},"score":1,"creation_date":1645529501,"post_id":71220381,"comment_id":125890122,"body_markdown":"see https://www.javainterviewpoint.com/prime-number-program-in-java/","body":"see <a href=\"https://www.javainterviewpoint.com/prime-number-program-in-java/\" rel=\"nofollow noreferrer\">javainterviewpoint.com/prime-number-program-in-java</a>"},{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1645530200,"post_id":71220381,"comment_id":125890336,"body_markdown":"The code is working properly, but you are printing &quot; Prime Numbers: &quot; after the numbers found...","body":"The code is working properly, but you are printing &quot; Prime Numbers: &quot; after the numbers found..."},{"owner":{"account_id":535477,"reputation":1551,"user_id":904963,"accept_rate":80,"display_name":"user904963"},"score":1,"creation_date":1645532240,"post_id":71220381,"comment_id":125891072,"body_markdown":"You can make the code clearer if you take out `array1[i] == 0` and put it in your logic that finds whether the number is prime. For example, after your `if (array1[i] == 1)`, you could put in `else if (array1[i] == 0) isPrime = false;`. This is advisable, because it makes it easier to understand code if it does only one thing. Right now, your print logic also has a part of the prime check logic in it. You could also handle the two cases plus negative numbers by writing `if (array1[i] &lt;= 1) isPrime = false;`. As for your question, what output are you getting?","body":"You can make the code clearer if you take out <code>array1[i] == 0</code> and put it in your logic that finds whether the number is prime. For example, after your <code>if (array1[i] == 1)</code>, you could put in <code>else if (array1[i] == 0) isPrime = false;</code>. This is advisable, because it makes it easier to understand code if it does only one thing. Right now, your print logic also has a part of the prime check logic in it. You could also handle the two cases plus negative numbers by writing <code>if (array1[i] &lt;= 1) isPrime = false;</code>. As for your question, what output are you getting?"},{"owner":{"account_id":535477,"reputation":1551,"user_id":904963,"accept_rate":80,"display_name":"user904963"},"score":0,"creation_date":1645532970,"post_id":71220381,"comment_id":125891345,"body_markdown":"Your code checks each number in `array1` to see if it&#39;s prime, and if it is, it prints `array1[i] + &quot; ,&quot;`. This part should work as expected with all the primes being on one line in the format `&quot;2 ,3 , 3 ,2 ,&quot;`. That looks a little weird and you can fix it up, but the main problem here is you then print `&quot; Prime numbers: &quot;` on that same line followed by a newline, giving you something like `&quot;2 ,3 ,3 ,2 , Prime numbers: &quot;`. Is this the output you&#39;re seeing? Are you asking how to make the format better, or is it outputting the wrong numbers?","body":"Your code checks each number in <code>array1</code> to see if it&#39;s prime, and if it is, it prints <code>array1[i] + &quot; ,&quot;</code>. This part should work as expected with all the primes being on one line in the format <code>&quot;2 ,3 , 3 ,2 ,&quot;</code>. That looks a little weird and you can fix it up, but the main problem here is you then print <code>&quot; Prime numbers: &quot;</code> on that same line followed by a newline, giving you something like <code>&quot;2 ,3 ,3 ,2 , Prime numbers: &quot;</code>. Is this the output you&#39;re seeing? Are you asking how to make the format better, or is it outputting the wrong numbers?"},{"owner":{"account_id":22938034,"reputation":37,"user_id":17071203,"display_name":"Patryk Szymańczyk"},"score":0,"creation_date":1645536352,"post_id":71220381,"comment_id":125892820,"body_markdown":"Problem is with outputting, when i run the code i dont see anything, wrote the sout in main and nothing","body":"Problem is with outputting, when i run the code i dont see anything, wrote the sout in main and nothing"}],"answers":[{"tags":[],"owner":{"account_id":17487810,"reputation":33,"user_id":12680498,"display_name":"Woi-oi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645531043,"creation_date":1645531043,"answer_id":71220877,"question_id":71220381,"body_markdown":"The code sample you provided seems too convoluted for the required task with that nested loop.\r\nWhen I used to look up algorithms to find a prime number I came across [this][1] sit site (please note there are multiple websites that present the same code).\r\n\r\nIn your situation I&#39;d make a static method which accepts an int[] as parameter and modify the n variable in the example below to extract an integer from the array to test if it is prime.\r\n\r\n    public class PrimeExample{    \r\n     public static void main(String args[]){    \r\n      int i,m=0,flag=0;      \r\n      int n=3;//it is the number to be checked    \r\n      m=n/2;      \r\n      if(n==0||n==1){  \r\n       System.out.println(n+&quot; is not prime number&quot;);      \r\n      }else{  \r\n       for(i=2;i&lt;=m;i++){      \r\n        if(n%i==0){      \r\n         System.out.println(n+&quot; is not prime number&quot;);      \r\n         flag=1;      \r\n         break;      \r\n        }      \r\n       }      \r\n       if(flag==0)  { System.out.println(n+&quot; is prime number&quot;); }  \r\n      }//end of else  \r\n    }    \r\n    }   \r\n\r\n\r\n  [1]: https://www.javatpoint.com/prime-number-program-in-java","title":"How can I find all prime numbers from array in Java","body":"<p>The code sample you provided seems too convoluted for the required task with that nested loop.\nWhen I used to look up algorithms to find a prime number I came across <a href=\"https://www.javatpoint.com/prime-number-program-in-java\" rel=\"nofollow noreferrer\">this</a> sit site (please note there are multiple websites that present the same code).</p>\n<p>In your situation I'd make a static method which accepts an int[] as parameter and modify the n variable in the example below to extract an integer from the array to test if it is prime.</p>\n<pre><code>public class PrimeExample{    \n public static void main(String args[]){    \n  int i,m=0,flag=0;      \n  int n=3;//it is the number to be checked    \n  m=n/2;      \n  if(n==0||n==1){  \n   System.out.println(n+&quot; is not prime number&quot;);      \n  }else{  \n   for(i=2;i&lt;=m;i++){      \n    if(n%i==0){      \n     System.out.println(n+&quot; is not prime number&quot;);      \n     flag=1;      \n     break;      \n    }      \n   }      \n   if(flag==0)  { System.out.println(n+&quot; is prime number&quot;); }  \n  }//end of else  \n}    \n}   \n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user15314575"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645606313,"creation_date":1645548253,"answer_id":71225105,"question_id":71220381,"body_markdown":"Your code does what it&#39;s supposed to, but it&#39;s a bit confusing.\r\n\r\nAs an improvement, you could wrap the prim check in a function, making the rest of the code easier to read:\r\n\r\n    private boolean primeCheck(int value){\r\n        if(value &lt; 2) return false;\r\n        for(int i = 2; i &lt;= value / 2; i++) if(value % i == 0) return false;\r\n        return true;\r\n    }\r\n\r\n\r\nThe prime numbers can then be output number by number, as in your example:\r\n\r\n    System.out.print(&quot;Prime Numbers: &quot;);\r\n    for(int i = 0; i &lt; array1.length; i++) {\r\n        if(primeCheck(array1[i])) System.out.print(array1[i] + &quot;, &quot;);\r\n    }\r\n    System.out.println(&quot;&quot;);\r\n\r\n\r\n\r\nor as a whole by packing primes into a list:\r\n\r\n    List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n\r\n    for(int i = 0; i &lt; array1.length; i++) {\r\n        if(primeCheck(array1[i])) result.add(array1[i]);\r\n    }\r\n    System.out.println(&quot;Prime Numbers: &quot; + Arrays.toString(result.toArray()));\r\n\r\nA fully functional test project: \r\n\r\n    import java.util.*;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main(new int[] { 1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 13, 14, 15, 16, 17 });\r\n        }\r\n\r\n        public Main(int[] array1) {\r\n            List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n\r\n            for(int i = 0; i &lt; array1.length; i++) {\r\n                if(primeCheck(array1[i])) result.add(array1[i]);\r\n            }\r\n            System.out.println(&quot;Prime Numbers: &quot; + Arrays.toString(result.toArray()));\r\n        }\r\n\r\n        private boolean primeCheck(int value){\r\n            if(value &lt; 2) return false;\r\n            for(int i = 2; i &lt;= value / 2; i++) if(value % i == 0) return false;\r\n            return true;\r\n        }\r\n    }\r\n\r\nA modification of the example that returns the result as a `List&lt;Integer&gt;`.\r\n\r\n    import java.util.*;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Main main = new Main();\r\n            List&lt;Integer&gt; result = main.getListOfPrimes(new int[] { 1, 2, 3, 4, 5, 6 });\r\n    \r\n            // Print array from list\r\n            System.out.println(&quot;Prime Numbers: &quot; + Arrays.toString(result.toArray()));\r\n    \r\n            // Iterate list\r\n            for(int i: result) \r\n                System.out.println(i);\r\n        }\r\n    \r\n        public List&lt;Integer&gt; getListOfPrimes(int[] source) {\r\n            List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n    \r\n            for(int i = 0; i &lt; source.length; i++) {\r\n                if(primeCheck(source[i])) result.add(source[i]);\r\n            }\r\n            return result;\r\n        }\r\n    \r\n        private boolean primeCheck(int value){\r\n            if(value &lt; 2) return false;\r\n            for(int i = 2; i &lt;= value / 2; i++) if(value % i == 0) return false;\r\n            return true;\r\n        }\r\n    }","title":"How can I find all prime numbers from array in Java","body":"<p>Your code does what it's supposed to, but it's a bit confusing.</p>\n<p>As an improvement, you could wrap the prim check in a function, making the rest of the code easier to read:</p>\n<pre><code>private boolean primeCheck(int value){\n    if(value &lt; 2) return false;\n    for(int i = 2; i &lt;= value / 2; i++) if(value % i == 0) return false;\n    return true;\n}\n</code></pre>\n<p>The prime numbers can then be output number by number, as in your example:</p>\n<pre><code>System.out.print(&quot;Prime Numbers: &quot;);\nfor(int i = 0; i &lt; array1.length; i++) {\n    if(primeCheck(array1[i])) System.out.print(array1[i] + &quot;, &quot;);\n}\nSystem.out.println(&quot;&quot;);\n</code></pre>\n<p>or as a whole by packing primes into a list:</p>\n<pre><code>List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n\nfor(int i = 0; i &lt; array1.length; i++) {\n    if(primeCheck(array1[i])) result.add(array1[i]);\n}\nSystem.out.println(&quot;Prime Numbers: &quot; + Arrays.toString(result.toArray()));\n</code></pre>\n<p>A fully functional test project:</p>\n<pre><code>import java.util.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main(new int[] { 1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 13, 14, 15, 16, 17 });\n    }\n\n    public Main(int[] array1) {\n        List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n\n        for(int i = 0; i &lt; array1.length; i++) {\n            if(primeCheck(array1[i])) result.add(array1[i]);\n        }\n        System.out.println(&quot;Prime Numbers: &quot; + Arrays.toString(result.toArray()));\n    }\n\n    private boolean primeCheck(int value){\n        if(value &lt; 2) return false;\n        for(int i = 2; i &lt;= value / 2; i++) if(value % i == 0) return false;\n        return true;\n    }\n}\n</code></pre>\n<p>A modification of the example that returns the result as a <code>List&lt;Integer&gt;</code>.</p>\n<pre><code>import java.util.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        Main main = new Main();\n        List&lt;Integer&gt; result = main.getListOfPrimes(new int[] { 1, 2, 3, 4, 5, 6 });\n\n        // Print array from list\n        System.out.println(&quot;Prime Numbers: &quot; + Arrays.toString(result.toArray()));\n\n        // Iterate list\n        for(int i: result) \n            System.out.println(i);\n    }\n\n    public List&lt;Integer&gt; getListOfPrimes(int[] source) {\n        List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n\n        for(int i = 0; i &lt; source.length; i++) {\n            if(primeCheck(source[i])) result.add(source[i]);\n        }\n        return result;\n    }\n\n    private boolean primeCheck(int value){\n        if(value &lt; 2) return false;\n        for(int i = 2; i &lt;= value / 2; i++) if(value % i == 0) return false;\n        return true;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22938034,"reputation":37,"user_id":17071203,"display_name":"Patryk Szymańczyk"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2354,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1653484560,"accepted_answer_id":71225105,"answer_count":2,"score":-3,"last_activity_date":1653498154,"creation_date":1645528804,"question_id":71220381,"body_markdown":"I want to find all prime numbers from array and print them in main class.\r\n    \r\n\r\n      public List&lt;Integer&gt; getListOfPrimes(int[] source) {\r\n            List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n \r\n            for (int i = 0; i &lt; source.length; i++) {\r\n                if (primeCheck(source[i] == true)\r\n                    result.add();\r\n            }\r\n            return result;\r\n        }\r\n\r\n        private boolean primeCheck(int value) {\r\n            if (value &lt; 2) return false;\r\n            for (int i = 2; i &lt;= value / 2; i++) if (value % i == 0) return false;\r\n            return true;\r\n        }\r\n    }\r\n\r\n   \r\n\r\nI have int[] source = {2,4,5,8,13,22}\r\n\r\nAnd i want return a list of prime numbers: 2,5,13\r\n\r\n\r\n","title":"How can I find all prime numbers from array in Java","body":"<p>I want to find all prime numbers from array and print them in main class.</p>\n<pre><code>  public List&lt;Integer&gt; getListOfPrimes(int[] source) {\n        List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n\n        for (int i = 0; i &lt; source.length; i++) {\n            if (primeCheck(source[i] == true)\n                result.add();\n        }\n        return result;\n    }\n\n    private boolean primeCheck(int value) {\n        if (value &lt; 2) return false;\n        for (int i = 2; i &lt;= value / 2; i++) if (value % i == 0) return false;\n        return true;\n    }\n}\n</code></pre>\n<p>I have int[] source = {2,4,5,8,13,22}</p>\n<p>And i want return a list of prime numbers: 2,5,13</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":4393982,"reputation":2533,"user_id":3581620,"accept_rate":81,"display_name":"ΩlostA"},"score":0,"creation_date":1653493614,"post_id":72380497,"comment_id":127867638,"body_markdown":"yep, it doesn&#39;t work","body":"yep, it doesn&#39;t work"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1653495428,"post_id":72380497,"comment_id":127868389,"body_markdown":"If a QR code reader only works with https URL this might be a security restriction. For my answer `myapp://open` also works from a QR code reader (e.g. the `com.gamma.scan`). Tested on Android 11.","body":"If a QR code reader only works with https URL this might be a security restriction. For my answer <code>myapp:&#47;&#47;open</code> also works from a QR code reader (e.g. the <code>com.gamma.scan</code>). Tested on Android 11."}],"answers":[{"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653496438,"creation_date":1653494898,"answer_id":72381014,"question_id":72380497,"body_markdown":"You seem to require at least a custom scheme and host like the following example:\r\n\r\n    &lt;activity ... exported=true&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n            &lt;data android:scheme=&quot;myapp&quot; android:host=&quot;open&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n\r\nYou can test it using\r\n\r\n    adb shell am start -W -a android.intent.action.VIEW -d myapp://open\r\n\r\nBy executing this command the activity that is associated with the intent-filter will open.\r\n\r\nIf it still doesn&#39;t work then may be the used QR code reader is not usuable with custom schemes. For example the open source app [Binary Eye][1] ([`de.markusfisch.android.binaryeye`][2]) has no problem opening an app using a QR code with a link `myapp://open`.\r\n\r\n\r\n  [1]: https://github.com/markusfisch/BinaryEye\r\n  [2]: https://f-droid.org/de/packages/de.markusfisch.android.binaryeye/","title":"Android/Java: How to create personalized schemes without https in it?","body":"<p>You seem to require at least a custom scheme and host like the following example:</p>\n<pre><code>&lt;activity ... exported=true&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n        &lt;data android:scheme=&quot;myapp&quot; android:host=&quot;open&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n<p>You can test it using</p>\n<pre><code>adb shell am start -W -a android.intent.action.VIEW -d myapp://open\n</code></pre>\n<p>By executing this command the activity that is associated with the intent-filter will open.</p>\n<p>If it still doesn't work then may be the used QR code reader is not usuable with custom schemes. For example the open source app <a href=\"https://github.com/markusfisch/BinaryEye\" rel=\"nofollow noreferrer\">Binary Eye</a> (<a href=\"https://f-droid.org/de/packages/de.markusfisch.android.binaryeye/\" rel=\"nofollow noreferrer\"><code>de.markusfisch.android.binaryeye</code></a>) has no problem opening an app using a QR code with a link <code>myapp://open</code>.</p>\n"}],"owner":{"account_id":4393982,"reputation":2533,"user_id":3581620,"accept_rate":81,"display_name":"ΩlostA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72381014,"answer_count":1,"score":0,"last_activity_date":1653497970,"creation_date":1653492788,"question_id":72380497,"body_markdown":"How to use schemes with parameters without using ***https*** ? It works only with https, I would like to use other piece of code for example opening the app with the url : \r\n\r\n    myapp://open\r\n\r\nHere is my actual code:\r\n\r\n      &lt;intent-filter\r\n            android:autoVerify=&quot;true&quot;&gt;\r\n            &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n\r\n\r\n            &lt;data android:scheme=&quot;https&quot; android:host=&quot;open&quot; /&gt;\r\n\r\n        &lt;/intent-filter&gt;\r\n\r\nI tried `&lt;data android:scheme=&quot;myapp&quot; android:host=&quot;open&quot; /&gt;` but doesn&#39;t work.\r\nI tried in Google Lens (and other scan app) that doesn&#39;t make me opening schemes that doesn&#39;t contain &quot;https&quot;\r\n\r\n\r\n      &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; android:maxSdkVersion=&quot;33&quot;/&gt; &lt;!-- NEW CODE --&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_SETTINGS&quot; tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.MANAGE_DOCUMENTS&quot; tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.CAMERA2&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.MEDIA_CONTENT_CONTROL&quot; tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_MEDIA_LOCATION&quot;/&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n\r\n  \r\nThank you\r\n","title":"Android/Java: How to create personalized schemes without https in it?","body":"<p>How to use schemes with parameters without using <em><strong>https</strong></em> ? It works only with https, I would like to use other piece of code for example opening the app with the url :</p>\n<pre><code>myapp://open\n</code></pre>\n<p>Here is my actual code:</p>\n<pre><code>  &lt;intent-filter\n        android:autoVerify=&quot;true&quot;&gt;\n        &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n\n\n        &lt;data android:scheme=&quot;https&quot; android:host=&quot;open&quot; /&gt;\n\n    &lt;/intent-filter&gt;\n</code></pre>\n<p>I tried <code>&lt;data android:scheme=&quot;myapp&quot; android:host=&quot;open&quot; /&gt;</code> but doesn't work.\nI tried in Google Lens (and other scan app) that doesn't make me opening schemes that doesn't contain &quot;https&quot;</p>\n<pre><code>  &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; android:maxSdkVersion=&quot;33&quot;/&gt; &lt;!-- NEW CODE --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_SETTINGS&quot; tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_DOCUMENTS&quot; tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA2&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MEDIA_CONTENT_CONTROL&quot; tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_MEDIA_LOCATION&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n</code></pre>\n<p>Thank you</p>\n"},{"tags":["java","spring","openapi"],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653497923,"creation_date":1653497923,"answer_id":72381640,"question_id":72381139,"body_markdown":"Using ArraySchema should solve this for you\r\n\r\n\r\n    @ApiResponse(\r\n        content = {@Content(\r\n            array = @ArraySchema(schema = @Schema(implementation = ScanDTO.class))\r\n        )}\r\n    )","title":"Is there any way to use something like List&lt;MyClass&gt;.class?","body":"<p>Using ArraySchema should solve this for you</p>\n<pre><code>@ApiResponse(\n    content = {@Content(\n        array = @ArraySchema(schema = @Schema(implementation = ScanDTO.class))\n    )}\n)\n</code></pre>\n"}],"owner":{"account_id":25388385,"reputation":75,"user_id":19199839,"display_name":"Axel Herrmann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72381640,"answer_count":1,"score":1,"last_activity_date":1653497923,"creation_date":1653495384,"question_id":72381139,"body_markdown":"I&#39;m using SpringBoot with OpenAPI and SwaggerUI to implement a rest api. I want to annotate a `@GetMapping` method with `@ApiResponses` to provide the schema of the response, but I&#39;m struggling with the parameter `implementation` of `@Schema`. The return type of my method is `List&lt;ScanDTO&gt;`, so I tried the following:\r\n\r\n```java\r\n@ApiResponses( value = {\r\n            @ApiResponse(content = {@Content(schema = @Schema(implementation = List&lt;ScanDTO&gt;.class))})\r\n    })\r\n``` \r\n\r\nBut this doesn&#39;t work. Things like `ScanDTO.class` would work. The `implementation` argument is of type `Class&lt;?&gt;`. \r\n\r\nMy workaround would be to create a wrapper class like the following:\r\n\r\n```java\r\npublic interface ScanDTOList extends List&lt;ScanDTO&gt; {\r\n}\r\n```\r\n\r\nand use it. It seems to be working, but I think I wont need that additional class in the future, so I am wondering, if there is any way to get this working without this workaround.","title":"Is there any way to use something like List&lt;MyClass&gt;.class?","body":"<p>I'm using SpringBoot with OpenAPI and SwaggerUI to implement a rest api. I want to annotate a <code>@GetMapping</code> method with <code>@ApiResponses</code> to provide the schema of the response, but I'm struggling with the parameter <code>implementation</code> of <code>@Schema</code>. The return type of my method is <code>List&lt;ScanDTO&gt;</code>, so I tried the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ApiResponses( value = {\n            @ApiResponse(content = {@Content(schema = @Schema(implementation = List&lt;ScanDTO&gt;.class))})\n    })\n</code></pre>\n<p>But this doesn't work. Things like <code>ScanDTO.class</code> would work. The <code>implementation</code> argument is of type <code>Class&lt;?&gt;</code>.</p>\n<p>My workaround would be to create a wrapper class like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ScanDTOList extends List&lt;ScanDTO&gt; {\n}\n</code></pre>\n<p>and use it. It seems to be working, but I think I wont need that additional class in the future, so I am wondering, if there is any way to get this working without this workaround.</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1653489878,"post_id":72379398,"comment_id":127865942,"body_markdown":"What are trying to achieve? I don&#39;t see why you would need both chef id and buffet id in the same mapping. If you want the chef, or the chefs&#39; buffets, you would need the chef id. If you need a single buffet, the buffet id is enough. Am i missing a scenario?","body":"What are trying to achieve? I don&#39;t see why you would need both chef id and buffet id in the same mapping. If you want the chef, or the chefs&#39; buffets, you would need the chef id. If you need a single buffet, the buffet id is enough. Am i missing a scenario?"},{"owner":{"account_id":23083372,"reputation":9,"user_id":17195297,"display_name":"leonardo moreo"},"score":0,"creation_date":1653491990,"post_id":72379398,"comment_id":127866936,"body_markdown":"@Chaosfire i want a chef&#39;s single buffet. So i need to specify the chef id and the buffet id, dont I?","body":"@Chaosfire i want a chef&#39;s single buffet. So i need to specify the chef id and the buffet id, dont I?"}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653495275,"creation_date":1653495275,"answer_id":72381112,"question_id":72379398,"body_markdown":"Since the chef page displays buffets, it makes me believe that you have one-to-many relationship of chef to buffets. When displaying all buffets in chef page, you can build the url for each single buffet in thymeleaf. Something like:\r\n```\r\n/chef/buffet/${buffet.id}\r\n```\r\nThen your mapping for single buffet will be:\r\n```\r\n@GetMapping(&quot;/chef/buffet/{idBuffet}&quot;) \r\npublic String getBuffet(@PathVariable(&quot;idBuffet&quot;) Long id, Model model) {\r\n    Buffet buffet = bs.findById(id);\r\n    model.addAttribute(&quot;buffet&quot;, buffet);\r\n    return &quot;buffet.html&quot;;\r\n}\r\n```","title":"how should I use @GetMapping properly to create a /something/{id}/something/{id2} path?","body":"<p>Since the chef page displays buffets, it makes me believe that you have one-to-many relationship of chef to buffets. When displaying all buffets in chef page, you can build the url for each single buffet in thymeleaf. Something like:</p>\n<pre><code>/chef/buffet/${buffet.id}\n</code></pre>\n<p>Then your mapping for single buffet will be:</p>\n<pre><code>@GetMapping(&quot;/chef/buffet/{idBuffet}&quot;) \npublic String getBuffet(@PathVariable(&quot;idBuffet&quot;) Long id, Model model) {\n    Buffet buffet = bs.findById(id);\n    model.addAttribute(&quot;buffet&quot;, buffet);\n    return &quot;buffet.html&quot;;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7486425,"reputation":3,"user_id":5689460,"display_name":"Sandeep Rai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653495776,"creation_date":1653495776,"answer_id":72381225,"question_id":72379398,"body_markdown":"If you need both chef id and buffet id in the method, you can map both path variables.\r\n```\r\n@GetMapping(&quot;/chef/{idChef}/buffet/{idBuffet}&quot;) \r\npublic String getBuffetsOf(@PathVariable(&quot;idChef&quot;) Long idChef,\r\n       @PathVariable(&quot;idBuffet&quot;) Long idBuffet, Model model) {\r\n       //method code here\r\n   }\r\n```","title":"how should I use @GetMapping properly to create a /something/{id}/something/{id2} path?","body":"<p>If you need both chef id and buffet id in the method, you can map both path variables.</p>\n<pre><code>@GetMapping(&quot;/chef/{idChef}/buffet/{idBuffet}&quot;) \npublic String getBuffetsOf(@PathVariable(&quot;idChef&quot;) Long idChef,\n       @PathVariable(&quot;idBuffet&quot;) Long idBuffet, Model model) {\n       //method code here\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25373112,"reputation":141,"user_id":19186589,"display_name":"HARI HARAN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653495923,"creation_date":1653495923,"answer_id":72381254,"question_id":72379398,"body_markdown":"Looking at your buffets endpoint,\r\n```\r\n@GetMapping(&quot;/chef/{idChef}/buffet/{idBuffet}&quot;) \r\n   public String getBuffetsOf(@PathVariable(&quot;idBuffet&quot;) Long id, Model model) {\r\n       Buffet buffet = bs.findById(id);\r\n       model.addAttribute(&quot;buffet&quot;, buffet);\r\n       return &quot;buffet.html&quot;;\r\n}\r\n``` \r\nYou might have missed the {idBuffet} parameter.\r\n\r\nCorrect code should be,\r\n\r\n```\r\n@GetMapping(&quot;/chef/{idChef}/buffet/{idBuffet}&quot;) \r\n   public String getBuffetsOf(@PathVariable(&quot;idChef&quot;) Long idChef, \r\n     @PathVariable(&quot;idBuffet&quot;) Long id, Model model) {\r\n       Buffet buffet = bs.findById(id);\r\n       model.addAttribute(&quot;buffet&quot;, buffet);\r\n       return &quot;buffet.html&quot;;\r\n}\r\n```\r\nThis should work.\r\n\r\nAlso, if you are not using {idChef} in your method why would you even need that? You can just create endpoint without that.\r\n\r\nSomething like,\r\n```\r\n@GetMapping(&quot;/chef/buffet/{id}&quot;) \r\n   public String getBuffetsOf(@PathVariable(&quot;id&quot;) Long id, Model model) {\r\n       Buffet buffet = bs.findById(id);\r\n       model.addAttribute(&quot;buffet&quot;, buffet);\r\n       return &quot;buffet.html&quot;;\r\n}\r\n```\r\nOR\r\n```\r\n@GetMapping(&quot;/buffet/{id}&quot;)\r\n   public String getBuffetsOf(@PathVariable(&quot;id&quot;) Long id, Model model) {\r\n       Buffet buffet = bs.findById(id);\r\n       model.addAttribute(&quot;buffet&quot;, buffet);\r\n       return &quot;buffet.html&quot;;\r\n}\r\n```\r\nThis will look a lot cleaner.","title":"how should I use @GetMapping properly to create a /something/{id}/something/{id2} path?","body":"<p>Looking at your buffets endpoint,</p>\n<pre><code>@GetMapping(&quot;/chef/{idChef}/buffet/{idBuffet}&quot;) \n   public String getBuffetsOf(@PathVariable(&quot;idBuffet&quot;) Long id, Model model) {\n       Buffet buffet = bs.findById(id);\n       model.addAttribute(&quot;buffet&quot;, buffet);\n       return &quot;buffet.html&quot;;\n}\n</code></pre>\n<p>You might have missed the {idBuffet} parameter.</p>\n<p>Correct code should be,</p>\n<pre><code>@GetMapping(&quot;/chef/{idChef}/buffet/{idBuffet}&quot;) \n   public String getBuffetsOf(@PathVariable(&quot;idChef&quot;) Long idChef, \n     @PathVariable(&quot;idBuffet&quot;) Long id, Model model) {\n       Buffet buffet = bs.findById(id);\n       model.addAttribute(&quot;buffet&quot;, buffet);\n       return &quot;buffet.html&quot;;\n}\n</code></pre>\n<p>This should work.</p>\n<p>Also, if you are not using {idChef} in your method why would you even need that? You can just create endpoint without that.</p>\n<p>Something like,</p>\n<pre><code>@GetMapping(&quot;/chef/buffet/{id}&quot;) \n   public String getBuffetsOf(@PathVariable(&quot;id&quot;) Long id, Model model) {\n       Buffet buffet = bs.findById(id);\n       model.addAttribute(&quot;buffet&quot;, buffet);\n       return &quot;buffet.html&quot;;\n}\n</code></pre>\n<p>OR</p>\n<pre><code>@GetMapping(&quot;/buffet/{id}&quot;)\n   public String getBuffetsOf(@PathVariable(&quot;id&quot;) Long id, Model model) {\n       Buffet buffet = bs.findById(id);\n       model.addAttribute(&quot;buffet&quot;, buffet);\n       return &quot;buffet.html&quot;;\n}\n</code></pre>\n<p>This will look a lot cleaner.</p>\n"}],"owner":{"account_id":23083372,"reputation":9,"user_id":17195297,"display_name":"leonardo moreo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1653497918,"creation_date":1653488576,"question_id":72379398,"body_markdown":"I&#39;ve been stuck to this problem for days.\r\nI&#39;m creating a website where chefs can put their buffets, their dishes etc.\r\n\r\nThis is the code I&#39;m using to get a chef in particular:\r\n\r\n ```\r\n//cs is the chefService\r\n@GetMapping(&quot;/chef/{id}&quot;)\r\n\tpublic String getChef(@PathVariable(&quot;id&quot;)Long id, Model model) {\r\n\r\n\t\tChef chef = cs.findById(id);\r\n\t\tmodel.addAttribute(&quot;chef&quot;,chef);\r\n\t\treturn &quot;chef.html&quot;;\r\n ```\r\n(It basically return a page with his buffets)\r\n\r\nNow I dont know how to do the same thing for his buffets, precisely i dont know if i have to repeat the id part both for the chef and the buffet or just the buffet id or it&#39;s something i need to do in my thymeleaf code.\r\nIs it correct to do it this way? :\r\n\r\n ```\r\n\t@GetMapping(&quot;/chef/{idChef}/buffet/{idBuffet}&quot;) \r\n\tpublic String getBuffetsOf(@PathVariable(&quot;idBuffet&quot;) Long id, Model model) {\r\n\t\tBuffet buffet = bs.findById(id);\r\n\t\tmodel.addAttribute(&quot;buffet&quot;, buffet);\r\n\t\treturn &quot;buffet.html&quot;;\r\n\t}\r\n ```\r\nOr maybe i need to add another Long variable for the chef id?  Thanks for the help\r\n\r\n\r\n\r\nEDIT: Here are the two entities:\r\n\r\n```\r\n@Entity\r\npublic class Chef{\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate Long id;\r\n\r\n\tprivate String nome;\r\n\tprivate String cognome;\r\n\tprivate String nazionalita;\r\n\t@OneToMany\r\n\t@JoinTable(name = &quot;chef_buffet&quot;)\r\n\tprivate List&lt;Buffet&gt; buffets;\r\n\r\n\r\n\tpublic Chef(String nome, String cognome, String nazionalita, List&lt;Buffet&gt; buffets) {\r\n\t\tthis.nome = nome;\r\n\t\tthis.cognome = cognome;\r\n\t\tthis.nazionalita = nazionalita;\r\n\t\tthis.buffets = buffets;\r\n\t}\r\n\r\n\tpublic Chef() {\r\n\r\n\t}\r\n\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getNome() {\r\n\t\treturn nome;\r\n\t}\r\n\r\n\tpublic void setNome(String nome) {\r\n\t\tthis.nome = nome;\r\n\t}\r\n\r\n\tpublic String getCognome() {\r\n\t\treturn cognome;\r\n\t}\r\n\r\n\tpublic void setCognome(String cognome) {\r\n\t\tthis.cognome = cognome;\r\n\t}\r\n\r\n\tpublic String getNazionalita() {\r\n\t\treturn nazionalita;\r\n\t}\r\n\r\n\tpublic void setNazionalita(String nazionalita) {\r\n\t\tthis.nazionalita = nazionalita;\r\n\t}\r\n\r\n\tpublic List&lt;Buffet&gt; getBuffets() {\r\n\t\treturn buffets;\r\n\t}\r\n\r\n\tpublic void setBuffets(List&lt;Buffet&gt; buffets) {\r\n\t\tthis.buffets = buffets;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int hashCode() {\r\n\t\tfinal int prime = 31;\r\n\t\tint result = 1;\r\n\t\tresult = prime * result + ((id == null) ? 0 : id.hashCode());\r\n\t\treturn result;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean equals(Object obj) {\r\n\t\tif (this == obj)\r\n\t\t\treturn true;\r\n\t\tif (obj == null)\r\n\t\t\treturn false;\r\n\t\tif (getClass() != obj.getClass())\r\n\t\t\treturn false;\r\n\t\tChef other = (Chef) obj;\r\n\t\tif (id == null) {\r\n\t\t\tif (other.id != null)\r\n\t\t\t\treturn false;\r\n\t\t} else if (!id.equals(other.id))\r\n\t\t\treturn false;\r\n\t\treturn true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Chef [id=&quot; + id + &quot;, nome=&quot; + nome + &quot;, cognome=&quot; + cognome + &quot;, nazionalita=&quot; + nazionalita\r\n\t\t\t\t+ &quot;, buffets=&quot; + buffets + &quot;]&quot;;\r\n\t}\r\n\r\n```\r\n```\r\n@Entity\r\npublic class Buffet {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate Long id;\r\n\t\r\n\tprivate String nome;\r\n\tprivate String descrizione;\r\n\tprivate Chef chef;\r\n\t@OneToMany\r\n\t@JoinTable(name = &quot;buffet_piatti&quot;)\r\n\tprivate List&lt;Piatti&gt; piattis;\r\n\r\n\r\n\tpublic Buffet(String nome, String descrizione, List&lt;Piatti&gt; piattis, Chef chef) {\r\n\t\tthis.nome = nome;\r\n\t\tthis.descrizione = descrizione;\r\n\t\tthis.chef = chef;\r\n\t\tthis.piattis = piattis;\r\n\t}\r\n\r\n\tpublic Buffet() {\r\n\r\n\t}\r\n\r\n\tpublic String getNome() {\r\n\t\treturn nome;\r\n\t}\r\n\r\n\r\n\tpublic void setNome(String nome) {\r\n\t\tthis.nome = nome;\r\n\t}\r\n\r\n\r\n\tpublic String getDescrizione() {\r\n\t\treturn descrizione;\r\n\t}\r\n\r\n\r\n\tpublic void setDescrizione(String descrizione) {\r\n\t\tthis.descrizione = descrizione;\r\n\t}\r\n\r\n\r\n\tpublic List&lt;Piatti&gt; getPiattis() {\r\n\t\treturn piattis;\r\n\t}\r\n\r\n\r\n\tpublic void setPiattis(List&lt;Piatti&gt; piattis) {\r\n\t\tthis.piattis = piattis;\r\n\t}\r\n\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int hashCode() {\r\n\t\tfinal int prime = 31;\r\n\t\tint result = 1;\r\n\t\tresult = prime * result + ((id == null) ? 0 : id.hashCode());\r\n\t\treturn result;\r\n\t}\r\n\t\r\n\tpublic Chef getChef() {\r\n\t\treturn chef;\r\n\t}\r\n\r\n\tpublic void setChef(Chef chef) {\r\n\t\tthis.chef = chef;\r\n\t}\r\n\r\n\r\n\t@Override\r\n\tpublic boolean equals(Object obj) {\r\n\t\tif (this == obj)\r\n\t\t\treturn true;\r\n\t\tif (obj == null)\r\n\t\t\treturn false;\r\n\t\tif (getClass() != obj.getClass())\r\n\t\t\treturn false;\r\n\t\tBuffet other = (Buffet) obj;\r\n\t\tif (id == null) {\r\n\t\t\tif (other.id != null)\r\n\t\t\t\treturn false;\r\n\t\t} else if (!id.equals(other.id))\r\n\t\t\treturn false;\r\n\t\treturn true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Buffet [id=&quot; + id + &quot;, nome=&quot; + nome + &quot;, descrizione=&quot; + descrizione + &quot;, piattis=&quot; + piattis + &quot;]&quot;;\r\n\t}\r\n\r\n```\r\n","title":"how should I use @GetMapping properly to create a /something/{id}/something/{id2} path?","body":"<p>I've been stuck to this problem for days.\nI'm creating a website where chefs can put their buffets, their dishes etc.</p>\n<p>This is the code I'm using to get a chef in particular:</p>\n<pre><code>//cs is the chefService\n@GetMapping(&quot;/chef/{id}&quot;)\n   public String getChef(@PathVariable(&quot;id&quot;)Long id, Model model) {\n\n       Chef chef = cs.findById(id);\n       model.addAttribute(&quot;chef&quot;,chef);\n       return &quot;chef.html&quot;;\n</code></pre>\n<p>(It basically return a page with his buffets)</p>\n<p>Now I dont know how to do the same thing for his buffets, precisely i dont know if i have to repeat the id part both for the chef and the buffet or just the buffet id or it's something i need to do in my thymeleaf code.\nIs it correct to do it this way? :</p>\n<pre><code>   @GetMapping(&quot;/chef/{idChef}/buffet/{idBuffet}&quot;) \n   public String getBuffetsOf(@PathVariable(&quot;idBuffet&quot;) Long id, Model model) {\n       Buffet buffet = bs.findById(id);\n       model.addAttribute(&quot;buffet&quot;, buffet);\n       return &quot;buffet.html&quot;;\n   }\n</code></pre>\n<p>Or maybe i need to add another Long variable for the chef id?  Thanks for the help</p>\n<p>EDIT: Here are the two entities:</p>\n<pre><code>@Entity\npublic class Chef{\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    private String nome;\n    private String cognome;\n    private String nazionalita;\n    @OneToMany\n    @JoinTable(name = &quot;chef_buffet&quot;)\n    private List&lt;Buffet&gt; buffets;\n\n\n    public Chef(String nome, String cognome, String nazionalita, List&lt;Buffet&gt; buffets) {\n        this.nome = nome;\n        this.cognome = cognome;\n        this.nazionalita = nazionalita;\n        this.buffets = buffets;\n    }\n\n    public Chef() {\n\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getNome() {\n        return nome;\n    }\n\n    public void setNome(String nome) {\n        this.nome = nome;\n    }\n\n    public String getCognome() {\n        return cognome;\n    }\n\n    public void setCognome(String cognome) {\n        this.cognome = cognome;\n    }\n\n    public String getNazionalita() {\n        return nazionalita;\n    }\n\n    public void setNazionalita(String nazionalita) {\n        this.nazionalita = nazionalita;\n    }\n\n    public List&lt;Buffet&gt; getBuffets() {\n        return buffets;\n    }\n\n    public void setBuffets(List&lt;Buffet&gt; buffets) {\n        this.buffets = buffets;\n    }\n\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n        result = prime * result + ((id == null) ? 0 : id.hashCode());\n        return result;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        Chef other = (Chef) obj;\n        if (id == null) {\n            if (other.id != null)\n                return false;\n        } else if (!id.equals(other.id))\n            return false;\n        return true;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Chef [id=&quot; + id + &quot;, nome=&quot; + nome + &quot;, cognome=&quot; + cognome + &quot;, nazionalita=&quot; + nazionalita\n                + &quot;, buffets=&quot; + buffets + &quot;]&quot;;\n    }\n\n</code></pre>\n<pre><code>@Entity\npublic class Buffet {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    \n    private String nome;\n    private String descrizione;\n    private Chef chef;\n    @OneToMany\n    @JoinTable(name = &quot;buffet_piatti&quot;)\n    private List&lt;Piatti&gt; piattis;\n\n\n    public Buffet(String nome, String descrizione, List&lt;Piatti&gt; piattis, Chef chef) {\n        this.nome = nome;\n        this.descrizione = descrizione;\n        this.chef = chef;\n        this.piattis = piattis;\n    }\n\n    public Buffet() {\n\n    }\n\n    public String getNome() {\n        return nome;\n    }\n\n\n    public void setNome(String nome) {\n        this.nome = nome;\n    }\n\n\n    public String getDescrizione() {\n        return descrizione;\n    }\n\n\n    public void setDescrizione(String descrizione) {\n        this.descrizione = descrizione;\n    }\n\n\n    public List&lt;Piatti&gt; getPiattis() {\n        return piattis;\n    }\n\n\n    public void setPiattis(List&lt;Piatti&gt; piattis) {\n        this.piattis = piattis;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n        result = prime * result + ((id == null) ? 0 : id.hashCode());\n        return result;\n    }\n    \n    public Chef getChef() {\n        return chef;\n    }\n\n    public void setChef(Chef chef) {\n        this.chef = chef;\n    }\n\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        Buffet other = (Buffet) obj;\n        if (id == null) {\n            if (other.id != null)\n                return false;\n        } else if (!id.equals(other.id))\n            return false;\n        return true;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Buffet [id=&quot; + id + &quot;, nome=&quot; + nome + &quot;, descrizione=&quot; + descrizione + &quot;, piattis=&quot; + piattis + &quot;]&quot;;\n    }\n\n</code></pre>\n"},{"tags":["java","selenium","xpath","automated-tests"],"comments":[{"owner":{"account_id":14791486,"reputation":4847,"user_id":10682289,"display_name":"JaSON"},"score":0,"creation_date":1653495159,"post_id":72380263,"comment_id":127868269,"body_markdown":"Does this answer your question? [XPATH selecting node with attribute and text](https://stackoverflow.com/questions/7618880/xpath-selecting-node-with-attribute-and-text)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/7618880/xpath-selecting-node-with-attribute-and-text\">XPATH selecting node with attribute and text</a>"}],"answers":[{"tags":[],"owner":{"account_id":16239934,"reputation":226,"user_id":11726540,"display_name":"Naeem Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653497453,"creation_date":1653497453,"answer_id":72381556,"question_id":72380263,"body_markdown":"You can use attribute with your existing XPath like\r\n\r\n    //*[text()=&#39;Over Due&#39; and @attribute=&#39;&#39;]\r\n\r\nOR with child expression also\r\n\r\n    //div[text()=&#39;Over Due&#39; and *[text()=&#39;some text&#39;]]\r\n\r\n","title":"Writing Xpath with attribute and text","body":"<p>You can use attribute with your existing XPath like</p>\n<pre><code>//*[text()='Over Due' and @attribute='']\n</code></pre>\n<p>OR with child expression also</p>\n<pre><code>//div[text()='Over Due' and *[text()='some text']]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1351195,"reputation":28599,"user_id":1305969,"display_name":"zx485"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653497848,"creation_date":1653497505,"answer_id":72381567,"question_id":72380263,"body_markdown":"Try the following XPath-1.0 expression which includes the text node and part of the attributes:\r\n\r\n    //div[normalize-space(text())=&#39;Over Due&#39; and contains(@style,&#39;padding-right: 10px;&#39;) and contains(mat-icon/@class,&#39;mat-icon&#39;)]\r\n\r\nIf this does not suffice, add further ` contains(...)`  expressions.\r\n","title":"Writing Xpath with attribute and text","body":"<p>Try the following XPath-1.0 expression which includes the text node and part of the attributes:</p>\n<pre><code>//div[normalize-space(text())='Over Due' and contains(@style,'padding-right: 10px;') and contains(mat-icon/@class,'mat-icon')]\n</code></pre>\n<p>If this does not suffice, add further <code> contains(...)</code>  expressions.</p>\n"}],"owner":{"account_id":25388039,"reputation":1,"user_id":19199551,"display_name":"Mr W"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653497848,"creation_date":1653491791,"question_id":72380263,"body_markdown":"I&#39;m a newbie to Selenium and I need to be able to xpath the following element with attribute and text. \r\n\r\nI am using \r\n\r\n    //*[text()=&#39;Over Due&#39;] \r\n\r\nbut I need it with attribute also to narrow it down to the single element.\r\n\r\n    &lt;div style=&quot;padding-right: 10px;&quot;&gt;&lt;mat-icon role=&quot;img&quot; class=&quot;mat-icon notranslate timer-gray material-icons mat-icon-no-color&quot; style=&quot;vertical-align: bottom;&quot; aria-hidden=&quot;true&quot; data-mat-icon-type=&quot;font&quot;&gt; av_timer &lt;/mat-icon&gt; Over Due &lt;/div&gt;","title":"Writing Xpath with attribute and text","body":"<p>I'm a newbie to Selenium and I need to be able to xpath the following element with attribute and text.</p>\n<p>I am using</p>\n<pre><code>//*[text()='Over Due'] \n</code></pre>\n<p>but I need it with attribute also to narrow it down to the single element.</p>\n<pre><code>&lt;div style=&quot;padding-right: 10px;&quot;&gt;&lt;mat-icon role=&quot;img&quot; class=&quot;mat-icon notranslate timer-gray material-icons mat-icon-no-color&quot; style=&quot;vertical-align: bottom;&quot; aria-hidden=&quot;true&quot; data-mat-icon-type=&quot;font&quot;&gt; av_timer &lt;/mat-icon&gt; Over Due &lt;/div&gt;\n</code></pre>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653497823,"creation_date":1653497823,"answer_id":72381624,"question_id":72381548,"body_markdown":"You use the constructor. \r\n\r\n    new CycleAvoidingMappingContext()\r\n\r\nWhen in doubt, look for unit tests. \r\n\r\nhttps://github.com/mapstruct/mapstruct-examples/blob/master/mapstruct-mapping-with-cycles/src/test/java/org/mapstruct/example/EmployeeMapperTest.java#L59","title":"How to use the mapping in practice?","body":"<p>You use the constructor.</p>\n<pre><code>new CycleAvoidingMappingContext()\n</code></pre>\n<p>When in doubt, look for unit tests.</p>\n<p><a href=\"https://github.com/mapstruct/mapstruct-examples/blob/master/mapstruct-mapping-with-cycles/src/test/java/org/mapstruct/example/EmployeeMapperTest.java#L59\" rel=\"nofollow noreferrer\">https://github.com/mapstruct/mapstruct-examples/blob/master/mapstruct-mapping-with-cycles/src/test/java/org/mapstruct/example/EmployeeMapperTest.java#L59</a></p>\n"}],"owner":{"account_id":3291358,"reputation":129,"user_id":2909467,"accept_rate":40,"display_name":"cviniciusm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1653498000,"answer_count":1,"score":-2,"last_activity_date":1653497823,"creation_date":1653497410,"question_id":72381548,"body_markdown":"The example here: https://github.com/mapstruct/mapstruct-examples/blob/3457f37c24ea7799b0752cc7ee8307283ab09ad2/mapstruct-mapping-with-cycles/src/main/java/org/mapstruct/example/mapper/EmployeeMapper.java\r\n\r\nThe generated mapping will be like:\r\n\r\nEmployee toEmployee(EmployeeDto employeeDto, CycleAvoidingMappingContext context) {...}\r\n\r\nIn practice, how to get a valid CycleAvoidingMappingContext object ?","title":"How to use the mapping in practice?","body":"<p>The example here: <a href=\"https://github.com/mapstruct/mapstruct-examples/blob/3457f37c24ea7799b0752cc7ee8307283ab09ad2/mapstruct-mapping-with-cycles/src/main/java/org/mapstruct/example/mapper/EmployeeMapper.java\" rel=\"nofollow noreferrer\">https://github.com/mapstruct/mapstruct-examples/blob/3457f37c24ea7799b0752cc7ee8307283ab09ad2/mapstruct-mapping-with-cycles/src/main/java/org/mapstruct/example/mapper/EmployeeMapper.java</a></p>\n<p>The generated mapping will be like:</p>\n<p>Employee toEmployee(EmployeeDto employeeDto, CycleAvoidingMappingContext context) {...}</p>\n<p>In practice, how to get a valid CycleAvoidingMappingContext object ?</p>\n"},{"tags":["java","string","arraylist","integer"],"comments":[{"owner":{"account_id":2115321,"reputation":316,"user_id":1879783,"display_name":"RShields"},"score":2,"creation_date":1646601714,"post_id":71374255,"comment_id":126158387,"body_markdown":"The nice thing about `ArrayList` is that you don&#39;t need to worry about what size it will be, you can just keep `add`ing things. So what to add? If you want indices over `words`, then you should iterate over `words`. How can you determine whether to add a given index?","body":"The nice thing about <code>ArrayList</code> is that you don&#39;t need to worry about what size it will be, you can just keep <code>add</code>ing things. So what to add? If you want indices over <code>words</code>, then you should iterate over <code>words</code>. How can you determine whether to add a given index?"},{"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"score":0,"creation_date":1646601764,"post_id":71374255,"comment_id":126158395,"body_markdown":"If you try to compile this it will mention there is no variable `house`.","body":"If you try to compile this it will mention there is no variable <code>house</code>."}],"answers":[{"tags":[],"owner":{"account_id":24408886,"reputation":86,"user_id":18336654,"display_name":"Nagamura"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646602392,"creation_date":1646602392,"answer_id":71374387,"question_id":71374255,"body_markdown":"You can do it just by checking if the string passed to the method is contained in the list and adding the number to the List `numbers`.\r\n\r\nHere an example of the method `getIntegerArray`:\r\n\r\n    public static List&lt;Integer&gt; getIntegerArray(List&lt;String&gt; words, String word) {\r\n        List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\r\n\r\n        for (int i=0; i &lt; words.size() ; i++) {\r\n            if (word.equals(words.get(i)))\r\n                numbers.add(i);\r\n        }\r\n        return numbers;\r\n    }\r\n\r\nPS: in `System.out.println(getIntegerArray(words, house));` you are passing a variable `house` which is not declared. Probably you wanted to write `&quot;house&quot;`.","title":"How can I convert arraylist &lt;String&gt; to arraylist &lt;integer&gt;","body":"<p>You can do it just by checking if the string passed to the method is contained in the list and adding the number to the List <code>numbers</code>.</p>\n<p>Here an example of the method <code>getIntegerArray</code>:</p>\n<pre><code>public static List&lt;Integer&gt; getIntegerArray(List&lt;String&gt; words, String word) {\n    List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\n\n    for (int i=0; i &lt; words.size() ; i++) {\n        if (word.equals(words.get(i)))\n            numbers.add(i);\n    }\n    return numbers;\n}\n</code></pre>\n<p>PS: in <code>System.out.println(getIntegerArray(words, house));</code> you are passing a variable <code>house</code> which is not declared. Probably you wanted to write <code>&quot;house&quot;</code>.</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646602393,"creation_date":1646602393,"answer_id":71374389,"question_id":71374255,"body_markdown":"You should not worry about the size of `numbers` list, just add appropriate indexes as needed:\r\n```java\r\npublic static List&lt;Integer&gt; getIntegerArray(List&lt;String&gt; words, String word) {\r\n    List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\r\n    for (int i = 0, n = words.size(); i &lt; n; i++) {\r\n        if (Objects.equals(word, words.get(i)))\r\n            numbers.add(i);\r\n    }\r\n    return numbers;\r\n}\r\n```\r\n----\r\nOr use Stream API to get the list of indexes:\r\n```java\r\npublic static List&lt;Integer&gt; getIntegerArray(List&lt;String&gt; words, String word) {\r\n    return IntStream.range(0, words.size())\r\n        .filter(i -&gt; Objects.equals(word, words.get(i)))\r\n        .boxed()\r\n        .collect(Collectors.toList());\r\n}\r\n```","title":"How can I convert arraylist &lt;String&gt; to arraylist &lt;integer&gt;","body":"<p>You should not worry about the size of <code>numbers</code> list, just add appropriate indexes as needed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;Integer&gt; getIntegerArray(List&lt;String&gt; words, String word) {\n    List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\n    for (int i = 0, n = words.size(); i &lt; n; i++) {\n        if (Objects.equals(word, words.get(i)))\n            numbers.add(i);\n    }\n    return numbers;\n}\n</code></pre>\n<hr />\n<p>Or use Stream API to get the list of indexes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;Integer&gt; getIntegerArray(List&lt;String&gt; words, String word) {\n    return IntStream.range(0, words.size())\n        .filter(i -&gt; Objects.equals(word, words.get(i)))\n        .boxed()\n        .collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653480663,"creation_date":1653480663,"answer_id":72377406,"question_id":71374255,"body_markdown":"`getIntegerArray(List&lt;String&gt; words, String word)` with a single `word` can&#39;t get you a list of integers with more than one element, I suggest passing the entire `String[]`, called `findwords` in the code below. Otherwise, lists have a `indexOf()`, which makes things really simple:\r\n\r\n\tpublic static void main (String[] args) {\r\n\t\tList&lt;String&gt; words = new ArrayList&lt;&gt;();\r\n    \twords.addAll(Arrays.asList(&quot;house&quot;, &quot;bike&quot;,&quot;dog&quot;,&quot;house&quot;,&quot;house&quot;));\r\n    \tSystem.out.println(getIntegerArray(words,args));\r\n\t}\r\n\t\r\n\tpublic static List&lt;Integer&gt; getIntegerArray(List&lt;String&gt; words, String[] findwords) {\r\n\t\tList&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\r\n\t\tfor(String word: findwords)\r\n\t\t\tnumbers.add(words.indexOf(word));\r\n\t\treturn numbers;\r\n\t}\r\n\r\nThis will produce `[0, 1, 2]` as output when run with command line arguments `house bike dog`. See https://ideone.com/gYefsa (ideone doesn&#39;t support passing command line arguments, so `args` is just initialized inside the code).","title":"How can I convert arraylist &lt;String&gt; to arraylist &lt;integer&gt;","body":"<p><code>getIntegerArray(List&lt;String&gt; words, String word)</code> with a single <code>word</code> can't get you a list of integers with more than one element, I suggest passing the entire <code>String[]</code>, called <code>findwords</code> in the code below. Otherwise, lists have a <code>indexOf()</code>, which makes things really simple:</p>\n<pre><code>public static void main (String[] args) {\n    List&lt;String&gt; words = new ArrayList&lt;&gt;();\n    words.addAll(Arrays.asList(&quot;house&quot;, &quot;bike&quot;,&quot;dog&quot;,&quot;house&quot;,&quot;house&quot;));\n    System.out.println(getIntegerArray(words,args));\n}\n\npublic static List&lt;Integer&gt; getIntegerArray(List&lt;String&gt; words, String[] findwords) {\n    List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\n    for(String word: findwords)\n        numbers.add(words.indexOf(word));\n    return numbers;\n}\n</code></pre>\n<p>This will produce <code>[0, 1, 2]</code> as output when run with command line arguments <code>house bike dog</code>. See <a href=\"https://ideone.com/gYefsa\" rel=\"nofollow noreferrer\">https://ideone.com/gYefsa</a> (ideone doesn't support passing command line arguments, so <code>args</code> is just initialized inside the code).</p>\n"}],"owner":{"account_id":22938034,"reputation":37,"user_id":17071203,"display_name":"Patryk Szymańczyk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":71374387,"answer_count":3,"score":-2,"last_activity_date":1653497714,"creation_date":1646601390,"question_id":71374255,"body_markdown":"My goal is to find on which specific index is String from ArrayList and \r\nadd them to new ArrayList&lt;Integer&gt;, \r\nSo if house is [0] than i want to return new ArrayList&lt;Integer&gt; with integer. \r\n\r\n\r\n    public class List {\r\n    public static void main(String[] List) {\r\n        List&lt;String&gt; words = new ArrayList&lt;&gt;();\r\n        words.addAll(Arrays.asList(&quot;house&quot;, &quot;bike&quot;,&quot;dog&quot;,&quot;house&quot;,&quot;house&quot;));\r\n        System.out.println(getIntegerArray(words,house));\r\n\r\n\r\n     public static List&lt;Integer&gt; getIntegerArray(List&lt;String&gt; words, String word) {\r\n            List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i &lt; numbers.size() ; i++) {\r\n    \r\n            }\r\n\r\n\r\nAt the begging I have ArrayList like this\r\nInput :\r\n\r\n    [&quot;house&quot;, &quot;bike&quot;,&quot;dog&quot;]\r\n\r\n\r\nAnd I want to get new ArrayList like this\r\nOutput:\r\n\r\n    [0,1,2]\r\n\r\n","title":"How can I convert arraylist &lt;String&gt; to arraylist &lt;integer&gt;","body":"<p>My goal is to find on which specific index is String from ArrayList and\nadd them to new ArrayList,\nSo if house is [0] than i want to return new ArrayList with integer.</p>\n<pre><code>public class List {\npublic static void main(String[] List) {\n    List&lt;String&gt; words = new ArrayList&lt;&gt;();\n    words.addAll(Arrays.asList(&quot;house&quot;, &quot;bike&quot;,&quot;dog&quot;,&quot;house&quot;,&quot;house&quot;));\n    System.out.println(getIntegerArray(words,house));\n\n\n public static List&lt;Integer&gt; getIntegerArray(List&lt;String&gt; words, String word) {\n        List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; numbers.size() ; i++) {\n\n        }\n</code></pre>\n<p>At the begging I have ArrayList like this\nInput :</p>\n<pre><code>[&quot;house&quot;, &quot;bike&quot;,&quot;dog&quot;]\n</code></pre>\n<p>And I want to get new ArrayList like this\nOutput:</p>\n<pre><code>[0,1,2]\n</code></pre>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1653498206,"post_id":72381481,"comment_id":127869392,"body_markdown":"That wouldn&#39;t be the right path. Do `request.getSession().getServletContext().getRealPath(&quot;/&quot;);` then you know where to place your target directory","body":"That wouldn&#39;t be the right path. Do <code>request.getSession().getServletContext().getRealPath(&quot;&#47;&quot;);</code> then you know where to place your target directory"},{"owner":{"account_id":20696851,"reputation":19,"user_id":15196879,"display_name":"anoopKumar"},"score":0,"creation_date":1653544129,"post_id":72381481,"comment_id":127879025,"body_markdown":"Its returning path :- C:\\Users\\anoopKumar\\eclipse-workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\testFileUpload\\   .. Which not something i am looking for","body":"Its returning path :- C:\\Users\\anoopKumar\\eclipse-workspace\\.metadata\\.plugins\\org&zwnj;&#8203;.eclipse.wst.server.&zwnj;&#8203;core\\tmp0\\wtpwebapps&zwnj;&#8203;\\testFileUpload\\   .. Which not something i am looking for"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1653554462,"post_id":72381481,"comment_id":127881712,"body_markdown":"Ha. that&#39;s a perfect illustration of why I use a real server in my config when building webapps. you&#39;re going to need a real directory to which you can write.","body":"Ha. that&#39;s a perfect illustration of why I use a real server in my config when building webapps. you&#39;re going to need a real directory to which you can write."}],"owner":{"account_id":20696851,"reputation":19,"user_id":15196879,"display_name":"anoopKumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653557683,"answer_count":0,"score":0,"last_activity_date":1653496977,"creation_date":1653496977,"question_id":72381481,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8ngi5.png\r\n\r\n\r\nHere we will get multiple images so we will have to store all the images under this folder.\r\n    This is the code i am trying but its not working.\r\n    \r\n        for (Part part : request.getParts()) {\r\n        \t\t\tString fileName = filePart.getSubmittedFileName();\r\n        \t\t\tpart.write(&quot;src/main/webapp/WEB-INF/adimages/&quot; + fileName);\r\n        \t\t\tinputStream=part.getInputStream();\r\n        \t\t}\r\n        \r\n    ","title":"save images uploaded by client in this folder in web container using servlet","body":"<p><a href=\"https://i.stack.imgur.com/8ngi5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8ngi5.png\" alt=\"enter image description here\" /></a></p>\n<p>Here we will get multiple images so we will have to store all the images under this folder.\nThis is the code i am trying but its not working.</p>\n<pre><code>    for (Part part : request.getParts()) {\n                String fileName = filePart.getSubmittedFileName();\n                part.write(&quot;src/main/webapp/WEB-INF/adimages/&quot; + fileName);\n                inputStream=part.getInputStream();\n            }\n    \n</code></pre>\n"},{"tags":["java","performance","testing","gatling"],"answers":[{"tags":[],"owner":{"account_id":6852429,"reputation":6319,"user_id":5269205,"display_name":"St&#233;phane LANDELLE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653496751,"creation_date":1653496751,"answer_id":72381441,"question_id":72380284,"body_markdown":"```\r\nhttp.basicAuth(username, pw);\r\nreturn http(name).get(&quot;/rest/activity/me&quot;);\r\n```\r\n\r\nThis does absolutely nothing as HttpProtocolBuilder is [immutable][1].\r\n\r\nI advice you invest some time to read the documentation and the [Gatling Academy][2], you&#39;ll ultimately save a lot of time.\r\n\r\nIf you check `basicAuth`&#39;s [documentation][3], you can see that it can also take Gatling EL expressions, so you could do something like:\r\n1. `.basicAuth(&quot;#{username}&quot;, &quot;#{password}&quot;)`\r\n2. inject for each virtual user the desired key-value pairs, eg with a [feeder][4] or an [exec block with a function][5] \r\n\r\n\r\n  [1]: https://gatling.io/docs/gatling/reference/current/core/concepts/#immutability\r\n  [2]: https://gatling.io/academy/\r\n  [3]: https://gatling.io/docs/gatling/reference/current/http/protocol/#authorization\r\n  [4]: https://gatling.io/docs/gatling/reference/current/core/session/feeder/\r\n  [5]: https://gatling.io/docs/gatling/reference/current/core/scenario/#exec","title":"How to provide unique auth in Gatling to each virtual user (java)?","body":"<pre><code>http.basicAuth(username, pw);\nreturn http(name).get(&quot;/rest/activity/me&quot;);\n</code></pre>\n<p>This does absolutely nothing as HttpProtocolBuilder is <a href=\"https://gatling.io/docs/gatling/reference/current/core/concepts/#immutability\" rel=\"nofollow noreferrer\">immutable</a>.</p>\n<p>I advice you invest some time to read the documentation and the <a href=\"https://gatling.io/academy/\" rel=\"nofollow noreferrer\">Gatling Academy</a>, you'll ultimately save a lot of time.</p>\n<p>If you check <code>basicAuth</code>'s <a href=\"https://gatling.io/docs/gatling/reference/current/http/protocol/#authorization\" rel=\"nofollow noreferrer\">documentation</a>, you can see that it can also take Gatling EL expressions, so you could do something like:</p>\n<ol>\n<li><code>.basicAuth(&quot;#{username}&quot;, &quot;#{password}&quot;)</code></li>\n<li>inject for each virtual user the desired key-value pairs, eg with a <a href=\"https://gatling.io/docs/gatling/reference/current/core/session/feeder/\" rel=\"nofollow noreferrer\">feeder</a> or an <a href=\"https://gatling.io/docs/gatling/reference/current/core/scenario/#exec\" rel=\"nofollow noreferrer\">exec block with a function</a></li>\n</ol>\n"}],"owner":{"account_id":6633181,"reputation":83,"user_id":5121191,"display_name":"Sergey Bokhnyak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":438,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653496751,"creation_date":1653491893,"question_id":72380284,"body_markdown":"I am trying to get a simulation going where each virtual user in Gatling has a unique login/auth and does a bunch of actions that I have recorded and coded up. But I&#39;m struggling to setup the authorization properly. Here&#39;s my code \r\n\r\n```\r\npublic class SampleSimulation extends Simulation {\r\n  static Random rand = new Random();\r\n  HttpProtocolBuilder httpProtocol = http\r\n      .baseUrl(&quot;http://base-url.com&quot;) // Here is the root for all relative URLs\r\n      .acceptHeader(&quot;text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8&quot;) // Here are the common headers\r\n      .acceptEncodingHeader(&quot;gzip, deflate&quot;)\r\n      .acceptLanguageHeader(&quot;en-US,en;q=0.5&quot;)\r\n      .userAgentHeader(&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:16.0) Gecko/20100101 Firefox/16.0&quot;);\r\n      // .basicAuth(&quot;username&quot;, &quot;password&quot;);\r\nstatic ActionBuilder addAuthentication(String name){\r\n    String username = &quot;username&quot;; // generate random username from valid ones\r\n    String pw = &quot;password&quot;;  // generate random password that&#39;s valid for username\r\n    http.basicAuth(username, pw);\r\n    return http(name).get(&quot;/rest/activity/me&quot;);\r\n  }\r\nstatic ActionBuilder getMe(String name){\r\n    return http(name)\r\n        .get(&quot;/rest/activity/me&quot;);\r\n  }\r\n\r\n...\r\n\r\n ScenarioBuilder scn = scenario(&quot;name&quot;)\r\n                        .feed(Utils.getItemIdFeeder())\r\n                        .exec(addAuthentication(&quot;n&quot;))\r\n                        .exec(getMe(&quot;n&quot;)).pause(Duration.ofMillis(300),Duration.ofMillis(750))\r\n                        .exec(postUpdateLocale(&quot;n&quot;)).pause(Duration.ofMillis(0),Duration.ofMillis(4))\r\n                        .exec(getBalance(&quot;n&quot;)).pause(Duration.ofMillis(500), Duration.ofMillis(2000))\r\n                        .exec(getMe(&quot;n&quot;)).pause(Duration.ofMillis(0), Duration.ofMillis(15))\r\n                        .exec(getInventory(&quot;n&quot;)).pause(Duration.ofMillis(100), Duration.ofMillis(250))\r\n                       );\r\n\r\n {\r\n    setUp(scn.injectOpen(nothingFor(4), // 1\r\n              atOnceUsers(10), // 2\r\n              rampUsers(10).during(5)) //, // 3\r\n          .protocols(httpProtocol));\r\n }\r\n}\r\n```\r\n\r\nSo when I provide username and password in the static declaration (the .basicAuth line I have commented out) it works. However each virtual user created by gatling is the same user as far as the server is concerned. If I run the code that I have added here, I get http 401s for all of my requests, which is unauthorized. \r\n\r\nCan anyone please explain to me what I&#39;m doing wrong, what is the proper way of doing credentials in Gatling is? Note that I&#39;m already using a feeder for itemIds.  \r\n\r\nThank you!","title":"How to provide unique auth in Gatling to each virtual user (java)?","body":"<p>I am trying to get a simulation going where each virtual user in Gatling has a unique login/auth and does a bunch of actions that I have recorded and coded up. But I'm struggling to setup the authorization properly. Here's my code</p>\n<pre><code>public class SampleSimulation extends Simulation {\n  static Random rand = new Random();\n  HttpProtocolBuilder httpProtocol = http\n      .baseUrl(&quot;http://base-url.com&quot;) // Here is the root for all relative URLs\n      .acceptHeader(&quot;text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8&quot;) // Here are the common headers\n      .acceptEncodingHeader(&quot;gzip, deflate&quot;)\n      .acceptLanguageHeader(&quot;en-US,en;q=0.5&quot;)\n      .userAgentHeader(&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:16.0) Gecko/20100101 Firefox/16.0&quot;);\n      // .basicAuth(&quot;username&quot;, &quot;password&quot;);\nstatic ActionBuilder addAuthentication(String name){\n    String username = &quot;username&quot;; // generate random username from valid ones\n    String pw = &quot;password&quot;;  // generate random password that's valid for username\n    http.basicAuth(username, pw);\n    return http(name).get(&quot;/rest/activity/me&quot;);\n  }\nstatic ActionBuilder getMe(String name){\n    return http(name)\n        .get(&quot;/rest/activity/me&quot;);\n  }\n\n...\n\n ScenarioBuilder scn = scenario(&quot;name&quot;)\n                        .feed(Utils.getItemIdFeeder())\n                        .exec(addAuthentication(&quot;n&quot;))\n                        .exec(getMe(&quot;n&quot;)).pause(Duration.ofMillis(300),Duration.ofMillis(750))\n                        .exec(postUpdateLocale(&quot;n&quot;)).pause(Duration.ofMillis(0),Duration.ofMillis(4))\n                        .exec(getBalance(&quot;n&quot;)).pause(Duration.ofMillis(500), Duration.ofMillis(2000))\n                        .exec(getMe(&quot;n&quot;)).pause(Duration.ofMillis(0), Duration.ofMillis(15))\n                        .exec(getInventory(&quot;n&quot;)).pause(Duration.ofMillis(100), Duration.ofMillis(250))\n                       );\n\n {\n    setUp(scn.injectOpen(nothingFor(4), // 1\n              atOnceUsers(10), // 2\n              rampUsers(10).during(5)) //, // 3\n          .protocols(httpProtocol));\n }\n}\n</code></pre>\n<p>So when I provide username and password in the static declaration (the .basicAuth line I have commented out) it works. However each virtual user created by gatling is the same user as far as the server is concerned. If I run the code that I have added here, I get http 401s for all of my requests, which is unauthorized.</p>\n<p>Can anyone please explain to me what I'm doing wrong, what is the proper way of doing credentials in Gatling is? Note that I'm already using a feeder for itemIds.</p>\n<p>Thank you!</p>\n"},{"tags":["java","spring-boot","google-api","google-oauth","google-sheets-api"],"comments":[{"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"score":0,"creation_date":1653494258,"post_id":72377110,"comment_id":127867886,"body_markdown":"Your code cannot &quot;bind&quot; (use) port 8080 because it is *already* in use on your machine. You will need to determine what process is using 8080 in order to decide whether you can use it for your code. Alternatively, pick another port and update the redirect. If you&#39;re running Linux you can `ss --tcp --listening --processes` to show all listening ports.  Look for either `8080` or `http-alt` and determine the process (`pid`) and then `pd -p {pid}` replacing `{pid}` with the number.","body":"Your code cannot &quot;bind&quot; (use) port 8080 because it is <i>already</i> in use on your machine. You will need to determine what process is using 8080 in order to decide whether you can use it for your code. Alternatively, pick another port and update the redirect. If you&#39;re running Linux you can <code>ss --tcp --listening --processes</code> to show all listening ports.  Look for either <code>8080</code> or <code>http-alt</code> and determine the process (<code>pid</code>) and then <code>pd -p {pid}</code> replacing <code>{pid}</code> with the number."},{"owner":{"account_id":25274353,"reputation":1,"user_id":19103226,"display_name":"chandu jedidiah immadi"},"score":0,"creation_date":1653496040,"post_id":72377110,"comment_id":127868606,"body_markdown":"the spring boot project is running on 8080. if i use any other port lets say 8888, then how do i get data from that port 8888? and its throwing 404 error as no process is using 8888 port.","body":"the spring boot project is running on 8080. if i use any other port lets say 8888, then how do i get data from that port 8888? and its throwing 404 error as no process is using 8888 port."},{"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"score":0,"creation_date":1653496835,"post_id":72377110,"comment_id":127868911,"body_markdown":"I&#39;m unfamiliar with Spring but it looks as though you&#39;re setting the port in the code above to `8080`. Since it&#39;s throwing a bind error, it suggests it&#39;s trying to run a server too. You can&#39;t bind multiple processes to the same host&#39;s port.","body":"I&#39;m unfamiliar with Spring but it looks as though you&#39;re setting the port in the code above to <code>8080</code>. Since it&#39;s throwing a bind error, it suggests it&#39;s trying to run a server too. You can&#39;t bind multiple processes to the same host&#39;s port."}],"owner":{"account_id":25274353,"reputation":1,"user_id":19103226,"display_name":"chandu jedidiah immadi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653496709,"creation_date":1653479482,"question_id":72377110,"body_markdown":"I am trying to use google sheets apis in my java web application. I am hosting my application in &quot;*http://localhost:8080*&quot; port, and I generated credentials.json file from google cloud console and added &quot;*http://localhost:8080/home*&quot; as redirect uri while generating the file.\r\n\r\nthis is my code to generate Credential object\r\n\r\n```\r\nprivate Credential authorize() throws Exception{\r\n        File file = new ClassPathResource(CREDENTIALS_FILE_PATH).getFile();\r\n        InputStream in = new FileInputStream(file);\r\n        GoogleClientSecrets googleClientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\r\n\r\n        List&lt;String&gt; scopes = Collections.singletonList(SheetsScopes.SPREADSHEETS);\r\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow\r\n                .Builder(\r\n                    GoogleNetHttpTransport.newTrustedTransport(),\r\n                    JSON_FACTORY,\r\n                    googleClientSecrets,\r\n                    scopes)\r\n                .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\r\n                .setAccessType(&quot;offline&quot;)\r\n                .build();\r\n\r\n        LocalServerReceiver localServerReceiver = new LocalServerReceiver\r\n                .Builder().setPort(8080).setCallbackPath(&quot;/home&quot;).build();\r\n\r\n        Credential credential = new AuthorizationCodeInstalledApp(flow,localServerReceiver).authorize(&quot;user&quot;);\r\n        return credential;\r\n    }\r\n```\r\n\r\nAs my application is being hosted on port:8080, i used 8080 as port in redirect uri, but when i run the project, it is throwing *BindException:address already in use* as port 8080 is where i host my application. when i use any other port in setPort(), 404 error is occuring. I am stuck with this for more than a day and i dont understand why i cant use 8080 port because thats where i am hosting my application.\r\n\r\nthis is the error i am getting when i tried to access google sheets from port 8888\r\n\r\n```\r\nHTTP ERROR: 404\r\nProblem accessing /home. Reason:\r\n\r\n    NOT_FOUND\r\nPowered by Jetty://\r\n```","title":"setPort() in LocalServerReciever for generating Credential Object for google api OAUTH in java","body":"<p>I am trying to use google sheets apis in my java web application. I am hosting my application in &quot;<em>http://localhost:8080</em>&quot; port, and I generated credentials.json file from google cloud console and added &quot;<em>http://localhost:8080/home</em>&quot; as redirect uri while generating the file.</p>\n<p>this is my code to generate Credential object</p>\n<pre><code>private Credential authorize() throws Exception{\n        File file = new ClassPathResource(CREDENTIALS_FILE_PATH).getFile();\n        InputStream in = new FileInputStream(file);\n        GoogleClientSecrets googleClientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\n\n        List&lt;String&gt; scopes = Collections.singletonList(SheetsScopes.SPREADSHEETS);\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow\n                .Builder(\n                    GoogleNetHttpTransport.newTrustedTransport(),\n                    JSON_FACTORY,\n                    googleClientSecrets,\n                    scopes)\n                .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\n                .setAccessType(&quot;offline&quot;)\n                .build();\n\n        LocalServerReceiver localServerReceiver = new LocalServerReceiver\n                .Builder().setPort(8080).setCallbackPath(&quot;/home&quot;).build();\n\n        Credential credential = new AuthorizationCodeInstalledApp(flow,localServerReceiver).authorize(&quot;user&quot;);\n        return credential;\n    }\n</code></pre>\n<p>As my application is being hosted on port:8080, i used 8080 as port in redirect uri, but when i run the project, it is throwing <em>BindException:address already in use</em> as port 8080 is where i host my application. when i use any other port in setPort(), 404 error is occuring. I am stuck with this for more than a day and i dont understand why i cant use 8080 port because thats where i am hosting my application.</p>\n<p>this is the error i am getting when i tried to access google sheets from port 8888</p>\n<pre><code>HTTP ERROR: 404\nProblem accessing /home. Reason:\n\n    NOT_FOUND\nPowered by Jetty://\n</code></pre>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":5090314,"reputation":2138,"user_id":4083590,"display_name":"Johny"},"score":1,"creation_date":1487790720,"post_id":19486077,"comment_id":71947579,"body_markdown":"This [link](http://www.geeksforgeeks.org/fast-io-in-java-in-competitive-programming/) has some good solutions","body":"This <a href=\"http://www.geeksforgeeks.org/fast-io-in-java-in-competitive-programming/\" rel=\"nofollow noreferrer\">link</a> has some good solutions"}],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":2,"up_vote_count":46,"is_accepted":true,"score":44,"last_activity_date":1481140535,"creation_date":1382330622,"answer_id":19486413,"question_id":19486077,"body_markdown":"You will find that [`BufferedReader.readLine()`](https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#readLine--) is as fast as you need: you can read millions of lines a second with it. It is more probable that your string splitting and handling is causing whatever performance problems you are encountering.","title":"Java Fastest way to read through text file with 2 million lines","body":"<p>You will find that <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#readLine--\" rel=\"noreferrer\"><code>BufferedReader.readLine()</code></a> is as fast as you need: you can read millions of lines a second with it. It is more probable that your string splitting and handling is causing whatever performance problems you are encountering.</p>\n"},{"tags":[],"owner":{"account_id":2414779,"reputation":14072,"user_id":2109070,"accept_rate":62,"display_name":"Trying"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1382332253,"creation_date":1382331298,"answer_id":19486511,"question_id":19486077,"body_markdown":"you can use [FileChannel][1] and [ByteBuffer][2] from JAVA NIO. ByteBuffer size is the most critical part in reading data faster what i have observed. \r\nBelow code will read the content of the file.\r\n\r\n    static public void main( String args[] ) throws Exception \r\n        {\r\n            FileInputStream fileInputStream = new FileInputStream(\r\n                                            new File(&quot;sample4.txt&quot;));\r\n            FileChannel fileChannel = fileInputStream.getChannel();\r\n            ByteBuffer byteBuffer = ByteBuffer.allocate(1024);\r\n            \r\n            fileChannel.read(byteBuffer);\r\n            byteBuffer.flip();\r\n            int limit = byteBuffer.limit();\r\n            while(limit&gt;0)\r\n            {\r\n                System.out.print((char)byteBuffer.get());\r\n                limit--;\r\n            }\r\n            \r\n            fileChannel.close();\r\n        }\r\n\r\n\r\nYou can check for &#39;\\n&#39; for new line here. Thanks.\r\n\r\n----------\r\n\r\n\r\nEven you can scatter and  getter way to read files faster i.e.\r\n\r\n    fileChannel.get(buffers);\r\n\r\nwhere \r\n\r\n          ByteBuffer b1 = ByteBuffer.allocate(B1);\r\n          ByteBuffer b2 = ByteBuffer.allocate(B2);\r\n          ByteBuffer b3 = ByteBuffer.allocate(B3);\r\n          \r\n          ByteBuffer[] buffers = {b1, b2, b3};\r\n\r\nThis saves the user process to from making several system calls (which can be expensive) and allows kernel to optimize handling of the data because it has information about the total transfer, If multiple CPUs available it may even be possible to fill and drain several buffers simultaneously.\r\n\r\nFrom [this][3] book.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html\r\n  [3]: http://www.amazon.com/Java-Nio-Ron-Hitchens/dp/0596002882/","title":"Java Fastest way to read through text file with 2 million lines","body":"<p>you can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html\" rel=\"nofollow noreferrer\">FileChannel</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html\" rel=\"nofollow noreferrer\">ByteBuffer</a> from JAVA NIO. ByteBuffer size is the most critical part in reading data faster what i have observed. \nBelow code will read the content of the file.</p>\n\n<pre><code>static public void main( String args[] ) throws Exception \n    {\n        FileInputStream fileInputStream = new FileInputStream(\n                                        new File(\"sample4.txt\"));\n        FileChannel fileChannel = fileInputStream.getChannel();\n        ByteBuffer byteBuffer = ByteBuffer.allocate(1024);\n\n        fileChannel.read(byteBuffer);\n        byteBuffer.flip();\n        int limit = byteBuffer.limit();\n        while(limit&gt;0)\n        {\n            System.out.print((char)byteBuffer.get());\n            limit--;\n        }\n\n        fileChannel.close();\n    }\n</code></pre>\n\n<p>You can check for '\\n' for new line here. Thanks.</p>\n\n<hr>\n\n<p>Even you can scatter and  getter way to read files faster i.e.</p>\n\n<pre><code>fileChannel.get(buffers);\n</code></pre>\n\n<p>where </p>\n\n<pre><code>      ByteBuffer b1 = ByteBuffer.allocate(B1);\n      ByteBuffer b2 = ByteBuffer.allocate(B2);\n      ByteBuffer b3 = ByteBuffer.allocate(B3);\n\n      ByteBuffer[] buffers = {b1, b2, b3};\n</code></pre>\n\n<p>This saves the user process to from making several system calls (which can be expensive) and allows kernel to optimize handling of the data because it has information about the total transfer, If multiple CPUs available it may even be possible to fill and drain several buffers simultaneously.</p>\n\n<p>From <a href=\"https://rads.stackoverflow.com/amzn/click/com/0596002882\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">this</a> book.</p>\n"},{"tags":[],"owner":{"account_id":1635218,"reputation":3330,"user_id":1508907,"accept_rate":89,"display_name":"nullptr"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1382332028,"creation_date":1382332028,"answer_id":19486619,"question_id":19486077,"body_markdown":"You must investigate which part of program is taking time.\r\n\r\nAs per answer of EJP, you should use BufferedReader.\r\n\r\nIf really string processing is taking time, then you should consider using threads, one thread will read from file and queues lines. Other string processor threads will dequeue lines and process them. You will need to investigate how many threads to use, the number of threads you should use in application has to be related with number of cores in CPU, in that way will use full CPU.","title":"Java Fastest way to read through text file with 2 million lines","body":"<p>You must investigate which part of program is taking time.</p>\n\n<p>As per answer of EJP, you should use BufferedReader.</p>\n\n<p>If really string processing is taking time, then you should consider using threads, one thread will read from file and queues lines. Other string processor threads will dequeue lines and process them. You will need to investigate how many threads to use, the number of threads you should use in application has to be related with number of cores in CPU, in that way will use full CPU.</p>\n"},{"tags":[],"owner":{"account_id":1367548,"reputation":3154,"user_id":1303680,"accept_rate":47,"display_name":"Pratik Shelar"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1382332318,"creation_date":1382332318,"answer_id":19486664,"question_id":19486077,"body_markdown":"If you wish to read all lines together then you should have a look at the Files API of java 7. Its really simple to use.\r\n\r\nBut a better approach would be to process this file in a batch. Have a reader which reads chunks of lines from the file and a writer which does the required processing or persists the data. Having abatch will ensure that it will work even if the lines increase to billion in future. Also you can have a batch which uses a multithreading to increase theoverall performance of the batch. I would recpmmend that you have a look at spring batch. ","title":"Java Fastest way to read through text file with 2 million lines","body":"<p>If you wish to read all lines together then you should have a look at the Files API of java 7. Its really simple to use.</p>\n\n<p>But a better approach would be to process this file in a batch. Have a reader which reads chunks of lines from the file and a writer which does the required processing or persists the data. Having abatch will ensure that it will work even if the lines increase to billion in future. Also you can have a batch which uses a multithreading to increase theoverall performance of the batch. I would recpmmend that you have a look at spring batch. </p>\n"},{"tags":[],"owner":{"account_id":4833338,"reputation":143,"user_id":3900911,"display_name":"shamsAAzad"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1523504816,"creation_date":1433772969,"answer_id":30711578,"question_id":19486077,"body_markdown":"`Scanner` can&#39;t be as fast as `BufferedReader`, as it uses regular expressions for reading text files, which makes it slower compared to `BufferedReader`. By using `BufferedReader` you can read a block from a text file.\r\n\r\n    BufferedReader bf = new BufferedReader(new FileReader(&quot;FileName&quot;));\r\n\r\nyou can next use [readLine()][1] to read from bf.\r\n\r\nHope it serves your purpose.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/BufferedReader.html#readLine()","title":"Java Fastest way to read through text file with 2 million lines","body":"<p><code>Scanner</code> can't be as fast as <code>BufferedReader</code>, as it uses regular expressions for reading text files, which makes it slower compared to <code>BufferedReader</code>. By using <code>BufferedReader</code> you can read a block from a text file.</p>\n\n<pre><code>BufferedReader bf = new BufferedReader(new FileReader(\"FileName\"));\n</code></pre>\n\n<p>you can next use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/BufferedReader.html#readLine()\" rel=\"noreferrer\">readLine()</a> to read from bf.</p>\n\n<p>Hope it serves your purpose.</p>\n"},{"tags":[],"owner":{"account_id":11027675,"reputation":166,"user_id":8100016,"display_name":"mac7"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1498142787,"creation_date":1498142787,"answer_id":44702721,"question_id":19486077,"body_markdown":"Use [BufferedReader][1] for high performance file access. But the default buffer size of 8192 bytes is often too small. For huge files you can [increase the buffer size][2] by orders of magnitudes to boost your file reading performance. For example:\r\n\r\n    BufferedReader br = new BufferedReader(&quot;file.dat&quot;, 1000 * 8192);\r\n    while ((thisLine = br.readLine()) != null) {\r\n        System.out.println(thisLine);\r\n    }  \r\n\r\n     \r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/java/io/bufferedreader_readline.htm\r\n  [2]: https://stackoverflow.com/questions/4638974/what-is-the-buffer-size-in-bufferedreader","title":"Java Fastest way to read through text file with 2 million lines","body":"<p>Use <a href=\"https://www.tutorialspoint.com/java/io/bufferedreader_readline.htm\" rel=\"nofollow noreferrer\">BufferedReader</a> for high performance file access. But the default buffer size of 8192 bytes is often too small. For huge files you can <a href=\"https://stackoverflow.com/questions/4638974/what-is-the-buffer-size-in-bufferedreader\">increase the buffer size</a> by orders of magnitudes to boost your file reading performance. For example:</p>\n\n<pre><code>BufferedReader br = new BufferedReader(\"file.dat\", 1000 * 8192);\nwhile ((thisLine = br.readLine()) != null) {\n    System.out.println(thisLine);\n}  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2842161,"reputation":572,"user_id":2441561,"display_name":"YAMM"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1614256745,"creation_date":1541360522,"answer_id":53144701,"question_id":19486077,"body_markdown":"I made a [gist][1] comparing different methods:\r\n\r\n    import java.io.*;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    import java.util.ArrayList;\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n    import java.util.function.Function;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            String path = &quot;resources/testfile.txt&quot;;\r\n            measureTime(&quot;BufferedReader.readLine() into LinkedList&quot;, Main::bufferReaderToLinkedList, path);\r\n            measureTime(&quot;BufferedReader.readLine() into ArrayList&quot;, Main::bufferReaderToArrayList, path);\r\n            measureTime(&quot;Files.readAllLines()&quot;, Main::readAllLines, path);\r\n            measureTime(&quot;Scanner.nextLine() into ArrayList&quot;, Main::scannerArrayList, path);\r\n            measureTime(&quot;Scanner.nextLine() into LinkedList&quot;, Main::scannerLinkedList, path);\r\n            measureTime(&quot;RandomAccessFile.readLine() into ArrayList&quot;, Main::randomAccessFileArrayList, path);\r\n            measureTime(&quot;RandomAccessFile.readLine() into LinkedList&quot;, Main::randomAccessFileLinkedList, path);\r\n            System.out.println(&quot;-----------------------------------------------------------&quot;);\r\n        }\r\n    \r\n        private static void measureTime(String name, Function&lt;String, List&lt;String&gt;&gt; fn, String path) {\r\n            System.out.println(&quot;-----------------------------------------------------------&quot;);\r\n            System.out.println(&quot;run: &quot; + name);\r\n            long startTime = System.nanoTime();\r\n            List&lt;String&gt; l = fn.apply(path);\r\n            long estimatedTime = System.nanoTime() - startTime;\r\n            System.out.println(&quot;lines: &quot; + l.size());\r\n            System.out.println(&quot;estimatedTime: &quot; + estimatedTime / 1_000_000_000.);\r\n        }\r\n    \r\n        private static List&lt;String&gt; bufferReaderToLinkedList(String path) {\r\n            return bufferReaderToList(path, new LinkedList&lt;&gt;());\r\n        }\r\n    \r\n        private static List&lt;String&gt; bufferReaderToArrayList(String path) {\r\n            return bufferReaderToList(path, new ArrayList&lt;&gt;());\r\n        }\r\n    \r\n        private static List&lt;String&gt; bufferReaderToList(String path, List&lt;String&gt; list) {\r\n            try {\r\n\t\t\t    final BufferedReader in = new BufferedReader(\r\n\t\t\t\t\tnew InputStreamReader(new FileInputStream(path), StandardCharsets.UTF_8));\r\n\t\t\t    String line;\r\n\t\t\t    while ((line = in.readLine()) != null) {\r\n\t\t\t\t    list.add(line);\r\n\t\t\t    }\r\n\t\t\t    in.close();\r\n\t\t    } catch (final IOException e) {\r\n\t\t\t    e.printStackTrace();\r\n\t\t    }\r\n\t\t    return list;\r\n        }\r\n    \r\n        private static List&lt;String&gt; readAllLines(String path) {\r\n            try {\r\n                return Files.readAllLines(Paths.get(path));\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        private static List&lt;String&gt; randomAccessFileLinkedList(String path) {\r\n            return randomAccessFile(path, new LinkedList&lt;&gt;());\r\n        }\r\n    \r\n        private static List&lt;String&gt; randomAccessFileArrayList(String path) {\r\n            return randomAccessFile(path, new ArrayList&lt;&gt;());\r\n        }\r\n    \r\n        private static List&lt;String&gt; randomAccessFile(String path, List&lt;String&gt; list) {\r\n            try {\r\n                RandomAccessFile file = new RandomAccessFile(path, &quot;r&quot;);\r\n                String str;\r\n                while ((str = file.readLine()) != null) {\r\n                    list.add(str);\r\n                }\r\n                file.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return list;\r\n        }\r\n    \r\n        private static List&lt;String&gt; scannerLinkedList(String path) {\r\n            return scanner(path, new LinkedList&lt;&gt;());\r\n        }\r\n    \r\n        private static List&lt;String&gt; scannerArrayList(String path) {\r\n            return scanner(path, new ArrayList&lt;&gt;());\r\n        }\r\n    \r\n        private static List&lt;String&gt; scanner(String path, List&lt;String&gt; list) {\r\n            try {\r\n                Scanner scanner = new Scanner(new File(path));\r\n                while (scanner.hasNextLine()) {\r\n                    list.add(scanner.nextLine());\r\n                }\r\n                scanner.close();\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return list;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n&gt; run: BufferedReader.readLine() into LinkedList,\r\nlines: 1000000,\r\nestimatedTime: 0.105118655\r\n\r\n&gt; run: BufferedReader.readLine() into ArrayList,\r\nlines: 1000000,\r\nestimatedTime: 0.072696934\r\n\r\n&gt; run: Files.readAllLines(),\r\nlines: 1000000,\r\nestimatedTime: 0.087753316\r\n\r\n&gt; run: Scanner.nextLine() into ArrayList,\r\nlines: 1000000,\r\nestimatedTime: 0.743121734\r\n\r\n&gt; run: Scanner.nextLine() into LinkedList,\r\nlines: 1000000,\r\nestimatedTime: 0.867049885\r\n\r\n&gt; run: RandomAccessFile.readLine() into ArrayList,\r\nlines: 1000000,\r\nestimatedTime: 11.413323046\r\n\r\n&gt; run: RandomAccessFile.readLine() into LinkedList,\r\nlines: 1000000,\r\nestimatedTime: 11.423862897\r\n\r\n\r\n`BufferedReader` is the fastest, `Files.readAllLines()` is also acceptable, `Scanner` is slow due to regex, `RandomAccessFile` is inacceptable\r\n\r\n  [1]: https://gist.github.com/mo-ba/a4bcb10ca709c9f31f014cbf655768d7","title":"Java Fastest way to read through text file with 2 million lines","body":"<p>I made a <a href=\"https://gist.github.com/mo-ba/a4bcb10ca709c9f31f014cbf655768d7\" rel=\"noreferrer\">gist</a> comparing different methods:</p>\n<pre><code>import java.io.*;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.ArrayList;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.Scanner;\nimport java.util.function.Function;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        String path = &quot;resources/testfile.txt&quot;;\n        measureTime(&quot;BufferedReader.readLine() into LinkedList&quot;, Main::bufferReaderToLinkedList, path);\n        measureTime(&quot;BufferedReader.readLine() into ArrayList&quot;, Main::bufferReaderToArrayList, path);\n        measureTime(&quot;Files.readAllLines()&quot;, Main::readAllLines, path);\n        measureTime(&quot;Scanner.nextLine() into ArrayList&quot;, Main::scannerArrayList, path);\n        measureTime(&quot;Scanner.nextLine() into LinkedList&quot;, Main::scannerLinkedList, path);\n        measureTime(&quot;RandomAccessFile.readLine() into ArrayList&quot;, Main::randomAccessFileArrayList, path);\n        measureTime(&quot;RandomAccessFile.readLine() into LinkedList&quot;, Main::randomAccessFileLinkedList, path);\n        System.out.println(&quot;-----------------------------------------------------------&quot;);\n    }\n\n    private static void measureTime(String name, Function&lt;String, List&lt;String&gt;&gt; fn, String path) {\n        System.out.println(&quot;-----------------------------------------------------------&quot;);\n        System.out.println(&quot;run: &quot; + name);\n        long startTime = System.nanoTime();\n        List&lt;String&gt; l = fn.apply(path);\n        long estimatedTime = System.nanoTime() - startTime;\n        System.out.println(&quot;lines: &quot; + l.size());\n        System.out.println(&quot;estimatedTime: &quot; + estimatedTime / 1_000_000_000.);\n    }\n\n    private static List&lt;String&gt; bufferReaderToLinkedList(String path) {\n        return bufferReaderToList(path, new LinkedList&lt;&gt;());\n    }\n\n    private static List&lt;String&gt; bufferReaderToArrayList(String path) {\n        return bufferReaderToList(path, new ArrayList&lt;&gt;());\n    }\n\n    private static List&lt;String&gt; bufferReaderToList(String path, List&lt;String&gt; list) {\n        try {\n            final BufferedReader in = new BufferedReader(\n                new InputStreamReader(new FileInputStream(path), StandardCharsets.UTF_8));\n            String line;\n            while ((line = in.readLine()) != null) {\n                list.add(line);\n            }\n            in.close();\n        } catch (final IOException e) {\n            e.printStackTrace();\n        }\n        return list;\n    }\n\n    private static List&lt;String&gt; readAllLines(String path) {\n        try {\n            return Files.readAllLines(Paths.get(path));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n    private static List&lt;String&gt; randomAccessFileLinkedList(String path) {\n        return randomAccessFile(path, new LinkedList&lt;&gt;());\n    }\n\n    private static List&lt;String&gt; randomAccessFileArrayList(String path) {\n        return randomAccessFile(path, new ArrayList&lt;&gt;());\n    }\n\n    private static List&lt;String&gt; randomAccessFile(String path, List&lt;String&gt; list) {\n        try {\n            RandomAccessFile file = new RandomAccessFile(path, &quot;r&quot;);\n            String str;\n            while ((str = file.readLine()) != null) {\n                list.add(str);\n            }\n            file.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return list;\n    }\n\n    private static List&lt;String&gt; scannerLinkedList(String path) {\n        return scanner(path, new LinkedList&lt;&gt;());\n    }\n\n    private static List&lt;String&gt; scannerArrayList(String path) {\n        return scanner(path, new ArrayList&lt;&gt;());\n    }\n\n    private static List&lt;String&gt; scanner(String path, List&lt;String&gt; list) {\n        try {\n            Scanner scanner = new Scanner(new File(path));\n            while (scanner.hasNextLine()) {\n                list.add(scanner.nextLine());\n            }\n            scanner.close();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n        return list;\n    }\n\n\n}\n</code></pre>\n<blockquote>\n<p>run: BufferedReader.readLine() into LinkedList,\nlines: 1000000,\nestimatedTime: 0.105118655</p>\n</blockquote>\n<blockquote>\n<p>run: BufferedReader.readLine() into ArrayList,\nlines: 1000000,\nestimatedTime: 0.072696934</p>\n</blockquote>\n<blockquote>\n<p>run: Files.readAllLines(),\nlines: 1000000,\nestimatedTime: 0.087753316</p>\n</blockquote>\n<blockquote>\n<p>run: Scanner.nextLine() into ArrayList,\nlines: 1000000,\nestimatedTime: 0.743121734</p>\n</blockquote>\n<blockquote>\n<p>run: Scanner.nextLine() into LinkedList,\nlines: 1000000,\nestimatedTime: 0.867049885</p>\n</blockquote>\n<blockquote>\n<p>run: RandomAccessFile.readLine() into ArrayList,\nlines: 1000000,\nestimatedTime: 11.413323046</p>\n</blockquote>\n<blockquote>\n<p>run: RandomAccessFile.readLine() into LinkedList,\nlines: 1000000,\nestimatedTime: 11.423862897</p>\n</blockquote>\n<p><code>BufferedReader</code> is the fastest, <code>Files.readAllLines()</code> is also acceptable, <code>Scanner</code> is slow due to regex, <code>RandomAccessFile</code> is inacceptable</p>\n"},{"tags":[],"owner":{"account_id":3156367,"reputation":520,"user_id":2668689,"accept_rate":67,"display_name":"Digao"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550071002,"creation_date":1550071002,"answer_id":54673523,"question_id":19486077,"body_markdown":"just updating this thread, now we have java 8 to do this job:\r\n\r\n    List&lt;String&gt; lines = Files.readAllLines(Paths.get(file_path);\r\n\r\n","title":"Java Fastest way to read through text file with 2 million lines","body":"<p>just updating this thread, now we have java 8 to do this job:</p>\n\n<pre><code>List&lt;String&gt; lines = Files.readAllLines(Paths.get(file_path);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":177828,"reputation":660,"user_id":409410,"display_name":"arviarya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653496678,"creation_date":1653496678,"answer_id":72381425,"question_id":19486077,"body_markdown":"You can read the file in chunks if there are millions of records. That will avoid potential memory issue. You need to keep last pointer to calculate offset of file.\r\n\r\n \r\n\r\n    try (FileReader reader = new FileReader(filePath);\r\n                    BufferedReader bufferedReader = new BufferedReader(reader);) {\r\n    \r\n                int pageOffset = lastOffset + counter;\r\n                int skipRecords = (pageOffset - 1) * batchSize;\r\n    \r\n                bufferedReader.lines().skip(skipRecords).forEach(cline -&gt; {\r\n                    try {\r\n                        // PRINT\r\n                        \r\n                    }","title":"Java Fastest way to read through text file with 2 million lines","body":"<p>You can read the file in chunks if there are millions of records. That will avoid potential memory issue. You need to keep last pointer to calculate offset of file.</p>\n<pre><code>try (FileReader reader = new FileReader(filePath);\n                BufferedReader bufferedReader = new BufferedReader(reader);) {\n\n            int pageOffset = lastOffset + counter;\n            int skipRecords = (pageOffset - 1) * batchSize;\n\n            bufferedReader.lines().skip(skipRecords).forEach(cline -&gt; {\n                try {\n                    // PRINT\n                    \n                }\n</code></pre>\n"}],"owner":{"account_id":3360432,"reputation":893,"user_id":2822351,"accept_rate":55,"display_name":"BeyondProgrammer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122672,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":19486413,"answer_count":9,"score":40,"last_activity_date":1653496678,"creation_date":1382328282,"question_id":19486077,"body_markdown":"Currently I am using scanner/filereader and using while hasnextline. I think this method is not highly efficient. Is there any other method to read file with the similar functionality of this? \r\n\r\n    public void Read(String file) {\r\n    \t\tScanner sc = null;\r\n    \r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tsc = new Scanner(new FileReader(file));\r\n    \r\n    \t\t\twhile (sc.hasNextLine()) {\r\n    \t\t\t\tString text = sc.nextLine();\r\n    \t\t\t\tString[] file_Array = text.split(&quot; &quot;, 3);\r\n    \r\n    \t\t\t\tif (file_Array[0].equalsIgnoreCase(&quot;case&quot;)) {\r\n    \t\t\t\t\t//do something\r\n    \t\t\t\t} else if (file_Array[0].equalsIgnoreCase(&quot;object&quot;)) {\r\n    \t\t\t\t\t//do something\r\n    \t\t\t\t} else if (file_Array[0].equalsIgnoreCase(&quot;classes&quot;)) {\r\n    \t\t\t\t\t//do something\r\n    \t\t\t\t} else if (file_Array[0].equalsIgnoreCase(&quot;function&quot;)) {\r\n    \t\t\t\t\t//do something\r\n    \t\t\t\t} \r\n    \t\t\t\telse if (file_Array[0].equalsIgnoreCase(&quot;ignore&quot;)) {\r\n    \t\t\t\t\t//do something\r\n    \t\t\t\t}\r\n    \t\t\t\telse if (file_Array[0].equalsIgnoreCase(&quot;display&quot;)) {\r\n    \t\t\t\t\t//do something\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t} catch (FileNotFoundException e) {\r\n    \t\t\tSystem.out.println(&quot;Input file &quot; + file + &quot; not found&quot;);\r\n    \t\t\tSystem.exit(1);\r\n    \t\t} finally {\r\n    \t\t\tsc.close();\r\n    \t\t}\r\n    \t}","title":"Java Fastest way to read through text file with 2 million lines","body":"<p>Currently I am using scanner/filereader and using while hasnextline. I think this method is not highly efficient. Is there any other method to read file with the similar functionality of this? </p>\n\n<pre><code>public void Read(String file) {\n        Scanner sc = null;\n\n\n        try {\n            sc = new Scanner(new FileReader(file));\n\n            while (sc.hasNextLine()) {\n                String text = sc.nextLine();\n                String[] file_Array = text.split(\" \", 3);\n\n                if (file_Array[0].equalsIgnoreCase(\"case\")) {\n                    //do something\n                } else if (file_Array[0].equalsIgnoreCase(\"object\")) {\n                    //do something\n                } else if (file_Array[0].equalsIgnoreCase(\"classes\")) {\n                    //do something\n                } else if (file_Array[0].equalsIgnoreCase(\"function\")) {\n                    //do something\n                } \n                else if (file_Array[0].equalsIgnoreCase(\"ignore\")) {\n                    //do something\n                }\n                else if (file_Array[0].equalsIgnoreCase(\"display\")) {\n                    //do something\n                }\n            }\n\n        } catch (FileNotFoundException e) {\n            System.out.println(\"Input file \" + file + \" not found\");\n            System.exit(1);\n        } finally {\n            sc.close();\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":25373112,"reputation":141,"user_id":19186589,"display_name":"HARI HARAN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653494949,"creation_date":1653494949,"answer_id":72381021,"question_id":72379485,"body_markdown":"I&#39;m not completely clear on your requirement, but assuming you need to change the endpoint dynamically this might help you.\r\n\r\nYou can use placeholders, something like,\r\n```\r\n@RestController\r\n@GetMapping(&quot;${url1}&quot;)\r\npublic void ping(){\r\n...\r\n}\r\n//for using url1 from properties file\r\n```\r\n\r\n```\r\n@RestController\r\n@GetMapping(&quot;${url2}&quot;)\r\npublic void ping(){\r\n...\r\n}\r\n//for using url2 from properties file.\r\n```\r\n\r\nHowever, you need to restart the application each time you need to change.","title":"How to Create Dynamic Request Mapping based on Properties file in SpringBoot","body":"<p>I'm not completely clear on your requirement, but assuming you need to change the endpoint dynamically this might help you.</p>\n<p>You can use placeholders, something like,</p>\n<pre><code>@RestController\n@GetMapping(&quot;${url1}&quot;)\npublic void ping(){\n...\n}\n//for using url1 from properties file\n</code></pre>\n<pre><code>@RestController\n@GetMapping(&quot;${url2}&quot;)\npublic void ping(){\n...\n}\n//for using url2 from properties file.\n</code></pre>\n<p>However, you need to restart the application each time you need to change.</p>\n"}],"owner":{"account_id":25387109,"reputation":1,"user_id":19198730,"display_name":"Rahul Maurya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653496649,"creation_date":1653488833,"question_id":72379485,"body_markdown":"I am trying to make a RESTApi Application using java SpringBoot.I stuck with a scenario suppose i have configure.properties file loaded with all the endpoints.\r\n\r\n**configure.properties**\r\n```\r\nurl1=/endpoint1\r\nurl2=/endpoint2\r\n....\r\n```\r\nNow in controller class, I need to create @RequestMapping in such a way that whenever i add/delete endpoints from properties file then with only one method it adapts it. I no need to manually go in controller class file to do something.\r\n\r\n**Controller.class**\r\n```\r\n@RestController\r\n@GetMapping(...)\r\npublic void ping(){\r\n...\r\n}\r\n```\r\nAny help would be appreciated.\r\n\r\nEdited:\r\nJust to clarify more I do not want to create separate methods for all endpoints and also in future if I add more endpoints in the properties file then that also should be handled by only a single method without modifying anything in controller class","title":"How to Create Dynamic Request Mapping based on Properties file in SpringBoot","body":"<p>I am trying to make a RESTApi Application using java SpringBoot.I stuck with a scenario suppose i have configure.properties file loaded with all the endpoints.</p>\n<p><strong>configure.properties</strong></p>\n<pre><code>url1=/endpoint1\nurl2=/endpoint2\n....\n</code></pre>\n<p>Now in controller class, I need to create @RequestMapping in such a way that whenever i add/delete endpoints from properties file then with only one method it adapts it. I no need to manually go in controller class file to do something.</p>\n<p><strong>Controller.class</strong></p>\n<pre><code>@RestController\n@GetMapping(...)\npublic void ping(){\n...\n}\n</code></pre>\n<p>Any help would be appreciated.</p>\n<p>Edited:\nJust to clarify more I do not want to create separate methods for all endpoints and also in future if I add more endpoints in the properties file then that also should be handled by only a single method without modifying anything in controller class</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":4,"creation_date":1653496784,"post_id":72381397,"comment_id":127868888,"body_markdown":"*I dont quite understand how to use java swing to draw something* - start with the Swing tutorial on [Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) for step by step examples. Download the examples and play with them to practice simple painting. *I want it to be like the online editor* -  You need to learn the basics first before attempting something that complicated. The code posted here is the wrong structure for painting. You need to override the paintComponent(...) method of your custom painting panel.","body":"<i>I dont quite understand how to use java swing to draw something</i> - start with the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Custom Painting</a> for step by step examples. Download the examples and play with them to practice simple painting. <i>I want it to be like the online editor</i> -  You need to learn the basics first before attempting something that complicated. The code posted here is the wrong structure for painting. You need to override the paintComponent(...) method of your custom painting panel."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1653507104,"post_id":72381397,"comment_id":127872337,"body_markdown":"For reusability sake, it is better to extend JPanel or anything other than JFrame or any of the window components (JWindow, JDialog).","body":"For reusability sake, it is better to extend JPanel or anything other than JFrame or any of the window components (JWindow, JDialog)."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1653534302,"post_id":72381397,"comment_id":127877570,"body_markdown":"An addendum to the advice of @ControlAltDel. The code above is setting a 500 x 500 size for the frame which means the `JPanel panel` will *not* be square. When extending the panel, override the `getPreferredSize` method to return a square dimension, then `pack()` the frame to fit around it.","body":"An addendum to the advice of @ControlAltDel. The code above is setting a 500 x 500 size for the frame which means the <code>JPanel panel</code> will <i>not</i> be square. When extending the panel, override the <code>getPreferredSize</code> method to return a square dimension, then <code>pack()</code> the frame to fit around it."}],"owner":{"account_id":24166521,"reputation":1,"user_id":18129272,"display_name":"G4mingJon4s"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653496547,"creation_date":1653496547,"question_id":72381397,"body_markdown":"I dont quite understand how to use java swing to draw something. I have:\r\n\r\n    public class MyFrame extends JFrame {\r\n\r\n    public MyFrame(){\r\n        this.setBackground(Color.GRAY);\r\n        this.setPreferredSize(new Dimension(500, 500));\r\n        this.pack();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        JFrame frame = new MyFrame();\r\n        JPanel panel = new JPanel();\r\n\r\n        Graphics g = panel.getGraphics();\r\n\r\n        g.setColor(Color.BLACK);\r\n        g.drawLine(0, 250,500,250);\r\n\r\n        panel.update(g);\r\n\r\n        frame.add(panel);\r\n\r\n        frame.setVisible(true);\r\n        frame.setFocusable(true);\r\n        frame.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    }\r\nThis just gives me a empty frame. My thought process:\r\n1. Make Frame.\r\n2. Add &quot;Canvas&quot;.\r\n3. Get Graphics of &quot;Canvas&quot;.\r\n4. Draw something.\r\n5. Update Graphics.\r\n\r\nHow can I draw lines and points properly and as simple as possible? For example to make graph theory algorithms or draw math graphs...\r\nFor me, all of the docs Ive seen so far just make new classes which override certain methods to draw lines, which is really confusing...\r\nI want it to be like the online editor p5.js, but in java...","title":"Getting started using java swing to draw","body":"<p>I dont quite understand how to use java swing to draw something. I have:</p>\n<pre><code>public class MyFrame extends JFrame {\n\npublic MyFrame(){\n    this.setBackground(Color.GRAY);\n    this.setPreferredSize(new Dimension(500, 500));\n    this.pack();\n}\n\npublic static void main(String[] args) {\n    JFrame frame = new MyFrame();\n    JPanel panel = new JPanel();\n\n    Graphics g = panel.getGraphics();\n\n    g.setColor(Color.BLACK);\n    g.drawLine(0, 250,500,250);\n\n    panel.update(g);\n\n    frame.add(panel);\n\n    frame.setVisible(true);\n    frame.setFocusable(true);\n    frame.setDefaultCloseOperation(EXIT_ON_CLOSE);\n}\n</code></pre>\n<p>This just gives me a empty frame. My thought process:</p>\n<ol>\n<li>Make Frame.</li>\n<li>Add &quot;Canvas&quot;.</li>\n<li>Get Graphics of &quot;Canvas&quot;.</li>\n<li>Draw something.</li>\n<li>Update Graphics.</li>\n</ol>\n<p>How can I draw lines and points properly and as simple as possible? For example to make graph theory algorithms or draw math graphs...\nFor me, all of the docs Ive seen so far just make new classes which override certain methods to draw lines, which is really confusing...\nI want it to be like the online editor p5.js, but in java...</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1653496738,"post_id":72381356,"comment_id":127868870,"body_markdown":"You should try printing `typeDeCuisson` before the swtich, and you&#39;ll see it doesn&#39;t print what you typed. The switch-case isnt the problem. But for future questions, please consider making a [mcve]","body":"You should try printing <code>typeDeCuisson</code> before the swtich, and you&#39;ll see it doesn&#39;t print what you typed. The switch-case isnt the problem. But for future questions, please consider making a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1653496763,"post_id":72381356,"comment_id":127868880,"body_markdown":"Put `scanner.next();` right after your `scanner.nextInt();` and see if it helps.  See https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo","body":"Put <code>scanner.next();</code> right after your <code>scanner.nextInt();</code> and see if it helps.  See <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\" title=\"scanner is skipping nextline after using next or nextfoo\">stackoverflow.com/questions/13102045/&hellip;</a>"},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1653499267,"post_id":72381356,"comment_id":127869749,"body_markdown":"@user16320675 - Yes. `nextLine`.","body":"@user16320675 - Yes. <code>nextLine</code>."}],"owner":{"account_id":3659781,"reputation":157,"user_id":3049922,"accept_rate":0,"display_name":"user3049922"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653496694,"answer_count":0,"score":0,"last_activity_date":1653496361,"creation_date":1653496361,"question_id":72381356,"body_markdown":"I just start to learn Java and I don&#39;t understand why in the code above the third question goes to the default case of the second switch, but if I put this question as the second and the second as the third it works well. Any idea (maybe some variable declaration/type error?)? Thanks in advance for your help.  \r\n\r\n    package fr.one.cook;\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class cook1 {\r\n\r\n\t   public static void main(String[] args) {\r\n\r\n\t\t  int CUIRE_DU_BOEUF = 500;\r\n\t\t  int CUIRE_De_LAGNEAU = 400;\r\n\t\t  int SECONDES = 60;\r\n\t\t  int poidsDemande = 0;\r\n\t\t  String typeDeViande;\r\n\t\t  String typeDeCuisson;\r\n\t\t  float tempsDeCuisson;\r\n\t\t  int coefDeCuisson;\r\n\t\t  float coef;\r\n\t\t\r\n\t\t  Scanner scanner = new Scanner(System.in);\r\n\t\t\r\n\t\t  System.out.println(&quot;Saisissez le type de viande (Boeuf ou Agneau) :&quot;);\t\t\r\n\t\t  typeDeViande = scanner.nextLine();\r\n\t\t\t\t\r\n\t\t  System.out.println(&quot;Saisissez le poid de la viande (en gramme) :&quot;);\t\t\r\n\t\t  poidsDemande = scanner.nextInt();\r\n\t\t\r\n\t\t  // Third question that not work as expected\r\n\t\t  System.out.println(&quot;Saisissez le type de cuisson (bleu, &#224; point ou bien cuit) :&quot;);\r\n\t\t  typeDeCuisson = scanner.nextLine();\t\t\t\r\n\t\t\r\n\t\t  scanner.close(); \r\n\r\n\t\t  switch (typeDeViande) {\r\n\t\t\tcase &quot;Boeuf&quot;: \t\t\t\t\r\n\t\t\t\tswitch (typeDeCuisson) \r\n\t\t\t\t{\t\t\t\t\t\r\n\t\t\t\t\tcase &quot;bleu&quot;: \r\n\t\t\t\t\t\tSystem.out.println(&quot;bleu&quot;);\r\n\t\t\t\t\t\tcoef = poidsDemande/CUIRE_DU_BOEUF;\r\n\t\t\t\t\t\tcoefDeCuisson = 10;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\ttempsDeCuisson =  coef*coefDeCuisson;\r\n\t\t\t\t\t\ttempsDeCuisson = tempsDeCuisson*SECONDES;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tSystem.out.println(&quot;Votre temps de cuisson est de &quot; + tempsDeCuisson + &quot;secondes&quot;);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tcase &quot;&#224; point&quot;: \r\n\t\t\t\t\t\tSystem.out.println(&quot;&#224; point&quot;);\r\n\t\t\t\t\t\tcoef = poidsDemande/CUIRE_DU_BOEUF;\r\n\t\t\t\t\t\tcoefDeCuisson = 17;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\ttempsDeCuisson =  coef*coefDeCuisson;\r\n\t\t\t\t\t\ttempsDeCuisson = tempsDeCuisson*SECONDES;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tSystem.out.println(&quot;Votre temps de cuisson est de &quot; + tempsDeCuisson + &quot;secondes&quot;);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\t\tcase &quot;bien cuit&quot;: \r\n\t\t\t\t\t\tSystem.out.println(&quot;bien cuit&quot;);\r\n\t\t\t\t\t\tcoef = poidsDemande/CUIRE_DU_BOEUF;\r\n\t\t\t\t\t\tcoefDeCuisson = 25;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\ttempsDeCuisson =  coef*coefDeCuisson;\r\n\t\t\t\t\t\ttempsDeCuisson = tempsDeCuisson*SECONDES;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tSystem.out.println(&quot;Votre temps de cuisson est de &quot; + tempsDeCuisson + &quot;secondes&quot;);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tdefault: \r\n\t\t\t\t\t    // Third question goes here directly (= error)\r\n\t\t\t\t\t\tSystem.out.println(&quot;Type de cuisson invalide (Boeuf)&quot;);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t} // boeuf\r\n\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase &quot;Agneau&quot;:\t\t\t\t\r\n\t\t\t\tswitch (typeDeCuisson) {\t\t\t\t\t\r\n\t\t\t\t\tcase &quot;bleu&quot;: \r\n\t\t\t\t\t\tcoef = poidsDemande/CUIRE_De_LAGNEAU;\r\n\t\t\t\t\t\tcoefDeCuisson = 15;\t\t\t\t\t\t\r\n\t\t\t\t\t\ttempsDeCuisson =  coef*coefDeCuisson;\r\n\t\t\t\t\t\ttempsDeCuisson = tempsDeCuisson*SECONDES;\t\t\t\t\t\t\r\n\t\t\t\t\t\tSystem.out.println(&quot;Votre temps de cuisson est de &quot; + tempsDeCuisson + &quot;secondes&quot;);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tcase &quot;&#224; point&quot;: \r\n\t\t\t\t\t\tcoef = poidsDemande/CUIRE_De_LAGNEAU;\r\n\t\t\t\t\t\tcoefDeCuisson = 25;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\ttempsDeCuisson =  coef*coefDeCuisson;\r\n\t\t\t\t\t\ttempsDeCuisson = tempsDeCuisson*SECONDES;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tSystem.out.println(&quot;Votre temps de cuisson est de &quot; + tempsDeCuisson + &quot;secondes&quot;);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\t\tcase &quot;bien cuit&quot; : \r\n\t\t\t\t\t\tcoef = poidsDemande/CUIRE_De_LAGNEAU;\r\n\t\t\t\t\t\tcoefDeCuisson = 40;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\ttempsDeCuisson =  coef*coefDeCuisson;\r\n\t\t\t\t\t\ttempsDeCuisson = tempsDeCuisson*SECONDES;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tSystem.out.println(&quot;Votre temps de cuisson est de &quot; + tempsDeCuisson + &quot;secondes&quot;);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tdefault : \r\n\t\t\t\t\t\tSystem.out.println(&quot;Type de cuisson invalide&quot;);\r\n\t\t\t            break;\r\n\t\t\t\t\t} // Agneau\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tdefault : \r\n\t\t\t\t\tSystem.out.println(&quot;Type de viande invalide (Agneau)&quot;);\r\n\t\t\t\t\tbreak;\t\t\r\n\t\t}\r\n     }\r\n    }","title":"Switch goes to default","body":"<p>I just start to learn Java and I don't understand why in the code above the third question goes to the default case of the second switch, but if I put this question as the second and the second as the third it works well. Any idea (maybe some variable declaration/type error?)? Thanks in advance for your help.</p>\n<pre><code>package fr.one.cook;\n\nimport java.util.Scanner;\n\npublic class cook1 {\n\n   public static void main(String[] args) {\n\n      int CUIRE_DU_BOEUF = 500;\n      int CUIRE_De_LAGNEAU = 400;\n      int SECONDES = 60;\n      int poidsDemande = 0;\n      String typeDeViande;\n      String typeDeCuisson;\n      float tempsDeCuisson;\n      int coefDeCuisson;\n      float coef;\n    \n      Scanner scanner = new Scanner(System.in);\n    \n      System.out.println(&quot;Saisissez le type de viande (Boeuf ou Agneau) :&quot;);        \n      typeDeViande = scanner.nextLine();\n            \n      System.out.println(&quot;Saisissez le poid de la viande (en gramme) :&quot;);       \n      poidsDemande = scanner.nextInt();\n    \n      // Third question that not work as expected\n      System.out.println(&quot;Saisissez le type de cuisson (bleu, à point ou bien cuit) :&quot;);\n      typeDeCuisson = scanner.nextLine();           \n    \n      scanner.close(); \n\n      switch (typeDeViande) {\n        case &quot;Boeuf&quot;:               \n            switch (typeDeCuisson) \n            {                   \n                case &quot;bleu&quot;: \n                    System.out.println(&quot;bleu&quot;);\n                    coef = poidsDemande/CUIRE_DU_BOEUF;\n                    coefDeCuisson = 10;\n                    \n                    tempsDeCuisson =  coef*coefDeCuisson;\n                    tempsDeCuisson = tempsDeCuisson*SECONDES;\n                    \n                    System.out.println(&quot;Votre temps de cuisson est de &quot; + tempsDeCuisson + &quot;secondes&quot;);\n                    break;\n                    \n                case &quot;à point&quot;: \n                    System.out.println(&quot;à point&quot;);\n                    coef = poidsDemande/CUIRE_DU_BOEUF;\n                    coefDeCuisson = 17;\n                    \n                    tempsDeCuisson =  coef*coefDeCuisson;\n                    tempsDeCuisson = tempsDeCuisson*SECONDES;\n                    \n                    System.out.println(&quot;Votre temps de cuisson est de &quot; + tempsDeCuisson + &quot;secondes&quot;);\n                    break;\n                \n                case &quot;bien cuit&quot;: \n                    System.out.println(&quot;bien cuit&quot;);\n                    coef = poidsDemande/CUIRE_DU_BOEUF;\n                    coefDeCuisson = 25;\n                    \n                    tempsDeCuisson =  coef*coefDeCuisson;\n                    tempsDeCuisson = tempsDeCuisson*SECONDES;\n                    \n                    System.out.println(&quot;Votre temps de cuisson est de &quot; + tempsDeCuisson + &quot;secondes&quot;);\n                    break;\n                    \n                default: \n                    // Third question goes here directly (= error)\n                    System.out.println(&quot;Type de cuisson invalide (Boeuf)&quot;);\n                    break;\n                } // boeuf\n        \n            break;\n            \n        case &quot;Agneau&quot;:              \n            switch (typeDeCuisson) {                    \n                case &quot;bleu&quot;: \n                    coef = poidsDemande/CUIRE_De_LAGNEAU;\n                    coefDeCuisson = 15;                     \n                    tempsDeCuisson =  coef*coefDeCuisson;\n                    tempsDeCuisson = tempsDeCuisson*SECONDES;                       \n                    System.out.println(&quot;Votre temps de cuisson est de &quot; + tempsDeCuisson + &quot;secondes&quot;);\n                    break;\n                    \n                case &quot;à point&quot;: \n                    coef = poidsDemande/CUIRE_De_LAGNEAU;\n                    coefDeCuisson = 25;\n                    \n                    tempsDeCuisson =  coef*coefDeCuisson;\n                    tempsDeCuisson = tempsDeCuisson*SECONDES;\n                    \n                    System.out.println(&quot;Votre temps de cuisson est de &quot; + tempsDeCuisson + &quot;secondes&quot;);\n                    break;\n                \n                case &quot;bien cuit&quot; : \n                    coef = poidsDemande/CUIRE_De_LAGNEAU;\n                    coefDeCuisson = 40;\n                    \n                    tempsDeCuisson =  coef*coefDeCuisson;\n                    tempsDeCuisson = tempsDeCuisson*SECONDES;\n                    \n                    System.out.println(&quot;Votre temps de cuisson est de &quot; + tempsDeCuisson + &quot;secondes&quot;);\n                    break;\n                    \n                default : \n                    System.out.println(&quot;Type de cuisson invalide&quot;);\n                    break;\n                } // Agneau\n            break;\n            \n            default : \n                System.out.println(&quot;Type de viande invalide (Agneau)&quot;);\n                break;      \n    }\n }\n}\n</code></pre>\n"},{"tags":["java","mysql","jdbc","sql-insert"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1653486923,"post_id":72378517,"comment_id":127864603,"body_markdown":"`for(int i = 0;i&lt;resultSet.getMetaData().getColumnCount(); i++)preparedStatement.setObject(i, SQLInsert[i], resultSet.getMetaData().getColumnType(i));`","body":"<code>for(int i = 0;i&lt;resultSet.getMetaData().getColumnCount(); i++)preparedStatement.setObject(i, SQLInsert[i], resultSet.getMetaData().getColumnType(i));</code>"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1653489298,"post_id":72378517,"comment_id":127865699,"body_markdown":"Any error? Do you have transactions?","body":"Any error? Do you have transactions?"},{"owner":{"account_id":21765216,"reputation":109,"user_id":16069214,"display_name":"Enes Sabi"},"score":0,"creation_date":1653489511,"post_id":72378517,"comment_id":127865782,"body_markdown":"Sorry, but commenting is new for me :D\nThe problem is it doesn&#39;t insert it into the database.\nIf I add e.g. \n```\nString[] SQLI = SQLInsert.split(Pattern.quote(&quot;,&quot;));\nfor(int i = 1;i&lt;resultSet.getMetaData().getColumnCount(); i++) {\n                preparedStatement.setObject(i, SQLI[i], resultSet.getMetaData().getColumnType(i));\n            }\n```\n```\nBAT,69,Turkey,Batman,30,50;\n```","body":"Sorry, but commenting is new for me :D The problem is it doesn&#39;t insert it into the database. If I add e.g.  ``` String[] SQLI = SQLInsert.split(Pattern.quote(&quot;,&quot;)); for(int i = 1;i&lt;resultSet.getMetaData().getColumnCount(); i++) {                 preparedStatement.setObject(i, SQLI[i], resultSet.getMetaData().getColumnType(i));             } ``` ``` BAT,69,Turkey,Batman,30,50; ```"},{"owner":{"account_id":21765216,"reputation":109,"user_id":16069214,"display_name":"Enes Sabi"},"score":0,"creation_date":1653489638,"post_id":72378517,"comment_id":127865835,"body_markdown":"It doesn&#39;t throw an error","body":"It doesn&#39;t throw an error"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1653489684,"post_id":72378517,"comment_id":127865859,"body_markdown":"For-loop should start at 0 and `preparedStatement.setObject(i+1, SQLI[i], resultSet.getMetaData().getColumnType(i));`. SQLi and `getColumnType` are 0 based","body":"For-loop should start at 0 and <code>preparedStatement.setObject(i+1, SQLI[i], resultSet.getMetaData().getColumnType(i));</code>. SQLi and <code>getColumnType</code> are 0 based"},{"owner":{"account_id":21765216,"reputation":109,"user_id":16069214,"display_name":"Enes Sabi"},"score":0,"creation_date":1653489808,"post_id":72378517,"comment_id":127865905,"body_markdown":"Then it throws: Column index out of range.","body":"Then it throws: Column index out of range."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1653490165,"post_id":72378517,"comment_id":127866071,"body_markdown":"my bad, only `SQLi` is 0 based. `preparedStatement.setObject(i+1, SQLI[i], resultSet.getMetaData().getColumnType(i+1));` for 0 based for-loop or `preparedStatement.setObject(i, SQLI[i-1], resultSet.getMetaData().getColumnType(i));` if for loop starts at 1","body":"my bad, only <code>SQLi</code> is 0 based. <code>preparedStatement.setObject(i+1, SQLI[i], resultSet.getMetaData().getColumnType(i+1));</code> for 0 based for-loop or <code>preparedStatement.setObject(i, SQLI[i-1], resultSet.getMetaData().getColumnType(i));</code> if for loop starts at 1"},{"owner":{"account_id":21765216,"reputation":109,"user_id":16069214,"display_name":"Enes Sabi"},"score":0,"creation_date":1653492543,"post_id":72378517,"comment_id":127867178,"body_markdown":"Ok, I wrote it like your Code, it compiles and runs correctly but still, there is no new row in Flughafen. SELECT * FROM Flughafen; Does not show the new values in MySQL Workbench 8.0.","body":"Ok, I wrote it like your Code, it compiles and runs correctly but still, there is no new row in Flughafen. SELECT * FROM Flughafen; Does not show the new values in MySQL Workbench 8.0."},{"owner":{"account_id":21765216,"reputation":109,"user_id":16069214,"display_name":"Enes Sabi"},"score":0,"creation_date":1653493732,"post_id":72378517,"comment_id":127867675,"body_markdown":"java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;&#39;AMK&#39;,69,&#39;Germany&#39;,&#39;Munich&#39;,30.0,50.0)&#39; at line 1\nThat is the Exception thrown after preparedStatement.execute();","body":"java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;&#39;AMK&#39;,69,&#39;Germany&#39;,&#39;Munich&#39;,30.0,50.0)&#39; at line 1 That is the Exception thrown after preparedStatement.execute();"}],"answers":[{"tags":[],"owner":{"account_id":21765216,"reputation":109,"user_id":16069214,"display_name":"Enes Sabi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653496344,"creation_date":1653496344,"answer_id":72381353,"question_id":72378517,"body_markdown":"I found the problems:\r\n 1. String sql was flawed --&gt; double values().\r\n 2. There wasn&#39;t an execute command for preparedStatement\r\n 3. for loop from XtremeBaumer in the comments\r\n 4. ExceptionHandling for Foreign Keys\r\nI hope this helps somebody in the future :)","title":"Universal solution to insert Userinput values in MySQL database with a priori unknown columns with Java and for example PreparedStatements","body":"<p>I found the problems:</p>\n<ol>\n<li>String sql was flawed --&gt; double values().</li>\n<li>There wasn't an execute command for preparedStatement</li>\n<li>for loop from XtremeBaumer in the comments</li>\n<li>ExceptionHandling for Foreign Keys\nI hope this helps somebody in the future :)</li>\n</ol>\n"}],"owner":{"account_id":21765216,"reputation":109,"user_id":16069214,"display_name":"Enes Sabi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72381353,"answer_count":1,"score":0,"last_activity_date":1653496344,"creation_date":1653485174,"question_id":72378517,"body_markdown":"I want to insert a whole set of values in my table in MySQL \r\n(e.g. \r\n``` \r\nCREATE TABLE Flughafen (\r\n    Abkuerzung VARCHAR(3) NOT NULL,\r\n\tZeitzone INT,\r\n\tStandort VARCHAR(255),\r\n\tName VARCHAR(255),\r\n\tFlughafensteuer DOUBLE,\r\n\tSicherheitsgebuehren DOUBLE,\r\n\tPRIMARY KEY (Abkuerzung)\r\n);\r\nINSERT INTO Flughafen VALUES (&quot;AMK&quot;, 69, &quot;Germany&quot;, &quot;Munich&quot;, 30, 50);\r\n```\r\nThis works in MySQL Workbench 8.0 but not in my Java Code.\r\nI read the JavaDoc about prepared Statements but I didn&#39;t find any clues on inserting values if I don&#39;t know the type a priori. My Java code looks like this: \r\n```public void SQLDatenEinfuegen(String Tabelle) throws Exception {\r\n            // Laden des JDBC-Treiber f&#252;r MySQL\r\n            String driverClass = &quot;com.mysql.cj.jdbc.Driver&quot;;\r\n            String url = &quot;jdbc:mysql://127.0.0.1:3306/wwfsaew&quot;;\r\n            String username = &quot;root&quot;;\r\n            try {\r\n                //Laden des Treibers fuer Java und MySQL\r\n                Class.forName(driverClass);\r\n            } catch (ClassNotFoundException exc) {\r\n                System.out.println(&quot;Treiber fehlt&quot;);\r\n                System.exit(1);\r\n            }\r\n            try {\r\n                // Aufbau der Verbindung\r\n                connect = DriverManager.getConnection(url, username, password);\r\n                System.out.println(&quot;------------ SQL Befehl wird verschickt ---------------&quot;);\r\n            } catch (SQLException SQLe) {\r\n                System.out.println(&quot;Verbinden fehlgeschlagen bitte noch einmal probieren!&quot;);\r\n                SQLe.printStackTrace();\r\n                System.exit(5);\r\n            }\r\n            //Erlaubnis fuer Abfragen an die Datenbank\r\n            statement = connect.createStatement();\r\n            //Vorabfrage der Tabelle f&#252;r sp&#228;tere Eingabe des Benutzers\r\n            resultSet = statement.executeQuery(&quot;SELECT * FROM &quot; + Tabelle);\r\n            System.out.println(&quot;--- DatenbankZugriff wird initiiert ---&quot;);\r\n\r\n            String Insertabfrage = resultSet.getMetaData().getColumnName(1);\r\n            String Fragezeichen = &quot;?&quot;;\r\n            for (int i = 2; i&lt;= resultSet.getMetaData().getColumnCount(); i++) {\r\n                Insertabfrage += (&quot;, &quot; + resultSet.getMetaData().getColumnName(i));\r\n                Fragezeichen += &quot;,?&quot;;\r\n            }\r\n\r\n            System.out.println(Insertabfrage);\r\n            System.out.println(&quot;Werte bitte in richtiger Ordnung eingeben und Werte : &quot;);\r\n            Scanner sc = new Scanner(System.in);\r\n            String SQLInsert = sc.nextLine();\r\n            System.out.println(SQLInsert);\r\n\r\n\r\n----------------------------------------------------------------\r\n\r\nHere I want to handle the Statement and insert it into my database.\r\n\r\nString sql = &quot;INSERT INTO &quot; + Tabelle + &quot; (&quot; + Insertabfrage + &quot;) VALUES (&quot;\r\n                    + &quot; values (&quot; + Fragezeichen + &quot;)&quot;;\r\n            PreparedStatement preparedStatement = connect.prepareStatement(sql);\r\n\r\n----------------------------------------------------------------\r\n\r\n            resultSet = statement.executeQuery(&quot;INSERT INTO &quot; + Tabelle + &quot; (&quot; + Insertabfrage + &quot;) VALUES (&quot;  + SQLInsert + &quot; );&quot;);\r\n            //Ausgaben der Abfrage antworten mit Meta Daten\r\n            System.out.println(&quot;--- SQL Befehl wurde erfolgreich umgesetzt! ---&quot;);\r\n```\r\nI tried many things like \r\n```resultSet = statement.executeQuery(&quot;INSERT INTO &quot; + Tabelle + &quot; (&quot; + Insertabfrage + &quot;) VALUES (&quot;  + SQLInsert + &quot; );&quot;);```\r\nSo my Question is, is there a possibility to get the Datatype of the columns and insert it into my database wwfsaew? Something like this:\r\n```\r\npreparedStatement.setUniversal(1, InputString(1));\r\npreparedStatement.setUniversal(2, InputString(2));\r\npreparedStatement.setUniversal(3, InputString(3));\r\n```","title":"Universal solution to insert Userinput values in MySQL database with a priori unknown columns with Java and for example PreparedStatements","body":"<p>I want to insert a whole set of values in my table in MySQL\n(e.g.</p>\n<pre><code>CREATE TABLE Flughafen (\n    Abkuerzung VARCHAR(3) NOT NULL,\n    Zeitzone INT,\n    Standort VARCHAR(255),\n    Name VARCHAR(255),\n    Flughafensteuer DOUBLE,\n    Sicherheitsgebuehren DOUBLE,\n    PRIMARY KEY (Abkuerzung)\n);\nINSERT INTO Flughafen VALUES (&quot;AMK&quot;, 69, &quot;Germany&quot;, &quot;Munich&quot;, 30, 50);\n</code></pre>\n<p>This works in MySQL Workbench 8.0 but not in my Java Code.\nI read the JavaDoc about prepared Statements but I didn't find any clues on inserting values if I don't know the type a priori. My Java code looks like this:</p>\n<pre><code>            // Laden des JDBC-Treiber für MySQL\n            String driverClass = &quot;com.mysql.cj.jdbc.Driver&quot;;\n            String url = &quot;jdbc:mysql://127.0.0.1:3306/wwfsaew&quot;;\n            String username = &quot;root&quot;;\n            try {\n                //Laden des Treibers fuer Java und MySQL\n                Class.forName(driverClass);\n            } catch (ClassNotFoundException exc) {\n                System.out.println(&quot;Treiber fehlt&quot;);\n                System.exit(1);\n            }\n            try {\n                // Aufbau der Verbindung\n                connect = DriverManager.getConnection(url, username, password);\n                System.out.println(&quot;------------ SQL Befehl wird verschickt ---------------&quot;);\n            } catch (SQLException SQLe) {\n                System.out.println(&quot;Verbinden fehlgeschlagen bitte noch einmal probieren!&quot;);\n                SQLe.printStackTrace();\n                System.exit(5);\n            }\n            //Erlaubnis fuer Abfragen an die Datenbank\n            statement = connect.createStatement();\n            //Vorabfrage der Tabelle für spätere Eingabe des Benutzers\n            resultSet = statement.executeQuery(&quot;SELECT * FROM &quot; + Tabelle);\n            System.out.println(&quot;--- DatenbankZugriff wird initiiert ---&quot;);\n\n            String Insertabfrage = resultSet.getMetaData().getColumnName(1);\n            String Fragezeichen = &quot;?&quot;;\n            for (int i = 2; i&lt;= resultSet.getMetaData().getColumnCount(); i++) {\n                Insertabfrage += (&quot;, &quot; + resultSet.getMetaData().getColumnName(i));\n                Fragezeichen += &quot;,?&quot;;\n            }\n\n            System.out.println(Insertabfrage);\n            System.out.println(&quot;Werte bitte in richtiger Ordnung eingeben und Werte : &quot;);\n            Scanner sc = new Scanner(System.in);\n            String SQLInsert = sc.nextLine();\n            System.out.println(SQLInsert);\n\n\n----------------------------------------------------------------\n\nHere I want to handle the Statement and insert it into my database.\n\nString sql = &quot;INSERT INTO &quot; + Tabelle + &quot; (&quot; + Insertabfrage + &quot;) VALUES (&quot;\n                    + &quot; values (&quot; + Fragezeichen + &quot;)&quot;;\n            PreparedStatement preparedStatement = connect.prepareStatement(sql);\n\n----------------------------------------------------------------\n\n            resultSet = statement.executeQuery(&quot;INSERT INTO &quot; + Tabelle + &quot; (&quot; + Insertabfrage + &quot;) VALUES (&quot;  + SQLInsert + &quot; );&quot;);\n            //Ausgaben der Abfrage antworten mit Meta Daten\n            System.out.println(&quot;--- SQL Befehl wurde erfolgreich umgesetzt! ---&quot;);\n</code></pre>\n<p>I tried many things like\n<code>resultSet = statement.executeQuery(&quot;INSERT INTO &quot; + Tabelle + &quot; (&quot; + Insertabfrage + &quot;) VALUES (&quot;  + SQLInsert + &quot; );&quot;);</code>\nSo my Question is, is there a possibility to get the Datatype of the columns and insert it into my database wwfsaew? Something like this:</p>\n<pre><code>preparedStatement.setUniversal(1, InputString(1));\npreparedStatement.setUniversal(2, InputString(2));\npreparedStatement.setUniversal(3, InputString(3));\n</code></pre>\n"},{"tags":["java","json","spring-boot","integration-testing"],"comments":[{"owner":{"account_id":3597514,"reputation":117144,"user_id":3001761,"display_name":"jonrsharpe"},"score":0,"creation_date":1653492985,"post_id":72380496,"comment_id":127867368,"body_markdown":"Could you use `.value` then pass a matcher for null (see e.g. https://stackoverflow.com/q/18987692/3001761)?","body":"Could you use <code>.value</code> then pass a matcher for null (see e.g. <a href=\"https://stackoverflow.com/q/18987692/3001761\">stackoverflow.com/q/18987692/3001761</a>)?"},{"owner":{"account_id":6138978,"reputation":2133,"user_id":4786956,"accept_rate":55,"display_name":"Antonio Dragos"},"score":0,"creation_date":1653494665,"post_id":72380496,"comment_id":127868057,"body_markdown":"@jonrsharpe thanks for the suggestion - please see my update.","body":"@jonrsharpe thanks for the suggestion - please see my update."},{"owner":{"account_id":3597514,"reputation":117144,"user_id":3001761,"display_name":"jonrsharpe"},"score":0,"creation_date":1653495350,"post_id":72380496,"comment_id":127868349,"body_markdown":"At that point I think you&#39;re asking https://stackoverflow.com/q/49851158/3001761 - your query returns an array of one null.","body":"At that point I think you&#39;re asking <a href=\"https://stackoverflow.com/q/49851158/3001761\">stackoverflow.com/q/49851158/3001761</a> - your query returns an array of one null."}],"owner":{"account_id":6138978,"reputation":2133,"user_id":4786956,"accept_rate":55,"display_name":"Antonio Dragos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":843,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653496167,"creation_date":1653492786,"question_id":72380496,"body_markdown":"In a Spring Boot integration test, I&#39;m trying to test if a JSON property is null\r\n\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    public class IntegrationTests {\r\n    \r\n        @Autowired\r\n        private WebTestClient webClient;\r\n    \r\n        @Test\r\n        void saveExtension() {\r\n            webClient.get()\r\n                .uri(&quot;/api/endpoint&quot;)\r\n                .exchange()\r\n                .expectStatus()\r\n                .is2xxSuccessful();\r\n                .expectBody()\r\n                .jsonPath(&quot;$.data[0].extended&quot;).isEqualTo(null)\r\n        }\r\n    }\r\n\r\nThe test passes, but I get a SpotBugs error (and an IntelliJ warning) because the parameter of `isEqualTo` is annotated `@NotNull`.\r\n\r\nSurely there&#39;s a more elegant way of testing whether a JSON property is null? I&#39;ve tried both of the following alternatives provided by `org.springframework.test.web.reactive.server.JsonPathAssertions`:\r\n\r\n - `.jsonPath(&quot;$.data[0].extended&quot;).doesNotExist()`\r\n - `.jsonPath(&quot;$.data[0].extended&quot;).isEmpty()`\r\n\r\nBut the test fails in both cases. Is there a better way of testing if a JSON property is null?\r\n\r\nI also tried the following:\r\n\r\n```java\r\nimport static org.hamcrest.Matchers.is;\r\nimport static org.hamcrest.Matchers.nullValue;\r\n// ...\r\n.jsonPath(&quot;$.data[?(@.bidderId == &#39;%s&#39;)].extended&quot;, BIDDER_ID_2).value(is(nullValue()));\r\n```\r\n\r\nBut this fails with the error:\r\n\r\n&gt; Expected: is null but: was &lt;[null]&gt;\r\n\r\nThis error message suggests that `extended: [null]` was returned but I&#39;ve checked the response and it&#39;s `extended: null`\r\n","title":"testing if a JSON property is null in a Spring Boot integration test","body":"<p>In a Spring Boot integration test, I'm trying to test if a JSON property is null</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic class IntegrationTests {\n\n    @Autowired\n    private WebTestClient webClient;\n\n    @Test\n    void saveExtension() {\n        webClient.get()\n            .uri(&quot;/api/endpoint&quot;)\n            .exchange()\n            .expectStatus()\n            .is2xxSuccessful();\n            .expectBody()\n            .jsonPath(&quot;$.data[0].extended&quot;).isEqualTo(null)\n    }\n}\n</code></pre>\n<p>The test passes, but I get a SpotBugs error (and an IntelliJ warning) because the parameter of <code>isEqualTo</code> is annotated <code>@NotNull</code>.</p>\n<p>Surely there's a more elegant way of testing whether a JSON property is null? I've tried both of the following alternatives provided by <code>org.springframework.test.web.reactive.server.JsonPathAssertions</code>:</p>\n<ul>\n<li><code>.jsonPath(&quot;$.data[0].extended&quot;).doesNotExist()</code></li>\n<li><code>.jsonPath(&quot;$.data[0].extended&quot;).isEmpty()</code></li>\n</ul>\n<p>But the test fails in both cases. Is there a better way of testing if a JSON property is null?</p>\n<p>I also tried the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.hamcrest.Matchers.is;\nimport static org.hamcrest.Matchers.nullValue;\n// ...\n.jsonPath(&quot;$.data[?(@.bidderId == '%s')].extended&quot;, BIDDER_ID_2).value(is(nullValue()));\n</code></pre>\n<p>But this fails with the error:</p>\n<blockquote>\n<p>Expected: is null but: was &lt;[null]&gt;</p>\n</blockquote>\n<p>This error message suggests that <code>extended: [null]</code> was returned but I've checked the response and it's <code>extended: null</code></p>\n"},{"tags":["java","jsf","primefaces"],"answers":[{"tags":[],"owner":{"account_id":235505,"reputation":10708,"user_id":502366,"display_name":"Melloware"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653420926,"creation_date":1653420926,"answer_id":72368554,"question_id":72366483,"body_markdown":"This is what we do on our projects we have our own LazyDataTable implementation not sure if that makes a difference.\r\n\r\n```java\r\nfinal Collection&lt;FilterMeta&gt; filters = table.getFilterMetaData();\r\nfilters.clear();\r\n\r\nfilters.add(FilterMeta.builder().field(&quot;registrationId&quot;).filterValue(registrationId).matchMode(MatchMode.EQUALS).build());\r\n\r\n// construct the filter\r\ntable.setFilterMetaData(filters);\r\n```","title":"How to make custom DataTable filter update FilterMeta map in PrimeFaces 11","body":"<p>This is what we do on our projects we have our own LazyDataTable implementation not sure if that makes a difference.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Collection&lt;FilterMeta&gt; filters = table.getFilterMetaData();\nfilters.clear();\n\nfilters.add(FilterMeta.builder().field(&quot;registrationId&quot;).filterValue(registrationId).matchMode(MatchMode.EQUALS).build());\n\n// construct the filter\ntable.setFilterMetaData(filters);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11222708,"reputation":589,"user_id":8233361,"display_name":"Claudio Weiler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653496097,"creation_date":1653496097,"answer_id":72381303,"question_id":72366483,"body_markdown":"Using @Melloware answer as starting point, I managed to update filters map with this code:\r\n\r\n```java\r\nColumn column = (Column) this.getParent();\r\nDataTable parentDataTable = (DataTable) column.getNamingContainer();\r\nString key = column.getClientId();\r\n// Get current filters map\r\nMap&lt;String, FilterMeta&gt; filterByAsMap = parentDataTable.getFilterByAsMap();\r\n// Get current column filter\r\nFilterMeta filterMeta = filterByAsMap.get(key);\r\n// Create new MatchMode and FilterConstraint\r\nMatchMode matchMode = MatchMode.of(filterMatchMode);\r\nFilterConstraint constraint = FilterFeature.FILTER_CONSTRAINTS.get(matchMode);\r\n// Update column filter with MatchMode and FilterConstraint\r\nfilterMeta.setMatchMode(matchMode);\r\nfilterMeta.setConstraint(constraint);\r\n// Update DataTable filters map\r\nfilterByAsMap.put(key, filterMeta);\r\nparentDataTable.setFilterByAsMap(filterByAsMap);\r\n```\r\n\r\nLooks odd update filters map directly on DataTable, but current DataTable implementation do not cycle through columns to get filters like PF 8 did (AFAIK).\r\n\r\nSo... Don&#39;t know if this is correct or there are better approach, but for now this works.\r\n\r\nA little note! My custom filter component handle value too, but filters map is correctly updated with new filter value without the need to this code above. It&#39;s probably handled by DataTable &lt;-&gt; Column &lt;-&gt; UIInput integration, if I can find how this works, maybe I can make a proper code to update filters map.","title":"How to make custom DataTable filter update FilterMeta map in PrimeFaces 11","body":"<p>Using @Melloware answer as starting point, I managed to update filters map with this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Column column = (Column) this.getParent();\nDataTable parentDataTable = (DataTable) column.getNamingContainer();\nString key = column.getClientId();\n// Get current filters map\nMap&lt;String, FilterMeta&gt; filterByAsMap = parentDataTable.getFilterByAsMap();\n// Get current column filter\nFilterMeta filterMeta = filterByAsMap.get(key);\n// Create new MatchMode and FilterConstraint\nMatchMode matchMode = MatchMode.of(filterMatchMode);\nFilterConstraint constraint = FilterFeature.FILTER_CONSTRAINTS.get(matchMode);\n// Update column filter with MatchMode and FilterConstraint\nfilterMeta.setMatchMode(matchMode);\nfilterMeta.setConstraint(constraint);\n// Update DataTable filters map\nfilterByAsMap.put(key, filterMeta);\nparentDataTable.setFilterByAsMap(filterByAsMap);\n</code></pre>\n<p>Looks odd update filters map directly on DataTable, but current DataTable implementation do not cycle through columns to get filters like PF 8 did (AFAIK).</p>\n<p>So... Don't know if this is correct or there are better approach, but for now this works.</p>\n<p>A little note! My custom filter component handle value too, but filters map is correctly updated with new filter value without the need to this code above. It's probably handled by DataTable &lt;-&gt; Column &lt;-&gt; UIInput integration, if I can find how this works, maybe I can make a proper code to update filters map.</p>\n"}],"owner":{"account_id":11222708,"reputation":589,"user_id":8233361,"display_name":"Claudio Weiler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":789,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1653496097,"creation_date":1653410277,"question_id":72366483,"body_markdown":"We have a custom filter component for DataTable that works in PrimeFaces 8, but stopped to work in PF 11.\r\n\r\nThat custom filter updates the filter MatchMode with this call:\r\n\r\n```java\r\nColumn column = (Column) this.getParent();\r\ncolumn.setFilterMatchMode(this.filterMatchMode);\r\n```\r\n\r\nIn PF 10 and 11 we have some changes in DataTable, but I don&#39;t know which one is responsible for filters map handling that caused above snippet stopped working.\r\n\r\nFirst I think that some methods naming changes are related, so I tried to use new `column.setFilterBy` method, but DataTable do not reflect this in filters map.Then I put some break points on ColumnBase getters related to filtering, but none is called during filter.\r\n\r\nSo far, I think that I need to change filter directly in DataTable, but I have no clue how to.","title":"How to make custom DataTable filter update FilterMeta map in PrimeFaces 11","body":"<p>We have a custom filter component for DataTable that works in PrimeFaces 8, but stopped to work in PF 11.</p>\n<p>That custom filter updates the filter MatchMode with this call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Column column = (Column) this.getParent();\ncolumn.setFilterMatchMode(this.filterMatchMode);\n</code></pre>\n<p>In PF 10 and 11 we have some changes in DataTable, but I don't know which one is responsible for filters map handling that caused above snippet stopped working.</p>\n<p>First I think that some methods naming changes are related, so I tried to use new <code>column.setFilterBy</code> method, but DataTable do not reflect this in filters map.Then I put some break points on ColumnBase getters related to filtering, but none is called during filter.</p>\n<p>So far, I think that I need to change filter directly in DataTable, but I have no clue how to.</p>\n"},{"tags":["java","java-8"],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1496049179,"creation_date":1496043864,"answer_id":44237112,"question_id":44237079,"body_markdown":"Did you look at the code of `andThen`?\r\n\r\n    default Consumer&lt;T&gt; andThen(Consumer&lt;? super T&gt; after) {\r\n        Objects.requireNonNull(after);\r\n        return (T t) -&gt; { accept(t); after.accept(t); };\r\n    }\r\n\r\nIt&#39;s creating a new Consumer for each call to `andThen`, finally at the end invoking the `accept` method (which is the only abstract one).\r\n\r\nHow about a different approach:\r\n\r\n        Consumer&lt;String&gt; first = x -&gt; System.out.println(x.toLowerCase());\r\n        Consumer&lt;String&gt; second = y -&gt; System.out.println(&quot;aaa &quot; + y);\r\n\r\n        Consumer&lt;String&gt; result = first.andThen(second);\r\n\r\nRunning this code is not going to produce anything, since you have not invoked `accept` anywhere just yet. \r\n\r\nOn the other hand, you can see what happens when calling `accept` on each other:\r\n\r\n     Consumer&lt;String&gt; result = first.andThen(second);\r\n\r\n        first.accept(&quot;Java&quot;); // java\r\n        second.accept(&quot;Java&quot;); // aaa Java\r\n        System.out.println(&quot;---------&quot;);\r\n        result.accept(&quot;Java&quot;); // java, aaa Java\r\n\r\n`andThen` returns a composition of this Consumer with the next one. ","title":"How Consumer andThen method works internally in java functional interfaces","body":"<p>Did you look at the code of <code>andThen</code>?</p>\n\n<pre><code>default Consumer&lt;T&gt; andThen(Consumer&lt;? super T&gt; after) {\n    Objects.requireNonNull(after);\n    return (T t) -&gt; { accept(t); after.accept(t); };\n}\n</code></pre>\n\n<p>It's creating a new Consumer for each call to <code>andThen</code>, finally at the end invoking the <code>accept</code> method (which is the only abstract one).</p>\n\n<p>How about a different approach:</p>\n\n<pre><code>    Consumer&lt;String&gt; first = x -&gt; System.out.println(x.toLowerCase());\n    Consumer&lt;String&gt; second = y -&gt; System.out.println(\"aaa \" + y);\n\n    Consumer&lt;String&gt; result = first.andThen(second);\n</code></pre>\n\n<p>Running this code is not going to produce anything, since you have not invoked <code>accept</code> anywhere just yet. </p>\n\n<p>On the other hand, you can see what happens when calling <code>accept</code> on each other:</p>\n\n<pre><code> Consumer&lt;String&gt; result = first.andThen(second);\n\n    first.accept(\"Java\"); // java\n    second.accept(\"Java\"); // aaa Java\n    System.out.println(\"---------\");\n    result.accept(\"Java\"); // java, aaa Java\n</code></pre>\n\n<p><code>andThen</code> returns a composition of this Consumer with the next one. </p>\n"},{"tags":[],"owner":{"account_id":10312640,"reputation":29929,"user_id":7607923,"accept_rate":83,"display_name":"holi-java"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1496332910,"creation_date":1496045062,"answer_id":44237438,"question_id":44237079,"body_markdown":"the documentation [Consumer#andThen][then] says:\r\n\r\n&gt; Returns a composed Consumer that performs, in sequence, this operation followed by the after operation. If performing either operation throws an exception, it is relayed to the caller of the composed operation. If performing this operation throws an exception, the after operation will not be performed.\r\n\r\nwhich means your consumer will be accepted 3 times, like as: \r\n    \r\n    v--- 1. c.accept(&quot;Java2s.com&quot;);        \r\n    c.andThen(c).andThen(c).accept(&quot;Java2s.com&quot;);\r\n              ^          ^      \r\n              |          |           \r\n              |  3.  c.accept(&quot;Java2s.com&quot;);               \r\n              |\r\n    2. c.accept(&quot;Java2s.com&quot;);      \r\n                                    \r\n                   \r\n\r\n    \r\n\r\n\r\n[then]: http://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html#andThen-java.util.function.Consumer-","title":"How Consumer andThen method works internally in java functional interfaces","body":"<p>the documentation <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html#andThen-java.util.function.Consumer-\" rel=\"nofollow noreferrer\">Consumer#andThen</a> says:</p>\n\n<blockquote>\n  <p>Returns a composed Consumer that performs, in sequence, this operation followed by the after operation. If performing either operation throws an exception, it is relayed to the caller of the composed operation. If performing this operation throws an exception, the after operation will not be performed.</p>\n</blockquote>\n\n<p>which means your consumer will be accepted 3 times, like as: </p>\n\n<pre><code>v--- 1. c.accept(\"Java2s.com\");        \nc.andThen(c).andThen(c).accept(\"Java2s.com\");\n          ^          ^      \n          |          |           \n          |  3.  c.accept(\"Java2s.com\");               \n          |\n2. c.accept(\"Java2s.com\");      \n</code></pre>\n"}],"owner":{"account_id":9048370,"reputation":623,"user_id":6739608,"accept_rate":100,"display_name":"sidhartha pani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7055,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":44237438,"answer_count":2,"score":6,"last_activity_date":1653496092,"creation_date":1496043748,"question_id":44237079,"body_markdown":"can someone let me know how the below program works internally:\r\n\r\n    public class Main {\r\n      public static void main(String[] args) {\r\n        Consumer&lt;String&gt; c = (x) -&gt; System.out.println(x.toLowerCase());\r\n        c.andThen(c).andThen(c).accept(&quot;Java2s.com&quot;);\r\n      }\r\n    }","title":"How Consumer andThen method works internally in java functional interfaces","body":"<p>can someone let me know how the below program works internally:</p>\n\n<pre><code>public class Main {\n  public static void main(String[] args) {\n    Consumer&lt;String&gt; c = (x) -&gt; System.out.println(x.toLowerCase());\n    c.andThen(c).andThen(c).accept(\"Java2s.com\");\n  }\n}\n</code></pre>\n"},{"tags":["java","json","selenium","testing","logging"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1653496355,"post_id":72381253,"comment_id":127868732,"body_markdown":"Could be a BOM. Would need to see the raw file (chromelogs1.json) to say for certain. If so, try [this](https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/input/BOMInputStream.html)","body":"Could be a BOM. Would need to see the raw file (chromelogs1.json) to say for certain. If so, try <a href=\"https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/input/BOMInputStream.html\" rel=\"nofollow noreferrer\">this</a>"},{"owner":{"account_id":1677570,"reputation":18354,"user_id":1542723,"display_name":"Ferrybig"},"score":0,"creation_date":1653509987,"post_id":72381253,"comment_id":127873197,"body_markdown":"Your file is not json, the json parser only parses json. Sure, it contains some parts that are json, but the outer framing in the file is not json","body":"Your file is not json, the json parser only parses json. Sure, it contains some parts that are json, but the outer framing in the file is not json"},{"owner":{"account_id":13424136,"reputation":252,"user_id":9686029,"display_name":"user9686029"},"score":0,"creation_date":1653553333,"post_id":72381253,"comment_id":127881355,"body_markdown":"Yea the issue is that its not a pure json, although seems impossible to remove everything except the json values","body":"Yea the issue is that its not a pure json, although seems impossible to remove everything except the json values"}],"owner":{"account_id":13424136,"reputation":252,"user_id":9686029,"display_name":"user9686029"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653495914,"creation_date":1653495914,"question_id":72381253,"body_markdown":"Im trying to extract some information from a json file, but i keep getting the error\r\n\r\n     Unexpected character () at position 0.\r\n\r\nIve tried to comment out the non json text but getting\r\n     \r\n    Unexpected character (/) at position 0.\r\n\r\nThe code that i am using to try to remove the characters is:\r\n\r\n    JSONParser parser = new JSONParser();\r\n                try {\r\n                    FileInputStream fis = new FileInputStream(&quot;C:\\\\automation-chrome\\\\chromelogs1.json&quot;);\r\n                    String content = IOUtils.toString(fis, Charset.defaultCharset());\r\n                    content = content.replaceAll(&quot;\\\\[165&quot;, &quot;//&quot;);\r\n\r\n\r\n                    FileOutputStream fos = new FileOutputStream(&quot;C:\\\\automation-chrome\\\\chromelogs2.json&quot;);\r\n                    IOUtils.write(content, new FileOutputStream(&quot;C:\\\\automation-chrome\\\\chromelogs2.json&quot;), Charset.defaultCharset());\r\n\r\n                    Object obj = parser.parse(new FileReader(&quot;C:\\\\automation-chrome\\\\chromelogs2.json&quot;));\r\n\r\n                    // A JSON object. Key value pairs are unordered. JSONObject supports java.util.Map interface.\r\n                    JSONObject jsonObject = (JSONObject) obj;\r\n\r\n                    // A JSON array. JSONObject supports java.util.List interface.\r\n                    JSONArray companyList = (JSONArray) jsonObject.get(&quot;node&quot;);\r\n\r\n                    // An iterator over a collection. Iterator takes the place of Enumeration in the Java Collections Framework.\r\n                    // Iterators differ from enumerations in two ways:\r\n                    // 1. Iterators allow the caller to remove elements from the underlying collection during the iteration with well-defined semantics.\r\n                    // 2. Method names have been improved.\r\n                    Iterator&lt;JSONObject&gt; iterator = companyList.iterator();\r\n                    while (iterator.hasNext()) {\r\n                        System.out.println(iterator.next());\r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n\r\nJson file looks like:\r\n\r\n    [1653494560.703][INFO]: Starting ChromeDriver 100.0.4896.60 \r\n    (6a5d10861ce8de5fce22564658033b43cb7de047-refs/branch-heads/4896@{#875}) on port 32227\r\n    [1653494560.703][INFO]: Please see https://chromedriver.chromium.org/security- \r\n    considerations for suggestions on keeping ChromeDriver safe.\r\n    [1653494561.157][INFO]: [8dec07ea5dd48407fecf90e60411b24c] COMMAND InitSession {\r\n    &quot;capabilities&quot;: {\r\n      &quot;firstMatch&quot;: [ {\r\n         &quot;browserName&quot;: &quot;chrome&quot;,\r\n         &quot;goog:chromeOptions&quot;: {\r\n            &quot;args&quot;: [ &quot;start-maximized&quot;, &quot;disable-infobars&quot;, &quot;--disable-extensions&quot;, &quot;-- \r\n    window-size=1920x1080&quot;, &quot;--disable-cache&quot;, &quot;--disable-application-cache&quot;, &quot;--disk-cache- \r\n    size=0&quot;, &quot;--dns-prefetch-disable&quot;, &quot;--disable-notifications&quot; ],\r\n            &quot;extensions&quot;: [  ]\r\n         },\r\n         &quot;pageLoadStrategy&quot;: &quot;normal&quot;\r\n      } ]\r\n    },\r\n    &quot;desiredCapabilities&quot;: {\r\n      &quot;browserName&quot;: &quot;chrome&quot;,\r\n      &quot;goog:chromeOptions&quot;: {\r\n         &quot;args&quot;: [ &quot;start-maximized&quot;, &quot;disable-infobars&quot;, &quot;--disable-extensions&quot;, &quot;--window- \r\n     size=1920x1080&quot;, &quot;--disable-cache&quot;, &quot;--disable-application-cache&quot;, &quot;--disk-cache-size=0&quot;, &quot;--dns-prefetch-disable&quot;, &quot;--disable-notifications&quot; ],\r\n         &quot;extensions&quot;: [  ]\r\n      },\r\n      &quot;pageLoadStrategy&quot;: &quot;normal&quot;\r\n    }\r\n    }\r\n    [1653494650.594][DEBUG]: DevTools WebSocket Event: DOM.childNodeInserted \r\n    33828E8DE14AF64AED9C57DD86B6EC15 {\r\n    &quot;node&quot;: {\r\n      &quot;attributes&quot;: [ &quot;src&quot;, &quot;imsclinicalwdnoting://launch?iss=http%3A%ODA5N...&quot;, &quot;style&quot;, &quot;display: none;&quot; ],\r\n      &quot;backendNodeId&quot;: 301,\r\n      &quot;childNodeCount&quot;: 0,\r\n      &quot;localName&quot;: &quot;iframe&quot;,\r\n      &quot;nodeId&quot;: 250,\r\n      &quot;nodeName&quot;: &quot;IFRAME&quot;,\r\n      &quot;nodeType&quot;: 1,\r\n      &quot;nodeValue&quot;: &quot;&quot;\r\n    },\r\n    &quot;parentNodeId&quot;: 86,\r\n    &quot;previousNodeId&quot;: 244\r\n    }\r\n\r\nThe idea is to change the file so it can be used as a json file and i can extract the node.attributes.src value and use that as a string. I sthere an easier way to do this like maybe remove all text that isnt part of a json?","title":"Unexpected character when trying to read JSON file with java","body":"<p>Im trying to extract some information from a json file, but i keep getting the error</p>\n<pre><code> Unexpected character () at position 0.\n</code></pre>\n<p>Ive tried to comment out the non json text but getting</p>\n<pre><code>Unexpected character (/) at position 0.\n</code></pre>\n<p>The code that i am using to try to remove the characters is:</p>\n<pre><code>JSONParser parser = new JSONParser();\n            try {\n                FileInputStream fis = new FileInputStream(&quot;C:\\\\automation-chrome\\\\chromelogs1.json&quot;);\n                String content = IOUtils.toString(fis, Charset.defaultCharset());\n                content = content.replaceAll(&quot;\\\\[165&quot;, &quot;//&quot;);\n\n\n                FileOutputStream fos = new FileOutputStream(&quot;C:\\\\automation-chrome\\\\chromelogs2.json&quot;);\n                IOUtils.write(content, new FileOutputStream(&quot;C:\\\\automation-chrome\\\\chromelogs2.json&quot;), Charset.defaultCharset());\n\n                Object obj = parser.parse(new FileReader(&quot;C:\\\\automation-chrome\\\\chromelogs2.json&quot;));\n\n                // A JSON object. Key value pairs are unordered. JSONObject supports java.util.Map interface.\n                JSONObject jsonObject = (JSONObject) obj;\n\n                // A JSON array. JSONObject supports java.util.List interface.\n                JSONArray companyList = (JSONArray) jsonObject.get(&quot;node&quot;);\n\n                // An iterator over a collection. Iterator takes the place of Enumeration in the Java Collections Framework.\n                // Iterators differ from enumerations in two ways:\n                // 1. Iterators allow the caller to remove elements from the underlying collection during the iteration with well-defined semantics.\n                // 2. Method names have been improved.\n                Iterator&lt;JSONObject&gt; iterator = companyList.iterator();\n                while (iterator.hasNext()) {\n                    System.out.println(iterator.next());\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n</code></pre>\n<p>Json file looks like:</p>\n<pre><code>[1653494560.703][INFO]: Starting ChromeDriver 100.0.4896.60 \n(6a5d10861ce8de5fce22564658033b43cb7de047-refs/branch-heads/4896@{#875}) on port 32227\n[1653494560.703][INFO]: Please see https://chromedriver.chromium.org/security- \nconsiderations for suggestions on keeping ChromeDriver safe.\n[1653494561.157][INFO]: [8dec07ea5dd48407fecf90e60411b24c] COMMAND InitSession {\n&quot;capabilities&quot;: {\n  &quot;firstMatch&quot;: [ {\n     &quot;browserName&quot;: &quot;chrome&quot;,\n     &quot;goog:chromeOptions&quot;: {\n        &quot;args&quot;: [ &quot;start-maximized&quot;, &quot;disable-infobars&quot;, &quot;--disable-extensions&quot;, &quot;-- \nwindow-size=1920x1080&quot;, &quot;--disable-cache&quot;, &quot;--disable-application-cache&quot;, &quot;--disk-cache- \nsize=0&quot;, &quot;--dns-prefetch-disable&quot;, &quot;--disable-notifications&quot; ],\n        &quot;extensions&quot;: [  ]\n     },\n     &quot;pageLoadStrategy&quot;: &quot;normal&quot;\n  } ]\n},\n&quot;desiredCapabilities&quot;: {\n  &quot;browserName&quot;: &quot;chrome&quot;,\n  &quot;goog:chromeOptions&quot;: {\n     &quot;args&quot;: [ &quot;start-maximized&quot;, &quot;disable-infobars&quot;, &quot;--disable-extensions&quot;, &quot;--window- \n size=1920x1080&quot;, &quot;--disable-cache&quot;, &quot;--disable-application-cache&quot;, &quot;--disk-cache-size=0&quot;, &quot;--dns-prefetch-disable&quot;, &quot;--disable-notifications&quot; ],\n     &quot;extensions&quot;: [  ]\n  },\n  &quot;pageLoadStrategy&quot;: &quot;normal&quot;\n}\n}\n[1653494650.594][DEBUG]: DevTools WebSocket Event: DOM.childNodeInserted \n33828E8DE14AF64AED9C57DD86B6EC15 {\n&quot;node&quot;: {\n  &quot;attributes&quot;: [ &quot;src&quot;, &quot;imsclinicalwdnoting://launch?iss=http%3A%ODA5N...&quot;, &quot;style&quot;, &quot;display: none;&quot; ],\n  &quot;backendNodeId&quot;: 301,\n  &quot;childNodeCount&quot;: 0,\n  &quot;localName&quot;: &quot;iframe&quot;,\n  &quot;nodeId&quot;: 250,\n  &quot;nodeName&quot;: &quot;IFRAME&quot;,\n  &quot;nodeType&quot;: 1,\n  &quot;nodeValue&quot;: &quot;&quot;\n},\n&quot;parentNodeId&quot;: 86,\n&quot;previousNodeId&quot;: 244\n}\n</code></pre>\n<p>The idea is to change the file so it can be used as a json file and i can extract the node.attributes.src value and use that as a string. I sthere an easier way to do this like maybe remove all text that isnt part of a json?</p>\n"},{"tags":["java","spring","hibernate","maven","spring-data-jpa"],"comments":[{"owner":{"account_id":8247852,"reputation":890,"user_id":6203414,"display_name":"mkane"},"score":0,"creation_date":1653498021,"post_id":72381220,"comment_id":127869321,"body_markdown":"Looks like the entities are not getting scanned... Try this i.e. @EntityScan(&quot;com.aaa.bbb.label.model&quot;) or even @EntityScan(&quot;com.aaa.bbb.label.*&quot;)","body":"Looks like the entities are not getting scanned... Try this i.e. @EntityScan(&quot;com.aaa.bbb.label.model&quot;) or even @EntityScan(&quot;com.aaa.bbb.label.*&quot;)"},{"owner":{"account_id":15332453,"reputation":321,"user_id":11156297,"display_name":"Zoe Lubanza"},"score":0,"creation_date":1653502166,"post_id":72381220,"comment_id":127870756,"body_markdown":"In **EstablishmentEntity.java** the id is of type **String** and in **EstablishmentRepository.java** where it says **extends JpaRepository&lt;EstablishmentEntity, Long&gt;** you have a **Long**. They should both be either Long or String. Might not be the fix but just something to note.","body":"In <b>EstablishmentEntity.java</b> the id is of type <b>String</b> and in <b>EstablishmentRepository.java</b> where it says <b>extends JpaRepository&lt;EstablishmentEntity, Long&gt;</b> you have a <b>Long</b>. They should both be either Long or String. Might not be the fix but just something to note."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1653511152,"post_id":72381220,"comment_id":127873550,"body_markdown":"I was under impression that: 1. `@EntityScan` must be placed on a `@Configuration` class 2.  `@EntityScan` dees not accept globbing patterns. 3. `packagesToScan` does not accept globbing patterns. I would try adding correct packages to `packagesToScan`.","body":"I was under impression that: 1. <code>@EntityScan</code> must be placed on a <code>@Configuration</code> class 2.  <code>@EntityScan</code> dees not accept globbing patterns. 3. <code>packagesToScan</code> does not accept globbing patterns. I would try adding correct packages to <code>packagesToScan</code>."},{"owner":{"account_id":17705493,"reputation":41,"user_id":12854186,"display_name":"VIKAS SINHA"},"score":0,"creation_date":1653576873,"post_id":72381220,"comment_id":127889501,"body_markdown":"Thanks all for your responses.I was able to resolve my issue my modifying my packageToScan to com.aaa.bbb.* for primary datasource and com.aaa.bbb.label.* for the second DB. I also made one more change to the beans.xml configuration. I renamed the primary DB related configuration to the default values (like dataSource, entityManagerFactory and transactionManager) and kept the second DB configuration details as is. I am not sure if one of the 2 changes resolved my issue or both the changes were required to resolve.","body":"Thanks all for your responses.I was able to resolve my issue my modifying my packageToScan to com.aaa.bbb.* for primary datasource and com.aaa.bbb.label.* for the second DB. I also made one more change to the beans.xml configuration. I renamed the primary DB related configuration to the default values (like dataSource, entityManagerFactory and transactionManager) and kept the second DB configuration details as is. I am not sure if one of the 2 changes resolved my issue or both the changes were required to resolve."}],"owner":{"account_id":17705493,"reputation":41,"user_id":12854186,"display_name":"VIKAS SINHA"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653495735,"creation_date":1653495735,"question_id":72381220,"body_markdown":"I have a Java Maven project configured to use Spring framework. It also uses JPA / Hibernate to perform DB interactions. My back-end DB is Postgres.\r\n\r\nI initially had my project access one Postgres DB. I had defined the DataSource, EntitiyManagerFactory and TransactionManager in beans.xml file.  I then needed to enhance my project to also interact with a second Postgres DB. As a result I updated my beans.xml to now configure a second set of DataSource, EntitiyManagerFactory and TransactionManager for the 2 DBs (see configurations below referred as &quot;label&quot;). I made the original configurations corresponding to the first DB as the primary one\r\n\r\n   \r\n\r\n       &lt;jpa:repositories base-package=&quot;com.aaa.bbb&quot;/&gt;\r\n\r\n    &lt;!-- Configure the entity manager factory beans --&gt;\r\n    &lt;bean id=&quot;entityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot; primary=&quot;true&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;fhirDataSource&quot; /&gt;\r\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;com.aaa.bbb.model.*&quot; /&gt;\r\n        &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n            &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;jpaProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;none&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;labelEntityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;labelDataSource&quot; /&gt;\r\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;com.aaa.bbb.label.model.*&quot; /&gt;\r\n        &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n            &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;jpaProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;none&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;!-- Configure the data source beans --&gt;\r\n    &lt;bean id=&quot;fhirDataSource&quot;\r\n      class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot; primary=&quot;true&quot;&gt;\r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;org.postgresql.Driver&quot; /&gt;\r\n        \r\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:postgresql://localhost:9001/fhirdb&quot;/&gt;\r\n\r\n        &lt;property name=&quot;username&quot; value=&quot;fhirserver&quot; /&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;change-password&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    \r\n     &lt;bean id=&quot;labelDataSource&quot;\r\n      class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;org.postgresql.Driver&quot; /&gt;\r\n      \r\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:postgresql://localhost:9002/labeldb&quot;/&gt;\r\n\r\n        &lt;property name=&quot;username&quot; value=&quot;postgres&quot; /&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;labeldbpwd&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot; primary=&quot;true&quot;&gt;\r\n        &lt;property name=&quot;entityManagerFactory&quot; ref=&quot;entityManagerFactory&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;labelTransactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;\r\n        &lt;property name=&quot;entityManagerFactory&quot; ref=&quot;labelEntityManagerFactory&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;!-- Enable annotation driven transaction management --&gt;\r\n    &lt;tx:annotation-driven/&gt;\r\n\r\nNow when I start my Tomcat server it fails with the following message\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;establishmentRepository&#39; defined in com.aaa.bbb.splfhirpoc.establishment.EstablishmentRepository defined in : Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class com.aaa.bbb.label.model.EstablishmentEntity\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1794)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\r\n\tat &lt;unknown class&gt;.getObject(Unknown Source)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:878)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)\r\n\tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:401)\r\n\tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:292)\r\n\tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4716)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5177)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:843)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:434)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:342)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:473)\r\n\r\nAlso, every time I start my Tomcat, the error points to failure related to creation of a different Bean. These beans being referred in the error message can be mapped to Entities / Repository for any of the 2 DB. For example, this is the error I got when I started the Tomcat server second time. The Bean referred in the first error referred to the Repository class created for the second DB (label) while the second error I reported corresponds to the Beans created for Repostiory / Entity for the first DB\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;auditEventRepository&#39; defined in com.aaa.bbb.splfhirpoc.audit.AuditEventRepository defined in : Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class com.aaa.bbb.model.AuditEventEntity\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1794)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\r\n\tat &lt;unknown class&gt;.getObject(Unknown Source)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:878)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)\r\n\tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:401)\r\n\tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:292)\r\n\tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4716)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5177)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:843)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:434)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:342)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:473)\r\n\r\nHere are examples of a Repository class and Entity I have implemented\r\n\r\n**EstablishmentEntity.java**\r\n\r\n    package com.aaa.bbb.label.model;\r\n\r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n\r\n    import com.aaa.bbb.splfhirpoc.common.SplFhirpocDataException;\r\n\r\n    @Entity (name = &quot;establishmententity&quot;)\r\n    @Table(name = &quot;ESTABLISHMENT&quot;, schema = &quot;label&quot;)\r\n    public class EstablishmentEntity implements Serializable  {\r\n\t\r\n\tprivate static final Logger LOGGER = LogManager.getLogger(EstablishmentEntity.class.getName());\r\n\tprivate static final SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\t@Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t//@Column(name=&quot;id&quot;, updatable = false)\r\n\t@Column(name=&quot;ID&quot;, updatable = false, nullable = false)\r\n\tprivate String id;\r\n\t\r\n\t@Column(name=&quot;REGISTRANT_ID&quot;)\r\n\tprivate String registrant_id;\r\n\r\n\t@Column(name=&quot;CONFIDENTIAL_FLAG&quot;)\r\n\tprivate String confidential_flag;\r\n\t\r\n\t@Column(name=&quot;GDUFA_ESTABLISHMENT_FLAG&quot;)\r\n\tprivate String gdufa_establishment_flag;\r\n    \r\n\r\n**EstablishmentRepository.java**\r\n\r\n    package com.aaa.bbb.splfhirpoc.establishment;\r\n\r\n    import java.util.List;\r\n    import java.util.Optional;\r\n\r\n    import org.springframework.boot.autoconfigure.domain.EntityScan;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.jpa.repository.Query;\r\n    import org.springframework.data.repository.query.Param;\r\n    import org.springframework.stereotype.Repository;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n\r\n    import com.aaa.bbb.label.model.EstablishmentEntity;\r\n\r\n    @Repository\r\n    @Transactional(timeout = 600, value = &quot;labelTransactionManager&quot;)\r\n    @EntityScan(&quot;com.aaa.bbb.label.model.*&quot;)\r\n    public interface EstablishmentRepository extends JpaRepository&lt;EstablishmentEntity, Long&gt; {\r\n\t\t\r\n    \r\n\t@Query(nativeQuery = true, value = &quot;select a.*, d.\\&quot;DATE\\&quot; &quot;\r\n            + &quot;from \\&quot;label\\&quot;.\\&quot;ESTABLISHMENT\\&quot; a, \\&quot;label\\&quot;.\\&quot;SUBMISSION_ESTABLISHMENT\\&quot; b, \\&quot;label\\&quot;.\\&quot;SUBMISSION_STATUS\\&quot; d &quot;\r\n            + &quot;where a.\\&quot;ID\\&quot; = b.\\&quot;ESTABLISHMENT_ID\\&quot; &quot;\r\n            + &quot;and b.\\&quot;SUBMISSION_ID\\&quot; = d.\\&quot;SUBMISSION_ID\\&quot; &quot;\r\n            + &quot;and d.\\&quot;CODE\\&quot; =  &#39;Received&#39; &quot;\r\n            + &quot;and a.\\&quot;DUNS_NUMBER\\&quot; = :duns_number &quot;\r\n            + &quot;and d.\\&quot;DATE\\&quot; = (select max(e.\\&quot;DATE\\&quot;) FROM \\&quot;label\\&quot;.\\&quot;SUBMISSION_STATUS\\&quot; e, \\&quot;label\\&quot;.\\&quot;SUBMISSION_ESTABLISHMENT\\&quot; f &quot;\r\n            + &quot;WHERE e.\\&quot;SUBMISSION_ID\\&quot; = f.\\&quot;SUBMISSION_ID\\&quot; &quot;\r\n            + &quot;AND f.\\&quot;ESTABLISHMENT_ID\\&quot; = a.\\&quot;ID\\&quot; &quot;\r\n            + &quot;AND e.\\&quot;CODE\\&quot; = &#39;Received&#39; &quot;)\r\n\tList&lt;EstablishmentEntity&gt; getAllEstablishmentsByDuns(@Param(&quot;duns_number&quot;) String duns_number);\r\n\t\r\nIt definitely looks like there is an issue with how Spring ingests its code based on Annotations and every time I start my Tomcat server, one of the Bean referred using Autowire fails causing the error I am reporting. How can I resolve this issue? Am I doing anything wrong ? Any help to resolve this issue will be greatly appreciated.\r\n\r\nThanks\r\nVikas\r\n\r\n\r\n  ","title":"Issue with Java Maven project during Tomcat startup. Bean creation of a Repository class failed because the Entity referred is not a managed Type","body":"<p>I have a Java Maven project configured to use Spring framework. It also uses JPA / Hibernate to perform DB interactions. My back-end DB is Postgres.</p>\n<p>I initially had my project access one Postgres DB. I had defined the DataSource, EntitiyManagerFactory and TransactionManager in beans.xml file.  I then needed to enhance my project to also interact with a second Postgres DB. As a result I updated my beans.xml to now configure a second set of DataSource, EntitiyManagerFactory and TransactionManager for the 2 DBs (see configurations below referred as &quot;label&quot;). I made the original configurations corresponding to the first DB as the primary one</p>\n<pre><code>   &lt;jpa:repositories base-package=&quot;com.aaa.bbb&quot;/&gt;\n\n&lt;!-- Configure the entity manager factory beans --&gt;\n&lt;bean id=&quot;entityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot; primary=&quot;true&quot;&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;fhirDataSource&quot; /&gt;\n    &lt;property name=&quot;packagesToScan&quot; value=&quot;com.aaa.bbb.model.*&quot; /&gt;\n    &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\n        &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot; /&gt;\n    &lt;/property&gt;\n    &lt;property name=&quot;jpaProperties&quot;&gt;\n        &lt;props&gt;\n            &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;none&lt;/prop&gt;\n            &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=&quot;labelEntityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;labelDataSource&quot; /&gt;\n    &lt;property name=&quot;packagesToScan&quot; value=&quot;com.aaa.bbb.label.model.*&quot; /&gt;\n    &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\n        &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot; /&gt;\n    &lt;/property&gt;\n    &lt;property name=&quot;jpaProperties&quot;&gt;\n        &lt;props&gt;\n            &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;none&lt;/prop&gt;\n            &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;!-- Configure the data source beans --&gt;\n&lt;bean id=&quot;fhirDataSource&quot;\n  class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot; primary=&quot;true&quot;&gt;\n    &lt;property name=&quot;driverClassName&quot; value=&quot;org.postgresql.Driver&quot; /&gt;\n    \n    &lt;property name=&quot;url&quot; value=&quot;jdbc:postgresql://localhost:9001/fhirdb&quot;/&gt;\n\n    &lt;property name=&quot;username&quot; value=&quot;fhirserver&quot; /&gt;\n    &lt;property name=&quot;password&quot; value=&quot;change-password&quot; /&gt;\n&lt;/bean&gt;\n\n &lt;bean id=&quot;labelDataSource&quot;\n  class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\n    &lt;property name=&quot;driverClassName&quot; value=&quot;org.postgresql.Driver&quot; /&gt;\n  \n    &lt;property name=&quot;url&quot; value=&quot;jdbc:postgresql://localhost:9002/labeldb&quot;/&gt;\n\n    &lt;property name=&quot;username&quot; value=&quot;postgres&quot; /&gt;\n    &lt;property name=&quot;password&quot; value=&quot;labeldbpwd&quot; /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot; primary=&quot;true&quot;&gt;\n    &lt;property name=&quot;entityManagerFactory&quot; ref=&quot;entityManagerFactory&quot; /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=&quot;labelTransactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;\n    &lt;property name=&quot;entityManagerFactory&quot; ref=&quot;labelEntityManagerFactory&quot; /&gt;\n&lt;/bean&gt;\n\n&lt;!-- Enable annotation driven transaction management --&gt;\n&lt;tx:annotation-driven/&gt;\n</code></pre>\n<p>Now when I start my Tomcat server it fails with the following message</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'establishmentRepository' defined in com.aaa.bbb.splfhirpoc.establishment.EstablishmentRepository defined in : Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class com.aaa.bbb.label.model.EstablishmentEntity\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1794)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\nat &lt;unknown class&gt;.getObject(Unknown Source)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:878)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)\nat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:401)\nat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:292)\nat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\nat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4716)\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5177)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\nat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\nat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:843)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\nat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\nat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.StandardService.startInternal(StandardService.java:434)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:342)\nat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:473)\n</code></pre>\n<p>Also, every time I start my Tomcat, the error points to failure related to creation of a different Bean. These beans being referred in the error message can be mapped to Entities / Repository for any of the 2 DB. For example, this is the error I got when I started the Tomcat server second time. The Bean referred in the first error referred to the Repository class created for the second DB (label) while the second error I reported corresponds to the Beans created for Repostiory / Entity for the first DB</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'auditEventRepository' defined in com.aaa.bbb.splfhirpoc.audit.AuditEventRepository defined in : Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class com.aaa.bbb.model.AuditEventEntity\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1794)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\nat &lt;unknown class&gt;.getObject(Unknown Source)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:878)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)\nat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:401)\nat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:292)\nat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\nat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4716)\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5177)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\nat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\nat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:843)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\nat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\nat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.StandardService.startInternal(StandardService.java:434)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:342)\nat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:473)\n</code></pre>\n<p>Here are examples of a Repository class and Entity I have implemented</p>\n<p><strong>EstablishmentEntity.java</strong></p>\n<pre><code>package com.aaa.bbb.label.model;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\nimport com.aaa.bbb.splfhirpoc.common.SplFhirpocDataException;\n\n@Entity (name = &quot;establishmententity&quot;)\n@Table(name = &quot;ESTABLISHMENT&quot;, schema = &quot;label&quot;)\npublic class EstablishmentEntity implements Serializable  {\n\nprivate static final Logger LOGGER = LogManager.getLogger(EstablishmentEntity.class.getName());\nprivate static final SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\nprivate static final long serialVersionUID = 1L;\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n//@Column(name=&quot;id&quot;, updatable = false)\n@Column(name=&quot;ID&quot;, updatable = false, nullable = false)\nprivate String id;\n\n@Column(name=&quot;REGISTRANT_ID&quot;)\nprivate String registrant_id;\n\n@Column(name=&quot;CONFIDENTIAL_FLAG&quot;)\nprivate String confidential_flag;\n\n@Column(name=&quot;GDUFA_ESTABLISHMENT_FLAG&quot;)\nprivate String gdufa_establishment_flag;\n</code></pre>\n<p><strong>EstablishmentRepository.java</strong></p>\n<pre><code>package com.aaa.bbb.splfhirpoc.establishment;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.query.Param;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport com.aaa.bbb.label.model.EstablishmentEntity;\n\n@Repository\n@Transactional(timeout = 600, value = &quot;labelTransactionManager&quot;)\n@EntityScan(&quot;com.aaa.bbb.label.model.*&quot;)\npublic interface EstablishmentRepository extends JpaRepository&lt;EstablishmentEntity, Long&gt; {\n    \n\n@Query(nativeQuery = true, value = &quot;select a.*, d.\\&quot;DATE\\&quot; &quot;\n        + &quot;from \\&quot;label\\&quot;.\\&quot;ESTABLISHMENT\\&quot; a, \\&quot;label\\&quot;.\\&quot;SUBMISSION_ESTABLISHMENT\\&quot; b, \\&quot;label\\&quot;.\\&quot;SUBMISSION_STATUS\\&quot; d &quot;\n        + &quot;where a.\\&quot;ID\\&quot; = b.\\&quot;ESTABLISHMENT_ID\\&quot; &quot;\n        + &quot;and b.\\&quot;SUBMISSION_ID\\&quot; = d.\\&quot;SUBMISSION_ID\\&quot; &quot;\n        + &quot;and d.\\&quot;CODE\\&quot; =  'Received' &quot;\n        + &quot;and a.\\&quot;DUNS_NUMBER\\&quot; = :duns_number &quot;\n        + &quot;and d.\\&quot;DATE\\&quot; = (select max(e.\\&quot;DATE\\&quot;) FROM \\&quot;label\\&quot;.\\&quot;SUBMISSION_STATUS\\&quot; e, \\&quot;label\\&quot;.\\&quot;SUBMISSION_ESTABLISHMENT\\&quot; f &quot;\n        + &quot;WHERE e.\\&quot;SUBMISSION_ID\\&quot; = f.\\&quot;SUBMISSION_ID\\&quot; &quot;\n        + &quot;AND f.\\&quot;ESTABLISHMENT_ID\\&quot; = a.\\&quot;ID\\&quot; &quot;\n        + &quot;AND e.\\&quot;CODE\\&quot; = 'Received' &quot;)\nList&lt;EstablishmentEntity&gt; getAllEstablishmentsByDuns(@Param(&quot;duns_number&quot;) String duns_number);\n</code></pre>\n<p>It definitely looks like there is an issue with how Spring ingests its code based on Annotations and every time I start my Tomcat server, one of the Bean referred using Autowire fails causing the error I am reporting. How can I resolve this issue? Am I doing anything wrong ? Any help to resolve this issue will be greatly appreciated.</p>\n<p>Thanks\nVikas</p>\n"},{"tags":["java","sql","spring","oracle","jdbc"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653395425,"post_id":72362743,"comment_id":127837483,"body_markdown":"Why should it be the same? The value isn&#39;t a string but an integer, so trying to get a string for a datatype that isn&#39;t does some conversion. Basically you are comparing apples and oranges.","body":"Why should it be the same? The value isn&#39;t a string but an integer, so trying to get a string for a datatype that isn&#39;t does some conversion. Basically you are comparing apples and oranges."},{"owner":{"account_id":25229135,"reputation":556,"user_id":19064525,"display_name":"SeanH"},"score":0,"creation_date":1653434986,"post_id":72362743,"comment_id":127850942,"body_markdown":"There is no public interface exposed for Interface:\nhttps://docs.oracle.com/javase/7/docs/api///java/sql/ResultSetMetaData.html\nSo,  the value of this column can be not standard. \nWe&#39;d better call the interface method to implement your logic.","body":"There is no public interface exposed for Interface: <a href=\"https://docs.oracle.com/javase/7/docs/api///java/sql/ResultSetMetaData.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api///java/sql/&hellip;</a> So,  the value of this column can be not standard.  We&#39;d better call the interface method to implement your logic."},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1653511986,"post_id":72362743,"comment_id":127873795,"body_markdown":"It could have something to do with the name, `ordinal`.  The solution could be as simple as changing your query to `select ordinal as ORD,`. You can always step into the `getInt(&quot;Ordinal&quot;)` call to find out why it&#39;s doing this.","body":"It could have something to do with the name, <code>ordinal</code>.  The solution could be as simple as changing your query to <code>select ordinal as ORD,</code>. You can always step into the <code>getInt(&quot;Ordinal&quot;)</code> call to find out why it&#39;s doing this."}],"owner":{"account_id":25373876,"reputation":1,"user_id":19187278,"display_name":"Valentin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653495581,"creation_date":1653394624,"question_id":72362743,"body_markdown":"I have an ordinary table with members in some organization. I am using easy SQL script to get some records from member&#39;s table:\r\n\r\n```sql\r\nselect ordinal,\r\n   barcode,\r\n   gender,\r\n   to_char(m.m_birthdate, &#39;mm/dd/yyyy&#39;) BIRTHDATE,\r\nfrom members \r\n```\r\n         \r\nResponse in Intelij IDEA console:\r\n\r\n![Oracle DB response][1]\r\n\r\nIn response we can see: Ordinal = 2\r\n\r\nWhen we execute this request inside the program in this piece of code:\r\n\r\n```java\r\nResultSetMetaData resultSetMetaData = resultSet.getMetaData();\r\nfor (int columnIndex = 1; columnIndex&lt;= resultSetMetaData.getColumnCount(); columnIndex++) {\r\n    String columnName = resultSetMetaData.getColumnName(columnIndex);\r\n \tString value = resultSet.getString(columnName);\r\n \tif (value == null) {\r\n \t\tvalue = &quot;&quot;;\r\n \t}\r\n}\r\n```\r\n\r\nWe get: `resultSet.getString(&quot;Ordinal&quot;) = -2`\r\n\r\nI can&#39;t figure out why the `ResultSet` returns -2 instead of 2. This is the situation with all members: -1 instead of 1, -6 instead of 6 and so on\r\n\r\nAll Resultset&#39;s  methods return negative value:\r\n\r\nresulSet.getInt(&quot;Ordinal&quot;) = -2 \r\n\r\nresulSet.getDouble(&quot;Ordinal&quot;) = -2.0 \r\n\r\nresulSet.getFloat(&quot;Ordinal&quot;) = -2.0\r\n\r\nI have an another user where in Oracle DB ORDINAL==1 and GENDER==1\r\nAnd when we are trying execute same query we got:\r\n ORDINAL== -1 and GENDER==1\r\n\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pze2F.png\r\n  [2]: https://i.stack.imgur.com/j4dEu.png","title":"Oracle ResultSetMetaData get opposite value from table","body":"<p>I have an ordinary table with members in some organization. I am using easy SQL script to get some records from member's table:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select ordinal,\n   barcode,\n   gender,\n   to_char(m.m_birthdate, 'mm/dd/yyyy') BIRTHDATE,\nfrom members \n</code></pre>\n<p>Response in Intelij IDEA console:</p>\n<p><img src=\"https://i.stack.imgur.com/pze2F.png\" alt=\"Oracle DB response\" /></p>\n<p>In response we can see: Ordinal = 2</p>\n<p>When we execute this request inside the program in this piece of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ResultSetMetaData resultSetMetaData = resultSet.getMetaData();\nfor (int columnIndex = 1; columnIndex&lt;= resultSetMetaData.getColumnCount(); columnIndex++) {\n    String columnName = resultSetMetaData.getColumnName(columnIndex);\n    String value = resultSet.getString(columnName);\n    if (value == null) {\n        value = &quot;&quot;;\n    }\n}\n</code></pre>\n<p>We get: <code>resultSet.getString(&quot;Ordinal&quot;) = -2</code></p>\n<p>I can't figure out why the <code>ResultSet</code> returns -2 instead of 2. This is the situation with all members: -1 instead of 1, -6 instead of 6 and so on</p>\n<p>All Resultset's  methods return negative value:</p>\n<p>resulSet.getInt(&quot;Ordinal&quot;) = -2</p>\n<p>resulSet.getDouble(&quot;Ordinal&quot;) = -2.0</p>\n<p>resulSet.getFloat(&quot;Ordinal&quot;) = -2.0</p>\n<p>I have an another user where in Oracle DB ORDINAL==1 and GENDER==1\nAnd when we are trying execute same query we got:\nORDINAL== -1 and GENDER==1</p>\n<p><a href=\"https://i.stack.imgur.com/j4dEu.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","object","objectmapper","mapper"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1653490051,"post_id":72379742,"comment_id":127866018,"body_markdown":"I&#39;d say parse the json string and then compare actual objects, not their string representation. Implying, of course, that `Address` should have an appropriate `equals` method.","body":"I&#39;d say parse the json string and then compare actual objects, not their string representation. Implying, of course, that <code>Address</code> should have an appropriate <code>equals</code> method."},{"owner":{"account_id":3656420,"reputation":413,"user_id":3047319,"display_name":"DiegoMG"},"score":0,"creation_date":1653490204,"post_id":72379742,"comment_id":127866092,"body_markdown":"Hello Fede, how I do that? Thanks","body":"Hello Fede, how I do that? Thanks"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1653490376,"post_id":72379742,"comment_id":127866175,"body_markdown":"You should not be comparing JSON as strings, as the order of the attributes is not meaningful. Either compare JsonObjects, or use a library like JsonUnit or Hamcrest JsonMatchers to compare in an order-independent manner.","body":"You should not be comparing JSON as strings, as the order of the attributes is not meaningful. Either compare JsonObjects, or use a library like JsonUnit or Hamcrest JsonMatchers to compare in an order-independent manner."},{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":0,"creation_date":1653499352,"post_id":72379742,"comment_id":127869772,"body_markdown":"In JSON everything in an array [] is in order, everything in {} is not guaranteed to be in order ({} is a map).","body":"In JSON everything in an array [] is in order, everything in {} is not guaranteed to be in order ({} is a map)."}],"answers":[{"tags":[],"owner":{"account_id":5656941,"reputation":39,"user_id":4475805,"display_name":"wedsa5"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653490823,"creation_date":1653490761,"answer_id":72379983,"question_id":72379742,"body_markdown":"Using new `ObjectMapper.writeValueAsString()` should give you the fields in order as you expect it to.\r\nAs @Federico klez Culloca stated, you should instead use the objects themselves to compare. \r\nYou should construct an `Address` object from `address.getAddressString()` or just directly compare `address` to `a` using `a.equals()`.","title":"How can I sort the attributes of an object in Java","body":"<p>Using new <code>ObjectMapper.writeValueAsString()</code> should give you the fields in order as you expect it to.\nAs @Federico klez Culloca stated, you should instead use the objects themselves to compare.\nYou should construct an <code>Address</code> object from <code>address.getAddressString()</code> or just directly compare <code>address</code> to <code>a</code> using <code>a.equals()</code>.</p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653495425,"creation_date":1653490836,"answer_id":72380010,"question_id":72379742,"body_markdown":"You can parse strings to `JsonNode` and compare them. Jackson provides overrides of `equals(Object o)` for all node types.\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\nJsonNode actualNode = mapper.readTree(actualJson);\r\nJsonNode expectedNode = mapper.readTree(expectedJson));\r\nboolean matches = actualNode.equals(expectedNode);\r\n```\r\n[This guide][1] should be helpful as well.\r\n\r\nThe other option is to provide implementation of `equals()` in you custom class, as mentioned in comments.\r\n\r\n  [1]: https://www.baeldung.com/jackson-compare-two-json-objects","title":"How can I sort the attributes of an object in Java","body":"<p>You can parse strings to <code>JsonNode</code> and compare them. Jackson provides overrides of <code>equals(Object o)</code> for all node types.</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nJsonNode actualNode = mapper.readTree(actualJson);\nJsonNode expectedNode = mapper.readTree(expectedJson));\nboolean matches = actualNode.equals(expectedNode);\n</code></pre>\n<p><a href=\"https://www.baeldung.com/jackson-compare-two-json-objects\" rel=\"nofollow noreferrer\">This guide</a> should be helpful as well.</p>\n<p>The other option is to provide implementation of <code>equals()</code> in you custom class, as mentioned in comments.</p>\n"}],"owner":{"account_id":3656420,"reputation":413,"user_id":3047319,"display_name":"DiegoMG"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653495425,"creation_date":1653489813,"question_id":72379742,"body_markdown":"Do you know why when debbuging my app the order of the attributes of my address object is changed? I need to check it the address stored in the database is equal to the one coming from the frontend. I&#39;m using objectmapper to get the object into text so the I can compare 2 strings but due this situation I always get false as the order change as you can see in the picture below.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yUArD.png","title":"How can I sort the attributes of an object in Java","body":"<p>Do you know why when debbuging my app the order of the attributes of my address object is changed? I need to check it the address stored in the database is equal to the one coming from the frontend. I'm using objectmapper to get the object into text so the I can compare 2 strings but due this situation I always get false as the order change as you can see in the picture below.</p>\n<p><a href=\"https://i.stack.imgur.com/yUArD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yUArD.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","eclipse","maven","automation"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1653496487,"post_id":72381135,"comment_id":127868788,"body_markdown":"A lot of Eclipse downloads include Maven as part of the install - look for &quot;M2E - Maven Integration for Eclipse&quot; in the Installation Details. Otherwise it should be in the main Eclipse install repository (`https://download.eclipse.org/releases/2022-03` for the current Eclipse)","body":"A lot of Eclipse downloads include Maven as part of the install - look for &quot;M2E - Maven Integration for Eclipse&quot; in the Installation Details. Otherwise it should be in the main Eclipse install repository (<code>https:&#47;&#47;download.eclipse.org&#47;releases&#47;2022-03</code> for the current Eclipse)"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1653507603,"post_id":72381135,"comment_id":127872474,"body_markdown":"To be clear here you are not installing Maven. You are installing a plugin in Eclipse which support building/importing a project into Eclipse.","body":"To be clear here you are not installing Maven. You are installing a plugin in Eclipse which support building/importing a project into Eclipse."}],"owner":{"account_id":25388539,"reputation":1,"user_id":19199969,"display_name":"Ruban Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653495367,"creation_date":1653495367,"question_id":72381135,"body_markdown":"I&#39;m trying to install maven on eclipse marketplace but I&#39;m Not able to install maven on eclipse it shows unable to read repository. Please help to install maven on eclipse and also tried that new software installation option in eclipse it also shows same like unable to read repository at http://download.eclipse.org/technology/m2e/releases/\r\nAnd I tried different links also","title":"How to install Maven on eclipse","body":"<p>I'm trying to install maven on eclipse marketplace but I'm Not able to install maven on eclipse it shows unable to read repository. Please help to install maven on eclipse and also tried that new software installation option in eclipse it also shows same like unable to read repository at <a href=\"http://download.eclipse.org/technology/m2e/releases/\" rel=\"nofollow noreferrer\">http://download.eclipse.org/technology/m2e/releases/</a>\nAnd I tried different links also</p>\n"},{"tags":["java","import"],"answers":[{"tags":[],"owner":{"account_id":250292,"reputation":436,"user_id":526910,"display_name":"lbarowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653495335,"creation_date":1653495335,"answer_id":72381128,"question_id":72359309,"body_markdown":"You can&#39;t import a package tree, only an individual package.\r\n\r\nIn this case, I assume you mean to import org.apache.commons.io.* .\r\n","title":"Unable to import and use org.apache.commons even though it is added to classpath","body":"<p>You can't import a package tree, only an individual package.</p>\n<p>In this case, I assume you mean to import org.apache.commons.io.* .</p>\n"}],"owner":{"account_id":23010641,"reputation":3,"user_id":17133205,"display_name":"James McKillan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72381128,"answer_count":1,"score":0,"last_activity_date":1653495335,"creation_date":1653379517,"question_id":72359309,"body_markdown":"As the title suggests I am unable to use the apache commons library in Jgrasp even though the jar file has been added to my classpath. Attached are screenshots. This really doesn&#39;t make any sense to me as I&#39;ve followed all the advice i could find an nothing seemed to have worked.\r\n\r\nClasspath: [Classpath][1]\r\n\r\nimports: [My imports][2]\r\n\r\nOutput: [Error output][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nkQaP.png\r\n  [2]: https://i.stack.imgur.com/laF0m.png\r\n  [3]: https://i.stack.imgur.com/WgFOg.png","title":"Unable to import and use org.apache.commons even though it is added to classpath","body":"<p>As the title suggests I am unable to use the apache commons library in Jgrasp even though the jar file has been added to my classpath. Attached are screenshots. This really doesn't make any sense to me as I've followed all the advice i could find an nothing seemed to have worked.</p>\n<p>Classpath: <a href=\"https://i.stack.imgur.com/nkQaP.png\" rel=\"nofollow noreferrer\">Classpath</a></p>\n<p>imports: <a href=\"https://i.stack.imgur.com/laF0m.png\" rel=\"nofollow noreferrer\">My imports</a></p>\n<p>Output: <a href=\"https://i.stack.imgur.com/WgFOg.png\" rel=\"nofollow noreferrer\">Error output</a></p>\n"},{"tags":["java","linux","rest","httpclient","resttemplate"],"comments":[{"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"score":0,"creation_date":1653495714,"post_id":72381099,"comment_id":127868498,"body_markdown":"is there a drawback to using 127.0.0.1 instead of localhost?","body":"is there a drawback to using 127.0.0.1 instead of localhost?"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1653496864,"post_id":72381099,"comment_id":127868916,"body_markdown":"Is your /etc/hosts file corrupted?","body":"Is your /etc/hosts file corrupted?"},{"owner":{"account_id":9544183,"reputation":103,"user_id":7090956,"accept_rate":38,"display_name":"Ujjwal Maheshwari"},"score":0,"creation_date":1653532383,"post_id":72381099,"comment_id":127877277,"body_markdown":"@RAZ_Muh_Taz i tried using 127.0.0.1 as well. Same result","body":"@RAZ_Muh_Taz i tried using 127.0.0.1 as well. Same result"},{"owner":{"account_id":2435703,"reputation":21468,"user_id":2125671,"display_name":"Philippe"},"score":0,"creation_date":1653590213,"post_id":72381099,"comment_id":127894202,"body_markdown":"Can you use `localhost2` and paste error messages for the other three servers ?","body":"Can you use <code>localhost2</code> and paste error messages for the other three servers ?"},{"owner":{"account_id":9544183,"reputation":103,"user_id":7090956,"accept_rate":38,"display_name":"Ujjwal Maheshwari"},"score":0,"creation_date":1653630225,"post_id":72381099,"comment_id":127901775,"body_markdown":"@Philippe the error is &quot;Connection Timed out&quot;","body":"@Philippe the error is &quot;Connection Timed out&quot;"}],"owner":{"account_id":9544183,"reputation":103,"user_id":7090956,"accept_rate":38,"display_name":"Ujjwal Maheshwari"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653495228,"creation_date":1653495228,"question_id":72381099,"body_markdown":"I am trying to make a POST request from one service to another service from my Java code. Both of the services are always running on the same server\r\nI am using restTemplate for this. Request URL :\r\n\r\n        RestTemplate restTemplate = new RestTemplate(httpRequestFactory);\r\n\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\theaders.set(HttpHeaders.CONTENT_TYPE, &quot;application/x-protobuf&quot;);\r\n\t\theaders.set(HttpHeaders.ACCEPT, &quot;text/plain&quot;);\r\n        org.springframework.http.HttpEntity&lt;byte[]&gt; request = new org.springframework.http.HttpEntity&lt;&gt;(definitions.toByteArray(), headers);\r\n\t\tString url =  &quot;http://localhost:8888/product-details/api/1.0/external_launches&quot;;\r\n\t\trestTemplate.exchange(url, HttpMethod.POST, request, Void.class);\r\n\r\n\r\nWhen I ran this code on one of my linux servers, this is the error I got : \r\n```\r\n2022-05-06 08:42:32,979 [209: Normal Priority Request Pool-62] ERROR test_appliance - I/O error on POST request for &quot;http://localhost:8888/product-details/api/1.0/external_launches&quot;: No route to host (Host unreachable); nested exception is java.net.NoRouteToHostException: No route to host (Host unreachable):org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;http://localhost:8888/product-details/api/1.0/external_launches&quot;: No route to host (Host unreachable); nested exception is java.net.NoRouteToHostException: No route to host (Host unreachable)\r\norg.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;http://localhost:8888/product-details/api/1.0/external_launches&quot;: No route to host (Host unreachable); nested exception is java.net.NoRouteToHostException: No route to host (Host unreachable)\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:675) ~[spring-web-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:622) ~[spring-web-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:540) ~[spring-web-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n```\r\n\r\nBut when I ssh into the linux box and make a curl request like this\r\n\r\n    curl -X POST http://localhost:8888/product-details/api/1.0/external_launches\r\n\r\nIt works fine\r\n\r\nThe main problem I have is that this kind of behaviour is only reproducible in 1 of my linux machines. I have 3 other linux machines on which the Java code works perfectly fine.\r\n\r\nAny ideas?","title":"No route To Host error when requesting localhost but curl request is successfull","body":"<p>I am trying to make a POST request from one service to another service from my Java code. Both of the services are always running on the same server\nI am using restTemplate for this. Request URL :</p>\n<pre><code>    RestTemplate restTemplate = new RestTemplate(httpRequestFactory);\n    HttpHeaders headers = new HttpHeaders();\n    headers.set(HttpHeaders.CONTENT_TYPE, &quot;application/x-protobuf&quot;);\n    headers.set(HttpHeaders.ACCEPT, &quot;text/plain&quot;);\n    org.springframework.http.HttpEntity&lt;byte[]&gt; request = new org.springframework.http.HttpEntity&lt;&gt;(definitions.toByteArray(), headers);\n    String url =  &quot;http://localhost:8888/product-details/api/1.0/external_launches&quot;;\n    restTemplate.exchange(url, HttpMethod.POST, request, Void.class);\n</code></pre>\n<p>When I ran this code on one of my linux servers, this is the error I got :</p>\n<pre><code>2022-05-06 08:42:32,979 [209: Normal Priority Request Pool-62] ERROR test_appliance - I/O error on POST request for &quot;http://localhost:8888/product-details/api/1.0/external_launches&quot;: No route to host (Host unreachable); nested exception is java.net.NoRouteToHostException: No route to host (Host unreachable):org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;http://localhost:8888/product-details/api/1.0/external_launches&quot;: No route to host (Host unreachable); nested exception is java.net.NoRouteToHostException: No route to host (Host unreachable)\norg.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;http://localhost:8888/product-details/api/1.0/external_launches&quot;: No route to host (Host unreachable); nested exception is java.net.NoRouteToHostException: No route to host (Host unreachable)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:675) ~[spring-web-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:622) ~[spring-web-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:540) ~[spring-web-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n</code></pre>\n<p>But when I ssh into the linux box and make a curl request like this</p>\n<pre><code>curl -X POST http://localhost:8888/product-details/api/1.0/external_launches\n</code></pre>\n<p>It works fine</p>\n<p>The main problem I have is that this kind of behaviour is only reproducible in 1 of my linux machines. I have 3 other linux machines on which the Java code works perfectly fine.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","user-interface","undo","command-pattern"],"comments":[{"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"score":0,"creation_date":1342556655,"post_id":11530276,"comment_id":123491519,"body_markdown":"Take a look at the [Command Pattern](https://en.wikipedia.org/wiki/Command_pattern), its uses include implementing undo/redo functionality.","body":"Take a look at the <a href=\"https://en.wikipedia.org/wiki/Command_pattern\" rel=\"nofollow noreferrer\">Command Pattern</a>, its uses include implementing undo/redo functionality."},{"owner":{"account_id":39812,"reputation":9161,"user_id":115018,"accept_rate":100,"display_name":"Nate W."},"score":1,"creation_date":1342557019,"post_id":11530276,"comment_id":15242744,"body_markdown":"Be sure to take a look at the built-in undo support; I&#39;ve never used it and I can&#39;t find a Swing tutorial for it, but [here](http://docs.oracle.com/javase/6/docs/api/javax/swing/undo/UndoManager.html) is the manager.","body":"Be sure to take a look at the built-in undo support; I&#39;ve never used it and I can&#39;t find a Swing tutorial for it, but <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/swing/undo/UndoManager.html\" rel=\"nofollow noreferrer\">here</a> is the manager."}],"answers":[{"tags":[],"owner":{"account_id":182557,"reputation":608,"user_id":417345,"accept_rate":100,"display_name":"nolegs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342556759,"creation_date":1342556759,"answer_id":11530358,"question_id":11530276,"body_markdown":"I would try to create an Action class, with a AddElementAction class inheriting off Action.\r\nAddElementAction could have a Do() and Undo() method which would add/remove elements accordingly. You can then keep two stacks of Actions for undo/redo, and just call Do()/Undo() on the top element before popping it.","title":"How do I implement a simple undo/redo for actions in java?","body":"<p>I would try to create an Action class, with a AddElementAction class inheriting off Action.\nAddElementAction could have a Do() and Undo() method which would add/remove elements accordingly. You can then keep two stacks of Actions for undo/redo, and just call Do()/Undo() on the top element before popping it.</p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455470956,"creation_date":1455470956,"answer_id":35394811,"question_id":11530276,"body_markdown":"`You have to define undo(), redo() operations along with execute() in Command interface itself`.\r\n\r\nexample:\r\n\r\n    interface Command {\r\n    \r\n        void execute() ;\r\n    \r\n        void undo() ;\r\n    \r\n        void redo() ;\r\n    }\r\n\r\nDefine a State in your ConcreteCommand class. Depending on current State after execute() method, you have to decide whether command should be added to Undo Stack or Redo Stack and take decision accordingly.\r\n\r\nHave a look at this [undo-redo][1] command article for better understanding.\r\n\r\n\r\n  [1]: http://sourcephile.blogspot.in/2011/04/how-to-do-undo-and-redo.html","title":"How do I implement a simple undo/redo for actions in java?","body":"<p><code>You have to define undo(), redo() operations along with execute() in Command interface itself</code>.</p>\n\n<p>example:</p>\n\n<pre><code>interface Command {\n\n    void execute() ;\n\n    void undo() ;\n\n    void redo() ;\n}\n</code></pre>\n\n<p>Define a State in your ConcreteCommand class. Depending on current State after execute() method, you have to decide whether command should be added to Undo Stack or Redo Stack and take decision accordingly.</p>\n\n<p>Have a look at this <a href=\"http://sourcephile.blogspot.in/2011/04/how-to-do-undo-and-redo.html\" rel=\"nofollow\">undo-redo</a> command article for better understanding.</p>\n"},{"tags":[],"owner":{"account_id":1458483,"reputation":5866,"user_id":1373465,"accept_rate":84,"display_name":"Menelaos Kotsollaris"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1653495183,"creation_date":1491151232,"answer_id":43170805,"question_id":11530276,"body_markdown":"TL;DR: You can support undo and redo actions by implementing the Command (p.233) and Memento (p.283) patterns (*[Design Patterns - Gamma et. al][1]*). \r\n\r\n**The Memento Pattern**\r\n\r\nThis simple pattern allows you to save the states of an object. Simply wrap the object in a new class and whenever its state changes, update it.\r\n\r\n```java\r\npublic class Memento\r\n{\r\n    MyObject myObject;\r\n    \r\n    public MyObject getState()\r\n    {\r\n        return myObject;\r\n    }\r\n    \r\n    public void setState(MyObject myObject)\r\n    {\r\n        this.myObject = myObject;\r\n    }\r\n}\r\n```\r\n\r\n**The Command Pattern**\r\n\r\nThe Command pattern stores the original object (that we want to support undo/redo) and the memento object, which we need in case of an undo. Moreover, 2 methods are defined:\r\n\r\n 1. *execute*: executes the command\r\n 2. *unExecute*: removes the command\r\n\r\nCode:\r\n  \r\n```java\r\npublic abstract class Command\r\n{\r\n    MyObject myObject;\r\n    Memento memento;\r\n    \r\n    public abstract void execute();\r\n    \r\n    public abstract void unExecute();\r\n}\r\n```\r\n\r\nThey define the logical &quot;Actions&quot; that extend Command (e.g. Insert):\r\n\r\n    public class InsertCharacterCommand extends Command\r\n    {\r\n        //members..\r\n    \r\n        public InsertCharacterCommand()\r\n        {\r\n            //instantiate \r\n        }\r\n    \r\n        @Override public void execute()\r\n        {\r\n            //create Memento before executing\r\n            //set new state\r\n        }\r\n    \r\n        @Override public void unExecute()\r\n        {\r\n            this.myObject = memento.getState()l\r\n        }\r\n    }\r\n\r\n**Applying the patterns:**\r\n\r\nThis last step defines the undo/redo behavior. The core idea is to store a stack of commands that works as a history list of the commands. To support redo, you can keep a secondary pointer whenever an undo command is applied. Note that whenever a new object is inserted, then all the commands after its current position get removed; that&#39;s achieved by the `deleteElementsAfterPointer` method defined below:\r\n\r\n```java\r\nprivate int undoRedoPointer = -1;\r\nprivate Stack&lt;Command&gt; commandStack = new Stack&lt;&gt;();\r\n\r\nprivate void insertCommand()\r\n{\r\n    deleteElementsAfterPointer(undoRedoPointer);\r\n    Command command =\r\n            new InsertCharacterCommand();\r\n    command.execute();\r\n    commandStack.push(command);\r\n    undoRedoPointer++;\r\n}\r\n\r\nprivate void deleteElementsAfterPointer(int undoRedoPointer)\r\n{\r\n    if(commandStack.size()&lt;1)return;\r\n    for(int i = commandStack.size()-1; i &gt; undoRedoPointer; i--)\r\n    {\r\n        commandStack.remove(i);\r\n    }\r\n}\r\n\r\n  private void undo()\r\n{\r\n    Command command = commandStack.get(undoRedoPointer);\r\n    command.unExecute();\r\n    undoRedoPointer--;\r\n}\r\n\r\nprivate void redo()\r\n{\r\n    if(undoRedoPointer == commandStack.size() - 1)\r\n        return;\r\n    undoRedoPointer++;\r\n    Command command = commandStack.get(undoRedoPointer);\r\n    command.execute();\r\n}\r\n```\r\n\r\n**Conclusion:** \r\n\r\nWhat makes this design powerful is the fact that you can add as many commands as you like (by extending the `Command` class) e.g., `RemoveCommand`, `UpdateCommand` and so on. Moreover, the same pattern is applicable to any type of object, making the design *reusable* and *modifiable* across different use cases.\r\n\r\n\r\n  [1]: \r\nhttps://www.amazon.ca/Design-Patterns-Elements-Reusable-Object-Oriented/dp/0201633612/ref=tmm_hrd_swatch_0?_encoding=UTF8&amp;qid=&amp;sr=","title":"How do I implement a simple undo/redo for actions in java?","body":"<p>TL;DR: You can support undo and redo actions by implementing the Command (p.233) and Memento (p.283) patterns (<em><a href=\"https://www.amazon.ca/Design-Patterns-Elements-Reusable-Object-Oriented/dp/0201633612/ref=tmm_hrd_swatch_0?_encoding=UTF8&amp;qid=&amp;sr=\" rel=\"nofollow noreferrer\">Design Patterns - Gamma et. al</a></em>).</p>\n<p><strong>The Memento Pattern</strong></p>\n<p>This simple pattern allows you to save the states of an object. Simply wrap the object in a new class and whenever its state changes, update it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Memento\n{\n    MyObject myObject;\n    \n    public MyObject getState()\n    {\n        return myObject;\n    }\n    \n    public void setState(MyObject myObject)\n    {\n        this.myObject = myObject;\n    }\n}\n</code></pre>\n<p><strong>The Command Pattern</strong></p>\n<p>The Command pattern stores the original object (that we want to support undo/redo) and the memento object, which we need in case of an undo. Moreover, 2 methods are defined:</p>\n<ol>\n<li><em>execute</em>: executes the command</li>\n<li><em>unExecute</em>: removes the command</li>\n</ol>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Command\n{\n    MyObject myObject;\n    Memento memento;\n    \n    public abstract void execute();\n    \n    public abstract void unExecute();\n}\n</code></pre>\n<p>They define the logical &quot;Actions&quot; that extend Command (e.g. Insert):</p>\n<pre><code>public class InsertCharacterCommand extends Command\n{\n    //members..\n\n    public InsertCharacterCommand()\n    {\n        //instantiate \n    }\n\n    @Override public void execute()\n    {\n        //create Memento before executing\n        //set new state\n    }\n\n    @Override public void unExecute()\n    {\n        this.myObject = memento.getState()l\n    }\n}\n</code></pre>\n<p><strong>Applying the patterns:</strong></p>\n<p>This last step defines the undo/redo behavior. The core idea is to store a stack of commands that works as a history list of the commands. To support redo, you can keep a secondary pointer whenever an undo command is applied. Note that whenever a new object is inserted, then all the commands after its current position get removed; that's achieved by the <code>deleteElementsAfterPointer</code> method defined below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private int undoRedoPointer = -1;\nprivate Stack&lt;Command&gt; commandStack = new Stack&lt;&gt;();\n\nprivate void insertCommand()\n{\n    deleteElementsAfterPointer(undoRedoPointer);\n    Command command =\n            new InsertCharacterCommand();\n    command.execute();\n    commandStack.push(command);\n    undoRedoPointer++;\n}\n\nprivate void deleteElementsAfterPointer(int undoRedoPointer)\n{\n    if(commandStack.size()&lt;1)return;\n    for(int i = commandStack.size()-1; i &gt; undoRedoPointer; i--)\n    {\n        commandStack.remove(i);\n    }\n}\n\n  private void undo()\n{\n    Command command = commandStack.get(undoRedoPointer);\n    command.unExecute();\n    undoRedoPointer--;\n}\n\nprivate void redo()\n{\n    if(undoRedoPointer == commandStack.size() - 1)\n        return;\n    undoRedoPointer++;\n    Command command = commandStack.get(undoRedoPointer);\n    command.execute();\n}\n</code></pre>\n<p><strong>Conclusion:</strong></p>\n<p>What makes this design powerful is the fact that you can add as many commands as you like (by extending the <code>Command</code> class) e.g., <code>RemoveCommand</code>, <code>UpdateCommand</code> and so on. Moreover, the same pattern is applicable to any type of object, making the design <em>reusable</em> and <em>modifiable</em> across different use cases.</p>\n"}],"owner":{"account_id":1435783,"reputation":677,"user_id":1357201,"accept_rate":75,"display_name":"Chea Indian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43323,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":3,"score":16,"last_activity_date":1653495183,"creation_date":1342556444,"question_id":11530276,"body_markdown":"I&#39;ve created an XML editor and I&#39;m stuck at the last phase: adding undo/redo functionality.\r\n\r\nI&#39;ve only got to add undo/redo for when users add elements, attributes, or text to the JTree.\r\n\r\nI&#39;m still quite new at this but in school today I attempted (unsuccessfully) to create two stack object []&#39;s called undo and redo and to add the actions performed into them.\r\n\r\nFor instance, I have:\r\n\r\n    Action AddElement() {\r\n    \r\n    // some code\r\n    public void actionPerformed(ActionEvent e) {\r\n    \r\n                        performElementAction();\r\n                    }\r\n    }\r\n\r\nthe performElementAction just actually adds an Element to the JTree.\r\n\r\nI want to add a way to add this action performed to my undo stack.  is there a simple way to just undo.push(  the entire action performed) or something?","title":"How do I implement a simple undo/redo for actions in java?","body":"<p>I've created an XML editor and I'm stuck at the last phase: adding undo/redo functionality.</p>\n\n<p>I've only got to add undo/redo for when users add elements, attributes, or text to the JTree.</p>\n\n<p>I'm still quite new at this but in school today I attempted (unsuccessfully) to create two stack object []'s called undo and redo and to add the actions performed into them.</p>\n\n<p>For instance, I have:</p>\n\n<pre><code>Action AddElement() {\n\n// some code\npublic void actionPerformed(ActionEvent e) {\n\n                    performElementAction();\n                }\n}\n</code></pre>\n\n<p>the performElementAction just actually adds an Element to the JTree.</p>\n\n<p>I want to add a way to add this action performed to my undo stack.  is there a simple way to just undo.push(  the entire action performed) or something?</p>\n"},{"tags":["java","server","lucene","rpc"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1653501708,"post_id":72380839,"comment_id":127870591,"body_markdown":"Is the `lucene` tag relevant to the problem you are having? It looks more like maybe a configuration problem with [Apache XML-RPC](https://ws.apache.org/xmlrpc/).","body":"Is the <code>lucene</code> tag relevant to the problem you are having? It looks more like maybe a configuration problem with <a href=\"https://ws.apache.org/xmlrpc/\" rel=\"nofollow noreferrer\">Apache XML-RPC</a>."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1653501717,"post_id":72380839,"comment_id":127870595,"body_markdown":"Also, what is in `server.jar`?","body":"Also, what is in <code>server.jar</code>?"},{"owner":{"account_id":20838639,"reputation":159,"user_id":15305903,"display_name":"tritomit"},"score":0,"creation_date":1654162449,"post_id":72380839,"comment_id":128027439,"body_markdown":"@andrewJames the `server.jar` came in the installation of this app I&#39;m trying to configure and I cannot see the contents of it when `nano server.jar`. I&#39;m trying to follow https://github.com/ILIAS-eLearning/ILIAS/tree/release_7/Services/WebServices/RPC/lib and https://docu.ilias.de/goto_docu_pg_8239_367.html .","body":"@andrewJames the <code>server.jar</code> came in the installation of this app I&#39;m trying to configure and I cannot see the contents of it when <code>nano server.jar</code>. I&#39;m trying to follow <a href=\"https://github.com/ILIAS-eLearning/ILIAS/tree/release_7/Services/WebServices/RPC/lib\" rel=\"nofollow noreferrer\">github.com/ILIAS-eLearning/ILIAS/tree/release_7/Services/&hellip;</a> and <a href=\"https://docu.ilias.de/goto_docu_pg_8239_367.html\" rel=\"nofollow noreferrer\">docu.ilias.de/goto_docu_pg_8239_367.html</a> ."}],"owner":{"account_id":20838639,"reputation":159,"user_id":15305903,"display_name":"tritomit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653494438,"creation_date":1653494189,"question_id":72380839,"body_markdown":"I am trying to initialize an Apache Lucene server that will act as a search engine and as a .pdf generator. \r\n\r\nMy server (`server.ini`) config looks like: \r\n\r\n```\r\n[Server]\r\nIpAddress = 127.0.0.1\r\nPort = 11112\r\nIndexPath = /var/www/tmp\r\nLogFile = /var/log/server.log\r\nLogLevel = INFO\r\n\r\n# number of CPU threads when indexing\r\nNumThreads = 3\r\nRamBufferSize = 512M\r\n# max size of e.g. PDFs to be analyzed\r\nIndexMaxFileSizeMB=5\r\n\r\n\r\n[Client1]\r\nClientId = id\r\nNicId = 0\r\n```\r\n\r\nWhen I&#39;m running the `start` command: \r\n\r\n`java -Dfile.encoding=UTF-8 -jar server.jar server.ini start &amp;`\r\n\r\nI get the following error/warning even though the server it&#39;s starting and running after this, but something seems to be wrong: \r\n\r\n```\r\n12:13:39.607 [XML-RPC-0] ERROR org.apache.xmlrpc.server.XmlRpcErrorLogger - Read timed out\r\njava.net.SocketTimeoutException: Read timed out\r\n\tat java.net.SocketInputStream.socketRead0(Native Method) ~[?:?]\r\n\tat java.net.SocketInputStream.socketRead(SocketInputStream.java:115) ~[?:?]\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:168) ~[?:?]\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:140) ~[?:?]\r\n\tat java.io.BufferedInputStream.fill(BufferedInputStream.java:252) ~[?:?]\r\n\tat java.io.BufferedInputStream.read(BufferedInputStream.java:271) ~[?:?]\r\n\tat org.apache.xmlrpc.webserver.Connection.readLine(Connection.java:241) ~[server.jar:?]\r\n\tat org.apache.xmlrpc.webserver.Connection.getRequestConfig(Connection.java:150) ~[server.jar:?]\r\n\tat org.apache.xmlrpc.webserver.Connection.run(Connection.java:204) ~[server.jar:?]\r\n\tat org.apache.xmlrpc.util.ThreadPool$Poolable$1.run(ThreadPool.java:68) ~[server.jar:?]\r\n```\r\n\r\nWhen running `status` this is `running`:\r\n\r\n`sudo java -Dfile.encoding=UTF-8 -jar server.jar server.ini status &amp;`\r\n\r\nI get: \r\n\r\n`Running`\r\n\r\nCan somebody see what&#39;s wrong with the above, I cannot get my head around it?\r\nThanks","title":"Apache Lucene (Java server) initialization problem","body":"<p>I am trying to initialize an Apache Lucene server that will act as a search engine and as a .pdf generator.</p>\n<p>My server (<code>server.ini</code>) config looks like:</p>\n<pre><code>[Server]\nIpAddress = 127.0.0.1\nPort = 11112\nIndexPath = /var/www/tmp\nLogFile = /var/log/server.log\nLogLevel = INFO\n\n# number of CPU threads when indexing\nNumThreads = 3\nRamBufferSize = 512M\n# max size of e.g. PDFs to be analyzed\nIndexMaxFileSizeMB=5\n\n\n[Client1]\nClientId = id\nNicId = 0\n</code></pre>\n<p>When I'm running the <code>start</code> command:</p>\n<p><code>java -Dfile.encoding=UTF-8 -jar server.jar server.ini start &amp;</code></p>\n<p>I get the following error/warning even though the server it's starting and running after this, but something seems to be wrong:</p>\n<pre><code>12:13:39.607 [XML-RPC-0] ERROR org.apache.xmlrpc.server.XmlRpcErrorLogger - Read timed out\njava.net.SocketTimeoutException: Read timed out\n    at java.net.SocketInputStream.socketRead0(Native Method) ~[?:?]\n    at java.net.SocketInputStream.socketRead(SocketInputStream.java:115) ~[?:?]\n    at java.net.SocketInputStream.read(SocketInputStream.java:168) ~[?:?]\n    at java.net.SocketInputStream.read(SocketInputStream.java:140) ~[?:?]\n    at java.io.BufferedInputStream.fill(BufferedInputStream.java:252) ~[?:?]\n    at java.io.BufferedInputStream.read(BufferedInputStream.java:271) ~[?:?]\n    at org.apache.xmlrpc.webserver.Connection.readLine(Connection.java:241) ~[server.jar:?]\n    at org.apache.xmlrpc.webserver.Connection.getRequestConfig(Connection.java:150) ~[server.jar:?]\n    at org.apache.xmlrpc.webserver.Connection.run(Connection.java:204) ~[server.jar:?]\n    at org.apache.xmlrpc.util.ThreadPool$Poolable$1.run(ThreadPool.java:68) ~[server.jar:?]\n</code></pre>\n<p>When running <code>status</code> this is <code>running</code>:</p>\n<p><code>sudo java -Dfile.encoding=UTF-8 -jar server.jar server.ini status &amp;</code></p>\n<p>I get:</p>\n<p><code>Running</code></p>\n<p>Can somebody see what's wrong with the above, I cannot get my head around it?\nThanks</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1653479132,"post_id":72376554,"comment_id":127861261,"body_markdown":"Java characters are [UTF-16](https://en.wikipedia.org/wiki/UTF-16) values.  You cannot directly embed F1960 in a String, but you can write `String.format(&quot;%c&quot;, 0xF1960)`, or you can directly specify the UTF-16 values: `&quot;\\udb86\\udd60&quot;`","body":"Java characters are <a href=\"https://en.wikipedia.org/wiki/UTF-16\" rel=\"nofollow noreferrer\">UTF-16</a> values.  You cannot directly embed F1960 in a String, but you can write <code>String.format(&quot;%c&quot;, 0xF1960)</code>, or you can directly specify the UTF-16 values: <code>&quot;\\udb86\\udd60&quot;</code>"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1653500433,"post_id":72376554,"comment_id":127870149,"body_markdown":"Maybe use [ikonli](https://kordamp.org/ikonli/).","body":"Maybe use <a href=\"https://kordamp.org/ikonli/\" rel=\"nofollow noreferrer\">ikonli</a>."}],"answers":[{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1653479476,"creation_date":1653478949,"answer_id":72376989,"question_id":72376554,"body_markdown":"For icons I&#39;d propose to use [ikonli][1]. It provides the best integration of a lot of icon fonts into JavaFX that i know.\r\n\r\nThe specific set you are looking for seems to be this one: [materialdesign2][2]\r\n\r\n\r\n  [1]: https://kordamp.org/ikonli/\r\n  [2]: https://kordamp.org/ikonli/cheat-sheet-materialdesign2.html","title":"How to add material design icon to JavaFX using codepoint?","body":"<p>For icons I'd propose to use <a href=\"https://kordamp.org/ikonli/\" rel=\"nofollow noreferrer\">ikonli</a>. It provides the best integration of a lot of icon fonts into JavaFX that i know.</p>\n<p>The specific set you are looking for seems to be this one: <a href=\"https://kordamp.org/ikonli/cheat-sheet-materialdesign2.html\" rel=\"nofollow noreferrer\">materialdesign2</a></p>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653493591,"creation_date":1653493591,"answer_id":72380689,"question_id":72376554,"body_markdown":"Java characters are [UTF-16](https://en.wikipedia.org/wiki/UTF-16) values.  You cannot directly embed U+F1960 in a String, because Unicode `\\u` escapes must be followed by exactly four hex digits.\r\n\r\nCharacters with codepoint values above FFFF are called supplementary characters.  UTF-16 represents such a character using a *surrogate pair,* which is a sequence of two characters from a reserved section of the Unicode repertoire.\r\n\r\nYou can represent U+F1960 in a String literal as its surrogate pair: `&quot;\\udb86\\udd60&quot;`\r\n\r\nAn alternative approach that’s easier to remember is `String.format(&quot;%c&quot;, 0xF1960)`.  The underlying java.util.Formatter is documented as allowing an Integer argument for `%c`, and unlike characters, an Integer can be larger than 16 bits.\r\n","title":"How to add material design icon to JavaFX using codepoint?","body":"<p>Java characters are <a href=\"https://en.wikipedia.org/wiki/UTF-16\" rel=\"nofollow noreferrer\">UTF-16</a> values.  You cannot directly embed U+F1960 in a String, because Unicode <code>\\u</code> escapes must be followed by exactly four hex digits.</p>\n<p>Characters with codepoint values above FFFF are called supplementary characters.  UTF-16 represents such a character using a <em>surrogate pair,</em> which is a sequence of two characters from a reserved section of the Unicode repertoire.</p>\n<p>You can represent U+F1960 in a String literal as its surrogate pair: <code>&quot;\\udb86\\udd60&quot;</code></p>\n<p>An alternative approach that’s easier to remember is <code>String.format(&quot;%c&quot;, 0xF1960)</code>.  The underlying java.util.Formatter is documented as allowing an Integer argument for <code>%c</code>, and unlike characters, an Integer can be larger than 16 bits.</p>\n"}],"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72380689,"answer_count":2,"score":2,"last_activity_date":1653493591,"creation_date":1653477081,"question_id":72376554,"body_markdown":"To use material design icons I did the following:\r\n\r\n1.Downloaded ttf font from https://materialdesignicons.com/&lt;br&gt;\r\n2.in my css file I added:\r\n  \r\n\r\n      @font-face {\r\n        src: url(&#39;fonts/materialdesignicons-webfont.ttf&#39;);\r\n      }\r\n      .icon {\r\n        -fx-font-size: 15px;\r\n        -fx-font-family: &#39;Material Design Icons&#39;;\r\n      }\r\n\r\n3.Here https://pictogrammers.github.io/@mdi/font/6.5.95/ I copied the first icon (&#989536; mdi-account-lock-open with codepoint F1960) and pasted this icon in my Java code:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n4.After that I added `icon` class to `button` and everything is ok - I have a button with an icon.\r\n\r\nThe only problem is that in my java code I can&#39;t see what icon I use - I have everywhere `empty rectangles`. If it is possible, I would like to add icon using codepoints, for this example codepoint `F1960`. I tried \r\n\r\n    private final Button button = new Button(&quot;\\uF1960&quot;);\r\n\r\nbut it didn&#39;t work. Could anyone say how to do it?\r\n\r\n  [1]: https://i.stack.imgur.com/17uz1.png","title":"How to add material design icon to JavaFX using codepoint?","body":"<p>To use material design icons I did the following:</p>\n<p>1.Downloaded ttf font from <a href=\"https://materialdesignicons.com/\" rel=\"nofollow noreferrer\">https://materialdesignicons.com/</a><br>\n2.in my css file I added:</p>\n<pre><code>  @font-face {\n    src: url('fonts/materialdesignicons-webfont.ttf');\n  }\n  .icon {\n    -fx-font-size: 15px;\n    -fx-font-family: 'Material Design Icons';\n  }\n</code></pre>\n<p>3.Here <a href=\"https://pictogrammers.github.io/@mdi/font/6.5.95/\" rel=\"nofollow noreferrer\">https://pictogrammers.github.io/@mdi/font/6.5.95/</a> I copied the first icon (󱥠 mdi-account-lock-open with codepoint F1960) and pasted this icon in my Java code:</p>\n<p><a href=\"https://i.stack.imgur.com/17uz1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/17uz1.png\" alt=\"enter image description here\" /></a></p>\n<p>4.After that I added <code>icon</code> class to <code>button</code> and everything is ok - I have a button with an icon.</p>\n<p>The only problem is that in my java code I can't see what icon I use - I have everywhere <code>empty rectangles</code>. If it is possible, I would like to add icon using codepoints, for this example codepoint <code>F1960</code>. I tried</p>\n<pre><code>private final Button button = new Button(&quot;\\uF1960&quot;);\n</code></pre>\n<p>but it didn't work. Could anyone say how to do it?</p>\n"},{"tags":["java","maven","javafx","junit","testfx"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1653494714,"post_id":72379923,"comment_id":127868077,"body_markdown":"The dependency `mysql-connector-java` is not even the most recent one nor  does it define a module as expected `mysql.connector.java`...that&#39;s the reason.. also you have defined `&lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;` but `&lt;source&gt;18&lt;/source&gt;` You should decide which one you will use either the property way or the explicit configuration of the plugin...","body":"The dependency <code>mysql-connector-java</code> is not even the most recent one nor  does it define a module as expected <code>mysql.connector.java</code>...that&#39;s the reason.. also you have defined <code>&lt;maven.compiler.source&gt;17&lt;&#47;maven.compiler.source&gt;</code> but <code>&lt;source&gt;18&lt;&#47;source&gt;</code> You should decide which one you will use either the property way or the explicit configuration of the plugin..."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1653607410,"post_id":72379923,"comment_id":127898682,"body_markdown":"Do not manually add libraries to the IDE project. Ensure that all libraries are correctly defined as maven dependencies and synchronize the IDE project with maven to have it import the libraries automatically. That way IDE builds and maven builds are kept in sync, either both will pass or both will fail.","body":"Do not manually add libraries to the IDE project. Ensure that all libraries are correctly defined as maven dependencies and synchronize the IDE project with maven to have it import the libraries automatically. That way IDE builds and maven builds are kept in sync, either both will pass or both will fail."}],"owner":{"account_id":18741633,"reputation":31,"user_id":13664783,"display_name":"Ina Maria"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653493392,"creation_date":1653490493,"question_id":72379923,"body_markdown":"when i&#39;m running my code from intellij, it works fine, but when i&#39;m using `mvn clean install`, these errors appear:\r\ni&#39;m using java 18.\r\nI don&#39;t know what is wrong, I tried to add all dependencies and modules in the project structure, but it does not seem to find them.\r\n\r\n    Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) \r\n\r\n    /src/main/java/module-info.java:[6,29] module not found: mysql.connector.java\r\n    /src/main/java/module-info.java:[7,16] module not found: org.testfx\r\n    src/main/java/module-info.java:[8,25] module not found: org.testfx.junit\r\n\r\nthis is my pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;demo&lt;/name&gt;\r\n    \r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;junit.version&gt;5.8.2&lt;/junit.version&gt;\r\n            &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n                &lt;version&gt;18.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n                &lt;version&gt;18.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.testfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;testfx-internal-java9&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.12-alpha&lt;/version&gt;\r\n    \r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n                &lt;version&gt;18.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;argLine&gt;\r\n                            --add-exports javafx.graphics/com.sun.javafx.application=org.testfx\r\n                        &lt;/argLine&gt;\r\n                        &lt;redirectTestOutputToFile&gt;true&lt;/redirectTestOutputToFile&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;18&lt;/source&gt;\r\n                        &lt;target&gt;18&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                    &lt;version&gt;5.1.40&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;0.0.8&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                            &lt;id&gt;default-cli&lt;/id&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;mainClass&gt;com.example.demo/com.example.demo.HelloApplication&lt;/mainClass&gt;\r\n                                &lt;launcher&gt;app&lt;/launcher&gt;\r\n                                &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                                &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                                &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                                &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                                &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nand my module-info.java\r\n\r\n    module com.example.demo {\r\n        requires javafx.controls;\r\n        requires javafx.fxml;\r\n        requires javafx.graphics;\r\n        requires java.sql;\r\n        requires mysql.connector.java;\r\n       requires org.testfx;\r\n        requires  org.testfx.junit;\r\n    \r\n    \r\n        opens com.example.demo to javafx.fxml;\r\n        exports com.example.demo;\r\n    \r\n       // exports com.sun.javafx.application;\r\n    }\r\n\r\nthank you in advance!","title":"mvn clean install: failed to execute goal org.apache.maven.plugins:maven-compiler plugin:3.8.1 using intellij","body":"<p>when i'm running my code from intellij, it works fine, but when i'm using <code>mvn clean install</code>, these errors appear:\ni'm using java 18.\nI don't know what is wrong, I tried to add all dependencies and modules in the project structure, but it does not seem to find them.</p>\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) \n\n/src/main/java/module-info.java:[6,29] module not found: mysql.connector.java\n/src/main/java/module-info.java:[7,16] module not found: org.testfx\nsrc/main/java/module-info.java:[8,25] module not found: org.testfx.junit\n</code></pre>\n<p>this is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.8.2&lt;/junit.version&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;18.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;18.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testfx&lt;/groupId&gt;\n            &lt;artifactId&gt;testfx-internal-java9&lt;/artifactId&gt;\n            &lt;version&gt;4.0.12-alpha&lt;/version&gt;\n\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;18.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;\n                        --add-exports javafx.graphics/com.sun.javafx.application=org.testfx\n                    &lt;/argLine&gt;\n                    &lt;redirectTestOutputToFile&gt;true&lt;/redirectTestOutputToFile&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;18&lt;/source&gt;\n                    &lt;target&gt;18&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n                &lt;version&gt;5.1.40&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;com.example.demo/com.example.demo.HelloApplication&lt;/mainClass&gt;\n                            &lt;launcher&gt;app&lt;/launcher&gt;\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>and my module-info.java</p>\n<pre><code>module com.example.demo {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires javafx.graphics;\n    requires java.sql;\n    requires mysql.connector.java;\n   requires org.testfx;\n    requires  org.testfx.junit;\n\n\n    opens com.example.demo to javafx.fxml;\n    exports com.example.demo;\n\n   // exports com.sun.javafx.application;\n}\n</code></pre>\n<p>thank you in advance!</p>\n"},{"tags":["java","http","https"],"answers":[{"tags":[],"owner":{"account_id":1728083,"reputation":41,"user_id":1582314,"display_name":"user1582314"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1653493332,"creation_date":1653493332,"answer_id":72380623,"question_id":69923174,"body_markdown":"Since Java 17 reflections throws exceptions before 17 it was only a warning.\r\n\r\nSet these command line options to allow the reflection \r\n   \r\n\r\n     --add-opens=java.base/java.net=ALL-UNNAMED","title":"PATCH request for HttpsURLConnection","body":"<p>Since Java 17 reflections throws exceptions before 17 it was only a warning.</p>\n<p>Set these command line options to allow the reflection</p>\n<pre><code> --add-opens=java.base/java.net=ALL-UNNAMED\n</code></pre>\n"}],"owner":{"account_id":23302459,"reputation":21,"user_id":17382904,"display_name":"zvega"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1426,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653493332,"creation_date":1636604751,"question_id":69923174,"body_markdown":"I&#39;m trying to do a PATCH in Java, and I tried this solution https://stackoverflow.com/questions/22355235/patch-request-using-jersey-client\r\n\r\nHowever, I&#39;m getting this exception:\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.reflect.InaccessibleObjectException: Unable to make field private static final java.lang.String[] java.net.HttpURLConnection.methods accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @6b29883d\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:177)\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:171)\r\n\tat main.Methods.modifyPATCH(Methods.java:163)\r\n\tat main.Methods.connectPATCHtoken(Methods.java:144)\r\n\tat main.GetServerProperties.locator(GetServerProperties.java:91)\r\n\tat swing.MainWindow$8.actionPerformed(MainWindow.java:177)\r\n\tat java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\r\n\tat java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\r\n\tat java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\r\n\tat java.desktop/java.awt.Component.processMouseEvent(Component.java:6617)\r\n\tat java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3342)\r\n\tat java.desktop/java.awt.Component.processEvent(Component.java:6382)\r\n\tat java.desktop/java.awt.Container.processEvent(Container.java:2264)\r\n\tat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:4993)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2322)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4825)\r\n\tat java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4934)\r\n\tat java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4563)\r\n\tat java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4504)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2308)\r\n\tat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2773)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4825)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:772)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:95)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:743)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n\r\n\r\nThis is the code that I added:\r\n\r\n    \tpublic static void modifyPATCH(final HttpURLConnection httpURLConnection, final String method) {\r\n\t\ttry {\r\n\t         Field methodsField = HttpURLConnection.class.getDeclaredField(&quot;methods&quot;);\r\n\t         methodsField.setAccessible(true);\r\n\t         // get the methods field modifiers\r\n\t         Field modifiersField = Field.class.getDeclaredField(&quot;modifiers&quot;);\r\n\t         // bypass the &quot;private&quot; modifier \r\n\t         modifiersField.setAccessible(true);\r\n\r\n\t         // remove the &quot;final&quot; modifier\r\n\t         modifiersField.setInt(methodsField, methodsField.getModifiers() &amp; ~Modifier.FINAL);\r\n\r\n\t         // valid HTTP methods \r\n\t         String[] methods = {\r\n\t                    &quot;GET&quot;, &quot;POST&quot;, &quot;HEAD&quot;, &quot;OPTIONS&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;TRACE&quot;, &quot;PATCH&quot;\r\n\t         };\r\n\t         // set the new methods - including patch\r\n\t         methodsField.set(null, methods);\r\n\r\n\t     } catch (SecurityException | IllegalArgumentException | IllegalAccessException | NoSuchFieldException e) {\r\n\t      e.printStackTrace();\r\n\t     }\r\n\t}\r\n\r\nAnd I&#39;m calling it from this method:\r\n\r\n\tpublic static void connectPATCHtoken(URL url, String token) {\r\n\t\t\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tconnection = (HttpsURLConnection) url.openConnection();\t\r\n\t\t\tmodifyPATCH(connection, &quot;PATCH&quot;);\r\n\t\t\tconnection.setRequestMethod(&quot;PATCH&quot;);\t\r\n\t\t\tconnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; utf-8&quot;);\r\n\t\t\tconnection.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n\t\t\tconnection.setDoOutput(true);\r\n\t\t\tString oauth = &quot;OAuth &quot; + token;\r\n\t\t\tconnection.setRequestProperty(&quot;Authorization&quot;, oauth);\r\n\t\t\tconnection.setConnectTimeout(5000);\r\n\t\t\tconnection.setReadTimeout(5000);\r\n\t\t\tsetConnection(connection);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t}\r\n\r\nWhat am I doing wrong?\r\n\r\nI updated the JDK to version 17 and it didn&#39;t help.","title":"PATCH request for HttpsURLConnection","body":"<p>I'm trying to do a PATCH in Java, and I tried this solution <a href=\"https://stackoverflow.com/questions/22355235/patch-request-using-jersey-client\">PATCH request using Jersey Client</a></p>\n<p>However, I'm getting this exception:</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.reflect.InaccessibleObjectException: Unable to make field private static final java.lang.String[] java.net.HttpURLConnection.methods accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @6b29883d\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357)\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\nat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:177)\nat java.base/java.lang.reflect.Field.setAccessible(Field.java:171)\nat main.Methods.modifyPATCH(Methods.java:163)\nat main.Methods.connectPATCHtoken(Methods.java:144)\nat main.GetServerProperties.locator(GetServerProperties.java:91)\nat swing.MainWindow$8.actionPerformed(MainWindow.java:177)\nat java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\nat java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\nat java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\nat java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\nat java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\nat java.desktop/java.awt.Component.processMouseEvent(Component.java:6617)\nat java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3342)\nat java.desktop/java.awt.Component.processEvent(Component.java:6382)\nat java.desktop/java.awt.Container.processEvent(Container.java:2264)\nat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:4993)\nat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2322)\nat java.desktop/java.awt.Component.dispatchEvent(Component.java:4825)\nat java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4934)\nat java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4563)\nat java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4504)\nat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2308)\nat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2773)\nat java.desktop/java.awt.Component.dispatchEvent(Component.java:4825)\nat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:772)\nat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\nat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\nat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\nat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:95)\nat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\nat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:743)\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\nat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\nat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\nat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\nat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\nat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\nat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\nat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\nat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n</code></pre>\n<p>This is the code that I added:</p>\n<pre><code>    public static void modifyPATCH(final HttpURLConnection httpURLConnection, final String method) {\n    try {\n         Field methodsField = HttpURLConnection.class.getDeclaredField(&quot;methods&quot;);\n         methodsField.setAccessible(true);\n         // get the methods field modifiers\n         Field modifiersField = Field.class.getDeclaredField(&quot;modifiers&quot;);\n         // bypass the &quot;private&quot; modifier \n         modifiersField.setAccessible(true);\n\n         // remove the &quot;final&quot; modifier\n         modifiersField.setInt(methodsField, methodsField.getModifiers() &amp; ~Modifier.FINAL);\n\n         // valid HTTP methods \n         String[] methods = {\n                    &quot;GET&quot;, &quot;POST&quot;, &quot;HEAD&quot;, &quot;OPTIONS&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;TRACE&quot;, &quot;PATCH&quot;\n         };\n         // set the new methods - including patch\n         methodsField.set(null, methods);\n\n     } catch (SecurityException | IllegalArgumentException | IllegalAccessException | NoSuchFieldException e) {\n      e.printStackTrace();\n     }\n}\n</code></pre>\n<p>And I'm calling it from this method:</p>\n<pre><code>public static void connectPATCHtoken(URL url, String token) {\n    \n    try {\n        \n        connection = (HttpsURLConnection) url.openConnection(); \n        modifyPATCH(connection, &quot;PATCH&quot;);\n        connection.setRequestMethod(&quot;PATCH&quot;);   \n        connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; utf-8&quot;);\n        connection.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n        connection.setDoOutput(true);\n        String oauth = &quot;OAuth &quot; + token;\n        connection.setRequestProperty(&quot;Authorization&quot;, oauth);\n        connection.setConnectTimeout(5000);\n        connection.setReadTimeout(5000);\n        setConnection(connection);\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n}\n</code></pre>\n<p>What am I doing wrong?</p>\n<p>I updated the JDK to version 17 and it didn't help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3701688,"reputation":3357,"user_id":3081206,"display_name":"takendarkk"},"score":0,"creation_date":1498667399,"post_id":44807978,"comment_id":76596139,"body_markdown":"When asking for free help, at least take the time to format your code correctly.","body":"When asking for free help, at least take the time to format your code correctly."},{"owner":{"account_id":11206495,"reputation":15,"user_id":8221966,"accept_rate":33,"display_name":"Alexander Vassios"},"score":0,"creation_date":1498667786,"post_id":44807978,"comment_id":76596382,"body_markdown":"Does that make you a little happier?","body":"Does that make you a little happier?"},{"owner":{"account_id":11206495,"reputation":15,"user_id":8221966,"accept_rate":33,"display_name":"Alexander Vassios"},"score":0,"creation_date":1498668687,"post_id":44807978,"comment_id":76596926,"body_markdown":"I still need help with this please guys.","body":"I still need help with this please guys."}],"answers":[{"tags":[],"owner":{"account_id":8602894,"reputation":13,"user_id":6443841,"display_name":"Error 1000"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498673735,"creation_date":1498673320,"answer_id":44809705,"question_id":44807978,"body_markdown":"What you need is to end the while(sc.hasNext()) while loop because the Scanner sc will always have a next because you are literally saying asking yourself if you got the line from the user then wait for next line with sc.nextLine(); then you are putting it into a string so next time you ask yourself do i have the line the answer is yes,anyways it&#39;s a little complicated to get over this issue you need to change the while loop to have a special word that will brake it,so you have to change it from:\r\n\r\n      while(sc.hasNext()){\r\n         String line=sc.nextLine();\r\n         if(line.contains(&quot;LANTALK&quot;))\r\n         System.out.println(line);\r\n       }\r\nTo,for example:\r\n\r\n       while(true){\r\n         String line=sc.nextLine();\r\n         if(line.contains(&quot;LANTALK&quot;))\r\n         System.out.println(line);\r\n         if(line.contains(&quot;END&quot;))\r\n          break;\r\n       }\r\n\r\nAlso you need to check if the file entered by the user exists and actually add the text from the console to the file,so it would look something like this:\r\n\r\n     if(!log.exists())log.createNewFile();\r\n    // Connecting to a file with a buffer\r\n       PrintWriter logFile = new PrintWriter(\r\n                              new BufferedWriter(\r\n                               new FileWriter(log.getAbsolutePath())));\r\n       while(true){\r\n         String line=sc.nextLine();\r\n         if(line.contains(&quot;LANTALK&quot;))\r\n         System.out.println(line);\r\n         if(line.contains(&quot;END&quot;))\r\n          break;\r\n         logFile.println(line);\r\n         \r\n       }\r\n       \r\n       logFile.close();\r\nNow all we have to do is print the output to the console when writing it to the logFile,so the  while((textLine = infile.readLine()) != null),will now look a little something like this:\r\n\r\n      while((textLine = infile.readLine()) != null)\r\n       {\r\n         //System.out.printf(&quot;%s\\n&quot;,textLine);\r\n         outLine = textLine.toUpperCase();\r\n         outFile.println(outLine);\r\n         System.out.println(outLine);\r\n       }// end of while \r\n       } // end of try\r\n\r\nSo in the end the hole thing should look a little something like this:\r\n\r\n    import java.util.*;\r\n    import java.io.*;\r\n    \r\n    public class Classname{\r\n    \r\n       static Scanner sc = new Scanner(System.in);\r\n    \r\n       public static void main(String args[]) throws IOException, \r\n       FileNotFoundException {\r\n    \r\n       String filename;\r\n    \r\n       // Connecting to a file with a buffer\r\n       PrintWriter outFile = new PrintWriter(\r\n                              new BufferedWriter(\r\n                               new FileWriter(&quot;chatOutput.log&quot;)));\r\n    \r\n       // Get the file\r\n       System.out.print(&quot;Please enter full name of the file: &quot;);\r\n       filename = sc.next();\r\n    \r\n       // Assign the name of the text file to a file object\r\n       File log = new File(filename);\r\n       String textLine = null; // Null\r\n       String outLine = &quot;&quot;;    // Null\r\n    \r\n       if(!log.exists())log.createNewFile();\r\n    // Connecting to a file with a buffer\r\n       PrintWriter logFile = new PrintWriter(\r\n                              new BufferedWriter(\r\n                               new FileWriter(log.getAbsolutePath())));\r\n       while(true){\r\n         String line=sc.nextLine();\r\n         if(line.contains(&quot;LANTALK&quot;))\r\n         System.out.println(line);\r\n         if(line.contains(&quot;END&quot;))\r\n          break;\r\n         logFile.println(line);\r\n         \r\n       }\r\n       \r\n       logFile.close();\r\n    \r\n       try{\r\n         // assigns the file to a filereader object..this will throw an error if  the file does not exist or cannot be found\r\n         BufferedReader infile = new BufferedReader(new FileReader(log));\r\n    \r\n       try\r\n       {\r\n         // read data from a file..this will throw and error if something goes wrong reading (empty or past end of file)\r\n         while((textLine = infile.readLine()) != null)\r\n       {\r\n         //System.out.printf(&quot;%s\\n&quot;,textLine);\r\n         outLine = textLine.toUpperCase();\r\n         outFile.println(outLine);\r\n         System.out.println(outLine);\r\n       }// end of while \r\n       } // end of try\r\n    \r\n      finally  // finally blocks get executed even if an exception is thrown \r\n       {\r\n         infile.close();\r\n         outFile.close();\r\n       }\r\n       }// end of try\r\n    \r\n     catch (FileNotFoundException nf) // this goes with the first try because it  will throw a FileNotFound exception\r\n       {\r\n         System.out.println(&quot;The file \\&quot;&quot;+log+&quot;\\&quot; was not found&quot;); \r\n       }\r\n     catch (IOException ioex) // this goes with the second try because it will throw an IOexception\r\n       {\r\n         System.out.println(&quot;Error reading the file&quot;);\r\n       }\r\n    \r\n       } /// end of main\r\n    \r\n     } // end of class\r\n\r\nIf this is not what you are looking for i&#39;m sorry,but i tried to make it do want you described  you  wanted,i mean it does write the output to the file, and get the output to display in the compiler,here&#39;s what the compiler console looks like:\r\n\r\n    Please enter full name of the file: test.txt\r\n    hi\r\n    hi\r\n    hi\r\n    END\r\n    \r\n    HI\r\n    HI\r\n    HI\r\nI&#39;m sorry if this is not what you wanted but i tried my best,hope it helps.","title":"Writing to File From Input Log","body":"<p>What you need is to end the while(sc.hasNext()) while loop because the Scanner sc will always have a next because you are literally saying asking yourself if you got the line from the user then wait for next line with sc.nextLine(); then you are putting it into a string so next time you ask yourself do i have the line the answer is yes,anyways it's a little complicated to get over this issue you need to change the while loop to have a special word that will brake it,so you have to change it from:</p>\n\n<pre><code>  while(sc.hasNext()){\n     String line=sc.nextLine();\n     if(line.contains(\"LANTALK\"))\n     System.out.println(line);\n   }\n</code></pre>\n\n<p>To,for example:</p>\n\n<pre><code>   while(true){\n     String line=sc.nextLine();\n     if(line.contains(\"LANTALK\"))\n     System.out.println(line);\n     if(line.contains(\"END\"))\n      break;\n   }\n</code></pre>\n\n<p>Also you need to check if the file entered by the user exists and actually add the text from the console to the file,so it would look something like this:</p>\n\n<pre><code> if(!log.exists())log.createNewFile();\n// Connecting to a file with a buffer\n   PrintWriter logFile = new PrintWriter(\n                          new BufferedWriter(\n                           new FileWriter(log.getAbsolutePath())));\n   while(true){\n     String line=sc.nextLine();\n     if(line.contains(\"LANTALK\"))\n     System.out.println(line);\n     if(line.contains(\"END\"))\n      break;\n     logFile.println(line);\n\n   }\n\n   logFile.close();\n</code></pre>\n\n<p>Now all we have to do is print the output to the console when writing it to the logFile,so the  while((textLine = infile.readLine()) != null),will now look a little something like this:</p>\n\n<pre><code>  while((textLine = infile.readLine()) != null)\n   {\n     //System.out.printf(\"%s\\n\",textLine);\n     outLine = textLine.toUpperCase();\n     outFile.println(outLine);\n     System.out.println(outLine);\n   }// end of while \n   } // end of try\n</code></pre>\n\n<p>So in the end the hole thing should look a little something like this:</p>\n\n<pre><code>import java.util.*;\nimport java.io.*;\n\npublic class Classname{\n\n   static Scanner sc = new Scanner(System.in);\n\n   public static void main(String args[]) throws IOException, \n   FileNotFoundException {\n\n   String filename;\n\n   // Connecting to a file with a buffer\n   PrintWriter outFile = new PrintWriter(\n                          new BufferedWriter(\n                           new FileWriter(\"chatOutput.log\")));\n\n   // Get the file\n   System.out.print(\"Please enter full name of the file: \");\n   filename = sc.next();\n\n   // Assign the name of the text file to a file object\n   File log = new File(filename);\n   String textLine = null; // Null\n   String outLine = \"\";    // Null\n\n   if(!log.exists())log.createNewFile();\n// Connecting to a file with a buffer\n   PrintWriter logFile = new PrintWriter(\n                          new BufferedWriter(\n                           new FileWriter(log.getAbsolutePath())));\n   while(true){\n     String line=sc.nextLine();\n     if(line.contains(\"LANTALK\"))\n     System.out.println(line);\n     if(line.contains(\"END\"))\n      break;\n     logFile.println(line);\n\n   }\n\n   logFile.close();\n\n   try{\n     // assigns the file to a filereader object..this will throw an error if  the file does not exist or cannot be found\n     BufferedReader infile = new BufferedReader(new FileReader(log));\n\n   try\n   {\n     // read data from a file..this will throw and error if something goes wrong reading (empty or past end of file)\n     while((textLine = infile.readLine()) != null)\n   {\n     //System.out.printf(\"%s\\n\",textLine);\n     outLine = textLine.toUpperCase();\n     outFile.println(outLine);\n     System.out.println(outLine);\n   }// end of while \n   } // end of try\n\n  finally  // finally blocks get executed even if an exception is thrown \n   {\n     infile.close();\n     outFile.close();\n   }\n   }// end of try\n\n catch (FileNotFoundException nf) // this goes with the first try because it  will throw a FileNotFound exception\n   {\n     System.out.println(\"The file \\\"\"+log+\"\\\" was not found\"); \n   }\n catch (IOException ioex) // this goes with the second try because it will throw an IOexception\n   {\n     System.out.println(\"Error reading the file\");\n   }\n\n   } /// end of main\n\n } // end of class\n</code></pre>\n\n<p>If this is not what you are looking for i'm sorry,but i tried to make it do want you described  you  wanted,i mean it does write the output to the file, and get the output to display in the compiler,here's what the compiler console looks like:</p>\n\n<pre><code>Please enter full name of the file: test.txt\nhi\nhi\nhi\nEND\n\nHI\nHI\nHI\n</code></pre>\n\n<p>I'm sorry if this is not what you wanted but i tried my best,hope it helps.</p>\n"}],"owner":{"account_id":11206495,"reputation":15,"user_id":8221966,"accept_rate":33,"display_name":"Alexander Vassios"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653493217,"creation_date":1498667174,"question_id":44807978,"body_markdown":"So I&#39;m having a few troubles here. I need to be able to write my output to a file, and have it contain only the keywords specified in the code. This code is writing nothing to the file, and it only opens another box for user input. How do I get it to close the input box after the user inputs the file name, get it to write the output to the file, and get the output to display in the compiler? Thanks!\r\n\r\n    import java.util.*;\r\n    import java.io.*;\r\n\r\n    public class Classname {\r\n  \r\n       static Scanner sc = new Scanner(System.in);\r\n        \r\n       public static void main(String args[]) throws IOException, \r\n       FileNotFoundException {\r\n \r\n       String filename;\r\n    \r\n       // Connecting to a file with a buffer\r\n       PrintWriter outFile = new PrintWriter(\r\n                              new BufferedWriter(\r\n                               new FileWriter(&quot;chatOutput.log&quot;)));\r\n            \r\n       // Get the file\r\n       System.out.print(&quot;Please enter full name of the file: &quot;);\r\n       filename = sc.next();\r\n    \r\n       // Assign the name of the text file to a file object\r\n       File log = new File( filename);\r\n       String textLine = null; // Null\r\n       String outLine = &quot;&quot;;    // Null\r\n \r\n       while(sc.hasNext())\r\n       {\r\n         String line=sc.nextLine();\r\n         if(line.contains(&quot;LANTALK&quot;))\r\n         System.out.println(line);\r\n       }\r\n    \r\n       try\r\n       {\r\n         // assigns the file to a filereader object..this will throw an error if \r\n         the file does not exist or cannot be found\r\n         BufferedReader infile = new BufferedReader(new FileReader(log));\r\n   \r\n       try\r\n       {\r\n         // read data from a file..this will throw and error if something goes \r\n         wrong reading (empty or past end of file)\r\n         while((textLine = infile.readLine()) != null)\r\n       {\r\n         //System.out.printf(&quot;%s\\n&quot;,textLine);\r\n         outLine = textLine.toUpperCase();\r\n         outFile.printf(&quot;%s\\n&quot;,outLine);\r\n       }// end of while \r\n       } // end of try\r\n  \r\n      finally  // finally blocks get executed even if an exception is thrown \r\n       {\r\n         infile.close();\r\n         outFile.close();\r\n       }\r\n       }// end of try\r\n  \r\n     catch (FileNotFoundException nf) // this goes with the first try because it \r\n     will throw a FileNotFound exception\r\n       {\r\n         System.out.println(&quot;The file \\&quot;&quot;+log+&quot;\\&quot; was not found&quot;); \r\n       }\r\n     catch (IOException ioex) // this goes with the second try because it will \r\n     throw an IOexception\r\n       {\r\n         System.out.println(&quot;Error reading the file&quot;);\r\n       }\r\n\r\n       } /// end of main\r\n  \r\n     } // end of class","title":"Writing to File From Input Log","body":"<p>So I'm having a few troubles here. I need to be able to write my output to a file, and have it contain only the keywords specified in the code. This code is writing nothing to the file, and it only opens another box for user input. How do I get it to close the input box after the user inputs the file name, get it to write the output to the file, and get the output to display in the compiler? Thanks!</p>\n\n<pre><code>import java.util.*;\nimport java.io.*;\n\npublic class Classname {\n\n   static Scanner sc = new Scanner(System.in);\n\n   public static void main(String args[]) throws IOException, \n   FileNotFoundException {\n\n   String filename;\n\n   // Connecting to a file with a buffer\n   PrintWriter outFile = new PrintWriter(\n                          new BufferedWriter(\n                           new FileWriter(\"chatOutput.log\")));\n\n   // Get the file\n   System.out.print(\"Please enter full name of the file: \");\n   filename = sc.next();\n\n   // Assign the name of the text file to a file object\n   File log = new File( filename);\n   String textLine = null; // Null\n   String outLine = \"\";    // Null\n\n   while(sc.hasNext())\n   {\n     String line=sc.nextLine();\n     if(line.contains(\"LANTALK\"))\n     System.out.println(line);\n   }\n\n   try\n   {\n     // assigns the file to a filereader object..this will throw an error if \n     the file does not exist or cannot be found\n     BufferedReader infile = new BufferedReader(new FileReader(log));\n\n   try\n   {\n     // read data from a file..this will throw and error if something goes \n     wrong reading (empty or past end of file)\n     while((textLine = infile.readLine()) != null)\n   {\n     //System.out.printf(\"%s\\n\",textLine);\n     outLine = textLine.toUpperCase();\n     outFile.printf(\"%s\\n\",outLine);\n   }// end of while \n   } // end of try\n\n  finally  // finally blocks get executed even if an exception is thrown \n   {\n     infile.close();\n     outFile.close();\n   }\n   }// end of try\n\n catch (FileNotFoundException nf) // this goes with the first try because it \n will throw a FileNotFound exception\n   {\n     System.out.println(\"The file \\\"\"+log+\"\\\" was not found\"); \n   }\n catch (IOException ioex) // this goes with the second try because it will \n throw an IOexception\n   {\n     System.out.println(\"Error reading the file\");\n   }\n\n   } /// end of main\n\n } // end of class\n</code></pre>\n"},{"tags":["python","java","excel","apache-poi"],"comments":[{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":2,"creation_date":1653466790,"post_id":72374161,"comment_id":127856778,"body_markdown":"Please provide the code what you have tried.","body":"Please provide the code what you have tried."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1653467590,"post_id":72374161,"comment_id":127857076,"body_markdown":"There are examples on the web - eg https://www.roseindia.net/tutorials/poi/XLCellDropDown.shtml - the feature is called Data Validation","body":"There are examples on the web - eg <a href=\"https://www.roseindia.net/tutorials/poi/XLCellDropDown.shtml\" rel=\"nofollow noreferrer\">roseindia.net/tutorials/poi/XLCellDropDown.shtml</a> - the feature is called Data Validation"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1653472261,"post_id":72374161,"comment_id":127858844,"body_markdown":"Please show the code of what you are doing. Data validation settings are on sheet level. So even if I create the row and the cell new, the data validation settings remain. One would must recreating the whole sheet to loose the data validation settings.","body":"Please show the code of what you are doing. Data validation settings are on sheet level. So even if I create the row and the cell new, the data validation settings remain. One would must recreating the whole sheet to loose the data validation settings."}],"owner":{"account_id":7909248,"reputation":23,"user_id":5973773,"display_name":"Bijendra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653492832,"creation_date":1653466691,"question_id":72374161,"body_markdown":"There is City drop down on cell A1 and I want to select the New York value that is in the list.\r\n\r\nWhen I try to write the New York value in the cell A1, cell is getting changed to normal cell that is causing issue when I have to process for another operation. I want it to be dropdown list type cell even after writing. How can I do it?","title":"How to write data in excel drop down list in java?","body":"<p>There is City drop down on cell A1 and I want to select the New York value that is in the list.</p>\n<p>When I try to write the New York value in the cell A1, cell is getting changed to normal cell that is causing issue when I have to process for another operation. I want it to be dropdown list type cell even after writing. How can I do it?</p>\n"},{"tags":["java","android","arraylist","android-recyclerview"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1653473919,"post_id":72375398,"comment_id":127859423,"body_markdown":"You should make a third arraylist for the adapter. Put only the wanted items from first two in third.","body":"You should make a third arraylist for the adapter. Put only the wanted items from first two in third."}],"answers":[{"tags":[],"owner":{"account_id":23204538,"reputation":107,"user_id":17298934,"display_name":"Boris Ivanov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653492799,"creation_date":1653491096,"answer_id":72380089,"question_id":72375398,"body_markdown":"Note how the number of elements is calculated when entering a percentage:\r\n````\r\npublic static &lt;T&gt; List&lt;T&gt; getRandomValue (List&lt;T&gt; list, int percent){\r\n        List&lt;T&gt; res = new ArrayList&lt;&gt;();\r\n        Collections.shuffle(list);\r\n        for (int i = 0; i &lt; getIteration(percent, list.size()); i ++){\r\n            res.add(list.get(i));\r\n        }\r\n        return res;\r\n    }\r\n\r\npublic static int getIteration(int percent, int size){ // for example 97% will be 90%\r\n        float res = (float) percent / 100 * size;\r\n        return (int) res;\r\n    }\r\n````\r\n````\r\npublic static &lt;T&gt; List&lt;T&gt; getViewList (List&lt;T&gt; firstList, int firstPercent, List&lt;T&gt; secondList, int secondPercent){\r\n        List&lt;T&gt; first = getRandomValue(firstList, firstPercent);\r\n        List&lt;T&gt; second = getRandomValue(secondList, secondPercent);\r\n        first.addAll(second);\r\n        return first;\r\n    }\r\n````\r\nPlease let me know if this works for you","title":"How to show content from different ArrayLists in Recyclerview based on specific percentage?","body":"<p>Note how the number of elements is calculated when entering a percentage:</p>\n<pre><code>public static &lt;T&gt; List&lt;T&gt; getRandomValue (List&lt;T&gt; list, int percent){\n        List&lt;T&gt; res = new ArrayList&lt;&gt;();\n        Collections.shuffle(list);\n        for (int i = 0; i &lt; getIteration(percent, list.size()); i ++){\n            res.add(list.get(i));\n        }\n        return res;\n    }\n\npublic static int getIteration(int percent, int size){ // for example 97% will be 90%\n        float res = (float) percent / 100 * size;\n        return (int) res;\n    }\n</code></pre>\n<pre><code>public static &lt;T&gt; List&lt;T&gt; getViewList (List&lt;T&gt; firstList, int firstPercent, List&lt;T&gt; secondList, int secondPercent){\n        List&lt;T&gt; first = getRandomValue(firstList, firstPercent);\n        List&lt;T&gt; second = getRandomValue(secondList, secondPercent);\n        first.addAll(second);\n        return first;\n    }\n</code></pre>\n<p>Please let me know if this works for you</p>\n"}],"owner":{"account_id":22636366,"reputation":103,"user_id":16813125,"display_name":"Rayhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72380089,"answer_count":1,"score":0,"last_activity_date":1653492799,"creation_date":1653472204,"question_id":72375398,"body_markdown":"I have this simple recyclerview which shows content from an ArrayList. I want to show content from multiple ArrayLists based on the percentage. To put it simply: I want to put 2 ArrayLists in my code with different content. I want the Recyclerview to show content from both the arrayLists but not entirely. I want to set specific percentage for both the ArrayLists. Say, if I want to show 30% content from the ArrayList1 (with 10 items) and 70% content from ArrayList2 (with 10 items) then my recyclerview shoud show 3 items from ArrayList1 and 7 items from ArrayList2. (preferably in a random order).\r\n\r\n\r\nMainActivity.java:\r\n\r\n\r\n        private void initView() {\r\n        // Initialize RecyclerView and set Adapter\r\n        recyclerView = findViewById(R.id.scout_recycler_view);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        scoutArrayList = new ArrayList&lt;&gt;();\r\n        adapter = new ScoutAdapter(this,scoutArrayList);\r\n        recyclerView.setAdapter(adapter);\r\n        createList();\r\n    }\r\n\r\n    private void createList() {\r\n        //data to be shown in list\r\n        scoutArrayList.add(new Scout( &quot;Eren Jaeger&quot; ,&quot;Unranked&quot; , &quot;22&quot; ));\r\n        scoutArrayList.add(new Scout ( &quot;Mikasa Ackermann&quot; ,&quot;Unranked&quot; , &quot;12&quot; ) );\r\n        scoutArrayList.add(new Scout ( &quot;Armin Arlelt&quot; ,&quot;Unranked&quot; , &quot;0&quot; ) );\r\n        scoutArrayList.add(new Scout ( &quot;Erwin Smith &quot; , &quot;Commander&quot; , &quot;Unknown&quot; ) );\r\n        scoutArrayList.add(new Scout ( &quot;Levi Ackermann&quot; , &quot;Squad Captain&quot; ,&quot;~58&quot; ) );\r\n        scoutArrayList.add(new Scout ( &quot;Hange Zoe&quot; , &quot;Commander&quot; , &quot;Unknown&quot;) );\r\n        scoutArrayList.add(new Scout ( &quot;Jean Kirschtein&quot; , &quot;Unranked&quot; , &quot;1&quot; )\t);\r\n        scoutArrayList.add(new Scout (&quot;Conny Springer&quot;, &quot;Unranked&quot; , &quot;Unknown&quot;)\t);\r\n        scoutArrayList.add(new Scout (&quot;Sasha Braus&quot;,&quot;Unranked&quot;,&quot;1&quot;)\t);\r\n\r\n    }\r\n\r\n    private void createList2() {\r\n        //data to be shown in list\r\n        scoutArrayList2.add(new Scout( &quot;Testname2&quot; ,&quot;rankvalue2&quot; , &quot;killscount2&quot; ));\r\n        scoutArrayList2.add(new Scout( &quot;Testname2&quot; ,&quot;rankvalue2&quot; , &quot;killscount2&quot; ));\r\n        scoutArrayList2.add(new Scout( &quot;Testname2&quot; ,&quot;rankvalue2&quot; , &quot;killscount2&quot; ));\r\n        scoutArrayList2.add(new Scout( &quot;Testname2&quot; ,&quot;rankvalue2&quot; , &quot;killscount2&quot; ));\r\n        scoutArrayList2.add(new Scout( &quot;Testname2&quot; ,&quot;rankvalue2&quot; , &quot;killscount2&quot; ));\r\n        scoutArrayList2.add(new Scout( &quot;Testname2&quot; ,&quot;rankvalue2&quot; , &quot;killscount2&quot; ));\r\n        scoutArrayList2.add(new Scout( &quot;Testname2&quot; ,&quot;rankvalue2&quot; , &quot;killscount2&quot; ));\r\n        scoutArrayList2.add(new Scout( &quot;Testname2&quot; ,&quot;rankvalue2&quot; , &quot;killscount2&quot; ));\r\n        scoutArrayList2.add(new Scout( &quot;Testname2&quot; ,&quot;rankvalue2&quot; , &quot;killscount2&quot; ));\r\n    }\r\n\r\n\r\nAdapter.java\r\n\r\n       public ScoutAdapter(Context context, ArrayList&lt;Scout&gt; scouts) {\r\n        this.context = context;\r\n        this.scouts = scouts;\r\n\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ScoutHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.item_row,parent,false);\r\n        return new ScoutHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ScoutHolder holder, int position) {\r\n        Scout scout = scouts.get(position);\r\n        holder.setDetails(scout);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return scouts.size();\r\n    }\r\n\r\n    public class ScoutHolder extends RecyclerView.ViewHolder {\r\n        private TextView txtName, txtRank, txtKill;\r\n        public ScoutHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            txtName = itemView.findViewById(R.id.txtName);\r\n            txtRank = itemView.findViewById(R.id.txtRank);\r\n            txtKill = itemView.findViewById(R.id.txtKill);\r\n        }\r\n\r\n        public void setDetails(Scout scout) {\r\n            txtName.setText(scout.getName());\r\n            txtRank.setText(String.format(&quot;Rank: %s&quot;, scout.getRank()));\r\n            txtKill.setText(String.format(&quot;kill: %s&quot;, scout.getKillCount()));\r\n        }\r\n    }\r\n\r\n\r\n\r\nIn the above code (MainActivity.java) there is this list named createList2(), I want to show 20% of the content from it......\r\n\r\nAny solution to this?","title":"How to show content from different ArrayLists in Recyclerview based on specific percentage?","body":"<p>I have this simple recyclerview which shows content from an ArrayList. I want to show content from multiple ArrayLists based on the percentage. To put it simply: I want to put 2 ArrayLists in my code with different content. I want the Recyclerview to show content from both the arrayLists but not entirely. I want to set specific percentage for both the ArrayLists. Say, if I want to show 30% content from the ArrayList1 (with 10 items) and 70% content from ArrayList2 (with 10 items) then my recyclerview shoud show 3 items from ArrayList1 and 7 items from ArrayList2. (preferably in a random order).</p>\n<p>MainActivity.java:</p>\n<pre><code>    private void initView() {\n    // Initialize RecyclerView and set Adapter\n    recyclerView = findViewById(R.id.scout_recycler_view);\n    recyclerView.setLayoutManager(new LinearLayoutManager(this));\n    scoutArrayList = new ArrayList&lt;&gt;();\n    adapter = new ScoutAdapter(this,scoutArrayList);\n    recyclerView.setAdapter(adapter);\n    createList();\n}\n\nprivate void createList() {\n    //data to be shown in list\n    scoutArrayList.add(new Scout( &quot;Eren Jaeger&quot; ,&quot;Unranked&quot; , &quot;22&quot; ));\n    scoutArrayList.add(new Scout ( &quot;Mikasa Ackermann&quot; ,&quot;Unranked&quot; , &quot;12&quot; ) );\n    scoutArrayList.add(new Scout ( &quot;Armin Arlelt&quot; ,&quot;Unranked&quot; , &quot;0&quot; ) );\n    scoutArrayList.add(new Scout ( &quot;Erwin Smith &quot; , &quot;Commander&quot; , &quot;Unknown&quot; ) );\n    scoutArrayList.add(new Scout ( &quot;Levi Ackermann&quot; , &quot;Squad Captain&quot; ,&quot;~58&quot; ) );\n    scoutArrayList.add(new Scout ( &quot;Hange Zoe&quot; , &quot;Commander&quot; , &quot;Unknown&quot;) );\n    scoutArrayList.add(new Scout ( &quot;Jean Kirschtein&quot; , &quot;Unranked&quot; , &quot;1&quot; )   );\n    scoutArrayList.add(new Scout (&quot;Conny Springer&quot;, &quot;Unranked&quot; , &quot;Unknown&quot;) );\n    scoutArrayList.add(new Scout (&quot;Sasha Braus&quot;,&quot;Unranked&quot;,&quot;1&quot;) );\n\n}\n\nprivate void createList2() {\n    //data to be shown in list\n    scoutArrayList2.add(new Scout( &quot;Testname2&quot; ,&quot;rankvalue2&quot; , &quot;killscount2&quot; ));\n    scoutArrayList2.add(new Scout( &quot;Testname2&quot; ,&quot;rankvalue2&quot; , &quot;killscount2&quot; ));\n    scoutArrayList2.add(new Scout( &quot;Testname2&quot; ,&quot;rankvalue2&quot; , &quot;killscount2&quot; ));\n    scoutArrayList2.add(new Scout( &quot;Testname2&quot; ,&quot;rankvalue2&quot; , &quot;killscount2&quot; ));\n    scoutArrayList2.add(new Scout( &quot;Testname2&quot; ,&quot;rankvalue2&quot; , &quot;killscount2&quot; ));\n    scoutArrayList2.add(new Scout( &quot;Testname2&quot; ,&quot;rankvalue2&quot; , &quot;killscount2&quot; ));\n    scoutArrayList2.add(new Scout( &quot;Testname2&quot; ,&quot;rankvalue2&quot; , &quot;killscount2&quot; ));\n    scoutArrayList2.add(new Scout( &quot;Testname2&quot; ,&quot;rankvalue2&quot; , &quot;killscount2&quot; ));\n    scoutArrayList2.add(new Scout( &quot;Testname2&quot; ,&quot;rankvalue2&quot; , &quot;killscount2&quot; ));\n}\n</code></pre>\n<p>Adapter.java</p>\n<pre><code>   public ScoutAdapter(Context context, ArrayList&lt;Scout&gt; scouts) {\n    this.context = context;\n    this.scouts = scouts;\n\n}\n\n@NonNull\n@Override\npublic ScoutHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View view = LayoutInflater.from(context).inflate(R.layout.item_row,parent,false);\n    return new ScoutHolder(view);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull ScoutHolder holder, int position) {\n    Scout scout = scouts.get(position);\n    holder.setDetails(scout);\n}\n\n@Override\npublic int getItemCount() {\n    return scouts.size();\n}\n\npublic class ScoutHolder extends RecyclerView.ViewHolder {\n    private TextView txtName, txtRank, txtKill;\n    public ScoutHolder(@NonNull View itemView) {\n        super(itemView);\n        txtName = itemView.findViewById(R.id.txtName);\n        txtRank = itemView.findViewById(R.id.txtRank);\n        txtKill = itemView.findViewById(R.id.txtKill);\n    }\n\n    public void setDetails(Scout scout) {\n        txtName.setText(scout.getName());\n        txtRank.setText(String.format(&quot;Rank: %s&quot;, scout.getRank()));\n        txtKill.setText(String.format(&quot;kill: %s&quot;, scout.getKillCount()));\n    }\n}\n</code></pre>\n<p>In the above code (MainActivity.java) there is this list named createList2(), I want to show 20% of the content from it......</p>\n<p>Any solution to this?</p>\n"},{"tags":["java","css","thymeleaf","openhtmltopdf"],"comments":[{"owner":{"account_id":21485072,"reputation":21,"user_id":15831824,"display_name":"Ayume"},"score":0,"creation_date":1653494588,"post_id":72380472,"comment_id":127868019,"body_markdown":"I find it hard to share a minimal reproducible example hence I&#39;m having differences because of an update of a library version. I can try a bit more using language instead of code I guess:\nIf anyone knew what had changed or how I could adapt my code or approach, it would be best case scenario but else I was hoping anyone could help me out to get a similar effect but maybe just not with :after\nIn the current code there is the CSS mentioned above, let&#39;s say after every table row or heading, to get rid off the float:left that was used. Now without that functionality everything is overlapping","body":"I find it hard to share a minimal reproducible example hence I&#39;m having differences because of an update of a library version. I can try a bit more using language instead of code I guess: If anyone knew what had changed or how I could adapt my code or approach, it would be best case scenario but else I was hoping anyone could help me out to get a similar effect but maybe just not with :after In the current code there is the CSS mentioned above, let&#39;s say after every table row or heading, to get rid off the float:left that was used. Now without that functionality everything is overlapping"},{"owner":{"account_id":1146245,"reputation":580,"user_id":1128925,"accept_rate":78,"display_name":"cliff2310"},"score":0,"creation_date":1653839164,"post_id":72380472,"comment_id":127944036,"body_markdown":"This is general information that you should keep in mind, when asking questions.","body":"This is general information that you should keep in mind, when asking questions."},{"owner":{"account_id":21485072,"reputation":21,"user_id":15831824,"display_name":"Ayume"},"score":0,"creation_date":1653894072,"post_id":72380472,"comment_id":127953563,"body_markdown":"All right. Yeah, I went through it and thanks for the input :) I found a solution to my problem by the way - I don&#39;t know if you went through my problem thoroughly.\nI figured out that I still have the same functionality when using \n`display: block\nclear: both\ncontent: &quot;&quot;`\nNot sure what has changed since the last patch but I guess sometimes it&#39;s hard to find out. Eventually if someone can explain that would be splendid! :)","body":"All right. Yeah, I went through it and thanks for the input :) I found a solution to my problem by the way - I don&#39;t know if you went through my problem thoroughly. I figured out that I still have the same functionality when using  <code>display: block clear: both content: &quot;&quot;</code> Not sure what has changed since the last patch but I guess sometimes it&#39;s hard to find out. Eventually if someone can explain that would be splendid! :)"}],"owner":{"account_id":21485072,"reputation":21,"user_id":15831824,"display_name":"Ayume"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653492659,"creation_date":1653492659,"question_id":72380472,"body_markdown":"I&#39;m working on a project, where we use thymeleaf to design .html files. These are being transformed to pdf using danfickles pure-Java library.\r\nBecause the framework doesn&#39;t support CSS3 features, one has to work a lot with tables and such.. In our case we used to &quot;clean up&quot; after specific elements, decorating them with \r\n\r\n```\r\n.icon-headline:after {\r\n  content: &quot;&quot;;\r\n  display: table;\r\n  clear: both;\r\n}\r\n```\r\nThis was used to make sure, ```float: left``` and such were cleared so they wouldn&#39;t interfere each other. This, let me call it, &quot;small hack&quot; doesn&#39;t work anymore. I noticed in the patchnotes a line about \r\n\r\n&gt; #711 (mixed) Better boxing for ::before and ::after content. Should now be able to define a border around pseudo content correctly.\r\n\r\nFull patchnotes can be found [Openhtmltopdf github repo][1]\r\n\r\n\r\n  [1]: https://github.com/danfickle/openhtmltopdf\r\n\r\nI&#39;m now looking for a way to reproduce this behavior. Maybe anyone has got any tip and I hope I made it clear what the problem is. If not I&#39;m happy to clarify further.\r\n\r\nThanks in advance,\r\nAyume ","title":"Pseudo-element :after not working anymore after upgrading &#39;openhtmltopdf&#39; to v1.0.10","body":"<p>I'm working on a project, where we use thymeleaf to design .html files. These are being transformed to pdf using danfickles pure-Java library.\nBecause the framework doesn't support CSS3 features, one has to work a lot with tables and such.. In our case we used to &quot;clean up&quot; after specific elements, decorating them with</p>\n<pre><code>.icon-headline:after {\n  content: &quot;&quot;;\n  display: table;\n  clear: both;\n}\n</code></pre>\n<p>This was used to make sure, <code>float: left</code> and such were cleared so they wouldn't interfere each other. This, let me call it, &quot;small hack&quot; doesn't work anymore. I noticed in the patchnotes a line about</p>\n<blockquote>\n<p>#711 (mixed) Better boxing for ::before and ::after content. Should now be able to define a border around pseudo content correctly.</p>\n</blockquote>\n<p>Full patchnotes can be found <a href=\"https://github.com/danfickle/openhtmltopdf\" rel=\"nofollow noreferrer\">Openhtmltopdf github repo</a></p>\n<p>I'm now looking for a way to reproduce this behavior. Maybe anyone has got any tip and I hope I made it clear what the problem is. If not I'm happy to clarify further.</p>\n<p>Thanks in advance,\nAyume</p>\n"},{"tags":["java","swing","zooming","jscrollpane","centering"],"comments":[{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1395860816,"post_id":22649636,"comment_id":34535060,"body_markdown":"Is it intended that when the view is zoomed out maximally, the first zoom operation already zooms to a different location than the one my mouse is at?","body":"Is it intended that when the view is zoomed out maximally, the first zoom operation already zooms to a different location than the one my mouse is at?"},{"owner":{"account_id":1019703,"reputation":2051,"user_id":1030413,"accept_rate":80,"display_name":"vincent"},"score":0,"creation_date":1395861987,"post_id":22649636,"comment_id":34535703,"body_markdown":"Edited the example and added scrollPane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);scrollPane.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_ALWAYS);\nThis should help with the initial jumping.","body":"Edited the example and added scrollPane.setVerticalScrollBarPolicy(ScrollPaneConstants.VE&zwnj;&#8203;RTICAL_SCROLLBAR_ALW&zwnj;&#8203;AYS);scrollPane.setH&zwnj;&#8203;orizontalScrollBarPo&zwnj;&#8203;licy(ScrollPaneConst&zwnj;&#8203;ants.HORIZONTAL_SCRO&zwnj;&#8203;LLBAR_ALWAYS); This should help with the initial jumping."},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1395862263,"post_id":22649636,"comment_id":34535868,"body_markdown":"It doesn&#39;t solve the initial jump, I added those too to see if the problem comes from calculating the scrollbars&#39; size into the position (which it shouldn&#39;t) but it&#39;s not that. One thing which is curious already is that your image does not have a constant size. Set the frame to full screen size, zoom in maximally, resize the frame to a very smal size, then zoom out - you get a tiny image. Is this intentional?","body":"It doesn&#39;t solve the initial jump, I added those too to see if the problem comes from calculating the scrollbars&#39; size into the position (which it shouldn&#39;t) but it&#39;s not that. One thing which is curious already is that your image does not have a constant size. Set the frame to full screen size, zoom in maximally, resize the frame to a very smal size, then zoom out - you get a tiny image. Is this intentional?"},{"owner":{"account_id":1019703,"reputation":2051,"user_id":1030413,"accept_rate":80,"display_name":"vincent"},"score":0,"creation_date":1395862846,"post_id":22649636,"comment_id":34536231,"body_markdown":"(1) So about the initial jump: The image has to jump to some degree since it should be centered when zoomed out. Once the scroll bars have appeared the zooming should always work correctly. Adding the scroll bars (my previous comment) means that the initial jump is not &quot;to the center&quot; but the the &quot;border&quot;. So they result in exactly the effect that I want for the initial jump.\n\n(2) The image size depends on the zoom. The maximum amount you can zoom out depends on the window size (once the scroll bars would disappear you can no longer zoom out further). So the behavior is as expected.","body":"(1) So about the initial jump: The image has to jump to some degree since it should be centered when zoomed out. Once the scroll bars have appeared the zooming should always work correctly. Adding the scroll bars (my previous comment) means that the initial jump is not &quot;to the center&quot; but the the &quot;border&quot;. So they result in exactly the effect that I want for the initial jump.  (2) The image size depends on the zoom. The maximum amount you can zoom out depends on the window size (once the scroll bars would disappear you can no longer zoom out further). So the behavior is as expected."},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1395863501,"post_id":22649636,"comment_id":34536586,"body_markdown":"If you set the frame size to 200x200 instead of 600x600 the first zoom operation works as intended (edit: depending if the zoom location is far enough from the border). The problem seems to be in your calculation, not in the behavior of the setViewPosition. As to point (1), ignore for a moment zooming out. Is it not what you want to zoom into the pixel the mouse is at regardless of frame size and visibility of the scrollbars?","body":"If you set the frame size to 200x200 instead of 600x600 the first zoom operation works as intended (edit: depending if the zoom location is far enough from the border). The problem seems to be in your calculation, not in the behavior of the setViewPosition. As to point (1), ignore for a moment zooming out. Is it not what you want to zoom into the pixel the mouse is at regardless of frame size and visibility of the scrollbars?"},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1395864616,"post_id":22649636,"comment_id":34537231,"body_markdown":"OK, the location of the scrollbars (and their visibility) relative to the zoom-in point is what gives the effect you described, but it does what the code tells it to (I did the calculation and got the same that swing gets and not the same as you want to get). Once I&#39;m clear on how you want this to behave I will supply the solution.","body":"OK, the location of the scrollbars (and their visibility) relative to the zoom-in point is what gives the effect you described, but it does what the code tells it to (I did the calculation and got the same that swing gets and not the same as you want to get). Once I&#39;m clear on how you want this to behave I will supply the solution."},{"owner":{"account_id":1019703,"reputation":2051,"user_id":1030413,"accept_rate":80,"display_name":"vincent"},"score":0,"creation_date":1395939971,"post_id":22649636,"comment_id":34577273,"body_markdown":"Did you try the not-fixed version and follow the instructions above? That is the bug I encountered (the other behavior is as expected). The hack I have described results exactly in the functionality that I want (see last edit!), however I would like to know why it works and if there is a cleaner way to achieve the same functionality.","body":"Did you try the not-fixed version and follow the instructions above? That is the bug I encountered (the other behavior is as expected). The hack I have described results exactly in the functionality that I want (see last edit!), however I would like to know why it works and if there is a cleaner way to achieve the same functionality."},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1395944365,"post_id":22649636,"comment_id":34580009,"body_markdown":"I see it but as I said it&#39;s not a bug, it&#39;s the behavior it&#39;s supposed to have. I explained that what you do in your code is not centering on the mouse position. Put your mouse at a point on the top left square when the scrollbars are set to the top-left corner. Now pick a specific location and don&#39;t move the mouse, just scroll it. You will see that you get different x-y coordinates each scroll even though the mouse does not move. It&#39;s because the image size is not constant and it&#39;s coordinate system changes according to the viewport&#39;s size.","body":"I see it but as I said it&#39;s not a bug, it&#39;s the behavior it&#39;s supposed to have. I explained that what you do in your code is not centering on the mouse position. Put your mouse at a point on the top left square when the scrollbars are set to the top-left corner. Now pick a specific location and don&#39;t move the mouse, just scroll it. You will see that you get different x-y coordinates each scroll even though the mouse does not move. It&#39;s because the image size is not constant and it&#39;s coordinate system changes according to the viewport&#39;s size."},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1395945186,"post_id":22649636,"comment_id":34580492,"body_markdown":"I can explain with the example: (1) I put my mouse on a top-left corner and zoom in. The `MouseWheelEvent` occurs at x positions 105, 136, 177, 230 etc, which is the 1.3 zoom factor (y scales the same). You call this behavior intended. (2) I put my mouse on a bottom-right corner and zoom in. The x coordinates I get are 537, 698, 907 etc. - 1.3 factor. However, between 537 and 698 you print the line x=151 != x=34. You have one coordinate system which is scaling and one which isn&#39;t, and you&#39;re trying to adjust between them.","body":"I can explain with the example: (1) I put my mouse on a top-left corner and zoom in. The <code>MouseWheelEvent</code> occurs at x positions 105, 136, 177, 230 etc, which is the 1.3 zoom factor (y scales the same). You call this behavior intended. (2) I put my mouse on a bottom-right corner and zoom in. The x coordinates I get are 537, 698, 907 etc. - 1.3 factor. However, between 537 and 698 you print the line x=151 != x=34. You have one coordinate system which is scaling and one which isn&#39;t, and you&#39;re trying to adjust between them."},{"owner":{"account_id":1019703,"reputation":2051,"user_id":1030413,"accept_rate":80,"display_name":"vincent"},"score":0,"creation_date":1395947010,"post_id":22649636,"comment_id":34581577,"body_markdown":"I think we&#39;re talking about two different things. I created a video that shows the problem: https://www.youtube.com/watch?v=2Vhr2E0eLRM&amp;hd=1\n\nAt 0:09 (after adjusting the scroll bars a tiny bit) I zoom in once into the bottom right corner and everything works perfectly. Then I do the same zoom step again and the view &quot;jumps&quot; to the center. Why is this happening?","body":"I think we&#39;re talking about two different things. I created a video that shows the problem: <a href=\"https://www.youtube.com/watch?v=2Vhr2E0eLRM&amp;hd=1\" rel=\"nofollow noreferrer\">youtube.com/watch?v=2Vhr2E0eLRM&amp;hd=1</a>  At 0:09 (after adjusting the scroll bars a tiny bit) I zoom in once into the bottom right corner and everything works perfectly. Then I do the same zoom step again and the view &quot;jumps&quot; to the center. Why is this happening?"}],"answers":[{"tags":[],"owner":{"account_id":1019703,"reputation":2051,"user_id":1030413,"accept_rate":80,"display_name":"vincent"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1496008379,"creation_date":1496008379,"answer_id":44232367,"question_id":22649636,"body_markdown":"Here is the completed, fully functional Code. I still don&#39;t understand why the hack is necessary, but at least it now works as expected:\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseWheelEvent;\r\n    import java.awt.image.BufferedImage;\r\n    import java.util.Random;\r\n\r\n    /**\r\n     * Zoom-able scroll panel\r\n     */\r\n    public class ZoomScrollPanel {\r\n\r\n        // the size of our image\r\n        private final static int IMAGE_SIZE = 600;\r\n\r\n        // create an image to display\r\n        private BufferedImage getImage() {\r\n            BufferedImage image = new BufferedImage(IMAGE_SIZE, IMAGE_SIZE, BufferedImage.TYPE_INT_RGB);\r\n            Graphics g = image.getGraphics();\r\n            // draw the small pixel first\r\n            Random rand = new Random();\r\n            for (int x = 0; x &lt; IMAGE_SIZE; x += 10) {\r\n                for (int y = 0; y &lt; IMAGE_SIZE; y += 10) {\r\n                    g.setColor(new Color(rand.nextInt(255),rand.nextInt(255),rand.nextInt(255)));\r\n                    g.fillRect(x, y, 10, 10);\r\n                }\r\n            }\r\n            // draw the larger transparent pixel second\r\n            for (int x = 0; x &lt; IMAGE_SIZE; x += 100) {\r\n                for (int y = 0; y &lt; IMAGE_SIZE; y += 100) {\r\n                    g.setColor(new Color(rand.nextInt(255),rand.nextInt(255),rand.nextInt(255), 180));\r\n                    g.fillRect(x, y, 100, 100);\r\n                }\r\n            }\r\n            return image;\r\n        }\r\n\r\n        // the image panel that resizes according to zoom level\r\n        private class ImagePanel extends JPanel {\r\n            private final BufferedImage image = getImage();\r\n\r\n            @Override\r\n            public void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2 = (Graphics2D)g.create();\r\n                g2.scale(scale, scale);\r\n                g2.drawImage(image, 0, 0, null);\r\n                g2.dispose();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension((int)Math.round(IMAGE_SIZE * scale), (int)Math.round(IMAGE_SIZE * scale));\r\n            }\r\n        }\r\n\r\n        // the current zoom level (100 means the image is shown in original size)\r\n        private double zoom = 100;\r\n        // the current scale (scale = zoom/100)\r\n        private double scale = 1;\r\n\r\n        // the last seen scale\r\n        private double lastScale = 1;\r\n\r\n        // true if currently executing setViewPosition\r\n        private boolean blocked = false;\r\n\r\n        public void alignViewPort(Point mousePosition) {\r\n            // if the scale didn&#39;t change there is nothing we should do\r\n            if (scale != lastScale) {\r\n                // compute the factor by that the image zoom has changed\r\n                double scaleChange = scale / lastScale;\r\n\r\n                // compute the scaled mouse position\r\n                Point scaledMousePosition = new Point(\r\n                        (int)Math.round(mousePosition.x * scaleChange),\r\n                        (int)Math.round(mousePosition.y * scaleChange)\r\n                );\r\n\r\n                // retrieve the current viewport position\r\n                Point viewportPosition = scrollPane.getViewport().getViewPosition();\r\n\r\n                // compute the new viewport position\r\n                Point newViewportPosition = new Point(\r\n                        viewportPosition.x + scaledMousePosition.x - mousePosition.x,\r\n                        viewportPosition.y + scaledMousePosition.y - mousePosition.y\r\n                );\r\n\r\n                // update the viewport position\r\n                blocked = true;\r\n                scrollPane.getViewport().setViewPosition(newViewportPosition);\r\n                blocked = false;\r\n\r\n                // remember the last scale\r\n                lastScale = scale;\r\n            }\r\n        }\r\n\r\n        // reference to the scroll pane container\r\n        private final JScrollPane scrollPane;\r\n\r\n        // constructor\r\n        public ZoomScrollPanel() {\r\n            // initialize the frame\r\n            JFrame frame = new JFrame();\r\n            frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n            frame.setSize(600, 600);\r\n\r\n            // initialize the components\r\n            final ImagePanel imagePanel = new ImagePanel();\r\n            final JPanel centerPanel = new JPanel();\r\n            centerPanel.setLayout(new GridBagLayout());\r\n            centerPanel.add(imagePanel);\r\n            scrollPane = new JScrollPane();\r\n    \r\n            scrollPane.setViewport(new JViewport() {\r\n                private boolean inCall = false;\r\n                @Override\r\n                public void setViewPosition(Point pos) {\r\n                    if (!inCall || !blocked) {\r\n                        inCall = true;\r\n                        super.setViewPosition(pos);\r\n                        inCall = false;\r\n                    }\r\n                }\r\n            });\r\n    \r\n            scrollPane.getViewport().add(centerPanel);\r\n            scrollPane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\r\n            scrollPane.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_ALWAYS);\r\n            frame.add(scrollPane);\r\n\r\n            // add mouse wheel listener\r\n            imagePanel.addMouseWheelListener(new MouseAdapter() {\r\n                @Override\r\n                public void mouseWheelMoved(MouseWheelEvent e) {\r\n                    super.mouseWheelMoved(e);\r\n                    // check the rotation of the mousewheel\r\n                    int rotation = e.getWheelRotation();\r\n                    boolean zoomed = false;\r\n                    if (rotation &gt; 0) {\r\n                        // only zoom out until no scrollbars are visible\r\n                        if (scrollPane.getHeight() &lt; imagePanel.getPreferredSize().getHeight() ||\r\n                                scrollPane.getWidth() &lt; imagePanel.getPreferredSize().getWidth()) {\r\n                            zoom = zoom / 1.3;\r\n                            zoomed = true;\r\n                        }\r\n                    } else {\r\n                        // zoom in until maximum zoom size is reached\r\n                        double newCurrentZoom = zoom * 1.3;\r\n                        if (newCurrentZoom &lt; 1000) { // 1000 ~ 10 times zoom\r\n                            zoom = newCurrentZoom;\r\n                            zoomed = true;\r\n                        }\r\n                    }\r\n                    // check if a zoom happened\r\n                    if (zoomed) {\r\n                        // compute the scale\r\n                        scale = (float) (zoom / 100f);\r\n\r\n                        // align our viewport\r\n                        alignViewPort(e.getPoint());\r\n\r\n                        // invalidate and repaint to update components\r\n                        imagePanel.revalidate();\r\n                        scrollPane.repaint();\r\n                    }\r\n                }\r\n            });\r\n\r\n            // display our frame\r\n            frame.setVisible(true);\r\n        }\r\n\r\n        // the main method\r\n        public static void main(String[] args) {\r\n            new ZoomScrollPanel();\r\n        }\r\n    }","title":"Zoomable JScrollPane - setViewPosition fails to update","body":"<p>Here is the completed, fully functional Code. I still don't understand why the hack is necessary, but at least it now works as expected:</p>\n\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseWheelEvent;\nimport java.awt.image.BufferedImage;\nimport java.util.Random;\n\n/**\n * Zoom-able scroll panel\n */\npublic class ZoomScrollPanel {\n\n    // the size of our image\n    private final static int IMAGE_SIZE = 600;\n\n    // create an image to display\n    private BufferedImage getImage() {\n        BufferedImage image = new BufferedImage(IMAGE_SIZE, IMAGE_SIZE, BufferedImage.TYPE_INT_RGB);\n        Graphics g = image.getGraphics();\n        // draw the small pixel first\n        Random rand = new Random();\n        for (int x = 0; x &lt; IMAGE_SIZE; x += 10) {\n            for (int y = 0; y &lt; IMAGE_SIZE; y += 10) {\n                g.setColor(new Color(rand.nextInt(255),rand.nextInt(255),rand.nextInt(255)));\n                g.fillRect(x, y, 10, 10);\n            }\n        }\n        // draw the larger transparent pixel second\n        for (int x = 0; x &lt; IMAGE_SIZE; x += 100) {\n            for (int y = 0; y &lt; IMAGE_SIZE; y += 100) {\n                g.setColor(new Color(rand.nextInt(255),rand.nextInt(255),rand.nextInt(255), 180));\n                g.fillRect(x, y, 100, 100);\n            }\n        }\n        return image;\n    }\n\n    // the image panel that resizes according to zoom level\n    private class ImagePanel extends JPanel {\n        private final BufferedImage image = getImage();\n\n        @Override\n        public void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2 = (Graphics2D)g.create();\n            g2.scale(scale, scale);\n            g2.drawImage(image, 0, 0, null);\n            g2.dispose();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension((int)Math.round(IMAGE_SIZE * scale), (int)Math.round(IMAGE_SIZE * scale));\n        }\n    }\n\n    // the current zoom level (100 means the image is shown in original size)\n    private double zoom = 100;\n    // the current scale (scale = zoom/100)\n    private double scale = 1;\n\n    // the last seen scale\n    private double lastScale = 1;\n\n    // true if currently executing setViewPosition\n    private boolean blocked = false;\n\n    public void alignViewPort(Point mousePosition) {\n        // if the scale didn't change there is nothing we should do\n        if (scale != lastScale) {\n            // compute the factor by that the image zoom has changed\n            double scaleChange = scale / lastScale;\n\n            // compute the scaled mouse position\n            Point scaledMousePosition = new Point(\n                    (int)Math.round(mousePosition.x * scaleChange),\n                    (int)Math.round(mousePosition.y * scaleChange)\n            );\n\n            // retrieve the current viewport position\n            Point viewportPosition = scrollPane.getViewport().getViewPosition();\n\n            // compute the new viewport position\n            Point newViewportPosition = new Point(\n                    viewportPosition.x + scaledMousePosition.x - mousePosition.x,\n                    viewportPosition.y + scaledMousePosition.y - mousePosition.y\n            );\n\n            // update the viewport position\n            blocked = true;\n            scrollPane.getViewport().setViewPosition(newViewportPosition);\n            blocked = false;\n\n            // remember the last scale\n            lastScale = scale;\n        }\n    }\n\n    // reference to the scroll pane container\n    private final JScrollPane scrollPane;\n\n    // constructor\n    public ZoomScrollPanel() {\n        // initialize the frame\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setSize(600, 600);\n\n        // initialize the components\n        final ImagePanel imagePanel = new ImagePanel();\n        final JPanel centerPanel = new JPanel();\n        centerPanel.setLayout(new GridBagLayout());\n        centerPanel.add(imagePanel);\n        scrollPane = new JScrollPane();\n\n        scrollPane.setViewport(new JViewport() {\n            private boolean inCall = false;\n            @Override\n            public void setViewPosition(Point pos) {\n                if (!inCall || !blocked) {\n                    inCall = true;\n                    super.setViewPosition(pos);\n                    inCall = false;\n                }\n            }\n        });\n\n        scrollPane.getViewport().add(centerPanel);\n        scrollPane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\n        scrollPane.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_ALWAYS);\n        frame.add(scrollPane);\n\n        // add mouse wheel listener\n        imagePanel.addMouseWheelListener(new MouseAdapter() {\n            @Override\n            public void mouseWheelMoved(MouseWheelEvent e) {\n                super.mouseWheelMoved(e);\n                // check the rotation of the mousewheel\n                int rotation = e.getWheelRotation();\n                boolean zoomed = false;\n                if (rotation &gt; 0) {\n                    // only zoom out until no scrollbars are visible\n                    if (scrollPane.getHeight() &lt; imagePanel.getPreferredSize().getHeight() ||\n                            scrollPane.getWidth() &lt; imagePanel.getPreferredSize().getWidth()) {\n                        zoom = zoom / 1.3;\n                        zoomed = true;\n                    }\n                } else {\n                    // zoom in until maximum zoom size is reached\n                    double newCurrentZoom = zoom * 1.3;\n                    if (newCurrentZoom &lt; 1000) { // 1000 ~ 10 times zoom\n                        zoom = newCurrentZoom;\n                        zoomed = true;\n                    }\n                }\n                // check if a zoom happened\n                if (zoomed) {\n                    // compute the scale\n                    scale = (float) (zoom / 100f);\n\n                    // align our viewport\n                    alignViewPort(e.getPoint());\n\n                    // invalidate and repaint to update components\n                    imagePanel.revalidate();\n                    scrollPane.repaint();\n                }\n            }\n        });\n\n        // display our frame\n        frame.setVisible(true);\n    }\n\n    // the main method\n    public static void main(String[] args) {\n        new ZoomScrollPanel();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17107045,"reputation":11,"user_id":12378846,"display_name":"sovikstepan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607542458,"creation_date":1607542458,"answer_id":65223684,"question_id":22649636,"body_markdown":"Some time ago I was facing the same issue. I had some scalable/zoomable content (SWT widgets) stored in Viewport in JScrollPane and some features implemented to enable panning and zooming the content. I didn&#39;t look into your code if it&#39;s basically the same, but the issue that I was observing was completely the same. When zooming outside from the right/bottom side, sometimes, the view position jumped a little bit into the center (from my point-of-view that definitely points to a scale factor). Using doubled &quot;setViewPosition&quot; somehow enhanced the behavior but still not usable.\r\n\r\nAfter some investigation, I&#39;ve found out that the issue on my side was between the moment when I changed the scale factor of the content inside the scroll panel and the moment when view position was set in scroll panel. The thing is that scroll panel doesn&#39;t know about the content size updates until layout is done. So basically, it&#39;s updating the position based on old content size, extent size and view position.\r\n\r\nSo, at my side, this helped a lot.\r\n\r\n    // updating scroll panel content scale goes here\r\n\r\n    viewport.doLayout();\r\n\r\n    // setting view position in viewport goes here\r\n\r\nChecking method BasicScrollPaneUI#syncScrollPaneWithViewport() was very useful on my side.\r\n","title":"Zoomable JScrollPane - setViewPosition fails to update","body":"<p>Some time ago I was facing the same issue. I had some scalable/zoomable content (SWT widgets) stored in Viewport in JScrollPane and some features implemented to enable panning and zooming the content. I didn't look into your code if it's basically the same, but the issue that I was observing was completely the same. When zooming outside from the right/bottom side, sometimes, the view position jumped a little bit into the center (from my point-of-view that definitely points to a scale factor). Using doubled &quot;setViewPosition&quot; somehow enhanced the behavior but still not usable.</p>\n<p>After some investigation, I've found out that the issue on my side was between the moment when I changed the scale factor of the content inside the scroll panel and the moment when view position was set in scroll panel. The thing is that scroll panel doesn't know about the content size updates until layout is done. So basically, it's updating the position based on old content size, extent size and view position.</p>\n<p>So, at my side, this helped a lot.</p>\n<pre><code>// updating scroll panel content scale goes here\n\nviewport.doLayout();\n\n// setting view position in viewport goes here\n</code></pre>\n<p>Checking method BasicScrollPaneUI#syncScrollPaneWithViewport() was very useful on my side.</p>\n"},{"tags":[],"owner":{"account_id":22060406,"reputation":44,"user_id":16323206,"display_name":"jazznbass"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653492594,"creation_date":1653492495,"answer_id":72380436,"question_id":22649636,"body_markdown":"very useful example, excellent zoom at mouse pointer, here is the same code slightly modified to include mouse panning:\r\noriginal code added taken from --&gt; https://stackoverflow.com/questions/31171502/scroll-jscrollpane-by-dragging-mouse-java-swing\r\n\r\n\r\n    \r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseWheelEvent;\r\n    import java.awt.image.BufferedImage;\r\n    import java.util.Random;\r\n    \r\n    /**\r\n     * Zoom-able scroll panel\r\n     */\r\n    \r\n    // https://stackoverflow.com/questions/22649636/zoomable-jscrollpane-setviewposition-fails-to-update\r\n    \r\n    public class ZoomPanScrollPanel {\r\n    \r\n        // the size of our image\r\n        private final static int IMAGE_SIZE = 1600;\r\n    \r\n        // create an image to display\r\n        private BufferedImage getImage() {\r\n            BufferedImage image = new BufferedImage(IMAGE_SIZE, IMAGE_SIZE, BufferedImage.TYPE_INT_ARGB);\r\n            Graphics g = image.getGraphics();\r\n            // draw the small pixel first\r\n            Random rand = new Random();\r\n            for (int x = 0; x &lt; IMAGE_SIZE; x += 10) {\r\n                for (int y = 0; y &lt; IMAGE_SIZE; y += 10) {\r\n                    g.setColor(new Color(rand.nextInt(255),rand.nextInt(255),rand.nextInt(255), rand.nextInt(255)));\r\n                    g.fillRect(x, y, 10, 10);\r\n                }\r\n            }\r\n            // draw the larger transparent pixel second\r\n            for (int x = 0; x &lt; IMAGE_SIZE; x += 100) {\r\n                for (int y = 0; y &lt; IMAGE_SIZE; y += 100) {\r\n                    g.setColor(new Color(rand.nextInt(255),rand.nextInt(255),rand.nextInt(255), 180));\r\n                    g.fillRect(x, y, 100, 100);\r\n                }\r\n            }\r\n            return image;\r\n        }\r\n    \r\n        // the image panel that resizes according to zoom level\r\n        private class ImagePanel extends JPanel {\r\n            private final BufferedImage image = getImage();\r\n    \r\n            @Override\r\n            public void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2 = (Graphics2D)g.create();\r\n                g2.scale(scale, scale);\r\n                g2.drawImage(image, 0, 0, null);\r\n                g2.dispose();\r\n            }\r\n    \r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension((int)Math.round(IMAGE_SIZE * scale), (int)Math.round(IMAGE_SIZE * scale));\r\n            }\r\n        }\r\n    \r\n        // the current zoom level (100 means the image is shown in original size)\r\n        private double zoom = 100;\r\n        // the current scale (scale = zoom/100)\r\n        private double scale = 1;\r\n    \r\n        // the last seen scale\r\n        private double lastScale = 1;\r\n    \r\n        // true if currently executing setViewPosition\r\n        private boolean blocked = false;\r\n    \r\n        public void alignViewPort(Point mousePosition) {\r\n            // if the scale didn&#39;t change there is nothing we should do\r\n            if (scale != lastScale) {\r\n                // compute the factor by that the image zoom has changed\r\n                double scaleChange = scale / lastScale;\r\n    \r\n                // compute the scaled mouse position\r\n                Point scaledMousePosition = new Point(\r\n                        (int)Math.round(mousePosition.x * scaleChange),\r\n                        (int)Math.round(mousePosition.y * scaleChange)\r\n                );\r\n    \r\n                // retrieve the current viewport position\r\n                Point viewportPosition = scrollPane.getViewport().getViewPosition();\r\n    \r\n                // compute the new viewport position\r\n                Point newViewportPosition = new Point(\r\n                        viewportPosition.x + scaledMousePosition.x - mousePosition.x,\r\n                        viewportPosition.y + scaledMousePosition.y - mousePosition.y\r\n                );\r\n    \r\n                // update the viewport position\r\n                blocked = true;\r\n                scrollPane.getViewport().setViewPosition(newViewportPosition);\r\n                blocked = false;\r\n    \r\n                // remember the last scale\r\n                lastScale = scale;\r\n            }\r\n        }\r\n    \r\n        // reference to the scroll pane container\r\n        private final JScrollPane scrollPane;\r\n    \r\n        // constructor\r\n        public ZoomPanScrollPanel() {\r\n            // initialize the frame\r\n            JFrame frame = new JFrame();\r\n            frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n            frame.setSize(600, 600);\r\n    \r\n            // initialize the components\r\n            final ImagePanel imagePanel = new ImagePanel();\r\n            final JPanel centerPanel = new JPanel();\r\n            centerPanel.setLayout(new GridBagLayout());\r\n            centerPanel.add(imagePanel);\r\n            scrollPane = new JScrollPane();\r\n    \r\n            scrollPane.setViewport(new JViewport() {\r\n                private boolean inCall = false;\r\n                @Override\r\n                public void setViewPosition(Point pos) {\r\n                    if (!inCall || !blocked) {\r\n                        inCall = true;\r\n                        super.setViewPosition(pos);\r\n                        inCall = false;\r\n                    }\r\n                }\r\n            });\r\n    \r\n            scrollPane.getViewport().add(centerPanel);\r\n            scrollPane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\r\n            scrollPane.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_ALWAYS);\r\n            frame.add(scrollPane);\r\n    \r\n            // add mouse wheel listener\r\n            imagePanel.addMouseWheelListener(new MouseAdapter() {\r\n                @Override\r\n                public void mouseWheelMoved(MouseWheelEvent e) {\r\n                    super.mouseWheelMoved(e);\r\n                    // check the rotation of the mousewheel\r\n                    int rotation = e.getWheelRotation();\r\n                    boolean zoomed = false;\r\n                    if (rotation &gt; 0) {\r\n                        // only zoom out until no scrollbars are visible\r\n                        if (scrollPane.getHeight() &lt; imagePanel.getPreferredSize().getHeight() ||\r\n                                scrollPane.getWidth() &lt; imagePanel.getPreferredSize().getWidth()) {\r\n                            zoom = zoom / 1.3;\r\n                            zoomed = true;\r\n                        }\r\n                    } else {\r\n                        // zoom in until maximum zoom size is reached\r\n                        double newCurrentZoom = zoom * 1.3;\r\n                        if (newCurrentZoom &lt; 1000) { // 1000 ~ 10 times zoom\r\n                            zoom = newCurrentZoom;\r\n                            zoomed = true;\r\n                        }\r\n                    }\r\n                    // check if a zoom happened\r\n                    if (zoomed) {\r\n                        // compute the scale\r\n                        scale = (float) (zoom / 100f);\r\n    \r\n                        // align our viewport\r\n                        alignViewPort(e.getPoint());\r\n    \r\n                        // invalidate and repaint to update components\r\n                        imagePanel.revalidate();\r\n                        scrollPane.repaint();\r\n                    }\r\n                }\r\n            });\r\n            \r\n              //mouse panning\r\n    //original code: https://stackoverflow.com/questions/31171502/scroll-jscrollpane-by-dragging-mouse-java-swing\r\n    \r\n                    MouseAdapter ma = new MouseAdapter() {\r\n    \r\n                        private Point origin;\r\n    \r\n                        @Override\r\n                        public void mousePressed(MouseEvent e) {\r\n                            origin = new Point(e.getPoint());\r\n                        }\r\n    \r\n                        @Override\r\n                        public void mouseReleased(MouseEvent e) {\r\n                        }\r\n    \r\n                        @Override\r\n                        public void mouseDragged(MouseEvent e) {\r\n                            if (origin != null) {\r\n                                JViewport viewPort = (JViewport) SwingUtilities.getAncestorOfClass(JViewport.class, imagePanel);\r\n                                if (viewPort != null) {\r\n                                    int deltaX = origin.x - e.getX();\r\n                                    int deltaY = origin.y - e.getY();\r\n                                    \r\n                                    System.out.println(&quot;X pan = &quot;+ deltaX);\r\n                                    System.out.println(&quot;Y pan = &quot;+ deltaY);\r\n    \r\n                                    Rectangle view = viewPort.getViewRect();\r\n                                    view.x += deltaX;\r\n                                    view.y += deltaY;\r\n    \r\n                                    imagePanel.scrollRectToVisible(view);\r\n                                }\r\n                            }\r\n                        }\r\n    \r\n                    };\r\n    \r\n                    imagePanel.addMouseListener(ma);\r\n                    imagePanel.addMouseMotionListener(ma);\r\n                    \r\n                     imagePanel.setAutoscrolls(true);\r\n    \r\n            // display our frame\r\n            frame.setVisible(true);\r\n        }\r\n    \r\n        // the main method\r\n        public static void main(String[] args) {\r\n            new ZoomPanScrollPanel();\r\n        }\r\n    }\r\n\r\n","title":"Zoomable JScrollPane - setViewPosition fails to update","body":"<p>very useful example, excellent zoom at mouse pointer, here is the same code slightly modified to include mouse panning:\noriginal code added taken from --&gt; <a href=\"https://stackoverflow.com/questions/31171502/scroll-jscrollpane-by-dragging-mouse-java-swing\">Scroll JScrollPane by dragging mouse (Java swing)</a></p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseWheelEvent;\nimport java.awt.image.BufferedImage;\nimport java.util.Random;\n\n/**\n * Zoom-able scroll panel\n */\n\n// https://stackoverflow.com/questions/22649636/zoomable-jscrollpane-setviewposition-fails-to-update\n\npublic class ZoomPanScrollPanel {\n\n    // the size of our image\n    private final static int IMAGE_SIZE = 1600;\n\n    // create an image to display\n    private BufferedImage getImage() {\n        BufferedImage image = new BufferedImage(IMAGE_SIZE, IMAGE_SIZE, BufferedImage.TYPE_INT_ARGB);\n        Graphics g = image.getGraphics();\n        // draw the small pixel first\n        Random rand = new Random();\n        for (int x = 0; x &lt; IMAGE_SIZE; x += 10) {\n            for (int y = 0; y &lt; IMAGE_SIZE; y += 10) {\n                g.setColor(new Color(rand.nextInt(255),rand.nextInt(255),rand.nextInt(255), rand.nextInt(255)));\n                g.fillRect(x, y, 10, 10);\n            }\n        }\n        // draw the larger transparent pixel second\n        for (int x = 0; x &lt; IMAGE_SIZE; x += 100) {\n            for (int y = 0; y &lt; IMAGE_SIZE; y += 100) {\n                g.setColor(new Color(rand.nextInt(255),rand.nextInt(255),rand.nextInt(255), 180));\n                g.fillRect(x, y, 100, 100);\n            }\n        }\n        return image;\n    }\n\n    // the image panel that resizes according to zoom level\n    private class ImagePanel extends JPanel {\n        private final BufferedImage image = getImage();\n\n        @Override\n        public void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2 = (Graphics2D)g.create();\n            g2.scale(scale, scale);\n            g2.drawImage(image, 0, 0, null);\n            g2.dispose();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension((int)Math.round(IMAGE_SIZE * scale), (int)Math.round(IMAGE_SIZE * scale));\n        }\n    }\n\n    // the current zoom level (100 means the image is shown in original size)\n    private double zoom = 100;\n    // the current scale (scale = zoom/100)\n    private double scale = 1;\n\n    // the last seen scale\n    private double lastScale = 1;\n\n    // true if currently executing setViewPosition\n    private boolean blocked = false;\n\n    public void alignViewPort(Point mousePosition) {\n        // if the scale didn't change there is nothing we should do\n        if (scale != lastScale) {\n            // compute the factor by that the image zoom has changed\n            double scaleChange = scale / lastScale;\n\n            // compute the scaled mouse position\n            Point scaledMousePosition = new Point(\n                    (int)Math.round(mousePosition.x * scaleChange),\n                    (int)Math.round(mousePosition.y * scaleChange)\n            );\n\n            // retrieve the current viewport position\n            Point viewportPosition = scrollPane.getViewport().getViewPosition();\n\n            // compute the new viewport position\n            Point newViewportPosition = new Point(\n                    viewportPosition.x + scaledMousePosition.x - mousePosition.x,\n                    viewportPosition.y + scaledMousePosition.y - mousePosition.y\n            );\n\n            // update the viewport position\n            blocked = true;\n            scrollPane.getViewport().setViewPosition(newViewportPosition);\n            blocked = false;\n\n            // remember the last scale\n            lastScale = scale;\n        }\n    }\n\n    // reference to the scroll pane container\n    private final JScrollPane scrollPane;\n\n    // constructor\n    public ZoomPanScrollPanel() {\n        // initialize the frame\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setSize(600, 600);\n\n        // initialize the components\n        final ImagePanel imagePanel = new ImagePanel();\n        final JPanel centerPanel = new JPanel();\n        centerPanel.setLayout(new GridBagLayout());\n        centerPanel.add(imagePanel);\n        scrollPane = new JScrollPane();\n\n        scrollPane.setViewport(new JViewport() {\n            private boolean inCall = false;\n            @Override\n            public void setViewPosition(Point pos) {\n                if (!inCall || !blocked) {\n                    inCall = true;\n                    super.setViewPosition(pos);\n                    inCall = false;\n                }\n            }\n        });\n\n        scrollPane.getViewport().add(centerPanel);\n        scrollPane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\n        scrollPane.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_ALWAYS);\n        frame.add(scrollPane);\n\n        // add mouse wheel listener\n        imagePanel.addMouseWheelListener(new MouseAdapter() {\n            @Override\n            public void mouseWheelMoved(MouseWheelEvent e) {\n                super.mouseWheelMoved(e);\n                // check the rotation of the mousewheel\n                int rotation = e.getWheelRotation();\n                boolean zoomed = false;\n                if (rotation &gt; 0) {\n                    // only zoom out until no scrollbars are visible\n                    if (scrollPane.getHeight() &lt; imagePanel.getPreferredSize().getHeight() ||\n                            scrollPane.getWidth() &lt; imagePanel.getPreferredSize().getWidth()) {\n                        zoom = zoom / 1.3;\n                        zoomed = true;\n                    }\n                } else {\n                    // zoom in until maximum zoom size is reached\n                    double newCurrentZoom = zoom * 1.3;\n                    if (newCurrentZoom &lt; 1000) { // 1000 ~ 10 times zoom\n                        zoom = newCurrentZoom;\n                        zoomed = true;\n                    }\n                }\n                // check if a zoom happened\n                if (zoomed) {\n                    // compute the scale\n                    scale = (float) (zoom / 100f);\n\n                    // align our viewport\n                    alignViewPort(e.getPoint());\n\n                    // invalidate and repaint to update components\n                    imagePanel.revalidate();\n                    scrollPane.repaint();\n                }\n            }\n        });\n        \n          //mouse panning\n//original code: https://stackoverflow.com/questions/31171502/scroll-jscrollpane-by-dragging-mouse-java-swing\n\n                MouseAdapter ma = new MouseAdapter() {\n\n                    private Point origin;\n\n                    @Override\n                    public void mousePressed(MouseEvent e) {\n                        origin = new Point(e.getPoint());\n                    }\n\n                    @Override\n                    public void mouseReleased(MouseEvent e) {\n                    }\n\n                    @Override\n                    public void mouseDragged(MouseEvent e) {\n                        if (origin != null) {\n                            JViewport viewPort = (JViewport) SwingUtilities.getAncestorOfClass(JViewport.class, imagePanel);\n                            if (viewPort != null) {\n                                int deltaX = origin.x - e.getX();\n                                int deltaY = origin.y - e.getY();\n                                \n                                System.out.println(&quot;X pan = &quot;+ deltaX);\n                                System.out.println(&quot;Y pan = &quot;+ deltaY);\n\n                                Rectangle view = viewPort.getViewRect();\n                                view.x += deltaX;\n                                view.y += deltaY;\n\n                                imagePanel.scrollRectToVisible(view);\n                            }\n                        }\n                    }\n\n                };\n\n                imagePanel.addMouseListener(ma);\n                imagePanel.addMouseMotionListener(ma);\n                \n                 imagePanel.setAutoscrolls(true);\n\n        // display our frame\n        frame.setVisible(true);\n    }\n\n    // the main method\n    public static void main(String[] args) {\n        new ZoomPanScrollPanel();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1019703,"reputation":2051,"user_id":1030413,"accept_rate":80,"display_name":"vincent"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1626,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":44232367,"answer_count":3,"score":7,"last_activity_date":1653492594,"creation_date":1395796485,"question_id":22649636,"body_markdown":"I&#39;m trying to code a **zoom-able image** in a JScrollPane.\r\n\r\nWhen the image is fully zoomed out it should be centered horizontally and vertically. When both scroll bars have appeared the zooming should always happen relative to the mouse coordinate, i.e. the same point of the image should be under the mouse before and after the zoom event.\r\n\r\nI have almost achieves my goal. Unfortunately the &quot;scrollPane.getViewport().setViewPosition()&quot; method sometimes fails to update the view position correctly. Calling the method twice (hack!) overcomes the issue in most cases, but the view still flickers.\r\n\r\nI have no explanation as to why this is happening. However I&#39;m confident that it&#39;s not a math problem.\r\n\r\n----------------\r\n\r\n![MWE][1]\r\n\r\nBelow is a MWE. To see what my problem is in particular you can do the following:\r\n\r\n+ Zoom in until you have some scroll bars (200% zoom or so)\r\n+ Scroll into the bottom right corner by clicking the scroll bars\r\n+ Place the mouse in the corner and zoom in twice. The second time you&#39;ll see how the scroll position jumps towards the center.\r\n\r\n*I would really appreciate if someone could tell me where the problem lies. Thank you!*\r\n\r\n\r\n\r\n    package com.vitco;\r\n    \r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseWheelEvent;\r\n    import java.awt.image.BufferedImage;\r\n    import java.util.Random;\r\n    \r\n    /**\r\n     * Zoom-able scroll panel test case\r\n     */\r\n    public class ZoomScrollPanel {\r\n    \r\n        // the size of our image\r\n        private final static int IMAGE_SIZE = 600;\r\n    \r\n        // create an image to display\r\n        private BufferedImage getImage() {\r\n            BufferedImage image = new BufferedImage(IMAGE_SIZE, IMAGE_SIZE, BufferedImage.TYPE_INT_RGB);\r\n            Graphics g = image.getGraphics();\r\n            // draw the small pixel first\r\n            Random rand = new Random();\r\n            for (int x = 0; x &lt; IMAGE_SIZE; x += 10) {\r\n                for (int y = 0; y &lt; IMAGE_SIZE; y += 10) {\r\n                    g.setColor(new Color(rand.nextInt(255),rand.nextInt(255),rand.nextInt(255)));\r\n                    g.fillRect(x, y, 10, 10);\r\n                }\r\n            }\r\n            // draw the larger transparent pixel second\r\n            for (int x = 0; x &lt; IMAGE_SIZE; x += 100) {\r\n                for (int y = 0; y &lt; IMAGE_SIZE; y += 100) {\r\n                    g.setColor(new Color(rand.nextInt(255),rand.nextInt(255),rand.nextInt(255), 180));\r\n                    g.fillRect(x, y, 100, 100);\r\n                }\r\n            }\r\n            return image;\r\n        }\r\n    \r\n        // the image panel that resizes according to zoom level\r\n        private class ImagePanel extends JPanel {\r\n            private final BufferedImage image = getImage();\r\n    \r\n            @Override\r\n            public void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2 = (Graphics2D)g.create();\r\n                g2.scale(scale, scale);\r\n                g2.drawImage(image, 0, 0, null);\r\n                g2.dispose();\r\n            }\r\n    \r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension((int)Math.round(IMAGE_SIZE * scale), (int)Math.round(IMAGE_SIZE * scale));\r\n            }\r\n        }\r\n    \r\n        // the current zoom level (100 means the image is shown in original size)\r\n        private double zoom = 100;\r\n        // the current scale (scale = zoom/100)\r\n        private double scale = 1;\r\n    \r\n        // the last seen scale\r\n        private double lastScale = 1;\r\n    \r\n        public void alignViewPort(Point mousePosition) {\r\n            // if the scale didn&#39;t change there is nothing we should do\r\n            if (scale != lastScale) {\r\n                // compute the factor by that the image zoom has changed\r\n                double scaleChange = scale / lastScale;\r\n    \r\n                // compute the scaled mouse position\r\n                Point scaledMousePosition = new Point(\r\n                        (int)Math.round(mousePosition.x * scaleChange),\r\n                        (int)Math.round(mousePosition.y * scaleChange)\r\n                );\r\n    \r\n                // retrieve the current viewport position\r\n                Point viewportPosition = scrollPane.getViewport().getViewPosition();\r\n    \r\n                // compute the new viewport position\r\n                Point newViewportPosition = new Point(\r\n                        viewportPosition.x + scaledMousePosition.x - mousePosition.x,\r\n                        viewportPosition.y + scaledMousePosition.y - mousePosition.y\r\n                );\r\n    \r\n                // update the viewport position\r\n                // IMPORTANT: This call doesn&#39;t always update the viewport position. If the call is made twice\r\n                // it works correctly. However the screen still &quot;flickers&quot;.\r\n                scrollPane.getViewport().setViewPosition(newViewportPosition);\r\n    \r\n                // debug\r\n                if (!newViewportPosition.equals(scrollPane.getViewport().getViewPosition())) {\r\n                    System.out.println(&quot;Error: &quot; + newViewportPosition + &quot; != &quot; + scrollPane.getViewport().getViewPosition());\r\n                }\r\n    \r\n                // remember the last scale\r\n                lastScale = scale;\r\n            }\r\n        }\r\n    \r\n        // reference to the scroll pane container\r\n        private final JScrollPane scrollPane;\r\n    \r\n        // constructor\r\n        public ZoomScrollPanel() {\r\n            // initialize the frame\r\n            JFrame frame = new JFrame();\r\n            frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n            frame.setSize(600, 600);\r\n    \r\n            // initialize the components\r\n            final ImagePanel imagePanel = new ImagePanel();\r\n            final JPanel centerPanel = new JPanel();\r\n            centerPanel.setLayout(new GridBagLayout());\r\n            centerPanel.add(imagePanel);\r\n            scrollPane = new JScrollPane(centerPanel);\r\n            scrollPane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\r\n            scrollPane.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_ALWAYS);\r\n            frame.add(scrollPane);\r\n    \r\n            // add mouse wheel listener\r\n            imagePanel.addMouseWheelListener(new MouseAdapter() {\r\n                @Override\r\n                public void mouseWheelMoved(MouseWheelEvent e) {\r\n                    super.mouseWheelMoved(e);\r\n                    // check the rotation of the mousewheel\r\n                    int rotation = e.getWheelRotation();\r\n                    boolean zoomed = false;\r\n                    if (rotation &gt; 0) {\r\n                        // only zoom out until no scrollbars are visible\r\n                        if (scrollPane.getHeight() &lt; imagePanel.getPreferredSize().getHeight() ||\r\n                                scrollPane.getWidth() &lt; imagePanel.getPreferredSize().getWidth()) {\r\n                            zoom = zoom / 1.3;\r\n                            zoomed = true;\r\n                        }\r\n                    } else {\r\n                        // zoom in until maximum zoom size is reached\r\n                        double newCurrentZoom = zoom * 1.3;\r\n                        if (newCurrentZoom &lt; 1000) { // 1000 ~ 10 times zoom\r\n                            zoom = newCurrentZoom;\r\n                            zoomed = true;\r\n                        }\r\n                    }\r\n                    // check if a zoom happened\r\n                    if (zoomed) {\r\n                        // compute the scale\r\n                        scale = (float) (zoom / 100f);\r\n                        \r\n                        // align our viewport\r\n                        alignViewPort(e.getPoint());\r\n                        \r\n                        // invalidate and repaint to update components\r\n                        imagePanel.revalidate();\r\n                        scrollPane.repaint();\r\n                    }\r\n                }\r\n            });\r\n    \r\n            // display our frame\r\n            frame.setVisible(true);\r\n        }\r\n    \r\n        // the main method\r\n        public static void main(String[] args) {\r\n            new ZoomScrollPanel();\r\n        }\r\n    }\r\n\r\n\r\n\r\nNote: I have also looked at the question here https://stackoverflow.com/questions/2067511/jscrollpane-setviewposition-after-zoom but unfortunately the problem and solution are slightly different and do not apply.\r\n\r\n-----------------\r\n\r\n**Edit**\r\n\r\nI have solved the issue by using a hack, however I&#39;m still no closer to understanding as to what the underlying problem is. What is happening is that when the setViewPosition is called some internal state changes trigger additional calls to setViewPosition. These additional calls only happen occasionally. When I&#39;m blocking them everything works perfectly. \r\n\r\nTo fix the problem I simply introduced a new boolean variable &quot;blocked = false;&quot; and replaced the lines\r\n\r\n        scrollPane = new JScrollPane(centerPanel);\r\n\r\nand\r\n\r\n        scrollPane.getViewport().setViewPosition(newViewportPosition);\r\n\r\nwith\r\n\r\n        scrollPane = new JScrollPane();\r\n\r\n        scrollPane.setViewport(new JViewport() {\r\n            private boolean inCall = false;\r\n            @Override\r\n            public void setViewPosition(Point pos) {\r\n                if (!inCall || !blocked) {\r\n                    inCall = true;\r\n                    super.setViewPosition(pos);\r\n                    inCall = false;\r\n                }\r\n            }\r\n        });\r\n\r\n        scrollPane.getViewport().add(centerPanel);\r\n\r\nand\r\n\r\n         blocked = true;\r\n         scrollPane.getViewport().setViewPosition(newViewportPosition);\r\n         blocked = false;\r\n\r\nI would still really appreciate if someone could make sense of this!\r\n\r\nWhy does this hack work? Is there a cleaner way to achieve the same functionality?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/PyXjMm.png","title":"Zoomable JScrollPane - setViewPosition fails to update","body":"<p>I'm trying to code a <strong>zoom-able image</strong> in a JScrollPane.</p>\n\n<p>When the image is fully zoomed out it should be centered horizontally and vertically. When both scroll bars have appeared the zooming should always happen relative to the mouse coordinate, i.e. the same point of the image should be under the mouse before and after the zoom event.</p>\n\n<p>I have almost achieves my goal. Unfortunately the \"scrollPane.getViewport().setViewPosition()\" method sometimes fails to update the view position correctly. Calling the method twice (hack!) overcomes the issue in most cases, but the view still flickers.</p>\n\n<p>I have no explanation as to why this is happening. However I'm confident that it's not a math problem.</p>\n\n<hr>\n\n<p><img src=\"https://i.stack.imgur.com/PyXjMm.png\" alt=\"MWE\"></p>\n\n<p>Below is a MWE. To see what my problem is in particular you can do the following:</p>\n\n<ul>\n<li>Zoom in until you have some scroll bars (200% zoom or so)</li>\n<li>Scroll into the bottom right corner by clicking the scroll bars</li>\n<li>Place the mouse in the corner and zoom in twice. The second time you'll see how the scroll position jumps towards the center.</li>\n</ul>\n\n<p><em>I would really appreciate if someone could tell me where the problem lies. Thank you!</em></p>\n\n<pre><code>package com.vitco;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseWheelEvent;\nimport java.awt.image.BufferedImage;\nimport java.util.Random;\n\n/**\n * Zoom-able scroll panel test case\n */\npublic class ZoomScrollPanel {\n\n    // the size of our image\n    private final static int IMAGE_SIZE = 600;\n\n    // create an image to display\n    private BufferedImage getImage() {\n        BufferedImage image = new BufferedImage(IMAGE_SIZE, IMAGE_SIZE, BufferedImage.TYPE_INT_RGB);\n        Graphics g = image.getGraphics();\n        // draw the small pixel first\n        Random rand = new Random();\n        for (int x = 0; x &lt; IMAGE_SIZE; x += 10) {\n            for (int y = 0; y &lt; IMAGE_SIZE; y += 10) {\n                g.setColor(new Color(rand.nextInt(255),rand.nextInt(255),rand.nextInt(255)));\n                g.fillRect(x, y, 10, 10);\n            }\n        }\n        // draw the larger transparent pixel second\n        for (int x = 0; x &lt; IMAGE_SIZE; x += 100) {\n            for (int y = 0; y &lt; IMAGE_SIZE; y += 100) {\n                g.setColor(new Color(rand.nextInt(255),rand.nextInt(255),rand.nextInt(255), 180));\n                g.fillRect(x, y, 100, 100);\n            }\n        }\n        return image;\n    }\n\n    // the image panel that resizes according to zoom level\n    private class ImagePanel extends JPanel {\n        private final BufferedImage image = getImage();\n\n        @Override\n        public void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2 = (Graphics2D)g.create();\n            g2.scale(scale, scale);\n            g2.drawImage(image, 0, 0, null);\n            g2.dispose();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension((int)Math.round(IMAGE_SIZE * scale), (int)Math.round(IMAGE_SIZE * scale));\n        }\n    }\n\n    // the current zoom level (100 means the image is shown in original size)\n    private double zoom = 100;\n    // the current scale (scale = zoom/100)\n    private double scale = 1;\n\n    // the last seen scale\n    private double lastScale = 1;\n\n    public void alignViewPort(Point mousePosition) {\n        // if the scale didn't change there is nothing we should do\n        if (scale != lastScale) {\n            // compute the factor by that the image zoom has changed\n            double scaleChange = scale / lastScale;\n\n            // compute the scaled mouse position\n            Point scaledMousePosition = new Point(\n                    (int)Math.round(mousePosition.x * scaleChange),\n                    (int)Math.round(mousePosition.y * scaleChange)\n            );\n\n            // retrieve the current viewport position\n            Point viewportPosition = scrollPane.getViewport().getViewPosition();\n\n            // compute the new viewport position\n            Point newViewportPosition = new Point(\n                    viewportPosition.x + scaledMousePosition.x - mousePosition.x,\n                    viewportPosition.y + scaledMousePosition.y - mousePosition.y\n            );\n\n            // update the viewport position\n            // IMPORTANT: This call doesn't always update the viewport position. If the call is made twice\n            // it works correctly. However the screen still \"flickers\".\n            scrollPane.getViewport().setViewPosition(newViewportPosition);\n\n            // debug\n            if (!newViewportPosition.equals(scrollPane.getViewport().getViewPosition())) {\n                System.out.println(\"Error: \" + newViewportPosition + \" != \" + scrollPane.getViewport().getViewPosition());\n            }\n\n            // remember the last scale\n            lastScale = scale;\n        }\n    }\n\n    // reference to the scroll pane container\n    private final JScrollPane scrollPane;\n\n    // constructor\n    public ZoomScrollPanel() {\n        // initialize the frame\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setSize(600, 600);\n\n        // initialize the components\n        final ImagePanel imagePanel = new ImagePanel();\n        final JPanel centerPanel = new JPanel();\n        centerPanel.setLayout(new GridBagLayout());\n        centerPanel.add(imagePanel);\n        scrollPane = new JScrollPane(centerPanel);\n        scrollPane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\n        scrollPane.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_ALWAYS);\n        frame.add(scrollPane);\n\n        // add mouse wheel listener\n        imagePanel.addMouseWheelListener(new MouseAdapter() {\n            @Override\n            public void mouseWheelMoved(MouseWheelEvent e) {\n                super.mouseWheelMoved(e);\n                // check the rotation of the mousewheel\n                int rotation = e.getWheelRotation();\n                boolean zoomed = false;\n                if (rotation &gt; 0) {\n                    // only zoom out until no scrollbars are visible\n                    if (scrollPane.getHeight() &lt; imagePanel.getPreferredSize().getHeight() ||\n                            scrollPane.getWidth() &lt; imagePanel.getPreferredSize().getWidth()) {\n                        zoom = zoom / 1.3;\n                        zoomed = true;\n                    }\n                } else {\n                    // zoom in until maximum zoom size is reached\n                    double newCurrentZoom = zoom * 1.3;\n                    if (newCurrentZoom &lt; 1000) { // 1000 ~ 10 times zoom\n                        zoom = newCurrentZoom;\n                        zoomed = true;\n                    }\n                }\n                // check if a zoom happened\n                if (zoomed) {\n                    // compute the scale\n                    scale = (float) (zoom / 100f);\n\n                    // align our viewport\n                    alignViewPort(e.getPoint());\n\n                    // invalidate and repaint to update components\n                    imagePanel.revalidate();\n                    scrollPane.repaint();\n                }\n            }\n        });\n\n        // display our frame\n        frame.setVisible(true);\n    }\n\n    // the main method\n    public static void main(String[] args) {\n        new ZoomScrollPanel();\n    }\n}\n</code></pre>\n\n<p>Note: I have also looked at the question here <a href=\"https://stackoverflow.com/questions/2067511/jscrollpane-setviewposition-after-zoom\">JScrollPane setViewPosition After &quot;Zoom&quot;</a> but unfortunately the problem and solution are slightly different and do not apply.</p>\n\n<hr>\n\n<p><strong>Edit</strong></p>\n\n<p>I have solved the issue by using a hack, however I'm still no closer to understanding as to what the underlying problem is. What is happening is that when the setViewPosition is called some internal state changes trigger additional calls to setViewPosition. These additional calls only happen occasionally. When I'm blocking them everything works perfectly. </p>\n\n<p>To fix the problem I simply introduced a new boolean variable \"blocked = false;\" and replaced the lines</p>\n\n<pre><code>    scrollPane = new JScrollPane(centerPanel);\n</code></pre>\n\n<p>and</p>\n\n<pre><code>    scrollPane.getViewport().setViewPosition(newViewportPosition);\n</code></pre>\n\n<p>with</p>\n\n<pre><code>    scrollPane = new JScrollPane();\n\n    scrollPane.setViewport(new JViewport() {\n        private boolean inCall = false;\n        @Override\n        public void setViewPosition(Point pos) {\n            if (!inCall || !blocked) {\n                inCall = true;\n                super.setViewPosition(pos);\n                inCall = false;\n            }\n        }\n    });\n\n    scrollPane.getViewport().add(centerPanel);\n</code></pre>\n\n<p>and</p>\n\n<pre><code>     blocked = true;\n     scrollPane.getViewport().setViewPosition(newViewportPosition);\n     blocked = false;\n</code></pre>\n\n<p>I would still really appreciate if someone could make sense of this!</p>\n\n<p>Why does this hack work? Is there a cleaner way to achieve the same functionality?</p>\n"},{"tags":["java","iterator","set","command-line-arguments","hashset"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":1,"creation_date":1653493839,"post_id":72380430,"comment_id":127867719,"body_markdown":"Indices of a string are zero based. Even though `0` is also a valid value you are only checking for indexes greater than `0`. Change in your if condition `if(args[i].indexOf(s) &gt; 0)` to `if(args[i].indexOf(s) &gt;= 0)`","body":"Indices of a string are zero based. Even though <code>0</code> is also a valid value you are only checking for indexes greater than <code>0</code>. Change in your if condition <code>if(args[i].indexOf(s) &gt; 0)</code> to <code>if(args[i].indexOf(s) &gt;= 0)</code>"}],"owner":{"account_id":24613392,"reputation":15,"user_id":18514662,"display_name":"zahntheo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653492475,"creation_date":1653492475,"question_id":72380430,"body_markdown":" my program should print out every symbol in the Set inclusive the fitting command line parameters . So I wrote this :\r\n  \r\n```\r\n    public static void main(String[] args) {\r\n\t\tHashSet&lt;Character&gt; mySet = new HashSet&lt;Character&gt;();\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; args.length; ++i) {\r\n\t\t\tfor(int j = 0; j &lt; args[i].length(); ++j) {\r\n\t\t\t\tmySet.add(args[i].charAt(j));\r\n\t\t\t}\r\n\t\t}\r\n\t\tIterator&lt;Character&gt; iter = mySet.iterator(); \r\n\t    while (iter.hasNext()) { \r\n\t        Character s = iter.next(); \r\n\t        System.out.print(&quot;Zeichen: &quot; + s + &quot; - Kommadozeilenparamter:[&quot;);\r\n\t        for(int i = 0; i &lt; args.length; ++i) {\r\n\t        \tif(args[i].indexOf(s) &gt; 0) {\r\n\t      \t        \t\tSystem.out.print(&quot; &quot; + args[i]);\r\n\t        \t}\r\n\t        \t\r\n\t        }\r\n\t        System.out.print(&quot; ]&quot;);\r\n\t        System.out.println();\r\n\t     }\r\n```\r\n  \r\n\r\n\t\r\nThat&#39;s not the best and smartest way to do this task...I&#39;m a beginner ;(\r\nWhen I do the input like : ab bca cd -&gt; then I should get : \r\n[Kommandozeilenparamter is German for command line parameters / Zeichen ist German for symbol]\r\n```\r\nZeichen: a - Kommadozeilenparamter:[ ab bca ]\r\nZeichen: b - Kommadozeilenparamter:[ ab bca ]\r\nZeichen: c - Kommadozeilenparamter:[ bca cd ]\r\nZeichen: d - Kommadozeilenparamter:[ cd ]\r\n```\r\nbut I got:\r\n```\r\nZeichen: a - Kommadozeilenparamter:[ bca ]\r\nZeichen: b - Kommadozeilenparamter:[ ab ]\r\nZeichen: c - Kommadozeilenparamter:[ bca ]\r\nZeichen: d - Kommadozeilenparamter:[ cd ]\r\n```","title":"Need a program which print out every Symbol of the command line arguments and the fitting argument","body":"<p>my program should print out every symbol in the Set inclusive the fitting command line parameters . So I wrote this :</p>\n<pre><code>    public static void main(String[] args) {\n        HashSet&lt;Character&gt; mySet = new HashSet&lt;Character&gt;();\n        \n        for(int i = 0; i &lt; args.length; ++i) {\n            for(int j = 0; j &lt; args[i].length(); ++j) {\n                mySet.add(args[i].charAt(j));\n            }\n        }\n        Iterator&lt;Character&gt; iter = mySet.iterator(); \n        while (iter.hasNext()) { \n            Character s = iter.next(); \n            System.out.print(&quot;Zeichen: &quot; + s + &quot; - Kommadozeilenparamter:[&quot;);\n            for(int i = 0; i &lt; args.length; ++i) {\n                if(args[i].indexOf(s) &gt; 0) {\n                            System.out.print(&quot; &quot; + args[i]);\n                }\n                \n            }\n            System.out.print(&quot; ]&quot;);\n            System.out.println();\n         }\n</code></pre>\n<p>That's not the best and smartest way to do this task...I'm a beginner ;(\nWhen I do the input like : ab bca cd -&gt; then I should get :\n[Kommandozeilenparamter is German for command line parameters / Zeichen ist German for symbol]</p>\n<pre><code>Zeichen: a - Kommadozeilenparamter:[ ab bca ]\nZeichen: b - Kommadozeilenparamter:[ ab bca ]\nZeichen: c - Kommadozeilenparamter:[ bca cd ]\nZeichen: d - Kommadozeilenparamter:[ cd ]\n</code></pre>\n<p>but I got:</p>\n<pre><code>Zeichen: a - Kommadozeilenparamter:[ bca ]\nZeichen: b - Kommadozeilenparamter:[ ab ]\nZeichen: c - Kommadozeilenparamter:[ bca ]\nZeichen: d - Kommadozeilenparamter:[ cd ]\n</code></pre>\n"},{"tags":["java","regex","word-boundary"],"answers":[{"tags":[],"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653492241,"creation_date":1653492241,"answer_id":72380378,"question_id":72380190,"body_markdown":"You may use this regex with a positive lookbehind that matches `\\b` or literal `\\n` in alternations:\r\n\r\n```sh\r\n(?&lt;=\\\\n|\\b)HelloWorld\\b\r\n```\r\n\r\n[RegEx Demo][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/Q2N3wH/1","title":"Java regex - exclude newline from word boundary","body":"<p>You may use this regex with a positive lookbehind that matches <code>\\b</code> or literal <code>\\n</code> in alternations:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>(?&lt;=\\\\n|\\b)HelloWorld\\b\n</code></pre>\n<p><a href=\"https://regex101.com/r/Q2N3wH/1\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n"}],"owner":{"account_id":10626926,"reputation":187,"user_id":8257707,"display_name":"pikaraider"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653492241,"creation_date":1653491546,"question_id":72380190,"body_markdown":"I&#39;m trying to come up with a Java regex which matches a word even when there is a `\\n` in the input text. Kindly note that \\n is supposed to appear as raw string. I am using the typical word boundary `\\bHelloWorld\\b` - https://regex101.com/r/Se5iVW/1 . \r\n\r\nFor example,\r\n\r\n    HelloWorld is a beautiful word \\nHelloWorld\\nHelloWorld\\nHelloWorld hello noHelloWorld \\n HelloWorldno noHelloWorld  HelloWorldno \\nnoHelloWorld \\nHelloWorld ...\r\n\r\nIn this, I expect 5 matches (first four `HelloWorld` and last one).","title":"Java regex - exclude newline from word boundary","body":"<p>I'm trying to come up with a Java regex which matches a word even when there is a <code>\\n</code> in the input text. Kindly note that \\n is supposed to appear as raw string. I am using the typical word boundary <code>\\bHelloWorld\\b</code> - <a href=\"https://regex101.com/r/Se5iVW/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/Se5iVW/1</a> .</p>\n<p>For example,</p>\n<pre><code>HelloWorld is a beautiful word \\nHelloWorld\\nHelloWorld\\nHelloWorld hello noHelloWorld \\n HelloWorldno noHelloWorld  HelloWorldno \\nnoHelloWorld \\nHelloWorld ...\n</code></pre>\n<p>In this, I expect 5 matches (first four <code>HelloWorld</code> and last one).</p>\n"},{"tags":["java","date","timestamp","db2"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1653497354,"post_id":72374294,"comment_id":127869092,"body_markdown":"I strongly recommend that in Java you use neither of the two `Date` classes nor `Timestamp`. Those classes are poorly designed and long outdated. Use `LocalDate` for a DB2 date and `LocalDateTime` for a DB2 timestamp.","body":"I strongly recommend that in Java you use neither of the two <code>Date</code> classes nor <code>Timestamp</code>. Those classes are poorly designed and long outdated. Use <code>LocalDate</code> for a DB2 date and <code>LocalDateTime</code> for a DB2 timestamp."}],"answers":[{"tags":[],"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653471173,"creation_date":1653471173,"answer_id":72375135,"question_id":72374294,"body_markdown":"You should be passing the same type of objects in the setter methods. \r\n\r\n```\r\nSomeClass someClass = new SomeClass();\r\n\r\nsomeClass.setDate(new Date()); //\r\nsomeClass.setTimestamp(new TimeStamp(LONG VALUE));\r\n```\r\n\r\n","title":"Set Date and Timestamp property value in Java","body":"<p>You should be passing the same type of objects in the setter methods.</p>\n<pre><code>SomeClass someClass = new SomeClass();\n\nsomeClass.setDate(new Date()); //\nsomeClass.setTimestamp(new TimeStamp(LONG VALUE));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17552518,"reputation":132,"user_id":12732673,"display_name":"ⵔⴰⴼⵉⵇ ⴱⵓⵖⴰⵏⵉ"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653471996,"creation_date":1653471996,"answer_id":72375344,"question_id":72374294,"body_markdown":"You have all the datatype DB2 mapping with Java here\r\n\r\nhttps://www.ibm.com/docs/en/db2-for-zos/12?topic=jsri-data-types-that-map-database-data-types-in-java-applications\r\n\r\n    java.sql.Date\t    DATE\r\n    java.sql.Time\t    TIME\r\n    java.sql.Timestamp\tTIMESTAMP, TIMESTAMP(p), TIMESTAMP WITH TIME ZONE, \r\n                        TIMESTAMP(p) WITH TIME ZONE15,1\r\n\r\n\r\nJava code\r\n\r\n\r\n    import java.sql.Date;\r\n    import java.sql.Timestamp;\r\n\r\n    public class Test {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tDate dt = new Date(System.currentTimeMillis());\r\n\t\tTimestamp ts = new Timestamp(System.currentTimeMillis());\r\n\t\t\r\n\t\tSystem.err.println(&quot;current date &quot;+dt);\r\n\t\tSystem.err.println(&quot;current timestamps &quot;+ts);\r\n\t}\r\n\r\n    }\r\n\r\nThe output :\r\n\r\n    current date 2022-05-25\r\n    current timestamps 2022-05-25 11:45:12.858\r\n\r\n","title":"Set Date and Timestamp property value in Java","body":"<p>You have all the datatype DB2 mapping with Java here</p>\n<p><a href=\"https://www.ibm.com/docs/en/db2-for-zos/12?topic=jsri-data-types-that-map-database-data-types-in-java-applications\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/db2-for-zos/12?topic=jsri-data-types-that-map-database-data-types-in-java-applications</a></p>\n<pre><code>java.sql.Date       DATE\njava.sql.Time       TIME\njava.sql.Timestamp  TIMESTAMP, TIMESTAMP(p), TIMESTAMP WITH TIME ZONE, \n                    TIMESTAMP(p) WITH TIME ZONE15,1\n</code></pre>\n<p>Java code</p>\n<pre><code>import java.sql.Date;\nimport java.sql.Timestamp;\n\npublic class Test {\n\npublic static void main(String[] args) {\n\n    Date dt = new Date(System.currentTimeMillis());\n    Timestamp ts = new Timestamp(System.currentTimeMillis());\n    \n    System.err.println(&quot;current date &quot;+dt);\n    System.err.println(&quot;current timestamps &quot;+ts);\n}\n\n}\n</code></pre>\n<p>The output :</p>\n<pre><code>current date 2022-05-25\ncurrent timestamps 2022-05-25 11:45:12.858\n</code></pre>\n"}],"owner":{"account_id":13720439,"reputation":39,"user_id":13167157,"display_name":"newhere"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72375344,"answer_count":2,"score":0,"last_activity_date":1653492197,"creation_date":1653467315,"question_id":72374294,"body_markdown":"I have class looking like this\r\n\r\n    class SomeClass {\r\n      Date date;\r\n      Timestamp timestamp;\r\n    }\r\n\r\nWhat is the value of Date and Timestamp when I want to set property values like this:\r\n\r\n    SomeClass someClass = new SomeClass();\r\n    \r\n    someClass.setDate(what value goes here?);\r\n    someClass.setTimestamp(what value goes here?)\r\n\r\n\r\nI have to insert those values in DB2 which has columns with types Date and Timestamp","title":"Set Date and Timestamp property value in Java","body":"<p>I have class looking like this</p>\n<pre><code>class SomeClass {\n  Date date;\n  Timestamp timestamp;\n}\n</code></pre>\n<p>What is the value of Date and Timestamp when I want to set property values like this:</p>\n<pre><code>SomeClass someClass = new SomeClass();\n\nsomeClass.setDate(what value goes here?);\nsomeClass.setTimestamp(what value goes here?)\n</code></pre>\n<p>I have to insert those values in DB2 which has columns with types Date and Timestamp</p>\n"},{"tags":["java","mysql","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":23522585,"reputation":1,"user_id":17569519,"display_name":"Zakaria Daoudi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653491866,"creation_date":1653491866,"answer_id":72380280,"question_id":72379898,"body_markdown":"you can use DTO in this case [check here][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/entity-to-and-from-dto-for-a-java-spring-application","title":"Java Spring boot JPA circular referencing","body":"<p>you can use DTO in this case <a href=\"https://www.baeldung.com/entity-to-and-from-dto-for-a-java-spring-application\" rel=\"nofollow noreferrer\">check here</a></p>\n"},{"tags":[],"owner":{"account_id":2998939,"reputation":2194,"user_id":2544810,"accept_rate":33,"display_name":"Senthil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653492111,"creation_date":1653492111,"answer_id":72380345,"question_id":72379898,"body_markdown":"Use these two annotations @JsonManagedReference and @JsonBackReference\r\n\r\nRef: http://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;module&quot;)\r\n    public class Module {\r\n        @Id\r\n        @GeneratedValue( strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String name;\r\n        @ManyToMany\r\n        @JoinTable(name=&quot;module_users&quot;,\r\n           joinColumns = @JoinColumn(name=&quot;module_id&quot;),\r\n           inverseJoinColumns =  @JoinColumn(name = &quot;user_id&quot;)\r\n        )\r\n        @JsonBackReference\r\n        private Set&lt;User&gt; users = new HashSet&lt;&gt;();\r\n    \r\n    A user is structured the following way:\r\n    \r\n    @Entity\r\n    @Table(name = &quot;user&quot;)\r\n    public class User implements Serializable {\r\n        @Id\r\n        @GeneratedValue( strategy = GenerationType.IDENTITY) \r\n        public Long id;\r\n        public String name;\r\n        private String email;\r\n        @JsonManagedReference\r\n        @ManyToMany(mappedBy = &quot;users&quot;)\r\n        public Set&lt;Module&gt; modules = new HashSet&lt;&gt;();","title":"Java Spring boot JPA circular referencing","body":"<p>Use these two annotations @JsonManagedReference and @JsonBackReference</p>\n<p>Ref: <a href=\"http://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\" rel=\"nofollow noreferrer\">http://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion</a></p>\n<pre><code>@Entity\n@Table(name = &quot;module&quot;)\npublic class Module {\n    @Id\n    @GeneratedValue( strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    @ManyToMany\n    @JoinTable(name=&quot;module_users&quot;,\n       joinColumns = @JoinColumn(name=&quot;module_id&quot;),\n       inverseJoinColumns =  @JoinColumn(name = &quot;user_id&quot;)\n    )\n    @JsonBackReference\n    private Set&lt;User&gt; users = new HashSet&lt;&gt;();\n\nA user is structured the following way:\n\n@Entity\n@Table(name = &quot;user&quot;)\npublic class User implements Serializable {\n    @Id\n    @GeneratedValue( strategy = GenerationType.IDENTITY) \n    public Long id;\n    public String name;\n    private String email;\n    @JsonManagedReference\n    @ManyToMany(mappedBy = &quot;users&quot;)\n    public Set&lt;Module&gt; modules = new HashSet&lt;&gt;();\n</code></pre>\n"}],"owner":{"account_id":19587917,"reputation":283,"user_id":14335620,"display_name":"ABpositive"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653492111,"creation_date":1653490355,"question_id":72379898,"body_markdown":"using MySQL, Java, Spring Boot and JPA\r\n\r\nI have two objects, user and module. \r\n\r\nA user can have many modules and a module can have many users.\r\n\r\nA module is structured the following way:\r\n```\r\n@Entity\r\n@Table(name = &quot;module&quot;)\r\npublic class Module {\r\n    @Id\r\n    @GeneratedValue( strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String name;\r\n    @ManyToMany\r\n    @JoinTable(name=&quot;module_users&quot;,\r\n       joinColumns = @JoinColumn(name=&quot;module_id&quot;),\r\n       inverseJoinColumns =  @JoinColumn(name = &quot;user_id&quot;)\r\n    )\r\n    private Set&lt;User&gt; users = new HashSet&lt;&gt;();\r\n```\r\n\r\nA user is structured the following way:\r\n```\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\npublic class User implements Serializable {\r\n    @Id\r\n    @GeneratedValue( strategy = GenerationType.IDENTITY) \r\n    public Long id;\r\n    public String name;\r\n    private String email;\r\n    @JsonIgnore\r\n    @ManyToMany(mappedBy = &quot;users&quot;)\r\n    public Set&lt;Module&gt; modules = new HashSet&lt;&gt;();\r\n```\r\n\r\nHaving @JsonIgnore annotation does &quot;work&quot; when calling modules, but I also need to call a user and its modules ideally. Any suggestions to support both of these without crashing from circular referencing?","title":"Java Spring boot JPA circular referencing","body":"<p>using MySQL, Java, Spring Boot and JPA</p>\n<p>I have two objects, user and module.</p>\n<p>A user can have many modules and a module can have many users.</p>\n<p>A module is structured the following way:</p>\n<pre><code>@Entity\n@Table(name = &quot;module&quot;)\npublic class Module {\n    @Id\n    @GeneratedValue( strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    @ManyToMany\n    @JoinTable(name=&quot;module_users&quot;,\n       joinColumns = @JoinColumn(name=&quot;module_id&quot;),\n       inverseJoinColumns =  @JoinColumn(name = &quot;user_id&quot;)\n    )\n    private Set&lt;User&gt; users = new HashSet&lt;&gt;();\n</code></pre>\n<p>A user is structured the following way:</p>\n<pre><code>@Entity\n@Table(name = &quot;user&quot;)\npublic class User implements Serializable {\n    @Id\n    @GeneratedValue( strategy = GenerationType.IDENTITY) \n    public Long id;\n    public String name;\n    private String email;\n    @JsonIgnore\n    @ManyToMany(mappedBy = &quot;users&quot;)\n    public Set&lt;Module&gt; modules = new HashSet&lt;&gt;();\n</code></pre>\n<p>Having @JsonIgnore annotation does &quot;work&quot; when calling modules, but I also need to call a user and its modules ideally. Any suggestions to support both of these without crashing from circular referencing?</p>\n"},{"tags":["java","cucumber","karate"],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653491787,"creation_date":1653491787,"answer_id":72380260,"question_id":72380135,"body_markdown":"Yes, try this:\r\n\r\n    * karate.start({ mock: &#39;mock.feature&#39;, port: 8080 })\r\n\r\nThis is mentioned in the docs: https://github.com/karatelabs/karate/tree/master/karate-netty#within-a-karate-test","title":"Set karate mock server port","body":"<p>Yes, try this:</p>\n<pre><code>* karate.start({ mock: 'mock.feature', port: 8080 })\n</code></pre>\n<p>This is mentioned in the docs: <a href=\"https://github.com/karatelabs/karate/tree/master/karate-netty#within-a-karate-test\" rel=\"nofollow noreferrer\">https://github.com/karatelabs/karate/tree/master/karate-netty#within-a-karate-test</a></p>\n"}],"owner":{"account_id":9744856,"reputation":985,"user_id":7225171,"accept_rate":67,"display_name":"Serob_b"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72380260,"answer_count":1,"score":1,"last_activity_date":1653491787,"creation_date":1653491283,"question_id":72380135,"body_markdown":"Is there a a way to set a port to my desired one when I am starting a mock serve with `karate.start`\r\nso instead of getting the port like this, which will start server in some port and return it:\r\n\r\n    def startMockServer = () =&gt; karate.start(&#39;path.feature&#39;).port\r\n    \r\n\r\nHave a possibility similar to this:\r\n\r\n    def startMockServer = () =&gt; karate.start(&#39;path.feature&#39;, &#39;8080&#39;)\r\n  \r\n\r\n\r\n\r\n","title":"Set karate mock server port","body":"<p>Is there a a way to set a port to my desired one when I am starting a mock serve with <code>karate.start</code>\nso instead of getting the port like this, which will start server in some port and return it:</p>\n<pre><code>def startMockServer = () =&gt; karate.start('path.feature').port\n</code></pre>\n<p>Have a possibility similar to this:</p>\n<pre><code>def startMockServer = () =&gt; karate.start('path.feature', '8080')\n</code></pre>\n"},{"tags":["java","android","xml","android-recyclerview"],"comments":[{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1653461521,"post_id":72372993,"comment_id":127855032,"body_markdown":"what have you tried ? what isn&#39;t working ? please add some code to your question, as it stands, it looks like you&#39;re just asking for a free solution","body":"what have you tried ? what isn&#39;t working ? please add some code to your question, as it stands, it looks like you&#39;re just asking for a free solution"},{"owner":{"account_id":18361187,"reputation":686,"user_id":13373270,"display_name":"codebod"},"score":0,"creation_date":1653465645,"post_id":72372993,"comment_id":127856372,"body_markdown":"What does this mean: &quot;create a recyclerview allowing the user to modify the content of each recyclerview&quot;?","body":"What does this mean: &quot;create a recyclerview allowing the user to modify the content of each recyclerview&quot;?"},{"owner":{"account_id":24611876,"reputation":57,"user_id":18513344,"display_name":"yanish appadoo"},"score":0,"creation_date":1653491787,"post_id":72372993,"comment_id":127866839,"body_markdown":"added the codes","body":"added the codes"}],"owner":{"account_id":24611876,"reputation":57,"user_id":18513344,"display_name":"yanish appadoo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653491774,"creation_date":1653461048,"question_id":72372993,"body_markdown":"Currently developing a mobile app using java with android studio. (Beginner) I have 3 fragments (ToDo,Doing,Done) with on top a tablayout(ToDo,Ongoing,Finished) and a toolbar with an add button.\r\n\r\nThe add button should create a recyclerview allowing the user to modify the content of each recyclerview\r\n\r\nHow can I implement the add event\r\n\r\nBelow is a screenshot\r\n\r\n[![kanban][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3uguK.png\r\n\r\n\r\n    public class ToDoFragment extends Fragment {\r\n        private RecyclerView recyclerView2;\r\n        private com.example.myhouse.recyclerKanbanAdapter recyclerKanbanAdapter;\r\n        ArrayList&lt;kanbanItems&gt;listKanban;\r\n        Button add;\r\n        @Nullable\r\n        @Override\r\n        public View onCreateView(@NonNull LayoutInflater inflater,\r\n                                 @Nullable ViewGroup container,\r\n                                 @Nullable Bundle savedInstanceState) {\r\n    \r\n            View view=inflater.inflate(R.layout.fragment_to_do, container, false);\r\n            recyclerView2=view.findViewById(R.id.taskList);\r\n            listKanban= new ArrayList&lt;&gt;();\r\n            add=view.findViewById(R.id.btnAdd);\r\n            add.setOnClickListener(v -&gt; {\r\n    \r\n    \r\n                recyclerKanbanAdapter= new recyclerKanbanAdapter(getActivity(),listKanban);\r\n                recyclerView2.setAdapter(recyclerKanbanAdapter);\r\n    \r\n    \r\n            });\r\n            return view;\r\n        }\r\n    }","title":"button that creates several recyclerview list","body":"<p>Currently developing a mobile app using java with android studio. (Beginner) I have 3 fragments (ToDo,Doing,Done) with on top a tablayout(ToDo,Ongoing,Finished) and a toolbar with an add button.</p>\n<p>The add button should create a recyclerview allowing the user to modify the content of each recyclerview</p>\n<p>How can I implement the add event</p>\n<p>Below is a screenshot</p>\n<p><a href=\"https://i.stack.imgur.com/3uguK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3uguK.png\" alt=\"kanban\" /></a></p>\n<pre><code>public class ToDoFragment extends Fragment {\n    private RecyclerView recyclerView2;\n    private com.example.myhouse.recyclerKanbanAdapter recyclerKanbanAdapter;\n    ArrayList&lt;kanbanItems&gt;listKanban;\n    Button add;\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             @Nullable ViewGroup container,\n                             @Nullable Bundle savedInstanceState) {\n\n        View view=inflater.inflate(R.layout.fragment_to_do, container, false);\n        recyclerView2=view.findViewById(R.id.taskList);\n        listKanban= new ArrayList&lt;&gt;();\n        add=view.findViewById(R.id.btnAdd);\n        add.setOnClickListener(v -&gt; {\n\n\n            recyclerKanbanAdapter= new recyclerKanbanAdapter(getActivity(),listKanban);\n            recyclerView2.setAdapter(recyclerKanbanAdapter);\n\n\n        });\n        return view;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","code-generation"],"comments":[{"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"score":0,"creation_date":1653492978,"post_id":72380033,"comment_id":127867361,"body_markdown":"Take a look at [this](https://stackoverflow.com/questions/14140545/creating-entity-class-using-database-existing-table)","body":"Take a look at <a href=\"https://stackoverflow.com/questions/14140545/creating-entity-class-using-database-existing-table\">this</a>"},{"owner":{"account_id":5142882,"reputation":105,"user_id":4119650,"display_name":"Michael Barrett"},"score":0,"creation_date":1653493118,"post_id":72380033,"comment_id":127867424,"body_markdown":"This would be helpful to generate a class based on the database schema, but I&#39;m hoping to generate the class based on the table content.","body":"This would be helpful to generate a class based on the database schema, but I&#39;m hoping to generate the class based on the table content."}],"answers":[{"tags":[],"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653491636,"creation_date":1653491636,"answer_id":72380212,"question_id":72380033,"body_markdown":"You could try [Reverse Engineering](https://tools.jboss.org/features/hibernate.html#reverse-engineering) from Hibernate Tools. It generates domain classes from the database schema.\r\n\r\nBut, i dont think it supports building your instances too. Though, this would be trivial if you have proper setters on the domain class.","title":"How to generate Java class from database values","body":"<p>You could try <a href=\"https://tools.jboss.org/features/hibernate.html#reverse-engineering\" rel=\"nofollow noreferrer\">Reverse Engineering</a> from Hibernate Tools. It generates domain classes from the database schema.</p>\n<p>But, i dont think it supports building your instances too. Though, this would be trivial if you have proper setters on the domain class.</p>\n"}],"owner":{"account_id":5142882,"reputation":105,"user_id":4119650,"display_name":"Michael Barrett"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653491636,"creation_date":1653490926,"question_id":72380033,"body_markdown":"I&#39;m looking for a way to generate a class from database values, in order to provide an updated builder class using the latest values available. The use case is this:\r\n\r\nWith a table that looks like this\r\n\r\n|id|ref_type|\r\n|--|--------|\r\n|1 |name    |\r\n|2 |status  |\r\n|3 |address |\r\n\r\nI am hoping to generate a builder class that can be used like this\r\n```\r\nnew ClassBuilder()\r\n  .setName(name)\r\n  .setStatus(status)\r\n  .setAddress(address)\r\n  .build();\r\n```\r\n\r\nThe goal is to be able to generate an updated builder class whenever values are added to the database table (using Liquibase). Is anyone aware of any libraries that can help with this, or a strategy for doing this from scratch? Our projects are mostly Java 11, with Groovy and Spring Boot.","title":"How to generate Java class from database values","body":"<p>I'm looking for a way to generate a class from database values, in order to provide an updated builder class using the latest values available. The use case is this:</p>\n<p>With a table that looks like this</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>ref_type</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>name</td>\n</tr>\n<tr>\n<td>2</td>\n<td>status</td>\n</tr>\n<tr>\n<td>3</td>\n<td>address</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I am hoping to generate a builder class that can be used like this</p>\n<pre><code>new ClassBuilder()\n  .setName(name)\n  .setStatus(status)\n  .setAddress(address)\n  .build();\n</code></pre>\n<p>The goal is to be able to generate an updated builder class whenever values are added to the database table (using Liquibase). Is anyone aware of any libraries that can help with this, or a strategy for doing this from scratch? Our projects are mostly Java 11, with Groovy and Spring Boot.</p>\n"},{"tags":["java","deserialization"],"comments":[{"owner":{"account_id":403585,"reputation":2211,"user_id":771431,"accept_rate":70,"display_name":"xonya"},"score":1,"creation_date":1653329194,"post_id":72352808,"comment_id":127820741,"body_markdown":"If the data is stored as deserialized Java objects you need to write some Java code to read it. Are you able to understand what Java classes are stored inside those arrays? Can you post one of these blobs as example? Gson can be useful for the next step (converting the deserialized Java objects in JSON structures).","body":"If the data is stored as deserialized Java objects you need to write some Java code to read it. Are you able to understand what Java classes are stored inside those arrays? Can you post one of these blobs as example? Gson can be useful for the next step (converting the deserialized Java objects in JSON structures)."},{"owner":{"account_id":7533248,"reputation":46,"user_id":5720567,"display_name":"Sam O&#39;Riil"},"score":0,"creation_date":1653331534,"post_id":72352808,"comment_id":127821549,"body_markdown":"@xonya It has non-printable characters, so I&#39;m not sure how to show it. Like this: &quot; �� sr java.util.ArrayListx����a� I sizexp    w    x        &quot;. In hex ACED0005737200136A6176612E7574696C2E41727261794C6973747881D21D99C7619D03000149000473697A6578700000000077040000000078","body":"@xonya It has non-printable characters, so I&#39;m not sure how to show it. Like this: &quot; �� sr java.util.ArrayListx����a� I sizexp    w    x        &quot;. In hex ACED0005737200136A6176612E7574696C2E41727261794C6973747881D2&zwnj;&#8203;1D99C7619D0300014900&zwnj;&#8203;0473697A657870000000&zwnj;&#8203;0077040000000078"},{"owner":{"account_id":403585,"reputation":2211,"user_id":771431,"accept_rate":70,"display_name":"xonya"},"score":0,"creation_date":1653339049,"post_id":72352808,"comment_id":127823653,"body_markdown":"Second example is an empty `HashMap`.","body":"Second example is an empty <code>HashMap</code>."},{"owner":{"account_id":7533248,"reputation":46,"user_id":5720567,"display_name":"Sam O&#39;Riil"},"score":0,"creation_date":1653342367,"post_id":72352808,"comment_id":127824492,"body_markdown":"@xonya No, java.io gets this: {&quot;$&quot;:{&quot;loadFactor&quot;:0.75,&quot;threshold&quot;:16},&quot;$class&quot;:{&quot;name&quot;:&quot;java.util.HashMap&quot;,&quot;serialVersionUID&quot;:&quot;362498820763181265&quot;,&quot;flags&quot;:3,&quot;fields&quot;:[{&quot;type&quot;:&quot;F&quot;,&quot;name&quot;:&quot;loadFactor&quot;},{&quot;type&quot;:&quot;I&quot;,&quot;name&quot;:&quot;threshold&quot;}],&quot;superClass&quot;:null},&quot;_$&quot;:{}} Those fields names seem real ones. That&#39;s custom classes I&#39;ve mentioned before, to store different types of data.","body":"@xonya No, java.io gets this: {&quot;$&quot;:{&quot;loadFactor&quot;:0.75,&quot;threshold&quot;:16},&quot;$class&quot;:{&quot;name&quot;:&quot;ja&zwnj;&#8203;va.util.HashMap&quot;,&quot;se&zwnj;&#8203;rialVersionUID&quot;:&quot;362&zwnj;&#8203;498820763181265&quot;,&quot;fl&zwnj;&#8203;ags&quot;:3,&quot;fields&quot;:[{&quot;t&zwnj;&#8203;ype&quot;:&quot;F&quot;,&quot;name&quot;:&quot;loa&zwnj;&#8203;dFactor&quot;},{&quot;type&quot;:&quot;I&zwnj;&#8203;&quot;,&quot;name&quot;:&quot;threshold&quot;&zwnj;&#8203;}],&quot;superClass&quot;:null&zwnj;&#8203;},&quot;_$&quot;:{}} Those fields names seem real ones. That&#39;s custom classes I&#39;ve mentioned before, to store different types of data."},{"owner":{"account_id":403585,"reputation":2211,"user_id":771431,"accept_rate":70,"display_name":"xonya"},"score":0,"creation_date":1653342745,"post_id":72352808,"comment_id":127824573,"body_markdown":"I think that&#39;s the output of Node.js library, that is inspecting the HashMap class. Have a look inside [HashMap source code](https://github.com/frohoff/jdk8u-jdk/blob/master/src/share/classes/java/util/HashMap.java#L140). You will find the same `serialVersionUID` and also those `loadFactor` and `threshold` fields.","body":"I think that&#39;s the output of Node.js library, that is inspecting the HashMap class. Have a look inside <a href=\"https://github.com/frohoff/jdk8u-jdk/blob/master/src/share/classes/java/util/HashMap.java#L140\" rel=\"nofollow noreferrer\">HashMap source code</a>. You will find the same <code>serialVersionUID</code> and also those <code>loadFactor</code> and <code>threshold</code> fields."},{"owner":{"account_id":7533248,"reputation":46,"user_id":5720567,"display_name":"Sam O&#39;Riil"},"score":0,"creation_date":1653383881,"post_id":72352808,"comment_id":127833114,"body_markdown":"@xonya My bad, I had to check other samples too. For now it seems most of those blobs are actually empty.","body":"@xonya My bad, I had to check other samples too. For now it seems most of those blobs are actually empty."}],"answers":[{"tags":[],"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653335570,"creation_date":1653335570,"answer_id":72354137,"question_id":72352808,"body_markdown":"First step is going to be to deserialize it to Java (Assuming that is the mechanism) using existing code.\r\nOnce you have done that then you can serialize it to whatever you want (JSON,XML,CSV, etc...).\r\n\r\nThe hardest part is figuring the code to deserialize the values stored. Also if the classes have different serialization Ids than original that may be impossible.\r\n\r\nIf you post some code with what you have tried you might be able to get some help here.\r\n","title":"Get data from serialized Java objects","body":"<p>First step is going to be to deserialize it to Java (Assuming that is the mechanism) using existing code.\nOnce you have done that then you can serialize it to whatever you want (JSON,XML,CSV, etc...).</p>\n<p>The hardest part is figuring the code to deserialize the values stored. Also if the classes have different serialization Ids than original that may be impossible.</p>\n<p>If you post some code with what you have tried you might be able to get some help here.</p>\n"},{"tags":[],"owner":{"account_id":403585,"reputation":2211,"user_id":771431,"accept_rate":70,"display_name":"xonya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653335833,"creation_date":1653335833,"answer_id":72354180,"question_id":72352808,"body_markdown":"It looks that there are a couple of Python projects attempting to do this (I didn&#39;t try them):\r\n\r\n* [java-binary-deserializer](https://github.com/koutto/java-binary-deserializer)\r\n* [python-javaobj](https://github.com/vbuell/python-javaobj)\r\n\r\nAlternatively, you have to write a Java program that performs the deserialization. After that, you can convert the deserialized Java objects into JSON (for example using the Gson library you mentioned).\r\n\r\nIf the arrays contain instances of simple classes (like `Integer` or `String`) you would be able to do it as in the following minimal example (that uses the hex data you provided):\r\n\r\n```\r\nimport com.google.gson.Gson;\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.ObjectInputStream;\r\nimport java.util.List;\r\n// commons-codec library included just to parse the hex in the example\r\nimport org.apache.commons.codec.binary.Hex;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        String hexBlob = &quot;ACED0005737200136A6176612E7574696C2E41727261794C6973747881D21D99C7619D03000149000473697A6578700000000077040000000078&quot;;\r\n\r\n        byte[] bytes = Hex.decodeHex(hexBlob.toCharArray());\r\n\r\n        Gson gson = new Gson();\r\n\r\n        try (ByteArrayInputStream bais = new ByteArrayInputStream(bytes)) {\r\n            ObjectInputStream objectInputStream = new ObjectInputStream(bais);\r\n            List&lt;Object&gt; list = (List&lt;Object&gt;) objectInputStream.readObject();\r\n            System.out.println(gson.toJson(list));\r\n        }\r\n    }\r\n}\r\n```\r\nIn this case it prints an empty array.\r\n\r\nIf the arrays contain classes defined by your project, things become more complicated.\r\n\r\nFor more information about this topic read [Introduction to Java Serialization](https://www.baeldung.com/java-serialization).\r\n","title":"Get data from serialized Java objects","body":"<p>It looks that there are a couple of Python projects attempting to do this (I didn't try them):</p>\n<ul>\n<li><a href=\"https://github.com/koutto/java-binary-deserializer\" rel=\"nofollow noreferrer\">java-binary-deserializer</a></li>\n<li><a href=\"https://github.com/vbuell/python-javaobj\" rel=\"nofollow noreferrer\">python-javaobj</a></li>\n</ul>\n<p>Alternatively, you have to write a Java program that performs the deserialization. After that, you can convert the deserialized Java objects into JSON (for example using the Gson library you mentioned).</p>\n<p>If the arrays contain instances of simple classes (like <code>Integer</code> or <code>String</code>) you would be able to do it as in the following minimal example (that uses the hex data you provided):</p>\n<pre><code>import com.google.gson.Gson;\nimport java.io.ByteArrayInputStream;\nimport java.io.ObjectInputStream;\nimport java.util.List;\n// commons-codec library included just to parse the hex in the example\nimport org.apache.commons.codec.binary.Hex;\n\npublic class Main {\n\n    public static void main(String[] args) throws Exception {\n\n        String hexBlob = &quot;ACED0005737200136A6176612E7574696C2E41727261794C6973747881D21D99C7619D03000149000473697A6578700000000077040000000078&quot;;\n\n        byte[] bytes = Hex.decodeHex(hexBlob.toCharArray());\n\n        Gson gson = new Gson();\n\n        try (ByteArrayInputStream bais = new ByteArrayInputStream(bytes)) {\n            ObjectInputStream objectInputStream = new ObjectInputStream(bais);\n            List&lt;Object&gt; list = (List&lt;Object&gt;) objectInputStream.readObject();\n            System.out.println(gson.toJson(list));\n        }\n    }\n}\n</code></pre>\n<p>In this case it prints an empty array.</p>\n<p>If the arrays contain classes defined by your project, things become more complicated.</p>\n<p>For more information about this topic read <a href=\"https://www.baeldung.com/java-serialization\" rel=\"nofollow noreferrer\">Introduction to Java Serialization</a>.</p>\n"}],"owner":{"account_id":7533248,"reputation":46,"user_id":5720567,"display_name":"Sam O&#39;Riil"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":407,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1653491432,"creation_date":1653327973,"question_id":72352808,"body_markdown":"I have DB with a lot of data stored there as blobs. Those are basically binary serialized Java objects (not JSON or something easy to parse). AFAIK mostly array-like structures. I have the source code of this web app, but it&#39;s ancient and utterly broken, can&#39;t build app anymore because of missed dependencies and tools (also I have close to none knowledge of Java). Useful only to check logic it seems...\r\n\r\n**Question is how to get stored data?** I&#39;m not interested in objects itself, only in any meaningful data stored there, so converting it into JSON or similar would be fine. Preferably without programming in Java. Some library in PHP would be ideal.\r\n\r\nIt looks like [Gson][1] is right tool to use, but not clear how exactly to use it in the given situation.\r\n\r\nUPD: Example of blob in question (in hex): `ACED0005737200136A6176612E7574696C2E41727261794C6973747881D21D99C7619D03000149000473697A6578700000000077040000000078`\r\n\r\nUPD2: Previous sample actually is an empty ArrayList object, so another sample, not empty: `ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000107708000000000000000078`\r\n\r\nIt seems Node.js [java.io][2] package does what&#39;s needed, but I&#39;ll look for better options for now.\r\n\r\nUDP3: Second sample turns out to be empty HashSet. I had found non-empty samples too, all ArrayList or HashSet, java.io handles them well. Approach from xonya&#39;s answers should work, but demands more work compared to Node.js solution merely because of need to handle all types involved.\r\n\r\n  [1]: https://github.com/google/gson\r\n  [2]: https://www.npmjs.com/package/java.io","title":"Get data from serialized Java objects","body":"<p>I have DB with a lot of data stored there as blobs. Those are basically binary serialized Java objects (not JSON or something easy to parse). AFAIK mostly array-like structures. I have the source code of this web app, but it's ancient and utterly broken, can't build app anymore because of missed dependencies and tools (also I have close to none knowledge of Java). Useful only to check logic it seems...</p>\n<p><strong>Question is how to get stored data?</strong> I'm not interested in objects itself, only in any meaningful data stored there, so converting it into JSON or similar would be fine. Preferably without programming in Java. Some library in PHP would be ideal.</p>\n<p>It looks like <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Gson</a> is right tool to use, but not clear how exactly to use it in the given situation.</p>\n<p>UPD: Example of blob in question (in hex): <code>ACED0005737200136A6176612E7574696C2E41727261794C6973747881D21D99C7619D03000149000473697A6578700000000077040000000078</code></p>\n<p>UPD2: Previous sample actually is an empty ArrayList object, so another sample, not empty: <code>ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000107708000000000000000078</code></p>\n<p>It seems Node.js <a href=\"https://www.npmjs.com/package/java.io\" rel=\"nofollow noreferrer\">java.io</a> package does what's needed, but I'll look for better options for now.</p>\n<p>UDP3: Second sample turns out to be empty HashSet. I had found non-empty samples too, all ArrayList or HashSet, java.io handles them well. Approach from xonya's answers should work, but demands more work compared to Node.js solution merely because of need to handle all types involved.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":25158464,"reputation":438,"user_id":19002974,"display_name":"dangling else"},"score":6,"creation_date":1653482165,"post_id":72377681,"comment_id":127862465,"body_markdown":"The short answer is, write a `Comparator&lt;String&gt;` that sorts how you want. [Documentation](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html).","body":"The short answer is, write a <code>Comparator&lt;String&gt;</code> that sorts how you want. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">Documentation</a>."},{"owner":{"account_id":2000334,"reputation":7336,"user_id":1791546,"accept_rate":68,"display_name":"Shridutt Kothari"},"score":0,"creation_date":1653482205,"post_id":72377681,"comment_id":127862477,"body_markdown":"please add code if tried something","body":"please add code if tried something"},{"owner":{"account_id":17338875,"reputation":59,"user_id":12560110,"display_name":"Bharath Kumar"},"score":0,"creation_date":1653484634,"post_id":72377681,"comment_id":127863560,"body_markdown":"@ShriduttKothari Added the code which i have tried.","body":"@ShriduttKothari Added the code which i have tried."}],"answers":[{"tags":[],"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653485627,"creation_date":1653485627,"answer_id":72378634,"question_id":72377681,"body_markdown":"The problem was that you use a `TreeMap&lt;LocalDate, List&lt;String&gt;&gt;`. This means that every LocalDate is mapped to a `List&lt;String&gt;`, so you basically have multiple `List`s.\r\n\r\n`getDateFromFileName(String)` works.\r\n\r\nYou want your `Comparator` to be a `Comparator&lt;String&gt;` to actually sort a `List&lt;String&gt;` and not something else:\r\n\r\n    public static class SortByDate implements Comparator&lt;String&gt; {\r\n        private final HashMap&lt;String, LocalDate&gt; map;\r\n\r\n        public SortByDate(ArrayList&lt;String&gt; names) {\r\n            this.map = new HashMap&lt;&gt;();\r\n            for (String name : names) map.put(name, getDateFromFileName(name));\r\n        }\r\n\r\n        @Override\r\n        public int compare(String o1, String o2) {\r\n            return map.get(o1).compareTo(map.get(o2));\r\n        }\r\n    }\r\n\r\nNow create a sorted list like this:\r\n\r\n    List&lt;String&gt; sortedList = new ArrayList&lt;&gt;(names);\r\n    sortedList.sort(new SortByDate(names));","title":"How to sort Strings based on string date and dynamic substring in java?","body":"<p>The problem was that you use a <code>TreeMap&lt;LocalDate, List&lt;String&gt;&gt;</code>. This means that every LocalDate is mapped to a <code>List&lt;String&gt;</code>, so you basically have multiple <code>List</code>s.</p>\n<p><code>getDateFromFileName(String)</code> works.</p>\n<p>You want your <code>Comparator</code> to be a <code>Comparator&lt;String&gt;</code> to actually sort a <code>List&lt;String&gt;</code> and not something else:</p>\n<pre><code>public static class SortByDate implements Comparator&lt;String&gt; {\n    private final HashMap&lt;String, LocalDate&gt; map;\n\n    public SortByDate(ArrayList&lt;String&gt; names) {\n        this.map = new HashMap&lt;&gt;();\n        for (String name : names) map.put(name, getDateFromFileName(name));\n    }\n\n    @Override\n    public int compare(String o1, String o2) {\n        return map.get(o1).compareTo(map.get(o2));\n    }\n}\n</code></pre>\n<p>Now create a sorted list like this:</p>\n<pre><code>List&lt;String&gt; sortedList = new ArrayList&lt;&gt;(names);\nsortedList.sort(new SortByDate(names));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10961236,"reputation":567,"user_id":9183328,"display_name":"Vishwajeet Barve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653485682,"creation_date":1653485682,"answer_id":72378649,"question_id":72377681,"body_markdown":"**This will work**\r\n\r\n        import java.util.*;\r\n        import java.util.regex.Pattern;\r\n        import java.util.stream.Collectors;\r\n        \r\n        public class Demo {\r\n            public static void main(String[] args) {\r\n                ArrayList&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n                strings.add(&quot;f1660.msg.220523.xml.gpg&quot;);\r\n                strings.add(&quot;f1660.msg.dscl.220523.xml.gpg&quot;);\r\n                strings.add(&quot;f1660.msg.att.220523.tar.gz.gpg&quot;);\r\n                strings.add(&quot;f1660.cit.msg.220520.xml1.gpg&quot;);\r\n                strings.add(&quot;f1660.cit.msg.att.220520.tar.gz.gpg&quot;);\r\n                strings.add(&quot;f1660.cit.msg.dscl.220520.xml.gpg&quot;);\r\n                strings.add(&quot;8701D6.msg.220524.xml.gpg&quot;);\r\n                strings.add(&quot;8701D6.dscl.220524.xml.gpg&quot;);\r\n                strings.add(&quot;8701D6.msg.att.220524.tar.gz.gpg&quot;);\r\n        \r\n                HashMap&lt;Integer, Integer&gt; indexDateMap = new HashMap&lt;&gt;();\r\n                for (int i = 0; i &lt; strings.size(); i++) {\r\n        \r\n                    Pattern pattern = Pattern.compile(&quot;\\\\d{6}&quot;);\r\n                    int finalI = i;\r\n                    pattern.matcher(strings.get(i)).results()                       // Stream&lt;MatchResult&gt;\r\n                            .map(mr -&gt; mr.group(0)).forEach(str -&gt; {\r\n                                indexDateMap.put(finalI, Integer.parseInt(str));\r\n                            });// Stream&lt;String&gt; - the 1st group of each result\r\n                }\r\n        \r\n                indexDateMap.entrySet().stream().sorted(Map.Entry.comparingByValue()).forEach(index -&gt; {\r\n                    System.out.println(strings.get(index.getKey()));\r\n                });\r\n            }\r\n        }\r\n\r\nOUTPUT:\r\n\r\n    f1660.cit.msg.220520.xml1.gpg\r\n    f1660.cit.msg.att.220520.tar.gz.gpg\r\n    f1660.cit.msg.dscl.220520.xml.gpg\r\n    f1660.msg.220523.xml.gpg\r\n    f1660.msg.dscl.220523.xml.gpg\r\n    f1660.msg.att.220523.tar.gz.gpg\r\n    8701D6.msg.220524.xml.gpg\r\n    8701D6.dscl.220524.xml.gpg\r\n    8701D6.msg.att.220524.tar.gz.gpg","title":"How to sort Strings based on string date and dynamic substring in java?","body":"<p><strong>This will work</strong></p>\n<pre><code>    import java.util.*;\n    import java.util.regex.Pattern;\n    import java.util.stream.Collectors;\n    \n    public class Demo {\n        public static void main(String[] args) {\n            ArrayList&lt;String&gt; strings = new ArrayList&lt;&gt;();\n            strings.add(&quot;f1660.msg.220523.xml.gpg&quot;);\n            strings.add(&quot;f1660.msg.dscl.220523.xml.gpg&quot;);\n            strings.add(&quot;f1660.msg.att.220523.tar.gz.gpg&quot;);\n            strings.add(&quot;f1660.cit.msg.220520.xml1.gpg&quot;);\n            strings.add(&quot;f1660.cit.msg.att.220520.tar.gz.gpg&quot;);\n            strings.add(&quot;f1660.cit.msg.dscl.220520.xml.gpg&quot;);\n            strings.add(&quot;8701D6.msg.220524.xml.gpg&quot;);\n            strings.add(&quot;8701D6.dscl.220524.xml.gpg&quot;);\n            strings.add(&quot;8701D6.msg.att.220524.tar.gz.gpg&quot;);\n    \n            HashMap&lt;Integer, Integer&gt; indexDateMap = new HashMap&lt;&gt;();\n            for (int i = 0; i &lt; strings.size(); i++) {\n    \n                Pattern pattern = Pattern.compile(&quot;\\\\d{6}&quot;);\n                int finalI = i;\n                pattern.matcher(strings.get(i)).results()                       // Stream&lt;MatchResult&gt;\n                        .map(mr -&gt; mr.group(0)).forEach(str -&gt; {\n                            indexDateMap.put(finalI, Integer.parseInt(str));\n                        });// Stream&lt;String&gt; - the 1st group of each result\n            }\n    \n            indexDateMap.entrySet().stream().sorted(Map.Entry.comparingByValue()).forEach(index -&gt; {\n                System.out.println(strings.get(index.getKey()));\n            });\n        }\n    }\n</code></pre>\n<p>OUTPUT:</p>\n<pre><code>f1660.cit.msg.220520.xml1.gpg\nf1660.cit.msg.att.220520.tar.gz.gpg\nf1660.cit.msg.dscl.220520.xml.gpg\nf1660.msg.220523.xml.gpg\nf1660.msg.dscl.220523.xml.gpg\nf1660.msg.att.220523.tar.gz.gpg\n8701D6.msg.220524.xml.gpg\n8701D6.dscl.220524.xml.gpg\n8701D6.msg.att.220524.tar.gz.gpg\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653485879,"creation_date":1653485879,"answer_id":72378696,"question_id":72377681,"body_markdown":"    List&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n    names.add(&quot;f1660.msg.220523.xml.gpg&quot;);\r\n    names.add(&quot;f1660.msg.dscl.220523.xml.gpg&quot;);\r\n    names.add(&quot;f1660.msg.att.220523.tar.gz.gpg&quot;);\r\n    names.add(&quot;f1660.cit.msg.220520.xml1.gpg&quot;);\r\n    names.add(&quot;f1660.cit.msg.220520.xml2.gpg&quot;);\r\n    names.add(&quot;f1660.cit.msg.att.220520.tar.gz.gpg&quot;);\r\n    names.add(&quot;f1660.cit.msg.dscl.220520.xml.gpg&quot;);\r\n    names.add(&quot;8701D6.msg.220524.xml.gpg&quot;);\r\n    names.add(&quot;8701D6.dscl.220524.xml.gpg&quot;);\r\n    names.add(&quot;8701D6.msg.att.220524.tar.gz.gpg&quot;);\r\n     \r\n    Comparator&lt;String&gt; comparator = new Comparator&lt;String&gt;() {\r\n        Pattern pattern = Pattern.compile(&quot;\\\\.\\\\d{6}\\\\.&quot;);\r\n        DateTimeFormatter  formatter = DateTimeFormatter.ofPattern(&quot;yyMMdd&quot;);\r\n\t\t\t@Override\r\n\t\tpublic int compare(String o1, String o2) {\r\n\t\t\tLocalDate dateA = getDate(o1);\r\n\t\t\tLocalDate dateB = getDate(o2);\r\n\t\t\treturn dateA.compareTo(dateB);\r\n\t\t}\r\n        \t\r\n        private LocalDate getDate(String val) {\r\n        \tMatcher matcher = pattern.matcher(val);\r\n        \tif (matcher.find()) {\r\n        \t\tString strVal = matcher.group();\r\n        \t\tstrVal = strVal.substring(1, strVal.length()-1);\r\n        \t\treturn LocalDate.parse(strVal, formatter);\r\n        \t}\r\n        \t\t\r\n        \treturn LocalDate.now();\r\n        }\r\n\t};\r\n\t\t\r\n\tnames.sort(comparator);\r\n\tnames.forEach(System.out::println);","title":"How to sort Strings based on string date and dynamic substring in java?","body":"<pre><code>List&lt;String&gt; names = new ArrayList&lt;&gt;();\nnames.add(&quot;f1660.msg.220523.xml.gpg&quot;);\nnames.add(&quot;f1660.msg.dscl.220523.xml.gpg&quot;);\nnames.add(&quot;f1660.msg.att.220523.tar.gz.gpg&quot;);\nnames.add(&quot;f1660.cit.msg.220520.xml1.gpg&quot;);\nnames.add(&quot;f1660.cit.msg.220520.xml2.gpg&quot;);\nnames.add(&quot;f1660.cit.msg.att.220520.tar.gz.gpg&quot;);\nnames.add(&quot;f1660.cit.msg.dscl.220520.xml.gpg&quot;);\nnames.add(&quot;8701D6.msg.220524.xml.gpg&quot;);\nnames.add(&quot;8701D6.dscl.220524.xml.gpg&quot;);\nnames.add(&quot;8701D6.msg.att.220524.tar.gz.gpg&quot;);\n \nComparator&lt;String&gt; comparator = new Comparator&lt;String&gt;() {\n    Pattern pattern = Pattern.compile(&quot;\\\\.\\\\d{6}\\\\.&quot;);\n    DateTimeFormatter  formatter = DateTimeFormatter.ofPattern(&quot;yyMMdd&quot;);\n        @Override\n    public int compare(String o1, String o2) {\n        LocalDate dateA = getDate(o1);\n        LocalDate dateB = getDate(o2);\n        return dateA.compareTo(dateB);\n    }\n        \n    private LocalDate getDate(String val) {\n        Matcher matcher = pattern.matcher(val);\n        if (matcher.find()) {\n            String strVal = matcher.group();\n            strVal = strVal.substring(1, strVal.length()-1);\n            return LocalDate.parse(strVal, formatter);\n        }\n            \n        return LocalDate.now();\n    }\n};\n    \nnames.sort(comparator);\nnames.forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653491355,"creation_date":1653486249,"answer_id":72378795,"question_id":72377681,"body_markdown":"You can \r\n\r\n - use a regex to get the comparison relevant part of the string, i.e.\r\n   `dscl.220523  att.220523  msg.220523 ...`\r\n - extract date and extension from it using a function, method or UnaryOperator\r\n - create a priority map for your extensions\r\n - create a comparator which compares the date part by parsing it to LocalDate\r\n - create a comparator which compares the extensions by the value of the priority map\r\n - and finally chain the comparators to sort your list as desired\r\n\r\nExample:\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.ArrayList;\r\n    import java.util.Comparator;\r\n    import java.util.Map;\r\n    import java.util.function.UnaryOperator;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Example {\r\n    \r\n        public static void main(String[] args) {\r\n            ArrayList&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n            names.add(&quot;f1660.msg.220523.xml.gpg&quot;);\r\n            names.add(&quot;f1660.msg.dscl.220523.xml.gpg&quot;);\r\n            names.add(&quot;f1660.msg.att.220523.tar.gz.gpg&quot;);\r\n            names.add(&quot;f1660.cit.msg.220520.xml1.gpg&quot;);\r\n            names.add(&quot;f1660.cit.msg.220520.xml2.gpg&quot;);\r\n            names.add(&quot;f1660.cit.msg.att.220520.tar.gz.gpg&quot;);\r\n            names.add(&quot;f1660.cit.msg.dscl.220520.xml.gpg&quot;);\r\n            names.add(&quot;8701D6.msg.220524.xml.gpg&quot;);\r\n            names.add(&quot;8701D6.dscl.220524.xml.gpg&quot;);\r\n            names.add(&quot;8701D6.msg.att.220524.tar.gz.gpg&quot;);\r\n    \r\n            Pattern pattern = Pattern.compile(&quot;\\\\.(\\\\w+)\\\\.(\\\\d+)\\\\.&quot;);\r\n    \r\n            UnaryOperator&lt;String&gt; extnExtractor = s -&gt; {\r\n                Matcher m = pattern.matcher(s);\r\n                m.find();\r\n                return m.group(1);\r\n            };\r\n    \r\n            UnaryOperator&lt;String&gt; dateExtractor = s -&gt; {\r\n                Matcher m = pattern.matcher(s);\r\n                m.find();\r\n                return m.group(2);\r\n            };\r\n    \r\n            DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyMMdd&quot;);\r\n    \r\n            Map&lt;String,Integer&gt; prio = new HashMap&lt;&gt;();\r\n            prio.put(&quot;att&quot;, 1);\r\n            prio.put(&quot;dscl&quot;, 2);\r\n    \r\n            Comparator&lt;String&gt; byDate =  Comparator.comparing(s -&gt; LocalDate.parse(dateExtractor.apply(s), dtf));\r\n            Comparator&lt;String&gt; byExt  =  Comparator.comparing(s -&gt; prio.getOrDefault(extnExtractor.apply(s),3));\r\n    \r\n            names.sort(byDate.thenComparing(byExt));\r\n    \r\n            names.forEach(System.out::println);\r\n        }\r\n    }","title":"How to sort Strings based on string date and dynamic substring in java?","body":"<p>You can</p>\n<ul>\n<li>use a regex to get the comparison relevant part of the string, i.e.\n<code>dscl.220523  att.220523  msg.220523 ...</code></li>\n<li>extract date and extension from it using a function, method or UnaryOperator</li>\n<li>create a priority map for your extensions</li>\n<li>create a comparator which compares the date part by parsing it to LocalDate</li>\n<li>create a comparator which compares the extensions by the value of the priority map</li>\n<li>and finally chain the comparators to sort your list as desired</li>\n</ul>\n<p>Example:</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.ArrayList;\nimport java.util.Comparator;\nimport java.util.Map;\nimport java.util.function.UnaryOperator;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Example {\n\n    public static void main(String[] args) {\n        ArrayList&lt;String&gt; names = new ArrayList&lt;&gt;();\n        names.add(&quot;f1660.msg.220523.xml.gpg&quot;);\n        names.add(&quot;f1660.msg.dscl.220523.xml.gpg&quot;);\n        names.add(&quot;f1660.msg.att.220523.tar.gz.gpg&quot;);\n        names.add(&quot;f1660.cit.msg.220520.xml1.gpg&quot;);\n        names.add(&quot;f1660.cit.msg.220520.xml2.gpg&quot;);\n        names.add(&quot;f1660.cit.msg.att.220520.tar.gz.gpg&quot;);\n        names.add(&quot;f1660.cit.msg.dscl.220520.xml.gpg&quot;);\n        names.add(&quot;8701D6.msg.220524.xml.gpg&quot;);\n        names.add(&quot;8701D6.dscl.220524.xml.gpg&quot;);\n        names.add(&quot;8701D6.msg.att.220524.tar.gz.gpg&quot;);\n\n        Pattern pattern = Pattern.compile(&quot;\\\\.(\\\\w+)\\\\.(\\\\d+)\\\\.&quot;);\n\n        UnaryOperator&lt;String&gt; extnExtractor = s -&gt; {\n            Matcher m = pattern.matcher(s);\n            m.find();\n            return m.group(1);\n        };\n\n        UnaryOperator&lt;String&gt; dateExtractor = s -&gt; {\n            Matcher m = pattern.matcher(s);\n            m.find();\n            return m.group(2);\n        };\n\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyMMdd&quot;);\n\n        Map&lt;String,Integer&gt; prio = new HashMap&lt;&gt;();\n        prio.put(&quot;att&quot;, 1);\n        prio.put(&quot;dscl&quot;, 2);\n\n        Comparator&lt;String&gt; byDate =  Comparator.comparing(s -&gt; LocalDate.parse(dateExtractor.apply(s), dtf));\n        Comparator&lt;String&gt; byExt  =  Comparator.comparing(s -&gt; prio.getOrDefault(extnExtractor.apply(s),3));\n\n        names.sort(byDate.thenComparing(byExt));\n\n        names.forEach(System.out::println);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653490006,"creation_date":1653490006,"answer_id":72379798,"question_id":72377681,"body_markdown":" Using Ryan&#39;s code created the date comparator and I have added an extra comparator for extension sorting.\r\n\r\n1st Comparator \r\n```\r\npublic class DateComparator implements Comparator&lt;String&gt; {\r\n\r\n    @Override\r\n    public int compare(String o1, String o2) {\r\n\r\n        LocalDate date1 = getDate(o1);\r\n        LocalDate date2 = getDate(o2);\r\n        return date1.compareTo(date2);\r\n\r\n    }\r\n\r\n\r\n    private LocalDate getDate(String val) {\r\n        Pattern pattern = Pattern.compile(&quot;\\\\.\\\\d{6}\\\\.&quot;);\r\n        DateTimeFormatter  formatter = DateTimeFormatter.ofPattern(&quot;yyMMdd&quot;);\r\n        Matcher matcher = pattern.matcher(val);\r\n        if (matcher.find()) {\r\n            String sDate = matcher.group();\r\n            sDate = sDate.substring(1, sDate.length()-1);\r\n            return LocalDate.parse(sDate, formatter);\r\n        }\r\n        return LocalDate.now();\r\n    }\r\n}\r\n```\r\n\r\n2nd Comparator \r\n\r\n```\r\npublic class ExtComparator implements Comparator&lt;String &gt; {\r\n\r\n    @Override\r\n    public int compare(String o1, String o2) {\r\n\r\n        Pattern pattern = Pattern.compile(&quot;\\\\.(\\\\w+)\\\\.(\\\\d{6})\\\\.&quot;);\r\n        Matcher matcher = pattern.matcher(o1);\r\n\r\n        String s1 = matcher.find()?matcher.group():&quot;&quot;;\r\n        matcher = pattern.matcher(o2);\r\n        String s2 = matcher.find()?matcher.group():&quot;&quot;;\r\n\r\n        return s1.compareTo(s2);\r\n    }\r\n}\r\n```\r\nCalling these 2 comparators in order will do the job.\r\n\r\n```\r\n list.sort(new DateComparator().thenComparing(new ExtComparator()));\r\n```\r\n`list` contains all the input strings ","title":"How to sort Strings based on string date and dynamic substring in java?","body":"<p>Using Ryan's code created the date comparator and I have added an extra comparator for extension sorting.</p>\n<p>1st Comparator</p>\n<pre><code>public class DateComparator implements Comparator&lt;String&gt; {\n\n    @Override\n    public int compare(String o1, String o2) {\n\n        LocalDate date1 = getDate(o1);\n        LocalDate date2 = getDate(o2);\n        return date1.compareTo(date2);\n\n    }\n\n\n    private LocalDate getDate(String val) {\n        Pattern pattern = Pattern.compile(&quot;\\\\.\\\\d{6}\\\\.&quot;);\n        DateTimeFormatter  formatter = DateTimeFormatter.ofPattern(&quot;yyMMdd&quot;);\n        Matcher matcher = pattern.matcher(val);\n        if (matcher.find()) {\n            String sDate = matcher.group();\n            sDate = sDate.substring(1, sDate.length()-1);\n            return LocalDate.parse(sDate, formatter);\n        }\n        return LocalDate.now();\n    }\n}\n</code></pre>\n<p>2nd Comparator</p>\n<pre><code>public class ExtComparator implements Comparator&lt;String &gt; {\n\n    @Override\n    public int compare(String o1, String o2) {\n\n        Pattern pattern = Pattern.compile(&quot;\\\\.(\\\\w+)\\\\.(\\\\d{6})\\\\.&quot;);\n        Matcher matcher = pattern.matcher(o1);\n\n        String s1 = matcher.find()?matcher.group():&quot;&quot;;\n        matcher = pattern.matcher(o2);\n        String s2 = matcher.find()?matcher.group():&quot;&quot;;\n\n        return s1.compareTo(s2);\n    }\n}\n</code></pre>\n<p>Calling these 2 comparators in order will do the job.</p>\n<pre><code> list.sort(new DateComparator().thenComparing(new ExtComparator()));\n</code></pre>\n<p><code>list</code> contains all the input strings</p>\n"},{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653490772,"creation_date":1653490772,"answer_id":72379986,"question_id":72377681,"body_markdown":"Some thoughts around the performance of possible solutions:\r\n\r\n1. Don&#39;t bother converting the date string into a Date object. The yymmdd format is already sortable as a string, so converting it to another object is wasteful.\r\n\r\n2. Be aware that a Comparator will be called many times with the same object (because it compares it with many other objects). If it takes time to extract the date from one object, do it just once. You can put the date into a map.\r\n\r\n3. You can simply create a priority code (&quot;att&quot; being first, &quot;dscl&quot; second, others third) and add it to the end of the date string and then sort by that combination.\r\n\r\nHere&#39;s a full runnable example, together with unit test:\r\n\r\n    package org.example;\r\n    \r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    import java.util.*;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n    \r\n    class Example {\r\n    \r\n        private static final Pattern FILENAME_PATTERN = Pattern.compile(&quot;\\\\.(att\\\\.|dscl\\\\.|)(\\\\d{6})\\\\.&quot;);\r\n        private static final List&lt;String&gt; priority = List.of(&quot;att.&quot;, &quot;dscl.&quot;, &quot;&quot;);\r\n    \r\n        List&lt;String&gt; sortedFilenames(List&lt;String&gt; filenames) {\r\n            Map&lt;String, String&gt; sortCodes = new HashMap&lt;&gt;();\r\n            for (String filename : filenames) {\r\n                Matcher matcher = FILENAME_PATTERN.matcher(filename);\r\n                if (matcher.find()) {\r\n                    String type = matcher.group(1);\r\n                    String date = matcher.group(2);\r\n                    sortCodes.put(filename, date + priority.indexOf(type));\r\n                } else {\r\n                    sortCodes.put(filename, &quot;999999z&quot;);\r\n                }\r\n            }\r\n            return filenames.stream().sorted(Comparator.comparing(sortCodes::get)).toList();\r\n        }\r\n    \r\n        @Test\r\n        void test() {\r\n            List&lt;String&gt; filenames = &quot;&quot;&quot;\r\n                    f1660.msg.220523.xml.gpg\r\n                    f1660.msg.dscl.220523.xml.gpg\r\n                    f1660.msg.att.220523.tar.gz.gpg\r\n                    f1660.cit.msg.220520.xml1.gpg\r\n                    f1660.cit.msg.220520.xml2.gpg\r\n                    f1660.cit.msg.att.220520.tar.gz.gpg\r\n                    f1660.cit.msg.dscl.220520.xml.gpg\r\n                    8701D6.msg.220524.xml.gpg\r\n                    8701D6.dscl.220524.xml.gpg\r\n                    8701D6.msg.att.220524.tar.gz.gpg\r\n                    &quot;&quot;&quot;.lines().toList();\r\n    \r\n            List&lt;String&gt; sortedFilenames = sortedFilenames(filenames);\r\n    \r\n            List&lt;String&gt; expected = &quot;&quot;&quot;\r\n                    f1660.cit.msg.att.220520.tar.gz.gpg\r\n                    f1660.cit.msg.dscl.220520.xml.gpg\r\n                    f1660.cit.msg.220520.xml1.gpg\r\n                    f1660.cit.msg.220520.xml2.gpg\r\n                    f1660.msg.att.220523.tar.gz.gpg\r\n                    f1660.msg.dscl.220523.xml.gpg\r\n                    f1660.msg.220523.xml.gpg\r\n                    8701D6.msg.att.220524.tar.gz.gpg\r\n                    8701D6.dscl.220524.xml.gpg\r\n                    8701D6.msg.220524.xml.gpg\r\n                    &quot;&quot;&quot;.lines().toList();\r\n            assertThat(sortedFilenames).isEqualTo(expected);\r\n        }\r\n    }\r\n\r\n","title":"How to sort Strings based on string date and dynamic substring in java?","body":"<p>Some thoughts around the performance of possible solutions:</p>\n<ol>\n<li><p>Don't bother converting the date string into a Date object. The yymmdd format is already sortable as a string, so converting it to another object is wasteful.</p>\n</li>\n<li><p>Be aware that a Comparator will be called many times with the same object (because it compares it with many other objects). If it takes time to extract the date from one object, do it just once. You can put the date into a map.</p>\n</li>\n<li><p>You can simply create a priority code (&quot;att&quot; being first, &quot;dscl&quot; second, others third) and add it to the end of the date string and then sort by that combination.</p>\n</li>\n</ol>\n<p>Here's a full runnable example, together with unit test:</p>\n<pre><code>package org.example;\n\nimport org.junit.jupiter.api.Test;\n\nimport java.util.*;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nimport static org.assertj.core.api.Assertions.assertThat;\n\nclass Example {\n\n    private static final Pattern FILENAME_PATTERN = Pattern.compile(&quot;\\\\.(att\\\\.|dscl\\\\.|)(\\\\d{6})\\\\.&quot;);\n    private static final List&lt;String&gt; priority = List.of(&quot;att.&quot;, &quot;dscl.&quot;, &quot;&quot;);\n\n    List&lt;String&gt; sortedFilenames(List&lt;String&gt; filenames) {\n        Map&lt;String, String&gt; sortCodes = new HashMap&lt;&gt;();\n        for (String filename : filenames) {\n            Matcher matcher = FILENAME_PATTERN.matcher(filename);\n            if (matcher.find()) {\n                String type = matcher.group(1);\n                String date = matcher.group(2);\n                sortCodes.put(filename, date + priority.indexOf(type));\n            } else {\n                sortCodes.put(filename, &quot;999999z&quot;);\n            }\n        }\n        return filenames.stream().sorted(Comparator.comparing(sortCodes::get)).toList();\n    }\n\n    @Test\n    void test() {\n        List&lt;String&gt; filenames = &quot;&quot;&quot;\n                f1660.msg.220523.xml.gpg\n                f1660.msg.dscl.220523.xml.gpg\n                f1660.msg.att.220523.tar.gz.gpg\n                f1660.cit.msg.220520.xml1.gpg\n                f1660.cit.msg.220520.xml2.gpg\n                f1660.cit.msg.att.220520.tar.gz.gpg\n                f1660.cit.msg.dscl.220520.xml.gpg\n                8701D6.msg.220524.xml.gpg\n                8701D6.dscl.220524.xml.gpg\n                8701D6.msg.att.220524.tar.gz.gpg\n                &quot;&quot;&quot;.lines().toList();\n\n        List&lt;String&gt; sortedFilenames = sortedFilenames(filenames);\n\n        List&lt;String&gt; expected = &quot;&quot;&quot;\n                f1660.cit.msg.att.220520.tar.gz.gpg\n                f1660.cit.msg.dscl.220520.xml.gpg\n                f1660.cit.msg.220520.xml1.gpg\n                f1660.cit.msg.220520.xml2.gpg\n                f1660.msg.att.220523.tar.gz.gpg\n                f1660.msg.dscl.220523.xml.gpg\n                f1660.msg.220523.xml.gpg\n                8701D6.msg.att.220524.tar.gz.gpg\n                8701D6.dscl.220524.xml.gpg\n                8701D6.msg.220524.xml.gpg\n                &quot;&quot;&quot;.lines().toList();\n        assertThat(sortedFilenames).isEqualTo(expected);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17338875,"reputation":59,"user_id":12560110,"display_name":"Bharath Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":72378795,"answer_count":6,"score":2,"last_activity_date":1653491355,"creation_date":1653481771,"question_id":72377681,"body_markdown":"I am looking to sort the strings based on \r\n 1. Date(yyMMdd) present in string.\r\n 2. Dynamic substring of the given string.(att, dscl, xml)\r\n\r\n These are the input strings.\r\n\r\n    f1660.msg.220523.xml.gpg\r\n    f1660.msg.dscl.220523.xml.gpg\r\n    f1660.msg.att.220523.tar.gz.gpg\r\n    f1660.cit.msg.220520.xml1.gpg\r\n    f1660.cit.msg.220520.xml2.gpg\r\n    f1660.cit.msg.att.220520.tar.gz.gpg\r\n    f1660.cit.msg.dscl.220520.xml.gpg\r\n    8701D6.msg.220524.xml.gpg\r\n    8701D6.dscl.220524.xml.gpg\r\n    8701D6.msg.att.220524.tar.gz.gpg\r\n\r\nExpected result: Sorted based on date (220520, 220523, 220524) and all the same date files should be sorted in the order where .att file first, .dscl file second and rest all .xml files 3rd position on wards. \r\n\r\n    f1660.cit.msg.att.220520.tar.gz.gpg\r\n    f1660.cit.msg.dscl.220520.xml.gpg\r\n    f1660.cit.msg.220520.xml1.gpg\r\n    f1660.cit.msg.220520.xml2.gpg\r\n    f1660.msg.att.220523.tar.gz.gpg\r\n    f1660.msg.dscl.220523.xml.gpg\r\n    f1660.msg.220523.xml.gpg\r\n    8701D6.msg.att.220524.tar.gz.gpg\r\n    8701D6.dscl.220524.xml.gpg\r\n    8701D6.msg.220524.xml.gpg\r\n\r\nTried extracting date and sorting based on date but i am not getting how to achieve it when date and dynamic substring is part of strings which i want to sort.\r\n\r\nCould you please help?\r\n\r\nCode tried.\r\n\r\n    public void sortBasedOnDate() {\r\n        ArrayList&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n        names.add(&quot;f1660.msg.220523.xml.gpg&quot;);\r\n        names.add(&quot;f1660.msg.dscl.220523.xml.gpg&quot;);\r\n        names.add(&quot;f1660.msg.att.220523.tar.gz.gpg&quot;);\r\n        names.add(&quot;f1660.cit.msg.220520.xml1.gpg&quot;);\r\n        names.add(&quot;f1660.cit.msg.220520.xml2.gpg&quot;);\r\n        names.add(&quot;f1660.cit.msg.att.220520.tar.gz.gpg&quot;);\r\n        names.add(&quot;f1660.cit.msg.dscl.220520.xml.gpg&quot;);\r\n        names.add(&quot;8701D6.msg.220524.xml.gpg&quot;);\r\n        names.add(&quot;8701D6.dscl.220524.xml.gpg&quot;);\r\n        names.add(&quot;8701D6.msg.att.220524.tar.gz.gpg&quot;);\r\n        TreeMap&lt;LocalDate, List&lt;String&gt;&gt; map = new TreeMap&lt;&gt;(new SortByDate());\r\n        for (String name : names) {\r\n            LocalDate localDate = getDateFromFileName(name);\r\n            List&lt;String&gt; mapList = map.get(localDate);\r\n            if (mapList == null) {\r\n                mapList = new ArrayList&lt;&gt;();\r\n                mapList.add(name);\r\n                map.put(localDate, mapList);\r\n            } else {\r\n                mapList.add(name);\r\n            }\r\n        }\r\n        List&lt;String&gt; sortedList = new LinkedList&lt;&gt;();\r\n\r\n        for (Map.Entry&lt;LocalDate, List&lt;String&gt;&gt; entry : map.entrySet()) {\r\n            sortedList.addAll(entry.getValue());\r\n        }\r\n       \r\n        System.out.println(&quot;sortedList: &quot;+sortedList);\r\n    }\r\n    \r\n    private LocalDate getDateFromFileName(String fileName) {\r\n        String fileUtilDateStr = &quot;&quot;;\r\n        Optional&lt;String&gt; streamResult = Arrays.stream(fileName.split(&quot;\\\\.&quot;))\r\n                .filter(element -&gt; Pattern.compile(&quot;(\\\\d){6}&quot;).matcher(element).matches()).findFirst();\r\n        if (streamResult.isPresent()) {\r\n            fileUtilDateStr = streamResult.get();\r\n        }\r\n        DateTimeFormatter formatters = DateTimeFormatter.ofPattern(&quot;yyMMdd&quot;);\r\n        LocalDate parsedDate = LocalDate.parse(fileUtilDateStr, formatters);\r\n        return parsedDate;\r\n    }\r\n    \r\n    public class SortByDate implements Comparator&lt;LocalDate&gt; {\r\n    @Override\r\n    public int compare(LocalDate date1, LocalDate date2) {\r\n        return date1.compareTo(date2);\r\n     }\r\n    }\r\n\r\n\r\noutput:\r\n         \r\n      sortedList: [f1660.cit.msg.220520.xml1.gpg, \r\n        f1660.cit.msg.220520.xml2.gpg, f1660.cit.msg.att.220520.tar.gz.gpg, f1660.cit.msg.dscl.220520.xml.gpg, f1660.msg.220523.xml.gpg, f1660.msg.dscl.220523.xml.gpg, f1660.msg.att.220523.tar.gz.gpg, 8701D6.msg.220524.xml.gpg, 8701D6.dscl.220524.xml.gpg, 8701D6.msg.att.220524.tar.gz.gpg]\r\n\r\nBut the expected list:\r\n        \r\n      sortedList: [f1660.cit.msg.att.220520.tar.gz.gpg, \r\n       f1660.cit.msg.dscl.220520.xml.gpg, f1660.cit.msg.220520.xml1.gpg, f1660.cit.msg.220520.xml2.gpg, f1660.msg.att.220523.tar.gz.gpg, f1660.msg.dscl.220523.xml.gpg, f1660.msg.220523.xml.gpg, 8701D6.msg.att.220524.tar.gz.gpg, 8701D6.dscl.220524.xml.gpg, 8701D6.msg.220524.xml.gpg]\r\nIt is sorting based on date but not getting how to sort them with 2nd condition i.e in the order of att, dscl and xml for within same date.","title":"How to sort Strings based on string date and dynamic substring in java?","body":"<p>I am looking to sort the strings based on</p>\n<ol>\n<li>Date(yyMMdd) present in string.</li>\n<li>Dynamic substring of the given string.(att, dscl, xml)</li>\n</ol>\n<p>These are the input strings.</p>\n<pre><code>f1660.msg.220523.xml.gpg\nf1660.msg.dscl.220523.xml.gpg\nf1660.msg.att.220523.tar.gz.gpg\nf1660.cit.msg.220520.xml1.gpg\nf1660.cit.msg.220520.xml2.gpg\nf1660.cit.msg.att.220520.tar.gz.gpg\nf1660.cit.msg.dscl.220520.xml.gpg\n8701D6.msg.220524.xml.gpg\n8701D6.dscl.220524.xml.gpg\n8701D6.msg.att.220524.tar.gz.gpg\n</code></pre>\n<p>Expected result: Sorted based on date (220520, 220523, 220524) and all the same date files should be sorted in the order where .att file first, .dscl file second and rest all .xml files 3rd position on wards.</p>\n<pre><code>f1660.cit.msg.att.220520.tar.gz.gpg\nf1660.cit.msg.dscl.220520.xml.gpg\nf1660.cit.msg.220520.xml1.gpg\nf1660.cit.msg.220520.xml2.gpg\nf1660.msg.att.220523.tar.gz.gpg\nf1660.msg.dscl.220523.xml.gpg\nf1660.msg.220523.xml.gpg\n8701D6.msg.att.220524.tar.gz.gpg\n8701D6.dscl.220524.xml.gpg\n8701D6.msg.220524.xml.gpg\n</code></pre>\n<p>Tried extracting date and sorting based on date but i am not getting how to achieve it when date and dynamic substring is part of strings which i want to sort.</p>\n<p>Could you please help?</p>\n<p>Code tried.</p>\n<pre><code>public void sortBasedOnDate() {\n    ArrayList&lt;String&gt; names = new ArrayList&lt;&gt;();\n    names.add(&quot;f1660.msg.220523.xml.gpg&quot;);\n    names.add(&quot;f1660.msg.dscl.220523.xml.gpg&quot;);\n    names.add(&quot;f1660.msg.att.220523.tar.gz.gpg&quot;);\n    names.add(&quot;f1660.cit.msg.220520.xml1.gpg&quot;);\n    names.add(&quot;f1660.cit.msg.220520.xml2.gpg&quot;);\n    names.add(&quot;f1660.cit.msg.att.220520.tar.gz.gpg&quot;);\n    names.add(&quot;f1660.cit.msg.dscl.220520.xml.gpg&quot;);\n    names.add(&quot;8701D6.msg.220524.xml.gpg&quot;);\n    names.add(&quot;8701D6.dscl.220524.xml.gpg&quot;);\n    names.add(&quot;8701D6.msg.att.220524.tar.gz.gpg&quot;);\n    TreeMap&lt;LocalDate, List&lt;String&gt;&gt; map = new TreeMap&lt;&gt;(new SortByDate());\n    for (String name : names) {\n        LocalDate localDate = getDateFromFileName(name);\n        List&lt;String&gt; mapList = map.get(localDate);\n        if (mapList == null) {\n            mapList = new ArrayList&lt;&gt;();\n            mapList.add(name);\n            map.put(localDate, mapList);\n        } else {\n            mapList.add(name);\n        }\n    }\n    List&lt;String&gt; sortedList = new LinkedList&lt;&gt;();\n\n    for (Map.Entry&lt;LocalDate, List&lt;String&gt;&gt; entry : map.entrySet()) {\n        sortedList.addAll(entry.getValue());\n    }\n   \n    System.out.println(&quot;sortedList: &quot;+sortedList);\n}\n\nprivate LocalDate getDateFromFileName(String fileName) {\n    String fileUtilDateStr = &quot;&quot;;\n    Optional&lt;String&gt; streamResult = Arrays.stream(fileName.split(&quot;\\\\.&quot;))\n            .filter(element -&gt; Pattern.compile(&quot;(\\\\d){6}&quot;).matcher(element).matches()).findFirst();\n    if (streamResult.isPresent()) {\n        fileUtilDateStr = streamResult.get();\n    }\n    DateTimeFormatter formatters = DateTimeFormatter.ofPattern(&quot;yyMMdd&quot;);\n    LocalDate parsedDate = LocalDate.parse(fileUtilDateStr, formatters);\n    return parsedDate;\n}\n\npublic class SortByDate implements Comparator&lt;LocalDate&gt; {\n@Override\npublic int compare(LocalDate date1, LocalDate date2) {\n    return date1.compareTo(date2);\n }\n}\n</code></pre>\n<p>output:</p>\n<pre><code>  sortedList: [f1660.cit.msg.220520.xml1.gpg, \n    f1660.cit.msg.220520.xml2.gpg, f1660.cit.msg.att.220520.tar.gz.gpg, f1660.cit.msg.dscl.220520.xml.gpg, f1660.msg.220523.xml.gpg, f1660.msg.dscl.220523.xml.gpg, f1660.msg.att.220523.tar.gz.gpg, 8701D6.msg.220524.xml.gpg, 8701D6.dscl.220524.xml.gpg, 8701D6.msg.att.220524.tar.gz.gpg]\n</code></pre>\n<p>But the expected list:</p>\n<pre><code>  sortedList: [f1660.cit.msg.att.220520.tar.gz.gpg, \n   f1660.cit.msg.dscl.220520.xml.gpg, f1660.cit.msg.220520.xml1.gpg, f1660.cit.msg.220520.xml2.gpg, f1660.msg.att.220523.tar.gz.gpg, f1660.msg.dscl.220523.xml.gpg, f1660.msg.220523.xml.gpg, 8701D6.msg.att.220524.tar.gz.gpg, 8701D6.dscl.220524.xml.gpg, 8701D6.msg.220524.xml.gpg]\n</code></pre>\n<p>It is sorting based on date but not getting how to sort them with 2nd condition i.e in the order of att, dscl and xml for within same date.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1433961650,"post_id":30764534,"comment_id":49581767,"body_markdown":"Can you show how you load your `TestConfig`?","body":"Can you show how you load your <code>TestConfig</code>?"},{"owner":{"account_id":2900755,"reputation":4333,"user_id":2487524,"accept_rate":83,"display_name":"minion"},"score":0,"creation_date":1433963383,"post_id":30764534,"comment_id":49582789,"body_markdown":"Can you remove the `ignoreResourceNotFound=true` and see if tries to load the resource?","body":"Can you remove the <code>ignoreResourceNotFound=true</code> and see if tries to load the resource?"},{"owner":{"account_id":393856,"reputation":11926,"user_id":755932,"accept_rate":67,"display_name":"K. Siva Prasad Reddy"},"score":0,"creation_date":1434000702,"post_id":30764534,"comment_id":49595657,"body_markdown":"I took your code snippets and tested with Spring-4.1.6 and JDK 8 and is working fine. It is resolving and printing &quot;DOH&quot; if I output justAString value.","body":"I took your code snippets and tested with Spring-4.1.6 and JDK 8 and is working fine. It is resolving and printing &quot;DOH&quot; if I output justAString value."},{"owner":{"account_id":4907481,"reputation":223,"user_id":3953799,"accept_rate":25,"display_name":"Tal Ben Shabtay"},"score":0,"creation_date":1434003601,"post_id":30764534,"comment_id":49596876,"body_markdown":"@Sotirios - im just using an AnnotationConfigApplicationContext(Class) like so -                                                                                                     public static void main(String[] args) {\n    \tnew AnnotationConfigApplicationContext(TestConfig.class);\n    }","body":"@Sotirios - im just using an AnnotationConfigApplicationContext(Class) like so -                                                                                                     public static void main(String[] args) {     \tnew AnnotationConfigApplicationContext(TestConfig.class);     }"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1434003724,"post_id":30764534,"comment_id":49596945,"body_markdown":"This works for me. Can you provide a complete and reproducible example that doesn&#39;t?","body":"This works for me. Can you provide a complete and reproducible example that doesn&#39;t?"},{"owner":{"account_id":4907481,"reputation":223,"user_id":3953799,"accept_rate":25,"display_name":"Tal Ben Shabtay"},"score":0,"creation_date":1434003878,"post_id":30764534,"comment_id":49597034,"body_markdown":"@minion - i can test without it , but i need it to be set as true as i want it later to rely on default value if the property isnt found.","body":"@minion - i can test without it , but i need it to be set as true as i want it later to rely on default value if the property isnt found."},{"owner":{"account_id":4907481,"reputation":223,"user_id":3953799,"accept_rate":25,"display_name":"Tal Ben Shabtay"},"score":0,"creation_date":1434003884,"post_id":30764534,"comment_id":49597038,"body_markdown":"@sivaprasadreddy.k - you are absolutely right. in my original code i use a jvm param to receive the file path like so -                                            @PropertySource(value=&quot;file:#{systemProperties[&#39;config.path&#39;]}&quot;               and passing a jvm param with -Dconfig.path=&quot;c:\\\\tmp\\\\1.cfg","body":"@sivaprasadreddy.k - you are absolutely right. in my original code i use a jvm param to receive the file path like so -                                            @PropertySource(value=&quot;file:#{systemProperties[&#39;config.path&#39;&zwnj;&#8203;]}&quot;               and passing a jvm param with -Dconfig.path=&quot;c:\\\\tmp\\\\1.cfg"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1434036649,"post_id":30764534,"comment_id":49620086,"body_markdown":"I recommend you edit your question to put the issue of the placeholder first. We can then clean up these comments.","body":"I recommend you edit your question to put the issue of the placeholder first. We can then clean up these comments."}],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1434050339,"creation_date":1434036431,"answer_id":30785083,"question_id":30764534,"body_markdown":"Considering your edit\r\n\r\n    @PropertySource(value=&quot;file:#{systemProperties[&#39;config.path&#39;]}&quot; \r\n\r\nyou have to first realize that the `@Configuration` class (and its annotations) is parsed and processed before the `@Bean` declared inside it. In other words, your `PropertySourcesPlaceholderConfig` (which does resolution of `#{..}` placeholders) has not been registered by the time Spring has processed the `@PropertySource` annotation. It&#39;s not available.\r\n\r\nInstead, Spring can perform a subset of the behavior provided by a `PropertySourcesPlaceholderConfig`, only the `${..}` placeholders. ([See the javadoc][1].) And it can only use the property sources already registered with your `ApplicationContext`&#39;s `Environment`. In your examples, there are (should be) only two sources, the system properties and system environment.\r\n\r\nThe notation \r\n\r\n    systemProperties[&#39;config.path&#39;]\r\n\r\nstates: give me the value of the property `config.path` in the property source named `systemProperties`. I&#39;m not sure in which order Spring checks the property sources named above, but if you know that only your system properties (and not the environment) has a `config.path` property, you can simply use \r\n\r\n    @PropertySources(value = { @PropertySource(value = &quot;file:${config.path}&quot;) })\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/PropertySource.html","title":"Resolving placeholder within @PropertySource","body":"<p>Considering your edit</p>\n\n<pre><code>@PropertySource(value=\"file:#{systemProperties['config.path']}\" \n</code></pre>\n\n<p>you have to first realize that the <code>@Configuration</code> class (and its annotations) is parsed and processed before the <code>@Bean</code> declared inside it. In other words, your <code>PropertySourcesPlaceholderConfig</code> (which does resolution of <code>#{..}</code> placeholders) has not been registered by the time Spring has processed the <code>@PropertySource</code> annotation. It's not available.</p>\n\n<p>Instead, Spring can perform a subset of the behavior provided by a <code>PropertySourcesPlaceholderConfig</code>, only the <code>${..}</code> placeholders. (<a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/PropertySource.html\" rel=\"nofollow\">See the javadoc</a>.) And it can only use the property sources already registered with your <code>ApplicationContext</code>'s <code>Environment</code>. In your examples, there are (should be) only two sources, the system properties and system environment.</p>\n\n<p>The notation </p>\n\n<pre><code>systemProperties['config.path']\n</code></pre>\n\n<p>states: give me the value of the property <code>config.path</code> in the property source named <code>systemProperties</code>. I'm not sure in which order Spring checks the property sources named above, but if you know that only your system properties (and not the environment) has a <code>config.path</code> property, you can simply use </p>\n\n<pre><code>@PropertySources(value = { @PropertySource(value = \"file:${config.path}\") })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5247813,"reputation":9,"user_id":4192932,"display_name":"pramod Rajane"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1653491336,"creation_date":1653491336,"answer_id":72380142,"question_id":30764534,"body_markdown":"Trying adding @TestPropertySource(properties = {&quot;targetEnv = test&quot;})\r\nex. whichever env variable you want to inject.","title":"Resolving placeholder within @PropertySource","body":"<p>Trying adding @TestPropertySource(properties = {&quot;targetEnv = test&quot;})\nex. whichever env variable you want to inject.</p>\n"}],"owner":{"account_id":4907481,"reputation":223,"user_id":3953799,"accept_rate":25,"display_name":"Tal Ben Shabtay"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11775,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":30785083,"answer_count":2,"score":2,"last_activity_date":1653491336,"creation_date":1433961115,"question_id":30764534,"body_markdown":"I&#39;m trying to make a configuration class that will load application properties from a file using the @PropertySource annotation, but the PropertySourcesPlaceholderConfigurer doesnt seem to set the location received from the annotation.\r\n\r\n\r\n    @Configuration\r\n    @ComponentScan(&quot;com.just.a.test&quot;)\r\n    @PropertySources({\r\n    \t@PropertySource(value=&quot;file:C:\\\\tmp\\\\1.cfg&quot; \r\n    \t\t\t, ignoreResourceNotFound=true)\r\n    })\r\n    public class TestConfig {\r\n        @Value(&quot;${just.a.string}&quot;)\r\n    \tString justAString;\r\n    \t\r\n    \t\r\n    \t@Bean\r\n        public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\r\n    \t\tPropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer = new PropertySourcesPlaceholderConfigurer();\r\n           return propertySourcesPlaceholderConfigurer;\r\n        }\r\n    }\r\n\r\n\r\nthe application property file is :\r\n\r\n    just.a.string=DOH\r\n\r\n\r\nand im receiving the following exception :\r\n\r\n   &gt;....\r\n    Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder &#39;just.a.string&#39; in string value &quot;${just.a.string}&quot;&lt;br/&gt;\r\n    \tat org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:174)&lt;br/&gt;\r\n    \tat org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)&lt;br/&gt;\r\n    \tat org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:204)&lt;br/&gt;\r\n    \tat org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:178)&lt;br/&gt;\r\n    \tat org.springframework.context.support.PropertySourcesPlaceholderConfigurer$2.resolveStringValue(PropertySourcesPlaceholderConfigurer.java:175)&lt;br/&gt;\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:801)&lt;br/&gt;\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:955)&lt;br/&gt;\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:942)&lt;br/&gt;\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:533)&lt;br/&gt;\r\n    \t... 15 more\r\n\r\n\r\nhow ever, if i am setting the location using the PropertySourcesPlaceholderConfigurer bean, everything works fine.\r\n\r\n    @Bean\r\n        public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\r\n            PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer = new PropertySourcesPlaceholderConfigurer();\r\n    propertySourcesPlaceholderConfigurer.setLocation(new FileSystemResource(&quot;c:\\\\tmp\\\\1.cfg&quot;));\r\n           return propertySourcesPlaceholderConfigurer;\r\n        }\r\n\r\n\r\ni am using Spring 4.1.6-RELEASE , and jdk 8.05.\r\n\r\nthanks in advance.\r\n\r\n\r\n**UPDATE 1**\r\n\r\nas sivaprasadreddy.k mentioned. the code above does work fine, i forgot that in my original code i am retrieving the file out of a JVM param using the - \r\n\r\n    @PropertySource(value=&quot;file:#{systemProperties[&#39;config.path&#39;]}&quot; \r\n\r\nand passing a jvm param of:\r\n\r\n    -Dconfig.path=C:\\\\tmp\\\\1.cfg\r\n\r\n@Sotirios - im just using an AnnotationConfigApplicationContext(Class) like so - \r\n\r\n    public static void main(String[] args) { \r\n    new AnnotationConfigApplicationContext(TestConfig.class);\r\n     }\r\n\r\n\r\n\r\n**UPDATE 2**\r\n\r\nbasically what im trying to achieve is this:\r\n\r\n\r\n1) load a property file using a jvm param which its name defined as a const\r\n\r\n  a) if the file is found then proceed\r\n\r\n  b) else if a default file path which defined as a const exists then proceed\r\n\r\n  c) else proceed.\r\n\r\n2) try to resolve @Value using a property which its name is defined as a const\r\n\r\n  a) if found proceed\r\n\r\n  b) else load a default value using a const.\r\n\r\nsorry for the spaces. something is wrong with the editor.","title":"Resolving placeholder within @PropertySource","body":"<p>I'm trying to make a configuration class that will load application properties from a file using the @PropertySource annotation, but the PropertySourcesPlaceholderConfigurer doesnt seem to set the location received from the annotation.</p>\n\n<pre><code>@Configuration\n@ComponentScan(\"com.just.a.test\")\n@PropertySources({\n    @PropertySource(value=\"file:C:\\\\tmp\\\\1.cfg\" \n            , ignoreResourceNotFound=true)\n})\npublic class TestConfig {\n    @Value(\"${just.a.string}\")\n    String justAString;\n\n\n    @Bean\n    public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\n        PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer = new PropertySourcesPlaceholderConfigurer();\n       return propertySourcesPlaceholderConfigurer;\n    }\n}\n</code></pre>\n\n<p>the application property file is :</p>\n\n<pre><code>just.a.string=DOH\n</code></pre>\n\n<p>and im receiving the following exception :</p>\n\n<blockquote>\n  <p>....\n      Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'just.a.string' in string value \"${just.a.string}\"<br/>\n          at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:174)<br/>\n          at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)<br/>\n          at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:204)<br/>\n          at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:178)<br/>\n          at org.springframework.context.support.PropertySourcesPlaceholderConfigurer$2.resolveStringValue(PropertySourcesPlaceholderConfigurer.java:175)<br/>\n          at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:801)<br/>\n          at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:955)<br/>\n          at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:942)<br/>\n          at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:533)<br/>\n          ... 15 more</p>\n</blockquote>\n\n<p>how ever, if i am setting the location using the PropertySourcesPlaceholderConfigurer bean, everything works fine.</p>\n\n<pre><code>@Bean\n    public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\n        PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer = new PropertySourcesPlaceholderConfigurer();\npropertySourcesPlaceholderConfigurer.setLocation(new FileSystemResource(\"c:\\\\tmp\\\\1.cfg\"));\n       return propertySourcesPlaceholderConfigurer;\n    }\n</code></pre>\n\n<p>i am using Spring 4.1.6-RELEASE , and jdk 8.05.</p>\n\n<p>thanks in advance.</p>\n\n<p><strong>UPDATE 1</strong></p>\n\n<p>as sivaprasadreddy.k mentioned. the code above does work fine, i forgot that in my original code i am retrieving the file out of a JVM param using the - </p>\n\n<pre><code>@PropertySource(value=\"file:#{systemProperties['config.path']}\" \n</code></pre>\n\n<p>and passing a jvm param of:</p>\n\n<pre><code>-Dconfig.path=C:\\\\tmp\\\\1.cfg\n</code></pre>\n\n<p>@Sotirios - im just using an AnnotationConfigApplicationContext(Class) like so - </p>\n\n<pre><code>public static void main(String[] args) { \nnew AnnotationConfigApplicationContext(TestConfig.class);\n }\n</code></pre>\n\n<p><strong>UPDATE 2</strong></p>\n\n<p>basically what im trying to achieve is this:</p>\n\n<p>1) load a property file using a jvm param which its name defined as a const</p>\n\n<p>a) if the file is found then proceed</p>\n\n<p>b) else if a default file path which defined as a const exists then proceed</p>\n\n<p>c) else proceed.</p>\n\n<p>2) try to resolve @Value using a property which its name is defined as a const</p>\n\n<p>a) if found proceed</p>\n\n<p>b) else load a default value using a const.</p>\n\n<p>sorry for the spaces. something is wrong with the editor.</p>\n"},{"tags":["java","concurrency","java.util.concurrent"],"comments":[{"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"score":0,"creation_date":1653481341,"post_id":72377314,"comment_id":127862122,"body_markdown":"I do not understand the question. What is the expected behavior vs the observed behavior? What does &quot;seems hard to be in sequence order&quot; mean, and why is it a problem?","body":"I do not understand the question. What is the expected behavior vs the observed behavior? What does &quot;seems hard to be in sequence order&quot; mean, and why is it a problem?"},{"owner":{"account_id":20525321,"reputation":29,"user_id":15063890,"display_name":"Nash"},"score":0,"creation_date":1653482055,"post_id":72377314,"comment_id":127862418,"body_markdown":"Okay sorry. I just updated my question, basically I would just like to know how to add the flight numbers to the disembark and embarking action so that it wont be that messy","body":"Okay sorry. I just updated my question, basically I would just like to know how to add the flight numbers to the disembark and embarking action so that it wont be that messy"}],"answers":[{"tags":[],"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653491248,"creation_date":1653482472,"answer_id":72377840,"question_id":72377314,"body_markdown":"Err - why do you not pass in the flight number into the `run` method?\r\n\r\n     // in Passengers\r\n     public void run(int id) {\r\n       \r\n       try {           \r\n           sema.acquire();\r\n           System.out.println( &quot;MH &quot; + id + &quot; : Passengers &quot; + passengercount + &quot; Disembarking&quot;);\r\n       } catch (InterruptedException ex) {\r\n           ex.printStackTrace();\r\n       }\r\n       \r\n       try {\r\n           dorun();\r\n       }\r\n       finally {\r\n           System.out.println( &quot;MH &quot; + id + &quot; : Passengers &quot; + passengercount + &quot; Embarking&quot;);\r\n           sema.release();\r\n       }\r\n     }\r\n\r\n     // when calling Passengers: pass in that ID\r\n     for(int i = 1; i &lt;= 10; i++) {\r\n         try {\r\n           /* ... */\r\n                for(int j=0; j&lt;50; j++){\r\n                    int id = i; // &lt;-- copy to a constant value; once assigned, id is never changed\r\n                    executor.submit(new Runnable() {\r\n                        public void run() {\r\n                            Passengers.getInstance().run(id);\r\n                        }                    \r\n                    });\r\n                }\r\n           /* ... */\r\n\r\nNote that the previous version used this code, which produces an error because the value of `i` changes in each iteration, while Java needs to ensure that it stays constant; using a reference that does not change (as above) solves the problem:\r\n\r\n                for(int j=0; j&lt;50; j++){\r\n                    executor.submit(new Runnable() {\r\n                        public void run() {\r\n                            Passengers.getInstance().run(i); // &lt;-- fails, because i is not, and cannot be made, final\r\n                        }                    \r\n                    });\r\n                }","title":"Java Concurrent: trying to identify my passengers are from which flight","body":"<p>Err - why do you not pass in the flight number into the <code>run</code> method?</p>\n<pre><code> // in Passengers\n public void run(int id) {\n   \n   try {           \n       sema.acquire();\n       System.out.println( &quot;MH &quot; + id + &quot; : Passengers &quot; + passengercount + &quot; Disembarking&quot;);\n   } catch (InterruptedException ex) {\n       ex.printStackTrace();\n   }\n   \n   try {\n       dorun();\n   }\n   finally {\n       System.out.println( &quot;MH &quot; + id + &quot; : Passengers &quot; + passengercount + &quot; Embarking&quot;);\n       sema.release();\n   }\n }\n\n // when calling Passengers: pass in that ID\n for(int i = 1; i &lt;= 10; i++) {\n     try {\n       /* ... */\n            for(int j=0; j&lt;50; j++){\n                int id = i; // &lt;-- copy to a constant value; once assigned, id is never changed\n                executor.submit(new Runnable() {\n                    public void run() {\n                        Passengers.getInstance().run(id);\n                    }                    \n                });\n            }\n       /* ... */\n</code></pre>\n<p>Note that the previous version used this code, which produces an error because the value of <code>i</code> changes in each iteration, while Java needs to ensure that it stays constant; using a reference that does not change (as above) solves the problem:</p>\n<pre><code>            for(int j=0; j&lt;50; j++){\n                executor.submit(new Runnable() {\n                    public void run() {\n                        Passengers.getInstance().run(i); // &lt;-- fails, because i is not, and cannot be made, final\n                    }                    \n                });\n            }\n</code></pre>\n"}],"owner":{"account_id":20525321,"reputation":29,"user_id":15063890,"display_name":"Nash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72377840,"answer_count":1,"score":0,"last_activity_date":1653491248,"creation_date":1653480263,"question_id":72377314,"body_markdown":"I am trying to figure out the passengers&#39; disembark and embark methods in my project. The problem is the passengers&#39; count will not be in order and I couldn&#39;t figure out which flights are ongoing those disembark and embarking actions.\r\nObjective: To figure out the way to add the flight number for passengers.\r\n\r\n    package airport_ccp;\r\n    \r\n    import java.util.Random;\r\n    import java.util.concurrent.ArrayBlockingQueue;\r\n    import java.util.concurrent.BlockingQueue;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    \r\n    public class airport_CCP {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tRandom rand = new Random();\r\n                    Passengers passsenger = new Passengers();\r\n    \t\t\r\n                    //runway only got one, two gates\r\n                    //runway is exclusive event, remain inclusive event for gates only\r\n                    //gates available: 2, so create blockingqueue&lt;runway&gt;(2)\r\n    \t\tBlockingQueue&lt;Gate&gt; gates = new ArrayBlockingQueue&lt;Gate&gt;(2);\r\n    \t\t\r\n    \t\t//threadpool for aircraft, two gates available\r\n                    //so create a fixed threadpool for gates with 2 maximum\r\n                    ExecutorService threadpool  = Executors.newFixedThreadPool(2);\r\n    \t\t\r\n    \t\t// 2 active inbound for 2 gates.\r\n    \t\tfor (int i = 1; i &lt;= 2; i++) {\r\n    \t\t\tgates.add(new Gate(i));\r\n    \t\t}\r\n    \t\t\r\n              //10 flights\r\n    \t\tfor(int i = 1; i &lt;= 10; i++) {\r\n    \t\t\ttry {\r\n    \t\t\t\t// 3 secnonds hold for new aircraft\r\n    \t\t\t\tThread.sleep(rand.nextInt(3000));\r\n    \t\t\t\tthreadpool.submit(new Aircraft(i, &quot;land&quot;, gates));\r\n\r\n                     //initial thought of input\r\n\r\n                    ExecutorService executor = Executors.newCachedThreadPool();\r\n        \r\n                    for(int j=0; j&lt;50; j++){\r\n                    executor.submit(new Runnable() {\r\n                    public void run() {\r\n                    Passengers.getInstance().run();\r\n                    }\r\n                \r\n                    });\r\n                    }\r\n                    executor.shutdown();\r\n                    //input ends\r\n                                  \r\n                                    \r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t          \r\n                    \r\n                    \r\n                    \r\n    \t\tthreadpool.shutdown();\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tif (threadpool.awaitTermination(100, TimeUnit.SECONDS)) {\r\n    \t\t\t\tfor (int i = 1; i &lt;= 2; i++) {\r\n    \t\t\t\t\tgates.take().printReport();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\nBelow is my passenger class\r\n\r\n    package airport_ccp;\r\n    \r\n    import java.util.Random;\r\n    import java.util.concurrent.Semaphore;\r\n    \r\n    public class Passengers {\r\n    \t\r\n       private static Passengers instance = new Passengers();\r\n       \r\n       private Semaphore sema = new Semaphore(50, true); //set max to 50\r\n       \r\n       private int passengercount = 0;\r\n       \r\n       private Passengers() {\r\n           \r\n       }\r\n       \r\n       public static Passengers getInstance(){\r\n           return instance;\r\n       }\r\n       \r\n       public void run() {\r\n           \r\n           try {\r\n               \r\n               sema.acquire();\r\n               System.out.println( &quot;MH &quot; /*ID input*/ + &quot; : Passengers &quot; + passengercount + &quot; Disembarking&quot;);\r\n    \r\n           } catch (InterruptedException ex) {\r\n               ex.printStackTrace();\r\n           }\r\n           \r\n           try {\r\n               dorun();\r\n           }\r\n           finally {\r\n           System.out.println( &quot;MH &quot; /*ID input*/ + &quot; : Passengers &quot; + passengercount + &quot; Embarking&quot;);\r\n           sema.release();\r\n           }\r\n       }\r\n       \r\n       \r\n       public void dorun() {\r\n           \r\n           synchronized (this) {\r\n               passengercount++;\r\n           }\r\n           \r\n           try {\r\n               Thread.sleep(2000);\r\n           } catch (InterruptedException ex) {\r\n               ex.printStackTrace();\r\n           }\r\n           \r\n           \r\n           synchronized (this) {\r\n               passengercount--;\r\n           }\r\n    \r\n       }\r\n    }\r\n\r\nAircraft class if there&#39;s any concern\r\n\r\n    package airport_ccp;\r\n    \r\n    import java.util.Date;\r\n    import java.util.Random;\r\n    import java.util.concurrent.BlockingQueue;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class Aircraft implements Runnable{\r\n    \tString status;\r\n    \tint ID;\r\n             Date arrival;\r\n    \t BlockingQueue&lt;Gate&gt; gatescount = null;\r\n    \t Gate gate;\r\n    \t\r\n    \tpublic Aircraft(int ID, String status, BlockingQueue&lt;Gate&gt; gatescount) {\r\n    \t\tthis.ID = ID;\r\n    \t\tthis.gatescount = gatescount;\r\n    \t\t\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;\\t Time : &quot; + java.time.LocalDateTime.now() + &quot;\\t&quot; + &quot; MH &quot; + ID + &quot; is calling for landing.&quot;);\r\n    \t}\r\n    \r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n                \r\n    \t\ttry {\r\n                            this.status = &quot;land&quot;;\r\n    \t\t\tgate = gatescount.take();\r\n    \t\t\tSystem.out.println(&quot;\\t MH &quot; + ID + &quot; has been assigned to &quot; + gate.getName() + &quot;.&quot;);\r\n    \t\t\tSystem.out.println( &quot;\\t Time : &quot; + java.time.LocalDateTime.now() + &quot;\\t&quot; + &quot; MH &quot; + ID + &quot; is &quot; + status + &quot;.&quot;);\r\n                            //Thread.sleep(1000*(1+new Random().nextInt(10)));\r\n                            Thread.sleep(5000);\r\n                            \r\n                            \r\n                            \r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} \r\n    \t\tgate.inc(status);\r\n                    this.status=&quot;depart&quot;;\r\n    \t\tSystem.out.println(&quot;\\t Time : &quot; + java.time.LocalDateTime.now() + &quot;\\t&quot; + &quot;MH &quot; + ID + &quot; has &quot; + status);\r\n    \t\tgatescount.add(gate);\r\n    \t}","title":"Java Concurrent: trying to identify my passengers are from which flight","body":"<p>I am trying to figure out the passengers' disembark and embark methods in my project. The problem is the passengers' count will not be in order and I couldn't figure out which flights are ongoing those disembark and embarking actions.\nObjective: To figure out the way to add the flight number for passengers.</p>\n<pre><code>package airport_ccp;\n\nimport java.util.Random;\nimport java.util.concurrent.ArrayBlockingQueue;\nimport java.util.concurrent.BlockingQueue;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.TimeUnit;\n\n\npublic class airport_CCP {\n\n    public static void main(String[] args) {\n        Random rand = new Random();\n                Passengers passsenger = new Passengers();\n        \n                //runway only got one, two gates\n                //runway is exclusive event, remain inclusive event for gates only\n                //gates available: 2, so create blockingqueue&lt;runway&gt;(2)\n        BlockingQueue&lt;Gate&gt; gates = new ArrayBlockingQueue&lt;Gate&gt;(2);\n        \n        //threadpool for aircraft, two gates available\n                //so create a fixed threadpool for gates with 2 maximum\n                ExecutorService threadpool  = Executors.newFixedThreadPool(2);\n        \n        // 2 active inbound for 2 gates.\n        for (int i = 1; i &lt;= 2; i++) {\n            gates.add(new Gate(i));\n        }\n        \n          //10 flights\n        for(int i = 1; i &lt;= 10; i++) {\n            try {\n                // 3 secnonds hold for new aircraft\n                Thread.sleep(rand.nextInt(3000));\n                threadpool.submit(new Aircraft(i, &quot;land&quot;, gates));\n\n                 //initial thought of input\n\n                ExecutorService executor = Executors.newCachedThreadPool();\n    \n                for(int j=0; j&lt;50; j++){\n                executor.submit(new Runnable() {\n                public void run() {\n                Passengers.getInstance().run();\n                }\n            \n                });\n                }\n                executor.shutdown();\n                //input ends\n                              \n                                \n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n                  \n                \n                \n                \n        threadpool.shutdown();\n        \n        try {\n            if (threadpool.awaitTermination(100, TimeUnit.SECONDS)) {\n                for (int i = 1; i &lt;= 2; i++) {\n                    gates.take().printReport();\n                }\n            }\n        } catch (InterruptedException e) {\n        }\n    }\n}\n</code></pre>\n<p>Below is my passenger class</p>\n<pre><code>package airport_ccp;\n\nimport java.util.Random;\nimport java.util.concurrent.Semaphore;\n\npublic class Passengers {\n    \n   private static Passengers instance = new Passengers();\n   \n   private Semaphore sema = new Semaphore(50, true); //set max to 50\n   \n   private int passengercount = 0;\n   \n   private Passengers() {\n       \n   }\n   \n   public static Passengers getInstance(){\n       return instance;\n   }\n   \n   public void run() {\n       \n       try {\n           \n           sema.acquire();\n           System.out.println( &quot;MH &quot; /*ID input*/ + &quot; : Passengers &quot; + passengercount + &quot; Disembarking&quot;);\n\n       } catch (InterruptedException ex) {\n           ex.printStackTrace();\n       }\n       \n       try {\n           dorun();\n       }\n       finally {\n       System.out.println( &quot;MH &quot; /*ID input*/ + &quot; : Passengers &quot; + passengercount + &quot; Embarking&quot;);\n       sema.release();\n       }\n   }\n   \n   \n   public void dorun() {\n       \n       synchronized (this) {\n           passengercount++;\n       }\n       \n       try {\n           Thread.sleep(2000);\n       } catch (InterruptedException ex) {\n           ex.printStackTrace();\n       }\n       \n       \n       synchronized (this) {\n           passengercount--;\n       }\n\n   }\n}\n</code></pre>\n<p>Aircraft class if there's any concern</p>\n<pre><code>package airport_ccp;\n\nimport java.util.Date;\nimport java.util.Random;\nimport java.util.concurrent.BlockingQueue;\nimport java.util.concurrent.TimeUnit;\n\npublic class Aircraft implements Runnable{\n    String status;\n    int ID;\n         Date arrival;\n     BlockingQueue&lt;Gate&gt; gatescount = null;\n     Gate gate;\n    \n    public Aircraft(int ID, String status, BlockingQueue&lt;Gate&gt; gatescount) {\n        this.ID = ID;\n        this.gatescount = gatescount;\n        \n        \n        System.out.println(&quot;\\t Time : &quot; + java.time.LocalDateTime.now() + &quot;\\t&quot; + &quot; MH &quot; + ID + &quot; is calling for landing.&quot;);\n    }\n\n\n    @Override\n    public void run() {\n            \n        try {\n                        this.status = &quot;land&quot;;\n            gate = gatescount.take();\n            System.out.println(&quot;\\t MH &quot; + ID + &quot; has been assigned to &quot; + gate.getName() + &quot;.&quot;);\n            System.out.println( &quot;\\t Time : &quot; + java.time.LocalDateTime.now() + &quot;\\t&quot; + &quot; MH &quot; + ID + &quot; is &quot; + status + &quot;.&quot;);\n                        //Thread.sleep(1000*(1+new Random().nextInt(10)));\n                        Thread.sleep(5000);\n                        \n                        \n                        \n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        } \n        gate.inc(status);\n                this.status=&quot;depart&quot;;\n        System.out.println(&quot;\\t Time : &quot; + java.time.LocalDateTime.now() + &quot;\\t&quot; + &quot;MH &quot; + ID + &quot; has &quot; + status);\n        gatescount.add(gate);\n    }\n</code></pre>\n"},{"tags":["java","swing","components"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1653493564,"post_id":72379925,"comment_id":127867611,"body_markdown":"1) Method names should NOT start with an upper case character. 2) Use a Swing Timer for animation. 3) Components will only be painted if they have a size and location. The default size is (0, 0) so there is nothing to paint. 4) Generally it is better to keep an ArrayLIst of shapes to paint and then have your panel paint iterate through the list to paint all the shapes. Check out: https://stackoverflow.com/questions/54028090/get-width-and-height-of-jpanel-outside-of-the-class/54028681#54028681 for an example that implements all the above suggestions.","body":"1) Method names should NOT start with an upper case character. 2) Use a Swing Timer for animation. 3) Components will only be painted if they have a size and location. The default size is (0, 0) so there is nothing to paint. 4) Generally it is better to keep an ArrayLIst of shapes to paint and then have your panel paint iterate through the list to paint all the shapes. Check out: <a href=\"https://stackoverflow.com/questions/54028090/get-width-and-height-of-jpanel-outside-of-the-class/54028681#54028681\" title=\"get width and height of jpanel outside of the class\">stackoverflow.com/questions/54028090/&hellip;</a> for an example that implements all the above suggestions."},{"owner":{"account_id":23461842,"reputation":1,"user_id":17516596,"display_name":"ProGrammer"},"score":0,"creation_date":1653501201,"post_id":72379925,"comment_id":127870417,"body_markdown":"Thanks, i also forgot to say that only last component that i add cube2 in this case is shown","body":"Thanks, i also forgot to say that only last component that i add cube2 in this case is shown"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1653502146,"post_id":72379925,"comment_id":127870746,"body_markdown":"*only last component that i add cube2 in this case is shown* - you set the layout manager to a BorderLayout. Only one component can be added to the CENTER, so only the last one added is given a size/location. When you need animation you need to use a null layout or better yet don&#39;t use components as has already been suggested.","body":"<i>only last component that i add cube2 in this case is shown</i> - you set the layout manager to a BorderLayout. Only one component can be added to the CENTER, so only the last one added is given a size/location. When you need animation you need to use a null layout or better yet don&#39;t use components as has already been suggested."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1653534024,"post_id":72379925,"comment_id":127877527,"body_markdown":"`Cube` should not `extends JComponent`. When you are clear on that &amp; committed to going in a different direction, let me know, and I&#39;ll put more time into (commenting or) answering.","body":"<code>Cube</code> should not <code>extends JComponent</code>. When you are clear on that &amp; committed to going in a different direction, let me know, and I&#39;ll put more time into (commenting or) answering."},{"owner":{"account_id":23461842,"reputation":1,"user_id":17516596,"display_name":"ProGrammer"},"score":0,"creation_date":1653546766,"post_id":72379925,"comment_id":127879572,"body_markdown":"Cube needs to extends JComponent, since it has paint() method, which is called when cube object is added to frame. Also thank&#39;s for help","body":"Cube needs to extends JComponent, since it has paint() method, which is called when cube object is added to frame. Also thank&#39;s for help"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1653547060,"post_id":72379925,"comment_id":127879639,"body_markdown":"A POJO `Cube` could implement a `draw(Graphics)` method that is explicitly called within the `paintComponent(Graphics)`(1) method of the `JComponent` or (more commonly) `JPanel` that is painting it. 1) For any `JComponent`, override the `paintComponent(Graphics)` method rather than the `paint(Graphics)` method.","body":"A POJO <code>Cube</code> could implement a <code>draw(Graphics)</code> method that is explicitly called within the <code>paintComponent(Graphics)</code>(1) method of the <code>JComponent</code> or (more commonly) <code>JPanel</code> that is painting it. 1) For any <code>JComponent</code>, override the <code>paintComponent(Graphics)</code> method rather than the <code>paint(Graphics)</code> method."}],"owner":{"account_id":23461842,"reputation":1,"user_id":17516596,"display_name":"ProGrammer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653490877,"creation_date":1653490512,"question_id":72379925,"body_markdown":"I have my Java project (link down there) and i want to add two custom components. I have tried adding them to panels, adding them to panels with layout, but nothing worked. I don&#39;t want layouts, since I am placing my components in special positions, which you can see in code. So here&#39;s code:\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n\r\n    class Screen extends JFrame\r\n    {\r\n    public Cube cube;\r\n    public Cube cube2;\r\n\r\n    public Boolean running = true;\r\n\r\n    public Screen()\r\n    {\r\n        JPanel panel = new JPanel(new BorderLayout());\r\n        cube = new Cube(75, 75, 50, 50);\r\n        cube2 = new Cube(10,950,1900,50,50);\r\n\r\n        //setLayout(new FlowLayout());\r\n\r\n        panel.add(cube);\r\n        panel.add(cube2);\r\n\r\n        getContentPane().add(panel);\r\n\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setVisible(true);\r\n\r\n        Thread main = new MainThread();\r\n\r\n        main.run();\r\n    }   \r\n\r\n    void paintComponent(Graphics g)\r\n    {\r\n        cube.paint(g);\r\n        cube2.paint(g);\r\n    }\r\n\r\n    public float Gravity = .00000000000881f;\r\n\r\n    public void Gravity()\r\n    {\r\n        cube.AddVelocity(0f,Gravity);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new Screen();\r\n    }\r\n\r\n    class MainThread extends Thread\r\n    {\r\n        public void run()\r\n        {\r\n            try{\r\n                sleep(2000);\r\n            } catch(InterruptedException e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n            System.out.println(&quot;Starting&quot;);\r\n            while(running){\r\n                //System.out.println(&quot;cube: &quot; + cube.x + &quot;,&quot; + cube.y);\r\n                //System.out.println(&quot;cube2: &quot; + cube2.x + &quot;,&quot; + cube2.y);\r\n                cube.UpdateMethod();\r\n                Gravity();\r\n                repaint();\r\n            }\r\n        }\r\n    }\r\n    }\r\n\r\n    public class Cube extends JComponent {\r\n    float x, y, sizex, sizey, shift;\r\n        \r\n    public Cube(int x, int y, int size, int shift) {\r\n            this.x = x;\r\n            this.y = y;\r\n            this.sizex = size;\r\n            this.sizey = size;\r\n            this.shift = shift;\r\n        }\r\n    \r\n    public Cube(int x, int y, int sx, int sy, int shift) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.sizex = sx;\r\n        this.sizey = sy;\r\n        this.shift = shift;\r\n    }\r\n    \r\n\r\n    Vector2 Velocity = new Vector2(0,0);\r\n\r\n    public void AddVelocity(float a, float b)\r\n        {\r\n            Velocity.x += a;\r\n            Velocity.y += b;\r\n        }\r\n\r\n    public void MoveBy(Float x, float y)\r\n        {\r\n            this.x+=x;\r\n            this.y+=y;\r\n            \r\n            repaint();\r\n        }\r\n\r\n    public void UpdateMethod()\r\n    {\r\n        MoveBy(Velocity.GetX(), Velocity.GetY());\r\n\r\n            \r\n    }\r\n\r\n    protected void paintComponent(Graphics g) {\r\n            int nx = (int) x;\r\n            int ny = (int) y;\r\n\r\n            int nsx = (int) sizex;\r\n            int nsy = (int) sizey;\r\n            g.drawRect(nx, ny, nsx, nsy);\r\n        }\r\n\r\n\r\n    Boolean CheckCollision(Cube other)\r\n    {\r\n        if(x &lt; other.x + other.sizex &amp;&amp;\r\n        x + sizex &gt; other.x &amp;&amp;\r\n        y &lt; other.y + other.sizey &amp;&amp;\r\n        sizey + sizey &gt; other.y)\r\n        {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    }\r\n\r\n    class Vector2\r\n    {\r\n    public float x,y;\r\n\r\n    public Vector2(int a, int b)\r\n    {\r\n        x=a;\r\n        y=b;\r\n    }\r\n\r\n    public float GetX()\r\n    {\r\n        return x;\r\n    }\r\n\r\n    public float GetY()\r\n    {\r\n        return y;\r\n    }\r\n    }\r\n","title":"Java how to have 2 components without layout?","body":"<p>I have my Java project (link down there) and i want to add two custom components. I have tried adding them to panels, adding them to panels with layout, but nothing worked. I don't want layouts, since I am placing my components in special positions, which you can see in code. So here's code:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\nclass Screen extends JFrame\n{\npublic Cube cube;\npublic Cube cube2;\n\npublic Boolean running = true;\n\npublic Screen()\n{\n    JPanel panel = new JPanel(new BorderLayout());\n    cube = new Cube(75, 75, 50, 50);\n    cube2 = new Cube(10,950,1900,50,50);\n\n    //setLayout(new FlowLayout());\n\n    panel.add(cube);\n    panel.add(cube2);\n\n    getContentPane().add(panel);\n\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setVisible(true);\n\n    Thread main = new MainThread();\n\n    main.run();\n}   \n\nvoid paintComponent(Graphics g)\n{\n    cube.paint(g);\n    cube2.paint(g);\n}\n\npublic float Gravity = .00000000000881f;\n\npublic void Gravity()\n{\n    cube.AddVelocity(0f,Gravity);\n}\n\npublic static void main(String[] args) {\n    new Screen();\n}\n\nclass MainThread extends Thread\n{\n    public void run()\n    {\n        try{\n            sleep(2000);\n        } catch(InterruptedException e)\n        {\n            e.printStackTrace();\n        }\n        System.out.println(&quot;Starting&quot;);\n        while(running){\n            //System.out.println(&quot;cube: &quot; + cube.x + &quot;,&quot; + cube.y);\n            //System.out.println(&quot;cube2: &quot; + cube2.x + &quot;,&quot; + cube2.y);\n            cube.UpdateMethod();\n            Gravity();\n            repaint();\n        }\n    }\n}\n}\n\npublic class Cube extends JComponent {\nfloat x, y, sizex, sizey, shift;\n    \npublic Cube(int x, int y, int size, int shift) {\n        this.x = x;\n        this.y = y;\n        this.sizex = size;\n        this.sizey = size;\n        this.shift = shift;\n    }\n\npublic Cube(int x, int y, int sx, int sy, int shift) {\n    this.x = x;\n    this.y = y;\n    this.sizex = sx;\n    this.sizey = sy;\n    this.shift = shift;\n}\n\n\nVector2 Velocity = new Vector2(0,0);\n\npublic void AddVelocity(float a, float b)\n    {\n        Velocity.x += a;\n        Velocity.y += b;\n    }\n\npublic void MoveBy(Float x, float y)\n    {\n        this.x+=x;\n        this.y+=y;\n        \n        repaint();\n    }\n\npublic void UpdateMethod()\n{\n    MoveBy(Velocity.GetX(), Velocity.GetY());\n\n        \n}\n\nprotected void paintComponent(Graphics g) {\n        int nx = (int) x;\n        int ny = (int) y;\n\n        int nsx = (int) sizex;\n        int nsy = (int) sizey;\n        g.drawRect(nx, ny, nsx, nsy);\n    }\n\n\nBoolean CheckCollision(Cube other)\n{\n    if(x &lt; other.x + other.sizex &amp;&amp;\n    x + sizex &gt; other.x &amp;&amp;\n    y &lt; other.y + other.sizey &amp;&amp;\n    sizey + sizey &gt; other.y)\n    {\n        return true;\n    }\n    return false;\n}\n}\n\nclass Vector2\n{\npublic float x,y;\n\npublic Vector2(int a, int b)\n{\n    x=a;\n    y=b;\n}\n\npublic float GetX()\n{\n    return x;\n}\n\npublic float GetY()\n{\n    return y;\n}\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","spring-integration","spring-kafka"],"comments":[{"owner":{"account_id":3189466,"reputation":22172,"user_id":2694184,"accept_rate":48,"display_name":"Gibbs"},"score":0,"creation_date":1653453268,"post_id":72371306,"comment_id":127853335,"body_markdown":"Are listeners running into rebalancing state due to slow processing?","body":"Are listeners running into rebalancing state due to slow processing?"},{"owner":{"account_id":3456997,"reputation":241,"user_id":2895277,"display_name":"Chad Showalter"},"score":0,"creation_date":1653483873,"post_id":72371306,"comment_id":127863212,"body_markdown":"@Gibbs Yes, in fact I confirmed that this is happening.  The logs show we had a rebalance immediately prior to a single thread processing messages from 2 different partitions.","body":"@Gibbs Yes, in fact I confirmed that this is happening.  The logs show we had a rebalance immediately prior to a single thread processing messages from 2 different partitions."},{"owner":{"account_id":3456997,"reputation":241,"user_id":2895277,"display_name":"Chad Showalter"},"score":0,"creation_date":1653484126,"post_id":72371306,"comment_id":127863333,"body_markdown":"The logs (part of rebalance, I believe) also suggest that a single consumer is assigned all three partitions: `2022-05-22 04:44:51.051  INFO 10 --- [ryAdapter-1-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-xxx-4, groupId=xxx] Finished assignment for group at generation 415: {xxx-4-9808b498-2a1a-4cd4-b103-995df3ab03af=Assignment(partitions=[myTopic-0, myTopic-1, myTopic-2])}`","body":"The logs (part of rebalance, I believe) also suggest that a single consumer is assigned all three partitions: <code>2022-05-22 04:44:51.051  INFO 10 --- [ryAdapter-1-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-xxx-4, groupId=xxx] Finished assignment for group at generation 415: {xxx-4-9808b498-2a1a-4cd4-b103-995df3ab03af=Assignment(parti&zwnj;&#8203;tions=[myTopic-0, myTopic-1, myTopic-2])}</code>"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1653487459,"post_id":72371306,"comment_id":127864834,"body_markdown":"Consider to increase `max.poll.interval.ms` to avoid rebalance: https://docs.confluent.io/platform/current/installation/configuration/consumer-configs.html#consumerconfigs_max.poll.interval.ms. The `concurrency = 3` means not only 3 threads, but also 3 independent `KafkaConsumer` instances in the same group. So, as long as one of them cannot keep up with the  `max.poll.interval.ms`, the rebalance starts.","body":"Consider to increase <code>max.poll.interval.ms</code> to avoid rebalance: <a href=\"https://docs.confluent.io/platform/current/installation/configuration/consumer-configs.html#consumerconfigs_max.poll.interval.ms\" rel=\"nofollow noreferrer\">docs.confluent.io/platform/current/installation/configuratio&zwnj;&#8203;n/&hellip;</a>. The <code>concurrency = 3</code> means not only 3 threads, but also 3 independent <code>KafkaConsumer</code> instances in the same group. So, as long as one of them cannot keep up with the  <code>max.poll.interval.ms</code>, the rebalance starts."},{"owner":{"account_id":3456997,"reputation":241,"user_id":2895277,"display_name":"Chad Showalter"},"score":0,"creation_date":1653490448,"post_id":72371306,"comment_id":127866221,"body_markdown":"@ArtemBilan Thanks for the suggestion.  I can increase `max.poll.interval.ms`.   I assume that unless a rebalance occurs, each container thread will use a single kafka consumer that will read from a single partition (assuming concurrency = partition count).  But is there additionally a way that I can keep from ever getting a batch with messages from multiple partitions, even if a rebalance does occur?","body":"@ArtemBilan Thanks for the suggestion.  I can increase <code>max.poll.interval.ms</code>.   I assume that unless a rebalance occurs, each container thread will use a single kafka consumer that will read from a single partition (assuming concurrency = partition count).  But is there additionally a way that I can keep from ever getting a batch with messages from multiple partitions, even if a rebalance does occur?"}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653490771,"creation_date":1653490771,"answer_id":72379985,"question_id":72371306,"body_markdown":"&gt;  But is there additionally a way that I can keep from ever getting a batch with messages from multiple partitions, even if a rebalance does occur?\r\n\r\nThat&#39;s not how consumer group works. If you would like to have a &quot;sticky&quot; consumers, then consider to use a manual assignment. See the channel adapter factory based on the `TopicPartitionOffset... topicPartitions`:\r\n\r\n\t/**\r\n\t * Create an initial\r\n\t * {@link KafkaMessageDrivenChannelAdapterSpec.KafkaMessageDrivenChannelAdapterListenerContainerSpec}.\r\n\t * @param consumerFactory the {@link ConsumerFactory}.\r\n\t * @param listenerMode the {@link KafkaMessageDrivenChannelAdapter.ListenerMode}.\r\n\t * @param topicPartitions the {@link TopicPartitionOffset} vararg.\r\n\t * @param &lt;K&gt; the Kafka message key type.\r\n\t * @param &lt;V&gt; the Kafka message value type.\r\n\t * @return the KafkaMessageDrivenChannelAdapterSpec.KafkaMessageDrivenChannelAdapterListenerContainerSpec.\r\n\t */\r\n\tpublic static &lt;K, V&gt;\r\n\tKafkaMessageDrivenChannelAdapterSpec.KafkaMessageDrivenChannelAdapterListenerContainerSpec&lt;K, V&gt; messageDrivenChannelAdapter(\r\n\t\t\tConsumerFactory&lt;K, V&gt; consumerFactory,\r\n\t\t\tKafkaMessageDrivenChannelAdapter.ListenerMode listenerMode,\r\n\t\t\tTopicPartitionOffset... topicPartitions) {\r\n\r\nThen it is not going to be treated as consumer group and you have to create several channel adapters pointing each to its specific partition. All of this channel adapters may emit messages to the same `MessageChannel`.","title":"spring integration kafka listener thread reads multiple partitions when concurrency = partition count","body":"<blockquote>\n<p>But is there additionally a way that I can keep from ever getting a batch with messages from multiple partitions, even if a rebalance does occur?</p>\n</blockquote>\n<p>That's not how consumer group works. If you would like to have a &quot;sticky&quot; consumers, then consider to use a manual assignment. See the channel adapter factory based on the <code>TopicPartitionOffset... topicPartitions</code>:</p>\n<pre><code>/**\n * Create an initial\n * {@link KafkaMessageDrivenChannelAdapterSpec.KafkaMessageDrivenChannelAdapterListenerContainerSpec}.\n * @param consumerFactory the {@link ConsumerFactory}.\n * @param listenerMode the {@link KafkaMessageDrivenChannelAdapter.ListenerMode}.\n * @param topicPartitions the {@link TopicPartitionOffset} vararg.\n * @param &lt;K&gt; the Kafka message key type.\n * @param &lt;V&gt; the Kafka message value type.\n * @return the KafkaMessageDrivenChannelAdapterSpec.KafkaMessageDrivenChannelAdapterListenerContainerSpec.\n */\npublic static &lt;K, V&gt;\nKafkaMessageDrivenChannelAdapterSpec.KafkaMessageDrivenChannelAdapterListenerContainerSpec&lt;K, V&gt; messageDrivenChannelAdapter(\n        ConsumerFactory&lt;K, V&gt; consumerFactory,\n        KafkaMessageDrivenChannelAdapter.ListenerMode listenerMode,\n        TopicPartitionOffset... topicPartitions) {\n</code></pre>\n<p>Then it is not going to be treated as consumer group and you have to create several channel adapters pointing each to its specific partition. All of this channel adapters may emit messages to the same <code>MessageChannel</code>.</p>\n"}],"owner":{"account_id":3456997,"reputation":241,"user_id":2895277,"display_name":"Chad Showalter"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":769,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72379985,"answer_count":1,"score":2,"last_activity_date":1653490771,"creation_date":1653444823,"question_id":72371306,"body_markdown":"I set up a Spring Integration flow to process a topic having 3 partitions and set the listener container&#39;s concurrency to 3.  As expected, I see three threads processing batches from all 3 partitions.  However, I see that in some cases, one of the listener threads may process a single batch containing messages from multiple partitions.  My data is partitioned in kafka by an id so that it may be processed concurrently with other ids, but not with the same ids on another thread (which is what I was surprised to observe is happening). I thought from reading the docs that each thread would be assigned a partition.  I&#39;m using a KafkaMessageDrivenChannelAdapter like this:\r\n```\r\nprivate static final Class&lt;List&lt;MyEvent&gt;&gt; payloadClass = (Class&lt;List&lt;MyEvent&gt;&gt;)(Class) List.class;\r\n\r\npublic KafkaMessageDrivenChannelAdapterSpec.KafkaMessageDrivenChannelAdapterListenerContainerSpec&lt;String, MyEvent&gt; myChannelAdapterSpec() {\r\n        return Kafka.messageDrivenChannelAdapter(tstatEventConsumerFactory(),\r\n                KafkaMessageDrivenChannelAdapter.ListenerMode.batch, &quot;my-topic&quot;) //3 partitions\r\n                .configureListenerContainer(c -&gt; {\r\n                    c.ackMode(ContainerProperties.AckMode.BATCH);\r\n                    c.id(_ID);\r\n                    c.concurrency(3);\r\n                    RecoveringBatchErrorHandler errorHandler = new RecoveringBatchErrorHandler(\r\n                            (record, exception) -&gt; log.error(&quot;failed to handle record at offset {}: {}&quot;,\r\n                                    record.offset(), record.value(), exception),\r\n                            new FixedBackOff(FixedBackOff.DEFAULT_INTERVAL, 2)\r\n                    );\r\n                    c.errorHandler(errorHandler);\r\n                });\r\n    }\r\n@Bean\r\npublic IntegrationFlow myIntegrationFlow() {\r\n        return IntegrationFlows.from(myChannelAdapterSpec())\r\n                .handle(payloadClass, (payload, headers) -&gt; {\r\n                    service.performSink(payload);\r\n                    return null;\r\n                })\r\n                .get();\r\n    }\r\n```\r\nHow do I set this up so that each listener container thread only processes messages from one partition?","title":"spring integration kafka listener thread reads multiple partitions when concurrency = partition count","body":"<p>I set up a Spring Integration flow to process a topic having 3 partitions and set the listener container's concurrency to 3.  As expected, I see three threads processing batches from all 3 partitions.  However, I see that in some cases, one of the listener threads may process a single batch containing messages from multiple partitions.  My data is partitioned in kafka by an id so that it may be processed concurrently with other ids, but not with the same ids on another thread (which is what I was surprised to observe is happening). I thought from reading the docs that each thread would be assigned a partition.  I'm using a KafkaMessageDrivenChannelAdapter like this:</p>\n<pre><code>private static final Class&lt;List&lt;MyEvent&gt;&gt; payloadClass = (Class&lt;List&lt;MyEvent&gt;&gt;)(Class) List.class;\n\npublic KafkaMessageDrivenChannelAdapterSpec.KafkaMessageDrivenChannelAdapterListenerContainerSpec&lt;String, MyEvent&gt; myChannelAdapterSpec() {\n        return Kafka.messageDrivenChannelAdapter(tstatEventConsumerFactory(),\n                KafkaMessageDrivenChannelAdapter.ListenerMode.batch, &quot;my-topic&quot;) //3 partitions\n                .configureListenerContainer(c -&gt; {\n                    c.ackMode(ContainerProperties.AckMode.BATCH);\n                    c.id(_ID);\n                    c.concurrency(3);\n                    RecoveringBatchErrorHandler errorHandler = new RecoveringBatchErrorHandler(\n                            (record, exception) -&gt; log.error(&quot;failed to handle record at offset {}: {}&quot;,\n                                    record.offset(), record.value(), exception),\n                            new FixedBackOff(FixedBackOff.DEFAULT_INTERVAL, 2)\n                    );\n                    c.errorHandler(errorHandler);\n                });\n    }\n@Bean\npublic IntegrationFlow myIntegrationFlow() {\n        return IntegrationFlows.from(myChannelAdapterSpec())\n                .handle(payloadClass, (payload, headers) -&gt; {\n                    service.performSink(payload);\n                    return null;\n                })\n                .get();\n    }\n</code></pre>\n<p>How do I set this up so that each listener container thread only processes messages from one partition?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1653490043,"post_id":72379709,"comment_id":127866016,"body_markdown":"but prefer the [answer](https://stackoverflow.com/a/20821770/16320675) to that question, using the newer `java.time.LocalDate`","body":"but prefer the <a href=\"https://stackoverflow.com/a/20821770/16320675\">answer</a> to that question, using the newer <code>java.time.LocalDate</code>"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653490747,"creation_date":1653490198,"answer_id":72379859,"question_id":72379709,"body_markdown":"Use [DateTimeFormatter](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html) and [LocalDate](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html)\r\n```\r\nString date = &quot;Apr 29, 2022&quot;;\r\nDateTimeFormatter fromFormat = DateTimeFormatter.ofPattern(&quot;MMM dd, yyyy&quot;)\r\n         .withLocale(Locale.US);\r\nDateTimeFormatter toFormat = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;);\r\nLocalDate localDate = LocalDate.parse(date,fromFormat);\r\nSystem.out.println(localDate.format(toFormat));\r\n```\r\nprints\r\n```\r\n04/29/2022\r\n```\r\nFor other useful date/time processing classes check out the [java.time](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/package-summary.html) package.","title":"Date format convertion form Month dd, yyyy to mm/dd/yyyy in java","body":"<p>Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter</a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">LocalDate</a></p>\n<pre><code>String date = &quot;Apr 29, 2022&quot;;\nDateTimeFormatter fromFormat = DateTimeFormatter.ofPattern(&quot;MMM dd, yyyy&quot;)\n         .withLocale(Locale.US);\nDateTimeFormatter toFormat = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;);\nLocalDate localDate = LocalDate.parse(date,fromFormat);\nSystem.out.println(localDate.format(toFormat));\n</code></pre>\n<p>prints</p>\n<pre><code>04/29/2022\n</code></pre>\n<p>For other useful date/time processing classes check out the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> package.</p>\n"}],"owner":{"account_id":19152902,"reputation":11,"user_id":13990406,"display_name":"Sanjay Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1653490533,"answer_count":1,"score":0,"last_activity_date":1653490747,"creation_date":1653489681,"question_id":72379709,"body_markdown":"How do i convert the below date:\r\n\r\nApr 29, 2022 to 04/29/20222\r\n\r\nSo basically my input date  in format Mon dd, yyyy should be converted to mm/dd/yyyy","title":"Date format convertion form Month dd, yyyy to mm/dd/yyyy in java","body":"<p>How do i convert the below date:</p>\n<p>Apr 29, 2022 to 04/29/20222</p>\n<p>So basically my input date  in format Mon dd, yyyy should be converted to mm/dd/yyyy</p>\n"},{"tags":["java","multithreading","java-threads"],"comments":[{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1653410505,"post_id":72366072,"comment_id":127844081,"body_markdown":"Try putting the `Thread.sleep(1000);` somewhere before `o.notify();`.","body":"Try putting the <code>Thread.sleep(1000);</code> somewhere before <code>o.notify();</code>."},{"owner":{"account_id":5945905,"reputation":95,"user_id":4675415,"display_name":"Евгений Рябов"},"score":0,"creation_date":1653471766,"post_id":72366072,"comment_id":127858639,"body_markdown":"Yes I&#39;ve already tried that. And it&#39;s working fine, but I don&#39;t understand why. Because one of the waiting threads receiving the notification from main even without it","body":"Yes I&#39;ve already tried that. And it&#39;s working fine, but I don&#39;t understand why. Because one of the waiting threads receiving the notification from main even without it"},{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1653477160,"post_id":72366072,"comment_id":127860526,"body_markdown":"In their current form, the threads notify each other very fast, and there&#39;s a chance that the last thread is not running when all the other threads have completed, so the `o.notify();` doesn&#39;t notify anyone. Then the last thread `o.wait()`s, and nothing happens (`notify()`s are instantenous, they&#39;re not &quot;buffered&quot; for future use if they don&#39;t find anyone to wake up). When you `sleep()` prior to `o.notify()`, you give chance to all the threads to reach the waiting phase. Creating new threads is somewhat slow, that&#39;s why the threads can take over.","body":"In their current form, the threads notify each other very fast, and there&#39;s a chance that the last thread is not running when all the other threads have completed, so the <code>o.notify();</code> doesn&#39;t notify anyone. Then the last thread <code>o.wait()</code>s, and nothing happens (<code>notify()</code>s are instantenous, they&#39;re not &quot;buffered&quot; for future use if they don&#39;t find anyone to wake up). When you <code>sleep()</code> prior to <code>o.notify()</code>, you give chance to all the threads to reach the waiting phase. Creating new threads is somewhat slow, that&#39;s why the threads can take over."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1653483298,"post_id":72366072,"comment_id":127862954,"body_markdown":"That’s not how `wait` and `notify` are supposed to be used. You need to define some sort of *condition* you’re waiting for. Then, within the `synchronized` block, check the condition first, to only wait when not fulfilled, and test and wait in a loop. That’s the only way to deal with a) the fact that the condition might be fulfilled already and b) *spurious wakeups*, which are allowed by the specification. Read [the documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#:~:text=The%20recommended%20approach,spurious%20wakeups)","body":"That’s not how <code>wait</code> and <code>notify</code> are supposed to be used. You need to define some sort of <i>condition</i> you’re waiting for. Then, within the <code>synchronized</code> block, check the condition first, to only wait when not fulfilled, and test and wait in a loop. That’s the only way to deal with a) the fact that the condition might be fulfilled already and b) <i>spurious wakeups</i>, which are allowed by the specification. Read <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#:~:text=The%20recommended%20approach,spurious%20wakeups\" rel=\"nofollow noreferrer\">the documentation</a>"}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653486989,"creation_date":1653409793,"answer_id":72366395,"question_id":72366072,"body_markdown":"The problem is in calling notify when no other thread is waiting. Semaphores and job queues highlight what you are missing\r\n\r\nSemaphore\r\n\r\n    public class Semaphore {\r\n      private int tickets;\r\n      public Semaphore (int tickets) {\r\n        this.tickets = ticket;\r\n      }\r\n    \r\n      public synchronized void getTicket() {\r\n        if (tickets &gt; 0) {\r\n          tickets--;\r\n        } else {\r\n          while (tickets == 0) {\r\n            wait();\r\n          }\r\n          tickets--;\r\n        }\r\n      }\r\n    \r\n      public synchronized void releaseTicket() {\r\n        tickets++;\r\n        notify();\r\n      }\r\n    }\r\n\r\nA job queue works similarly, but instead of tickets, it has a queue of `Runnables`. When a thread calls getJob, if there&#39;s a job on the queue, it dequeues the job and hands it to the thread. Otherwise, the thread waits for a job.","title":"Java wait() notify() methods last thread waiting forever","body":"<p>The problem is in calling notify when no other thread is waiting. Semaphores and job queues highlight what you are missing</p>\n<p>Semaphore</p>\n<pre><code>public class Semaphore {\n  private int tickets;\n  public Semaphore (int tickets) {\n    this.tickets = ticket;\n  }\n\n  public synchronized void getTicket() {\n    if (tickets &gt; 0) {\n      tickets--;\n    } else {\n      while (tickets == 0) {\n        wait();\n      }\n      tickets--;\n    }\n  }\n\n  public synchronized void releaseTicket() {\n    tickets++;\n    notify();\n  }\n}\n</code></pre>\n<p>A job queue works similarly, but instead of tickets, it has a queue of <code>Runnables</code>. When a thread calls getJob, if there's a job on the queue, it dequeues the job and hands it to the thread. Otherwise, the thread waits for a job.</p>\n"},{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653490696,"creation_date":1653474289,"answer_id":72375879,"question_id":72366072,"body_markdown":"You&#39;re noticing the distinction between a thread waiting to enter a synchonized block ( BLOCKED ) and a thread blocked on a wait() call ( WAITING.)\r\n\r\nYou have a race condition in your loop.You create your threads and start them. Most of them will make it to the synchronized block. Each of those threads gets to a synchronize block, grabs the lock, and releases it on the wait.\r\n\r\nThe last thread doesn&#39;t have time to run to the synchonized block before your main thread enters the synchronized block. Once your main has acquired the lock on your object, notifies a Thread waiting on the lock. That thread wakes up and acquires the lock, without letting the last thread into the synchronized block.\r\n\r\nThe first five threads finish and notify, and one thread notifies nobody. Then the last thread has a chance to enter the synchronized block and call wait, but it will never get notified.\r\n\r\nThat is why the Thread.sleep helps, because your last thread will have time to reach the synchronized block and wait.","title":"Java wait() notify() methods last thread waiting forever","body":"<p>You're noticing the distinction between a thread waiting to enter a synchonized block ( BLOCKED ) and a thread blocked on a wait() call ( WAITING.)</p>\n<p>You have a race condition in your loop.You create your threads and start them. Most of them will make it to the synchronized block. Each of those threads gets to a synchronize block, grabs the lock, and releases it on the wait.</p>\n<p>The last thread doesn't have time to run to the synchonized block before your main thread enters the synchronized block. Once your main has acquired the lock on your object, notifies a Thread waiting on the lock. That thread wakes up and acquires the lock, without letting the last thread into the synchronized block.</p>\n<p>The first five threads finish and notify, and one thread notifies nobody. Then the last thread has a chance to enter the synchronized block and call wait, but it will never get notified.</p>\n<p>That is why the Thread.sleep helps, because your last thread will have time to reach the synchronized block and wait.</p>\n"}],"owner":{"account_id":5945905,"reputation":95,"user_id":4675415,"display_name":"Евгений Рябов"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72375879,"answer_count":2,"score":1,"last_activity_date":1653490696,"creation_date":1653408315,"question_id":72366072,"body_markdown":"I were playing with Java synchronization mechanism and faced the situation I can not explain.\r\n\r\nIn the code sample below I have a simple application which is spawning some threads, which are waiting a signal from an object and notify each other once they have been notified:\r\n\r\n```java\r\npublic class Main {\r\n    public static final Object o = new Object();\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        for (int i = 0; i &lt; 6; ++i) {\r\n            new Thread(() -&gt; {\r\n                try {\r\n                    synchronized (o) {\r\n                        o.wait();\r\n                        System.out.println(&quot;Some work&quot;);\r\n                        o.notify();\r\n                    }\r\n                    Thread.sleep(1000);\r\n                } catch (InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n                System.out.println(Thread.currentThread().getName() + &quot; notified someone&quot;);\r\n            }).start();\r\n        }\r\n        synchronized (o) {\r\n            o.notify();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd most of the times application&#39;s last created thread is hanging:\r\nThe response is:\r\n\r\n```\r\nSome work\r\nSome work\r\nSome work\r\nSome work\r\nSome work\r\nThread-3 notified someone\r\nThread-4 notified someone\r\nThread-0 notified someone\r\nThread-2 notified someone\r\nThread-1 notified someone\r\n```\r\n\r\nAfter applying trial and error technique I found out that if I put a pause `Thread.sleep(100);` between loop and notification in main thread app starts working fine.\r\n\r\nAfter investigation I found out that threads state right after notification sent from main method is:\r\n```\r\nmain &quot;Thread-0&quot; prio=5 Id=13 RUNNABLE\r\nmain &quot;Thread-1&quot; prio=5 Id=14 WAITING on java.lang.Object@2133c8f8 owned by &quot;Thread-0&quot; Id=13\r\nmain &quot;Thread-2&quot; prio=5 Id=15 WAITING on java.lang.Object@2133c8f8 owned by &quot;Thread-0&quot; Id=13\r\nmain &quot;Thread-3&quot; prio=5 Id=16 WAITING on java.lang.Object@2133c8f8 owned by &quot;Thread-0&quot; Id=13\r\nmain &quot;Thread-4&quot; prio=5 Id=17 WAITING on java.lang.Object@2133c8f8 owned by &quot;Thread-0&quot; Id=13\r\nmain &quot;Thread-5&quot; prio=5 Id=18 BLOCKED on java.lang.Object@2133c8f8 owned by &quot;Thread-0&quot; Id=13\r\n```\r\nAnd right before the last notification is sent the state is:\r\n```\r\nThread-4 &quot;Thread-4&quot; prio=5 Id=17 RUNNABLE\r\nThread-4 &quot;Thread-5&quot; prio=5 Id=18 BLOCKED on java.lang.Object@2133c8f8 owned by &quot;Thread-4&quot; Id=17\r\n\r\n// Final state\r\n\r\n&quot;Thread-5&quot; prio=5 Id=18 WAITING on java.lang.Object@2133c8f8\r\n```\r\n\r\nSo that is obvious that the last thread has been blocked from the beginning of the app and unable to receive the notification from the penultimate thread, finally reached critical section code and staying on wait line awaiting for the notification.\r\n\r\nProbably it&#39;s blocked initially because of there&#39;s a clash with main method when they both trying to get the o lock.\r\n\r\nIt would be nice if someone who much better knows this multithreading stuff give some explanations or just some hints of this behavior to me.","title":"Java wait() notify() methods last thread waiting forever","body":"<p>I were playing with Java synchronization mechanism and faced the situation I can not explain.</p>\n<p>In the code sample below I have a simple application which is spawning some threads, which are waiting a signal from an object and notify each other once they have been notified:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static final Object o = new Object();\n\n    public static void main(String[] args) throws InterruptedException {\n        for (int i = 0; i &lt; 6; ++i) {\n            new Thread(() -&gt; {\n                try {\n                    synchronized (o) {\n                        o.wait();\n                        System.out.println(&quot;Some work&quot;);\n                        o.notify();\n                    }\n                    Thread.sleep(1000);\n                } catch (InterruptedException e) {\n                    throw new RuntimeException(e);\n                }\n                System.out.println(Thread.currentThread().getName() + &quot; notified someone&quot;);\n            }).start();\n        }\n        synchronized (o) {\n            o.notify();\n        }\n    }\n}\n</code></pre>\n<p>And most of the times application's last created thread is hanging:\nThe response is:</p>\n<pre><code>Some work\nSome work\nSome work\nSome work\nSome work\nThread-3 notified someone\nThread-4 notified someone\nThread-0 notified someone\nThread-2 notified someone\nThread-1 notified someone\n</code></pre>\n<p>After applying trial and error technique I found out that if I put a pause <code>Thread.sleep(100);</code> between loop and notification in main thread app starts working fine.</p>\n<p>After investigation I found out that threads state right after notification sent from main method is:</p>\n<pre><code>main &quot;Thread-0&quot; prio=5 Id=13 RUNNABLE\nmain &quot;Thread-1&quot; prio=5 Id=14 WAITING on java.lang.Object@2133c8f8 owned by &quot;Thread-0&quot; Id=13\nmain &quot;Thread-2&quot; prio=5 Id=15 WAITING on java.lang.Object@2133c8f8 owned by &quot;Thread-0&quot; Id=13\nmain &quot;Thread-3&quot; prio=5 Id=16 WAITING on java.lang.Object@2133c8f8 owned by &quot;Thread-0&quot; Id=13\nmain &quot;Thread-4&quot; prio=5 Id=17 WAITING on java.lang.Object@2133c8f8 owned by &quot;Thread-0&quot; Id=13\nmain &quot;Thread-5&quot; prio=5 Id=18 BLOCKED on java.lang.Object@2133c8f8 owned by &quot;Thread-0&quot; Id=13\n</code></pre>\n<p>And right before the last notification is sent the state is:</p>\n<pre><code>Thread-4 &quot;Thread-4&quot; prio=5 Id=17 RUNNABLE\nThread-4 &quot;Thread-5&quot; prio=5 Id=18 BLOCKED on java.lang.Object@2133c8f8 owned by &quot;Thread-4&quot; Id=17\n\n// Final state\n\n&quot;Thread-5&quot; prio=5 Id=18 WAITING on java.lang.Object@2133c8f8\n</code></pre>\n<p>So that is obvious that the last thread has been blocked from the beginning of the app and unable to receive the notification from the penultimate thread, finally reached critical section code and staying on wait line awaiting for the notification.</p>\n<p>Probably it's blocked initially because of there's a clash with main method when they both trying to get the o lock.</p>\n<p>It would be nice if someone who much better knows this multithreading stuff give some explanations or just some hints of this behavior to me.</p>\n"},{"tags":["java","decorator","java-io"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1509239765,"post_id":46994892,"comment_id":80938501,"body_markdown":"The case is correct; you could add `&lt;&lt;decorator&gt;&gt;` to BufferedReader. Personally I would not really call this an example of a decorator pattern. What argues pro: BufferedReader wraps an other Reader. And even though it is not an interface, it has LineNumberReader to make a similar diagram. You could argue that delegating to the the same interface as constructor parameter _&quot;decorates&quot;_.","body":"The case is correct; you could add <code>&lt;&lt;decorator&gt;&gt;</code> to BufferedReader. Personally I would not really call this an example of a decorator pattern. What argues pro: BufferedReader wraps an other Reader. And even though it is not an interface, it has LineNumberReader to make a similar diagram. You could argue that delegating to the the same interface as constructor parameter <i>&quot;decorates&quot;</i>."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1509240203,"post_id":46994892,"comment_id":80938554,"body_markdown":"Adding LineNumberReader is a bit farfetched, just to have a similar diagram.","body":"Adding LineNumberReader is a bit farfetched, just to have a similar diagram."}],"answers":[{"tags":[],"owner":{"account_id":1441892,"reputation":13687,"user_id":1361787,"accept_rate":68,"display_name":"ChiefTwoPencils"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1509235770,"creation_date":1509235770,"answer_id":46995699,"question_id":46994892,"body_markdown":"The diagram is correct. If you have access to Intellij (or other capable tool) you can see the UML class diagram for Java types. The below snippet is one such diagram.\r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EvyHB.png\r\n\r\nAs you can see, it agrees with yours. One thing I would consider though is `BufferedReader` a *concrete decorator* since it provides additional behavior on `Reader`. ","title":"Decorator pattern java.io.reader","body":"<p>The diagram is correct. If you have access to Intellij (or other capable tool) you can see the UML class diagram for Java types. The below snippet is one such diagram.</p>\n\n<p><a href=\"https://i.stack.imgur.com/EvyHB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EvyHB.png\" alt=\"enter image description here\"></a> </p>\n\n<p>As you can see, it agrees with yours. One thing I would consider though is <code>BufferedReader</code> a <em>concrete decorator</em> since it provides additional behavior on <code>Reader</code>. </p>\n"}],"owner":{"account_id":7518954,"reputation":530,"user_id":5711524,"accept_rate":84,"display_name":"Mees Kluivers"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2482,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":46995699,"answer_count":1,"score":3,"last_activity_date":1653490662,"creation_date":1509227887,"question_id":46994892,"body_markdown":"For a school report I have to explain how the java.io.Reader package implements the [Decorator pattern][1]. I have seen multiple explanations for the java.io package ([here][2] for example) but not for the java.io.Reader package (if that&#39;s even any different). Here is what I have now, I know this design doesn&#39;t show it correctly, but I am not sure how the java.io.Reader package actually does implement it.\r\n\r\n[![decorator java.io.Reader][3]][3]\r\n\r\nSo in this case the `Reader` would be the `Component`, the `InputStreamReader` the `Concrete Component`, the `BufferedReader` the `Decorator` and the `LineNumberReader` the `Concrete Decorator`. Again, I know this is wrong but I don&#39;t know how to correctly display it.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Decorator_pattern\r\n  [2]: https://stackoverflow.com/questions/6366385/decorator-pattern-for-io\r\n  [3]: https://i.stack.imgur.com/MvWeI.png","title":"Decorator pattern java.io.reader","body":"<p>For a school report I have to explain how the java.io.Reader package implements the <a href=\"https://en.wikipedia.org/wiki/Decorator_pattern\" rel=\"nofollow noreferrer\">Decorator pattern</a>. I have seen multiple explanations for the java.io package (<a href=\"https://stackoverflow.com/questions/6366385/decorator-pattern-for-io\">here</a> for example) but not for the java.io.Reader package (if that's even any different). Here is what I have now, I know this design doesn't show it correctly, but I am not sure how the java.io.Reader package actually does implement it.</p>\n\n<p><a href=\"https://i.stack.imgur.com/MvWeI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MvWeI.png\" alt=\"decorator java.io.Reader\"></a></p>\n\n<p>So in this case the <code>Reader</code> would be the <code>Component</code>, the <code>InputStreamReader</code> the <code>Concrete Component</code>, the <code>BufferedReader</code> the <code>Decorator</code> and the <code>LineNumberReader</code> the <code>Concrete Decorator</code>. Again, I know this is wrong but I don't know how to correctly display it.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1653490530,"post_id":72379874,"comment_id":127866275,"body_markdown":"Which ones are lines 14 and 18?","body":"Which ones are lines 14 and 18?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1653490534,"post_id":72379874,"comment_id":127866279,"body_markdown":"&quot;Duplicate parameter `block`&quot; tells you that you named two different variables with the same name, `block`. Look at the method signature for the second `register`: this is something you cannot do. The other error (line &quot;14&quot;) is because of the imbalanced parenthesis on your `EXAMPLE_BLOCK` value.","body":"&quot;Duplicate parameter <code>block</code>&quot; tells you that you named two different variables with the same name, <code>block</code>. Look at the method signature for the second <code>register</code>: this is something you cannot do. The other error (line &quot;14&quot;) is because of the imbalanced parenthesis on your <code>EXAMPLE_BLOCK</code> value."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1653490577,"post_id":72379874,"comment_id":127866303,"body_markdown":"Also, please read [ask]. Especially the section about titles.","body":"Also, please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. Especially the section about titles."},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1653490581,"post_id":72379874,"comment_id":127866306,"body_markdown":"Line 14 appears to be an `import` statement.","body":"Line 14 appears to be an <code>import</code> statement."},{"owner":{"account_id":25387737,"reputation":1,"user_id":19199278,"display_name":"schnoel"},"score":0,"creation_date":1653490868,"post_id":72379874,"comment_id":127866456,"body_markdown":"line 14: object -&gt; () -&gt; new Item(new Item.Properties().tab(testmod.T_TAB)));","body":"line 14: object -&gt; () -&gt; new Item(new Item.Properties().tab(testmod.T_TAB)));"},{"owner":{"account_id":25387737,"reputation":1,"user_id":19199278,"display_name":"schnoel"},"score":0,"creation_date":1653490889,"post_id":72379874,"comment_id":127866467,"body_markdown":"lines 18 &amp; 19: private static &lt;T extends Block&gt; RegistryObject&lt;T&gt; register(final String name, final Supplier&lt;? extends T&gt; block, Function&lt;RegistryObject&lt;T&gt;&gt; block) {\n            RegistryObject&lt;T&gt; obj = registerBlock(name, block);","body":"lines 18 &amp; 19: private static &lt;T extends Block&gt; RegistryObject&lt;T&gt; register(final String name, final Supplier&lt;? extends T&gt; block, Function&lt;RegistryObject&lt;T&gt;&gt; block) {             RegistryObject&lt;T&gt; obj = registerBlock(name, block);"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1653490936,"post_id":72379874,"comment_id":127866481,"body_markdown":"You&#39;re missing a closing parenthesis here: `() -&gt; new Block(BlockBehaviour.Properties.of(Material.METAL, MaterialColor.COLOR_GREEN),`. That throws off the parsing and causes all the other errors.","body":"You&#39;re missing a closing parenthesis here: <code>() -&gt; new Block(BlockBehaviour.Properties.of(Material.METAL, MaterialColor.COLOR_GREEN),</code>. That throws off the parsing and causes all the other errors."},{"owner":{"account_id":25387737,"reputation":1,"user_id":19199278,"display_name":"schnoel"},"score":0,"creation_date":1653491184,"post_id":72379874,"comment_id":127866591,"body_markdown":"where exactly i cant find it","body":"where exactly i cant find it"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1653491333,"post_id":72379874,"comment_id":127866655,"body_markdown":"If you&#39;re using an IDE and click on a parenthesis, it will typically highlight the matching (open or closed) parenthesis for it. Notice that the last parenthesis in your whole `EXAMPLE_BLOCK` value matches up with the `(` after `new Block` (So then `register(...` has no closing parenthesis). Additionally, a `Function&lt;T,R&gt;` has two generic values, you haven&#39;t specified the input type (and if it has none, then it is a `Supplier&lt;T&gt;`. If it doesn&#39;t return anything, it would be a `Consumer&lt;T&gt;`, where `T` is the type you are working with).","body":"If you&#39;re using an IDE and click on a parenthesis, it will typically highlight the matching (open or closed) parenthesis for it. Notice that the last parenthesis in your whole <code>EXAMPLE_BLOCK</code> value matches up with the <code>(</code> after <code>new Block</code> (So then <code>register(...</code> has no closing parenthesis). Additionally, a <code>Function&lt;T,R&gt;</code> has two generic values, you haven&#39;t specified the input type (and if it has none, then it is a <code>Supplier&lt;T&gt;</code>. If it doesn&#39;t return anything, it would be a <code>Consumer&lt;T&gt;</code>, where <code>T</code> is the type you are working with)."},{"owner":{"account_id":25387737,"reputation":1,"user_id":19199278,"display_name":"schnoel"},"score":0,"creation_date":1653491669,"post_id":72379874,"comment_id":127866789,"body_markdown":"i have added the bracket. now it says: The constructor Block(BlockBehaviour.Properties, (&lt;no type&gt; object) -&gt; {}) is undefined","body":"i have added the bracket. now it says: The constructor Block(BlockBehaviour.Properties, (&lt;no type&gt; object) -&gt; {}) is undefined"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1653491763,"post_id":72379874,"comment_id":127866827,"body_markdown":"You added it in the wrong place. Look at my comment and count the parentheses.","body":"You added it in the wrong place. Look at my comment and count the parentheses."},{"owner":{"account_id":25387737,"reputation":1,"user_id":19199278,"display_name":"schnoel"},"score":0,"creation_date":1653491830,"post_id":72379874,"comment_id":127866868,"body_markdown":"i have added it behind TestMod.T_TAB","body":"i have added it behind TestMod.T_TAB"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1653491883,"post_id":72379874,"comment_id":127866891,"body_markdown":"Well why did you add it there? It&#39;s not going to work if you put things in random places.","body":"Well why did you add it there? It&#39;s not going to work if you put things in random places."},{"owner":{"account_id":25387737,"reputation":1,"user_id":19199278,"display_name":"schnoel"},"score":0,"creation_date":1653491970,"post_id":72379874,"comment_id":127866923,"body_markdown":"im sorry im new to java and have no idea where to put that )","body":"im sorry im new to java and have no idea where to put that )"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1653492189,"post_id":72379874,"comment_id":127867019,"body_markdown":"Like I said, You&#39;re missing a parenthesis here `() -&gt; new Block(BlockBehaviour.Properties.of(Material.METAL, MaterialColor.COLOR_GREEN),` at the end. If you don&#39;t know Java, you&#39;re not going to be able to do any modding. You&#39;re going to be stumbling blindly.","body":"Like I said, You&#39;re missing a parenthesis here <code>() -&gt; new Block(BlockBehaviour.Properties.of(Material.METAL, MaterialColor.COLOR_GREEN),</code> at the end. If you don&#39;t know Java, you&#39;re not going to be able to do any modding. You&#39;re going to be stumbling blindly."},{"owner":{"account_id":25387737,"reputation":1,"user_id":19199278,"display_name":"schnoel"},"score":0,"creation_date":1653492913,"post_id":72379874,"comment_id":127867327,"body_markdown":"that doesnt make sense and messes it up even more","body":"that doesnt make sense and messes it up even more"}],"owner":{"account_id":25387737,"reputation":1,"user_id":19199278,"display_name":"schnoel"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653490626,"creation_date":1653490249,"question_id":72379874,"body_markdown":"    package com.schnoel.testmod.init;\r\n    \r\n    import java.util.function.Function;\r\n    \r\n    import com.google.common.base.Supplier;\r\n    import com.schnoel.testmod.TestMod;\r\n    \r\n    import net.minecraft.world.item.Item;\r\n    import net.minecraft.world.item.Item.Properties;\r\n    import net.minecraft.world.item.Items;\r\n    import net.minecraft.world.level.block.Block;\r\n    import net.minecraft.world.level.block.state.BlockBehaviour;\r\n    import net.minecraft.world.level.material.Material;\r\n    import net.minecraft.world.level.material.MaterialColor;\r\n    import net.minecraftforge.registries.DeferredRegister;\r\n    import net.minecraftforge.registries.ForgeRegistries;\r\n    import net.minecraftforge.registries.RegistryObject;\r\n    \r\n        public class BlockInit {\r\n    \t    public static final DeferredRegister &lt;Block&gt; BLOCKS = DeferredRegister.create(ForgeRegistries.BLOCKS, TestMod.MOD_ID);\r\n    \t\r\n    \t    public static final DeferredRegister &lt;Item&gt; ITEMS = ItemInit.ITEMS;\r\n    \t\r\n    \t    public static final RegistryObject&lt;Block&gt; EXAMPLE_BLOCK = register(&quot;example_block&quot;,\r\n    \t\t\t    () -&gt; new Block(BlockBehaviour.Properties.of(Material.METAL, MaterialColor.COLOR_GREEN),\r\n    \t\t\t    object -&gt; () -&gt; new Item(new Item.Properties().tab(testmod.T_TAB)));\t\t\r\n    \t\r\n    \t    private static&lt;T extends Block&gt; RegistryObject&lt;T&gt; register(final String name, final Supplier&lt;? extends T&gt; block){\r\n    \t\t    return BLOCKS.register(name, block);\r\n    \t    }\r\n    \t\r\n    \t    private static &lt;T extends Block&gt; RegistryObject&lt;T&gt; register(final String name, final Supplier&lt;? extends T&gt; block, Function&lt;RegistryObject&lt;T&gt;&gt; block) {\r\n    \t\t    RegistryObject&lt;T&gt; obj = registerBlock(name, block);\r\n    \t\t    return obj;\r\n    \t    }\r\n\r\n    }\r\n\t\r\n&lt;!-- --&gt;\r\n\t\r\n    line 14: Syntax error, insert &quot;)&quot; to complete ClassInstanceCreationExpression\r\n        \r\n    line 18: Incorrect number of arguments for type Function&lt;T,R&gt;; it cannot be parameterized with arguments &lt;RegistryObject&lt;T&gt;&gt;\r\n        \r\n    line 18: Duplicate parameter block (idk what im supposed to do here)\r\n    \r\n    line 19: T cannot be resolved to a type","title":"ive been following a tutorial on minecraft java edition modding but when i want wo do the Block registry it will give me random errors that i cant fix","body":"<pre><code>package com.schnoel.testmod.init;\n\nimport java.util.function.Function;\n\nimport com.google.common.base.Supplier;\nimport com.schnoel.testmod.TestMod;\n\nimport net.minecraft.world.item.Item;\nimport net.minecraft.world.item.Item.Properties;\nimport net.minecraft.world.item.Items;\nimport net.minecraft.world.level.block.Block;\nimport net.minecraft.world.level.block.state.BlockBehaviour;\nimport net.minecraft.world.level.material.Material;\nimport net.minecraft.world.level.material.MaterialColor;\nimport net.minecraftforge.registries.DeferredRegister;\nimport net.minecraftforge.registries.ForgeRegistries;\nimport net.minecraftforge.registries.RegistryObject;\n\n    public class BlockInit {\n        public static final DeferredRegister &lt;Block&gt; BLOCKS = DeferredRegister.create(ForgeRegistries.BLOCKS, TestMod.MOD_ID);\n    \n        public static final DeferredRegister &lt;Item&gt; ITEMS = ItemInit.ITEMS;\n    \n        public static final RegistryObject&lt;Block&gt; EXAMPLE_BLOCK = register(&quot;example_block&quot;,\n                () -&gt; new Block(BlockBehaviour.Properties.of(Material.METAL, MaterialColor.COLOR_GREEN),\n                object -&gt; () -&gt; new Item(new Item.Properties().tab(testmod.T_TAB)));        \n    \n        private static&lt;T extends Block&gt; RegistryObject&lt;T&gt; register(final String name, final Supplier&lt;? extends T&gt; block){\n            return BLOCKS.register(name, block);\n        }\n    \n        private static &lt;T extends Block&gt; RegistryObject&lt;T&gt; register(final String name, final Supplier&lt;? extends T&gt; block, Function&lt;RegistryObject&lt;T&gt;&gt; block) {\n            RegistryObject&lt;T&gt; obj = registerBlock(name, block);\n            return obj;\n        }\n\n}\n</code></pre>\n\n<pre><code>line 14: Syntax error, insert &quot;)&quot; to complete ClassInstanceCreationExpression\n    \nline 18: Incorrect number of arguments for type Function&lt;T,R&gt;; it cannot be parameterized with arguments &lt;RegistryObject&lt;T&gt;&gt;\n    \nline 18: Duplicate parameter block (idk what im supposed to do here)\n\nline 19: T cannot be resolved to a type\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":20981803,"reputation":322,"user_id":15416461,"display_name":"Bianca Balan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1622300056,"creation_date":1622300056,"answer_id":67752742,"question_id":67752188,"body_markdown":"&gt; I&#39;m not sure how to resolve your empty list but you can populate your\r\n&gt; adapter after you add the item in the list, instead of returning your\r\n&gt; list, like:\r\n\r\n    public void loadFromFirebase() {\r\n        ArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;();\r\n        db.collection(&quot;notite&quot;).whereEqualTo(&quot;User email&quot;, user.getEmail())\r\n                .get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                if(task.isSuccessful() &amp;&amp; !task.getResult().isEmpty()) {\r\n                    DocumentSnapshot documentSnapshot = task.getResult().getDocuments().get(0);\r\n                    String documentId = documentSnapshot.getId();\r\n                    db.collection(&quot;notite&quot;).document(documentId).get()\r\n                            .addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\r\n                                @Override\r\n                                public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                                    if(documentSnapshot.exists()) {\r\n                                        String notita = documentSnapshot.getString(&quot;Detalii&quot;);\r\n                                        arrayList.add(notita);\r\n                                        arrayAdapter = new ArrayAdapter&lt;&gt;(getContext(),android.R.layout.simple_list_item_1,\r\n                                                arrayList);\r\n                                        listView.setAdapter(arrayAdapter);\r\n                                    } else {\r\n                                        Toast.makeText(getContext(), &quot;Notes does not exist&quot;,\r\n                                                Toast.LENGTH_LONG).show();\r\n                                    }\r\n                                }\r\n                            }).addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            Toast.makeText(getContext(), &quot;Failure retrieving&quot;,\r\n                                    Toast.LENGTH_LONG).show();\r\n                            Log.d(&quot;Retrieve&quot;, e.toString());\r\n                        }\r\n                    });\r\n\r\n                } else {\r\n                    Toast.makeText(getContext(), &quot;Does not exist&quot;\r\n                            , Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n        });\r\n    }","title":"I want to load data from firestore cloud to listview in android studio using java","body":"<blockquote>\n<p>I'm not sure how to resolve your empty list but you can populate your\nadapter after you add the item in the list, instead of returning your\nlist, like:</p>\n</blockquote>\n<pre><code>public void loadFromFirebase() {\n    ArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;();\n    db.collection(&quot;notite&quot;).whereEqualTo(&quot;User email&quot;, user.getEmail())\n            .get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n            if(task.isSuccessful() &amp;&amp; !task.getResult().isEmpty()) {\n                DocumentSnapshot documentSnapshot = task.getResult().getDocuments().get(0);\n                String documentId = documentSnapshot.getId();\n                db.collection(&quot;notite&quot;).document(documentId).get()\n                        .addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\n                            @Override\n                            public void onSuccess(DocumentSnapshot documentSnapshot) {\n                                if(documentSnapshot.exists()) {\n                                    String notita = documentSnapshot.getString(&quot;Detalii&quot;);\n                                    arrayList.add(notita);\n                                    arrayAdapter = new ArrayAdapter&lt;&gt;(getContext(),android.R.layout.simple_list_item_1,\n                                            arrayList);\n                                    listView.setAdapter(arrayAdapter);\n                                } else {\n                                    Toast.makeText(getContext(), &quot;Notes does not exist&quot;,\n                                            Toast.LENGTH_LONG).show();\n                                }\n                            }\n                        }).addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        Toast.makeText(getContext(), &quot;Failure retrieving&quot;,\n                                Toast.LENGTH_LONG).show();\n                        Log.d(&quot;Retrieve&quot;, e.toString());\n                    }\n                });\n\n            } else {\n                Toast.makeText(getContext(), &quot;Does not exist&quot;\n                        , Toast.LENGTH_LONG).show();\n            }\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":20981838,"reputation":117,"user_id":15416484,"display_name":"Silvia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1653492357,"accepted_answer_id":67752742,"answer_count":1,"score":2,"last_activity_date":1653490486,"creation_date":1622296610,"question_id":67752188,"body_markdown":"Here is my code. I use this array list in my adapater for showing in listview\r\n\r\n     public ArrayList&lt;String&gt; loadFromFirebase() {\r\n            ArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;();\r\n            db.collection(&quot;notite&quot;).whereEqualTo(&quot;User email&quot;, user.getEmail())\r\n                    .get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                    if(task.isSuccessful() &amp;&amp; !task.getResult().isEmpty()) {\r\n                        DocumentSnapshot documentSnapshot = task.getResult().getDocuments().get(0);\r\n                        String documentId = documentSnapshot.getId();\r\n                        db.collection(&quot;notite&quot;).document(documentId).get()\r\n                                .addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\r\n                                    @Override\r\n                                    public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                                        if(documentSnapshot.exists()) {\r\n                                            String notita = documentSnapshot.getString(&quot;Detalii&quot;);\r\n                                            arrayList.add(notita);\r\n                                        } else {\r\n                                            Toast.makeText(getContext(), &quot;Notes does not exist&quot;,\r\n                                                    Toast.LENGTH_LONG).show();\r\n                                        }\r\n                                    }\r\n                                }).addOnFailureListener(new OnFailureListener() {\r\n                            @Override\r\n                            public void onFailure(@NonNull Exception e) {\r\n                                Toast.makeText(getContext(), &quot;Failure retrieving&quot;,\r\n                                        Toast.LENGTH_LONG).show();\r\n                                Log.d(&quot;Retrieve&quot;, e.toString());\r\n                            }\r\n                        });\r\n                    } else {\r\n                        Toast.makeText(getContext(), &quot;Does not exist&quot;\r\n                                , Toast.LENGTH_LONG).show();\r\n                    }\r\n                }\r\n            });\r\n\r\nright here\r\n\r\n            return arrayList;\r\n        }\r\n\r\n Before the return, my arraylist is empty. can you guys help me?","title":"I want to load data from firestore cloud to listview in android studio using java","body":"<p>Here is my code. I use this array list in my adapater for showing in listview</p>\n<pre><code> public ArrayList&lt;String&gt; loadFromFirebase() {\n        ArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;();\n        db.collection(&quot;notite&quot;).whereEqualTo(&quot;User email&quot;, user.getEmail())\n                .get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                if(task.isSuccessful() &amp;&amp; !task.getResult().isEmpty()) {\n                    DocumentSnapshot documentSnapshot = task.getResult().getDocuments().get(0);\n                    String documentId = documentSnapshot.getId();\n                    db.collection(&quot;notite&quot;).document(documentId).get()\n                            .addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\n                                @Override\n                                public void onSuccess(DocumentSnapshot documentSnapshot) {\n                                    if(documentSnapshot.exists()) {\n                                        String notita = documentSnapshot.getString(&quot;Detalii&quot;);\n                                        arrayList.add(notita);\n                                    } else {\n                                        Toast.makeText(getContext(), &quot;Notes does not exist&quot;,\n                                                Toast.LENGTH_LONG).show();\n                                    }\n                                }\n                            }).addOnFailureListener(new OnFailureListener() {\n                        @Override\n                        public void onFailure(@NonNull Exception e) {\n                            Toast.makeText(getContext(), &quot;Failure retrieving&quot;,\n                                    Toast.LENGTH_LONG).show();\n                            Log.d(&quot;Retrieve&quot;, e.toString());\n                        }\n                    });\n                } else {\n                    Toast.makeText(getContext(), &quot;Does not exist&quot;\n                            , Toast.LENGTH_LONG).show();\n                }\n            }\n        });\n</code></pre>\n<p>right here</p>\n<pre><code>        return arrayList;\n    }\n</code></pre>\n<p>Before the return, my arraylist is empty. can you guys help me?</p>\n"},{"tags":["java","eclipse","gradle"],"answers":[{"tags":[],"owner":{"account_id":90755,"reputation":5544,"user_id":249663,"display_name":"Guillaume"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610581309,"creation_date":1610580810,"answer_id":65711338,"question_id":65711292,"body_markdown":"You have a build.gradle file in the lib folder, so it is probably interpreted as a gradle project itself. Maybe your main project has the lib folder registered as a [sub-project][1]? You can check the content of the settings.gradle file.\r\n\r\nThe build.gradle file should probably be in the JUnitTestTutorial folder, next to the settings.gradle. The settings.gradle should not include any project as it IS the project.\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/multi_project_builds.html","title":"Gradle build two projects (project with Name and a project lib)","body":"<p>You have a build.gradle file in the lib folder, so it is probably interpreted as a gradle project itself. Maybe your main project has the lib folder registered as a <a href=\"https://docs.gradle.org/current/userguide/multi_project_builds.html\" rel=\"nofollow noreferrer\">sub-project</a>? You can check the content of the settings.gradle file.</p>\n<p>The build.gradle file should probably be in the JUnitTestTutorial folder, next to the settings.gradle. The settings.gradle should not include any project as it IS the project.</p>\n"},{"tags":[],"owner":{"account_id":9843309,"reputation":1992,"user_id":7291698,"display_name":"user7291698"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1617096859,"creation_date":1617096859,"answer_id":66868317,"question_id":65711292,"body_markdown":"It seems to be a problem with newer Gradle versions, as indicated here: \r\n\r\nhttps://stackoverflow.com/a/66857125\r\n\r\n-&gt; you could try it with gradle version 6.6","title":"Gradle build two projects (project with Name and a project lib)","body":"<p>It seems to be a problem with newer Gradle versions, as indicated here:</p>\n<p><a href=\"https://stackoverflow.com/a/66857125\">https://stackoverflow.com/a/66857125</a></p>\n<p>-&gt; you could try it with gradle version 6.6</p>\n"},{"tags":[],"owner":{"account_id":2205706,"reputation":3110,"user_id":1964277,"accept_rate":65,"display_name":"rupweb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627457783,"creation_date":1627457783,"answer_id":68556230,"question_id":65711292,"body_markdown":"I had to move the `build.gradle` and the `src` folder from `lib` to my project, then delete `lib`. I also removed the `include` for `lib` from `gradle.settings`. Restart Eclipse and it sorted itself out, including dependencies.","title":"Gradle build two projects (project with Name and a project lib)","body":"<p>I had to move the <code>build.gradle</code> and the <code>src</code> folder from <code>lib</code> to my project, then delete <code>lib</code>. I also removed the <code>include</code> for <code>lib</code> from <code>gradle.settings</code>. Restart Eclipse and it sorted itself out, including dependencies.</p>\n"},{"tags":[],"owner":{"account_id":25387335,"reputation":1,"user_id":19198930,"display_name":"Priyadharshini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653490456,"creation_date":1653486598,"answer_id":72378890,"question_id":65711292,"body_markdown":"What I did is I uninstalled Gradle and Eclipse, and I reinstalled the latest Eclipse and Gradle 6.8 and when creating the project, and I gave the `JAVA_HOME` path also.","title":"Gradle build two projects (project with Name and a project lib)","body":"<p>What I did is I uninstalled Gradle and Eclipse, and I reinstalled the latest Eclipse and Gradle 6.8 and when creating the project, and I gave the <code>JAVA_HOME</code> path also.</p>\n"}],"owner":{"account_id":5364671,"reputation":67,"user_id":4275011,"display_name":"WOWBubbi97"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2812,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":66868317,"answer_count":4,"score":5,"last_activity_date":1653490456,"creation_date":1610580519,"question_id":65711292,"body_markdown":"today I have tried to create a Gradle Project in Eclipse. If the build process was finished the result was two seperate folders for no reason. \r\n\r\nGradle build a lib folder and a project folder. (Picture)\r\nI dont find any soultion.\r\nHow can I force Gradle to build all in one like before?`\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/OH49s.png\r\n  [2]: https://i.stack.imgur.com/tCDFg.png","title":"Gradle build two projects (project with Name and a project lib)","body":"<p>today I have tried to create a Gradle Project in Eclipse. If the build process was finished the result was two seperate folders for no reason.</p>\n<p>Gradle build a lib folder and a project folder. (Picture)\nI dont find any soultion.\nHow can I force Gradle to build all in one like before?`</p>\n<p><a href=\"https://i.stack.imgur.com/tCDFg.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tCDFg.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/OH49s.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/OH49s.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"score":1,"creation_date":1541689201,"post_id":53210229,"comment_id":93308643,"body_markdown":"Have you tried find element by xpath `//td[contains(text(), &#39;#1968&#39;)]`?","body":"Have you tried find element by xpath <code>&#47;&#47;td[contains(text(), &#39;#1968&#39;)]</code>?"},{"owner":{"account_id":8348133,"reputation":35,"user_id":6504965,"display_name":"Ritika Arora"},"score":0,"creation_date":1542017524,"post_id":53210229,"comment_id":93404182,"body_markdown":"Hi @raul1ro ,  I get error using the above:\n\nUnable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//td[contains(text(), &#39;#1983&#39;)]&quot;}\n\nHowever, #1983 is there in first row first column itself","body":"Hi @raul1ro ,  I get error using the above:  Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//td[contains(text(), &#39;#1983&#39;)]&quot;}  However, #1983 is there in first row first column itself"},{"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"score":0,"creation_date":1542025239,"post_id":53210229,"comment_id":93408358,"body_markdown":"Can you get us some sample of html with your table table ?","body":"Can you get us some sample of html with your table table ?"},{"owner":{"account_id":8348133,"reputation":35,"user_id":6504965,"display_name":"Ritika Arora"},"score":0,"creation_date":1542117181,"post_id":53210229,"comment_id":93446691,"body_markdown":"Hi @raul1ro , I have edited the question and added the code of table , Thanks","body":"Hi @raul1ro , I have edited the question and added the code of table , Thanks"},{"owner":{"account_id":8348133,"reputation":35,"user_id":6504965,"display_name":"Ritika Arora"},"score":0,"creation_date":1542117905,"post_id":53210229,"comment_id":93447166,"body_markdown":"I have now used xpath(&quot;//td/div/a[contains(text(), OrderId)]&quot; , I think it should work .","body":"I have now used xpath(&quot;//td/div/a[contains(text(), OrderId)]&quot; , I think it should work ."},{"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"score":0,"creation_date":1542195549,"post_id":53210229,"comment_id":93479317,"body_markdown":"You are right. My `xpath` will look for `td` which contains that text and will ignore the text from `childs` of `td`. Your xpath should work. Also you can make it more generic. Like this: `//td[contains(text(), &#39;#1983&#39;) or .//*[contains(text(), &#39;#1983&#39;)]]`. Will look in `td` and in all child of `td`. This xpath will not affect your `java code` even if you change the inner `html` of `td`. P.S.: You forgot to close `&lt;div&gt;` which contains `&lt;a&gt;` with `orderId`.","body":"You are right. My <code>xpath</code> will look for <code>td</code> which contains that text and will ignore the text from <code>childs</code> of <code>td</code>. Your xpath should work. Also you can make it more generic. Like this: <code>&#47;&#47;td[contains(text(), &#39;#1983&#39;) or .&#47;&#47;*[contains(text(), &#39;#1983&#39;)]]</code>. Will look in <code>td</code> and in all child of <code>td</code>. This xpath will not affect your <code>java code</code> even if you change the inner <code>html</code> of <code>td</code>. P.S.: You forgot to close <code>&lt;div&gt;</code> which contains <code>&lt;a&gt;</code> with <code>orderId</code>."}],"answers":[{"tags":[],"owner":{"account_id":5984621,"reputation":534,"user_id":4702515,"display_name":"Ukrainis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541699966,"creation_date":1541699966,"answer_id":53213594,"question_id":53210229,"body_markdown":"In my current project I have application, where are many tables. I usually defining separate columns as \r\n\r\n`List&lt;WebElement&gt; nameColumnList, List&lt;WebElement&gt; statusColumnList`\r\n\r\nThen I am iterating for Name column, searching for row number, which has name, which I need. Then, using this number, I am getting text from Status column and verifying it&#39;s value. This how I am getting all values from table and clicking or validating them.","title":"How to get a cell selected by a specific column value in selenium","body":"<p>In my current project I have application, where are many tables. I usually defining separate columns as </p>\n\n<p><code>List&lt;WebElement&gt; nameColumnList, List&lt;WebElement&gt; statusColumnList</code></p>\n\n<p>Then I am iterating for Name column, searching for row number, which has name, which I need. Then, using this number, I am getting text from Status column and verifying it's value. This how I am getting all values from table and clicking or validating them.</p>\n"},{"tags":[],"owner":{"account_id":13845407,"reputation":140,"user_id":9994669,"display_name":"Mini-Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653490406,"creation_date":1542119435,"answer_id":53283266,"question_id":53210229,"body_markdown":"I don&#39;t know if I understand this correctly, but you want to iterate through the tables Order Id&#39;s and find a specific one. \r\n\r\nHow I would do it is:\r\n\r\n    List&lt;WebElement&gt; orders = this.getDriver().findElements(By.xpath(&quot;/html/body/table/tbody/tr/td[1]/div/a&quot;));\r\n\r\nThat code will retrieve all the elements inside of the first column and add it into the orders list. \r\n\r\nAfter doing that you can have an integer index variable that will track the row number of the specific element, if it exists. \r\n\r\n    int index = 0; \r\n    \r\n    for(WebElement elements: orders){\r\n        index++;\r\n       if(elements.text.equals(&quot;#1968&quot;){\r\n           //Here you can click on the link or do whatever... \r\n    this.getDriver().findElement(By.xpath(&quot;/html/body/table/tbody/tr[index]/td[1]/div/a&quot;)).click();\r\n     }\r\n\r\n    }\r\n\r\nI cant remember the exact syntax for selenium but I know I iterated through a list of elements and clicked on a specific one according to my data set. \r\n\r\nPlease note that sometimes selenium driver returns an error for not finding an element, use\r\n\r\n    WebDriverWait wait = new WebDriverWait(this.getDriver(), 30)\r\n\r\n to expand the duration.\r\n\r\nAnother helpful thing to use is the Action class, so here is the better solution: \r\n\r\n    Action act = new Action(this.getDriver());\r\n    act.click(wait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;someid&quot;))).build().perform();\r\n\r\n \r\n \r\n \r\n\r\n \r\n\r\n\r\n","title":"How to get a cell selected by a specific column value in selenium","body":"<p>I don't know if I understand this correctly, but you want to iterate through the tables Order Id's and find a specific one.</p>\n<p>How I would do it is:</p>\n<pre><code>List&lt;WebElement&gt; orders = this.getDriver().findElements(By.xpath(&quot;/html/body/table/tbody/tr/td[1]/div/a&quot;));\n</code></pre>\n<p>That code will retrieve all the elements inside of the first column and add it into the orders list.</p>\n<p>After doing that you can have an integer index variable that will track the row number of the specific element, if it exists.</p>\n<pre><code>int index = 0; \n\nfor(WebElement elements: orders){\n    index++;\n   if(elements.text.equals(&quot;#1968&quot;){\n       //Here you can click on the link or do whatever... \nthis.getDriver().findElement(By.xpath(&quot;/html/body/table/tbody/tr[index]/td[1]/div/a&quot;)).click();\n }\n\n}\n</code></pre>\n<p>I cant remember the exact syntax for selenium but I know I iterated through a list of elements and clicked on a specific one according to my data set.</p>\n<p>Please note that sometimes selenium driver returns an error for not finding an element, use</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(this.getDriver(), 30)\n</code></pre>\n<p>to expand the duration.</p>\n<p>Another helpful thing to use is the Action class, so here is the better solution:</p>\n<pre><code>Action act = new Action(this.getDriver());\nact.click(wait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;someid&quot;))).build().perform();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15849179,"reputation":1,"user_id":11435506,"display_name":"guest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557314744,"creation_date":1557311441,"answer_id":56038670,"question_id":53210229,"body_markdown":"    // Grab the table \r\n\tWebElement table = driver.findElement(By.xpath(&quot;//*[@id=&#39;content&#39;]/table&quot;)); \r\n\t\r\n    // Now get all the TR elements from the table \r\n\tList&lt;WebElement&gt; allRows = table.findElements(By.tagName(&quot;tr&quot;)); \r\n\r\n    // And iterate over them, getting the cells \r\n    for (WebElement row : allRows) { \r\n\t    List&lt;WebElement&gt; cells = row.findElements(By.tagName(&quot;td&quot;)); \r\n\t\t\t\t    \r\n\t    for (WebElement cell : cells) {\r\n\t\t\t\t    \t\r\n\t\t    if(cell.getText().equals(&quot;2010&quot;)) {\r\n\t            String[] ColData = row.getText().split(&quot; &quot;);\r\n\t\t        // Split the row text to get the mentioned column details\r\n\t\t        System.out.println(ColData[2]);\r\n\t\t        System.out.println(ColData[3]);\r\n\t\t        System.out.println(ColData[4]);\t\t\t\t\r\n\t        }\r\n\t\t    if(cell.getText().equals(&quot;Saudi Arabia&quot;)) {\r\n\t\t\t\t                       \r\n\t\t\t    driver.findElement(By.xpath(&quot;//*[@id=&#39;content&#39;]/table/tbody/tr[2]/td[6]/a&quot;)).click();\r\n\t\t\t                                             \t\t\t\t    \t \r\n            }\r\n\t\t\tSystem.out.println(cell.getText());\r\n\t\t\t\t    \r\n\t\t}\r\n\t}","title":"How to get a cell selected by a specific column value in selenium","body":"<pre><code>// Grab the table \nWebElement table = driver.findElement(By.xpath(\"//*[@id='content']/table\")); \n\n// Now get all the TR elements from the table \nList&lt;WebElement&gt; allRows = table.findElements(By.tagName(\"tr\")); \n\n// And iterate over them, getting the cells \nfor (WebElement row : allRows) { \n    List&lt;WebElement&gt; cells = row.findElements(By.tagName(\"td\")); \n\n    for (WebElement cell : cells) {\n\n        if(cell.getText().equals(\"2010\")) {\n            String[] ColData = row.getText().split(\" \");\n            // Split the row text to get the mentioned column details\n            System.out.println(ColData[2]);\n            System.out.println(ColData[3]);\n            System.out.println(ColData[4]);             \n        }\n        if(cell.getText().equals(\"Saudi Arabia\")) {\n\n            driver.findElement(By.xpath(\"//*[@id='content']/table/tbody/tr[2]/td[6]/a\")).click();\n\n        }\n        System.out.println(cell.getText());\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8348133,"reputation":35,"user_id":6504965,"display_name":"Ritika Arora"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10962,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53283266,"answer_count":3,"score":1,"last_activity_date":1653490406,"creation_date":1541688816,"question_id":53210229,"body_markdown":"I need to select the cell with order id #1968 for a dynamic table. \r\n\r\nI have printed the table using code below , Please suggest how I can get the specific cell with value #1968 selected ? \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    \tWebElement Table_element =commonFunctions.driver.findElement(By.xpath(&quot;//*[@id=&#39;active&#39;]/div/table&quot;));\r\n        \t//To locate rows of table. \r\n        \tList &lt; WebElement &gt; rows_table = Table_element.findElements(By.tagName(&quot;tr&quot;));\r\n        \t//To calculate no of rows In table.\r\n        \tint rows_count = rows_table.size();\r\n        \t//Loop will execute till the last row of table.\r\n        \tfor (int row = 0; row &lt; rows_count; row++) {\r\n        \t    //To locate columns(cells) of that specific row.\r\n        \t    List &lt; WebElement &gt; Columns_row = rows_table.get(row).findElements(By.tagName(&quot;td&quot;));\r\n        \t    //To calculate no of columns (cells). In that specific row.\r\n        \t    int columns_count = Columns_row.size();\r\n        \t    System.out.println(&quot;Number of cells In Row &quot; + row + &quot; are &quot; + columns_count);\r\n        \t    //Loop will execute till the last cell of that specific row.\r\n        \t    for (int column = 0; column &lt; columns_count; column++) {\r\n        \t        // To retrieve text from that specific cell.\r\n        \t    celtext = Columns_row.get(column).getText();\r\n        \t        System.out.println(&quot;Cell Value of row number &quot; + row + &quot; and column number &quot; + column + &quot; Is &quot; + celtext);\r\n        \t   \r\n        \t\t   \r\n        \t    }\r\n        \t}\r\n        \r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n\r\n\r\n&gt; Result of table :  Number of cells In Row 1 are 4 Cell Value of row\r\n&gt; number 1 and column number 0 Is #1975 Cell Value of row number 1 and\r\n&gt; column number 1 Is SERVICE1535721248947 FOR $156 - Edited service Name\r\n&gt; Cell Value of row number 1 and column number 2 Is Delivered Cell Value\r\n&gt; of row number 1 and column number 3 Is Nov 5 Number of cells In Row 2\r\n&gt; are 4 Cell Value of row number 2 and column number 0 Is #1971 Cell\r\n&gt; Value of row number 2 and column number 1 Is service1538918641775 Cell\r\n&gt; Value of row number 2 and column number 2 Is Delivered Cell Value of\r\n&gt; row number 2 and column number 3 Is Oct 18 Number of cells In Row 3\r\n&gt; are 4 Cell Value of row number 3 and column number 0 Is #1969 Cell\r\n&gt; Value of row number 3 and column number 1 Is service1538918641775 Cell\r\n&gt; Value of row number 3 and column number 2 Is Delivered Cell Value of\r\n&gt; row number 3 and column number 3 Is Oct 18 Number of cells In Row 4\r\n&gt; are 4 Cell Value of row number 4 and column number 0 Is #1968 Cell\r\n&gt; Value of row number 4 and column number 1 Is service1538918641775 Cell\r\n&gt; Value of row number 4 and column number 2 Is Delivered Cell Value of\r\n&gt; row number 4 and column number 3 Is Oct 18\r\n\r\nHTML Of the table : \r\n\r\n\r\n    \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n      &lt;table class=&quot;table table-bordered table-hover&quot;&gt;\r\n                                                    &lt;thead&gt;\r\n                                                    &lt;tr&gt;\r\n                                                        &lt;th&gt;Order#&lt;/th&gt;\r\n                                                        &lt;th&gt;Title&lt;/th&gt;\r\n                                                        &lt;th&gt;Status&lt;/th&gt;\r\n                                                        &lt;th&gt;Created&lt;/th&gt;\r\n                                                    &lt;/tr&gt;\r\n                                                    &lt;/thead&gt;\r\n                                                    &lt;tbody&gt;\r\n                                                                                                        &lt;tr class=&quot;entry&quot;&gt;\r\n                                                            &lt;td class=&quot;gig first&quot;&gt;\r\n                                                                &lt;div&gt;&lt;a href=&quot;#&quot;&gt;\r\n                                                                        #1983\r\n                                                                        &lt;/a&gt;\r\n                                                            &lt;/td&gt;\r\n                                                            &lt;td&gt;&lt;a href=&quot;#&quot;&gt;SERVICE1535721248947 FOR $156 - Edited service Name&lt;/a&gt;&lt;/td&gt;\r\n                                                                                                                        &lt;td class=&quot;status delivered&quot; &gt;&lt;span class=&quot;label mt1 order-label-delivered&quot;&gt;Delivered&lt;/span&gt;&lt;/td&gt;\r\n                                                                                                                    &lt;td class=&quot;datetime last&quot;&gt;&lt;div&gt;Nov 11&lt;/div&gt;&lt;/td&gt;\r\n                                                        &lt;/tr&gt;\r\n                                                                                                        &lt;tr class=&quot;entry&quot;&gt;\r\n                                                            &lt;td class=&quot;gig first&quot;&gt;\r\n                                                                &lt;div&gt;&lt;a href=&quot;#&quot;&gt;\r\n                                                                        #1982\r\n                                                                        &lt;/a&gt;\r\n                                                            &lt;/td&gt;\r\n                                                            &lt;td&gt;&lt;a href=&quot;#&quot;&gt;SERVICE1535721248947 FOR $156 - Edited service Name&lt;/a&gt;&lt;/td&gt;\r\n                                                                                                                        &lt;td class=&quot;status delivered&quot;&gt;&lt;span class=&quot;label mt1 order-label-delivered&quot;&gt;Delivered&lt;/span&gt;&lt;/td&gt;\r\n                                                                                                                    &lt;td class=&quot;datetime last&quot;&gt;&lt;div&gt;Nov 11&lt;/div&gt;&lt;/td&gt;\r\n                                                        &lt;/tr&gt;\r\n                                                                                                        \r\n                                                                                                    &lt;/tbody&gt;\r\n                                                &lt;/table&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to get a cell selected by a specific column value in selenium","body":"<p>I need to select the cell with order id #1968 for a dynamic table. </p>\n\n<p>I have printed the table using code below , Please suggest how I can get the specific cell with value #1968 selected ? </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>\tWebElement Table_element =commonFunctions.driver.findElement(By.xpath(\"//*[@id='active']/div/table\"));\r\n    \t//To locate rows of table. \r\n    \tList &lt; WebElement &gt; rows_table = Table_element.findElements(By.tagName(\"tr\"));\r\n    \t//To calculate no of rows In table.\r\n    \tint rows_count = rows_table.size();\r\n    \t//Loop will execute till the last row of table.\r\n    \tfor (int row = 0; row &lt; rows_count; row++) {\r\n    \t    //To locate columns(cells) of that specific row.\r\n    \t    List &lt; WebElement &gt; Columns_row = rows_table.get(row).findElements(By.tagName(\"td\"));\r\n    \t    //To calculate no of columns (cells). In that specific row.\r\n    \t    int columns_count = Columns_row.size();\r\n    \t    System.out.println(\"Number of cells In Row \" + row + \" are \" + columns_count);\r\n    \t    //Loop will execute till the last cell of that specific row.\r\n    \t    for (int column = 0; column &lt; columns_count; column++) {\r\n    \t        // To retrieve text from that specific cell.\r\n    \t    celtext = Columns_row.get(column).getText();\r\n    \t        System.out.println(\"Cell Value of row number \" + row + \" and column number \" + column + \" Is \" + celtext);\r\n    \t   \r\n    \t\t   \r\n    \t    }\r\n    \t}\r\n    </code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<blockquote>\n  <p>Result of table :  Number of cells In Row 1 are 4 Cell Value of row\n  number 1 and column number 0 Is #1975 Cell Value of row number 1 and\n  column number 1 Is SERVICE1535721248947 FOR $156 - Edited service Name\n  Cell Value of row number 1 and column number 2 Is Delivered Cell Value\n  of row number 1 and column number 3 Is Nov 5 Number of cells In Row 2\n  are 4 Cell Value of row number 2 and column number 0 Is #1971 Cell\n  Value of row number 2 and column number 1 Is service1538918641775 Cell\n  Value of row number 2 and column number 2 Is Delivered Cell Value of\n  row number 2 and column number 3 Is Oct 18 Number of cells In Row 3\n  are 4 Cell Value of row number 3 and column number 0 Is #1969 Cell\n  Value of row number 3 and column number 1 Is service1538918641775 Cell\n  Value of row number 3 and column number 2 Is Delivered Cell Value of\n  row number 3 and column number 3 Is Oct 18 Number of cells In Row 4\n  are 4 Cell Value of row number 4 and column number 0 Is #1968 Cell\n  Value of row number 4 and column number 1 Is service1538918641775 Cell\n  Value of row number 4 and column number 2 Is Delivered Cell Value of\n  row number 4 and column number 3 Is Oct 18</p>\n</blockquote>\n\n<p>HTML Of the table : </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>  &lt;table class=\"table table-bordered table-hover\"&gt;\r\n                                                &lt;thead&gt;\r\n                                                &lt;tr&gt;\r\n                                                    &lt;th&gt;Order#&lt;/th&gt;\r\n                                                    &lt;th&gt;Title&lt;/th&gt;\r\n                                                    &lt;th&gt;Status&lt;/th&gt;\r\n                                                    &lt;th&gt;Created&lt;/th&gt;\r\n                                                &lt;/tr&gt;\r\n                                                &lt;/thead&gt;\r\n                                                &lt;tbody&gt;\r\n                                                                                                    &lt;tr class=\"entry\"&gt;\r\n                                                        &lt;td class=\"gig first\"&gt;\r\n                                                            &lt;div&gt;&lt;a href=\"#\"&gt;\r\n                                                                    #1983\r\n                                                                    &lt;/a&gt;\r\n                                                        &lt;/td&gt;\r\n                                                        &lt;td&gt;&lt;a href=\"#\"&gt;SERVICE1535721248947 FOR $156 - Edited service Name&lt;/a&gt;&lt;/td&gt;\r\n                                                                                                                    &lt;td class=\"status delivered\" &gt;&lt;span class=\"label mt1 order-label-delivered\"&gt;Delivered&lt;/span&gt;&lt;/td&gt;\r\n                                                                                                                &lt;td class=\"datetime last\"&gt;&lt;div&gt;Nov 11&lt;/div&gt;&lt;/td&gt;\r\n                                                    &lt;/tr&gt;\r\n                                                                                                    &lt;tr class=\"entry\"&gt;\r\n                                                        &lt;td class=\"gig first\"&gt;\r\n                                                            &lt;div&gt;&lt;a href=\"#\"&gt;\r\n                                                                    #1982\r\n                                                                    &lt;/a&gt;\r\n                                                        &lt;/td&gt;\r\n                                                        &lt;td&gt;&lt;a href=\"#\"&gt;SERVICE1535721248947 FOR $156 - Edited service Name&lt;/a&gt;&lt;/td&gt;\r\n                                                                                                                    &lt;td class=\"status delivered\"&gt;&lt;span class=\"label mt1 order-label-delivered\"&gt;Delivered&lt;/span&gt;&lt;/td&gt;\r\n                                                                                                                &lt;td class=\"datetime last\"&gt;&lt;div&gt;Nov 11&lt;/div&gt;&lt;/td&gt;\r\n                                                    &lt;/tr&gt;\r\n                                                                                                    \r\n                                                                                                &lt;/tbody&gt;\r\n                                            &lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","jwt"],"answers":[{"tags":[],"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653490295,"creation_date":1653489938,"answer_id":72379778,"question_id":72376633,"body_markdown":"&gt; How can i set this kind of payload structure?\r\n&gt; \r\n&gt;     {\r\n&gt;       &quot;https://daml.com/ledger-api&quot;: {\r\n&gt;         &quot;ledgerId&quot;: &quot;sandbox&quot;,\r\n&gt;         &quot;applicationId&quot;: &quot;foobar&quot;,\r\n&gt;         &quot;actAs&quot;: [&quot;Alice&quot;]    \r\n&gt;       }\r\n&gt;     }\r\n\r\nYou can easily achive the above payload structure by modifying your code as describe below. \r\n\r\n    void getJWT() throws UnsupportedEncodingException {\r\n    \tMap&lt;String, String&gt; claims = new HashMap&lt;String, String&gt;();\r\n    \tclaims.put(&quot;ledgerId&quot;, &quot;sandbox&quot;);\r\n    \tclaims.put(&quot;applicationId&quot;, &quot;foobar&quot;);\r\n    \tclaims.put(&quot;actAs&quot;, &quot;[Alice]&quot;);\r\n    \r\n    \tMap&lt;String, Object&gt; claimsMap = new HashMap&lt;String, Object&gt;();\r\n    \tclaimsMap.put(&quot;https://daml.com/ledger-api&quot;, claims);\r\n    \r\n    \tString jwtToken = Jwts.builder()\r\n    \t\t\t.setClaims(claimsMap)\r\n    \t\t\t.signWith(SignatureAlgorithm.HS256, &quot;sYn2kjibddFAWtnPJ2AFlL8WXmohJMCvigQggaEypa5E=&quot;.getBytes(&quot;UTF-8&quot;))\r\n    \t\t\t.setHeaderParam(&quot;typ&quot;, Header.JWT_TYPE)\r\n    \t\t\t.compact();\r\n    \r\n    \tSystem.out.println(&quot;The generated jwt token is as follows:&quot; + jwtToken);\r\n    }\r\n\r\n","title":"Payload JWT structure","body":"<blockquote>\n<p>How can i set this kind of payload structure?</p>\n<pre><code>{\n  &quot;https://daml.com/ledger-api&quot;: {\n    &quot;ledgerId&quot;: &quot;sandbox&quot;,\n    &quot;applicationId&quot;: &quot;foobar&quot;,\n    &quot;actAs&quot;: [&quot;Alice&quot;]    \n  }\n}\n</code></pre>\n</blockquote>\n<p>You can easily achive the above payload structure by modifying your code as describe below.</p>\n<pre><code>void getJWT() throws UnsupportedEncodingException {\n    Map&lt;String, String&gt; claims = new HashMap&lt;String, String&gt;();\n    claims.put(&quot;ledgerId&quot;, &quot;sandbox&quot;);\n    claims.put(&quot;applicationId&quot;, &quot;foobar&quot;);\n    claims.put(&quot;actAs&quot;, &quot;[Alice]&quot;);\n\n    Map&lt;String, Object&gt; claimsMap = new HashMap&lt;String, Object&gt;();\n    claimsMap.put(&quot;https://daml.com/ledger-api&quot;, claims);\n\n    String jwtToken = Jwts.builder()\n            .setClaims(claimsMap)\n            .signWith(SignatureAlgorithm.HS256, &quot;sYn2kjibddFAWtnPJ2AFlL8WXmohJMCvigQggaEypa5E=&quot;.getBytes(&quot;UTF-8&quot;))\n            .setHeaderParam(&quot;typ&quot;, Header.JWT_TYPE)\n            .compact();\n\n    System.out.println(&quot;The generated jwt token is as follows:&quot; + jwtToken);\n}\n</code></pre>\n"}],"owner":{"account_id":24873892,"reputation":3,"user_id":18748055,"display_name":"Bernardo Lopes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72379778,"answer_count":1,"score":0,"last_activity_date":1653490295,"creation_date":1653477436,"question_id":72376633,"body_markdown":"I am trying to set up my JWT token but it has a different payload structure as usual,\r\nHow can i set this kind of payload structure?\r\n\r\n\r\n    {\r\n      &quot;https://daml.com/ledger-api&quot;: {\r\n        &quot;ledgerId&quot;: &quot;sandbox&quot;,\r\n        &quot;applicationId&quot;: &quot;foobar&quot;,\r\n        &quot;actAs&quot;: [&quot;Alice&quot;]    \r\n      }\r\n    }\r\n\r\ni can only set up something like this:\r\n\r\n    {           \r\n     &quot;sub&quot;: &quot;https://daml.com/ledger-api&quot;,\r\n     &quot;ledgerId&quot;: &quot;sandbox&quot;,\r\n     &quot;applicationId&quot;: &quot;foobar&quot;,\r\n     &quot;actAs&quot;: &quot;[Alice]&quot;\r\n    }\r\n\r\n\r\nMy java code:\r\n    \r\n\r\n    void getJWT() throws UnsupportedEncodingException {\r\n                     \r\n        Claims claims = Jwts.claims().setSubject(&quot;https://daml.com/ledger-api&quot;);\r\n        claims.put(&quot;ledgerId&quot;,&quot;sandbox&quot;);\r\n        claims.put(&quot;applicationId&quot;, &quot;foobar&quot;);\r\n        claims.put(&quot;actAs&quot;, &quot;[Alice]&quot;);\r\n        String jwtToken = Jwts.builder()\r\n                .setClaims(claims)\r\n                .signWith(SignatureAlgorithm.HS256, &quot;sYn2kjibddFAWtnPJ2AFlL8WXmohJMCvigQggaEypa5E=&quot;.getBytes(&quot;UTF-8&quot;))\r\n                .setHeaderParam(&quot;typ&quot;, Header.JWT_TYPE)\r\n                .compact();\r\n        System.out.println(&quot;The generated jwt token is as follows:&quot; + jwtToken);\r\n    }\r\n","title":"Payload JWT structure","body":"<p>I am trying to set up my JWT token but it has a different payload structure as usual,\nHow can i set this kind of payload structure?</p>\n<pre><code>{\n  &quot;https://daml.com/ledger-api&quot;: {\n    &quot;ledgerId&quot;: &quot;sandbox&quot;,\n    &quot;applicationId&quot;: &quot;foobar&quot;,\n    &quot;actAs&quot;: [&quot;Alice&quot;]    \n  }\n}\n</code></pre>\n<p>i can only set up something like this:</p>\n<pre><code>{           \n &quot;sub&quot;: &quot;https://daml.com/ledger-api&quot;,\n &quot;ledgerId&quot;: &quot;sandbox&quot;,\n &quot;applicationId&quot;: &quot;foobar&quot;,\n &quot;actAs&quot;: &quot;[Alice]&quot;\n}\n</code></pre>\n<p>My java code:</p>\n<pre><code>void getJWT() throws UnsupportedEncodingException {\n                 \n    Claims claims = Jwts.claims().setSubject(&quot;https://daml.com/ledger-api&quot;);\n    claims.put(&quot;ledgerId&quot;,&quot;sandbox&quot;);\n    claims.put(&quot;applicationId&quot;, &quot;foobar&quot;);\n    claims.put(&quot;actAs&quot;, &quot;[Alice]&quot;);\n    String jwtToken = Jwts.builder()\n            .setClaims(claims)\n            .signWith(SignatureAlgorithm.HS256, &quot;sYn2kjibddFAWtnPJ2AFlL8WXmohJMCvigQggaEypa5E=&quot;.getBytes(&quot;UTF-8&quot;))\n            .setHeaderParam(&quot;typ&quot;, Header.JWT_TYPE)\n            .compact();\n    System.out.println(&quot;The generated jwt token is as follows:&quot; + jwtToken);\n}\n</code></pre>\n"},{"tags":["java","android","hashmap"],"comments":[{"owner":{"account_id":7916222,"reputation":303,"user_id":5978561,"display_name":"Jake Henry"},"score":2,"creation_date":1653487209,"post_id":72378971,"comment_id":127864731,"body_markdown":"Looks like what you really have is a Map of Maps. Id try changing \nnew TypeToken&lt;HashMap&lt;String, Object&gt;&gt;() \nto \nnew TypeToken&lt;HashMap&lt;String, HashMap&lt;String,String&gt;&gt;().\n\nThen,\nhashMap.get(&quot;2&quot;).get(&quot;3 darts hint&quot;);","body":"Looks like what you really have is a Map of Maps. Id try changing  new TypeToken&lt;HashMap&lt;String, Object&gt;&gt;()  to  new TypeToken&lt;HashMap&lt;String, HashMap&lt;String,String&gt;&gt;().  Then, hashMap.get(&quot;2&quot;).get(&quot;3 darts hint&quot;);"},{"owner":{"account_id":19793044,"reputation":117,"user_id":14495624,"display_name":"Blaupunkt"},"score":0,"creation_date":1653487660,"post_id":72378971,"comment_id":127864927,"body_markdown":"Great, that works! Thank you!\nEdit: you forgot 1 &gt;, it has to be &gt;&gt;&gt; at the end.","body":"Great, that works! Thank you! Edit: you forgot 1 &gt;, it has to be &gt;&gt;&gt; at the end."},{"owner":{"account_id":7916222,"reputation":303,"user_id":5978561,"display_name":"Jake Henry"},"score":0,"creation_date":1653488183,"post_id":72378971,"comment_id":127865144,"body_markdown":"Ah my mistake. Copy and paste negligence ;)","body":"Ah my mistake. Copy and paste negligence ;)"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1653489252,"post_id":72378971,"comment_id":127865669,"body_markdown":"There is no need to muck around with a buffer. You can do `StringWriter sw = new StringWriter(); new InputStreamReader(is, StandardCharsets.UTF_8).transferTo(sw); json = sw.toString();`","body":"There is no need to muck around with a buffer. You can do <code>StringWriter sw = new StringWriter(); new InputStreamReader(is, StandardCharsets.UTF_8).transferTo(sw); json = sw.toString();</code>"},{"owner":{"account_id":19793044,"reputation":117,"user_id":14495624,"display_name":"Blaupunkt"},"score":0,"creation_date":1653491066,"post_id":72378971,"comment_id":127866546,"body_markdown":"@DavidConrad I need something compatible for API 16 and ```StandardCharsets.UTF``` requires API 19.","body":"@DavidConrad I need something compatible for API 16 and <code>StandardCharsets.UTF</code> requires API 19."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1653510496,"post_id":72378971,"comment_id":127873372,"body_markdown":"@Blaupunkt Well, then, you&#39;ll have to keep using `&quot;UTF-8&quot;` and deal with the potential exception. That&#39;s unfortunate.","body":"@Blaupunkt Well, then, you&#39;ll have to keep using <code>&quot;UTF-8&quot;</code> and deal with the potential exception. That&#39;s unfortunate."},{"owner":{"account_id":19793044,"reputation":117,"user_id":14495624,"display_name":"Blaupunkt"},"score":0,"creation_date":1653572324,"post_id":72378971,"comment_id":127887742,"body_markdown":"@DavidConrad In which case would I get an exception?","body":"@DavidConrad In which case would I get an exception?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1653573574,"post_id":72378971,"comment_id":127888228,"body_markdown":"@Blaupunkt You would never get an exception for &quot;UTF-8&quot; since it&#39;s one of the charsets that is guaranteed to come with Java, but when you use the overloads that take strings to specify the character set, they have to take into account that an unknown charset might be specified so they are declared as `throws UnsupportedEncodingException`.","body":"@Blaupunkt You would never get an exception for &quot;UTF-8&quot; since it&#39;s one of the charsets that is guaranteed to come with Java, but when you use the overloads that take strings to specify the character set, they have to take into account that an unknown charset might be specified so they are declared as <code>throws UnsupportedEncodingException</code>."}],"owner":{"account_id":19793044,"reputation":117,"user_id":14495624,"display_name":"Blaupunkt"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653489636,"creation_date":1653486873,"question_id":72378971,"body_markdown":"I have a .json file in my assets directory that looks like that:\r\n\r\n```\r\n{\r\n   &quot;2&quot;: {\r\n      &quot;3 darts hint&quot;: &quot;D1&quot;,\r\n      &quot;2 darts hint&quot;: &quot;D1&quot;,\r\n      &quot;1 dart hint&quot;: &quot;D1&quot;\r\n   },\r\n   &quot;3&quot;: {\r\n      &quot;3 darts hint&quot;: &quot;1 D1&quot;,\r\n      &quot;2 darts hint&quot;: &quot;1 D1&quot;,\r\n      &quot;1 dart hint&quot;: &quot;&quot;\r\n   },\r\n   &quot;4&quot;: {\r\n      &quot;3 darts hint&quot;: &quot;D2&quot;,\r\n      &quot;2 darts hint&quot;: &quot;D2&quot;,\r\n      &quot;1 dart hint&quot;: &quot;D2&quot;\r\n   },\r\n   &quot;5&quot;: {\r\n      &quot;3 darts hint&quot;: &quot;1 D2&quot;,\r\n      &quot;2 darts hint&quot;: &quot;1 D2&quot;,\r\n      &quot;1 dart hint&quot;: &quot;&quot;\r\n   },\r\n   &quot;6&quot;: {\r\n      &quot;3 darts hint&quot;: &quot;D3&quot;,\r\n      &quot;2 darts hint&quot;: &quot;D3&quot;,\r\n      &quot;1 dart hint&quot;: &quot;D3&quot;\r\n   },\r\n   &quot;7&quot;: {\r\n      &quot;3 darts hint&quot;: &quot;3 D2&quot;,\r\n      &quot;2 darts hint&quot;: &quot;3 D2&quot;,\r\n      &quot;1 dart hint&quot;: &quot;&quot;\r\n   }\r\n   [...]\r\n}\r\n```\r\n\r\nThen I want to create a HashMap from it, which I do with the following code:\r\n\r\n```\r\nprivate HashMap&lt;String, Object&gt; hashMap;\r\n\r\nString json = null;\r\ntry {\r\n\tInputStream is = null;\r\n\r\n\tswitch (getMatch().getCheckOutType()) {\r\n\t\tcase &quot;Straight Out&quot;:\r\n\t\t\tis = getAssets().open(&quot;single_check_outs.json&quot;);\r\n\t\t\tbreak;\r\n\t\tcase &quot;Double Out&quot;:\r\n\t\t\tis = getAssets().open(&quot;double_check_outs.json&quot;);\r\n\t\t\tbreak;\r\n\t\tcase &quot;Triple Out&quot;:\r\n\t\t\tis = getAssets().open(&quot;triple_check_outs.json&quot;);\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tint size = is.available();\r\n\tbyte[] buffer = new byte[size];\r\n\tis.read(buffer);\r\n\tis.close();\r\n\tjson = new String(buffer, &quot;UTF-8&quot;);\r\n\r\n\thashMap = new Gson().fromJson(json, new TypeToken&lt;HashMap&lt;String, Object&gt;&gt;() {}.getType());\r\n} catch (IOException ex) {\r\n\tex.printStackTrace();\r\n}\r\n```\r\n\r\nI have to admit, I don&#39;t fully understand that code snippet and found parts of it online.\r\n\r\nI know that I can do things like ```System.out.printIn(hashMap.keySet())``` or ```System.out.printIn(hashMap.values())``` but still I don&#39;t understand how to get a specific value even though I&#39;ve been reading through multiple topics here.\r\n\r\nIf I wanted to get the &quot;3 darts hint&quot; value (&quot;D1&quot;) from the key &quot;2&quot;, how would I do that?\r\nIs my HashMap&lt;String, Object&gt; formatted correctly to be able to do that?","title":"How do I format my HashMap and access specific elements?","body":"<p>I have a .json file in my assets directory that looks like that:</p>\n<pre><code>{\n   &quot;2&quot;: {\n      &quot;3 darts hint&quot;: &quot;D1&quot;,\n      &quot;2 darts hint&quot;: &quot;D1&quot;,\n      &quot;1 dart hint&quot;: &quot;D1&quot;\n   },\n   &quot;3&quot;: {\n      &quot;3 darts hint&quot;: &quot;1 D1&quot;,\n      &quot;2 darts hint&quot;: &quot;1 D1&quot;,\n      &quot;1 dart hint&quot;: &quot;&quot;\n   },\n   &quot;4&quot;: {\n      &quot;3 darts hint&quot;: &quot;D2&quot;,\n      &quot;2 darts hint&quot;: &quot;D2&quot;,\n      &quot;1 dart hint&quot;: &quot;D2&quot;\n   },\n   &quot;5&quot;: {\n      &quot;3 darts hint&quot;: &quot;1 D2&quot;,\n      &quot;2 darts hint&quot;: &quot;1 D2&quot;,\n      &quot;1 dart hint&quot;: &quot;&quot;\n   },\n   &quot;6&quot;: {\n      &quot;3 darts hint&quot;: &quot;D3&quot;,\n      &quot;2 darts hint&quot;: &quot;D3&quot;,\n      &quot;1 dart hint&quot;: &quot;D3&quot;\n   },\n   &quot;7&quot;: {\n      &quot;3 darts hint&quot;: &quot;3 D2&quot;,\n      &quot;2 darts hint&quot;: &quot;3 D2&quot;,\n      &quot;1 dart hint&quot;: &quot;&quot;\n   }\n   [...]\n}\n</code></pre>\n<p>Then I want to create a HashMap from it, which I do with the following code:</p>\n<pre><code>private HashMap&lt;String, Object&gt; hashMap;\n\nString json = null;\ntry {\n    InputStream is = null;\n\n    switch (getMatch().getCheckOutType()) {\n        case &quot;Straight Out&quot;:\n            is = getAssets().open(&quot;single_check_outs.json&quot;);\n            break;\n        case &quot;Double Out&quot;:\n            is = getAssets().open(&quot;double_check_outs.json&quot;);\n            break;\n        case &quot;Triple Out&quot;:\n            is = getAssets().open(&quot;triple_check_outs.json&quot;);\n            break;\n    }\n\n    int size = is.available();\n    byte[] buffer = new byte[size];\n    is.read(buffer);\n    is.close();\n    json = new String(buffer, &quot;UTF-8&quot;);\n\n    hashMap = new Gson().fromJson(json, new TypeToken&lt;HashMap&lt;String, Object&gt;&gt;() {}.getType());\n} catch (IOException ex) {\n    ex.printStackTrace();\n}\n</code></pre>\n<p>I have to admit, I don't fully understand that code snippet and found parts of it online.</p>\n<p>I know that I can do things like <code>System.out.printIn(hashMap.keySet())</code> or <code>System.out.printIn(hashMap.values())</code> but still I don't understand how to get a specific value even though I've been reading through multiple topics here.</p>\n<p>If I wanted to get the &quot;3 darts hint&quot; value (&quot;D1&quot;) from the key &quot;2&quot;, how would I do that?\nIs my HashMap&lt;String, Object&gt; formatted correctly to be able to do that?</p>\n"},{"tags":["java","json","playframework","jackson","backend"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1653129082,"post_id":72278282,"comment_id":127779118,"body_markdown":"Does it work if you save the JSON to a file with [`writeValue()`](https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html#writeValue(java.io.File,%20java.lang.Object)), or do you still get memory issues?","body":"Does it work if you save the JSON to a file with <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html#writeValue(java.io.File,%20java.lang.Object)\" rel=\"nofollow noreferrer\"><code>writeValue()</code></a>, or do you still get memory issues?"},{"owner":{"account_id":1598494,"reputation":5037,"user_id":1480052,"accept_rate":72,"display_name":"praxmon"},"score":0,"creation_date":1653343313,"post_id":72278282,"comment_id":127824694,"body_markdown":"I have not tried that, not sure if that is supposed to work that way though.","body":"I have not tried that, not sure if that is supposed to work that way though."},{"owner":{"account_id":1598494,"reputation":5037,"user_id":1480052,"accept_rate":72,"display_name":"praxmon"},"score":0,"creation_date":1653346811,"post_id":72278282,"comment_id":127825309,"body_markdown":"What I mean is, my datasource is a db, I do not want the overhead of reading data from db, writing to a file, and then reading the data from that file.","body":"What I mean is, my datasource is a db, I do not want the overhead of reading data from db, writing to a file, and then reading the data from that file."}],"answers":[{"tags":[],"owner":{"account_id":25374072,"reputation":60,"user_id":19187445,"display_name":"Gannebal Barka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653489293,"creation_date":1653489293,"answer_id":72379621,"question_id":72278282,"body_markdown":"By my opinion you must implement stream code design f.e.:  \r\n - function `populateMapWithData()` must return stream of data, one returned element - one json node (or array of nodes, i think werry little nodes can made you response very slow)\r\n - function `populateMapWithData()` must get data from database by piece (when stream will try get next part of data), for save you memory\r\n - for result you must use `Chunked responses` because you don&#39;t know real size of content, more details in [PlayFramwork Doc](https://www.playframework.com/documentation/2.8.x/ScalaStream#Chunked-responses) same link that in you question\r\n - in client side you can read every chunk or chunks array, because this approved of json specification  \r\n\r\nI lets tried make different design sample:  \r\n\r\n```lang-java\r\nResults.ok().chunked( //chunked result\r\n   Source.fromPublisher(s -&gt; // publisher read all data by chunks\r\n      mapper.valueToTree(populateEntryWithData(s))));\r\n\r\nObject populateEntryWithData(Subscriber&lt;? super T&gt; s) {\r\n   //todo implement page reading for data\r\n   //todo or you can try use reactive driver for database\r\n}\r\n```\r\n\r\n**ATTENTION**  \r\nIn play framework for working with json usually will be better use `play.libs.Json` or inject `ObjectMapper` or inject `ObjectMapperBuilder`.  \r\nIf you need add more configuration for object mapper you can call `mapper.copy()`, else you can corrupt another internal mapping function in service\r\n","title":"Play framework: JsonNode streaming/chunking","body":"<p>By my opinion you must implement stream code design f.e.:</p>\n<ul>\n<li>function <code>populateMapWithData()</code> must return stream of data, one returned element - one json node (or array of nodes, i think werry little nodes can made you response very slow)</li>\n<li>function <code>populateMapWithData()</code> must get data from database by piece (when stream will try get next part of data), for save you memory</li>\n<li>for result you must use <code>Chunked responses</code> because you don't know real size of content, more details in <a href=\"https://www.playframework.com/documentation/2.8.x/ScalaStream#Chunked-responses\" rel=\"nofollow noreferrer\">PlayFramwork Doc</a> same link that in you question</li>\n<li>in client side you can read every chunk or chunks array, because this approved of json specification</li>\n</ul>\n<p>I lets tried make different design sample:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Results.ok().chunked( //chunked result\n   Source.fromPublisher(s -&gt; // publisher read all data by chunks\n      mapper.valueToTree(populateEntryWithData(s))));\n\nObject populateEntryWithData(Subscriber&lt;? super T&gt; s) {\n   //todo implement page reading for data\n   //todo or you can try use reactive driver for database\n}\n</code></pre>\n<p><strong>ATTENTION</strong><br />\nIn play framework for working with json usually will be better use <code>play.libs.Json</code> or inject <code>ObjectMapper</code> or inject <code>ObjectMapperBuilder</code>.<br />\nIf you need add more configuration for object mapper you can call <code>mapper.copy()</code>, else you can corrupt another internal mapping function in service</p>\n"}],"owner":{"account_id":1598494,"reputation":5037,"user_id":1480052,"accept_rate":72,"display_name":"praxmon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653489293,"creation_date":1652808162,"question_id":72278282,"body_markdown":"I have a large map that I want to return to the frontend. Originally I was converting the map to a jackson json node and returning the map back to the user with the return ok() method that play provides. \r\n\r\nOriginal code:\r\n\r\n    public Result returnResponse() {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        Map&lt;String, Object&gt; returnMap = populateMapWithData();\r\n        JsonNode response = mapper.valueToTree(returnMap);\r\n        return ok(response);\r\n    }\r\n\r\nSince the map can be really large, I am running into memory issues.\r\n\r\nOn looking at the play framework documentation, there are two ways to return large data to the frontend. If the size is known I can stream the data back to the user. If the size is not known, I can provide the data in chunks.\r\n\r\nPlay Framework documentation: https://www.playframework.com/documentation/2.8.x/JavaStream\r\n\r\nFor streaming:\r\n\r\n    public Result index() {\r\n      java.io.File file = new java.io.File(&quot;/tmp/fileToServe.pdf&quot;);\r\n      java.nio.file.Path path = file.toPath();\r\n      Source&lt;ByteString, ?&gt; source = FileIO.fromPath(path);\r\n    \r\n      Optional&lt;Long&gt; contentLength = null;\r\n      try {\r\n        contentLength = Optional.of(Files.size(path));\r\n      } catch (IOException ioe) {\r\n        throw new RuntimeException(ioe);\r\n      }\r\n    \r\n      return new Result(\r\n          new ResponseHeader(200, Collections.emptyMap()),\r\n          new HttpEntity.Streamed(source, contentLength, Optional.of(&quot;text/plain&quot;)));\r\n    }\r\n\r\nFor chunking:\r\n\r\n    public Result index() {\r\n      // Prepare a chunked text stream\r\n      Source&lt;ByteString, ?&gt; source =\r\n          Source.&lt;ByteString&gt;actorRef(256, OverflowStrategy.dropNew())\r\n              .mapMaterializedValue(\r\n                  sourceActor -&gt; {\r\n                    sourceActor.tell(ByteString.fromString(&quot;kiki&quot;), null);\r\n                    sourceActor.tell(ByteString.fromString(&quot;foo&quot;), null);\r\n                    sourceActor.tell(ByteString.fromString(&quot;bar&quot;), null);\r\n                    sourceActor.tell(new Status.Success(NotUsed.getInstance()), null);\r\n                    return NotUsed.getInstance();\r\n                  });\r\n      // Serves this stream with 200 OK\r\n      return ok().chunked(source);\r\n    }\r\n\r\nMy questions are:\r\n\r\n 1. How do I get the same result for a Jackson json node?\r\n 2. Is there another way to approach large dataset issues with the play framework?|\r\n 3. Do we have other play framework documentation for JSON streaming?","title":"Play framework: JsonNode streaming/chunking","body":"<p>I have a large map that I want to return to the frontend. Originally I was converting the map to a jackson json node and returning the map back to the user with the return ok() method that play provides.</p>\n<p>Original code:</p>\n<pre><code>public Result returnResponse() {\n    ObjectMapper mapper = new ObjectMapper();\n    Map&lt;String, Object&gt; returnMap = populateMapWithData();\n    JsonNode response = mapper.valueToTree(returnMap);\n    return ok(response);\n}\n</code></pre>\n<p>Since the map can be really large, I am running into memory issues.</p>\n<p>On looking at the play framework documentation, there are two ways to return large data to the frontend. If the size is known I can stream the data back to the user. If the size is not known, I can provide the data in chunks.</p>\n<p>Play Framework documentation: <a href=\"https://www.playframework.com/documentation/2.8.x/JavaStream\" rel=\"nofollow noreferrer\">https://www.playframework.com/documentation/2.8.x/JavaStream</a></p>\n<p>For streaming:</p>\n<pre><code>public Result index() {\n  java.io.File file = new java.io.File(&quot;/tmp/fileToServe.pdf&quot;);\n  java.nio.file.Path path = file.toPath();\n  Source&lt;ByteString, ?&gt; source = FileIO.fromPath(path);\n\n  Optional&lt;Long&gt; contentLength = null;\n  try {\n    contentLength = Optional.of(Files.size(path));\n  } catch (IOException ioe) {\n    throw new RuntimeException(ioe);\n  }\n\n  return new Result(\n      new ResponseHeader(200, Collections.emptyMap()),\n      new HttpEntity.Streamed(source, contentLength, Optional.of(&quot;text/plain&quot;)));\n}\n</code></pre>\n<p>For chunking:</p>\n<pre><code>public Result index() {\n  // Prepare a chunked text stream\n  Source&lt;ByteString, ?&gt; source =\n      Source.&lt;ByteString&gt;actorRef(256, OverflowStrategy.dropNew())\n          .mapMaterializedValue(\n              sourceActor -&gt; {\n                sourceActor.tell(ByteString.fromString(&quot;kiki&quot;), null);\n                sourceActor.tell(ByteString.fromString(&quot;foo&quot;), null);\n                sourceActor.tell(ByteString.fromString(&quot;bar&quot;), null);\n                sourceActor.tell(new Status.Success(NotUsed.getInstance()), null);\n                return NotUsed.getInstance();\n              });\n  // Serves this stream with 200 OK\n  return ok().chunked(source);\n}\n</code></pre>\n<p>My questions are:</p>\n<ol>\n<li>How do I get the same result for a Jackson json node?</li>\n<li>Is there another way to approach large dataset issues with the play framework?|</li>\n<li>Do we have other play framework documentation for JSON streaming?</li>\n</ol>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8676,"page":1316,"page_size":100}
